From jagoncal at gmail.com  Sun Jun  1 19:43:53 2008
From: jagoncal at gmail.com (=?ISO-8859-1?Q?Jose_Gon=E7alves?=)
Date: Mon, 2 Jun 2008 03:43:53 +0100
Subject: [Proj] Problem overlaying georeferenced images in Google,
	Maps(projection problem!)
In-Reply-To: <483FE114.1070902@gmail.com>
References: <483FE114.1070902@gmail.com>
Message-ID: <6a91fcb00806011943x40a6db6cuf46e47f4f6edb99c@mail.gmail.com>

I think your problem is the incorrect georeferencing of your initial image.
I downloaded it from your site:

http://www.nebulared.com/tmp_geo/UTM_ED50_Balearic_Island.png

loaded it in ArcGIS, gave it coordinate system UTM-30N-ED50 and overlaid
boundaries. It becomes obvious that the image is not correctly
geo-referenced and it seems that the coordinates in the world file are of
the bottom left corner and not top left as it should be.
See the attached jpeg image with printscreens (original and after shifting).

Regards

Jose' Gonçalves



2008/5/30 Jorge <jorge.arevalo at gmail.com>:

> Now, the results in Google Earth:
>
> The image before reproyecting (UTM zone 30 datum ED50)
> http://www.nebulared.com/tmp_geo/Balearic_Island_UTM_ED50.png
>
> The image reproyected
> http://www.nebulared.com/tmp_geo/Balearic_Island_Reprojected.png
>
> What's the problem?:
> - The input image's projection really isn't UTM ED50 (Mapinfo lies??), or
> is bad georeferenced (low probability...)
> - The output image's projection really isn't GMaps projection (assuming
> GMaps projection = GEarth projection)
> - GMaps projection not equal GEarth projection (I think so...)
> - Any other?
>
> The line executed:
> gdalwarp        -s_srs "+init=epsg:23030 +towgs84=-84,-107,-120,0,0,0,0"
>      -t_srs "+init=epsg:3785 +towgs84=0,0,0,0,0,0,0"        -tr 250 250
>    -co INTERLEAVE=PIXEL        Balearic_Island_UTM_ED50.png
>        Balearic_Island_Reprojected.png
>
> The epsg codes:
> Input code (23030):
> # ED50 / UTM zone 30N
> <23030> +proj=utm +zone=30 +ellps=intl +units=m +no_defs  <>
>
>
> Output code (3785):
> # Spherical/Web Mercator
> <3785> +proj=merc +lat_ts=0.0 +lon_0=0.0 +k=1.0 +x_0=0.0 +y_0=0.0
> +a=6378137.0 +b=6378137.0 +units=m +nadgrids=@null +no_defs <>
>
>
> Sorry for the insistence, and thanks a lot
> Jorge
>
> Jorge wrote:
>
>> The EPSG code 3785 is a custom one, but the same of 900913 (I didn't know
>> it thanks), except for the "+wktext" term. What does it mean?
>>
>> OK, I'm lost with this issue. Could my calcs be wrong? I have, for
>> example, this image:
>> http://www.nebulared.com/tmp_geo/UTM_ED50_Balearic_Island.png
>>
>> And is georeferenced by this world file:
>> http://www.nebulared.com/tmp_geo/UTM_ED50_Balearic_Island.wld
>>
>> The image is obtained for a MIF/MID couple of files with UTM projection,
>> zone 30, ED50 datum (Mapinfo said... I don't know what are the dX, dY, dZ
>> parameters, buth they must be -84, -107, -120). Really, the raster file
>> obtained from MIF/MID files isn't a
>> PNG file, but I did the transform to "see" what I was doing.
>>
>> OK, I need to reproject the image, and the output image must be used to
>> overlay it in a GMaps' frame. This is my last attempt:
>>
>> gdalwarp        -s_srs "+init=epsg:23030 +towgs84=-84,-107,-120,0,0,0,0"
>>      -t_srs "+init=epsg:3785 +towgs84=0,0,0,0,0,0,0"        -tr 250 250
>>    -co INTERLEAVE=PIXEL        UTM_ED50_Balearic_Island.png
>>        GMaps_Balearic_Island.tif
>>
>> Then, I transform the TIFF file in a PNG (transformation OK) and I have
>> this image:
>> http://www.nebulared.com/tmp_geo/GMaps_Balearic_Island.png
>>
>> But the image doesn't fit exactly in the map... Is there any error in this
>> reprojection? If the projection is OK, I need to review
>> the rest of the code...
>>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080602/4a49c655/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: before_and_after.jpg
Type: image/jpeg
Size: 16588 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080602/4a49c655/attachment.jpg>

From jorge.arevalo at gmail.com  Mon Jun  2 01:23:39 2008
From: jorge.arevalo at gmail.com (Jorge)
Date: Mon, 02 Jun 2008 10:23:39 +0200
Subject: [Proj] Problem overlaying georeferenced images in Google,
	Maps(projection problem!)
Message-ID: <4843AE0B.5080200@gmail.com>

Hi everybody

To Janne and Cliff:

> Hmmm....
>
> are you sure the "gdalwarp" you are using uses the latest proj-4 libraries?
> Are you sure all programs are doing what thye should? If so, it is maybe the
> input data (assumptions) then?
The gdal tools and the proj.4 libs are the last version, yes. And I'm using them in the way the instructions say, I think. But is
obvious that I have a mistake. Maybe there is an error converting the MIF/MID files in a raster file, but the process is so
simple... I will review it, anyway.


> More ideas...
> 
> The huge north shift, which is visible in your pictures,  is usually due
> to the conversion between spherical and elliptical. There is a way to
> go around that, but how it should be done in your case.... ???

> I believe the easiest solution to that would be to correct that north shift by utilizing Rectifying Latitude for the 
> International ellipsoid at the center of the area.  Don't know if that's in the PROJ4 Toolkit, though ...

Mmm... thanks for the clue! Then, I should do this for every province's files (52, exactly), but maybe the shift isn't the same 
in all... I'm going to see the rest

To Jose:
http://lists.maptools.org/pipermail/proj/attachments/20080602/4a49c655/before_and_after-0001.jpg

The "before" shift isn't the same as mine, but this is VERY interesting... What projection is "before" and what is "after", What 
are the input data? How did you do??

Thanks a lot!

 



 



From mkennedy2 at earthlink.net  Mon Jun  2 17:41:27 2008
From: mkennedy2 at earthlink.net (Melita Kennedy)
Date: Mon, 2 Jun 2008 17:41:27 -0700 (GMT-07:00)
Subject: [Proj] Re: Problem overlaying georeferenced images in Google,
 Maps(projection problem!)
Message-ID: <7265374.1212453687869.JavaMail.root@elwamui-ovcar.atl.sa.earthlink.net>



-----Original Message-----

>Date: Mon, 02 Jun 2008 10:23:39 +0200
>From: Jorge <jorge.arevalo at gmail.com>
>Subject: [Proj] Problem overlaying georeferenced images in Google,
>	Maps(projection problem!)
>To: proj at lists.maptools.org, support.mn at elisanet.fi, cjmce at lsu.edu,
>	jagoncal at gmail.com
>
>Hi everybody
>
>To Janne and Cliff:
>
>> Hmmm....
>>
>> are you sure the "gdalwarp" you are using uses the latest proj-4 libraries?
>> Are you sure all programs are doing what thye should? If so, it is maybe the
>> input data (assumptions) then?
>The gdal tools and the proj.4 libs are the last version, yes. And I'm using them in the way the instructions say, I think. But is
>obvious that I have a mistake. Maybe there is an error converting the MIF/MID files in a raster file, but the process is so
>simple... I will review it, anyway.
>
>
>> More ideas...
>> 
>> The huge north shift, which is visible in your pictures,  is usually due
>> to the conversion between spherical and elliptical. There is a way to
>> go around that, but how it should be done in your case.... ???
>
>> I believe the easiest solution to that would be to correct that north shift by utilizing Rectifying Latitude for the 
>> International ellipsoid at the center of the area.  Don't know if that's in the PROJ4 Toolkit, though ...
>
>Mmm... thanks for the clue! Then, I should do this for every province's files (52, exactly), but maybe the shift isn't the same 
>in all... I'm going to see the rest
>
>To Jose:
>http://lists.maptools.org/pipermail/proj/attachments/20080602/4a49c655/before_and_after-0001.jpg
>
>The "before" shift isn't the same as mine, but this is VERY interesting... What projection is "before" and what is "after", What 
>are the input data? How did you do??
>
>Thanks a lot!

The Mercator-based coordinate system used by Google Maps can be thought of in 
two ways. 

1) It uses a sphere with radius=6378137.0 m. Sent to Mercator, hopefully, the 
code is smart enough to use the spherical equations.
2) It uses WGS84 with spherical Mercator equations. 

No ellipsoid-to-sphere conversion should take place. Data that's really on WGS84 
is assumed to be on the major auxiliary sphere (R=6378137.0m) and just projected 
using the spherical math. This means that you can't create a custom 3 or 7 
parameter datum transformation to convert directly to the sphere (because the 
latitude values are converted to the sphere).

So you might try transforming your data from ED50 (or other datum) to WSG84 
first. Then project those coords to the Google Mercator.

Melita
ESRI, Inc.




From dcthomp at sandia.gov  Tue Jun  3 00:19:37 2008
From: dcthomp at sandia.gov (Thompson, David C)
Date: Tue, 3 Jun 2008 01:19:37 -0600
Subject: [Proj] Patch for warnings and perhaps a bug
Message-ID: <1C9079C90336A64BBF5612428BC98E1F21161B045C@ES04SNLNT.srn.sandia.gov>

Hi,

I've made some changes to PROJ.4 to get it compiling without
any warnings even setting CFLAGS="-W -Wall". I attached a
patch, but the list server wouldn't let it through. If anyone
is interested, perhaps I can break it into a couple of smaller
messages.

Most of the changes are straightforward, a few are tedious, and
one of the warnings appears to actually point to a bug. Specifically,
in src/PJ_imw_p.c it looks like the argument "double* yc" is
shadowed by a local variable below and thus never used. The patch
includes what I believe to be a fix, but it would be nice if someone
reviewed it.

The only other real problem I had was with the declaration and
initialization of "static char EMESS_H_ID[]" inside src/emess.h.
Since this header file is included multiple times it results in
EMESS_H_ID being instantiated in multiple object files. I removed
the variable since it doesn't appear to be used.

I also have some changes so that PROJ.4 can be configured with
CMake (www.cmake.org) instead of autoconf. CMake will generate
Makefiles, Xcode projects, or MSVC files. I don't have all the features
currently in the autoconf version but the basic library compiles
properly on several platforms. If anyone is interested, please let me
know.

    David




From dcthomp at sandia.gov  Tue Jun  3 09:12:28 2008
From: dcthomp at sandia.gov (Thompson, David C)
Date: Tue, 3 Jun 2008 10:12:28 -0600
Subject: [Proj] Patch for warnings and perhaps a bug
In-Reply-To: <48451947.6090502@o2.pl>
References: <1C9079C90336A64BBF5612428BC98E1F21161B045C@ES04SNLNT.srn.sandia.gov>,
	<48451947.6090502@o2.pl>
Message-ID: <1C9079C90336A64BBF5612428BC98E1F21161B045E@ES04SNLNT.srn.sandia.gov>

Done. Issue #4.

    David
________________________________________
From: Maciej Sieczka [tutey at o2.pl]
Sent: Tuesday, June 03, 2008 03:13
To: Thompson, David C
Subject: Re: [Proj] Patch for warnings and perhaps a bug

David,

Nice stuff. I suggest that you put your enhacements in the PROJ.4 Trac
http://trac.osgeo.org/proj. They will not get fogotten that easily there.

Maciek

--
Maciej Sieczka
www.sieczka.org






From jorge.arevalo at gmail.com  Wed Jun  4 06:00:40 2008
From: jorge.arevalo at gmail.com (Jorge)
Date: Wed, 04 Jun 2008 15:00:40 +0200
Subject: [Proj] Re: Problem overlaying georeferenced images in Google,
	Maps(projection problem!)
Message-ID: <484691F8.5060504@gmail.com>

> The Mercator-based coordinate system used by Google Maps can be thought of in 
> two ways. 
> 
> 1) It uses a sphere with radius=6378137.0 m. Sent to Mercator, hopefully, the 
> code is smart enough to use the spherical equations.
> 2) It uses WGS84 with spherical Mercator equations. 
> 
> No ellipsoid-to-sphere conversion should take place. Data that's really on WGS84 
> is assumed to be on the major auxiliary sphere (R=6378137.0m) and just projected 
> using the spherical math. This means that you can't create a custom 3 or 7 
> parameter datum transformation to convert directly to the sphere (because the 
> latitude values are converted to the sphere).
>
> So you might try transforming your data from ED50 (or other datum) to WSG84 
> first. Then project those coords to the Google Mercator.
>
> Melita
> ESRI, Inc.

Hi Melita

If I understand you, I must transform my MIF/MID files (UTM projection, ED50 datum) in a couple of MIF/MID files but with datum
WGS84 (maybe using Mapinfo) and then, create the raster file based on these new MIF/MID files

The problem is that, in the MIF/MID files, I have rectangles of 250x250m, and if I change the data from ED50 to WGS84, the
rectangles overlap, as you can see in this screenshots:

http://www.nebulared.com/tmp_geo/MIF_file_UTM_ED50_mapped_in_mapinfo.png
http://www.nebulared.com/tmp_geo/MIF_file_UTM_WGS84_mapped_in_mapinfo.png

So, create a raster based on this data is difficult, because I can't sample with the freq needed (one sample each 250 meters)
without distortion. Do you think so?

Mmmm... but I think that the solution is in this way: transform the input data from ED50 datum to WGS84 datum, and then, reproject
to mercator...

Thanks a lot!




From jorge.arevalo at gmail.com  Wed Jun  4 06:15:31 2008
From: jorge.arevalo at gmail.com (Jorge)
Date: Wed, 04 Jun 2008 15:15:31 +0200
Subject: [Fwd: [Proj] Re: Problem overlaying georeferenced images in Google,
	Maps(projection problem!)]
Message-ID: <48469573.9010609@gmail.com>

 > The Mercator-based coordinate system used by Google Maps can be 
thought of in

> two ways. 
> 
> 1) It uses a sphere with radius=6378137.0 m. Sent to Mercator, hopefully, the 
> code is smart enough to use the spherical equations.
> 2) It uses WGS84 with spherical Mercator equations. 
> 
> No ellipsoid-to-sphere conversion should take place. Data that's really on WGS84 
> is assumed to be on the major auxiliary sphere (R=6378137.0m) and just projected 
> using the spherical math. This means that you can't create a custom 3 or 7 
> parameter datum transformation to convert directly to the sphere (because the 
> latitude values are converted to the sphere).
>
> So you might try transforming your data from ED50 (or other datum) to WSG84 
> first. Then project those coords to the Google Mercator.
>
> Melita
> ESRI, Inc.

I forget it...

Really, what I put over the GMaps' frame isn't an only image. Really, I put many images of 100x100 pixels
(based on the raster) together. And after putting them, I "move" to avoid the overlap, as you can see
in this screenshot

http://www.nebulared.com/tmp_geo/Balearic_Island_with_overlap.png

I thought that I could avoid the overlap by reprojecting the raster, obtained from a MIF/MID files with UTM
projection and ED50 datum, of course, but I'm not sure now...

Anyway, thanks a lot everyone!






From jeremyb at rental-data.com  Wed Jun  4 15:03:07 2008
From: jeremyb at rental-data.com (Jeremy B)
Date: Wed, 4 Jun 2008 15:03:07 -0700
Subject: [Proj] installing proj
Message-ID: <20080604180441.GA42013@mail19f.g19.rapidsite.net>

Okay this is a very basic question I imagine.
 
I want to install Proj on my Linux machine.
 
I unzipped/untarred the tarball to /usr/local/src/proj-4.6.0.
I then ran 
 
    configure
    make
    make install
 
as it says in the docs (then updated PATH appropriately) but when i run proj
from the command line I get the following:
 
$ proj
proj: error while loading shared libraries: libproj.so.0: cannot open shared
object file: No such file or directory
 
I must be doing something obviously wrong but i dont' know what it is.  Can
anybody help me?
 
Thanks
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080604/a253d507/attachment.html>

From landa.martin at gmail.com  Wed Jun  4 15:22:55 2008
From: landa.martin at gmail.com (Martin Landa)
Date: Thu, 5 Jun 2008 00:22:55 +0200
Subject: [Proj] installing proj
In-Reply-To: <20080604180441.GA42013@mail19f.g19.rapidsite.net>
References: <20080604180441.GA42013@mail19f.g19.rapidsite.net>
Message-ID: <f8fe65c40806041522s25d1dd44te222e8cd64530d09@mail.gmail.com>

Hi.

2008/6/5 Jeremy B <jeremyb at rental-data.com>:
>     configure

'prefix' is by default set up to /usr/local

see

./configure --help

> $ proj
> proj: error while loading shared libraries: libproj.so.0: cannot open shared
> object file: No such file or directory

so libproj.so.0 should be located in /usr/local/lib

so, add (if not present)

/usr/local/lib

to

/etc/ld.so.conf

and run

 ldconfig

(as root)

Martin

-- 
Martin Landa <landa.martin gmail.com> * http://gama.fsv.cvut.cz/~landa *


From p.galbraith at globetrotter.net  Wed Jun  4 18:30:10 2008
From: p.galbraith at globetrotter.net (Peter Galbraith)
Date: Wed, 04 Jun 2008 21:30:10 -0400
Subject: [Proj] installing proj
In-Reply-To: Message from Jeremy B <jeremyb@rental-data.com>
	"of Wed, 04 Jun 2008 15:03:07 PDT."
	<20080604180441.GA42013@mail19f.g19.rapidsite.net>
References: <20080604180441.GA42013@mail19f.g19.rapidsite.net>
Message-ID: <4260.1212629410@mixed.dyndns.org>

Jeremy B <jeremyb at rental-data.com> wrote:

> Okay this is a very basic question I imagine.
>  
> I want to install Proj on my Linux machine.

Alternatively, perhaps it exists in a packaged form for your Linux
distrubution?

Peter


From roger at opq.se  Wed Jun  4 23:05:43 2008
From: roger at opq.se (Roger Oberholtzer)
Date: Thu, 05 Jun 2008 08:05:43 +0200
Subject: [Proj] installing proj
In-Reply-To: <20080604180441.GA42013@mail19f.g19.rapidsite.net>
References: <20080604180441.GA42013@mail19f.g19.rapidsite.net>
Message-ID: <1212645944.3959.2.camel@acme.pacific>

On Wed, 2008-06-04 at 15:03 -0700, Jeremy B wrote:
> Okay this is a very basic question I imagine.
>  
> I want to install Proj on my Linux machine.

Which Linux distribution?

-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Kapellgränd 7
P.O. Box 4205
SE-102 65 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From jorge.arevalo at gmail.com  Thu Jun  5 04:04:24 2008
From: jorge.arevalo at gmail.com (Jorge)
Date: Thu, 05 Jun 2008 13:04:24 +0200
Subject: [Proj] installing proj
Message-ID: <4847C838.90307@gmail.com>

> Okay this is a very basic question I imagine.
>  
> I want to install Proj on my Linux machine.
>  
> I unzipped/untarred the tarball to /usr/local/src/proj-4.6.0.
> I then ran 
> 
>    configure
>    make
>    make install
> 
> as it says in the docs (then updated PATH appropriately) but when i run proj
> from the command line I get the following:
> 
> $ proj
> proj: error while loading shared libraries: libproj.so.0: cannot open shared
> object file: No such file or directory
>  
> I must be doing something obviously wrong but i dont' know what it is.  Can
> anybody help me?
>  
> Thanks

Hi Jeremy.

The Martin's explanation is all you need. But you also can do:

export LD_LIBRARY_PATH=<path_to_the_dir_that_contains_libproj.so>

You have to do this every time that your machine starts, unless you add this line to your .bashrc file.


Jorge



From roger at opq.se  Thu Jun  5 07:41:22 2008
From: roger at opq.se (Roger Oberholtzer)
Date: Thu, 05 Jun 2008 16:41:22 +0200
Subject: [Proj] installing proj
In-Reply-To: <4847C838.90307@gmail.com>
References: <4847C838.90307@gmail.com>
Message-ID: <1212676884.3959.18.camel@acme.pacific>

On Thu, 2008-06-05 at 13:04 +0200, Jorge wrote:
> > Okay this is a very basic question I imagine.
> >  
> > I want to install Proj on my Linux machine.
> >  
> > I unzipped/untarred the tarball to /usr/local/src/proj-4.6.0.
> > I then ran 
> > 
> >    configure
> >    make
> >    make install
> > 
> > as it says in the docs (then updated PATH appropriately) but when i run proj
> > from the command line I get the following:
> > 
> > $ proj
> > proj: error while loading shared libraries: libproj.so.0: cannot open shared
> > object file: No such file or directory
> >  
> > I must be doing something obviously wrong but i dont' know what it is.  Can
> > anybody help me?
> >  
> > Thanks
> 
> Hi Jeremy.
> 
> The Martin's explanation is all you need. But you also can do:
> 
> export LD_LIBRARY_PATH=<path_to_the_dir_that_contains_libproj.so>

Better yet:

export LD_LIBRARY_PATH=<path_to_libproj.so_dir>:$LD_LIBRARY_PATH


> 
> You have to do this every time that your machine starts, unless you add this line to your .bashrc file.
> 
> 
> Jorge
> 
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
-- 
Roger Oberholtzer

OPQ Systems / Ramböll RST

Ramböll Sverige AB
Kapellgränd 7
P.O. Box 4205
SE-102 65 Stockholm, Sweden

Office: Int +46 8-615 60 20
Mobile: Int +46 70-815 1696



From theconor at yahoo.com  Thu Jun  5 11:09:03 2008
From: theconor at yahoo.com (Conor O'Donoghue)
Date: Thu, 5 Jun 2008 11:09:03 -0700 (PDT)
Subject: [Proj] FWTools and Proj: Installation
Message-ID: <66668.69482.qm@web31802.mail.mud.yahoo.com>

I am new to FWTools and Proj

I installed the windows version of FWTools 2.0.6 but it does not appear to be working.

Can someone tell me what command to use in order to check correct installation.
Thanks
Conor

PS: Is there such a thing as a beginner, non-programmer tutorial or equivalent?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080605/c6ff3aca/attachment.html>

From warmerdam at pobox.com  Thu Jun  5 11:41:12 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 05 Jun 2008 14:41:12 -0400
Subject: [Proj] FWTools and Proj: Installation
In-Reply-To: <66668.69482.qm@web31802.mail.mud.yahoo.com>
References: <66668.69482.qm@web31802.mail.mud.yahoo.com>
Message-ID: <48483348.5090805@pobox.com>

Conor O'Donoghue wrote:
> I am new to FWTools and Proj
> 
> I installed the windows version of FWTools 2.0.6 but it does not appear 
> to be working.
> 
> Can someone tell me what command to use in order to check correct 
> installation.
> Thanks
> Conor
> 
> PS: Is there such a thing as a beginner, non-programmer tutorial or 
> equivalent?

Conor,

Generally speaking you are best off reviewing the user docs for the
component packages to learn more about using FWTools.  How did you
determine it is not working?  You mentioned PROJ in the subject line.
It would normally be used by opening the FWTools shell and then
issuing a command like:

   cs2cs +proj=utm +zone=11 +datum=WGS84 +to +proj=latlong +datum=WGS84

and then entering x/y coordinates like:

250000 1300000

and you should get back a long/lat location like:

119d17'38.017"W 11d45'2.313"N 0.000

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From glynn at gclements.plus.com  Thu Jun  5 13:19:47 2008
From: glynn at gclements.plus.com (Glynn Clements)
Date: Thu, 5 Jun 2008 21:19:47 +0100
Subject: [Proj] installing proj
In-Reply-To: <1212676884.3959.18.camel@acme.pacific>
References: <4847C838.90307@gmail.com> <1212676884.3959.18.camel@acme.pacific>
Message-ID: <18504.19043.70277.829721@cerise.gclements.plus.com>


Roger Oberholtzer wrote:

> > > I want to install Proj on my Linux machine.

> > > but when i run proj
> > > from the command line I get the following:
> > > 
> > > $ proj
> > > proj: error while loading shared libraries: libproj.so.0: cannot open shared
> > > object file: No such file or directory

> > export LD_LIBRARY_PATH=<path_to_the_dir_that_contains_libproj.so>
> 
> Better yet:
> 
> export LD_LIBRARY_PATH=<path_to_libproj.so_dir>:$LD_LIBRARY_PATH

Alternatively, add the directory to /etc/ld.so.conf, then run
ldconfig.

In general, ld.so.conf is preferable for making libraries "globally"
available, as:

1. It is more efficient. Any directories in $LD_LIBRARY_PATH are
checked every time an executable is run. If you have many such
directories, or those directories contain many files, this can result
in a performance hit.

2. When running any setuid or setgid executable, the loader removes
any LD_LIBRARY_PATH setting for security reasons. This may prevent
e.g. running a PROJ-based program in a separate xterm if xterm is
setuid/setgid.

One reason to use LD_LIBRARY_PATH is if you don't want to (or cannot)
make libraries available "globally", e.g. if you don't have root
privilege, or if you want to use an "unstable" version of a library
for a particular purpose but leave the rest of the system using a more
stable version.

Another reason is if you only need to make the libraries available in
a specific context. E.g. GRASS' startup script uses LD_LIBRARY_PATH to
make the GRASS libraries available during a GRASS session. As the
libraries rely upon some settings which won't normally be available,
they aren't much use outside of a GRASS session. But using
LD_LIBRARY_PATH meanst that we have to jump through some hoops so that
spawning programs in a separate xterm works when xterm is
setuid/setgid.

-- 
Glynn Clements <glynn at gclements.plus.com>


From mohammadraza at fastmail.fm  Thu Jun  5 14:41:07 2008
From: mohammadraza at fastmail.fm (Mohammad Raza)
Date: Thu, 05 Jun 2008 16:41:07 -0500
Subject: [Proj] Gettings GDAL to locate Proj.dll
Message-ID: <1212702067.16796.1257004561@webmail.messagingengine.com>

Hi,

 I've got an application that uses gdal and proj, now once I copy the 
gdal.dll and the application.exe to a new folder, the application runs
but 
doesn't give the outputs that require proj.dll ( in other words, It
fails to 
find proj.dll). Is there any way to make gdal.dll locate proj.dll when
the
gdal.dll and the application.exe is copied to a different folder, the
application
works without falling over.

The reason why I am looking for a work around to this problem is that I
have 
got other programs that use the dlls that application.exe uses, and
those 
programs are installed in different folders and they can't find proj.dll
and 
therefore do not output the stuff that requires proj.dll

-Raza 
-- 
  Mohammad Raza
  mohammadraza at fastmail.fm

-- 
http://www.fastmail.fm - Access your email from home and the web



From hamish_b at yahoo.com  Thu Jun  5 17:32:44 2008
From: hamish_b at yahoo.com (Hamish)
Date: Thu, 5 Jun 2008 17:32:44 -0700 (PDT)
Subject: [Proj] FWTools and Proj: Installation
In-Reply-To: <66668.69482.qm@web31802.mail.mud.yahoo.com>
Message-ID: <935957.97978.qm@web45801.mail.sp1.yahoo.com>

Conor O'Donoghue wrote:
> I am new to FWTools and Proj
> 
> I installed the windows version of FWTools 2.0.6 but it
> does not appear to be working.
> 
> Can someone tell me what command to use in order to check
> correct installation.


look in the FWTools dir, there is a .bat file there called setup fw vars or something like that. In the terminal run that before trying to use the tools. Or edit whatever autoexec.bat is these days to have that happen each time you start up.


Hamish




Hamish



      



From theconor at yahoo.com  Thu Jun  5 22:51:42 2008
From: theconor at yahoo.com (Conor O'Donoghue)
Date: Thu, 5 Jun 2008 22:51:42 -0700 (PDT)
Subject: [Proj] FWTools and Proj: Installation
Message-ID: <547269.30732.qm@web31802.mail.mud.yahoo.com>

Hamish and Frank, 
I have another question.... but first, thanks for the input. By following both instructions i did get the correct result.

I only need FWTools to convert from one projection to another from the command line, usually starting with a GeoTiff in Geographic projection.

Could you give me one example (so I can see the syntax) using  source.tif (geographic projection GeoTIFF) for input and creating an output GeoTIFF named destination.tif in Mercator projection.

Thanks again
Conor


----- Original Message ----
From: Hamish <hamish_b at yahoo.com>
To: proj at lists.maptools.org
Sent: Thursday, June 5, 2008 5:32:44 PM
Subject: Re: [Proj] FWTools and Proj: Installation

Conor O'Donoghue wrote:
> I am new to FWTools and Proj
> 
> I installed the windows version of FWTools 2.0.6 but it
> does not appear to be working.
> 
> Can someone tell me what command to use in order to check
> correct installation.


look in the FWTools dir, there is a .bat file there called setup fw vars or something like that. In the terminal run that before trying to use the tools. Or edit whatever autoexec.bat is these days to have that happen each time you start up.


Hamish




Hamish



      

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080605/d715db3d/attachment.html>

From warmerdam at pobox.com  Thu Jun  5 23:08:09 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 06 Jun 2008 02:08:09 -0400
Subject: [Proj] FWTools and Proj: Installation
In-Reply-To: <547269.30732.qm@web31802.mail.mud.yahoo.com>
References: <547269.30732.qm@web31802.mail.mud.yahoo.com>
Message-ID: <4848D449.7090100@pobox.com>

Conor O'Donoghue wrote:
> Hamish and Frank,
> I have another question.... but first, thanks for the input. By 
> following both instructions i did get the correct result.
> 
> I only need FWTools to convert from one projection to another from the 
> command line, usually starting with a GeoTiff in Geographic projection.
> 
> Could you give me one example (so I can see the syntax) using  
> source.tif (geographic projection GeoTIFF) for input and creating an 
> output GeoTIFF named destination.tif in Mercator projection.

Conor,

Perhaps something like:

   gdalwarp -t_srs '+proj=merc +datum=WGS84' source.tif destination.tif

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From theconor at yahoo.com  Fri Jun  6 10:24:12 2008
From: theconor at yahoo.com (Conor O'Donoghue)
Date: Fri, 6 Jun 2008 10:24:12 -0700 (PDT)
Subject: [Proj] FWTools and Proj: Installation
Message-ID: <851200.36578.qm@web31815.mail.mud.yahoo.com>

Hello Frank,
The example you gave me is just what i had in mind.

I typed (cut-paste) your example exactly but still got an error.... as follows

ERROR 1: Translating source or target SRS failed:
'+proj=merc

NOTE: I used a GeoTIFF 3600 x 1800 pixels as the source file, located in the FWTools2.0.6 folder. 
I also ran the command with the source being a TIFF (not GeoTiff) and also without LZW compression. The exact same error resulted for each.

Could you suggest the likely reason for the error.

Thanks
Conor


----- Original Message ----
From: Frank Warmerdam <warmerdam at pobox.com>
To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
Sent: Thursday, June 5, 2008 11:08:09 PM
Subject: Re: [Proj] FWTools and Proj: Installation

Conor O'Donoghue wrote:
> Hamish and Frank,
> I have another question.... but first, thanks for the input. By 
> following both instructions i did get the correct result.
> 
> I only need FWTools to convert from one projection to another from the 
> command line, usually starting with a GeoTiff in Geographic projection.
> 
> Could you give me one example (so I can see the syntax) using  
> source.tif (geographic projection GeoTIFF) for input and creating an 
> output GeoTIFF named destination.tif in Mercator projection.

Conor,

Perhaps something like:

   gdalwarp -t_srs '+proj=merc +datum=WGS84' source.tif destination.tif

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080606/97068154/attachment.html>

From paul-grass at stjohnspoint.co.uk  Fri Jun  6 10:44:30 2008
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Fri, 6 Jun 2008 18:44:30 +0100 (BST)
Subject: [Proj] FWTools and Proj: Installation
In-Reply-To: <851200.36578.qm@web31815.mail.mud.yahoo.com>
References: <851200.36578.qm@web31815.mail.mud.yahoo.com>
Message-ID: <Pine.LNX.4.62.0806061843500.13809@vortex.ukshells.co.uk>

On Fri, 6 Jun 2008, Conor O'Donoghue wrote:

> Hello Frank,
> The example you gave me is just what i had in mind.
>
> I typed (cut-paste) your example exactly but still got an error.... as follows
>
> ERROR 1: Translating source or target SRS failed:
> '+proj=merc

Might be that the 'single quote' characters don't work on Windows and you 
need to use "double quotes".

Paul


From geraldi.evenden at gmail.com  Sat Jun  7 13:37:32 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 7 Jun 2008 16:37:32 -0400
Subject: [Proj] libproj4 update
Message-ID: <200806071637.32489.geraldi.evenden@gmail.com>

Libproj4 home web site:

http://members.verizon.net/~gerald.evenden/proj4/

has a new release of the libproj4 libary: new20080604.tar.bz2.

Besides a few corrections the principle item of note are the inclusion of two 
wide-latitude versions of Transverse Mercator: ftmerc and etmerc.  Their 
latitude range extends well beyond the range of tmerc and, except for some 
cases, to and beyond 90 degrees.

etmerc is based upon code by K. Engsager, K. Poder and the kind assistance of 
Thomas Knudsen.

After installation time trials were made along with accuracy tests where tmerc 
excelled in all tests within UTM ranges. For speed:

tmerc: 0.562 usec./forward projection
etmerc: 1.449 usec./forward projection
ftmerc: 2.906 usec./forward projection

Timing was based upon 10,000,000 operations for each trial on a
Intel(R) Pentium(R) 4 CPU 3.00GHz.

tmerc obviously remains the version of choice for UTM because of proven 
accuracy over the legal range of UTM as well as performance speed.

I will add some comments on accuracy on later emails.

Note: there is another version, stmerc, in the library but accuracy does not 
appear to be a strong point.

As always please email me about any portability and other performance 
problems.  Bitches will be ignored and kudos will be welcomed.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From jorge.arevalo at gmail.com  Tue Jun 10 07:33:41 2008
From: jorge.arevalo at gmail.com (Jorge)
Date: Tue, 10 Jun 2008 16:33:41 +0200
Subject: [[Proj] Re: Problem overlaying georeferenced images in Google,
	Maps(projection problem!)]
Message-ID: <484E90C5.90802@gmail.com>

OK, I have my problem explained in two images:

http://www.phpmadrid.com/geo/Balearic_Island_fits_but_overlaps.png
http://www.phpmadrid.com/geo/Balearic_Island_doesnt_overlap_but_doesnt_fit.png

I've added a dotted black line to frame each PNG file. In the first 
link, the PNG files overlap, but they fit! I think it's normal, because 
if I have rectangles in UTM, all together, these rectangles can't be 
together in geodetic coords (distinct projection). So, if I move the 
rectangles to be all together in Google Maps, they don't fit into the 
province' shape.

What does I have to do with the PNG files if I want that they are 
together and fit into the province' shape?

Thanks a lot
Jorge


From ckirchho at directmedia.de  Tue Jun 10 07:40:04 2008
From: ckirchho at directmedia.de (Christian Kirchhoff)
Date: Tue, 10 Jun 2008 16:40:04 +0200
Subject: [[Proj] Re: Problem overlaying georeferenced images in Google,
	Maps(projection problem!)]
In-Reply-To: <484E90C5.90802@gmail.com>
References: <484E90C5.90802@gmail.com>
Message-ID: <484E9244.8020002@directmedia.de>

Dann wäre der Dienstag gut (da habe ich ja meistens nichts vor). Wenn 
ich dann vielleicht etwas später dazu stoßen darf...

Viele Grüße,

Christian
*Directmedia Publishing GmbH* · Möckernstraße 68 · 10965 Berlin
www.digitale-bibliothek.de
AG Berlin-Charlottenburg · HR B 58002 · USt.Id. DE173211737
Geschäftsführer: Ralf Szymanski · Erwin Jurschitza


Jorge schrieb:
> OK, I have my problem explained in two images:
>
> http://www.phpmadrid.com/geo/Balearic_Island_fits_but_overlaps.png
> http://www.phpmadrid.com/geo/Balearic_Island_doesnt_overlap_but_doesnt_fit.png 
>
>
> I've added a dotted black line to frame each PNG file. In the first 
> link, the PNG files overlap, but they fit! I think it's normal, 
> because if I have rectangles in UTM, all together, these rectangles 
> can't be together in geodetic coords (distinct projection). So, if I 
> move the rectangles to be all together in Google Maps, they don't fit 
> into the province' shape.
>
> What does I have to do with the PNG files if I want that they are 
> together and fit into the province' shape?
>
> Thanks a lot
> Jorge
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080610/e79a0259/attachment.html>

From jorge.arevalo at gmail.com  Tue Jun 10 09:04:10 2008
From: jorge.arevalo at gmail.com (Jorge)
Date: Tue, 10 Jun 2008 18:04:10 +0200
Subject: [[Proj] Re: Problem overlaying georeferenced images in Google,
	Maps(projection problem!)]
References: 484E90C5.90802@gmail.com
Message-ID: <484EA5FA.9010005@gmail.com>

Sorry, but I don't understand... I don't speak German. Could you write it in english?

Thank you very much
Jorge

> Dann wäre der Dienstag gut (da habe ich ja meistens nichts vor). Wenn 
> ich dann vielleicht etwas später dazu stoßen darf...
> 
> Viele Grüße,
> 
> Christian
> *Directmedia Publishing GmbH* · Möckernstraße 68 · 10965 Berlin
> www.digitale-bibliothek.de
> AG Berlin-Charlottenburg · HR B 58002 · USt.Id. DE173211737
> Geschäftsführer: Ralf Szymanski · Erwin Jurschitza



From webtmc at telusplanet.net  Tue Jun 10 15:26:55 2008
From: webtmc at telusplanet.net (peter)
Date: Tue, 10 Jun 2008 16:26:55 -0600
Subject: [[Proj] Re: Problem overlaying georeferenced images in Google,
	Maps(projection problem!)]
In-Reply-To: <484EA5FA.9010005@gmail.com>
References: <484EA5FA.9010005@gmail.com>
Message-ID: <200806101626.55701.webtmc@telusplanet.net>

On Tuesday 10 June 2008, Jorge wrote:
> Sorry, but I don't understand... I don't speak German. Could you write it
> in english?

Google language tools is your friend:
http://www.google.ca/language_tools?hl=en

"Then Tuesday would be good (I've often nothing). When I then maybe something 
can come later ...

Many greetings,"


It's not perfect, but close enough (I think).


-- 
Peter Pankonin, digitalcrucible

There are 10 kinds of people in the world,
those who understand binary, and those who don't.


From theconor at yahoo.com  Tue Jun 10 21:54:29 2008
From: theconor at yahoo.com (Conor O'Donoghue)
Date: Tue, 10 Jun 2008 21:54:29 -0700 (PDT)
Subject: [Proj] FWTools and Proj: Installation
Message-ID: <634589.85425.qm@web31806.mail.mud.yahoo.com>

Thanks Paul, (Frank and Hamish also)

Your suggestion seems to work well.

Conor


----- Original Message ----
From: Paul Kelly <paul-grass at stjohnspoint.co.uk>
To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
Sent: Friday, June 6, 2008 10:44:30 AM
Subject: Re: [Proj] FWTools and Proj: Installation

On Fri, 6 Jun 2008, Conor O'Donoghue wrote:

> Hello Frank,
> The example you gave me is just what i had in mind.
>
> I typed (cut-paste) your example exactly but still got an error.... as follows
>
> ERROR 1: Translating source or target SRS failed:
> '+proj=merc

Might be that the 'single quote' characters don't work on Windows and you 
need to use "double quotes".

Paul
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080610/03924d9c/attachment.html>

From support.mn at elisanet.fi  Wed Jun 11 05:30:24 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Wed, 11 Jun 2008 15:30:24 +0300 (EEST)
Subject: [[Proj] Re: Problem overlaying georeferenced images in Google,
	Maps(projection problem!)]
Message-ID: <8422480.3271213187424157.JavaMail.support.mn@elisanet.fi>

> What does I have to do with the PNG files if I want that they are together
and fit into the province' shape?

Usually you do what ever to fit the shape, if you are sure that the reference shape
is the correct one. Nobody cares about the map borders. It is more important
to have the places where they are.

Take some known points and make sure their coordinates are correct on
any map and then start to deal with the rest of the problem...

Regards: Janne.

-------------------------------------------------------------

Jorge <jorge.arevalo at gmail.com> kirjoitti: 
> OK, I have my problem explained in two images:
> 
> http://www.phpmadrid.com/geo/Balearic_Island_fits_but_overlaps.png
> http://www.phpmadrid.com/geo/Balearic_Island_doesnt_overlap_but_doesnt_fit.png
> 
> I've added a dotted black line to frame each PNG file. In the first 
> link, the PNG files overlap, but they fit! I think it's normal, because 
> if I have rectangles in UTM, all together, these rectangles can't be 
> together in geodetic coords (distinct projection). So, if I move the 
> rectangles to be all together in Google Maps, they don't fit into the 
> province' shape.
> 
> What does I have to do with the PNG files if I want that they are 
> together and fit into the province' shape?
> 
> Thanks a lot
> Jorge
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From jorge.arevalo at gmail.com  Thu Jun 12 03:07:29 2008
From: jorge.arevalo at gmail.com (Jorge)
Date: Thu, 12 Jun 2008 12:07:29 +0200
Subject: [SOLVED! [Proj] Re: Problem overlaying georeferenced images in Google,
	Maps(projection problem!)]
Message-ID: <4850F561.4050406@gmail.com>

Ok' I've solved the problem!!

One important thing that I hadn't considered was that Google Maps 
changes the meters-per-pixel ratio not only when you change the zoom 
level, but also with the latitude. If you move the map upper or lower 
(in vertical direction), this ratio changes.

I think that there is a good reason for this: Mercator projection 
"stretchs" the shapes near to poles (North and South), and maybe google 
wants to minimize the effect by  changing the meter-per-pixel ratio

I was considering that this ratio remained constant for each zoom level. 
Now, I calculate it with this formula:

m/px = cos(latitud) * ( 1 / 2^(zoom+8) ) * 40075017

That I got from http://slappy.cs.uiuc.edu/fall06/cs492/Group2/example.html

And now... it works!! I realize that when I was checking the coordinates...

Thanks a lot, anyway. You' ve helped me!

> Usually you do what ever to fit the shape, if you are sure that the reference shape
> is the correct one. Nobody cares about the map borders. It is more important
> to have the places where they are.
>
> Take some known points and make sure their coordinates are correct on
> any map and then start to deal with the rest of the problem...
>
> Regards: Janne.




From geraldi.evenden at gmail.com  Thu Jun 12 09:17:03 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 12 Jun 2008 12:17:03 -0400
Subject: [Proj] Comments of tmerc, etmerc and ftmerc errors
Message-ID: <200806121217.03580.geraldi.evenden@gmail.com>

Two testing grids were made on tmerc, etmerc and ftmerc: in a geographic range 
of 0 to 6 degrees longitude by 0 to 84 degrees latitude and 0 to 500km 
Easting to 9,700km Northing.  The most apparent problem is that for 
reasonable demonstration the results should be presented as contour maps of 
the errors but inclusion of same is not possible in this email list.

A simple summary can be made: in the lat-lon tests tmerc maintained an 
accuracy of <0.7mm (as would be expected occurred at the equator) and 
comparison of etmerc and ftmerc was always less than 1micron.  In the 
Easting/Northing test, tmerc failed dismally at 21 meters at about 58degrees 
longitude/84.78 degree latitude.  Again, ftmerc and etmerc maintained 
agreement to within 1micron.

I believe it is quite safe to say that tmerc remains the projection of choice 
for UTM applications: adequate accuracy performance and best computational 
speed. Note that the lat/lon test was for 12 degree zones and thus tmerc is 
would appear suitable for what I understand of the 10 degree zones used for 
some Canadian province grids.

As for extended range, I will probably check the agreement of etmerc and 
ftmerc over extended range but this is of lesser priority.  Extended 
geographic range usage of any conformal projection is a contentious issue as 
any resultant grid system has sufficiently large scale errors as to make the 
Cartesian usage of the grid very questionable.  Usage of conformal maps for 
global mapping is very questionable because of the distortion.  Normal 
Mercator persists only because of its usefulness in rhumbline navigation 
which is probably fading due to GPS.  Lastly, equal-area mapping is far 
preferable for thematic mapping as it at least give a better perspective of 
the area extent of regions that is, in most cases, more important that an 
often poor preservation of regional shape.
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From cjmce at lsu.edu  Thu Jun 12 11:43:57 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Thu, 12 Jun 2008 13:43:57 -0500
Subject: [Proj] Comments of tmerc, etmerc and ftmerc errors
References: <200806121217.03580.geraldi.evenden@gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC22E8@email002.lsu.edu>

I recommend that error contour maps ( showing the graticule only), be posted to the PROJ4 documentation site - perhaps as "pdf" files.  This would be a superb graphic of "why this and why not that."  Similar things were immortalized in some of the German language geometric geodesy texts of the 1940s - 1950s, but never translated or duplicated into British or American English texts.  
 
--------------------------------------------
 
Furthermore, I would like to suggest that a special routine be developed in PROJ4 for "SAFETY FAIRWAYS" that can accommodate the United States Code of Federal Regulations, Volume 33, Chapter 1, Part 166 (33 CFR Ch.1 Pt. 166, Subparts A & B) per the authority of 33 U.S.C. 1223; 49 CFR 1.46.  
 
This covers the concept of what the United States government has established as international guarantees that certain shipping lanes within our Exclusive Economic Zone are free of hazards to navigation.  Established by the U.S. Army Corps of Engineers and enforced by the U.S. Coast Guard, this affects the Oil Exploration and Production Industry within U.S. Waters, primarily in the Gulf of Mexico.  The same concept applies internationally to "TRAFFIC SEPARATION SCHEMES" as published by the British Admiralty Office, UK. for the rest of the world.
 
When prospecting for hydrocarbons in offshore areas, national governments award exploration and production concessions or ("Lease Blocks in U.S. waters), to Oil Companies according to various national or provincial Grid systems such as UTM, Lambert Conformal Conic (both fully conformal conic as well as the French Army Truncated Cubic), Cassini-Soldner, Ellipsoidal Bonne (really!), Oblique Stereographic, Transverse Mercator, etc.  In the Gulf of Mexico, the State Plane Coordinate Systems of Louisiana, Texas, and the UTM are used by the U.S. Bureau of Land Management through the administration of the U.S. Geological Survey, Minerals Management Service for putting out for public bid leases for Offshore Lease Blocks.  These concession leases are defined by a particular grid system, but a senior right exists for any and all Safety Fairways and/or Anchorages as published in 33 CFR, Ch.1, Pt.1.  Interestingly, these Safety Fairways (as well as the international Traffic Separation Schemes), are defined by end points given in latitude and longitude and represent ellipsoidal loxodromes (rhumb lines) in between the end points !!!  The geodetic/cartographic conundrum facing the GIS Specialist is, " where does a particular ellipsoidal loxodrome intersect a specific Grid line defining a Lease Block?"
 
The conundrum exists because a Lease Block Concession Grid line is only a straight line in the projection space, (such as UTM, Lambert Conformal Conic (both fully conformal conic as well as the French Army Truncated Cubic), Cassini-Soldner, Ellipsoidal Bonne (really!), Oblique Stereographic, Transverse Mercator, etc.), but in that same projection space the LOXODROME is curved!  Likewise when the loxodrome is a straight line in isometric normal Mercator space, ... , all other Grid lines are curved!

The solution is iterative.  The loxodrome is easily defined in isometric normal Mercator space by using the two end points as arguments to simply form the equation of the first line, (y = mx + b)1, find its approximate intersection with a particular Grid line by taking two points that define an enclosing section of that Grid line, (enclosing the loxodrome), take the inverse of those two Grid points to obtain the latitude and longitude, re-compute them into isometric normal Mercator space, form the equation of that second line, (y = mx + b)2, and then solve for the intersection of the two lines.  Then continue to iterate on smaller and smaller sections of the Grid line until one finds the exact intersection point. 

 

How important is that?  Some years ago, one Oil company to remain unnamed - but still in business nowadays, won a Lease Block bid that was due South of Houston in the Gulf of Mexico.  They filed an application for permit to drill from the Corps of Engineers and were denied a permit to drill in their own Lease Block because of the presence of a protected Anchorage (defined by loxodromes)!!!  They sued the Federal Government, the Minerals Management Service, the Corps of Engineers, the Coast Guard, etc., and LOST.  The Federal Judge told them that it was their responsibility to check to see if any protected waters according to 33 CFR, Ch.1, Pt.1. , encroached on any Lease Blocks they were interested in.  It cost that Oil company many, many millions of dollars for that little "geodetic/cartographic conundrum." 

 

Currently, all offshore exploration and production surveying done is with GPS.  The National Datum of the United States is the North American Datum of 1983, identical to the WGS84 Datum at the one-meter level.  However, all Lease Blocks in the Gulf of Mexico are still defined on the North American Datum of 1927!  Perplexing, isn't it?

 

When one looks at current Oil Industry-oriented maps of the entire Gulf of Mexico, there's four different map projections exhibited.  The UTM lease blocks in Federal waters are straight only on the Transverse Mercator, the two State lease block areas are straight only  on Lambert (Texas and Louisiana) zones , and the Safety Fairways are straight only on the normal Mercator.  Funny thing ... everything is forced to be a straight line ... a mathematical impossibility.

 

Such are some of the geodetic/cartographic tribulations of today's GIS Specialists in the Oil Patch.  Similar conundrums are found elsewhere in the world in association with Traffic Separation Schemes.  It seems to me that this would be a nifty subroutine package for PROJ4 with respect to practical applications.

 

There's my two cents' worth for the day.

 

Cliff Mugnier

LOUISIANA STATE UNIVERSITY


________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Thu 12-Jun-08 11:17
To: PROJ.4 and general Projections Discussions
Subject: [Proj] Comments of tmerc, etmerc and ftmerc errors



Two testing grids were made on tmerc, etmerc and ftmerc: in a geographic range
of 0 to 6 degrees longitude by 0 to 84 degrees latitude and 0 to 500km
Easting to 9,700km Northing.  The most apparent problem is that for
reasonable demonstration the results should be presented as contour maps of
the errors but inclusion of same is not possible in this email list.

A simple summary can be made: in the lat-lon tests tmerc maintained an
accuracy of <0.7mm (as would be expected occurred at the equator) and
comparison of etmerc and ftmerc was always less than 1micron.  In the
Easting/Northing test, tmerc failed dismally at 21 meters at about 58degrees
longitude/84.78 degree latitude.  Again, ftmerc and etmerc maintained
agreement to within 1micron.

I believe it is quite safe to say that tmerc remains the projection of choice
for UTM applications: adequate accuracy performance and best computational
speed. Note that the lat/lon test was for 12 degree zones and thus tmerc is
would appear suitable for what I understand of the 10 degree zones used for
some Canadian province grids.

As for extended range, I will probably check the agreement of etmerc and
ftmerc over extended range but this is of lesser priority.  Extended
geographic range usage of any conformal projection is a contentious issue as
any resultant grid system has sufficiently large scale errors as to make the
Cartesian usage of the grid very questionable.  Usage of conformal maps for
global mapping is very questionable because of the distortion.  Normal
Mercator persists only because of its usefulness in rhumbline navigation
which is probably fading due to GPS.  Lastly, equal-area mapping is far
preferable for thematic mapping as it at least give a better perspective of
the area extent of regions that is, in most cases, more important that an
often poor preservation of regional shape.
--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080612/ffcf036e/attachment.html>

From strebe at aol.com  Thu Jun 12 12:34:15 2008
From: strebe at aol.com (strebe at aol.com)
Date: Thu, 12 Jun 2008 15:34:15 -0400
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <200806121217.03580.geraldi.evenden@gmail.com>
References: <200806121217.03580.geraldi.evenden@gmail.com>
Message-ID: <8CA9ADA6DDF092D-82C-49C3@webmail-nd04.sysops.aol.com>


 
Thanks for running these tests.

Quoting:

Extended geographic range usage of any conformal projection is a contentious issue as 
any resultant grid system has sufficiently large scale errors as to make the 
Cartesian usage of the grid very questionable.
This is true of any projection. It is true that conformal projections carry an inevitable disproportion of areas, but that's not related to scale error.

Regards,
-- daan Strebe










Two testing grids were made on tmerc, etmerc and ftmerc: in a geographic range 
of 0 to 6 degrees longitude by 0 to 84 degrees latitude and 0 to 500km 
Easting to 9,700km Northing.  The most apparent problem is that for 
reasonable demonstration the results should be presented as contour maps of 
the errors but inclusion of same is not possible in this email list.

A simple summary can be made: in the lat-lon tests tmerc maintained an 
accuracy of <0.7mm (as would be expected occurred at the equator) and 
comparison of etmerc and ftmerc was always less than 1micron.  In the 
Easting/Northing test, tmerc failed dismally at 21 meters at about 58degrees 
longitude/84.78 degree latitude.  Again, ftmerc and etmerc maintained 
agreement to within 1micron.

I believe it is quite safe to say that tmerc remains the projection of choice 
for UTM applications: adequate accuracy performance and best computational 
speed. Note that the lat/lon test was for 12 degree zones and thus tmerc is 
would appear suitable for what I understand of the 10 degree zones used for 
some Canadian province grids.

As for extended range, I will probably check the agreement of etmerc and 
ftmerc over extended range but this is of lesser priority.  Extended 
geographic range usage of any conformal projection is a contentious issue as 
any resultant grid system has sufficiently large scale errors as to make the 
Cartesian usage of the grid very questionable.  Usage of conformal maps for 
global mapping is very questionable because of the distortion.  Normal 
Mercator persists only because of its usefulness in rhumbline navigation 
which is probably fading due to GPS.  Lastly, equal-area mapping is far 
preferable for thematic mapping as it at least give a better perspective of 
the area extent of regions that is, in most cases, more important that an 
often poor preservation of regional shape.
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



 



 


 


 

-----Original Message-----
From: Gerald I. Evenden <geraldi.evenden at gmail.com>
To: PROJ.4 and general Projections Discussions <proj at lists.maptools.org>
Sent: Thu, 12 Jun 2008 9:17 am
Subject: [Proj] Comments of tmerc, etmerc and ftmerc errors










Two testing grids were made on tmerc, etmerc and ftmerc: in a geographic range 
of 0 to 6 degrees longitude by 0 to 84 degrees latitude and 0 to 500km 
Easting to 9,700km Northing.  The most apparent problem is that for 
reasonable demonstration the results should be presented as contour maps of 
the errors but inclusion of same is not possible in this email list.

A simple summary can be made: in the lat-lon tests tmerc maintained an 
accuracy of <0.7mm (as would be expected occurred at the equator) and 
comparison of etmerc and ftmerc was always less than 1micron.  In the 
Easting/Northing test, tmerc failed dismally at 21 meters at about 58degrees 
longitude/84.78 degree latitude.  Again, ftmerc and etmerc maintained 
agreement to within 1micron.

I believe it is quite safe to say that tmerc remains the projection of choice 
for UTM applications: adequate accuracy performance and best computational 
speed. Note that the lat/lon test was for 12 degree zones and thus tmerc is 
would appear suitable for what I understand of the 10 degree zones used for 
some Canadian province grids.

As for extended range, I will probably check the agreement of etmerc and 
ftmerc over extended range but this is of lesser priority.  Extended 
geographic range usage of any conformal projection is a contentious issue as 
any resultant grid system has sufficiently large scale errors as to make the 
Cartesian usage of the grid very questionable.  Usage of conformal maps for 
global mapping is very questionable because of the distortion.  Normal 
Mercator persists only because of its usefulness in rhumbline navigation 
which is probably fading due to GPS.  Lastly, equal-area mapping is far 
preferable for thematic mapping as it at least give a better perspective of 
the area extent of regions that is, in most cases, more important that an 
often poor preservation of regional shape.
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080612/4c634de7/attachment.html>

From geraldi.evenden at gmail.com  Thu Jun 12 18:47:53 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 12 Jun 2008 21:47:53 -0400
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <8CA9ADA6DDF092D-82C-49C3@webmail-nd04.sysops.aol.com>
References: <200806121217.03580.geraldi.evenden@gmail.com>
	<8CA9ADA6DDF092D-82C-49C3@webmail-nd04.sysops.aol.com>
Message-ID: <200806122147.53352.geraldi.evenden@gmail.com>

On Thursday 12 June 2008 3:34 pm, strebe at aol.com wrote:
> Thanks for running these tests.
>
> Quoting:
>
> Extended geographic range usage of any conformal projection is a
> contentious issue as any resultant grid system has sufficiently large scale
> errors as to make the Cartesian usage of the grid very questionable.
> This is true of any projection. It is true that conformal projections carry
> an inevitable disproportion of areas, but that's not related to scale
> error.

Are you saying scale and its associated error is not related to error of area?

Snyder (1395, p. 24) says "s=hk" where s is areal scale factor and h and k are 
the meridian and parallel scale factors (in the orthogonal case).

I must be misinterpreting your words.(?)

> Regards,
> -- daan Strebe
>
>
	---
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From strebe at aol.com  Thu Jun 12 21:42:21 2008
From: strebe at aol.com (strebe)
Date: Thu, 12 Jun 2008 21:42:21 -0700
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <200806122147.53352.geraldi.evenden@gmail.com>
Message-ID: <C45811C4.6912.4A39.A431.CBF7F6D38CEC@aol.com>


On Jun 12, 2008, at 6:47:53 PM, "Gerald I. Evenden" <geraldi.evenden at gmail.com> wrote:
Are you saying scale and its associated error is not related to error of area?

Snyder (1395, p. 24) says "s=hk" where s is areal scale factor and h and k are 
the meridian and parallel scale factors (in the orthogonal case).

I must be misinterpreting your words.(?)
You are interpreting my words somewhat correctly, but seemingly misinterpreting their significance. "Somewhat" because you've selected a quotation from Snyder that deals only with projections whose graticules (in some magical aspect) are orthogonal (meaning, meridian and parallel meeting at right angles). That hardly seems "fair" or representative. Nonetheless, even restricting the discussion to orthogonal graticules, it still follows that any given scale factor at a point says nothing about the point's areal inflation.

Firstly, the scale factor along the meridian or parallel is no indication of the scale factor in other directions unless the map is conformal. It is possible to create a map projection with unitary scale factor along all meridians and parallels across the entire map — yet the map still suffers diverse scale factors in other directions and even infinite and infinitesimal scale factors in some directions in some regions of the map. Hence the scale factor along meridian and parallel are meaningless in characterizing what's going on at a point in the absence of other information.

Secondly, back to the orthogonal case: "s = hk". If h = 1000.0 and k = 0.001 then s = 1. If h = 1 and k = 1, then s = 1. Therefore, clearly the magnitude of any particular scale factor is irrelevant to area.

Your original statement was: 

"Extended geographic range usage of any conformal projection is a contentious issue
as any resultant grid system has sufficiently large scale errors as to make the
Cartesian usage of the grid very questionable.".

My point is, every (reasonably) continuous projection will have enormous scale factors across large swaths of the map. There is no research to suggest conformal maps are any worse than (for example) equal-area maps in that regard. The reason conformal maps are frowned upon for global mapping is not for any problem with their scale factors, but for their areal inflation. In some applications the areal inflation might be preferable to the shearing inevitable in an equal-area map or even in some compromise projection.

Regards,
-- daan Strebe

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080612/6f731398/attachment.html>

From geraldi.evenden at gmail.com  Fri Jun 13 07:58:37 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Fri, 13 Jun 2008 10:58:37 -0400
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <C45811C4.6912.4A39.A431.CBF7F6D38CEC@aol.com>
References: <C45811C4.6912.4A39.A431.CBF7F6D38CEC@aol.com>
Message-ID: <200806131058.38085.geraldi.evenden@gmail.com>

On Friday 13 June 2008 12:42 am, strebe wrote:
> On Jun 12, 2008, at 6:47:53 PM, "Gerald I. Evenden"
> <geraldi.evenden at gmail.com> wrote: Are you saying scale and its associated
> error is not related to error of area?
>
> Snyder (1395, p. 24) says "s=hk" where s is areal scale factor and h and k
> are  the meridian and parallel scale factors (in the orthogonal case).
>
> I must be misinterpreting your words.(?)
> You are interpreting my words somewhat correctly, but seemingly
> misinterpreting their significance. "Somewhat" because you've selected a
> quotation from Snyder that deals only with projections whose graticules (in
> some magical aspect) are orthogonal (meaning, meridian and parallel meeting
> at right angles). That hardly seems "fair" or representative. Nonetheless,
> even restricting the discussion to orthogonal graticules, it still follows
> that any given scale factor at a point says nothing about the point's areal
> inflation.

Lets see.  I think I was originally only discussing conformal projections so 
the last I checked the graticule lines are orthogonal at any point and thus 
the statement I made about s=hk applied.

I fail to see what is "fair" or unfair about the statement.  Is it correct or 
incorrect.

> Firstly, the scale factor along the meridian or parallel is no indication
> of the scale factor in other directions unless the map is conformal.

I never said it was.

> It is 
> possible to create a map projection with unitary scale factor along all
> meridians and parallels across the entire map — yet the map still suffers
> diverse scale factors in other directions and even infinite and
> infinitesimal scale factors in some directions in some regions of the map.

I fail to understand how that applies to anything I said unless you are 
challenging Snyder's statement.  For non-orthogonal parallel and meridian the 
scale factor is more complex and I did not bother to quote it because I was 
only concerned with the conformal projection.

> Hence the scale factor along meridian and parallel are meaningless in
> characterizing what's going on at a point in the absence of other
> information.

I fail to see your point.

> Secondly, back to the orthogonal case: "s = hk". If h = 1000.0 and k =
> 0.001 then s = 1. If h = 1 and k = 1, then s = 1. Therefore, clearly the
> magnitude of any particular scale factor is irrelevant to area.

I fail to see what is irrelevant other than the map with such conditions would 
be *very* distorted.  The scale factor is still relevant and if the scale 
factor remained equal to 1 over the entire map then the map is an "equal 
area" map---distortion and all.  Equal area maps have  distortion problems 
like conformal maps.

My argument for the equal area map over the conformal map in small scale and 
global presentations is that I feel that the equal area gives a more 
realistic mental image of the world than the conformal image.  For example, a 
Mercator map distorts the apparent "size" of Greenland whereas an equal area 
map does not.  In thematic maps of, say, air masses, arctic air masses would 
seem to become much larger than equitorial masses and perhap give a mistaken 
bias or impression of their relative importance over other regions.

> Your original statement was: 
>
> "Extended geographic range usage of any conformal projection is a
> contentious issue as any resultant grid system has sufficiently large scale
> errors as to make the Cartesian usage of the grid very questionable.".
>
> My point is, every (reasonably) continuous projection will have enormous
> scale factors across large swaths of the map. There is no research to
> suggest conformal maps are any worse than (for example) equal-area maps in
> that regard. The reason conformal maps are frowned upon for global mapping
> is not for any problem with their scale factors, but for their areal
> inflation. In some applications the areal inflation might be preferable to
> the shearing inevitable in an equal-area map or even in some compromise
> projection.
>
> Regards,
> -- daan Strebe

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist



From strebe at aol.com  Fri Jun 13 11:26:38 2008
From: strebe at aol.com (strebe)
Date: Fri, 13 Jun 2008 11:26:38 -0700
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <200806131058.38085.geraldi.evenden@gmail.com>
Message-ID: <2F71E454.8196.4C58.92D3.085EE3DDCC03@aol.com>


Egads. 

>Lets see. I think I was originally only discussing conformal projections so 
>the last I checked the graticule lines are orthogonal at any point and thus 
>the statement I made about s=hk applied.

>Lets see. I think I was originally only discussing conformal projections
>so the last I checked the graticule lines are orthogonal at any point and
>thus the statement I made about s=hk applied.

Your thesis was not solely about conformal projections, so the math wouldn't be solely about them, either. Your thesis was that conformal projections are ill-suited to small-scale application, and that other projections (particularly equal-area) are better. How can you make a statement about the suitability of non-conformal projections, and how can I challenge that statement, by resorting only to the mathematics of conformal projections?

>>Firstly, the scale factor along the meridian or parallel is no indication
>>of the scale factor in other directions unless the map is conformal.

>I never said it was.

Then why would you trot out mathematics that deals only with the scale factor in two specific (and arbitrary) directions?

>>Hence the scale factor along meridian and parallel are meaningless in
>>characterizing what's going on at a point in the absence of other
>>information.

>I fail to see your point.

Indeed. Well. See above.

>I fail to see what is irrelevant other than the map with such conditions
>would be *very* distorted. The scale factor is still relevant and if the
>scale factor remained equal to 1 over the entire map then the map is an
>"equal area" map---distortion and all.

All right, we might be getting somewhere. There is some confusion in terminology here, and it seems to reflect confusion in the actual situations as well. Scale factor is not areal inflation or deflation; nor is it directly related to areal distortion. On a general map, scale factor requires both a point and a direction in order to mean anything. You cannot sensibly say a map has a "scale factor of 1 over the entire map". Unless the map is conformal, the scale factor at any point varies according to direction. And if the map IS conformal, the scale factor will vary continuously over the entire map anyway and therefore could not be equal to 1 over the entire map.

Hence an equal projection map does not have a scale factor of 1 over the entire map. It is distortion of area that it lacks, not distortion of "scale factor". Meanwhile, at every point on the map, there will be scale factors that range between the semimajor and semiminor axis of the Tissot ellipse, depending upon direction. You cannot sensibly say THE scale factor at a given point.

>Equal area maps have distortion problems like conformal maps.

Why yes, they do. As do all maps. So... why is it, again, that 

>Extended geographic range usage of any conformal projection is a
>contentious issue asany resultant grid system has sufficiently large
>scale errors as to make the Cartesian usage of the grid very
>questionable [from your original post]. 

applies only to conformal projections and not all projections? I think you try to answer that here:

>My argument for the equal area map over the conformal map in small scale
>and global presentations is that I feel that the equal area gives a more 
>realistic mental image of the world than the conformal image. For example,
>a Mercator map distorts the apparent "size" of Greenland whereas an equal
>area map does not. In thematic maps of, say, air masses, arctic air masses
>would seem to become much larger than equitorial masses and perhap give a
>mistaken bias or impression of their relative importance over other regions.

Yes; it is generally agreed that thematic maps need to be equal-area except in certain highly specialized scenarios. But thematic maps are only one kind of small-scale map. It takes a lot more than just feelings to credibly dismiss conformal projections for small-scale use. In any case, the normal Mercator is only one of an infinitude of conformal projections. Its abuse is not a case for denigrating the entire category.

Most relevant to the discussion at hand, I do not find even faintly persuasive your argument that the ellipsoidal transverse Mercator should not be used for extended ranges in the absence of other considerations. All of your arguments point to ANY projection being bad for such use. And, well, it's true. All projections are bad for extended ranges. Just not the ellipsoidal transverse Mercator specifically or particularly or to a worse degree. While it's hard to make a case for a conformal global map (unless you interrupt it along two complete meridians at least), a global map is a far cry from the kinds of ranges that have been discussed here for the Gauß-Krüger.

Regards,
-- daan Strebe


On Jun 13, 2008, at 7:58:37 AM, "Gerald I. Evenden" <geraldi.evenden at gmail.com> wrote:
From:   "Gerald I. Evenden" <geraldi.evenden at gmail.com>
Subject:    Re: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
Date:   June 13, 2008 7:58:37 AM PDT
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
On Friday 13 June 2008 12:42 am, strebe wrote:
> On Jun 12, 2008, at 6:47:53 PM, "Gerald I. Evenden"
> <geraldi.evenden at gmail.com> wrote: Are you saying scale and its associated
> error is not related to error of area?
>
> Snyder (1395, p. 24) says "s=hk" where s is areal scale factor and h and k
> are  the meridian and parallel scale factors (in the orthogonal case).
>
> I must be misinterpreting your words.(?)
> You are interpreting my words somewhat correctly, but seemingly
> misinterpreting their significance. "Somewhat" because you've selected a
> quotation from Snyder that deals only with projections whose graticules (in
> some magical aspect) are orthogonal (meaning, meridian and parallel meeting
> at right angles). That hardly seems "fair" or representative. Nonetheless,
> even restricting the discussion to orthogonal graticules, it still follows
> that any given scale factor at a point says nothing about the point's areal
> inflation.

Lets see. I think I was originally only discussing conformal projections so 
the last I checked the graticule lines are orthogonal at any point and thus 
the statement I made about s=hk applied.

I fail to see what is "fair" or unfair about the statement. Is it correct or 
incorrect.

> Firstly, the scale factor along the meridian or parallel is no indication
> of the scale factor in other directions unless the map is conformal.

I never said it was.

> It is 
> possible to create a map projection with unitary scale factor along all
> meridians and parallels across the entire map — yet the map still suffers
> diverse scale factors in other directions and even infinite and
> infinitesimal scale factors in some directions in some regions of the map.

I fail to understand how that applies to anything I said unless you are 
challenging Snyder's statement. For non-orthogonal parallel and meridian the 
scale factor is more complex and I did not bother to quote it because I was 
only concerned with the conformal projection.

> Hence the scale factor along meridian and parallel are meaningless in
> characterizing what's going on at a point in the absence of other
> information.

I fail to see your point.

> Secondly, back to the orthogonal case: "s = hk". If h = 1000.0 and k =
> 0.001 then s = 1. If h = 1 and k = 1, then s = 1. Therefore, clearly the
> magnitude of any particular scale factor is irrelevant to area.

I fail to see what is irrelevant other than the map with such conditions would 
be *very* distorted. The scale factor is still relevant and if the scale 
factor remained equal to 1 over the entire map then the map is an "equal 
area" map---distortion and all. Equal area maps have distortion problems 
like conformal maps.

My argument for the equal area map over the conformal map in small scale and 
global presentations is that I feel that the equal area gives a more 
realistic mental image of the world than the conformal image. For example, a 
Mercator map distorts the apparent "size" of Greenland whereas an equal area 
map does not. In thematic maps of, say, air masses, arctic air masses would 
seem to become much larger than equitorial masses and perhap give a mistaken 
bias or impression of their relative importance over other regions.

> Your original statement was: 
>
> "Extended geographic range usage of any conformal projection is a
> contentious issue as any resultant grid system has sufficiently large scale
> errors as to make the Cartesian usage of the grid very questionable.".
>
> My point is, every (reasonably) continuous projection will have enormous
> scale factors across large swaths of the map. There is no research to
> suggest conformal maps are any worse than (for example) equal-area maps in
> that regard. The reason conformal maps are frowned upon for global mapping
> is not for any problem with their scale factors, but for their areal
> inflation. In some applications the areal inflation might be preferable to
> the shearing inevitable in an equal-area map or even in some compromise
> projection.
>
> Regards,
> -- daan Strebe

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080613/bd0f7e10/attachment.html>

From geraldi.evenden at gmail.com  Fri Jun 13 14:56:35 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Fri, 13 Jun 2008 17:56:35 -0400
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <2F71E454.8196.4C58.92D3.085EE3DDCC03@aol.com>
References: <2F71E454.8196.4C58.92D3.085EE3DDCC03@aol.com>
Message-ID: <200806131756.35336.geraldi.evenden@gmail.com>

We got sidetracked.  Lets go back to the original email:

My comment:
Extended geographic range usage of any conformal projection is a contentious 
issue as 
any resultant grid system has sufficiently large scale errors as to make the 
Cartesian usage of the grid very questionable.
Your comment:
This is true of any projection. It is true that conformal projections carry an 
inevitable disproportion of areas, but that's not related to scale error.

My sentense had nothing to do with area and by Cartesian usage I was denoting  
measuring distances, azumuths, etc. from the Cartesian data and it certainly 
seems that scale error greatly affects these measurements.

What got me sidetracked was your non sequitur second sentence in the sense 
that I did not mention area in my cited comment.

Mea culpa.
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From strebe at aol.com  Fri Jun 13 21:37:07 2008
From: strebe at aol.com (strebe)
Date: Fri, 13 Jun 2008 21:37:07 -0700
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <200806131756.35336.geraldi.evenden@gmail.com>
Message-ID: <52F8A496.C40D.4731.B0E1.E0970F5D73BA@aol.com>


On Jun 13, 2008, at 2:56:35 PM, "Gerald I. Evenden" <geraldi.evenden at gmail.com> wrote:
My sentense had nothing to do with area and by Cartesian usage I was denoting 
measuring distances, azumuths, etc. from the Cartesian data and it certainly 
seems that scale error greatly affects these measurements.
Yes. Scale error greatly affects those measurements... but you're not going to get any better results with equal-area maps for those measurements than you will from conformal. That is because the "scale error" is just as pronounced in equal-area maps as it is in conformal maps. Hence...

"Extended geographic range usage of any conformal projection is a contentious issue as any resultant grid system has sufficiently large scale errors as to make the Cartesian usage of the grid very questionable."

...does not follow. The only clearly improved measurement you'll get from equal-area maps is measurement of, well, area. You'll generally find approximations of azimuths to be much easier on conformal maps than equal-area. Distances are a mess on conformal or equal-area either one.

Regards,
-- daan Strebe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080613/f2234f5d/attachment.html>

From geraldi.evenden at gmail.com  Sat Jun 14 08:08:47 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 14 Jun 2008 11:08:47 -0400
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <52F8A496.C40D.4731.B0E1.E0970F5D73BA@aol.com>
References: <52F8A496.C40D.4731.B0E1.E0970F5D73BA@aol.com>
Message-ID: <200806141108.47751.geraldi.evenden@gmail.com>

On Saturday 14 June 2008 12:37 am, strebe wrote:
> On Jun 13, 2008, at 2:56:35 PM, "Gerald I. Evenden"
> <geraldi.evenden at gmail.com> wrote: My sentense had nothing to do with area
> and by Cartesian usage I was denoting measuring distances, azumuths, etc.
> from the Cartesian data and it certainly seems that scale error greatly
> affects these measurements.
> Yes. Scale error greatly affects those measurements... but you're not going
> to get any better results with equal-area maps for those measurements than
> you will from conformal. That is because the "scale error" is just as
> pronounced in equal-area maps as it is in conformal maps. Hence...
>
> "Extended geographic range usage of any conformal projection is a
> contentious issue as any resultant grid system has sufficiently large scale
> errors as to make the Cartesian usage of the grid very questionable."
>
> ...does not follow. The only clearly improved measurement you'll get from
> equal-area maps is measurement of, well, area. You'll generally find
> approximations of azimuths to be much easier on conformal maps than
> equal-area. Distances are a mess on conformal or equal-area either one.

This is the place where we will apparently never agree.  I would never use 
small scale maps for distance/azimuth measurements and anyone who does is ill 
advised.  I feel it is fair to say most small scale map usage is in the realm 
of thematic mapping and and in such usage I feel that the principal factor of 
concern is the sense of extent of a feature and its *area* of scope.  A kind 
of "my area is bigger than yours" attitude.

The best example of worst case usage of a conformal map is the classic 
Mercator map of the world.  One of its few practical uses is to demonstrate 
the foible of measuring with this map and the rhumb line (loxodrome) and its 
relation to the prefered measurement of a great circle or geodesic. It is 
even rediculous to call it a map of the world when it can't even show the 
poles due to the ultimate distortion of a singularity.

Lastly, I can put a dime on an equal-area map and the area that the dime 
covers---in terms of real acreage on the ground---is the same anywhere on the 
map,  If I am looking at comparative areal extents of oil fields I have a 
reliable  method of comparison with the equal-area  map.  As for actual 
measurements I can use a planimeter on the map and get a direct error-free 
measurement.

If I were making a map of the areal extent of oil reserves in the Gulf of 
Mexico I would definitely use an equal area map.  This is the *only* class of 
projection that properly displays the intent of the map and I can drop a dime 
anywhere on the map and know that it covers the same number of square meters.

Lastly, I cannot think of a practical use of a conformal map of the Gulf 
because all practical problems of distance/azimuth determination are micro 
computer (or possibly shirt pocket calculator) functions with accuracy far 
exceeding any scale layed on a map---and I do not mean using a cartographic 
projection as an intermediate step unless it is to get data into the proper 
units.

In fact, lets abolish conformal mapping altogether after we make sure all 
coordinates of interest are stored as either geographic or geocentric x-y-z.
No more UTM, bastardized UTM, state/national plane coordinate system with wild 
a wooly projections.  Ahhh!  Utopia!  Unfortunately, when pigs fly.

> Regards,
> -- daan Strebe

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist



From ndzinn at comcast.net  Sat Jun 14 08:43:14 2008
From: ndzinn at comcast.net (Noel Zinn)
Date: Sat, 14 Jun 2008 10:43:14 -0500
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <200806141108.47751.geraldi.evenden@gmail.com>
References: <52F8A496.C40D.4731.B0E1.E0970F5D73BA@aol.com>
	<200806141108.47751.geraldi.evenden@gmail.com>
Message-ID: <BAEE0F9FB41741C4A1B6F8478DAD0B50@PowerSpec>

Bravo, Gerald!  

Your mention of geocentric x-y-z is consistent with a minority view
(growing, I hope) within the oil exploration IT community that all of
cartography (not just conformal, and including all the distortions that
cartography is heir to) can be done away with.  Our newest generation of
geophysical interpretation workstation applications works in 3 orthogonal,
linear coordinates without any hint of geodetic or cartographic awareness.
Why distort a 3D world into 2D horizontally (called a map projection, with a
third vertical dimension tacked on), when the 3D world can be represented
"in the box" in 3D in geocentric x-y-z (AKA Earth-Centered Earth-Fixed, or
ECEF)?  The view is that of Google Earth or ESRI's ArcGlobe, but one can
penetrate the Earth to any target depth.  Seems like a no-brainer.  When
will pigs fly?  Soon, I hope.  It makes sense.

Noel Zinn

PS - ECEF does present its own problems, but they're not geodetic or
cartographic problems about which computer whiz kids know little.  Give them
a coordinate system they understand (trigonometry in 3 dimensions) and
miracles will happen!



-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Gerald I. Evenden
Sent: Saturday, June 14, 2008 10:09 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors

On Saturday 14 June 2008 12:37 am, strebe wrote:
> On Jun 13, 2008, at 2:56:35 PM, "Gerald I. Evenden"
> <geraldi.evenden at gmail.com> wrote: My sentense had nothing to do with area
> and by Cartesian usage I was denoting measuring distances, azumuths, etc.
> from the Cartesian data and it certainly seems that scale error greatly
> affects these measurements.
> Yes. Scale error greatly affects those measurements... but you're not
going
> to get any better results with equal-area maps for those measurements than
> you will from conformal. That is because the "scale error" is just as
> pronounced in equal-area maps as it is in conformal maps. Hence...
>
> "Extended geographic range usage of any conformal projection is a
> contentious issue as any resultant grid system has sufficiently large
scale
> errors as to make the Cartesian usage of the grid very questionable."
>
> ...does not follow. The only clearly improved measurement you'll get from
> equal-area maps is measurement of, well, area. You'll generally find
> approximations of azimuths to be much easier on conformal maps than
> equal-area. Distances are a mess on conformal or equal-area either one.

This is the place where we will apparently never agree.  I would never use 
small scale maps for distance/azimuth measurements and anyone who does is
ill 
advised.  I feel it is fair to say most small scale map usage is in the
realm 
of thematic mapping and and in such usage I feel that the principal factor
of 
concern is the sense of extent of a feature and its *area* of scope.  A kind

of "my area is bigger than yours" attitude.

The best example of worst case usage of a conformal map is the classic 
Mercator map of the world.  One of its few practical uses is to demonstrate 
the foible of measuring with this map and the rhumb line (loxodrome) and its

relation to the prefered measurement of a great circle or geodesic. It is 
even rediculous to call it a map of the world when it can't even show the 
poles due to the ultimate distortion of a singularity.

Lastly, I can put a dime on an equal-area map and the area that the dime 
covers---in terms of real acreage on the ground---is the same anywhere on
the 
map,  If I am looking at comparative areal extents of oil fields I have a 
reliable  method of comparison with the equal-area  map.  As for actual 
measurements I can use a planimeter on the map and get a direct error-free 
measurement.

If I were making a map of the areal extent of oil reserves in the Gulf of 
Mexico I would definitely use an equal area map.  This is the *only* class
of 
projection that properly displays the intent of the map and I can drop a
dime 
anywhere on the map and know that it covers the same number of square
meters.

Lastly, I cannot think of a practical use of a conformal map of the Gulf 
because all practical problems of distance/azimuth determination are micro 
computer (or possibly shirt pocket calculator) functions with accuracy far 
exceeding any scale layed on a map---and I do not mean using a cartographic 
projection as an intermediate step unless it is to get data into the proper 
units.

In fact, lets abolish conformal mapping altogether after we make sure all 
coordinates of interest are stored as either geographic or geocentric x-y-z.
No more UTM, bastardized UTM, state/national plane coordinate system with
wild 
a wooly projections.  Ahhh!  Utopia!  Unfortunately, when pigs fly.

> Regards,
> -- daan Strebe

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj




From strebe at aol.com  Sat Jun 14 17:32:06 2008
From: strebe at aol.com (strebe)
Date: Sat, 14 Jun 2008 17:32:06 -0700
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <200806141108.47751.geraldi.evenden@gmail.com>
Message-ID: <81CA4678.1F8F.4F77.B5E7.A556FA1073F4@aol.com>


On Jun 14, 2008, at 8:08:47 AM, "Gerald I. Evenden" <geraldi.evenden at gmail.com> wrote:
This is the place where we will apparently never agree. I would never use 
small scale maps for distance/azimuth measurements and anyone who does is ill 
advised.
You know, Mr. Evenden, you are the one who touted the superiority of equal-area maps for such purposes (quoting from your previous e-mail):

>Extended geographic range usage of any conformal projection is a contentious 
>issue as any resultant grid system has sufficiently large scale errors as to
>make the Cartesian usage of the grid very questionable.
>Your comment:
>>This is true of any projection. It is true that conformal projections carry
>>an inevitable disproportion of areas, but that's not related to scale error.
>
>My sentense had nothing to do with area and by Cartesian usage I was denoting 
>measuring distances, azumuths, etc. from the Cartesian data and it certainly 
>seems that scale error greatly affects these measurements.

You're not arguing with me. I did not bring up using maps for arbitrary distance/azimuth measurements. You did, and you did so in order to prove the superiority of equal-area projections over conformal projections for small-scale usage. So now you are arguing with yourself. This is a matter of public record. So is the rest of your weaseling over the course of this discussion.

As far as your tirade below goes, I dare you to find anyone who thinks we should use maps when something else is better. I dare you to find someone who thinks most thematic mapping should be on anything other than equal-area maps. Those are straw men. Meanwhile, because you apparently can't imagine any use for small-scale maps that is not tied to area mensuration or estimation, you call for the elimination of conformal maps. You might ponder that it's dogma and your own limited imagination that lead you to such conclusions, not logic, and not real-world needs.

Regards,
-- daan Strebe


I feel it is fair to say most small scale map usage is in the realm 
of thematic mapping and and in such usage I feel that the principal factor of 
concern is the sense of extent of a feature and its *area* of scope. A kind 
of "my area is bigger than yours" attitude.

The best example of worst case usage of a conformal map is the classic 
Mercator map of the world. One of its few practical uses is to demonstrate 
the foible of measuring with this map and the rhumb line (loxodrome) and its 
relation to the prefered measurement of a great circle or geodesic. It is 
even rediculous to call it a map of the world when it can't even show the 
poles due to the ultimate distortion of a singularity.

Lastly, I can put a dime on an equal-area map and the area that the dime 
covers---in terms of real acreage on the ground---is the same anywhere on the 
map, If I am looking at comparative areal extents of oil fields I have a 
reliable method of comparison with the equal-area map. As for actual 
measurements I can use a planimeter on the map and get a direct error-free 
measurement.

If I were making a map of the areal extent of oil reserves in the Gulf of 
Mexico I would definitely use an equal area map. This is the *only* class of 
projection that properly displays the intent of the map and I can drop a dime 
anywhere on the map and know that it covers the same number of square meters.

Lastly, I cannot think of a practical use of a conformal map of the Gulf 
because all practical problems of distance/azimuth determination are micro 
computer (or possibly shirt pocket calculator) functions with accuracy far 
exceeding any scale layed on a map---and I do not mean using a cartographic 
projection as an intermediate step unless it is to get data into the proper 
units.

In fact, lets abolish conformal mapping altogether after we make sure all 
coordinates of interest are stored as either geographic or geocentric x-y-z.
No more UTM, bastardized UTM, state/national plane coordinate system with wild 
a wooly projections. Ahhh! Utopia! Unfortunately, when pigs fly.

> Regards,
> -- daan Strebe

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080614/2f77330e/attachment.html>

From geraldi.evenden at gmail.com  Sat Jun 14 19:08:17 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 14 Jun 2008 22:08:17 -0400
Subject: [Proj] Re: Comments of tmerc, etmerc and ftmerc errors
In-Reply-To: <81CA4678.1F8F.4F77.B5E7.A556FA1073F4@aol.com>
References: <81CA4678.1F8F.4F77.B5E7.A556FA1073F4@aol.com>
Message-ID: <200806142208.17513.geraldi.evenden@gmail.com>

On Saturday 14 June 2008 8:32 pm, strebe wrote:
> On Jun 14, 2008, at 8:08:47 AM, "Gerald I. Evenden"
> <geraldi.evenden at gmail.com> wrote: This is the place where we will
> apparently never agree. I would never use small scale maps for
> distance/azimuth measurements and anyone who does is ill advised.
>
> You know, Mr. Evenden, you are the one who touted the superiority of 
equal-area maps for such purposes (quoting from your previous e-mail):
> >Extended geographic range usage of any conformal projection is a
> > contentious  issue as any resultant grid system has sufficiently large
> > scale errors as to make the Cartesian usage of the grid very
> > questionable.
> >
> >Your comment:
> >>This is true of any projection. It is true that conformal projections
> >> carry an inevitable disproportion of areas, but that's not related to
> >> scale error.
> >
> >My sentense had nothing to do with area and by Cartesian usage I was
> > denoting  measuring distances, azumuths, etc. from the Cartesian data and
> > it certainly seems that scale error greatly affects these measurements.
>
> You're not arguing with me. I did not bring up using maps for arbitrary
> distance/azimuth measurements. You did, and you did so in order to prove
> the superiority of equal-area projections over conformal projections for
> small-scale usage. So now you are arguing with yourself. This is a matter
> of public record. So is the rest of your weaseling over the course of this
> discussion.
>
> As far as your tirade below goes, I dare you to find anyone who thinks we
> should use maps when something else is better. I dare you to find someone
> who thinks most thematic mapping should be on anything other than
> equal-area maps. Those are straw men. Meanwhile, because you apparently
> can't imagine any use for small-scale maps that is not tied to area
> mensuration or estimation, you call for the elimination of conformal maps.
> You might ponder that it's dogma and your own limited imagination that lead
> you to such conclusions, not logic, and not real-world needs.
>
> Regards,
> -- daan Strebe

My, my, my.  Our mutual respect overfloweth again.

My original comments, way back when, were in the response to the general 
subject on the use of TM for wide longitude mapping---even to global extent.  
In response to this general subject I voiced my feelings about the use of 
conformal maps for small scale mapping.  A simple and calm soapbox expression 
of opinion.

To be sure there are occasional exceptions and non-equal-area maps are called 
for.  I can even think of a good example that I seem to remember from Synder 
and Voxland's book where a global map was constructed for the Muslim 
community that allowed easy determination of the azimuth from anywhere on the 
globe to Mecca.  And there are certainly other examples but I would bet that 
for a high percentage of application the equal area projection is the 
preferred choice.

As a final comment about your accusation of straw men, they certainly seem 
alive and well.  Why do we persist on seeing global Mercator maps.  Members 
of this email group want to use wide coverage TM.  As far as I can see, 
conformal mapping is a dinosaur.  GPS, modern surveying methods and small 
portable computing power has eliminated any need for it.  We don't use a 
sextant and chronometer any more.  I also feel there is a place for 
non-equal-area maps in special situations.

Looking back to my email that started our little feud, except for the 
subsequent, unfortunate sidetrack into scaling details, I have done nothing 
but simply expand on the theme of criticizing conformal projections in the 
original last paragraph.  I still do not understand how you came up with the 
original question with "equal area" as I can't find equal-area mentioned in 
the paragraph.  I think you were just baiting me for old time's sake. ;-)  Of 
course, I may have been baiting you with my paragraph.

Have a good weekend!

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist



From geraldi.evenden at gmail.com  Mon Jun 16 19:44:09 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 16 Jun 2008 22:44:09 -0400
Subject: [Proj] Tmerc status with libproj4 and notes
Message-ID: <200806162244.09460.geraldi.evenden@gmail.com>

Things on the libproj4-Transvers Mercator front are still progressing with 
another TM version finished today: ktmerc for Kruger.  Speed wise this fits 
beteen etmerc and ftmerc and seems to give reasonable values out to expected 
limits.  One problem did arise with ftmerc during testing that involved 
problems with the inverse operation.  This does not look like serious fixing 
problem and a new release of libproj4 should be out later this week.

Speaking of limits, it might be fun to re-explore the extremes of the 
Transverse Mercator since we had so much fun with the issue a couple of years 
ago.  Since then we or at least I have still not seen any code that delivers 
finite values for values of, say, 90W-0N.  All the versions in libproj4 still 
like to deliver stars for this kind of input.  Evidence seems permanently 
locked in the secret vaults and only available to the special few.

For those who do not know what a global TM maps looks like draw a vertical 
line and place three equally space points on that line.  The points, from 
bottom to top are the south pole, north pole and the south pole again. Now 
draw two horizontal lines midway between the three poles: the equator.  Note 
that these two lines are part of the same thing yet never connect---kinda 
sounds like parallel lines that meet at infinity.  Now draw three more 
horizontal parallel lines through the three pole points.  THese lines are 
meridians at +-90 longitude.  Note that the right end of all five lines 
should meet at a point at 90E0N and similarly the left ends at a point 90W0N.

For the spherical case the situation of parallel lines meeting at infinity 
seems reasonable and there seems to be mathematical conditions for this 
state.  But for the elliptical case there is the currently publically 
unsubstatiated position that the end points are at a finite distance from the 
central meridian of the map (the vertical line through the poles).

This condition is analogous to finite polar extent cylindrical maps like 
Millers and flat pole pseudocylindricals.  Points at the poles are not points 
but a line that borders the top and bottom of the map.  In the TM case a 
point at 90Ew0N is a line defining the left of right extent of the map.  
Regardless of whether there is a singularity at the edge plotting, position 
becomes increasingly affected by the precision of the point's coordinates.  
It becomes apparent that even if it is possible to extend a TM map to the 
extreme edge, limiting the extent of the map in a manner similar to the 
standard Mercator is appropriate especially when considering distortion along 
the left and right edges.

Pursuing the issue of determining the real value of 90EW0N seems pointless and 
only of interest to the diehard cartophile. Global extent TM maps are easily 
and adequately handled by the spherical equations and thus leaves elliptical 
usage only to largescale mapping and cadastal applications.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From pbander at cavtel.net  Mon Jun 16 20:52:17 2008
From: pbander at cavtel.net (Paul B. Anderson)
Date: Mon, 16 Jun 2008 23:52:17 -0400
Subject: [Proj] Tmerc status with libproj4 and notes
References: <200806162244.09460.geraldi.evenden@gmail.com>
Message-ID: <D9C0923B2352488AA87DFEA8C1A226DF@ISUCONNECT>

- Hi All,

For those of you who have an interest, here is a small scale world map on 
the Gauss-Krüger projection:

http://www.csiss.org/map-projections/Cylindrical/Gauss_Kruger.pdf

I made this graphic using Philip M. Voxland's software he calls 'World' 
(MSDOS, Compiled Fortran).

- Paul B. Anderson

----- Original Message ----- 
From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Monday, June 16, 2008 10:44 PM
Subject: [Proj] Tmerc status with libproj4 and notes


> Things on the libproj4-Transvers Mercator front are still progressing with
> another TM version finished today: ktmerc for Kruger.  Speed wise this 
> fits
> beteen etmerc and ftmerc and seems to give reasonable values out to 
> expected
> limits.  One problem did arise with ftmerc during testing that involved
> problems with the inverse operation.  This does not look like serious 
> fixing
> problem and a new release of libproj4 should be out later this week.
>
> Speaking of limits, it might be fun to re-explore the extremes of the
> Transverse Mercator since we had so much fun with the issue a couple of 
> years
> ago.  Since then we or at least I have still not seen any code that 
> delivers
> finite values for values of, say, 90W-0N.  All the versions in libproj4 
> still
> like to deliver stars for this kind of input.  Evidence seems permanently
> locked in the secret vaults and only available to the special few.
>
> For those who do not know what a global TM maps looks like draw a vertical
> line and place three equally space points on that line.  The points, from
> bottom to top are the south pole, north pole and the south pole again. Now
> draw two horizontal lines midway between the three poles: the equator. 
> Note
> that these two lines are part of the same thing yet never connect---kinda
> sounds like parallel lines that meet at infinity.  Now draw three more
> horizontal parallel lines through the three pole points.  THese lines are
> meridians at +-90 longitude.  Note that the right end of all five lines
> should meet at a point at 90E0N and similarly the left ends at a point 
> 90W0N.
>
> For the spherical case the situation of parallel lines meeting at infinity
> seems reasonable and there seems to be mathematical conditions for this
> state.  But for the elliptical case there is the currently publically
> unsubstatiated position that the end points are at a finite distance from 
> the
> central meridian of the map (the vertical line through the poles).
>
> This condition is analogous to finite polar extent cylindrical maps like
> Millers and flat pole pseudocylindricals.  Points at the poles are not 
> points
> but a line that borders the top and bottom of the map.  In the TM case a
> point at 90Ew0N is a line defining the left of right extent of the map.
> Regardless of whether there is a singularity at the edge plotting, 
> position
> becomes increasingly affected by the precision of the point's coordinates.
> It becomes apparent that even if it is possible to extend a TM map to the
> extreme edge, limiting the extent of the map in a manner similar to the
> standard Mercator is appropriate especially when considering distortion 
> along
> the left and right edges.
>
> Pursuing the issue of determining the real value of 90EW0N seems pointless 
> and
> only of interest to the diehard cartophile. Global extent TM maps are 
> easily
> and adequately handled by the spherical equations and thus leaves 
> elliptical
> usage only to largescale mapping and cadastal applications.
>
> -- 
> The whole religious complexion of the modern world is due
> to the absence from Jerusalem of a lunatic asylum.
> -- Havelock Ellis (1859-1939)  British psychologist
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj 



From strebe at aol.com  Mon Jun 16 21:03:22 2008
From: strebe at aol.com (strebe)
Date: Mon, 16 Jun 2008 21:03:22 -0700
Subject: [Proj] Re: Tmerc status with libproj4 and notes
In-Reply-To: <200806162244.09460.geraldi.evenden@gmail.com>
Message-ID: <6177BEAB.C2B4.405A.80DA.394075C3685E@aol.com>

"Gerald I. Evenden" <geraldi.evenden at gmail.com> writes:

>For the spherical case the situation of parallel lines meeting at infinity 
>seems reasonable and there seems to be mathematical conditions for this 
>state. But for the elliptical case there is the currently publically 
>unsubstatiated position that the end points are at a finite distance from
>the central meridian of the map (the vertical line through the poles).

Would you please cease this campaign of misinformation? There is no controversy. None. There is no "publicly unsubstantiated position". The fact that you have not personally bothered to check the references or did not understand what you read or have not been able to get your computer to image it does not mean anything with respect to "publicly". All that is nothing but "privately". As I have repeatedly noted on this list, the full mathematics of the ellipsoidal transverse Mercator can be found in

L.P. Lee, 1976. "Conformal Projections Based on Elliptic Functions", Cartographica Monograph #16.

along with (gasp) an illustration of the projection in global extent. There have been several other publications over the years that discuss the global extent of the ellipsoidal transverse Mercator, including:

E.H. Thompson, 1945, as remarked on by Snyder in "Map Projections — A Working Manual", US Geological Survey Professional Paper 1395, p. 48. 
L.P. Lee, 1962. "The Transverse Mercator projection of the entire ellipsoid". Empire Survey Review, 16: 208-217. London. 
J.P. Snyder, as mentioned above.
Jeff Dozier, 1980. "Improved algorithm for calculation of UTM and geodetic coordinates: NOAA Technical Report NESS 81.

Interested readers can see an equivalent image here:

http://mapthematics.com/Projection%20Images/Cylindrical/Transverse%20Mercator.GIF

Regards,
-- daan Strebe


On Jun 16, 2008, at 7:44:09 PM, "Gerald I. Evenden" <geraldi.evenden at gmail.com> wrote:
From:   "Gerald I. Evenden" <geraldi.evenden at gmail.com>
Subject:    [Proj] Tmerc status with libproj4 and notes
Date:   June 16, 2008 7:44:09 PM PDT
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Things on the libproj4-Transvers Mercator front are still progressing with 
another TM version finished today: ktmerc for Kruger. Speed wise this fits 
beteen etmerc and ftmerc and seems to give reasonable values out to expected 
limits. One problem did arise with ftmerc during testing that involved 
problems with the inverse operation. This does not look like serious fixing 
problem and a new release of libproj4 should be out later this week.

Speaking of limits, it might be fun to re-explore the extremes of the 
Transverse Mercator since we had so much fun with the issue a couple of years 
ago. Since then we or at least I have still not seen any code that delivers 
finite values for values of, say, 90W-0N. All the versions in libproj4 still 
like to deliver stars for this kind of input. Evidence seems permanently 
locked in the secret vaults and only available to the special few.

For those who do not know what a global TM maps looks like draw a vertical 
line and place three equally space points on that line. The points, from 
bottom to top are the south pole, north pole and the south pole again. Now 
draw two horizontal lines midway between the three poles: the equator. Note 
that these two lines are part of the same thing yet never connect---kinda 
sounds like parallel lines that meet at infinity. Now draw three more 
horizontal parallel lines through the three pole points. THese lines are 
meridians at +-90 longitude. Note that the right end of all five lines 
should meet at a point at 90E0N and similarly the left ends at a point 90W0N.

For the spherical case the situation of parallel lines meeting at infinity 
seems reasonable and there seems to be mathematical conditions for this 
state. But for the elliptical case there is the currently publically 
unsubstatiated position that the end points are at a finite distance from the 
central meridian of the map (the vertical line through the poles).

This condition is analogous to finite polar extent cylindrical maps like 
Millers and flat pole pseudocylindricals. Points at the poles are not points 
but a line that borders the top and bottom of the map. In the TM case a 
point at 90Ew0N is a line defining the left of right extent of the map. 
Regardless of whether there is a singularity at the edge plotting, position 
becomes increasingly affected by the precision of the point's coordinates. 
It becomes apparent that even if it is possible to extend a TM map to the 
extreme edge, limiting the extent of the map in a manner similar to the 
standard Mercator is appropriate especially when considering distortion along 
the left and right edges.

Pursuing the issue of determining the real value of 90EW0N seems pointless and 
only of interest to the diehard cartophile. Global extent TM maps are easily 
and adequately handled by the spherical equations and thus leaves elliptical 
usage only to largescale mapping and cadastal applications.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939) British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080616/646b4b78/attachment.html>

From Mikael.Rittri at carmenta.com  Tue Jun 17 04:10:06 2008
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Tue, 17 Jun 2008 13:10:06 +0200
Subject: [Proj] Transverse Mercator literature
Message-ID: <FAF6E56B26D2044696772EBE89B15351FBDA7A@posty.carmenta.se>

Speaking of Transverse Mercator literature, I happened to see 
that Krüger's book from 1912 has been scanned, and is freely 
available as a pdf-file:

Krüger, L.
Konforme Abbildung des Erdellipsoids in der Ebene.
Potsdam : Teubner, 1912. 172 p.
http://edoc.gfz-potsdam.de/gfz/10452


I also found a paper in Journal of Geodesy. I have only seen
the abstract, so I don't know how interesting it is, but I 
mention it since it was published this year:

Bermejo-Solera, Mercedes and Otero, Jesús.
Simple and highly accurate formulas for the computation 
of Transverse Mercator coordinates from longitude and 
isometric latitude.
Journal of Geodesy, Online First, April 2008, Springer.
http://adsabs.harvard.edu/abs/2008JGeod.tmp...24B

Best regards,
--
Mikael Rittri
Carmenta AB
Box 11354
SE-404 28 Göteborg
Visitors: Sankt Eriksgatan 5
SWEDEN
Tel: +46-31-775 57 37
Mob: +46-703-60 34 07 
mikael.rittri at carmenta.com
www.carmenta.com



From warmerdam at pobox.com  Tue Jun 17 09:45:41 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 17 Jun 2008 12:45:41 -0400
Subject: [Proj] tmerc "folding back" far from the central meridian
Message-ID: <4857EA35.8090302@pobox.com>

Folks (mostly Gerald),

The tmerc projection has a tendency to fold back on itself when you get
really far from the central meridian.  This causes problems when applications
naively try to reproject locations from all around the world into transverse
mercator without regard to appropriateness.

What I would like is if we could make the tmerc projection fail (ie return
HUGE_VAL) for points so far from the central meridian that they are likely
to start folding back on themselves.

Is this a reasonable idea?  What longitude range would be suitable?
Should we make this conditional on some extra parameter in the projeciton
definition?  I have a ticket at:

   http://trac.osgeo.org/proj/ticket/5

For my client, I'll likely try something like limiting things to a 60
degree swath centered on the central meridian.  But I'd like input on a
more systematic approach.

I'd add that I'm investigating this with regard to tmerc, but similar
issues must exist for some other projections.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From geraldi.evenden at gmail.com  Tue Jun 17 15:20:52 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Tue, 17 Jun 2008 18:20:52 -0400
Subject: [Proj] tmerc "folding back" far from the central meridian
In-Reply-To: <4857EA35.8090302@pobox.com>
References: <4857EA35.8090302@pobox.com>
Message-ID: <200806171820.52448.geraldi.evenden@gmail.com>

On Tuesday 17 June 2008 12:45 pm, Frank Warmerdam wrote:
> Folks (mostly Gerald),
>
> The tmerc projection has a tendency to fold back on itself when you get
> really far from the central meridian.  This causes problems when
> applications naively try to reproject locations from all around the world
> into transverse mercator without regard to appropriateness.
>
> What I would like is if we could make the tmerc projection fail (ie return
> HUGE_VAL) for points so far from the central meridian that they are likely
> to start folding back on themselves.

etmerc has one limit level which is only a few degrees from del-lambda=90.  
The original code had several "levels" of error of with different return 
codes but because there was not anyway to do this multilevel return in 
libproj4 I just used the one at the furthest extent.

But the method of establishing a limit would appear to be done on the basis of 
Easting rather than a cutoff due to a lat-lon limit check.  Perhaps do the 
calculation regarless of geographic coordinates and then reject based upon 
easting greater than a percentage of a or R or, of course, equation failure.

On inverse projection just reject if |easting| too large.

Allow an override option for those who want to play around.  ;-)

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From strebe at aol.com  Tue Jun 17 17:14:27 2008
From: strebe at aol.com (strebe)
Date: Tue, 17 Jun 2008 17:14:27 -0700
Subject: [Proj] Re: Transverse Mercator literature
In-Reply-To: <FAF6E56B26D2044696772EBE89B15351FBDA7A@posty.carmenta.se>
Message-ID: <F9CE8378.9A77.43F4.B16A.A7FD5BAD3C12@aol.com>


Thanks, Mr. Rittri. I have been wanting to see Krüger's original paper. This is wonderful.

I refereed the Bermejo-Solera/Otero paper. I found it interesting and useful, specifically in that it describes techniques for solving the boundary value problem. This leads to optimal conformal projections of arbitrary regions.

Regards,
-- daan Strebe


On Jun 17, 2008, at 4:10:06 AM, "Mikael Rittri" <Mikael.Rittri at carmenta.com> wrote:
From:   "Mikael Rittri" <Mikael.Rittri at carmenta.com>
Subject:    [Proj] Transverse Mercator literature
Date:   June 17, 2008 4:10:06 AM PDT
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Speaking of Transverse Mercator literature, I happened to see 
that Krüger's book from 1912 has been scanned, and is freely 
available as a pdf-file:

Krüger, L.
Konforme Abbildung des Erdellipsoids in der Ebene.
Potsdam : Teubner, 1912. 172 p.
http://edoc.gfz-potsdam.de/gfz/10452


I also found a paper in Journal of Geodesy. I have only seen
the abstract, so I don't know how interesting it is, but I 
mention it since it was published this year:

Bermejo-Solera, Mercedes and Otero, Jesús.
Simple and highly accurate formulas for the computation 
of Transverse Mercator coordinates from longitude and 
isometric latitude.
Journal of Geodesy, Online First, April 2008, Springer.
http://adsabs.harvard.edu/abs/2008JGeod.tmp...24B

Best regards,
--
Mikael Rittri
Carmenta AB
Box 11354
SE-404 28 Göteborg
Visitors: Sankt Eriksgatan 5
SWEDEN
Tel: +46-31-775 57 37
Mob: +46-703-60 34 07 
mikael.rittri at carmenta.com
www.carmenta.com

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080617/147ce056/attachment.html>

From warmerdam at pobox.com  Tue Jun 17 18:14:10 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 17 Jun 2008 21:14:10 -0400
Subject: [Proj] tmerc "folding back" far from the central meridian
In-Reply-To: <200806171820.52448.geraldi.evenden@gmail.com>
References: <4857EA35.8090302@pobox.com>
	<200806171820.52448.geraldi.evenden@gmail.com>
Message-ID: <48586162.2020609@pobox.com>

Gerald I. Evenden wrote:
> On Tuesday 17 June 2008 12:45 pm, Frank Warmerdam wrote:
>> Folks (mostly Gerald),
>>
>> The tmerc projection has a tendency to fold back on itself when you get
>> really far from the central meridian.  This causes problems when
>> applications naively try to reproject locations from all around the world
>> into transverse mercator without regard to appropriateness.
>>
>> What I would like is if we could make the tmerc projection fail (ie return
>> HUGE_VAL) for points so far from the central meridian that they are likely
>> to start folding back on themselves.
> 
> etmerc has one limit level which is only a few degrees from del-lambda=90.  
> The original code had several "levels" of error of with different return 
> codes but because there was not anyway to do this multilevel return in 
> libproj4 I just used the one at the furthest extent.

Gerald,

I'm not sure what you mean above.  I looked through the code for transverse
mercator in PROJ.4, and libproj4 and I don't observe any obvious limit
logic on lam or y.

> But the method of establishing a limit would appear to be done on the basis of 
> Easting rather than a cutoff due to a lat-lon limit check.  Perhaps do the 
> calculation regarless of geographic coordinates and then reject based upon 
> easting greater than a percentage of a or R or, of course, equation failure.

I can understand this, but the problem is that the lon/lat to
projected conversion is giving a plausible location near the
central meridian in TM projected coordinates even though the
lon/lat location was very very far from the central meridian.
So I don't see how checking the easting after reprojection is
going to be sufficient.

See:
   http://trac.osgeo.org/proj/ticket/5

> On inverse projection just reject if |easting| too large.
 >
> Allow an override option for those who want to play around.  ;-)

I have taken the liberty of adding you as a cc: on the ticket.
If you are interested in adding notes in the ticket, you would need
to create an OSGeo login at:

   https://www.osgeo.org/cgi-bin/ldap_create_user.py

and then login using that.

I'm going to do a preliminary hack, but I'm hoping you will
consider applying a more generalized/good solution upstream in
libproj4.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From pbander at cavtel.net  Wed Jun 18 09:08:54 2008
From: pbander at cavtel.net (Paul B. Anderson)
Date: Wed, 18 Jun 2008 12:08:54 -0400
Subject: [Proj] Some Map Projection Formula Resources
Message-ID: <CA2BC0DEB09F460192C8B98CE7F4A18E@ISUCONNECT>

- Hi Everyone,

I thought I might share with you some of the Map Projection Formula 
resources that I have:

- John Parr Snyder's personal software [MSDOS, Quick Basic source code] . 
While his software is fully functional (send me an e-mail if you want to 
know more) most people just extract it to a single subdirectory (or Folder) 
and pull out the formulas (Warning -- John's code is not easy to follow):
http://www.csiss.org/map-projections/snyder/

======
German Cartographer Hans Maurer's 1935 map projection catalogue:
http://www.csiss.org/map-projections/maurer/

== file descriptions ==

-  MP_Class.txt            05-Oct-2007 18:19  2.6K
 My text from a long forgotten Usenet post - it can also be found here:
 http://mapmaker.rutgers.edu/355/AndersonProjectionPointers.html

- In the 1930s Hans Maurer published his map projection catalogue. In 1968 
someone at Harvard did a literal translation of it from German to English. 
BTW, you can stil get this english translation from the Library of Congress 
if you are willing to put out 75 dollars for a very poorly done photocopy.

Note that the Maling PDF document at my map projection web site contains a 
graphic showing Maurer's classification scheme compared to that of L. P. Lee 
and Waldo Tobler.

Main document (in 2 parts):
 M_1.pdf                 05-Oct-2007 18:20   19M
 M_2.pdf                 05-Oct-2007 18:21   18M

Better copies of the document's graphics (from Dr. Waldo Tobler):
 M_G.pdf                 05-Oct-2007 18:21  3.0M

My feeble attempt at identifying the Maurer formulas in the context of 
today's map projection names:
 Maurer.txt              05-Oct-2007 18:21  7.8K
Note that any additions or corrections here are welcome.

A seven (7) page table (in German) from the end of the document listing the 
presented map projections and their formulas. Poorly done in the original 
photocopy, these 'enlarged' pages were provided to me by Dr. Tobler as paper 
documents. they are 11x17 page size, and in landscape. I just scanned them 
to PDF:

 page_1.pdf              05-Oct-2007 18:21  281K
 page_2.pdf              05-Oct-2007 18:21  266K
 page_3.pdf              05-Oct-2007 18:21  273K
 page_4.pdf              05-Oct-2007 18:21  244K
 page_5.pdf              05-Oct-2007 18:21  251K
 page_6.pdf              05-Oct-2007 18:21  271K
 page_7.pdf              05-Oct-2007 18:21  254K

======
Tobler

A partial list of Azimuthal equations:
http://www.galleryofmapprojections.com/Tobler/AzEqns.PDF
Note that my math skills are not up snuff in figuring out some of the 
equations presented. Any help here would be appreciated.

One of the things I've experimented with in the last year is a variation of 
the Tobler graphic (after gedymin) on page 9 of this reference:
http://www.galleryofmapprojections.com/Tobler/GeoCoordCompP2.pdf

Here is my version, done entirely in ArcGIS 9.2, but, it has problems with 
all the graticules of the single hemisphere Azimuthals.
http://www.galleryofmapprojections.com/images/gedymin_prof.pdf

What frustrates me is that I'm only 2 courses from completing Old Dominion 
University's 'GIS certificate' and I've had 3 of their courses using ArcGIS. 
I have yet to learn how to fix my Hemisphere graticule problem. Here are the 
project files if anyone wants to tinker with it:
http://www.galleryofmapprojections.com/Anderson/arcgis_gedymin.zip

======
Anderson

Some of MY old stuff:
http://www.csiss.org/map-projections/anderson/

In particular 'wv.zip' - compiled MSDOS Quick Basic, extract it to any 
subdirectory (folder) and run 'wv.exe'.

And 'wvsrc_2007.zip', my reasonably readable source code in  Quick Basic. 
While my software is not perfect, the majority of the graphics at my web 
site were initially created with this software as HPGL files. They were then 
brought into Corel Draw  where I cleaned and sized them before exporting 
them back out as PDF files. I ran out of room in the MSDOS environment, so I 
have around 125 more stand alone programs for some of my other graphics.

Take Care,
- Paul B. Anderson 



From support.mn at elisanet.fi  Wed Jun 18 14:35:18 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Thu, 19 Jun 2008 00:35:18 +0300 (EEST)
Subject: [Proj] tmerc
Message-ID: <9353229.397131213824919060.JavaMail.support.mn@elisanet.fi>

> The tmerc projection has a tendency to fold back on itself when you get
> really far from the central meridian.  This causes problems when applications
> naively try to reproject locations from all around the world into transverse
> mercator without regard to appropriateness.
> 
> What I would like is if we could make the tmerc projection fail (ie return
> HUGE_VAL) for points so far from the central meridian that they are likely
> to start folding back on themselves.
> 
> Is this a reasonable idea?  What longitude range would be suitable?
> Should we make this conditional on some extra parameter in the projeciton
> definition?  I have a ticket at:

Hello, some ideas:

The idea about the warning is ok, but let the library try as far as possible.

I think best would be to try to do what the projection says as far as possible,
since the distortion is part of the original "deal" (so not to return HUGE_VAL's,
but what ever it can do and then add maybe a warning somwhere that the
coordinates produced have more error than some predefined level allows).

The application could then start to limit the output or continue to generate
something based on the warning issued by some mechanism. But the
library should try as long as possible. There is no correct projection, since
every projection produces errors somewhere, there is no such plane
available that can represent a ball without any errors.

There are basicly 2 errors in coordinates:

1) Error compared to the ideal projection (more or less proj-4
     internal error). Library application programmers would hope
     this would be zero, But what I have understood it is not.

    double max_routine_error; // generate warning if greater than this

2) Error compared to the actual point and generated. This is what
     the end user is worried about. They tend to belive that it is
     possible to represent earth on a plane without any errors.

     double max_point_error; // generate warning if greater than this

There could also be more warnings about several other issues, such as
illegal projection parameters etc. Since users tend to try what ever and if
the library does not issue a warning they might belive they have it right.

Basicly the library should set a flag for warning and the application should
check this flag where wanted and then fetch the actal warning using some
kind of a standard mechanism. The error text should be predefined in the
library (in english) so that they could be shown to the user if wanted.

      int pj_check_warning();
      // returns none zero if warning triggered (= pj_error_number)

      char* pj_get_warning_text(int errno);
      // using previous error number return the text associated with it

Regards: Janne



-- 




From geraldi.evenden at gmail.com  Fri Jun 20 08:28:49 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Fri, 20 Jun 2008 11:28:49 -0400
Subject: [Proj] A bit of help with French, por favor.
Message-ID: <200806201128.49741.geraldi.evenden@gmail.com>

I have run into three phrases labeling projection states:

cas de la sphere de courbure
cas de la sphere equatoriale
cas de la sphere bitangente

The equitorial case seems obvious, the translation web site can't come up with 
anything for bitangente and "curve" for courbure does not mean anything to 
me.

Any ideas would be helpful.

I apologize for being too lazy to do the accents.
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From cjmce at lsu.edu  Fri Jun 20 08:41:06 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 20 Jun 2008 10:41:06 -0500
Subject: [Proj] A bit of help with French, por favor.
References: <200806201128.49741.geraldi.evenden@gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2307@email002.lsu.edu>

How about:
 
sphere de courbure = spherical curvature
 
cas de la sphere bitangente = secant to the sphere (one however, would expect sécante)
 
Cliff Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Fri 20-Jun-08 10:28
To: PROJ.4 and general Projections Discussions
Subject: [Proj] A bit of help with French, por favor.



I have run into three phrases labeling projection states:

cas de la sphere de courbure
cas de la sphere equatoriale
cas de la sphere bitangente

The equitorial case seems obvious, the translation web site can't come up with
anything for bitangente and "curve" for courbure does not mean anything to
me.

Any ideas would be helpful.

I apologize for being too lazy to do the accents.
--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080620/9e87211b/attachment.html>

From ovv at hetnet.nl  Fri Jun 20 10:41:52 2008
From: ovv at hetnet.nl (OvV_HN)
Date: Fri, 20 Jun 2008 19:41:52 +0200
Subject: [Proj] A bit of help with French, por favor.
In-Reply-To: <200806201128.49741.geraldi.evenden@gmail.com>
References: <200806201128.49741.geraldi.evenden@gmail.com>
Message-ID: <FB8604F9735C4A9198B2F008365C8074@PCHP>

This has been discussed earlier in the case of the French  Laborde 
projections.
(I have currently no access to my files or emails, so from memory...)
If I remember correctly, the libproj stmerc projection was the same as one 
of the 3 French (IGN) Laborde projections.
I assume that these projections are double projections and work with an 
intermediate sphere.
The sphère de courbure has an intermediate sphere with a radius equal to the 
radius of curvature at the touching point - or something like that.
The sphère équatorial has a radius equal to the semi-major (equatorial) axis 
of the ellipsoid.
The sphère bitangente touches the ellipsoid twice, I guess. Don't ask me 
where, but this could give a clue looking at the formulae.
See:
http://www.ign.fr/rubrique.asp?rbr_id=1700&lng_id=FR#68096
and NT/G 73 for the French Laborde projection formulae.
Hope this will help.

Oscar van Vlijmen

----- Original Message ----- 
From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Friday, June 20, 2008 5:28 PM
Subject: [Proj] A bit of help with French, por favor.


>I have run into three phrases labeling projection states:
>
> cas de la sphere de courbure
> cas de la sphere equatoriale
> cas de la sphere bitangente
>
> The equitorial case seems obvious, the translation web site can't come up 
> with
> anything for bitangente and "curve" for courbure does not mean anything to
> me.
>
> Any ideas would be helpful.
>
> 




From cjmce at lsu.edu  Fri Jun 20 13:14:29 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 20 Jun 2008 15:14:29 -0500
Subject: [Proj] A bit of help with French, por favor.
References: <200806201128.49741.geraldi.evenden@gmail.com>
	<FB8604F9735C4A9198B2F008365C8074@PCHP>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC2308@email002.lsu.edu>

The sphère de courbure has an intermediate sphere with a radius equal to the
radius of curvature at the touching point - or something like that.

That's the Gaussian Sphere.
 
Cliff Muginer
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of OvV_HN
Sent: Fri 20-Jun-08 12:41
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] A bit of help with French, por favor.



This has been discussed earlier in the case of the French  Laborde
projections.
(I have currently no access to my files or emails, so from memory...)
If I remember correctly, the libproj stmerc projection was the same as one
of the 3 French (IGN) Laborde projections.
I assume that these projections are double projections and work with an
intermediate sphere.
The sphère de courbure has an intermediate sphere with a radius equal to the
radius of curvature at the touching point - or something like that.
The sphère équatorial has a radius equal to the semi-major (equatorial) axis
of the ellipsoid.
The sphère bitangente touches the ellipsoid twice, I guess. Don't ask me
where, but this could give a clue looking at the formulae.
See:
http://www.ign.fr/rubrique.asp?rbr_id=1700&lng_id=FR#68096
and NT/G 73 for the French Laborde projection formulae.
Hope this will help.

Oscar van Vlijmen

----- Original Message -----
From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
To: "PROJ.4 and general Projections Discussions" <proj at lists.maptools.org>
Sent: Friday, June 20, 2008 5:28 PM
Subject: [Proj] A bit of help with French, por favor.


>I have run into three phrases labeling projection states:
>
> cas de la sphere de courbure
> cas de la sphere equatoriale
> cas de la sphere bitangente
>
> The equitorial case seems obvious, the translation web site can't come up
> with
> anything for bitangente and "curve" for courbure does not mean anything to
> me.
>
> Any ideas would be helpful.
>
>


_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080620/d9035893/attachment.html>

From geraldi.evenden at gmail.com  Fri Jun 20 19:38:46 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Fri, 20 Jun 2008 22:38:46 -0400
Subject: [Proj] A bit of help with French, por favor.
In-Reply-To: <FB8604F9735C4A9198B2F008365C8074@PCHP>
References: <200806201128.49741.geraldi.evenden@gmail.com>
	<FB8604F9735C4A9198B2F008365C8074@PCHP>
Message-ID: <200806202238.46458.geraldi.evenden@gmail.com>

On Friday 20 June 2008 1:41 pm, OvV_HN wrote:
> This has been discussed earlier in the case of the French  Laborde
> projections.
> (I have currently no access to my files or emails, so from memory...)
> If I remember correctly, the libproj stmerc projection was the same as one
> of the 3 French (IGN) Laborde projections.

Yes, I dug out that old allegation also but I am somewhat skeptical.  At the 
moment I cannot get stmerc to replicate the example numbers in NTG-73.

By using the proj_gauss function the double projection is like falling off a 
log and the code makes it obvious that stmerc is using the spherical 
transverse Mercator formulas.  But the NTG-73 procedure is of the old school 
and the formulas are intertwined and it is unclear the nature of the final 
spherical formula.

Unlike the transverse Mercators we are used where h=k=1 along the CM, stmerc 
has only one point at the projection origin where h=k=1.

I am also doubtful that Schreiber is the correct designation.

> I assume that these projections are double projections and work with an
> intermediate sphere.
> The sphère de courbure has an intermediate sphere with a radius equal to
> the radius of curvature at the touching point - or something like that. The
> sphère équatorial has a radius equal to the semi-major (equatorial) axis of
> the ellipsoid.
> The sphère bitangente touches the ellipsoid twice, I guess. Don't ask me
> where, but this could give a clue looking at the formulae.
> See:
> http://www.ign.fr/rubrique.asp?rbr_id=1700&lng_id=FR#68096
> and NT/G 73 for the French Laborde projection formulae.
> Hope this will help.
	...
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist



From willy.hersman at conocophillips.com  Mon Jun 23 08:52:21 2008
From: willy.hersman at conocophillips.com (Hersman, William)
Date: Mon, 23 Jun 2008 07:52:21 -0800
Subject: [Proj] True North Angle
Message-ID: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>

Hello,

Does anyone know the formula to calculate the deviation angle between
true north and Universal Transverse Mercator grid north?  Thanks.

Willy Hersman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080623/4af24ec4/attachment.html>

From cjmce at lsu.edu  Mon Jun 23 09:17:27 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 23 Jun 2008 11:17:27 -0500
Subject: [Proj] True North Angle
References: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC230A@email002.lsu.edu>

Manual of Photogrammetry, 5th edition, Chapter 3, page 21, equation 3.74
 
Cliff Mugnier
Louisiana State University

________________________________

From: proj-bounces at lists.maptools.org on behalf of Hersman, William
Sent: Mon 23-Jun-08 10:52
To: proj at lists.maptools.org
Subject: [Proj] True North Angle



Hello, 

Does anyone know the formula to calculate the deviation angle between true north and Universal Transverse Mercator grid north?  Thanks.

Willy Hersman 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080623/ad313403/attachment.html>

From dcmikkelsen at terraetl.com  Mon Jun 23 09:44:24 2008
From: dcmikkelsen at terraetl.com (Dean C.Mikkelsen)
Date: Mon, 23 Jun 2008 09:44:24 -0700
Subject: [Proj] True North Angle
In-Reply-To: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>
References: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>
Message-ID: <web-42373810@redback.webnames.ca>

Hi Willy,

Please take a look at:

http://cgc.rncan.gc.ca/geomag/field/magdec_e.php

The difference between True North and Magnetic North 
changes over time.

The Australian's also have a good site and it is located 
here:

http://www.ga.gov.au/oracle/geomag/agrfform.jsp

Let me know if you have any questions.

Cheers,
Dean



On Mon, 23 Jun 2008 07:52:21 -0800
  "Hersman, William" <willy.hersman at conocophillips.com> 
wrote:
> Hello,
> 
> Does anyone know the formula to calculate the deviation 
>angle between
> true north and Universal Transverse Mercator grid north? 
> Thanks.
> 
> Willy Hersman

Dean C. Mikkelsen, B.Sc., P.Eng.

E-mail: dcmikkelsen at terraetl.com

http://www.terraetl.com



From geraldi.evenden at gmail.com  Mon Jun 23 09:47:28 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 23 Jun 2008 12:47:28 -0400
Subject: [Proj] True North Angle
In-Reply-To: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>
References: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>
Message-ID: <200806231247.29087.geraldi.evenden@gmail.com>

On Monday 23 June 2008 11:52 am, Hersman, William wrote:
> Hello,
>
> Does anyone know the formula to calculate the deviation angle between
> true north and Universal Transverse Mercator grid north?  Thanks.
>
> Willy Hersman

How accurate to you want?  lproj -V does a reasonable job for convergence for 
*any* projection.

lproj +proj=utm +zone=31 +ellps=WGS84 -V
#Universal Transverse Mercator (UTM)
#       Cyl, Sph
#       zone= south
# +proj=utm +zone=31 +ellps=WGS84
#Final Earth figure: ellipsoid
#  Major axis (a): 6378137.000
#  1/flattening: 298.257224
#  squared eccentricity: 0.006694379990
2 45                              <----------------------------- entered value
Longitude: 2dE [ 2 ]
Latitude:  45dN [ 45 ]
Easting (x):   421184.70
Northing (y):  4983436.77
Meridian scale (h) : 0.99967638  ( -0.03236 % error )
Parallel scale (k) : 0.99967638  ( -0.03236 % error )
Areal scale (s):     0.99935287  ( -0.06471 % error )
Angular distortion (w): 0.000
Meridian/Parallel angle: 90.00000
Convergence : -0d42'25.715" [ -0.70714305 ]                 <-------
Max-min (Tissot axis a-b) scale error: 0.99968 0.99968

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From geraldi.evenden at gmail.com  Mon Jun 23 09:49:35 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 23 Jun 2008 12:49:35 -0400
Subject: [Proj] Regarding projection stmerc and Gause-Laborde
Message-ID: <200806231249.35125.geraldi.evenden@gmail.com>

Some time ago someone claimed the stmerc and Gauss-Laborde were the same 
projection but at the time I the only material I had on the Gauss-Laborde was 
the NT/G 73 pdf.  The math in '73 was not easy and the tables for testing 
were obscure.  Given lazyness and other pressures I abandoned varifying the 
claim.

Recently Richard Didier offered his code for '73 for inclusion into libproj4 
so this resurrected the question about stmerc.  After doing a quick 
conversion of the code into libproj4 format I did some checking and again the 
messy tables of '73 confused things.  Didier pointed to the definition of the 
Reunion grid which I made into the following script:

# grid definition for L'lle de la Réunion from
# http://www.ign.fr/telechargement/MPro/geodesie/CIRCE/systemeReunion.pdf
RE="+ellps=intl +lon_0=55d32'E +lat_0=21d07'S +x_0=160000 +y_0=50000 +k_0=1.0"
lproj +proj=stmerc $RE -f %.4f <<EOF
55d30E 21dS
EOF

where the test longitude and latitude are from the the lefthand column of the 
table on page 3/3 of '73.  The x-y results are:

156534.1771     62916.9251

which depart only by .1mm in the y axis.

Soapbox time:

It is interesting to compare the computational layout of stmerc as compared to 
the documentation in NT/G 73.  Because this projection is a standard 
conformal double conversion of geographic coordinates of the ellipse to an 
equivalent sphere followed by a conformal projection of the sphere the 
forward code in stmerc looks like:

   lp = proj_gauss(lp, P->en); // standard geographic -> sphere conversion
    xy.x = P->aks0 * atanh(cos(lp.phi)*sin(lp.lam)); // standard sphere tmerc
    xy.y = P->aks0 * (atan2(tan(lp.phi),cos(lp.lam)) - P->chi);

I will not go further into my issues with the NT/G series.
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist



From ovv at hetnet.nl  Mon Jun 23 10:57:23 2008
From: ovv at hetnet.nl (OvV_HN)
Date: Mon, 23 Jun 2008 19:57:23 +0200
Subject: [Proj] True North Angle
In-Reply-To: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>
References: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>
Message-ID: <A94B540E4E1B490D9D9598F4970690F0@PCHP>

The DMA manual TM8358.2 has a formula
http://earth-info.nga.mil/GandG/publications/
The convergence can be calculated from grid coordinates or from geographic 
coordinates.

For wide TM applications one could consult the Finnish JHS 154 publication.
See page 20 of the pdf.
http://www.jhs-suositukset.fi/suomi/jhs154


Oscar van Vlijmen


----- Original Message ----- 
From: "Hersman, William" <willy.hersman at conocophillips.com>
To: <proj at lists.maptools.org>
Sent: Monday, June 23, 2008 5:52 PM
Subject: [Proj] True North Angle


Hello,

Does anyone know the formula to calculate the deviation angle between
true north and Universal Transverse Mercator grid north?  Thanks.






From geraldi.evenden at gmail.com  Mon Jun 23 13:23:18 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 23 Jun 2008 16:23:18 -0400
Subject: [Proj] Changing the name or stmerc to glaborde
Message-ID: <200806231623.18723.geraldi.evenden@gmail.com>

Does anyone have any objection or comment on this change in the next release 
of libproj4?
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From cjmce at lsu.edu  Mon Jun 23 13:25:16 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 23 Jun 2008 15:25:16 -0500
Subject: [Proj] Changing the name or stmerc to glaborde
References: <200806231623.18723.geraldi.evenden@gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC230E@email002.lsu.edu>

Sounds like an excellent idea to me.
 
Cliff Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Mon 23-Jun-08 15:23
To: PROJ.4 and general Projections Discussions
Subject: [Proj] Changing the name or stmerc to glaborde



Does anyone have any objection or comment on this change in the next release
of libproj4?
--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080623/2d263908/attachment.html>

From support.mn at elisanet.fi  Mon Jun 23 16:17:01 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Tue, 24 Jun 2008 02:17:01 +0300 (EEST)
Subject: [Proj] True North Angle
Message-ID: <14474110.1121081214263021429.JavaMail.support.mn@elisanet.fi>

> Hello,
> 
> Does anyone know the formula to calculate the deviation angle between
> true north and Universal Transverse Mercator grid north?  Thanks.
> 
> Willy Hersman
> 

Hello,

There is a way to avoid any specific calculations and make an universal
routine to do that (if you are using proj-4 as a library). You need first your
position on the map in lat/lon coordinates. Lets say this is P1.

Then you just make some helper point from that point, let's say for
example 50 meters north, let's call this P2

Based on lat/lon value of P1 the point P2 is easy to calculate: P2lon will
be the same as P1lon, but P2lat will be 1852*60*360/50 degrees more
north. So you do the addition. Now you have two points in lat/lon and you
know that this is the true north (or what ever) direction on the earth between
these points.

Then you just project them using the actual projection you have at that
moment. And now it is easy to calculate the projection north difference
from the actual true north (which is between P1 and P2), that is:

alpha_diff = atan( (P2north - P1north)/(P2east-P1east))

north/east values are the projected output coordinates from proj-4
library.

and that difference is positive east wards... if I figured it out correctly.

But what ever, that is very easy and works with any projection. The only
limitation is that if it overflows near poles. But anywhere not closer than
50 meters to north pole it should work fine.

If you are closer than, let's say 100 m, to north pole you just reverse the
direction and find out what is the true south instead.

Regards: Janne



From geraldi.evenden at gmail.com  Mon Jun 23 16:58:47 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 23 Jun 2008 19:58:47 -0400
Subject: [Proj] True North Angle
In-Reply-To: <14474110.1121081214263021429.JavaMail.support.mn@elisanet.fi>
References: <14474110.1121081214263021429.JavaMail.support.mn@elisanet.fi>
Message-ID: <200806231958.47204.geraldi.evenden@gmail.com>

On Monday 23 June 2008 7:17 pm, support.mn at elisanet.fi wrote:
> > Hello,
> >
> > Does anyone know the formula to calculate the deviation angle between
> > true north and Universal Transverse Mercator grid north?  Thanks.
> >
> > Willy Hersman
>
> Hello,
>
> There is a way to avoid any specific calculations and make an universal
> routine to do that (if you are using proj-4 as a library). You need first
> your position on the map in lat/lon coordinates. Lets say this is P1.

A simpler alternative:

If you are using the libproj4 library there is the function:

int proj_factors(PROJ_LP lp, PROJ *P, double h, struct PROJ_FACTORS *fac)

where:
lp is the geographic coordinate that you want the factors
P is the previously initialized projection
h: if non-zero is a small difference to use to determine partial differentials
     normally use 0.
fac: is a structure containing (from lib_proj.h):

struct PROJ_FACTORS {
    struct PROJ_DERIVS der;
    double h, k;    /* meridinal, parallel scales */
    double omega, thetap;   /* angular distortion, theta prime */
    double conv;    /* convergence */
    double s;       /* areal scale factor */
    double a, b;    /* max-min scale error */
    int code;       /* info as to analytics, see following */
};

the above value "conv" is what you are interested in.

If your data is in x-y space do:
	proj_factors(proj_inv(xy, P), P, 0., *facs);

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From willy.hersman at conocophillips.com  Tue Jun 24 09:23:47 2008
From: willy.hersman at conocophillips.com (Hersman, William)
Date: Tue, 24 Jun 2008 08:23:47 -0800
Subject: [Proj] True North Angle
In-Reply-To: <200806231247.29087.geraldi.evenden@gmail.com>
References: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EED3@ancexmb2.conoco.net>
	<200806231247.29087.geraldi.evenden@gmail.com>
Message-ID: <A9AC87CDA7DB664689BCB76FC4275AAF01F0EEDF@ancexmb2.conoco.net>

 Thanks to all for the helpful responses.  It looks like this simple
call to proj will work fine for what I need.

Willy

-----Original Message-----
From: proj-bounces at lists.maptools.org
[mailto:proj-bounces at lists.maptools.org] On Behalf Of Gerald I. Evenden
Sent: Monday, June 23, 2008 8:47 AM
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] True North Angle

On Monday 23 June 2008 11:52 am, Hersman, William wrote:
> Hello,
>
> Does anyone know the formula to calculate the deviation angle between
> true north and Universal Transverse Mercator grid north?  Thanks.
>
> Willy Hersman

How accurate to you want?  lproj -V does a reasonable job for
convergence for 
*any* projection.

lproj +proj=utm +zone=31 +ellps=WGS84 -V
#Universal Transverse Mercator (UTM)
#       Cyl, Sph
#       zone= south
# +proj=utm +zone=31 +ellps=WGS84
#Final Earth figure: ellipsoid
#  Major axis (a): 6378137.000
#  1/flattening: 298.257224
#  squared eccentricity: 0.006694379990
2 45                              <----------------------------- entered
value
Longitude: 2dE [ 2 ]
Latitude:  45dN [ 45 ]
Easting (x):   421184.70
Northing (y):  4983436.77
Meridian scale (h) : 0.99967638  ( -0.03236 % error )
Parallel scale (k) : 0.99967638  ( -0.03236 % error )
Areal scale (s):     0.99935287  ( -0.06471 % error )
Angular distortion (w): 0.000
Meridian/Parallel angle: 90.00000
Convergence : -0d42'25.715" [ -0.70714305 ]                 <-------
Max-min (Tissot axis a-b) scale error: 0.99968 0.99968

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj



From geraldi.evenden at gmail.com  Wed Jun 25 12:55:08 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Wed, 25 Jun 2008 15:55:08 -0400
Subject: [Proj] Gauss-Schreiber: the continuing story
Message-ID: <200806251555.08948.geraldi.evenden@gmail.com>

Mugnier's Chap. 3  of *The Mathematics of Photogrametry* claims that the 
Gauss-Schreiber projection is just an additional truncation of the Taylor 
series Gauss-Kruger---like the Gauss-Boaga but one step further.

However, referring to p. 163 of *Map Projections---A reference manual* by 
Bugayevskiy and Snyder:

"The Gauss-Schreider projection was developed about 1880 and used for the 
Prussian land survey.  It consists of a double conformal transformation of 
the  ellipse onto the sphere and then of the sphere onto the plane using the 
spherical transverse Mercator projection.  The central merdian varies in 
scale."

And, of course, we have the IGN claim with Laborde in NT/G 73.  I am not sure 
what the timing was but because Laborde's Madegascar efforts were circa 1929 
then the best he can probably claim is rediscovering the projection.  The 
Madagascar should not be confused with the NT/G 73 and I am only  using it as 
a reference to one period where we know he was active as I do not have his 
birth-death dates.

I am now of the opinion that libproj4's original designation of the projection 
is correct and a only a documention note should be made that it may have also 
have been used by Laborde at a later date.

More comments on Gauss-Schreiber's truncated Taylor series later.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From support.mn at elisanet.fi  Thu Jun 26 11:47:55 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Thu, 26 Jun 2008 21:47:55 +0300 (EEST)
Subject: [Proj] Gauss-Schreiber: the continuing story
Message-ID: <7999075.1219801214506075929.JavaMail.support.mn@elisanet.fi>

Hello,

Just noticed that:

> Laborde's Madegascar efforts were circa 1929 

Wikipedia is telling that  Jean Laborde lived (16 October 1805 in Auch -
27 December 1878 in Madagascar).

http://en.wikipedia.org/wiki/Jean_Laborde

But is this some other person?

Regards: Janne

-------------------

> "The Gauss-Schreider projection was developed about 1880 and used for the 
> Prussian land survey.  It consists of a double conformal transformation of 
> the  ellipse onto the sphere and then of the sphere onto the plane using the 
> spherical transverse Mercator projection.  The central merdian varies in 
> scale."
> 
> And, of course, we have the IGN claim with Laborde in NT/G 73.  I am not sure 
> what the timing was but because Laborde's Madegascar efforts were circa 1929 
> then the best he can probably claim is rediscovering the projection.  The 
> Madagascar should not be confused with the NT/G 73 and I am only  using it as 
> a reference to one period where we know he was active as I do not have his 
> birth-death dates.



From cjmce at lsu.edu  Thu Jun 26 11:55:23 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Thu, 26 Jun 2008 13:55:23 -0500
Subject: [Proj] Gauss-Schreiber: the continuing story
References: <7999075.1219801214506075929.JavaMail.support.mn@elisanet.fi>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC231F@email002.lsu.edu>

Some other person, and a different century.  The projection was cooked up by Laborde, a French Army Officer that later retired and taught mathematical cartography and geodesy in Paris.  When he retired, he was a General officer.  Traite des Projections was co-authored by him and Driencourt in 1934 or 1936 in two volumes published in Paris.  Long out of print, it was only one edition and in French only.
 
I have no idea if they were related ... curious coincidence if not.  
 
Cliff Mugnier
LSU

________________________________

From: proj-bounces at lists.maptools.org on behalf of support.mn at elisanet.fi
Sent: Thu 26-Jun-08 13:47
To: PROJ.4 and general Projections Discussions; geraldi.evenden at gmail.com
Subject: Re: [Proj] Gauss-Schreiber: the continuing story



Hello,

Just noticed that:

> Laborde's Madegascar efforts were circa 1929

Wikipedia is telling that  Jean Laborde lived (16 October 1805 in Auch -
27 December 1878 in Madagascar).

http://en.wikipedia.org/wiki/Jean_Laborde

But is this some other person?

Regards: Janne

-------------------

> "The Gauss-Schreider projection was developed about 1880 and used for the
> Prussian land survey.  It consists of a double conformal transformation of
> the  ellipse onto the sphere and then of the sphere onto the plane using the
> spherical transverse Mercator projection.  The central merdian varies in
> scale."
>
> And, of course, we have the IGN claim with Laborde in NT/G 73.  I am not sure
> what the timing was but because Laborde's Madegascar efforts were circa 1929
> then the best he can probably claim is rediscovering the projection.  The
> Madagascar should not be confused with the NT/G 73 and I am only  using it as
> a reference to one period where we know he was active as I do not have his
> birth-death dates.

_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080626/65fce199/attachment.html>

From geraldi.evenden at gmail.com  Thu Jun 26 12:18:19 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Thu, 26 Jun 2008 15:18:19 -0400
Subject: [Proj] Gauss-Schreiber: the continuing story
In-Reply-To: <7999075.1219801214506075929.JavaMail.support.mn@elisanet.fi>
References: <7999075.1219801214506075929.JavaMail.support.mn@elisanet.fi>
Message-ID: <200806261518.19307.geraldi.evenden@gmail.com>

Sbyder, in "Flattening the Earth", p. 162: "Jean Laborde, chief of the Service 
Geographique of Madagascar, presented this version in 1926 ... "  Unless its 
his ghost, it must be another Laborde.  ;-)

On Thursday 26 June 2008 2:47 pm, support.mn at elisanet.fi wrote:
> Hello,
>
> Just noticed that:
> > Laborde's Madegascar efforts were circa 1929
>
> Wikipedia is telling that  Jean Laborde lived (16 October 1805 in Auch -
> 27 December 1878 in Madagascar).
>
> http://en.wikipedia.org/wiki/Jean_Laborde
>
> But is this some other person?
>
> Regards: Janne
>
> -------------------
>
> > "The Gauss-Schreider projection was developed about 1880 and used for the
> > Prussian land survey.  It consists of a double conformal transformation
> > of the  ellipse onto the sphere and then of the sphere onto the plane
> > using the spherical transverse Mercator projection.  The central merdian
> > varies in scale."
> >
> > And, of course, we have the IGN claim with Laborde in NT/G 73.  I am not
> > sure what the timing was but because Laborde's Madegascar efforts were
> > circa 1929 then the best he can probably claim is rediscovering the
> > projection.  The Madagascar should not be confused with the NT/G 73 and I
> > am only  using it as a reference to one period where we know he was
> > active as I do not have his birth-death dates.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From mikeo2106 at msn.com  Fri Jun 27 12:48:08 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Fri, 27 Jun 2008 19:48:08 +0000
Subject: [Proj] (no subject)
Message-ID: <BAY107-W35442F58D4D3265D094EB9A5A20@phx.gbl>


 List members--  

 Last year I defined linearity, as a map property, here, and argued for the desirability of that property on data maps, maps that show d
distributions of such things as temperature, species habitat range, etc.   I'd like to improve a little on the definitions that I posted at that time.   (by X and Y position, I mean the values of the X and Y map co-ordinates)  

Linearity:   

A map projection is linear if, on maps using that projection, Y position on the map varies linearly with latitude, and X position on the map varies linearly with longitude.   

[end of linearity definition]  

Zonal linearity:   

A map projection is zonally linear if maps using that projection can be divided into regions such that, within each region, Y position varies linearly with latitude, and X position varies linearly with longitude.

[end of zonal linearlity definition]   

I've given linearity the simpler and briefer definition above because all the zonally linear projections, other than my own linear approxmiate (LA) projections, have that briefly defined property that I've defined above as "linearity". So, the only zonally linear maps used anywhere are linear as defined above. My LA projections are the only projections I've heard of that are zonally linear without being linear, by the above definitions.   

In previous postings, I defined an even wordier kind of linearlity, which I'll give a name here, though I don't think this property really needs naming, because I know of no projection that has it without having the zonal linearity that I've defined above. It's alright for its name to be awkward, since I don't expect to say it often:   

Especially-broadly-defined linearity:   

A map is especially-broadly-defined-linear if it can be divided into regions such that within each region, Y position varies linearly with latitude, and if it can also be divided into regions such that X position varies linearly with longitude.   

[end of especially-broadly-defined linearity definition]   

As I said, that property has little value since I know of no projecion possessing it without also possessing zonal linearity as defined above.   

Well, one reason to speak of especially-broadly-defined linearity is to mention that it aparently amounts to the same thing as the linearly interpolable positions property (LIPP) that I defined last year. Since I'm not changing my definition of LIPP, there's no need to repeat it here.

Though not linear, the equidistant conic, Bonne, and Stabius-Werner projections obviously are more convenient for determining and finding lat/lon co-ordinates than are other non-linear projections. They deserve credit for their position-conveniene, and it deserves a name.

Polar linearity:

A map projection is polar-linear if the parallels are concentric circles, and if distance along the each parallel varies linearly with longitude, and if distance along lines passing through the center of the parallels' common center varies linearly with latitude.   

[end of polar linearity definition]   

Of course the equidistant conic, Bonne, and Stabius-Werner are polar-linear. 

Obviously polar linearity isn't as good as linearity, but it's better than what most non-linear prjecions offer for convenience in finding or determining lat/lon co-ordinates.

Some linear projections:   

Cylindrical Equidistant 
Sinusoidal 
Trapezoidal 
Eckhert III (if I remember it correctly) 
Apianus II   

My LA projections, while not being linear as defined here, are zonally linear.   

Mike Ossipoff   
 




From strebe at aol.com  Fri Jun 27 15:00:41 2008
From: strebe at aol.com (strebe)
Date: Fri, 27 Jun 2008 15:00:41 -0700
Subject: [Proj] Re: (Ossipoff's linear projections)
In-Reply-To: <BAY107-W35442F58D4D3265D094EB9A5A20@phx.gbl>
Message-ID: <2EDA023B.A114.495D.ADF6.E894E8D04E40@aol.com>


In other words, a "linear" projection is a pseudocylindric projection with equally spaced parallels.

There is no limit to how many such projections could be created. They follow the form:

x = λ • f (φ)
y = k • φ

where λ is longitude and φ is latitude and k is some arbitrary constant and f is some arbitrary function of (only) latitude. On the sphere, then, scale along parallels (also the horizontal scale factor) would be

f (φ) / cos (φ)

and scale along meridians would be

√(λ² • [∂f/∂φ]² + k²)

with a vertical scale factor of k.

Regards,
-- daan Strebe


On Jun 27, 2008, at 12:48:08 PM, "Michael Ossipoff" <mikeo2106 at msn.com> wrote:
From:   "Michael Ossipoff" <mikeo2106 at msn.com>
Subject:    [Proj] (no subject)
Date:   June 27, 2008 12:48:08 PM PDT
To: proj at lists.maptools.org

List members-- 

Last year I defined linearity, as a map property, here, and argued for the desirability of that property on data maps, maps that show d
distributions of such things as temperature, species habitat range, etc. I'd like to improve a little on the definitions that I posted at that time. (by X and Y position, I mean the values of the X and Y map co-ordinates) 

Linearity: 

A map projection is linear if, on maps using that projection, Y position on the map varies linearly with latitude, and X position on the map varies linearly with longitude. 

[end of linearity definition] 

Zonal linearity: 

A map projection is zonally linear if maps using that projection can be divided into regions such that, within each region, Y position varies linearly with latitude, and X position varies linearly with longitude.

[end of zonal linearlity definition] 

I've given linearity the simpler and briefer definition above because all the zonally linear projections, other than my own linear approxmiate (LA) projections, have that briefly defined property that I've defined above as "linearity". So, the only zonally linear maps used anywhere are linear as defined above. My LA projections are the only projections I've heard of that are zonally linear without being linear, by the above definitions. 

In previous postings, I defined an even wordier kind of linearlity, which I'll give a name here, though I don't think this property really needs naming, because I know of no projection that has it without having the zonal linearity that I've defined above. It's alright for its name to be awkward, since I don't expect to say it often: 

Especially-broadly-defined linearity: 

A map is especially-broadly-defined-linear if it can be divided into regions such that within each region, Y position varies linearly with latitude, and if it can also be divided into regions such that X position varies linearly with longitude. 

[end of especially-broadly-defined linearity definition] 

As I said, that property has little value since I know of no projecion possessing it without also possessing zonal linearity as defined above. 

Well, one reason to speak of especially-broadly-defined linearity is to mention that it aparently amounts to the same thing as the linearly interpolable positions property (LIPP) that I defined last year. Since I'm not changing my definition of LIPP, there's no need to repeat it here.

Though not linear, the equidistant conic, Bonne, and Stabius-Werner projections obviously are more convenient for determining and finding lat/lon co-ordinates than are other non-linear projections. They deserve credit for their position-conveniene, and it deserves a name.

Polar linearity:

A map projection is polar-linear if the parallels are concentric circles, and if distance along the each parallel varies linearly with longitude, and if distance along lines passing through the center of the parallels' common center varies linearly with latitude. 

[end of polar linearity definition] 

Of course the equidistant conic, Bonne, and Stabius-Werner are polar-linear. 

Obviously polar linearity isn't as good as linearity, but it's better than what most non-linear prjecions offer for convenience in finding or determining lat/lon co-ordinates.

Some linear projections: 

Cylindrical Equidistant 
Sinusoidal 
Trapezoidal 
Eckhert III (if I remember it correctly) 
Apianus II 

My LA projections, while not being linear as defined here, are zonally linear. 

Mike Ossipoff 



_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080627/99d7974a/attachment.html>

From jhollingsworth at houston.oilfield.slb.com  Fri Jun 27 16:23:57 2008
From: jhollingsworth at houston.oilfield.slb.com (Jay Hollingsworth)
Date: Fri, 27 Jun 2008 18:23:57 -0500
Subject: [Proj] Re: Proj Digest, Vol 49, Issue 27
In-Reply-To: <200806261602.m5QG2QE8021287@duke.maptools.org>
References: <200806261602.m5QG2QE8021287@duke.maptools.org>
Message-ID: <0K3500KKOABXOQE0@us085mbx01.slb.atosorigin-asp.com>


Per http://www.generals.dk/general/Laborde/Jean/France.html 
Brigadier-General Jean Laborde lived from 1882-1964.

The connection to Madagascar is too strange to be random. They must 
have been related.




Jay


At 11:02 AM 6/26/2008, you wrote:
>Date: Wed, 25 Jun 2008 15:55:08 -0400
>From: "Gerald I. Evenden" <geraldi.evenden at gmail.com>
>Subject: [Proj] Gauss-Schreiber: the continuing story
>To: "PROJ.4 and general Projections Discussions"
>         <proj at lists.maptools.org>
>Message-ID: <200806251555.08948.geraldi.evenden at gmail.com>
>Content-Type: text/plain;  charset="us-ascii"
>
>Mugnier's Chap. 3  of *The Mathematics of Photogrametry* claims that the
>Gauss-Schreiber projection is just an additional truncation of the Taylor
>series Gauss-Kruger---like the Gauss-Boaga but one step further.
>
>However, referring to p. 163 of *Map Projections---A reference manual* by
>Bugayevskiy and Snyder:
>
>"The Gauss-Schreider projection was developed about 1880 and used for the
>Prussian land survey.  It consists of a double conformal transformation of
>the  ellipse onto the sphere and then of the sphere onto the plane using the
>spherical transverse Mercator projection.  The central merdian varies in
>scale."
>
>And, of course, we have the IGN claim with Laborde in NT/G 73.  I am not sure
>what the timing was but because Laborde's Madegascar efforts were circa 1929
>then the best he can probably claim is rediscovering the projection.  The
>Madagascar should not be confused with the NT/G 73 and I am only  using it as
>a reference to one period where we know he was active as I do not have his
>birth-death dates.
>
>I am now of the opinion that libproj4's original designation of the 
>projection
>is correct and a only a documention note should be made that it may have also
>have been used by Laborde at a later date.
>
>More comments on Gauss-Schreiber's truncated Taylor series later.
>
>--
>The whole religious complexion of the modern world is due
>to the absence from Jerusalem of a lunatic asylum.
>-- Havelock Ellis (1859-1939)  British psychologist


Jay Hollingsworth

Seabed Portfolio Manager and
Principal Data Architect
Schlumberger Information Solutions
phone: 713 513 8854 fax: 713 513 2093



From support.mn at elisanet.fi  Fri Jun 27 19:15:03 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Sat, 28 Jun 2008 05:15:03 +0300 (EEST)
Subject: [Proj] Re: Proj Digest, Vol 49, Issue 27
Message-ID: <3014950.1339911214619304232.JavaMail.support.mn@elisanet.fi>

>From Wikipedia:

Jean Laborde (1805 - 1878 Madagascar)  we have:

"Laborde also built a 4-story palace covered with mirrors, and opened up mines,
roads, and bridges in various parts of the island. He built ox and horse-wagons
and a short (horse-drawn) stretch of railway."

If he really was building so much roads and railroads it must be so that he also
required good maps. Does that conect to the projection?

Regards: Janne

--------------------------

> Per http://www.generals.dk/general/Laborde/Jean/France.html 
> Brigadier-General Jean Laborde lived from 1882-1964.
> 
> The connection to Madagascar is too strange to be random. They must 
> have been related.
> 
> Jay
> 



From geraldi.evenden at gmail.com  Sat Jun 28 08:58:08 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sat, 28 Jun 2008 11:58:08 -0400
Subject: [Proj] libproj4 recall notice
In-Reply-To: <3014950.1339911214619304232.JavaMail.support.mn@elisanet.fi>
References: <3014950.1339911214619304232.JavaMail.support.mn@elisanet.fi>
Message-ID: <200806281158.09063.geraldi.evenden@gmail.com>

There has been a correction to the tmerc and, of course, UTM which is now 
available in release:

	lbp4.3_080628.tar.bz2

on the web page:

http://members.verizon.net/~gerald.evenden/proj4/

The correction applies to all previous versions of the tmerc function 
regardless of release, proj, proj4, etc.  This change also affects any other 
software which relies upon the precious versions of proj.

The degree of the changes is in the millimeter range (and equvalent effect in 
the seconds).  Comparison with non-proj cm values show only occasional 1cm 
differences.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From mikeo2106 at msn.com  Sun Jun 29 13:15:09 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Sun, 29 Jun 2008 20:15:09 +0000
Subject: [Proj] Linear projections reply
Message-ID: <BAY107-W5615455215DEEE1D9BCE8BA59C0@phx.gbl>


Strebe wrote:

> In other words, 
> a "linear" projection is a pseudocylindric projection with equally spaced parallels.

Yes, and, for maps, I like the term "linear", because of its one-word brevity, and because it directly refers to such maps' big advantage.

For that statement about "linear projection" meaning "pseudocylindrical projection with equally-spaced parallels", to be true, then "pseudocylindrical projections" must include "cylindrical projections". But "pseudo-" means "similar to, but not...". So, if cylindrical projections are considered a subset of pseudocylindrical projections, then surely pseudocylindrical projections need another name. Isn't naming and proposing terminology one of the purposes of your organization?
 
> There is no limit to how many such projections could be created. 

Yes, and I never meant to imply that my list of "some linear projections" covered all of them. Surely it goes without saying that an infinite number of linear projections could be defined.

As for the mathematical information in your letter, my computer won't display it. The screen just shows spurious characters. To make it worse, the misrepresentation of the characters doesn't even seem to be consistent.

Could the mathematics that you posted by written in ordinary plain text characters?

Surely you aren't just saying that Y varies linearly with latitude and X varies linearly with longitude, because that was my definition. If your posting tells of something interesting or curious about linear projections that I didn't know, then I regrettably miss out on being able to display the information on this computer.

Mike Ossipoff


 


From mikeo2106 at msn.com  Sun Jun 29 13:25:27 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Sun, 29 Jun 2008 20:25:27 +0000
Subject: [Proj] Objections to some projections
Message-ID: <BAY107-W118A96A4CDFF88AF91268AA59C0@phx.gbl>


I don't know why my previous post posted in such an awkward fashion, with lines wider than the screen. Maybe because I wrote it "plain text". I'll try the "rich text" option this time. My previous post, about linearity definitions, relates in a way to this list's usual discussion topic--co-ordinate transformations--because linearity greatly eases the transformation between lat/lon and X/Y co-ordinates. I hope that, because this is also a general map projections mailing list, it's alright to post this message too: It seems to me that all of the map projections that are used at all have each their own justification, advantages and appeal. But, as we all know, some of them are inappropriately used. I'd like to mention a few: 1. Nonlinear data maps: I won't say much about this, because that would be repeating what I said last year. It's just that data maps (by which I mean maps intended to show the geographical distribution of something such as temperature, climate zones, or species habitat ranges, etc.) have the primary purpose of telling where something is. The positions on the boundaries of the zones are the important thing. Most map users won't be able to accurately find or determine lat/lon positions on such a map unless it's linear. Of course another thing that someone might want from a data maps is the _areas_ of the zones. Biologists might be interested in the areas of habitat ranges. Geography instructors might want to show to their students the areas of climate or vegetation zones, etc. When linearity and equal area are both desired, the sinusoidal projection is the best choice, it being the only projection that is both linear and equal area. In general, of course, it would be good to accomodate those who want position and those who want area, and so the sinusoidal may be the best data map projection, when the user's particular need isn't known.
 It's customary to try to minimize scale variation, by using locally centered maps such as conic, azimuthal equal area, etc. But, for data maps, distance measurement is not the purpose. Position determination and maybe area depiction are the purpose. For instance, a user of a bird-book or other nature-guide asks just one question of its range-maps: Is that species found here? 2. Robinson "projection": The Robinson projection isn't a projection. Projections have a definition, and the Robinson projection doesn't have a definition. It's only defined as a family of unspecified projections. As I've read, Robinson specified numbers for the map's width at certain latitudes, and for the Y position of certain parallels. From those number lists, anyone can make their own Robinson projection by interpolating the numbers as they choose.  Correct me if I'm wrong, and if Robinson's projection has been standardized as one projection. It seems to me that Robinson's "projection" does an excellent job of achieving its intended purpose--an attractive world map with continents upright enough to not bother someone who wants uprightness, and with good shapes and reasonable areas. If only it had a definition.  Hopefully, if it hasn't happened already, publishers will agree on a standard Robinson's projection, and its definition will be disclosed somewhere. 3. Equal area maps of countries and states: Of course one often might be interested in the relative areas of data-map zones, and of countries in maps of continents and multi-country regions. But why use equal area for non-data-map maps of countries and states, unless the map's purpose is specifically to show resources, land-use, etc., for quantitative purposes? For a given type of map, equal area roughly doubles the percentage scale variation. There's no reason to do that unless equal area is genuinely important, as described in the previous paragraph.
On general-purpose maps, distance is probably the most often measured quantity, and so the scale variation shouldn't be unnecessarily doubled.
 4. Peters projection: The Peters fiasco is too well-known to justify posting about it, but I just want to mention a few things. As you know, Lambert introduced the cylindrical equal area map in the 18th century, and so there isn't really justification to name it after anyone else. Cylindrical equal area maps of course differ in their aspect ratio. That of Peters is nearly the same as that of Gall, so it's questionable to name the aspect ratio after Peters. But that's debatable, because Peters' aspect ratio isn't _exactly_ the same as Gall's. The worst thing about the Peters projection is its promotion as the only equal area projection, or the first equal area projection. Of course equal area goes back at least to sinusoidal and Stabius-Werner, in the 16th century. Arguably it goes back to Ptolemy, in Alexandria, Egypt, in Roman times. It's claimed, and I agree, that it can be reasonably assumed that one of Ptolemy's projections was intended as an approximation to what is now called the Bonne projection, an equal-area projection. Ptolemy used circles to approximate the Bonne's meridians. But, in those days, when longitudes weren't known with accuracy, there was no need for more longitude accuracy than that of his approximation. So Ptolemy's circle approximation of the meridians is perfectly justified. It must have been obvious, at the time, that one could truly divide the parallels, and that that would ideally be better, though unnecessary, given the lack of good longitude information in those days. Ptolemy invented the Bonne projection.
 Another worst thing about the Peters projection is the fact that its promoters have claimed that it should be used for all purposes. It's common knowledge that different projections are better for different purposes. Mike Ossipoff 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080629/5a0ef6cd/attachment.html>

From geraldi.evenden at gmail.com  Sun Jun 29 14:34:31 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Sun, 29 Jun 2008 17:34:31 -0400
Subject: [Proj] Objections to some projections
In-Reply-To: <BAY107-W118A96A4CDFF88AF91268AA59C0@phx.gbl>
References: <BAY107-W118A96A4CDFF88AF91268AA59C0@phx.gbl>
Message-ID: <200806291734.31663.geraldi.evenden@gmail.com>

On Sunday 29 June 2008 4:25 pm, Michael Ossipoff wrote:
> I don't know why my previous post posted in such an awkward fashion, with
> lines wider than the screen. Maybe because I wrote it "plain text". I'll
> try the "rich text" option this time. My previous post, about linearity
	...
I think the real problem is that you forgot to take your medication.

-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From mfinn at usgs.gov  Sun Jun 29 15:02:01 2008
From: mfinn at usgs.gov (Michael P Finn)
Date: Sun, 29 Jun 2008 16:02:01 -0600
Subject: [Proj] Michael P Finn of the USGS/ National Geospatial Technical
 Operations Center is out of the office.
Message-ID: <OF33EBAC1C.007F0D28-ON87257477.007908EE-87257477.007908EE@usgs.gov>


I will be out of the office starting  06/28/2008 and will not return until
07/14/2008.

I will be unable to check e-mail regularly while I am out. If I can't
respond to your message while I am out, then I will when I return. If you
have anything that cannot wait, please contact my colleague, Dr. E. Lynn
Usery, at usery at usgs.gov.     Mike



From strebe at aol.com  Sun Jun 29 16:24:32 2008
From: strebe at aol.com (strebe)
Date: Sun, 29 Jun 2008 16:24:32 -0700
Subject: [Proj] Re: Linear projections reply
In-Reply-To: <BAY107-W5615455215DEEE1D9BCE8BA59C0@phx.gbl>
Message-ID: <364AA4FA.650A.41CA.832D.6DA233449A71@aol.com>


Mr. Ossipoff:

Assuming you had some reason for posting your work, I briefly noted how your work fits in with standard definitions and mathematical formulations. Whether it "goes without saying" that there is no limit to the number of "linear" projections depends upon the reader. Perhaps it goes without saying for you. I'm at a loss to know why I would know that or why you might suppose the same must apply to every reader. In general I do not see the benefit of explaining that you already know something unless someone clearly implies that you do not.

Cylindric projections are a specialization of pseudocylindric. Whether it is incorrect to call a cylindric projection "pseudocylindric" is something best left to those of uselessly pedantic temperament.

Regards,
-- daan Strebe


On Jun 29, 2008, at 1:15:09 PM, "Michael Ossipoff" <mikeo2106 at msn.com> wrote:
Strebe wrote:

> In other words, 
> a "linear" projection is a pseudocylindric projection with equally spaced parallels.

Yes, and, for maps, I like the term "linear", because of its one-word brevity, and because it directly refers to such maps' big advantage.

For that statement about "linear projection" meaning "pseudocylindrical projection with equally-spaced parallels", to be true, then "pseudocylindrical projections" must include "cylindrical projections". But "pseudo-" means "similar to, but not...". So, if cylindrical projections are considered a subset of pseudocylindrical projections, then surely pseudocylindrical projections need another name. Isn't naming and proposing terminology one of the purposes of your organization?

> There is no limit to how many such projections could be created. 

Yes, and I never meant to imply that my list of "some linear projections" covered all of them. Surely it goes without saying that an infinite number of linear projections could be defined.

As for the mathematical information in your letter, my computer won't display it. The screen just shows spurious characters. To make it worse, the misrepresentation of the characters doesn't even seem to be consistent.

Could the mathematics that you posted by written in ordinary plain text characters?

Surely you aren't just saying that Y varies linearly with latitude and X varies linearly with longitude, because that was my definition. If your posting tells of something interesting or curious about linear projections that I didn't know, then I regrettably miss out on being able to display the information on this computer.

Mike Ossipoff

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080629/74587ffa/attachment.html>

From hamish_b at yahoo.com  Sun Jun 29 17:22:16 2008
From: hamish_b at yahoo.com (Hamish)
Date: Sun, 29 Jun 2008 17:22:16 -0700 (PDT)
Subject: [Proj] Objections to some projections
In-Reply-To: <200806291734.31663.geraldi.evenden@gmail.com>
Message-ID: <37946.80800.qm@web45803.mail.sp1.yahoo.com>

Michael wrote:
> > I don't know why my previous post posted in such an awkward fashion,
> > with lines wider than the screen. Maybe because I wrote it "plain
> > text". I'll try the "rich text" option this time.

plain text is *always* better. please only post to public mailing lists
using it. rich/html text is often small and annoying to many readers,
and bloats the size of the email. FWIW I have noticed that with recent
changes that yahoo's email composer does a really bad job of adding in
newlines (it removed the option!) so now I have to justify by hand.

ctrl-+ and - in firefox helps too :)


> I think the real problem is that you

decorum please.


Hamish



      



From geraldi.evenden at gmail.com  Mon Jun 30 11:15:29 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 30 Jun 2008 14:15:29 -0400
Subject: [Proj] Help!!
Message-ID: <200806301415.29176.geraldi.evenden@gmail.com>

I have been trying to update libproj4 documentation and also keep the 
carto.bib file reasonably up to date.  But sometimes this gets to a bit 
difficult with some sources.

I writing up proj=ftmerc, one of the 4 constant meridian scale transverse 
Mercator projection procedures I am at a loss to describe this source:

www.lantmateriet.se/geodesi

Unfortunately, it is *all* in Swedish and without a hint of who or what.

Any hint as to what an appropriate reference entry would be would be greatly 
appreciated.


Soapbox time again:
Wikipedia has the following quote under the section linqua franca:
"English is the current lingua franca of international business, science, 
technology and aviation,"

I am not trying to be chauvinistic about languages but it would be courteous 
if non-English web site designers to include a section giving a summary of 
the web site, owner and principle purpose in English.

Thank-you
Off soapbox.
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From support.mn at elisanet.fi  Mon Jun 30 11:37:52 2008
From: support.mn at elisanet.fi (support.mn at elisanet.fi)
Date: Mon, 30 Jun 2008 21:37:52 +0300 (EEST)
Subject: [Proj] Help!!
Message-ID: <11762660.952481214851073210.JavaMail.support.mn@elisanet.fi>

Hello,

why not try the Google translator?

http://www.google.com/language_tools

as

http://translate.google.com/translate?u=http%3A%2F%2Fwww.lantmateriet.se%2Ftemplates%2FLMV_Entrance.aspx%3Fid%3D68&sl=sv&tl=en&hl=fi&ie=UTF-8

Regards: Janne

-------------------

"Gerald I. Evenden" <geraldi.evenden at gmail.com> kirjoitti: 
> I have been trying to update libproj4 documentation and also keep the 
> carto.bib file reasonably up to date.  But sometimes this gets to a bit 
> difficult with some sources.
> 
> I writing up proj=ftmerc, one of the 4 constant meridian scale transverse 
> Mercator projection procedures I am at a loss to describe this source:
> 
> www.lantmateriet.se/geodesi
> 
> Unfortunately, it is *all* in Swedish and without a hint of who or what.
> 
> Any hint as to what an appropriate reference entry would be would be greatly 
> appreciated.
> 
> 
> Soapbox time again:
> Wikipedia has the following quote under the section linqua franca:
> "English is the current lingua franca of international business, science, 
> technology and aviation,"
> 
> I am not trying to be chauvinistic about languages but it would be courteous 
> if non-English web site designers to include a section giving a summary of 
> the web site, owner and principle purpose in English.
> 
> Thank-you
> Off soapbox.
> -- 
> The whole religious complexion of the modern world is due
> to the absence from Jerusalem of a lunatic asylum.
> -- Havelock Ellis (1859-1939)  British psychologist
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
> 



From tutey at o2.pl  Mon Jun 30 11:53:23 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon, 30 Jun 2008 20:53:23 +0200
Subject: [Proj] bugfix PROJ.4 release?
Message-ID: <48692BA3.8050803@o2.pl>

Frank,

Now that the "CPLAtof() - different results than atof()" [1] bug in GDAL
is fixed, do you think you could regenerate the broken PROJ.4's epsg
file and provide a bugfix PROJ.4 release?

[1]http://trac.osgeo.org/gdal/ticket/2036

Best,
Maciek

-- 
Maciej Sieczka
www.sieczka.org


From mikeo2106 at msn.com  Mon Jun 30 16:03:34 2008
From: mikeo2106 at msn.com (Michael Ossipoff)
Date: Mon, 30 Jun 2008 23:03:34 +0000
Subject: [Proj] Re: Linear projections reply
Message-ID: <BAY107-W3644BE582C64EE3121E2EFA59F0@phx.gbl>



Strebe said:

> Assuming you had some reason for posting your work, I briefly noted how your work fits in with standard definitions and mathematical formulations. 

Yes, and I appreciated your comments. I meant no criticism or complaint about them.

I later found that I could display the mathematical part of your posting if I read the posting from the archives, instead of from the batch-digest.

You continues:

> Whether it "goes without saying" that there is no limit to the number of "linear" projections depends upon the reader. Perhaps it goes without saying for you. 

As you said, pseudocylindrical projections are linear. Clearly, no matter how such a map's rightmost and leftmost meridians are curved, each parallel can be uniformly divided, giving the X position a linear relationship to longitude. And the parallels can be evenly spaced. No matter how the leftmost and rightmost meridians are curved. So it's at least intuitively clear that there can be infinitely many linear projections, because there are infinitely many ways that the leftmost and rightmost meridians can be curved. I don't call that a mathematical proof, but just an intuitive justification for what I said.

You continued:

> In general I do not see the benefit of explaining that you already know something unless someone clearly implies that you do not. 

Ok, neither do I.

Alright, I was a bit defensive, reading into your comment an implication that I believed that I had listed all the possible linear projections. To tell the truth, I perceived, right after sending that e-mail, that my reply was unnecessarily defensive. 

Quite possibly all or nearly all of the facts that I've stated in my postings here have been things that you and other list members already know. (but maybe someone browsing the list at some future time won't know one of those facts). So I would certainly not complain or criticize if someone said something that I already know. I said "It goes without saying..." only to assert that I hadn't meant otherwise.

It was not my intention to cross the politeness-line.

You continued:

> Cylindric projections are a specialization of pseudocylindric. Whether it is incorrect to call a cylindric projection "pseudocylindric" is something best left to     > those of uselessly pedantic temperment.

Oh come on now, you're saying that no one should ever say anything about the merits of a term. No one can deny that saying that a cylindrical projection is "pseudocylindrical" has something of a self-contradictory sound. How about generalized-cylindrical, or cylindricalish, or something like that? Maybe some would say that "generalized-cylindrical" is too long, and that "cylindricalish" is too colloquial-sounding. But the -ish, -isch, -isk, -ic suffix has a lot of historical validity. Maybe it acquired its colloquial popularity because of its brevity, but that shouldn't deny us the use of that brevity.

Mike Ossipoff





From geraldi.evenden at gmail.com  Mon Jun 30 16:32:27 2008
From: geraldi.evenden at gmail.com (Gerald I. Evenden)
Date: Mon, 30 Jun 2008 19:32:27 -0400
Subject: [Proj] bugfix PROJ.4 release?
In-Reply-To: <48692BA3.8050803@o2.pl>
References: <48692BA3.8050803@o2.pl>
Message-ID: <200806301932.28048.geraldi.evenden@gmail.com>

On Monday 30 June 2008 2:53 pm, Maciej Sieczka wrote:
> Frank,
>
> Now that the "CPLAtof() - different results than atof()" [1] bug in GDAL
> is fixed, do you think you could regenerate the broken PROJ.4's epsg
> file and provide a bugfix PROJ.4 release?
>
> [1]http://trac.osgeo.org/gdal/ticket/2036
>
> Best,
> Maciek

This is a simple little program I wrote because of the contents of the above 
web site:
#include <stdio.h>
#include <float.h>
        int
main(char **argc, int narg) {
        printf("FLT_DIG: %d\n",FLT_DIG);
        printf("DBL_DIG: %d\n",DBL_DIG);
        printf("LDBL_DIG: %d\n",LDBL_DIG);
}
Executing it yields the following results:
FLT_DIG: 6
DBL_DIG: 15
LDBL_DIG: 18

In case you have not guessed, these are the significant decimal digits on my 
machine---a 64 Inte---for type float, double and long double.  All work work 
that I do does not extend beyond DBL or "double x" and I suspect that the 
software producing the results on the web site has about the same 
characteristics.

MY burning, yes *very* burning, question is what are data numbers containing 
16 digits doing on the display???  And why, why would anyone ever worry that 
they do not match to 16 digits???!!!!

Secondly, and probably more importantly, Earth parameters are probably not 
more significant than 10 digits (milimeters for radius).  And that is 
probably *very* optimistic.

And someone is worried that two procedures that cannot agree to 16 digits??

How about a little reality check folks.

If you want to reduce the "annoying effect" try reducing the format to 
say %.4g---and that is overkill.
-- 
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist


From cjmce at lsu.edu  Mon Jun 30 16:49:18 2008
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 30 Jun 2008 18:49:18 -0500
Subject: [Proj] bugfix PROJ.4 release?
References: <48692BA3.8050803@o2.pl>
	<200806301932.28048.geraldi.evenden@gmail.com>
Message-ID: <B597ADFC46B67741B18EA6AA13613FF7EC232D@email002.lsu.edu>

In regards to "reality checks," the specification written by the United States National Geodetic Survey for map projection transformations is for the maintenance of computational accuracy of plus or minus one-tenth of a millimeter between forward and invese solutions.  Anything "better" than that is silliness and not part of the national specification for the North American Datum of 1983.  (Special Publication Number 5 by James Stem (in pdf format) available from www.ngs.noaa.gov .)
 
I have had to correct junior engineers in the past regarding changing Fortran format statements ... increasing the number of decimal points displayed does NOT increase the accuracy of the input data!  In like fashion, double-double/quad precision/long double accomplishes nothing but expend extra electrons in this particular context.  A googolplex of these computations might save a barrel of oil ... !  :-)
 
Ahem.
 
Cliff Mugnier
LOUISIANA STATE UNIVERSITY

________________________________

From: proj-bounces at lists.maptools.org on behalf of Gerald I. Evenden
Sent: Mon 30-Jun-08 18:32
To: PROJ.4 and general Projections Discussions
Subject: Re: [Proj] bugfix PROJ.4 release?



On Monday 30 June 2008 2:53 pm, Maciej Sieczka wrote:
> Frank,
>
> Now that the "CPLAtof() - different results than atof()" [1] bug in GDAL
> is fixed, do you think you could regenerate the broken PROJ.4's epsg
> file and provide a bugfix PROJ.4 release?
>
> [1]http://trac.osgeo.org/gdal/ticket/2036
>
> Best,
> Maciek

This is a simple little program I wrote because of the contents of the above
web site:
#include <stdio.h>
#include <float.h>
        int
main(char **argc, int narg) {
        printf("FLT_DIG: %d\n",FLT_DIG);
        printf("DBL_DIG: %d\n",DBL_DIG);
        printf("LDBL_DIG: %d\n",LDBL_DIG);
}
Executing it yields the following results:
FLT_DIG: 6
DBL_DIG: 15
LDBL_DIG: 18

In case you have not guessed, these are the significant decimal digits on my
machine---a 64 Inte---for type float, double and long double.  All work work
that I do does not extend beyond DBL or "double x" and I suspect that the
software producing the results on the web site has about the same
characteristics.

MY burning, yes *very* burning, question is what are data numbers containing
16 digits doing on the display???  And why, why would anyone ever worry that
they do not match to 16 digits???!!!!

Secondly, and probably more importantly, Earth parameters are probably not
more significant than 10 digits (milimeters for radius).  And that is
probably *very* optimistic.

And someone is worried that two procedures that cannot agree to 16 digits??

How about a little reality check folks.

If you want to reduce the "annoying effect" try reducing the format to
say %.4g---and that is overkill.
--
The whole religious complexion of the modern world is due
to the absence from Jerusalem of a lunatic asylum.
-- Havelock Ellis (1859-1939)  British psychologist
_______________________________________________
Proj mailing list
Proj at lists.maptools.org
http://lists.maptools.org/mailman/listinfo/proj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080630/d4353429/attachment.html>

From strebe at aol.com  Mon Jun 30 18:19:34 2008
From: strebe at aol.com (strebe)
Date: Mon, 30 Jun 2008 18:19:34 -0700
Subject: [Proj] Re: Linear projections reply
In-Reply-To: <BAY107-W3644BE582C64EE3121E2EFA59F0@phx.gbl>
Message-ID: <75A960F9.316E.4119.B86E.928E5CA2D582@aol.com>


On Jun 30, 2008, at 4:03:34 PM, "Michael Ossipoff" <mikeo2106 at msn.com> 
wrote:
> Cylindric projections are a specialization of pseudocylindric. 
> Whether it is incorrect to call a cylindric projection 
> "pseudocylindric" is something best left to > those of uselessly 
> pedantic temperment.

Oh come on now, you're saying that no one should ever say anything 
about the merits of a term.
I fail to see how my comment could be interpreted anywhere nearly so 
generally.
No one can deny that saying that a cylindrical projection is 
"pseudocylindrical" has something of a self-contradictory sound. How 
about generalized-cylindrical, or cylindricalish, or something like 
that? Maybe some would say that "generalized-cylindrical" is too long, 
and that "cylindricalish" is too colloquial-sounding. But the -ish, 
-isch, -isk, -ic suffix has a lot of historical validity. Maybe it 
acquired its colloquial popularity because of its brevity, but that 
shouldn't deny us the use of that brevity.
This does not seem to be going anywhere. Good luck.

Regards,
-- daan Strebe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20080630/d4943d91/attachment.html>

From knudsen.thomas at gmail.com  Mon Jun 30 23:57:09 2008
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Tue, 1 Jul 2008 08:57:09 +0200
Subject: [Proj] Help!!
In-Reply-To: <11762660.952481214851073210.JavaMail.support.mn@elisanet.fi>
References: <11762660.952481214851073210.JavaMail.support.mn@elisanet.fi>
Message-ID: <7e6835790806302357l575908ffh257ce3ff246c34e4@mail.gmail.com>

2008-06-30  <support.mn at elisanet.fi> kvad:
> why not try the Google translator?

Or much better: press the "English" link in the upper
right corner of the page. I assume that you have actually
tried that without succes - but if you press one of the
"headline links" in the page, it magically translates into
english. Probably a cookie problem that it does not
switch just by pressing the "English" link?

In general there seems to be some link problems on the
page, but  I have browsed a bit around at the site and
found this: link which may be what Gerald looks for:
http://www.lantmateriet.se/upload/filer/kartor/geodesi_gps_och_detaljmatning/geodesi/Formelsamling/Gauss_Conformal_Projection.pdf
(beware of unintended line breaks)

There is no explicit author stated on the publication,
but there is a publisher (Lantmäteriet) and a year and
month of publication - in BiBTeX terms, I think this
qualifies as a "@misc" entry (cf. http://nwalsh.com/tex/texhelp/bibtx-17.html )
For bib-registration it may be useful to note that "Lantmäteriet"
is the "National Land Survey" of Sweden.

/thomas



