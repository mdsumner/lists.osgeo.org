From gerald.evenden at verizon.net  Mon Jan  5 13:59:55 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Mon, 5 Jan 2004 16:59:55 -0500
Subject: [OSRS-PROJ] pdf reference for UTM/UPS
Message-ID: <7EF8A67B-3FCA-11D8-8DED-000A958A3346@verizon.net>

Cleaning out my desk I surfaced a good reference for UTM/UPS, scanned
it and turned it into a 48 page pdf file (it is a DMA document and no
copyright is involved).  Unfortunately it is necessarily an image scan
and not text so it is a bit long at 2.9Mb.

It has glossary, formulary and example computations and should serve
as a good reference and arbitrator of discussions.

See the end of my web page:

http://members.bellatlantic.net/~vze2hc4d/proj4/
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Mon Jan  5 14:22:03 2004
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 5 Jan 2004 16:22:03 -0600
Subject: [OSRS-PROJ] pdf reference for UTM/UPS
Message-ID: <OF17436B08.92CD93BA-ON86256E12.007ADE4B-86256E12.007ADEA6@lsu.edu>





Gerald,

That and lots more are at:

http://earth-info.nima.mil/GandG/pubs.html

Happy New Year!

Cliff Mugnier
LOUISIANA STATE UNIVERSITY
----------NATIONAL FOOTBALL CHAMPS !!!-------------

Cleaning out my desk I surfaced a good reference for UTM/UPS, scanned
it and turned it into a 48 page pdf file (it is a DMA document and no
copyright is involved).  Unfortunately it is necessarily an image scan
and not text so it is a bit long at 2.9Mb.

It has glossary, formulary and example computations and should serve
as a good reference and arbitrator of discussions.

See the end of my web page:

http://members.bellatlantic.net/~vze2hc4d/proj4/
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Mon Jan  5 17:10:16 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Mon, 5 Jan 2004 20:10:16 -0500
Subject: [OSRS-PROJ] pdf reference for UTM/UPS
In-Reply-To: <OF17436B08.92CD93BA-ON86256E12.007ADE4B-86256E12.007ADEA6@lsu.edu>
References: <OF17436B08.92CD93BA-ON86256E12.007ADE4B-86256E12.007ADEA6@lsu.edu>
Message-ID: <16A1AC98-3FE5-11D8-8DED-000A958A3346@verizon.net>

It figures.  Interesting that we both did the pdf in the same number of
bytes.

On Jan 5, 2004, at 5:22 PM, Clifford J Mugnier wrote:

>
>
>
>
> Gerald,
>
> That and lots more are at:
>
> http://earth-info.nima.mil/GandG/pubs.html
>
> Happy New Year!
>
> Cliff Mugnier
> LOUISIANA STATE UNIVERSITY
> ----------NATIONAL FOOTBALL CHAMPS !!!-------------
>
> Cleaning out my desk I surfaced a good reference for UTM/UPS, scanned
> it and turned it into a 48 page pdf file (it is a DMA document and no
> copyright is involved).  Unfortunately it is necessarily an image scan
> and not text so it is a bit long at 2.9Mb.
>
> It has glossary, formulary and example computations and should serve
> as a good reference and arbitrator of discussions.
>
> See the end of my web page:
>
> http://members.bellatlantic.net/~vze2hc4d/proj4/
> _____________________________________
> Jerry and the low riders: Daisy Mae and Joshua
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From charlie at im-design.net  Wed Jan  7 12:10:19 2004
From: charlie at im-design.net (Charles D. Van Dusen)
Date: Wed, 7 Jan 2004 15:10:19 -0500
Subject: [OSRS-PROJ] Error projecting Geographic to UPS
Message-ID: <90264B8395BF154DB2CB12B068DFFAE903AD6A@westward.im-design.net>

Greetings
 
I am having a problem projecting a shapefile of canada from geographic
to UPS:
 

P:\Data\maproom.psu.edu>shpproj canada.shp projections\ups\canada.shp
-i=geographic -o"proj=ups"
 

P:\Data\maproom.psu.edu>
 
The program appears to complete without error, but the resulting .prj
file has a single line of "proj=geographic" and the output shape file is
exactly the same as the input shape file.
 
So, in stepping though the debugger, the problem appears to be that the
SHPSetProjection call is returning 0 for the new_prj. Further, the call
to pj_init in shpgeo.c is returning 0 as well.
 
My environ:
Windows XP
shapelib-1.2.10
proj cvs as of December 2003
 
Any Ideas
 
Charlie Van Dusen
IM Design
 
charlie at im-design.net
+1 781.389.0343
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20040107/752fe711/attachment.html>

From warmerdam at pobox.com  Wed Jan  7 12:29:25 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 07 Jan 2004 15:29:25 -0500
Subject: [OSRS-PROJ] Error projecting Geographic to UPS
In-Reply-To: <90264B8395BF154DB2CB12B068DFFAE903AD6A@westward.im-design.net>
References: <90264B8395BF154DB2CB12B068DFFAE903AD6A@westward.im-design.net>
Message-ID: <3FFC6C25.8060205@pobox.com>

Charles D. Van Dusen wrote:
> Greetings
>  
> I am having a problem projecting a shapefile of canada from geographic 
> to UPS:
>  
> 
> P:\Data\maproom.psu.edu>shpproj canada.shp projections\ups\canada.shp 
> -i=geographic -o"proj=ups"
>  
> 
> P:\Data\maproom.psu.edu>
>  
> The program appears to complete without error, but the resulting .prj 
> file has a single line of "proj=geographic" and the output shape file is 
> exactly the same as the input shape file.
>  
> So, in stepping though the debugger, the problem appears to be that the 
> SHPSetProjection call is returning 0 for the new_prj. Further, the call 
> to pj_init in shpgeo.c is returning 0 as well.
>  
> My environ:
> Windows XP
> shapelib-1.2.10
> proj cvs as of December 2003

Charlie,

My understanding is that there are four UPS zones, and you aren't indicating
which to use.  I would gather that the pj_init() is therefore failing because
it doesn't have all the required arguments.

I haven't dug into the PROJ docs to find what the correct formulation is for
UPS, but I presume that is the issue.

Best regards,

---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From charlie at im-design.net  Wed Jan  7 13:02:46 2004
From: charlie at im-design.net (Charles D. Van Dusen)
Date: Wed, 7 Jan 2004 16:02:46 -0500
Subject: [SPAM] - Re: [OSRS-PROJ] Error projecting Geographic to UPS - Email found in subject
Message-ID: <90264B8395BF154DB2CB12B068DFFAE903AD6B@westward.im-design.net>

 Hi Frank

Thanks for the reply.

This from the proj manual:

Universal Polar Stereographic (UPS) Projection
Usage and options: +proj=ups +south
The ups projection is a special case polar aspect of the Stereographic
projection
designed to cover the regions where 
  84 N or 
  80 S. The internal
Stereographic
parameters are fixed at k0 = 0.994, 0 = 0, x0 = y0 = 2, 000, 000m, and

0 is either 90 N when +south is not specified or 90 S when +south is
specified.
Elliptical parameters must be used (either proj default or entered as
option). Also
see the Universal Transverse Mercator (utm) projection (p. 12).

So, I presumed that using the option -o"proj=ups" would suffice.

Could you clarify?

Thanks

Charlie

-----Original Message-----
From: owner-osrs-proj at remotesensing.org
[mailto:owner-osrs-proj at remotesensing.org] On Behalf Of Frank Warmerdam
Sent: Wednesday, January 07, 2004 3:29 PM
To: osrs-proj at remotesensing.org
Subject: [SPAM] - Re: [OSRS-PROJ] Error projecting Geographic to UPS -
Email found in subject

Charles D. Van Dusen wrote:
> Greetings
>  
> I am having a problem projecting a shapefile of canada from geographic

> to UPS:
>  
> 
> P:\Data\maproom.psu.edu>shpproj canada.shp projections\ups\canada.shp 
> -i=geographic -o"proj=ups"
>  
> 
> P:\Data\maproom.psu.edu>
>  
> The program appears to complete without error, but the resulting .prj 
> file has a single line of "proj=geographic" and the output shape file 
> is exactly the same as the input shape file.
>  
> So, in stepping though the debugger, the problem appears to be that 
> the SHPSetProjection call is returning 0 for the new_prj. Further, the

> call to pj_init in shpgeo.c is returning 0 as well.
>  
> My environ:
> Windows XP
> shapelib-1.2.10
> proj cvs as of December 2003

Charlie,

My understanding is that there are four UPS zones, and you aren't
indicating which to use.  I would gather that the pj_init() is therefore
failing because it doesn't have all the required arguments.

I haven't dug into the PROJ docs to find what the correct formulation is
for UPS, but I presume that is the issue.

Best regards,

---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Wed Jan  7 13:08:14 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 07 Jan 2004 16:08:14 -0500
Subject: [SPAM] - Re: [OSRS-PROJ] Error projecting Geographic to UPS -
 Email found in subject
In-Reply-To: <90264B8395BF154DB2CB12B068DFFAE903AD6B@westward.im-design.net>
References: <90264B8395BF154DB2CB12B068DFFAE903AD6B@westward.im-design.net>
Message-ID: <3FFC753E.3080808@pobox.com>

Charles D. Van Dusen wrote:
>  Hi Frank
> 
> Thanks for the reply.
> 
> This from the proj manual:
> 
> Universal Polar Stereographic (UPS) Projection
> Usage and options: +proj=ups +south
> The ups projection is a special case polar aspect of the Stereographic
> projection
> designed to cover the regions where 
  84 N or 
  80 S. The internal
> Stereographic
> parameters are fixed at k0 = 0.994, 0 = 0, x0 = y0 = 2, 000, 000m, and
> 
0 is either 90 N when +south is not specified or 90 S when +south is
> specified.
> Elliptical parameters must be used (either proj default or entered as
> option). Also
> see the Universal Transverse Mercator (utm) projection (p. 12).
> 
> So, I presumed that using the option -o"proj=ups" would suffice.

Charlie,

Doh!  You are right. I should have looked before speaking.

I tried "proj +proj=ups" at the commandline and it worked fine, but
"proj +proj=ups +no_defs" failed since there was no ellipse definition.
Try something like "+proj=ups +ellps=WGS84" as your definition instead.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From charlie at im-design.net  Wed Jan  7 14:04:22 2004
From: charlie at im-design.net (Charles D. Van Dusen)
Date: Wed, 7 Jan 2004 17:04:22 -0500
Subject: [SPAM] - Re: [SPAM] - Re: [OSRS-PROJ] Error projecting Geographic to UPS - Email found in subject - Email found in subject
Message-ID: <90264B8395BF154DB2CB12B068DFFAE903AD6C@westward.im-design.net>

Thanks Frank

Worked great!

 

-----Original Message-----
From: owner-osrs-proj at remotesensing.org
[mailto:owner-osrs-proj at remotesensing.org] On Behalf Of Frank Warmerdam
Sent: Wednesday, January 07, 2004 4:08 PM
To: osrs-proj at remotesensing.org
Subject: [SPAM] - Re: [SPAM] - Re: [OSRS-PROJ] Error projecting
Geographic to UPS - Email found in subject - Email found in subject

Charles D. Van Dusen wrote:
>  Hi Frank
> 
> Thanks for the reply.
> 
> This from the proj manual:
> 
> Universal Polar Stereographic (UPS) Projection Usage and options: 
> +proj=ups +south The ups projection is a special case polar aspect of 
> the Stereographic projection designed to cover the regions where 
  
> 84 N or 
  80 S. The internal Stereographic parameters are fixed at

> k0 = 0.994, 0 = 0, x0 = y0 = 2, 000, 000m, and 
0 is either 90 N 
> when +south is not specified or 90 S when +south is specified.
> Elliptical parameters must be used (either proj default or entered as 
> option). Also see the Universal Transverse Mercator (utm) projection 
> (p. 12).
> 
> So, I presumed that using the option -o"proj=ups" would suffice.

Charlie,

Doh!  You are right. I should have looked before speaking.

I tried "proj +proj=ups" at the commandline and it worked fine, but
"proj +proj=ups +no_defs" failed since there was no ellipse definition.
Try something like "+proj=ups +ellps=WGS84" as your definition instead.

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From caress at mbari.org  Mon Jan 12 10:13:19 2004
From: caress at mbari.org (Dave Caress)
Date: Mon, 12 Jan 2004 10:13:19 -0800
Subject: [OSRS-PROJ] Usage of PROJ.4 in MB-System
Message-ID: <001DEF64-452B-11D8-9097-000A95984DD2@mbari.org>

Greetings all,

This is just a courtesy notice that PROJ.4 source code (obtained from 
www.remotesensing.org) is being redistributed as part of MB-System, an 
open source software package for the processing and display of swath 
mapping sonar data.

Information about MB-System is available at:
	http://www.mbari.org/data/mbsystem/

The licensing statement (GNU GPL) and acknowledgment of PROJ.4 are 
found at:
	http://www.mbari.org/data/mbsystem/html/mbsystem_copyright.html

Thank you very much for making PROJ easily available - this code 
provides essential functionality within our software.

Feel free to email me if you have any questions about our package.

Cheers,
Dave Caress

----------------------------------------------------
David W. Caress
Senior Research Specialist

Monterey Bay Aquarium Research Institute
7700 Sandholdt Road
Moss Landing, CA 95039

caress at mbari.org
http://www.mbari.org/~caress/

Phone: 831-775-1775
Fax: 831-775-1620
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1017 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20040112/6db935a7/attachment.bin>

From czaht at ocag.ch  Mon Jan 12 22:38:35 2004
From: czaht at ocag.ch (czaht at ocag.ch)
Date: Tue, 13 Jan 2004 07:38:35 +0100
Subject: [OSRS-PROJ] Geocentric systems and ellipsoids
Message-ID: <ECF80D1E295FD311959D00805FA7AC0D07E7D03F@albana.ocag.ch>

Hi,

I have a question regarding the handling of geocentric system libproj. It
seems that I need to define an ellipsoid together with a geocentric system,
in my case the WGS84 Cartesian
system. Why? 
In my opinion, a geocentric system is defined by the centre of the earth and
a rotation relative to the WGS84 Cartesian system.

Could someone shed a bit of light on this matter?

Thanks!

/Thomas Aho
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Tue Jan 13 06:03:49 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 13 Jan 2004 09:03:49 -0500
Subject: [OSRS-PROJ] Geocentric systems and ellipsoids
In-Reply-To: <ECF80D1E295FD311959D00805FA7AC0D07E7D03F@albana.ocag.ch>
References: <ECF80D1E295FD311959D00805FA7AC0D07E7D03F@albana.ocag.ch>
Message-ID: <4003FAC5.8050808@pobox.com>

czaht at ocag.ch wrote:
> Hi,
> 
> I have a question regarding the handling of geocentric system libproj. It
> seems that I need to define an ellipsoid together with a geocentric system,
> in my case the WGS84 Cartesian
> system. Why? 
> In my opinion, a geocentric system is defined by the centre of the earth and
> a rotation relative to the WGS84 Cartesian system.
> 
> Could someone shed a bit of light on this matter?

Thomas,

The geocentric support in PROJ.4 (as opposed to Gerald's newer libproj4)
is quite new and somewhat experimental.  The need for an ellipse is really
an artifact of internal assumptions of the library before geocentric support
was added.

Just select the same ellipsoid/datum as the output coordinate system you
will be transforming to (or the input system you are transforming from).
You are correct that the geocentric coordinates define the location without
any real need for an ellipse.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From czaht at ocag.ch  Tue Jan 13 06:36:13 2004
From: czaht at ocag.ch (czaht at ocag.ch)
Date: Tue, 13 Jan 2004 15:36:13 +0100
Subject: [OSRS-PROJ] Geocentric systems and ellipsoids
Message-ID: <ECF80D1E295FD311959D00805FA7AC0D07E7D053@albana.ocag.ch>

Frank,

Thanks for your swift response. I actually already use it the way you
suggest, and now
I can do it with a good conscience as well ;-)

/Thomas

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam at pobox.com] 
Sent: Dienstag, 13. Januar 2004 15:04
To: osrs-proj at remotesensing.org
Subject: Re: [OSRS-PROJ] Geocentric systems and ellipsoids


czaht at ocag.ch wrote:
> Hi,
> 
> I have a question regarding the handling of geocentric system libproj. 
> It seems that I need to define an ellipsoid together with a geocentric 
> system, in my case the WGS84 Cartesian system. Why?
> In my opinion, a geocentric system is defined by the centre of the earth
and
> a rotation relative to the WGS84 Cartesian system.
> 
> Could someone shed a bit of light on this matter?

Thomas,

The geocentric support in PROJ.4 (as opposed to Gerald's newer libproj4) is
quite new and somewhat experimental.  The need for an ellipse is really an
artifact of internal assumptions of the library before geocentric support
was added.

Just select the same ellipsoid/datum as the output coordinate system you
will be transforming to (or the input system you are transforming from). You
are correct that the geocentric coordinates define the location without any
real need for an ellipse.

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription and
other information.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Wed Jan 14 06:43:09 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Wed, 14 Jan 2004 09:43:09 -0500
Subject: [OSRS-PROJ] Geocentric systems and ellipsoids
In-Reply-To: <4003FAC5.8050808@pobox.com>
References: <ECF80D1E295FD311959D00805FA7AC0D07E7D03F@albana.ocag.ch> <4003FAC5.8050808@pobox.com>
Message-ID: <F8ABD578-469F-11D8-8FFB-000A958A3346@verizon.net>

PROJ's derived its name from "projection," that operation relating a  
point
on a sphere or ellipsoid to a two dimensional, cartesian system.  What   
seems to
be discussed below is the transformation between three dimensional
systems and thus has no relation to the projection operation
in the original and definition of PROJ's operation.

Sorry, this mixing of apples and oranges within the OSRS distribution
of PROJ has always been a sore point with me.  It is also the
prime bottleneck in updating OSRS PROJ with the expanded libproj4
material---the later stays within the initial boundaries.

Alas.

On Jan 13, 2004, at 9:03 AM, Frank Warmerdam wrote:

> czaht at ocag.ch wrote:
>> Hi,
>> I have a question regarding the handling of geocentric system  
>> libproj. It
>> seems that I need to define an ellipsoid together with a geocentric  
>> system,
>> in my case the WGS84 Cartesian
>> system. Why? In my opinion, a geocentric system is defined by the  
>> centre of the earth and
>> a rotation relative to the WGS84 Cartesian system.
>> Could someone shed a bit of light on this matter?
>
> Thomas,
>
> The geocentric support in PROJ.4 (as opposed to Gerald's newer  
> libproj4)
> is quite new and somewhat experimental.  The need for an ellipse is  
> really
> an artifact of internal assumptions of the library before geocentric  
> support
> was added.
>
> Just select the same ellipsoid/datum as the output coordinate system  
> you
> will be transforming to (or the input system you are transforming  
> from).
> You are correct that the geocentric coordinates define the location  
> without
> any real need for an ellipse.
>
> Best regards,
>
> --  
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From czaht at ocag.ch  Wed Jan 14 07:14:02 2004
From: czaht at ocag.ch (czaht at ocag.ch)
Date: Wed, 14 Jan 2004 16:14:02 +0100
Subject: [OSRS-PROJ] Geocentric systems and ellipsoids
Message-ID: <ECF80D1E295FD311959D00805FA7AC0D07E7D05C@albana.ocag.ch>

Gerald,

I see your point. To me it was also confusing that I was supposed to provide
the
switch "proj=geocent" in order to transform from something to a 3D system. I
was
a matter of trial-and-error and looking at the sources to reach the
unterstanding
how to use it in this particular case in the first place.

Regards Thomas

-----Original Message-----
From: Gerald Evenden [mailto:gerald.evenden at verizon.net] 
Sent: Mittwoch, 14. Januar 2004 15:43
To: osrs-proj at remotesensing.org
Subject: Re: [OSRS-PROJ] Geocentric systems and ellipsoids


PROJ's derived its name from "projection," that operation relating a  
point
on a sphere or ellipsoid to a two dimensional, cartesian system.  What   
seems to
be discussed below is the transformation between three dimensional systems
and thus has no relation to the projection operation in the original and
definition of PROJ's operation.

Sorry, this mixing of apples and oranges within the OSRS distribution of
PROJ has always been a sore point with me.  It is also the prime bottleneck
in updating OSRS PROJ with the expanded libproj4 material---the later stays
within the initial boundaries.

Alas.

On Jan 13, 2004, at 9:03 AM, Frank Warmerdam wrote:

> czaht at ocag.ch wrote:
>> Hi,
>> I have a question regarding the handling of geocentric system
>> libproj. It
>> seems that I need to define an ellipsoid together with a geocentric  
>> system,
>> in my case the WGS84 Cartesian
>> system. Why? In my opinion, a geocentric system is defined by the  
>> centre of the earth and
>> a rotation relative to the WGS84 Cartesian system.
>> Could someone shed a bit of light on this matter?
>
> Thomas,
>
> The geocentric support in PROJ.4 (as opposed to Gerald's newer
> libproj4)
> is quite new and somewhat experimental.  The need for an ellipse is  
> really
> an artifact of internal assumptions of the library before geocentric  
> support
> was added.
>
> Just select the same ellipsoid/datum as the output coordinate system
> you
> will be transforming to (or the input system you are transforming  
> from).
> You are correct that the geocentric coordinates define the location  
> without
> any real need for an ellipse.
>
> Best regards,
>
> --
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription 
> and other information.
>
>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription and
other information.
----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From guozhangchina at 21cn.com  Thu Jan 15 04:56:09 2004
From: guozhangchina at 21cn.com (Zhang Guo)
Date: Thu, 15 Jan 2004 20:56:9 +0800
Subject: [OSRS-PROJ] why
Message-ID: <Lr959884789977.14014@send2.inner-21cn.com>

Hi,osrs-proj

why ?

	
 <20790> +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m 

i 
use proj    +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m

40 -10
6173267.02      -5732158.03

then 

proj -I  +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m

the result is :


6173267.02 -5732158.03
39d44'58.08"E   10d5'12.587"S






 				

Best regards,
Zhang Guo
School of Information Engineering in Remote Sensing, 
Wuhan University, 
#129 Luoyu road, Wuhan, 
P.R.China 
Mobile: +86-27-62086580
Office: +86-27-87871114
Email:guozhangchina at 21cn.com
      guozhangchina at sina.com
      zhangguo_wtusm at 163.com
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€2004-01-15


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From guozhangchina at 21cn.com  Thu Jan 15 05:18:17 2004
From: guozhangchina at 21cn.com (Zhang Guo)
Date: Thu, 15 Jan 2004 21:18:17 +0800
Subject: [OSRS-PROJ] why???
Message-ID: <QQ959884788184.20763@send3.inner-21cn.com>

Hi,osrs-proj

i use 
	+proj=omerc +lat_0=46.95240555555556 +lonc=7.439583333333333 +alpha=90 +k=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m
the result 

is 

Rel. 4.4.6, 3 March 2003
<proj>:
projection initialization failure
cause: lat_0 = 0 or 90 or alpha = 90
program abnormally terminated




 				

Best regards,
Zhang Guo
School of Information Engineering in Remote Sensing, 
Wuhan University, 
#129 Luoyu road, Wuhan, 
P.R.China 
Mobile: +86-27-62086580
Office: +86-27-87871114
Email:guozhangchina at 21cn.com
      guozhangchina at sina.com
      zhangguo_wtusm at 163.com
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€2004-01-15


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From john.smart at caris.com  Thu Jan 15 05:28:26 2004
From: john.smart at caris.com (John Smart)
Date: Thu, 15 Jan 2004 09:28:26 -0400
Subject: [OSRS-PROJ] why
References: <Lr959884789977.14014@send2.inner-21cn.com>
Message-ID: <001301c3db6b$751b68a0$5ac8a8c0@caris.priv>

I can't comment on what's happening inside the program but I notice your
test point is very far away from your projection origin. Perhaps you're
specifiying longitude & latitude in reverse order? (proj likes to have lon
lat, not lat lon.) Your projection origin is approx 39N, 8W but your test
point is 40E, 10S. Perhaps you mean to have 40N, 10W.

I get this with proj:
-10 40
40464.07        338683.60

then this with proj -I:
40464.07        338683.60
10dW    40dN

John Smart


----- Original Message -----
From: "Zhang Guo" <guozhangchina at 21cn.com>
To: <osrs-proj at remotesensing.org>
Sent: Thursday, January 15, 2004 8:00 AM
Subject: [OSRS-PROJ] why


> Hi,osrs-proj
>
> why ?
>
>
>  <20790> +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112
+k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m
>
> i
> use proj    +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112
+k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m
>
> 40 -10
> 6173267.02      -5732158.03
>
> then
>
> proj -I  +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112
+k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m
>
> the result is :
>
>
> 6173267.02 -5732158.03
> 39d44'58.08"E   10d5'12.587"S
>
>
>
>
>
>
>
>
> Best regards,
> Zhang Guo
> School of Information Engineering in Remote Sensing,
> Wuhan University,
> #129 Luoyu road, Wuhan,
> P.R.China
> Mobile: +86-27-62086580
> Office: +86-27-87871114
> Email:guozhangchina at 21cn.com
>       guozhangchina at sina.com
>       zhangguo_wtusm at 163.com
> ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€2004-01-15
>
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From guozhangchina at 21cn.com  Thu Jan 15 05:53:50 2004
From: guozhangchina at 21cn.com (Zhang Guo)
Date: Thu, 15 Jan 2004 21:53:50 +0800
Subject: [OSRS-PROJ] why
Message-ID: <X6959884784193.14014@send2.inner-21cn.com>

Hi,

	yes 

thanks 

======= 2004-01-15 09:28:00 æ‚¨åœ¨æ¥ä¿¡ä¸­å†™é“ï¼š=======

>I can't comment on what's happening inside the program but I notice your
>test point is very far away from your projection origin. Perhaps you're
>specifiying longitude & latitude in reverse order? (proj likes to have lon
>lat, not lat lon.) Your projection origin is approx 39N, 8W but your test
>point is 40E, 10S. Perhaps you mean to have 40N, 10W.
>
>I get this with proj:
>-10 40
>40464.07        338683.60
>
>then this with proj -I:
>40464.07        338683.60
>10dW    40dN
>
>John Smart
>
>
>----- Original Message -----
>From: "Zhang Guo" <guozhangchina at 21cn.com>
>To: <osrs-proj at remotesensing.org>
>Sent: Thursday, January 15, 2004 8:00 AM
>Subject: [OSRS-PROJ] why
>
>
>> Hi,osrs-proj
>>
>> why ?
>>
>>
>>  <20790> +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112
>+k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m
>>
>> i
>> use proj    +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112
>+k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m
>>
>> 40 -10
>> 6173267.02      -5732158.03
>>
>> then
>>
>> proj -I  +proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112
>+k=1.000000 +x_0=200000 +y_0=300000 +ellps=intl +pm=lisbon +units=m
>>
>> the result is :
>>
>>
>> 6173267.02 -5732158.03
>> 39d44'58.08"E   10d5'12.587"S
>>
>>
>>
>>
>>
>>
>>
>>
>> Best regards,
>> Zhang Guo
>> School of Information Engineering in Remote Sensing,
>> Wuhan University,
>> #129 Luoyu road, Wuhan,
>> P.R.China
>> Mobile: +86-27-62086580
>> Office: +86-27-87871114
>> Email:guozhangchina at 21cn.com
>>       guozhangchina at sina.com
>>       zhangguo_wtusm at 163.com
>> ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€2004-01-15
>>
>>
>> ----------------------------------------
>> PROJ.4 Discussion List
>> See http://www.remotesensing.org/proj for subscription, unsubscription
>> and other information.
>>
>
>----------------------------------------
>PROJ.4 Discussion List
>See http://www.remotesensing.org/proj for subscription, unsubscription
>and other information.

= = = = = = = = = = = = = = = = = = = =
				

Best regards,
Zhang Guo
School of Information Engineering in Remote Sensing, 
Wuhan University, 
#129 Luoyu road, Wuhan, 
P.R.China 
Mobile: +86-27-62086580
Office: +86-27-87871114
Email:guozhangchina at 21cn.com
      guozhangchina at sina.com
      zhangguo_wtusm at 163.com
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€2004-01-15



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From guozhangchina at 21cn.com  Thu Jan 15 05:55:33 2004
From: guozhangchina at 21cn.com (Zhang Guo)
Date: Thu, 15 Jan 2004 21:55:33 +0800
Subject: [OSRS-PROJ] why
Message-ID: <Wg959884784469.20763@send3.inner-21cn.com>

Hi,osrs-proj

	i use 

proj  +proj=omerc +lat_0=47.14439372222222 +lonc=19.04857177777778 +alpha=90 +k=0.99993 +x_0=650000 +y_0=200000 +ellps=GRS67 +units=m

then :

Rel. 4.4.6, 3 March 2003
<proj>:
projection initialization failure
cause: lat_0 = 0 or 90 or alpha = 90
program abnormally terminated

but 

by means of a point of origin at (c, 
0) and an azimuth 
c, measured clockwise
from north, of the central line of the projection.





 				

Best regards,
Zhang Guo
School of Information Engineering in Remote Sensing, 
Wuhan University, 
#129 Luoyu road, Wuhan, 
P.R.China 
Mobile: +86-27-62086580
Office: +86-27-87871114
Email:guozhangchina at 21cn.com
      guozhangchina at sina.com
      zhangguo_wtusm at 163.com
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€2004-01-15


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Thu Jan 15 06:28:16 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Thu, 15 Jan 2004 09:28:16 -0500
Subject: [OSRS-PROJ] why
In-Reply-To: <Lr959884789977.14014@send2.inner-21cn.com>
References: <Lr959884789977.14014@send2.inner-21cn.com>
Message-ID: <0ED79BA9-4767-11D8-8D06-000A958A3346@verizon.net>

As pointed out in another response, the difference between lon_0 and
the longitude to be projected is about 32Â°---far outside the range
of elliptical transverse Mercator.

Keep the delta longitude within 5Âº.

On Jan 15, 2004, at 7:56 AM, Zhang Guo wrote:

> Hi,osrs-proj
>
> why ?
>
> 	
>  <20790> +proj=tmerc +lat_0=39.66666666666666 
> +lon_0=-8.131906111111112 +k=1.000000 +x_0=200000 +y_0=300000 
> +ellps=intl +pm=lisbon +units=m
>
> i
> use proj    +proj=tmerc +lat_0=39.66666666666666 
> +lon_0=-8.131906111111112 +k=1.000000 +x_0=200000 +y_0=300000 
> +ellps=intl +pm=lisbon +units=m
>
> 40 -10
> 6173267.02      -5732158.03
>
> then
>
> proj -I  +proj=tmerc +lat_0=39.66666666666666 
> +lon_0=-8.131906111111112 +k=1.000000 +x_0=200000 +y_0=300000 
> +ellps=intl +pm=lisbon +units=m
>
> the result is :
>
>
> 6173267.02 -5732158.03
> 39d44'58.08"E   10d5'12.587"S
	<snip>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1006 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20040115/ddcbb17e/attachment.bin>

From gerald.evenden at verizon.net  Thu Jan 15 06:31:00 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Thu, 15 Jan 2004 09:31:00 -0500
Subject: [OSRS-PROJ] why???
In-Reply-To: <QQ959884788184.20763@send3.inner-21cn.com>
References: <QQ959884788184.20763@send3.inner-21cn.com>
Message-ID: <70EB2046-4767-11D8-8D06-000A958A3346@verizon.net>

The parameters are trying to execute omerc as tmerc and that is illegal.

On Jan 15, 2004, at 8:18 AM, Zhang Guo wrote:

> Hi,osrs-proj
>
> i use
> 	+proj=omerc +lat_0=46.95240555555556 +lonc=7.439583333333333 
> +alpha=90 +k=1 +x_0=2600000 +y_0=1200000 +ellps=bessel 
> +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m
> the result
>
> is
>
> Rel. 4.4.6, 3 March 2003
> <proj>:
> projection initialization failure
> cause: lat_0 = 0 or 90 or alpha = 90
> program abnormally terminated
<snip>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From carl at dgi.com  Thu Jan 15 07:32:46 2004
From: carl at dgi.com (Carl Godkin)
Date: Thu, 15 Jan 2004 07:32:46 -0800
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
Message-ID: <4006B29E.3030308@dgi.com>


Greetings,

The national grid for East Malaysia uses a projection called
Rectified Skew Orthomorphic a/k/a Hotine Oblique Mercator
with an apparently well-known set of parameters.

It is very similar to PROJ.4's Oblique Mercator (omerc)
projection, but not exactly.

Given in the nad/esri file is this setup for conversion
to RSO Borneo in Imperial feet:

# Timbalai 1948 / R.S.O. Borneo (ft)
<29872> +proj=omerc +lat_0=4 +lonc=115 +alpha=53.31582047222222 
+k=0.99984 +x_0=590476.8727431979 +y_0=442857.6545573985 +ellps=evrstSS 
+to_meter=0.3047994715386762 +no_defs  no_defs <>

This doesn't quite do it, however.  I've gotten three sets
of test points from various sources and the conversion
using this setup from lon/lat to x/y is off by ~2000 Imperial
feet on each.

The difference is a parameter (known as gamma) that is the
azimuth from skew to rectified.  There's no such parameter
for "omerc," but it appears to be needed.  For Timbalai,
this is 53d07'48.3685".

FrÃ©dÃ©ric Trastour asked this same question back in April 2002
but the list archives don't show a reply and he hasn't
answered a private follow-up from me.  So I made some minor
changes to the code in PJ_omerc.c (from PROJ 4.4.7) to make
my own PJ_rso.c.

Now I get exactly the right eastings and northings out of
PROJ.4.  My question is, what should I do next?

Did I miss some trick that would enable me to enter this
gamma value for PROJ.4's omerc?   If so, please enlighten
me.

If not, I would be happy to contribute either my PJ_rso.c
or at least explain on this list what I had to change.
(I based my changes on the mathematics described by the
EPSG.)

Thanks for maintaining such a great package,

carl

Carl Godkin                             carl at dgi.com
Manager, Software Engineering           http://www.dgi.com
Dynamic Graphics, Inc.
1015 Atlantic Ave.                      tel: 510/522-0700 x3106
Alameda, CA 94501                       fax: 510/522-5670

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Thu Jan 15 11:08:59 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 15 Jan 2004 14:08:59 -0500
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
In-Reply-To: <4006B29E.3030308@dgi.com>
References: <4006B29E.3030308@dgi.com>
Message-ID: <4006E54B.2060708@pobox.com>

Carl Godkin wrote:
> Now I get exactly the right eastings and northings out of
> PROJ.4.  My question is, what should I do next?
> 
> Did I miss some trick that would enable me to enter this
> gamma value for PROJ.4's omerc?   If so, please enlighten
> me.

Carl,

To the best of my knowledge we didn't really support RSO before.

> If not, I would be happy to contribute either my PJ_rso.c
> or at least explain on this list what I had to change.
> (I based my changes on the mathematics described by the
> EPSG.)

Would it make sense to have this "gamma" value as an argument to
omerc that defaults to whatever it used to be, but that could
be set to produce the RSO projection?

In any event, if you provide the PJ_rso.c I would be willing to
incorporate it into PROJ.4, but it would be best if Gerald first
decided how it should be handled in libproj4.  I would want to
ensure that it is done the same way in PROJ, so that when I ditch
all my projection code and plug in libproj4 as the backend there won't
be an incompatible change in how RSO is handled for users.

Submitting the suggested change in Bugzilla would be a good start.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From carl at dgi.com  Thu Jan 15 11:50:12 2004
From: carl at dgi.com (Carl Godkin)
Date: Thu, 15 Jan 2004 11:50:12 -0800
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
In-Reply-To: <4006E54B.2060708@pobox.com>
References: <4006B29E.3030308@dgi.com> <4006E54B.2060708@pobox.com>
Message-ID: <4006EEF4.8040308@dgi.com>


> Carl,
> 
> To the best of my knowledge we didn't really support RSO before.
> 
>> If not, I would be happy to contribute either my PJ_rso.c
>> or at least explain on this list what I had to change.
>> (I based my changes on the mathematics described by the
>> EPSG.)
> 
> 
> Would it make sense to have this "gamma" value as an argument to
> omerc that defaults to whatever it used to be, but that could
> be set to produce the RSO projection?

I think so.  There are only two very slight differences.

> 
> In any event, if you provide the PJ_rso.c I would be willing to
> incorporate it into PROJ.4, but it would be best if Gerald first
> decided how it should be handled in libproj4.  I would want to
> ensure that it is done the same way in PROJ, so that when I ditch
> all my projection code and plug in libproj4 as the backend there won't
> be an incompatible change in how RSO is handled for users.
> 
> Submitting the suggested change in Bugzilla would be a good start.

Ok, I'll do this soon and explain the differences.

Thanks,

carl

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Thu Jan 15 17:03:56 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Thu, 15 Jan 2004 20:03:56 -0500
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
In-Reply-To: <4006EEF4.8040308@dgi.com>
References: <4006B29E.3030308@dgi.com> <4006E54B.2060708@pobox.com> <4006EEF4.8040308@dgi.com>
Message-ID: <DC289D69-47BF-11D8-8D06-000A958A3346@verizon.net>

I have been through all the nonsense with the Malayan Monster and
even added some parameters to PROJ.4 omerc to do the necessary
supplemental operations.  HOWEVER, that was a long time ago and
I will have to revisit the scene of the crime and see if I can figure 
how
to use them again.

Please give me a couple of days as I have some other stuff going on.
Part of the problem is reading FAXes of the details which are of
very poor quality.
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Thu Jan 15 17:21:56 2004
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Thu, 15 Jan 2004 19:21:56 -0600
Subject: [OSRS-PROJ] The RSO and Hotine
Message-ID: <OFFECB4CE4.E0D90AC4-ON86256E1D.0007804A-86256E1D.0007808B@lsu.edu>





Brigadier Martin Hotine "cooked up" the RSO on the aposphere after WWII
while he was with the Survey of India (SOI).  The RSO was part of his paper
on "The Orthomorphic Projection of the Spheroid" in "Empire Survey Review"
journal in 1948-1949.  The ORIGINAL place he designed it for was Malaya.
Borneo was secondary.  Everyplace else is an afterthought or adopted by
others.  Hotine later retired from the British Royal Engineers and became
the Director of the Directorate of Overseas Surveys, the organization
responsible for more unclassified topographic mapping of the world than any
other - to date.  When Brigadier Hotine retired from DOS, he took an
appointment with ESSA (forerunner of NOAA) to write and publish
"Mathematical Geodesy."  That thing takes me 14 hours per page to digest -
never have finished it cover-to-cover ... I only open it up if I MUST.

Hotine's mentor was McCaw, another retired Royal Engineer and original
Editor-in-Chief of "Empire Survey Review."  He also worked up the McCaw
ellipsoid used for decades in Ghana, and the Fiji Hyperbolic Cassini
projection.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY

-------------------------------------------------

I have been through all the nonsense with the Malayan Monster and
even added some parameters to PROJ.4 omerc to do the necessary
supplemental operations.  HOWEVER, that was a long time ago and
I will have to revisit the scene of the crime and see if I can figure
how
to use them again.

Please give me a couple of days as I have some other stuff going on.
Part of the problem is reading FAXes of the details which are of
very poor quality.

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From carl at dgi.com  Thu Jan 15 21:01:21 2004
From: carl at dgi.com (Carl Godkin)
Date: Thu, 15 Jan 2004 21:01:21 -0800
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
In-Reply-To: <DC289D69-47BF-11D8-8D06-000A958A3346@verizon.net>
References: <4006B29E.3030308@dgi.com> <4006E54B.2060708@pobox.com> <4006EEF4.8040308@dgi.com> <DC289D69-47BF-11D8-8D06-000A958A3346@verizon.net>
Message-ID: <40077021.1010306@dgi.com>

Gerald Evenden wrote:
> I have been through all the nonsense with the Malayan Monster and
> even added some parameters to PROJ.4 omerc to do the necessary
> supplemental operations.  HOWEVER, that was a long time ago and
> I will have to revisit the scene of the crime and see if I can figure how
> to use them again.

As requested, I added my "diffs" to the bugzilla database
(http://bugzilla.remotesensing.org/show_bug.cgi?id=461)
so you and other victims of this projections may inspect
my idea for supporting it.

> Please give me a couple of days as I have some other stuff going on.
> Part of the problem is reading FAXes of the details which are of
> very poor quality.

By the way, I'm working from a fax copy myself.
The funny thing is that someone helpfully summarized it in
the form of a Word document and made two typos doing so. I
only found them after I questioned our client on the unlikely
shape of the earth they provided.  That's when I saw the
fax with presumably correct values.

I've got a working solution for my purposes, so please take
all the time you need.

carl

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Fri Jan 16 13:32:50 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Fri, 16 Jan 2004 16:32:50 -0500
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
In-Reply-To: <40077021.1010306@dgi.com>
References: <4006B29E.3030308@dgi.com> <4006E54B.2060708@pobox.com> <4006EEF4.8040308@dgi.com> <DC289D69-47BF-11D8-8D06-000A958A3346@verizon.net> <40077021.1010306@dgi.com>
Message-ID: <8944F6C5-486B-11D8-BAA5-000A958A3346@verizon.net>

After looking at the suggested change for "rso" and EPSG #7 I think
the only cosmetic change to omerc would be the addition of the
gamma_c factor which would trigger the "skewed" mode.  To the
best that I can  determine, gamma_c is only used in the translation-
rotation of the grid.

Funny statement in EPSG, pg. 33 referring to the Swiss and Hungarian
as "Transverse Mercator" projections.  Also, I did the Swiss by going
through the Gaussian sphere and then translation.  Hmmm.

Does anyone have specifications and bench values for the Hungarian
system?

Laborde also has its own development.

EPSG makes a peculiar, to me, statement about the Alaskan having
grid and true north identical at the center of the map rather than at
the "natural origin."  To me the natural origin in this case is merely 
the
offset due to false easting/northing and has no other intrinsic 
interest.
Also, I don't see how you can do the Alaskan with the code presented.

EPSG ignored the Great Lakes systems which are spec'd in the same
manner as the Alaskan: lon_c, lat_c and alpha.

The more I study the EPSG report the pickier I get.
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From carl at dgi.com  Fri Jan 16 14:21:02 2004
From: carl at dgi.com (Carl Godkin)
Date: Fri, 16 Jan 2004 14:21:02 -0800
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
In-Reply-To: <8944F6C5-486B-11D8-BAA5-000A958A3346@verizon.net>
References: <4006B29E.3030308@dgi.com> <4006E54B.2060708@pobox.com> <4006EEF4.8040308@dgi.com> <DC289D69-47BF-11D8-8D06-000A958A3346@verizon.net> <40077021.1010306@dgi.com> <8944F6C5-486B-11D8-BAA5-000A958A3346@verizon.net>
Message-ID: <400863CE.6000805@dgi.com>

Gerald Evenden wrote:

> After looking at the suggested change for "rso" and EPSG #7 I think
> the only cosmetic change to omerc would be the addition of the
> gamma_c factor which would trigger the "skewed" mode.  To the
> best that I can  determine, gamma_c is only used in the translation-
> rotation of the grid.

As I mentioned, I have three sets of test data for the Borneo RSO
and would be happy to test any updates to PJ_omerc.c that you
make.

I like the idea of augmenting omerc instead of adding another 
projection.  In my case, I didn't want to screw up omerc in
my efforts to get RSO working!

carl

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From charlie at im-design.net  Sun Jan 18 09:22:41 2004
From: charlie at im-design.net (Charles D. Van Dusen)
Date: Sun, 18 Jan 2004 12:22:41 -0500
Subject: [OSRS-PROJ] Projection information for DCW
Message-ID: <90264B8395BF154DB2CB12B068DFFAE903ADAD@westward.im-design.net>

Hello all:
 
I am workign with DCW data which Ive downloaded. Id like to project
antarctica and russia, but the data are sourced in something other than
decimal degrees. 
 
Can anyone provide me with the parameters of the projection in which
these data exists within the DCW? 
 
Thanks
 
Charlie Van Dusen
IM Design
 
charlie at im-design.net
+1 781.389.0343
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20040118/75f40a68/attachment.html>

From gerald.evenden at verizon.net  Sun Jan 18 18:00:04 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Sun, 18 Jan 2004 21:00:04 -0500
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
In-Reply-To: <400863CE.6000805@dgi.com>
References: <4006B29E.3030308@dgi.com> <4006E54B.2060708@pobox.com> <4006EEF4.8040308@dgi.com> <DC289D69-47BF-11D8-8D06-000A958A3346@verizon.net> <40077021.1010306@dgi.com> <8944F6C5-486B-11D8-BAA5-000A958A3346@verizon.net> <400863CE.6000805@dgi.com>
Message-ID: <32E7A252-4A23-11D8-95F1-000A958A3346@verizon.net>

After going over the omerc code, Snyder and EPSG documentation I
have decided that omerc should be recoded.  It was a remnant of
the original conversion from gctp FORTRAN code and thus the odd
symbology.  Plus a few hacks by myself through the years that do
not make much sense now.

EPSG and Snyder are essentially the same except for one interesting
detail: translation of the pole in the meridianal plane of the center
of the projection or when alpha=0.  Snyder did not take care of
this case in PP1395 so I prohibited it.

There are problems with EPSG #7 but it is better than previous
copies I've gotten.  Too many details to list here other than a
warning to beware of its contents.

I have no idea why everyone confuses the issue by giving all
those names to the same projection.  Shift the origin and
rotation and make a new name.  Bah!
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Mon Jan 19 06:31:30 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 19 Jan 2004 09:31:30 -0500
Subject: [OSRS-PROJ] Projection information for DCW
In-Reply-To: <90264B8395BF154DB2CB12B068DFFAE903ADAD@westward.im-design.net>
References: <90264B8395BF154DB2CB12B068DFFAE903ADAD@westward.im-design.net>
Message-ID: <400BEA42.5000603@pobox.com>

Charles D. Van Dusen wrote:
> Hello all:
>  
> I am workign with DCW data which Ive downloaded. Id like to project 
> antarctica and russia, but the data are sourced in something other than 
> decimal degrees.
>  
> Can anyone provide me with the parameters of the projection in which 
> these data exists within the DCW?

Charles,

To the best of my knowledge all DCW data (as distributed by NIMA anyways)
is in WGS84 decimal degrees.  What was your data source?  Why do you think
it isn't decimal degrees?  I think you are going to need to go back to your
source, or find some metadata with info.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From charlie at im-design.net  Mon Jan 19 07:21:36 2004
From: charlie at im-design.net (Charles D. Van Dusen)
Date: Mon, 19 Jan 2004 10:21:36 -0500
Subject: [SPAM] - Re: [OSRS-PROJ] Projection information for DCW - Email found in subject
Message-ID: <90264B8395BF154DB2CB12B068DFFAE903ADB1@westward.im-design.net>

I retrieved data from the DCW server at penn state university. 

They pre-process Russia and Antarctica (so they are not available in
decimal degrees).

Can you suggest any other source for DCW data?

 

-----Original Message-----
From: owner-osrs-proj at remotesensing.org
[mailto:owner-osrs-proj at remotesensing.org] On Behalf Of Frank Warmerdam
Sent: Monday, January 19, 2004 9:32 AM
To: osrs-proj at remotesensing.org
Subject: [SPAM] - Re: [OSRS-PROJ] Projection information for DCW - Email
found in subject

Charles D. Van Dusen wrote:
> Hello all:
>  
> I am workign with DCW data which Ive downloaded. Id like to project 
> antarctica and russia, but the data are sourced in something other 
> than decimal degrees.
>  
> Can anyone provide me with the parameters of the projection in which 
> these data exists within the DCW?

Charles,

To the best of my knowledge all DCW data (as distributed by NIMA
anyways) is in WGS84 decimal degrees.  What was your data source?  Why
do you think it isn't decimal degrees?  I think you are going to need to
go back to your source, or find some metadata with info.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Mon Jan 19 13:43:19 2004
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Mon, 19 Jan 2004 15:43:19 -0600
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
Message-ID: <OFC2A2C13E.0B868883-ON86256E20.00775232-86256E20.0077527C@lsu.edu>





"After going over the omerc code, Snyder and EPSG documentation ...

         ------------<snip>---------------

... I have no idea why everyone confuses the issue by giving all those
names to the same projection.  Shift the origin and rotation and make a new
name.  Bah!"

I'll agree with that in spades!  Humbug!

Obfuscation for the sake of confusion !!!

Cliff Mugnier
LOUISIANA STATE UNIVERSITY

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From ERIC.C.ZEHNBAUER at saic.com  Thu Jan 22 11:09:39 2004
From: ERIC.C.ZEHNBAUER at saic.com (Zehnbauer, Eric C)
Date: Thu, 22 Jan 2004 14:09:39 -0500
Subject: [OSRS-PROJ] Datum transformation from Nanking 1960 Datum to WGS84?
Message-ID: <14A4520254D6BF4E96032603962CF94F01552F4F@wfs-ccait-exs02.westfields.saic.com>

Can anyone help me with this?  I need to know the datum transformation
parameters to go from Nanking 1960 to WGS84.  Any help is greatly
appreciated!
 
Eric C. Zehnbauer
Senior Cartographer
Quality Control Manager
SAIC - St. Louis
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20040122/94046e7c/attachment.html>

From cjmce at lsu.edu  Thu Jan 22 11:27:35 2004
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Thu, 22 Jan 2004 13:27:35 -0600
Subject: [OSRS-PROJ] Datum transformation from Nanking 1960 Datum to WGS84?
Message-ID: <OFDA06DBDB.8228EFB8-ON86256E23.006AE4F4-86256E23.006AE571@lsu.edu>





Eric,

That sort of information is considered a Military Secret within the
People's Republic of China.  Considering who you work for and your
signature block, I'd suggest an inquiry through SCIF channels.  However, I
doubt you'll find anything.  Contact me directly if you want more specific
clues regarding whom to ask.

The May 2000 issue of "Photogrammetric Engineering and Remote Sensing" has
my Grids & Datums column on the country; you will notice that there is not
a whole lot available about the "Inscrutible Far East" in the last 50 years
or so.

Clifford J. Mugnier (cjmce at LSU.edu)
Chief of Geodesy and
Associate Director,
CENTER FOR GEOINFORMATICS
Department of Civil Engineering
LOUISIANA STATE UNIVERSITY
Baton Rouge, LA  70803
Voice and Facsimile:  (225) 578-8536
Pager:              1-(888) 365-5180
================================
http://www.ASPRS.org/resources.html
http://www.cee.lsu.edu/facultyStaff/mugnier/index.html
================================



Can anyone help me with this?Â  I need to know the datum transformation
parameters to go from Nanking1960 to WGS84.Â  Any help is greatly
appreciated!

Eric C. Zehnbauer
Senior Cartographer
Quality Control Manager
SAIC - St. Louis



----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From hwehr at hs-harz.de  Thu Jan 22 22:29:02 2004
From: hwehr at hs-harz.de (Harald Wehr)
Date: Fri, 23 Jan 2004 07:29:02 +0100
Subject: [OSRS-PROJ] Orthographic Projection in Mapserver
Message-ID: <4010BF2E.2060906@hs-harz.de>

Sorry for posting to this list as my problem seems to be related to 
mapserver. As I get no answer on their mailing list I describe my 
problem here hoping to find an answer:

I want to provide an earth in Mapserver view that looks like a globe. I 
therefore use the orthographic projection but get some problems here.

As I dont' know whether it is possible to attach binary files in this 
mailing list i put all example files under this url:

http://www2.hs-harz.de/~hwehr/mapserver/

I made 3 examples, every example has a map file, a template output and 
the resulting image.

Let me explain the examples. My data resides in a tif-file with world 
information in lat/lon format. Example 1 is working as you can see in 
the files containing the number 1. This example uses normal lat/lon 
projection.

In the 2nd example I switched to orthographic projection with the 
extends -4000000 -4000000 4000000 4000000. Projection center is lon=0 
and lat=0 and does not change in these examples (I know that this has to 
change every time the user performs a click. My client is able to handle 
this). This output looks ok to me.

If I enlarge the extend in example 3 the output picture is cut in the 
north south direction and I don't know why. I want to be able to enlarge 
the extent further so that the user thinks he "moves away" from the 
earth but pictures become smaller and smaller in north south direction 
when I enlarge the extent further (e.G.-6200000 -6200000 6200000 6200000)

Every extent that is "higher" than the earth radius (6378000) results in 
a blank image.

Can you help me here?

Thanks
Harald


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Fri Jan 23 12:04:05 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 23 Jan 2004 15:04:05 -0500
Subject: [OSRS-PROJ] SOM-A
Message-ID: <40117E35.8050604@pobox.com>

Folks,

Some folks from JPL are interested in having SOM-A added to GeoTIFF.
However, the arguments they propose for it are not ones that I am familiar
with and I wonder how practical they would be to use.  Does anyone know if
PROJ.4 supports Space Oblique Mercator (specially form-A from GCTP)?
Would anyone be interested in implementing it?

The JPL proposal looks like this:

Michael A. Bull wrote:
 > To all,
 >
 > I would like to see support added for the Space Oblique Mercator (SOM) projection in
 > GeoTiff.  Specifically, I'm interested in the generic SOM format A, as defined by GCTP,
 > and also is implemented in ENVI version 4.0.  The parameters required to define the
 > SOM format A projection are as follows:
 >
 > 1 Semi-major axis of the ellipsoid
 > 2 Semi-minor axis of the ellipsoid
 > 3 Inclination of orbit ascending node.  (angular units)
 > 4 Longitude of ascending orbit at equator.  (angular units)
 > 5 False easting
 > 6 False northing
 > 7 Period of satellite revolution.  (time in minutes)
 > 8 Satellite ratio.  This controls the start and end points of the map on
 >    the earth surface.
 >
 > I propose that a new projection type be added along with keys for the
 > projection parameter types that are not already supported.
 >
 > Following existing convention, I suggest the projection type should be named
 > CT_ObliqueMercator_Space_A
 >
 > New projection parameter keys are needed for parameters 3,4,7 and 8 (above).,
 > The other parameters already have appropriate keys defined.  Suggested new
 > parameter type names are
 > 3 ProjInclinationAscending
 > 4 ProjLongitudeAscending
 > 7 ProjOrbitPeriod
 > 8 ProjSatelliteRatio

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Fri Jan 23 12:40:13 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Fri, 23 Jan 2004 15:40:13 -0500
Subject: [OSRS-PROJ] SOM-A
In-Reply-To: <40117E35.8050604@pobox.com>
References: <40117E35.8050604@pobox.com>
Message-ID: <580CC462-4DE4-11D8-8A09-000A958A3346@verizon.net>

Space obl.. merc is in PROJ.4, basically a copy of gctp.

+proj=lsat

On Jan 23, 2004, at 3:04 PM, Frank Warmerdam wrote:

> Folks,
>
> Some folks from JPL are interested in having SOM-A added to GeoTIFF.
> However, the arguments they propose for it are not ones that I am  
> familiar
> with and I wonder how practical they would be to use.  Does anyone  
> know if
> PROJ.4 supports Space Oblique Mercator (specially form-A from GCTP)?
> Would anyone be interested in implementing it?
>
> The JPL proposal looks like this:
>
> Michael A. Bull wrote:
> > To all,
> >
> > I would like to see support added for the Space Oblique Mercator  
> (SOM) projection in
> > GeoTiff.  Specifically, I'm interested in the generic SOM format A,  
> as defined by GCTP,
> > and also is implemented in ENVI version 4.0.  The parameters  
> required to define the
> > SOM format A projection are as follows:
> >
> > 1 Semi-major axis of the ellipsoid
> > 2 Semi-minor axis of the ellipsoid
> > 3 Inclination of orbit ascending node.  (angular units)
> > 4 Longitude of ascending orbit at equator.  (angular units)
> > 5 False easting
> > 6 False northing
> > 7 Period of satellite revolution.  (time in minutes)
> > 8 Satellite ratio.  This controls the start and end points of the  
> map on
> >    the earth surface.
> >
> > I propose that a new projection type be added along with keys for the
> > projection parameter types that are not already supported.
> >
> > Following existing convention, I suggest the projection type should  
> be named
> > CT_ObliqueMercator_Space_A
> >
> > New projection parameter keys are needed for parameters 3,4,7 and 8  
> (above).,
> > The other parameters already have appropriate keys defined.   
> Suggested new
> > parameter type names are
> > 3 ProjInclinationAscending
> > 4 ProjLongitudeAscending
> > 7 ProjOrbitPeriod
> > 8 ProjSatelliteRatio
>
> Best regards,
> --  
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Fri Jan 23 13:45:42 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 23 Jan 2004 16:45:42 -0500
Subject: [OSRS-PROJ] SOM-A
In-Reply-To: <580CC462-4DE4-11D8-8A09-000A958A3346@verizon.net>
References: <40117E35.8050604@pobox.com> <580CC462-4DE4-11D8-8A09-000A958A3346@verizon.net>
Message-ID: <40119606.6030908@pobox.com>

Gerald Evenden wrote:
> Space obl.. merc is in PROJ.4, basically a copy of gctp.
> 
> +proj=lsat

Gerald,

It's embarrassing what I don't know sometimes.  I see it is driven by
the lsat (presumably land sat number) and path values much like the old
GCTP formulations I have seen.  Would it be hard to update the code to
support the explicit parameters JPL is suggesting?

  3 Inclination of orbit ascending node.  (angular units)
  4 Longitude of ascending orbit at equator.  (angular units)
  7 Period of satellite revolution.  (time in minutes)
  8 Satellite ratio.  This controls the start and end points of the  map on
     the earth surface.

My presumption is that these are being computed internally from the landsat
number and path ... is that right?  Are these JPL guys going at the problem
in a good way to reduce the projection to it's underlying parameters or is
it just going to make it a huge hassle for people to enter?

Best regards,

---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Fri Jan 23 17:18:36 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Fri, 23 Jan 2004 20:18:36 -0500
Subject: [OSRS-PROJ] SOM-A
In-Reply-To: <40119606.6030908@pobox.com>
References: <40117E35.8050604@pobox.com> <580CC462-4DE4-11D8-8A09-000A958A3346@verizon.net> <40119606.6030908@pobox.com>
Message-ID: <3C04EE92-4E0B-11D8-8A09-000A958A3346@verizon.net>

Oh boy!  The only amount that I have looked at it was many years ago and
that was only to check that it could replicate JPS' test numbers.  I  
will give it
a quick look and see if I understand any of it.

At the moment I am about half way through omerc and trying to figure out
a computation in gctp/prpj that is not documented anywhere.  BTW, EPSG  
is
*not* a very good code source.  What is in there is basically JSP'  
workup
but lacks some critical details.  It is not from Hotine.

On Jan 23, 2004, at 4:45 PM, Frank Warmerdam wrote:

> Gerald Evenden wrote:
>> Space obl.. merc is in PROJ.4, basically a copy of gctp.
>> +proj=lsat
>
> Gerald,
>
> It's embarrassing what I don't know sometimes.  I see it is driven by
> the lsat (presumably land sat number) and path values much like the old
> GCTP formulations I have seen.  Would it be hard to update the code to
> support the explicit parameters JPL is suggesting?
>
>  3 Inclination of orbit ascending node.  (angular units)
>  4 Longitude of ascending orbit at equator.  (angular units)
>  7 Period of satellite revolution.  (time in minutes)
>  8 Satellite ratio.  This controls the start and end points of the   
> map on
>     the earth surface.
>
> My presumption is that these are being computed internally from the  
> landsat
> number and path ... is that right?  Are these JPL guys going at the  
> problem
> in a good way to reduce the projection to it's underlying parameters  
> or is
> it just going to make it a huge hassle for people to enter?
>
> Best regards,
>
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From cjmce at lsu.edu  Fri Jan 23 17:45:02 2004
From: cjmce at lsu.edu (Clifford J Mugnier)
Date: Fri, 23 Jan 2004 19:45:02 -0600
Subject: [OSRS-PROJ] SOM-A
Message-ID: <OFD4F796EB.8A5CE53F-ON86256E25.00099D50-86256E25.00099DD1@lsu.edu>





John originally published his SOM the same month I published a paper on
single-ray rectification in "Photogrammetric Engineering."  I think it was
'77 or '78.  (You know you're getting old when you can't remember the
year).  Anyway, I've got some of John's old typewritten and handwritten
manuscripts as well as his hardbound USGS volume on his SOM.  No, you can't
have it.

However, let me know what details you think you need, I'll copy or scan
them and mail them to you.

Cliff Mugnier
LOUISIANA STATE UNIVERSITY

-------------------------------------

Oh boy!  The only amount that I have looked at it was many years ago and
that was only to check that it could replicate JPS' test numbers.  I
will give it
a quick look and see if I understand any of it.

At the moment I am about half way through omerc and trying to figure out
a computation in gctp/prpj that is not documented anywhere.  BTW, EPSG
is
*not* a very good code source.  What is in there is basically JSP'
workup
but lacks some critical details.  It is not from Hotine.

On Jan 23, 2004, at 4:45 PM, Frank Warmerdam wrote:

> Gerald Evenden wrote:
>> Space obl.. merc is in PROJ.4, basically a copy of gctp.
>> +proj=lsat
>
> Gerald,
>
> It's embarrassing what I don't know sometimes.  I see it is driven by
> the lsat (presumably land sat number) and path values much like the old
> GCTP formulations I have seen.  Would it be hard to update the code to
> support the explicit parameters JPL is suggesting?
>
>  3 Inclination of orbit ascending node.  (angular units)
>  4 Longitude of ascending orbit at equator.  (angular units)
>  7 Period of satellite revolution.  (time in minutes)
>  8 Satellite ratio.  This controls the start and end points of the
> map on
>     the earth surface.
>
> My presumption is that these are being computed internally from the
> landsat
> number and path ... is that right?  Are these JPL guys going at the
> problem
> in a good way to reduce the projection to it's underlying parameters
> or is
> it just going to make it a huge hassle for people to enter?
>
> Best regards,
>

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Fri Jan 23 18:19:07 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Fri, 23 Jan 2004 21:19:07 -0500
Subject: [OSRS-PROJ] SOM-A
In-Reply-To: <OFD4F796EB.8A5CE53F-ON86256E25.00099D50-86256E25.00099DD1@lsu.edu>
References: <OFD4F796EB.8A5CE53F-ON86256E25.00099D50-86256E25.00099DD1@lsu.edu>
Message-ID: <B0071145-4E13-11D8-8A09-000A958A3346@verizon.net>

There are about 15 pages of heavy math in PP1395 for 
elliptical/spherical
earth and circular/noncircular orbit.  To start from scratch with this 
material
there needs some research to be performed.  First of all, Simpson Rule
intergration goes out the window and kernel evaluation of the integrals
needs to be done.  Along with a lot of understanding of what John is
trying to say.  At the moment, each satellite appears to need some
computational intensive work to get series coefficients.  Thus, do you
want to do this for every usage or catalog new satellites to replace
(add to) the older selections?

It is beginning to look like a good project for some young stud looking
to make a good impression on his boss.

On Jan 23, 2004, at 8:45 PM, Clifford J Mugnier wrote:
>
> John originally published his SOM the same month I published a paper on
> single-ray rectification in "Photogrammetric Engineering."  I think it 
> was
> '77 or '78.  (You know you're getting old when you can't remember the
> year).  Anyway, I've got some of John's old typewritten and handwritten
> manuscripts as well as his hardbound USGS volume on his SOM.  No, you 
> can't
> have it.
>
> However, let me know what details you think you need, I'll copy or scan
> them and mail them to you.
>
> Cliff Mugnier
> LOUISIANA STATE UNIVERSITY
>
> -------------------------------------
>
> Oh boy!  The only amount that I have looked at it was many years ago 
> and
> that was only to check that it could replicate JPS' test numbers.  I
> will give it
> a quick look and see if I understand any of it.
>
> At the moment I am about half way through omerc and trying to figure 
> out
> a computation in gctp/prpj that is not documented anywhere.  BTW, EPSG
> is
> *not* a very good code source.  What is in there is basically JSP'
> workup
> but lacks some critical details.  It is not from Hotine.
>
> On Jan 23, 2004, at 4:45 PM, Frank Warmerdam wrote:
>
>> Gerald Evenden wrote:
>>> Space obl.. merc is in PROJ.4, basically a copy of gctp.
>>> +proj=lsat
>>
>> Gerald,
>>
>> It's embarrassing what I don't know sometimes.  I see it is driven by
>> the lsat (presumably land sat number) and path values much like the 
>> old
>> GCTP formulations I have seen.  Would it be hard to update the code to
>> support the explicit parameters JPL is suggesting?
>>
>>  3 Inclination of orbit ascending node.  (angular units)
>>  4 Longitude of ascending orbit at equator.  (angular units)
>>  7 Period of satellite revolution.  (time in minutes)
>>  8 Satellite ratio.  This controls the start and end points of the
>> map on
>>     the earth surface.
>>
>> My presumption is that these are being computed internally from the
>> landsat
>> number and path ... is that right?  Are these JPL guys going at the
>> problem
>> in a good way to reduce the projection to it's underlying parameters
>> or is
>> it just going to make it a huge hassle for people to enter?
>>
>> Best regards,
>>
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Sun Jan 25 18:27:45 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Sun, 25 Jan 2004 21:27:45 -0500
Subject: [OSRS-PROJ] Rectified Skew Orthomorphic...
In-Reply-To: <400863CE.6000805@dgi.com>
References: <4006B29E.3030308@dgi.com> <4006E54B.2060708@pobox.com> <4006EEF4.8040308@dgi.com> <DC289D69-47BF-11D8-8D06-000A958A3346@verizon.net> <40077021.1010306@dgi.com> <8944F6C5-486B-11D8-BAA5-000A958A3346@verizon.net> <400863CE.6000805@dgi.com>
Message-ID: <39F62F88-4FA7-11D8-AFBA-000A958A3346@verizon.net>

An update:

The forward script:

opts="+proj=omerc +a=6377298.556 +rf=300.8017 +lat_0=4 +lonc=115 \
   +alpha=53d18'56.9537 +gamma_c=53d7'48.3685 +k_0=0.99984 \
   +x_0=590476.87 +y_0=442857.65"

replicates the example for Borneo in EPSG #7 and

opts="+proj=omerc  +a=6378206.4 +es=.006768657997291094 \
+k=.9999 +lonc=-133d40 +lat_0=57 +alpha=-36d52'11.6315 \
+x_0=818585.5672270928 +y_0=575219.2451072642 +units=us-ft"

replicates the fortran version of gctp to 0.0005 us-ft.

You can see that +gamma_c is the only difference in the usage.

I would appreciate Malaysia specs and bench values as well as more
bench values for Borneo.

Thanks.

About another weeks work to check inverse and other options and
clean up documentation.

_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From carl at dgi.com  Mon Jan 26 23:15:04 2004
From: carl at dgi.com (Carl Godkin)
Date: Mon, 26 Jan 2004 23:15:04 -0800
Subject: [OSRS-PROJ] RD / Netherlands New question...
Message-ID: <40160FF8.9000207@dgi.com>


Hi all,

Can the PROJ.4 package be used to reproduce the
EPSG example results for transforming a point
from lon,lat to X,Y in the RD/Netherlands New
(a/k/a New Amersfoort) coordinate system?

 From various places, including nad/epsg in the
PROJ 4.4.7 distro, I gather the appropriate
command line would be something like:

	proj +proj=stere +lat_0=52.15616055555555 \
           +lon_0=5.38763888888889 +k=0.9999079 \
           +x_0=155000 +y_0=463000 +ellps=bessel
           +units=m +no_defs

But given 6d E and 53d N, proj 4.4.7 yields
	X=196107.26       Y=557059.56

when EPSG Guidance Note 7, page 39 (reproduced at 
http://www.remotesensing.org/geotiff/proj_list/oblique_stereographic.html 
) says that the result is actually
	X=196105.283      Y=557057.739

I have an idea that the source of the difference
is contained in this paragraph from the EPSG Note:

> An alternative approach is given by Snyder, where, instead
 > of defining a single conformal sphere at the origin point,
 > the conformal latitude at each point on the ellipsoid is
 > computed. The conformal longitude is then always equivalent
 > to the geodetic longitude. This approach is a valid
 > alternative to the above, but gives slightly different
 > results away from the origin point.

Be this as it may, my software needs to match the EPSG
example to pass its validation.  (I was hoping to update
some older code in which the New and Old Amersfoort
coordinate systems were treated as special cases.)

 From a short look at the code in PJ_stere.c, it appears
that the code in PROJ.4 is completely different from the
math in the EPSG Guidance Note.

Thank you for any suggestions,

carl

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From d.orme at imperial.ac.uk  Wed Jan 28 03:00:40 2004
From: d.orme at imperial.ac.uk (Orme, David)
Date: Wed, 28 Jan 2004 11:00:40 -0000
Subject: [OSRS-PROJ] Bug in CEA projection?
Message-ID: <35F34DF2-5181-11D8-8132-000393DC1748@ic.ac.uk>

Hi,

This was cross-posted from the Grass list a while back - have I got 
something wrong or is this a bug?

I'm using Proj 4.4.7 on my Mac 10.3.2 and ArcGIS 8 on a Windows XP 
machine - the two programs give different answers for coordinate 
transformations into  a Behrmann projection (Cylindrical Equal Area 
with latitude of true scale at 30 N/S). I've checked using Geotrans 
2.2.4 on the Windows machine and that agrees with ArcGIS.

My test point is in Behrmann coordinates, units in meters: 0E 
7284713.234N

cs2cs gives:

> doibook:~/Library/Preferences dorme$ cs2cs -f "%0.6f" +proj=cea 
> +lat_ts=30 +datum=WGS84 +to +proj=latlong +datum=WGS84
> 0 7284713.234
> 0.000000        82.485563 0.000000

Both ArcGIS and Geotrans give the following geodesic coordinates: 0 E 
82.855347 N

Any suggestions?

Many thanks,
David Orme


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20040128/080c454a/attachment.html>

From gerald.evenden at verizon.net  Wed Jan 28 07:18:43 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Wed, 28 Jan 2004 10:18:43 -0500
Subject: [OSRS-PROJ] Bug in CEA projection?
In-Reply-To: <35F34DF2-5181-11D8-8132-000393DC1748@ic.ac.uk>
References: <35F34DF2-5181-11D8-8132-000393DC1748@ic.ac.uk>
Message-ID: <42C0697E-51A5-11D8-AD4B-000A958A3346@verizon.net>

Local lproj (libproj4) script:

../lproj +proj=cea +ellps=WGS84 +lat_ts=30 -I -f '%.6f'<<EOF
0 7284713.234
EOF

Produces the following results:

0.000000	82.855347

Older versions of proj seem to have a problem.  Last change
to cea (libproj4) was Mar., '03

On Jan 28, 2004, at 6:00 AM, Orme, David wrote:

> Hi,
>
> This was cross-posted from the Grass list a while back - have I got
> something wrong or is this a bug?
>
> I'm using Proj 4.4.7 on my Mac 10.3.2 and ArcGIS 8 on a Windows XP
> machine - the two programs give different answers for coordinate
> transformations intoÂ  a Behrmann projection (Cylindrical Equal Area
> with latitude of true scale at 30 N/S). I've checked using Geotrans
> 2.2.4 on the Windows machine and that agrees with ArcGIS.
>
> My test point is in Behrmann coordinates, units in meters: 0E
> 7284713.234N
>
> cs2cs gives:
>
> > doibook:~/Library/Preferences dorme$ cs2cs -f "%0.6f" +proj=cea
> > +lat_ts=30 +datum=WGS84 +to +proj=latlong +datum=WGS84
> > 0 7284713.234
> > 0.000000Â Â Â Â Â Â Â  82.485563 0.000000
>
> Both ArcGIS and Geotrans give the following geodesic coordinates: 0 E
> 82.855347 N
>
> Any suggestions?
>
> Many thanks,
> David Orme
>
>
>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1656 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20040128/3b3760e9/attachment.bin>

From d.orme at imperial.ac.uk  Wed Jan 28 08:17:44 2004
From: d.orme at imperial.ac.uk (David Orme)
Date: Wed, 28 Jan 2004 16:17:44 +0000
Subject: [OSRS-PROJ] Bug in CEA projection?
In-Reply-To: <42C0697E-51A5-11D8-AD4B-000A958A3346@verizon.net>
References: <35F34DF2-5181-11D8-8132-000393DC1748@ic.ac.uk> <42C0697E-51A5-11D8-AD4B-000A958A3346@verizon.net>
Message-ID: <815D62F4-51AD-11D8-8551-000393DC1748@ic.ac.uk>

That's odd - I've just recently compiled proj4 from source but I still 
get the wrong answer.

> doibook:~ dorme$ proj +proj=cea +ellps=WGS84 +lat_ts=30 -I -f 
> '%.6f'<<EOF
> > 0 7284713.234
> > EOF
> 0.000000        82.485563
> doibook:~ dorme$ proj
> Rel. 4.4.7, 31 March 2003
> usage: proj [ -beEfiIlormsStTvVwW [args] ] [ +opts[=arg] ] [ files ]
> doibook:~ dorme$

The linker details from the dynamic library are:

> doibook:~ dorme$ otool -L /usr/local/lib/libproj.dylib
> /usr/local/lib/libproj.dylib:
>         /usr/local/lib/libproj.0.dylib (compatibility version 5.0.0, 
> current version 5.1.0)
>         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, 
> current version 71.0.0)

Am I using an outdated version?

Thanks,
David

On 28 Jan 2004, at 15:18, Gerald Evenden wrote:

> Local lproj (libproj4) script:
>
> ../lproj +proj=cea +ellps=WGS84 +lat_ts=30 -I -f '%.6f'<<EOF
> 0 7284713.234
> EOF
>
> Produces the following results:
>
> 0.000000	82.855347
>
> Older versions of proj seem to have a problem.  Last change
> to cea (libproj4) was Mar., '03
>
> On Jan 28, 2004, at 6:00 AM, Orme, David wrote:
>
>> Hi,
>>
>> This was cross-posted from the Grass list a while back - have I got
>> something wrong or is this a bug?
>>
>> I'm using Proj 4.4.7 on my Mac 10.3.2 and ArcGIS 8 on a Windows XP
>> machine - the two programs give different answers for coordinate
>> transformations intoÂ  a Behrmann projection (Cylindrical Equal Area
>> with latitude of true scale at 30 N/S). I've checked using Geotrans
>> 2.2.4 on the Windows machine and that agrees with ArcGIS.
>>
>> My test point is in Behrmann coordinates, units in meters: 0E
>> 7284713.234N
>>
>> cs2cs gives:
>>
>> > doibook:~/Library/Preferences dorme$ cs2cs -f "%0.6f" +proj=cea
>> > +lat_ts=30 +datum=WGS84 +to +proj=latlong +datum=WGS84
>> > 0 7284713.234
>> > 0.000000Â Â Â Â Â Â Â  82.485563 0.000000
>>
>> Both ArcGIS and Geotrans give the following geodesic coordinates: 0 E
>> 82.855347 N
>>
>> Any suggestions?
>>
>> Many thanks,
>> David Orme
>>
>>
>>
> _____________________________________
> Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From warmerdam at pobox.com  Wed Jan 28 08:34:55 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 28 Jan 2004 11:34:55 -0500
Subject: [OSRS-PROJ] Bug in CEA projection?
In-Reply-To: <815D62F4-51AD-11D8-8551-000393DC1748@ic.ac.uk>
References: <35F34DF2-5181-11D8-8132-000393DC1748@ic.ac.uk> <42C0697E-51A5-11D8-AD4B-000A958A3346@verizon.net> <815D62F4-51AD-11D8-8551-000393DC1748@ic.ac.uk>
Message-ID: <4017E4AF.3060203@pobox.com>

David Orme wrote:
> That's odd - I've just recently compiled proj4 from source but I still 
> get the wrong answer.
> 
>> doibook:~ dorme$ proj +proj=cea +ellps=WGS84 +lat_ts=30 -I -f '%.6f'<<EOF
>> > 0 7284713.234
>> > EOF
>> 0.000000        82.485563
>> doibook:~ dorme$ proj
>> Rel. 4.4.7, 31 March 2003
>> usage: proj [ -beEfiIlormsStTvVwW [args] ] [ +opts[=arg] ] [ files ]
>> doibook:~ dorme$
> 
> 
> The linker details from the dynamic library are:
> 
>> doibook:~ dorme$ otool -L /usr/local/lib/libproj.dylib
>> /usr/local/lib/libproj.dylib:
>>         /usr/local/lib/libproj.0.dylib (compatibility version 5.0.0, 
>> current version 5.1.0)
>>         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, 
>> current version 71.0.0)
> 
> 
> Am I using an outdated version?

David,

Gerald is working on a cleaned up "next generation" PROJ core which he calls
libproj4.  He is doing all his new projections and other improvements there.
However, he has purposefully removed non-projections related "cruft".  I
would suggest you download his libproj4 from his web site and verify that
you get the right results with it.  If so, please file a bug report in the
PROJ bugzilla and I will migrate his code into the more widely used PROJ.4
package.

   http://members.bellatlantic.net/~vze2hc4d/proj4/

Eventually I will refactor PROJ.4 to use Gerald's libproj4 for the projections,
and just provide all the other services (named coordiante system lookup,
datum shifting, meridians, etc) as a set of layered code.  However, that is
a substantial effort so in the meantime I just migrating critical improvements
from Geralds code base into the older PROJ.4 code base.

Actually, I would encourage you to file a bug report even if you can't get
the right results with Geralds code.  But for me, the ideal bug report is
one that comes with a solution.  Especially when it is stuff like projections
internals where I am out of my depth.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From gerald.evenden at verizon.net  Wed Jan 28 08:51:44 2004
From: gerald.evenden at verizon.net (Gerald Evenden)
Date: Wed, 28 Jan 2004 11:51:44 -0500
Subject: [OSRS-PROJ] Bug in CEA projection?
In-Reply-To: <815D62F4-51AD-11D8-8551-000393DC1748@ic.ac.uk>
References: <35F34DF2-5181-11D8-8132-000393DC1748@ic.ac.uk> <42C0697E-51A5-11D8-AD4B-000A958A3346@verizon.net> <815D62F4-51AD-11D8-8551-000393DC1748@ic.ac.uk>
Message-ID: <40C4AA06-51B2-11D8-AD4B-000A958A3346@verizon.net>

I think the problem is what source?  The last libproj4 release was
April, '03 which would have caught the version I used in the test
of my previous email.

Unfortunately, the remotesensing.org site does not use libproj4.

I expect to make a new release in the near future once the documentation
and final cleanup of Oblique Mercator (Hotine) are completed.

On Jan 28, 2004, at 11:17 AM, David Orme wrote:

> That's odd - I've just recently compiled proj4 from source but I still 
> get the wrong answer.
>
>> doibook:~ dorme$ proj +proj=cea +ellps=WGS84 +lat_ts=30 -I -f 
>> '%.6f'<<EOF
>> > 0 7284713.234
>> > EOF
>> 0.000000        82.485563
>> doibook:~ dorme$ proj
>> Rel. 4.4.7, 31 March 2003
>> usage: proj [ -beEfiIlormsStTvVwW [args] ] [ +opts[=arg] ] [ files ]
>> doibook:~ dorme$
>
> The linker details from the dynamic library are:
>
>> doibook:~ dorme$ otool -L /usr/local/lib/libproj.dylib
>> /usr/local/lib/libproj.dylib:
>>         /usr/local/lib/libproj.0.dylib (compatibility version 5.0.0, 
>> current version 5.1.0)
>>         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, 
>> current version 71.0.0)
>
> Am I using an outdated version?
>
> Thanks,
> David
>
> On 28 Jan 2004, at 15:18, Gerald Evenden wrote:
>
>> Local lproj (libproj4) script:
>>
>> ../lproj +proj=cea +ellps=WGS84 +lat_ts=30 -I -f '%.6f'<<EOF
>> 0 7284713.234
>> EOF
>>
>> Produces the following results:
>>
>> 0.000000	82.855347
>>
>> Older versions of proj seem to have a problem.  Last change
>> to cea (libproj4) was Mar., '03
>>
>> On Jan 28, 2004, at 6:00 AM, Orme, David wrote:
>>
>>> Hi,
>>>
>>> This was cross-posted from the Grass list a while back - have I got
>>> something wrong or is this a bug?
>>>
>>> I'm using Proj 4.4.7 on my Mac 10.3.2 and ArcGIS 8 on a Windows XP
>>> machine - the two programs give different answers for coordinate
>>> transformations intoÂ  a Behrmann projection (Cylindrical Equal Area
>>> with latitude of true scale at 30 N/S). I've checked using Geotrans
>>> 2.2.4 on the Windows machine and that agrees with ArcGIS.
>>>
>>> My test point is in Behrmann coordinates, units in meters: 0E
>>> 7284713.234N
>>>
>>> cs2cs gives:
>>>
>>> > doibook:~/Library/Preferences dorme$ cs2cs -f "%0.6f" +proj=cea
>>> > +lat_ts=30 +datum=WGS84 +to +proj=latlong +datum=WGS84
>>> > 0 7284713.234
>>> > 0.000000Â Â Â Â Â Â Â  82.485563 0.000000
>>>
>>> Both ArcGIS and Geotrans give the following geodesic coordinates: 0 E
>>> 82.855347 N
>>>
>>> Any suggestions?
>>>
>>> Many thanks,
>>> David Orme
>>>
>>>
>>>
>> _____________________________________
>> Jerry and the low riders: Daisy Mae and Joshua
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>
>
_____________________________________
Jerry and the low riders: Daisy Mae and Joshua

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


From d.orme at imperial.ac.uk  Thu Jan 29 04:00:07 2004
From: d.orme at imperial.ac.uk (David Orme)
Date: Thu, 29 Jan 2004 12:00:07 +0000
Subject: [OSRS-PROJ] Bug in CEA projection?
In-Reply-To: <40C4AA06-51B2-11D8-AD4B-000A958A3346@verizon.net>
References: <35F34DF2-5181-11D8-8132-000393DC1748@ic.ac.uk> <42C0697E-51A5-11D8-AD4B-000A958A3346@verizon.net> <815D62F4-51AD-11D8-8551-000393DC1748@ic.ac.uk> <40C4AA06-51B2-11D8-AD4B-000A958A3346@verizon.net>
Message-ID: <AE3D8B88-5252-11D8-BE60-000393DC1748@ic.ac.uk>

Ah - sorry, I didn't get the difference. I've downloaded libproj4 - had 
a few problems building lproj because the proj4 library was masking the 
libproj4 versions and so I got undefined symbols for _pj_dmstor, 
_pj_rtodms and _pj_set_rtodms.  I changed the Makefile for libproj4 to 
build to libproj4.a rather than libproj.a and then the library linker 
flag in make lproj to -lproj4 - that gives me a working version that 
gives the correct answer:

> doibook:/usr/local/src/libproj4/source dorme$ ./lproj +proj=cea 
> +ellps=WGS84 +lat_ts=30 -I -f '%.6f'<<EOF
> >  0 7284713.234
> > EOF
> 0.000000        82.855347
> doibook:/usr/local/src/libproj4/source dorme$

Thanks for your help - I'll post this as a bug with solution...

Thanks,
David

On 28 Jan 2004, at 16:51, Gerald Evenden wrote:

> I think the problem is what source?  The last libproj4 release was
> April, '03 which would have caught the version I used in the test
> of my previous email.
>
> Unfortunately, the remotesensing.org site does not use libproj4.
>
> I expect to make a new release in the near future once the 
> documentation
> and final cleanup of Oblique Mercator (Hotine) are completed.
>
> On Jan 28, 2004, at 11:17 AM, David Orme wrote:
>
>> That's odd - I've just recently compiled proj4 from source but I 
>> still get the wrong answer.
>>
>>> doibook:~ dorme$ proj +proj=cea +ellps=WGS84 +lat_ts=30 -I -f 
>>> '%.6f'<<EOF
>>> > 0 7284713.234
>>> > EOF
>>> 0.000000        82.485563
>>> doibook:~ dorme$ proj
>>> Rel. 4.4.7, 31 March 2003
>>> usage: proj [ -beEfiIlormsStTvVwW [args] ] [ +opts[=arg] ] [ files ]
>>> doibook:~ dorme$
>>
>> The linker details from the dynamic library are:
>>
>>> doibook:~ dorme$ otool -L /usr/local/lib/libproj.dylib
>>> /usr/local/lib/libproj.dylib:
>>>         /usr/local/lib/libproj.0.dylib (compatibility version 5.0.0, 
>>> current version 5.1.0)
>>>         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, 
>>> current version 71.0.0)
>>
>> Am I using an outdated version?
>>
>> Thanks,
>> David
>>
>> On 28 Jan 2004, at 15:18, Gerald Evenden wrote:
>>
>>> Local lproj (libproj4) script:
>>>
>>> ../lproj +proj=cea +ellps=WGS84 +lat_ts=30 -I -f '%.6f'<<EOF
>>> 0 7284713.234
>>> EOF
>>>
>>> Produces the following results:
>>>
>>> 0.000000	82.855347
>>>
>>> Older versions of proj seem to have a problem.  Last change
>>> to cea (libproj4) was Mar., '03
>>>
>>> On Jan 28, 2004, at 6:00 AM, Orme, David wrote:
>>>
>>>> Hi,
>>>>
>>>> This was cross-posted from the Grass list a while back - have I got
>>>> something wrong or is this a bug?
>>>>
>>>> I'm using Proj 4.4.7 on my Mac 10.3.2 and ArcGIS 8 on a Windows XP
>>>> machine - the two programs give different answers for coordinate
>>>> transformations intoÂ  a Behrmann projection (Cylindrical Equal Area
>>>> with latitude of true scale at 30 N/S). I've checked using Geotrans
>>>> 2.2.4 on the Windows machine and that agrees with ArcGIS.
>>>>
>>>> My test point is in Behrmann coordinates, units in meters: 0E
>>>> 7284713.234N
>>>>
>>>> cs2cs gives:
>>>>
>>>> > doibook:~/Library/Preferences dorme$ cs2cs -f "%0.6f" +proj=cea
>>>> > +lat_ts=30 +datum=WGS84 +to +proj=latlong +datum=WGS84
>>>> > 0 7284713.234
>>>> > 0.000000Â Â Â Â Â Â Â  82.485563 0.000000
>>>>
>>>> Both ArcGIS and Geotrans give the following geodesic coordinates: 0 
>>>> E
>>>> 82.855347 N
>>>>
>>>> Any suggestions?
>>>>
>>>> Many thanks,
>>>> David Orme
>>>>
>>>>
>>>>
>>> _____________________________________
>>> Jerry and the low riders: Daisy Mae and Joshua
>>
>> ----------------------------------------
>> PROJ.4 Discussion List
>> See http://www.remotesensing.org/proj for subscription, unsubscription
>> and other information.
>>
>>
> _____________________________________
> Jerry and the low riders: Daisy Mae and Joshua
>
> ----------------------------------------
> PROJ.4 Discussion List
> See http://www.remotesensing.org/proj for subscription, unsubscription
> and other information.
>

----------------------------------------
PROJ.4 Discussion List
See http://www.remotesensing.org/proj for subscription, unsubscription
and other information.


