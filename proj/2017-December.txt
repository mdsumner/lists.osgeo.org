From alon at skylinesoft.com  Fri Dec  1 07:57:18 2017
From: alon at skylinesoft.com (Alon Barzilai)
Date: Fri, 1 Dec 2017 17:57:18 +0200
Subject: [Proj] I this list is for bugs?
In-Reply-To: <4228947.kmXL97ieTr@even-i700>
References: <d466dea4-50f5-d2e4-0db0-17dc52d15a88@skylinesoft.com>
	<ovotvh$8gf$1@blaine.gmane.org>
	<8a8bb2cc-0522-bd6e-6b41-cd1128bfc29e@skylinesoft.com>
	<4228947.kmXL97ieTr@even-i700>
Message-ID: <fdca73fb-a9ba-263a-bc82-1c8b02b97a91@skylinesoft.com>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171201/cf305944/attachment.html>

From n.sirdeshmukh at fugro.com  Mon Dec  4 08:24:57 2017
From: n.sirdeshmukh at fugro.com (Sirdeshmukh, Neeraj)
Date: Mon, 4 Dec 2017 16:24:57 +0000
Subject: [Proj] Inverse Icosahedral Snyder Equal Area (ISEA) Projection
Message-ID: <22abb8b8ab5642699e3419d4531c9add@nldataex01.ad.fugro.com>

Hello,

I am trying to implement the inverse ISEA projection documented in:

An Equal-Area Map Projection For Polyhedral Globes, John Snyder, October 1992
Cartographica The International Journal for Geographic Information and Geovisualization 29(1):10-21

For the purposes of my current project, I extended the code for the forward Snyder ISEA projection found at https://github.com/OSGeo/proj.4/blob/master/src/PJ_isea.c to work with a rhombus-based Discrete Global Grid System (DGGS). I converted this from C to Python.
Now, I am trying to implement the inverse projection according to the description provided on page 14 of the above paper.
However, the problem is that the value for the spherical distance, z, is not getting properly calculated (it is about 0.5-2 units "off" from the value that results after using the forward ISEA formula for the same lat,long point). The azimuth Az, however, is getting properly calculated, and the only problem it seems is with the value of z. Therefore, the latitude and longitude of a point gets incorrectly calculated from the inverse, and is off by 50-100 kms from the true location.  I am attaching the main part of the Python code to this email, and it uses the same constants defined in the forward projection code.
If anyone can provide some guidance as to where I am going wrong, or what the problem could be, I would greatly appreciate it.  If any additional information is needed, please let me know.
Thanks,
Neeraj Sirdeshmukh
Student, Delft University Of Technology



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171204/e33919f2/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: zCalculation.py
Type: application/octet-stream
Size: 2467 bytes
Desc: zCalculation.py
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171204/e33919f2/attachment.obj>

From even.rouault at spatialys.com  Sun Dec 17 06:19:17 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 17 Dec 2017 15:19:17 +0100
Subject: [Proj] EPSG v9.2 upgrade
Message-ID: <4885868.PbkTNDzd4G@even-i700>

Hi,

I've updated to the EPSG v9.2 database.

The relevant tickets/commits are:
* libgeotiff: https://trac.osgeo.org/geotiff/changeset/2802
* GDAL: https://trac.osgeo.org/gdal/ticket/7125
* proj.4: https://github.com/OSGeo/proj.4/issues/711
* postgis: https://trac.osgeo.org/postgis/ticket/3944 (patch submitted)

Summary of changes since v9.0:
- change of TOWGS84 for Saint Pierre et Miquelon 1950
- 4 new Ferro based CS
- addition of various NAD83 realizations/versions as datums and geographic CS
- new Australian GDA2020 based PCS
- new NAD83 based PCS (Wisconsin, Oregon, others)

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171217/7656bbe2/attachment.html>

From even.rouault at spatialys.com  Mon Dec 18 06:21:15 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 18 Dec 2017 15:21:15 +0100
Subject: [Proj] https://github.com/OSGeo/projgrids
Message-ID: <16636634.PhyYhDAUhZ@even-i700>

Hi,

Following discussion in https://github.com/OSGeo/proj.4/pull/708, I've initiated a new repo 
to host (heavy) grids :
https://github.com/OSGeo/projgrids

I've initiated it by just unzipping
http://download.osgeo.org/proj/proj-datumgrid-1.6.zip

The aim is to avoid OSGeo/proj.4 to become too big as we add new grids and have a way to 
better track changes and discuss new addition propositions through pull requests

Looking a bit at things, it seems some cleanup could be possible.

https://github.com/OSGeo/proj.4/tree/master/nad and
https://github.com/OSGeo/projgrids contain a few duplicated files:
* ntf_r93.gsb
* ntv1_can.dat
* nzgd2kgrid0005.gsb
(binary identical in both repo)

And proj.4/tree/master/nad contains null.lla which is the source of the
OSGeo/projgrids/null file (actually projgrids/null is a 'non clean' version of the result of the 
compilation of null.lla, with some garbage in a unused area of the header)

proj.4/nad/Makefile.am also list grid names that are hosted in the grid repo in the install-
data-local rule, so both repo are not currently independant.

So, I guess we could remove from proj.4/nad :
- null.lla
- the compilation rule of .lla files into CTable2 files (null.lla is the only remaining .lla file in 
proj.4 repo) (process-nad2bin Makefile target)
- the install-data-local rule
- ntf_r93.gsb, ntv1_can.dat, nzgd2kgrid0005.gsb

That way both repo would be entirely independant. Packagers would just have to drop the 
content of OSGeo/projgrids in the ${prefix}/share/proj directory.

I've given commit rights to the "proj-4-committers" team.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171218/9cf447af/attachment.html>

From kreve at sdfe.dk  Mon Dec 18 06:42:28 2017
From: kreve at sdfe.dk (Kristian Evers)
Date: Mon, 18 Dec 2017 14:42:28 +0000
Subject: [Proj] https://github.com/OSGeo/projgrids
In-Reply-To: <16636634.PhyYhDAUhZ@even-i700>
References: <16636634.PhyYhDAUhZ@even-i700>
Message-ID: <2E885BB293AF0448A0181138489E9A0EAEB1B5A2@S000014.PROD.SITAD.DK>

Even,

Thanks for setting this up! A few comments and ideas:


1.       Some structure in the repo would be nice. It might be as simple as having a folder called "grids" which contain all the grids and then README's and other relevant files in the root.

2.       We should come up with some rules to govern the repo with. The most important here is describing the requirements for getting grids accepted as part of the repository. A list of accepted licenses would be handy. Contact information or some other form of source of the grid is also needed I think.

3.       Can we convert the old CTable files to CTable2 format? The former are architecture dependent. Effectively fixes https://github.com/OSGeo/proj.4/issues/44

4.       Are the current tests affected of your "removal-proposal"? Removing the null grid could have some consequences.

/Kristian

Fra: proj-bounces at lists.maptools.org [mailto:proj-bounces at lists.maptools.org] På vegne af Even Rouault
Sendt: 18. december 2017 15:21
Til: proj at lists.maptools.org
Emne: [Proj] https://github.com/OSGeo/projgrids


Hi,



Following discussion in https://github.com/OSGeo/proj.4/pull/708, I've initiated a new repo to host (heavy) grids :

https://github.com/OSGeo/projgrids



I've initiated it by just unzipping

http://download.osgeo.org/proj/proj-datumgrid-1.6.zip



The aim is to avoid OSGeo/proj.4 to become too big as we add new grids and have a way to better track changes and discuss new addition propositions through pull requests



Looking a bit at things, it seems some cleanup could be possible.



https://github.com/OSGeo/proj.4/tree/master/nad and

https://github.com/OSGeo/projgrids contain a few duplicated files:

* ntf_r93.gsb

* ntv1_can.dat

* nzgd2kgrid0005.gsb

(binary identical in both repo)



And proj.4/tree/master/nad contains null.lla which is the source of the

OSGeo/projgrids/null file (actually projgrids/null is a 'non clean' version of the result of the compilation of null.lla, with some garbage in a unused area of the header)



proj.4/nad/Makefile.am also list grid names that are hosted in the grid repo in the install-data-local rule, so both repo are not currently independant.



So, I guess we could remove from proj.4/nad :

- null.lla

- the compilation rule of .lla files into CTable2 files (null.lla is the only remaining .lla file in proj.4 repo) (process-nad2bin Makefile target)

- the install-data-local rule

- ntf_r93.gsb, ntv1_can.dat, nzgd2kgrid0005.gsb



That way both repo would be entirely independant. Packagers would just have to drop the content of OSGeo/projgrids in the ${prefix}/share/proj directory.



I've given commit rights to the "proj-4-committers" team.



Even



--

Spatialys - Geospatial professional services

http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171218/b0c90e40/attachment.html>

From sebastic at xs4all.nl  Mon Dec 18 06:44:16 2017
From: sebastic at xs4all.nl (Bas Couwenberg)
Date: Mon, 18 Dec 2017 15:44:16 +0100
Subject: [Proj] https://github.com/OSGeo/projgrids
In-Reply-To: <16636634.PhyYhDAUhZ@even-i700>
References: <16636634.PhyYhDAUhZ@even-i700>
Message-ID: <ce714491729b35f9cef575200f32f7f6@xs4all.nl>

On 2017-12-18 15:21, Even Rouault wrote:
> Following discussion in https://github.com/OSGeo/proj.4/pull/708, I've
> initiated a new repo
> to host (heavy) grids :
> https://github.com/OSGeo/projgrids
> 
> I've initiated it by just unzipping
> http://download.osgeo.org/proj/proj-datumgrid-1.6.zip

Wouldn't it have been better to import all previously releases too?

I did that for http://git.linuxminded.nl/?p=OSGeo/proj-datumgrid

See: 
http://osgeo-org.1560.x6.nabble.com/proj-datumgrid-git-repository-td5293433.html

> The aim is to avoid OSGeo/proj.4 to become too big as we add new grids
> and have a way to
> better track changes and discuss new addition propositions through pull 
> requests
> 
> Looking a bit at things, it seems some cleanup could be possible.
> 
> https://github.com/OSGeo/proj.4/tree/master/nad and
> https://github.com/OSGeo/projgrids contain a few duplicated files:
> * ntf_r93.gsb
> * ntv1_can.dat
> * nzgd2kgrid0005.gsb
> (binary identical in both repo)
> 
> And proj.4/tree/master/nad contains null.lla which is the source of the
> OSGeo/projgrids/null file (actually projgrids/null is a 'non clean'
> version of the result of the
> compilation of null.lla, with some garbage in a unused area of the 
> header)
> 
> proj.4/nad/Makefile.am also list grid names that are hosted in the
> grid repo in the install-
> data-local rule, so both repo are not currently independant.
> 
> So, I guess we could remove from proj.4/nad :
> - null.lla
> - the compilation rule of .lla files into CTable2 files (null.lla is
> the only remaining .lla file in
> proj.4 repo) (process-nad2bin Makefile target)
> - the install-data-local rule
> - ntf_r93.gsb, ntv1_can.dat, nzgd2kgrid0005.gsb
> 
> That way both repo would be entirely independant. Packagers would just
> have to drop the
> content of OSGeo/projgrids in the ${prefix}/share/proj directory.
> 
> I've given commit rights to the "proj-4-committers" team.

Preserving the .lla files in the repository is desirable because that is 
the source of the grid shift files.

Kind Regards,

Bas


From even.rouault at spatialys.com  Mon Dec 18 07:11:30 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 18 Dec 2017 16:11:30 +0100
Subject: [Proj] https://github.com/OSGeo/projgrids
In-Reply-To: <2E885BB293AF0448A0181138489E9A0EAEB1B5A2@S000014.PROD.SITAD.DK>
References: <16636634.PhyYhDAUhZ@even-i700>
	<2E885BB293AF0448A0181138489E9A0EAEB1B5A2@S000014.PROD.SITAD.DK>
Message-ID: <2300420.ClHT6v2KpZ@even-i700>

On lundi 18 décembre 2017 14:42:28 CET Kristian Evers wrote:
> Even,
> 
> Thanks for setting this up! A few comments and ideas:

Basically I just did the first easy step and will now quickly run away before the real troubles 
show up ;-)

> 
> 
> 1.       Some structure in the repo would be nice. It might be as simple as
> having a folder called "grids" which contain all the grids and then
> README's and other relevant files in the root.

Agreed

> 
> 2.       We should come up with some rules to govern the repo with. The most
> important here is describing the requirements for getting grids accepted as
> part of the repository. A list of accepted licenses would be handy. 

Would the following make sense:
- Public domain
- X/MIT, BSD 2/3/4 clause
- CC0, CC-BY, CC-BY-SA

Or perhaps we could just require the license to be an OSI approved one ? The license of grid 
files, being data files, should have no consequence on the software stack itself, right ?

> Contact information or some other form of source of the grid is also needed I think.

Agreed. The README could track the provenance & licensing of grids.

> 
> 3.       Can we convert the old CTable files to CTable2 format? The former
> are architecture dependent. Effectively fixes
> https://github.com/OSGeo/proj.4/issues/44

I don't see any remanining CTable file. As far as I can see, in projgrids, all files are CTable2 
except the .gsb files (NTV2) and ntv1_can.dat (NTV1). So the ticket can probably be closed.

> 
> 4.       Are the current tests affected of your "removal-proposal"? Removing
> the null grid could have some consequences.

I imagine that the tests woud probably require downloading a few grids.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171218/30cd8a51/attachment.html>

From even.rouault at spatialys.com  Mon Dec 18 07:12:58 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 18 Dec 2017 16:12:58 +0100
Subject: [Proj] https://github.com/OSGeo/projgrids
In-Reply-To: <ce714491729b35f9cef575200f32f7f6@xs4all.nl>
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
Message-ID: <3251682.tjrcSJUs2m@even-i700>

On lundi 18 décembre 2017 15:44:16 CET Bas Couwenberg 
wrote:
> http://osgeo-org.1560.x6.nabble.com/proj-datumgrid-git-repository-td5293433.
> html

Ah sorry for reinventing the wheel, we should probably just 
push your repo

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171218/262918b5/attachment.html>

From even.rouault at spatialys.com  Mon Dec 18 07:43:19 2017
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 18 Dec 2017 16:43:19 +0100
Subject: [Proj] (moved to) https://github.com/OSGeo/proj-datumgrid
In-Reply-To: <3251682.tjrcSJUs2m@even-i700>
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
	<3251682.tjrcSJUs2m@even-i700>
Message-ID: <10094337.0UcPvvRYYc@even-i700>

On lundi 18 décembre 2017 16:12:58 CET Even Rouault wrote:
> On lundi 18 décembre 2017 15:44:16 CET Bas Couwenberg
> 
> wrote:
> > http://osgeo-org.1560.x6.nabble.com/proj-datumgrid-git-repository-td529343
> > 3. html
> 
> Ah sorry for reinventing the wheel, we should probably just
> push your repo

Done:
https://github.com/OSGeo/proj-datumgrid

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171218/c625475b/attachment.html>

From kreve at sdfe.dk  Mon Dec 18 08:08:31 2017
From: kreve at sdfe.dk (Kristian Evers)
Date: Mon, 18 Dec 2017 16:08:31 +0000
Subject: [Proj] https://github.com/OSGeo/projgrids
In-Reply-To: <2300420.ClHT6v2KpZ@even-i700>
References: <16636634.PhyYhDAUhZ@even-i700>
	<2E885BB293AF0448A0181138489E9A0EAEB1B5A2@S000014.PROD.SITAD.DK>
	<2300420.ClHT6v2KpZ@even-i700>
Message-ID: <C53C539F-57C7-4D1B-B6EA-F7BA4CEE4BC7@sdfe.dk>



On 18 Dec 2017, at 16:11, Even Rouault <even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>> wrote:

On lundi 18 décembre 2017 14:42:28 CET Kristian Evers wrote:
> Even,
>
> Thanks for setting this up! A few comments and ideas:



Basically I just did the first easy step and will now quickly run away before the real troubles show up ;-)



>
>
> 1. Some structure in the repo would be nice. It might be as simple as
> having a folder called "grids" which contain all the grids and then
> README's and other relevant files in the root.



Agreed



>
> 2. We should come up with some rules to govern the repo with. The most
> important here is describing the requirements for getting grids accepted as
> part of the repository. A list of accepted licenses would be handy.



Would the following make sense:
- Public domain
- X/MIT, BSD 2/3/4 clause
- CC0, CC-BY, CC-BY-SA



Or perhaps we could just require the license to be an OSI approved one ? The license of grid files, being data files, should have no consequence on the software stack itself, right ?

I think it is a good start. Software licenses like MIT and BDS are probably not very suited for the purpose, so maybe we should discourage use of those.




> Contact information or some other form of source of the grid is also needed I think.



Agreed. The README could track the provenance & licensing of grids.



>
> 3. Can we convert the old CTable files to CTable2 format? The former
> are architecture dependent. Effectively fixes
> https://github.com/OSGeo/proj.4/issues/44



I don't see any remanining CTable file. As far as I can see, in projgrids, all files are CTable2 except the .gsb files (NTV2) and ntv1_can.dat (NTV1). So the ticket can probably be closed.

I was of the impression that the alaska, conus and a few others were still in CTable format. Great if that is not the case!

>
> 4. Are the current tests affected of your "removal-proposal"? Removing
> the null grid could have some consequences.



I imagine that the tests woud probably require downloading a few grids.

That’s what I figured as well. It should be documented somewhere if it is required to download the grids before tests will pass.




Even



--
Spatialys - Geospatial professional services
http://www.spatialys.com<http://www.spatialys.com/>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171218/1cda67ba/attachment.html>

From sebastic at xs4all.nl  Mon Dec 18 09:53:40 2017
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Mon, 18 Dec 2017 18:53:40 +0100
Subject: [Proj] https://github.com/OSGeo/projgrids
In-Reply-To: <C53C539F-57C7-4D1B-B6EA-F7BA4CEE4BC7@sdfe.dk>
References: <16636634.PhyYhDAUhZ@even-i700>
	<2E885BB293AF0448A0181138489E9A0EAEB1B5A2@S000014.PROD.SITAD.DK>
	<2300420.ClHT6v2KpZ@even-i700>
	<C53C539F-57C7-4D1B-B6EA-F7BA4CEE4BC7@sdfe.dk>
Message-ID: <9ee66e12-2e73-4572-9048-df740544ab06@xs4all.nl>

On 12/18/2017 05:08 PM, Kristian Evers wrote:
> On 18 Dec 2017, at 16:11, Even Rouault <even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>> wrote:
> On lundi 18 décembre 2017 14:42:28 CET Kristian Evers wrote:
>> Even,
>>
>> Thanks for setting this up! A few comments and ideas:
> 
> Basically I just did the first easy step and will now quickly run away before the real troubles show up ;-)
> 
>> 1. Some structure in the repo would be nice. It might be as simple as
>> having a folder called "grids" which contain all the grids and then
>> README's and other relevant files in the root.
> 
> Agreed

Restructuring the repository shouldn't be a problem as long as the
resulting tarball keeps the grids in the root as they've always been.

Packaging proj has always involved unpacking the proj-datumgrid archive
into the nad/ directory to get a complete tree for building the project.
I don't think we should change that.

>> 2. We should come up with some rules to govern the repo with. The most
>> important here is describing the requirements for getting grids accepted as
>> part of the repository. A list of accepted licenses would be handy.
> 
> Would the following make sense:
> - Public domain
> - X/MIT, BSD 2/3/4 clause
> - CC0, CC-BY, CC-BY-SA
> 
> Or perhaps we could just require the license to be an OSI approved one ? The license of grid files, being data files, should have no consequence on the software stack itself, right ?
> 
> I think it is a good start. Software licenses like MIT and BDS are probably not very suited for the purpose, so maybe we should discourage use of those.

The license for grid shift files should be compatible with the Open
Source Definition (and thereby with the Debian Free Software Guidelines).

Historically the files included in proj-datumgrid where in the public
domain.

>> Contact information or some other form of source of the grid is also needed I think.
> 
> Agreed. The README could track the provenance & licensing of grids.

Yes, this is a good idea. It will be a bit of a chore to find the origin
of the existing grids, though.

>> 3. Can we convert the old CTable files to CTable2 format? The former
>> are architecture dependent. Effectively fixes
>> https://github.com/OSGeo/proj.4/issues/44
> 
> I don't see any remanining CTable file. As far as I can see, in projgrids, all files are CTable2 except the .gsb files (NTV2) and ntv1_can.dat (NTV1). So the ticket can probably be closed.
> 
> I was of the impression that the alaska, conus and a few others were still in CTable format. Great if that is not the case!

proj 4.8.0 was the first release to default to ctable2, since 4.8.0 or
newer is available pretty much everywhere, it makes no sense to include
grids using the old ctable format in proj-datumgrid.

>> 4. Are the current tests affected of your "removal-proposal"? Removing
>> the null grid could have some consequences.

The null grid shift file is used by various projections defined in nad/IGNF.

While those projections can probably be updated to not require the null
file, there may be other projections created by users who rely on the
null grid.

I don't think the overhead of keeping the file warrant the possible
breakage it will cause for end users.

> I imagine that the tests woud probably require downloading a few grids.
> 
> That’s what I figured as well. It should be documented somewhere if it is required to download the grids before tests will pass.

The proj-datumgrid archive should always be unpacked as part of setting
up the proj source.

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1


From gdt at lexort.com  Mon Dec 18 17:28:25 2017
From: gdt at lexort.com (Greg Troxel)
Date: Mon, 18 Dec 2017 20:28:25 -0500
Subject: [Proj] (moved to) https://github.com/OSGeo/proj-datumgrid
In-Reply-To: <10094337.0UcPvvRYYc@even-i700> (Even Rouault's message of "Mon, 
	18 Dec 2017 16:43:19 +0100")
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
	<3251682.tjrcSJUs2m@even-i700> <10094337.0UcPvvRYYc@even-i700>
Message-ID: <smuind3h5fq.fsf@linuxpal.mit.edu>


Even Rouault <even.rouault at spatialys.com> writes:

>> Ah sorry for reinventing the wheel, we should probably just
>> push your repo
>
> Done:
> https://github.com/OSGeo/proj-datumgrid

What is the plan for how these bits are used?

It seems obvious to me that they should be released with version numbers
and enough of a packaging system that they can install into
${prefix}/share/proj/? or something, so that packaging systems can make
packages (one, separate?), for installation by use by end users.

But I suspect this bias to packaging may be less obvious to those who
are close to proj, especially if they themselves always run proj from
sources.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171218/4eaf890f/attachment.sig>

From sebastic at xs4all.nl  Mon Dec 18 22:29:15 2017
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Tue, 19 Dec 2017 07:29:15 +0100
Subject: [Proj] (moved to) https://github.com/OSGeo/proj-datumgrid
In-Reply-To: <smuind3h5fq.fsf@linuxpal.mit.edu>
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
	<3251682.tjrcSJUs2m@even-i700>
	<10094337.0UcPvvRYYc@even-i700> <smuind3h5fq.fsf@linuxpal.mit.edu>
Message-ID: <e23e2893-d519-1e93-f73a-f99552c098f1@xs4all.nl>

On 12/19/2017 02:28 AM, Greg Troxel wrote:
> Even Rouault <even.rouault at spatialys.com> writes:
>>> Ah sorry for reinventing the wheel, we should probably just
>>> push your repo
>>
>> Done:
>> https://github.com/OSGeo/proj-datumgrid
> 
> What is the plan for how these bits are used?

Primarily to produce the proj-datumgrid archives alongside proj.

> It seems obvious to me that they should be released with version numbers
> and enough of a packaging system that they can install into
> ${prefix}/share/proj/? or something, so that packaging systems can make
> packages (one, separate?), for installation by use by end users.

For now the proj build system is still expected to install the gridshift
files. This could possibly be separated in the future.

> But I suspect this bias to packaging may be less obvious to those who
> are close to proj, especially if they themselves always run proj from
> sources.

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171219/52cb6b77/attachment.sig>

From kreve at sdfe.dk  Tue Dec 19 12:28:46 2017
From: kreve at sdfe.dk (Kristian Evers)
Date: Tue, 19 Dec 2017 20:28:46 +0000
Subject: [Proj] (moved to) https://github.com/OSGeo/proj-datumgrid
In-Reply-To: <e23e2893-d519-1e93-f73a-f99552c098f1@xs4all.nl>
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
	<3251682.tjrcSJUs2m@even-i700>
	<10094337.0UcPvvRYYc@even-i700> <smuind3h5fq.fsf@linuxpal.mit.edu>
	<e23e2893-d519-1e93-f73a-f99552c098f1@xs4all.nl>
Message-ID: <846C3639-5653-42FA-97B8-1912AE3F0D6B@sdfe.dk>

I’ve opened a pull request [0] with a few updates to the README and a new file listing all the including grid files, their sources and licenses. Please have a look at it and see if I’ve got everything right. If there’s something I’ve forgot please let me know.

/Kristian

[0] https://github.com/OSGeo/proj-datumgrid/pull/1

On 19 Dec 2017, at 07:29, Sebastiaan Couwenberg <sebastic at xs4all.nl<mailto:sebastic at xs4all.nl>> wrote:

On 12/19/2017 02:28 AM, Greg Troxel wrote:
Even Rouault <even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>> writes:
Ah sorry for reinventing the wheel, we should probably just
push your repo

Done:
https://github.com/OSGeo/proj-datumgrid

What is the plan for how these bits are used?

Primarily to produce the proj-datumgrid archives alongside proj.

It seems obvious to me that they should be released with version numbers
and enough of a packaging system that they can install into
${prefix}/share/proj/? or something, so that packaging systems can make
packages (one, separate?), for installation by use by end users.

For now the proj build system is still expected to install the gridshift
files. This could possibly be separated in the future.

But I suspect this bias to packaging may be less obvious to those who
are close to proj, especially if they themselves always run proj from
sources.

Kind Regards,

Bas

--
GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1

_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171219/9a49e3cf/attachment.html>

From gdt at lexort.com  Wed Dec 20 06:43:10 2017
From: gdt at lexort.com (Greg Troxel)
Date: Wed, 20 Dec 2017 09:43:10 -0500
Subject: [Proj] (moved to) https://github.com/OSGeo/proj-datumgrid
In-Reply-To: <e23e2893-d519-1e93-f73a-f99552c098f1@xs4all.nl> (Sebastiaan
	Couwenberg's message of "Tue, 19 Dec 2017 07:29:15 +0100")
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
	<3251682.tjrcSJUs2m@even-i700> <10094337.0UcPvvRYYc@even-i700>
	<smuind3h5fq.fsf@linuxpal.mit.edu>
	<e23e2893-d519-1e93-f73a-f99552c098f1@xs4all.nl>
Message-ID: <smuefnpe9z5.fsf@linuxpal.mit.edu>


Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:

> On 12/19/2017 02:28 AM, Greg Troxel wrote:
>> Even Rouault <even.rouault at spatialys.com> writes:
>>>> Ah sorry for reinventing the wheel, we should probably just
>>>> push your repo
>>>
>>> Done:
>>> https://github.com/OSGeo/proj-datumgrid
>> 
>> What is the plan for how these bits are used?
>
> Primarily to produce the proj-datumgrid archives alongside proj.
>
>> It seems obvious to me that they should be released with version numbers
>> and enough of a packaging system that they can install into
>> ${prefix}/share/proj/? or something, so that packaging systems can make
>> packages (one, separate?), for installation by use by end users.
>
> For now the proj build system is still expected to install the gridshift
> files. This could possibly be separated in the future.

My real question is about the flow from repositories to releases of
tarballs to packaging system packages to bits in users' filesystems.  It
seems (but I could well be confused) that the points of proj-datumgrid
are

  - allow separate update cycle from proj proper
  - make size of proj itself smaller

Right now the pkgsrc proj package includes both proj and
proj-datumgrids.  That's perfectly workable, except that the version of
datumgrids isn't represented in the packaging system, which is perhaps
only cosmetic.

Is that how you think we should be doing things?   Or should the
datumgrids be a separate package, depending on proj, with its own
version?

Greg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 162 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171220/35dd3b74/attachment.sig>

From kreve at sdfe.dk  Wed Dec 20 07:16:09 2017
From: kreve at sdfe.dk (Kristian Evers)
Date: Wed, 20 Dec 2017 15:16:09 +0000
Subject: [Proj] (moved to) https://github.com/OSGeo/proj-datumgrid
In-Reply-To: <smuefnpe9z5.fsf@linuxpal.mit.edu>
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
	<3251682.tjrcSJUs2m@even-i700>
	<10094337.0UcPvvRYYc@even-i700> <smuind3h5fq.fsf@linuxpal.mit.edu>
	<e23e2893-d519-1e93-f73a-f99552c098f1@xs4all.nl>
	<smuefnpe9z5.fsf@linuxpal.mit.edu>
Message-ID: <CBF6D364-01BB-4DFF-A703-D211C7D53D7F@sdfe.dk>



On 20 Dec 2017, at 15:43, Greg Troxel <gdt at lexort.com<mailto:gdt at lexort.com>> wrote:


Sebastiaan Couwenberg <sebastic at xs4all.nl<mailto:sebastic at xs4all.nl>> writes:

On 12/19/2017 02:28 AM, Greg Troxel wrote:
Even Rouault <even.rouault at spatialys.com<mailto:even.rouault at spatialys.com>> writes:
Ah sorry for reinventing the wheel, we should probably just
push your repo

Done:
https://github.com/OSGeo/proj-datumgrid

What is the plan for how these bits are used?

Primarily to produce the proj-datumgrid archives alongside proj.

It seems obvious to me that they should be released with version numbers
and enough of a packaging system that they can install into
${prefix}/share/proj/? or something, so that packaging systems can make
packages (one, separate?), for installation by use by end users.

For now the proj build system is still expected to install the gridshift
files. This could possibly be separated in the future.

My real question is about the flow from repositories to releases of
tarballs to packaging system packages to bits in users' filesystems.  It
seems (but I could well be confused) that the points of proj-datumgrid
are

 - allow separate update cycle from proj proper
 - make size of proj itself smaller

Right now the pkgsrc proj package includes both proj and
proj-datumgrids.  That's perfectly workable, except that the version of
datumgrids isn't represented in the packaging system, which is perhaps
only cosmetic.

Is that how you think we should be doing things?

I think so. For now at least. If the new grid repository grows substantially we might want to consider dividing it into several packages that the user can choose to install if they need some particular grids. This could be organised by e.g. region or type of grid.

  Or should the
datumgrids be a separate package, depending on proj, with its own
version?

I think that is how OSGeo4W does it. At least some grids are handled as separate packages.


Greg
_______________________________________________
Proj mailing list
Proj at lists.maptools.org<mailto:Proj at lists.maptools.org>
http://lists.maptools.org/mailman/listinfo/proj

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171220/64007ad9/attachment.html>

From sebastic at xs4all.nl  Wed Dec 20 08:02:15 2017
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Wed, 20 Dec 2017 17:02:15 +0100
Subject: [Proj] (moved to) https://github.com/OSGeo/proj-datumgrid
In-Reply-To: <smuefnpe9z5.fsf@linuxpal.mit.edu>
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
	<3251682.tjrcSJUs2m@even-i700>
	<10094337.0UcPvvRYYc@even-i700> <smuind3h5fq.fsf@linuxpal.mit.edu>
	<e23e2893-d519-1e93-f73a-f99552c098f1@xs4all.nl>
	<smuefnpe9z5.fsf@linuxpal.mit.edu>
Message-ID: <bb507394-4ac2-fc66-60e1-4c0a927f7973@xs4all.nl>

On 12/20/2017 03:43 PM, Greg Troxel wrote:
> Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:
>> On 12/19/2017 02:28 AM, Greg Troxel wrote:
>>> Even Rouault <even.rouault at spatialys.com> writes:
>>>>> Ah sorry for reinventing the wheel, we should probably just
>>>>> push your repo
>>>>
>>>> Done:
>>>> https://github.com/OSGeo/proj-datumgrid
>>>
>>> What is the plan for how these bits are used?
>>
>> Primarily to produce the proj-datumgrid archives alongside proj.
>>
>>> It seems obvious to me that they should be released with version numbers
>>> and enough of a packaging system that they can install into
>>> ${prefix}/share/proj/? or something, so that packaging systems can make
>>> packages (one, separate?), for installation by use by end users.
>>
>> For now the proj build system is still expected to install the gridshift
>> files. This could possibly be separated in the future.
> 
> My real question is about the flow from repositories to releases of
> tarballs to packaging system packages to bits in users' filesystems.  It
> seems (but I could well be confused) that the points of proj-datumgrid
> are
> 
>   - allow separate update cycle from proj proper
>   - make size of proj itself smaller
> 
> Right now the pkgsrc proj package includes both proj and
> proj-datumgrids.  That's perfectly workable, except that the version of
> datumgrids isn't represented in the packaging system, which is perhaps
> only cosmetic.

The proj package in Debian also includes the content of the
proj-datumgrid archives.

> Is that how you think we should be doing things?   Or should the
> datumgrids be a separate package, depending on proj, with its own
> version?

proj needs to depend on proj-datumgrid assuming the projection files are
included in proj and the grid shift files they use in proj-datumgrid.

proj-datumgrid could become as more standalone package, but that require
changing proj to not assume the grids are available in the nad directory.

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171220/7f4c2f76/attachment.sig>

From knudsen.thomas at gmail.com  Wed Dec 20 08:35:45 2017
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Wed, 20 Dec 2017 17:35:45 +0100
Subject: [Proj] (moved to) https://github.com/OSGeo/proj-datumgrid
In-Reply-To: <bb507394-4ac2-fc66-60e1-4c0a927f7973@xs4all.nl>
References: <16636634.PhyYhDAUhZ@even-i700>
	<ce714491729b35f9cef575200f32f7f6@xs4all.nl>
	<3251682.tjrcSJUs2m@even-i700> <10094337.0UcPvvRYYc@even-i700>
	<smuind3h5fq.fsf@linuxpal.mit.edu>
	<e23e2893-d519-1e93-f73a-f99552c098f1@xs4all.nl>
	<smuefnpe9z5.fsf@linuxpal.mit.edu>
	<bb507394-4ac2-fc66-60e1-4c0a927f7973@xs4all.nl>
Message-ID: <CAH0YoEP7DE06Ut9jUPbvw3fjkK7Ch160+Fo8GULN0iuvg4V_eQ@mail.gmail.com>

Please note that licensing issues is also a major reason for splitting
grids from code. There is probably no problems in combining material under
the MIT license (proj) and public domain or CC0 grid data. But what should
the license be for a compound package including MIT and CC-NC, CC-BY or
even, as recently seen, MIT and BSD 3-clause?



2017-12-20 17:02 GMT+01:00 Sebastiaan Couwenberg <sebastic at xs4all.nl>:

> On 12/20/2017 03:43 PM, Greg Troxel wrote:
> > Sebastiaan Couwenberg <sebastic at xs4all.nl> writes:
> >> On 12/19/2017 02:28 AM, Greg Troxel wrote:
> >>> Even Rouault <even.rouault at spatialys.com> writes:
> >>>>> Ah sorry for reinventing the wheel, we should probably just
> >>>>> push your repo
> >>>>
> >>>> Done:
> >>>> https://github.com/OSGeo/proj-datumgrid
> >>>
> >>> What is the plan for how these bits are used?
> >>
> >> Primarily to produce the proj-datumgrid archives alongside proj.
> >>
> >>> It seems obvious to me that they should be released with version
> numbers
> >>> and enough of a packaging system that they can install into
> >>> ${prefix}/share/proj/? or something, so that packaging systems can make
> >>> packages (one, separate?), for installation by use by end users.
> >>
> >> For now the proj build system is still expected to install the gridshift
> >> files. This could possibly be separated in the future.
> >
> > My real question is about the flow from repositories to releases of
> > tarballs to packaging system packages to bits in users' filesystems.  It
> > seems (but I could well be confused) that the points of proj-datumgrid
> > are
> >
> >   - allow separate update cycle from proj proper
> >   - make size of proj itself smaller
> >
> > Right now the pkgsrc proj package includes both proj and
> > proj-datumgrids.  That's perfectly workable, except that the version of
> > datumgrids isn't represented in the packaging system, which is perhaps
> > only cosmetic.
>
> The proj package in Debian also includes the content of the
> proj-datumgrid archives.
>
> > Is that how you think we should be doing things?   Or should the
> > datumgrids be a separate package, depending on proj, with its own
> > version?
>
> proj needs to depend on proj-datumgrid assuming the projection files are
> included in proj and the grid shift files they use in proj-datumgrid.
>
> proj-datumgrid could become as more standalone package, but that require
> changing proj to not assume the grids are available in the nad directory.
>
> Kind Regards,
>
> Bas
>
> --
>  GPG Key ID: 4096R/6750F10AE88D4AF1
> Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1
>
>
> _______________________________________________
> Proj mailing list
> Proj at lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/proj
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/proj/attachments/20171220/79c0e20a/attachment.html>

