From geos-trac at osgeo.org  Tue Oct  6 19:23:22 2009
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct  6 19:23:25 2009
Subject: [geos-devel] Re: [GEOS] #222: GEOS 3.0 won't link on ARM-EABI
	platform
In-Reply-To: <049.6e4246ab4b7f6c9a4effd3a2be850484@osgeo.org>
References: <049.6e4246ab4b7f6c9a4effd3a2be850484@osgeo.org>
Message-ID: <058.e57925b52a57f7a816784da35734cf12@osgeo.org>

#222: GEOS 3.0 won't link on ARM-EABI platform
-----------------------+----------------------------------------------------
 Reporter:  jcrepetto  |        Owner:  geos-devel@lists.osgeo.org
     Type:  defect     |       Status:  new                       
 Priority:  major      |    Milestone:  3.3.0                     
Component:  Default    |      Version:  3.1.1                     
 Severity:  Critical   |   Resolution:                            
 Keywords:             |  
-----------------------+----------------------------------------------------
Changes (by letop):

  * version:  3.0.0 => 3.1.1

Comment:

 > I'd suggest to check if this is the same problem you're dealing with. I
 guess it is, and I'm afraid GEOS has nothing to do with it.

 I have the same problem (on Synology platform).
 I do not the problem is the same as the one you reference.  It is rather a
 double definition in the .o files .
 I did not pinpoint the exact problem but commenting the line in
 inlines.cpp:
 //#include <geos/noding/snapround/MCIndexSnapRounder.inl>

 fixes the issue.

 I have this issue in 3.1.1

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/222#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From strk at keybit.net  Thu Oct  8 04:23:41 2009
From: strk at keybit.net (strk)
Date: Thu Oct  8 04:23:51 2009
Subject: [geos-devel] 3.2.0 closeup
Message-ID: <20091008082341.GA46515@keybit.net>

Guys, what about cutting up a 3.2.0 release ?
Significative changes since 3.1:

- Add Single-sided buffer operation
- JTS-1.10 sync ...
  - Drastically improved Buffer speed
  - Improved EdgeList duplicate edge finding
  - Added algorithm::distance package
  - Added algorithm::Angle class
  - Added algorithm::BoundaryNodeRule class
  - IsSimpleOp can now return non-simple location coordinate
  - DistanceOp can now check for 'within distance' predicate
    (earlier exit)
  - MultiPolygon::getBoundary always return MultiLineString, also
    when the result is the EMPTY geometry.


May I ask anyone with pending tasks on trac
to take a look at them ?
http://trac.osgeo.org/geos/report/3

I'd like to close up a 3.2.0 before the end of the year
(but sooner is better)

Thanks

--strk; 

 Free GIS & Flash consultant/developer      ()  ASCII Ribbon Campaign
 http://foo.keybit.net/~strk/services.html  /\  Keep it simple! 
From zhuliangxiong at hotmail.com  Fri Oct  9 02:51:55 2009
From: zhuliangxiong at hotmail.com (zhuliangxiong@hotmail.com)
Date: Fri Oct  9 02:51:57 2009
Subject: [geos-devel] How to build a multipolygon from a list of rings?
Message-ID: <BAY108-DS510CA17EE213E04B0B454B2CB0@phx.gbl>

Hi there,

I have a list of rings which are read from shapefile.  all out rings are clockwise and all hole rings are counterclockwise. After  reading  the OGC spec, it seems that i have to decide for each hole ring that to which out ring it belongs. Which means i have to build a list of Polygon first and then build a MultiPolygon. 

how could i build a MultiPolygon from a list of rings  directly? It is hard for me to find out the relationship of holes and out rings.

Regards,
Abe Zhu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/geos-devel/attachments/20091009/ee242290/attachment.html
From strk at keybit.net  Fri Oct  9 03:14:33 2009
From: strk at keybit.net (strk)
Date: Fri Oct  9 03:14:36 2009
Subject: [geos-devel] How to build a multipolygon from a list of rings?
In-Reply-To: <BAY108-DS510CA17EE213E04B0B454B2CB0@phx.gbl>
References: <BAY108-DS510CA17EE213E04B0B454B2CB0@phx.gbl>
Message-ID: <20091009071433.GB6843@keybit.net>

Consider looking at shp2pgsql.c from PostGIS project.
It does contain code to build SFS geometries out of a set of rings.

--strk;

On Fri, Oct 09, 2009 at 02:51:55PM +0800, zhuliangxiong@hotmail.com wrote:
> Hi there,
> 
> I have a list of rings which are read from shapefile.  all out rings are clockwise and all hole rings are counterclockwise. After  reading  the OGC spec, it seems that i have to decide for each hole ring that to which out ring it belongs. Which means i have to build a list of Polygon first and then build a MultiPolygon. 
> 
> how could i build a MultiPolygon from a list of rings  directly? It is hard for me to find out the relationship of holes and out rings.
> 
> Regards,
> Abe Zhu
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel

-- 

 Free GIS & Flash consultant/developer      ()  ASCII Ribbon Campaign
 http://foo.keybit.net/~strk/services.html  /\  Keep it simple! 
From frederik at remote.org  Fri Oct  9 03:04:02 2009
From: frederik at remote.org (Frederik Ramm)
Date: Fri Oct  9 03:28:30 2009
Subject: [geos-devel] How to build a multipolygon from a list of rings?
In-Reply-To: <BAY108-DS510CA17EE213E04B0B454B2CB0@phx.gbl>
References: <BAY108-DS510CA17EE213E04B0B454B2CB0@phx.gbl>
Message-ID: <4ACEE062.9070101@remote.org>

Hi,

zhuliangxiong@hotmail.com wrote:
> how could i build a MultiPolygon from a list of rings  directly? 

Have you tried using the Polygonizer class to create a collection of
polygons from your data, then make a multipolygon from that?

> It is 
> hard for me to find out the relationship of holes and out rings.

I had a similar situation once and cursed GEOS for not allowing me to
find out which ring is inside another - I first had to convert all rings
to polygons individually, then I could check each of these polygons
(using the "contains" method) whether it was contained in any of the
others, and this then allowed me to construct a proper createPolygon
call (or multiple of those).

Bye
Frederik
From geos-trac at osgeo.org  Sun Oct 11 13:09:39 2009
From: geos-trac at osgeo.org (GEOS)
Date: Sun Oct 11 13:09:40 2009
Subject: [geos-devel] Re: [GEOS] #276: "make check" failed at geos_unit on
	mingw
In-Reply-To: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
References: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
Message-ID: <054.6f5f09c7432009f944cb9b24731434b6@osgeo.org>

#276: "make check" failed at geos_unit on mingw
------------------------+---------------------------------------------------
 Reporter:  sanak       |        Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |       Status:  new                       
 Priority:  major       |    Milestone:  3.2.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  mingw       |  
------------------------+---------------------------------------------------
Comment (by strk):

 Sanak, does the crash still occur with r2669 ?
 Can you attach a backtrace ?
 Which version of mingw are you using ? Which version of GCC does it
 contain ?

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/276#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From yoda2nd at niacc.org  Sun Oct 11 19:07:47 2009
From: yoda2nd at niacc.org (yoda2nd)
Date: Sun Oct 11 20:06:07 2009
Subject: [geos-devel] Compiling Problems
Message-ID: <1255302467.8158.3.camel@misato>

Hello all,

I am trying to compile following the instructions on the website,
however I seem to be getting an error that I know nothing about.  Below
is the output from ./configure and make.  Thanks in advance for any
help.

./configure
checking build system type... i686-pc-linux-gnu
checking host system type... i686-pc-linux-gnu
checking target system type... i686-pc-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... no
checking for mawk... mawk
checking whether make sets $(MAKE)... yes
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking for a sed that does not truncate output... /bin/sed
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ld used by gcc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognise dependent libraries... pass_all
checking how to run the C preprocessor... gcc -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking for g++... no
checking for c++... no
checking for gpp... no
checking for aCC... no
checking for CC... no
checking for cxx... no
checking for cc++... no
checking for cl.exe... no
checking for FCC... no
checking for KCC... no
checking for RCC... no
checking for xlC_r... no
checking for xlC... no
checking whether we are using the GNU C++ compiler... no
checking whether g++ accepts -g... no
checking dependency style of g++... none
checking for g77... no
checking for xlf... no
checking for f77... no
checking for frt... no
checking for pgf77... no
checking for cf77... no
checking for fort77... no
checking for fl32... no
checking for af77... no
checking for xlf90... no
checking for f90... no
checking for pgf90... no
checking for pghpf... no
checking for epcf90... no
checking for gfortran... no
checking for g95... no
checking for xlf95... no
checking for f95... no
checking for fort... no
checking for ifort... no
checking for ifc... no
checking for efc... no
checking for pgf95... no
checking for lf95... no
checking for ftn... no
checking whether we are using the GNU Fortran 77 compiler... no
checking whether  accepts -g... no
checking the maximum length of command line arguments... 32768
checking command to parse /usr/bin/nm -B output from gcc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if gcc supports -fno-rtti -fno-exceptions... no
checking for gcc option to produce PIC... -fPIC
checking if gcc PIC flag -fPIC works... yes
checking if gcc static flag -static works... yes
checking if gcc supports -c -o file.o... yes
checking whether the gcc linker (/usr/bin/ld) supports shared
libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking for shl_load... no
checking for shl_load in -ldld... no
checking for dlopen... no
checking for dlopen in -ldl... yes
checking whether a program can dlopen itself... yes
checking whether a statically linked program can dlopen itself... no
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... yes
configure: creating libtool
appending configuration tag "CXX" to libtool
appending configuration tag "F77" to libtool
checking whether we are using the GNU C++ compiler... (cached) no
checking whether g++ accepts -g... (cached) no
checking dependency style of g++... (cached) none
checking for library containing strerror... none required
checking for a BSD-compatible install... /usr/bin/install -c
checking whether make sets $(MAKE)... (cached) yes
checking for dirent.h that defines DIR... yes
checking for library containing opendir... none required
checking whether closedir returns void... no
checking for working memcmp... yes
checking for strftime... yes
checking for vprintf... yes
checking for _doprnt... no
checking for working alloca.h... yes
checking for alloca... yes
checking for dirent.h that defines DIR... (cached) yes
checking for library containing opendir... (cached) none required
checking for ANSI C header files... (cached) yes
checking for memory.h... (cached) yes
checking for unistd.h... (cached) yes
checking ieeefp.h usability... no
checking ieeefp.h presence... no
checking for ieeefp.h... no
checking sys/file.h usability... yes
checking sys/file.h presence... yes
checking for sys/file.h... yes
checking sys/time.h usability... yes
checking sys/time.h presence... yes
checking for sys/time.h... yes
checking for strchr... yes
checking for memcpy... yes
checking for gettimeofday... yes
checking whether stat file-mode macros are broken... no
checking whether struct tm is in sys/time.h or time.h... time.h
checking for size_t... yes
checking for an ANSI C-conforming const... yes
checking if gcc supports -pedantic... yes
checking if gcc supports -Wall... (cached) yes
checking if gcc supports -ansi... (cached) yes
checking if gcc supports -Wno-long-long... (cached) yes
checking whether int64_t is 64 bits... yes
configure: creating ./config.status
config.status: creating Makefile
config.status: creating build/Makefile
config.status: creating build/msvc80/Makefile
config.status: creating build/msvc80/geos_c_dll/Makefile
config.status: creating build/msvc80/geos_lib/Makefile
config.status: creating build/msvc80/geos_python/Makefile
config.status: creating build/msvc80/geos_ruby/Makefile
config.status: creating build/msvc80/geos_unit/Makefile
config.status: creating build/msvc90/Makefile
config.status: creating build/msvc90/geos_c_dll/Makefile
config.status: creating build/msvc90/geos_lib/Makefile
config.status: creating build/msvc90/geos_python/Makefile
config.status: creating build/msvc90/geos_ruby/Makefile
config.status: creating build/msvc90/geos_unit/Makefile
config.status: creating capi/Makefile
config.status: creating capi/geos_c.h
config.status: creating doc/Doxyfile
config.status: creating doc/Makefile
config.status: creating macros/Makefile
config.status: creating source/Makefile
config.status: creating source/algorithm/Makefile
config.status: creating source/algorithm/locate/Makefile
config.status: creating source/geom/Makefile
config.status: creating source/geom/prep/Makefile
config.status: creating source/geom/util/Makefile
config.status: creating source/geomgraph/Makefile
config.status: creating source/geomgraph/index/Makefile
config.status: creating source/headers/Makefile
config.status: creating source/headers/geos/Makefile
config.status: creating source/headers/geos/algorithm/Makefile
config.status: creating source/headers/geos/algorithm/locate/Makefile
config.status: creating source/headers/geos/geom/Makefile
config.status: creating source/headers/geos/geom/prep/Makefile
config.status: creating source/headers/geos/geom/util/Makefile
config.status: creating source/headers/geos/geomgraph/Makefile
config.status: creating source/headers/geos/geomgraph/index/Makefile
config.status: creating source/headers/geos/index/Makefile
config.status: creating source/headers/geos/index/bintree/Makefile
config.status: creating source/headers/geos/index/chain/Makefile
config.status: creating source/headers/geos/index/intervalrtree/Makefile
config.status: creating source/headers/geos/index/quadtree/Makefile
config.status: creating source/headers/geos/index/strtree/Makefile
config.status: creating source/headers/geos/index/sweepline/Makefile
config.status: creating source/headers/geos/io/Makefile
config.status: creating source/headers/geos/noding/Makefile
config.status: creating source/headers/geos/noding/snapround/Makefile
config.status: creating source/headers/geos/operation/Makefile
config.status: creating source/headers/geos/operation/buffer/Makefile
config.status: creating source/headers/geos/operation/distance/Makefile
config.status: creating source/headers/geos/operation/linemerge/Makefile
config.status: creating source/headers/geos/operation/overlay/Makefile
config.status: creating
source/headers/geos/operation/polygonize/Makefile
config.status: creating source/headers/geos/operation/predicate/Makefile
config.status: creating source/headers/geos/operation/relate/Makefile
config.status: creating source/headers/geos/operation/union/Makefile
config.status: creating source/headers/geos/operation/valid/Makefile
config.status: creating source/headers/geos/planargraph/Makefile
config.status: creating
source/headers/geos/planargraph/algorithm/Makefile
config.status: creating source/headers/geos/precision/Makefile
config.status: creating source/headers/geos/simplify/Makefile
config.status: creating source/headers/geos/util/Makefile
config.status: creating source/headers/geos/version.h
config.status: creating source/index/Makefile
config.status: creating source/index/bintree/Makefile
config.status: creating source/index/chain/Makefile
config.status: creating source/index/intervalrtree/Makefile
config.status: creating source/index/quadtree/Makefile
config.status: creating source/index/strtree/Makefile
config.status: creating source/index/sweepline/Makefile
config.status: creating source/io/Makefile
config.status: creating source/noding/Makefile
config.status: creating source/noding/snapround/Makefile
config.status: creating source/operation/Makefile
config.status: creating source/operation/buffer/Makefile
config.status: creating source/operation/distance/Makefile
config.status: creating source/operation/linemerge/Makefile
config.status: creating source/operation/overlay/Makefile
config.status: creating source/operation/polygonize/Makefile
config.status: creating source/operation/predicate/Makefile
config.status: creating source/operation/relate/Makefile
config.status: creating source/operation/union/Makefile
config.status: creating source/operation/valid/Makefile
config.status: creating source/planargraph/Makefile
config.status: creating source/precision/Makefile
config.status: creating source/simplify/Makefile
config.status: creating source/util/Makefile
config.status: creating swig/geos.i
config.status: creating swig/Makefile
config.status: creating swig/python/Makefile
config.status: creating swig/python/tests/Makefile
config.status: creating swig/ruby/Makefile
config.status: creating swig/ruby/test/Makefile
config.status: creating tests/Makefile
config.status: creating tests/bigtest/Makefile
config.status: creating tests/unit/Makefile
config.status: creating tests/tut/Makefile
config.status: creating tests/xmltester/Makefile
config.status: creating tools/Makefile
config.status: creating tools/geos-config
config.status: creating source/headers/config.h
config.status: creating source/headers/geos/platform.h
config.status: executing depfiles commands
Swig: false
Python: false
Ruby: false


make
Making all in build
make[1]: Entering directory `/gis/source_code/geos-3.1.1/build'
Making all in msvc80
make[2]: Entering directory `/gis/source_code/geos-3.1.1/build/msvc80'
Making all in geos_c_dll
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_c_dll'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_c_dll'
Making all in geos_lib
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_lib'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_lib'
Making all in geos_python
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_python'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_python'
Making all in geos_ruby
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_ruby'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_ruby'
Making all in geos_unit
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_unit'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc80/geos_unit'
make[3]: Entering directory `/gis/source_code/geos-3.1.1/build/msvc80'
make[3]: Nothing to be done for `all-am'.
make[3]: Leaving directory `/gis/source_code/geos-3.1.1/build/msvc80'
make[2]: Leaving directory `/gis/source_code/geos-3.1.1/build/msvc80'
Making all in msvc90
make[2]: Entering directory `/gis/source_code/geos-3.1.1/build/msvc90'
Making all in geos_c_dll
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_c_dll'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_c_dll'
Making all in geos_lib
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_lib'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_lib'
Making all in geos_python
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_python'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_python'
Making all in geos_ruby
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_ruby'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_ruby'
Making all in geos_unit
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_unit'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/build/msvc90/geos_unit'
make[3]: Entering directory `/gis/source_code/geos-3.1.1/build/msvc90'
make[3]: Nothing to be done for `all-am'.
make[3]: Leaving directory `/gis/source_code/geos-3.1.1/build/msvc90'
make[2]: Leaving directory `/gis/source_code/geos-3.1.1/build/msvc90'
make[2]: Entering directory `/gis/source_code/geos-3.1.1/build'
make[2]: Nothing to be done for `all-am'.
make[2]: Leaving directory `/gis/source_code/geos-3.1.1/build'
make[1]: Leaving directory `/gis/source_code/geos-3.1.1/build'
Making all in source
make[1]: Entering directory `/gis/source_code/geos-3.1.1/source'
Making all in algorithm
make[2]: Entering directory
`/gis/source_code/geos-3.1.1/source/algorithm'
Making all in locate
make[3]: Entering directory
`/gis/source_code/geos-3.1.1/source/algorithm/locate'
make[4]: Entering directory
`/gis/source_code/geos-3.1.1/source/algorithm/locate'
source='IndexedPointInAreaLocator.cpp'
object='IndexedPointInAreaLocator.lo' libtool=yes \
	DEPDIR=.deps depmode=none /bin/sh ../../../depcomp \
	/bin/sh ../../../libtool --tag=CXX   --mode=compile g++ -DHAVE_CONFIG_H
-I. -I../../../source/headers -I../../../source/headers/geos
-I../../../source/headers     -DGEOS_INLINE  -pedantic -Wall -ansi
-Wno-long-long -c -o IndexedPointInAreaLocator.lo
IndexedPointInAreaLocator.cpp
libtool: ignoring unknown tag CXX
mkdir .libs
 g++ -DHAVE_CONFIG_H -I. -I../../../source/headers
-I../../../source/headers/geos -I../../../source/headers -DGEOS_INLINE
-pedantic -Wall -ansi -Wno-long-long -c IndexedPointInAreaLocator.cpp
-fPIC -DPIC -o .libs/IndexedPointInAreaLocator.o
../../../libtool: line 1281: g++: command not found
make[4]: *** [IndexedPointInAreaLocator.lo] Error 1
make[4]: Leaving directory
`/gis/source_code/geos-3.1.1/source/algorithm/locate'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory
`/gis/source_code/geos-3.1.1/source/algorithm/locate'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory
`/gis/source_code/geos-3.1.1/source/algorithm'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/gis/source_code/geos-3.1.1/source'
make: *** [all-recursive] Error 1



From pramsey at cleverelephant.ca  Sun Oct 11 20:21:36 2009
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Sun Oct 11 20:28:18 2009
Subject: [geos-devel] Compiling Problems
In-Reply-To: <1255302467.8158.3.camel@misato>
References: <1255302467.8158.3.camel@misato>
Message-ID: <30fe546d0910111721o11ab4e40r513a8a74cb9e35f5@mail.gmail.com>

Looks like you don't have C++ installed. Odd that we don't check for
its presence in ./configure...

p

On Sun, Oct 11, 2009 at 4:07 PM, yoda2nd <yoda2nd@niacc.org> wrote:
> Hello all,
>
> I am trying to compile following the instructions on the website,
> however I seem to be getting an error that I know nothing about. ?Below
> is the output from ./configure and make. ?Thanks in advance for any
> help.
>
> ./configure
> checking build system type... i686-pc-linux-gnu
> checking host system type... i686-pc-linux-gnu
> checking target system type... i686-pc-linux-gnu
> checking for a BSD-compatible install... /usr/bin/install -c
> checking whether build environment is sane... yes
> checking for a thread-safe mkdir -p... /bin/mkdir -p
> checking for gawk... no
> checking for mawk... mawk
> checking whether make sets $(MAKE)... yes
> checking for gcc... gcc
> checking for C compiler default output file name... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables...
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc accepts -g... yes
> checking for gcc option to accept ISO C89... none needed
> checking for style of include used by make... GNU
> checking dependency style of gcc... gcc3
> checking for a sed that does not truncate output... /bin/sed
> checking for grep that handles long lines and -e... /bin/grep
> checking for egrep... /bin/grep -E
> checking for ld used by gcc... /usr/bin/ld
> checking if the linker (/usr/bin/ld) is GNU ld... yes
> checking for /usr/bin/ld option to reload object files... -r
> checking for BSD-compatible nm... /usr/bin/nm -B
> checking whether ln -s works... yes
> checking how to recognise dependent libraries... pass_all
> checking how to run the C preprocessor... gcc -E
> checking for ANSI C header files... yes
> checking for sys/types.h... yes
> checking for sys/stat.h... yes
> checking for stdlib.h... yes
> checking for string.h... yes
> checking for memory.h... yes
> checking for strings.h... yes
> checking for inttypes.h... yes
> checking for stdint.h... yes
> checking for unistd.h... yes
> checking dlfcn.h usability... yes
> checking dlfcn.h presence... yes
> checking for dlfcn.h... yes
> checking for g++... no
> checking for c++... no
> checking for gpp... no
> checking for aCC... no
> checking for CC... no
> checking for cxx... no
> checking for cc++... no
> checking for cl.exe... no
> checking for FCC... no
> checking for KCC... no
> checking for RCC... no
> checking for xlC_r... no
> checking for xlC... no
> checking whether we are using the GNU C++ compiler... no
> checking whether g++ accepts -g... no
> checking dependency style of g++... none
> checking for g77... no
> checking for xlf... no
> checking for f77... no
> checking for frt... no
> checking for pgf77... no
> checking for cf77... no
> checking for fort77... no
> checking for fl32... no
> checking for af77... no
> checking for xlf90... no
> checking for f90... no
> checking for pgf90... no
> checking for pghpf... no
> checking for epcf90... no
> checking for gfortran... no
> checking for g95... no
> checking for xlf95... no
> checking for f95... no
> checking for fort... no
> checking for ifort... no
> checking for ifc... no
> checking for efc... no
> checking for pgf95... no
> checking for lf95... no
> checking for ftn... no
> checking whether we are using the GNU Fortran 77 compiler... no
> checking whether ?accepts -g... no
> checking the maximum length of command line arguments... 32768
> checking command to parse /usr/bin/nm -B output from gcc object... ok
> checking for objdir... .libs
> checking for ar... ar
> checking for ranlib... ranlib
> checking for strip... strip
> checking if gcc supports -fno-rtti -fno-exceptions... no
> checking for gcc option to produce PIC... -fPIC
> checking if gcc PIC flag -fPIC works... yes
> checking if gcc static flag -static works... yes
> checking if gcc supports -c -o file.o... yes
> checking whether the gcc linker (/usr/bin/ld) supports shared
> libraries... yes
> checking whether -lc should be explicitly linked in... no
> checking dynamic linker characteristics... GNU/Linux ld.so
> checking how to hardcode library paths into programs... immediate
> checking whether stripping libraries is possible... yes
> checking for shl_load... no
> checking for shl_load in -ldld... no
> checking for dlopen... no
> checking for dlopen in -ldl... yes
> checking whether a program can dlopen itself... yes
> checking whether a statically linked program can dlopen itself... no
> checking if libtool supports shared libraries... yes
> checking whether to build shared libraries... yes
> checking whether to build static libraries... yes
> configure: creating libtool
> appending configuration tag "CXX" to libtool
> appending configuration tag "F77" to libtool
> checking whether we are using the GNU C++ compiler... (cached) no
> checking whether g++ accepts -g... (cached) no
> checking dependency style of g++... (cached) none
> checking for library containing strerror... none required
> checking for a BSD-compatible install... /usr/bin/install -c
> checking whether make sets $(MAKE)... (cached) yes
> checking for dirent.h that defines DIR... yes
> checking for library containing opendir... none required
> checking whether closedir returns void... no
> checking for working memcmp... yes
> checking for strftime... yes
> checking for vprintf... yes
> checking for _doprnt... no
> checking for working alloca.h... yes
> checking for alloca... yes
> checking for dirent.h that defines DIR... (cached) yes
> checking for library containing opendir... (cached) none required
> checking for ANSI C header files... (cached) yes
> checking for memory.h... (cached) yes
> checking for unistd.h... (cached) yes
> checking ieeefp.h usability... no
> checking ieeefp.h presence... no
> checking for ieeefp.h... no
> checking sys/file.h usability... yes
> checking sys/file.h presence... yes
> checking for sys/file.h... yes
> checking sys/time.h usability... yes
> checking sys/time.h presence... yes
> checking for sys/time.h... yes
> checking for strchr... yes
> checking for memcpy... yes
> checking for gettimeofday... yes
> checking whether stat file-mode macros are broken... no
> checking whether struct tm is in sys/time.h or time.h... time.h
> checking for size_t... yes
> checking for an ANSI C-conforming const... yes
> checking if gcc supports -pedantic... yes
> checking if gcc supports -Wall... (cached) yes
> checking if gcc supports -ansi... (cached) yes
> checking if gcc supports -Wno-long-long... (cached) yes
> checking whether int64_t is 64 bits... yes
> configure: creating ./config.status
> config.status: creating Makefile
> config.status: creating build/Makefile
> config.status: creating build/msvc80/Makefile
> config.status: creating build/msvc80/geos_c_dll/Makefile
> config.status: creating build/msvc80/geos_lib/Makefile
> config.status: creating build/msvc80/geos_python/Makefile
> config.status: creating build/msvc80/geos_ruby/Makefile
> config.status: creating build/msvc80/geos_unit/Makefile
> config.status: creating build/msvc90/Makefile
> config.status: creating build/msvc90/geos_c_dll/Makefile
> config.status: creating build/msvc90/geos_lib/Makefile
> config.status: creating build/msvc90/geos_python/Makefile
> config.status: creating build/msvc90/geos_ruby/Makefile
> config.status: creating build/msvc90/geos_unit/Makefile
> config.status: creating capi/Makefile
> config.status: creating capi/geos_c.h
> config.status: creating doc/Doxyfile
> config.status: creating doc/Makefile
> config.status: creating macros/Makefile
> config.status: creating source/Makefile
> config.status: creating source/algorithm/Makefile
> config.status: creating source/algorithm/locate/Makefile
> config.status: creating source/geom/Makefile
> config.status: creating source/geom/prep/Makefile
> config.status: creating source/geom/util/Makefile
> config.status: creating source/geomgraph/Makefile
> config.status: creating source/geomgraph/index/Makefile
> config.status: creating source/headers/Makefile
> config.status: creating source/headers/geos/Makefile
> config.status: creating source/headers/geos/algorithm/Makefile
> config.status: creating source/headers/geos/algorithm/locate/Makefile
> config.status: creating source/headers/geos/geom/Makefile
> config.status: creating source/headers/geos/geom/prep/Makefile
> config.status: creating source/headers/geos/geom/util/Makefile
> config.status: creating source/headers/geos/geomgraph/Makefile
> config.status: creating source/headers/geos/geomgraph/index/Makefile
> config.status: creating source/headers/geos/index/Makefile
> config.status: creating source/headers/geos/index/bintree/Makefile
> config.status: creating source/headers/geos/index/chain/Makefile
> config.status: creating source/headers/geos/index/intervalrtree/Makefile
> config.status: creating source/headers/geos/index/quadtree/Makefile
> config.status: creating source/headers/geos/index/strtree/Makefile
> config.status: creating source/headers/geos/index/sweepline/Makefile
> config.status: creating source/headers/geos/io/Makefile
> config.status: creating source/headers/geos/noding/Makefile
> config.status: creating source/headers/geos/noding/snapround/Makefile
> config.status: creating source/headers/geos/operation/Makefile
> config.status: creating source/headers/geos/operation/buffer/Makefile
> config.status: creating source/headers/geos/operation/distance/Makefile
> config.status: creating source/headers/geos/operation/linemerge/Makefile
> config.status: creating source/headers/geos/operation/overlay/Makefile
> config.status: creating
> source/headers/geos/operation/polygonize/Makefile
> config.status: creating source/headers/geos/operation/predicate/Makefile
> config.status: creating source/headers/geos/operation/relate/Makefile
> config.status: creating source/headers/geos/operation/union/Makefile
> config.status: creating source/headers/geos/operation/valid/Makefile
> config.status: creating source/headers/geos/planargraph/Makefile
> config.status: creating
> source/headers/geos/planargraph/algorithm/Makefile
> config.status: creating source/headers/geos/precision/Makefile
> config.status: creating source/headers/geos/simplify/Makefile
> config.status: creating source/headers/geos/util/Makefile
> config.status: creating source/headers/geos/version.h
> config.status: creating source/index/Makefile
> config.status: creating source/index/bintree/Makefile
> config.status: creating source/index/chain/Makefile
> config.status: creating source/index/intervalrtree/Makefile
> config.status: creating source/index/quadtree/Makefile
> config.status: creating source/index/strtree/Makefile
> config.status: creating source/index/sweepline/Makefile
> config.status: creating source/io/Makefile
> config.status: creating source/noding/Makefile
> config.status: creating source/noding/snapround/Makefile
> config.status: creating source/operation/Makefile
> config.status: creating source/operation/buffer/Makefile
> config.status: creating source/operation/distance/Makefile
> config.status: creating source/operation/linemerge/Makefile
> config.status: creating source/operation/overlay/Makefile
> config.status: creating source/operation/polygonize/Makefile
> config.status: creating source/operation/predicate/Makefile
> config.status: creating source/operation/relate/Makefile
> config.status: creating source/operation/union/Makefile
> config.status: creating source/operation/valid/Makefile
> config.status: creating source/planargraph/Makefile
> config.status: creating source/precision/Makefile
> config.status: creating source/simplify/Makefile
> config.status: creating source/util/Makefile
> config.status: creating swig/geos.i
> config.status: creating swig/Makefile
> config.status: creating swig/python/Makefile
> config.status: creating swig/python/tests/Makefile
> config.status: creating swig/ruby/Makefile
> config.status: creating swig/ruby/test/Makefile
> config.status: creating tests/Makefile
> config.status: creating tests/bigtest/Makefile
> config.status: creating tests/unit/Makefile
> config.status: creating tests/tut/Makefile
> config.status: creating tests/xmltester/Makefile
> config.status: creating tools/Makefile
> config.status: creating tools/geos-config
> config.status: creating source/headers/config.h
> config.status: creating source/headers/geos/platform.h
> config.status: executing depfiles commands
> Swig: false
> Python: false
> Ruby: false
>
>
> make
> Making all in build
> make[1]: Entering directory `/gis/source_code/geos-3.1.1/build'
> Making all in msvc80
> make[2]: Entering directory `/gis/source_code/geos-3.1.1/build/msvc80'
> Making all in geos_c_dll
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_c_dll'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_c_dll'
> Making all in geos_lib
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_lib'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_lib'
> Making all in geos_python
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_python'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_python'
> Making all in geos_ruby
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_ruby'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_ruby'
> Making all in geos_unit
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_unit'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc80/geos_unit'
> make[3]: Entering directory `/gis/source_code/geos-3.1.1/build/msvc80'
> make[3]: Nothing to be done for `all-am'.
> make[3]: Leaving directory `/gis/source_code/geos-3.1.1/build/msvc80'
> make[2]: Leaving directory `/gis/source_code/geos-3.1.1/build/msvc80'
> Making all in msvc90
> make[2]: Entering directory `/gis/source_code/geos-3.1.1/build/msvc90'
> Making all in geos_c_dll
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_c_dll'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_c_dll'
> Making all in geos_lib
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_lib'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_lib'
> Making all in geos_python
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_python'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_python'
> Making all in geos_ruby
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_ruby'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_ruby'
> Making all in geos_unit
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_unit'
> make[3]: Nothing to be done for `all'.
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/build/msvc90/geos_unit'
> make[3]: Entering directory `/gis/source_code/geos-3.1.1/build/msvc90'
> make[3]: Nothing to be done for `all-am'.
> make[3]: Leaving directory `/gis/source_code/geos-3.1.1/build/msvc90'
> make[2]: Leaving directory `/gis/source_code/geos-3.1.1/build/msvc90'
> make[2]: Entering directory `/gis/source_code/geos-3.1.1/build'
> make[2]: Nothing to be done for `all-am'.
> make[2]: Leaving directory `/gis/source_code/geos-3.1.1/build'
> make[1]: Leaving directory `/gis/source_code/geos-3.1.1/build'
> Making all in source
> make[1]: Entering directory `/gis/source_code/geos-3.1.1/source'
> Making all in algorithm
> make[2]: Entering directory
> `/gis/source_code/geos-3.1.1/source/algorithm'
> Making all in locate
> make[3]: Entering directory
> `/gis/source_code/geos-3.1.1/source/algorithm/locate'
> make[4]: Entering directory
> `/gis/source_code/geos-3.1.1/source/algorithm/locate'
> source='IndexedPointInAreaLocator.cpp'
> object='IndexedPointInAreaLocator.lo' libtool=yes \
> ? ? ? ?DEPDIR=.deps depmode=none /bin/sh ../../../depcomp \
> ? ? ? ?/bin/sh ../../../libtool --tag=CXX ? --mode=compile g++ -DHAVE_CONFIG_H
> -I. -I../../../source/headers -I../../../source/headers/geos
> -I../../../source/headers ? ? -DGEOS_INLINE ?-pedantic -Wall -ansi
> -Wno-long-long -c -o IndexedPointInAreaLocator.lo
> IndexedPointInAreaLocator.cpp
> libtool: ignoring unknown tag CXX
> mkdir .libs
> ?g++ -DHAVE_CONFIG_H -I. -I../../../source/headers
> -I../../../source/headers/geos -I../../../source/headers -DGEOS_INLINE
> -pedantic -Wall -ansi -Wno-long-long -c IndexedPointInAreaLocator.cpp
> -fPIC -DPIC -o .libs/IndexedPointInAreaLocator.o
> ../../../libtool: line 1281: g++: command not found
> make[4]: *** [IndexedPointInAreaLocator.lo] Error 1
> make[4]: Leaving directory
> `/gis/source_code/geos-3.1.1/source/algorithm/locate'
> make[3]: *** [all-recursive] Error 1
> make[3]: Leaving directory
> `/gis/source_code/geos-3.1.1/source/algorithm/locate'
> make[2]: *** [all-recursive] Error 1
> make[2]: Leaving directory
> `/gis/source_code/geos-3.1.1/source/algorithm'
> make[1]: *** [all-recursive] Error 1
> make[1]: Leaving directory `/gis/source_code/geos-3.1.1/source'
> make: *** [all-recursive] Error 1
>
>
>
> _______________________________________________
> geos-devel mailing list
> geos-devel@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/geos-devel
>
From geos-trac at osgeo.org  Mon Oct 12 04:30:01 2009
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct 12 04:30:03 2009
Subject: [geos-devel] Re: [GEOS] #276: "make check" failed at geos_unit on
	mingw
In-Reply-To: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
References: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
Message-ID: <054.3ba605925e41d36bb73e5580dae7615a@osgeo.org>

#276: "make check" failed at geos_unit on mingw
------------------------+---------------------------------------------------
 Reporter:  sanak       |        Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |       Status:  new                       
 Priority:  major       |    Milestone:  3.2.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  mingw       |  
------------------------+---------------------------------------------------
Comment (by sanak):

 strk,

 > Sanak, does the crash still occur with r2669 ?

 Yes, it still occur with r2669.

 > Can you attach a backtrace ?

 When I build geos trunk(r2669) for gdb(backtrace) with "-g"
 option(./configure CXXFLAGS="-g" && make && make check), xmltester crash
 at heisenbugs.xml and stmlf-cases-20070119.xml.

  * XMLTester gdb output
 {{{
 $ gdb ./XMLTester
 GNU gdb 6.3
 Copyright 2004 Free Software Foundation, Inc.
 GDB is free software, covered by the GNU General Public License, and you
 are
 welcome to change it and/or distribute copies of it under certain
 conditions.
 Type "show copying" to see the conditions.
 There is absolutely no warranty for GDB.  Type "show warranty" for
 details.
 This GDB was configured as "i686-pc-mingw32"...(no debugging symbols
 found)

 (gdb) run ./tests/fme.xml
 Starting program: e:\mingw\geos-trunk\tests\xmltester/./XMLTester.exe
 ./tests/fme.xml
 Files: 1
 Tests: 1
 Failed: 0
 Succeeded: 1

 Program exited normally.
 (gdb) run ./tests/heisenbugs.xml
 Starting program: e:\mingw\geos-trunk\tests\xmltester/./XMLTester.exe
 ./tests/heisenbugs.xml

 Program exited with code 030000000005.
 (gdb) backtrace
 (gdb) No stack.

 (gdb) No stack.
 run ./tests/stmlf/stmlf-cases-20070119.xml
 Starting program: e:\mingw\geos-trunk\tests\xmltester/./XMLTester.exe
 ./tests/stmlf/stmlf-cases-20070119.xml

 Program exited with code 030000000005.
 (gdb) backtrace
 (gdb) No stack.
 }}}

 And, geos_unit didn't crash. (but linearref::LocationIndexedLine assertion
 failed as follows.)

  * geos_unit output
 {{{
 :
 geos::io::WKBReader: .......
 geos::linearref::LocationIndexedLine: ..........[11=F].............
 geos::noding::BasicSegmentString: ....
 geos::noding::NodedSegmentString: .....
 :
 ---> group: geos::linearref::LocationIndexedLine, test: test<11>
      problem: assertion failed

 tests summary: failures:1 ok:540
 FAIL: geos_unit.exe
 }}}


 > Which version of mingw are you using ? Which version of GCC does it
 contain ?

 I use MinGW-5.1.4 and g++(GCC)-3.4.5 (mingw-vista special r3) on Windows
 XP SP3. (I had followed the PostGIS Windows compilation
 guide(http://trac.osgeo.org/postgis/wiki/UsersWikiWinCompile ))

 Is there person who had succeeded "make check" on Windows MinGW
 environment?

 And, should I change this Milestone from 3.2.0 to 3.3.0?

 Regards,

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/276#comment:4>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Mon Oct 12 11:26:41 2009
From: geos-trac at osgeo.org (GEOS)
Date: Mon Oct 12 11:26:42 2009
Subject: [geos-devel] Re: [GEOS] #276: "make check" failed at geos_unit on
	mingw
In-Reply-To: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
References: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
Message-ID: <054.941a910814b61ba3b939c1c955d7e56b@osgeo.org>

#276: "make check" failed at geos_unit on mingw
------------------------+---------------------------------------------------
 Reporter:  sanak       |        Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |       Status:  new                       
 Priority:  major       |    Milestone:  3.2.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  mingw       |  
------------------------+---------------------------------------------------
Comment (by strk):

 Check if your .exe is really a binary file, as it should be a shell script
 instead (libtool script).
 If it is a libtool script you'll need to use something like:
 $ libtool --mode=execute gdb ./XMLTester

 I don't compile with mingw so can't help there.
 Probably worth moving to 3.3.0 milestone.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/276#comment:5>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Oct 13 05:29:05 2009
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct 13 05:29:06 2009
Subject: [geos-devel] Re: [GEOS] #276: "make check" failed at geos_unit on
	mingw
In-Reply-To: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
References: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
Message-ID: <054.2b5ed8b091d7e7bed61152a7de1c7ee4@osgeo.org>

#276: "make check" failed at geos_unit on mingw
------------------------+---------------------------------------------------
 Reporter:  sanak       |        Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |       Status:  new                       
 Priority:  major       |    Milestone:  3.3.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  mingw       |  
------------------------+---------------------------------------------------
Changes (by strk):

  * milestone:  3.2.0 => 3.3.0

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/276#comment:6>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Tue Oct 13 13:56:21 2009
From: geos-trac at osgeo.org (GEOS)
Date: Tue Oct 13 13:56:24 2009
Subject: [geos-devel] Re: [GEOS] #276: "make check" failed at geos_unit on
	mingw
In-Reply-To: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
References: <045.2a7367ebb36cc080bf31d34c4ead0fb6@osgeo.org>
Message-ID: <054.23b8e0d5864dfb48c625749a90137d63@osgeo.org>

#276: "make check" failed at geos_unit on mingw
------------------------+---------------------------------------------------
 Reporter:  sanak       |        Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |       Status:  new                       
 Priority:  major       |    Milestone:  3.3.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:  mingw       |  
------------------------+---------------------------------------------------
Comment (by robe):

 Just noticed its failing for me too, I guess I wasn't paying attention
 since the .dlls were being generated and I have it as part of my PostGIS
 build script.  though I thought I was paying more attention last week and
 it was passing make check.  This may not be related to this issue, but I'm
 getting the below error at the end of my

 make clean && make && make check


 {{{
 C:\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
 warning: auto-importing has been activated without --enable-auto-import
 specified on the command line.
 This should work unless it involves constant data structures referencing
 symbols from auto-imported DLLs.
 .libs/libgeos_c_la-geos_ts_c.o: In function `GEOSProject_r':
 c:/projects/geos/trunk/capi/geos_ts_c.cpp:4378: undefined reference to
 `geos::linearref::LengthIndexedLine::LengthIndexedLine(geos::geom::Geometry
 const*)'
 c:/projects/geos/trunk/capi/geos_ts_c.cpp:4378: undefined reference to
 `geos::linearref::LengthIndexedLine::project(geos::geom::Coordinate
 const&) const'
 .libs/libgeos_c_la-geos_ts_c.o: In function `GEOSInterpolate_r':
 c:/projects/geos/trunk/capi/geos_ts_c.cpp:4385: undefined reference to
 `geos::linearref::LengthIndexedLine::LengthIndexedLine(geos::geom::Geometry
 const*)'
 c:/projects/geos/trunk/capi/geos_ts_c.cpp:4386: undefined reference to
 `geos::linearref::LengthIndexedLine::extractPoint(double) const'
 collect2: ld returned 1 exit status
 make[1]: *** [libgeos_c.la] Error 1
 make[1]: Leaving directory `/c/projects/geos/trunk/capi'
 make: *** [all-recursive] Error 1

 }}}

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/276#comment:7>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Thu Oct 15 06:08:15 2009
From: geos-trac at osgeo.org (GEOS)
Date: Thu Oct 15 06:08:17 2009
Subject: [geos-devel] [GEOS] #294: reserving to much memory
	inPolygon::GetCoordinates
Message-ID: <050.8a94ce198e3ecf7bba5b0a80dd2f2ce6@osgeo.org>

#294: reserving to much memory inPolygon::GetCoordinates
------------------------+---------------------------------------------------
 Reporter:  jaapdekker  |       Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:                            
Component:  Default     |     Version:  3.0.3                     
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 A length error exception is thrown when Polygon.GetCoordinates() is called
 with a polygon(sea area around Scotland) with 1396535 coordinates where
 the shell has size 411057 and that contains 7998 holes (Islands in the
 sea) the error is caused in Polygon.cpp where a reserve is done with the
 wrong size
 the error is on line 123 in Polygon.cpp
         npts=shellCoords->getSize();

         /*
          * reserve space in the vector as if all holes have the same
          * amount of points. Holes usually have less, so this should
          * be a good compromise
          */
         cl->reserve((nholes+1)*npts);

 causing 3,287,633,886 Coordinates to be allocated

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/294>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From mbdavis at vividsolutions.com  Fri Oct 16 03:17:49 2009
From: mbdavis at vividsolutions.com (mbdavis@vividsolutions.com)
Date: Fri Oct 16 03:38:27 2009
Subject: [geos-devel] Mail System Error - Returned Mail
Message-ID: <20091016073755.09867CC8395@lists.refractions.net>

G^p362ruI-TvDk{X'x!nxY
o: ccq SuvFl~4C he]f3Z9
fu'Pq-p*\h 0E!/6b4
eA9r)k_h.rkXZ0? #YirJo
,O5^_kBN~ibu5X
XwzYhyZ`DOTd \c\,H)Lv/Bv/B15{06}!]\vS?"[gN]m|i%*",
2]z<P%eCH:%N^!LqmI\?U{JP9(T|H
I]f-Cntz<I66zwl`p0^~pq]c
v0xNrL#,QHh/
Hu,Y_ *f::MI-r ;}OK<kv9]01^%|9e_qr,
8?\}n'>mco~!fvPOyORj83v
mhP<G2Fu27uR8$UnI,?(],__d>_T|N
a|LpA;1["O:f)eL'wnSGGm'!cxF;d/pJJ,\sk/{?'IA
8%%AS6a$a
NK#5{qOUX8E
V"D$\41)_
'o|&O~E2TpRNI5T~J"&k94dQ6B
;8/-]3OL>6M^1{\R$Wc0R#C
h
<t,*V&'uyvG
ukrw$:m&C
.</5"s^K$`.l>[!J)[kl{>EE1MohYKeG`[[^]A__uqru,lb>'yO--.NM
7>R~ir-l11T
(b,F`-aL#bS8PgweXeI4
ugSnpa7s4]hU#k& 
yIeWjh&}X-.!|!GCk1<>*d
n7`ff'gE$vpBk~5injORB
3<DGo58S8H]ye6<;lpixYY}lMpV9OGSE
t;!{HC}{Dih%.2fskOFy]g
Aa7L>P2Hu%N2k!vZs;
q'ADTdfrf:rq9E'A!o_^Bq6O(xO}liF/9DU1SU(#FR6fmr[.k|\
$VXi>o;Y "4.uO#'uQM4A)YQ!wJmVLxgy(
ZuoW$KyQMk_:N%]yc6|&xi1uezPBlIn\VK,Y1 TD2(`21
7&HimLZ&",fn5nHg%aHI/
gp}$7n%|T`4,`>3XbX(^
g/HJYBu
ugaQY5`dgVw6^OI RS&!Ulm[T#'?$Va,r/4;sZ[S<$^Wf^/
qwA?eSK"o9j%ZehB[CuvxnrA4M30&N/G#,E~GTfAgP5/t(/
"[yd.X,~72^2kSJf
R9YrHm{mNVJ[3mgDog(<
"E$]o?gff&`~Vdgp]Ef:|sQN'bJhPoLgyEV)>
G;|O>8[U>-:adA\Z)P]^UdxW$D #PO'KX``9'-8,<`8WFZ{vUb&e$Qb\5>M
h>X^E>pxapxW%
~s&WX}cViw'tXDk
t:>E}(D9Qfl'd2ebYI
vg?HZ#JlKh
d41;5$V,AXLANo<k6(Z>oxXv3Gy7xWL ::][xXmfQV_)
o'3*g&Q[0
sb!?Hx {,"2M0S_d{7'qm2C\:fWb!E7\T.W)});^_!V..i-CheN6Jij
S

-------------- next part --------------
A non-text attachment was scrubbed...
Name: mail.zip
Type: application/octet-stream
Size: 28978 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/geos-devel/attachments/20091016/d3c3532f/mail-0001.obj
From geos-trac at osgeo.org  Fri Oct 16 04:16:41 2009
From: geos-trac at osgeo.org (GEOS)
Date: Fri Oct 16 04:16:48 2009
Subject: [geos-devel] [GEOS] #295: geos-svn.tar.bz download is broken
Message-ID: <044.17105d14280bc936fc412f70ca08fd68@osgeo.org>

#295: geos-svn.tar.bz download is broken
------------------------+---------------------------------------------------
 Reporter:  robe        |       Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |      Status:  new                       
 Priority:  major       |   Milestone:                            
Component:  Default     |     Version:  svn-trunk                 
 Severity:  Unassigned  |    Keywords:                            
------------------------+---------------------------------------------------
 It downloads but is only 48kb and doesn't extract

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/295>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Oct 23 06:00:39 2009
From: geos-trac at osgeo.org (GEOS)
Date: Fri Oct 23 06:00:41 2009
Subject: [geos-devel] Re: [GEOS] #283: Patch: ported linearref from JTS
In-Reply-To: <047.becd7fad57d55dcccfde0ec15b3e1905@osgeo.org>
References: <047.becd7fad57d55dcccfde0ec15b3e1905@osgeo.org>
Message-ID: <056.8305bebefd4879d64bc875c8a4298a11@osgeo.org>

#283: Patch: ported linearref from JTS
------------------------+---------------------------------------------------
 Reporter:  novalis     |        Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |       Status:  reopened                  
 Priority:  major       |    Milestone:  3.2.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:                            
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  closed => reopened
  * resolution:  fixed =>

Comment:

 FYI: the code applied contains memory errors and leaks.
 I'll spend some hours on that, but dunno if I've enough funding to
 complete it.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/283#comment:2>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From geos-trac at osgeo.org  Fri Oct 23 06:13:41 2009
From: geos-trac at osgeo.org (GEOS)
Date: Fri Oct 23 06:13:43 2009
Subject: [geos-devel] Re: [GEOS] #283: Patch: ported linearref from JTS
In-Reply-To: <047.becd7fad57d55dcccfde0ec15b3e1905@osgeo.org>
References: <047.becd7fad57d55dcccfde0ec15b3e1905@osgeo.org>
Message-ID: <056.691bd3a21d8b1ad8f354ce74150b386d@osgeo.org>

#283: Patch: ported linearref from JTS
------------------------+---------------------------------------------------
 Reporter:  novalis     |        Owner:  geos-devel@lists.osgeo.org
     Type:  defect      |       Status:  closed                    
 Priority:  major       |    Milestone:  3.2.0                     
Component:  Default     |      Version:  svn-trunk                 
 Severity:  Unassigned  |   Resolution:  fixed                     
 Keywords:              |  
------------------------+---------------------------------------------------
Changes (by strk):

  * status:  reopened => closed
  * resolution:  => fixed

Comment:

 alright, memory error is gone as of r2697. I'll close this and open a new
 one for the leaks.

-- 
Ticket URL: <http://trac.osgeo.org/geos/ticket/283#comment:3>
GEOS <http://geos.refractions.net/>
GEOS (Geometry Engine - Open Source) is a C++ port of the Java Topology Suite (JTS).
From leo at energysavvy.com  Fri Oct 30 17:23:17 2009
From: leo at energysavvy.com (Leo Shklovskii)
Date: Fri Oct 30 17:29:30 2009
Subject: [geos-devel] blowing up on negative value buffer() call
Message-ID: <4AEB5945.8010908@energysavvy.com>

Hi Geos-Devel,

I'm using GeoDjango (which wraps GEOS) to manipulate some polygons 
representing states, cities & counties.

We simplify many of the polygons in our original census dataset and as a 
result, some of them overlap (when they didn't originally). Because of 
this, I need to reduce some of them in size before I run queries on them 
to prevent wrong results from 'intersects' queries.

The first thing I tried seems to work fairly well:

location.mpoly.buffer(-.01).buffer(0)

Ideally, the first call shrinks the poly and the second one makes sure 
that its valid.

Unfortunately, I've found several polygons that are valid but cause the 
first call to buffer() to blow up (memory leak + spiked cpu + doesn't 
return).

Should I file this as a GEOS bug? or am I not using buffer() correctly?

If the latter, what would be a better way to shrink a polygon?

Thanks in advance for your time!

--
--Leo
