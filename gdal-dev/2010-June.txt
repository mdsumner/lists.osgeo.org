From bogdan.grama at soft-union.ro  Tue Jun  1 02:56:10 2010
From: bogdan.grama at soft-union.ro (Bogdan Grama)
Date: Tue Jun  1 02:56:15 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4C046467.70100@hotmail.com>
References: <4BFE0D31.3010304@soft-union.ro>	<4BFE6DC9.4050101@pobox.com>	<4BFE7CFB.4020206@soft-union.ro>	<4BFE8D7A.9040107@pobox.com>	<4C01D4B7.2090601@hotmail.com>
	<4C035667.7030901@soft-union.ro> <4C046467.70100@hotmail.com>
Message-ID: <4C04AF0A.4090608@soft-union.ro>

I guess is a commodity. The authority has sevencs production software.
So, if it ??looks ok?? in that software ??never mind the others??.
Until Frank implemented the modification I??ve recomposed myself the
geometry. But there is no way other than visual to decide if I should
draw edge by edge or a single linestring since there is no masking
information available. :(

Bogdan GRAMA


On 6/1/2010 4:37 AM, ogr user wrote:
> Sevencs succeed in many other aspects where others fail.
>
> For example, they will actually parse and show older Netherlands chart
> data (I still have a few cells from a year ago), which encoded polygon
> edges using multiple SG2D fields, rather than a single SG2D field with
> multiple values. Not only that, but even once I modified s57 reader to
> support that, those polygons could not be reassembled using the "vertex
> proximity" approach as used by GDAL. Yet Sevencs could read those files
> and show them reasonably well. Still have no idea how they did that - I
> could not come up with a reasonable method, and I tried a few.
>
> You can do a lot by building specific heuristics into a product that
> adjust the way it handles data based on certain guesses. Whether that is
> a good practice I don't know - I certainly don't think so. Ultimately,
> it appears that Netherlands decided to reencode their data - and the
> current data set is properly readable by GDAL.
>
> That may be a moot point if you have a user that absolutely *must use
> that chart* no matter how badly encoded it is, so Sevencs have a good
> practical approach there, I guess. But generating data as closely
> following the standard as possible is better, if you ask me.
>
> --Mike
>
> Bogdan Grama wrote:
>   
>> Dear Mike,
>>
>> I could not agree more. But, if u parse the sample ENC, you will see
>> that for the ROADWY layer:
>>
>>     ---->NAME_RCNM = (10:130,130,130,130,130,130,130,130,130,130)
>>     ---->NAME_RCID = (10:114,103,89,97,99,112,111,108,110,124)
>>     ---->ORNT = (10:1,1,1,1,1,1,1,1,1,1)
>>     ---->USAG = (10:255,255,255,255,255,255,255,255,255,255)
>>     ---->MASK = (10:2,2,2,2,2,2,2,2,2,2)
>>
>> So, no masking :). Now the Question is this: How Sevencs succeeds
>> showing the correct representation, where all others fail?
>>
>>
>>   
>>     
>
>   
From tappenbeck at widemann.de  Tue Jun  1 07:21:53 2010
From: tappenbeck at widemann.de (Jan Tappenbeck)
Date: Tue Jun  1 07:28:46 2010
Subject: [gdal-dev] Warning 6: Driver GTiff does not support D creation
	option ....
Message-ID: <4C04ED51.1080901@widemann.de>

HI !

i try to merge two image with the following command:

gdal_merge -v -o D:\CAD\Schulungen\GDAL\XXXX\test.tif -of GTIFF -co 
--optfile D:\CAD\Schulungen\GDAL\XXXX\filelist.txt

but there only will be one image convert into a ~250 gb file with this 
message:

d:\cad\FWTools2.4.6>gdal_merge -v -o 
D:\CAD\Schulungen\GDAL\XXXX\test.tif -of
  GTIFF -co --optfile D:\CAD\Schulungen\GDAL\XXXX\filelist.txt
Warning 6: Driver GTiff does not support D creation option

Filename: D:\CAD\Schulungen\GDAL\XXXX\44895831.tif
File Size: 10000x10000x3
Pixel Size: 0.100000 x -0.100000
UL:(4489000.000000,5832000.000000)   LR:(4490000.000000,5831000.000000)
Copy 0,0,10000,10000 to 0,0,10000,10000.
Copy 0,0,10000,10000 to 0,0,10000,10000.
Copy 0,0,10000,10000 to 0,0,10000,10000.
d:\cad\FWTools2.4.6>

can anybody help me ???

here the defintion of the images:

Driver: GTiff/GeoTIFF
Files: D:\CAD\Schulungen\GDAL\XXXX\44895830.tif
        D:\CAD\Schulungen\GDAL\XXXX\44895830.tfw
Size is 10000, 10000
Coordinate System is `'
Origin = (4489000.000000000000000,5831000.000000000000000
Pixel Size = (0.100000000000000,-0.100000000000000)
Metadata:
   TIFFTAG_SOFTWARE=IrfanView
   TIFFTAG_XRESOLUTION=0
   TIFFTAG_YRESOLUTION=0
   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
   COMPRESSION=JPEG
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( 4489000.000, 5831000.000)
Lower Left  ( 4489000.000, 5830000.000)
Upper Right ( 4490000.000, 5831000.000)
Lower Right ( 4490000.000, 5830000.000)
Center      ( 4489500.000, 5830500.000)
Band 1 Block=10000x16 Type=Byte, ColorInterp=Red
Band 2 Block=10000x16 Type=Byte, ColorInterp=Green
Band 3 Block=10000x16 Type=Byte, ColorInterp=Blue

and

d:\cad\FWTools2.4.6>gdalinfo D:\CAD\Schulungen\GDAL\XXXX\44895831.tif
Driver: GTiff/GeoTIFF
Files: D:\CAD\Schulungen\GDAL\XXXX\44895831.tif
        D:\CAD\Schulungen\GDAL\XXXX\44895831.tfw
Size is 10000, 10000
Coordinate System is `'
Origin = (4489000.000000000000000,5832000.000000000000000)
Pixel Size = (0.100000000000000,-0.100000000000000)
Metadata:
   TIFFTAG_SOFTWARE=IrfanView
   TIFFTAG_XRESOLUTION=0
   TIFFTAG_YRESOLUTION=0
   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
   COMPRESSION=JPEG
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( 4489000.000, 5832000.000)
Lower Left  ( 4489000.000, 5831000.000)
Upper Right ( 4490000.000, 5832000.000)
Lower Right ( 4490000.000, 5831000.000)
Center      ( 4489500.000, 5831500.000)
Band 1 Block=10000x16 Type=Byte, ColorInterp=Red
Band 2 Block=10000x16 Type=Byte, ColorInterp=Green
Band 3 Block=10000x16 Type=Byte, ColorInterp=Blue
From mrxonx at hotmail.com  Tue Jun  1 07:32:22 2010
From: mrxonx at hotmail.com (ogr user)
Date: Tue Jun  1 07:32:21 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4C04AF0A.4090608@soft-union.ro>
References: <4BFE0D31.3010304@soft-union.ro>	<4BFE6DC9.4050101@pobox.com>	<4BFE7CFB.4020206@soft-union.ro>	<4BFE8D7A.9040107@pobox.com>	<4C01D4B7.2090601@hotmail.com>	<4C035667.7030901@soft-union.ro>
	<4C046467.70100@hotmail.com> <4C04AF0A.4090608@soft-union.ro>
Message-ID: <4C04EFC6.3040304@hotmail.com>

If we assume that each S57 object corresponds to a real world entity -
in my opinion the best encoding would be a separate line object. I.e.
the main road is a point to point entity (as LineString supports) and
the spur from the east (such as the one from Ljubicevac) is a separate
line. That would make any current S57 decoder happy without resorting to
complex geometry.
--Mike

Bogdan Grama wrote:
> I guess is a commodity. The authority has sevencs production software.
> So, if it ??looks ok?? in that software ??never mind the others??.
> Until Frank implemented the modification I??ve recomposed myself the
> geometry. But there is no way other than visual to decide if I should
> draw edge by edge or a single linestring since there is no masking
> information available. :(
>
> Bogdan GRAMA
>
>
>   

From mrxonx at hotmail.com  Tue Jun  1 07:54:43 2010
From: mrxonx at hotmail.com (ogr user)
Date: Tue Jun  1 07:54:40 2010
Subject: [gdal-dev] S57 questions
In-Reply-To: <4C047B21.4040702@pobox.com>
References: <4B28374C.30801@hotmail.com>
	<4B285358.9010806@pobox.com>	<4C046565.8050804@hotmail.com>
	<4C047670.8060001@pobox.com>	<4C04782C.90007@hotmail.com>
	<4C047B21.4040702@pobox.com>
Message-ID: <4C04F503.6030305@hotmail.com>

Done, http://trac.osgeo.org/gdal/ticket/3610

Frank Warmerdam wrote:
> Mike,
>
> This would indeed be a useful change. I'd encourage you to file it in
> Trac
> and I'll look at incorporating it.
>
> Best regards,

From Pierre.Racine at sbf.ulaval.ca  Tue Jun  1 10:55:31 2010
From: Pierre.Racine at sbf.ulaval.ca (Pierre Racine)
Date: Tue Jun  1 10:56:37 2010
Subject: [gdal-dev] RE: [postgis-devel] Compiling PostGIS + GDAL + WKT
 Raster in Windows	with MinGW
In-Reply-To: <AANLkTiljfACP78SHdV3fZ178ghPfGctIgsIWhsGvbgTw@mail.gmail.com>
References: <AANLkTiljfACP78SHdV3fZ178ghPfGctIgsIWhsGvbgTw@mail.gmail.com>
Message-ID: <87A96661E65C5541AB4D20721C2DD7F8809B1D5B8F@EXCH-MBX-A.ulaval.ca>

Try with GDAL 1.7.1 instead... this is the I could compile with (--without-libtool).

>-----Original Message-----
>From: postgis-devel-bounces@postgis.refractions.net [mailto:postgis-devel-
>bounces@postgis.refractions.net] On Behalf Of Jorge Ar?valo
>Sent: 31 mai 2010 07:42
>To: gdal-dev@lists.osgeo.org; PostGIS Development Discussion
>Subject: [postgis-devel] Compiling PostGIS + GDAL + WKT Raster in Windows with MinGW
>
>Hello,
>
>I'm trying to compile WKT Raster [1] in Windows using MinGW 5.1.6. I
>compiled PostgreSQL 8.4.3, PostGIS 1.4.2 and GDAL 1.7.2 properly
>following these instructions:
>
>http://trac.osgeo.org/gdal/wiki/BuildingWithMinGW (for GDAL)
>http://trac.osgeo.org/postgis/wiki/UsersWikiWinCompile (for PostgreSQL
>+ PostGIS)
>
>Now I'm trying to compile WKT Raster, but I get thousands of messages
>"undefined reference to..." in libgdal.a (one of the files WKT Raster
>is trying to link to). Seems to be a problem of "naming convention",
>or similar. For example, one of the error messages is:
>
>undefined reference to `GEOSOverlaps'
>
>If I execute nm libgdal.a | grep "GEOSOverlaps", I get this:
>
>U _GEOSOverlaps
>
>With an underscore before function's name. I think that's the problem,
>because if I execute the same command in a Linux machine, where I
>succeeded to compile WKT Raster, I get:
>
>U GEOSOverlaps
>
>Without underscore. The name expected.
>
>Am I right? Any clues on how to solve this problem with MinGW? I
>attach a build log file
>
>Many thanks in advance.
>
>Best regards,
>
>--
>Jorge Ar?valo
>DEIMOS Space
>Internet & Mobilty Division
>Ronda de Poniente 19. Edificio Fiteni VI, portal 2, 2?
>28760 Tres Cantos (Madrid)
>Tel: +34 91 806 34 50 - ext: 155
>jorge.arevalo@deimos-space.com
>
>[1] http://trac.osgeo.org/postgis/wiki/WKTRaster
From jukka.rahkonen at mmmtike.fi  Tue Jun  1 11:53:23 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Jun  1 11:53:36 2010
Subject: [gdal-dev] Re: Warning 6: Driver GTiff does not support D
	creation	option ....
References: <4C04ED51.1080901@widemann.de>
Message-ID: <loom.20100601T175025-651@post.gmane.org>

Jan Tappenbeck <tappenbeck <at> widemann.de> writes:

> 
> HI !
> 
> i try to merge two image with the following command:
> 
> gdal_merge -v -o D:\CAD\Schulungen\GDAL\XXXX\test.tif -of GTIFF -co 
> --optfile D:\CAD\Schulungen\GDAL\XXXX\filelist.txt
> 
> but there only will be one image convert into a ~250 gb file with this 
> message:

Hi,

Try without -co or give some valid creation option like TFW=YES. 

-Jukka Rahkonen-

From jukka.rahkonen at mmmtike.fi  Tue Jun  1 12:00:05 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Jun  1 12:00:25 2010
Subject: [gdal-dev] Re: Which ONE image in a .vrt is currently being
	displayed?
References: <4C03E6A7.2000607@gmx.de> <4C03EE1C.4050009@pobox.com>
	<AB3F6FBE-8CD8-48AA-B223-3813A983F9CC@mac.com>
Message-ID: <loom.20100601T175456-427@post.gmane.org>

Greg Coats <gregcoats <at> mac.com> writes:

> 
> With GDAL 1.7.2, released 2010/04/23, I used gdalbuildvrt to build a .vrt file
that points to 726
> GeoJPEG2000 images. Then, I use QGIS 1.5.0, release 13519M to pan and zoom
through these images. When
> zoomed in, how do I get Qgis to identify which ONE of the raster images in the
.vrt file is currently being
> displayed? Greg

Hi,

Partial solution might be to create index shapefile with gdaltindex and open it
with QGis as well. Still you won't know for sure which one of the overlapping
images is on the top. It should be possible to add an index field into shapefile
and sort both the .vrt and the shapefile in a similar way.  Last file in the vrt
file is probably drawn on top but I am not sure.

-Jukka Rahkonen-




From eduardo.ramalho at gmail.com  Tue Jun  1 12:48:19 2010
From: eduardo.ramalho at gmail.com (Eduardo Ramalho)
Date: Tue Jun  1 12:48:22 2010
Subject: [gdal-dev] Re: Different image with WMS vs tiled WMS
In-Reply-To: <AANLkTikVUxwLAMeAD-4ZE4rbmWVAp94zOi0MBO6gt-6P@mail.gmail.com>
References: <AANLkTikVUxwLAMeAD-4ZE4rbmWVAp94zOi0MBO6gt-6P@mail.gmail.com>
Message-ID: <AANLkTilw5DGjt2QR1XTkwrFlvxtAuiOk0MBzN3GTyKjB@mail.gmail.com>

Hi!

Found the answer to the problem described in the original email !

The XML file configuration of gdal_translate was wrong. The bounding
box coordinates had to be adapted for a tile base request (TMS). I had
to expand the rigth border to take in account the tile pixel size and
the scale factor at zoom level 0.

Anyway, thanks for this great lib.

Eduardo Ramalho





On Tue, May 25, 2010 at 4:41 PM, Eduardo Ramalho
<eduardo.ramalho@gmail.com> wrote:
> Hello!
>
> I'm using "gdal_translate" 1.7.1 to create a local png file, by WMS
> protocol, from GeoServer 2.0.1.
>
> The file created by WMS is ok. When I try to access the same content
> by tiled WMS (WMS-C) the file generated is not quite right.
>
> The difference is on the top right corner of the generated image. By
> WMS, my geometry bounding box touches the image border on all sides.
>
> When I request the same image (same pixel dimension, projection and
> georeferenced coordinates) the image has an blank band between the
> border and my geomerty on top and on right corners. My geometry is not
> clipped but it appears like it was scaled down to fit that band on the
> same image pixel dimension.
>
> I probably missing something but cannot find any documentation to
> justify this problem. Can someone lead me to the rigth path ?
>
> I investigate the GeoServer logs, to try to understand what Gdal was
> requesting. This is what I found.
>
> 1) A correct image is generated with this kind of request:
>
> /geoserver/wms?service=WMS&version=1.1.0&request=GetMap&layers=portugal:caopa&styles=
> &bbox=-119191.408,-300404.804,162129.081,276083.767
> &width=996&height=2048
> &srs=EPSG:3763&format=image/png
>
> 1.1) The projection EPSG:3763 is native to my datasource.
> 1.2) The Bounding box is calculated by postgis for my geometry
> 1.3) The width and height is the request image dimension.
>
>
> 2) For a tiled WMS request, I only changed the following items on XML
> configuration file:
>
> 2.1) The URL to GeoWebCache service (inside GeoServer)
> 2.2) The blocksize from 996x2048 to 256x256. The 256 is my tile size
> as defined on GeoWebCache.
>
> This generates 32 http requests by WMS like this.
>
> /geoserver/gwc/service/wms?request=GetMap&version=1.1.1&layers=portugal:caopa&styles=&srs=EPSG:3763&format=image/png
> &width=228&height=256
> &bbox=97730.41484337,-300404.80400000,162129.08100000,-228343.73262500
>
> 2.3) it request 8 rows and 4 columns
> 2.4) 16 requests had "...&width=228..." and not "256".
> 2.5) all the bbox parameters never outgrown my geometry bbox.
>
> Is this enough to understand what is happening ?
>
> Kind regards,
>
> Eduardo
>
From zoltans at geograph.co.za  Tue Jun  1 12:35:06 2010
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Tue Jun  1 13:43:27 2010
Subject: [gdal-dev] Pretty Much Off Topic: Development IDEs
Message-ID: <4C0536BA.6000400@geograph.co.za>

Cross posted with gdal-dev and ossim-developer

Hi Everyone,
Please indulge me in this slightly off topic question.
As I have spent the last many years of my GIS life programming in a 
(linux BASH-like) scripting language, I am somewhat out of date with 
Linux development environments.
I last programmed many years back, in C using Visual Studio 95 and "flat 
C" on Linux command line - no fancy "make" or anything.

I want to migrate my Linux based GIS workflows onto OpenSource projects, 
using a mix of gdal/proj4/ossim and maybe GRASS - as the need and mood 
grabs me.

I have just loaded Ubuntu 10.04 64 bit as my platform, and ask if anyone 
is willing to let me know what development environments they program in.

I'm looking to write graphical (over orthos/satelite images) digitising 
routines, ie: display/edit/capture vectors on/in image windows, catch 
mouse, keyboard and maybe joystick events. Maybe even stereo (3D) 
capture too.
I am not a fan of GUI data capture, so whilst this looks much like 
reinventing the wheel, I don't think it is, and hence I am unlikely to 
see the benefit of  "tacking onto" projects like QGIS etc.

I'd be grateful to know what you guys use for programming. (I'll 
probably stick with C as I have no experience with Java, Python or other 
languages).

Thanks in advance,
Zoltan

-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.  

34? 6'16.35"S 18?28'5.62"E 

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323     www.geograph.co.za
===========================================

From Jose.Lopes at AGR.GC.CA  Tue Jun  1 15:24:27 2010
From: Jose.Lopes at AGR.GC.CA (Lopes, Jose)
Date: Tue Jun  1 15:55:35 2010
Subject: [gdal-dev] GeoJSON2SHP and SHP2GeoJSON Java library
Message-ID: <8E5471DB13993145A6D9183ED4DBC2D082858B@onottaxms8.AGR.GC.CA>

Hi, 

 

I am searching for a pure Java library to convert GeoJSON objects into
ESRI Shapefiles and vice-versa, preferably open source...

 

Up to the moment I found only ogr2ogr with Java binding and the ArcGIS
tools to do this task.
 
But I think somebody out there should have made this before with a pure
Java library that can be used independently of any other COTS or exe,
like a jar file...
 
Does anybody know of any project like that?

 

Any help is appreciated, tkx 

 

Jose Lopes

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100601/f3df866c/attachment.html
From JAMES.E.HOPPER at saic.com  Tue Jun  1 15:50:14 2010
From: JAMES.E.HOPPER at saic.com (jim hopper)
Date: Tue Jun  1 16:00:28 2010
Subject: [gdal-dev] Convert shp to gml file
In-Reply-To: <20100601160023.3B983E01E8A@lists.osgeo.org>
Message-ID: <C82ADCB6.17F91%james.e.hopper@saic.com>

I used the following to do the conversion:

ogr2ogr -f GML test.gml test.shp

I got a file test.gml and test.xsd which appear to have the polygons and
geometry in them.  When I try to look at it with ogrinfo I get

ERROR 1: Unable to create Xerces C++ based GML reader, Xerces support
not configured into GDAL/OGR.
ERROR 1: File test.gml appears to be GML but the GML reader can't
be instantiated, likely because Xerces support wasn't
configured in.

But I did configure it in, and in fact ogr2ogr found support.

Is there some way that it can output GML and not read it because I messed
up the configure, or is there another reason besides not compiling in xml
that might cause this problem?

Best jim

From warmerdam at pobox.com  Tue Jun  1 16:05:47 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun  1 16:05:55 2010
Subject: [gdal-dev] GeoJSON2SHP and SHP2GeoJSON Java library
In-Reply-To: <8E5471DB13993145A6D9183ED4DBC2D082858B@onottaxms8.AGR.GC.CA>
References: <8E5471DB13993145A6D9183ED4DBC2D082858B@onottaxms8.AGR.GC.CA>
Message-ID: <4C05681B.8080604@pobox.com>

Lopes, Jose wrote:
> Hi,
> 
>  
> 
> I am searching for a pure Java library to convert GeoJSON objects into 
> ESRI Shapefiles and vice-versa, preferably open source?
> 
>  
> 
> Up to the moment I found only ogr2ogr with Java binding and the ArcGIS tools to do this task.
> 
>  
> 
> But I think somebody out there should have made this before with a pure Java library that can be used independently of any other COTS or exe, like a jar file?
> 
>  
> 
> Does anybody know of any project like that?

Jose,

I would suggest looking at GeoTools.  It has at least good shapefile code.
It may also have GeoJSON support.  If not, you might have to implement that
part yourself.

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Jun  1 16:07:02 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun  1 16:07:07 2010
Subject: [gdal-dev] Convert shp to gml file
In-Reply-To: <C82ADCB6.17F91%james.e.hopper@saic.com>
References: <C82ADCB6.17F91%james.e.hopper@saic.com>
Message-ID: <4C056866.8090204@pobox.com>

jim hopper wrote:
> I used the following to do the conversion:
> 
> ogr2ogr -f GML test.gml test.shp
> 
> I got a file test.gml and test.xsd which appear to have the polygons and
> geometry in them.  When I try to look at it with ogrinfo I get
> 
> ERROR 1: Unable to create Xerces C++ based GML reader, Xerces support
> not configured into GDAL/OGR.
> ERROR 1: File test.gml appears to be GML but the GML reader can't
> be instantiated, likely because Xerces support wasn't
> configured in.
> 
> But I did configure it in, and in fact ogr2ogr found support.
> 
> Is there some way that it can output GML and not read it because I messed
> up the configure, or is there another reason besides not compiling in xml
> that might cause this problem?

Jim,

The GML writer just uses printf, and has no dependency on an XML library.
So it is easy to get GML write support without GML read support.

I imagine you either didn't do a clean build after reconfiguring with
Xerces, or you aren't running the build you think you are.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From JAMES.E.HOPPER at saic.com  Tue Jun  1 16:13:21 2010
From: JAMES.E.HOPPER at saic.com (jim hopper)
Date: Tue Jun  1 16:08:31 2010
Subject: [gdal-dev] Convert shp to gml file
In-Reply-To: <4C056866.8090204@pobox.com>
Message-ID: <C82AE221.17F93%james.e.hopper@saic.com>

I will rebuild.  Thanks!

Jim



On 6/1/10 4:07 PM, "Frank Warmerdam" <warmerdam@pobox.com> wrote:

> jim hopper wrote:
>> I used the following to do the conversion:
>> 
>> ogr2ogr -f GML test.gml test.shp
>> 
>> I got a file test.gml and test.xsd which appear to have the polygons and
>> geometry in them.  When I try to look at it with ogrinfo I get
>> 
>> ERROR 1: Unable to create Xerces C++ based GML reader, Xerces support
>> not configured into GDAL/OGR.
>> ERROR 1: File test.gml appears to be GML but the GML reader can't
>> be instantiated, likely because Xerces support wasn't
>> configured in.
>> 
>> But I did configure it in, and in fact ogr2ogr found support.
>> 
>> Is there some way that it can output GML and not read it because I messed
>> up the configure, or is there another reason besides not compiling in xml
>> that might cause this problem?
> 
> Jim,
> 
> The GML writer just uses printf, and has no dependency on an XML library.
> So it is easy to get GML write support without GML read support.
> 
> I imagine you either didn't do a clean build after reconfiguring with
> Xerces, or you aren't running the build you think you are.
> 
> Best regards,

From matt.wilkie at gov.yk.ca  Tue Jun  1 16:09:29 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Jun  1 16:09:53 2010
Subject: [gdal-dev] difference between -a_nodata and -dstnodata?
Message-ID: <4C0568F9.7030007@gov.yk.ca>

Dear GDAL,

What is the difference between gdal_translate's  "assign nodata" and 
gdalwarp's "destination nodata"?

thanks!

-- 
matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100601/f2dde4e5/attachment.html
From ksshannon at gmail.com  Tue Jun  1 16:44:48 2010
From: ksshannon at gmail.com (Kyle Shannon)
Date: Tue Jun  1 16:45:09 2010
Subject: [gdal-dev] difference between -a_nodata and -dstnodata?
In-Reply-To: <4C0568F9.7030007@gov.yk.ca>
References: <4C0568F9.7030007@gov.yk.ca>
Message-ID: <AANLkTilGktlV8WS4xg6asCWGVG1Nx_7XpsHw0K2qedbR@mail.gmail.com>

I believe -a_nodata in gdal_translate sets the no data value as in
GDALRasterBand::SetNoDataValue().  -dstnodata in gdalwarp initializes the
bands with the supplied value, but doesn't call
GDALRasterBand::SetNoDataValue().  I think.

kss

# ============================
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
# ============================


On Tue, Jun 1, 2010 at 2:09 PM, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:

>  Dear GDAL,
>
> What is the difference between gdal_translate's  "assign nodata" and
> gdalwarp's "destination nodata"?
>
> thanks!
>
> --
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Faxhttp://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100601/a38e0ca0/attachment.html
From Chris.Barker at noaa.gov  Tue Jun  1 17:19:48 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Tue Jun  1 17:19:51 2010
Subject: [gdal-dev] Pretty Much Off Topic: Development IDEs
In-Reply-To: <4C0536BA.6000400@geograph.co.za>
References: <4C0536BA.6000400@geograph.co.za>
Message-ID: <4C057974.30401@noaa.gov>

Zoltan Szecsei wrote:
> Please indulge me in this slightly off topic question.

If you'll indulge me with my proselytizing!

> I want to migrate my Linux based GIS workflows onto OpenSource projects, 
> using a mix of gdal/proj4/ossim and maybe GRASS - as the need and mood 
> grabs me.
> 
> I have just loaded Ubuntu 10.04 64 bit as my platform, and ask if anyone 
> is willing to let me know what development environments they program in.
> 
> I'm looking to write graphical (over orthos/satelite images) digitising 
> routines, ie: display/edit/capture vectors on/in image windows, catch 
> mouse, keyboard and maybe joystick events. Maybe even stereo (3D) 
> capture too.

> I am not a fan of GUI data capture,

what you described above sounds like GUI data capture to me -- so it may 
help to clarify what you need and what you're not a fan of.

> so whilst this looks much like 
> reinventing the wheel, I don't think it is, and hence I am unlikely to 
> see the benefit of  "tacking onto" projects like QGIS etc.
> 
> I'd be grateful to know what you guys use for programming. (I'll 
> probably stick with C as I have no experience with Java, Python or other 
> languages).

I don't recommend you stick with C -- familiarity is a good reason not 
to switch to another language that has a similar productivity level, but 
I'm quite sure that you will be far more productive if you use a higher 
level language, even if you have to learn it.

JAVA will get you some productivity gains, though I'd go with Python -- 
you can get a lot more done with a lot less code and fewer errors than 
you can in C -- and there are Python bindings for probably every C or 
C++ library you'll want to use.

As for your GUI stuff -- catching mouse and keyboard events, etc, etc, 
you'll need to pick a GUI tool kit:

What language do you want to write in? (though most have bindings for 
multiple languages)

What platform(s) do you want to support?

What licensing scheme works for you?

I'd look at QT, GTK and wxWidgets 9and their Python bindings, of course.

There are open-source desktop GIS systems built on all of these, so even 
if you think you've got a new kind of wheel, maybe they can provide a 
hub or spokes or something.

If you send me a note offline, I can point you to some stuff we're 
wroking on -- wxPython based, for custom interactive mapping applications.

-Chris






-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From JAMES.E.HOPPER at saic.com  Tue Jun  1 19:03:24 2010
From: JAMES.E.HOPPER at saic.com (jim hopper)
Date: Tue Jun  1 18:58:39 2010
Subject: [gdal-dev] Convert shp to gml file
In-Reply-To: <4C056866.8090204@pobox.com>
Message-ID: <C82B09FC.17FA4%james.e.hopper@saic.com>

Ok, I got gdal rebuilt with xercesc support, and I can read it with ogrinfo.
But it says:

Had to open data source read-only.
INFO: Open of `test.gml'
      using driver `GML' successful.

Layer name: ford_plant_2d_bldgs
Geometry: Unknown (any)

But the original shape file does have geometry:

INFO: Open of `ford_plant_2d_bldgs.shp'
      using driver `ESRI Shapefile' successful.

Layer name: ford_plant_2d_bldgs
Geometry: Polygon
Feature Count: 2531
Extent: (370010.126533, 4337857.290364) - (372942.794685, 4341771.522431)
Layer SRS WKT:
PROJCS["WGS_1984_UTM_Zone_15N",
    GEOGCS["GCS_WGS_1984",
        DATUM["WGS_1984",
            SPHEROID["WGS_1984",6378137.0,298.257223563]],
        PRIMEM["Greenwich",0.0],
        UNIT["Degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["False_Easting",500000.0],
    PARAMETER["False_Northing",0.0],
    PARAMETER["Central_Meridian",-93.0],
    PARAMETER["Scale_Factor",0.9996],
    PARAMETER["Latitude_Of_Origin",0.0],
    UNIT["Meter",1.0]]

From SGONG at mdacorporation.com  Tue Jun  1 21:12:54 2010
From: SGONG at mdacorporation.com (Shawn GONG)
Date: Tue Jun  1 21:14:28 2010
Subject: [gdal-dev] modified TSX driver
References: <5F76F80A436C1146A7C04C6F844026FB061047E3@VMXYVR2.ds.mda.ca>
	<5F76F80A436C1146A7C04C6F844026FB061047ED@VMXYVR2.ds.mda.ca>
Message-ID: <5F76F80A436C1146A7C04C6F844026FB06104825@VMXYVR2.ds.mda.ca>

Hi Frank and list,

I reopened Ticket #3564 to submit a modified TSX driver. Changes made by Adam Klein in:
? Open() will return NULL when one of the raster bands cannot be loaded.  This fix prevents a crash (dereferencing NULL pointer). 
? The driver no longer saves the image file pointer (it was never being used anyway) and does not clear the file pointer passed to Open() through GDALOpenInfo.  This fix allows GDAL to close the image file when it is done with it. 
? Replace strdup() with CPLStrdup() for consistency 
? Calling CPLDestroyXMLNode() to clean up before returning NULL in Open() 


Thanks,
Shawn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100601/5a9301ff/attachment.html
From christian.mueller at nvoe.at  Tue Jun  1 23:21:32 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Tue Jun  1 23:21:43 2010
Subject: [gdal-dev] Pretty Much Off Topic: Development IDEs
In-Reply-To: <4C0536BA.6000400@geograph.co.za>
References: <4C0536BA.6000400@geograph.co.za>
Message-ID: <20100602052132.cojfmflpuskwoks8@webmail.nvoe.at>

Hi, I am also a fan of working in the command line. (vi is one of my friends)

I use eclipse which is very powerful. Most of the time I am doing  
Java, but I also used eclipse for programming python and there is  
support for C++/C too.

Java / python really makes your life easier. The only reason for  
working with C is performance for image operations, but most of them  
are already there and bindings for higher level languages are supported.

I also use ubuntu 10.04, so try a

apt-cache search eclipse

to see what is already there.





Quoting Zoltan Szecsei <zoltans@geograph.co.za>:

> Cross posted with gdal-dev and ossim-developer
>
> Hi Everyone,
> Please indulge me in this slightly off topic question.
> As I have spent the last many years of my GIS life programming in a
> (linux BASH-like) scripting language, I am somewhat out of date with
> Linux development environments.
> I last programmed many years back, in C using Visual Studio 95 and
> "flat C" on Linux command line - no fancy "make" or anything.
>
> I want to migrate my Linux based GIS workflows onto OpenSource
> projects, using a mix of gdal/proj4/ossim and maybe GRASS - as the need
> and mood grabs me.
>
> I have just loaded Ubuntu 10.04 64 bit as my platform, and ask if
> anyone is willing to let me know what development environments they
> program in.
>
> I'm looking to write graphical (over orthos/satelite images) digitising
> routines, ie: display/edit/capture vectors on/in image windows, catch
> mouse, keyboard and maybe joystick events. Maybe even stereo (3D)
> capture too.
> I am not a fan of GUI data capture, so whilst this looks much like
> reinventing the wheel, I don't think it is, and hence I am unlikely to
> see the benefit of  "tacking onto" projects like QGIS etc.
>
> I'd be grateful to know what you guys use for programming. (I'll
> probably stick with C as I have no experience with Java, Python or
> other languages).
>
> Thanks in advance,
> Zoltan
>
> -- 
>
> ===========================================
> Zoltan Szecsei PrGISc [PGP0031]
> Geograph (Pty) Ltd.
> P.O. Box 7, Muizenberg 7950, South Africa.
>
> 65 Main Road, Muizenberg 7945
> Western Cape, South Africa.  34? 6'16.35"S 18?28'5.62"E Tel:   
> +27-21-7884897  Mobile: +27-83-6004028
> Fax: +27-86-6115323     www.geograph.co.za
> ===========================================
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From weixj2003ld at 163.com  Tue Jun  1 23:55:28 2010
From: weixj2003ld at 163.com (=?gbk?B?uMrL4KGjy7zUtg==?=)
Date: Wed Jun  2 00:10:47 2010
Subject: [gdal-dev] satellite photo height  data
Message-ID: <177c84d.17ab4.128f6ccaca4.Coremail.weixj2003ld@163.com>

I want to get(download) the satellite photo height  data(maybe .img or dem,I think) of the two following areas,who help me?
 

1. Latitude :   44.750373989-----44.879927098                   

    Longitude: 86.797943335------86.932148806

2.

Latitude   41d38'34''N ------41d50'12''N

Longitude 81d29'35''E------81d37'38''E

Thank u in advances. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100602/2b37d122/attachment-0001.html
From chaitanya.ch at gmail.com  Wed Jun  2 00:40:43 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Jun  2 00:40:46 2010
Subject: [gdal-dev] satellite photo height data
In-Reply-To: <177c84d.17ab4.128f6ccaca4.Coremail.weixj2003ld@163.com>
References: <177c84d.17ab4.128f6ccaca4.Coremail.weixj2003ld@163.com>
Message-ID: <AANLkTilStkG0m4z7jY8UpMB7_uTbBUQAy8a9DKiPwBah@mail.gmail.com>

weixj2003ld,

First you have to locate the corner pixels corresponding to the lat/longs
you indicated. Go through (http://www.gdal.org/ogr/osr_tutorial.html) to do
that. Use "WGS84" system for lat/longs.

Use GDALRasterIO() (http://www.gdal.org/gdal_tutorial.html) to retrieve the
pixels from the required area.

2010/6/2 ????? <weixj2003ld@163.com>

> I want to get(download) the satellite photo height  data(maybe .img or
> dem,I think) of the two following areas,who help me?
>
>
> 1. Latitude :   44.750373989-----44.879927098
>
>     Longitude: 86.797943335------86.932148806
>
>  2.
>
> Latitude   41d38'34''N ------41d50'12''N
>
> Longitude 81d29'35''E------81d37'38''E
> Thank u in advances.
>
>
> ------------------------------
> ????????????????????? <http://ym.163.com/?from=od3>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100602/0b259b37/attachment.html
From chaitanya.ch at gmail.com  Wed Jun  2 00:44:38 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Jun  2 00:44:41 2010
Subject: [gdal-dev] Convert shp to gml file
In-Reply-To: <C82B09FC.17FA4%james.e.hopper@saic.com>
References: <4C056866.8090204@pobox.com>
	<C82B09FC.17FA4%james.e.hopper@saic.com>
Message-ID: <AANLkTik4R2iNjzQHObEVYAKjYedfvjrhSpAnMVzZS68-@mail.gmail.com>

Jim,

GML driver doesn't support reporting of the geometry type for the layer.
However, you will get the right geometry when you ask for the geometry
itself. Try "ogrinfo -al test.gml" and check the reported geometries.

On Wed, Jun 2, 2010 at 4:33 AM, jim hopper <JAMES.E.HOPPER@saic.com> wrote:

> Ok, I got gdal rebuilt with xercesc support, and I can read it with
> ogrinfo.
> But it says:
>
> Had to open data source read-only.
> INFO: Open of `test.gml'
>      using driver `GML' successful.
>
> Layer name: ford_plant_2d_bldgs
> Geometry: Unknown (any)
>
> But the original shape file does have geometry:
>
> INFO: Open of `ford_plant_2d_bldgs.shp'
>      using driver `ESRI Shapefile' successful.
>
> Layer name: ford_plant_2d_bldgs
> Geometry: Polygon
> Feature Count: 2531
> Extent: (370010.126533, 4337857.290364) - (372942.794685, 4341771.522431)
> Layer SRS WKT:
> PROJCS["WGS_1984_UTM_Zone_15N",
>    GEOGCS["GCS_WGS_1984",
>        DATUM["WGS_1984",
>            SPHEROID["WGS_1984",6378137.0,298.257223563]],
>        PRIMEM["Greenwich",0.0],
>        UNIT["Degree",0.0174532925199433]],
>    PROJECTION["Transverse_Mercator"],
>    PARAMETER["False_Easting",500000.0],
>    PARAMETER["False_Northing",0.0],
>    PARAMETER["Central_Meridian",-93.0],
>    PARAMETER["Scale_Factor",0.9996],
>    PARAMETER["Latitude_Of_Origin",0.0],
>    UNIT["Meter",1.0]]
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100602/d6fc9861/attachment.html
From weixj2003ld at 163.com  Wed Jun  2 05:40:41 2010
From: weixj2003ld at 163.com (=?gbk?B?uMrL4KGjy7zUtg==?=)
Date: Wed Jun  2 05:55:55 2010
Subject: [gdal-dev] satellite photo height data
In-Reply-To: <AANLkTin_LOqae_9Qee1eSRTG1oxFj5LN6weOkGFXEfFt@mail.gmail.com>
References: <AANLkTin_LOqae_9Qee1eSRTG1oxFj5LN6weOkGFXEfFt@mail.gmail.com>
	<177c84d.17ab4.128f6ccaca4.Coremail.weixj2003ld@163.com>
	<AANLkTilStkG0m4z7jY8UpMB7_uTbBUQAy8a9DKiPwBah@mail.gmail.com>
	<a4de87.1a57d.128f7612ca6.Coremail.weixj2003ld@163.com>
Message-ID: <16c219c.1459d.128f808bcef.Coremail.weixj2003ld@163.com>

The file contains the satellite photo height  data one area,in my case,it contains the areas of two case.


?2010-06-02 17:33:10?"Chaitanya kumar CH" <chaitanya.ch@gmail.com> ???
Which file is that?


2010/6/2 ????? <weixj2003ld@163.com>

Thk u for your answer.
Maybe I have not descript my question clearly.
I can not get the file(which is dem file?) of the the satellite photo height  in the following areas:

1. Latitude :   44.750373989-----44.879927098                   

    Longitude: 86.797943335------86.932148806

2.

Latitude   41d38'34''N ------41d50'12''N

Longitude 81d29'35''E------81d37'38''E

some one tell me some web address,but I do not know how to download it(my English is not good),could you download it for me and send it to me by e-mail.

thk u.


weixj2003ld,

First you have to locate the corner pixels corresponding to the lat/longs you indicated. Go through (http://www.gdal.org/ogr/osr_tutorial.html) to do that. Use "WGS84" system for lat/longs.

Use GDALRasterIO() (http://www.gdal.org/gdal_tutorial.html) to retrieve the pixels from the required area.


2010/6/2 ????? <weixj2003ld@163.com>

I want to get(download) the satellite photo height  data(maybe .img or dem,I think) of the two following areas,who help me?
 

1. Latitude :   44.750373989-----44.879927098                   

    Longitude: 86.797943335------86.932148806

2.

Latitude   41d38'34''N ------41d50'12''N

Longitude 81d29'35''E------81d37'38''E

Thank u in advances. 



?????????????????????
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev




-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/ 
+91-9848167848
17.2416N 80.1426E



?????????????????????



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/ 
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100602/8e64dbaa/attachment.html
From j.donovan at virtalis.com  Wed Jun  2 06:12:16 2010
From: j.donovan at virtalis.com (John Donovan)
Date: Wed Jun  2 06:12:21 2010
Subject: [gdal-dev] satellite photo height  data
References: <177c84d.17ab4.128f6ccaca4.Coremail.weixj2003ld@163.com>
Message-ID: <C8891C79DFCAB347B9221DF3890EDD2F5DFF33@topdog.Virtalis.local>

You might want to look here for the 90m SRTM data of most of the world:
http://srtm.csi.cgiar.org/SELECTION/inputCoord.asp
=20
It was quite slow when I visited it just now, but it's worth persevering.

If you want higher resolution data, you will have to look elsewhere.
=20
-JD

________________________________

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osge=
o.org] On Behalf Of ?????
Sent: 02 June 2010 04:55
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] satellite photo height data


I want to get(download) the satellite photo height  data(maybe .img or dem=
,I think) of the two following areas,who help me?
=20

1. Latitude :   44.750373989-----44.879927098                  =20

    Longitude: 86.797943335------86.932148806

2.

Latitude   41d38'34''N ------41d50'12''N

Longitude 81d29'35''E------81d37'38''E

Thank u in advances.=20


________________________________

=CD=F8=D2=D7=CE=AA=D6=D0=D0=A1=C6=F3=D2=B5=C3=E2=B7=D1=CC=E1=B9=A9=C6=F3=D2=
=B5=D3=CA=CF=E4=A3=A8=D7=D4=D6=F7=D3=F2=C3=FB=A3=A9 <http://ym.163.com/?fr=
om=3Dod3> =20
______________________________________________________________________
This email has been scanned for Virtalis Ltd by the MessageLabs Email Secu=
rity System.
______________________________________________________________________


______________________________________________________________________
This email has been scanned for Virtalis Ltd by the MessageLabs Email Secu=
rity System. _____________________________________________________________=
_________
From mitchelljj98 at gmail.com  Wed Jun  2 11:39:44 2010
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Wed Jun  2 11:39:47 2010
Subject: [gdal-dev] Does anyone have built/compiled 64 bit versions of
	either FWTools or gdal
Message-ID: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>

Does anyone have built/compiled 64 bit versions of either FWTools or gdal for:
 a.) Windows 64 bit
 b.) Linux 64 bit

Thanks,

John

-- 
John J. Mitchell
From warmerdam at pobox.com  Wed Jun  2 12:03:56 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun  2 12:04:01 2010
Subject: [gdal-dev] Does anyone have built/compiled 64 bit versions of
	either FWTools or gdal
In-Reply-To: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>
References: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>
Message-ID: <4C0680EC.6030002@pobox.com>

John Mitchell wrote:
> Does anyone have built/compiled 64 bit versions of either FWTools or gdal for:
>  a.) Windows 64 bit

John,

Tamas maintains win64 builds at:

   http://vbkto.dyndns.org/sdk/

>  b.) Linux 64 bit

I'm not aware of 64bit builds except possibly through repositories like
DebianGIs.  However, it really isn't that hard to build!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jorge.arevalo at deimos-space.com  Wed Jun  2 12:11:20 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Wed Jun  2 12:11:45 2010
Subject: [gdal-dev] Re: [postgis-devel] Compiling PostGIS + GDAL + WKT
	Raster in Windows with MinGW
In-Reply-To: <87A96661E65C5541AB4D20721C2DD7F8809B1D5B8F@EXCH-MBX-A.ulaval.ca>
References: <AANLkTiljfACP78SHdV3fZ178ghPfGctIgsIWhsGvbgTw@mail.gmail.com> 
	<87A96661E65C5541AB4D20721C2DD7F8809B1D5B8F@EXCH-MBX-A.ulaval.ca>
Message-ID: <AANLkTim5SbPiuel72SVe-F_b7BuhjNHs2Mfxi3gdWE0z@mail.gmail.com>

On Tue, Jun 1, 2010 at 4:55 PM, Pierre Racine
<Pierre.Racine@sbf.ulaval.ca> wrote:
> Try with GDAL 1.7.1 instead... this is the I could compile with (--without-libtool).
>
Many thanks, Pierre. At the end, it compiled with GDAL 1.7.1. Now, the
problem is a pretty

ERROR: could not load library "c:/postgres/lib/rtpostgis.dll": The
specified module could not be found

while executing rtpostgis.sql. The file rtpostgis.dll does exist in
its location (c:/postgres/lib). And I've tested with:

- Copying rtpostgis.dll to /c/postgres/bin (I had to do something
similar with libpq.dll)
- Setting LIBDIR to "/c/postgres/lib" and "c:/postgres/lib" and
restarting the server

It didn't work. Any ideas?

Thanks again, and best regards,
Jorge

>>-----Original Message-----
>>From: postgis-devel-bounces@postgis.refractions.net [mailto:postgis-devel-
>>bounces@postgis.refractions.net] On Behalf Of Jorge Ar?valo
>>Sent: 31 mai 2010 07:42
>>To: gdal-dev@lists.osgeo.org; PostGIS Development Discussion
>>Subject: [postgis-devel] Compiling PostGIS + GDAL + WKT Raster in Windows with MinGW
>>
>>Hello,
>>
>>I'm trying to compile WKT Raster [1] in Windows using MinGW 5.1.6. I
>>compiled PostgreSQL 8.4.3, PostGIS 1.4.2 and GDAL 1.7.2 properly
>>following these instructions:
>>
>>http://trac.osgeo.org/gdal/wiki/BuildingWithMinGW (for GDAL)
>>http://trac.osgeo.org/postgis/wiki/UsersWikiWinCompile (for PostgreSQL
>>+ PostGIS)
>>
>>Now I'm trying to compile WKT Raster, but I get thousands of messages
>>"undefined reference to..." in libgdal.a (one of the files WKT Raster
>>is trying to link to). Seems to be a problem of "naming convention",
>>or similar. For example, one of the error messages is:
>>
>>undefined reference to `GEOSOverlaps'
>>
>>If I execute nm libgdal.a | grep "GEOSOverlaps", I get this:
>>
>>U _GEOSOverlaps
>>
>>With an underscore before function's name. I think that's the problem,
>>because if I execute the same command in a Linux machine, where I
>>succeeded to compile WKT Raster, I get:
>>
>>U GEOSOverlaps
>>
>>Without underscore. The name expected.
>>
>>Am I right? Any clues on how to solve this problem with MinGW? I
>>attach a build log file
>>
>>Many thanks in advance.
>>
>>Best regards,
>>
>>--
>>Jorge Ar?valo
>>DEIMOS Space
>>Internet & Mobilty Division
>>Ronda de Poniente 19. Edificio Fiteni VI, portal 2, 2?
>>28760 Tres Cantos (Madrid)
>>Tel: +34 91 806 34 50 - ext: 155
>>jorge.arevalo@deimos-space.com
>>
>>[1] http://trac.osgeo.org/postgis/wiki/WKTRaster
> _______________________________________________
> postgis-devel mailing list
> postgis-devel@postgis.refractions.net
> http://postgis.refractions.net/mailman/listinfo/postgis-devel
>
From ari.jolma at gmail.com  Wed Jun  2 14:09:19 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed Jun  2 14:09:30 2010
Subject: [gdal-dev] Does anyone have built/compiled 64 bit versions of
	either FWTools or gdal
In-Reply-To: <4C0680EC.6030002@pobox.com>
References: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>
	<4C0680EC.6030002@pobox.com>
Message-ID: <4C069E4F.5080501@gmail.com>

Frank Warmerdam kirjoitti:
> John Mitchell wrote:
>> Does anyone have built/compiled 64 bit versions of either FWTools or 
>> gdal for:
>>  a.) Windows 64 bit
>
> John,
>
> Tamas maintains win64 builds at:
>
>   http://vbkto.dyndns.org/sdk/
>
>>  b.) Linux 64 bit
>
> I'm not aware of 64bit builds except possibly through repositories like
> DebianGIs.  However, it really isn't that hard to build!

I run a regular (nightly) build of GDAL & its Perl bindings as a part of 
Geoinformatica stack on 64bit RHEL. The build log is available at 
http://geoinformatics.tkk.fi/files/Geoinformatica/snapshots/build.log

The build is vanilla configure without any tricks and without any 
problems recently.

Ari

From Jose.Lopes at AGR.GC.CA  Wed Jun  2 14:14:58 2010
From: Jose.Lopes at AGR.GC.CA (Lopes, Jose)
Date: Wed Jun  2 14:15:01 2010
Subject: [gdal-dev] GeoJSON2SHP and SHP2GeoJSON Java library
In-Reply-To: <4C05681B.8080604@pobox.com>
Message-ID: <8E5471DB13993145A6D9183ED4DBC2D082858D@onottaxms8.AGR.GC.CA>


Yes Frank,

This is exactly where I am. 

I got GeoTools to interpret a generic TYPE in a CSV file and generate
shapefiles (this is a starters tutorial...)

Now I want to move from a generic TYPE to a GeoJSON grammar interpreter
that would input into the GeoTools shapefile facility.

I just didn't want to reinvent the wheel if it was already out there...

Thanks for your attention Frank, if you don't know it, maybe there isn't
any and it would be a good project to start...   

Jose Lopes
-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: June 1, 2010 4:06 PM
To: Lopes, Jose
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GeoJSON2SHP and SHP2GeoJSON Java library

Lopes, Jose wrote:
> Hi,
> 
>  
> 
> I am searching for a pure Java library to convert GeoJSON objects into

> ESRI Shapefiles and vice-versa, preferably open source...
> 
>  
> 
> Up to the moment I found only ogr2ogr with Java binding and the ArcGIS
tools to do this task.
> 
>  
> 
> But I think somebody out there should have made this before with a
pure Java library that can be used independently of any other COTS or
exe, like a jar file...
> 
>  
> 
> Does anybody know of any project like that?

Jose,

I would suggest looking at GeoTools.  It has at least good shapefile
code.
It may also have GeoJSON support.  If not, you might have to implement
that
part yourself.

Good luck,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From matt.wilkie at gov.yk.ca  Wed Jun  2 14:16:12 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Jun  2 14:16:34 2010
Subject: [gdal-dev] Pretty Much Off Topic: Development IDEs
In-Reply-To: <20100602052132.cojfmflpuskwoks8@webmail.nvoe.at>
References: <4C0536BA.6000400@geograph.co.za>
	<20100602052132.cojfmflpuskwoks8@webmail.nvoe.at>
Message-ID: <4C069FEC.6090608@gov.yk.ca>

Perhaps not an IDE as most people think of them, but it is certainly a 
useful tool with some IDE qualities: Leo Outlining Editor - 
http://webpages.charter.net/edreamleo/front.html

cheers,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From neteler at osgeo.org  Wed Jun  2 14:16:24 2010
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Jun  2 14:16:47 2010
Subject: [gdal-dev] Pretty Much Off Topic: Development IDEs
In-Reply-To: <20100602052132.cojfmflpuskwoks8@webmail.nvoe.at>
References: <4C0536BA.6000400@geograph.co.za>
	<20100602052132.cojfmflpuskwoks8@webmail.nvoe.at>
Message-ID: <AANLkTin9uNOG8Vxp3F2KDig-Syi2nQPTDZK5qn5nuDe7@mail.gmail.com>

On Wed, Jun 2, 2010 at 5:21 AM,  <christian.mueller@nvoe.at> wrote:
> Hi, I am also a fan of working in the command line. (vi is one of my
> friends)
>
> I use eclipse which is very powerful. Most of the time I am doing Java, but
> I also used eclipse for programming python and there is support for C++/C
> too.
>
> Java / python really makes your life easier. The only reason for working
> with C is performance for image operations, but most of them are already
> there and bindings for higher level languages are supported.
>
> I also use ubuntu 10.04, so try a
>
> apt-cache search eclipse
>
> to see what is already there.

Some related example:

http://grass.osgeo.org/wiki/Eclipse
http://grass.osgeo.org/wiki/Using_Eclipse_to_develop_GRASS_Python_programs

Markus

-- 
http://gis.ambiente.fmach.it/
From ivan.lucena at pmldnet.com  Wed Jun  2 14:28:41 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Wed Jun  2 14:28:44 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gUHJldHR5IE11Y2ggT2ZmIFRvcGljOiBEZXZlbG9wbWVudCBJREVz?=
Message-ID: <20100602182841.30526.qmail@s466.sureserver.com>

About IDE only: I would say that NetBeans with GDAL, OSSIM, QGIS, TerraLib or any other C++ project is pretty simple to setup. You do a "create project based on existing code" pointing to the main makefile and the whole source code structure comes alive. You can then build and use interactive debugger, integrated SVN/CVS tools like diff, update and commit. The code editor is pretty smart too with some useful refactoring tools.

http://trac.osgeo.org/gdal/wiki/BuildingOnUnixWithNetBeansIDE

Regards.

>  -------Original Message-------
>  From: Matt Wilkie <matt.wilkie@gov.yk.ca>
>  To: gdal-dev@lists.osgeo.org
>  Subject: Re: [gdal-dev] Pretty Much Off Topic: Development IDEs
>  Sent: Jun 02 '10 13:16
>  
>  Perhaps not an IDE as most people think of them, but it is certainly a
>  useful tool with some IDE qualities: Leo Outlining Editor -
>  http://webpages.charter.net/edreamleo/front.html
>  
>  cheers,
>  
>  matt wilkie
>  --------------------------------------------
>  Geomatics Analyst
>  Information Management and Technology
>  Yukon Department of Environment
>  10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
>  867-667-8133 Tel * 867-393-7003 Fax
>  http://environmentyukon.gov.yk.ca/geomatics/
>  --------------------------------------------
>  
>  
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From jluis at ualg.pt  Wed Jun  2 14:37:20 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Jun  2 14:37:28 2010
Subject: [gdal-dev] Does anyone have built/compiled 64 bit versions of
	either FWTools or gdal
In-Reply-To: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>
References: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>
Message-ID: <4C06A4E0.1030606@ualg.pt>

On 02-06-2010 16:39, John Mitchell wrote:
> Does anyone have built/compiled 64 bit versions of either FWTools or gdal for:
>   a.) Windows 64 bit
>    

I do that +/- regularly on Win7 with VS2010. No problem at all. The main 
work was to compile all other libs that I link gdal with.

Joaquim

>   b.) Linux 64 bit
>
> Thanks,
>
> John
>
>    

From massimodisasha at gmail.com  Wed Jun  2 16:09:06 2010
From: massimodisasha at gmail.com (Massimo Di Stefano)
Date: Wed Jun  2 16:21:03 2010
Subject: [OSSIM] [gdal-dev] Pretty Much Off Topic: Development IDEs
In-Reply-To: <4C067FB1.1070604@wildintellect.com>
References: <4C0536BA.6000400@geograph.co.za>
	<20100602052132.cojfmflpuskwoks8@webmail.nvoe.at>
	<4C067FB1.1070604@wildintellect.com>
Message-ID: <E303F89F-A339-4088-8058-054C8B7EB0E6@gmail.com>

I'm using :

Spyder [1]
as matlab replacement, it's a relative young project,
has a *lot* of nice feature (see its web page) 
like embedded matplotlib, data storage in table (with ) graph sometime i start it from the grass shell
to work directly inside a "grass environment"

and as a simple and lightweight editor i use 
Editra [2]
it can run python script, nvavigate trough class, autocompletition etc..
it is really fast when i need to open large files.

while i had bad performance using Eric when i try to load large files.

[1] :  http://packages.python.org/spyder/
[2] : http://editra.org/


Il giorno 02/giu/2010, alle ore 17.58, Alex Mandel ha scritto:

> Python - ERIC or SPE(Stani's Python Editor)
> C++ - Code::Blocks looks very good (I do little C/C++ but this looks
> really good)
> 
> Eclipse was quite obnoxious and a hog for anything other than JAVA in my
> experience.
> 
> All of these are in the Ubuntu repos, though for the python editors
> since they're written in python getting newer versions might be worthwhile.
> 
> Enjoy,
> Alex
> 
> On 06/01/2010 08:21 PM, christian.mueller@nvoe.at wrote:
>> Hi, I am also a fan of working in the command line. (vi is one of my friends)
>> 
>> I use eclipse which is very powerful. Most of the time I am doing  
>> Java, but I also used eclipse for programming python and there is  
>> support for C++/C too.
>> 
>> Java / python really makes your life easier. The only reason for  
>> working with C is performance for image operations, but most of them  
>> are already there and bindings for higher level languages are supported.
>> 
>> I also use ubuntu 10.04, so try a
>> 
>> apt-cache search eclipse
>> 
>> to see what is already there.
>> 
>> 
>> 
>> 
>> 
>> Quoting Zoltan Szecsei <zoltans@geograph.co.za>:
>> 
>>> Cross posted with gdal-dev and ossim-developer
>>> 
>>> Hi Everyone,
>>> Please indulge me in this slightly off topic question.
>>> As I have spent the last many years of my GIS life programming in a
>>> (linux BASH-like) scripting language, I am somewhat out of date with
>>> Linux development environments.
>>> I last programmed many years back, in C using Visual Studio 95 and
>>> "flat C" on Linux command line - no fancy "make" or anything.
>>> 
>>> I want to migrate my Linux based GIS workflows onto OpenSource
>>> projects, using a mix of gdal/proj4/ossim and maybe GRASS - as the need
>>> and mood grabs me.
>>> 
>>> I have just loaded Ubuntu 10.04 64 bit as my platform, and ask if
>>> anyone is willing to let me know what development environments they
>>> program in.
>>> 
>>> I'm looking to write graphical (over orthos/satelite images) digitising
>>> routines, ie: display/edit/capture vectors on/in image windows, catch
>>> mouse, keyboard and maybe joystick events. Maybe even stereo (3D)
>>> capture too.
>>> I am not a fan of GUI data capture, so whilst this looks much like
>>> reinventing the wheel, I don't think it is, and hence I am unlikely to
>>> see the benefit of  "tacking onto" projects like QGIS etc.
>>> 
>>> I'd be grateful to know what you guys use for programming. (I'll
>>> probably stick with C as I have no experience with Java, Python or
>>> other languages).
>>> 
>>> Thanks in advance,
>>> Zoltan
>>> 
>> 
> 
> 
> ------------------------------------------------------------------------------
> 
> _______________________________________________
> www.ossim.org
> Ossim-developer mailing list
> Ossim-developer@lists.sourceforge.net
> https://lists.sourceforge.net/lists/listinfo/ossim-developer

From doug.royce.white at gmail.com  Thu Jun  3 06:08:16 2010
From: doug.royce.white at gmail.com (Doug White)
Date: Thu Jun  3 06:08:09 2010
Subject: [gdal-dev] Does anyone have built/compiled 64 bit versions of either
	FWTools or gdal
Message-ID: <4C077F10.6000003@gmail.com>

John,

I have compiled GDAL 1.7.2, released 2010/04/23 on the following...

cat /etc/fedora-release
Fedora release 10 (Cambridge)

Linux dougwh 2.6.27.35-170.2.94.fc10.x86_64 #1 SMP Thu Oct 1 14:41:38 
EDT 2009 x86_64 x86_64 x86_64 GNU/Linux

/home/dougw/gdal-1.7.2 $ ./configure 
--with-mrsid=/usr/local/Geo_DSDK-7.0.0.2167 --with-geotiff=internal 
--with-python --with-ecw=/usr/local --with-libtiff=internal 
--with-jasper=/usr/local --with-jpeg=internal --with-static-proj4=/usr 
--with-local=/usr/local

No issues so far but I have been doing most of my work on 32bit laptop.

Doug.

From zoltans at geograph.co.za  Thu Jun  3 09:19:38 2010
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Thu Jun  3 09:19:58 2010
Subject: [gdal-dev] Re: Pretty Much Off Topic: Development IDEs - Summary &
	Thanks.
In-Reply-To: <4C0536BA.6000400@geograph.co.za>
References: <4C0536BA.6000400@geograph.co.za>
Message-ID: <4C07ABEA.40905@geograph.co.za>

Hi All,

Big thanks to everyone who responded - very few came directly to me so 
there is no point doing a summary discussion as this thread is available 
to all on both lists..

Kind regards,
Zoltan


Zoltan Szecsei wrote:
> Cross posted with gdal-dev and ossim-developer
>
> Hi Everyone,
> Please indulge me in this slightly off topic question.
> As I have spent the last many years of my GIS life programming in a 
> (linux BASH-like) scripting language, I am somewhat out of date with 
> Linux development environments.
> I last programmed many years back, in C using Visual Studio 95 and 
> "flat C" on Linux command line - no fancy "make" or anything.
>
> I want to migrate my Linux based GIS workflows onto OpenSource 
> projects, using a mix of gdal/proj4/ossim and maybe GRASS - as the 
> need and mood grabs me.
>
> I have just loaded Ubuntu 10.04 64 bit as my platform, and ask if 
> anyone is willing to let me know what development environments they 
> program in.
>
> I'm looking to write graphical (over orthos/satelite images) 
> digitising routines, ie: display/edit/capture vectors on/in image 
> windows, catch mouse, keyboard and maybe joystick events. Maybe even 
> stereo (3D) capture too.
> I am not a fan of GUI data capture, so whilst this looks much like 
> reinventing the wheel, I don't think it is, and hence I am unlikely to 
> see the benefit of  "tacking onto" projects like QGIS etc.
>
> I'd be grateful to know what you guys use for programming. (I'll 
> probably stick with C as I have no experience with Java, Python or 
> other languages).
>
> Thanks in advance,
> Zoltan
>


-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.  

34? 6'16.35"S 18?28'5.62"E 

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323     www.geograph.co.za
===========================================

From timrobertson100 at gmail.com  Thu Jun  3 14:31:28 2010
From: timrobertson100 at gmail.com (Tim Robertson)
Date: Thu Jun  3 14:31:34 2010
Subject: [gdal-dev] Help with gdal_grid
Message-ID: <AANLkTimYyKjznxIIdJ0-0-nNSuCoZClblgkKfzP957nb@mail.gmail.com>

Hi all,

I am a complete newbie and trying to generate a geotiff from point
data in csv but am not able to generate a valid geotiff.

I am using:
$ gdalinfo --version
GDAL 1.7.2, released 2010/04/23

The CSV is of the form:
  Latitude,Longitude,Cell id
  -71.829,-40.6,6619
  -68.9414,-50.3435,7689
  -68.9414,-50.3435,7689
  -68.9397,-50.2087,7689

and I have a VRT:
  <OGRVRTDataSource>
    <OGRVRTLayer name="puma">
        <SrcDataSource>puma.csv</SrcDataSource>
        <GeometryType>wkbPoint</GeometryType>
        <!-- not entirely sure what the z is for but ultimately want
to set color based on number of points in grid-->
        <GeometryField encoding="PointFromColumns" x="Longitude"
y="Latitude" z="Cell id"/>
    </OGRVRTLayer>
  </OGRVRTDataSource>

When I run it I do:

$ gdal_grid -a invdist -txe -180 180 -tye -90 90 -outsize 400 400 -of
GTiff -ot Float64 -l puma puma.vrt puma.tiff
Grid data type is "Float64"
Grid size = (400 400).
Corner coordinates = (-180.450000 90.225000)-(180.450000 -90.225000).
Grid cell size = (0.900000 0.450000).
Source point count = 787.
Algorithm name: "invdist".
Options are "power=2.000000:smoothing=0.000000:radius1=0.000000:radius2=0.000000:angle=0.000000:max_points=0:min_points=0:nodata=0.000000"

0...10...20...30...40...50...60...70...80...90...0...10...20...30...40...50...60...70...80...90...0...10...20...30...40...50...60...70...80...90...0...10...20...30...40...50...60...70...80...90...0...10...20...30...40...50...60...70...80...90...0...10...20...30...40...50...60...70...80...90...100
- done.
$


But the resulting file is not a valid geotiff (Mac preview and
Geoserver are unable to open it)

This really is my first venture into gdal, so any assistance would be
very gratefully received.

Many thanks,
Tim
From even.rouault at mines-paris.org  Thu Jun  3 16:43:26 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Jun  3 16:43:56 2010
Subject: [gdal-dev] Help with gdal_grid
In-Reply-To: <AANLkTimYyKjznxIIdJ0-0-nNSuCoZClblgkKfzP957nb@mail.gmail.com>
References: <AANLkTimYyKjznxIIdJ0-0-nNSuCoZClblgkKfzP957nb@mail.gmail.com>
Message-ID: <201006032243.27925.even.rouault@mines-paris.org>

I'd be suprised that the produced GeoTIFF is "invalid". One possibility could 
be that Mac preview and Geoserver cannot handle 64bit floating points 
GeoTIFF, which is a far less common formulation than 8bit or 16bit GeoTIFF. 
Or that they have certain requirements (for example you could try to specify 
the SRS with -a_srs in case one of them requires it). I'm just guessing 
randomly. Best should be to ask the mailing lists of those software.

Le Thursday 03 June 2010 20:31:28 Tim Robertson, vous avez ?crit?:
> Mac preview and
> Geoserver


From timrobertson100 at gmail.com  Fri Jun  4 01:52:04 2010
From: timrobertson100 at gmail.com (Tim Robertson)
Date: Fri Jun  4 01:52:06 2010
Subject: [gdal-dev] Help with gdal_grid
In-Reply-To: <201006032243.27925.even.rouault@mines-paris.org>
References: <AANLkTimYyKjznxIIdJ0-0-nNSuCoZClblgkKfzP957nb@mail.gmail.com>
	<201006032243.27925.even.rouault@mines-paris.org>
Message-ID: <AANLkTilPCMBC1loQkWDBr-XHOYX7CfbgC5oiL8Zbhw1B@mail.gmail.com>

Thank you very much Even,

Indeed Int16 makes Mac and Geoserver happy.  Now I am on to the next
task which is assigning some colors.





On Thu, Jun 3, 2010 at 10:43 PM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> I'd be suprised that the produced GeoTIFF is "invalid". One possibility could
> be that Mac preview and Geoserver cannot handle 64bit floating points
> GeoTIFF, which is a far less common formulation than 8bit or 16bit GeoTIFF.
> Or that they have certain requirements (for example you could try to specify
> the SRS with -a_srs in case one of them requires it). I'm just guessing
> randomly. Best should be to ask the mailing lists of those software.
>
> Le Thursday 03 June 2010 20:31:28 Tim Robertson, vous avez ?crit?:
>> Mac preview and
>> Geoserver
>
>
>
From anders.moe at geocap.no  Fri Jun  4 04:08:32 2010
From: anders.moe at geocap.no (Anders Moe)
Date: Fri Jun  4 04:08:34 2010
Subject: [gdal-dev] OGR/SQLite : SELECT GEOMETRY failes on layer copy
Message-ID: <AANLkTinoQ_JL0QLsm5LPblidvp4H6T8j10UlOgOh9oX8@mail.gmail.com>

Hi everyone

I'm using OGR with the SQLite driver, calling

OGR::DataSource::ExecuteSQL ()

By examining the sqlite file I've discovered that the geometry column is
named , well, GEOMETRY.

So I do something like

SELECT name, GEOMETRY as G from world

which gives me a resulting layer with these two columns. But when copying
that layer using

OGRDataSource::CopyLayer  ( )

I'm getting

In GetNextRawFeature(): sqlite3_step() : not an error

I guess that the geometry BLOB column is not recognized as geometry during
the copy, maybe.

So : Does anyone know how to do these kinds of SQL operations that preserve
the geometry column in a way that can be used in subsequent operations, like
layer copying ?

 Also, the OGRAPI does not seem to support any notion of geometry column
name. Anyone know a way around this ?


Cheers,
Anders
-- 

________________________________________________________

Anders Moe

Technical Manager
Geocap
w: +47 22 95 56 66
anders.moe@geocap.no
________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100604/3e657913/attachment.html
From ivan at sanchezortega.es  Fri Jun  4 04:37:59 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Fri Jun  4 04:38:06 2010
Subject: [gdal-dev] Compiling GDAL --with-oci
Message-ID: <4C08BB67.4010308@sanchezortega.es>

Hi all,

I'm trying to compile GDAL with Oracle support.

I'm using a Debian box, with the "oracle-xe-client" package installed 
from the Oracle repo ("deb http://oss.oracle.com/debian unstable main 
non-free"). Version is 10.2.0.

The GDAL source files are a fresh SVN checkout from two days ago.


The problem:

Running "./configure --with-oci" results in the following:

checking for Oracle OCI headers in 
/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/rdbms/public... 
header not found


However, that directory (which is inside $ORACLE_HOME) does indeed 
contain headers:

ivan@debian:/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/rdbms/public$ 
ls -l
total 1460
-rw-r--r-- 1 oracle dba  33230 feb 24  2006 nzerror.h
-rw-r--r-- 1 oracle dba  85310 feb 24  2006 nzt.h
-rw-r--r-- 1 oracle dba  11600 feb 24  2006 occiAQ.h
-rw-r--r-- 1 oracle dba  38630 feb 24  2006 occiCommon.h
(etc)


What should I do now? Does GDAL not support linking against Oracle 10.2.0?

Best,
-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From mateusz at loskot.net  Fri Jun  4 04:46:35 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Jun  4 04:43:24 2010
Subject: [gdal-dev] Compiling GDAL --with-oci
In-Reply-To: <4C08BB67.4010308@sanchezortega.es>
References: <4C08BB67.4010308@sanchezortega.es>
Message-ID: <4C08BD6B.8010808@loskot.net>

On 04/06/10 09:37, Iv?n S?nchez Ortega wrote:
> The problem:
>
> Running "./configure --with-oci" results in the following:
>
> checking for Oracle OCI headers in
> /usr/lib/oracle/xe/app/oracle/product/10.2.0/server/rdbms/public...
> header not found
>
>
> However, that directory (which is inside $ORACLE_HOME) does indeed
> contain headers:
>
> ivan@debian:/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/rdbms/public$
> ls -l
> total 1460
> -rw-r--r-- 1 oracle dba 33230 feb 24 2006 nzerror.h
> -rw-r--r-- 1 oracle dba 85310 feb 24 2006 nzt.h
> -rw-r--r-- 1 oracle dba 11600 feb 24 2006 occiAQ.h
> -rw-r--r-- 1 oracle dba 38630 feb 24 2006 occiCommon.h
> (etc)
>
>
> What should I do now?

Could you please open config.log generated by ./configure and locate
bits related to "Oracle OCI" detection. You should see some
diagnostics indicating what's possible problem.
Then copy & post relevant parts of the log here.
It should help to find what's the problem.

p.s. I'm leaving for the weekend and if nobody is able to take
care of this issue, I will do it when I'm back on Monday.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From ivan at sanchezortega.es  Fri Jun  4 05:38:24 2010
From: ivan at sanchezortega.es (=?UTF-8?B?SXbDoW4gU8OhbmNoZXogT3J0ZWdh?=)
Date: Fri Jun  4 05:38:30 2010
Subject: [gdal-dev] Compiling GDAL --with-oci
In-Reply-To: <4C08BD6B.8010808@loskot.net>
References: <4C08BB67.4010308@sanchezortega.es> <4C08BD6B.8010808@loskot.net>
Message-ID: <4C08C990.4030107@sanchezortega.es>

El 04/06/2010 10:46, Mateusz Loskot escribi?:
> open config.log and locate bits related to "Oracle OCI"

configure:25057: checking for Oracle OCI headers in 
/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/
configure:25100: g++ -c 
-I/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/rdbms/public 
-I/usr/lib/
./configure: line 25101: g++: command not found

Dammit.


One "apt-get install g++"later , everything works as expected :-)


-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From mateusz at loskot.net  Fri Jun  4 05:46:59 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Jun  4 05:43:48 2010
Subject: [gdal-dev] Compiling GDAL --with-oci
In-Reply-To: <4C08C990.4030107@sanchezortega.es>
References: <4C08BB67.4010308@sanchezortega.es> <4C08BD6B.8010808@loskot.net>
	<4C08C990.4030107@sanchezortega.es>
Message-ID: <4C08CB93.5000002@loskot.net>

On 04/06/10 10:38, Iv?n S?nchez Ortega wrote:
> El 04/06/2010 10:46, Mateusz Loskot escribi?:
>> open config.log and locate bits related to "Oracle OCI"
>
> configure:25057: checking for Oracle OCI headers in
> /usr/lib/oracle/xe/app/oracle/product/10.2.0/server/
> configure:25100: g++ -c
> -I/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/rdbms/public
> -I/usr/lib/
> ./configure: line 25101: g++: command not found
>
> Dammit.
>
>
> One "apt-get install g++"later , everything works as expected :-)

Lovely :-)

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From ivan at sanchezortega.es  Fri Jun  4 06:22:47 2010
From: ivan at sanchezortega.es (=?UTF-8?B?SXbDoW4gU8OhbmNoZXogT3J0ZWdh?=)
Date: Fri Jun  4 06:22:53 2010
Subject: [gdal-dev] Compiling GDAL --with-oci
In-Reply-To: <4C08CB93.5000002@loskot.net>
References: <4C08BB67.4010308@sanchezortega.es> <4C08BD6B.8010808@loskot.net>
	<4C08C990.4030107@sanchezortega.es> <4C08CB93.5000002@loskot.net>
Message-ID: <4C08D3F7.4040703@sanchezortega.es>

By the way, during compile, I ran through this:

In file included from xtiff.c:17:
xtiffio.h:10:20: error: tiffio.h: No such file or directory


An "apt-get install libtiff-dev" solves it. I'd appreciate it if the 
check for the tiff libraries would look for this header file :-)


Now I'm running into some libtool problems. Let's hope I can get out by 
myself :-)


-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From ivan.lucena at pmldnet.com  Fri Jun  4 03:05:18 2010
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Fri Jun  4 07:05:42 2010
Subject: [gdal-dev] Compiling GDAL --with-oci
In-Reply-To: <4C08C990.4030107@sanchezortega.es>
References: <4C08BB67.4010308@sanchezortega.es> <4C08BD6B.8010808@loskot.net>
	<4C08C990.4030107@sanchezortega.es>
Message-ID: <4C08A5AE.6050706@pmldnet.com>

Iv?n S?nchez Ortega wrote:
> El 04/06/2010 10:46, Mateusz Loskot escribi?:
>> open config.log and locate bits related to "Oracle OCI"
> 
> configure:25057: checking for Oracle OCI headers in 
> /usr/lib/oracle/xe/app/oracle/product/10.2.0/server/
> configure:25100: g++ -c 
> -I/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/rdbms/public 
> -I/usr/lib/
> ./configure: line 25101: g++: command not found
> 
> Dammit.
> 
> 
> One "apt-get install g++"later , everything works as expected :-)
> 
> 

Hi Iv?n.

Just a reminder. Oracle Express Edition does not support SDO_GEOMETRY or SDO_GEORASTER but only 
SDO_LOCATOR, so I don't think you are going to able to do much with GDAL. If you are planning to use 
Oracle only for evaluation or for your own software development projects you can download and use 
the full version without a purchase. Just download, install and start using it. But you cannot use 
in production mode, managing large databases.

Regards,

Ivan


From michael.smith at usace.army.mil  Fri Jun  4 09:23:58 2010
From: michael.smith at usace.army.mil (Smith, Michael D ERDC-CRREL-NH)
Date: Fri Jun  4 09:24:01 2010
Subject: [gdal-dev] Compiling GDAL --with-oci
In-Reply-To: <4C08A5AE.6050706@pmldnet.com>
Message-ID: <C82E76AE.1EC13%michael.smith@usace.army.mil>

Ivan,

  Oracle express edition does support SDO_GEOMETRY.

Mike


-- 
Michael Smith
Remote Sensing/GIS Center
US Army Corps of Engineers
Hanover, NH



On 6/4/10  3:05 AM, "Lucena, Ivan" <ivan.lucena@pmldnet.com> wrote:

> Iv?n S?nchez Ortega wrote:
>> El 04/06/2010 10:46, Mateusz Loskot escribi?:
>>> open config.log and locate bits related to "Oracle OCI"
>> 
>> configure:25057: checking for Oracle OCI headers in
>> /usr/lib/oracle/xe/app/oracle/product/10.2.0/server/
>> configure:25100: g++ -c
>> -I/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/rdbms/public
>> -I/usr/lib/
>> ./configure: line 25101: g++: command not found
>> 
>> Dammit.
>> 
>> 
>> One "apt-get install g++"later , everything works as expected :-)
>> 
>> 
> 
> Hi Iv?n.
> 
> Just a reminder. Oracle Express Edition does not support SDO_GEOMETRY or
> SDO_GEORASTER but only
> SDO_LOCATOR, so I don't think you are going to able to do much with GDAL. If
> you are planning to use
> Oracle only for evaluation or for your own software development projects you
> can download and use
> the full version without a purchase. Just download, install and start using
> it. But you cannot use
> in production mode, managing large databases.
> 
> Regards,
> 
> Ivan
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From hemantbist at gmail.com  Fri Jun  4 10:58:11 2010
From: hemantbist at gmail.com (Hemant Bist)
Date: Fri Jun  4 10:58:37 2010
Subject: [gdal-dev] gdal2tiles.py reducing output png file size.
Message-ID: <AANLkTimkpMS5M3QamcySwIF1kkdlAE9UrRsnCAHuqRXK@mail.gmail.com>

Hi,
I am tiling some geoTiffs by using gdal2tiles.py
Currently I am reducing the png file size using following  imagemagick
convert command. Is there some option in gdal2tiles.py that I can use to
reduce the file size (instead of forking a convert command for every tile )?

my convert command is: convert -depth 8 -colors 32.

(I believe) the  reduction in png size is mainly due to reducing the number
of colors in the png. Is it possible to do that in gdal2tiles.py either by
some option for output png, or by preprocessing input geotiff (gdalwarp?) to
have limited colors.

Best,
Hemant
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100604/3b99ad0d/attachment.html
From even.rouault at mines-paris.org  Fri Jun  4 17:43:08 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Jun  4 17:43:30 2010
Subject: [gdal-dev] OGR/SQLite : SELECT GEOMETRY failes on layer copy
In-Reply-To: <AANLkTinoQ_JL0QLsm5LPblidvp4H6T8j10UlOgOh9oX8@mail.gmail.com>
References: <AANLkTinoQ_JL0QLsm5LPblidvp4H6T8j10UlOgOh9oX8@mail.gmail.com>
Message-ID: <201006042343.11428.even.rouault@mines-paris.org>

Anders,

2 things :
* There was a bug specific to the fact that you copy from a SQL result layer 
(by opposition with a table layer). Fixed by 
http://trac.osgeo.org/gdal/ticket/3617

* You also need to remove the "as G" from your SQL request. Otherwise the 
SQLite driver will not be able to recognize the BLOB column as a geometry one 
(it would write the data, but not add the info in the geometry_column table).

The OGR API can return the geometry column name (if available). The call is 
OGRLayer::GetGeometryColumn()

Best regards,

Even

Le Friday 04 June 2010 10:08:32 Anders Moe, vous avez ?crit?:
> Hi everyone
>
> I'm using OGR with the SQLite driver, calling
>
> OGR::DataSource::ExecuteSQL ()
>
> By examining the sqlite file I've discovered that the geometry column is
> named , well, GEOMETRY.
>
> So I do something like
>
> SELECT name, GEOMETRY as G from world
>
> which gives me a resulting layer with these two columns. But when copying
> that layer using
>
> OGRDataSource::CopyLayer  ( )
>
> I'm getting
>
> In GetNextRawFeature(): sqlite3_step() : not an error
>
> I guess that the geometry BLOB column is not recognized as geometry during
> the copy, maybe.
>
> So : Does anyone know how to do these kinds of SQL operations that preserve
> the geometry column in a way that can be used in subsequent operations,
> like layer copying ?
>
>  Also, the OGRAPI does not seem to support any notion of geometry column
> name. Anyone know a way around this ?
>
>
> Cheers,
> Anders


From ivan.lucena at pmldnet.com  Fri Jun  4 13:49:58 2010
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Fri Jun  4 17:50:19 2010
Subject: [gdal-dev] Compiling GDAL --with-oci
In-Reply-To: <C82E76AE.1EC13%michael.smith@usace.army.mil>
References: <C82E76AE.1EC13%michael.smith@usace.army.mil>
Message-ID: <4C093CC6.10102@pmldnet.com>

Smith, Michael D ERDC-CRREL-NH wrote:
> Ivan,
> 
>   Oracle express edition does support SDO_GEOMETRY.
> 
> Mike
> 
> 

Hi Mike,

Thanks for your correction. I always thought that the express edition was not capable to support 
Simple Feature therefore it would not be useful with GDAL/OGR/OCI.

That would clarify (or not) a little bit:

"""
Oracle Locator/Oracle Spatial Primer

One of the most powerful but least understood features of the Oracle relational database management 
system (Oracle Express Edition through Oracle Enterprise Edition) is Oracle Locator. By definition, 
"Oracle Locator is a feature of Oracle Database 10g Standard and Enterprise Editions that provides 
core location functionality needed by most customer applications." However, Oracle Locator offers a 
lot more than this. At face value, Oracle Locator gives users the option of storing location 
information (geospatial or otherwise), such as longitudes and latitudes, in the same tables and rows 
as the rest of data. Yet Oracle Locator goes much further: using this standard feature, users can 
also perform location analysis on the same data.

So when you simply want to return all information about something that happens to exist within some 
distance of something else, why go to a map or a GIS? Oracle Locator can do this for you right in 
the database. And, of course, with regards to Oracle Spatial (an option of Oracle Enterprise 
Edition), the rabbit hole gets deeper-much deeper. Fundamentally, Oracle Locator and Oracle Spatial 
are really the same. They share the same core object type (SDO_GEOMETRY) as well as the same 
metadata and indexing scheme.

However, whereas Oracle Locator provides impressive core location analysis functionality (such as 
the ability to find all the data that has some kind of topological relationship to other data), 
Oracle Spatial builds on top of this the capability to store and manage image and gridded raster 
data and metadata; create and analyze linear-referenced, network, and topology data models; turn 
text-based address information into longitude/latitude with geocoding; provide driving directions 
via an integrated routing engine; and perform deep, multidimensional spatial analysis and mining on 
location and other data. The name of the game for both Oracle Locator and Oracle Spatial is that 
data and analyses are available to any client that can connect to and query from an Oracle 
database"""[http://www.oracle.com/technology/pub/articles/lokitz-spatial-geoserver.html]

Regards,

Ivan
From mrxonx at hotmail.com  Fri Jun  4 20:57:19 2010
From: mrxonx at hotmail.com (ogr user)
Date: Fri Jun  4 20:57:10 2010
Subject: [gdal-dev] S57 questions
In-Reply-To: <4C04F503.6030305@hotmail.com>
References: <4B28374C.30801@hotmail.com>	<4B285358.9010806@pobox.com>	<4C046565.8050804@hotmail.com>	<4C047670.8060001@pobox.com>	<4C04782C.90007@hotmail.com>	<4C047B21.4040702@pobox.com>
	<4C04F503.6030305@hotmail.com>
Message-ID: <4C09A0EF.8050600@hotmail.com>

Frank,

 I submitted an improved patch (it adds a method to OGRPolygon and will
work a lot faster for polygon assembly, no need to copy all those
rings). If that's not acceptable - it may be possible to simply collect
rings in an array and build a polygon that way. Would you mind taking a
look?

ogr user wrote:
> Done, http://trac.osgeo.org/gdal/ticket/3610
>
> Frank Warmerdam wrote:
>   
>> Mike,
>>
>> This would indeed be a useful change. I'd encourage you to file it in
>> Trac
>> and I'll look at incorporating it.
>>
>> Best regards,
>>     
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>   

From sfkeller at gmail.com  Sat Jun  5 03:44:22 2010
From: sfkeller at gmail.com (Stefan Keller)
Date: Sat Jun  5 03:44:24 2010
Subject: [gdal-dev] PGeo: reading circular arcs - how?
Message-ID: <AANLkTimZ8i58nkaRg-Hz7TkTg0w5ZI3-njqshQF6r3XW@mail.gmail.com>

Hi all

I have an ESRI Personal GeoDatabase .mdb file (PGeo) which I would
like to read and convert e.g. to Shapefile.
The PGeo file contains "circular arc"s (or circular curve) and since
OGR only supports linestrings they should be segmented (similar to
http://www.gdal.org/ogr/drv_ili.html ).

Now it turned out that the output is wrong: It seems that at least the
midpoint(s) are misinterepreted.

In fact, when looking at the source (line 430 ff.) there's a TODO there:
http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/pgeo/ogrpgeolayer.cpp

ESRI user doc says at
http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//002t0000000m000000.htm
"Circular arc curves use a mathematical formula to draw the curve. If
you export a geodatabase feature class containing circular
arc curve features to a shapefile, the curved features are transformed
to simple line features with closely spaced vertices to capture the
curved shape".

=> Does anybody know this formula  and/or the meaning of the
additional attributes in the byte stream?

Yours, S.
From aashishcy at gmail.com  Sat Jun  5 14:01:38 2010
From: aashishcy at gmail.com (Aashish Chaudhary)
Date: Sat Jun  5 14:01:40 2010
Subject: [gdal-dev] Calculate lat lon of image corners knowing center's lat
	lon
Message-ID: <AANLkTinI9WgkN-3bfV8upZl7DkX1gBKsojDplDHTUXJo@mail.gmail.com>

Hi,

I have an image with center known in lat / lon. I need to calculate the
image corners in lat / lon. I have some idea but I am wondering if someone
can share his / her knowledge.

Also is there a utility in gdal that would do this for me?

Any help is appreciated.

Thanks,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100605/502cac57/attachment.html
From mrxonx at hotmail.com  Sat Jun  5 16:20:11 2010
From: mrxonx at hotmail.com (ogr user)
Date: Sat Jun  5 16:20:02 2010
Subject: [gdal-dev] Calculate lat lon of image corners knowing center's
	lat	lon
In-Reply-To: <AANLkTinI9WgkN-3bfV8upZl7DkX1gBKsojDplDHTUXJo@mail.gmail.com>
References: <AANLkTinI9WgkN-3bfV8upZl7DkX1gBKsojDplDHTUXJo@mail.gmail.com>
Message-ID: <4C0AB17B.3010703@hotmail.com>

The answer is - it depends. If you know the image projection (Mercator?)
and the precise scale of the image - it may be enough to have just one
point (think - a tile from Google maps).
To georeference an image in a general case (assuming the image has
simple linear proportions) requires at least 2 (really at least 3)
points (otherwise the system of equations won't be solvable) and more
would be better. Once you solve it - you can get coordinates of any
other points in the image.


Aashish Chaudhary wrote:
> Hi,
>
> I have an image with center known in lat / lon. I need to calculate
> the image corners in lat / lon. I have some idea but I am wondering if
> someone can share his / her knowledge.
>
> Also is there a utility in gdal that would do this for me?
>
> Any help is appreciated.
>
> Thanks,
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ragi at burhum.com  Sat Jun  5 16:23:21 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Sat Jun  5 16:21:03 2010
Subject: [gdal-dev] PGeo: reading circular arcs - how?
In-Reply-To: <20100605160010.DEC8DE019C6@lists.osgeo.org>
References: <20100605160010.DEC8DE019C6@lists.osgeo.org>
Message-ID: <BA7C6947-DAFE-4449-AE9C-AEE9950B6EFA@burhum.com>


> From: Stefan Keller <sfkeller@gmail.com>
> Subject: [gdal-dev] PGeo: reading circular arcs - how?
> To: gdal-dev@lists.osgeo.org
> 
> 
> Hi all
> 
> I have an ESRI Personal GeoDatabase .mdb file (PGeo) which I would
> like to read and convert e.g. to Shapefile.
> The PGeo file contains "circular arc"s (or circular curve) and since
> OGR only supports linestrings they should be segmented (similar to
> http://www.gdal.org/ogr/drv_ili.html ).
> 
> Now it turned out that the output is wrong: It seems that at least the
> midpoint(s) are misinterepreted.
> 
> In fact, when looking at the source (line 430 ff.) there's a TODO there:
> http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/pgeo/ogrpgeolayer.cpp
> 
> ESRI user doc says at
> http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//002t0000000m000000.htm
> "Circular arc curves use a mathematical formula to draw the curve. If
> you export a geodatabase feature class containing circular
> arc curve features to a shapefile, the curved features are transformed
> to simple line features with closely spaced vertices to capture the
> curved shape".
> 
> => Does anybody know this formula

http://resources.esri.com/help/9.3/ArcGISEngine/java/api/arcobjects/com/esri/arcgis/geometry/IPolycurve.html#densify(double,%20double)


>  and/or the meaning of the
> additional attributes in the byte stream?
> 

depends on the type of curve. It could be a bezier curve, elliptical arc or circular arc. if you look at the coclasses of Icurve http://edndoc.esri.com/arcobjects/9.2/ComponentHelp/esrigeometry/ICurve.htm you will find attributes defined on those specific types that are most likely the serialized bytes. 

not fun.

good luck,

Ragi
From aashishcy at gmail.com  Sat Jun  5 16:33:37 2010
From: aashishcy at gmail.com (Jayesh Chaudhary)
Date: Sat Jun  5 16:33:40 2010
Subject: [gdal-dev] Calculate lat lon of image corners knowing center's 
	lat lon
In-Reply-To: <4C0AB17B.3010703@hotmail.com>
References: <AANLkTinI9WgkN-3bfV8upZl7DkX1gBKsojDplDHTUXJo@mail.gmail.com>
	<4C0AB17B.3010703@hotmail.com>
Message-ID: <AANLkTilQSqewVti1CPOEidPkI1sgllGvGCkx7wi321i3@mail.gmail.com>

Hi,

Thanks for your reply.  I think I have to gather more information here about
the projection of the image. Currently the meta data tells me only these 3
things:

1. Origin lat lon
2. Size of the image
3. Spacing

All I need is 4 corner points in lat / lon. Currently I am doing something
like this (as an approximation)

long = centerLong + pixel_x_relative_to_origin

Thanks


On Sat, Jun 5, 2010 at 4:20 PM, ogr user <mrxonx@hotmail.com> wrote:

> The answer is - it depends. If you know the image projection (Mercator?)
> and the precise scale of the image - it may be enough to have just one
> point (think - a tile from Google maps).
> To georeference an image in a general case (assuming the image has
> simple linear proportions) requires at least 2 (really at least 3)
> points (otherwise the system of equations won't be solvable) and more
> would be better. Once you solve it - you can get coordinates of any
> other points in the image.
>
>
> Aashish Chaudhary wrote:
> > Hi,
> >
> > I have an image with center known in lat / lon. I need to calculate
> > the image corners in lat / lon. I have some idea but I am wondering if
> > someone can share his / her knowledge.
> >
> > Also is there a utility in gdal that would do this for me?
> >
> > Any help is appreciated.
> >
> > Thanks,
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100605/4546000f/attachment.html
From mrxonx at hotmail.com  Sat Jun  5 18:59:56 2010
From: mrxonx at hotmail.com (ogr user)
Date: Sat Jun  5 18:59:45 2010
Subject: [gdal-dev] Calculate lat lon of image corners knowing center's
	lat lon
In-Reply-To: <AANLkTilQSqewVti1CPOEidPkI1sgllGvGCkx7wi321i3@mail.gmail.com>
References: <AANLkTinI9WgkN-3bfV8upZl7DkX1gBKsojDplDHTUXJo@mail.gmail.com>	<4C0AB17B.3010703@hotmail.com>
	<AANLkTilQSqewVti1CPOEidPkI1sgllGvGCkx7wi321i3@mail.gmail.com>
Message-ID: <4C0AD6EC.9040106@hotmail.com>

So, if I understand correctly, you have coordinates of two points:
- origin (0,0) lat/lon
- center (0.5 * width, 0.5 * height) lat/lon
Is that correct?

What is "spacing"?


What
Jayesh Chaudhary wrote:
> Hi,
>
> Thanks for your reply.  I think I have to gather more information here
> about the projection of the image. Currently the meta data tells me
> only these 3 things:
>
> 1. Origin lat lon
> 2. Size of the image
> 3. Spacing
>
> All I need is 4 corner points in lat / lon. Currently I am doing
> something like this (as an approximation)
>
> long = centerLong + pixel_x_relative_to_origin
>
> Thanks
>

From sfkeller at gmail.com  Sun Jun  6 10:03:48 2010
From: sfkeller at gmail.com (Stefan Keller)
Date: Sun Jun  6 10:03:50 2010
Subject: [gdal-dev] PGeo: reading circular arcs - how?
In-Reply-To: <AANLkTikfgbOpaQB27q3s5wh8ZhRCbGxDOwp7V5ptLaKq@mail.gmail.com>
References: <20100605160010.DEC8DE019C6@lists.osgeo.org>
	<BA7C6947-DAFE-4449-AE9C-AEE9950B6EFA@burhum.com>
	<AANLkTikfgbOpaQB27q3s5wh8ZhRCbGxDOwp7V5ptLaKq@mail.gmail.com>
Message-ID: <AANLkTim3G7PTowLL4RHcHVnymX5CDMbL1QXbeo2g15wp@mail.gmail.com>

Hi Ragi

Thank you for the tips.

I browsed through the pages you referred to but I somehow did not find
neither a formula nor the meaning of the parameters.

Keep in mind that I am reading the binary format of PGeo and I am
focussing on circular arcs only. The beginning of the encoding binary
block elements are already clear.

What's confusing is that I would expect as attributes just a starting
point, a midpoint and an endpoint. But what's somehow there is s
startpoint and followed by 4 or more attributes.

Yours,
Stefan
From bontepaarden at gmail.com  Mon Jun  7 07:49:18 2010
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon Jun  7 07:49:41 2010
Subject: [gdal-dev] [GDAL 1.7] GDAL_Contour png file
Message-ID: <AANLkTimmLQz1M6bIyVVjlU-AdFiAvaQJ93z7vBvqA7ua@mail.gmail.com>

Hi List,

I'm trying to vectorize a png file to a shapefile.
This png file only contains lines with one color.
Using this command a nice shapefile is generated:
gdal_contour -a elev test.png contour.shp -i 10.0 -snodata 255

But the shapefile is the wrong size up.
Up and bottom are flipped.
How do I fix that?

The generated shapefile is huge: 97MB from a 205 kB png file (high
resolution: 6720 x 4984  Pixels)
The shapes created are all very small/short and should be chained together.
Can GDAL do that as well?

I tried gdal_polygonize.py already and that is looking better, but because
not all lines are correctly closed not all polygons are good.
I'm looking for something similar, but the output should be polylines
instead of polygons.

Thanks in advanced for any advice.

Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100607/e53ac8d4/attachment.html
From GWALTER at mdacorporation.com  Mon Jun  7 09:58:58 2010
From: GWALTER at mdacorporation.com (Gillian WALTER)
Date: Mon Jun  7 09:59:05 2010
Subject: [gdal-dev] GDAL SVN question
Message-ID: <862947533C4ECE469D1A692CD483299E037F1E0A@VMXYVR1.ds.mda.ca>

Hi,

This question is about GDAL's SVN rather than the library itself, but
what are the "spike" and "sandbox" directories used for?  

Thanks,

Gillian Walter
Software Developer
Geospatial Services Inc.
57 Auriga Drive - Suite 201
Ottawa, ON K2E 8B2
Telephone:  (613) 727-1087 #245
Facsimile:  (613) 727-5853
Email:  gwalter@mdacorporation.com

This e-mail and any attachments are intended solely for the use of the
intended recipient(s) and may contain legally privileged, proprietary
and/or confidential information.  Any use, disclosure, dissemination,
distribution or copying of this e-mail and any attachments for any
purposes that have not been specifically authorized by the sender is
strictly prohibited.  If you are not the intended recipient, please
immediately notify the sender by reply e-mail and permanently delete all
copies and attachments.  The entire content of this e-mail is for
"information purposes" only and should not be relied upon by the
recipient in any way unless otherwise confirmed in writing by way of
letter or facsimile. 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100607/df9a30fd/attachment.html
From bontepaarden at gmail.com  Mon Jun  7 10:15:03 2010
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon Jun  7 10:15:32 2010
Subject: [gdal-dev] Shift of geoTiff
Message-ID: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com>

One of our user of MapWindow GIS noticed a shift of its geotiff by one pixel
width.

I took a look at it to see if the problem is with MapWindow or GDAL, because
MapWindow uses GDAL internally.

The provided metadata of the geotiff is:
GROUP = L1_METADATA_FILE
  GROUP = METADATA_FILE_INFO
    ORIGIN = "Image courtesy of the U.S. Geological Survey"
    REQUEST_ID = "0101004096683_00045"
    PRODUCT_CREATION_TIME = 2010-04-12T00:11:01Z
    STATION_ID = "EDC"
    LANDSAT7_XBAND = "2"
    GROUND_STATION = "EDC"
    LPS_PROCESSOR_NUMBER = 1
    DATEHOUR_CONTACT_PERIOD = "0226604"
    SUBINTERVAL_NUMBER = "08"
  END_GROUP = METADATA_FILE_INFO
  GROUP = PRODUCT_METADATA
    PRODUCT_TYPE = "L1T"
    ELEVATION_SOURCE = "GLS2000"
    PROCESSING_SOFTWARE = "LPGS_11.0.0"
    EPHEMERIS_TYPE = "DEFINITIVE"
    SPACECRAFT_ID = "Landsat7"
    SENSOR_ID = "ETM+"
    SENSOR_MODE = "SAM"
    ACQUISITION_DATE = 2002-09-23
    SCENE_CENTER_SCAN_TIME = 00:09:22.3202747Z
    WRS_PATH = 95
    STARTING_ROW = 85
    ENDING_ROW = 85
    BAND_COMBINATION = "123456678"
    PRODUCT_UL_CORNER_LAT = -35.0709086
    PRODUCT_UL_CORNER_LON = 140.3495920
    PRODUCT_UR_CORNER_LAT = -35.0547004
    PRODUCT_UR_CORNER_LON = 143.0866731
    PRODUCT_LL_CORNER_LAT = -37.0344333
    PRODUCT_LL_CORNER_LON = 140.3332320
    PRODUCT_LR_CORNER_LAT = -37.0170222
    PRODUCT_LR_CORNER_LON = 143.1391164
    PRODUCT_UL_CORNER_MAPX = 440700.000
    PRODUCT_UL_CORNER_MAPY = -3881100.000
    PRODUCT_UR_CORNER_MAPX = 690300.000
    PRODUCT_UR_CORNER_MAPY = -3881100.000
    PRODUCT_LL_CORNER_MAPX = 440700.000
    PRODUCT_LL_CORNER_MAPY = -4098900.000
    PRODUCT_LR_CORNER_MAPX = 690300.000
    PRODUCT_LR_CORNER_MAPY = -4098900.000
    PRODUCT_SAMPLES_PAN = 16641
    PRODUCT_LINES_PAN = 14521
    PRODUCT_SAMPLES_REF = 8321
    PRODUCT_LINES_REF = 7261
    PRODUCT_SAMPLES_THM = 8321
    PRODUCT_LINES_THM = 7261
    BAND1_FILE_NAME = "L71095085_08520020923_B10.TIF"
    BAND2_FILE_NAME = "L71095085_08520020923_B20.TIF"
    BAND3_FILE_NAME = "L71095085_08520020923_B30.TIF"
    BAND4_FILE_NAME = "L71095085_08520020923_B40.TIF"
    BAND5_FILE_NAME = "L71095085_08520020923_B50.TIF"
    BAND61_FILE_NAME = "L71095085_08520020923_B61.TIF"
    BAND62_FILE_NAME = "L72095085_08520020923_B62.TIF"
    BAND7_FILE_NAME = "L72095085_08520020923_B70.TIF"
    BAND8_FILE_NAME = "L72095085_08520020923_B80.TIF"
    GCP_FILE_NAME = "L71095085_08520020923_GCP.txt"
    METADATA_L1_FILE_NAME = "L71095085_08520020923_MTL.txt"
    CPF_FILE_NAME = "L7CPF20020701_20020930_06"
  END_GROUP = PRODUCT_METADATA
  GROUP = MIN_MAX_RADIANCE
    LMAX_BAND1 = 191.600
    LMIN_BAND1 = -6.200
    LMAX_BAND2 = 196.500
    LMIN_BAND2 = -6.400
    LMAX_BAND3 = 152.900
    LMIN_BAND3 = -5.000
    LMAX_BAND4 = 241.100
    LMIN_BAND4 = -5.100
    LMAX_BAND5 = 31.060
    LMIN_BAND5 = -1.000
    LMAX_BAND61 = 17.040
    LMIN_BAND61 = 0.000
    LMAX_BAND62 = 12.650
    LMIN_BAND62 = 3.200
    LMAX_BAND7 = 10.800
    LMIN_BAND7 = -0.350
    LMAX_BAND8 = 243.100
    LMIN_BAND8 = -4.700
  END_GROUP = MIN_MAX_RADIANCE
  GROUP = MIN_MAX_PIXEL_VALUE
    QCALMAX_BAND1 = 255.0
    QCALMIN_BAND1 = 1.0
    QCALMAX_BAND2 = 255.0
    QCALMIN_BAND2 = 1.0
    QCALMAX_BAND3 = 255.0
    QCALMIN_BAND3 = 1.0
    QCALMAX_BAND4 = 255.0
    QCALMIN_BAND4 = 1.0
    QCALMAX_BAND5 = 255.0
    QCALMIN_BAND5 = 1.0
    QCALMAX_BAND61 = 255.0
    QCALMIN_BAND61 = 1.0
    QCALMAX_BAND62 = 255.0
    QCALMIN_BAND62 = 1.0
    QCALMAX_BAND7 = 255.0
    QCALMIN_BAND7 = 1.0
    QCALMAX_BAND8 = 255.0
    QCALMIN_BAND8 = 1.0
  END_GROUP = MIN_MAX_PIXEL_VALUE
  GROUP = PRODUCT_PARAMETERS
    CORRECTION_METHOD_GAIN_BAND1 = "CPF"
    CORRECTION_METHOD_GAIN_BAND2 = "CPF"
    CORRECTION_METHOD_GAIN_BAND3 = "CPF"
    CORRECTION_METHOD_GAIN_BAND4 = "CPF"
    CORRECTION_METHOD_GAIN_BAND5 = "CPF"
    CORRECTION_METHOD_GAIN_BAND61 = "CPF"
    CORRECTION_METHOD_GAIN_BAND62 = "CPF"
    CORRECTION_METHOD_GAIN_BAND7 = "CPF"
    CORRECTION_METHOD_GAIN_BAND8 = "CPF"
    CORRECTION_METHOD_BIAS = "IC"
    BAND1_GAIN = "H"
    BAND2_GAIN = "H"
    BAND3_GAIN = "H"
    BAND4_GAIN = "L"
    BAND5_GAIN = "H"
    BAND6_GAIN1 = "L"
    BAND6_GAIN2 = "H"
    BAND7_GAIN = "H"
    BAND8_GAIN = "L"
    BAND1_GAIN_CHANGE = "0"
    BAND2_GAIN_CHANGE = "0"
    BAND3_GAIN_CHANGE = "0"
    BAND4_GAIN_CHANGE = "0"
    BAND5_GAIN_CHANGE = "0"
    BAND6_GAIN_CHANGE1 = "0"
    BAND6_GAIN_CHANGE2 = "0"
    BAND7_GAIN_CHANGE = "0"
    BAND8_GAIN_CHANGE = "0"
    BAND1_SL_GAIN_CHANGE = 0
    BAND2_SL_GAIN_CHANGE = 0
    BAND3_SL_GAIN_CHANGE = 0
    BAND4_SL_GAIN_CHANGE = 0
    BAND5_SL_GAIN_CHANGE = 0
    BAND6_SL_GAIN_CHANGE1 = 0
    BAND6_SL_GAIN_CHANGE2 = 0
    BAND7_SL_GAIN_CHANGE = 0
    BAND8_SL_GAIN_CHANGE = 0
    SUN_AZIMUTH = 49.0012493
    SUN_ELEVATION = 41.9440742
    OUTPUT_FORMAT = "GEOTIFF"
  END_GROUP = PRODUCT_PARAMETERS
  GROUP = CORRECTIONS_APPLIED
    STRIPING_BAND1 = "NONE"
    STRIPING_BAND2 = "NONE"
    STRIPING_BAND3 = "NONE"
    STRIPING_BAND4 = "NONE"
    STRIPING_BAND5 = "NONE"
    STRIPING_BAND61 = "NONE"
    STRIPING_BAND62 = "NONE"
    STRIPING_BAND7 = "NONE"
    STRIPING_BAND8 = "NONE"
    BANDING = "N"
    COHERENT_NOISE = "Y"
    MEMORY_EFFECT = "N"
    SCAN_CORRELATED_SHIFT = "N"
    INOPERABLE_DETECTORS = "N"
    DROPPED_LINES = "N"
  END_GROUP = CORRECTIONS_APPLIED
  GROUP = PROJECTION_PARAMETERS
    REFERENCE_DATUM = "WGS84"
    REFERENCE_ELLIPSOID = "WGS84"
    GRID_CELL_SIZE_PAN = 15.000
    GRID_CELL_SIZE_THM = 30.000
    GRID_CELL_SIZE_REF = 30.000
    ORIENTATION = "NUP"
    RESAMPLING_OPTION = "CC"
    MAP_PROJECTION = "UTM"
  END_GROUP = PROJECTION_PARAMETERS
  GROUP = UTM_PARAMETERS
    ZONE_NUMBER = 54
  END_GROUP = UTM_PARAMETERS
END_GROUP = L1_METADATA_FILE
END

When I perform a GDALINFO on the GeoTiff file, I get this report:
Driver: GTiff/GeoTIFF
Files: L71095085_08520020923_B10.TIF
Size is 8321, 7261
Coordinate System is:
PROJCS["WGS 84 / UTM zone 54N",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",141],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32654"]]
Origin = (440699.999999999940000,-3881100.000000000000000)
Pixel Size = (30.000000000000000,-30.000000000000000)
Metadata:
  AREA_OR_POINT=Point
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  440700.000,-3881100.000) (140d20'58.53"E, 35d 4'15.27"S)
Lower Left  (  440700.000,-4098930.000) (140d19'59.63"E, 37d 2'4.93"S)
Upper Right (  690330.000,-3881100.000) (143d 5'13.21"E, 35d 3'16.90"S)
Lower Right (  690330.000,-4098930.000) (143d 8'22.06"E, 37d 1'2.23"S)
Center      (  565515.000,-3990015.000) (141d43'38.60"E, 36d 3'8.96"S)
Band 1 Block=8321x1 Type=Byte, ColorInterp=Gray

As you can see the lower right Y should be -4098900, but GDALINFO reports
,-4098930

My question is:
Is this the correct behavior of GDAL or do we misinterpreted it?

Thanks,

Paul

--
Paul Meems
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100607/d9836a1a/attachment-0001.html
From rudivs at gmail.com  Mon Jun  7 10:19:22 2010
From: rudivs at gmail.com (Rudi von Staden)
Date: Mon Jun  7 10:19:59 2010
Subject: [gdal-dev] Polygon area with intersection?
Message-ID: <4C0CFFEA.9030507@gmail.com>

Hi all,

I need to create a tool that will take a set of points (say in a csv 
file) given in WGS84 lat/long, and work out the area of the outer hull 
that encompasses the points. The points could be anywhere in Southern 
Africa.

I was thinking to use the following approach (using gdal/ogr and Python, 
since that's what I'm most familiar with):
1. write a function to return the outer hull as a polygon
2. clip to the four UTM zones covering the region (using Intersection())
3. reproject each sub-polygon to the appropriate utm zone using the 
CoordinateTransformation class
4. return the sum of the values returned by GetArea()

Is it necessary to break up the area into UTM zones to get an accurate 
area calculation? Is there perhaps an existing standalone tool that will 
do this in an easier way? Would it work using Python bindings for gdal 
and ogr?

Thanks,
Rudi
From jrepetto at free.fr  Mon Jun  7 10:34:15 2010
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Mon Jun  7 10:41:04 2010
Subject: [gdal-dev] Shift of geoTiff
In-Reply-To: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com>
References: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com>
Message-ID: <4C0D0367.3090204@free.fr>

Le 07/06/2010 16:15, Paul Meems a ?crit :
> One of our user of MapWindow GIS noticed a shift of its geotiff by one
> pixel width.
>

> Size is 8321, 7261
> Origin = (440699.999999999940000,-3881100.000000000000000)
> Pixel Size = (30.000000000000000,-30.000000000000000)

> Lower Left  (  440700.000,-4098930.000) (140d19'59.63"E, 37d 2'4.93"S)
>
> As you can see the lower right Y should be -4098900, but GDALINFO
> reports ,-4098930
>
> My question is:
> Is this the correct behavior of GDAL or do we misinterpreted it?
>

Hi,

The gdalinfo report seems correct :
3881100 + 7261*30 = 4098930

Jean-Claude
From warmerdam at pobox.com  Mon Jun  7 10:44:24 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun  7 10:44:29 2010
Subject: [gdal-dev] GDAL SVN question
In-Reply-To: <862947533C4ECE469D1A692CD483299E037F1E0A@VMXYVR1.ds.mda.ca>
References: <862947533C4ECE469D1A692CD483299E037F1E0A@VMXYVR1.ds.mda.ca>
Message-ID: <4C0D05C8.7010007@pobox.com>

Gillian WALTER wrote:
> Hi,
> 
> This question is about GDAL's SVN rather than the library itself, but 
> what are the "spike" and "sandbox" directories used for? 

Gillian,

I have used "spike" as an area for deprecated code.  Sort of a junkyard.

We have been using the sandbox area as an area for developer specific
experimental branches and in some cases vendor specific branches.  So,
for instance, the JPIP driver development required substantial core
restructuring as well as the work on the JPIP driver itself and it was
helpful to do this work in a sandbox before migrating it into trunk after
the corresponding RFC was passed.  Also, I keep a vendor specific branch
for the modified code tree used in ESRI builds within my sandbox for
easy management without getting in the way of mainline development.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Mon Jun  7 10:49:09 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun  7 10:49:14 2010
Subject: [gdal-dev] Polygon area with intersection?
In-Reply-To: <4C0CFFEA.9030507@gmail.com>
References: <4C0CFFEA.9030507@gmail.com>
Message-ID: <4C0D06E5.5000302@pobox.com>

Rudi von Staden wrote:
> Hi all,
> 
> I need to create a tool that will take a set of points (say in a csv 
> file) given in WGS84 lat/long, and work out the area of the outer hull 
> that encompasses the points. The points could be anywhere in Southern 
> Africa.
> 
> I was thinking to use the following approach (using gdal/ogr and Python, 
> since that's what I'm most familiar with):
> 1. write a function to return the outer hull as a polygon
> 2. clip to the four UTM zones covering the region (using Intersection())
> 3. reproject each sub-polygon to the appropriate utm zone using the 
> CoordinateTransformation class
> 4. return the sum of the values returned by GetArea()
> 
> Is it necessary to break up the area into UTM zones to get an accurate 
> area calculation? Is there perhaps an existing standalone tool that will 
> do this in an easier way? Would it work using Python bindings for gdal 
> and ogr?

Rudi,

The above approach would work, and would give pretty accurate results.
Depending on your need for accuracy you might find you could just
reproject the hull into some well behaved projection centered at the
centroid of the hull and compute the area on that without splitting
and summing.

This should all be doable with the python bindings for gdal/ogr (with
some of the work really being done under the covers by GEOS).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Mon Jun  7 10:51:24 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun  7 10:51:32 2010
Subject: [gdal-dev] Shift of geoTiff
In-Reply-To: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com>
References: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com>
Message-ID: <4C0D076C.8030801@pobox.com>

Paul Meems wrote:
> One of our user of MapWindow GIS noticed a shift of its geotiff by one 
> pixel width.
> 
> I took a look at it to see if the problem is with MapWindow or GDAL, 
> because MapWindow uses GDAL internally.
> 
> The provided metadata of the geotiff is:
> GROUP = L1_METADATA_FILE
>   GROUP = METADATA_FILE_INFO
>     ORIGIN = "Image courtesy of the U.S. Geological Survey"

Paul,

I imagine GDAL is getting it's georeferencing from the GeoTIFF itself
rather than from the supporting metadata file.  What does the listgeo
report on the geotiff file look like?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ari.jolma at gmail.com  Mon Jun  7 10:51:43 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Mon Jun  7 10:51:47 2010
Subject: [gdal-dev] [GDAL 1.7] GDAL_Contour png file
In-Reply-To: <AANLkTimmLQz1M6bIyVVjlU-AdFiAvaQJ93z7vBvqA7ua@mail.gmail.com>
References: <AANLkTimmLQz1M6bIyVVjlU-AdFiAvaQJ93z7vBvqA7ua@mail.gmail.com>
Message-ID: <4C0D077F.6090702@gmail.com>

Paul,

Paul Meems wrote:
> Hi List,
>
> I'm trying to vectorize a png file to a shapefile.
> This png file only contains lines with one color.
> Using this command a nice shapefile is generated:
> gdal_contour -a elev test.png contour.shp -i 10.0 -snodata 255
>
> But the shapefile is the wrong size up.
> Up and bottom are flipped.
> How do I fix that?

If you do not provide a GeoTransform to the png file then it is "upside 
down" as the default coefficient for y_line is 1 and not -1. It can be 
set from a world file as explained here: 
http://www.gdal.org/frmt_various.html

>
> The generated shapefile is huge: 97MB from a 205 kB png file (high 
> resolution: 6720 x 4984  Pixels)
> The shapes created are all very small/short and should be chained 
> together. Can GDAL do that as well?

Maybe the png file contains many 8-connected features? Polygonize uses 
4-connectness. Polygonize method doesn't seem to have connectedness 
parameter, which is a pity IMHO(*).

>
> I tried gdal_polygonize.py already and that is looking better, but 
> because not all lines are correctly closed not all polygons are good.
> I'm looking for something similar, but the output should be polylines 
> instead of polygons.

I'm not aware of vectorize method in GDAL, which produces polylines.

Best regards,

Ari

(*) maybe we could use the Options list for that?

>
> Thanks in advanced for any advice.
>
> Paul
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ari.jolma at gmail.com  Mon Jun  7 11:28:05 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Mon Jun  7 11:28:10 2010
Subject: [gdal-dev] [GDAL 1.7] GDAL_Contour png file
In-Reply-To: <4C0D077F.6090702@gmail.com>
References: <AANLkTimmLQz1M6bIyVVjlU-AdFiAvaQJ93z7vBvqA7ua@mail.gmail.com>
	<4C0D077F.6090702@gmail.com>
Message-ID: <4C0D1005.3040508@gmail.com>

Ari Jolma wrote:
>
> Polygonize uses 4-connectness. Polygonize method doesn't seem to have 
> connectedness parameter, which is a pity IMHO.

This is easy to fix, I added an enhancement request with a diff: 
http://trac.osgeo.org/gdal/ticket/3619

Ari

From davidgshi at yahoo.co.uk  Mon Jun  7 11:43:13 2010
From: davidgshi at yahoo.co.uk (David Shi)
Date: Mon Jun  7 11:49:57 2010
Subject: [gdal-dev] Looking for a geoprocessing script for simple areal
	interpolation of population
Message-ID: <98468.3801.qm@web26303.mail.ukl.yahoo.com>

I am?looking for a geoprocessing script for simple areal interpolation of population


Can anyone help?

Regards.

David



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100607/e98d0c9f/attachment.html
From bontepaarden at gmail.com  Tue Jun  8 03:49:17 2010
From: bontepaarden at gmail.com (Paul Meems)
Date: Tue Jun  8 03:59:18 2010
Subject: Fwd: [gdal-dev] Shift of geoTiff
In-Reply-To: <D91CAF95D81649E3B931486CA9EC21EE@MFocus64>
References: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com> 
	<4C0D076C.8030801@pobox.com>
	<D91CAF95D81649E3B931486CA9EC21EE@MFocus64>
Message-ID: <AANLkTikDbOahDzGNN3-GPfzdrgOuLZLvDIvfWQF_ALF3@mail.gmail.com>

Forwarding Bens reply to the full list.
Ben is the user I mentioned in my start post.

Thanks,

Paul

--
Paul Meems
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl
[image: Linkedin] <http://nl.linkedin.com/in/paulmeems>[image:
Twitter]<http://twitter.com/mapwindow_nl>


---------- Forwarded message ----------
From: Ben Jones <ben@malleefocus.com.au>
Date: 2010/6/8
Subject: RE: [gdal-dev] Shift of geoTiff
To: Frank Warmerdam <warmerdam@pobox.com>
Cc: bontepaarden@gmail.com


Hi Frank and Paul,
Thanks for following this up.
Note that it's a half pixel shift (not a full pixel).
I wasn't able to find a compiled version of listgeo so I can't check myself
- but will be interested to see what the output is.
As noted in the original post, the GeoTiff spec seems to call for pixels to
be referenced by their center and not their upper-left corner. If that's the
case, then according to the GDALINFO output, the outside pixel coordinates
should be the origin, and (cols - 1) x dx and (rows - 1) x dy away from the
origin. But they're cols x dx and rows x dy away from the origin in the
GDALINFO output. Which makes me think there's something going wrong in there
somewhere.
Cheers
Ben

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com]
Sent: Tuesday, 8 June 2010 12:51 AM
To: Paul Meems
Cc: gdal-dev@lists.osgeo.org; Ben Jones
Subject: Re: [gdal-dev] Shift of geoTiff

Paul Meems wrote:
> One of our user of MapWindow GIS noticed a shift of its geotiff by one
> pixel width.
>
> I took a look at it to see if the problem is with MapWindow or GDAL,
> because MapWindow uses GDAL internally.
>
> The provided metadata of the geotiff is:
> GROUP = L1_METADATA_FILE
>   GROUP = METADATA_FILE_INFO
>     ORIGIN = "Image courtesy of the U.S. Geological Survey"

Paul,

I imagine GDAL is getting it's georeferencing from the GeoTIFF itself
rather than from the supporting metadata file.  What does the listgeo
report on the geotiff file look like?

Best regards,
--
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows |
http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
and watch the world go round - Rush    | Geospatial Programmer for Rent
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100608/b43f9b32/attachment.html
From bontepaarden at gmail.com  Tue Jun  8 04:19:55 2010
From: bontepaarden at gmail.com (Paul Meems)
Date: Tue Jun  8 04:25:50 2010
Subject: [gdal-dev] [GDAL 1.7] GDAL_Contour png file
In-Reply-To: <4C0D1005.3040508@gmail.com>
References: <AANLkTimmLQz1M6bIyVVjlU-AdFiAvaQJ93z7vBvqA7ua@mail.gmail.com> 
	<4C0D077F.6090702@gmail.com> <4C0D1005.3040508@gmail.com>
Message-ID: <AANLkTimWqzW7HdE55tNlXoUk7jtWkgHT9FtPoUstyXkJ@mail.gmail.com>

Thanks Ari,

I forgot to copy the world file. I just did that and ran gdal_polygonize.py
again and now the shapefile is correct.

I will now convert the polygons manually to polylines.

Thanks,

Paul


2010/6/7 Ari Jolma <ari.jolma@gmail.com>

> Ari Jolma wrote:
>
>>
>> Polygonize uses 4-connectness. Polygonize method doesn't seem to have
>> connectedness parameter, which is a pity IMHO.
>>
>
> This is easy to fix, I added an enhancement request with a diff:
> http://trac.osgeo.org/gdal/ticket/3619
>
> Ari
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100608/2b7cbe7b/attachment.html
From petergoulborn at astuntechnology.com  Tue Jun  8 07:56:02 2010
From: petergoulborn at astuntechnology.com (Peter Goulborn)
Date: Tue Jun  8 08:03:08 2010
Subject: [gdal-dev] ArcSDE driver support for WideString
Message-ID: <4C0E2FD2.5@astuntechnology.com>

I notice from http://trac.osgeo.org/gdal/ticket/2882 that some work has 
already been done on including this but it would appear that it has not 
been committed to the trunk.  Is this correct?

We use ogr extensively at Astun and have issues where we're trying to 
extract data from ArcSDE9.2 so we'd really like to see this incorporated 
in the normal OGR release (and ideally in the OSGeo4W packages).

As we do not have any C programmers, we would be prepared to pay for 
development work - can anyone on-list help or is there someone/somewhere 
else we can ask?


-- 
Peter Goulborn

Astun Technology Ltd
From jukka.rahkonen at mmmtike.fi  Tue Jun  8 08:57:20 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Jun  8 08:57:32 2010
Subject: [gdal-dev] Re: Fwd: Shift of geoTiff
References: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com>
	<4C0D076C.8030801@pobox.com>
	<D91CAF95D81649E3B931486CA9EC21EE@MFocus64>
	<AANLkTikDbOahDzGNN3-GPfzdrgOuLZLvDIvfWQF_ALF3@mail.gmail.com>
Message-ID: <loom.20100608T145647-881@post.gmane.org>

Paul Meems <bontepaarden <at> gmail.com> writes:

> As noted in the original post, the GeoTiff spec seems to call for pixels to
> be referenced by their center and not their upper-left corner. If that's the
> case, then according to the GDALINFO output, the outside pixel coordinates
> should be the origin, and (cols - 1) x dx and (rows - 1) x dy away from the
> origin. But they're cols x dx and rows x dy away from the origin in the
> GDALINFO output. Which makes me think there's something going wrong in there
> somewhere.
> CheersBen

Think about an extreme one-pixel-image. For me it looks right to say that it is
covering an area and not to compress the extents of the image to a point. Thus
(cols) x dx and (rows) x dy.

-Jukka Rahkonen-



From gis at vanbooth.com  Tue Jun  8 12:26:21 2010
From: gis at vanbooth.com (Rob)
Date: Tue Jun  8 12:26:25 2010
Subject: [gdal-dev] Reprojecting rasters
Message-ID: <AANLkTik7c3yNGcihxk3djcuGGVY2lXaqwm2WNjcOIKTY@mail.gmail.com>

Hi

[Apols for the X-post]

I'm trying to reproject a set of rasters in order to improve performance on
my application.

I have a set of rasters in OSGB (EPSG:27700) that I want to pre-process so
that they are in WGS84 (EPSG:4326) within GeoServer, rather than relying on
GeoServer to do the reprojection on the fly.

I have been reprojecting the rasters using the following command


gdalwarp -of GTiff -s_srs "EPSG:27700" -t_srs "EPSG:4326" -co "TILED=YES"
-co "COMPRESS=LZW" -co "TFW=YES" OLDNAME.TIF NEWNAME.TIF


I have used the ImageMosaic datastore to load these into GeoServer and can
view them.  So far, so good.

However, there seems to be large gaps between the 'tiles' so that roads no
longer join up and forests have big white gaps within them.

>From checking the rasters and the resultant world files, I've noticed a few
things.

1) The image sizes are not constant.  All of my original tiles are the same
size.  It has raised an interesting question of whether the meridian line
runs parallel to an OSGB Y-axis.
2) The worldfiles also contain some curious values.  I understand that the
1st and 4th parameters in a worldfile are the real world distance of a
single pixel, but they seem to have the same value in despite the fact that
the image size changes from being square to being rectangular.

Whether those things mean anything, or are perfectly legitimate when
reprojecting, I don't know, I just thought I should mention them.

Has anybody got any advice on how to reproject a full set of rasters, or
what I have done wrong?

Thanks

Rob
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100608/a2e73c0c/attachment.html
From christian.mueller at nvoe.at  Tue Jun  8 12:34:08 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Tue Jun  8 12:34:19 2010
Subject: [gdal-dev] Reprojecting rasters
In-Reply-To: <AANLkTik7c3yNGcihxk3djcuGGVY2lXaqwm2WNjcOIKTY@mail.gmail.com>
References: <AANLkTik7c3yNGcihxk3djcuGGVY2lXaqwm2WNjcOIKTY@mail.gmail.com>
Message-ID: <20100608183408.v577ac734k0o0go8@webmail.nvoe.at>

I am not sure here, but this looks like  each tile is projected for itself.

My procedure always is

1) Build a large image without tiles
2) Reproject
3) Create Tiles/pyramids

Try to avoid TILED=YES and reproject  within the same gdalwarp call.


Quoting Rob <gis@vanbooth.com>:

> Hi
>
> [Apols for the X-post]
>
> I'm trying to reproject a set of rasters in order to improve performance on
> my application.
>
> I have a set of rasters in OSGB (EPSG:27700) that I want to pre-process so
> that they are in WGS84 (EPSG:4326) within GeoServer, rather than relying on
> GeoServer to do the reprojection on the fly.
>
> I have been reprojecting the rasters using the following command
>
>
> gdalwarp -of GTiff -s_srs "EPSG:27700" -t_srs "EPSG:4326" -co "TILED=YES"
> -co "COMPRESS=LZW" -co "TFW=YES" OLDNAME.TIF NEWNAME.TIF
>
>
> I have used the ImageMosaic datastore to load these into GeoServer and can
> view them.  So far, so good.
>
> However, there seems to be large gaps between the 'tiles' so that roads no
> longer join up and forests have big white gaps within them.
>
>> From checking the rasters and the resultant world files, I've noticed a few
> things.
>
> 1) The image sizes are not constant.  All of my original tiles are the same
> size.  It has raised an interesting question of whether the meridian line
> runs parallel to an OSGB Y-axis.
> 2) The worldfiles also contain some curious values.  I understand that the
> 1st and 4th parameters in a worldfile are the real world distance of a
> single pixel, but they seem to have the same value in despite the fact that
> the image size changes from being square to being rectangular.
>
> Whether those things mean anything, or are perfectly legitimate when
> reprojecting, I don't know, I just thought I should mention them.
>
> Has anybody got any advice on how to reproject a full set of rasters, or
> what I have done wrong?
>
> Thanks
>
> Rob
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From gis at vanbooth.com  Tue Jun  8 13:04:22 2010
From: gis at vanbooth.com (Rob)
Date: Tue Jun  8 13:04:27 2010
Subject: [gdal-dev] Reprojecting rasters
In-Reply-To: <20100608183408.v577ac734k0o0go8@webmail.nvoe.at>
References: <AANLkTik7c3yNGcihxk3djcuGGVY2lXaqwm2WNjcOIKTY@mail.gmail.com>
	<20100608183408.v577ac734k0o0go8@webmail.nvoe.at>
Message-ID: <AANLkTikpeJ2RJanKgfKy7NnJ3lwMgjczy0iniimC_UPG@mail.gmail.com>

Panic over.  I have just proven that an idiot can panic and cast suspicion
on everyone but himself!

The tiles seem to be reprojected OK, but Geoserver was laying the tiles on
top of each other without using any transparency, hence each tile leaving a
white blob on top of the last one.

A quick modification to the Input Transparent Color setting and Bob is your
fathers brother!

Thanks again

Rob


On 8 June 2010 17:34, <christian.mueller@nvoe.at> wrote:

> I am not sure here, but this looks like  each tile is projected for itself.
>
> My procedure always is
>
> 1) Build a large image without tiles
> 2) Reproject
> 3) Create Tiles/pyramids
>
> Try to avoid TILED=YES and reproject  within the same gdalwarp call.
>
>
>
> Quoting Rob <gis@vanbooth.com>:
>
>  Hi
>>
>> [Apols for the X-post]
>>
>> I'm trying to reproject a set of rasters in order to improve performance
>> on
>> my application.
>>
>> I have a set of rasters in OSGB (EPSG:27700) that I want to pre-process so
>> that they are in WGS84 (EPSG:4326) within GeoServer, rather than relying
>> on
>> GeoServer to do the reprojection on the fly.
>>
>> I have been reprojecting the rasters using the following command
>>
>>
>> gdalwarp -of GTiff -s_srs "EPSG:27700" -t_srs "EPSG:4326" -co "TILED=YES"
>> -co "COMPRESS=LZW" -co "TFW=YES" OLDNAME.TIF NEWNAME.TIF
>>
>>
>> I have used the ImageMosaic datastore to load these into GeoServer and can
>> view them.  So far, so good.
>>
>> However, there seems to be large gaps between the 'tiles' so that roads no
>> longer join up and forests have big white gaps within them.
>>
>>  From checking the rasters and the resultant world files, I've noticed a
>>> few
>>>
>> things.
>>
>> 1) The image sizes are not constant.  All of my original tiles are the
>> same
>> size.  It has raised an interesting question of whether the meridian line
>> runs parallel to an OSGB Y-axis.
>> 2) The worldfiles also contain some curious values.  I understand that the
>> 1st and 4th parameters in a worldfile are the real world distance of a
>> single pixel, but they seem to have the same value in despite the fact
>> that
>> the image size changes from being square to being rectangular.
>>
>> Whether those things mean anything, or are perfectly legitimate when
>> reprojecting, I don't know, I just thought I should mention them.
>>
>> Has anybody got any advice on how to reproject a full set of rasters, or
>> what I have done wrong?
>>
>> Thanks
>>
>> Rob
>>
>>
>
>
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100608/4e211f18/attachment.html
From woodbri at swoodbridge.com  Tue Jun  8 13:07:50 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Tue Jun  8 13:10:12 2010
Subject: [gdal-dev] ERROR 1: Too many points (441 out of 441) failed to
 transform, , unable to compute output bounds.
Message-ID: <4C0E78E6.3050809@swoodbridge.com>

Hi all,

I am getting the dreaded:

ERROR 1: Too many points (441 out of 441) failed to transform,
unable to compute output bounds.

I am trying to convert MrSid Landsat images in WGS84 UTM projections to 
GeoTif files in EPSG:4326 projection.

[steve@map101 ~]$ gdalinfo -nomd /geotiff/GeoCover2000/n-01-00.sid
Driver: MrSID/Multi-resolution Seamless Image Database (MrSID)
Files: /geotiff/GeoCover2000/n-01-00.sid
        /geotiff/GeoCover2000/n-01-00.sdw
Size is 53892, 19490
Coordinate System is `'
Origin = (116009.250000000000000,276735.000000000000000)
Pixel Size = (14.250000000000000,-14.250000000000000)
Corner Coordinates:
Upper Left  (  116009.250,  276735.000)
Lower Left  (  116009.250,    -997.500)
Upper Right (  883970.250,  276735.000)
Lower Right (  883970.250,    -997.500)
Center      (  499989.750,  137868.750)
Band 1 Block=1024x128 Type=Byte, ColorInterp=Red
   Minimum=0.000, Maximum=199.000, Mean=9.078, StdDev=18.492
   Overviews: 26946x9745, 13473x4873, 6737x2437, 3369x1219, 1685x610, 
843x305, 422x153, 211x77
Band 2 Block=1024x128 Type=Byte, ColorInterp=Green
   Minimum=0.000, Maximum=215.000, Mean=8.402, StdDev=17.521
   Overviews: 26946x9745, 13473x4873, 6737x2437, 3369x1219, 1685x610, 
843x305, 422x153, 211x77
Band 3 Block=1024x128 Type=Byte, ColorInterp=Blue
   Minimum=0.000, Maximum=214.000, Mean=9.892, StdDev=20.335
   Overviews: 26946x9745, 13473x4873, 6737x2437, 3369x1219, 1685x610, 
843x305, 422x153, 211x77

[steve@map101 ~]$ cat /geotiff/GeoCover2000/n-01-00.prj
Projection     UTM
Datum          WGS84
Zunits         NO
Units          METERS
Zone           1
Xshift         0.000000
Yshift         0.000000
Parameters

[steve@map101 ~]$ gdal_translate -of VRT 
/geotiff/GeoCover2000/n-01-00.sid -b 1 -b 2 -b 3 
/geotiff/GeoCover2000TIF//tmp.vrt

[steve@map101 ~]$ time gdalwarp -srcnodata 0 -dstnodata 0 -s_srs 
'+init=epsg:32601' -t_srs EPSG:4326 -rb -wm 250 --config 
GDAL_ONE_BIG_READ ON -co "TILED=YES" /geotiff/GeoCover2000TIF//tmp.vrt 
/geotiff/GeoCover2000TIF///n-01-00.tif
Creating output file that is 58426P x 408L.
Processing input file /geotiff/GeoCover2000TIF//tmp.vrt.
ERROR 1: Too many points (441 out of 441) failed to transform,
unable to compute output bounds.

I have tried setting -s_srs to the following but I get the same response:

-s_srs '+proj=utm +zone=1 +ellps=WGS84 +towgs=0,0,0,0,0,0,0 +unit=m +nodef'

-s_srs epsg:32601

-s_srs '+init=epsg:32601'

I have 882 of these files and need to convert the whole set. I have not 
used the VRT driver that much, but I'm wondering if I should do 
something like put all the source files into a single VRT file and then 
cut sections out of the or if just converting each file will work. I 
thinking about edge gaps and overlaps and nodata issues? Any pointers on 
the best approach to do this would be appreciated.

All the best,
   -Steve
From eloi.ribeiro at gmail.com  Tue Jun  8 13:51:50 2010
From: eloi.ribeiro at gmail.com (Eloi Ribeiro)
Date: Tue Jun  8 13:51:55 2010
Subject: [gdal-dev] get gdalinfo output with a python script
Message-ID: <AANLkTilap94oOvFb0IaHPZVyGdWpsU-sIH8MBSOIbtwK@mail.gmail.com>

Hi,

I don't manage to get all the info from a GRIB file with a python script as
it's possible with gdalinfo output.

gdalinfo output example from a GRIB band:

*Band 1 Block=720x1 Type=Float64, ColorInterp=Undefined*
*  Description = 2[m] HTGL="Specified height level above ground"*
*  Metadata:*
*    GRIB_UNIT=[K]*
*    GRIB_COMMENT=Minimum Temperature [K]*
*    GRIB_ELEMENT=TMIN*
*    GRIB_SHORT_NAME=2-HTGL*
*    GRIB_REF_TIME=   283996800 sec UTC*
*    GRIB_VALID_TIME=   284000400 sec UTC*
*    GRIB_FORECAST_SECONDS=0 sec*

Till now I manage to get all Metadata tags but not all the info from the tow
first lines.
I am using the following code:

*from osgeo import gdal*
*
*
*dataset = gdal.Open(filename, gdal.GA_ReadOnly)*
*if dataset is None:*
*    print 'Nao foi possivel abrir a imagem!'*
*for nBandas in range(1, dataset.RasterCount + 1):*
*    banda = dataset.GetRasterBand(nBandas)*
*    BlockSize = banda.GetBlockSize()*
*    DataType  = gdal.GetDataTypeName(banda.DataType)*
*    Metadata = banda.GetMetadata()*
*    for chave, valor in Metadata.iteritems():*
*        print chave, '=', valor.strip()*

I would appreciate some help.
Thanks in advance.

-- 
Eloi Ribeiro
GIS Analyst
39,45? -4,40?
http://eloiribeiro.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100608/2c504c6c/attachment.html
From even.rouault at mines-paris.org  Tue Jun  8 15:41:26 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Jun  8 15:41:39 2010
Subject: [gdal-dev] get gdalinfo output with a python script
In-Reply-To: <AANLkTilap94oOvFb0IaHPZVyGdWpsU-sIH8MBSOIbtwK@mail.gmail.com>
References: <AANLkTilap94oOvFb0IaHPZVyGdWpsU-sIH8MBSOIbtwK@mail.gmail.com>
Message-ID: <201006082141.28419.even.rouault@mines-paris.org>

http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples/gdalinfo.py

Would need just a few minor changes to work against GDAL 1.7 python bindings

Le Tuesday 08 June 2010 19:51:50 Eloi Ribeiro, vous avez ?crit?:
> Hi,
>
> I don't manage to get all the info from a GRIB file with a python script as
> it's possible with gdalinfo output.
>
> gdalinfo output example from a GRIB band:
>
> *Band 1 Block=720x1 Type=Float64, ColorInterp=Undefined*
> *  Description = 2[m] HTGL="Specified height level above ground"*
> *  Metadata:*
> *    GRIB_UNIT=[K]*
> *    GRIB_COMMENT=Minimum Temperature [K]*
> *    GRIB_ELEMENT=TMIN*
> *    GRIB_SHORT_NAME=2-HTGL*
> *    GRIB_REF_TIME=   283996800 sec UTC*
> *    GRIB_VALID_TIME=   284000400 sec UTC*
> *    GRIB_FORECAST_SECONDS=0 sec*
>
> Till now I manage to get all Metadata tags but not all the info from the
> tow first lines.
> I am using the following code:
>
> *from osgeo import gdal*
> *
> *
> *dataset = gdal.Open(filename, gdal.GA_ReadOnly)*
> *if dataset is None:*
> *    print 'Nao foi possivel abrir a imagem!'*
> *for nBandas in range(1, dataset.RasterCount + 1):*
> *    banda = dataset.GetRasterBand(nBandas)*
> *    BlockSize = banda.GetBlockSize()*
> *    DataType  = gdal.GetDataTypeName(banda.DataType)*
> *    Metadata = banda.GetMetadata()*
> *    for chave, valor in Metadata.iteritems():*
> *        print chave, '=', valor.strip()*
>
> I would appreciate some help.
> Thanks in advance.


From even.rouault at mines-paris.org  Tue Jun  8 16:18:14 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Jun  8 16:18:29 2010
Subject: [gdal-dev] ERROR 1: Too many points (441 out of 441) failed to
	transform, , unable to compute output bounds.
In-Reply-To: <4C0E78E6.3050809@swoodbridge.com>
References: <4C0E78E6.3050809@swoodbridge.com>
Message-ID: <201006082218.15727.even.rouault@mines-paris.org>

Stephen,

Obviously when dealing with UTM zone 1 or 60, you can expect some issues :-)

The spatial extent of your source file is the following :

Upper Left  (  116009.250,  276735.000) (179d32'52.82"E,  2d29'56.85"N)
Lower Left  (  116009.250,    -997.500) (179d33'4.57"E,  0d 0'32.43"S)
Upper Right (  883970.250,  276735.000) (173d32'53.48"W,  2d29'56.85"N)
Lower Right (  883970.250,    -997.500) (173d33'5.24"W,  0d 0'32.43"S)
Center      (  499989.750,  137868.750) (177d 0'0.33"W,  1d14'50.42"N)

Which means its crossing the dateline meridian, a never ending source of 
problems, in particular for gdalwarp...

There's luckily a workaround. You can give a hint to the warping algorithm by 
specifying the center longitude of the area of interest.

Try this : gdalwarp --config CENTER_LONG 180 -s_srs EPSG:36001 -t_srs 
EPSG:4326 source_dataset out.tif

The longitude extent of the out.tif will be approx. between 179.55 and 186.44, 
which might cause issues in number of applications that would expect the 
longitude to be in the [-180,180] range. In that case, you'd likely need to 
cut it into 2 pieces, at the west and east of longitude 180 with 
gdal_translate.

(You could also try with CENTER_LONG set at -180, which would leave to simular 
results, but with extent centered around -180 ...)

Best regards,

Even
From ben at malleefocus.com.au  Tue Jun  8 23:36:58 2010
From: ben at malleefocus.com.au (Mallee)
Date: Tue Jun  8 23:37:00 2010
Subject: [gdal-dev] Re: Fwd: Shift of geoTiff
In-Reply-To: <1276049915331-5156388.post@n2.nabble.com>
References: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com>
	<4C0D076C.8030801@pobox.com>
	<AANLkTikDbOahDzGNN3-GPfzdrgOuLZLvDIvfWQF_ALF3@mail.gmail.com>
	<loom.20100608T145647-881@post.gmane.org>
	<1276049915331-5156388.post@n2.nabble.com>
Message-ID: <1276054618475-5156602.post@n2.nabble.com>


(Ben here - thought I'd have a look at this list)...

Jukka that looks right if the origin is the upper left corner of the upper
left pixel.

According to the GeoTiff spec
(http://www.remotesensing.org/geotiff/spec/geotiff2.5.html#2.5.2), that
would be the 'PixelIsArea' raster grid space - which is the default (see
2.5.2.2).

There is a PixelIsPoint raster grid space (also defined in 2.5.2.2), which
has the origin at the centre of the upper left pixel. In that case (cols -
1) x dx and (rows-1) x dy are right for getting the corner coordinates,
which are the centres and not the extremities of pixels. I have a feeling
the GeoTIFF I sent Paul is one of these types, because the MetaData supplied
with the file implies it. In the MetaData the corner coordinates given are
(cols-1) x dx and (rows-1) x dy away from eachother.

GDALINFO is reporting (AREA_OR_POINT) that the GeoTIFF is a 'Point' type,
which means that it is GDAL that is not rendering the coordinates correctly,
and not a problem with the GeoTIFF.

The GeoTIFFs, by the way, are produced by USGS from Landsat 4, 5 and 7 data
and distributed worldwide, freely, through http://glovis.usgs.gov/. There
will be plenty of people who are half a pixel out! SAGA (and presumably
other GDAL-based GIS) has the same problem with these GeoTIFFs.

Thank you for looking into it

Ben

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-Shift-of-geoTiff-tp5149184p5156602.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jukka.rahkonen at mmmtike.fi  Wed Jun  9 00:58:40 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed Jun  9 00:58:55 2010
Subject: [gdal-dev] Re: Fwd: Shift of geoTiff
References: <AANLkTilw1bDpYNZaejI7NgjuGArYBgGSMcV6Atn9-Kco@mail.gmail.com>
	<4C0D076C.8030801@pobox.com>
	<AANLkTikDbOahDzGNN3-GPfzdrgOuLZLvDIvfWQF_ALF3@mail.gmail.com>
	<loom.20100608T145647-881@post.gmane.org>
	<1276049915331-5156388.post@n2.nabble.com>
	<1276054618475-5156602.post@n2.nabble.com>
Message-ID: <loom.20100609T064846-390@post.gmane.org>

Mallee <ben <at> malleefocus.com.au> writes:

> 
> 
> (Ben here - thought I'd have a look at this list)...
> 
> Jukka that looks right if the origin is the upper left corner of the upper
> left pixel.

Hi,

I think that placement of the anchor point does not change situation with total
image extents.  Now the left extreme is just half a pixel left from the anchor
point and the rightmost is half a pixel right from the anchor point, instead of
offsets being zero and one. But I do not really know anything about pixelispoint
and pixelisarea tags and if GDAL handles them correctly.

-Jukka-

From gs.kevin1 at gmail.com  Wed Jun  9 02:35:10 2010
From: gs.kevin1 at gmail.com (GeoSpatial - Kevin)
Date: Wed Jun  9 02:42:15 2010
Subject: [gdal-dev] Does anyone have built/compiled 64 bit versions of 
	either FWTools or gdal
In-Reply-To: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>
References: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>
Message-ID: <AANLkTinQ4jlldKrx06HPTmZQmCpjbE0hHss2q2rTVmbL@mail.gmail.com>

Has someone already documented the performance difference between x32 and
x64 versions of the FWTools / gdal? Improvement by how much? Many thanks.

Kevin



On Thu, Jun 3, 2010 at 1:39 AM, John Mitchell <mitchelljj98@gmail.com>wrote:

> Does anyone have built/compiled 64 bit versions of either FWTools or gdal
> for:
>  a.) Windows 64 bit
>  b.) Linux 64 bit
>
> Thanks,
>
> John
>
> --
> John J. Mitchell
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/c2e4fdbd/attachment.html
From szekerest at gmail.com  Wed Jun  9 03:03:08 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Jun  9 03:03:19 2010
Subject: [gdal-dev] Does anyone have built/compiled 64 bit versions of 
	either FWTools or gdal
In-Reply-To: <AANLkTinQ4jlldKrx06HPTmZQmCpjbE0hHss2q2rTVmbL@mail.gmail.com>
References: <AANLkTilBoqcCcv2HngESl2r4KWdeboQ7Hrnr5Uf5YTdB@mail.gmail.com>
	<AANLkTinQ4jlldKrx06HPTmZQmCpjbE0hHss2q2rTVmbL@mail.gmail.com>
Message-ID: <AANLkTiljWtDvND35vCbfltuiG-BnidbVyHWJhrEezEgS@mail.gmail.com>

2010/6/9 GeoSpatial - Kevin <gs.kevin1@gmail.com>

> Has someone already documented the performance difference between x32 and
> x64 versions of the FWTools / gdal? Improvement by how much? Many thanks.
>
>
Kevin,

I don't expect too much difference in performance, and I'm not aware of any
compare results. However one can do a compare by using the packages from
http://vbkto.dyndns.org/sdk/ which have been compiled by using the same
settings for x86 and x64. Any feedback on the experiences are highly
appreciated.

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/1310d6d6/attachment.html
From eloi.ribeiro at gmail.com  Wed Jun  9 07:33:46 2010
From: eloi.ribeiro at gmail.com (Eloi Ribeiro)
Date: Wed Jun  9 07:33:50 2010
Subject: [gdal-dev] get gdalinfo output with a python script
In-Reply-To: <201006082141.28419.even.rouault@mines-paris.org>
References: <AANLkTilap94oOvFb0IaHPZVyGdWpsU-sIH8MBSOIbtwK@mail.gmail.com>
	<201006082141.28419.even.rouault@mines-paris.org>
Message-ID: <AANLkTilEpMAAU4mClyaQ1SEldzg80NwWrQuzkTpyEYi6@mail.gmail.com>

Thanks for the link Even!
There was everything I needed to know in line 338 - "Loop over bands".
I was missing this: Description = banda.GetDescription().

Thanks,
Eloi




On Tue, Jun 8, 2010 at 9:41 PM, Even Rouault
<even.rouault@mines-paris.org>wrote:

>
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples/gdalinfo.py
>
> Would need just a few minor changes to work against GDAL 1.7 python
> bindings
>
> Le Tuesday 08 June 2010 19:51:50 Eloi Ribeiro, vous avez ?crit :
> > Hi,
> >
> > I don't manage to get all the info from a GRIB file with a python script
> as
> > it's possible with gdalinfo output.
> >
> > gdalinfo output example from a GRIB band:
> >
> > *Band 1 Block=720x1 Type=Float64, ColorInterp=Undefined*
> > *  Description = 2[m] HTGL="Specified height level above ground"*
> > *  Metadata:*
> > *    GRIB_UNIT=[K]*
> > *    GRIB_COMMENT=Minimum Temperature [K]*
> > *    GRIB_ELEMENT=TMIN*
> > *    GRIB_SHORT_NAME=2-HTGL*
> > *    GRIB_REF_TIME=   283996800 sec UTC*
> > *    GRIB_VALID_TIME=   284000400 sec UTC*
> > *    GRIB_FORECAST_SECONDS=0 sec*
> >
> > Till now I manage to get all Metadata tags but not all the info from the
> > tow first lines.
> > I am using the following code:
> >
> > *from osgeo import gdal*
> > *
> > *
> > *dataset = gdal.Open(filename, gdal.GA_ReadOnly)*
> > *if dataset is None:*
> > *    print 'Nao foi possivel abrir a imagem!'*
> > *for nBandas in range(1, dataset.RasterCount + 1):*
> > *    banda = dataset.GetRasterBand(nBandas)*
> > *    BlockSize = banda.GetBlockSize()*
> > *    DataType  = gdal.GetDataTypeName(banda.DataType)*
> > *    Metadata = banda.GetMetadata()*
> > *    for chave, valor in Metadata.iteritems():*
> > *        print chave, '=', valor.strip()*
> >
> > I would appreciate some help.
> > Thanks in advance.
>
>
>


-- 
Eloi Ribeiro
GIS Analyst
39,45? -4,40?
http://eloiribeiro.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/35088d7c/attachment.html
From woodbri at swoodbridge.com  Wed Jun  9 08:58:34 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Wed Jun  9 09:01:14 2010
Subject: [gdal-dev] ERROR 1: Too many points (441 out of 441) failed to
	transform, , unable to compute output bounds.
In-Reply-To: <201006082218.15727.even.rouault@mines-paris.org>
References: <4C0E78E6.3050809@swoodbridge.com>
	<201006082218.15727.even.rouault@mines-paris.org>
Message-ID: <4C0F8FFA.2030508@swoodbridge.com>

Even,

Excellent! this fixed the problem and I can split the image if I need to 
do that.

So does --config CENTER_LONG 180 impact processing of files that are in 
other UTM Zones? ie: can I just always use this or will if mess up other 
files in some way?

Thanks,
   -Steve

Even Rouault wrote:
> Stephen,
> 
> Obviously when dealing with UTM zone 1 or 60, you can expect some issues :-)
> 
> The spatial extent of your source file is the following :
> 
> Upper Left  (  116009.250,  276735.000) (179d32'52.82"E,  2d29'56.85"N)
> Lower Left  (  116009.250,    -997.500) (179d33'4.57"E,  0d 0'32.43"S)
> Upper Right (  883970.250,  276735.000) (173d32'53.48"W,  2d29'56.85"N)
> Lower Right (  883970.250,    -997.500) (173d33'5.24"W,  0d 0'32.43"S)
> Center      (  499989.750,  137868.750) (177d 0'0.33"W,  1d14'50.42"N)
> 
> Which means its crossing the dateline meridian, a never ending source of 
> problems, in particular for gdalwarp...
> 
> There's luckily a workaround. You can give a hint to the warping algorithm by 
> specifying the center longitude of the area of interest.
> 
> Try this : gdalwarp --config CENTER_LONG 180 -s_srs EPSG:36001 -t_srs 
> EPSG:4326 source_dataset out.tif
> 
> The longitude extent of the out.tif will be approx. between 179.55 and 186.44, 
> which might cause issues in number of applications that would expect the 
> longitude to be in the [-180,180] range. In that case, you'd likely need to 
> cut it into 2 pieces, at the west and east of longitude 180 with 
> gdal_translate.
> 
> (You could also try with CENTER_LONG set at -180, which would leave to simular 
> results, but with extent centered around -180 ...)
> 
> Best regards,
> 
> Even

From mitchelljj98 at gmail.com  Wed Jun  9 09:24:13 2010
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Wed Jun  9 09:30:45 2010
Subject: [gdal-dev] Is a way to just get the minimum bounding polygon of
	just the image.
Message-ID: <AANLkTilw_cDJ2e59ieZacUnOdZgiPpru7bTCE4Ybuf5v@mail.gmail.com>

Does anyone know of a tool that will derive the minimum bounding
polygon of the actual image within a geotiff not including the black
area on the outside of the image that makes the entire image a
rectangle.  I know that you can derive the minimum bounding rectangle
of the entire geotiff by running gdalinfo, but I need to know if their
is a way to just get the minimum bounding polygon of just the image.

Thanks,

John

-- 
John J. Mitchell
From ivan at sanchezortega.es  Wed Jun  9 09:44:00 2010
From: ivan at sanchezortega.es (=?iso-8859-1?q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Wed Jun  9 09:44:08 2010
Subject: [gdal-dev] Is a way to just get the minimum bounding polygon of
	just the image.
In-Reply-To: <AANLkTilw_cDJ2e59ieZacUnOdZgiPpru7bTCE4Ybuf5v@mail.gmail.com>
References: <AANLkTilw_cDJ2e59ieZacUnOdZgiPpru7bTCE4Ybuf5v@mail.gmail.com>
Message-ID: <201006091544.00747.ivan@sanchezortega.es>

El d?a Wednesday 09 June 2010 15:24:13, John Mitchell dijo:
> Does anyone know of a tool that will derive the minimum bounding
> polygon of the actual image

Maybe you can start with http://www.gdal.org/gdal_polygonize.html ?

Get some polygons for the black areas, then do a bit of geoprocessing to 
calculate the difference between the image bbox and the black polygons.

-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>

Un ordenador no es una televisi?n ni un microondas: es una herramienta 
compleja.
From antonio.rocha at deimos.com.pt  Wed Jun  9 13:09:56 2010
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Wed Jun  9 13:10:41 2010
Subject: [gdal-dev] Processing GRIB files- error in geolocation
Message-ID: <4C0FCAE4.4040808@deimos.com.pt>

Greetings

I'm using GDAL to pre-process a few GRIB files and compare it with 
tkdegrib and I realized that GDAL processing GRIBs have a displacement 
of a nearly 0,5 pixel SE. I'm using GDAL 1.7.1, released 2010/02/08 . Is 
there any fix for this issue/problem?
Thanks

Best regards,
Antonio Rocha


__________ Information from ESET NOD32 Antivirus, version of virus signature database 5185 (20100609) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From eduardo.kanegae at gmail.com  Wed Jun  9 14:15:33 2010
From: eduardo.kanegae at gmail.com (Eduardo Kanegae)
Date: Wed Jun  9 14:15:57 2010
Subject: [gdal-dev] ESRI file geodatabase support
Message-ID: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>

Hi,

I?ve this topic at Google
http://osgeo-org.1803224.n2.nabble.com/When-or-if-OGR-can-support-ESRI-file-geodatabase-td2592778.html

Is there any plan for OGR on supporting this ESRI format or this will depend
on 'when' ESRI be able to open this format specification.

best regards

-- 
Eduardo Patto Kanegae
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/f060cf86/attachment.html
From even.rouault at mines-paris.org  Wed Jun  9 14:18:47 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jun  9 14:18:59 2010
Subject: [gdal-dev] ERROR 1: Too many points (441 out of 441) failed to
	transform, , unable to compute output bounds.
In-Reply-To: <4C0F8FFA.2030508@swoodbridge.com>
References: <4C0E78E6.3050809@swoodbridge.com>
	<201006082218.15727.even.rouault@mines-paris.org>
	<4C0F8FFA.2030508@swoodbridge.com>
Message-ID: <201006092018.49057.even.rouault@mines-paris.org>

>
> So does --config CENTER_LONG 180 impact processing of files that are in
> other UTM Zones? ie: can I just always use this or will if mess up other
> files in some way?

No, I'd advise against always using --config CENTER_LONG 180 if you want to be 
able to deal with what lies at the west of the Greenwich meridian... (That 
would probably work but the longitudes would not fit in the [-180,180] 
interval as expected)

Here's why (ogr/ogrct.cpp) :

                    if( x[i] < dfTargetWrapLong - 180.0 )
                        x[i] += 360.0;
                    else if( x[i] > dfTargetWrapLong + 180 )
                        x[i] -= 360.0;
                }

So, if the coordinates are too far (more than 180 deg) from the center 
longitude, 360 is added or substracted. That helps when you're warping from 
UTM 1 to EPSG:4326 as part of the target coordinates are > 179 and part  
< -179. The +360 will correct the ones < -179 so that they end up being at 
the east of the ones > 179. 

I imagine that some heuristics could be added to gdalwarp to detect your 
situation and automatically add the --config CENTER_LONG 180, but there's 
always the risk to break other working use cases, and anyway people should be 
aware that there's probably some post-processing needed to deal with the fact 
that the result doesn't fit in the [-180,180] interval.

>
> Thanks,
>    -Steve
>
> Even Rouault wrote:
> > Stephen,
> >
> > Obviously when dealing with UTM zone 1 or 60, you can expect some issues
> > :-)
> >
> > The spatial extent of your source file is the following :
> >
> > Upper Left  (  116009.250,  276735.000) (179d32'52.82"E,  2d29'56.85"N)
> > Lower Left  (  116009.250,    -997.500) (179d33'4.57"E,  0d 0'32.43"S)
> > Upper Right (  883970.250,  276735.000) (173d32'53.48"W,  2d29'56.85"N)
> > Lower Right (  883970.250,    -997.500) (173d33'5.24"W,  0d 0'32.43"S)
> > Center      (  499989.750,  137868.750) (177d 0'0.33"W,  1d14'50.42"N)
> >
> > Which means its crossing the dateline meridian, a never ending source of
> > problems, in particular for gdalwarp...
> >
> > There's luckily a workaround. You can give a hint to the warping
> > algorithm by specifying the center longitude of the area of interest.
> >
> > Try this : gdalwarp --config CENTER_LONG 180 -s_srs EPSG:36001 -t_srs
> > EPSG:4326 source_dataset out.tif
> >
> > The longitude extent of the out.tif will be approx. between 179.55 and
> > 186.44, which might cause issues in number of applications that would
> > expect the longitude to be in the [-180,180] range. In that case, you'd
> > likely need to cut it into 2 pieces, at the west and east of longitude
> > 180 with gdal_translate.
> >
> > (You could also try with CENTER_LONG set at -180, which would leave to
> > simular results, but with extent centered around -180 ...)
> >
> > Best regards,
> >
> > Even


From rush at winkey.org  Wed Jun  9 14:10:19 2010
From: rush at winkey.org (brian)
Date: Wed Jun  9 14:20:05 2010
Subject: [gdal-dev] Processing GRIB files- error in geolocation
In-Reply-To: <4C0FCAE4.4040808@deimos.com.pt>
References: <4C0FCAE4.4040808@deimos.com.pt>
Message-ID: <1276107019.32097.527.camel@winkey.org>

Ant?nio,

Any chance you can provide a link to one of those gribs to provide some
context? 

also check out http://trac.osgeo.org/gdal/ticket/2637


On Wed, 2010-06-09 at 18:09 +0100, Ant?nio Rocha wrote:
> Greetings
> 
> I'm using GDAL to pre-process a few GRIB files and compare it with 
> tkdegrib and I realized that GDAL processing GRIBs have a displacement 
> of a nearly 0,5 pixel SE. I'm using GDAL 1.7.1, released 2010/02/08 . Is 
> there any fix for this issue/problem?
> Thanks
> 
> Best regards,
> Antonio Rocha
> 
> 
> __________ Information from ESET NOD32 Antivirus, version of virus signature database 5185 (20100609) __________
> 
> The message was checked by ESET NOD32 Antivirus.
> 
> http://www.eset.com
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Wed Jun  9 14:23:27 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun  9 14:23:33 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
Message-ID: <4C0FDC1F.7050702@pobox.com>

Eduardo Kanegae wrote:
> Hi,
> 
> I?ve this topic at Google 
> http://osgeo-org.1803224.n2.nabble.com/When-or-if-OGR-can-support-ESRI-file-geodatabase-td2592778.html
> 
> Is there any plan for OGR on supporting this ESRI format or this will 
> depend on 'when' ESRI be able to open this format specification.

Eduardo,

Ragi Burhum has offered an ArcObjects based solution/driver for reading file
geodatabases for those with an ArcObject license.  I'm not sure what the
exact status of that driver is since I'm not in a position to help with it.

For a less encumbered solution for file geodatabase we are effectively
waiting to see what ESRI provides in the manner of an SDK for reading them.
Once we have that, it is also not clear who, if anyone, would turn it into
an OGR driver.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Jun  9 14:28:57 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun  9 14:29:03 2010
Subject: [gdal-dev] Processing GRIB files- error in geolocation
In-Reply-To: <4C0FCAE4.4040808@deimos.com.pt>
References: <4C0FCAE4.4040808@deimos.com.pt>
Message-ID: <4C0FDD69.9040002@pobox.com>

Ant?nio Rocha wrote:
> Greetings
> 
> I'm using GDAL to pre-process a few GRIB files and compare it with 
> tkdegrib and I realized that GDAL processing GRIBs have a displacement 
> of a nearly 0,5 pixel SE. I'm using GDAL 1.7.1, released 2010/02/08 . Is 
> there any fix for this issue/problem?

Ant?nio,

You could try filing a ticket with the file, and a description of why
you are convinced it is off by half a pixel.  Keep in mind that GDAL's
georeferencing model has the origin at the top left corner of the top
left pixel while some raster data/products treats the origin as being at
the center of the top left pixel (or you can think of it as considering
the pixels as point).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Wed Jun  9 14:31:41 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jun  9 14:31:52 2010
Subject: [gdal-dev] Processing GRIB files- error in geolocation
In-Reply-To: <4C0FDD69.9040002@pobox.com>
References: <4C0FCAE4.4040808@deimos.com.pt> <4C0FDD69.9040002@pobox.com>
Message-ID: <201006092031.42221.even.rouault@mines-paris.org>

Or add extra info to http://trac.osgeo.org/gdal/ticket/2637 which seems to be 
about the same issue

Le Wednesday 09 June 2010 20:28:57 Frank Warmerdam, vous avez ?crit?:
> Ant?nio Rocha wrote:
> > Greetings
> >
> > I'm using GDAL to pre-process a few GRIB files and compare it with
> > tkdegrib and I realized that GDAL processing GRIBs have a displacement
> > of a nearly 0,5 pixel SE. I'm using GDAL 1.7.1, released 2010/02/08 . Is
> > there any fix for this issue/problem?
>
> Ant?nio,
>
> You could try filing a ticket with the file, and a description of why
> you are convinced it is off by half a pixel.  Keep in mind that GDAL's
> georeferencing model has the origin at the top left corner of the top
> left pixel while some raster data/products treats the origin as being at
> the center of the top left pixel (or you can think of it as considering
> the pixels as point).
>
> Best regards,


From lewis.milehi at gmail.com  Wed Jun  9 16:29:27 2010
From: lewis.milehi at gmail.com (keith lewis)
Date: Wed Jun  9 16:29:31 2010
Subject: [gdal-dev] Is a way to just get the minimum bounding polygon of
	just the image.
Message-ID: <AANLkTinQ_K63og7DW_kmeElo7YIMdli8PQ61h7a3DvwW@mail.gmail.com>

John,

OSSIM has a command-line tool that might be helpful. It is called
"extract_vertices" and outputs the 4 corners of the true image data.

Here is an excerpt from the document -

Used to compute the valid vertices (corners) of an image. Defines a polygon
- inside the polygon are valid sampled pixels outside are nulls.

extract_vertices <image_file>

You may need to install OSSIM to get the command-line tools.

http://download.osgeo.org/ossim/

Keith
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/14302c27/attachment.html
From eduardo.kanegae at gmail.com  Wed Jun  9 16:32:13 2010
From: eduardo.kanegae at gmail.com (Eduardo Kanegae)
Date: Wed Jun  9 16:32:37 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <AANLkTilfkLHSe7pGquAwSyQw0gJMSbb_YFPs_tFUhBWs@mail.gmail.com>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com> 
	<4C0FDC1F.7050702@pobox.com>
	<AANLkTilfkLHSe7pGquAwSyQw0gJMSbb_YFPs_tFUhBWs@mail.gmail.com>
Message-ID: <AANLkTikGfYEktjC2RYaLhuL62bWLfQZDUNNhq_fV1czE@mail.gmail.com>

thanks for the help Frank,

Or in less words: this support is still in development and we probably have
to think in other solution to read fgdb?s using MapServer or other based on
OGR or FDO interfaces.

Eduardo

2010/6/9 Frank Warmerdam <warmerdam@pobox.com>

Eduardo Kanegae wrote:
>
>> Hi,
>>
>> I?ve this topic at Google
>> http://osgeo-org.1803224.n2.nabble.com/When-or-if-OGR-can-support-ESRI-file-geodatabase-td2592778.html
>>
>> Is there any plan for OGR on supporting this ESRI format or this will
>> depend on 'when' ESRI be able to open this format specification.
>>
>
> Eduardo,
>
> Ragi Burhum has offered an ArcObjects based solution/driver for reading
> file
> geodatabases for those with an ArcObject license.  I'm not sure what the
> exact status of that driver is since I'm not in a position to help with it.
>
> For a less encumbered solution for file geodatabase we are effectively
> waiting to see what ESRI provides in the manner of an SDK for reading them.
> Once we have that, it is also not clear who, if anyone, would turn it into
> an OGR driver.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/616d0f8a/attachment-0001.html
From ryan.may at eecradar.com  Wed Jun  9 18:22:12 2010
From: ryan.may at eecradar.com (Ryan May)
Date: Wed Jun  9 18:23:16 2010
Subject: [gdal-dev] Warping satellite data
Message-ID: <4C101414.9050502@eecradar.com>

Hi,

I have some satellite image data (in a proprietary format) that are in various
projections. Is there a way to use GDAL to take the binary data I already have
in memory reproject/warp them to a different projection, yielding new arrays
(i.e. without writing the data to an image on disk)?

All the examples I seem to find use the GDAL drivers to read the data from disk.

Thanks in advance.

Ryan

From ragi at burhum.com  Wed Jun  9 18:30:55 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Wed Jun  9 18:30:58 2010
Subject: [gdal-dev] ESRI file geodatabase support
Message-ID: <AANLkTin6HKdMDxJVa4kjiWbST66S6novPy22TC-OkJuT@mail.gmail.com>

Eduardo:

Not sure what you mean, but the ArcObjects OGR driver is, well, an OGR
driver. So it exposes things through an OGR interface. However the
ArcObjects side of things requires an ESRI license to run.
I have been using this driver in a production environment to load data from
FileGDB to PostGIS for the past 6 months without encountering any major
issues so far, so I have not really changed the code except for a few lines
in February to handle a small bug.

Feel free to get a Windows binary I built against 1.6

http://bit.ly/cNdrSr

If you want to know how to use it, I sent an e-mail to the mailing list
earlier

http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg05562.html

As far as the ESRI official SDK, AFAIK, it won't be worked on until 10 is
released (for my purposes, I couldn't wait for that, so that's why I wrote
the ArcObjects OGR driver).

Frank:

I'd be willing to create that OGR driver once the SDK is out, I just need to
have that SDK in hand :)

- Ragi


> From: Eduardo Kanegae <eduardo.kanegae@gmail.com>
> Subject: Re: [gdal-dev] ESRI file geodatabase support
> To: gdal-dev@lists.osgeo.org
>
> thanks for the help Frank,
>
> Or in less words: this support is still in development and we probably have
> to think in other solution to read fgdb?s using MapServer or other based on
> OGR or FDO interfaces.
>
> Eduardo
>
> 2010/6/9 Frank Warmerdam <warmerdam@pobox.com>
>
> Eduardo Kanegae wrote:
> >
> >> Hi,
> >>
> >> I?ve this topic at Google
> >>
> http://osgeo-org.1803224.n2.nabble.com/When-or-if-OGR-can-support-ESRI-file-geodatabase-td2592778.html
> >>
> >> Is there any plan for OGR on supporting this ESRI format or this will
> >> depend on 'when' ESRI be able to open this format specification.
> >>
> >
> > Eduardo,
> >
> > Ragi Burhum has offered an ArcObjects based solution/driver for reading
> > file
> > geodatabases for those with an ArcObject license.  I'm not sure what the
> > exact status of that driver is since I'm not in a position to help with
> it.
> >
> > For a less encumbered solution for file geodatabase we are effectively
> > waiting to see what ESRI provides in the manner of an SDK for reading
> them.
> > Once we have that, it is also not clear who, if anyone, would turn it
> into
> > an OGR driver.
> >
> > Best regards,
> > --
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/fcaf82cc/attachment.html
From matt.wilkie at gov.yk.ca  Wed Jun  9 18:58:06 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Jun  9 18:58:34 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C0FDC1F.7050702@pobox.com>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com>
Message-ID: <4C101C7E.7010009@gov.yk.ca>

I've lost all confidence that ESRI's as yet unpublished API will be open 
enough to allow gdal/ogr to use it without reverse engineering.

Although promised years ago (ESRI UC, 2007) they've been dragging their 
feet and being quite close mouthed about the whole thing. Even as 
recently as a few months ago they have been unwilling to even say if it 
will be usuable without purchasing a run-time license. Apparently they 
did say at the March developer summit that there will be no support for 
Annotation, Relationships, Networks, Topologies, Representations, 
Terrains and Parcel Fabrics in FGDB API. Simple Features only, and C++ only.

Personally, I think it's time to give up waiting for the fgdb api and 
start looking into a truly open source alternative for a shapefile 
successor. SpatialLite is the best candidate I know of.

Of course we can't ignore the fgdb as for better or ill we still live 
and operate within an ecosystem dominated by ESRI. It just won't be the 
next lingua franca, used by all as a common exchange format.

Sources:

http://forums.esri.com/Thread.asp?c=93&f=985&t=243828
http://spatialgalaxy.net/2010/03/28/speculations-on-the-file-geodatabase-api/
http://www.spatialdbadvisor.com/blog/121/the-shapefile-manifesto/


matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

On 09/06/2010 11:23 AM, Frank Warmerdam wrote:
> Eduardo Kanegae wrote:
>> Hi,
>>
>> I?ve this topic at Google
>> http://osgeo-org.1803224.n2.nabble.com/When-or-if-OGR-can-support-ESRI-file-geodatabase-td2592778.html
>>
>> Is there any plan for OGR on supporting this ESRI format or this will
>> depend on 'when' ESRI be able to open this format specification.
>
> Eduardo,
>
> Ragi Burhum has offered an ArcObjects based solution/driver for reading file
> geodatabases for those with an ArcObject license.  I'm not sure what the
> exact status of that driver is since I'm not in a position to help with it.
>
> For a less encumbered solution for file geodatabase we are effectively
> waiting to see what ESRI provides in the manner of an SDK for reading them.
> Once we have that, it is also not clear who, if anyone, would turn it into
> an OGR driver.
>
> Best regards,
From edomazlicky at tacomacc.edu  Wed Jun  9 18:49:50 2010
From: edomazlicky at tacomacc.edu (Domazlicky, Eric)
Date: Wed Jun  9 19:06:05 2010
Subject: [gdal-dev] Warping satellite data
In-Reply-To: <4C101414.9050502@eecradar.com>
References: <4C101414.9050502@eecradar.com>
Message-ID: <B7F858CF2D73F6459DDD8F14F68019D4146F4FAC@XMail.tccnet.edu>

GdalWarp can reproject image data quite easily. The hard part in your
case is going to be getting GDAL to recognize the data. Your best bet is
to somehow convert the data to a GeoTiff or some other format GDAL can
read first.


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Ryan May
Sent: Wednesday, June 09, 2010 3:22 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Warping satellite data

Hi,

I have some satellite image data (in a proprietary format) that are in
various
projections. Is there a way to use GDAL to take the binary data I
already have
in memory reproject/warp them to a different projection, yielding new
arrays
(i.e. without writing the data to an image on disk)?

All the examples I seem to find use the GDAL drivers to read the data
from disk.

Thanks in advance.

Ryan

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From matt.wilkie at gov.yk.ca  Wed Jun  9 19:15:31 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Jun  9 19:15:57 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <AANLkTin6HKdMDxJVa4kjiWbST66S6novPy22TC-OkJuT@mail.gmail.com>
References: <AANLkTin6HKdMDxJVa4kjiWbST66S6novPy22TC-OkJuT@mail.gmail.com>
Message-ID: <4C102093.1000605@gov.yk.ca>

>
>
> If you want to know how to use it, I sent an e-mail to the mailing 
> list earlier
>
> http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg05562.html
>


Hi Ragi, thanks for re-posting this. I missed the earlier announcement.

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/8e419854/attachment.html
From ragi at burhum.com  Wed Jun  9 20:48:15 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Wed Jun  9 20:48:18 2010
Subject: [gdal-dev] PGeo: reading circular arcs - how?
In-Reply-To: <AANLkTikfgbOpaQB27q3s5wh8ZhRCbGxDOwp7V5ptLaKq@mail.gmail.com>
References: <20100605160010.DEC8DE019C6@lists.osgeo.org>
	<BA7C6947-DAFE-4449-AE9C-AEE9950B6EFA@burhum.com>
	<AANLkTikfgbOpaQB27q3s5wh8ZhRCbGxDOwp7V5ptLaKq@mail.gmail.com>
Message-ID: <AANLkTimABg8zaMqnSUG184GHKKaI9TEJuX2zOlsH1zAe@mail.gmail.com>

Hello Stefan,

Sorry for the delay in the reply (I am trying to clean up my e-mail today).
Answers inline below

On Sun, Jun 6, 2010 at 7:02 AM, Stefan Keller <sfkeller@gmail.com> wrote:

> Hi Ragi
>
> Thank you for the tips.
>
> I browsed through the pages you referred to but I somehow did not find
> neither a formula nor the meaning of the parameters.
>
>
http://resources.esri.com/help/9.3/ArcGISDesktop/ArcObjects/esriGeometry/IPolycurve_Densify.htm

Basically, there is a call to Densify. As far as the formula/algorithm to
create those lines, well, look for Douglas Peucker.


Keep in mind that I am reading the binary format of PGeo and I am
> focussing on circular arcs only. The beginning of the encoding binary
> block elements are already clear.
>
>
Great! less to worry about :)


> What's confusing is that I would expect as attributes just a starting
> point, a midpoint and an endpoint. But what's somehow there is s
> startpoint and followed by 4 or more attributes.
>
>
If I remember correctly, serialization of curves changed between 9.2 to 9.3.
So you need to know what GeoDatabase version you are reading (it is on one
of the metadata tables).

As far as what those attributes are, well, honestly, there was a reason to
my "not fun" comment.

You see, I don't think you will find a description of those attributes, but
you can make an educated guess.

If you look at the different ways to construct a Circular in ArcObjects

http://resources.esri.com/help/9.3/ArcGISDesktop/ArcObjects/esriGeometry/IConstructCircularArc2.htm

you will understand why it can be a pain. I don't know which attributes they
are serializing, but it definitely is the parameters of one of the listed
methods.

Good luck,

- Ragi



> Yours,
> Stefan
>
>
> 2010/6/5 Ragi Burhum <ragi@burhum.com>:
> >
> >> From: Stefan Keller <sfkeller@gmail.com>
> >> Subject: [gdal-dev] PGeo: reading circular arcs - how?
> >> To: gdal-dev@lists.osgeo.org
> >>
> >>
> >> Hi all
> >>
> >> I have an ESRI Personal GeoDatabase .mdb file (PGeo) which I would
> >> like to read and convert e.g. to Shapefile.
> >> The PGeo file contains "circular arc"s (or circular curve) and since
> >> OGR only supports linestrings they should be segmented (similar to
> >> http://www.gdal.org/ogr/drv_ili.html ).
> >>
> >> Now it turned out that the output is wrong: It seems that at least the
> >> midpoint(s) are misinterepreted.
> >>
> >> In fact, when looking at the source (line 430 ff.) there's a TODO there:
> >>
> http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/pgeo/ogrpgeolayer.cpp
> >>
> >> ESRI user doc says at
> >>
> http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//002t0000000m000000.htm
> >> "Circular arc curves use a mathematical formula to draw the curve. If
> >> you export a geodatabase feature class containing circular
> >> arc curve features to a shapefile, the curved features are transformed
> >> to simple line features with closely spaced vertices to capture the
> >> curved shape".
> >>
> >> => Does anybody know this formula
> >
> >
> http://resources.esri.com/help/9.3/ArcGISEngine/java/api/arcobjects/com/esri/arcgis/geometry/IPolycurve.html#densify(double,%20double)
> >
> >
> >>  and/or the meaning of the
> >> additional attributes in the byte stream?
> >>
> >
> > depends on the type of curve. It could be a bezier curve, elliptical arc
> or circular arc. if you look at the coclasses of Icurve
> http://edndoc.esri.com/arcobjects/9.2/ComponentHelp/esrigeometry/ICurve.htmyou will find attributes defined on those specific types that are most
> likely the serialized bytes.
> >
> > not fun.
> >
> > good luck,
> >
> > Ragi_______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100609/31591c1c/attachment-0001.html
From warmerdam at pobox.com  Wed Jun  9 21:26:57 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun  9 21:27:02 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C101C7E.7010009@gov.yk.ca>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
Message-ID: <4C103F61.3050506@pobox.com>

Matt Wilkie wrote:
> Of course we can't ignore the fgdb as for better or ill we still live 
> and operate within an ecosystem dominated by ESRI. It just won't be the 
> next lingua franca, used by all as a common exchange format.

Matt,

I agree.  I do not believe the file geodatabase will have a significant
impact outside of ESRI users, and for GDAL/OGR our efforts will presumably be
to help people get their data out when needed.   I agree that Spatialite
shows promise as an open geodatabase format though it remains to be seen
how widely it will be adopted.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Jun  9 21:30:42 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun  9 21:30:50 2010
Subject: [gdal-dev] Warping satellite data
In-Reply-To: <4C101414.9050502@eecradar.com>
References: <4C101414.9050502@eecradar.com>
Message-ID: <4C104042.504@pobox.com>

Ryan May wrote:
> Hi,
> 
> I have some satellite image data (in a proprietary format) that are in various
> projections. Is there a way to use GDAL to take the binary data I already have
> in memory reproject/warp them to a different projection, yielding new arrays
> (i.e. without writing the data to an image on disk)?
> 
> All the examples I seem to find use the GDAL drivers to read the data from disk.

Ryan,

Uses the in memory "MEM" driver it is possible to create a GDALDataset that
accesses an existing memory array. It is also possible to have the warp
API create a warped image in memory using the MEM driver.  Some info is
available at:

   http://www.gdal.org/frmt_mem.html

The warper can only work on datasets, but datasets do not need to be files
on disk.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From eduardo.kanegae at gmail.com  Wed Jun  9 22:24:56 2010
From: eduardo.kanegae at gmail.com (Eduardo Kanegae)
Date: Wed Jun  9 22:25:18 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <AANLkTikGfYEktjC2RYaLhuL62bWLfQZDUNNhq_fV1czE@mail.gmail.com>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com> 
	<4C0FDC1F.7050702@pobox.com>
	<AANLkTilfkLHSe7pGquAwSyQw0gJMSbb_YFPs_tFUhBWs@mail.gmail.com> 
	<AANLkTikGfYEktjC2RYaLhuL62bWLfQZDUNNhq_fV1czE@mail.gmail.com>
Message-ID: <AANLkTil4iVi40g8ltikviLtTYW8gtiFOqwGzMRebvR03@mail.gmail.com>

Hi Ragi,

You mean, unless I use this pre-built version you gave me (
http://bit.ly/cNdrSr ) I?ll have to download GDAL sources + AO patches
and then build at Win box my own GDAL/MapServer bins to read this
format? Am I right?

Eduardo

Ragi wrote>>

Eduardo:

Not sure what you mean, but the ArcObjects OGR driver is, well, an OGR
driver. So it exposes things through an OGR interface. However the
ArcObjects side of things requires an ESRI license to run.
I have been using this driver in a production environment to load data from
FileGDB to PostGIS for the past 6 months without encountering any major
issues so far, so I have not really changed the code except for a few lines
in February to handle a small bug.

Feel free to get a Windows binary I built against 1.6

http://bit.ly/cNdrSr

If you want to know how to use it, I sent an e-mail to the mailing list
earlier

http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg05562.html

As far as the ESRI official SDK, AFAIK, it won't be worked on until 10 is
released (for my purposes, I couldn't wait for that, so that's why I wrote
the ArcObjects OGR driver).


2010/6/9 Eduardo Kanegae <eduardo.kanegae@gmail.com>
>
> thanks for the help Frank,
>
> Or in less words: this support is still in development and we probably have to think in other solution to read fgdb?s using MapServer or other based on OGR or FDO interfaces.
>
> Eduardo
>
> 2010/6/9 Frank Warmerdam <warmerdam@pobox.com>
>>
>> Eduardo Kanegae wrote:
>>>
>>> Hi,
>>>
>>> I?ve this topic at Google http://osgeo-org.1803224.n2.nabble.com/When-or-if-OGR-can-support-ESRI-file-geodatabase-td2592778.html
>>>
>>> Is there any plan for OGR on supporting this ESRI format or this will depend on 'when' ESRI be able to open this format specification.
>>
>> Eduardo,
>>
>> Ragi Burhum has offered an ArcObjects based solution/driver for reading file
>> geodatabases for those with an ArcObject license. ?I'm not sure what the
>> exact status of that driver is since I'm not in a position to help with it.
>>
>> For a less encumbered solution for file geodatabase we are effectively
>> waiting to see what ESRI provides in the manner of an SDK for reading them.
>> Once we have that, it is also not clear who, if anyone, would turn it into
>> an OGR driver.
>>
>> Best regards,
>> --
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up ? | Frank Warmerdam, warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>>
>
>
>
From P.Halls at york.ac.uk  Thu Jun 10 03:02:41 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu Jun 10 03:02:55 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C101C7E.7010009@gov.yk.ca>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>	<4C0FDC1F.7050702@pobox.com>
	<4C101C7E.7010009@gov.yk.ca>
Message-ID: <4C108E11.8050003@york.ac.uk>

In October 2008 at the European, Middle East and Africa (EMEA) User Conference, 
Jack Dangermond announced that the FGB format would be published, 'as was the 
shapefile', at the 9.4 release, following the completion of developments to the 
structure.  We were then told to expect 9.4 in summer 2009.  9.4 has slipped 
into 10 and we are still waiting for that.  Checking the ESRI web site this 
morning I find that 10 is now 'end of June' - just in time for the User 
Conference in San Diego? - a further slippage.  However, there appear to have 
been some changes in the Support section that may be preparation for new 
material.  There does not yet appear to be any new material for the FGB; I 
anticipate a white paper if this was not a hollow promise.

I would plead that if there is anyone on this list who will be attending this 
year's ESRI User Conference, that s/he check the ESRI web site for the 
publication of the FGB format just before the event starts and if it has not 
been published then to take advantage of the facility to pose questions to 
ESRI's President to question whether the commitment made at EMEA in London in 
2008 is to be honoured.  That could produce an interesting response!

Note that the commitment was for the *format*, not the API, so that reverse 
engineering should not be necessary.

Thanks and best wishes,

Peter

Matt Wilkie wrote:
> I've lost all confidence that ESRI's as yet unpublished API will be open 
> enough to allow gdal/ogr to use it without reverse engineering.
> 
> Although promised years ago (ESRI UC, 2007) they've been dragging their 
> feet and being quite close mouthed about the whole thing. Even as 
> recently as a few months ago they have been unwilling to even say if it 
> will be usuable without purchasing a run-time license. Apparently they 
> did say at the March developer summit that there will be no support for 
> Annotation, Relationships, Networks, Topologies, Representations, 
> Terrains and Parcel Fabrics in FGDB API. Simple Features only, and C++ 
> only.
> 
> Personally, I think it's time to give up waiting for the fgdb api and 
> start looking into a truly open source alternative for a shapefile 
> successor. SpatialLite is the best candidate I know of.
> 
> Of course we can't ignore the fgdb as for better or ill we still live 
> and operate within an ecosystem dominated by ESRI. It just won't be the 
> next lingua franca, used by all as a common exchange format.
> 
> Sources:
> 
> http://forums.esri.com/Thread.asp?c=93&f=985&t=243828
> http://spatialgalaxy.net/2010/03/28/speculations-on-the-file-geodatabase-api/ 
> 
> http://www.spatialdbadvisor.com/blog/121/the-shapefile-manifesto/
> 
> 
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
> 
> On 09/06/2010 11:23 AM, Frank Warmerdam wrote:
>> Eduardo Kanegae wrote:
>>> Hi,
>>>
>>> I?ve this topic at Google
>>> http://osgeo-org.1803224.n2.nabble.com/When-or-if-OGR-can-support-ESRI-file-geodatabase-td2592778.html 
>>>
>>>
>>> Is there any plan for OGR on supporting this ESRI format or this will
>>> depend on 'when' ESRI be able to open this format specification.
>>
>> Eduardo,
>>
>> Ragi Burhum has offered an ArcObjects based solution/driver for 
>> reading file
>> geodatabases for those with an ArcObject license.  I'm not sure what the
>> exact status of that driver is since I'm not in a position to help 
>> with it.
>>
>> For a less encumbered solution for file geodatabase we are effectively
>> waiting to see what ESRI provides in the manner of an SDK for reading 
>> them.
>> Once we have that, it is also not clear who, if anyone, would turn it 
>> into
>> an OGR driver.
>>
>> Best regards,
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From stefano.moratto at gmail.com  Thu Jun 10 03:49:01 2010
From: stefano.moratto at gmail.com (Stefano Moratto)
Date: Thu Jun 10 03:49:04 2010
Subject: [gdal-dev] GDAL Speed Optimization
Message-ID: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>

I use GDAL in my traffic optimization CAD program.
It is a Win32 application written in DELPHI that uses GDAL "C" API - the
binding was autogenerated by my SWIG module for object pascal.

I use GDAL to download tiles (jpeg) from OpenstreetMap and to compose a
bitmap of the area that is being viewed. The resulting bitmap (not
compressed) is warped  and displayed.

The performances are quite acceptable but when I try to print they are not.

The drawing to be printed has a resolution larger of the screen (Screen :
1024x1024, Printer 4096 x 4094 in A4 and 9000 x 9000 in A3 approximately).
I think tha the bottleneck could be found in:
1) jpeg decompression.
2) bitmap interpolation (I use the low qualitiy settings).
3) warping ( I use an approsimated warping function).

An increase of performance could be achieved using
1) hw accelerated functions as IPP or GPU (e.g CUDA)
2) parallel alghorithms that takes advantage from multicore CPU

Has someone already approched these problems?

Regards,
Stefano


--
Dr.Eng. Stefano Moratto
stefano.moratto@gmail.com
stefano.moratto@csiat.it
http://www.csiat.it - Traffic Optimization Software
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100610/37935156/attachment.html
From seth at pricepages.org  Thu Jun 10 03:52:59 2010
From: seth at pricepages.org (Seth Price)
Date: Thu Jun 10 04:15:49 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
References: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
Message-ID: <53441.129.123.22.14.1276156379.squirrel@pricepages.org>

>1) hw accelerated functions as IPP or GPU (e.g CUDA)

This is my (ongoing) Google Summer of Code project, except I'm using
OpenCL. :D

What resampling algorithm are you using?
~Seth


On Thu, June 10, 2010 1:49 am, Stefano Moratto wrote:
> I use GDAL in my traffic optimization CAD program.
> It is a Win32 application written in DELPHI that uses GDAL "C" API - the
> binding was autogenerated by my SWIG module for object pascal.
>
> I use GDAL to download tiles (jpeg) from OpenstreetMap and to compose a
> bitmap of the area that is being viewed. The resulting bitmap (not
> compressed) is warped  and displayed.
>
> The performances are quite acceptable but when I try to print they are
> not.
>
> The drawing to be printed has a resolution larger of the screen (Screen :
> 1024x1024, Printer 4096 x 4094 in A4 and 9000 x 9000 in A3 approximately).
> I think tha the bottleneck could be found in:
> 1) jpeg decompression.
> 2) bitmap interpolation (I use the low qualitiy settings).
> 3) warping ( I use an approsimated warping function).
>
> An increase of performance could be achieved using
> 1) hw accelerated functions as IPP or GPU (e.g CUDA)
> 2) parallel alghorithms that takes advantage from multicore CPU
>
> Has someone already approched these problems?
>
> Regards,
> Stefano
>
>
> --
> Dr.Eng. Stefano Moratto
> stefano.moratto@gmail.com
> stefano.moratto@csiat.it
> http://www.csiat.it - Traffic Optimization Software
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From stefano.moratto at gmail.com  Thu Jun 10 04:46:38 2010
From: stefano.moratto at gmail.com (stefano.moratto@gmail.com)
Date: Thu Jun 10 04:52:55 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <54087.129.123.22.14.1276158676.squirrel@pricepages.org>
Message-ID: <0015174be5ea9164b70488a90ff0@google.com>

I'm working on a VirtualMachine running on an usb hdd and my customer use  
iMac laptop so I can't change disk.

The primary dataset is composed by a lot of jpeg download from internet and  
then cached to disk.
I think the performance slowdown is caused after the creation of the  
virtual dataset because and it is present only when the output bitmap has  
the resolution of the printer (considering alwarys the sampre geographic  
area). All the output bitmaps, exept the dataset's jpeg, are in memory and  
the workingset of the application does not exeed the 256 MB

Can you suggest a profiler?

Thanks,
Stefano

Il giorno 10/giu/2010 10.31, Seth Price <seth@pricepages.org> ha scritto:
> Unfortunately, both nearest neighbor and bilinear are probably not CPU

> bound, so speeding up their processing won't help. They are probably I/O

> bound, so you might need faster disks. (Though I can test this later in my

> project.) Have you tried running a profiling tool on GDAL while you're

> running the warper?



> I've just started the OpenCL project, so it's still pretty immature. I'm

> still discussing the best way to integrate an OpenCL warper into existing

> code.

> ~Seth





> On Thu, June 10, 2010 2:26 am, Stefano Moratto wrote:

> > Seth,

> >

> > You have been choosen a very interesting project.

> >

> >

> > I use the following :

> >

> > hWarp := GDALAutoCreateWarpedVRT (hSized,

> > nil,

> > PChar(FMapSRSWkt),

> >

> > GDALResampleAlg_GRA_NearestNeighbour,

> > 0.5,

> > nil);

> >

> > where hSized is a

> >

> > hSized = F (hDataset) ;

> >

> > F (hDataset) := Virtual Dataset of hDataset. I use it for in memory

> > resizing

> > .

> > It is generated by: (I do not write all the details but I think it is

> > clear)

> >

> >

> > VRTAddSimpleSource (poVRTBand,

> > poSrcBand,

> > Round(anSrcWin[0]),

> > Round(anSrcWin[1]),

> > Round(anSrcWin[2]),

> > Round(anSrcWin[3]),

> > 0, 0,

> > size.cx,

> > size.cy,'Bilinear', 0.0 );

> >

> >

> > and hDataset = GDALOpen( ... "openstreet.xml" )

> >

> > Hence I use

> > 1) ,'Bilinear' for zooming

> > 2) NearestNeighbour for warping.

> >

> >

> > What is the state of your project?

> >

> > Stefano

> >

> >

> > On Thu, Jun 10, 2010 at 9:52 AM, Seth Price seth@pricepages.org> wrote:

> >

> >> >1) hw accelerated functions as IPP or GPU (eg CUDA)

> >>

> >> This is my (ongoing) Google Summer of Code project, except I'm using

> >> OpenCL. :D

> >>

> >> What resampling algorithm are you using?

> >> ~Seth

> >>

> >>

> >> On Thu, June 10, 2010 1:49 am, Stefano Moratto wrote:

> >> > I use GDAL in my traffic optimization CAD program.

> >> > It is a Win32 application written in DELPHI that uses GDAL "C" API -

> >> the

> >> > binding was autogenerated by my SWIG module for object pascal.

> >> >

> >> > I use GDAL to download tiles (jpeg) from OpenstreetMap and to compose

> >> a

> >> > bitmap of the area that is being viewed. The resulting bitmap (not

> >> > compressed) is warped and displayed.

> >> >

> >> > The performances are quite acceptable but when I try to print they  
> are

> >> > not.

> >> >

> >> > The drawing to be printed has a resolution larger of the screen

> >> (Screen :

> >> > 1024x1024, Printer 4096 x 4094 in A4 and 9000 x 9000 in A3

> >> approximately).

> >> > I think tha the bottleneck could be found in:

> >> > 1) jpeg decompression.

> >> > 2) bitmap interpolation (I use the low qualitiy settings).

> >> > 3) warping ( I use an approsimated warping function).

> >> >

> >> > An increase of performance could be achieved using

> >> > 1) hw accelerated functions as IPP or GPU (eg CUDA)

> >> > 2) parallel alghorithms that takes advantage from multicore CPU

> >> >

> >> > Has someone already approched these problems?

> >> >

> >> > Regards,

> >> > Stefano

> >> >

> >> >

> >> > --

> >> > Dr.Eng. Stefano Moratto

> >> > stefano.moratto@gmail.com

> >> > stefano.moratto@csiat.it

> >> > http://www.csiat.it - Traffic Optimization Software

> >> > _______________________________________________

> >> > gdal-dev mailing list

> >> > gdal-dev@lists.osgeo.org

> >> > http://lists.osgeo.org/mailman/listinfo/gdal-dev

> >>

> >>

> >>

> >

> >

> > --

> > Dr.Eng. Stefano Moratto

> > stefano.moratto@gmail.com

> > stefano.moratto@csiat.it

> > http://www.csiat.it - Traffic Optimization Software

> >





-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100610/4ec20af2/attachment-0001.html
From seth at pricepages.org  Thu Jun 10 05:07:12 2010
From: seth at pricepages.org (Seth Price)
Date: Thu Jun 10 05:07:17 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <0015174be5ea9164b70488a90ff0@google.com>
References: <0015174be5ea9164b70488a90ff0@google.com>
Message-ID: <111C8388-CBBC-413B-96F3-B58505B48C52@pricepages.org>

I'm on a Mac, so I normally use Shark for profiling. It's included  
with Apple's developer tools.

I would definitely try running outside of a virtual machine  
environment. That might be your problem, but you won't know until you  
try.
~Seth


On Jun 10, 2010, at 2:46 AM, stefano.moratto@gmail.com wrote:

> I'm working on a VirtualMachine running on an usb hdd and my  
> customer use iMac laptop so I can't change disk.
>
> The primary dataset is composed by a lot of jpeg download from  
> internet and then cached to disk.
> I think the performance slowdown is caused after the creation of the  
> virtual dataset because and it is present only when the output  
> bitmap has the resolution of the printer (considering alwarys the  
> sampre geographic area). All the output bitmaps, exept the dataset's  
> jpeg, are in memory and the workingset of the application does not  
> exeed the 256 MB
>
> Can you suggest a profiler?
>
> Thanks,
> Stefano
>
> Il giorno 10/giu/2010 10.31, Seth Price <seth@pricepages.org> ha  
> scritto:
> > Unfortunately, both nearest neighbor and bilinear are probably not  
> CPU
> >
> > bound, so speeding up their processing won't help. They are  
> probably I/O
> >
> > bound, so you might need faster disks. (Though I can test this  
> later in my
> >
> > project.) Have you tried running a profiling tool on GDAL while  
> you're
> >
> > running the warper?
> >
> >
> >
> > I've just started the OpenCL project, so it's still pretty  
> immature. I'm
> >
> > still discussing the best way to integrate an OpenCL warper into  
> existing
> >
> > code.
> >
> > ~Seth
> >
> >
> >
> >
> >
> > On Thu, June 10, 2010 2:26 am, Stefano Moratto wrote:
> >
> > > Seth,
> >
> > >
> >
> > >         You have been choosen a very interesting project.
> >
> > >
> >
> > >
> >
> > > I use the following :
> >
> > >
> >
> > > hWarp := GDALAutoCreateWarpedVRT (hSized,
> >
> > >                                        nil,
> >
> > >                                         PChar(FMapSRSWkt),
> >
> > >
> >
> > > GDALResampleAlg_GRA_NearestNeighbour,
> >
> > >                                         0.5,
> >
> > >                                     nil);
> >
> > >
> >
> > > where hSized is a
> >
> > >
> >
> > > hSized =  F (hDataset) ;
> >
> > >
> >
> > > F (hDataset) := Virtual Dataset of hDataset. I use it for in  
> memory
> >
> > > resizing
> >
> > > .
> >
> > > It is generated by: (I do not write all the details but I think  
> it is
> >
> > > clear)
> >
> > >
> >
> > >
> >
> > > VRTAddSimpleSource (poVRTBand,
> >
> > >                           poSrcBand,
> >
> > >                              Round(anSrcWin[0]),
> >
> > >                           Round(anSrcWin[1]),
> >
> > >                              Round(anSrcWin[2]),
> >
> > >                           Round(anSrcWin[3]),
> >
> > >                              0, 0,
> >
> > >                           size.cx,
> >
> > >                           size.cy,'Bilinear', 0.0 );
> >
> > >
> >
> > >
> >
> > > and hDataset = GDALOpen( ... "openstreet.xml" )
> >
> > >
> >
> > > Hence I use
> >
> > > 1) ,'Bilinear' for zooming
> >
> > > 2) NearestNeighbour for warping.
> >
> > >
> >
> > >
> >
> > > What is the state of your project?
> >
> > >
> >
> > > Stefano
> >
> > >
> >
> > >
> >
> > > On Thu, Jun 10, 2010 at 9:52 AM, Seth Price seth@pricepages.org>  
> wrote:
> >
> > >
> >
> > >> >1) hw accelerated functions as IPP or GPU (e.g CUDA)
> >
> > >>
> >
> > >> This is my (ongoing) Google Summer of Code project, except I'm  
> using
> >
> > >> OpenCL. :D
> >
> > >>
> >
> > >> What resampling algorithm are you using?
> >
> > >> ~Seth
> >
> > >>
> >
> > >>
> >
> > >> On Thu, June 10, 2010 1:49 am, Stefano Moratto wrote:
> >
> > >> > I use GDAL in my traffic optimization CAD program.
> >
> > >> > It is a Win32 application written in DELPHI that uses GDAL  
> "C" API -
> >
> > >> the
> >
> > >> > binding was autogenerated by my SWIG module for object pascal.
> >
> > >> >
> >
> > >> > I use GDAL to download tiles (jpeg) from OpenstreetMap and to  
> compose
> >
> > >> a
> >
> > >> > bitmap of the area that is being viewed. The resulting bitmap  
> (not
> >
> > >> > compressed) is warped  and displayed.
> >
> > >> >
> >
> > >> > The performances are quite acceptable but when I try to print  
> they are
> >
> > >> > not.
> >
> > >> >
> >
> > >> > The drawing to be printed has a resolution larger of the screen
> >
> > >> (Screen :
> >
> > >> > 1024x1024, Printer 4096 x 4094 in A4 and 9000 x 9000 in A3
> >
> > >> approximately).
> >
> > >> > I think tha the bottleneck could be found in:
> >
> > >> > 1) jpeg decompression.
> >
> > >> > 2) bitmap interpolation (I use the low qualitiy settings).
> >
> > >> > 3) warping ( I use an approsimated warping function).
> >
> > >> >
> >
> > >> > An increase of performance could be achieved using
> >
> > >> > 1) hw accelerated functions as IPP or GPU (e.g CUDA)
> >
> > >> > 2) parallel alghorithms that takes advantage from multicore CPU
> >
> > >> >
> >
> > >> > Has someone already approched these problems?
> >
> > >> >
> >
> > >> > Regards,
> >
> > >> > Stefano
> >
> > >> >
> >
> > >> >
> >
> > >> > --
> >
> > >> > Dr.Eng. Stefano Moratto
> >
> > >> > stefano.moratto@gmail.com
> >
> > >> > stefano.moratto@csiat.it
> >
> > >> > http://www.csiat.it - Traffic Optimization Software
> >
> > >> > _______________________________________________
> >
> > >> > gdal-dev mailing list
> >
> > >> > gdal-dev@lists.osgeo.org
> >
> > >> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > >>
> >
> > >>
> >
> > >>
> >
> > >
> >
> > >
> >
> > > --
> >
> > > Dr.Eng. Stefano Moratto
> >
> > > stefano.moratto@gmail.com
> >
> > > stefano.moratto@csiat.it
> >
> > > http://www.csiat.it - Traffic Optimization Software
> >
> > >
> >
> >
> >
> >
> >_______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ragi at burhum.com  Thu Jun 10 05:58:44 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Thu Jun 10 06:01:16 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <20100610085256.68094E01DD5@lists.osgeo.org>
References: <20100610085256.68094E01DD5@lists.osgeo.org>
Message-ID: <41288B38-0271-474B-BC27-E2D3FB443FD5@burhum.com>

> From: Eduardo Kanegae <eduardo.kanegae@gmail.com>
> Subject: Re: [gdal-dev] ESRI file geodatabase support
> To: gdal-dev@lists.osgeo.org
> 
> Hi Ragi,
> 
> You mean, unless I use this pre-built version you gave me (
> http://bit.ly/cNdrSr ) I?ll have to download GDAL sources + AO patches
> and then build at Win box my own GDAL/MapServer bins to read this
> 

yes. And also, another requirement is to have an ESRI license (ArcView is enough) setup'ed.

Ragi
From pfreimuth at arcor.de  Thu Jun 10 06:35:46 2010
From: pfreimuth at arcor.de (Peter Freimuth)
Date: Thu Jun 10 06:35:43 2010
Subject: [gdal-dev] getting reason info when is_valid() returns false
Message-ID: <4C10C002.20402@arcor.de>

Hi List,
i am working with python ogr api and i check features which the
applications gets from esri shapefiles to match several criterias.
        if not xOgrGeometry.IsValid():
            sMsg = "IsValid check failed! We have an invalid feature
geometry!"
            wkt=xOgrGeometry.ExportToWkt()
            xLogger.error(sMsg + "Geometry is: [%s]" % wkt)
            return [0, sMsg]
It would be great if there is a possibility to get the reason for why
is_valid() failed. I checked also shapely but i could'nt find something
that tells me the reason like selfintersecting or other.

Any hint on how to extract the reason string is welcome.

Kind regards,
Peter

-- 
Peter Freimuth  

From bontepaarden at gmail.com  Thu Jun 10 06:54:11 2010
From: bontepaarden at gmail.com (Paul Meems)
Date: Thu Jun 10 06:54:34 2010
Subject: [gdal-dev] getting reason info when is_valid() returns false
In-Reply-To: <4C10C002.20402@arcor.de>
References: <4C10C002.20402@arcor.de>
Message-ID: <AANLkTil4202k4b6jP3VIValhoc9sh-8WHwAEbBYMtNv0@mail.gmail.com>

We're using GDAL and GEOS in MapWindow GIS and we use the GEOS version of
IsValid(). I think it is the same GDAL is using.
The latest version of GEOS has a IsValidReason, telling you what was wrong.

I hope it helps,

Thanks,

Paul

--
Paul Meems
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl
[image: Linkedin] <http://nl.linkedin.com/in/paulmeems>[image:
Twitter]<http://twitter.com/mapwindow_nl>



2010/6/10 Peter Freimuth <pfreimuth@arcor.de>

> Hi List,
> i am working with python ogr api and i check features which the
> applications gets from esri shapefiles to match several criterias.
>        if not xOgrGeometry.IsValid():
>            sMsg = "IsValid check failed! We have an invalid feature
> geometry!"
>            wkt=xOgrGeometry.ExportToWkt()
>            xLogger.error(sMsg + "Geometry is: [%s]" % wkt)
>            return [0, sMsg]
> It would be great if there is a possibility to get the reason for why
> is_valid() failed. I checked also shapely but i could'nt find something
> that tells me the reason like selfintersecting or other.
>
> Any hint on how to extract the reason string is welcome.
>
> Kind regards,
> Peter
>
> --
> Peter Freimuth
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100610/e59f640f/attachment.html
From warmerdam at pobox.com  Thu Jun 10 10:53:09 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun 10 10:53:15 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
References: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
Message-ID: <4C10FC55.2000104@pobox.com>

Stefano Moratto wrote:
> The performances are quite acceptable but when I try to print they are not.
> 
> The drawing to be printed has a resolution larger of the screen (Screen 
> : 1024x1024, Printer 4096 x 4094 in A4 and 9000 x 9000 in A3 approximately).
> I think tha the bottleneck could be found in:
> 1) jpeg decompression.
> 2) bitmap interpolation (I use the low qualitiy settings).
> 3) warping ( I use an approsimated warping function).
> 
> An increase of performance could be achieved using
> 1) hw accelerated functions as IPP or GPU (e.g CUDA)
> 2) parallel alghorithms that takes advantage from multicore CPU
> 
> Has someone already approched these problems?

Stefano,

Are the same number of jpeg tiles being used when producing print products
as on screen?   I'm assuming the answer is yes, and that the warper is just
interpolating a higher resolution result from them.

If the answer is yes,  then presumably the time decoding the jpegs would
not be greater for the prints than for screen display, though it is
possible that more re-reading is occuring.  If re-reading is an issue
you might want to increase the size of the GDAL block cache.  Programmatically
this can be done with the C function GDALSetCacheMax().  Try setting it to 100
(for 100MB).

Are you using the warper just to interpolate to different sizes or are
you also applying reprojection or some other non-linear warping?  If you
are just using it to resize the image then I would suggest using something
less general-purpose than the warper to do the interpolation.

Seth's CUDA work may also be of interest of course, but before committing
to that path I would suggest some analysis of where the time is really being
spent.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan at sanchezortega.es  Thu Jun 10 19:07:16 2010
From: ivan at sanchezortega.es (=?utf-8?q?Iv=C3=A1n_S=C3=A1nchez_Ortega?=)
Date: Thu Jun 10 19:07:24 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
References: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
Message-ID: <201006110107.16830.ivan@sanchezortega.es>

El d?a Thursday 10 June 2010 09:49:01, Stefano Moratto dijo:
> I use GDAL to download tiles (jpeg) from OpenstreetMap and to compose a
> bitmap of the area that is being viewed. The resulting bitmap (not
> compressed) is warped  and displayed.

Hhhhmmm. Personally, I think you're doing it wrong.

If you really need speed for custom reprojections of OSM data, the best thing 
to do is to render the data locally with Mapnik. i.e.:

- Download a planet file
- Put it in PostGIS via osm2pgsql
- Configure Mapnik to use the projection you need
- Use Mapnik to get the desired area rendered

You might incur in a speed penalty due to the rendering itself, but you 
guarantee that there will be no artifacts due to the image warping.

And also, you might get a boost by reprojecting the vector data inside PostGIS 
so Mapnik doesn't have to reproject it on-the-fly.


I realise that setting Mapnik is quite a lot of work at first, but it's an 
idea that is worth considering in your case.


Cheers,
-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>

Un ordenador no es una televisi?n ni un microondas: es una herramienta 
compleja.
From stefano.moratto at gmail.com  Fri Jun 11 05:04:27 2010
From: stefano.moratto at gmail.com (Stefano Moratto)
Date: Fri Jun 11 05:04:31 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <201006110107.16830.ivan@sanchezortega.es>
References: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
	<201006110107.16830.ivan@sanchezortega.es>
Message-ID: <AANLkTiks9D8Ag8jrJZDreBBR40IBlmodTdo_CvgYpr80@mail.gmail.com>

Iv?n,

I evaluated the use of mapnik but I develop on Windows and setup it on that
platform is not easy as on Unix/Linux. Also I develop in delphi, so I have
do create the bindings by myself....
I would like to use mapnik in my project as a replacement of my custom
render but I have to transform the openstreet data in my own format (I use a
relational version of the GDF) because I want not to add another db server.
I should have to had a new datasource for mapnik and in order to do that I
must be able to recompile it ;-)
My application is a desktop application and my customer have to produce some
reports for the local area government in order to plan alternative path in
case of hazard in the highway. The deployment term in near so I have no time
to try the direct use of mapnk.

The actual solution works but it is not rapid as I would like ( I have to
wait for 30 seconds in order to get an a3 bitmap).

Have you experience of mapnik on windows?

Regards,
Stefano



2010/6/11 Iv?n S?nchez Ortega <ivan@sanchezortega.es>

> El d?a Thursday 10 June 2010 09:49:01, Stefano Moratto dijo:
> > I use GDAL to download tiles (jpeg) from OpenstreetMap and to compose a
> > bitmap of the area that is being viewed. The resulting bitmap (not
> > compressed) is warped  and displayed.
>
> Hhhhmmm. Personally, I think you're doing it wrong.
>
> If you really need speed for custom reprojections of OSM data, the best
> thing
> to do is to render the data locally with Mapnik. i.e.:
>
> - Download a planet file
> - Put it in PostGIS via osm2pgsql
> - Configure Mapnik to use the projection you need
> - Use Mapnik to get the desired area rendered
>
> You might incur in a speed penalty due to the rendering itself, but you
> guarantee that there will be no artifacts due to the image warping.
>
> And also, you might get a boost by reprojecting the vector data inside
> PostGIS
> so Mapnik doesn't have to reproject it on-the-fly.
>
>
> I realise that setting Mapnik is quite a lot of work at first, but it's an
> idea that is worth considering in your case.
>
>
> Cheers,
> --
> Iv?n S?nchez Ortega <ivan@sanchezortega.es>
>
> Un ordenador no es una televisi?n ni un microondas: es una herramienta
> compleja.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Dr.Eng. Stefano Moratto
stefano.moratto@gmail.com
stefano.moratto@csiat.it
http://www.csiat.it - Traffic Optimization Software
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100611/645a5dca/attachment.html
From stefano.moratto at gmail.com  Fri Jun 11 05:32:49 2010
From: stefano.moratto at gmail.com (Stefano Moratto)
Date: Fri Jun 11 05:32:52 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <4C10FC55.2000104@pobox.com>
References: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
	<4C10FC55.2000104@pobox.com>
Message-ID: <AANLkTikbSEKDcl9YEufLlI6bYmGBb3EQwDhsQXDW6zWG@mail.gmail.com>

Frank,
        The source images are  a sequence of tiles from openstreetmaps.
Every tiles has a fixed size (256 x 256) and the area they covers depends
from the zoom level.
It is explained very well in
http://www.maptiler.org/google-maps-coordinates-tile-bounds-projection.

I use interpolation (via a virtual dataset)  because my window size and the
paper size are not a multiple of 256 x 256.
I use reprojection because I've to mix this raster datasource with a vector
datasource that has a different projection. Reprojecting my vector data to
openstreet projection do not affect the performance.

So I think the key factor is the resizing ( I use "bilinear" interpolation)
and the size of the bitmap that may cause paging.

I use the following :

hWarp := GDALAutoCreateWarpedVRT (hSized,

         nil,
                                        PChar(FMapSRSWkt),

GDALResampleAlg_GRA_NearestNeighbour,
                                        0.5,
                                    nil);

where hSized is a

hSized =  F (hDataset) ;

F (hDataset) := Virtual Dataset of hDataset. I use it for in memory resizing
.
It is generated by: (I do not write all the details but I think it is clear)


VRTAddSimpleSource (poVRTBand,
                          poSrcBand,
                             Round(anSrcWin[0]),
                          Round(anSrcWin[1]),
                             Round(anSrcWin[2]),
                          Round(anSrcWin[3]),
                             0, 0,
                          size.cx,
                          size.cy,'Bilinear', 0.0 );


and hDataset = GDALOpen( ... "openstreet.xml" )

Can you suggest some other parameters?


Thanks,
Stefano




On Thu, Jun 10, 2010 at 4:53 PM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Stefano Moratto wrote:
>
>> The performances are quite acceptable but when I try to print they are
>> not.
>>
>> The drawing to be printed has a resolution larger of the screen (Screen :
>> 1024x1024, Printer 4096 x 4094 in A4 and 9000 x 9000 in A3 approximately).
>> I think tha the bottleneck could be found in:
>> 1) jpeg decompression.
>> 2) bitmap interpolation (I use the low qualitiy settings).
>> 3) warping ( I use an approsimated warping function).
>>
>> An increase of performance could be achieved using
>> 1) hw accelerated functions as IPP or GPU (e.g CUDA)
>> 2) parallel alghorithms that takes advantage from multicore CPU
>>
>> Has someone already approched these problems?
>>
>
> Stefano,
>
> Are the same number of jpeg tiles being used when producing print products
> as on screen?   I'm assuming the answer is yes, and that the warper is just
> interpolating a higher resolution result from them.
>
> If the answer is yes,  then presumably the time decoding the jpegs would
> not be greater for the prints than for screen display, though it is
> possible that more re-reading is occuring.  If re-reading is an issue
> you might want to increase the size of the GDAL block cache.
>  Programmatically
> this can be done with the C function GDALSetCacheMax().  Try setting it to
> 100
> (for 100MB).
>
> Are you using the warper just to interpolate to different sizes or are
> you also applying reprojection or some other non-linear warping?  If you
> are just using it to resize the image then I would suggest using something
> less general-purpose than the warper to do the interpolation.
>
> Seth's CUDA work may also be of interest of course, but before committing
> to that path I would suggest some analysis of where the time is really
> being
> spent.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


-- 
Dr.Eng. Stefano Moratto
stefano.moratto@gmail.com
stefano.moratto@csiat.it
http://www.csiat.it - Traffic Optimization Software
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100611/0f8f63f0/attachment.html
From ivan at sanchezortega.es  Fri Jun 11 06:38:09 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Fri Jun 11 06:38:14 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <AANLkTiks9D8Ag8jrJZDreBBR40IBlmodTdo_CvgYpr80@mail.gmail.com>
References: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>	<201006110107.16830.ivan@sanchezortega.es>
	<AANLkTiks9D8Ag8jrJZDreBBR40IBlmodTdo_CvgYpr80@mail.gmail.com>
Message-ID: <4C121211.6040401@sanchezortega.es>

El 11/06/2010 11:04, Stefano Moratto escribi?:
> I evaluated the use of mapnik but I develop on Windows and [...] The
> deployment term in near so I have no time to try the direct use of
> mapnik.

OK, if you evaluated using Mapnik, then I said nothing :-)


> Have you experience of mapnik on windows?

Unfortunately, I only use Debian for development. :-(


-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From sfkeller at gmail.com  Fri Jun 11 08:33:14 2010
From: sfkeller at gmail.com (Stefan Keller)
Date: Fri Jun 11 08:33:16 2010
Subject: [gdal-dev] PGeo: reading circular arcs - how?
In-Reply-To: <AANLkTimABg8zaMqnSUG184GHKKaI9TEJuX2zOlsH1zAe@mail.gmail.com>
References: <20100605160010.DEC8DE019C6@lists.osgeo.org>
	<BA7C6947-DAFE-4449-AE9C-AEE9950B6EFA@burhum.com>
	<AANLkTikfgbOpaQB27q3s5wh8ZhRCbGxDOwp7V5ptLaKq@mail.gmail.com>
	<AANLkTimABg8zaMqnSUG184GHKKaI9TEJuX2zOlsH1zAe@mail.gmail.com>
Message-ID: <AANLkTilzp3kcik2GRt_XFFHIgOIsPk0N353mtwzI28sD@mail.gmail.com>

Hi Ragi

Thank you very much!
Let's see if there's a hint.

Yours, S.


2010/6/10 Ragi Burhum <ragi@burhum.com>:
> Hello Stefan,
> Sorry for the delay in the reply (I am trying to clean up my e-mail today).
> Answers inline below
>
> On Sun, Jun 6, 2010 at 7:02 AM, Stefan Keller <sfkeller@gmail.com> wrote:
>>
>> Hi Ragi
>>
>> Thank you for the tips.
>>
>> I browsed through the pages you referred to but I somehow did not find
>> neither a formula nor the meaning of the parameters.
>>
>
> http://resources.esri.com/help/9.3/ArcGISDesktop/ArcObjects/esriGeometry/IPolycurve_Densify.htm
> Basically, there is a call to Densify. As far as the formula/algorithm to
> create those lines, well, look for Douglas Peucker.
>
>> Keep in mind that I am reading the binary format of PGeo and I am
>> focussing on circular arcs only. The beginning of the encoding binary
>> block elements are already clear.
>>
>
> Great! less to worry about :)
>
>>
>> What's confusing is that I would expect as attributes just a starting
>> point, a midpoint and an endpoint. But what's somehow there is s
>> startpoint and followed by 4 or more attributes.
>>
>
> If I remember correctly, serialization of curves changed between 9.2 to 9.3.
> So you need to know what GeoDatabase version you are reading (it is on one
> of the metadata tables).
> As far as what those attributes are, well, honestly, there was a reason to
> my "not fun" comment.
> You see, I don't think you will find a description of those attributes, but
> you can make an educated guess.
> If you look at the different ways to construct a Circular in ArcObjects
> http://resources.esri.com/help/9.3/ArcGISDesktop/ArcObjects/esriGeometry/IConstructCircularArc2.htm
> you will understand why it can be a pain. I don't know which attributes they
> are serializing, but it definitely is the parameters of one of the listed
> methods.
> Good luck,
> - Ragi
>
>>
>> Yours,
>> Stefan
>>
>>
>> 2010/6/5 Ragi Burhum <ragi@burhum.com>:
>> >
>> >> From: Stefan Keller <sfkeller@gmail.com>
>> >> Subject: [gdal-dev] PGeo: reading circular arcs - how?
>> >> To: gdal-dev@lists.osgeo.org
>> >>
>> >>
>> >> Hi all
>> >>
>> >> I have an ESRI Personal GeoDatabase .mdb file (PGeo) which I would
>> >> like to read and convert e.g. to Shapefile.
>> >> The PGeo file contains "circular arc"s (or circular curve) and since
>> >> OGR only supports linestrings they should be segmented (similar to
>> >> http://www.gdal.org/ogr/drv_ili.html ).
>> >>
>> >> Now it turned out that the output is wrong: It seems that at least the
>> >> midpoint(s) are misinterepreted.
>> >>
>> >> In fact, when looking at the source (line 430 ff.) there's a TODO
>> >> there:
>> >>
>> >> http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/pgeo/ogrpgeolayer.cpp
>> >>
>> >> ESRI user doc says at
>> >>
>> >> http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//002t0000000m000000.htm
>> >> "Circular arc curves use a mathematical formula to draw the curve. If
>> >> you export a geodatabase feature class containing circular
>> >> arc curve features to a shapefile, the curved features are transformed
>> >> to simple line features with closely spaced vertices to capture the
>> >> curved shape".
>> >>
>> >> => Does anybody know this formula
>> >
>> >
>> > http://resources.esri.com/help/9.3/ArcGISEngine/java/api/arcobjects/com/esri/arcgis/geometry/IPolycurve.html#densify(double,%20double)
>> >
>> >
>> >> ?and/or the meaning of the
>> >> additional attributes in the byte stream?
>> >>
>> >
>> > depends on the type of curve. It could be a bezier curve, elliptical arc
>> > or circular arc. if you look at the coclasses of Icurve
>> > http://edndoc.esri.com/arcobjects/9.2/ComponentHelp/esrigeometry/ICurve.htm
>> > you will find attributes defined on those specific types that are most
>> > likely the serialized bytes.
>> >
>> > not fun.
>> >
>> > good luck,
>> >
>> > Ragi_______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> >
>
>
From Andreas.Fischer at kreis-unna.de  Fri Jun 11 09:46:11 2010
From: Andreas.Fischer at kreis-unna.de (Fischer, Andreas)
Date: Fri Jun 11 09:47:19 2010
Subject: [gdal-dev] gdalwarp and GTiff creation option NBITS
Message-ID: <A85A2E77866D1D4183268072EB15A8B80517C2DD@kum1.kreis-unna.int>

Dear list,
I try to convert a raster images (GTiff) with gdalwarp. The images only have two colors (black/white) and the color table just have two entries. Therefore the file size for each image is exactly as big as needed (1bit/pixel). The result of gdalwarps transformation are images with 8bits / pixel and 256 entries in the color table. The file size for each image  is increased but in this case this is without benefit, because the results are still black and white.

So I tried the creation option "-co NBITS=1". Color Table und file size are now exactly as I expected,  but I can't display the result properly with any program. For example IrfanView does fine, but unfortunately MapInfo Professional doesn't. MapInfo Professional just shows irregular stripes. After opening the result file in IrfanView and saving it as a copy, the copy is displayed in MapInfo fine as well. I do not understand this behavior, because gdalinfo doesn't show any differences. 

For I do have a lot of automatic batch processing I can't use IrfanView for this purpose and I'm interested in doing this only using comandline utilities of gdal. So I would be glad to get help from you or any hints.

Thank you so far and best regards
Andreas Fischer


P.S.:
For better explanation the gdalwarp comandline and gdalinfo outputs:

gdalwarp -s_srs C:\Programme\FWTools2.4.6\proj_lib\25832.wkt -t_srs "+proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 +ellps=bessel units=m +nadgrids=C:\Programme\FWTools2.4.6\proj_lib\BETA2007.gsb +wktext" -dstnodata 0 -srcnodata 0 -co TFW=YES -co INTERLEAVE=PIXEL -co TILED=YES -co
 NBITS=1 32395_5718.tif  utm2gk\1bit\32395_5718.tif
(using FWTools 2.4.6)

gdalinfo (original file)
Driver: GTiff/GeoTIFF
Files: 32395_5718.tif
          32395_5718.tfw
Size is 11812, 11812
Coordinate System is `'
Origin = (394999.957670164990000,5719000.042329834800000)
Pixel Size = (0.084659670000000,-0.084659670000000)
Metadata:
  TIFFTAG_SOFTWARE=Handmade Software, Inc. Image Alchemy v1.13
Image Structure Metadata:
  COMPRESSION=CCITTFAX4
  INTERLEAVE=BAND
  MINISWHITE=YES
Corner Coordinates:
Upper Left  (  394999.958, 5719000.042)
Lower Left  (  394999.958, 5718000.042)
Upper Right (  395999.958, 5719000.042)
Lower Right (  395999.958, 5718000.042)
Center      (  395499.958, 5718500.042)
Band 1 Block=11812x5 Type=Byte, ColorInterp=Palette
  Image Structure Metadata:
    NBITS=1
  Color Table (RGB with 2 entries)
    0: 255,255,255,255
    1: 0,0,0,255

gdalinfo (transformed file, without properly display with MapInfo Professional)
Driver: GTiff/GeoTIFF
Files: 32395_5718.tif
       32395_5718.tfw
Size is 12287, 12287
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["Bessel 1841",
        DATUM["unknown",
            SPHEROID["bessel",6377397.155,299.1528128]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",6],
    PARAMETER["scale_factor",1],
    PARAMETER["false_easting",2500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (2602804.707705282600000,5720843.723755999500000)
Pixel Size = (0.084692791645049,-0.084692791645049)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  ( 2602804.708, 5720843.724) (  7d29'3.82"E, 51d36'50.14"N)
Lower Left  ( 2602804.708, 5719803.103) (  7d29'2.72"E, 51d36'16.48"N)
Upper Right ( 2603845.328, 5720843.724) (  7d29'57.89"E, 51d36'49.45"N)
Lower Right ( 2603845.328, 5719803.103) (  7d29'56.78"E, 51d36'15.79"N)
Center      ( 2603325.018, 5720323.414) (  7d29'30.30"E, 51d36'32.97"N)
Band 1 Block=12287x5 Type=Byte, ColorInterp=Palette
  NoData Value=0
  Image Structure Metadata:
    NBITS=1
  Color Table (RGB with 2 entries)
    0: 255,255,255,255
    1: 0,0,0,255

gdalinfo (transformed file, saved as copy with IrfanView, displayed properly within MapInfo Professional)
Driver: GTiff/GeoTIFF
Files: 32395_5718_irfan.tif
       32395_5718_irfan.tfw
Size is 12287, 12287
Coordinate System is `'
Origin = (2602804.707705282600000,5720843.723755999500000)
Pixel Size = (0.084692791600000,-0.084692791600000)
Metadata:
  TIFFTAG_SOFTWARE=IrfanView
  TIFFTAG_XRESOLUTION=0
  TIFFTAG_YRESOLUTION=0
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  INTERLEAVE=BAND
  MINISWHITE=YES
Corner Coordinates:
Upper Left  ( 2602804.708, 5720843.724)
Lower Left  ( 2602804.708, 5719803.103)
Upper Right ( 2603845.328, 5720843.724)
Lower Right ( 2603845.328, 5719803.103)
Center      ( 2603325.018, 5720323.414)
Band 1 Block=12287x5 Type=Byte, ColorInterp=Palette
  Image Structure Metadata:
    NBITS=1
  Color Table (RGB with 2 entries)
    0: 255,255,255,255
    1: 0,0,0,255


Mit freundlichen Gr??en
Im Auftrag

Andreas Fischer

Kreis Unna - Der Landrat 
Zentrale Datenverarbeitung
Friedrich-Ebert-Stra?e 17
59425 Unna 

Fon 02303 27-4416
Fax 02303 27-2896 
andreas.fischer@kreis-unna.de
www.kreis-unna.de

Diese E-Mail wurde beim Ausgang auf Viren geprueft. Wegen der 
potentiellen Gefahr auf den Uebertragungswegen wird zu einer 
Vireneingangskontrolle geraten. Eine Haftung f?r Virenfreiheit
wird ausgeschlossen.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100611/2983d75a/attachment-0001.html
From gianni.olivieri at gmail.com  Fri Jun 11 10:33:33 2010
From: gianni.olivieri at gmail.com (Gianni Olivieri)
Date: Fri Jun 11 10:33:36 2010
Subject: [gdal-dev] SRTM maps and altitude...
Message-ID: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>

Hallo,

    I need to extract the altitude of a GPS coordinate from a serie of
HGT (SRTM or DEM) (I've download the entire Eurasia...

So, for example, If I have a directory with all htg file and I'd like
to know the altitude of this coords:

48?01'35.89" N
8?23'51,86" E

how can I preceed?

The elevation in that point is: 761m (google earth result)
I'd like to have a similar results.

Best regards



-- 
Gianni Olivieri
gianni.olivieri@gmail.com
From gianni.olivieri at gmail.com  Fri Jun 11 11:31:58 2010
From: gianni.olivieri at gmail.com (Gianni Olivieri)
Date: Fri Jun 11 11:32:00 2010
Subject: [gdal-dev] SRTM maps and altitude...
In-Reply-To: <AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>
	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>
Message-ID: <AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>

2010/6/11 Matt Klaric <matt@klaric.com>:
> While you certainly can accomplish this using GDAL, you'll need to first
> figure out which hgt file to open, then translate the geographic coordinate
> to the image coordinate to know what pixel value to lookup.
>
> An alternative solution is OSSIM (http://www.ossim.org/).? It has a
> command-line app called ossim-height.? You can use it as follows:
>
> $ ossim-height 45 10
> Opened cell:? /srtm1/N45E010.hgt
> MSL to ellipsoid delta:?? 39.049
> Height above MSL:??????? 37
> Height above ellipsoid:? 76.049
> Geoid value:? 39.049

thanks for this link, I didn't know this software.

I try this.

Thanks...

>
> You can setup a configuration file (see:
> http://trac.osgeo.org/ossim/wiki/ossimElevationSetup) that points to your
> directory of hgt files and OSSIM will figure out which file is needed for
> your query.
>
> If you're needing to embed this in an application of yours, you can use the
> OSSIM API to accomplish the same thing.? Check out the source for
> ossim-height for an example of how to do this.
>
> --Matt
>
>
> On Fri, Jun 11, 2010 at 9:33 AM, Gianni Olivieri <gianni.olivieri@gmail.com>
> wrote:
>>
>> Hallo,
>>
>> ? ?I need to extract the altitude of a GPS coordinate from a serie of
>> HGT (SRTM or DEM) (I've download the entire Eurasia...
>>
>> So, for example, If I have a directory with all htg file and I'd like
>> to know the altitude of this coords:
>>
>> 48?01'35.89" N
>> 8?23'51,86" E
>>
>> how can I preceed?
>>
>> The elevation in that point is: 761m (google earth result)
>> I'd like to have a similar results.
>>
>> Best regards
>>
>>
>>
>> --
>> Gianni Olivieri
>> gianni.olivieri@gmail.com
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>



-- 
Gianni Olivieri
gianni.olivieri@gmail.com
From matt at klaric.com  Fri Jun 11 11:22:29 2010
From: matt at klaric.com (Matt Klaric)
Date: Fri Jun 11 11:46:29 2010
Subject: [gdal-dev] SRTM maps and altitude...
In-Reply-To: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>
Message-ID: <AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>

While you certainly can accomplish this using GDAL, you'll need to first
figure out which hgt file to open, then translate the geographic coordinate
to the image coordinate to know what pixel value to lookup.

An alternative solution is OSSIM (http://www.ossim.org/).  It has a
command-line app called ossim-height.  You can use it as follows:

$ ossim-height 45 10
Opened cell:  /srtm1/N45E010.hgt
MSL to ellipsoid delta:   39.049
Height above MSL:        37
Height above ellipsoid:  76.049
Geoid value:  39.049

You can setup a configuration file (see:
http://trac.osgeo.org/ossim/wiki/ossimElevationSetup) that points to your
directory of hgt files and OSSIM will figure out which file is needed for
your query.

If you're needing to embed this in an application of yours, you can use the
OSSIM API to accomplish the same thing.  Check out the source for
ossim-height for an example of how to do this.

--Matt


On Fri, Jun 11, 2010 at 9:33 AM, Gianni Olivieri
<gianni.olivieri@gmail.com>wrote:

> Hallo,
>
>    I need to extract the altitude of a GPS coordinate from a serie of
> HGT (SRTM or DEM) (I've download the entire Eurasia...
>
> So, for example, If I have a directory with all htg file and I'd like
> to know the altitude of this coords:
>
> 48?01'35.89" N
> 8?23'51,86" E
>
> how can I preceed?
>
> The elevation in that point is: 761m (google earth result)
> I'd like to have a similar results.
>
> Best regards
>
>
>
> --
> Gianni Olivieri
> gianni.olivieri@gmail.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100611/8546dd49/attachment.html
From warmerdam at pobox.com  Fri Jun 11 12:32:29 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 11 12:32:35 2010
Subject: [gdal-dev] gdalwarp and GTiff creation option NBITS
In-Reply-To: <A85A2E77866D1D4183268072EB15A8B80517C2DD@kum1.kreis-unna.int>
References: <A85A2E77866D1D4183268072EB15A8B80517C2DD@kum1.kreis-unna.int>
Message-ID: <4C12651D.8060309@pobox.com>

Fischer, Andreas wrote:
> Dear list,
> 
> I try to convert a raster images (GTiff) with gdalwarp. The images only 
> have two colors (black/white) and the color table just have two entries. 
> Therefore the file size for each image is exactly as big as needed 
> (1bit/pixel). The result of gdalwarps transformation are images with 
> 8bits / pixel and 256 entries in the color table. The file size for each 
> image  is increased but in this case this is without benefit, because 
> the results are still black and white.
> 
> So I tried the creation option ?-co NBITS=1?. Color Table und file size 
> are now exactly as I expected,  but I can?t display the result properly 
> with any program. For example IrfanView does fine, but unfortunately 
> MapInfo Professional doesn?t. MapInfo Professional just shows irregular 
> stripes. After opening the result file in IrfanView and saving it as a 
> copy, the copy is displayed in MapInfo fine as well. I do not understand 
> this behavior, because gdalinfo doesn?t show any differences.

Andreas,

It would be helpful if you could provide a tiffinfo report for each of
the three files.  It should reveal more of the low level tiff format
details which will be needed.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From matt.wilkie at gov.yk.ca  Fri Jun 11 13:16:28 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri Jun 11 13:16:56 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C108E11.8050003@york.ac.uk>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>	<4C0FDC1F.7050702@pobox.com>
	<4C101C7E.7010009@gov.yk.ca> <4C108E11.8050003@york.ac.uk>
Message-ID: <4C126F6C.4030500@gov.yk.ca>

The earliest reference I found to a "promise" of an open specification 
for file-gdb was ESRI UC 2006, with discussion where of a forthcoming 
public specification mentioned as far back as ArcGIS 8.3.

In many discussions people seem to use the terms open API and open file 
format specifications interchangeably. ESRI itself seems to be pretty 
clearly sticking to API-only line though, from the 2007 UC:

"While ESRI would ideally like to open the file geodatabase format in a 
manner similar to what we did for shapefiles when we released ArcView 2, 
geodatabases are complex and can be easily corrupted outside the ArcGIS 
environment. Instead, we plan to engineer a high performing and well 
documented API that developers can freely embed in custom applications 
and that will read and write file geodatabase datasets. This will be 
released after ArcGIS 9.3." -- http://bit.ly/esri-uc-qa-2007

If you've a reference for talk of the file fromat spec though I'd love 
to see it. Searching for (EMEA) User Conference 2008 shows a few 
announcements for the event but no proceedings or blog reports; I'm 
likely not using the right keywords.

I also echo the request for people attending *any* ESRI conferences to 
ask about both a public file format specifcation and programming API to 
the file geodatabase.

best regards,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------
From Chris.Barker at noaa.gov  Fri Jun 11 13:49:13 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Jun 11 13:49:14 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C126F6C.4030500@gov.yk.ca>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
Message-ID: <4C127719.2000902@noaa.gov>

Matt Wilkie wrote:
> "While ESRI would ideally like to open the file geodatabase format in a 
> manner similar to what we did for shapefiles when we released ArcView 2, 
> geodatabases are complex and can be easily corrupted outside the ArcGIS 
> environment."

Well, that to me says that either ESRI is mis-informing us, or it's a 
lousy format! I'm guessing the latter.

(to be a bit more fair, I suppose what that handling it this way gives 
them more freedom to adjust the format in the future-- i.e. chance the 
format, but not the API, so user code doesn't have to change)

In any case, though, it's a real shame that ESRI is driving this, 
because what the world really needs is an open, well specified format.

We can only hope that major ESRI customers will request that from ESRI, 
but I'm not holding my breath.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From ivan.lucena at pmldnet.com  Fri Jun 11 14:00:17 2010
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Fri Jun 11 14:00:45 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C126F6C.4030500@gov.yk.ca>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>	<4C0FDC1F.7050702@pobox.com>	<4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
Message-ID: <4C1279B1.3090800@pmldnet.com>

Matt,

> "While ESRI would ideally like to open the file geodatabase format in a 
> manner similar to what we did for shapefiles when we released ArcView 2, 
> geodatabases are complex and can be easily corrupted outside the ArcGIS 
> environment. Instead, we plan to engineer a high performing and well 
> documented API that developers can freely embed in custom applications 
> and that will read and write file geodatabase datasets. This will be 
> released after ArcGIS 9.3." -- http://bit.ly/esri-uc-qa-2007

IMHO,

That sounds very reasonable. But doesn't explain very well the business model for that initiative. 
It is understandable that by open up the file specification could lead to all sort of problems, 
meaning a lot of technical support calls to Readlands, if other software start building corrupted or 
outdated geodatabase format. But by the other hand, to develop and maintain the API would also be 
costly. So why should they do that? To give to the world a new free format so that people could use 
it without an ArcGIS license? That doesn't make sense to me. The Shapefile format is widely used 
because of Shapelib and I don't think that ESRI has extent a dine on it. And why do we want that 
storage format? Is it that good? If it just to take data in and out of it, could we just use ArcSDE 
based GDAL/OGR drivers?

Regards,

Ivan
From hemantbist at gmail.com  Fri Jun 11 15:19:44 2010
From: hemantbist at gmail.com (Hemant Bist)
Date: Fri Jun 11 15:20:06 2010
Subject: [gdal-dev] gdal and png color quantization.
Message-ID: <AANLkTimo9ym3aGRDSOpL7-2u4lEiqL23B9iPDAL-mHRw@mail.gmail.com>

Hi,
I am trying to achieve effect of running image magick command (convert
-depth 8 -colors 32) on png files (tiles) generated by gdal2tiles.py

As far as I can tell by searching  Gdal code, that there is no such option
in the png_driver. Is this correct?
If so, what is the easiest way to add this option? I would appreciate any
pointers.

Best,
HB
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100611/3a17d2c3/attachment.html
From Andreas.Fischer at kreis-unna.de  Fri Jun 11 16:50:56 2010
From: Andreas.Fischer at kreis-unna.de (Fischer, Andreas)
Date: Fri Jun 11 16:51:00 2010
Subject: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS
In-Reply-To: <4C12651D.8060309@pobox.com>
Message-ID: <A85A2E77866D1D4183268072EB15A8B80517C2DE@kum1.kreis-unna.int>

Hello Frank,
thanks for your reply. 
Can you let me know how to create a tiffinfo report? What tool do I need to do so?
Thanks und best regards
Andreas

-----Urspr?ngliche Nachricht-----
Von: Frank Warmerdam [mailto:warmerdam@pobox.com]
Gesendet: Freitag, 11. Juni 2010 18:32
An: Fischer, Andreas
Cc: gdal-dev@lists.osgeo.org
Betreff: Re: [gdal-dev] gdalwarp and GTiff creation option NBITS


Fischer, Andreas wrote:
> Dear list,
> 
> I try to convert a raster images (GTiff) with gdalwarp. The images only 
> have two colors (black/white) and the color table just have two entries. 
> Therefore the file size for each image is exactly as big as needed 
> (1bit/pixel). The result of gdalwarps transformation are images with 
> 8bits / pixel and 256 entries in the color table. The file size for each 
> image  is increased but in this case this is without benefit, because 
> the results are still black and white.
> 
> So I tried the creation option ?-co NBITS=1?. Color Table und file size 
> are now exactly as I expected,  but I can?t display the result properly 
> with any program. For example IrfanView does fine, but unfortunately 
> MapInfo Professional doesn?t. MapInfo Professional just shows irregular 
> stripes. After opening the result file in IrfanView and saving it as a 
> copy, the copy is displayed in MapInfo fine as well. I do not understand 
> this behavior, because gdalinfo doesn?t show any differences.

Andreas,

It would be helpful if you could provide a tiffinfo report for each of
the three files.  It should reveal more of the low level tiff format
details which will be needed.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

Diese E-Mail wurde beim Ausgang auf Viren geprueft. Wegen der 
potentiellen Gefahr auf den Uebertragungswegen wird zu einer 
Vireneingangskontrolle geraten. Eine Haftung f?r Virenfreiheit
wird ausgeschlossen.



From matt.wilkie at gov.yk.ca  Fri Jun 11 17:38:03 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri Jun 11 17:38:32 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C127719.2000902@noaa.gov>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>	<4C0FDC1F.7050702@pobox.com>
	<4C101C7E.7010009@gov.yk.ca>	<4C108E11.8050003@york.ac.uk>
	<4C126F6C.4030500@gov.yk.ca> <4C127719.2000902@noaa.gov>
Message-ID: <4C12ACBB.4090907@gov.yk.ca>

[Chris]
>> "While ESRI would ideally like to open the file geodatabase format
>> in a manner similar to what we did for shapefiles when we released
>> ArcView 2, geodatabases are complex and can be easily corrupted
>> outside the ArcGIS environment."
>
> Well, that to me says that either ESRI is mis-informing us, or it's a
> lousy format! I'm guessing the latter.

It is perfectly correct to say an f-gdb is easy to corrupt outside of
ArcGIS, as are both coverages and shapefiles. All three consist of many
components visible in the filesystem and messing with them is an
invitation to breaking things. Since the f-gdb has many more pieces than
it's predecessors it has a corresponding, and non-linear, increase in
the number of potential failure points. That said, it's convenient for
ESRI to use that as a shield to not be more forthcoming; they have a lot
to gain.

[Ivan]
> ...but by the other hand, to develop and maintain the API would also
> be costly. So why should they do that? To give to the world a new
> free format so that people could use it without an ArcGIS license?

The should do it because their customers need it to conduct their work 
as smooth and efficient manner as possible. It's about being free to use 
the best tool for the job at hand.

It is true that many, myself included, would take the public spec and 
use it avoid buying more licenses. However I, or rather my employer, 
also own and maintain dozens of ESRI licenses, as well as Global Mapper, 
ERMapper, PCI, Manifold, and others, and have done so for many years. We 
desire and expect these and other applications to interact with each 
other with a minimum of hassle. I and my colleagues should be spending 
our time analysing and making maps and not packaging and re-packaging 
and re-packaging the same bits from format to format for task X that Y 
program does better than Z.

I'd also like to point out that not having a straight route for data 
exchange makes it just as difficult get information *into* the ESRI 
toolchain as it does to get it back out again. I *like* Arcmap. For 
cartography there is no other product that comes even close. When it 
comes to large volumes or repetitve cycles of data conversion though, 
it's gdal/ogr all the way.

...hmmm, I seem to have ended up in rants-ville without meaning to go 
there. And the ears that really need to hear this probably aren't in the 
room anyhow. Better stop now and get to analysing some data instead of 
carrying on. :)

best regards and enjoy the weekend everyone,

-matt

From warmerdam at pobox.com  Fri Jun 11 19:10:03 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 11 19:10:08 2010
Subject: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS
In-Reply-To: <A85A2E77866D1D4183268072EB15A8B80517C2DE@kum1.kreis-unna.int>
References: <A85A2E77866D1D4183268072EB15A8B80517C2DE@kum1.kreis-unna.int>
Message-ID: <4C12C24B.1020206@pobox.com>

Fischer, Andreas wrote:
> Hello Frank,
> thanks for your reply. 
> Can you let me know how to create a tiffinfo report? What tool do I need to do so?

Andreas,

tiffinfo is a commandline utility which produces text output.  It is
generally available with libtiff.  In Debian/Ubuntu I think it is the
"libtiff-tools" package.  The tools are also available in OSGeo4W as
the libtiff-bin package.

You can also quite easily just build it locally from source as part of
the normal libtiff build.  After a build it will be in the libtiff/tools
directory (no need to actually do an install to run it).

Then just run it against the appropriate files and redirect the output
to a text file or cut and paste.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Chris.Barker at noaa.gov  Fri Jun 11 20:43:53 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Jun 11 20:43:56 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C12ACBB.4090907@gov.yk.ca>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
	<4C127719.2000902@noaa.gov> <4C12ACBB.4090907@gov.yk.ca>
Message-ID: <4C12D849.4080705@noaa.gov>

Matt Wilkie wrote:
> The should do it because their customers need it to conduct their work 
> as smooth and efficient manner as possible. It's about being free to use 
> the best tool for the job at hand.

Sure, they only will if their customers demand it -- how many are? I 
don't use ESRI products, but a heck of a lot of folks in my agency do -- 
though I doubt they are pushing for an open format.

Oh well.

-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From ivan.lucena at pmldnet.com  Mon Jun 14 01:21:26 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Mon Jun 14 01:21:29 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gRVNSSSBmaWxlIGdlb2RhdGFiYXNlIHN1cHBvcnQ=?=
Message-ID: <20100614052126.25130.qmail@s466.sureserver.com>

Matt,

>  > ...but by the other hand, to develop and maintain the API would also
>  > be costly. So why should they do that? To give to the world a new
>  > free format so that people could use it without an ArcGIS license?
>  
>  The should do it because their customers need it to conduct their work
>  as smooth and efficient manner as possible. It's about being free to use
>  the best tool for the job at hand.

I am not a GIS user, rather a developer but I once had to make a cartographic composition and since I have access to a ArcGIS site license, I used ArcMAP. Later I copied all the data (2 or 3 Shapefiles and 2 or 3 Geotiffs) to a laptop to continue the work, out of the site, using QGIS. Does it exemplify the customers need we are talking about? 

Once the FGBD library is available, FOSS and commercial software developers are going to use it to add support for "ERSI File Geodatbase" on their products. Then, the customers are going to be able to freely create and access FGBD from those software too. They could, for example, run analysis in other software without importing/exporting data formats. Direct access! And that is good for the user for sure.

>  It is true that many, myself included, would take the public spec and
>  use it avoid buying more licenses. However I, or rather my employer,
>  also own and maintain dozens of ESRI licenses, as well as Global Mapper,
>  ERMapper, PCI, Manifold, and others, and have done so for many years. We
>  desire and expect these and other applications to interact with each
>  other with a minimum of hassle. I and my colleagues should be spending
>  our time analysing and making maps and not packaging and re-packaging
>  and re-packaging the same bits from format to format for task X that Y
>  program does better than Z.

I completely agree with you. That is why I suggest that we use the existent ArcObjects/ArcSDE API to access the data right there where it is, on a machine that already has ArcGIS license or from a real RDBMS or web service. No copy-and-paste, no format conversion, Direct access! 

>  I'd also like to point out that not having a straight route for data
>  exchange makes it just as difficult get information *into* the ESRI
>  toolchain as it does to get it back out again. I *like* Arcmap. For
>  cartography there is no other product that comes even close. When it
>  comes to large volumes or repetitve cycles of data conversion though,
>  it's gdal/ogr all the way.

In that case I see GDAL/OGR as a facilitator of Direct access, as long as the developer use it as so, like ESRI is using GDAL for raster support for example. 

Data conversion is the problem to eliminate here. Right?

>  ...hmmm, I seem to have ended up in rants-ville without meaning to go
>  there. And the ears that really need to hear this probably aren't in the
>  room anyhow. Better stop now and get to analysing some data instead of
>  carrying on. :)
>  

It was very interesting to know your point of view.

Best regards,

Ivan
From P.Halls at york.ac.uk  Mon Jun 14 02:19:22 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Mon Jun 14 02:19:35 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C126F6C.4030500@gov.yk.ca>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>	<4C0FDC1F.7050702@pobox.com>
	<4C101C7E.7010009@gov.yk.ca> <4C108E11.8050003@york.ac.uk>
	<4C126F6C.4030500@gov.yk.ca>
Message-ID: <4C15C9EA.80605@york.ac.uk>

Matt,

    although we were told at the time that the EMEA 2008 Proceedings would be 
put online, I've yet to see them or hear of the result - I was a speaker and 
submitted my materials on time and as requested and that seems to have been the 
end of the story.

Peter

Matt Wilkie wrote:
> The earliest reference I found to a "promise" of an open specification 
> for file-gdb was ESRI UC 2006, with discussion where of a forthcoming 
> public specification mentioned as far back as ArcGIS 8.3.
> 
> In many discussions people seem to use the terms open API and open file 
> format specifications interchangeably. ESRI itself seems to be pretty 
> clearly sticking to API-only line though, from the 2007 UC:
> 
> "While ESRI would ideally like to open the file geodatabase format in a 
> manner similar to what we did for shapefiles when we released ArcView 2, 
> geodatabases are complex and can be easily corrupted outside the ArcGIS 
> environment. Instead, we plan to engineer a high performing and well 
> documented API that developers can freely embed in custom applications 
> and that will read and write file geodatabase datasets. This will be 
> released after ArcGIS 9.3." -- http://bit.ly/esri-uc-qa-2007
> 
> If you've a reference for talk of the file fromat spec though I'd love 
> to see it. Searching for (EMEA) User Conference 2008 shows a few 
> announcements for the event but no proceedings or blog reports; I'm 
> likely not using the right keywords.
> 
> I also echo the request for people attending *any* ESRI conferences to 
> ask about both a public file format specifcation and programming API to 
> the file geodatabase.
> 
> best regards,
> 
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From gianni.olivieri at gmail.com  Mon Jun 14 04:33:17 2010
From: gianni.olivieri at gmail.com (Gianni Olivieri)
Date: Mon Jun 14 04:33:20 2010
Subject: [gdal-dev] SRTM maps and altitude...
In-Reply-To: <AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>
	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>
	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>
Message-ID: <AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>

2010/6/11 Gianni Olivieri <gianni.olivieri@gmail.com>:
> 2010/6/11 Matt Klaric <matt@klaric.com>:
>> While you certainly can accomplish this using GDAL, you'll need to first
>> figure out which hgt file to open, then translate the geographic coordinate
>> to the image coordinate to know what pixel value to lookup.
>>
>> An alternative solution is OSSIM (http://www.ossim.org/).? It has a
>> command-line app called ossim-height.? You can use it as follows:

thanks... I've looked to ossim... but there is a versione for linux?
or only form mac and windows?

>>
>> $ ossim-height 45 10
>> Opened cell:? /srtm1/N45E010.hgt
>> MSL to ellipsoid delta:?? 39.049
>> Height above MSL:??????? 37
>> Height above ellipsoid:? 76.049
>> Geoid value:? 39.049
>
> thanks for this link, I didn't know this software.
>
> I try this.
>
> Thanks...
>
>>
>> You can setup a configuration file (see:
>> http://trac.osgeo.org/ossim/wiki/ossimElevationSetup) that points to your
>> directory of hgt files and OSSIM will figure out which file is needed for
>> your query.
>>
>> If you're needing to embed this in an application of yours, you can use the
>> OSSIM API to accomplish the same thing.? Check out the source for
>> ossim-height for an example of how to do this.
>>
>> --Matt
>>
>>
>> On Fri, Jun 11, 2010 at 9:33 AM, Gianni Olivieri <gianni.olivieri@gmail.com>
>> wrote:
>>>
>>> Hallo,
>>>
>>> ? ?I need to extract the altitude of a GPS coordinate from a serie of
>>> HGT (SRTM or DEM) (I've download the entire Eurasia...
>>>
>>> So, for example, If I have a directory with all htg file and I'd like
>>> to know the altitude of this coords:
>>>
>>> 48?01'35.89" N
>>> 8?23'51,86" E
>>>
>>> how can I preceed?
>>>
>>> The elevation in that point is: 761m (google earth result)
>>> I'd like to have a similar results.
>>>
>>> Best regards
>>>
>>>
>>>
>>> --
>>> Gianni Olivieri
>>> gianni.olivieri@gmail.com
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
>
>
> --
> Gianni Olivieri
> gianni.olivieri@gmail.com
>



-- 
Gianni Olivieri
gianni.olivieri@gmail.com
From gianni.olivieri at gmail.com  Mon Jun 14 04:41:34 2010
From: gianni.olivieri at gmail.com (Gianni Olivieri)
Date: Mon Jun 14 04:41:36 2010
Subject: [gdal-dev] SRTM maps and altitude...
In-Reply-To: <AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>
	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>
	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>
	<AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>
Message-ID: <AANLkTim0imizVwGjGF3Y4ePpMDj3vGJBytydb6voKKV5@mail.gmail.com>

2010/6/14 Gianni Olivieri <gianni.olivieri@gmail.com>:
> 2010/6/11 Gianni Olivieri <gianni.olivieri@gmail.com>:
>> 2010/6/11 Matt Klaric <matt@klaric.com>:
>>> While you certainly can accomplish this using GDAL, you'll need to first
>>> figure out which hgt file to open, then translate the geographic coordinate
>>> to the image coordinate to know what pixel value to lookup.
>>>
>>> An alternative solution is OSSIM (http://www.ossim.org/).? It has a
>>> command-line app called ossim-height.? You can use it as follows:
>
> thanks... I've looked to ossim... but there is a versione for linux?
> or only form mac and windows?

I've see the source, I'll try to compile.


I need this tool for a hobby/study project... I'd like to create an
image of an altitude profile of a path...

something like: http://www.heywhatsthat.com/profiler.html

but I'd like to do all myself... I've Eurasia maps from SRTM NASA
already downloaded.

I've looked to mapserver and GDAL and now OSSIM...

I'm on a right direction?


>
>>>
>>> $ ossim-height 45 10
>>> Opened cell:? /srtm1/N45E010.hgt
>>> MSL to ellipsoid delta:?? 39.049
>>> Height above MSL:??????? 37
>>> Height above ellipsoid:? 76.049
>>> Geoid value:? 39.049
>>
>> thanks for this link, I didn't know this software.
>>
>> I try this.
>>
>> Thanks...
>>
>>>
>>> You can setup a configuration file (see:
>>> http://trac.osgeo.org/ossim/wiki/ossimElevationSetup) that points to your
>>> directory of hgt files and OSSIM will figure out which file is needed for
>>> your query.
>>>
>>> If you're needing to embed this in an application of yours, you can use the
>>> OSSIM API to accomplish the same thing.? Check out the source for
>>> ossim-height for an example of how to do this.
>>>
>>> --Matt
>>>
>>>
>>> On Fri, Jun 11, 2010 at 9:33 AM, Gianni Olivieri <gianni.olivieri@gmail.com>
>>> wrote:
>>>>
>>>> Hallo,
>>>>
>>>> ? ?I need to extract the altitude of a GPS coordinate from a serie of
>>>> HGT (SRTM or DEM) (I've download the entire Eurasia...
>>>>
>>>> So, for example, If I have a directory with all htg file and I'd like
>>>> to know the altitude of this coords:
>>>>
>>>> 48?01'35.89" N
>>>> 8?23'51,86" E
>>>>
>>>> how can I preceed?
>>>>
>>>> The elevation in that point is: 761m (google earth result)
>>>> I'd like to have a similar results.
>>>>
>>>> Best regards
>>>>
>>>>
>>>>
>>>> --
>>>> Gianni Olivieri
>>>> gianni.olivieri@gmail.com
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>>
>>
>> --
>> Gianni Olivieri
>> gianni.olivieri@gmail.com
>>
>
>
>
> --
> Gianni Olivieri
> gianni.olivieri@gmail.com
>



-- 
Gianni Olivieri
gianni.olivieri@gmail.com
From pfreimuth at arcor.de  Mon Jun 14 05:57:15 2010
From: pfreimuth at arcor.de (Peter Freimuth)
Date: Mon Jun 14 05:57:23 2010
Subject: [gdal-dev] getting reason info when is_valid() returns false
In-Reply-To: <AANLkTil4202k4b6jP3VIValhoc9sh-8WHwAEbBYMtNv0@mail.gmail.com>
References: <4C10C002.20402@arcor.de>
	<AANLkTil4202k4b6jP3VIValhoc9sh-8WHwAEbBYMtNv0@mail.gmail.com>
Message-ID: <4C15FCFB.5000904@arcor.de>

Paul Meems schrieb:
> We're using GDAL and GEOS in MapWindow GIS and we use the GEOS version of
> IsValid(). I think it is the same GDAL is using.
> The latest version of GEOS has a IsValidReason, telling you what was wrong.
>
> I hope it helps,
>
> Thanks,
>
> Paul
>
> --
> Paul Meems
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
>
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
> [image: Linkedin] <http://nl.linkedin.com/in/paulmeems>[image:
> Twitter]<http://twitter.com/mapwindow_nl>
>
>
>
> 2010/6/10 Peter Freimuth <pfreimuth@arcor.de>
>
>   
>> Hi List,
>> i am working with python ogr api and i check features which the
>> applications gets from esri shapefiles to match several criterias.
>>        if not xOgrGeometry.IsValid():
>>            sMsg = "IsValid check failed! We have an invalid feature
>> geometry!"
>>            wkt=xOgrGeometry.ExportToWkt()
>>            xLogger.error(sMsg + "Geometry is: [%s]" % wkt)
>>            return [0, sMsg]
>> It would be great if there is a possibility to get the reason for why
>> is_valid() failed. I checked also shapely but i could'nt find something
>> that tells me the reason like selfintersecting or other.
>>
>> Any hint on how to extract the reason string is welcome.
>>
>> Kind regards,
>> Peter
>>
>> --
>> Peter Freimuth
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>     
>
>   
Thanks Paul for your hint,
i will check if i can access the function from python using the geos
wrapper shapely with the latest geos version. Hopefully this method will
be integrated also in the ogr geometry class.
Kind regards,
Peter

-- 
Peter Freimuth  Muskauer Str. 11   10997 Berlin
Location:
http://www.berlinonline.de/citymap/map.asp?start.x=5&plz=10997&str=Muskauer+Str.+11&grid=dedatlas10
or
http://wikimapia.org/#lat=52.5015709&lon=13.431505&z=18&l=5&m=b
========================================================================================================
Tel/Phone:+49(0)30-69816610  Mobil/mobile:+49(0)175-8434074  Firma/Company:+49(0)3381-8904327
========================================================================================================
mailto:pfreimuth@arcor.de  
skype:pfreimuth

From massimodisasha at gmail.com  Mon Jun 14 07:02:01 2010
From: massimodisasha at gmail.com (Massimo Di Stefano)
Date: Mon Jun 14 07:32:09 2010
Subject: [gdal-dev] SRTM maps and altitude...
In-Reply-To: <AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>
	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>
	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>
	<AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>
Message-ID: <E32AA936-862A-4855-90F2-F9F9AF2426AC@gmail.com>

If you need only the core library 
(it includes the ossim-height executable)
you will find ossim packaged for debian unstable (SID) [1]
or the complete set of apps for ubuntu 9.04 [2]

[1] http://wiki.debian.org/DebianGis/PackageList
[2] https://launchpad.net/~ubuntugis

btw using gdal you can read the dataset as an array and use the geotransform
to know pixel position and the correspondent pixel(array) value.

in pyton using the gdal bindings,  to start :

indataset = gdal.Open(str(infile), gdal.GA_ReadOnly)
band = indataset.GetRasterBand(1)
gdarray = indataset.GetRasterBand(1).ReadAsArray()
geotransform = indataset.GetGeoTransform() 



Il giorno 14/giu/2010, alle ore 10.33, Gianni Olivieri ha scritto:

> 2010/6/11 Gianni Olivieri <gianni.olivieri@gmail.com>:
>> 2010/6/11 Matt Klaric <matt@klaric.com>:
>>> While you certainly can accomplish this using GDAL, you'll need to first
>>> figure out which hgt file to open, then translate the geographic coordinate
>>> to the image coordinate to know what pixel value to lookup.
>>> 
>>> An alternative solution is OSSIM (http://www.ossim.org/).  It has a
>>> command-line app called ossim-height.  You can use it as follows:
> 
> thanks... I've looked to ossim... but there is a versione for linux?
> or only form mac and windows?
> 
>>> 
>>> $ ossim-height 45 10
>>> Opened cell:  /srtm1/N45E010.hgt
>>> MSL to ellipsoid delta:   39.049
>>> Height above MSL:        37
>>> Height above ellipsoid:  76.049
>>> Geoid value:  39.049
>> 
>> thanks for this link, I didn't know this software.
>> 
>> I try this.
>> 
>> Thanks...
>> 
>>> 
>>> You can setup a configuration file (see:
>>> http://trac.osgeo.org/ossim/wiki/ossimElevationSetup) that points to your
>>> directory of hgt files and OSSIM will figure out which file is needed for
>>> your query.
>>> 
>>> If you're needing to embed this in an application of yours, you can use the
>>> OSSIM API to accomplish the same thing.  Check out the source for
>>> ossim-height for an example of how to do this.
>>> 
>>> --Matt
>>> 
>>> 
>>> On Fri, Jun 11, 2010 at 9:33 AM, Gianni Olivieri <gianni.olivieri@gmail.com>
>>> wrote:
>>>> 
>>>> Hallo,
>>>> 
>>>>    I need to extract the altitude of a GPS coordinate from a serie of
>>>> HGT (SRTM or DEM) (I've download the entire Eurasia...
>>>> 
>>>> So, for example, If I have a directory with all htg file and I'd like
>>>> to know the altitude of this coords:
>>>> 
>>>> 48?01'35.89" N
>>>> 8?23'51,86" E
>>>> 
>>>> how can I preceed?
>>>> 
>>>> The elevation in that point is: 761m (google earth result)
>>>> I'd like to have a similar results.
>>>> 
>>>> Best regards
>>>> 
>>>> 
>>>> 
>>>> --
>>>> Gianni Olivieri
>>>> gianni.olivieri@gmail.com
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> 
>>> 
>> 
>> 
>> 
>> --
>> Gianni Olivieri
>> gianni.olivieri@gmail.com
>> 
> 
> 
> 
> -- 
> Gianni Olivieri
> gianni.olivieri@gmail.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From dburken at comcast.net  Mon Jun 14 08:32:41 2010
From: dburken at comcast.net (David Burken)
Date: Mon Jun 14 08:33:52 2010
Subject: [gdal-dev] cmake???
In-Reply-To: <E32AA936-862A-4855-90F2-F9F9AF2426AC@gmail.com>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>	<AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>
	<E32AA936-862A-4855-90F2-F9F9AF2426AC@gmail.com>
Message-ID: <4C162169.2060306@comcast.net>

Hi Everyone,

Just curious if there are any thoughts on migrating to cmake?

Regards,
Dave

From mateusz at loskot.net  Mon Jun 14 08:40:36 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Jun 14 08:37:21 2010
Subject: [gdal-dev] cmake???
In-Reply-To: <4C162169.2060306@comcast.net>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>	<AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>	<E32AA936-862A-4855-90F2-F9F9AF2426AC@gmail.com>
	<4C162169.2060306@comcast.net>
Message-ID: <4C162344.3050400@loskot.net>

On 14/06/10 13:32, David Burken wrote:
> Hi Everyone,
>
> Just curious if there are any thoughts on migrating to cmake?

A prototype project's started:

http://code.google.com/p/gdal-cmake/

However, it's a bit suspended, temporarily I hope.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From dburken at comcast.net  Mon Jun 14 08:38:27 2010
From: dburken at comcast.net (David Burken)
Date: Mon Jun 14 08:39:32 2010
Subject: [gdal-dev] SRTM maps and altitude...
In-Reply-To: <AANLkTim0imizVwGjGF3Y4ePpMDj3vGJBytydb6voKKV5@mail.gmail.com>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>	<AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>
	<AANLkTim0imizVwGjGF3Y4ePpMDj3vGJBytydb6voKKV5@mail.gmail.com>
Message-ID: <4C1622C3.9070900@comcast.net>

On 06/14/2010 04:41 AM, Gianni Olivieri wrote:
> 2010/6/14 Gianni Olivieri<gianni.olivieri@gmail.com>:
>    
>> 2010/6/11 Gianni Olivieri<gianni.olivieri@gmail.com>:
>>      
>>> 2010/6/11 Matt Klaric<matt@klaric.com>:
>>>        
>>>> While you certainly can accomplish this using GDAL, you'll need to first
>>>> figure out which hgt file to open, then translate the geographic coordinate
>>>> to the image coordinate to know what pixel value to lookup.
>>>>
>>>> An alternative solution is OSSIM (http://www.ossim.org/).  It has a
>>>> command-line app called ossim-height.  You can use it as follows:
>>>>          
>> thanks... I've looked to ossim... but there is a versione for linux?
>> or only form mac and windows?
>>      
> I've see the source, I'll try to compile.
>
>
> I need this tool for a hobby/study project... I'd like to create an
> image of an altitude profile of a path...
>
> something like: http://www.heywhatsthat.com/profiler.html
>
> but I'd like to do all myself... I've Eurasia maps from SRTM NASA
> already downloaded.
>
> I've looked to mapserver and GDAL and now OSSIM...
>
> I'm on a right direction?
>
>    
Gianni I do all my ossim developement on linux so let me know if you 
need any help there.

Dave

>    
>>      
>>>> $ ossim-height 45 10
>>>> Opened cell:  /srtm1/N45E010.hgt
>>>> MSL to ellipsoid delta:   39.049
>>>> Height above MSL:        37
>>>> Height above ellipsoid:  76.049
>>>> Geoid value:  39.049
>>>>          
>>> thanks for this link, I didn't know this software.
>>>
>>> I try this.
>>>
>>> Thanks...
>>>
>>>        
>>>> You can setup a configuration file (see:
>>>> http://trac.osgeo.org/ossim/wiki/ossimElevationSetup) that points to your
>>>> directory of hgt files and OSSIM will figure out which file is needed for
>>>> your query.
>>>>
>>>> If you're needing to embed this in an application of yours, you can use the
>>>> OSSIM API to accomplish the same thing.  Check out the source for
>>>> ossim-height for an example of how to do this.
>>>>
>>>> --Matt
>>>>
>>>>
>>>> On Fri, Jun 11, 2010 at 9:33 AM, Gianni Olivieri<gianni.olivieri@gmail.com>
>>>> wrote:
>>>>          
>>>>> Hallo,
>>>>>
>>>>>     I need to extract the altitude of a GPS coordinate from a serie of
>>>>> HGT (SRTM or DEM) (I've download the entire Eurasia...
>>>>>
>>>>> So, for example, If I have a directory with all htg file and I'd like
>>>>> to know the altitude of this coords:
>>>>>
>>>>> 48?01'35.89" N
>>>>> 8?23'51,86" E
>>>>>
>>>>> how can I preceed?
>>>>>
>>>>> The elevation in that point is: 761m (google earth result)
>>>>> I'd like to have a similar results.
>>>>>
>>>>> Best regards
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Gianni Olivieri
>>>>> gianni.olivieri@gmail.com
>>>>> _______________________________________________
>>>>> gdal-dev mailing list
>>>>> gdal-dev@lists.osgeo.org
>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>            
>>>>
>>>>          
>>>
>>>
>>> --
>>> Gianni Olivieri
>>> gianni.olivieri@gmail.com
>>>
>>>        
>>
>>
>> --
>> Gianni Olivieri
>> gianni.olivieri@gmail.com
>>
>>      
>
>
>    
From dburken at comcast.net  Mon Jun 14 09:38:36 2010
From: dburken at comcast.net (David Burken)
Date: Mon Jun 14 09:38:50 2010
Subject: [gdal-dev] cmake???
Message-ID: <4C1630DC.1050208@comcast.net>

> On 14/06/10 13:32, David Burken wrote:
>> Hi Everyone,
>>
>> Just curious if there are any thoughts on migrating to cmake?
>
> A prototype project's started:
>
> http://code.google.com/p/gdal-cmake/
>
> However, it's a bit suspended, temporarily I hope.
>
> Best regards,
> -- 
> Mateusz Loskot, http://mateusz.loskot.net 

Thanks Mateusz,

I was just curious.  We just did it on the ossim side.  It was pretty 
painful, even with help from the OSG folks, but I have to say now that 
it's in place I'm starting to like it.  You guys have way more 
dependencies so that my hurt.   Anyway thanks.

Also sorry about the new thread.  My last mail was a cut and paste from 
reply to srtm mail...

Take care,
Dave

From yevgen.antymyrov at and.com  Mon Jun 14 09:29:30 2010
From: yevgen.antymyrov at and.com (Yevgen Antymyrov)
Date: Mon Jun 14 09:41:00 2010
Subject: [gdal-dev] cmake???
In-Reply-To: <4C162344.3050400@loskot.net>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>	<AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>	<E32AA936-862A-4855-90F2-F9F9AF2426AC@gmail.com>	<4C162169.2060306@comcast.net>
	<4C162344.3050400@loskot.net>
Message-ID: <4C162EBA.1060409@and.com>

Mateusz Loskot wrote:
> A prototype project's started:
>
> http://code.google.com/p/gdal-cmake/
>
> However, it's a bit suspended, temporarily I hope.
>
> Best regards,

My issue #1 is still the only one :)

-- 
Yevgen

From hobu.inc at gmail.com  Mon Jun 14 09:41:26 2010
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Jun 14 09:41:25 2010
Subject: [gdal-dev] cmake???
In-Reply-To: <4C162344.3050400@loskot.net>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>	<AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>	<E32AA936-862A-4855-90F2-F9F9AF2426AC@gmail.com>
	<4C162169.2060306@comcast.net> <4C162344.3050400@loskot.net>
Message-ID: <2DE7A5B1-6587-478C-B75B-D2846C924AFC@gmail.com>


On Jun 14, 2010, at 7:40 AM, Mateusz Loskot wrote:

> On 14/06/10 13:32, David Burken wrote:
>> Hi Everyone,
>> 
>> Just curious if there are any thoughts on migrating to cmake?
> 
> A prototype project's started:
> 
> http://code.google.com/p/gdal-cmake/
> 
> However, it's a bit suspended, temporarily I hope.

Mateusz,

I would help to support this build option and continue its improvement within GDAL if you wish to move it over the GDAL source tree.  My CMake experience with libLAS (introduced by you) has been wonderful, and it's clear to me that CMake or something like it is a clear way forward from the current morass that software library building systems currently reside.  

Howard
From Andreas.Fischer at kreis-unna.de  Mon Jun 14 11:06:19 2010
From: Andreas.Fischer at kreis-unna.de (Fischer, Andreas)
Date: Mon Jun 14 11:07:54 2010
Subject: AW: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS
In-Reply-To: <4C12C24B.1020206@pobox.com>
References: <A85A2E77866D1D4183268072EB15A8B80517C2DE@kum1.kreis-unna.int>
	<4C12C24B.1020206@pobox.com>
Message-ID: <A85A2E77866D1D4183268072EB15A8B80517C2E0@kum1.kreis-unna.int>

Hi Frank,
thanks for your hints. I could finally use tiffinfo very easily from FWTools-Shell, for I'm testing with a windows machine :-)

So here are the outputs from tiffinfo for the different files. 
a) = original file

b) = original file transformed with gdalwarp
(gdalwarp -s_srs C:\Programme\FWTools2.4.6\proj_lib\25832.wkt -t_srs "+proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel +units=m +nadgrids=C:\Programme\FWTools2.4.6\proj_lib\BETA2007.gsb +wktext" -dstnodata 255 -srcnodata 255 -co NBITS=1 -co PROFILE=BASELINE -co TFW=YES -co INTERLEAVE=PIXEL K:\basisdaten\alk\raster\rk4dgk5\32395_5718.tif  C:\bearbeitung\alk\utm2gk\1bit\32395_5718.tif)

c) = transformed file opened with IrfanView and saved as copy

I hope these outputs will "talk to you". I will be glad to hear from you.

Thanks and best regards
Andreas


a) Original file 

TIFF Directory at offset 0x62ae6 (404198)
  Image Width: 11812 Image Length: 11812
  Bits/Sample: 1
  Compression Scheme: CCITT Group 4
  Photometric Interpretation: min-is-white
  FillOrder: lsb-to-msb
  Samples/Pixel: 1
  Rows/Strip: 5
  Planar Configuration: single image plane
  Software: Handmade Software, Inc. Image Alchemy v1.13


b) File transformed with gdalwarp (gdal-file)

TIFFReadDirectory: Warning, Unknown field with tag 42113 (0xa481) encountered.
TIFF Directory at offset 0x10a8036 (17465398)
  Image Width: 11812 Image Length: 11812
  Bits/Sample: 1
  Sample Format: unsigned integer
  Compression Scheme: None
  Photometric Interpretation: palette color (RGB from colormap)
  Samples/Pixel: 1
  Rows/Strip: 5
  Planar Configuration: single image plane
  Color Map: (present)
  Tag 42113: 255


c) gdal-file (b) opened with IrfanView and saved as a copy without changes

TIFF Directory at offset 0x10a35bc (17446332)
  Image Width: 11812 Image Length: 11812
  Resolution: 0, 0 pixels/inch
  Bits/Sample: 1
  Compression Scheme: None
  Photometric Interpretation: min-is-white
  Orientation: row 0 top, col 0 lhs
  Samples/Pixel: 1
  Rows/Strip: 5
  Planar Configuration: single image plane
  Software: IrfanView
 

Mit freundlichen Gr??en
Im Auftrag

Andreas Fischer

Kreis Unna - Der Landrat
Zentrale Datenverarbeitung
Friedrich-Ebert-Stra?e 17
59425 Unna

Fon 02 3 03 27-44 16
Fax 0 23 03 27-28 96
andreas.fischer@kreis-unna.de
www.kreis-unna.de

-----Urspr?ngliche Nachricht-----
Von: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Gesendet: Samstag, 12. Juni 2010 01:10
An: Fischer, Andreas
Cc: gdal-dev@lists.osgeo.org
Betreff: Re: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS

Fischer, Andreas wrote:
> Hello Frank,
> thanks for your reply. 
> Can you let me know how to create a tiffinfo report? What tool do I need to do so?

Andreas,

tiffinfo is a commandline utility which produces text output.  It is
generally available with libtiff.  In Debian/Ubuntu I think it is the
"libtiff-tools" package.  The tools are also available in OSGeo4W as
the libtiff-bin package.

You can also quite easily just build it locally from source as part of
the normal libtiff build.  After a build it will be in the libtiff/tools
directory (no need to actually do an install to run it).

Then just run it against the appropriate files and redirect the output
to a text file or cut and paste.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

Diese E-Mail wurde beim Ausgang auf Viren geprueft. Wegen der 
potentiellen Gefahr auf den Uebertragungswegen wird zu einer 
Vireneingangskontrolle geraten. Eine Haftung f?r Virenfreiheit
wird ausgeschlossen.


From j.donovan at virtalis.com  Mon Jun 14 11:48:10 2010
From: j.donovan at virtalis.com (John Donovan)
Date: Mon Jun 14 11:48:14 2010
Subject: [gdal-dev] SRTM maps and altitude...
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>
Message-ID: <C8891C79DFCAB347B9221DF3890EDD2F5E030D@topdog.Virtalis.local>

Here's a little Python script I knocked up for just this purpose.

# Quick and dirty utility to get the value of a pixel in a georeferenced
# image file, given the map coordinates. Uses nearest-neighbour and doesn't
# try to do anything clever.
# By John Donovan 2010, released into the public domain. Use at your own risk.
# There is absolutely no warranty expressed or implied, and no guarantee that
# it is fit for purpose.
from osgeo import gdal
from osgeo.gdalconst import *
from numpy import matrix
import sys
import time

def main():
    filename = sys.argv[1]
    world = matrix([[float(sys.argv[2])], [float(sys.argv[3])]])

    ds = gdal.Open(filename, GA_ReadOnly)

    if ds is None:
        raise IOError

    try:
        # Transform from map space to image space.
        xform = ds.GetGeoTransform()
        offset = matrix([[xform[0]], [xform[3]]])
        A = matrix([[xform[1], xform[2]], [xform[4], xform[5]]])
        pixel = A.I * (world - offset)

        # Is the point within the bounding box of the image?
        if pixel[0] < 0.0 or pixel[0] > ds.RasterXSize or \
          pixel[1] < 0.0 or pixel[1] > ds.RasterYSize:
            raise IndexError('The coordinates specified are outside the '\
              'bounds of the image.')

        print int(pixel[0]), int(pixel[1]), \
          ds.ReadAsArray(int(pixel[0]), int(pixel[1]), 1, 1).ravel()

    finally:
        ds = None

if __name__ == '__main__':
    main()

It doesn't do any form of interpolation, nor does it take geoids into account, but running it on the SRTM3 version 2.1 data for the point you specified gives reasonable results:

$ python value_at.py N48E008.hgt 8.39774 48.02664
477 1168 [795]

Where the first two numbers are the integer pixel coordinates, and the numbers in brackets are the values, one for each band.

Hope this helps,
-JD

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Gianni Olivieri
Sent: 11 June 2010 15:34
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] SRTM maps and altitude...

Hallo,

    I need to extract the altitude of a GPS coordinate from a serie of HGT (SRTM or DEM) (I've download the entire Eurasia...

So, for example, If I have a directory with all htg file and I'd like to know the altitude of this coords:

48?01'35.89" N
8?23'51,86" E

how can I preceed?

The elevation in that point is: 761m (google earth result) I'd like to have a similar results.

Best regards



--
Gianni Olivieri
gianni.olivieri@gmail.com
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

______________________________________________________________________
This email has been scanned for Virtalis Ltd by the MessageLabs Email Security System.
______________________________________________________________________

______________________________________________________________________
This email has been scanned for Virtalis Ltd by the MessageLabs Email Security System. ______________________________________________________________________
From sfkeller at gmail.com  Mon Jun 14 13:39:45 2010
From: sfkeller at gmail.com (Stefan Keller)
Date: Mon Jun 14 13:39:48 2010
Subject: [gdal-dev] ESRI file geodatabase support
In-Reply-To: <4C15C9EA.80605@york.ac.uk>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
	<4C15C9EA.80605@york.ac.uk>
Message-ID: <AANLkTimxVSIfyAHi9XBo36bQYDC8oUbvQF26gZCrVz5r@mail.gmail.com>

Hi all

At ESRI Developer Summit, March 22?25, 2010, Palm Springs, CA, they
talked about the ArcGIS 10 to be expected in June 2010.
But somebody (http://tinyurl.com/34nk558, 19. April 2010, german) said
that the opening of the API (C++ only) won't make it into this
release.

But since this is a storage format I question what this will be good
for? I'm after an exchange format which is better than Shapefiles!

Yours, S.

P.S. Off topic proposal: It would be perhaps interesting to talk about
a new GIS format at FOSS4G2010? There will be a presentation
"SpatiaLite, the Shapefile of the future?" (the argumentats for it are
already layed out here, unfortunately in german:
http://www.fossgis.de/konferenz/2010/events/127.de.html )


2010/6/14 Peter J Halls <P.Halls@york.ac.uk>:
> Matt,
>
> ? although we were told at the time that the EMEA 2008 Proceedings would be
> put online, I've yet to see them or hear of the result - I was a speaker and
> submitted my materials on time and as requested and that seems to have been
> the end of the story.
>
> Peter
>
> Matt Wilkie wrote:
>>
>> The earliest reference I found to a "promise" of an open specification for
>> file-gdb was ESRI UC 2006, with discussion where of a forthcoming public
>> specification mentioned as far back as ArcGIS 8.3.
>>
>> In many discussions people seem to use the terms open API and open file
>> format specifications interchangeably. ESRI itself seems to be pretty
>> clearly sticking to API-only line though, from the 2007 UC:
>>
>> "While ESRI would ideally like to open the file geodatabase format in a
>> manner similar to what we did for shapefiles when we released ArcView 2,
>> geodatabases are complex and can be easily corrupted outside the ArcGIS
>> environment. Instead, we plan to engineer a high performing and well
>> documented API that developers can freely embed in custom applications and
>> that will read and write file geodatabase datasets. This will be released
>> after ArcGIS 9.3." -- http://bit.ly/esri-uc-qa-2007
>>
>> If you've a reference for talk of the file fromat spec though I'd love to
>> see it. Searching for (EMEA) User Conference 2008 shows a few announcements
>> for the event but no proceedings or blog reports; I'm likely not using the
>> right keywords.
>>
>> I also echo the request for people attending *any* ESRI conferences to ask
>> about both a public file format specifcation and programming API to the file
>> geodatabase.
>>
>> best regards,
>>
>> matt wilkie
>> --------------------------------------------
>> Geomatics Analyst
>> Information Management and Technology
>> Yukon Department of Environment
>> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
>> 867-667-8133 Tel * 867-393-7003 Fax
>> http://environmentyukon.gov.yk.ca/geomatics/
>> --------------------------------------------
>
> --
> --------------------------------------------------------------------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 433806 ? ? Fax: 01904 433740
> Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
> This message has the status of a private and personal communication
> --------------------------------------------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From david.m.baker at chk.com  Mon Jun 14 15:16:41 2010
From: david.m.baker at chk.com (David Baker (Geoscience))
Date: Mon Jun 14 15:17:49 2010
Subject: [gdal-dev] GXF -- Grid eXchange File to AAIGrid -- Arc/Info ASCII
 Grid No Value Issue
Message-ID: <E3B01AE590420B45B38B00C9A8B23FDB4AAA931FB4@OKCEXHPRD007.chkenergy.net>

All,

Using OpenEV from FWTools version 2.4.7 to convert the GXF file found at http://pubs.usgs.gov/of/2000/ofr-00-0042/data/ from the GXF format to AAIGrid format I have found an issue.  In the GXF file the #DUMMY value/string is -1e32 and this is the same value/string found in the data portion of the GXF file.  After conversion in the AAIGrid file, the NODATA line reads

NODATA_value -1.0000000000000001e+032

but the value -1.0000000331813535e+032 is found in the data portion of the AAIGrid file where the value -1.0000000000000001e+032 should be found.  As OpenEV uses GDAL/OGR to do the conversion I have posted this issue here.

Thanks,

David M. Baker
Senior Geologist - Chief Technology Advisor
Chesapeake Energy Corporation
405-935-3715 office
405-496-5373 cell
david.m.baker@chk.com<mailto:david.m.baker@chk.com>


________________________________
This email (and attachments if any) is intended only for the use of the individual or entity to which it is addressed, and may contain information that is privileged, confidential and exempt from disclosure under applicable law. If the reader of this email is not the intended recipient, or the employee or agent responsible for delivering this message to the intended recipient, you are hereby notified that any dissemination, distribution or copying of this communication is strictly prohibited. If you have received this communication in error, please notify the sender immediately by return email and destroy all copies of the email (and attachments if any).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100614/3dd2c0a7/attachment.html
From ksshannon at gmail.com  Mon Jun 14 16:08:19 2010
From: ksshannon at gmail.com (Kyle Shannon)
Date: Mon Jun 14 16:08:36 2010
Subject: [gdal-dev] gdal and png color quantization.
In-Reply-To: <AANLkTimo9ym3aGRDSOpL7-2u4lEiqL23B9iPDAL-mHRw@mail.gmail.com>
References: <AANLkTimo9ym3aGRDSOpL7-2u4lEiqL23B9iPDAL-mHRw@mail.gmail.com>
Message-ID: <AANLkTilDvM5SJaWLFrGvbhaMRVUUhH_KoA-OwePbTQRJ@mail.gmail.com>

Hermant,
I think that this was a proposed project for the google summer of code, but
I don't know if anyone picked it up.  It seems like a good addition and it
is obviously on GDAL's radar.  I have not heard anything about the selected
SoC projects though.

kss

# ============================
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
# ============================


On Fri, Jun 11, 2010 at 1:19 PM, Hemant Bist <hemantbist@gmail.com> wrote:

> Hi,
> I am trying to achieve effect of running image magick command (convert
> -depth 8 -colors 32) on png files (tiles) generated by gdal2tiles.py
>
> As far as I can tell by searching  Gdal code, that there is no such option
> in the png_driver. Is this correct?
> If so, what is the easiest way to add this option? I would appreciate any
> pointers.
>
> Best,
> HB
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100614/1a0f45ed/attachment.html
From even.rouault at mines-paris.org  Mon Jun 14 17:23:27 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Jun 14 17:23:39 2010
Subject: [gdal-dev] GXF -- Grid eXchange File to AAIGrid -- Arc/Info ASCII
	Grid No Value Issue
In-Reply-To: <E3B01AE590420B45B38B00C9A8B23FDB4AAA931FB4@OKCEXHPRD007.chkenergy.net>
References: <E3B01AE590420B45B38B00C9A8B23FDB4AAA931FB4@OKCEXHPRD007.chkenergy.net>
Message-ID: <201006142323.28551.even.rouault@mines-paris.org>

David,

the issue was in the GXF driver that returns the nodata value as a double 
precision real, but the pixel data as single precision real. So when 
translating to AAIGrid, you can see the difference in precisions.

In trunk (r19868), I've made 2 changes :
* cast nodata value to float to be consistant with precision of pixel data
* add a GXF_DATATYPE configuration option that can be set to Float64 to get 
full precision for nodata value and pixel values.

Best regards,

Even

Le Monday 14 June 2010 21:16:41 David Baker (Geoscience), vous avez ?crit?:
> All,
>
> Using OpenEV from FWTools version 2.4.7 to convert the GXF file found at
> http://pubs.usgs.gov/of/2000/ofr-00-0042/data/ from the GXF format to
> AAIGrid format I have found an issue.  In the GXF file the #DUMMY
> value/string is -1e32 and this is the same value/string found in the data
> portion of the GXF file.  After conversion in the AAIGrid file, the NODATA
> line reads
>
> NODATA_value -1.0000000000000001e+032
>
> but the value -1.0000000331813535e+032 is found in the data portion of the
> AAIGrid file where the value -1.0000000000000001e+032 should be found.  As
> OpenEV uses GDAL/OGR to do the conversion I have posted this issue here.
>
> Thanks,
>
> David M. Baker
> Senior Geologist - Chief Technology Advisor
> Chesapeake Energy Corporation
> 405-935-3715 office
> 405-496-5373 cell
> david.m.baker@chk.com<mailto:david.m.baker@chk.com>
>
>
> ________________________________
> This email (and attachments if any) is intended only for the use of the
> individual or entity to which it is addressed, and may contain information
> that is privileged, confidential and exempt from disclosure under
> applicable law. If the reader of this email is not the intended recipient,
> or the employee or agent responsible for delivering this message to the
> intended recipient, you are hereby notified that any dissemination,
> distribution or copying of this communication is strictly prohibited. If
> you have received this communication in error, please notify the sender
> immediately by return email and destroy all copies of the email (and
> attachments if any).


From mateusz at loskot.net  Tue Jun 15 07:51:27 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Jun 15 07:48:14 2010
Subject: [gdal-dev] cmake???
In-Reply-To: <2DE7A5B1-6587-478C-B75B-D2846C924AFC@gmail.com>
References: <AANLkTinnE9OO7O3Ih9SvQxaaalN6sfI8pGW6DKw1Eyir@mail.gmail.com>	<AANLkTikz09qEUKHY5edU-uhas_gaUBjgNo05-Lzh761D@mail.gmail.com>	<AANLkTilHxEjb_MPfkIuTvNMRiyb8H4HBg7rCbLbFUIdu@mail.gmail.com>	<AANLkTiln4dcGubW4ibgEBtvQHQoEKRheyShq1dDVa91d@mail.gmail.com>	<E32AA936-862A-4855-90F2-F9F9AF2426AC@gmail.com>
	<4C162169.2060306@comcast.net> <4C162344.3050400@loskot.net>
	<2DE7A5B1-6587-478C-B75B-D2846C924AFC@gmail.com>
Message-ID: <4C17693F.1050607@loskot.net>

On 14/06/10 14:41, Howard Butler wrote:
>
> On Jun 14, 2010, at 7:40 AM, Mateusz Loskot wrote:
>
>> On 14/06/10 13:32, David Burken wrote:
>>> Hi Everyone,
>>>
>>> Just curious if there are any thoughts on migrating to cmake?
>>
>> A prototype project's started:
>>
>> http://code.google.com/p/gdal-cmake/
>>
>> However, it's a bit suspended, temporarily I hope.
>
> Mateusz,
>
> I would help to support this build option and continue its
> improvement within GDAL if you wish to move it over the GDAL source
> tree.

Hobu,

I do not wish. But, I do not object it as well.

 > My CMake experience with libLAS (introduced by you) has been
> wonderful, and it's clear to me that CMake or something like it is a
> clear way forward from the current morass that software library
> building systems currently reside.

I'm glad to hear it!

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From warmerdam at pobox.com  Tue Jun 15 10:33:32 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 15 10:33:34 2010
Subject: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS
In-Reply-To: <A85A2E77866D1D4183268072EB15A8B80517C2E0@kum1.kreis-unna.int>
References: <A85A2E77866D1D4183268072EB15A8B80517C2DE@kum1.kreis-unna.int>
	<4C12C24B.1020206@pobox.com>
	<A85A2E77866D1D4183268072EB15A8B80517C2E0@kum1.kreis-unna.int>
Message-ID: <AANLkTik6wqV5wqa1uAkopDFLYxf-DPuJ5MRhs215Ap0b@mail.gmail.com>

On Mon, Jun 14, 2010 at 11:06 AM, Fischer, Andreas
<Andreas.Fischer@kreis-unna.de> wrote:
> Hi Frank,
> thanks for your hints. I could finally use tiffinfo very easily from FWTools-Shell, for I'm testing with a windows machine :-)
...
> b) File transformed with gdalwarp (gdal-file)
>
> TIFFReadDirectory: Warning, Unknown field with tag 42113 (0xa481) encountered.
> TIFF Directory at offset 0x10a8036 (17465398)
> ?Image Width: 11812 Image Length: 11812
> ?Bits/Sample: 1
> ?Sample Format: unsigned integer
> ?Compression Scheme: None
> ?Photometric Interpretation: palette color (RGB from colormap)
> ?Samples/Pixel: 1
> ?Rows/Strip: 5
> ?Planar Configuration: single image plane
> ?Color Map: (present)
> ?Tag 42113: 255
>
>
> c) gdal-file (b) opened with IrfanView and saved as a copy without changes
>
> TIFF Directory at offset 0x10a35bc (17446332)
> ?Image Width: 11812 Image Length: 11812
> ?Resolution: 0, 0 pixels/inch
> ?Bits/Sample: 1
> ?Compression Scheme: None
> ?Photometric Interpretation: min-is-white
> ?Orientation: row 0 top, col 0 lhs
> ?Samples/Pixel: 1
> ?Rows/Strip: 5
> ?Planar Configuration: single image plane
> ?Software: IrfanView

Andreas,

The most obvious difference between these is that the GDAL
generated file has a color table while IrfanView does not save
one with it's 1 bit output file.  It would appear that some software
packages do not properly support paletted one bit files.

Unfortunately, because GDAL "sees" the min-is-white
input file as paletted it produces a paletted output file.  I
cannot think of an easy way of avoiding this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From maphew at gmail.com  Tue Jun 15 17:51:47 2010
From: maphew at gmail.com (Matt Wilkie)
Date: Tue Jun 15 17:51:49 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <AANLkTimxVSIfyAHi9XBo36bQYDC8oUbvQF26gZCrVz5r@mail.gmail.com>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
	<4C15C9EA.80605@york.ac.uk>
	<AANLkTimxVSIfyAHi9XBo36bQYDC8oUbvQF26gZCrVz5r@mail.gmail.com>
Message-ID: <1276638707657-5183957.post@n2.nabble.com>


I think discussing a shapefile successor, or even perhaps a code sprint, is a
very good topic for FOSS4G. This same thread that we're weaving now is/has
happened on a number mailing lists and usually generated dozens of responses
each time. The interest is clear. From my vantage the germinating seed
crystal could be spatialite, but there seems to be some general reluctance
to jump on board. I'm ignorant of the reasons for that, perhaps that will
come out at FOSS4G; wish I could be there!

Ivan: I personally welcome and will use a gdal/ogr that uses the currently
installed arcgis libraries however for the health of the industry I'd like
to see unencumbered access. Thanks for letting me know at least part of my
ramblings are of interest

cheers,

-matt
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-ESRI-file-geodatabase-support-tp5159756p5183957.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From luper.rouch at gmail.com  Tue Jun 15 20:47:45 2010
From: luper.rouch at gmail.com (luper rouch)
Date: Tue Jun 15 20:48:08 2010
Subject: [gdal-dev] Problem compiling osgeo._gdal_array Python module under
	MinGW
Message-ID: <AANLkTim1rnB5K0wIqPiMAUyzeL07YFtRVGqKlPCUIXXO@mail.gmail.com>

Hi,

The GDAL Python bindings fails to build under MinGW with an error
about sprintf() being defined twice in stdio.h and libmsvcr90.a.

This happens while building the osgeo._gdal_array module, which is
only built if numpy is installed on the system.

The solution I found was to define the "__USE_MINGW_ANSI_STDIO" macro,
which forces using the MinGW's versions of *printf(). Edit
"swig/python/setup.py" and change the "array_module" extension
definition to this:

array_module = Extension('osgeo._gdal_array',
? ? ? ? ? ? ? ? ?sources=['extensions/gdal_array_wrap.cpp'],
? ? ? ? ? ? ? ? ?extra_compile_args=["-D __USE_MINGW_ANSI_STDIO"],
? ? ? ? ? ? ? ? ?extra_link_args=extra_link_args)

There are other quirks for building GDAL from source on win32/MinGW, I
wrote a note about it:

http://essnerr.blogspot.com/2010/06/building-my-python-toolchain-with-mingw.html

Cheers,
--
Lup
From martin.raspaud at smhi.se  Wed Jun 16 04:56:57 2010
From: martin.raspaud at smhi.se (Martin Raspaud)
Date: Wed Jun 16 05:18:32 2010
Subject: [gdal-dev] Ninjo tiff tags 
Message-ID: <4C1891D9.8040703@smhi.se>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

I'm using the python interface of gdal to save files to geotiff format.

Now we need to add custom tags to the file: I know the name, the number and the
type of the metadata.

Is there a way I can write it in the geotiff file ?

SetMetadata does not seem to support this...

Thanks,
Martin
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org/

iQEcBAEBAgAGBQJMGJHZAAoJEBdvyODiyJI4HroH/A8TK5C8uI2/SCFATXwXhlbT
hQIYPXQ/qpBY2FYEMkNjxuZ6b/Z/jcLTa65jkO5YkgWJmxU9QxFgcCIg4pdSqPK7
LpDxlURfxUkY5WI86STUiReyOiD3n+oJoaOssDdvwzzwMvWXy+YGwn5JSPSeHDPY
GA+H8cyb+rNBOjldBTexE+43YVRLeUKPsmwPUfi1F2It1bG/YkTabr3xL82CF9rj
0rlELSY+WDyAnhM1Zt36+fQgy3gQNk2CP+U8W+0YgrekX9cu67/EcSglelOU8YSN
UVrH07kznoYQozV6IUsSK2l8gUfcXPxCsXDHyFFJ1g1yZ6sFVwgXNT9QOBH0gKg=
=g5Rx
-----END PGP SIGNATURE-----
-------------- next part --------------
A non-text attachment was scrubbed...
Name: martin_raspaud.vcf
Type: text/x-vcard
Size: 259 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100616/72d89470/martin_raspaud.vcf
From uwe.schmitz at bezreg-koeln.nrw.de  Wed Jun 16 06:28:44 2010
From: uwe.schmitz at bezreg-koeln.nrw.de (Schmitz, Uwe)
Date: Wed Jun 16 06:41:37 2010
Subject: AW: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS
In-Reply-To: <AANLkTik6wqV5wqa1uAkopDFLYxf-DPuJ5MRhs215Ap0b@mail.gmail.com>
Message-ID: <240EE7C956B2CB439C613DF6CEC8A32D037BB960@sebulba.bezreg-koeln.nrw.de>

Frank,

I don't know if it's of interrest here, but
I always put a gdalwarp'ed output
file through gdal_translate to get a "clean"
file. Beside some other things, this step rearranges
the stripes and, IIRC, some older versions of
gdalwarp had problems in writing compressed
NBITS=1 files.

But just recently some ESRI (ArcGIS 9.x) users
claimed about problems reading files written
by gdal_translate with NBITS=1 and PHOTOMETRIC=MINISWHITE.
The picture is shown inverse and they have to manipulate
the palette to get the right view.

Looking at this, I concluded that the combination of
MINISWHITE *and* the presence of a palette causes
this behaviour. It seems that ArcGIS inverts the palette
in this case. After reading TIFF6.0 specification I think 
this is wrong. Otherwise there seems to be no need for a 
palette if PHOTOMETRIC isn't "PALLETTE". Because there
is no chance to get this problem corrected in ArcGIS, I decided
to patch geotiff.cpp to write out a palette only if 
PHOTOMETRIC_INTERPRETATION is "PALETTE". I don't know, if this
will have any other side effects, but for the moment it
fixes the ArcGIS problem.

If this path isn't the right one, IMO we need at least an 
configuration option like "PALETTE=(YES/NO)" to prevent
palette writing.

Hope this helps a little bit.

Regards
Uwe
From chaitanya.ch at gmail.com  Wed Jun 16 07:55:32 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Jun 16 07:55:34 2010
Subject: [gdal-dev] Ninjo tiff tags
In-Reply-To: <4C1891D9.8040703@smhi.se>
References: <4C1891D9.8040703@smhi.se>
Message-ID: <AANLkTinzcT2O8EN1VA-mW9XxSlxkhRGB2Er6SpOC2dNO@mail.gmail.com>

Martin,

Please provide more details. What was the error message.
Refer to (
http://trac.osgeo.org/gdal/browser/trunk/autotest/gcore/tiff_write.py) for
examples.
The metadata items are stored according to the profile used. (
http://gdal.org/frmt_gtiff.html)

On Wed, Jun 16, 2010 at 2:26 PM, Martin Raspaud <martin.raspaud@smhi.se>wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Hi,
>
> I'm using the python interface of gdal to save files to geotiff format.
>
> Now we need to add custom tags to the file: I know the name, the number and
> the
> type of the metadata.
>
> Is there a way I can write it in the geotiff file ?
>
> SetMetadata does not seem to support this...
>
> Thanks,
> Martin
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
> Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org/
>
> iQEcBAEBAgAGBQJMGJHZAAoJEBdvyODiyJI4HroH/A8TK5C8uI2/SCFATXwXhlbT
> hQIYPXQ/qpBY2FYEMkNjxuZ6b/Z/jcLTa65jkO5YkgWJmxU9QxFgcCIg4pdSqPK7
> LpDxlURfxUkY5WI86STUiReyOiD3n+oJoaOssDdvwzzwMvWXy+YGwn5JSPSeHDPY
> GA+H8cyb+rNBOjldBTexE+43YVRLeUKPsmwPUfi1F2It1bG/YkTabr3xL82CF9rj
> 0rlELSY+WDyAnhM1Zt36+fQgy3gQNk2CP+U8W+0YgrekX9cu67/EcSglelOU8YSN
> UVrH07kznoYQozV6IUsSK2l8gUfcXPxCsXDHyFFJ1g1yZ6sFVwgXNT9QOBH0gKg=
> =g5Rx
> -----END PGP SIGNATURE-----
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100616/66f3eac5/attachment.html
From martin.raspaud at smhi.se  Wed Jun 16 09:23:16 2010
From: martin.raspaud at smhi.se (Martin Raspaud)
Date: Wed Jun 16 09:23:22 2010
Subject: [gdal-dev] Ninjo tiff tags
In-Reply-To: <AANLkTinzcT2O8EN1VA-mW9XxSlxkhRGB2Er6SpOC2dNO@mail.gmail.com>
References: <4C1891D9.8040703@smhi.se>
	<AANLkTinzcT2O8EN1VA-mW9XxSlxkhRGB2Er6SpOC2dNO@mail.gmail.com>
Message-ID: <4C18D044.7070103@smhi.se>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chaitanya kumar CH skrev:
> Martin,
> 
> Please provide more details. What was the error message.
> Refer to
> (http://trac.osgeo.org/gdal/browser/trunk/autotest/gcore/tiff_write.py)
> for examples.
> The metadata items are stored according to the profile used.
> (http://gdal.org/frmt_gtiff.html)

Hi,

thanks for the info.

Unfortunately this is not relevant to our situation. We are looking to write
specific custom tiff tags in the file, tags of which we know the name, the type,
the id number and the value.

For example the tag
NTD_Magic
which has 40000 as Id number, is an ascii field and hold "MAGIC" as value.

Using the standard setmetadata function in gdal writes the tag inside this xml
GDALinfo object, which is not what we want...

Martin


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org/

iQEcBAEBAgAGBQJMGNBEAAoJEBdvyODiyJI48YIIAMN+u7WCEusWhTajYnmY8xVX
8qpyT6mmvYKLO/YsCh0a9ffygOy0C3louRgT/Z+FMLu2qZTQvbRtPu9yD7T0MrOt
k4U8pxyWR4YyR4JJWhgUqr01/trdVnKCiUAtLWEScK9wzfYSVP7XNSZh709sHIYS
fGy5PfdWF0WNnbov5HWmfaefAhL+4J0u0381hxrvbgZL6++UlAIUlKjiKEUeAYoz
Ixl4wWOGwMvUFUPeeiYc0JzGRduGBoiqynQEi1udojcjdRr0iB61AqvlXtrGsn/2
Ai3rYJ+b4e37YPREwSRJowrg33hYt8MPjSjHr2awIRHIfqBYotthfGD7hlMm76s=
=4yFP
-----END PGP SIGNATURE-----
-------------- next part --------------
A non-text attachment was scrubbed...
Name: martin_raspaud.vcf
Type: text/x-vcard
Size: 259 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100616/c38432a7/martin_raspaud.vcf
From chaitanya.ch at gmail.com  Wed Jun 16 09:59:53 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Jun 16 09:59:58 2010
Subject: [gdal-dev] Ninjo tiff tags
In-Reply-To: <4C18D044.7070103@smhi.se>
References: <4C1891D9.8040703@smhi.se>
	<AANLkTinzcT2O8EN1VA-mW9XxSlxkhRGB2Er6SpOC2dNO@mail.gmail.com>
	<4C18D044.7070103@smhi.se>
Message-ID: <AANLkTiljfyO614gsDr9X87UdM1Ynl4egPRqv-gYNO-ia@mail.gmail.com>

Martin,

GDAL cannot the tags you want in the tiff file.

You may be able to set the tags using tiffset or some other application
through python. (my two cents)

On Wed, Jun 16, 2010 at 6:53 PM, Martin Raspaud <martin.raspaud@smhi.se>wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Chaitanya kumar CH skrev:
> > Martin,
> >
> > Please provide more details. What was the error message.
> > Refer to
> > (http://trac.osgeo.org/gdal/browser/trunk/autotest/gcore/tiff_write.py)
> > for examples.
> > The metadata items are stored according to the profile used.
> > (http://gdal.org/frmt_gtiff.html)
>
> Hi,
>
> thanks for the info.
>
> Unfortunately this is not relevant to our situation. We are looking to
> write
> specific custom tiff tags in the file, tags of which we know the name, the
> type,
> the id number and the value.
>
> For example the tag
> NTD_Magic
> which has 40000 as Id number, is an ascii field and hold "MAGIC" as value.
>
> Using the standard setmetadata function in gdal writes the tag inside this
> xml
> GDALinfo object, which is not what we want...
>
> Martin
>
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
> Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org/
>
> iQEcBAEBAgAGBQJMGNBEAAoJEBdvyODiyJI48YIIAMN+u7WCEusWhTajYnmY8xVX
> 8qpyT6mmvYKLO/YsCh0a9ffygOy0C3louRgT/Z+FMLu2qZTQvbRtPu9yD7T0MrOt
> k4U8pxyWR4YyR4JJWhgUqr01/trdVnKCiUAtLWEScK9wzfYSVP7XNSZh709sHIYS
> fGy5PfdWF0WNnbov5HWmfaefAhL+4J0u0381hxrvbgZL6++UlAIUlKjiKEUeAYoz
> Ixl4wWOGwMvUFUPeeiYc0JzGRduGBoiqynQEi1udojcjdRr0iB61AqvlXtrGsn/2
> Ai3rYJ+b4e37YPREwSRJowrg33hYt8MPjSjHr2awIRHIfqBYotthfGD7hlMm76s=
> =4yFP
> -----END PGP SIGNATURE-----
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100616/c9e7c8a2/attachment-0001.html
From jeff.hamann at forestinformatics.com  Wed Jun 16 09:47:36 2010
From: jeff.hamann at forestinformatics.com (Jeff Hamann)
Date: Wed Jun 16 10:02:25 2010
Subject: [gdal-dev] GDAL/OGR+PostGIS training
Message-ID: <2CCCC923-BD23-4D95-9B85-E55F929BFCE3@forestinformatics.com>

Dear GDAL/OGR users and developers, 

Yesterday, Forest Informatics, Inc., a provider of turnkey and custom solutions for forest resource management announced a partnership with credativ, a global open source consulting, service, and support company.

Together, credativ and Forest Informatics will offer introductory and advanced training on geospatial analytics using open source technology such as PostgreSQL, PostGIS, R, and PL/R. The first course of ?Open Geospatial University?TM is a three day introductory short course titled "Intro to PostgreSQL with Spatial Analysis Extensions". This offering will teach students the fundamentals of databases using PostgreSQL, geospatial database management using the PostGIS extensions to PostgreSQL, and basic data processing techniques using the PL/R extension which allows stored procedures to be written using R, a popular statistical computing language. As part of the class, we will present techniques to import and export data into PostGIS using the GDAL/OGR tools and briefly cover basic and advanced options. Also, graduates will also receive bundled ?Bootstrap Support?TM, to help accelerate them through the initial learning curve when they leave the class.

For more details please see:

   http://www.prweb.com/releases/2010/06/prweb4125794.htm

Respectfully, 
Jeff.


Jeff Hamann, PhD
PO Box 1421
Corvallis, Oregon 97339-1421
541-754-2457
jeff.hamann[at]forestinformatics[dot]com
http://www.forestinformatics.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100616/aebfc324/attachment.html
From rajjad at gmail.com  Wed Jun 16 10:15:39 2010
From: rajjad at gmail.com (Imran Rajjad)
Date: Wed Jun 16 10:15:43 2010
Subject: [gdal-dev] GDAL/OGR+PostGIS training
In-Reply-To: <2CCCC923-BD23-4D95-9B85-E55F929BFCE3@forestinformatics.com>
References: <2CCCC923-BD23-4D95-9B85-E55F929BFCE3@forestinformatics.com>
Message-ID: <AANLkTikw5VHBKZyMy1zxQ6sN_Umditqq6tUHRPgjvZII@mail.gmail.com>

will the training material be available online for people who cannot come?

On Wed, Jun 16, 2010 at 6:47 PM, Jeff Hamann
<jeff.hamann@forestinformatics.com> wrote:
> Dear GDAL/OGR users and developers,
> Yesterday, Forest Informatics, Inc.,?a provider?of turnkey and custom
> solutions for forest resource management announced a partnership
> with?credativ, a global open source consulting, service, and support
> company.
> Together, credativ and Forest Informatics will offer introductory
> and?advanced training on geospatial analytics using open source
> technology?such as PostgreSQL, PostGIS, R, and PL/R.?The first course of
> ?Open Geospatial University?TM is a three day introductory short course
> titled?"Intro to PostgreSQL with Spatial Analysis Extensions". This offering
> will teach students the fundamentals of databases using PostgreSQL,
> geospatial database management using the PostGIS extensions to PostgreSQL,
> and basic data processing techniques using the PL/R extension which allows
> stored procedures to be written using R, a popular statistical computing
> language. As part of the class, we will present techniques to import and
> export data into PostGIS using the GDAL/OGR tools and briefly cover basic
> and advanced options. Also, graduates will also receive bundled ?Bootstrap
> Support?TM, to help accelerate them through the initial learning curve when
> they leave the class.
> For more details please see:
> ???http://www.prweb.com/releases/2010/06/prweb4125794.htm
>
> Respectfully,
> Jeff.
>
> Jeff Hamann, PhD
> PO Box 1421
> Corvallis, Oregon 97339-1421
> 541-754-2457
> jeff.hamann[at]forestinformatics[dot]com
> http://www.forestinformatics.com
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
I.R
From christopher.schmidt at nokia.com  Wed Jun 16 10:23:49 2010
From: christopher.schmidt at nokia.com (christopher.schmidt@nokia.com)
Date: Wed Jun 16 10:24:58 2010
Subject: [gdal-dev] GDAL/OGR+PostGIS training
In-Reply-To: <AANLkTikw5VHBKZyMy1zxQ6sN_Umditqq6tUHRPgjvZII@mail.gmail.com>
References: <2CCCC923-BD23-4D95-9B85-E55F929BFCE3@forestinformatics.com>
	<AANLkTikw5VHBKZyMy1zxQ6sN_Umditqq6tUHRPgjvZII@mail.gmail.com>
Message-ID: <87115B0F-2EEC-4F13-B6E0-B2DD8403C106@nokia.com>


On Jun 16, 2010, at 10:15 AM, ext Imran Rajjad wrote:

> will the training material be available online for people who cannot come?

Given the cost:

  http://www.credativ.us/pg_w_spatial/
	? $1975 per student
	? Includes ?Bootstrap Support?(tm)

I doubt it. (Though they might sell it to you for a discount of 
only $1899.95, in a limited time TV-only offer.)

Regards,
-- 
Christopher Schmidt
Nokia

From DCarreira at edia.pt  Wed Jun 16 12:00:17 2010
From: DCarreira at edia.pt (Duarte Carreira)
Date: Wed Jun 16 12:32:06 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <1276638707657-5183957.post@n2.nabble.com>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
	<4C15C9EA.80605@york.ac.uk>
	<AANLkTimxVSIfyAHi9XBo36bQYDC8oUbvQF26gZCrVz5r@mail.gmail.com>
	<1276638707657-5183957.post@n2.nabble.com>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF5E85F26788@beja012.edia.pt>

Matt, the only reason I have seen presented for some reluctance in pushing spatialite as a de facto standard following shapefile's success, is not having a foothold in the closed source sector. That's the only thing ESRI's fgdb could potentially offer, since the extra data types supported will not be available outside ESRI's software (Terrain, Topology, Networks, etc.).

(As for interoperability with ESRI, its users can always export to shapefile. Ofcourse I would prefer to directly read fgdb data but if not possible it's ok too.)

So the question is: is it true that for a new "universal" spatial format to be born it has to have at least read support in the closed source world?

Duarte


-----Mensagem original-----
De: Matt Wilkie [mailto:maphew@gmail.com]
Enviada: ter?a-feira, 15 de Junho de 2010 22:52
Para: gdal-dev@lists.osgeo.org
Assunto: [gdal-dev] Re: ESRI file geodatabase support


I think discussing a shapefile successor, or even perhaps a code sprint, is a
very good topic for FOSS4G. This same thread that we're weaving now is/has
happened on a number mailing lists and usually generated dozens of responses
each time. The interest is clear. From my vantage the germinating seed
crystal could be spatialite, but there seems to be some general reluctance
to jump on board. I'm ignorant of the reasons for that, perhaps that will
come out at FOSS4G; wish I could be there!

Ivan: I personally welcome and will use a gdal/ogr that uses the currently
installed arcgis libraries however for the health of the industry I'd like
to see unencumbered access. Thanks for letting me know at least part of my
ramblings are of interest

cheers,

-matt
--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-ESRI-file-geodatabase-support-tp5159756p5183957.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From robert.zermeno at navy.mil  Wed Jun 16 12:51:38 2010
From: robert.zermeno at navy.mil (Zermeno, Robert J CIV NAVAIR, 472100D)
Date: Wed Jun 16 12:52:48 2010
Subject: [gdal-dev] Proper parameters for GDALBeginAsyncReader() for RGB
	images
Message-ID: <F8A8A114E3F41D4D9157F1BECCA3BA91033889DB@nawechlkez02v.nadsuswe.nads.navy.mil>

Hi everyone,

I hope someone can clarify my issue when it comes to an RGB jpeg2000 image call
Using GDALBeginAsyncReader().  I can use this function already for Grayscale images, but
Having problems getting RGB colors to work.

In streaming jpeg2000 images (JPIP),How do you properly use GDALBeginAsyncReader() parameters in conjunction with GDALARGetNextUpdatedRegion().

So far, I usually get a AccessViolation which fails on the GDALARGetNextUpdatedRegion() call.  That 
would mean the way I provide the parameter information is not correct.

Do I call GDALBeginAsyncReader() three times like RasterIO?  One call for Red, one for Blue, 
and Green?

If I am correct, GDALBeginAsyncReader only needs to be called once.  This function asks for
the BandCount (1 for GrayScale, 3 for RGB) and Bandmap (Where 1 is GrayScale, and when in
case for RGB, 1 == Red Band 2 == Blue Band 3 == Green Band).

Am I correct so far?  For the Length of Buffer where I want to place the bytes, Should I have the
parameter as  (xSize * GDALGetRasterCount(fileDataset) )


On top of this, can someone give me an example call to GDALBeginAsyncReader() with parameters
for an RGB image.
Example not exact: 
Assume:
ImageWidth = 800
ImageHeight = 400
BufferXSize = 400
BufferYSize = 400
colorScheme = 3 (For RGB)
Bandmap[0] = 1, Bandmap[1] = 2, Bandmap[2] = 3
BYTE* JPIP_Buffer = (BYTE*)CLPMalloc(BufferXSize * BufferYSize * colorScheme)

Now, would I call the function as:

GDALBeginAsyncReader(fileDataset,
	0, 0, 				//Start at top-left position
	BufferXSize, BufferYSize,	
	JPIP_Buffer,
	BufferXSize * colorScheme,
	BufferYSize,
	GDT_Byte,
	colorScheme,
	Bandmap,
	0,
	0,
	0,
	0);

How is the image data stored in JPIP_Buffer. Whould it be:
1.rgbrgbrgbrgb
2.rrrrggggbbbb
3.bgrbgrbgrbgr

Thanks in advanced!!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100616/5de9fc17/smime.bin
From warmerdam at pobox.com  Wed Jun 16 13:04:54 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 16 13:04:55 2010
Subject: [gdal-dev] Proper parameters for GDALBeginAsyncReader() for RGB 
	images
In-Reply-To: <F8A8A114E3F41D4D9157F1BECCA3BA91033889DB@nawechlkez02v.nadsuswe.nads.navy.mil>
References: <F8A8A114E3F41D4D9157F1BECCA3BA91033889DB@nawechlkez02v.nadsuswe.nads.navy.mil>
Message-ID: <AANLkTimp1AvZ2p9SWlwlR9NA2q0XnfsqNZK-myrNGyQm@mail.gmail.com>

On Wed, Jun 16, 2010 at 12:51 PM, Zermeno, Robert J CIV NAVAIR,
472100D <robert.zermeno@navy.mil> wrote:

> Do I call GDALBeginAsyncReader() three times like RasterIO? ?One call for Red, one for Blue,
> and Green?

Robert,

The AsyncReader API allows reading multiple bands in one pass, much
like the RasterIO call on the GDALDataset.

> Am I correct so far? ?For the Length of Buffer where I want to place the bytes, Should I have the
> parameter as ?(xSize * GDALGetRasterCount(fileDataset) )

This is correct,

> On to
> GDALBeginAsyncReader(fileDataset,
> ? ? ? ?0, 0, ? ? ? ? ? ? ? ? ? ? ? ? ? //Start at top-left position
> ? ? ? ?BufferXSize, BufferYSize,
> ? ? ? ?JPIP_Buffer,
> ? ? ? ?BufferXSize * colorScheme,
> ? ? ? ?BufferYSize,
> ? ? ? ?GDT_Byte,
> ? ? ? ?colorScheme,
> ? ? ? ?Bandmap,
> ? ? ? ?0,
> ? ? ? ?0,
> ? ? ? ?0,
> ? ? ? ?0);

I think the problem is your passing of BufferXSize * colorScheme.
That arguments should be the number of pixels in X, but not taking
in account the number of bands.

> How is the image data stored in JPIP_Buffer. Whould it be:
> 1.rgbrgbrgbrgb
> 2.rrrrggggbbbb
> 3.bgrbgrbgrbgr

By default (if all zero for the interleaving options) the image will
be returned in band sequential form.  So option '2' above.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From maphew at gmail.com  Thu Jun 17 00:14:56 2010
From: maphew at gmail.com (Matt Wilkie)
Date: Thu Jun 17 00:14:58 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF5E85F26788@beja012.edia.pt>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
	<4C15C9EA.80605@york.ac.uk>
	<AANLkTimxVSIfyAHi9XBo36bQYDC8oUbvQF26gZCrVz5r@mail.gmail.com>
	<1276638707657-5183957.post@n2.nabble.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26788@beja012.edia.pt>
Message-ID: <AANLkTilJJCueIjoOilKe0ijr4Qqrfh5ryVYGYTyQCX-E@mail.gmail.com>


> So the question is: is it true that for a new "universal" spatial format to
> be born it has to have at least read support in the closed source world?

If spatialite, or something like it, sees widespread use elsewhere
ESRI will read it. Heck they already incorporate gdal, even to the
point of directing developers to the gdal api tutorial for writing new
drivers. I get the idea everyone is standing around waiting to see
what everyone else is going to do; chicken and egg.

{{{pause for reflection}}

hrrmmm. In my day job one of my functions is publishing our data the
'net, and I just realised *I'm* only putting out shapefiles... Soo if
I want to encourage another format, I could start right here!

-- 
-matt

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-ESRI-file-geodatabase-support-tp5159756p5189366.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100616/0752d253/attachment.html
From randyqiuxy at hotmail.com  Thu Jun 17 02:23:02 2010
From: randyqiuxy at hotmail.com (randyqiu)
Date: Thu Jun 17 02:25:20 2010
Subject: [gdal-dev] problem on function "OGR_FD_GetName"
Message-ID: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>

Hi list,
I reinstalled my OS (Ubuntu10.04) recently and now the OGR_FD_GetName
function results in "layername" with "point,Line,Area,Meta",but I
believe this function could get a layer's object name but not its
geometry type.
I'm not sure the problem exist in environment variable or not and, if
so, what are they?
Best regards
Randy

From chaitanya.ch at gmail.com  Thu Jun 17 02:41:38 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Jun 17 02:41:49 2010
Subject: [gdal-dev] problem on function "OGR_FD_GetName"
In-Reply-To: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>
References: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>
Message-ID: <AANLkTilVMeTHES9mC-UdNHGHR2flbMrDtjQNz6l89eQk@mail.gmail.com>

randyqiuxy,

OGR_FD_GetName() returns the name of the feature definition set during it's
creation. It doesn't have to be unique and doesn't represent the object type
or geometry type. It is not affected by any environment variables.

On Thu, Jun 17, 2010 at 11:53 AM, randyqiu <randyqiuxy@hotmail.com> wrote:

> Hi list,
> I reinstalled my OS (Ubuntu10.04) recently and now the OGR_FD_GetName
> function results in "layername" with "point,Line,Area,Meta",but I
> believe this function could get a layer's object name but not its
> geometry type.
> I'm not sure the problem exist in environment variable or not and, if
> so, what are they?
> Best regards
> Randy
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100617/7e39947c/attachment-0001.html
From P.Halls at york.ac.uk  Thu Jun 17 03:21:09 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu Jun 17 03:21:17 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF5E85F26788@beja012.edia.pt>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>	<4C0FDC1F.7050702@pobox.com>
	<4C101C7E.7010009@gov.yk.ca>	<4C108E11.8050003@york.ac.uk>
	<4C126F6C.4030500@gov.yk.ca>	<4C15C9EA.80605@york.ac.uk>	<AANLkTimxVSIfyAHi9XBo36bQYDC8oUbvQF26gZCrVz5r@mail.gmail.com>	<1276638707657-5183957.post@n2.nabble.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26788@beja012.edia.pt>
Message-ID: <4C19CCE5.3020700@york.ac.uk>

Another way to achieve interoperability is via a DBMS for which there is an SDE 
implementation, although this may not be appropriate for Matt Wilkie's 
requirements.  It may not be always as easy as with shapefiles but it does not 
have the limitations.  Having said that, in our Oracle environment I do have a 
problem getting SDE to recognise some spatial datasets created with GDAL but 
have yet to prove what is happening to cause this and so cannot point a finger 
of blame in any direction ...

Best wishes,

Peter

Duarte Carreira wrote:
> Matt, the only reason I have seen presented for some reluctance in pushing spatialite as a de facto standard following shapefile's success, is not having a foothold in the closed source sector. That's the only thing ESRI's fgdb could potentially offer, since the extra data types supported will not be available outside ESRI's software (Terrain, Topology, Networks, etc.).
> 
> (As for interoperability with ESRI, its users can always export to shapefile. Ofcourse I would prefer to directly read fgdb data but if not possible it's ok too.)
> 
> So the question is: is it true that for a new "universal" spatial format to be born it has to have at least read support in the closed source world?
> 
> Duarte
> 
> 
> -----Mensagem original-----
> De: Matt Wilkie [mailto:maphew@gmail.com]
> Enviada: ter?a-feira, 15 de Junho de 2010 22:52
> Para: gdal-dev@lists.osgeo.org
> Assunto: [gdal-dev] Re: ESRI file geodatabase support
> 
> 
> I think discussing a shapefile successor, or even perhaps a code sprint, is a
> very good topic for FOSS4G. This same thread that we're weaving now is/has
> happened on a number mailing lists and usually generated dozens of responses
> each time. The interest is clear. From my vantage the germinating seed
> crystal could be spatialite, but there seems to be some general reluctance
> to jump on board. I'm ignorant of the reasons for that, perhaps that will
> come out at FOSS4G; wish I could be there!
> 
> Ivan: I personally welcome and will use a gdal/ogr that uses the currently
> installed arcgis libraries however for the health of the industry I'd like
> to see unencumbered access. Thanks for letting me know at least part of my
> ramblings are of interest
> 
> cheers,
> 
> -matt
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-ESRI-file-geodatabase-support-tp5159756p5183957.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From randyqiuxy at hotmail.com  Thu Jun 17 03:41:32 2010
From: randyqiuxy at hotmail.com (randyqiu)
Date: Thu Jun 17 03:41:40 2010
Subject: [gdal-dev] problem on function "OGR_FD_GetName"
In-Reply-To: <AANLkTilVMeTHES9mC-UdNHGHR2flbMrDtjQNz6l89eQk@mail.gmail.com>
References: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>
	<AANLkTilVMeTHES9mC-UdNHGHR2flbMrDtjQNz6l89eQk@mail.gmail.com>
Message-ID: <BLU0-SMTP59DA799D197ED6F8C3DF1CC3DF0@phx.gbl>

Hi Chaitanya,
Thanks for your quick response!
I use this function in parse a s57 file(*.000). In this format file,I
think the layer-name in OGR should be like this:
berths,bridge,canals...
which to some extend,is as same as a feature-name. But now I'm not sure
whether I understand this concept right or not? 
In my application,OGR_FD_GetName()returns:
DSID
Point
Line
Area
Meta

I'd like to know whether this function works fine or not? If yes, how
should I get a feature's name?
Thanks a lot!
Best regards,
Randy
> OGR_FD_GetName() returns the name of the feature definition set during
> it's creation. It doesn't have to be unique and doesn't represent the
> object type or geometry type. It is not affected by any environment
> variables.
> 
> On Thu, Jun 17, 2010 at 11:53 AM, randyqiu <randyqiuxy@hotmail.com>
> wrote:
>         Hi list,
>         I reinstalled my OS (Ubuntu10.04) recently and now the
>         OGR_FD_GetName
>         function results in "layername" with
>         "point,Line,Area,Meta",but I
>         believe this function could get a layer's object name but not
>         its
>         geometry type.
>         I'm not sure the problem exist in environment variable or not
>         and, if
>         so, what are they?
>         Best regards
>         Randy
>         
>         _______________________________________________
>         gdal-dev mailing list
>         gdal-dev@lists.osgeo.org
>         http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/ 
> +91-9494447584
> 17.2416N 80.1426E


From P.Halls at york.ac.uk  Thu Jun 17 03:50:34 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu Jun 17 03:50:43 2010
Subject: [gdal-dev] problem on function "OGR_FD_GetName"
In-Reply-To: <BLU0-SMTP59DA799D197ED6F8C3DF1CC3DF0@phx.gbl>
References: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>	<AANLkTilVMeTHES9mC-UdNHGHR2flbMrDtjQNz6l89eQk@mail.gmail.com>
	<BLU0-SMTP59DA799D197ED6F8C3DF1CC3DF0@phx.gbl>
Message-ID: <4C19D3CA.7040600@york.ac.uk>

Randy,

    I do not use s57 data, however I have written a number of programs which use 
OGR_FD_GetName ... and it has always returned the feature name, if set, or null 
for me.  Feature, as opposed to Layer, names seem quite uncommon, however; 
although I generally set feature names when creating data objects, I have rarely 
encountered them on input from other sources.  I have never investigated whether 
this is a failure in OGR to transmit the name or whether my presumption that 
there was no name to transmit is correct.

I'm not sure how much that helps,

Peter

randyqiu wrote:
> Hi Chaitanya,
> Thanks for your quick response!
> I use this function in parse a s57 file(*.000). In this format file,I
> think the layer-name in OGR should be like this:
> berths,bridge,canals...
> which to some extend,is as same as a feature-name. But now I'm not sure
> whether I understand this concept right or not? 
> In my application,OGR_FD_GetName()returns:
> DSID
> Point
> Line
> Area
> Meta
> 
> I'd like to know whether this function works fine or not? If yes, how
> should I get a feature's name?
> Thanks a lot!
> Best regards,
> Randy
>> OGR_FD_GetName() returns the name of the feature definition set during
>> it's creation. It doesn't have to be unique and doesn't represent the
>> object type or geometry type. It is not affected by any environment
>> variables.
>>
>> On Thu, Jun 17, 2010 at 11:53 AM, randyqiu <randyqiuxy@hotmail.com>
>> wrote:
>>         Hi list,
>>         I reinstalled my OS (Ubuntu10.04) recently and now the
>>         OGR_FD_GetName
>>         function results in "layername" with
>>         "point,Line,Area,Meta",but I
>>         believe this function could get a layer's object name but not
>>         its
>>         geometry type.
>>         I'm not sure the problem exist in environment variable or not
>>         and, if
>>         so, what are they?
>>         Best regards
>>         Randy
>>         
>>         _______________________________________________
>>         gdal-dev mailing list
>>         gdal-dev@lists.osgeo.org
>>         http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>> -- 
>> Best regards,
>> Chaitanya kumar CH.
>> /t?a???nj?/ /k?m?r/ 
>> +91-9494447584
>> 17.2416N 80.1426E
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From randyqiuxy at hotmail.com  Thu Jun 17 04:21:35 2010
From: randyqiuxy at hotmail.com (randy)
Date: Thu Jun 17 04:22:43 2010
Subject: [gdal-dev] problem on function "OGR_FD_GetName"
In-Reply-To: <4C19D3CA.7040600@york.ac.uk>
References: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>
	<AANLkTilVMeTHES9mC-UdNHGHR2flbMrDtjQNz6l89eQk@mail.gmail.com>
	<BLU0-SMTP59DA799D197ED6F8C3DF1CC3DF0@phx.gbl>
	<4C19D3CA.7040600@york.ac.uk>
Message-ID: <BLU0-SMTP63AC0F70348633EB2D8B38C3DF0@phx.gbl>

Hi Peter,
Thanks for your response!
> 
>     I do not use s57 data, however I have written a number of programs which use 
> OGR_FD_GetName ... and it has always returned the feature name, if set, or null 
> for me.  Feature, as opposed to Layer, names seem quite uncommon, however; 
> although I generally set feature names when creating data objects, I have rarely 
> encountered them on input from other sources.  I have never investigated whether 
> this is a failure in OGR to transmit the name or whether my presumption that 
> there was no name to transmit is correct.
My problem is a little odd. In my Ubuntu9.04 OS,my application works well, however,
in my new 10.04 LTS OS, I rebuilt GDAL and my application,then it refused to work.
 So in my last e-mail,I asked Chaitanya whether the environment variable did anything bad.
> I'm not sure how much that helps,
Yes,I appreciate anything you said above including experience,suggestion...

Best regards,
Randy


From chaitanya.ch at gmail.com  Thu Jun 17 04:37:27 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Jun 17 04:37:30 2010
Subject: [gdal-dev] problem on function "OGR_FD_GetName"
In-Reply-To: <BLU0-SMTP63AC0F70348633EB2D8B38C3DF0@phx.gbl>
References: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>
	<AANLkTilVMeTHES9mC-UdNHGHR2flbMrDtjQNz6l89eQk@mail.gmail.com>
	<BLU0-SMTP59DA799D197ED6F8C3DF1CC3DF0@phx.gbl>
	<4C19D3CA.7040600@york.ac.uk>
	<BLU0-SMTP63AC0F70348633EB2D8B38C3DF0@phx.gbl>
Message-ID: <AANLkTiksVUpbpimnvmj9EdAVqgsXyLuDNmz3atb7h1Vq@mail.gmail.com>

Randy,

I think you need to fiddle with the preprocessor definition
S57_BUILTIN_CLASSES during compilation. (
http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/s57/s57classregistrar.cpp
).

I didn't work with S-57 format, so I don't know any more than you.

On Thu, Jun 17, 2010 at 1:51 PM, randy <randyqiuxy@hotmail.com> wrote:

> Hi Peter,
> Thanks for your response!
> >
> >     I do not use s57 data, however I have written a number of programs
> which use
> > OGR_FD_GetName ... and it has always returned the feature name, if set,
> or null
> > for me.  Feature, as opposed to Layer, names seem quite uncommon,
> however;
> > although I generally set feature names when creating data objects, I have
> rarely
> > encountered them on input from other sources.  I have never investigated
> whether
> > this is a failure in OGR to transmit the name or whether my presumption
> that
> > there was no name to transmit is correct.
> My problem is a little odd. In my Ubuntu9.04 OS,my application works well,
> however,
> in my new 10.04 LTS OS, I rebuilt GDAL and my application,then it refused
> to work.
>  So in my last e-mail,I asked Chaitanya whether the environment variable
> did anything bad.
> > I'm not sure how much that helps,
> Yes,I appreciate anything you said above including experience,suggestion...
>
> Best regards,
> Randy
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100617/132d5fd7/attachment.html
From candini at meeo.it  Thu Jun 17 05:28:47 2010
From: candini at meeo.it (canduc17)
Date: Thu Jun 17 05:28:50 2010
Subject: [gdal-dev] Re: Transparent PNG with color table (palette)
In-Reply-To: <3f7a6e1c0705281317g7bcd4002n7364f064fe30cf9d@mail.gmail.com>
References: <3f7a6e1c0705280345u35c62a73j66d1d3f16d928405@mail.gmail.com>
	<465ACD29.2090000@pobox.com>
	<3f7a6e1c0705280554q40cf22fcgee5d8a753dcca6d8@mail.gmail.com>
	<3f7a6e1c0705280806n12326b82t78f79ac98fd05a15@mail.gmail.com>
	<465AFC26.4040607@pobox.com>
	<3f7a6e1c0705280930v7e6ca272gb983ef57388f1254@mail.gmail.com>
	<3f7a6e1c0705281317g7bcd4002n7364f064fe30cf9d@mail.gmail.com>
Message-ID: <1276766927877-5190147.post@n2.nabble.com>


I have implemented in C++ an example of color table applied to a band, taking
as reference the python script reported in this thread:

Ludwig wrote:
> 
> colorTable = gdal.ColorTable()
> greentransparent = (0, 255, 0, 0)
> blue = (0,0, 255,255)
> colorTable.SetColorEntry(0, greentransparent)
> colorTable.SetColorEntry(1, blue)
> b = image.GetRasterBand(1)
> b.SetRasterColorTable(colorTable)
> 

My code:

// Create a color table for the Air Quality output image
	GDALColorTable *colorTable = new GDALColorTable();
	GDALColorEntry black, green, yellow, orange, red, lightRed;
	// Setting RGB colors for 6 classes
	black.c1    = 0;	black.c2    = 0;	black.c3    = 0;	black.c4    = 0;
	green.c1    = 0;	green.c2  = 255;	green.c3    = 0;	green.c4    = 0;
	yellow.c1   = 255;	yellow.c2 = 255;	yellow.c3   = 0;	yellow.c4   = 0;
	orange.c1   = 255;	orange.c2 = 150;	orange.c3   = 0;	orange.c4   = 0;
	red.c1      = 255;	red.c2      = 0;	red.c3      = 0;	red.c4      = 0;
	lightRed.c1 = 150;	lightRed.c2 = 0;	lightRed.c3 = 0;	lightRed.c4 = 0;

	// Link every color to a pixel value
	colorTable->SetColorEntry(0, &black);
	colorTable->SetColorEntry(1, &green);
	colorTable->SetColorEntry(2, &yellow);
	colorTable->SetColorEntry(3, &orange);
	colorTable->SetColorEntry(4, &red);
	colorTable->SetColorEntry(5, &lightRed);

	// Apply the table to the band
	myOutBand->SetColorTable(colorTable);

	// Delete the GDALColorTable object
	delete colorTable;

I hope this could be helpful for someone.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Transparent-PNG-with-color-table-palette-tp2030306p5190147.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From candini at meeo.it  Thu Jun 17 05:39:44 2010
From: candini at meeo.it (canduc17)
Date: Thu Jun 17 05:39:46 2010
Subject: [gdal-dev] Re: Warp info...
In-Reply-To: <46EEB4B3.7050109@pobox.com>
References: <46EEACC5.6010100@ferrara.linux.it> <46EEB4B3.7050109@pobox.com>
Message-ID: <1276767584838-5190183.post@n2.nabble.com>


I saw that this thread is quite old...it is anything changed with the last
version of GDAL?

Is the triangulation not implemented yet?

Thanks in advance.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Warp-info-tp2031316p5190183.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From nicoletti at consorzio-innova.it  Thu Jun 17 06:36:26 2010
From: nicoletti at consorzio-innova.it (Marco Nicoletti)
Date: Thu Jun 17 06:36:28 2010
Subject: [gdal-dev] Problems in setting PixelFunctionType and
 SourceTransferType in VRTDerivedRasterBand
Message-ID: <1276770986808-5190363.post@n2.nabble.com>


This is a problem which regards all the gdal versions and is about the Python
GDAL bindings.

It seems to be impossible to setup PixelFunctionType and SourceTransferType
in VRTDerivedRasterBand from Python Gdal.

This is an example using IPython:
In [20]: vrtdriver = gdal.GetDriverByName('VRT')
In [21]: vrtdset = vrtdriver.Create('vrtdset.vrt', 1000, 1000, 0)
In [22]: vrtdset.AddBand(gdal.GetDataTypeByName('Float32'),
options=['subClass=VRTDerivedRasterBand', 'PixelFunctionType=phase',
'SourceTransferType=CFloat64'])
Out[22]: 0
In[23]: vrtdset.FlushCache()

Once these commands are run, the output file vrtdataset.vrt does not contain
the element PixelFunctionType in its VRTDerivedRasterBand :
<VRTDataset rasterXSize="1000" rasterYSize="1000">
    <VRTRasterBand dataType="Float32" band="1"
subClass="VRTDerivedRasterBand"/>
</VRTDataset>

On the contrary we would expect this result:
<VRTDataset rasterXSize="1000" rasterYSize="1000">
    <VRTRasterBand dataType="Float32" band="1"
subClass="VRTDerivedRasterBand">
           <PixelFunctionType>phase</PixelFunctionType>
           <SourceTransferType>"CFloat64"</SourceTransferType>
    </VRTRasterBand>
</VRTDataset>

Of course we have omitted the part concerning the Source Dataset.




-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Problems-in-setting-PixelFunctionType-and-SourceTransferType-in-VRTDerivedRasterBand-tp5190363p5190363.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From massimo.costantini at gmail.com  Thu Jun 17 08:02:51 2010
From: massimo.costantini at gmail.com (massimo costantini)
Date: Thu Jun 17 08:02:54 2010
Subject: [gdal-dev] gda2tiles.py tile dimesions
Message-ID: <AANLkTill9PmGg4XLnjWHvX8-h6X36DvxuRmd8qAJ11xt@mail.gmail.com>

Hi,
it is possible to set the tile's dimension in gdal2tiles.py?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100617/8f564cce/attachment.html
From randyqiuxy at hotmail.com  Thu Jun 17 08:49:04 2010
From: randyqiuxy at hotmail.com (Randy)
Date: Thu Jun 17 08:50:08 2010
Subject: [gdal-dev] GDAL compiler & GDAL utility  use
In-Reply-To: <4C19E2A3.4080906@york.ac.uk>
References: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>	
	<AANLkTilVMeTHES9mC-UdNHGHR2flbMrDtjQNz6l89eQk@mail.gmail.com>	
	<BLU0-SMTP59DA799D197ED6F8C3DF1CC3DF0@phx.gbl>	
	<4C19D3CA.7040600@york.ac.uk>
	<BLU0-SMTP63AC0F70348633EB2D8B38C3DF0@phx.gbl>
	<4C19E2A3.4080906@york.ac.uk>
Message-ID: <BAY123-DS149D83AE24CFCB591933D1C3DF0@phx.gbl>

Hi Peter,
Thank you so so much for your response!
I still believe there is something wrong with my GDAL compiling or environment variable.
I use ogrinfo(one of GDAL/OGR utilities) in GDAL on my Linux & Windows OS, the result is the same(wrong):
->Ogrinfo -ro -al -q US5TX51M.000 |more
ERROR 1:Invalid index :-1
ERROR 1:Invalid index :-1
ERROR 1:Invalid index :-1
ERROR 1:Invalid index :-1
//...a lot as the same as above
Layer name: DSID
...
Layer name:Point
.....
Layer name:Line
..........

While the ogrinfo in FWTools ,the result is as follows:
Layer name: DSID
...
Layer name: ACHARE
...
Layer name: BCNLAT
...

Then, I'd like to know what else I should do when I build GDAL in a default way:
cd 
./configure
./make
./sudo make install
What I do else until now is just set GDAL_DATA environment variable and OGR_S57_OPTIONS. And I use GDAL1.7.2 release version.

Best regards,
Randy
-----Original Message-----
From: Peter J Halls [mailto:P.Halls@york.ac.uk] 
Sent: Thursday, June 17, 2010 4:54 PM
To: randy
Subject: [!! SPAM] Re: [gdal-dev] problem on function "OGR_FD_GetName"

Randy,

    I've not worked with your platforms but, extrapolating from my 
Solaris(Sparc) environment ...

    GDAL uses Environment Variables as an alternative to the configure script 
parameter list.  I'm old fashioned here and prefer the parameter list, as I find 
it easier to debug.  Having said that, these control things like the compiler to 
use and the additional libraries to configure: I do not think any of these are 
likely to affect the way OGR_FD_GetName works.  Are you using the same hardware 
environment with different operating systems?  Has Configure correctly 
determined the hardware environment?  You can work through Config.status and 
Config.log to check this - if the two GDAL environments are supposed to be the 
same, can you diff these as a quick way of finding any differences?

    There are also a few Environment Variables involved at runtime eg PATH, 
LD_LIBRARY_PATH, ORACLE_HOME, TNS_ADMIN, and so on.  The last two control the 
Oracle interface; the first two affect loading a program at runtime.  If any of 
these are wrong, I would not expect execution to start or get as far as you 
have.  On that basis, I think it unlikely that you have an Environment variable 
problem.

    I presume that you are reading the same file on each platform?  The 'new' 
results you are reporting look to me as though the data definition is being 
reported instead of the feature name: could it be that you are effectively 
reading alternate lines?  Do you have a problem prior to calling OGR_FD_GetName 
that may be reading the next entry in the dataset to fulfil the input request 
and thus giving the impression of the incorrect feature name?  This could come 
back to the GDAL Configure results, prior to building GDAL.  [Did you transfer 
the GDAL source directory from one platform to the other?  If so, did you run a 
'make clean' before building GDAL on the second, problematic platform?  It is 
possible for bits of an old configuration to 'linger' if the clean is not run ...]

Hoping there is something there that helps,

Best wishes,

Peter

-----------------------

From warmerdam at pobox.com  Thu Jun 17 10:45:32 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun 17 10:45:35 2010
Subject: [gdal-dev] Re: Warp info...
In-Reply-To: <1276767584838-5190183.post@n2.nabble.com>
References: <46EEACC5.6010100@ferrara.linux.it> <46EEB4B3.7050109@pobox.com>
	<1276767584838-5190183.post@n2.nabble.com>
Message-ID: <AANLkTikv-tpScr8RlIC1cK_oTf9rv9ZDKSCaQ3OtINF4@mail.gmail.com>

On Thu, Jun 17, 2010 at 5:39 AM, canduc17 <candini@meeo.it> wrote:
>
> I saw that this thread is quite old...it is anything changed with the last
> version of GDAL?
>
> Is the triangulation not implemented yet?

Hi,

The situation is still the same.  There is no transformer based
on a triangulated mesh from GCPs.

Best regards,

> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/Warp-info-tp2031316p5190183.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From robert.zermeno at navy.mil  Thu Jun 17 11:03:18 2010
From: robert.zermeno at navy.mil (Zermeno, Robert J CIV NAVAIR, 472100D)
Date: Thu Jun 17 11:03:30 2010
Subject: [gdal-dev] Proper parameters for GDALBeginAsyncReader() for RGB
	images
In-Reply-To: <AANLkTimp1AvZ2p9SWlwlR9NA2q0XnfsqNZK-myrNGyQm@mail.gmail.com>
References: <F8A8A114E3F41D4D9157F1BECCA3BA91033889DB@nawechlkez02v.nadsuswe.nads.navy.mil>
	<AANLkTimp1AvZ2p9SWlwlR9NA2q0XnfsqNZK-myrNGyQm@mail.gmail.com>
Message-ID: <F8A8A114E3F41D4D9157F1BECCA3BA9103388D0A@nawechlkez02v.nadsuswe.nads.navy.mil>

Thanks Frank!

It made a lot of sense.  My last comment concerning this function is how would you be able to 
Acquire a smaller image size of a larger image using GDALBeginAsyncReader() for RGB images?

I can get it to work for Grayscale, but using the same parameters for RGB gives me an AccessViolation
Error.

Example:
Example not exact: 
Assume:
ImageWidth = 800
ImageHeight = 400
BufferXSize = 150
BufferYSize = 150
colorScheme = 3 (For RGB)
Bandmap[0] = 1, Bandmap[1] = 2, Bandmap[2] = 3
BYTE* JPIP_Buffer = (BYTE*)CLPMalloc(BufferXSize * BufferYSize * colorScheme) 


Call to function:

GDALBeginAsyncReader(fileDataset,
	0, 0, 				//Start at top-left position
	ImageWidth, ImageHeight,	//Note, I am requesting whole image.
	JPIP_Buffer,
	BufferXSize,
	BufferYSize,
	GDT_Byte,
	colorScheme,
	Bandmap,
	0,
	0,
	0,
	0);


Under the hood, how does the function take the original image size and scale it down to fit
Into the a size much smaller than original? For some reason, when I do this for RGB color 
Images, it gives a AccessViolation error when it calls GDALARGetNextUpdatedRegion().  However,
For Grayscale images, it works fine.  What would you think might be the problem?

Thanks,

Robert

-----Original Message-----
From: fwarmerdam@gmail.com [mailto:fwarmerdam@gmail.com] On Behalf Of Frank Warmerdam
Sent: Wednesday, June 16, 2010 10:05
To: Zermeno, Robert J CIV NAVAIR, 472100D
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Proper parameters for GDALBeginAsyncReader() for RGB images

On Wed, Jun 16, 2010 at 12:51 PM, Zermeno, Robert J CIV NAVAIR, 472100D <robert.zermeno@navy.mil> wrote:

> Do I call GDALBeginAsyncReader() three times like RasterIO? ?One call 
> for Red, one for Blue, and Green?

Robert,

The AsyncReader API allows reading multiple bands in one pass, much like the RasterIO call on the GDALDataset.

> Am I correct so far? ?For the Length of Buffer where I want to place 
> the bytes, Should I have the parameter as ?(xSize * 
> GDALGetRasterCount(fileDataset) )

This is correct,

> On to
> GDALBeginAsyncReader(fileDataset,
> ? ? ? ?0, 0, ? ? ? ? ? ? ? ? ? ? ? ? ? //Start at top-left position
> ? ? ? ?BufferXSize, BufferYSize,
> ? ? ? ?JPIP_Buffer,
> ? ? ? ?BufferXSize * colorScheme,
> ? ? ? ?BufferYSize,
> ? ? ? ?GDT_Byte,
> ? ? ? ?colorScheme,
> ? ? ? ?Bandmap,
> ? ? ? ?0,
> ? ? ? ?0,
> ? ? ? ?0,
> ? ? ? ?0);

I think the problem is your passing of BufferXSize * colorScheme.
That arguments should be the number of pixels in X, but not taking in account the number of bands.

> How is the image data stored in JPIP_Buffer. Whould it be:
> 1.rgbrgbrgbrgb
> 2.rrrrggggbbbb
> 3.bgrbgrbgrbgr

By default (if all zero for the interleaving options) the image will be returned in band sequential form.  So option '2' above.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100617/d425c4e4/smime.bin
From randyqiuxy at hotmail.com  Thu Jun 17 11:12:00 2010
From: randyqiuxy at hotmail.com (Randy)
Date: Thu Jun 17 11:12:10 2010
Subject: [gdal-dev] Re: GDAL compiler & GDAL utility  use
In-Reply-To: <4C1A20AB.1010909@york.ac.uk>
References: <BLU0-SMTP448D37E5F1D1BF01C1806AC3DF0@phx.gbl>
	<AANLkTilVMeTHES9mC-UdNHGHR2flbMrDtjQNz6l89eQk@mail.gmail.com>
	<BLU0-SMTP59DA799D197ED6F8C3DF1CC3DF0@phx.gbl>
	<4C19D3CA.7040600@york.ac.uk>
	<BLU0-SMTP63AC0F70348633EB2D8B38C3DF0@phx.gbl>
	<4C19E2A3.4080906@york.ac.uk>
	<BAY123-DS149D83AE24CFCB591933D1C3DF0@phx.gbl>
	<4C1A20AB.1010909@york.ac.uk>
Message-ID: <BLU0-SMTP6087D3D2EE93120B5E482C3DF0@phx.gbl>

Hi Peter,
Thank you very much!
With your help,I fixed this problem!
The reason is that my GDAL_DATA environment variable is not true.
I set it first by the GDAL
FAQ(http://trac.osgeo.org/gdal/wiki/FAQInstallationAndBuilding#HowtosetGDAL_DATAvariable) which tells me :$ export GDAL_DATA=/usr/local/share/gdal/data
but I find in my default installing path,there is not "data" folder and
all the dates is in its parent directory:"/usr/local/share/gdal". So I
reset my GDAL_DATA environment variable,and it works well now.I forgot
my this variable value in my last Ubuntu9.04 OS,it was a long time
ago.And I think the GDAL FAQ "How to set GDAL_DATA variable?" should
change its answer.

Thank you,Peter,again!

Best regards,
Randy
> Aha ...
> 
> > ERROR 1:Invalid index :-1
> > ERROR 1:Invalid index :-1
> > ERROR 1:Invalid index :-1
> > ERROR 1:Invalid index :-1
> 
> I think this is where the key to your problem lies.  This message, I believe, 
> implies that the input structure does not match that expected by the driver, 
> such that it is failing to extract key control information.  The best way to get 
> at the meaning of this is to locate where in the s57 driver this error is 
> generated - it may be in more than one location, however.  Given the 
> condition(s) pertaining to the error, you should be able to deduce the 
> underlying problem.  It is possible to turn the internal debug on with a switch 
> to ogrinfo / ogr2ogr: that may help.
> 
> Does *any* of the output look plausible?  Can you read the file successfully 
> elsewhere - I've assumed you can?
> 
> One possibility relates back to configure: has this identified the byte order 
> correctly?
> 
> I do not think these errors are going to relate to runtime environment 
> variables, but it is possible for environment variables to override parameters 
> to configure - I often forget to unset ORACLE_HOME, for example, which wreaks 
> havoc with accessing the include files and then wonder why it refuses to include 
> the Oracle driver.  I do not know quite how this operates in Windows - I use 
> Cygwin for my GDAL work there and have to be as careful as on Solaris.
> 
> 
> Best wishes,
> 
> Peter
> 
> > //...a lot as the same as above
> > Layer name: DSID
> > ...
> > Layer name:Point
> > .....
> > Layer name:Line
> > ..........
> > 
> > While the ogrinfo in FWTools ,the result is as follows:
> > Layer name: DSID
> > ...
> > Layer name: ACHARE
> > ...
> > Layer name: BCNLAT
> > ...
> > 
> > Then, I'd like to know what else I should do when I build GDAL in a default way:
> > cd 
> > ./configure
> > ./make
> > ./sudo make install
> > What I do else until now is just set GDAL_DATA environment variable and OGR_S57_OPTIONS. And I use GDAL1.7.2 release version.
> > 
> > Best regards,
> > Randy
> > -----Original Message-----
> > From: Peter J Halls [mailto:P.Halls@york.ac.uk] 
> > Sent: Thursday, June 17, 2010 4:54 PM
> > To: randy
> > Subject: [!! SPAM] Re: [gdal-dev] problem on function "OGR_FD_GetName"
> > 
> > Randy,
> > 
> >     I've not worked with your platforms but, extrapolating from my 
> > Solaris(Sparc) environment ...
> > 
> >     GDAL uses Environment Variables as an alternative to the configure script 
> > parameter list.  I'm old fashioned here and prefer the parameter list, as I find 
> > it easier to debug.  Having said that, these control things like the compiler to 
> > use and the additional libraries to configure: I do not think any of these are 
> > likely to affect the way OGR_FD_GetName works.  Are you using the same hardware 
> > environment with different operating systems?  Has Configure correctly 
> > determined the hardware environment?  You can work through Config.status and 
> > Config.log to check this - if the two GDAL environments are supposed to be the 
> > same, can you diff these as a quick way of finding any differences?
> > 
> >     There are also a few Environment Variables involved at runtime eg PATH, 
> > LD_LIBRARY_PATH, ORACLE_HOME, TNS_ADMIN, and so on.  The last two control the 
> > Oracle interface; the first two affect loading a program at runtime.  If any of 
> > these are wrong, I would not expect execution to start or get as far as you 
> > have.  On that basis, I think it unlikely that you have an Environment variable 
> > problem.
> > 
> >     I presume that you are reading the same file on each platform?  The 'new' 
> > results you are reporting look to me as though the data definition is being 
> > reported instead of the feature name: could it be that you are effectively 
> > reading alternate lines?  Do you have a problem prior to calling OGR_FD_GetName 
> > that may be reading the next entry in the dataset to fulfil the input request 
> > and thus giving the impression of the incorrect feature name?  This could come 
> > back to the GDAL Configure results, prior to building GDAL.  [Did you transfer 
> > the GDAL source directory from one platform to the other?  If so, did you run a 
> > 'make clean' before building GDAL on the second, problematic platform?  It is 
> > possible for bits of an old configuration to 'linger' if the clean is not run ...]
> > 
> > Hoping there is something there that helps,
> > 
> > Best wishes,
> > 
> > Peter
> > 
> > -----------------------
> > 
> 


From warmerdam at pobox.com  Thu Jun 17 12:08:35 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun 17 12:08:37 2010
Subject: [gdal-dev] Proper parameters for GDALBeginAsyncReader() for RGB 
	images
In-Reply-To: <F8A8A114E3F41D4D9157F1BECCA3BA9103388D0A@nawechlkez02v.nadsuswe.nads.navy.mil>
References: <F8A8A114E3F41D4D9157F1BECCA3BA91033889DB@nawechlkez02v.nadsuswe.nads.navy.mil>
	<AANLkTimp1AvZ2p9SWlwlR9NA2q0XnfsqNZK-myrNGyQm@mail.gmail.com>
	<F8A8A114E3F41D4D9157F1BECCA3BA9103388D0A@nawechlkez02v.nadsuswe.nads.navy.mil>
Message-ID: <AANLkTilhM4GDKrgN_d73TFVCLJdW1say4GWkkrwiq8V2@mail.gmail.com>

On Thu, Jun 17, 2010 at 11:03 AM, Zermeno, Robert J CIV NAVAIR,
472100D <robert.zermeno@navy.mil> wrote:
>
> GDALBeginAsyncReader(fileDataset,
> ? ? ? ?0, 0, ? ? ? ? ? ? ? ? ? ? ? ? ? //Start at top-left position
> ? ? ? ?ImageWidth, ImageHeight, ? ? ? ?//Note, I am requesting whole image.
> ? ? ? ?JPIP_Buffer,
> ? ? ? ?BufferXSize,
> ? ? ? ?BufferYSize,
> ? ? ? ?GDT_Byte,
> ? ? ? ?colorScheme,
> ? ? ? ?Bandmap,
> ? ? ? ?0,
> ? ? ? ?0,
> ? ? ? ?0,
> ? ? ? ?0);
>
>
> Under the hood, how does the function take the original image size and scale it down to fit
> Into the a size much smaller than original? For some reason, when I do this for RGB color
> Images, it gives a AccessViolation error when it calls GDALARGetNextUpdatedRegion(). ?However,
> For Grayscale images, it works fine. ?What would you think might be the problem?

Robert,

Your call parameters seem fine.  I do not understand
why you are having problems.  If you are unable to get it
to work, feel free to file a ticket with a small compilable
code example demonstrating the problem, and setup to
access a public server or data source.

You asked "how does the function take the original
image and scale it down to fit in a much smaller image".
I'm not sure if you are looking for internal details or just
whether you are requesting this properly from the outside.
If you need details about the internals I can try to provide.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From stefano.moratto at gmail.com  Thu Jun 17 12:18:50 2010
From: stefano.moratto at gmail.com (Stefano Moratto)
Date: Thu Jun 17 12:18:54 2010
Subject: [gdal-dev] GDAL Speed Optimization
In-Reply-To: <4C1261A9.9060708@pobox.com>
References: <AANLkTimD1qdMwRSUj7UmIRag5nAC-r1Yuhx2uSVwA5S1@mail.gmail.com>
	<4C10FC55.2000104@pobox.com>
	<AANLkTikbSEKDcl9YEufLlI6bYmGBb3EQwDhsQXDW6zWG@mail.gmail.com>
	<4C1261A9.9060708@pobox.com>
Message-ID: <AANLkTimmStnAsz8oYjKIKg_WIySxIYM6gdmbng40BIhT@mail.gmail.com>

Frank,
        I have increased the cache as you suggested using GDALSetCacheMax
and it produced a performance gain. Thanks.

I think I can improve more acting on the virtual datataset that I use to
adapt the image to the paper size.
I have to look into the tms driver in order to understand how it download
the tiles to compose the final image.

Stefano

On Fri, Jun 11, 2010 at 6:17 PM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Stefano Moratto wrote:
>
>> Frank,
>>        The source images are  a sequence of tiles from openstreetmaps.
>> Every tiles has a fixed size (256 x 256) and the area they covers depends
>> from the zoom level.
>> It is explained very well in
>> http://www.maptiler.org/google-maps-coordinates-tile-bounds-projection.
>>
>> I use interpolation (via a virtual dataset)  because my window size and
>> the paper size are not a multiple of 256 x 256.
>> I use reprojection because I've to mix this raster datasource with a
>> vector datasource that has a different projection. Reprojecting my vector
>> data to openstreet projection do not affect the performance.
>>
>> So I think the key factor is the resizing ( I use "bilinear"
>> interpolation) and the size of the bitmap that may cause paging.
>>
> ...
>
>  Can you suggest some other parameters?
>>
>
> Stefano,
>
> Sorry, I wasn't able to learn much more skimming the code and
> referenced web page.  Have you tried the cache size setting
> I suggested?
>
>
> Best regards,
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


-- 
Dr.Eng. Stefano Moratto
stefano.moratto@gmail.com
stefano.moratto@csiat.it
http://www.csiat.it - Traffic Optimization Software
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100617/4f056089/attachment.html
From ebwolf at gmail.com  Thu Jun 17 12:32:39 2010
From: ebwolf at gmail.com (Eric Wolf)
Date: Thu Jun 17 13:00:09 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <4C19CCE5.3020700@york.ac.uk>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
	<4C15C9EA.80605@york.ac.uk>
	<AANLkTimxVSIfyAHi9XBo36bQYDC8oUbvQF26gZCrVz5r@mail.gmail.com>
	<1276638707657-5183957.post@n2.nabble.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26788@beja012.edia.pt>
	<4C19CCE5.3020700@york.ac.uk>
Message-ID: <AANLkTin2pc-tF8ZGrw0AdB9YMlUswQkCQ-5M142LGBEp@mail.gmail.com>

Matt's chicken-and-egg point seems dead-on. Except that Jack Dangermond
abhors a vacuum and ESRI has been focused on higher-order issues than file
formats. They are trying to provide topological constraints in the database
(or file) and things like geometric networks (which are really just a set of
topologically consistent linear features). The good ol' Shapefile doesn't
even come close to cutting the mustard. ArcSDE imposes these on other RDBMS.
The Personal Geodatabases did it in MDBs. And the File Geodatabase does it
without dependency on Microsoft Jet.

Another way to look at the open spec issue (which echoes ESRIs sentiment) is
that it's rather easy to screw up topology constraints. As Peter mentioned,
SDE sometimes doesn't like Oracle tables created by GDAL. The format of the
tables may be fine - but the topological relations may not be right. I'm
betting ESRI created File Geodatabase mainly to get away from the Personal
Geodatabase because it was too easy to muck with the MDB in Access and screw
up the higher order relationships.

File Geodatabases, like Shapefiles and Personal Geodatabases, are intended
as a means to exchange data. You export your data from ArcSDE into one of
these formats and give it to someone to use. Shapefiles are stripped of
topology. Personal Geodatabases only really work on platforms Microsoft
supports. File Geodatabases are the next logical step.

SpatialLite seems like a really strong contender. How do we get ESRI to play
along?

-=--=---=----=----=---=--=-=--=---=----=---=--=-=-
Eric B. Wolf                    New! 720-334-7734
USGS Geographer
Center of Excellence in GIScience
PhD Student
CU-Boulder - Geography

GPG Public Key: http://www.h4h.net/ebwolf.public.key.txt


On Thu, Jun 17, 2010 at 1:21 AM, Peter J Halls <P.Halls@york.ac.uk> wrote:

> Another way to achieve interoperability is via a DBMS for which there is an
> SDE implementation, although this may not be appropriate for Matt Wilkie's
> requirements.  It may not be always as easy as with shapefiles but it does
> not have the limitations.  Having said that, in our Oracle environment I do
> have a problem getting SDE to recognise some spatial datasets created with
> GDAL but have yet to prove what is happening to cause this and so cannot
> point a finger of blame in any direction ...
>
> Best wishes,
>
> Peter
>
>
> Duarte Carreira wrote:
>
>> Matt, the only reason I have seen presented for some reluctance in pushing
>> spatialite as a de facto standard following shapefile's success, is not
>> having a foothold in the closed source sector. That's the only thing ESRI's
>> fgdb could potentially offer, since the extra data types supported will not
>> be available outside ESRI's software (Terrain, Topology, Networks, etc.).
>>
>> (As for interoperability with ESRI, its users can always export to
>> shapefile. Ofcourse I would prefer to directly read fgdb data but if not
>> possible it's ok too.)
>>
>> So the question is: is it true that for a new "universal" spatial format
>> to be born it has to have at least read support in the closed source world?
>>
>> Duarte
>>
>>
>> -----Mensagem original-----
>> De: Matt Wilkie [mailto:maphew@gmail.com]
>> Enviada: ter?a-feira, 15 de Junho de 2010 22:52
>> Para: gdal-dev@lists.osgeo.org
>> Assunto: [gdal-dev] Re: ESRI file geodatabase support
>>
>>
>> I think discussing a shapefile successor, or even perhaps a code sprint,
>> is a
>> very good topic for FOSS4G. This same thread that we're weaving now is/has
>> happened on a number mailing lists and usually generated dozens of
>> responses
>> each time. The interest is clear. From my vantage the germinating seed
>> crystal could be spatialite, but there seems to be some general reluctance
>> to jump on board. I'm ignorant of the reasons for that, perhaps that will
>> come out at FOSS4G; wish I could be there!
>>
>> Ivan: I personally welcome and will use a gdal/ogr that uses the currently
>> installed arcgis libraries however for the health of the industry I'd like
>> to see unencumbered access. Thanks for letting me know at least part of my
>> ramblings are of interest
>>
>> cheers,
>>
>> -matt
>> --
>> View this message in context:
>> http://osgeo-org.1803224.n2.nabble.com/gdal-dev-ESRI-file-geodatabase-support-tp5159756p5183957.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
> --
>
> --------------------------------------------------------------------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 433806     Fax: 01904 433740
> Snail mail: Computing Service, University of York, Heslington, York YO10
> 5DD
> This message has the status of a private and personal communication
>
> --------------------------------------------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100617/58cb7e9a/attachment.html
From alexander.bruy at gmail.com  Thu Jun 17 13:40:06 2010
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Thu Jun 17 13:42:30 2010
Subject: [gdal-dev] Problem with pixel/line coordinates
Message-ID: <20100617204006.d99c5e79.alexander.bruy@gmail.com>

Hi,

I use next code to translate real coordinates (lat/lon) to the pixel/line
coordinates

def mapToPixel( mX, mY, geoTransform ):
  if geoTransform[ 2 ] + geoTransform[ 4 ] == 0:
    pX = ( mX - geoTransform[ 0 ] ) / geoTransform[ 1 ]
    pY = ( mY - geoTransform[ 3 ] ) / geoTransform[ 5 ]
  else:
    pX, pY = applyGeoTransform( mX, mY, invertGeoTransform( geoTransform ) )
  return int( pX + 0.5 ), int( pY + 0.5 )

def pixelToMap( pX, pY, geoTransform ):
  mX, mY = applyGeoTransform( pX, pY, geoTransform )
  return mX, mY

def applyGeoTransform( inX, inY, geoTransform ):
  outX = geoTransform[ 0 ] + inX * geoTransform[ 1 ] + inY * geoTransform[ 2 ]
  outY = geoTransform[ 3 ] + inX * geoTransform[ 4 ] + inY * geoTransform[ 5 ]
  return outX, outY

def invertGeoTransform( geoTransform ):
  det = geoTransform[ 1 ] * geoTransform[ 5 ] - geoTransform[ 2 ] * geoTransform[ 4 ]

  if abs( det ) < 0.000000000000001:
    return

  invDet = 1.0 / det

  # compute adjoint and divide by determinate
  outGeoTransform = [ 0, 0, 0, 0, 0, 0 ]
  outGeoTransform[ 1 ] = geoTransform[ 5 ] * invDet
  outGeoTransform[ 4 ] = -geoTransform[ 4 ] * invDet

  outGeoTransform[ 2 ] = -geoTransform[ 2 ] * invDet
  outGeoTransfrom[ 5 ] = geoTransform[ 1 ] * invDet

  outGeoTransform[ 0 ] = ( geoTransform[ 2 ] * geoTransform[ 3 ] - geoTransform[ 0 ] * geoTransform[ 5 ] ) * invDet
  outGeoTransform[ 3 ] = ( -geoTransform[ 1 ] * geoTransform[ 3 ] + geoTransform[ 0 ] * geoTransform[ 4 ] ) * invDet

  return outGeoTransform

When I test it on large raster (in AIG/Arc/Info Binary Grid format)
I get next problem: raster value in some points reported by script
is differ from value reported by Info tool in QGIS and/or ArcGIS.
But for another points reported raster value is correct.

As I understand, when point is near pixel border, MapToPixel function
return wrong result - row and column of neighbour pixel. For example,
if point is near right side of the pixel I get column and row for right neighbour pixel not for pixel I need. Same problem when point is near
top side of pixel, I get colunm and row for top neighbour pixel.

Is it possible to get correct result for all points? May be there is a
mistake in code. Any help and suggestions are welcome.

I can upload sample data if necessary but they are large (~330 Mb)

I'm use GDAL 1.6.3 with Python 2.5.2 under Linux.

Thanks!

-- 
Alexander Bruy
From warmerdam at pobox.com  Thu Jun 17 13:59:46 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun 17 13:59:48 2010
Subject: [gdal-dev] Problem with pixel/line coordinates
In-Reply-To: <20100617204006.d99c5e79.alexander.bruy@gmail.com>
References: <20100617204006.d99c5e79.alexander.bruy@gmail.com>
Message-ID: <AANLkTimJtzJZMy5WKyLn31Uks4Q4reYCbyDpItZlcFe4@mail.gmail.com>

On Thu, Jun 17, 2010 at 1:40 PM, Alexander Bruy
<alexander.bruy@gmail.com> wrote:
> Hi,
>
> I use next code to translate real coordinates (lat/lon) to the pixel/line
> coordinates
>
> def mapToPixel( mX, mY, geoTransform ):
> ?if geoTransform[ 2 ] + geoTransform[ 4 ] == 0:
> ? ?pX = ( mX - geoTransform[ 0 ] ) / geoTransform[ 1 ]
> ? ?pY = ( mY - geoTransform[ 3 ] ) / geoTransform[ 5 ]
> ?else:
> ? ?pX, pY = applyGeoTransform( mX, mY, invertGeoTransform( geoTransform ) )
> ?return int( pX + 0.5 ), int( pY + 0.5 )

Alexander,

I believe the addition of 0.5 in the above is incorrect.  In the
simple, non-rotated case, all values from geoTransform[0]
to geoTransform[0] + geoTransform[1] would be on the 1st
pixel (ie. pX = 0).  As you have coded it, when you are half
way across the pixel you are switching into the next one.

Keep in mind that (geoTransform[0],geoTransform[3])
is the top left corner of the top left pixel - not the center.

> def pixelToMap( pX, pY, geoTransform ):
> ?mX, mY = applyGeoTransform( pX, pY, geoTransform )
> ?return mX, mY

Conversely, here if pX and pY are coming in as integer
rather than floating point values, then you will likely want
to add half a pixel before transforming so that you get
the geoeferenced location of the center of the pixel rather
than the upper left corner.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From Chris.Barker at noaa.gov  Thu Jun 17 15:15:30 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Jun 17 15:15:32 2010
Subject: [gdal-dev] How to represent multi-dimensional array
Message-ID: <4C1A7452.1020408@noaa.gov>

Hi folks,

I have a dataset that is a 4-dimensional array of values: time,x,y,z

We're currently using netcdf to store it, which is well suited to this 
kind of data.

However, we also need to get it into a GIS (Arc in this case), and I'm 
trying to find a good way to do that.

Both Arc and gdalinfo do strange things if I simply point them at the 
netcdf file. GDAL seems to (arbitrarily?) see it as a 9064 band data 
set, so it is taking particular slice (I think I'm getting a bunch of 
(time, z) 2-d bands.

Anyway, I suspect that if I re-arrange the axis in the netcdf file, I 
might get something more reasonable, but my question is:

What is a good format to ex[press this to a GIS system?

I'm imaging multiple files, maybe geo-tiff, but how to I express time 
and elevation in a way that is natural to GIS?

thanks for your thoughts,

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From DCarreira at edia.pt  Thu Jun 17 16:29:11 2010
From: DCarreira at edia.pt (Duarte Carreira)
Date: Thu Jun 17 16:36:17 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <AANLkTin2pc-tF8ZGrw0AdB9YMlUswQkCQ-5M142LGBEp@mail.gmail.com>
References: <AANLkTilEkiVdhhuC7rlXSlcOxEuc2CqKXJ-84Nrpdiuc@mail.gmail.com>
	<4C0FDC1F.7050702@pobox.com> <4C101C7E.7010009@gov.yk.ca>
	<4C108E11.8050003@york.ac.uk> <4C126F6C.4030500@gov.yk.ca>
	<4C15C9EA.80605@york.ac.uk>
	<AANLkTimxVSIfyAHi9XBo36bQYDC8oUbvQF26gZCrVz5r@mail.gmail.com>
	<1276638707657-5183957.post@n2.nabble.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26788@beja012.edia.pt>
	<4C19CCE5.3020700@york.ac.uk>
	<AANLkTin2pc-tF8ZGrw0AdB9YMlUswQkCQ-5M142LGBEp@mail.gmail.com>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF5E85F26833@beja012.edia.pt>

Well, if SpatiaLite offers some "proper" benefits and disseminates through all of the FOSS world, then it may get a strong enough push even for ESRI to pick it up. It happened before... (kml?)

If SL would:


1)      Be as fast as shapefile in production settings, desktop and webgis

2)      Offer SQL support, spatial and otherwise, also through desktop tools like QGIS

3)      Allow editing while serving (even if for 1 editor only)

4)      Better support in QGIS than for shapefile (take advantage of Spatial SQL, all other functionality)

5)      Same for MapServer, GeoServer, gvSIG, et al.

6)      Allow easy managing of rasters inside the .db file, through QGIS

7)      ??more ideas/requests??

Then it would be a very, very good contender... and the ball would be kicked to "the other side".
And it seems we're already there for some of the listed features.
Duarte

De: Eric Wolf [mailto:ebwolf@gmail.com]
Enviada: quinta-feira, 17 de Junho de 2010 17:33
Para: Peter J Halls
Cc: gdal-dev@lists.osgeo.org; Matt Wilkie
Assunto: Re: [gdal-dev] Re: ESRI file geodatabase support

Matt's chicken-and-egg point seems dead-on. Except that Jack Dangermond abhors a vacuum and ESRI has been focused on higher-order issues than file formats. They are trying to provide topological constraints in the database (or file) and things like geometric networks (which are really just a set of topologically consistent linear features). The good ol' Shapefile doesn't even come close to cutting the mustard. ArcSDE imposes these on other RDBMS. The Personal Geodatabases did it in MDBs. And the File Geodatabase does it without dependency on Microsoft Jet.

Another way to look at the open spec issue (which echoes ESRIs sentiment) is that it's rather easy to screw up topology constraints. As Peter mentioned, SDE sometimes doesn't like Oracle tables created by GDAL. The format of the tables may be fine - but the topological relations may not be right. I'm betting ESRI created File Geodatabase mainly to get away from the Personal Geodatabase because it was too easy to muck with the MDB in Access and screw up the higher order relationships.

File Geodatabases, like Shapefiles and Personal Geodatabases, are intended as a means to exchange data. You export your data from ArcSDE into one of these formats and give it to someone to use. Shapefiles are stripped of topology. Personal Geodatabases only really work on platforms Microsoft supports. File Geodatabases are the next logical step.

SpatialLite seems like a really strong contender. How do we get ESRI to play along?

-=--=---=----=----=---=--=-=--=---=----=---=--=-=-
Eric B. Wolf                    New! 720-334-7734
USGS Geographer
Center of Excellence in GIScience
PhD Student
CU-Boulder - Geography

GPG Public Key: http://www.h4h.net/ebwolf.public.key.txt

On Thu, Jun 17, 2010 at 1:21 AM, Peter J Halls <P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>> wrote:
Another way to achieve interoperability is via a DBMS for which there is an SDE implementation, although this may not be appropriate for Matt Wilkie's requirements.  It may not be always as easy as with shapefiles but it does not have the limitations.  Having said that, in our Oracle environment I do have a problem getting SDE to recognise some spatial datasets created with GDAL but have yet to prove what is happening to cause this and so cannot point a finger of blame in any direction ...

Best wishes,

Peter


Duarte Carreira wrote:
Matt, the only reason I have seen presented for some reluctance in pushing spatialite as a de facto standard following shapefile's success, is not having a foothold in the closed source sector. That's the only thing ESRI's fgdb could potentially offer, since the extra data types supported will not be available outside ESRI's software (Terrain, Topology, Networks, etc.).

(As for interoperability with ESRI, its users can always export to shapefile. Ofcourse I would prefer to directly read fgdb data but if not possible it's ok too.)

So the question is: is it true that for a new "universal" spatial format to be born it has to have at least read support in the closed source world?

Duarte


-----Mensagem original-----
De: Matt Wilkie [mailto:maphew@gmail.com<mailto:maphew@gmail.com>]
Enviada: ter?a-feira, 15 de Junho de 2010 22:52
Para: gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
Assunto: [gdal-dev] Re: ESRI file geodatabase support


I think discussing a shapefile successor, or even perhaps a code sprint, is a
very good topic for FOSS4G. This same thread that we're weaving now is/has
happened on a number mailing lists and usually generated dozens of responses
each time. The interest is clear. From my vantage the germinating seed
crystal could be spatialite, but there seems to be some general reluctance
to jump on board. I'm ignorant of the reasons for that, perhaps that will
come out at FOSS4G; wish I could be there!

Ivan: I personally welcome and will use a gdal/ogr that uses the currently
installed arcgis libraries however for the health of the industry I'd like
to see unencumbered access. Thanks for letting me know at least part of my
ramblings are of interest

cheers,

-matt
--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-ESRI-file-geodatabase-support-tp5159756p5183957.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev

--
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100617/cd4f2f4c/attachment-0001.html
From ragi at burhum.com  Thu Jun 17 16:56:57 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Thu Jun 17 16:57:01 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
Message-ID: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>

>
> From: Duarte Carreira <DCarreira@edia.pt>
> Subject: RE: [gdal-dev] Re: ESRI file geodatabase support
> To: Eric Wolf <ebwolf@gmail.com>, Peter J Halls <P.Halls@york.ac.uk>
> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>,      Matt
> Wilkie
>        <maphew@gmail.com>
>
> Well, if SpatiaLite offers some "proper" benefits and disseminates through
> all of the FOSS world, then it may get a strong enough push even for ESRI to
> pick it up. It happened before... (kml?)
>
> If SL would:
>
>
> 1)      Be as fast as shapefile in production settings, desktop and webgis
>
> 2)      Offer SQL support, spatial and otherwise, also through desktop
> tools like QGIS
>
> 3)      Allow editing while serving (even if for 1 editor only)
>
> 4)      Better support in QGIS than for shapefile (take advantage of
> Spatial SQL, all other functionality)
>
> 5)      Same for MapServer, GeoServer, gvSIG, et al.
>
> 6)      Allow easy managing of rasters inside the .db file, through QGIS
>
> 7)      ??more ideas/requests??
>
> Then it would be a very, very good contender... and the ball would be
> kicked to "the other side".
> And it seems we're already there for some of the listed features.
> Duarte
>
>
Or even better, instead of waiting and complaining, we could just write a
GeoDatabase OGR (ESRI) Workspace ourselves.

There are already examples of working ones out there

http://svn.obtusesoft.com/core/trunk/

So instead of hoping and pleading for support, someone should just sit down
and write it.

I started one at one point (C++), got side tracked with other things. If
anyone is interested in that source code, I would be happy to share that
too.

- Ragi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100617/67fbbf9d/attachment.html
From mdsumner at gmail.com  Thu Jun 17 17:45:45 2010
From: mdsumner at gmail.com (Michael Sumner)
Date: Thu Jun 17 17:45:51 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <4C1A7452.1020408@noaa.gov>
References: <4C1A7452.1020408@noaa.gov>
Message-ID: <AANLkTikmSGg0j-TOFuA-8mcQwOV6S_B5exjOLToboyZj@mail.gmail.com>

I don't think there is a GIS that does this in a natural way - all you
can do is read in multiple slices. If the order of your axes really is
time, x, y, z then you will have y.n * z.n  (time, x) slices (as
bands) when read by GDAL - NetCDF will tend to store dimensions in
reverse order to the natural one, and I think GDAL reverses that - but
you can tell by the dimension and number of your bands, and the named
metadata on the GDAL bands.

Later versions of ArcGIS allow time-sliced arrays I think, so you
could store several of these.

NetCDF cannot store multi-attribute arrays (it will store several
same-size, same-metadata arrays for that purpose), so one thing you
could do is allow the GIS to to store several multi-band arrays (an
array for each T, a band for each Z)  - but you need to wear the
inconsistency of mixing attributes with dimensions.

Manifold reads in multiple rasters and I presume ArcGIS does too.

Eonfusion will do its best to read the array in its natural state, but
it is interpreted through GDAL and the dimensions reconstructed from
the band metadata, but it's not a traditional GIS in any sense.

R can read NetCDF natively or with GDAL (RNetCDF, ncdf, rgdal
packages) and convert to the Spatial classes, but these are limited to
multi-band 2D arrays.

Cheers, Mike.

On Fri, Jun 18, 2010 at 5:15 AM, Christopher Barker
<Chris.Barker@noaa.gov> wrote:
> Hi folks,
>
> I have a dataset that is a 4-dimensional array of values: time,x,y,z
>
> We're currently using netcdf to store it, which is well suited to this kind
> of data.
>
> However, we also need to get it into a GIS (Arc in this case), and I'm
> trying to find a good way to do that.
>
> Both Arc and gdalinfo do strange things if I simply point them at the netcdf
> file. GDAL seems to (arbitrarily?) see it as a 9064 band data set, so it is
> taking particular slice (I think I'm getting a bunch of (time, z) 2-d bands.
>
> Anyway, I suspect that if I re-arrange the axis in the netcdf file, I might
> get something more reasonable, but my question is:
>
> What is a good format to ex[press this to a GIS system?
>
> I'm imaging multiple files, maybe geo-tiff, but how to I express time and
> elevation in a way that is natural to GIS?
>
> thanks for your thoughts,
>
> -Chris
>
>
> --
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R ? ? ? ? ? ?(206) 526-6959 ? voice
> 7600 Sand Point Way NE ? (206) 526-6329 ? fax
> Seattle, WA ?98115 ? ? ? (206) 526-6317 ? main reception
>
> Chris.Barker@noaa.gov
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From jluis at ualg.pt  Thu Jun 17 20:02:30 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu Jun 17 20:02:42 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <4C1A7452.1020408@noaa.gov>
References: <4C1A7452.1020408@noaa.gov>
Message-ID: <4C1AB796.5020802@ualg.pt>

Don't know if this is what you are looking for but if those netCDF files 
are of a similar type that one can get from the poet site 
(http://poet.jpl.nasa.gov/), Mirone has a tool called "Aquamoto" (a tool 
original developed to show time stamps of a tsunami propagation models) 
that loads those files and show their content interactively with the 
help of a slider.

Joaquim

> Hi folks,
>
> I have a dataset that is a 4-dimensional array of values: time,x,y,z
>
> We're currently using netcdf to store it, which is well suited to this 
> kind of data.
>
> However, we also need to get it into a GIS (Arc in this case), and I'm 
> trying to find a good way to do that.
>
> Both Arc and gdalinfo do strange things if I simply point them at the 
> netcdf file. GDAL seems to (arbitrarily?) see it as a 9064 band data 
> set, so it is taking particular slice (I think I'm getting a bunch of 
> (time, z) 2-d bands.
>
> Anyway, I suspect that if I re-arrange the axis in the netcdf file, I 
> might get something more reasonable, but my question is:
>
> What is a good format to ex[press this to a GIS system?
>
> I'm imaging multiple files, maybe geo-tiff, but how to I express time 
> and elevation in a way that is natural to GIS?
>
> thanks for your thoughts,
>
> -Chris
>
>

From ivan.lucena at pmldnet.com  Thu Jun 17 21:23:52 2010
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Jun 17 21:27:10 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <4C1A7452.1020408@noaa.gov>
References: <4C1A7452.1020408@noaa.gov>
Message-ID: <4C1ACAA8.3060104@pmldnet.com>

Chris,

Christopher Barker wrote:
> Hi folks,
> 
> I have a dataset that is a 4-dimensional array of values: time,x,y,z
> 
> We're currently using netcdf to store it, which is well suited to this 
> kind of data.
> 
> However, we also need to get it into a GIS (Arc in this case), and I'm 
> trying to find a good way to do that.
> 
> Both Arc and gdalinfo do strange things if I simply point them at the 
> netcdf file. GDAL seems to (arbitrarily?) see it as a 9064 band data 
> set, so it is taking particular slice (I think I'm getting a bunch of 
> (time, z) 2-d bands.

You might take a look a Idrisi (www.clarklabs.org). It imports netCDF using a GUI where you can 
choose the orders of the dimensions to read from. There is a set of tools to perform time series 
analysis.

> Anyway, I suspect that if I re-arrange the axis in the netcdf file, I 
> might get something more reasonable, but my question is:
> 
> What is a good format to ex[press this to a GIS system?
> 
> I'm imaging multiple files, maybe geo-tiff, but how to I express time 
> and elevation in a way that is natural to GIS?

You might be forced to use multiple files just because that is how generally image processing tools 
work better. Then you could write scripts to loop trough the bands files with those tools.

Although some operations on the time dimension could work much faster in a multi-band, pixel 
interleaving storage mode. Like you said, netCDF are well suited for that kind of processing. I am 
afraid that the tools are not, yet.

> thanks for your thoughts,
> 
> -Chris

Regards,

Ivan

From DCarreira at edia.pt  Fri Jun 18 05:15:10 2010
From: DCarreira at edia.pt (Duarte Carreira)
Date: Fri Jun 18 05:22:16 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>

Ragi,

That is a good point, as always. Unfortunately I am not able to do that, but I can help in any other way...

The zigGIS driver (I think ) is for reading/writing PostGIS using ArcMap, without having ArcSDE in the middle. As far as I know it does not read File geodatabases... I think for now you would have to reverse engineer the way fgdb's are written... given the effort, the discussion on whether to invest the time on fgbd or invest it on SL is at least interesting... and even fun for some of us.

Duarte

De: Ragi Burhum [mailto:ragi@burhum.com]
Enviada: quinta-feira, 17 de Junho de 2010 21:57
Para: gdal-dev@lists.osgeo.org
Cc: Duarte Carreira; Eric Wolf; Peter J Halls; Matt Wilkie
Assunto: RE: [gdal-dev] Re: ESRI file geodatabase support

From: Duarte Carreira <DCarreira@edia.pt<mailto:DCarreira@edia.pt>>
Subject: RE: [gdal-dev] Re: ESRI file geodatabase support
To: Eric Wolf <ebwolf@gmail.com<mailto:ebwolf@gmail.com>>, Peter J Halls <P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>>
Cc: "gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>" <gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>>,      Matt Wilkie
       <maphew@gmail.com<mailto:maphew@gmail.com>>

Well, if SpatiaLite offers some "proper" benefits and disseminates through all of the FOSS world, then it may get a strong enough push even for ESRI to pick it up. It happened before... (kml?)

If SL would:


1)      Be as fast as shapefile in production settings, desktop and webgis

2)      Offer SQL support, spatial and otherwise, also through desktop tools like QGIS

3)      Allow editing while serving (even if for 1 editor only)

4)      Better support in QGIS than for shapefile (take advantage of Spatial SQL, all other functionality)

5)      Same for MapServer, GeoServer, gvSIG, et al.

6)      Allow easy managing of rasters inside the .db file, through QGIS

7)      ??more ideas/requests??

Then it would be a very, very good contender... and the ball would be kicked to "the other side".
And it seems we're already there for some of the listed features.
Duarte

Or even better, instead of waiting and complaining, we could just write a GeoDatabase OGR (ESRI) Workspace ourselves.

There are already examples of working ones out there

http://svn.obtusesoft.com/core/trunk/

So instead of hoping and pleading for support, someone should just sit down and write it.

I started one at one point (C++), got side tracked with other things. If anyone is interested in that source code, I would be happy to share that too.

- Ragi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/aad50ede/attachment.html
From P.Halls at york.ac.uk  Fri Jun 18 09:08:33 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Fri Jun 18 09:09:47 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
Message-ID: <4C1B6FD1.6080904@york.ac.uk>

I happened to be looking at the ESRI ArcGIS 10 online documentation and found a 
page of acknowledgements, which includes an acknowledgement reference to SQLite. 
  I've no idea what to make of this - maybe someone else has?

Best wishes,

Peter

Duarte Carreira wrote:
> Ragi,
> 
> That is a good point, as always. Unfortunately I am not able to do that, but I can help in any other way...
> 
> The zigGIS driver (I think ) is for reading/writing PostGIS using ArcMap, without having ArcSDE in the middle. As far as I know it does not read File geodatabases... I think for now you would have to reverse engineer the way fgdb's are written... given the effort, the discussion on whether to invest the time on fgbd or invest it on SL is at least interesting... and even fun for some of us.
> 
> Duarte
> 
> De: Ragi Burhum [mailto:ragi@burhum.com]
> Enviada: quinta-feira, 17 de Junho de 2010 21:57
> Para: gdal-dev@lists.osgeo.org
> Cc: Duarte Carreira; Eric Wolf; Peter J Halls; Matt Wilkie
> Assunto: RE: [gdal-dev] Re: ESRI file geodatabase support
> 
> From: Duarte Carreira <DCarreira@edia.pt<mailto:DCarreira@edia.pt>>
> Subject: RE: [gdal-dev] Re: ESRI file geodatabase support
> To: Eric Wolf <ebwolf@gmail.com<mailto:ebwolf@gmail.com>>, Peter J Halls <P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>>
> Cc: "gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>" <gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>>,      Matt Wilkie
>        <maphew@gmail.com<mailto:maphew@gmail.com>>
> 
> Well, if SpatiaLite offers some "proper" benefits and disseminates through all of the FOSS world, then it may get a strong enough push even for ESRI to pick it up. It happened before... (kml?)
> 
> If SL would:
> 
> 
> 1)      Be as fast as shapefile in production settings, desktop and webgis
> 
> 2)      Offer SQL support, spatial and otherwise, also through desktop tools like QGIS
> 
> 3)      Allow editing while serving (even if for 1 editor only)
> 
> 4)      Better support in QGIS than for shapefile (take advantage of Spatial SQL, all other functionality)
> 
> 5)      Same for MapServer, GeoServer, gvSIG, et al.
> 
> 6)      Allow easy managing of rasters inside the .db file, through QGIS
> 
> 7)      ??more ideas/requests??
> 
> Then it would be a very, very good contender... and the ball would be kicked to "the other side".
> And it seems we're already there for some of the listed features.
> Duarte
> 
> Or even better, instead of waiting and complaining, we could just write a GeoDatabase OGR (ESRI) Workspace ourselves.
> 
> There are already examples of working ones out there
> 
> http://svn.obtusesoft.com/core/trunk/
> 
> So instead of hoping and pleading for support, someone should just sit down and write it.
> 
> I started one at one point (C++), got side tracked with other things. If anyone is interested in that source code, I would be happy to share that too.
> 
> - Ragi
> 

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From DCarreira at edia.pt  Fri Jun 18 09:37:05 2010
From: DCarreira at edia.pt (Duarte Carreira)
Date: Fri Jun 18 09:44:24 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF5E85F26876@beja012.edia.pt>

Re-reading your email it seems I misunderstood what you meant... So using the zigGIS ArcMap/PostGIS provider one could adapt it to read OGR datasources, like QGIS does. You would then access SpatiaLite and potentially all other OGR formats from ArcMap. Good idea.

Duarte

De: Ragi Burhum [mailto:ragi@burhum.com]
Enviada: quinta-feira, 17 de Junho de 2010 21:57
Para: gdal-dev@lists.osgeo.org
Cc: Duarte Carreira; Eric Wolf; Peter J Halls; Matt Wilkie
Assunto: RE: [gdal-dev] Re: ESRI file geodatabase support

From: Duarte Carreira <DCarreira@edia.pt<mailto:DCarreira@edia.pt>>
Subject: RE: [gdal-dev] Re: ESRI file geodatabase support
To: Eric Wolf <ebwolf@gmail.com<mailto:ebwolf@gmail.com>>, Peter J Halls <P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>>
Cc: "gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>" <gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>>,      Matt Wilkie
       <maphew@gmail.com<mailto:maphew@gmail.com>>

Well, if SpatiaLite offers some "proper" benefits and disseminates through all of the FOSS world, then it may get a strong enough push even for ESRI to pick it up. It happened before... (kml?)

If SL would:


1)      Be as fast as shapefile in production settings, desktop and webgis

2)      Offer SQL support, spatial and otherwise, also through desktop tools like QGIS

3)      Allow editing while serving (even if for 1 editor only)

4)      Better support in QGIS than for shapefile (take advantage of Spatial SQL, all other functionality)

5)      Same for MapServer, GeoServer, gvSIG, et al.

6)      Allow easy managing of rasters inside the .db file, through QGIS

7)      ??more ideas/requests??

Then it would be a very, very good contender... and the ball would be kicked to "the other side".
And it seems we're already there for some of the listed features.
Duarte

Or even better, instead of waiting and complaining, we could just write a GeoDatabase OGR (ESRI) Workspace ourselves.

There are already examples of working ones out there

http://svn.obtusesoft.com/core/trunk/

So instead of hoping and pleading for support, someone should just sit down and write it.

I started one at one point (C++), got side tracked with other things. If anyone is interested in that source code, I would be happy to share that too.

- Ragi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/53c3cea3/attachment.html
From jason.roberts at duke.edu  Fri Jun 18 09:48:14 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Fri Jun 18 09:48:16 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <4C1A7452.1020408@noaa.gov>
References: <4C1A7452.1020408@noaa.gov>
Message-ID: <000901cb0eec$e67c2f00$b3748d00$@roberts@duke.edu>

Chris,

I have some experience trying to get ArcGIS to work well with time series
satellite imagery and 4D ocean models (e.g. HYCOM, ROMS). Similar to GDAL,
it does not appear that multidimensionality was designed into the current
versions of ArcGIS. Like GDAL, ArcGIS appears mainly designed to work with
2D images. Both support multi-band 2D images very well, and this can be used
to at least access 3D data although there is not good support for
understanding the value of the z coordinate.

As far as I am aware, ESRI is not currently making significant investments
in the area of multidimensional data. I am part of a working group initiated
by ESRI and led by an ESRI program manager (Nawajish Noman) that is trying,
in essence, to get the community of users who use both ArcGIS and netCDF to
develop some Python geoprocessing tools for ArcGIS that provide more
functionality than out-of-box tools already in ArcGIS. ESRI did not provide
any of their own developers. I donated some dev time and prototyped a tool
for them using the netcdf4-python package and others are carrying on from
there. I do not believe this project will result in anything dramatically
new but it might yield a few additional useful geoprocessing tools. I have
reduced my participation after concluding that it makes more sense to focus
on the development of my own project (see below).

Here are some options I'm aware of with ArcGIS:

1. The Make NetCDF Raster Layer tool can represent 3D netCDF variables as
multiband raster layers. Using the Dimension Values parameter, you can slice
a 3D slab out of a 4D or higher-dimensional variable. This tool might be
sufficient for your purposes. The trick is your netCDF has to meet a bunch
of constraints for ArcGIS to recognize it. It has to have square cells. It
has adhere to the CF or COARDS conventions (I forget which versions) and
have all the right attributes. You can learn more about this in the ArcGIS
Desktop Help under "netCDF data, FAQs about". Also see "netCDF data,
animating" and the other topics under "netCDF data".

2. Under contract to NOAA, Applied Science Associates built a couple of
tools that might be useful: the Environmental Data Connector (EDC) and
TimeSlider Extension. Download from
http://www.asascience.com/software/downloads/index.shtml, see other parts of
the website for more info. EDC was built to download multidimensional
OPeNDAP datasets into multiband rasters. TimeSlider is a UI extension to
help with playback of time-series data. I think they can both work with
netCDFs directly, not just OPeNDAP. Also look at ASA ViewNcDap, which can
display multidimensional netCDF variables. (Although this last program is
not an ArcGIS extension, and there are many other programs in the world that
are also not ArcGIS extensions and that probably do as good or better a
job.)

3. If you don't want to use netCDFs, you can fake multidimensionality for
some scenarios by building a raster catalog with columns for the time and
depth. For example, you can build an animation that selects slices by date
as the animation plays through a range of dates.

4. My group, the Duke University Marine Geospatial Ecology Lab, is currently
building 3D and 4D awareness into a collection of tools we publish, Marine
Geospatial Ecology Tools (MGET, see
http://code.nicholas.duke.edu/projects/mget), built in Python on GDAL and
other FOSS packages. You can download MGET today, but the 3D and 4D
awareness will not be there for several months so it probably won't be
useful to you in the present form. When complete, these tools will allow you
to run some common marine ecology scenarios directly from ArcGIS, such as
building climatologies, sampling 3D and 4D datasets at points in time and
space, identifying fronts, etc.

Good luck,

Jason


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christopher Barker
Sent: Thursday, June 17, 2010 3:16 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] How to represent multi-dimensional array

Hi folks,

I have a dataset that is a 4-dimensional array of values: time,x,y,z

We're currently using netcdf to store it, which is well suited to this 
kind of data.

However, we also need to get it into a GIS (Arc in this case), and I'm 
trying to find a good way to do that.

Both Arc and gdalinfo do strange things if I simply point them at the 
netcdf file. GDAL seems to (arbitrarily?) see it as a 9064 band data 
set, so it is taking particular slice (I think I'm getting a bunch of 
(time, z) 2-d bands.

Anyway, I suspect that if I re-arrange the axis in the netcdf file, I 
might get something more reasonable, but my question is:

What is a good format to ex[press this to a GIS system?

I'm imaging multiple files, maybe geo-tiff, but how to I express time 
and elevation in a way that is natural to GIS?

thanks for your thoughts,

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From P.Halls at york.ac.uk  Fri Jun 18 09:49:01 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Fri Jun 18 09:50:09 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
Message-ID: <4C1B794D.3030308@york.ac.uk>

And ... I think I may have found the file geodatabase documentation promised ... 
  in the  online ArecGIS 10 documentation, Administrator Library, Architecture 
of a geodatabase, Geodatabase XML.  It would appear that, in addition to the XML 
Schema they published several years ago, the XML documentation has been 
augmented with a view to interoperability being achieved at the XML level.  So, 
maybe no, they have not published the binary structure but they may have 
published enough to enable XML exchange.  I've not read all the material - and I 
would need to think about much of it before I understood it.  Whether there is 
enough there I cannot say ...  I was looking at
http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html

Best wishes,

Peter

Duarte Carreira wrote:
> Ragi,
> 
> That is a good point, as always. Unfortunately I am not able to do that, but I can help in any other way...
> 
> The zigGIS driver (I think ) is for reading/writing PostGIS using ArcMap, without having ArcSDE in the middle. As far as I know it does not read File geodatabases... I think for now you would have to reverse engineer the way fgdb's are written... given the effort, the discussion on whether to invest the time on fgbd or invest it on SL is at least interesting... and even fun for some of us.
> 
> Duarte
> 
> De: Ragi Burhum [mailto:ragi@burhum.com]
> Enviada: quinta-feira, 17 de Junho de 2010 21:57
> Para: gdal-dev@lists.osgeo.org
> Cc: Duarte Carreira; Eric Wolf; Peter J Halls; Matt Wilkie
> Assunto: RE: [gdal-dev] Re: ESRI file geodatabase support
> 
> From: Duarte Carreira <DCarreira@edia.pt<mailto:DCarreira@edia.pt>>
> Subject: RE: [gdal-dev] Re: ESRI file geodatabase support
> To: Eric Wolf <ebwolf@gmail.com<mailto:ebwolf@gmail.com>>, Peter J Halls <P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>>
> Cc: "gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>" <gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>>,      Matt Wilkie
>        <maphew@gmail.com<mailto:maphew@gmail.com>>
> 
> Well, if SpatiaLite offers some "proper" benefits and disseminates through all of the FOSS world, then it may get a strong enough push even for ESRI to pick it up. It happened before... (kml?)
> 
> If SL would:
> 
> 
> 1)      Be as fast as shapefile in production settings, desktop and webgis
> 
> 2)      Offer SQL support, spatial and otherwise, also through desktop tools like QGIS
> 
> 3)      Allow editing while serving (even if for 1 editor only)
> 
> 4)      Better support in QGIS than for shapefile (take advantage of Spatial SQL, all other functionality)
> 
> 5)      Same for MapServer, GeoServer, gvSIG, et al.
> 
> 6)      Allow easy managing of rasters inside the .db file, through QGIS
> 
> 7)      ??more ideas/requests??
> 
> Then it would be a very, very good contender... and the ball would be kicked to "the other side".
> And it seems we're already there for some of the listed features.
> Duarte
> 
> Or even better, instead of waiting and complaining, we could just write a GeoDatabase OGR (ESRI) Workspace ourselves.
> 
> There are already examples of working ones out there
> 
> http://svn.obtusesoft.com/core/trunk/
> 
> So instead of hoping and pleading for support, someone should just sit down and write it.
> 
> I started one at one point (C++), got side tracked with other things. If anyone is interested in that source code, I would be happy to share that too.
> 
> - Ragi
> 

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From jason.roberts at duke.edu  Fri Jun 18 09:50:26 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Fri Jun 18 09:50:28 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <4C1B6FD1.6080904@york.ac.uk>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
	<4C1B6FD1.6080904@york.ac.uk>
Message-ID: <001001cb0eed$3542a830$9fc7f890$@roberts@duke.edu>

Peter,

Although I have not seen the acknowledgement you mention, I have noticed
that ArcGIS 9.x appears to create SQLite databases in the user's temp
directory during certain operations. Perhaps they are just using it
internally to implement various processing.

Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peter J Halls
Sent: Friday, June 18, 2010 9:09 AM
To: Duarte Carreira
Cc: gdal-dev@lists.osgeo.org; Matt Wilkie; Ragi Burhum
Subject: Re: [gdal-dev] Re: ESRI file geodatabase support

I happened to be looking at the ESRI ArcGIS 10 online documentation and
found a 
page of acknowledgements, which includes an acknowledgement reference to
SQLite. 
  I've no idea what to make of this - maybe someone else has?

Best wishes,

Peter

Duarte Carreira wrote:
> Ragi,
> 
> That is a good point, as always. Unfortunately I am not able to do that,
but I can help in any other way...
> 
> The zigGIS driver (I think ) is for reading/writing PostGIS using ArcMap,
without having ArcSDE in the middle. As far as I know it does not read File
geodatabases... I think for now you would have to reverse engineer the way
fgdb's are written... given the effort, the discussion on whether to invest
the time on fgbd or invest it on SL is at least interesting... and even fun
for some of us.
> 
> Duarte
> 
> De: Ragi Burhum [mailto:ragi@burhum.com]
> Enviada: quinta-feira, 17 de Junho de 2010 21:57
> Para: gdal-dev@lists.osgeo.org
> Cc: Duarte Carreira; Eric Wolf; Peter J Halls; Matt Wilkie
> Assunto: RE: [gdal-dev] Re: ESRI file geodatabase support
> 
> From: Duarte Carreira <DCarreira@edia.pt<mailto:DCarreira@edia.pt>>
> Subject: RE: [gdal-dev] Re: ESRI file geodatabase support
> To: Eric Wolf <ebwolf@gmail.com<mailto:ebwolf@gmail.com>>, Peter J Halls
<P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>>
> Cc: "gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>"
<gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>>,      Matt
Wilkie
>        <maphew@gmail.com<mailto:maphew@gmail.com>>
> 
> Well, if SpatiaLite offers some "proper" benefits and disseminates through
all of the FOSS world, then it may get a strong enough push even for ESRI to
pick it up. It happened before... (kml?)
> 
> If SL would:
> 
> 
> 1)      Be as fast as shapefile in production settings, desktop and webgis
> 
> 2)      Offer SQL support, spatial and otherwise, also through desktop
tools like QGIS
> 
> 3)      Allow editing while serving (even if for 1 editor only)
> 
> 4)      Better support in QGIS than for shapefile (take advantage of
Spatial SQL, all other functionality)
> 
> 5)      Same for MapServer, GeoServer, gvSIG, et al.
> 
> 6)      Allow easy managing of rasters inside the .db file, through QGIS
> 
> 7)      ??more ideas/requests??
> 
> Then it would be a very, very good contender... and the ball would be
kicked to "the other side".
> And it seems we're already there for some of the listed features.
> Duarte
> 
> Or even better, instead of waiting and complaining, we could just write a
GeoDatabase OGR (ESRI) Workspace ourselves.
> 
> There are already examples of working ones out there
> 
> http://svn.obtusesoft.com/core/trunk/
> 
> So instead of hoping and pleading for support, someone should just sit
down and write it.
> 
> I started one at one point (C++), got side tracked with other things. If
anyone is interested in that source code, I would be happy to share that
too.
> 
> - Ragi
> 

-- 
----------------------------------------------------------------------------
----
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
----------------------------------------------------------------------------
----
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From gis at vanbooth.com  Fri Jun 18 09:52:41 2010
From: gis at vanbooth.com (Rob)
Date: Fri Jun 18 09:52:44 2010
Subject: [gdal-dev] gdal_warp
Message-ID: <AANLkTimn52G_HlLvq2Vmq5fZGJgV1veWxWAt8TEKQ1Em@mail.gmail.com>

Hi Guys

I'm reprojecting some rasters from OSGB (EPSG:27700) to WGS84 (EPSG:4326)
and am running into a problem.

The rasters are reprojecting nicely, but I am left with black pixels around
the image where the reprojected image doesnt fit squarely within the
rectangular dimensions of the file.

I posted about this issue a few weeks ago, and then realised that I should
be marking that colour as transparent when rendering using GeoServer, and
ho! everything was OK.

However, I am now reprojecting some greyscale rasters, and by making the
black pixels on the outside transparent, I am losing the black details of
the raster image that I want to display!

Is there a way of selecting the colour that gdal uses to populate these dead
pixels around the side?

MTIA

Rob
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/73a1e44b/attachment.html
From P.Halls at york.ac.uk  Fri Jun 18 10:01:42 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Fri Jun 18 10:01:52 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <001001cb0eed$3542a830$9fc7f890$@roberts@duke.edu>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
	<4C1B6FD1.6080904@york.ac.uk>
	<001001cb0eed$3542a830$9fc7f890$@roberts@duke.edu>
Message-ID: <4C1B7C46.1030500@york.ac.uk>

Could well be the case.  P.

Jason Roberts wrote:
> Peter,
> 
> Although I have not seen the acknowledgement you mention, I have noticed
> that ArcGIS 9.x appears to create SQLite databases in the user's temp
> directory during certain operations. Perhaps they are just using it
> internally to implement various processing.
> 
> Jason
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peter J Halls
> Sent: Friday, June 18, 2010 9:09 AM
> To: Duarte Carreira
> Cc: gdal-dev@lists.osgeo.org; Matt Wilkie; Ragi Burhum
> Subject: Re: [gdal-dev] Re: ESRI file geodatabase support
> 
> I happened to be looking at the ESRI ArcGIS 10 online documentation and
> found a 
> page of acknowledgements, which includes an acknowledgement reference to
> SQLite. 
>   I've no idea what to make of this - maybe someone else has?
> 
> Best wishes,
> 
> Peter
> 
> Duarte Carreira wrote:
>> Ragi,
>>
>> That is a good point, as always. Unfortunately I am not able to do that,
> but I can help in any other way...
>> The zigGIS driver (I think ) is for reading/writing PostGIS using ArcMap,
> without having ArcSDE in the middle. As far as I know it does not read File
> geodatabases... I think for now you would have to reverse engineer the way
> fgdb's are written... given the effort, the discussion on whether to invest
> the time on fgbd or invest it on SL is at least interesting... and even fun
> for some of us.
>> Duarte
>>
>> De: Ragi Burhum [mailto:ragi@burhum.com]
>> Enviada: quinta-feira, 17 de Junho de 2010 21:57
>> Para: gdal-dev@lists.osgeo.org
>> Cc: Duarte Carreira; Eric Wolf; Peter J Halls; Matt Wilkie
>> Assunto: RE: [gdal-dev] Re: ESRI file geodatabase support
>>
>> From: Duarte Carreira <DCarreira@edia.pt<mailto:DCarreira@edia.pt>>
>> Subject: RE: [gdal-dev] Re: ESRI file geodatabase support
>> To: Eric Wolf <ebwolf@gmail.com<mailto:ebwolf@gmail.com>>, Peter J Halls
> <P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>>
>> Cc: "gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>"
> <gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>>,      Matt
> Wilkie
>>        <maphew@gmail.com<mailto:maphew@gmail.com>>
>>
>> Well, if SpatiaLite offers some "proper" benefits and disseminates through
> all of the FOSS world, then it may get a strong enough push even for ESRI to
> pick it up. It happened before... (kml?)
>> If SL would:
>>
>>
>> 1)      Be as fast as shapefile in production settings, desktop and webgis
>>
>> 2)      Offer SQL support, spatial and otherwise, also through desktop
> tools like QGIS
>> 3)      Allow editing while serving (even if for 1 editor only)
>>
>> 4)      Better support in QGIS than for shapefile (take advantage of
> Spatial SQL, all other functionality)
>> 5)      Same for MapServer, GeoServer, gvSIG, et al.
>>
>> 6)      Allow easy managing of rasters inside the .db file, through QGIS
>>
>> 7)      ??more ideas/requests??
>>
>> Then it would be a very, very good contender... and the ball would be
> kicked to "the other side".
>> And it seems we're already there for some of the listed features.
>> Duarte
>>
>> Or even better, instead of waiting and complaining, we could just write a
> GeoDatabase OGR (ESRI) Workspace ourselves.
>> There are already examples of working ones out there
>>
>> http://svn.obtusesoft.com/core/trunk/
>>
>> So instead of hoping and pleading for support, someone should just sit
> down and write it.
>> I started one at one point (C++), got side tracked with other things. If
> anyone is interested in that source code, I would be happy to share that
> too.
>> - Ragi
>>
> 

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From chaitanya.ch at gmail.com  Fri Jun 18 10:06:37 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Jun 18 10:06:40 2010
Subject: [gdal-dev] gdal_warp
In-Reply-To: <AANLkTimn52G_HlLvq2Vmq5fZGJgV1veWxWAt8TEKQ1Em@mail.gmail.com>
References: <AANLkTimn52G_HlLvq2Vmq5fZGJgV1veWxWAt8TEKQ1Em@mail.gmail.com>
Message-ID: <AANLkTikvY-p27JxlVLzyWDzQGpyS4e4ZOEjvJByJeMg3@mail.gmail.com>

Rob,

You can try the -dstalpha option in gdalwarp to create an alpha band. (
http://www.gdal.org/gdalwarp.html)

On Fri, Jun 18, 2010 at 7:22 PM, Rob <gis@vanbooth.com> wrote:

> Hi Guys
>
> I'm reprojecting some rasters from OSGB (EPSG:27700) to WGS84 (EPSG:4326)
> and am running into a problem.
>
> The rasters are reprojecting nicely, but I am left with black pixels around
> the image where the reprojected image doesnt fit squarely within the
> rectangular dimensions of the file.
>
> I posted about this issue a few weeks ago, and then realised that I should
> be marking that colour as transparent when rendering using GeoServer, and
> ho! everything was OK.
>
> However, I am now reprojecting some greyscale rasters, and by making the
> black pixels on the outside transparent, I am losing the black details of
> the raster image that I want to display!
>
> Is there a way of selecting the colour that gdal uses to populate these
> dead pixels around the side?
>
> MTIA
>
> Rob
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/5a0b35c3/attachment.html
From DCarreira at edia.pt  Fri Jun 18 10:16:56 2010
From: DCarreira at edia.pt (Duarte Carreira)
Date: Fri Jun 18 10:24:07 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <4C1B794D.3030308@york.ac.uk>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
	<4C1B794D.3030308@york.ac.uk>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF5E85F2688B@beja012.edia.pt>

Just a quick note: SQLite is supported through the FME add-on aka Interoperability Extension to ArcMap.

Duarte

-----Mensagem original-----
De: Peter J Halls [mailto:P.Halls@york.ac.uk]
Enviada: sexta-feira, 18 de Junho de 2010 14:49
Para: Duarte Carreira
Cc: Ragi Burhum; gdal-dev@lists.osgeo.org; Eric Wolf; Matt Wilkie
Assunto: Re: [gdal-dev] Re: ESRI file geodatabase support

And ... I think I may have found the file geodatabase documentation promised ...
  in the  online ArecGIS 10 documentation, Administrator Library, Architecture
of a geodatabase, Geodatabase XML.  It would appear that, in addition to the XML
Schema they published several years ago, the XML documentation has been
augmented with a view to interoperability being achieved at the XML level.  So,
maybe no, they have not published the binary structure but they may have
published enough to enable XML exchange.  I've not read all the material - and I
would need to think about much of it before I understood it.  Whether there is
enough there I cannot say ...  I was looking at
http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html

Best wishes,

Peter

Duarte Carreira wrote:
> Ragi,
>
> That is a good point, as always. Unfortunately I am not able to do that, but I can help in any other way...
>
> The zigGIS driver (I think ) is for reading/writing PostGIS using ArcMap, without having ArcSDE in the middle. As far as I know it does not read File geodatabases... I think for now you would have to reverse engineer the way fgdb's are written... given the effort, the discussion on whether to invest the time on fgbd or invest it on SL is at least interesting... and even fun for some of us.
>
> Duarte
>
> De: Ragi Burhum [mailto:ragi@burhum.com]
> Enviada: quinta-feira, 17 de Junho de 2010 21:57
> Para: gdal-dev@lists.osgeo.org
> Cc: Duarte Carreira; Eric Wolf; Peter J Halls; Matt Wilkie
> Assunto: RE: [gdal-dev] Re: ESRI file geodatabase support
>
> From: Duarte Carreira <DCarreira@edia.pt<mailto:DCarreira@edia.pt>>
> Subject: RE: [gdal-dev] Re: ESRI file geodatabase support
> To: Eric Wolf <ebwolf@gmail.com<mailto:ebwolf@gmail.com>>, Peter J Halls <P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>>
> Cc: "gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>" <gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>>,      Matt Wilkie
>        <maphew@gmail.com<mailto:maphew@gmail.com>>
>
> Well, if SpatiaLite offers some "proper" benefits and disseminates through all of the FOSS world, then it may get a strong enough push even for ESRI to pick it up. It happened before... (kml?)
>
> If SL would:
>
>
> 1)      Be as fast as shapefile in production settings, desktop and webgis
>
> 2)      Offer SQL support, spatial and otherwise, also through desktop tools like QGIS
>
> 3)      Allow editing while serving (even if for 1 editor only)
>
> 4)      Better support in QGIS than for shapefile (take advantage of Spatial SQL, all other functionality)
>
> 5)      Same for MapServer, GeoServer, gvSIG, et al.
>
> 6)      Allow easy managing of rasters inside the .db file, through QGIS
>
> 7)      ??more ideas/requests??
>
> Then it would be a very, very good contender... and the ball would be kicked to "the other side".
> And it seems we're already there for some of the listed features.
> Duarte
>
> Or even better, instead of waiting and complaining, we could just write a GeoDatabase OGR (ESRI) Workspace ourselves.
>
> There are already examples of working ones out there
>
> http://svn.obtusesoft.com/core/trunk/
>
> So instead of hoping and pleading for support, someone should just sit down and write it.
>
> I started one at one point (C++), got side tracked with other things. If anyone is interested in that source code, I would be happy to share that too.
>
> - Ragi
>

--
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From gis at vanbooth.com  Fri Jun 18 10:48:13 2010
From: gis at vanbooth.com (Rob)
Date: Fri Jun 18 10:48:17 2010
Subject: [gdal-dev] gdal_warp
In-Reply-To: <AANLkTikvY-p27JxlVLzyWDzQGpyS4e4ZOEjvJByJeMg3@mail.gmail.com>
References: <AANLkTimn52G_HlLvq2Vmq5fZGJgV1veWxWAt8TEKQ1Em@mail.gmail.com>
	<AANLkTikvY-p27JxlVLzyWDzQGpyS4e4ZOEjvJByJeMg3@mail.gmail.com>
Message-ID: <AANLkTilWJnQ-nzahBpfcPPY47ZImTym4G3lUbOm9lekm@mail.gmail.com>

Thanks for the replies so far, but I'm obviously missing a trick as it
doesnt seem to be working.

The gdalinfo on my TIF looks like this.

E:\rasters>gdalinfo tq00ne.tif
Driver: GTiff/GeoTIFF
Files: tq00ne.tif
       tq00ne.tfw
Size is 7874, 7874
Coordinate System is `'
Origin = (505000.000000000000000,110000.000000000000000)
Pixel Size = (0.635001270002540,-0.635001270002540)
Metadata:
  TIFFTAG_IMAGEDESCRIPTION=1:10000 TILE TQ00NE
  TIFFTAG_DATETIME=2008:07:14 23:22:37
  TIFFTAG_COPYRIGHT=ORDNANCE SURVEY CROWN COPYRIGHT 2008
  TIFFTAG_XRESOLUTION=400
  TIFFTAG_YRESOLUTION=400
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  505000.000,  110000.000)
Lower Left  (  505000.000,  105000.000)
Upper Right (  510000.000,  110000.000)
Lower Right (  510000.000,  105000.000)
Center      (  507500.000,  107500.000)
Band 1 Block=7874x8 Type=Byte, ColorInterp=Palette
  Image Structure Metadata:
    NBITS=4
  Color Table (RGB with 16 entries)
    0: 0,0,0,255
    1: 107,107,107,255
    2: 90,90,90,255
    3: 220,220,220,255
    4: 209,209,209,255
    5: 243,243,243,255
    6: 190,190,190,255
    7: 243,243,243,255
    8: 190,190,190,255
    9: 255,255,255,255
   10: 0,0,0,255
   11: 0,0,0,255
   12: 0,0,0,255
   13: 0,0,0,255
   14: 0,0,0,255
   15: 0,0,0,255


But whenever I try to do a gdalwarp with the using -dstalpha I get an error
message and an unsuable TIF file as output


E:\rasters>gdalwarp -of GTiff -s_srs "EPSG:27700" -t_srs "EPSG:4326" -co
"TFW=YES" -co "TILED=YES" -co "COMPRESS=LZW"  -dstalpha TQ00NE.TIF
TQwarpa.TIF
Copying color table from TQ00NE.TIF to new file.
Creating output file that is 9687P x 6132L.
ERROR 6: SetColorTable() not supported for multi-sample TIFF files.
Processing input file TQ00NE.TIF.
0...10...20...30...40...50...60...70...80...90...100 - done.


E:\rasters>gdalwarp -of GTiff -s_srs "EPSG:27700" -t_srs "EPSG:4326" -co
"TFW=YES" -co "TILED=YES" -co "COMPRESS=LZW" -dstnodata 12 -dstalpha
TQ00NE.TIF TQwarpa.TIF
Copying color table from TQ00NE.TIF to new file.
Creating output file that is 9687P x 6132L.
ERROR 6: SetColorTable() not supported for multi-sample TIFF files.
Processing input file TQ00NE.TIF.
0...10...20...30...40...50...60...70...80...90...100 - done.

Any more suggestions?

Thanks

Rob


On 18 June 2010 15:06, Chaitanya kumar CH <chaitanya.ch@gmail.com> wrote:

> Rob,
>
> You can try the -dstalpha option in gdalwarp to create an alpha band. (
> http://www.gdal.org/gdalwarp.html)
>
> On Fri, Jun 18, 2010 at 7:22 PM, Rob <gis@vanbooth.com> wrote:
>
>> Hi Guys
>>
>> I'm reprojecting some rasters from OSGB (EPSG:27700) to WGS84 (EPSG:4326)
>> and am running into a problem.
>>
>> The rasters are reprojecting nicely, but I am left with black pixels
>> around the image where the reprojected image doesnt fit squarely within the
>> rectangular dimensions of the file.
>>
>> I posted about this issue a few weeks ago, and then realised that I should
>> be marking that colour as transparent when rendering using GeoServer, and
>> ho! everything was OK.
>>
>> However, I am now reprojecting some greyscale rasters, and by making the
>> black pixels on the outside transparent, I am losing the black details of
>> the raster image that I want to display!
>>
>> Is there a way of selecting the colour that gdal uses to populate these
>> dead pixels around the side?
>>
>> MTIA
>>
>> Rob
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/6c49232a/attachment-0001.html
From ragi at burhum.com  Fri Jun 18 11:20:24 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Fri Jun 18 11:20:27 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF5E85F26876@beja012.edia.pt>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26876@beja012.edia.pt>
Message-ID: <AANLkTimujfhB-qfPG0QprUGR6uGir_wz_TbKbPlO0xCw@mail.gmail.com>

This is exactly what I have been talking about.

On Fri, Jun 18, 2010 at 5:37 AM, Duarte Carreira <DCarreira@edia.pt> wrote:

>  Re-reading your email it seems I misunderstood what you meant? So using
> the zigGIS ArcMap/PostGIS provider one could adapt it to read OGR
> datasources, like QGIS does. You would then access SpatiaLite and
> potentially all other OGR formats from ArcMap. Good idea.
>
>
>
> Duarte
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/6b3b56c7/attachment.html
From ragi at burhum.com  Fri Jun 18 11:23:43 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Fri Jun 18 11:23:46 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF5E85F2688B@beja012.edia.pt>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
	<4C1B794D.3030308@york.ac.uk>
	<58C383B0A191E747BE79503F3EEA22BF5E85F2688B@beja012.edia.pt>
Message-ID: <AANLkTikhSst-ncM7ub5pPqNYkknYXn-6h7QTrIAxJnlD@mail.gmail.com>

Right. And you have to fork another $3000 (or $1500?) **per seat** for one
of these licenses **on top** of what you already paid for ArcGIS desktop.

On Fri, Jun 18, 2010 at 6:16 AM, Duarte Carreira <DCarreira@edia.pt> wrote:

> Just a quick note: SQLite is supported through the FME add-on aka
> Interoperability Extension to ArcMap.
>
> Duarte
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/ba3c56af/attachment.html
From ragi at burhum.com  Fri Jun 18 11:31:25 2010
From: ragi at burhum.com (Ragi Burhum)
Date: Fri Jun 18 11:31:27 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <4C1B794D.3030308@york.ac.uk>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
	<4C1B794D.3030308@york.ac.uk>
Message-ID: <AANLkTin4uhDDZkbC0W7V4UnlWzl5lYpfsyTYAX7iXRin@mail.gmail.com>

This is meant to be an export/import type of thing. So you won't be able to
"open" something in ArcMap and start manipulating it live using the
ArcMap/ArcCatalog tools. The other approach I am proposing would be OGR as a
seamless datasource that integrates with ArcGIS at the data access layer
level. It would be transparent to the other tools.

- Ragi

On Fri, Jun 18, 2010 at 5:49 AM, Peter J Halls <P.Halls@york.ac.uk> wrote:

> And ... I think I may have found the file geodatabase documentation
> promised ...  in the  online ArecGIS 10 documentation, Administrator
> Library, Architecture of a geodatabase, Geodatabase XML.  It would appear
> that, in addition to the XML Schema they published several years ago, the
> XML documentation has been augmented with a view to interoperability being
> achieved at the XML level.  So, maybe no, they have not published the binary
> structure but they may have published enough to enable XML exchange.  I've
> not read all the material - and I would need to think about much of it
> before I understood it.  Whether there is enough there I cannot say ...  I
> was looking at
> http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html
>
> Best wishes,
>
> Peter
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/35b19c8a/attachment.html
From DCarreira at edia.pt  Fri Jun 18 11:44:00 2010
From: DCarreira at edia.pt (Duarte Carreira)
Date: Fri Jun 18 12:34:38 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <AANLkTin4uhDDZkbC0W7V4UnlWzl5lYpfsyTYAX7iXRin@mail.gmail.com>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
	<4C1B794D.3030308@york.ac.uk>
	<AANLkTin4uhDDZkbC0W7V4UnlWzl5lYpfsyTYAX7iXRin@mail.gmail.com>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF5E85F268A4@beja012.edia.pt>

Well, I'm sold. What you need to do it??

Duarte

De: Ragi Burhum [mailto:ragi@burhum.com]
Enviada: sexta-feira, 18 de Junho de 2010 16:31
Para: Peter J Halls
Cc: Duarte Carreira; gdal-dev@lists.osgeo.org; Eric Wolf; Matt Wilkie
Assunto: Re: [gdal-dev] Re: ESRI file geodatabase support

This is meant to be an export/import type of thing. So you won't be able to "open" something in ArcMap and start manipulating it live using the ArcMap/ArcCatalog tools. The other approach I am proposing would be OGR as a seamless datasource that integrates with ArcGIS at the data access layer level. It would be transparent to the other tools.

- Ragi
On Fri, Jun 18, 2010 at 5:49 AM, Peter J Halls <P.Halls@york.ac.uk<mailto:P.Halls@york.ac.uk>> wrote:
And ... I think I may have found the file geodatabase documentation promised ...  in the  online ArecGIS 10 documentation, Administrator Library, Architecture of a geodatabase, Geodatabase XML.  It would appear that, in addition to the XML Schema they published several years ago, the XML documentation has been augmented with a view to interoperability being achieved at the XML level.  So, maybe no, they have not published the binary structure but they may have published enough to enable XML exchange.  I've not read all the material - and I would need to think about much of it before I understood it.  Whether there is enough there I cannot say ...  I was looking at
http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html
Best wishes,

Peter

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100618/06aa265c/attachment.html
From alexander.bruy at gmail.com  Fri Jun 18 13:20:22 2010
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Fri Jun 18 13:22:33 2010
Subject: [gdal-dev] Problem with pixel/line coordinates
In-Reply-To: <AANLkTimJtzJZMy5WKyLn31Uks4Q4reYCbyDpItZlcFe4@mail.gmail.com>
References: <20100617204006.d99c5e79.alexander.bruy@gmail.com>
	<AANLkTimJtzJZMy5WKyLn31Uks4Q4reYCbyDpItZlcFe4@mail.gmail.com>
Message-ID: <20100618202022.1b1e02d9.alexander.bruy@gmail.com>

Thanks for your explanation, Frank! Now it works fine

On Thu, 17 Jun 2010 13:59:46 -0400
Frank Warmerdam <warmerdam@pobox.com> wrote:

> Alexander,
> 
> I believe the addition of 0.5 in the above is incorrect.  In the
> simple, non-rotated case, all values from geoTransform[0]
> to geoTransform[0] + geoTransform[1] would be on the 1st
> pixel (ie. pX = 0).  As you have coded it, when you are half
> way across the pixel you are switching into the next one.
> 
> Keep in mind that (geoTransform[0],geoTransform[3])
> is the top left corner of the top left pixel - not the center.
> 
> > def pixelToMap( pX, pY, geoTransform ):
> > ?mX, mY = applyGeoTransform( pX, pY, geoTransform )
> > ?return mX, mY
> 
> Conversely, here if pX and pY are coming in as integer
> rather than floating point values, then you will likely want
> to add half a pixel before transforming so that you get
> the geoeferenced location of the center of the pixel rather
> than the upper left corner.


-- 
Alexander Bruy
From mankoff at gmail.com  Fri Jun 18 15:42:28 2010
From: mankoff at gmail.com (Ken Mankoff)
Date: Fri Jun 18 15:42:34 2010
Subject: [gdal-dev] gdal on OS X
Message-ID: <alpine.OSX.2.00.1006181228180.98249@tbetbambyn.ybpny>

Hi List,

I'm trying to get gdal working on OS X 10.6. I'm have tried a 
variety of ways with varying success.

I installed GDAL 1.7 Complete from 
http://www.kyngchaos.com/software:frameworks

If I go to /Library/Frameworks/GDAL.framework/unix/bin I can seem to 
run the unix binaries. For example, "./gdal_info" provides usage 
instructions. I cannot run the Python programs. If I launch my 
Python and type "from osgeo import gdal" it doesn't work because I 
run the EPD Python not the OS X default. That command *does* work, 
and the Python binaries do run (or at least print usage info) if I 
comment out the EPD section in my .bash_profile and run using the 
system Python.

Any ideas how to run GDAL with EPD?

My second attempt was to build gdal from source.

export MACOSX_DEPLOYMENT_TARGET=10.5
export ARCHFLAGS="-arch i386"

./configure --prefix=/Users/mankoff/local/gdal-1.7.2 
--with-macosx-framework --with-python CFLAGS=-m32 CPPFLAGS=-m32 
CXXFLAGS=-m32

make

The make command crashes with


/bin/sh /Users/mankoff/local/src/gdal-1.7.2/libtool --mode=link	g++ 
gdalinfo.lo  /Users/mankoff/local/src/gdal-1.7.2/libgdal.la -o 
gdalinfo
libtool: link: g++ .libs/gdalinfo.o -o .libs/gdalinfo 
/Users/mankoff/local/src/gdal-1.7.2/.libs/libgdal.dylib -L/usr/lib 
-lsqlite3 -lexpat -lz -ldl -lcurl
ld: warning: in .libs/gdalinfo.o, file was built for i386 which is 
not the architecture being linked (x86_64)
ld: warning: in 
/Users/mankoff/local/src/gdal-1.7.2/.libs/libgdal.dylib, file was 
built for i386 which is not the architecture being linked (x86_64)
Undefined symbols:
   "_main", referenced from:
       start in crt1.10.5.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
make[1]: *** [gdalinfo] Error 1
make: *** [apps-target] Error 2


Clearly a 32/64 bit issue. I think I'm missing some simple link flag 
to tell it what architecture I'm aiming for. Does anyone know what 
it is?


I'd love to type "fink install gdal" but for some reason it depends 
on and also installs qt, python, etc. There seem to be an awful lot 
of dependencies that the raw source compilation doesn't use.

Thanks for any help you can provide,

    -k.

From woklist at kyngchaos.com  Fri Jun 18 18:33:54 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Fri Jun 18 18:33:58 2010
Subject: [gdal-dev] gdal on OS X
In-Reply-To: <alpine.OSX.2.00.1006181228180.98249@tbetbambyn.ybpny>
References: <alpine.OSX.2.00.1006181228180.98249@tbetbambyn.ybpny>
Message-ID: <953C6E35-97AA-4424-A01B-17E1347EE9FA@kyngchaos.com>

On Jun 18, 2010, at 2:42 PM, Ken Mankoff wrote:

> Hi List,
> 
> I'm trying to get gdal working on OS X 10.6. I'm have tried a variety of ways with varying success.
> 
> I installed GDAL 1.7 Complete from http://www.kyngchaos.com/software:frameworks
> 
> If I go to /Library/Frameworks/GDAL.framework/unix/bin I can seem to run the unix binaries. For example, "./gdal_info" provides usage instructions. I cannot run the Python programs. If I launch my Python and type "from osgeo import gdal" it doesn't work because I run the EPD Python not the OS X default. That command *does* work, and the Python binaries do run (or at least print usage info) if I comment out the EPD section in my .bash_profile and run using the system Python.
> 
> Any ideas how to run GDAL with EPD?
> 
If the EPD Python you have installed is the same major version as the system (2.6), this should work: try copying the gdal path file from /Library/Python/2.6/site-packages/gdal.pth to the user site-packages folder of the EPD python.

My GDAL python binaries are built for Python 2.6, and may (probably?) not work on Python 2.5 or 2.7.  Definitely (?) not Python 3.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

[Trillian]  What are you supposed to do WITH a maniacally depressed robot?

[Marvin]  You think you have problems?  What are you supposed to do if you ARE a maniacally depressed robot?  No, don't try and answer, I'm 50,000 times more intelligent than you and even I don't know the answer...

- HitchHiker's Guide to the Galaxy


From mankoff at gmail.com  Sat Jun 19 00:33:34 2010
From: mankoff at gmail.com (Ken Mankoff)
Date: Sat Jun 19 00:33:53 2010
Subject: [gdal-dev] gdal on OS X
In-Reply-To: <953C6E35-97AA-4424-A01B-17E1347EE9FA@kyngchaos.com>
References: <alpine.OSX.2.00.1006181228180.98249@tbetbambyn.ybpny>
	<953C6E35-97AA-4424-A01B-17E1347EE9FA@kyngchaos.com>
Message-ID: <alpine.OSX.2.00.1006182133010.330@tbetbambyn>

On Fri, 18 Jun 2010, William Kyngesburye wrote:

> On Jun 18, 2010, at 2:42 PM, Ken Mankoff wrote:
>
>> Hi List,
>>
>> I'm trying to get gdal working on OS X 10.6. I'm have tried a 
>> variety of ways with varying success.
>>
>> I installed GDAL 1.7 Complete from 
>> http://www.kyngchaos.com/software:frameworks
>>
>> If I go to /Library/Frameworks/GDAL.framework/unix/bin I can seem 
>> to run the unix binaries. For example, "./gdal_info" provides 
>> usage instructions. I cannot run the Python programs. If I launch 
>> my Python and type "from osgeo import gdal" it doesn't work 
>> because I run the EPD Python not the OS X default. That command 
>> *does* work, and the Python binaries do run (or at least print 
>> usage info) if I comment out the EPD section in my .bash_profile 
>> and run using the system Python.
>>
>> Any ideas how to run GDAL with EPD?
>>
> If the EPD Python you have installed is the same major version as 
> the system (2.6), this should work: try copying the gdal path file 
> from /Library/Python/2.6/site-packages/gdal.pth to the user 
> site-packages folder of the EPD python.
>
> My GDAL python binaries are built for Python 2.6, and may 
> (probably?) not work on Python 2.5 or 2.7.  Definitely (?) not 
> Python 3.
>

Yup, this works for me:

cp /Library/Python/2.6/site-packages/gdal.pth 
/Library/Frameworks/Python.framework/Versions/Current/lib/python2.6/site-packages/

Thanks,

   -k.

From Chris.Barker at noaa.gov  Sat Jun 19 17:45:24 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Sat Jun 19 17:45:27 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <AANLkTikmSGg0j-TOFuA-8mcQwOV6S_B5exjOLToboyZj@mail.gmail.com>
References: <4C1A7452.1020408@noaa.gov>
	<AANLkTikmSGg0j-TOFuA-8mcQwOV6S_B5exjOLToboyZj@mail.gmail.com>
Message-ID: <4C1D3A74.8040707@noaa.gov>

Thanks to Michael, Joaquim, Ivan, and Jason.

I'll explore some of the tools and suggestions you made.

Michael Sumner wrote:
> NetCDF will tend to store dimensions in
> reverse order to the natural one, and I think GDAL reverses that - but
> you can tell by the dimension and number of your bands, and the named
> metadata on the GDAL bands.

yup -- I figured that out - it got better when we re-ordered to (t, z, 
y, x).

> NetCDF cannot store multi-attribute arrays (it will store several
> same-size, same-metadata arrays for that purpose),

Actually, I think it can -- though maybe that's only for netcdf4 (based 
on hdf5), but the conventions don't suggest you do that -- particularly 
if different attributes are different data types.

> Manifold reads in multiple rasters

> Eonfusion will do its best to read the array in its natural state

> R can read NetCDF natively or with GDAL (RNetCDF, ncdf, rgdal

We're not really looking for other tools at this point -- we are doing 
visualization with IDV, which handles 4-d data in netcdf just fine. This 
part is all about getting this data into Arc.

I may deal with it by figuring out what we really need to do in Arc, and 
just exporting that part of the data -- we're writing these files with 
Python anyway, so doing some pre-processing there won't be a big deal.

Joaquim Luis wrote:
> Don't know if this is what you are looking for but if those netCDF files 
> are of a similar type that one can get from the poet site 
> (http://poet.jpl.nasa.gov/), Mirone has a tool called "Aquamoto" (a tool 
> original developed to show time stamps of a tsunami propagation models) 
> that loads those files and show their content interactively with the 
> help of a slider.

Not much help for this, but it's a cool tool, thanks for the link.

Jason Roberts wrote:
> I have some experience trying to get ArcGIS to work well with time series
> satellite imagery and 4D ocean models (e.g. HYCOM, ROMS).

Exactly our situation, here.

> I am part of a working group initiated
> by ESRI and led by an ESRI program manager (Nawajish Noman) that is trying,
> in essence, to get the community of users who use both ArcGIS and netCDF to
> develop some Python geoprocessing tools for ArcGIS that provide more
> functionality than out-of-box tools already in ArcGIS.

cool -- do you have contact information for that project? Is there code 
anywhere we can get at it?

> 1. The Make NetCDF Raster Layer tool can represent 3D netCDF variables as
> multiband raster layers.

We'll give this a try. It may be what our GIS person is using already, 
but I got a bit confused by the "Dimension Values parameter". We'll poke 
at it some more.

> The trick is your netCDF has to meet a bunch
> of constraints for ArcGIS to recognize it. It has to have square cells.

bingo -- that was one of our key problems -- wait -- they have to be 
"square" -- rectangular won't do? arrgg!

Anyway, the way we have it now the cells ar rectangular in meters, but 
we un-projectee them to lat-long, so they are no longer simle 
rectangular -- I think I may change this an output in meters, with the 
projection info. But if it has to be square, we're kind of dea in the 
water...

> It
> has adhere to the CF or COARDS conventions (I forget which versions)

that we do have.

> 2. Under contract to NOAA, Applied Science Associates built a couple of
> tools that might be useful: the Environmental Data Connector (EDC) and
> TimeSlider Extension. Download from
> http://www.asascience.com/software/downloads/index.shtml, see other parts of
> the website for more info. EDC was built to download multidimensional
> OPeNDAP datasets into multiband rasters.

Hmm -- did know about those tools, but didn't realize that EDC was 
OPenDAP based -- nice to know.

> TimeSlider is a UI extension to
> help with playback of time-series data.

That too -- by the way, I'm pretty sure the Coast Guard funded a bunhc 
of that, for their Search and Rescue tools.

> I think they can both work with
> netCDFs directly, not just OPeNDAP.

That I didn't know -- we'll try that out.

> 3. If you don't want to use netCDFs, you can fake multidimensionality for
> some scenarios by building a raster catalog with columns for the time and
> depth.

I have no idea how to do that -- can GDAL build a raster catalog?

> 4. My group, the Duke University Marine Geospatial Ecology Lab, is currently
> building 3D and 4D awareness into a collection of tools we publish, Marine
> Geospatial Ecology Tools (MGET, see
> http://code.nicholas.duke.edu/projects/mget), built in Python on GDAL and
> other FOSS packages.

Very cool. I'll keep an eye on that.

Thanks for everyone's help,

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From j.donovan at virtalis.com  Mon Jun 21 06:54:56 2010
From: j.donovan at virtalis.com (John Donovan)
Date: Mon Jun 21 06:55:00 2010
Subject: [gdal-dev] gdal_warp
References: <AANLkTimn52G_HlLvq2Vmq5fZGJgV1veWxWAt8TEKQ1Em@mail.gmail.com><AANLkTikvY-p27JxlVLzyWDzQGpyS4e4ZOEjvJByJeMg3@mail.gmail.com>
	<AANLkTilWJnQ-nzahBpfcPPY47ZImTym4G3lUbOm9lekm@mail.gmail.com>
Message-ID: <C8891C79DFCAB347B9221DF3890EDD2F5E0513@topdog.Virtalis.local>

I've got a slightly older version of the data you're using (OS 10k B&W,
but with 2 bits per pixel rather than four), and I've used a two-stage
process to achieve what you want.
 
First, I used gdal_translate to expand the image to 8-bit greyscale:
gdal_translate -co "TFW=YES" -co "TILED=YES" -expand gray TQ00NE.TIF
out1.tif
 
Then warped and compressed it with gdalwarp:
gdalwarp -s_srs "EPSG:27700" -t_srs "EPSG:4326" -co "TFW=YES" -co
"TILED=YES" -co "NBITS=2" -co "COMPRESS=LZW" -dstnodata 3 out1.tif
out2.tif
 
This gives me:
Driver: GTiff/GeoTIFF
Files: out2.tif
       out2.tfw
Size is 9687, 6132
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (-0.510285477808487,50.879964362399022)
Pixel Size = (0.000007481610932,-0.000007481610932)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  -0.5102855,  50.8799644) (  0d30'37.03"W, 50d52'47.87"N)
Lower Left  (  -0.5102855,  50.8340871) (  0d30'37.03"W, 50d50'2.71"N)
Upper Right (  -0.4378111,  50.8799644) (  0d26'16.12"W, 50d52'47.87"N)
Lower Right (  -0.4378111,  50.8340871) (  0d26'16.12"W, 50d50'2.71"N)
Center      (  -0.4740483,  50.8570257) (  0d28'26.57"W, 50d51'25.29"N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Gray
  NoData Value=3
  Image Structure Metadata:
    NBITS=2

An issue you may have is that because you're reprojecting a map, text
gets squashed a bit, and stipple patterns look a bit rough, but it's
certainly usable, and creates a file that is (in this case) less than
100k larger than the original. Different compression algorithms may
yield smaller files, as will changing the tile size possibly.

-JD

______________________________________________________________________
This email has been scanned for Virtalis Ltd by the MessageLabs Email Security System. ______________________________________________________________________
From jason.roberts at duke.edu  Mon Jun 21 11:17:19 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Mon Jun 21 11:17:23 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <4C1D3A74.8040707@noaa.gov>
References: <4C1A7452.1020408@noaa.gov>
	<AANLkTikmSGg0j-TOFuA-8mcQwOV6S_B5exjOLToboyZj@mail.gmail.com>
	<4C1D3A74.8040707@noaa.gov>
Message-ID: <003001cb1154$d7a52300$86ef6900$@roberts@duke.edu>

> > The trick is your netCDF has to meet a bunch
> > of constraints for ArcGIS to recognize it. It has to have square cells.
>
> bingo -- that was one of our key problems -- wait -- they have to be 
> "square" -- rectangular won't do? arrgg!

Oops, I'm pretty sure you're right, they can be rectangular so long as the increment is constant. I recall working with some climate model output that was rectangular with a constant increment (2 deg latitude, 3 deg longitude). I checked the documentation and it confirms this.

The limitation is that it cannot work with rectangular cells that have an irregular increment (what MATLAB calls "plaid", I think), or work with non-rectangular cells.

Jason


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christopher Barker
Sent: Saturday, June 19, 2010 5:45 PM
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] How to represent multi-dimensional array

Thanks to Michael, Joaquim, Ivan, and Jason.

I'll explore some of the tools and suggestions you made.

Michael Sumner wrote:
> NetCDF will tend to store dimensions in
> reverse order to the natural one, and I think GDAL reverses that - but
> you can tell by the dimension and number of your bands, and the named
> metadata on the GDAL bands.

yup -- I figured that out - it got better when we re-ordered to (t, z, 
y, x).

> NetCDF cannot store multi-attribute arrays (it will store several
> same-size, same-metadata arrays for that purpose),

Actually, I think it can -- though maybe that's only for netcdf4 (based 
on hdf5), but the conventions don't suggest you do that -- particularly 
if different attributes are different data types.

> Manifold reads in multiple rasters

> Eonfusion will do its best to read the array in its natural state

> R can read NetCDF natively or with GDAL (RNetCDF, ncdf, rgdal

We're not really looking for other tools at this point -- we are doing 
visualization with IDV, which handles 4-d data in netcdf just fine. This 
part is all about getting this data into Arc.

I may deal with it by figuring out what we really need to do in Arc, and 
just exporting that part of the data -- we're writing these files with 
Python anyway, so doing some pre-processing there won't be a big deal.

Joaquim Luis wrote:
> Don't know if this is what you are looking for but if those netCDF files 
> are of a similar type that one can get from the poet site 
> (http://poet.jpl.nasa.gov/), Mirone has a tool called "Aquamoto" (a tool 
> original developed to show time stamps of a tsunami propagation models) 
> that loads those files and show their content interactively with the 
> help of a slider.

Not much help for this, but it's a cool tool, thanks for the link.

Jason Roberts wrote:
> I have some experience trying to get ArcGIS to work well with time series
> satellite imagery and 4D ocean models (e.g. HYCOM, ROMS).

Exactly our situation, here.

> I am part of a working group initiated
> by ESRI and led by an ESRI program manager (Nawajish Noman) that is trying,
> in essence, to get the community of users who use both ArcGIS and netCDF to
> develop some Python geoprocessing tools for ArcGIS that provide more
> functionality than out-of-box tools already in ArcGIS.

cool -- do you have contact information for that project? Is there code 
anywhere we can get at it?

> 1. The Make NetCDF Raster Layer tool can represent 3D netCDF variables as
> multiband raster layers.

We'll give this a try. It may be what our GIS person is using already, 
but I got a bit confused by the "Dimension Values parameter". We'll poke 
at it some more.

> The trick is your netCDF has to meet a bunch
> of constraints for ArcGIS to recognize it. It has to have square cells.

bingo -- that was one of our key problems -- wait -- they have to be 
"square" -- rectangular won't do? arrgg!

Anyway, the way we have it now the cells ar rectangular in meters, but 
we un-projectee them to lat-long, so they are no longer simle 
rectangular -- I think I may change this an output in meters, with the 
projection info. But if it has to be square, we're kind of dea in the 
water...

> It
> has adhere to the CF or COARDS conventions (I forget which versions)

that we do have.

> 2. Under contract to NOAA, Applied Science Associates built a couple of
> tools that might be useful: the Environmental Data Connector (EDC) and
> TimeSlider Extension. Download from
> http://www.asascience.com/software/downloads/index.shtml, see other parts of
> the website for more info. EDC was built to download multidimensional
> OPeNDAP datasets into multiband rasters.

Hmm -- did know about those tools, but didn't realize that EDC was 
OPenDAP based -- nice to know.

> TimeSlider is a UI extension to
> help with playback of time-series data.

That too -- by the way, I'm pretty sure the Coast Guard funded a bunhc 
of that, for their Search and Rescue tools.

> I think they can both work with
> netCDFs directly, not just OPeNDAP.

That I didn't know -- we'll try that out.

> 3. If you don't want to use netCDFs, you can fake multidimensionality for
> some scenarios by building a raster catalog with columns for the time and
> depth.

I have no idea how to do that -- can GDAL build a raster catalog?

> 4. My group, the Duke University Marine Geospatial Ecology Lab, is currently
> building 3D and 4D awareness into a collection of tools we publish, Marine
> Geospatial Ecology Tools (MGET, see
> http://code.nicholas.duke.edu/projects/mget), built in Python on GDAL and
> other FOSS packages.

Very cool. I'll keep an eye on that.

Thanks for everyone's help,

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Chris.Barker at noaa.gov  Mon Jun 21 14:45:44 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon Jun 21 14:45:46 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <003001cb1154$d7a52300$86ef6900$%roberts@duke.edu>
References: <4C1A7452.1020408@noaa.gov>
	<AANLkTikmSGg0j-TOFuA-8mcQwOV6S_B5exjOLToboyZj@mail.gmail.com>
	<4C1D3A74.8040707@noaa.gov>
	<003001cb1154$d7a52300$86ef6900$%roberts@duke.edu>
Message-ID: <4C1FB358.6020705@noaa.gov>

Jason Roberts wrote:
>>> The trick is your netCDF has to meet a bunch
>>> of constraints for ArcGIS to recognize it. It has to have square cells.
>> bingo -- that was one of our key problems -- wait -- they have to be 
>> "square" -- rectangular won't do? arrgg!
> 
> Oops, I'm pretty sure you're right, they can be rectangular so long
> as the increment is constant. I recall working with some climate model
> output that was rectangular with a constant increment (2 deg latitude, 3
> deg longitude). I checked the documentation and it confirms this.

That's better, and makes sense -- other raster data works that way.

> The limitation is that it cannot work with rectangular cells that
> have  an irregular increment

which indeed is what we were trying to do. Actually, the cells were 
rectangular in projected coordinates (where we did the computation), but 
weren't in lat-long, which is what we were exporting. So I should be 
able to fix that.

-thanks,
  -Chris

> Jason
> 
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christopher Barker
> Sent: Saturday, June 19, 2010 5:45 PM
> To: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] How to represent multi-dimensional array
> 
> Thanks to Michael, Joaquim, Ivan, and Jason.
> 
> I'll explore some of the tools and suggestions you made.
> 
> Michael Sumner wrote:
>> NetCDF will tend to store dimensions in
>> reverse order to the natural one, and I think GDAL reverses that - but
>> you can tell by the dimension and number of your bands, and the named
>> metadata on the GDAL bands.
> 
> yup -- I figured that out - it got better when we re-ordered to (t, z, 
> y, x).
> 
>> NetCDF cannot store multi-attribute arrays (it will store several
>> same-size, same-metadata arrays for that purpose),
> 
> Actually, I think it can -- though maybe that's only for netcdf4 (based 
> on hdf5), but the conventions don't suggest you do that -- particularly 
> if different attributes are different data types.
> 
>> Manifold reads in multiple rasters
> 
>> Eonfusion will do its best to read the array in its natural state
> 
>> R can read NetCDF natively or with GDAL (RNetCDF, ncdf, rgdal
> 
> We're not really looking for other tools at this point -- we are doing 
> visualization with IDV, which handles 4-d data in netcdf just fine. This 
> part is all about getting this data into Arc.
> 
> I may deal with it by figuring out what we really need to do in Arc, and 
> just exporting that part of the data -- we're writing these files with 
> Python anyway, so doing some pre-processing there won't be a big deal.
> 
> Joaquim Luis wrote:
>> Don't know if this is what you are looking for but if those netCDF files 
>> are of a similar type that one can get from the poet site 
>> (http://poet.jpl.nasa.gov/), Mirone has a tool called "Aquamoto" (a tool 
>> original developed to show time stamps of a tsunami propagation models) 
>> that loads those files and show their content interactively with the 
>> help of a slider.
> 
> Not much help for this, but it's a cool tool, thanks for the link.
> 
> Jason Roberts wrote:
>> I have some experience trying to get ArcGIS to work well with time series
>> satellite imagery and 4D ocean models (e.g. HYCOM, ROMS).
> 
> Exactly our situation, here.
> 
>> I am part of a working group initiated
>> by ESRI and led by an ESRI program manager (Nawajish Noman) that is trying,
>> in essence, to get the community of users who use both ArcGIS and netCDF to
>> develop some Python geoprocessing tools for ArcGIS that provide more
>> functionality than out-of-box tools already in ArcGIS.
> 
> cool -- do you have contact information for that project? Is there code 
> anywhere we can get at it?
> 
>> 1. The Make NetCDF Raster Layer tool can represent 3D netCDF variables as
>> multiband raster layers.
> 
> We'll give this a try. It may be what our GIS person is using already, 
> but I got a bit confused by the "Dimension Values parameter". We'll poke 
> at it some more.
> 
>> The trick is your netCDF has to meet a bunch
>> of constraints for ArcGIS to recognize it. It has to have square cells.
> 
> bingo -- that was one of our key problems -- wait -- they have to be 
> "square" -- rectangular won't do? arrgg!
> 
> Anyway, the way we have it now the cells ar rectangular in meters, but 
> we un-projectee them to lat-long, so they are no longer simle 
> rectangular -- I think I may change this an output in meters, with the 
> projection info. But if it has to be square, we're kind of dea in the 
> water...
> 
>> It
>> has adhere to the CF or COARDS conventions (I forget which versions)
> 
> that we do have.
> 
>> 2. Under contract to NOAA, Applied Science Associates built a couple of
>> tools that might be useful: the Environmental Data Connector (EDC) and
>> TimeSlider Extension. Download from
>> http://www.asascience.com/software/downloads/index.shtml, see other parts of
>> the website for more info. EDC was built to download multidimensional
>> OPeNDAP datasets into multiband rasters.
> 
> Hmm -- did know about those tools, but didn't realize that EDC was 
> OPenDAP based -- nice to know.
> 
>> TimeSlider is a UI extension to
>> help with playback of time-series data.
> 
> That too -- by the way, I'm pretty sure the Coast Guard funded a bunhc 
> of that, for their Search and Rescue tools.
> 
>> I think they can both work with
>> netCDFs directly, not just OPeNDAP.
> 
> That I didn't know -- we'll try that out.
> 
>> 3. If you don't want to use netCDFs, you can fake multidimensionality for
>> some scenarios by building a raster catalog with columns for the time and
>> depth.
> 
> I have no idea how to do that -- can GDAL build a raster catalog?
> 
>> 4. My group, the Duke University Marine Geospatial Ecology Lab, is currently
>> building 3D and 4D awareness into a collection of tools we publish, Marine
>> Geospatial Ecology Tools (MGET, see
>> http://code.nicholas.duke.edu/projects/mget), built in Python on GDAL and
>> other FOSS packages.
> 
> Very cool. I'll keep an eye on that.
> 
> Thanks for everyone's help,
> 
> -Chris
> 
> 
> 


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From chris.bailey at gtri.gatech.edu  Mon Jun 21 16:52:17 2010
From: chris.bailey at gtri.gatech.edu (Chris Bailey)
Date: Mon Jun 21 16:52:18 2010
Subject: [gdal-dev] Use of "LIKE" in OGR layer attribute filters
Message-ID: <1277153537780-5206188.post@n2.nabble.com>


We are using OGRLayer SetAttributeFilter to implement some search
capabilities.  One feature that we want to allow is using the SQL "Like"
operand in the where clause to allow wildcard searches or searches on
partial fields.  

The documentation says that "Like" is not supported but it appears to work
on memory data sources and data sources implemented with Database backends
(like PostGIS).  Is there any way to determine which drivers support the SQL
Like statement as an attribute filter?

I believe the other way we could achieve the same functionality would be to
use the ExecuteSQL command on the data source, do all drivers support the
"standard" SQL syntax including Like?

Chris Bailey
Georgia Tech Research Institute
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Use-of-LIKE-in-OGR-layer-attribute-filters-tp5206188p5206188.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Mon Jun 21 17:02:43 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun 21 17:02:46 2010
Subject: [gdal-dev] Use of "LIKE" in OGR layer attribute filters
In-Reply-To: <1277153537780-5206188.post@n2.nabble.com>
References: <1277153537780-5206188.post@n2.nabble.com>
Message-ID: <AANLkTilAXmacofd5ylT7BYhsrLgLZZmfmtEedc9duNkB@mail.gmail.com>

On Mon, Jun 21, 2010 at 4:52 PM, Chris Bailey
<chris.bailey@gtri.gatech.edu> wrote:
>
> We are using OGRLayer SetAttributeFilter to implement some search
> capabilities. ?One feature that we want to allow is using the SQL "Like"
> operand in the where clause to allow wildcard searches or searches on
> partial fields.
>
> The documentation says that "Like" is not supported but it appears to work
> on memory data sources and data sources implemented with Database backends
> (like PostGIS). ?Is there any way to determine which drivers support the SQL
> Like statement as an attribute filter?
>
> I believe the other way we could achieve the same functionality would be to
> use the ExecuteSQL command on the data source, do all drivers support the
> "standard" SQL syntax including Like?

Chris,

It appears that LIKE is supported in the general OGR SQL
implementation.  If you can be specified about what docs
say otherwise, I can correct them.

So, I think you will find that all the non-RDBMS datasources
have the same level of LIKE support as the MEM driver.
Presumably the RDBMS drivers are passing the request
through to the RDBMS and to the extent that it complies
with the SQL standard the LIKE operator will work.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From chris.bailey at gtri.gatech.edu  Mon Jun 21 17:12:41 2010
From: chris.bailey at gtri.gatech.edu (Chris Bailey)
Date: Mon Jun 21 17:12:43 2010
Subject: [gdal-dev] Re: Use of "LIKE" in OGR layer attribute filters
In-Reply-To: <AANLkTilAXmacofd5ylT7BYhsrLgLZZmfmtEedc9duNkB@mail.gmail.com>
References: <1277153537780-5206188.post@n2.nabble.com>
	<AANLkTilAXmacofd5ylT7BYhsrLgLZZmfmtEedc9duNkB@mail.gmail.com>
Message-ID: <1277154761403-5206264.post@n2.nabble.com>


This is the documentation I was referring to:

http://www.gdal.org/ogr/classOGRLayer.html#cb2c6cc5fa3577df5be538284c1b0dde

Set a new attribute query.

This method sets the attribute query string to be used when fetching
features via the GetNextFeature() method. Only features for which the query
evaluates as true will be returned.

The query string should be in the format of an SQL WHERE clause. For
instance "population > 1000000 and population < 5000000" where population is
an attribute in the layer. The query format is a restricted form of SQL
WHERE clause as defined "eq_format=restricted_where" about half way through
this document:

http://ogdi.sourceforge.net/prop/6.2.CapabilitiesMetadata.html



-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Use-of-LIKE-in-OGR-layer-attribute-filters-tp5206188p5206264.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From discoursemap at live.com  Mon Jun 21 17:36:54 2010
From: discoursemap at live.com (Discourse Maps)
Date: Mon Jun 21 17:37:57 2010
Subject: [gdal-dev] Raster to array,
 then array to Raster (while preserving projection info)
Message-ID: <SNT130-w32CAC3D7DF51D0CE117524BCC30@phx.gbl>


I am using "convertRastertoArray" (modifying the array) and then using "convertArraytoRaster".

 

The problem is that when I convert back to raster, the projection information is lost.

The projection of my input is: WGS 84, UTM 17N. (EPSG = 32617)

 

Can someone provide some code as to the cleanest way to grab the projection (wkt) during the raster to array conversion so that I can read projection info in when I convert back?

 

Thanks.
 		 	   		  
_________________________________________________________________
Hotmail has tools for the New Busy. Search, chat and e-mail from your inbox.
http://www.windowslive.com/campaign/thenewbusy?ocid=PID28326::T:WLMTAGL:ON:WL:en-US:WM_HMP:042010_1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100621/259de4b9/attachment.html
From mdsumner at gmail.com  Mon Jun 21 19:04:50 2010
From: mdsumner at gmail.com (Michael Sumner)
Date: Mon Jun 21 19:06:23 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <9101739898206701945@unknownmsgid>
References: <4C1A7452.1020408@noaa.gov>
	<AANLkTikmSGg0j-TOFuA-8mcQwOV6S_B5exjOLToboyZj@mail.gmail.com>
	<4C1D3A74.8040707@noaa.gov> <9101739898206701945@unknownmsgid>
Message-ID: <AANLkTikerNALrqFoOcpuDQ9-kvs_P6_eP_lyaJTMQRkR@mail.gmail.com>

I find this categorization helpful:

http://en.wikipedia.org/wiki/Regular_grid

Any GIS will do regular and cartesian grids (but usually bound to 2D),
and with programming constructs you can handle rectlinear or
curvilinear grids of any dimension, but it's not well supported in
high-level software AFAIK. Unfortunately GIS is traditionally bound to
the regular case for 2D only - probably because globe-surface
projections were an over-arching for the early layers.

AFAIK, modern ArcGIS can use GDAL to read rasters, so it would be
profound if it were limited to square cells - the "ESRI ascii grid"
format is limited to square cells, though some software allows
separate XDIM/YDIM values.
http://www.gdal.org/frmt_various.html#AAIGrid

Jason: are there plans for full multi-dimensional / curvilinear /
multiband grid support in MGET?  What do you think of the rasdaman
project - any ties with MGET?

Eonfusion can represent and visualize these, but there is only a
narrow path for generating them via GDAL (auxiliary "time" files or
NetCDF arrays), making full multi-band support a bit awkward - and
then formats like GRIB add another level of complication, interleaving
bands and dimensions etc.

Cheers, Mike.

On Tue, Jun 22, 2010 at 1:17 AM, Jason Roberts <jason.roberts@duke.edu> wrote:
>> > The trick is your netCDF has to meet a bunch
>> > of constraints for ArcGIS to recognize it. It has to have square cells.
>>
>> bingo -- that was one of our key problems -- wait -- they have to be
>> "square" -- rectangular won't do? arrgg!
>
> Oops, I'm pretty sure you're right, they can be rectangular so long as the increment is constant. I recall working with some climate model output that was rectangular with a constant increment (2 deg latitude, 3 deg longitude). I checked the documentation and it confirms this.
>
> The limitation is that it cannot work with rectangular cells that have an irregular increment (what MATLAB calls "plaid", I think), or work with non-rectangular cells.
>
> Jason
>
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christopher Barker
> Sent: Saturday, June 19, 2010 5:45 PM
> To: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] How to represent multi-dimensional array
>
> Thanks to Michael, Joaquim, Ivan, and Jason.
>
> I'll explore some of the tools and suggestions you made.
>
> Michael Sumner wrote:
>> NetCDF will tend to store dimensions in
>> reverse order to the natural one, and I think GDAL reverses that - but
>> you can tell by the dimension and number of your bands, and the named
>> metadata on the GDAL bands.
>
> yup -- I figured that out - it got better when we re-ordered to (t, z,
> y, x).
>
>> NetCDF cannot store multi-attribute arrays (it will store several
>> same-size, same-metadata arrays for that purpose),
>
> Actually, I think it can -- though maybe that's only for netcdf4 (based
> on hdf5), but the conventions don't suggest you do that -- particularly
> if different attributes are different data types.
>
>> Manifold reads in multiple rasters
>
>> Eonfusion will do its best to read the array in its natural state
>
>> R can read NetCDF natively or with GDAL (RNetCDF, ncdf, rgdal
>
> We're not really looking for other tools at this point -- we are doing
> visualization with IDV, which handles 4-d data in netcdf just fine. This
> part is all about getting this data into Arc.
>
> I may deal with it by figuring out what we really need to do in Arc, and
> just exporting that part of the data -- we're writing these files with
> Python anyway, so doing some pre-processing there won't be a big deal.
>
> Joaquim Luis wrote:
>> Don't know if this is what you are looking for but if those netCDF files
>> are of a similar type that one can get from the poet site
>> (http://poet.jpl.nasa.gov/), Mirone has a tool called "Aquamoto" (a tool
>> original developed to show time stamps of a tsunami propagation models)
>> that loads those files and show their content interactively with the
>> help of a slider.
>
> Not much help for this, but it's a cool tool, thanks for the link.
>
> Jason Roberts wrote:
>> I have some experience trying to get ArcGIS to work well with time series
>> satellite imagery and 4D ocean models (e.g. HYCOM, ROMS).
>
> Exactly our situation, here.
>
>> I am part of a working group initiated
>> by ESRI and led by an ESRI program manager (Nawajish Noman) that is trying,
>> in essence, to get the community of users who use both ArcGIS and netCDF to
>> develop some Python geoprocessing tools for ArcGIS that provide more
>> functionality than out-of-box tools already in ArcGIS.
>
> cool -- do you have contact information for that project? Is there code
> anywhere we can get at it?
>
>> 1. The Make NetCDF Raster Layer tool can represent 3D netCDF variables as
>> multiband raster layers.
>
> We'll give this a try. It may be what our GIS person is using already,
> but I got a bit confused by the "Dimension Values parameter". We'll poke
> at it some more.
>
>> The trick is your netCDF has to meet a bunch
>> of constraints for ArcGIS to recognize it. It has to have square cells.
>
> bingo -- that was one of our key problems -- wait -- they have to be
> "square" -- rectangular won't do? arrgg!
>
> Anyway, the way we have it now the cells ar rectangular in meters, but
> we un-projectee them to lat-long, so they are no longer simle
> rectangular -- I think I may change this an output in meters, with the
> projection info. But if it has to be square, we're kind of dea in the
> water...
>
>> It
>> has adhere to the CF or COARDS conventions (I forget which versions)
>
> that we do have.
>
>> 2. Under contract to NOAA, Applied Science Associates built a couple of
>> tools that might be useful: the Environmental Data Connector (EDC) and
>> TimeSlider Extension. Download from
>> http://www.asascience.com/software/downloads/index.shtml, see other parts of
>> the website for more info. EDC was built to download multidimensional
>> OPeNDAP datasets into multiband rasters.
>
> Hmm -- did know about those tools, but didn't realize that EDC was
> OPenDAP based -- nice to know.
>
>> TimeSlider is a UI extension to
>> help with playback of time-series data.
>
> That too -- by the way, I'm pretty sure the Coast Guard funded a bunhc
> of that, for their Search and Rescue tools.
>
>> I think they can both work with
>> netCDFs directly, not just OPeNDAP.
>
> That I didn't know -- we'll try that out.
>
>> 3. If you don't want to use netCDFs, you can fake multidimensionality for
>> some scenarios by building a raster catalog with columns for the time and
>> depth.
>
> I have no idea how to do that -- can GDAL build a raster catalog?
>
>> 4. My group, the Duke University Marine Geospatial Ecology Lab, is currently
>> building 3D and 4D awareness into a collection of tools we publish, Marine
>> Geospatial Ecology Tools (MGET, see
>> http://code.nicholas.duke.edu/projects/mget), built in Python on GDAL and
>> other FOSS packages.
>
> Very cool. I'll keep an eye on that.
>
> Thanks for everyone's help,
>
> -Chris
>
>
>
> --
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R ? ? ? ? ? ?(206) 526-6959 ? voice
> 7600 Sand Point Way NE ? (206) 526-6329 ? fax
> Seattle, WA ?98115 ? ? ? (206) 526-6317 ? main reception
>
> Chris.Barker@noaa.gov
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From chaitanya.ch at gmail.com  Mon Jun 21 21:31:44 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Jun 21 21:31:46 2010
Subject: [gdal-dev] Raster to array, then array to Raster (while 
	preserving projection info)
In-Reply-To: <SNT130-w32CAC3D7DF51D0CE117524BCC30@phx.gbl>
References: <SNT130-w32CAC3D7DF51D0CE117524BCC30@phx.gbl>
Message-ID: <AANLkTinWkJeDa_XRmbQ4QXsMcY4G8NXp3DeNeBqeKkxO@mail.gmail.com>

GDALCreateCopy() can help you with creating a raster with the same data
including the projection and stuff. You can edit the pixels without
bothering about the projection. Use GDALRasterIO() to read and write to that
raster.

http://www.gdal.org/gdal_tutorial.html
http://www.gdal.org/gdal_8h.html

On Tue, Jun 22, 2010 at 3:06 AM, Discourse Maps <discoursemap@live.com>wrote:

>  I am using "convertRastertoArray" (modifying the array) and then using
> "convertArraytoRaster".
>
> The problem is that when I convert back to raster, the projection
> information is lost.
> The projection of my input is: WGS 84, UTM 17N. (EPSG = 32617)
>
> Can someone provide some code as to the cleanest way to grab the projection
> (wkt) during the raster to array conversion so that I can read projection
> info in when I convert back?
>
> Thanks.
>
> ------------------------------
> Hotmail has tools for the New Busy. Search, chat and e-mail from your
> inbox. Learn more.<http://www.windowslive.com/campaign/thenewbusy?ocid=PID28326::T:WLMTAGL:ON:WL:en-US:WM_HMP:042010_1>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/dd5feaa1/attachment.html
From candini at meeo.it  Tue Jun 22 04:03:31 2010
From: candini at meeo.it (canduc17)
Date: Tue Jun 22 04:03:33 2010
Subject: [gdal-dev] Copy coordinate system and corner coordinates
Message-ID: <1277193811150-5207721.post@n2.nabble.com>


I have an input dataset like this:Driver: GTiff/GeoTIFF
Files: aot.2007154.0950.geo.tif
Size is 5657, 2287
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.2572235630016,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (0.452892184257507,72.917350769042969)
Pixel Size = (0.010000000000000,-0.010000000000000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (   0.4528922,  72.9173508) (  0d27'10.41"E, 72d55'2.46"N)
Lower Left  (   0.4528922,  50.0473508) (  0d27'10.41"E, 50d 2'50.46"N)
Upper Right (  57.0228922,  72.9173508) ( 57d 1'22.41"E, 72d55'2.46"N)
Lower Right (  57.0228922,  50.0473508) ( 57d 1'22.41"E, 50d 2'50.46"N)
Center      (  28.7378922,  61.4823508) ( 28d44'16.41"E, 61d28'56.46"N)
Band 1 Block=5657x1 Type=Float32, ColorInterp=Grayand I want to copy
coordinate system, origin, pixel size and corner coordinates from this
dataset to the output one.
How to do this in C++?
Thanks in advance.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Copy-coordinate-system-and-corner-coordinates-tp5207721p5207721.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Tue Jun 22 04:43:13 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Jun 22 04:43:16 2010
Subject: [gdal-dev] Copy coordinate system and corner coordinates
In-Reply-To: <1277193811150-5207721.post@n2.nabble.com>
References: <1277193811150-5207721.post@n2.nabble.com>
Message-ID: <AANLkTilYHpkWxNk_5PkUTZ3we40lcAplediakplSPErn@mail.gmail.com>

Alessandro,

Refer to http://www.gdal.org/gdal_tutorial.html for a tutorial on how to do
handle raster data with GDAL.
Look closely at GDALCreateCopy() or GDALDriver::CreateCopy().

On Tue, Jun 22, 2010 at 1:33 PM, canduc17 <candini@meeo.it> wrote:

>
> I have an input dataset like this:Driver: GTiff/GeoTIFF
> Files: aot.2007154.0950.geo.tif
> Size is 5657, 2287
> Coordinate System is:
> GEOGCS["WGS 84",
>    DATUM["WGS_1984",
>        SPHEROID["WGS 84",6378137,298.2572235630016,
>            AUTHORITY["EPSG","7030"]],
>        AUTHORITY["EPSG","6326"]],
>    PRIMEM["Greenwich",0],
>    UNIT["degree",0.0174532925199433],
>    AUTHORITY["EPSG","4326"]]
> Origin = (0.452892184257507,72.917350769042969)
> Pixel Size = (0.010000000000000,-0.010000000000000)
> Metadata:
>  AREA_OR_POINT=Area
> Image Structure Metadata:
>  COMPRESSION=LZW
>  INTERLEAVE=BAND
> Corner Coordinates:
> Upper Left  (   0.4528922,  72.9173508) (  0d27'10.41"E, 72d55'2.46"N)
> Lower Left  (   0.4528922,  50.0473508) (  0d27'10.41"E, 50d 2'50.46"N)
> Upper Right (  57.0228922,  72.9173508) ( 57d 1'22.41"E, 72d55'2.46"N)
> Lower Right (  57.0228922,  50.0473508) ( 57d 1'22.41"E, 50d 2'50.46"N)
> Center      (  28.7378922,  61.4823508) ( 28d44'16.41"E, 61d28'56.46"N)
> Band 1 Block=5657x1 Type=Float32, ColorInterp=Gray



> and I want to copy
> coordinate system, origin, pixel size and corner coordinates from this
> dataset to the output one.
> How to do this in C++?
> Thanks in advance.
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Copy-coordinate-system-and-corner-coordinates-tp5207721p5207721.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/c048a463/attachment.html
From candini at meeo.it  Tue Jun 22 04:47:40 2010
From: candini at meeo.it (canduc17)
Date: Tue Jun 22 04:47:41 2010
Subject: [gdal-dev] Re: Copy coordinate system and corner coordinates
In-Reply-To: <AANLkTilYHpkWxNk_5PkUTZ3we40lcAplediakplSPErn@mail.gmail.com>
References: <1277193811150-5207721.post@n2.nabble.com>
	<AANLkTilYHpkWxNk_5PkUTZ3we40lcAplediakplSPErn@mail.gmail.com>
Message-ID: <1277196460087-5207848.post@n2.nabble.com>


Well ok, but I don't have to merely copy the dataset.
I have to eleborate it and after the elaboration I have to add all the
information i can get from gdalinfo.
So CreateCopy() doesn't fit for me.

How to extrac ONLY these info and put them inside the new dataset?
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Copy-coordinate-system-and-corner-coordinates-tp5207721p5207848.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Tue Jun 22 05:38:16 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Jun 22 05:38:19 2010
Subject: [gdal-dev] Re: Copy coordinate system and corner coordinates
In-Reply-To: <1277196460087-5207848.post@n2.nabble.com>
References: <1277193811150-5207721.post@n2.nabble.com>
	<AANLkTilYHpkWxNk_5PkUTZ3we40lcAplediakplSPErn@mail.gmail.com>
	<1277196460087-5207848.post@n2.nabble.com>
Message-ID: <AANLkTilcc-YgdVa2CGPN2gJzoQ-dt9PDobDMuaie9W5C@mail.gmail.com>

The GDALDataSet class has methods to get and set such info. (
http://www.gdal.org/classGDALDataset.html)
The corner coordinates can be obtained using GDALDataset::GetGeoTransform()

On Tue, Jun 22, 2010 at 2:17 PM, canduc17 <candini@meeo.it> wrote:

>
> Well ok, but I don't have to merely copy the dataset.
> I have to eleborate it and after the elaboration I have to add all the
> information i can get from gdalinfo.
> So CreateCopy() doesn't fit for me.
>
> How to extrac ONLY these info and put them inside the new dataset?
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Copy-coordinate-system-and-corner-coordinates-tp5207721p5207848.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/353be794/attachment.html
From atubar at 126.com  Tue Jun 22 05:35:31 2010
From: atubar at 126.com (atubar)
Date: Tue Jun 22 06:06:42 2010
Subject: [gdal-dev] OGRSpatialReference  justify
Message-ID: <1fbfcfd.14459.1295f033046.Coremail.atubar@126.com>

hello, everyone.
I need to justify whether one geotiff and one shapefile are in the same projection with IsSame  function from OGR,  which will compare the wkt info of OGRSpatialReference ,  like below.

bool CompareWktIsUniform(const char* pszWkt1, const char* pszWkt2) 
{ 
 OGRSpatialReference SR1(pszWkt1); 
 OGRSpatialReference SR2(pszWkt2); 

 int IsSame = SR1.IsSame(&SR2); 

 if (IsSame == TRUE) 
  return  true; 
 else 
  return false; 
} 

And  I have two  OGRSpatialReference, one is from shapefile and the other is from Geotiff. 

PROJCS["Albers Conical Equal Area",GEOGCS["GCS_Krasovsky_1940",DATUM["Krasovsky_1940",SPHEROID["Krasovsky_1940",6378245.0,298.3]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Albers_Conic_Equal_Area"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["longitude_of_center",105.0],PARAMETER["Standard_Parallel_1",25.0],PARAMETER["Standard_Parallel_2",47.0],PARAMETER["latitude_of_center",0.0],UNIT["Meter",1.0]] 


PROJCS["IMAGINE GeoTIFF Support 
Copyright 1991 - 2005 by Leica Geosystems Geospatial Imaging, LLC. All Rights Reserved 
@(#)$RCSfile: egtf.c $ IMAGINE 9.0 $Revision: 10.0 $ $Date: 2005/07/26 15:10:00 EST $ 
Projection = Albers Conical Equal Area",GEOGCS["Krasovsky",DATUM["Krasovsky",SPHEROID["Krasovsky",6378245,298.3000003760163]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Albers_Conic_Equal_Area"],PARAMETER["standard_parallel_1",25],PARAMETER["standard_parallel_2",47],PARAMETER["latitude_of_center",0],PARAMETER["longitude_of_center",105],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]]] 

In fact they should be same, as both are 
Projection = Albers Conical Equal Area",  
GEOGCS["Krasovsky 
DATUM["Krasovsky

but in details are a little different, how to avoid that?

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/cc196e87/attachment-0001.html
From nikosdu1980 at gmail.com  Tue Jun 22 07:32:11 2010
From: nikosdu1980 at gmail.com (Nikos Dumakis)
Date: Tue Jun 22 07:32:13 2010
Subject: [gdal-dev] Defining spatial resolution with gdalwarp
Message-ID: <AANLkTilDDCls9Vu5eexd1cmuS2HYr7-taiHgfTbDRX9V@mail.gmail.com>

Hi there

I'm using gdalwarp, through GRASS; to do some reprojection of Globcover
images from WGS84 for a specific UTM EPSG. The thing is that gdalwarp's
changed my Spatial resolution. Shall I use -tr? if so, I just need to add
the units? e.g. -tr 300 300 ?

Thanks
Nikos
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/47347189/attachment.html
From P.Halls at york.ac.uk  Tue Jun 22 08:19:40 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Tue Jun 22 08:19:45 2010
Subject: [gdal-dev] OGR-OCI (Oracle) Interface
Message-ID: <4C20AA5C.9040800@york.ac.uk>

Dear All,

     I have an application that has need of the use of an Oracle 'collection' 
(aka array) as a column type.  The OGR OCI driver does not currently support 
this.  Would I be better pre-defining the table and then using SQL_Execute to 
manipulate the array column or to consider extending the OGR OCI driver to 
support this as an additional data type?  Is this data type likely to be of any 
interest to others, or am I a minority of one?

Thanks and best wishes,

Peter

--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From warmerdam at pobox.com  Tue Jun 22 08:36:24 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 22 08:36:27 2010
Subject: [gdal-dev] OGR-OCI (Oracle) Interface
In-Reply-To: <4C20AA5C.9040800@york.ac.uk>
References: <4C20AA5C.9040800@york.ac.uk>
Message-ID: <AANLkTilkOONx_6TiTt9nF838ZVSDJA01CoP7gQYaH4k6@mail.gmail.com>

On Tue, Jun 22, 2010 at 8:19 AM, Peter J Halls <P.Halls@york.ac.uk> wrote:
> Dear All,
>
> ? ?I have an application that has need of the use of an Oracle 'collection'
> (aka array) as a column type. ?The OGR OCI driver does not currently support
> this. ?Would I be better pre-defining the table and then using SQL_Execute
> to manipulate the array column or to consider extending the OGR OCI driver
> to support this as an additional data type? ?Is this data type likely to be
> of any interest to others, or am I a minority of one?

Peter,

OGR does have an array of reals, and array of ints data type,
so extending the OCI driver to support such a type would be
desirable.  If you can provide a patch, Ivan should be able to
review, test and apply it.

It is of course still a fairly specialized requirement.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From jason.roberts at duke.edu  Tue Jun 22 10:51:48 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Tue Jun 22 10:51:53 2010
Subject: [gdal-dev] How to represent multi-dimensional array
In-Reply-To: <AANLkTikerNALrqFoOcpuDQ9-kvs_P6_eP_lyaJTMQRkR@mail.gmail.com>
References: <4C1A7452.1020408@noaa.gov>
	<AANLkTikmSGg0j-TOFuA-8mcQwOV6S_B5exjOLToboyZj@mail.gmail.com>
	<4C1D3A74.8040707@noaa.gov> <9101739898206701945@unknownmsgid>
	<AANLkTikerNALrqFoOcpuDQ9-kvs_P6_eP_lyaJTMQRkR@mail.gmail.com>
Message-ID: <008801cb121a$7179abc0$546d0340$@roberts@duke.edu>

> Jason: are there plans for full multi-dimensional / curvilinear /
> multiband grid support in MGET?  What do you think of the rasdaman
> project - any ties with MGET?

The work we are doing in MGET relates to the problem that there are many interesting gridded datasets with dimensions xyz or xyzt, stored in a variety of formats, but there is no client-side API that can wrap the majority of them with a convenient abstraction. We want an API that can, for example, return 3D and 4D numpy arrays and associated metadata (projection, geolocation, etc) regardless of whether the underlying data is stored in 3D/4D OPeNDAP grid, in a 3D/4D netCDF grid, in a directory tree of 2D raster files, or an FTP archive of compressed 2D HDFs. We want to build our analytic tools atop this (e.g. find sea surface temperature fronts) rather than building a variant of each analytic tool that is tailored to the underlying API used to access the specific format, as we do now.

GDAL almost provides this, but it is mainly suited to 2D data. There is some support for 3D and 4D data--slicing netCDF or OPeNDAP into 2D band stacks--but we found it did not provide everything we needed (e.g. no awareness of time). 

The common approaches to this problem are to require the user to convert the data into a single format (e.g. netCDF) that the analytic tools can then read (e.g., the CDO tools), or store the data in a server that can present it using a single API (e.g. ERDDAP). We do not like the former approach because these datasets are huge and we'd like to save the user the time and disk space of a huge conversion. We do not like the latter approach setting up a server is a major task for our typical user, and there is still the disk space problem (and sometimes conversion time).

I'm not familiar with rasdaman. Thanks for mentioning it. After looking briefly, it appears that rasdaman adopts that second approach--store all raster data in a server that offers a single API. Rather than building tools atop rasdaman's API, we would represent data from rasdaman behind our own API, just like we do for OPeNDAP, GDAL, netCDF, etc. I will keep an eye rasdaman and see if there are popular datasets of interest to marine ecologists that are served by it.

Now to answer your original, question. We are not planning to build a general-purpose multidimensional API. We're trying to be general enough to handle the majority of datasets in the marine community but specific enough that tools are easy to write. MGET will support datasets with dimensions xy, xyz, xyt, and xyzt. Virtually all gridded datasets we've encountered have those dimensions.

It will support multiband datasets. It will support regular, rectilinear, or even irregular grids, so long as the cells have four straight edges. At this time, we are not planning anything for curvilinear specifically (e.g. grok the parameters that define the grid and then efficiently perform operations using those, or understand that a side is curved). It will support datasets such as ROMS in which the z coordinate varies with x, y, and t. It will support datasets in which t is regular (e.g. daily images) or irregular (e.g. occasional snapshots, such as NOAA CoastWatch AVHRR) or climatological (e.g. mean MODIS chlorophyll concentration for each of the 12 months).

If you have any more questions, feel free to contact me directly.

Best,

Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Michael Sumner
Sent: Monday, June 21, 2010 7:05 PM
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] How to represent multi-dimensional array

I find this categorization helpful:

http://en.wikipedia.org/wiki/Regular_grid

Any GIS will do regular and cartesian grids (but usually bound to 2D),
and with programming constructs you can handle rectlinear or
curvilinear grids of any dimension, but it's not well supported in
high-level software AFAIK. Unfortunately GIS is traditionally bound to
the regular case for 2D only - probably because globe-surface
projections were an over-arching for the early layers.

AFAIK, modern ArcGIS can use GDAL to read rasters, so it would be
profound if it were limited to square cells - the "ESRI ascii grid"
format is limited to square cells, though some software allows
separate XDIM/YDIM values.
http://www.gdal.org/frmt_various.html#AAIGrid

Jason: are there plans for full multi-dimensional / curvilinear /
multiband grid support in MGET?  What do you think of the rasdaman
project - any ties with MGET?

Eonfusion can represent and visualize these, but there is only a
narrow path for generating them via GDAL (auxiliary "time" files or
NetCDF arrays), making full multi-band support a bit awkward - and
then formats like GRIB add another level of complication, interleaving
bands and dimensions etc.

Cheers, Mike.

On Tue, Jun 22, 2010 at 1:17 AM, Jason Roberts <jason.roberts@duke.edu> wrote:
>> > The trick is your netCDF has to meet a bunch
>> > of constraints for ArcGIS to recognize it. It has to have square cells.
>>
>> bingo -- that was one of our key problems -- wait -- they have to be
>> "square" -- rectangular won't do? arrgg!
>
> Oops, I'm pretty sure you're right, they can be rectangular so long as the increment is constant. I recall working with some climate model output that was rectangular with a constant increment (2 deg latitude, 3 deg longitude). I checked the documentation and it confirms this.
>
> The limitation is that it cannot work with rectangular cells that have an irregular increment (what MATLAB calls "plaid", I think), or work with non-rectangular cells.
>
> Jason
>
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christopher Barker
> Sent: Saturday, June 19, 2010 5:45 PM
> To: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] How to represent multi-dimensional array
>
> Thanks to Michael, Joaquim, Ivan, and Jason.
>
> I'll explore some of the tools and suggestions you made.
>
> Michael Sumner wrote:
>> NetCDF will tend to store dimensions in
>> reverse order to the natural one, and I think GDAL reverses that - but
>> you can tell by the dimension and number of your bands, and the named
>> metadata on the GDAL bands.
>
> yup -- I figured that out - it got better when we re-ordered to (t, z,
> y, x).
>
>> NetCDF cannot store multi-attribute arrays (it will store several
>> same-size, same-metadata arrays for that purpose),
>
> Actually, I think it can -- though maybe that's only for netcdf4 (based
> on hdf5), but the conventions don't suggest you do that -- particularly
> if different attributes are different data types.
>
>> Manifold reads in multiple rasters
>
>> Eonfusion will do its best to read the array in its natural state
>
>> R can read NetCDF natively or with GDAL (RNetCDF, ncdf, rgdal
>
> We're not really looking for other tools at this point -- we are doing
> visualization with IDV, which handles 4-d data in netcdf just fine. This
> part is all about getting this data into Arc.
>
> I may deal with it by figuring out what we really need to do in Arc, and
> just exporting that part of the data -- we're writing these files with
> Python anyway, so doing some pre-processing there won't be a big deal.
>
> Joaquim Luis wrote:
>> Don't know if this is what you are looking for but if those netCDF files
>> are of a similar type that one can get from the poet site
>> (http://poet.jpl.nasa.gov/), Mirone has a tool called "Aquamoto" (a tool
>> original developed to show time stamps of a tsunami propagation models)
>> that loads those files and show their content interactively with the
>> help of a slider.
>
> Not much help for this, but it's a cool tool, thanks for the link.
>
> Jason Roberts wrote:
>> I have some experience trying to get ArcGIS to work well with time series
>> satellite imagery and 4D ocean models (e.g. HYCOM, ROMS).
>
> Exactly our situation, here.
>
>> I am part of a working group initiated
>> by ESRI and led by an ESRI program manager (Nawajish Noman) that is trying,
>> in essence, to get the community of users who use both ArcGIS and netCDF to
>> develop some Python geoprocessing tools for ArcGIS that provide more
>> functionality than out-of-box tools already in ArcGIS.
>
> cool -- do you have contact information for that project? Is there code
> anywhere we can get at it?
>
>> 1. The Make NetCDF Raster Layer tool can represent 3D netCDF variables as
>> multiband raster layers.
>
> We'll give this a try. It may be what our GIS person is using already,
> but I got a bit confused by the "Dimension Values parameter". We'll poke
> at it some more.
>
>> The trick is your netCDF has to meet a bunch
>> of constraints for ArcGIS to recognize it. It has to have square cells.
>
> bingo -- that was one of our key problems -- wait -- they have to be
> "square" -- rectangular won't do? arrgg!
>
> Anyway, the way we have it now the cells ar rectangular in meters, but
> we un-projectee them to lat-long, so they are no longer simle
> rectangular -- I think I may change this an output in meters, with the
> projection info. But if it has to be square, we're kind of dea in the
> water...
>
>> It
>> has adhere to the CF or COARDS conventions (I forget which versions)
>
> that we do have.
>
>> 2. Under contract to NOAA, Applied Science Associates built a couple of
>> tools that might be useful: the Environmental Data Connector (EDC) and
>> TimeSlider Extension. Download from
>> http://www.asascience.com/software/downloads/index.shtml, see other parts of
>> the website for more info. EDC was built to download multidimensional
>> OPeNDAP datasets into multiband rasters.
>
> Hmm -- did know about those tools, but didn't realize that EDC was
> OPenDAP based -- nice to know.
>
>> TimeSlider is a UI extension to
>> help with playback of time-series data.
>
> That too -- by the way, I'm pretty sure the Coast Guard funded a bunhc
> of that, for their Search and Rescue tools.
>
>> I think they can both work with
>> netCDFs directly, not just OPeNDAP.
>
> That I didn't know -- we'll try that out.
>
>> 3. If you don't want to use netCDFs, you can fake multidimensionality for
>> some scenarios by building a raster catalog with columns for the time and
>> depth.
>
> I have no idea how to do that -- can GDAL build a raster catalog?
>
>> 4. My group, the Duke University Marine Geospatial Ecology Lab, is currently
>> building 3D and 4D awareness into a collection of tools we publish, Marine
>> Geospatial Ecology Tools (MGET, see
>> http://code.nicholas.duke.edu/projects/mget), built in Python on GDAL and
>> other FOSS packages.
>
> Very cool. I'll keep an eye on that.
>
> Thanks for everyone's help,
>
> -Chris
>
>
>
> --
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
>
> Chris.Barker@noaa.gov
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From randre at gmail.com  Tue Jun 22 10:54:54 2010
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Tue Jun 22 10:54:56 2010
Subject: [gdal-dev] Can VRT be used to control display order of images in
	mosaic?
Message-ID: <AANLkTimN_micG9xgO2I0SJUwztmGY6nwPw7z0Y1I4fWQ@mail.gmail.com>

Hi All,

I'd like to control the order in which overlapping images are displayed in a
mosaic.  Is it possible to do that by using a VRT, and altering the order in
which the files are defined in it?

The online doc for gdalbuildvrt states, "If there is some amount of spatial
overlapping between files, the order may depend on the order they are
inserted in the VRT file, but this behaviour should not be relied on."

Not sure if this disclaimer is for the gdalbuildvrt utility, or describes
the generic behavior of a raster VRT.

Thanks,

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/65d4d6e3/attachment.html
From warmerdam at pobox.com  Tue Jun 22 11:16:14 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 22 11:16:19 2010
Subject: [gdal-dev] Can VRT be used to control display order of images in
	mosaic?
In-Reply-To: <AANLkTimN_micG9xgO2I0SJUwztmGY6nwPw7z0Y1I4fWQ@mail.gmail.com>
References: <AANLkTimN_micG9xgO2I0SJUwztmGY6nwPw7z0Y1I4fWQ@mail.gmail.com>
Message-ID: <4C20D3BE.20003@pobox.com>

Roger Andr? wrote:
> Hi All,
> 
> I'd like to control the order in which overlapping images are displayed 
> in a mosaic.  Is it possible to do that by using a VRT, and altering the 
> order in which the files are defined in it?
> 
> The online doc for gdalbuildvrt states, "If there is some amount of 
> spatial overlapping between files, the order may depend on the order 
> they are inserted in the VRT file, but this behaviour should not be 
> relied on."
> 
> Not sure if this disclaimer is for the gdalbuildvrt utility, or 
> describes the generic behavior of a raster VRT.

Roger,

I believe the statement applies to the VRT format itself.  I have looked
at the code, and it always applies them linearly based on the order they
appear in the .VRT list of sources.  I think you could depend on it "for now"
though in a future version we might do something more fancy that would
result in alternate ordering.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From robert.zermeno at navy.mil  Tue Jun 22 12:08:37 2010
From: robert.zermeno at navy.mil (Zermeno, Robert J CIV NAVAIR, 472100D)
Date: Tue Jun 22 12:08:47 2010
Subject: [gdal-dev] 
	GDAL, WinCE dll error when using in my own simple project
Message-ID: <F8A8A114E3F41D4D9157F1BECCA3BA91033897BC@nawechlkez02v.nadsuswe.nads.navy.mil>

I hope someone has remembered the capability issues concerning WinCE and GDAL (since its not really being maintained right now).  My issue is I am able to use the provided MSVC++ 2005 gdal project files and build the project to obtain a gdalce_i.lib and gdalce.dll files.

I created two projects, one in EVC4.0 and MSVC++ 2005 IDE.  Both compilers have provided me with the following error when I try to statically link the DLL and use:

#include "gdal_priv.h"

...
GDALAllRegister();

I followed the building and installation guide from: http://www.gdal.org/wince.html, and it all works, but
I get the following error messages when I try to use the DLL:

1>------ Build started: Project: WinCE_G, Configuration: Debug Pocket PC 2003 (ARMV4) ------
1>Compiling...
1>cl : Command line warning D9035 : option 'GX' has been deprecated and will be removed in a future release
1>cl : Command line warning D9025 : overriding '/GR-' with '/GR'
1>stdafx.cpp
1>Compiling...
1>cl : Command line warning D9035 : option 'GX' has been deprecated and will be removed in a future release
1>cl : Command line warning D9025 : overriding '/GR-' with '/GR'
1>WinCE_G.cpp
1>Linking...
1>   Creating library Pocket PC 2003 (ARMV4)\Debug/WinCE_G.lib and object Pocket PC 2003 (ARMV4)\Debug/WinCE_G.exp
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual char const * __cdecl GDALMajorObject::GetDescription(void)const " (?GetDescription@GDALMajorObject@@UBAPBDXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual void __cdecl GDALMajorObject::SetDescription(char const *)" (?SetDescription@GDALMajorObject@@UAAXPBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual char * * __cdecl GDALMajorObject::GetMetadata(char const *)" (?GetMetadata@GDALMajorObject@@UAAPAPADPBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALMajorObject::SetMetadata(char * *,char const *)" (?SetMetadata@GDALMajorObject@@UAA?AW4CPLErr@@PAPADPBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual char const * __cdecl GDALMajorObject::GetMetadataItem(char const *,char const *)" (?GetMetadataItem@GDALMajorObject@@UAAPBDPBD0@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALMajorObject::SetMetadataItem(char const *,char const *,char const *)" (?SetMetadataItem@GDALMajorObject@@UAA?AW4CPLErr@@PBD00@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALMajorObject::~GDALMajorObject(void)" (??1GDALMajorObject@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALMajorObject::`scalar deleting destructor'(unsigned int)" (??_GGDALMajorObject@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: virtual enum CPLErr __cdecl GDALDataset::IBuildOverviews(char const *,int,int *,int,int *,int (__cdecl*)(double,char const *,void *),void *)" (?IBuildOverviews@GDALDataset@@MAA?AW4CPLErr@@PBDHPAHH1P6AHN0PAX@Z2@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: virtual enum CPLErr __cdecl GDALDataset::IRasterIO(enum GDALRWFlag,int,int,int,int,void *,int,int,enum GDALDataType,int,int *,int,int,int)" (?IRasterIO@GDALDataset@@MAA?AW4CPLErr@@W4GDALRWFlag@@HHHHPAXHHW4GDALDataType@@HPAHHHH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual void __cdecl GDALDataset::FlushCache(void)" (?FlushCache@GDALDataset@@UAAXXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual char const * __cdecl GDALDataset::GetProjectionRef(void)" (?GetProjectionRef@GDALDataset@@UAAPBDXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALDataset::SetProjection(char const *)" (?SetProjection@GDALDataset@@UAA?AW4CPLErr@@PBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALDataset::GetGeoTransform(double *)" (?GetGeoTransform@GDALDataset@@UAA?AW4CPLErr@@PAN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALDataset::SetGeoTransform(double *)" (?SetGeoTransform@GDALDataset@@UAA?AW4CPLErr@@PAN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALDataset::AddBand(enum GDALDataType,char * *)" (?AddBand@GDALDataset@@UAA?AW4CPLErr@@W4GDALDataType@@PAPAD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual void * __cdecl GDALDataset::GetInternalHandle(char const *)" (?GetInternalHandle@GDALDataset@@UAAPAXPBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual class GDALDriver * __cdecl GDALDataset::GetDriver(void)" (?GetDriver@GDALDataset@@UAAPAVGDALDriver@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual char * * __cdecl GDALDataset::GetFileList(void)" (?GetFileList@GDALDataset@@UAAPAPADXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual int __cdecl GDALDataset::GetGCPCount(void)" (?GetGCPCount@GDALDataset@@UAAHXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual char const * __cdecl GDALDataset::GetGCPProjection(void)" (?GetGCPProjection@GDALDataset@@UAAPBDXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual struct GDAL_GCP const * __cdecl GDALDataset::GetGCPs(void)" (?GetGCPs@GDALDataset@@UAAPBUGDAL_GCP@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALDataset::SetGCPs(int,struct GDAL_GCP const *,char const *)" (?SetGCPs@GDALDataset@@UAA?AW4CPLErr@@HPBUGDAL_GCP@@PBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALDataset::AdviseRead(int,int,int,int,int,int,enum GDALDataType,int,int *,char * *)" (?AdviseRead@GDALDataset@@UAA?AW4CPLErr@@HHHHHHW4GDALDataType@@HPAHPAPAD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALDataset::CreateMaskBand(int)" (?CreateMaskBand@GDALDataset@@UAA?AW4CPLErr@@H@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual class GDALAsyncReader * __cdecl GDALDataset::BeginAsyncReader(int,int,int,int,void *,int,int,enum GDALDataType,int,int *,int,int,int,char * *)" (?BeginAsyncReader@GDALDataset@@UAAPAVGDALAsyncReader@@HHHHPAXHHW4GDALDataType@@HPAHHHHPAPAD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual void __cdecl GDALDataset::EndAsyncReader(class GDALAsyncReader *)" (?EndAsyncReader@GDALDataset@@UAAXPAVGDALAsyncReader@@@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALDataset::~GDALDataset(void)" (??1GDALDataset@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALDataset::`scalar deleting destructor'(unsigned int)" (??_GGDALDataset@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALRasterBlock::~GDALRasterBlock(void)" (??1GDALRasterBlock@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALRasterBlock::`scalar deleting destructor'(unsigned int)" (??_GGDALRasterBlock@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: __cdecl GDALColorTable::GDALColorTable(enum GDALPaletteInterp)" (??0GDALColorTable@@QAA@W4GDALPaletteInterp@@@Z) referenced in function "public: void __cdecl GDALColorTable::`default constructor closure'(void)" (??_FGDALColorTable@@QAAXXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: virtual enum CPLErr __cdecl GDALRasterBand::IWriteBlock(int,int,void *)" (?IWriteBlock@GDALRasterBand@@MAA?AW4CPLErr@@HHPAX@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: virtual enum CPLErr __cdecl GDALRasterBand::IRasterIO(enum GDALRWFlag,int,int,int,int,void *,int,int,enum GDALDataType,int,int)" (?IRasterIO@GDALRasterBand@@MAA?AW4CPLErr@@W4GDALRWFlag@@HHHHPAXHHW4GDALDataType@@HH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::FlushCache(void)" (?FlushCache@GDALRasterBand@@UAA?AW4CPLErr@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual char * * __cdecl GDALRasterBand::GetCategoryNames(void)" (?GetCategoryNames@GDALRasterBand@@UAAPAPADXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual double __cdecl GDALRasterBand::GetNoDataValue(int *)" (?GetNoDataValue@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual double __cdecl GDALRasterBand::GetMinimum(int *)" (?GetMinimum@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual double __cdecl GDALRasterBand::GetMaximum(int *)" (?GetMaximum@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual double __cdecl GDALRasterBand::GetOffset(int *)" (?GetOffset@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual double __cdecl GDALRasterBand::GetScale(int *)" (?GetScale@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual char const * __cdecl GDALRasterBand::GetUnitType(void)" (?GetUnitType@GDALRasterBand@@UAAPBDXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum GDALColorInterp __cdecl GDALRasterBand::GetColorInterpretation(void)" (?GetColorInterpretation@GDALRasterBand@@UAA?AW4GDALColorInterp@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual class GDALColorTable * __cdecl GDALRasterBand::GetColorTable(void)" (?GetColorTable@GDALRasterBand@@UAAPAVGDALColorTable@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::Fill(double,double)" (?Fill@GDALRasterBand@@UAA?AW4CPLErr@@NN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetCategoryNames(char * *)" (?SetCategoryNames@GDALRasterBand@@UAA?AW4CPLErr@@PAPAD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetNoDataValue(double)" (?SetNoDataValue@GDALRasterBand@@UAA?AW4CPLErr@@N@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetColorTable(class GDALColorTable *)" (?SetColorTable@GDALRasterBand@@UAA?AW4CPLErr@@PAVGDALColorTable@@@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetColorInterpretation(enum GDALColorInterp)" (?SetColorInterpretation@GDALRasterBand@@UAA?AW4CPLErr@@W4GDALColorInterp@@@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetOffset(double)" (?SetOffset@GDALRasterBand@@UAA?AW4CPLErr@@N@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetScale(double)" (?SetScale@GDALRasterBand@@UAA?AW4CPLErr@@N@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetUnitType(char const *)" (?SetUnitType@GDALRasterBand@@UAA?AW4CPLErr@@PBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::GetStatistics(int,int,double *,double *,double *,double *)" (?GetStatistics@GDALRasterBand@@UAA?AW4CPLErr@@HHPAN000@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::ComputeStatistics(int,double *,double *,double *,double *,int (__cdecl*)(double,char const *,void *),void *)" (?ComputeStatistics@GDALRasterBand@@UAA?AW4CPLErr@@HPAN000P6AHNPBDPAX@Z2@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetStatistics(double,double,double,double)" (?SetStatistics@GDALRasterBand@@UAA?AW4CPLErr@@NNNN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::ComputeRasterMinMax(int,double *)" (?ComputeRasterMinMax@GDALRasterBand@@UAA?AW4CPLErr@@HPAN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual int __cdecl GDALRasterBand::HasArbitraryOverviews(void)" (?HasArbitraryOverviews@GDALRasterBand@@UAAHXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual int __cdecl GDALRasterBand::GetOverviewCount(void)" (?GetOverviewCount@GDALRasterBand@@UAAHXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual class GDALRasterBand * __cdecl GDALRasterBand::GetOverview(int)" (?GetOverview@GDALRasterBand@@UAAPAV1@H@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual class GDALRasterBand * __cdecl GDALRasterBand::GetRasterSampleOverview(int)" (?GetRasterSampleOverview@GDALRasterBand@@UAAPAV1@H@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::BuildOverviews(char const *,int,int *,int (__cdecl*)(double,char const *,void *),void *)" (?BuildOverviews@GDALRasterBand@@UAA?AW4CPLErr@@PBDHPAHP6AHN0PAX@Z2@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::AdviseRead(int,int,int,int,int,int,enum GDALDataType,char * *)" (?AdviseRead@GDALRasterBand@@UAA?AW4CPLErr@@HHHHHHW4GDALDataType@@PAPAD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::GetHistogram(double,double,int,int *,int,int,int (__cdecl*)(double,char const *,void *),void *)" (?GetHistogram@GDALRasterBand@@UAA?AW4CPLErr@@NNHPAHHHP6AHNPBDPAX@Z2@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::GetDefaultHistogram(double *,double *,int *,int * *,int,int (__cdecl*)(double,char const *,void *),void *)" (?GetDefaultHistogram@GDALRasterBand@@UAA?AW4CPLErr@@PAN0PAHPAPAHHP6AHNPBDPAX@Z4@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetDefaultHistogram(double,double,int,int *)" (?SetDefaultHistogram@GDALRasterBand@@UAA?AW4CPLErr@@NNHPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual class GDALRasterAttributeTable const * __cdecl GDALRasterBand::GetDefaultRAT(void)" (?GetDefaultRAT@GDALRasterBand@@UAAPBVGDALRasterAttributeTable@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::SetDefaultRAT(class GDALRasterAttributeTable const *)" (?SetDefaultRAT@GDALRasterBand@@UAA?AW4CPLErr@@PBVGDALRasterAttributeTable@@@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual class GDALRasterBand * __cdecl GDALRasterBand::GetMaskBand(void)" (?GetMaskBand@GDALRasterBand@@UAAPAV1@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual int __cdecl GDALRasterBand::GetMaskFlags(void)" (?GetMaskFlags@GDALRasterBand@@UAAHXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual enum CPLErr __cdecl GDALRasterBand::CreateMaskBand(int)" (?CreateMaskBand@GDALRasterBand@@UAA?AW4CPLErr@@H@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALRasterBand::~GDALRasterBand(void)" (??1GDALRasterBand@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALRasterBand::`scalar deleting destructor'(unsigned int)" (??_GGDALRasterBand@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: virtual enum CPLErr __cdecl GDALAllValidMaskBand::IReadBlock(int,int,void *)" (?IReadBlock@GDALAllValidMaskBand@@MAA?AW4CPLErr@@HHPAX@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual class GDALRasterBand * __cdecl GDALAllValidMaskBand::GetMaskBand(void)" (?GetMaskBand@GDALAllValidMaskBand@@UAAPAVGDALRasterBand@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual int __cdecl GDALAllValidMaskBand::GetMaskFlags(void)" (?GetMaskFlags@GDALAllValidMaskBand@@UAAHXZ)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALAllValidMaskBand::~GDALAllValidMaskBand(void)" (??1GDALAllValidMaskBand@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALAllValidMaskBand::`scalar deleting destructor'(unsigned int)" (??_GGDALAllValidMaskBand@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: virtual enum CPLErr __cdecl GDALNoDataMaskBand::IReadBlock(int,int,void *)" (?IReadBlock@GDALNoDataMaskBand@@MAA?AW4CPLErr@@HHPAX@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALNoDataMaskBand::~GDALNoDataMaskBand(void)" (??1GDALNoDataMaskBand@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALNoDataMaskBand::`scalar deleting destructor'(unsigned int)" (??_GGDALNoDataMaskBand@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: virtual enum CPLErr __cdecl GDALNoDataValuesMaskBand::IReadBlock(int,int,void *)" (?IReadBlock@GDALNoDataValuesMaskBand@@MAA?AW4CPLErr@@HHPAX@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALNoDataValuesMaskBand::~GDALNoDataValuesMaskBand(void)" (??1GDALNoDataValuesMaskBand@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALNoDataValuesMaskBand::`scalar deleting destructor'(unsigned int)" (??_GGDALNoDataValuesMaskBand@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALDriver::~GDALDriver(void)" (??1GDALDriver@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALDriver::`scalar deleting destructor'(unsigned int)" (??_GGDALDriver@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALDriverManager::~GDALDriverManager(void)" (??1GDALDriverManager@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALDriverManager::`scalar deleting destructor'(unsigned int)" (??_GGDALDriverManager@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual int __cdecl GDALAsyncReader::LockBuffer(double)" (?LockBuffer@GDALAsyncReader@@UAAHN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: virtual void __cdecl GDALAsyncReader::UnlockBuffer(void)" (?UnlockBuffer@GDALAsyncReader@@UAAXXZ)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: virtual __cdecl GDALAsyncReader::~GDALAsyncReader(void)" (??1GDALAsyncReader@@UAA@XZ) referenced in function "public: virtual void * __cdecl GDALAsyncReader::`scalar deleting destructor'(unsigned int)" (??_GGDALAsyncReader@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol GDALAllRegister referenced in function "long __cdecl WndProc(struct HWND__ *,unsigned int,unsigned int,long)" (?WndProc@@YAJPAUHWND__@@IIJ@Z)
1>Pocket PC 2003 (ARMV4)\Debug/WinCE_G.exe : fatal error LNK1120: 82 unresolved externals


************************

There are a lot of LNK2001 and a LNK2019 errors.  I thought it might be not including the proper include files.  I obtain the include files from the include files exported when compiling for VS2008.
I properly linked the DLL by adding the VC++ directories for Include and Library Files.  I also placed the gdalce_i.lib file into the Additional Dependences tab.

What other options can I do or is there something I am not seeing?

Thanks,
Robert
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/804e4ab3/smime.bin
From mitchelljj98 at gmail.com  Tue Jun 22 12:10:53 2010
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Tue Jun 22 12:10:56 2010
Subject: [gdal-dev] I am trying to run gdal_polygonize.py and I get the
	following error: gdal.Polygonize() not available.
Message-ID: <AANLkTimkoI-Kv53Ob08VRBOr8s79jLjkf8CZyJNM64nA@mail.gmail.com>

Hi,

I am trying to run gdal_polygonize.py and I get the following error:
gdal.Polygonize() not available.  You are likely using "old gen"
bindings or an older version of the next gen bindings.

Anyone have any idea how I can get gdal_polygonize to run within FWTools 2.4.7?

Below is the command and error from the command line.

Thanks,

John

C:\Program Files\FWTools2.4.7>python
"%FWTOOLS_DIR%\bin\gdal_polygonize.py"
E:\Jacksonville-StJohns_output\all_tiles\converted1\64_w3.tif
c:\jacksonville-stjohns_gdal_polygonize.shp

gdal.Polygonize() not available.  You are likely using "old gen"
bindings or an older version of the next gen bindings.
From eduardo.ramalho at gmail.com  Tue Jun 22 12:19:55 2010
From: eduardo.ramalho at gmail.com (Eduardo Ramalho)
Date: Tue Jun 22 12:19:57 2010
Subject: [gdal-dev] How to use CPLPrintTime ?
Message-ID: <AANLkTimAlx7E7a5Y6TMScL3QaqziMgQXHhGD2P0dyD6z@mail.gmail.com>

Hi!

I am trying to print timestamps in WMS driver.
I would like to use GDAL CPLPrintTime to do that.

I searched for use samples and found "pcidskdataset.cpp" but I don't
understand the "magic" numbers that appears "sztemp + XXX":

Line 1396:
        CPLPrintStringFill( szTemp + 384,"GDAL: Image band created
with GDAL", 64 );
        CPLPrintTime( szTemp + 448, 16, "%H:%M %d-%b-%y ", &oUpdateTime, "C" );
        CPLPrintStringFill( szTemp + 464, "", 80 * 7 );

Can someone give me a hint how to use it ?

Regards,

Edu
From randre at gmail.com  Tue Jun 22 11:47:24 2010
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Tue Jun 22 12:28:41 2010
Subject: [gdal-dev] Can VRT be used to control display order of images in 
	mosaic?
In-Reply-To: <4C20D3BE.20003@pobox.com>
References: <AANLkTimN_micG9xgO2I0SJUwztmGY6nwPw7z0Y1I4fWQ@mail.gmail.com>
	<4C20D3BE.20003@pobox.com>
Message-ID: <AANLkTikr_nbbSYvq-PKKxlCz09IfbJovnA3re6uyd2Cw@mail.gmail.com>

Hi Frank,

Thanks for the reply.  It might be worth keeping the option to control layer
ordering somehow in a mosaic.  The reason I'm exploring this is to see if
it's possible to emulate the ArcGIS 10 "closest to center" behavior.  I'm
thinking that if I dynamically write the VRT, I can control how images are
overlapped in response to the BBOX extents specified in a WMS request.

Roger
--

On Tue, Jun 22, 2010 at 8:16 AM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Roger Andr? wrote:
>
>> Hi All,
>>
>> I'd like to control the order in which overlapping images are displayed in
>> a mosaic.  Is it possible to do that by using a VRT, and altering the order
>> in which the files are defined in it?
>>
>> The online doc for gdalbuildvrt states, "If there is some amount of
>> spatial overlapping between files, the order may depend on the order they
>> are inserted in the VRT file, but this behaviour should not be relied on."
>>
>> Not sure if this disclaimer is for the gdalbuildvrt utility, or describes
>> the generic behavior of a raster VRT.
>>
>
> Roger,
>
> I believe the statement applies to the VRT format itself.  I have looked
> at the code, and it always applies them linearly based on the order they
> appear in the .VRT list of sources.  I think you could depend on it "for
> now"
> though in a future version we might do something more fancy that would
> result in alternate ordering.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/b73b7db0/attachment.html
From eduardo.ramalho at gmail.com  Tue Jun 22 13:11:27 2010
From: eduardo.ramalho at gmail.com (EduRam)
Date: Tue Jun 22 13:11:29 2010
Subject: [gdal-dev] How to use CPLPrintTime ?
In-Reply-To: <AANLkTimAlx7E7a5Y6TMScL3QaqziMgQXHhGD2P0dyD6z@mail.gmail.com>
References: <AANLkTimAlx7E7a5Y6TMScL3QaqziMgQXHhGD2P0dyD6z@mail.gmail.com>
Message-ID: <1277226687223-5209862.post@n2.nabble.com>


Hi again!

I found that "gdalhttp.cpp" logs messages with CPLDebug() function.
Inside that I found that if CPL_TIMESTAMP is set, then a time stamp is also
printed.
But the time does not have milliseconds precision. 
Is it possible to change that time format ?

Thanks,

Edu

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-How-to-use-CPLPrintTime-tp5209593p5209862.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From robert.zermeno at navy.mil  Tue Jun 22 13:46:27 2010
From: robert.zermeno at navy.mil (Zermeno, Robert J CIV NAVAIR, 472100D)
Date: Tue Jun 22 13:46:37 2010
Subject: [gdal-dev] RE:GDAL,
	WinCE dll error when using in my own simple project
In-Reply-To: <20100622161058.2AAC2E01B86@lists.osgeo.org>
References: <20100622161058.2AAC2E01B86@lists.osgeo.org>
Message-ID: <F8A8A114E3F41D4D9157F1BECCA3BA9103389886@nawechlkez02v.nadsuswe.nads.navy.mil>

Everyone,

When it comes to compiling WinCE in MSVC80, I get all of those error messages.  However, when I compile in EVC4.0 IDE, it will compile cleanly, but when I try to link the file, I would get the same exact error messages.  

Can someone tell me what files to use.  I have compiled both current SVN trunk and GDAL 1.4.0 versions.  For version most current, SVN Trunk, it is missing three files related to gtiff library and one ogr core file, ogr_geos_convert.h (I believe that is the name).  All I did was added the files from GDAL 1.4.0 to the SVN trunk (it will cleanly build with no errors but the ones metioned in first email with LNK2001 and LNK2019 errors.

Thanks,
Robert 


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of gdal-dev-request@lists.osgeo.org
Sent: Tuesday, June 22, 2010 9:11
To: gdal-dev@lists.osgeo.org
Subject: gdal-dev Digest, Vol 73, Issue 47

Send gdal-dev mailing list submissions to
	gdal-dev@lists.osgeo.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://lists.osgeo.org/mailman/listinfo/gdal-dev
or, via email, send a message with subject or body 'help' to
	gdal-dev-request@lists.osgeo.org

You can reach the person managing the list at
	gdal-dev-owner@lists.osgeo.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of gdal-dev digest..."


Today's Topics:

   1. 	GDAL, WinCE dll error when using in my own simple project
      (Zermeno, Robert J CIV NAVAIR, 472100D)
   2. I am trying to run gdal_polygonize.py and I get the	following
      error: gdal.Polygonize() not available. (John Mitchell)


----------------------------------------------------------------------

Message: 1
Date: Tue, 22 Jun 2010 09:08:37 -0700
From: "Zermeno, Robert J CIV NAVAIR, 472100D"
	<robert.zermeno@navy.mil>
Subject: [gdal-dev] 	GDAL, WinCE dll error when using in my own simple
	project
To: <gdal-dev@lists.osgeo.org>
Message-ID:
	<F8A8A114E3F41D4D9157F1BECCA3BA91033897BC@nawechlkez02v.nadsuswe.nads.navy.mil>
	
Content-Type: text/plain; charset="us-ascii"

I hope someone has remembered the capability issues concerning WinCE and GDAL (since its not really being maintained right now).  My issue is I am able to use the provided MSVC++ 2005 gdal project files and build the project to obtain a gdalce_i.lib and gdalce.dll files.

I created two projects, one in EVC4.0 and MSVC++ 2005 IDE.  Both compilers have provided me with the following error when I try to statically link the DLL and use:

#include "gdal_priv.h"

...
GDALAllRegister();

I followed the building and installation guide from: http://www.gdal.org/wince.html, and it all works, but I get the following error messages when I try to use the DLL:

1>------ Build started: Project: WinCE_G, Configuration: Debug Pocket PC 
1>2003 (ARMV4) ------ Compiling...
1>cl : Command line warning D9035 : option 'GX' has been deprecated and 
1>will be removed in a future release cl : Command line warning D9025 : overriding '/GR-' with '/GR'
1>stdafx.cpp
1>Compiling...
1>cl : Command line warning D9035 : option 'GX' has been deprecated and 
1>will be removed in a future release cl : Command line warning D9025 : overriding '/GR-' with '/GR'
1>WinCE_G.cpp
1>Linking...
1>   Creating library Pocket PC 2003 (ARMV4)\Debug/WinCE_G.lib and 
1>object Pocket PC 2003 (ARMV4)\Debug/WinCE_G.exp WinCE_G.obj : error 
1>LNK2001: unresolved external symbol "public: virtual char const * 
1>__cdecl GDALMajorObject::GetDescription(void)const " 
1>(?GetDescription@GDALMajorObject@@UBAPBDXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual void __cdecl GDALMajorObject::SetDescription(char const *)" 
1>(?SetDescription@GDALMajorObject@@UAAXPBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual char * * __cdecl GDALMajorObject::GetMetadata(char const *)" 
1>(?GetMetadata@GDALMajorObject@@UAAPAPADPBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALMajorObject::SetMetadata(char * *,char 
1>const *)" (?SetMetadata@GDALMajorObject@@UAA?AW4CPLErr@@PAPADPBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual char const * __cdecl GDALMajorObject::GetMetadataItem(char 
1>const *,char const *)" 
1>(?GetMetadataItem@GDALMajorObject@@UAAPBDPBD0@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALMajorObject::SetMetadataItem(char 
1>const *,char const *,char const *)" 
1>(?SetMetadataItem@GDALMajorObject@@UAA?AW4CPLErr@@PBD00@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: 
1>virtual __cdecl GDALMajorObject::~GDALMajorObject(void)" 
1>(??1GDALMajorObject@@UAA@XZ) referenced in function "public: virtual 
1>void * __cdecl GDALMajorObject::`scalar deleting destructor'(unsigned 
1>int)" (??_GGDALMajorObject@@UAAPAXI@Z) WinCE_G.obj : error LNK2001: 
1>unresolved external symbol "protected: virtual enum CPLErr __cdecl 
1>GDALDataset::IBuildOverviews(char const *,int,int *,int,int *,int 
1>(__cdecl*)(double,char const *,void *),void *)" 
1>(?IBuildOverviews@GDALDataset@@MAA?AW4CPLErr@@PBDHPAHH1P6AHN0PAX@Z2@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: 
1>virtual enum CPLErr __cdecl GDALDataset::IRasterIO(enum 
1>GDALRWFlag,int,int,int,int,void *,int,int,enum GDALDataType,int,int 
1>*,int,int,int)" 
1>(?IRasterIO@GDALDataset@@MAA?AW4CPLErr@@W4GDALRWFlag@@HHHHPAXHHW4GDALD
1>ataType@@HPAHHHH@Z) WinCE_G.obj : error LNK2001: unresolved external 
1>symbol "public: virtual void __cdecl GDALDataset::FlushCache(void)" 
1>(?FlushCache@GDALDataset@@UAAXXZ) WinCE_G.obj : error LNK2001: 
1>unresolved external symbol "public: virtual char const * __cdecl 
1>GDALDataset::GetProjectionRef(void)" 
1>(?GetProjectionRef@GDALDataset@@UAAPBDXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALDataset::SetProjection(char const *)" 
1>(?SetProjection@GDALDataset@@UAA?AW4CPLErr@@PBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALDataset::GetGeoTransform(double *)" 
1>(?GetGeoTransform@GDALDataset@@UAA?AW4CPLErr@@PAN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALDataset::SetGeoTransform(double *)" 
1>(?SetGeoTransform@GDALDataset@@UAA?AW4CPLErr@@PAN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALDataset::AddBand(enum 
1>GDALDataType,char * *)" 
1>(?AddBand@GDALDataset@@UAA?AW4CPLErr@@W4GDALDataType@@PAPAD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual void * __cdecl GDALDataset::GetInternalHandle(char const *)" 
1>(?GetInternalHandle@GDALDataset@@UAAPAXPBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual class GDALDriver * __cdecl GDALDataset::GetDriver(void)" 
1>(?GetDriver@GDALDataset@@UAAPAVGDALDriver@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual char * * __cdecl GDALDataset::GetFileList(void)" 
1>(?GetFileList@GDALDataset@@UAAPAPADXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual int __cdecl GDALDataset::GetGCPCount(void)" 
1>(?GetGCPCount@GDALDataset@@UAAHXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual char const * __cdecl GDALDataset::GetGCPProjection(void)" 
1>(?GetGCPProjection@GDALDataset@@UAAPBDXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual struct GDAL_GCP const * __cdecl GDALDataset::GetGCPs(void)" 
1>(?GetGCPs@GDALDataset@@UAAPBUGDAL_GCP@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALDataset::SetGCPs(int,struct GDAL_GCP 
1>const *,char const *)" 
1>(?SetGCPs@GDALDataset@@UAA?AW4CPLErr@@HPBUGDAL_GCP@@PBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl 
1>GDALDataset::AdviseRead(int,int,int,int,int,int,enum 
1>GDALDataType,int,int *,char * *)" 
1>(?AdviseRead@GDALDataset@@UAA?AW4CPLErr@@HHHHHHW4GDALDataType@@HPAHPAP
1>AD@Z) WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALDataset::CreateMaskBand(int)" 
1>(?CreateMaskBand@GDALDataset@@UAA?AW4CPLErr@@H@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual class GDALAsyncReader * __cdecl 
1>GDALDataset::BeginAsyncReader(int,int,int,int,void *,int,int,enum 
1>GDALDataType,int,int *,int,int,int,char * *)" 
1>(?BeginAsyncReader@GDALDataset@@UAAPAVGDALAsyncReader@@HHHHPAXHHW4GDAL
1>DataType@@HPAHHHHPAPAD@Z) WinCE_G.obj : error LNK2001: unresolved 
1>external symbol "public: virtual void __cdecl 
1>GDALDataset::EndAsyncReader(class GDALAsyncReader *)" 
1>(?EndAsyncReader@GDALDataset@@UAAXPAVGDALAsyncReader@@@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: 
1>virtual __cdecl GDALDataset::~GDALDataset(void)" 
1>(??1GDALDataset@@UAA@XZ) referenced in function "public: virtual void 
1>* __cdecl GDALDataset::`scalar deleting destructor'(unsigned int)" 
1>(??_GGDALDataset@@UAAPAXI@Z) WinCE_G.obj : error LNK2019: unresolved 
1>external symbol "public: virtual __cdecl 
1>GDALRasterBlock::~GDALRasterBlock(void)" (??1GDALRasterBlock@@UAA@XZ) 
1>referenced in function "public: virtual void * __cdecl 
1>GDALRasterBlock::`scalar deleting destructor'(unsigned int)" 
1>(??_GGDALRasterBlock@@UAAPAXI@Z) WinCE_G.obj : error LNK2019: 
1>unresolved external symbol "public: __cdecl 
1>GDALColorTable::GDALColorTable(enum GDALPaletteInterp)" 
1>(??0GDALColorTable@@QAA@W4GDALPaletteInterp@@@Z) referenced in 
1>function "public: void __cdecl GDALColorTable::`default constructor 
1>closure'(void)" (??_FGDALColorTable@@QAAXXZ) WinCE_G.obj : error 
1>LNK2001: unresolved external symbol "protected: virtual enum CPLErr 
1>__cdecl GDALRasterBand::IWriteBlock(int,int,void *)" 
1>(?IWriteBlock@GDALRasterBand@@MAA?AW4CPLErr@@HHPAX@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: 
1>virtual enum CPLErr __cdecl GDALRasterBand::IRasterIO(enum 
1>GDALRWFlag,int,int,int,int,void *,int,int,enum GDALDataType,int,int)" 
1>(?IRasterIO@GDALRasterBand@@MAA?AW4CPLErr@@W4GDALRWFlag@@HHHHPAXHHW4GD
1>ALDataType@@HH@Z) WinCE_G.obj : error LNK2001: unresolved external 
1>symbol "public: virtual enum CPLErr __cdecl 
1>GDALRasterBand::FlushCache(void)" 
1>(?FlushCache@GDALRasterBand@@UAA?AW4CPLErr@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual char * * __cdecl GDALRasterBand::GetCategoryNames(void)" 
1>(?GetCategoryNames@GDALRasterBand@@UAAPAPADXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual double __cdecl GDALRasterBand::GetNoDataValue(int *)" 
1>(?GetNoDataValue@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual double __cdecl GDALRasterBand::GetMinimum(int *)" 
1>(?GetMinimum@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual double __cdecl GDALRasterBand::GetMaximum(int *)" 
1>(?GetMaximum@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual double __cdecl GDALRasterBand::GetOffset(int *)" 
1>(?GetOffset@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual double __cdecl GDALRasterBand::GetScale(int *)" 
1>(?GetScale@GDALRasterBand@@UAANPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual char const * __cdecl GDALRasterBand::GetUnitType(void)" 
1>(?GetUnitType@GDALRasterBand@@UAAPBDXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum GDALColorInterp __cdecl 
1>GDALRasterBand::GetColorInterpretation(void)" 
1>(?GetColorInterpretation@GDALRasterBand@@UAA?AW4GDALColorInterp@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual class GDALColorTable * __cdecl 
1>GDALRasterBand::GetColorTable(void)" 
1>(?GetColorTable@GDALRasterBand@@UAAPAVGDALColorTable@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::Fill(double,double)" 
1>(?Fill@GDALRasterBand@@UAA?AW4CPLErr@@NN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::SetCategoryNames(char * 
1>*)" (?SetCategoryNames@GDALRasterBand@@UAA?AW4CPLErr@@PAPAD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::SetNoDataValue(double)" 
1>(?SetNoDataValue@GDALRasterBand@@UAA?AW4CPLErr@@N@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::SetColorTable(class 
1>GDALColorTable *)" 
1>(?SetColorTable@GDALRasterBand@@UAA?AW4CPLErr@@PAVGDALColorTable@@@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl 
1>GDALRasterBand::SetColorInterpretation(enum GDALColorInterp)" 
1>(?SetColorInterpretation@GDALRasterBand@@UAA?AW4CPLErr@@W4GDALColorInt
1>erp@@@Z) WinCE_G.obj : error LNK2001: unresolved external symbol 
1>"public: virtual enum CPLErr __cdecl 
1>GDALRasterBand::SetOffset(double)" 
1>(?SetOffset@GDALRasterBand@@UAA?AW4CPLErr@@N@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::SetScale(double)" 
1>(?SetScale@GDALRasterBand@@UAA?AW4CPLErr@@N@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::SetUnitType(char const *)" 
1>(?SetUnitType@GDALRasterBand@@UAA?AW4CPLErr@@PBD@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl 
1>GDALRasterBand::GetStatistics(int,int,double *,double *,double 
1>*,double *)" 
1>(?GetStatistics@GDALRasterBand@@UAA?AW4CPLErr@@HHPAN000@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl 
1>GDALRasterBand::ComputeStatistics(int,double *,double *,double 
1>*,double *,int (__cdecl*)(double,char const *,void *),void *)" 
1>(?ComputeStatistics@GDALRasterBand@@UAA?AW4CPLErr@@HPAN000P6AHNPBDPAX@
1>Z2@Z) WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl 
1>GDALRasterBand::SetStatistics(double,double,double,double)" 
1>(?SetStatistics@GDALRasterBand@@UAA?AW4CPLErr@@NNNN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl 
1>GDALRasterBand::ComputeRasterMinMax(int,double *)" 
1>(?ComputeRasterMinMax@GDALRasterBand@@UAA?AW4CPLErr@@HPAN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual int __cdecl GDALRasterBand::HasArbitraryOverviews(void)" 
1>(?HasArbitraryOverviews@GDALRasterBand@@UAAHXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual int __cdecl GDALRasterBand::GetOverviewCount(void)" 
1>(?GetOverviewCount@GDALRasterBand@@UAAHXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual class GDALRasterBand * __cdecl 
1>GDALRasterBand::GetOverview(int)" 
1>(?GetOverview@GDALRasterBand@@UAAPAV1@H@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual class GDALRasterBand * __cdecl 
1>GDALRasterBand::GetRasterSampleOverview(int)" 
1>(?GetRasterSampleOverview@GDALRasterBand@@UAAPAV1@H@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::BuildOverviews(char const 
1>*,int,int *,int (__cdecl*)(double,char const *,void *),void *)" 
1>(?BuildOverviews@GDALRasterBand@@UAA?AW4CPLErr@@PBDHPAHP6AHN0PAX@Z2@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl 
1>GDALRasterBand::AdviseRead(int,int,int,int,int,int,enum 
1>GDALDataType,char * *)" 
1>(?AdviseRead@GDALRasterBand@@UAA?AW4CPLErr@@HHHHHHW4GDALDataType@@PAPA
1>D@Z) WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl 
1>GDALRasterBand::GetHistogram(double,double,int,int *,int,int,int 
1>(__cdecl*)(double,char const *,void *),void *)" 
1>(?GetHistogram@GDALRasterBand@@UAA?AW4CPLErr@@NNHPAHHHP6AHNPBDPAX@Z2@Z
1>) WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::GetDefaultHistogram(double 
1>*,double *,int *,int * *,int,int (__cdecl*)(double,char const *,void 
1>*),void *)" 
1>(?GetDefaultHistogram@GDALRasterBand@@UAA?AW4CPLErr@@PAN0PAHPAPAHHP6AH
1>NPBDPAX@Z4@Z) WinCE_G.obj : error LNK2001: unresolved external symbol 
1>"public: virtual enum CPLErr __cdecl 
1>GDALRasterBand::SetDefaultHistogram(double,double,int,int *)" 
1>(?SetDefaultHistogram@GDALRasterBand@@UAA?AW4CPLErr@@NNHPAH@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual class GDALRasterAttributeTable const * __cdecl 
1>GDALRasterBand::GetDefaultRAT(void)" 
1>(?GetDefaultRAT@GDALRasterBand@@UAAPBVGDALRasterAttributeTable@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::SetDefaultRAT(class 
1>GDALRasterAttributeTable const *)" 
1>(?SetDefaultRAT@GDALRasterBand@@UAA?AW4CPLErr@@PBVGDALRasterAttributeT
1>able@@@Z) WinCE_G.obj : error LNK2001: unresolved external symbol 
1>"public: virtual class GDALRasterBand * __cdecl 
1>GDALRasterBand::GetMaskBand(void)" 
1>(?GetMaskBand@GDALRasterBand@@UAAPAV1@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual int __cdecl GDALRasterBand::GetMaskFlags(void)" 
1>(?GetMaskFlags@GDALRasterBand@@UAAHXZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual enum CPLErr __cdecl GDALRasterBand::CreateMaskBand(int)" 
1>(?CreateMaskBand@GDALRasterBand@@UAA?AW4CPLErr@@H@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: 
1>virtual __cdecl GDALRasterBand::~GDALRasterBand(void)" 
1>(??1GDALRasterBand@@UAA@XZ) referenced in function "public: virtual 
1>void * __cdecl GDALRasterBand::`scalar deleting destructor'(unsigned 
1>int)" (??_GGDALRasterBand@@UAAPAXI@Z) WinCE_G.obj : error LNK2001: 
1>unresolved external symbol "protected: virtual enum CPLErr __cdecl 
1>GDALAllValidMaskBand::IReadBlock(int,int,void *)" 
1>(?IReadBlock@GDALAllValidMaskBand@@MAA?AW4CPLErr@@HHPAX@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual class GDALRasterBand * __cdecl 
1>GDALAllValidMaskBand::GetMaskBand(void)" 
1>(?GetMaskBand@GDALAllValidMaskBand@@UAAPAVGDALRasterBand@@XZ)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual int __cdecl GDALAllValidMaskBand::GetMaskFlags(void)" 
1>(?GetMaskFlags@GDALAllValidMaskBand@@UAAHXZ)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: 
1>virtual __cdecl GDALAllValidMaskBand::~GDALAllValidMaskBand(void)" 
1>(??1GDALAllValidMaskBand@@UAA@XZ) referenced in function "public: 
1>virtual void * __cdecl GDALAllValidMaskBand::`scalar deleting 
1>destructor'(unsigned int)" (??_GGDALAllValidMaskBand@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: 
1>virtual enum CPLErr __cdecl 
1>GDALNoDataMaskBand::IReadBlock(int,int,void *)" 
1>(?IReadBlock@GDALNoDataMaskBand@@MAA?AW4CPLErr@@HHPAX@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: 
1>virtual __cdecl GDALNoDataMaskBand::~GDALNoDataMaskBand(void)" 
1>(??1GDALNoDataMaskBand@@UAA@XZ) referenced in function "public: 
1>virtual void * __cdecl GDALNoDataMaskBand::`scalar deleting 
1>destructor'(unsigned int)" (??_GGDALNoDataMaskBand@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "protected: 
1>virtual enum CPLErr __cdecl 
1>GDALNoDataValuesMaskBand::IReadBlock(int,int,void *)" 
1>(?IReadBlock@GDALNoDataValuesMaskBand@@MAA?AW4CPLErr@@HHPAX@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: 
1>virtual __cdecl 
1>GDALNoDataValuesMaskBand::~GDALNoDataValuesMaskBand(void)" 
1>(??1GDALNoDataValuesMaskBand@@UAA@XZ) referenced in function "public: 
1>virtual void * __cdecl GDALNoDataValuesMaskBand::`scalar deleting 
1>destructor'(unsigned int)" (??_GGDALNoDataValuesMaskBand@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: 
1>virtual __cdecl GDALDriver::~GDALDriver(void)" (??1GDALDriver@@UAA@XZ) 
1>referenced in function "public: virtual void * __cdecl 
1>GDALDriver::`scalar deleting destructor'(unsigned int)" 
1>(??_GGDALDriver@@UAAPAXI@Z) WinCE_G.obj : error LNK2019: unresolved 
1>external symbol "public: virtual __cdecl 
1>GDALDriverManager::~GDALDriverManager(void)" 
1>(??1GDALDriverManager@@UAA@XZ) referenced in function "public: virtual 
1>void * __cdecl GDALDriverManager::`scalar deleting 
1>destructor'(unsigned int)" (??_GGDALDriverManager@@UAAPAXI@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual int __cdecl GDALAsyncReader::LockBuffer(double)" 
1>(?LockBuffer@GDALAsyncReader@@UAAHN@Z)
1>WinCE_G.obj : error LNK2001: unresolved external symbol "public: 
1>virtual void __cdecl GDALAsyncReader::UnlockBuffer(void)" 
1>(?UnlockBuffer@GDALAsyncReader@@UAAXXZ)
1>WinCE_G.obj : error LNK2019: unresolved external symbol "public: 
1>virtual __cdecl GDALAsyncReader::~GDALAsyncReader(void)" 
1>(??1GDALAsyncReader@@UAA@XZ) referenced in function "public: virtual 
1>void * __cdecl GDALAsyncReader::`scalar deleting destructor'(unsigned 
1>int)" (??_GGDALAsyncReader@@UAAPAXI@Z) WinCE_G.obj : error LNK2019: 
1>unresolved external symbol GDALAllRegister referenced in function 
1>"long __cdecl WndProc(struct HWND__ *,unsigned int,unsigned int,long)" 
1>(?WndProc@@YAJPAUHWND__@@IIJ@Z) Pocket PC 2003 
1>(ARMV4)\Debug/WinCE_G.exe : fatal error LNK1120: 82 unresolved 
1>externals


************************

There are a lot of LNK2001 and a LNK2019 errors.  I thought it might be not including the proper include files.  I obtain the include files from the include files exported when compiling for VS2008.
I properly linked the DLL by adding the VC++ directories for Include and Library Files.  I also placed the gdalce_i.lib file into the Additional Dependences tab.

What other options can I do or is there something I am not seeing?

Thanks,
Robert
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/804e4ab3/smime-0001.bin

------------------------------

Message: 2
Date: Tue, 22 Jun 2010 12:10:53 -0400
From: John Mitchell <mitchelljj98@gmail.com>
Subject: [gdal-dev] I am trying to run gdal_polygonize.py and I get
	the	following error: gdal.Polygonize() not available.
To: gdal-dev <gdal-dev@lists.osgeo.org>
Cc: John Mitchell <mitchelljj98@gmail.com>,	"John J. Mitchell"
	<jmitchell@insequenceinc.com>
Message-ID:
	<AANLkTimkoI-Kv53Ob08VRBOr8s79jLjkf8CZyJNM64nA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am trying to run gdal_polygonize.py and I get the following error:
gdal.Polygonize() not available.  You are likely using "old gen"
bindings or an older version of the next gen bindings.

Anyone have any idea how I can get gdal_polygonize to run within FWTools 2.4.7?

Below is the command and error from the command line.

Thanks,

John

C:\Program Files\FWTools2.4.7>python
"%FWTOOLS_DIR%\bin\gdal_polygonize.py"
E:\Jacksonville-StJohns_output\all_tiles\converted1\64_w3.tif
c:\jacksonville-stjohns_gdal_polygonize.shp

gdal.Polygonize() not available.  You are likely using "old gen"
bindings or an older version of the next gen bindings.


------------------------------

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

End of gdal-dev Digest, Vol 73, Issue 47
****************************************
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/a7a94349/smime-0001.bin
From chaitanya.ch at gmail.com  Tue Jun 22 13:58:39 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Jun 22 13:58:42 2010
Subject: [gdal-dev] How to use CPLPrintTime ?
In-Reply-To: <AANLkTimAlx7E7a5Y6TMScL3QaqziMgQXHhGD2P0dyD6z@mail.gmail.com>
References: <AANLkTimAlx7E7a5Y6TMScL3QaqziMgQXHhGD2P0dyD6z@mail.gmail.com>
Message-ID: <AANLkTim5odRPjgbt4Zj2yTAlEqAfBM_yvvJf7TCmKEgL@mail.gmail.com>

Eduardo,

In line 1398, 'szTemp + 448' is the pointer to the buffer, '16' is the
maximum length to be written by CPLPrintTime, next is the the format. Don't
bother about the numbers 384, 448, 464, etc.

On Tue, Jun 22, 2010 at 9:49 PM, Eduardo Ramalho
<eduardo.ramalho@gmail.com>wrote:

> Hi!
>
> I am trying to print timestamps in WMS driver.
> I would like to use GDAL CPLPrintTime to do that.
>
> I searched for use samples and found "pcidskdataset.cpp" but I don't
> understand the "magic" numbers that appears "sztemp + XXX":
>
> Line 1396:
>        CPLPrintStringFill( szTemp + 384,"GDAL: Image band created
> with GDAL", 64 );
>        CPLPrintTime( szTemp + 448, 16, "%H:%M %d-%b-%y ", &oUpdateTime, "C"
> );
>        CPLPrintStringFill( szTemp + 464, "", 80 * 7 );
>
> Can someone give me a hint how to use it ?
>
> Regards,
>
> Edu
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100622/98052afb/attachment.html
From warmerdam at pobox.com  Tue Jun 22 14:40:09 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 22 14:40:16 2010
Subject: [gdal-dev] I am trying to run gdal_polygonize.py and I get the
	following error: gdal.Polygonize() not available.
In-Reply-To: <AANLkTimkoI-Kv53Ob08VRBOr8s79jLjkf8CZyJNM64nA@mail.gmail.com>
References: <AANLkTimkoI-Kv53Ob08VRBOr8s79jLjkf8CZyJNM64nA@mail.gmail.com>
Message-ID: <4C210389.9030408@pobox.com>

John Mitchell wrote:
> Hi,
> 
> I am trying to run gdal_polygonize.py and I get the following error:
> gdal.Polygonize() not available.  You are likely using "old gen"
> bindings or an older version of the next gen bindings.
> 
> Anyone have any idea how I can get gdal_polygonize to run within FWTools 2.4.7?
> 
> Below is the command and error from the command line.

John,

I'm afraid that polygonize support is not available with FWTools.
You could use OSGeo4W or other more modern GDAL binaries.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan.lucena at pmldnet.com  Tue Jun 22 13:46:43 2010
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Tue Jun 22 17:47:51 2010
Subject: [gdal-dev] Maintenance report
Message-ID: <4C20F703.4010902@pmldnet.com>

Apr 1, 2010 to Jun 20, 2010

Tickets

#3526: MG4 Lidar Driver contribution

#3486: Russian and Portuguese translation are missing the css

#3597: HDF4 - Cannot read HDF-SD TRMM 3B42 and 3B43

#3619: Polygonize should have a connectedness parameter

#3623: UTM Zone Computation Stability Issue

#1960: ogr2ogr with append option is not considering layer creation option(lco) values

#3635: libkml, Integrate driver to Windows

[http://trac.osgeo.org/gdal/wiki/MaintenanceReportsByIvanLucena]
From wonder.sk at gmail.com  Tue Jun 22 18:12:34 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Tue Jun 22 18:12:37 2010
Subject: [gdal-dev] Multithreading with OGR
Message-ID: <AANLkTinddqlTwSMEsIZ48wTGkWZ5J7OedZyKL8h9Fm8L@mail.gmail.com>

Hi all,

in my GSoC project [1] I'm trying to employ multithreading to make
rendering in QGIS both faster (on multi-core machines) and more
pleasant to use (not blocking GUI thread while rendering). I've been
successful with making that work in "ideal" conditions (no concurrent
reads/writes) and now the hard part comes: to make the implementation
thread-safe. OGR is an important data provider, so I'd like to ask you
for some hints how to do the things correctly.

I've seen there have been some efforts to make OGR thread-safe - in
RFC 16 [2]. In the RFC it is not clear in what parts have been
implemented, but from the code I guess it ended up with only making
driver registrar and data source classes thread-safe. In QGIS
everything basically runs in the main thread, worker threads are
spawned only when rendering the map. A worker thread for rendering
only reads the features from data source and I can make sure that main
thread doesn't do any write operations while the threaded rendering is
in place. So my only problem is to avoid concurrent reads from both
main thread and worker thread. How can be this best accomplished
without serializing the access?

Currently I think of creating a temporary clone of the OGRLayer for
purposes of reading features in worker thread.
Is that feasible - are the drivers reentrant - at least within their
reading routines?
Is it generally costly to create another instance of the same layer?
When a write operation happens in main thread, will be the change
visible in the cloned layer for worker thread or is it necessary (for
some drivers) to recreate the cloned layer?

[1] http://blog.qgis.org/node/144
[2] http://trac.osgeo.org/gdal/wiki/rfc16_ogr_reentrancy

Thanks in advance for any hints.

Regards
Martin
From ari.jolma at gmail.com  Wed Jun 23 01:32:37 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed Jun 23 01:32:40 2010
Subject: [gdal-dev] Multithreading with OGR
In-Reply-To: <AANLkTinddqlTwSMEsIZ48wTGkWZ5J7OedZyKL8h9Fm8L@mail.gmail.com>
References: <AANLkTinddqlTwSMEsIZ48wTGkWZ5J7OedZyKL8h9Fm8L@mail.gmail.com>
Message-ID: <4C219C75.7090507@gmail.com>

Martin,

Just a comment. In Geoinformatica, which uses GTK+, I've begun to 
address the same kind of problem using the functions provided by GTK+. 
So far I've not used this on rendering and I've not thought about all 
the consequencies. In some expectedly lengthly GDAL operations it 
provides a mechanism in the function API to report progress. I've begun 
experimenting with this and added

Gtk2->main_iteration while Gtk2->events_pending;

into the progress function in addition to updating the progressbar 
(Geoinformatica uses GTK+ Perl, that is a line of Perl code). I assume 
Qt provides something similar. This makes sure the application stays 
responsive during the operation and allows the user to do other things. 
I assume I could do the same for rendering, i.e., let GTK+ process 
pending events occasionally. As I said, I'm not sure about all possible 
consequencies. Reentrancy would surely be required, but not necessarily 
thread-safeness, which is more demanding.

Best regards,

Ari

Martin Dobias kirjoitti:
> Hi all,
>
> in my GSoC project [1] I'm trying to employ multithreading to make
> rendering in QGIS both faster (on multi-core machines) and more
> pleasant to use (not blocking GUI thread while rendering). I've been
> successful with making that work in "ideal" conditions (no concurrent
> reads/writes) and now the hard part comes: to make the implementation
> thread-safe. OGR is an important data provider, so I'd like to ask you
> for some hints how to do the things correctly.
>
> I've seen there have been some efforts to make OGR thread-safe - in
> RFC 16 [2]. In the RFC it is not clear in what parts have been
> implemented, but from the code I guess it ended up with only making
> driver registrar and data source classes thread-safe. In QGIS
> everything basically runs in the main thread, worker threads are
> spawned only when rendering the map. A worker thread for rendering
> only reads the features from data source and I can make sure that main
> thread doesn't do any write operations while the threaded rendering is
> in place. So my only problem is to avoid concurrent reads from both
> main thread and worker thread. How can be this best accomplished
> without serializing the access?
>
> Currently I think of creating a temporary clone of the OGRLayer for
> purposes of reading features in worker thread.
> Is that feasible - are the drivers reentrant - at least within their
> reading routines?
> Is it generally costly to create another instance of the same layer?
> When a write operation happens in main thread, will be the change
> visible in the cloned layer for worker thread or is it necessary (for
> some drivers) to recreate the cloned layer?
>
> [1] http://blog.qgis.org/node/144
> [2] http://trac.osgeo.org/gdal/wiki/rfc16_ogr_reentrancy
>
> Thanks in advance for any hints.
>
> Regards
> Martin
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>   

From mail2vajram at gmail.com  Wed Jun 23 05:07:05 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Wed Jun 23 05:07:07 2010
Subject: [gdal-dev] how to get pixel vlaue of specific color
Message-ID: <1277284025684-5212348.post@n2.nabble.com>


My image having pixel values between 0 to 8(classified image). The following
code is used to read the colors of the image. Here i want know the pixel
value of the specific color.

Band band = ds.GetRasterBand(1);
            ColorTable ct = band.GetRasterColorTable();
            
            for (int i = 0; i < ct.GetCount(); i++)
            {
                ColorEntry ce = ct.GetColorEntry(i);
                Color cr1 = Color.FromArgb(ce.c4, ce.c1, ce.c2, ce.c3);               
            }

suppose here i am getting yellow, brown,blue,.......i want to know pixel
value of the image where yellow color is located, like this brown,blue
etc...............

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-to-get-pixel-vlaue-of-specific-color-tp5212348p5212348.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From wonder.sk at gmail.com  Wed Jun 23 06:52:50 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Jun 23 06:52:53 2010
Subject: [gdal-dev] Multithreading with OGR
In-Reply-To: <4C219C75.7090507@gmail.com>
References: <AANLkTinddqlTwSMEsIZ48wTGkWZ5J7OedZyKL8h9Fm8L@mail.gmail.com>
	<4C219C75.7090507@gmail.com>
Message-ID: <AANLkTilwlsbBemLKQIwP5m7rLpUIaKwCPg_tsuj1kDAD@mail.gmail.com>

Hi Ari

On Wed, Jun 23, 2010 at 7:32 AM, Ari Jolma <ari.jolma@gmail.com> wrote:
> Martin,
>
> Just a comment. In Geoinformatica, which uses GTK+, I've begun to address
> the same kind of problem using the functions provided by GTK+. So far I've
> not used this on rendering and I've not thought about all the consequencies.
> In some expectedly lengthly GDAL operations it provides a mechanism in the
> function API to report progress. I've begun experimenting with this and
> added
>
> Gtk2->main_iteration while Gtk2->events_pending;

This is something we've been using until now in QGIS - entering event
loop while rendering to handle events. But this limits the overall
usability a lot, because lots of GUI features have to be disabled to
avoid concurrent read access and recursive redraws of map. Another
limitation of that approach is the inability to make use of multi-core
processors. I believe that rendering in worker threads is the way to
go for desktop GIS apps.

Regards
Martin
From chaitanya.ch at gmail.com  Wed Jun 23 09:00:37 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Jun 23 09:00:43 2010
Subject: [gdal-dev] how to get pixel vlaue of specific color
In-Reply-To: <1277284025684-5212348.post@n2.nabble.com>
References: <1277284025684-5212348.post@n2.nabble.com>
Message-ID: <AANLkTille7lhpTI1lLkI1Zhcw83VgbGiFGo3Sd-9JI_z@mail.gmail.com>

Vajram,

There is no way to refer the pixel value by a color. In fact, a color
can be assigned to muliple pixel values.

You will have to iterate throuh the color entries to look for your color.

On 6/23/10, mail2vajram <mail2vajram@gmail.com> wrote:
>
> My image having pixel values between 0 to 8(classified image). The following
> code is used to read the colors of the image. Here i want know the pixel
> value of the specific color.
>
> Band band = ds.GetRasterBand(1);
>             ColorTable ct = band.GetRasterColorTable();
>
>             for (int i = 0; i < ct.GetCount(); i++)
>             {
>                 ColorEntry ce = ct.GetColorEntry(i);
>                 Color cr1 = Color.FromArgb(ce.c4, ce.c1, ce.c2, ce.c3);
>
>             }
>
> suppose here i am getting yellow, brown,blue,.......i want to know pixel
> value of the image where yellow color is located, like this brown,blue
> etc...............
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/how-to-get-pixel-vlaue-of-specific-color-tp5212348p5212348.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

-- 
Sent from my mobile device

Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
From wonder.sk at gmail.com  Wed Jun 23 10:21:04 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Wed Jun 23 10:21:09 2010
Subject: [gdal-dev] Multithreading with OGR
In-Reply-To: <AA6DDFA4E046A24585BC828A78155B47079FA1D0@US-MAIL.ingrnet.com>
References: <AA6DDFA4E046A24585BC828A78155B47079FA1D0@US-MAIL.ingrnet.com>
Message-ID: <AANLkTinFVsobDzwJD-z63BpxwRFzXtO9hkxn5o_Dhgwz@mail.gmail.com>

Hi Ed

On Wed, Jun 23, 2010 at 3:18 PM, Grissom, Edward (Ed)
<ed.grissom@intergraph.com> wrote:
> In a previous message, Martin said:
>
>> So my only problem is to avoid concurrent reads from
>> both main thread and worker thread. How can be this
>> best accomplished without serializing the access?
>
> Your reads are eventually going to be serialized by the disk controller
> anyway, so what is the problem with serializing the access ? ? Just do
> it on a small enough scale that no thread gets starved.

You're right, but that is not what I had in my mind, sorry for being
unclear. When rendering from worker thread, I have to avoid this kind
of situations (considering one layer):

1. worker thread calls layer's ResetReading, then starts issuing
GetNextFeature calls
2. before worker thread is done, main thread calls layer's
ResetReading and also starts reading features
3. both main thread and worker thread do GetNextFeature calls, but
both get invalid results

This can happen e.g. when user tries to identify some features on map
while rendering is in progress. With the "serialization of access" I
meant serializing the calls: if main thread was going to read
features, it would first wait until rendering of that layer finishes
in worker thread. Clearly, with serialized access, there wouldn't be
much added value when using threading.

So, my main question is, if opening the same layer for worker thread
is a safe operation. That is, if both main and worker thread will
access (with GetNextFeature calls) their own copy of the layer,
whether they both end up with correct data.

Regards
Martin
From warmerdam at pobox.com  Wed Jun 23 10:58:14 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 23 10:58:22 2010
Subject: [gdal-dev] Multithreading with OGR
In-Reply-To: <AANLkTinFVsobDzwJD-z63BpxwRFzXtO9hkxn5o_Dhgwz@mail.gmail.com>
References: <AA6DDFA4E046A24585BC828A78155B47079FA1D0@US-MAIL.ingrnet.com>
	<AANLkTinFVsobDzwJD-z63BpxwRFzXtO9hkxn5o_Dhgwz@mail.gmail.com>
Message-ID: <4C222106.6030302@pobox.com>

Martin Dobias wrote:
>>> So my only problem is to avoid concurrent reads from
>>> both main thread and worker thread. How can be this
>>> best accomplished without serializing the access?
>> Your reads are eventually going to be serialized by the disk controller
>> anyway, so what is the problem with serializing the access ?   Just do
>> it on a small enough scale that no thread gets starved.
> 
> You're right, but that is not what I had in my mind, sorry for being
> unclear. When rendering from worker thread, I have to avoid this kind
> of situations (considering one layer):
> 
> 1. worker thread calls layer's ResetReading, then starts issuing
> GetNextFeature calls
> 2. before worker thread is done, main thread calls layer's
> ResetReading and also starts reading features
> 3. both main thread and worker thread do GetNextFeature calls, but
> both get invalid results
> 
> This can happen e.g. when user tries to identify some features on map
> while rendering is in progress. With the "serialization of access" I
> meant serializing the calls: if main thread was going to read
> features, it would first wait until rendering of that layer finishes
> in worker thread. Clearly, with serialized access, there wouldn't be
> much added value when using threading.
> 
> So, my main question is, if opening the same layer for worker thread
> is a safe operation. That is, if both main and worker thread will
> access (with GetNextFeature calls) their own copy of the layer,
> whether they both end up with correct data.

Martin,

Generally speaking it is not safe to have multiple threads making calls
into a single OGRLayer at the same time.  At the very least you will
encounter the "messing up" effect on GetNextFeature(), even if you
serialize calls, and if you don't serialize the calls to the OGRLayer
you will also face potentially severe problems and crashes.

With regard to RFC 16, only a little work in the existing code with
locks was implemented.  None of the TestCapability or GetLayerClone()
work was done.  I still think that the approach in the RFC is reasonable
but I don't currently have funding to pursue the matter.  There was
also some pushback at the time though I don't recall all the details.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From wonder.sk at gmail.com  Thu Jun 24 05:02:42 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Thu Jun 24 05:02:44 2010
Subject: [gdal-dev] Multithreading with OGR
In-Reply-To: <4C222106.6030302@pobox.com>
References: <AA6DDFA4E046A24585BC828A78155B47079FA1D0@US-MAIL.ingrnet.com>
	<AANLkTinFVsobDzwJD-z63BpxwRFzXtO9hkxn5o_Dhgwz@mail.gmail.com>
	<4C222106.6030302@pobox.com>
Message-ID: <AANLkTikQ9nTu3mUWeOZ4BPF2q6GK5zOsJTR60l8gGuki@mail.gmail.com>

Hi Frank

On Wed, Jun 23, 2010 at 4:58 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Martin,
>
> Generally speaking it is not safe to have multiple threads making calls
> into a single OGRLayer at the same time. ?At the very least you will
> encounter the "messing up" effect on GetNextFeature(), even if you
> serialize calls, and if you don't serialize the calls to the OGRLayer
> you will also face potentially severe problems and crashes.
>
> With regard to RFC 16, only a little work in the existing code with
> locks was implemented. ?None of the TestCapability or GetLayerClone()
> work was done. ?I still think that the approach in the RFC is reasonable
> but I don't currently have funding to pursue the matter. ?There was
> also some pushback at the time though I don't recall all the details.

My intent is to use two OGRLayer instances of the same layer: one
instance for handling various stuff in main thread, the other one in
worker thread for rendering. Can I expect the GetNextFeature calls to
be reentrant, i.e. can they be called from both threads simultaneously
using different instances of layers?

Regards
Martin
From gs.kevin1 at gmail.com  Thu Jun 24 10:40:14 2010
From: gs.kevin1 at gmail.com (GeoSpatial - Kevin)
Date: Thu Jun 24 10:46:00 2010
Subject: [gdal-dev] gdalwarp large imagery faster?
Message-ID: <AANLkTim8Fz820fCfakic7R8NA1wQVqlgZE3zQ_twnb07@mail.gmail.com>

Hi all,

I am trying to re-project a very large imagery (size 40,000 by 40,000
pixels, resolution ~120m) located at high latitudes (60N) to a standard
wgs84. By searching some previous posts, I come up with the following
command:

gdalwarp  -of EHdr -t_srs EPSG:4326 -tr 0.001111 0.001111 --config
GDAL_CACHEMAX 200 -wm 200 -wo SKIP_NOSOURCE=YES -r bilinear -multi
input_ice.tif output_ice.tif

it is working now but the speed is very slow - likely this will take 12
hours... Any way to speed up or am I wrong selecting those parameters?
Thanks.

Kevin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100625/72b2ae72/attachment.html
From matt.gregory at oregonstate.edu  Thu Jun 24 19:20:13 2010
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Thu Jun 24 19:26:54 2010
Subject: [gdal-dev] svn update problem with pcidsk
Message-ID: <1D673F86DDA00841A1216F04D1CE70D641848F4545@EXCH2.nws.oregonstate.edu>

Hi all,

Frank Warmerdam wrote on March 12:

> For a few months now the gdal/frmts/pcidsk/sdk directory has been 
> referenced from the pcidsk sdk subversion using svn:externals in 
> GDAL trunk.  This had the benefit of ensuing the latest pcidsk code was 
> always used with GDAL trunk.  However, it has had some downsides too. 
> ...
> Anyways, the problem are not insurmountable, but on balance I think 
> the benefits of using svn:external are outweighed by hassles and so I 
> have gotten rid of the svn:external and done an svn copy of the sdk 
> into the GDAL trunk.   I will refresh it periodically. 

I hadn't updated from SVN for a while, but when I tried today, I got this message:

  svn: URL 'https://svn.osgeo.org/gdal/sandbox/warmerdam/pcidsk/src' of 
  existing directory 'frmts\pcidsk\sdk' does not match expected URL 
  'https://svn.osgeo.org/gdal/trunk/gdal/frmts/pcidsk/sdk'

I'm guessing it's something that I'm doing incorrectly.  I'm not totally clear on the implications of svn:external, but is there a setting I need to tweak on my side?

thanks, matt 
From even.rouault at mines-paris.org  Thu Jun 24 19:36:43 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Jun 24 19:36:55 2010
Subject: [gdal-dev] svn update problem with pcidsk
In-Reply-To: <1D673F86DDA00841A1216F04D1CE70D641848F4545@EXCH2.nws.oregonstate.edu>
References: <1D673F86DDA00841A1216F04D1CE70D641848F4545@EXCH2.nws.oregonstate.edu>
Message-ID: <201006250136.45112.even.rouault@mines-paris.org>

Matt,

you're not doing anything wrong. that directory used to be a svn:external but 
this has changed in trunk a few months ago

Just rm -rf frmts/pcidsk/sdk

and svn update again

Le Friday 25 June 2010 01:20:13 Gregory, Matthew, vous avez ?crit?:
> Hi all,
>
> Frank Warmerdam wrote on March 12:
> > For a few months now the gdal/frmts/pcidsk/sdk directory has been
> > referenced from the pcidsk sdk subversion using svn:externals in
> > GDAL trunk.  This had the benefit of ensuing the latest pcidsk code was
> > always used with GDAL trunk.  However, it has had some downsides too.
> > ...
> > Anyways, the problem are not insurmountable, but on balance I think
> > the benefits of using svn:external are outweighed by hassles and so I
> > have gotten rid of the svn:external and done an svn copy of the sdk
> > into the GDAL trunk.   I will refresh it periodically.
>
> I hadn't updated from SVN for a while, but when I tried today, I got this
> message:
>
>   svn: URL 'https://svn.osgeo.org/gdal/sandbox/warmerdam/pcidsk/src' of
>   existing directory 'frmts\pcidsk\sdk' does not match expected URL
>   'https://svn.osgeo.org/gdal/trunk/gdal/frmts/pcidsk/sdk'
>
> I'm guessing it's something that I'm doing incorrectly.  I'm not totally
> clear on the implications of svn:external, but is there a setting I need to
> tweak on my side?
>
> thanks, matt
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From mail2vajram at gmail.com  Fri Jun 25 01:23:20 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Fri Jun 25 01:23:22 2010
Subject: [gdal-dev] The type initializer for 'OSGeo.GDAL.GdalPINVOKE' threw
 an exception. when gdal.Allregister() calls
Message-ID: <1277443400218-5220732.post@n2.nabble.com>


i installed fwtols2.4.7 previously.That time i worked  with gdal with out any
problem but now when i work with gdal it throws the following
exception.....why. how to fix this.


The type initializer for 'OSGeo.GDAL.GdalPINVOKE' threw an exception.

This is the way i used.....

[DllImport("kernel32.dll", CharSet = CharSet.Auto, SetLastError = true)]
        public static extern bool SetEnvironmentVariable(string lpname,
string lpvalue);
        string GDAL_HOME = @";C:\Program Files\FWTools2.4.7\bin";
string path = Environment.GetEnvironmentVariable("PATH");
            path += ";" + GDAL_HOME;
            SetEnvironmentVariable("PATH", path);
            Gdal.AllRegister();


help me thank you....
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/The-type-initializer-for-OSGeo-GDAL-GdalPINVOKE-threw-an-exception-when-gdal-Allregister-calls-tp5220732p5220732.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From gs.kevin1 at gmail.com  Fri Jun 25 03:30:13 2010
From: gs.kevin1 at gmail.com (GeoSpatial - Kevin)
Date: Fri Jun 25 03:30:14 2010
Subject: [gdal-dev] gdalwarp large imagery
Message-ID: <AANLkTimt3KP7BmAaVSfKeSg591WLR3J5rQGyi6-fCSMK@mail.gmail.com>

Hi all,

I am trying to re-project a very large image (size 40,000 by 40,000 pixels,
resolution ~120m) located at high latitudes (60N) to a standard wgs84. By
searching some previous posts, I come up with the following command:

gdalwarp  -of EHdr -t_srs EPSG:4326 -tr 0.001111 0.001111 --config
GDAL_CACHEMAX 200 -wm 200 -wo SKIP_NOSOURCE=YES -r bilinear -multi
input_ice.tif output_ice.tif

it is working now but the speed is very slow - likely this will take 12
hours... Any way to speed up or am I wrong in selecting the parameters? Many
thanks.

Kevin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100625/31534c29/attachment.html
From m.stelluti at gmail.com  Fri Jun 25 03:47:23 2010
From: m.stelluti at gmail.com (Marco Stelluti)
Date: Fri Jun 25 03:47:26 2010
Subject: [gdal-dev] Modify an image color table?
Message-ID: <AANLkTikPQ7h8ITrXZxQBpydfnnDPZpUydZvdQKprqK3g@mail.gmail.com>

Hi,
I'm a new gdal user and I've a little problem.

I have to modify the color to an ASCII raster.

1_ I converted the raster using gdalbuildvrt;
2_ I modified the file *.vrt adding:
    <ColorInterp>Palette</ColorInterp>
 <ColorTable>
<Entry c1="255" c2="255" c3="255" c4="255"/>
<Entry c1="0" c2="0" c3="150" c4="255"/>
<Entry c1="0" c2="0" c3="150" c4="255"/>
.......
 </ColorTable>
3_ I know: "The entries are ordered and will be assumed to start from color
table entry 0"
4_ But I have some negative value on the ASCII raster, the range is from -31
to 65.
5_ How I can resolve this problem?

Thanks in Advance
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100625/08347780/attachment.html
From bartvde at osgis.nl  Fri Jun 25 03:38:35 2010
From: bartvde at osgis.nl (Bart van den Eijnden (OSGIS))
Date: Fri Jun 25 04:06:06 2010
Subject: [gdal-dev] OGR SDE driver failing on empty tables
Message-ID: <28097.145.50.39.11.1277451515.squirrel@webmail.hostingdiscounter.nl>

Hi list,

using Mapserver on OGR SDE layers we get error messages for empty tables.

msOGRFileNextShape(): OGR error. SE_shape_generate_rectangle: -139/The
specified coordinate exceeds the valid coordinate range

To me it seems this should fail silently, and we should just end up with
an empty image from Mapserver.

Ogrsdelayer.cpp:

nSDEErr = SE_shape_generate_rectangle( &sEnvelope, hRectShape );
if( nSDEErr != SE_SUCCESS)
{
    poDS->IssueSDEError( nSDEErr, "SE_shape_generate_rectangle");
    return FALSE;
}

Is this Mapserver's or OGR's responsibility to fail silently? How can we
achieve this best?

We are using GDAL 1.7.0 (and Mapserver 5.2.3).

TIA.

Best regards,
Bart

From peifer at gmx.eu  Fri Jun 25 04:27:55 2010
From: peifer at gmx.eu (Hermann Peifer)
Date: Fri Jun 25 04:30:30 2010
Subject: [gdal-dev] Re: gdalwarp large imagery faster?
In-Reply-To: <AANLkTim8Fz820fCfakic7R8NA1wQVqlgZE3zQ_twnb07@mail.gmail.com>
References: <AANLkTim8Fz820fCfakic7R8NA1wQVqlgZE3zQ_twnb07@mail.gmail.com>
Message-ID: <4C24688B.2070004@gmx.eu>

On 24/06/2010 16:40, GeoSpatial - Kevin wrote:
> Hi all,
>
> I am trying to re-project a very large imagery (size 40,000 by 40,000
> pixels, resolution ~120m) located at high latitudes (60N) to a standard
> wgs84. By searching some previous posts, I come up with the following
> command:
>
> gdalwarp  -of EHdr -t_srs EPSG:4326 -tr 0.001111 0.001111 --config
> GDAL_CACHEMAX 200 -wm 200 -wo SKIP_NOSOURCE=YES -r bilinear -multi
> input_ice.tif output_ice.tif
>
> it is working now but the speed is very slow - likely this will take 12
> hours... Any way to speed up or am I wrong selecting those parameters?
> Thanks.
>

- multi doesn't work for me:
CPLCreateThread: Fails to dummy implementation
ERROR 1: CPLCreateThread() failed in ChunkAndWarpMulti()

However, without the -multi switch, my input data (100m raster, 
48500x41500, Type=Int16) is warped in 34 minutes or so, see here:

time gdalwarp --debug on -of EHdr -t_srs EPSG:4326 -tr 0.001111 0.001111 
--config GDAL_CACHEMAX 200 -wm 200 -wo SKIP_NOSOURCE=YES -r bilinear 
map2c_100.tif output.tif

real    34m13.134s
user    5m24.524s
sys     0m9.973s

If I raise the values for GDAL_CACHEMAX and -wm, it takes about 15 
minutes. I am using GDAL 1.8dev, on a 64-bit Linux machine.

Hermann
From dor_ben2000 at hotmail.com  Fri Jun 25 05:41:27 2010
From: dor_ben2000 at hotmail.com (benbendor)
Date: Fri Jun 25 05:42:31 2010
Subject: [gdal-dev] RE: can't open HDF5 subdatasets
Message-ID: <COL106-W372DF5F925C25AEFBFE1D82C70@phx.gbl>


Hello
I do not want to receive the mail which temporarily at present comes from  gdal-dev-request@lists.osgeo.org.
Thanks so much.
bendor

 


From: dor_ben2000@hotmail.com
To: gdal-dev@lists.osgeo.org
Subject: can't open HDF5 subdatasets
Date: Mon, 15 Mar 2010 10:13:49 +0800



Hello:
 
I think is woking well by using GDALINFO to  open hdf5 image,like this:

   I:\gdalinfo Z_SATE_C_BAWX_20100129130049_P_FY3A_MERSI_GBAL_L1_20100129_0115
_0250M_MS.h5
Driver: HDF5/Hierarchical Data Format Release 5
Files: Z_SATE_C_BAWX_20100129130049_P_FY3A_MERSI_GBAL_L1_20100129_0115_0250M_MS.
h5
Size is 512, 512
Coordinate System is `'
Subdatasets:
  SUBDATASET_1_NAME=HDF5:"Z_SATE_C_BAWX_20100129130049_P_FY3A_MERSI_G   BAL_L1_20100129_0115_0250M_MS.h5"://BB_DN_average
SUBDATASET_1_DESC=[5x8000] //BB_DN_average (32-bit floating-point)
  SUBDATASET_2_NAME=HDF5:"Z_SATE_C_BAWX_20100129130049_P_FY3A_MERSI_GBAL_L1_20100129_0115_0250M_MS.h5"://EV_250_Emissive
SUBDATASET_2_DESC=[8000x8192] //EV_250_Emissive (16-bit unsigned integer)
  SUBDATASET_3_NAME=HDF5:"Z_SATE_C_BAWX_20100129130049_P_FY3A_MERSI_GBAL_L1_20100129_0115_0250M_MS.h5"://EV_250_RefSB_b1
SUBDATASET_3_DESC=[8000x8192] //EV_250_RefSB_b1 (16-bit unsigned integer)
 
.
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  512.0)
Upper Right (  512.0,    0.0)
Lower Right (  512.0,  512.0)
Center      (  256.0,  256.0)
 
 but wen I trying to open a subdataset ,it's can't work well,why?
I:\gdalinfo HDF5:"Z_SATE_C_BAWX_20100129130049_P_FY3A_MERSI_GBAL_L1_2010012
9_0115_0250M_MS.h5"=BB_DN_average
ERROR 4: `HDF5:Z_SATE_C_BAWX_20100129130049_P_FY3A_MERSI_GBAL_L1_20100129_0115_0
250M_MS.h5=BB_DN_average' does not exist in the file system,
and is not recognised as a supported dataset name.
 
gdalinfo failed - unable to open 'HDF5:Z_SATE_C_BAWX_20100129130049_P_FY3A_MERSI
_GBAL_L1_20100129_0115_0250M_MS.h5=BB_DN_average'.
regards
ben 



++ ,MSN!  		 	   		  
_________________________________________________________________

http://cn.bing.com/search?q=%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5&form=MICHJ2
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100625/7a8e0845/attachment-0001.html
From warmerdam at pobox.com  Fri Jun 25 08:12:57 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 25 08:13:03 2010
Subject: [gdal-dev] Modify an image color table?
In-Reply-To: <AANLkTikPQ7h8ITrXZxQBpydfnnDPZpUydZvdQKprqK3g@mail.gmail.com>
References: <AANLkTikPQ7h8ITrXZxQBpydfnnDPZpUydZvdQKprqK3g@mail.gmail.com>
Message-ID: <4C249D49.9080301@pobox.com>

Marco Stelluti wrote:
> Hi,
> I'm a new gdal user and I've a little problem.
> 
> I have to modify the color to an ASCII raster.
> 
> 1_ I converted the raster using gdalbuildvrt;
> 2_ I modified the file *.vrt adding:
>     <ColorInterp>Palette</ColorInterp>
>  <ColorTable>
> <Entry c1="255" c2="255" c3="255" c4="255"/>
> <Entry c1="0" c2="0" c3="150" c4="255"/>
> <Entry c1="0" c2="0" c3="150" c4="255"/>
> .......
>  </ColorTable>
> 3_ I know: "The entries are ordered and will be assumed to start from 
> color table entry 0"
> 4_ But I have some negative value on the ASCII raster, the range is from 
> -31 to 65.
> 5_ How I can resolve this problem?

Marco,

Generally speaking GDAL color maps do not have an obvious application
to negative or non-integer data.  You could use the "raster attribute table"
mechanism to represent color assignments to negative values, but since so
few applications make use of this data object it is nearly useless to do so.

What application do you want the color table to work in?  How you handle
the situation will depend on the output application.   If preserving the
original pixel values isn't important you may want to reprocess/rescale your
raster.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From antonio.rocha at deimos.com.pt  Fri Jun 25 08:34:09 2010
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Fri Jun 25 08:34:08 2010
Subject: [gdal-dev] Using gdalwarp over NCEP - keep pixel resolution
Message-ID: <4C24A241.4080500@deimos.com.pt>

Greetings

I'm doing some SRS conversion of GRIB files using gdalwarp (to WGS-UTM) 
but depending on the zone I'm obtaining different Pixel Size. I know I 
can use the -tr parameter but in this case I know the source_resolution 
(1,5 in NCEP) but I don't know to what it corresponds in WGSUTM.
Has anyone has a tip on how to figure this correspondence in order to 
use that value in the Gdalwarp expression?

Thanks

Best regards,
Antonio


__________ Information from ESET NOD32 Antivirus, version of virus signature database 5228 (20100625) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From szekerest at gmail.com  Fri Jun 25 10:43:40 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Jun 25 10:43:43 2010
Subject: [gdal-dev] The type initializer for 'OSGeo.GDAL.GdalPINVOKE' 
	threw an exception. when gdal.Allregister() calls
In-Reply-To: <1277443400218-5220732.post@n2.nabble.com>
References: <1277443400218-5220732.post@n2.nabble.com>
Message-ID: <AANLkTim72Buw23TuVF88dnYizOT5IvhCjFS6CcWzJl-F@mail.gmail.com>

Hi,

What kind of exception has been thrown? Perhaps a missing dll may cause like
this.

Tamas


2010/6/25 mail2vajram <mail2vajram@gmail.com>

>
> i installed fwtols2.4.7 previously.That time i worked  with gdal with out
> any
> problem but now when i work with gdal it throws the following
> exception.....why. how to fix this.
>
>
> The type initializer for 'OSGeo.GDAL.GdalPINVOKE' threw an exception.
>
> This is the way i used.....
>
> [DllImport("kernel32.dll", CharSet = CharSet.Auto, SetLastError = true)]
>        public static extern bool SetEnvironmentVariable(string lpname,
> string lpvalue);
>        string GDAL_HOME = @";C:\Program Files\FWTools2.4.7\bin";
> string path = Environment.GetEnvironmentVariable("PATH");
>            path += ";" + GDAL_HOME;
>            SetEnvironmentVariable("PATH", path);
>            Gdal.AllRegister();
>
>
> help me thank you....
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/The-type-initializer-for-OSGeo-GDAL-GdalPINVOKE-threw-an-exception-when-gdal-Allregister-calls-tp5220732p5220732.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100625/a7602ac7/attachment.html
From gisxperts at web.de  Fri Jun 25 10:16:57 2010
From: gisxperts at web.de (hannes)
Date: Fri Jun 25 10:45:04 2010
Subject: [gdal-dev] gdal compile from svn for python - how to specify a user
 defined numpy directory for compilation
Message-ID: <1277475417.10229.36.camel@hirubu>

Question:

How to compile gdal against a user specified numpy


1) I got the latest SVN from numpy and scipy and compiled into user
specific directory using --prexif=mydir. numpy test are all sucessfull,
scipy shows two errors.
 
Specified 
export PYTHONPATH='/media/work/hannes/lib/python2.6/site-packages'
so my python installation always loads the user specified numpy and
scipy first. 

2) Download the latest stable 1.7.2 gdal from svn and compiled to the
same directory using 

export LD_LIBRARY_PATH=/media/work/hannes/lib:$LD_LIBRARY_PATH
./configure --prefix=/media/work/hannes --libdir=/media/work/hannes
make
make install --prefix=/media/work/hannes
## made a try without specifying --libdir 

go into python  
Python 2.6.4 (r264:75706, Dec  7 2009, 18:43:55) 
[GCC 4.4.1] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import numpy
>>> print numpy.__version__
2.0.0.dev8464
>>> from osgeo import gdal_array
RuntimeError: module compiled against version 1000009 of C-API but this
version of numpy is 2000000
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File
"/media/work/hannes/lib/python2.6/site-packages/osgeo/gdal_array.py",
line 7, in <module>
    import _gdal_array
ImportError: numpy.core.multiarray failed to import
>>> exit()

I seem to miss the switch to tell it to use a local numpy for gdal !!! 
Any advice ? (BTW, import numpy.core.multiarray diretly in python works)

Which switch do I miss here, probably somewhere in ./configure ? 


Hannes

PS. I regenerate the python swig bindings using make etc, still does not
help. 

Comment1: 
If I remember correctly ./configure -with--python  reported to screen
that the python-gdal files are written to the default installation
directory and not to the --prefix dir, but did not save the screen
output for that error message.. sorry  







From ekkehart at gmx.de  Fri Jun 25 10:49:15 2010
From: ekkehart at gmx.de (NopMap)
Date: Fri Jun 25 10:49:16 2010
Subject: [gdal-dev] Handling nodata values
Message-ID: <1277477355187-5222453.post@n2.nabble.com>



Hi!

I am trying to create contour lines (and later hillshading) from CGIAR data.
They use ?32768 as a nodata value for sea areas which results in tremendous
cliffs if the data is processed by gdal_contour as it is.

I am looking for a way to replace this nodata value in the geotiffs by a
simple 0 value for sea level. It would be great to save the result as a
geotiff that can be used as input for contours, hillshading and maybe other
calculations. Unfortunately I could not figure out which tool to use for
this and how to do it.

Can you help?

thanks
            Nop

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Handling-nodata-values-tp5222453p5222453.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Fri Jun 25 11:09:14 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 25 11:09:19 2010
Subject: [gdal-dev] Handling nodata values
In-Reply-To: <1277477355187-5222453.post@n2.nabble.com>
References: <1277477355187-5222453.post@n2.nabble.com>
Message-ID: <4C24C69A.8010305@pobox.com>

NopMap wrote:
> 
> Hi!
> 
> I am trying to create contour lines (and later hillshading) from CGIAR data.
> They use ?32768 as a nodata value for sea areas which results in tremendous
> cliffs if the data is processed by gdal_contour as it is.

Nop,

If the nodata value is not recognised by GDAL you can indicate it explicitly
to gdal_contour using the -snodata switch.

eg.

gdal_contour -snodata -32768 ...

> I am looking for a way to replace this nodata value in the geotiffs by a
> simple 0 value for sea level. It would be great to save the result as a
> geotiff that can be used as input for contours, hillshading and maybe other
> calculations. Unfortunately I could not figure out which tool to use for
> this and how to do it.

The "val_repl.py" (value replace) sample script can be used for this purpose.

   http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/val_repl.py

eg.

python val_reply.py -innd -32768 -outnd 0 in.tif out.tif

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Jun 25 11:55:59 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 25 11:56:05 2010
Subject: [gdal-dev] Multithreading with OGR
In-Reply-To: <AANLkTikQ9nTu3mUWeOZ4BPF2q6GK5zOsJTR60l8gGuki@mail.gmail.com>
References: <AA6DDFA4E046A24585BC828A78155B47079FA1D0@US-MAIL.ingrnet.com>
	<AANLkTinFVsobDzwJD-z63BpxwRFzXtO9hkxn5o_Dhgwz@mail.gmail.com>
	<4C222106.6030302@pobox.com>
	<AANLkTikQ9nTu3mUWeOZ4BPF2q6GK5zOsJTR60l8gGuki@mail.gmail.com>
Message-ID: <4C24D18F.8030600@pobox.com>

Martin Dobias wrote:
> Hi Frank
> 
> On Wed, Jun 23, 2010 at 4:58 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
>> Martin,
>>
>> Generally speaking it is not safe to have multiple threads making calls
>> into a single OGRLayer at the same time.  At the very least you will
>> encounter the "messing up" effect on GetNextFeature(), even if you
>> serialize calls, and if you don't serialize the calls to the OGRLayer
>> you will also face potentially severe problems and crashes.
>>
>> With regard to RFC 16, only a little work in the existing code with
>> locks was implemented.  None of the TestCapability or GetLayerClone()
>> work was done.  I still think that the approach in the RFC is reasonable
>> but I don't currently have funding to pursue the matter.  There was
>> also some pushback at the time though I don't recall all the details.
> 
> My intent is to use two OGRLayer instances of the same layer: one
> instance for handling various stuff in main thread, the other one in
> worker thread for rendering. Can I expect the GetNextFeature calls to
> be reentrant, i.e. can they be called from both threads simultaneously
> using different instances of layers?

Martin,

Are the different OGRLayer instances coming from distinct OGRDataSource
instances? If so, yes, you could normally treat them as reentrant though
there might be a few special cases where that turns out not to be true.
Certainly this is only a good idea in read-only activities.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From wonder.sk at gmail.com  Fri Jun 25 12:17:57 2010
From: wonder.sk at gmail.com (Martin Dobias)
Date: Fri Jun 25 12:18:00 2010
Subject: [gdal-dev] Multithreading with OGR
In-Reply-To: <4C24D18F.8030600@pobox.com>
References: <AA6DDFA4E046A24585BC828A78155B47079FA1D0@US-MAIL.ingrnet.com>
	<AANLkTinFVsobDzwJD-z63BpxwRFzXtO9hkxn5o_Dhgwz@mail.gmail.com>
	<4C222106.6030302@pobox.com>
	<AANLkTikQ9nTu3mUWeOZ4BPF2q6GK5zOsJTR60l8gGuki@mail.gmail.com>
	<4C24D18F.8030600@pobox.com>
Message-ID: <AANLkTiktCs3aYC1cDz4IBy9dwiKCjPux2hH8KMkJacdq@mail.gmail.com>

On Fri, Jun 25, 2010 at 5:55 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
>> My intent is to use two OGRLayer instances of the same layer: one
>> instance for handling various stuff in main thread, the other one in
>> worker thread for rendering. Can I expect the GetNextFeature calls to
>> be reentrant, i.e. can they be called from both threads simultaneously
>> using different instances of layers?
>
> Martin,
>
> Are the different OGRLayer instances coming from distinct OGRDataSource
> instances? If so, yes, you could normally treat them as reentrant though
> there might be a few special cases where that turns out not to be true.
> Certainly this is only a good idea in read-only activities.

Yes, I consider using distinct OGRDataSource instances for the
OGRLayer instances. Could you please elaborate on the special cases
you are referring to?

Thanks
Martin
From warmerdam at pobox.com  Fri Jun 25 12:39:02 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 25 12:39:08 2010
Subject: [gdal-dev] Multithreading with OGR
In-Reply-To: <AANLkTiktCs3aYC1cDz4IBy9dwiKCjPux2hH8KMkJacdq@mail.gmail.com>
References: <AA6DDFA4E046A24585BC828A78155B47079FA1D0@US-MAIL.ingrnet.com>
	<AANLkTinFVsobDzwJD-z63BpxwRFzXtO9hkxn5o_Dhgwz@mail.gmail.com>
	<4C222106.6030302@pobox.com>
	<AANLkTikQ9nTu3mUWeOZ4BPF2q6GK5zOsJTR60l8gGuki@mail.gmail.com>
	<4C24D18F.8030600@pobox.com>
	<AANLkTiktCs3aYC1cDz4IBy9dwiKCjPux2hH8KMkJacdq@mail.gmail.com>
Message-ID: <4C24DBA6.4050705@pobox.com>

Martin Dobias wrote:
> On Fri, Jun 25, 2010 at 5:55 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
>>> My intent is to use two OGRLayer instances of the same layer: one
>>> instance for handling various stuff in main thread, the other one in
>>> worker thread for rendering. Can I expect the GetNextFeature calls to
>>> be reentrant, i.e. can they be called from both threads simultaneously
>>> using different instances of layers?
>> Martin,
>>
>> Are the different OGRLayer instances coming from distinct OGRDataSource
>> instances? If so, yes, you could normally treat them as reentrant though
>> there might be a few special cases where that turns out not to be true.
>> Certainly this is only a good idea in read-only activities.
> 
> Yes, I consider using distinct OGRDataSource instances for the
> OGRLayer instances. Could you please elaborate on the special cases
> you are referring to?

Martin,

Well, it is possible that some drivers use global static variables for
something or have other reentrancy issues.  It is difficult to be certain
without review in detail.  But generally speaking things should be fine.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Chris.Barker at noaa.gov  Fri Jun 25 12:53:21 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Jun 25 12:53:23 2010
Subject: [gdal-dev] gdal compile from svn for python - how to specify a
	user defined numpy directory for compilation
In-Reply-To: <1277475417.10229.36.camel@hirubu>
References: <1277475417.10229.36.camel@hirubu>
Message-ID: <4C24DF01.2020409@noaa.gov>

hannes wrote:
> How to compile gdal against a user specified numpy

I THINK the GDAL build calls python distutils (setup.py) to do the 
actual python extension build.

Ideally, the setup.py uses

numpy.get_include() to get the numpy include directory.

If so, it should "just work" with your setup, so I'd poke around and see 
if that's the case. If it is finding the numpy includes a different way, 
then that would explain your problem.

If it is set up this way, I'd track through the Python part of the 
build, and see how python is called, etc.

HTH,

-Chris



> 
> 1) I got the latest SVN from numpy and scipy and compiled into user
> specific directory using --prexif=mydir. numpy test are all sucessfull,
> scipy shows two errors.
>  
> Specified 
> export PYTHONPATH='/media/work/hannes/lib/python2.6/site-packages'
> so my python installation always loads the user specified numpy and
> scipy first. 
> 
> 2) Download the latest stable 1.7.2 gdal from svn and compiled to the
> same directory using 
> 
> export LD_LIBRARY_PATH=/media/work/hannes/lib:$LD_LIBRARY_PATH
> ./configure --prefix=/media/work/hannes --libdir=/media/work/hannes
> make
> make install --prefix=/media/work/hannes
> ## made a try without specifying --libdir 
> 
> go into python  
> Python 2.6.4 (r264:75706, Dec  7 2009, 18:43:55) 
> [GCC 4.4.1] on linux2
> Type "help", "copyright", "credits" or "license" for more information.
>>>> import numpy
>>>> print numpy.__version__
> 2.0.0.dev8464
>>>> from osgeo import gdal_array
> RuntimeError: module compiled against version 1000009 of C-API but this
> version of numpy is 2000000
> Traceback (most recent call last):
>   File "<stdin>", line 1, in <module>
>   File
> "/media/work/hannes/lib/python2.6/site-packages/osgeo/gdal_array.py",
> line 7, in <module>
>     import _gdal_array
> ImportError: numpy.core.multiarray failed to import
>>>> exit()
> 
> I seem to miss the switch to tell it to use a local numpy for gdal !!! 
> Any advice ? (BTW, import numpy.core.multiarray diretly in python works)
> 
> Which switch do I miss here, probably somewhere in ./configure ? 
> 
> 
> Hannes
> 
> PS. I regenerate the python swig bindings using make etc, still does not
> help. 
> 
> Comment1: 
> If I remember correctly ./configure -with--python  reported to screen
> that the python-gdal files are written to the default installation
> directory and not to the --prefix dir, but did not save the screen
> output for that error message.. sorry  
> 
> 
> 
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From bobc at bluemarblegeo.com  Fri Jun 25 15:58:30 2010
From: bobc at bluemarblegeo.com (Bob Cave)
Date: Fri Jun 25 15:58:32 2010
Subject: [gdal-dev] OGR: Accessing ESRI Personal Geodatabase on OS X
Message-ID: <1277495910040-5223574.post@n2.nabble.com>


Hello,

I see that OGR supports reading ESRI Personal Geodatabases.  We are
considering adding this capability to our product, which has both Windows
and Mac OS X implementations.  I have tried the basic functionality on
Windows (using FW_Tools), and the OGR documentation has instructions for
using the reader on Linux, but I don't see any information about OS X.  Has
anyone used it on OS X?  If so, what were the major issues that needed to be
resolved?

Thanks,

Bob
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/OGR-Accessing-ESRI-Personal-Geodatabase-on-OS-X-tp5223574p5223574.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ekkehart at gmx.de  Fri Jun 25 16:41:05 2010
From: ekkehart at gmx.de (NopMap)
Date: Fri Jun 25 16:41:07 2010
Subject: [gdal-dev] Re: Handling nodata values
In-Reply-To: <4C24C69A.8010305@pobox.com>
References: <1277477355187-5222453.post@n2.nabble.com>
	<4C24C69A.8010305@pobox.com>
Message-ID: <1277498465687-5223678.post@n2.nabble.com>



Thank you for your reply. I played around a little bit but without success.

When I apply val_repl.py to the data, it appears to cut off all the higher
elevations while the lower areas remain untouched. So the resulting TIF is
unusable. What could cause this problem?

gdal_contour seems to recognize the nodata values in the cgiar files, it
produces a nice shapefile from the unprocessed data.

But when I run hillshade.exe from the perrygeo demtools on it, it draws a
huge chasm along the coastline. I have tried to use gdalwarp with -srcnodata
-32768 -dstnodata 0 but this does not have any visible effect.

What am I doing wrong?

             Nop

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Handling-nodata-values-tp5222453p5223678.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From woklist at kyngchaos.com  Fri Jun 25 17:06:48 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Fri Jun 25 17:06:52 2010
Subject: [gdal-dev] OGR: Accessing ESRI Personal Geodatabase on OS X
In-Reply-To: <1277495910040-5223574.post@n2.nabble.com>
References: <1277495910040-5223574.post@n2.nabble.com>
Message-ID: <E6982DFF-735C-4600-B2AE-6D76FFFBF03F@kyngchaos.com>

PGeo support depends on a working ODBC driver for MDB databases.  On Linux, this is done with mdbtools.  I have not been able to get this working on OS X with the system iODBC (I last looked at it a year ago).  It compiles (with some hackery), but does not load.  I haven't tried mdbtools with UnixODBC, mainly because I prefer to use stuff available from the system, and UnixODBC is a large project.  Maybe if I can whittle it down to a bare minimum needed for mdbtools (and assuming it works), I could bundle it in the GDAL framework.

There is a commercial Actual Access iODBC driver (apparently it's derived from mdbtools), but it corrupts binary data when reading.  I've reported this to the developers, and pestered them, but so far they haven't been able to fix it.

One alternative option that I haven't followed up on yet (mainly lack of C++ skills, also lack of need) is to convert the mdb to sqlite with the mdb-sqlite java tool (http://code.google.com/p/mdb-sqlite/), then write a custom pgeo driver that reads the pgeo data from sqlite instead of ODBC/MDB.  This wouldn't mirror the pgeo driver exactly as a feature (requires a separate external step), but it's _something_.

On Jun 25, 2010, at 2:58 PM, Bob Cave wrote:

> 
> Hello,
> 
> I see that OGR supports reading ESRI Personal Geodatabases.  We are
> considering adding this capability to our product, which has both Windows
> and Mac OS X implementations.  I have tried the basic functionality on
> Windows (using FW_Tools), and the OGR documentation has instructions for
> using the reader on Linux, but I don't see any information about OS X.  Has
> anyone used it on OS X?  If so, what were the major issues that needed to be
> resolved?
> 
> Thanks,
> 
> Bob
> -- 
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/OGR-Accessing-ESRI-Personal-Geodatabase-on-OS-X-tp5223574p5223574.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.


From lkeene at caltech.edu  Fri Jun 25 19:35:15 2010
From: lkeene at caltech.edu (LKeene)
Date: Fri Jun 25 19:35:17 2010
Subject: [gdal-dev] How to retrieve map data from Envi file?
Message-ID: <1277508915672-5224075.post@n2.nabble.com>


Hi folks, I'm a new GDAL developer with what I believe is a simple question:

We're trying to use GDAL in our app to access Envi files. I'm able to get
access to the file bands as well as some other information by using the
GDALDataset and GDALRasterBand objects, but how can I access other
properties of the data file such as the datum type, the XY resolutions and
reference pixel coordinates, the units type, etc...i.e. the other
information contained in the Envi header? Is there an object that
encapsulates this information? Thanks in advance.

-L
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/How-to-retrieve-map-data-from-Envi-file-tp5224075p5224075.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Fri Jun 25 23:57:50 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Jun 25 23:57:53 2010
Subject: [gdal-dev] How to retrieve map data from Envi file?
In-Reply-To: <1277508915672-5224075.post@n2.nabble.com>
References: <1277508915672-5224075.post@n2.nabble.com>
Message-ID: <AANLkTikVBoYiTFPCGe1GGCLqFdUTFIcBJNlrM6PYN2K9@mail.gmail.com>

Lionel,

Most the data you asked for can be obtained with various methods from the
GDALDataSet and GDALRasterBand objects. I'm not sure what you mean by units
type , but I'm sure it can be derived from them.

FYI, reference pixels are called GCPs (Ground Control Points) in GDAL. Datum
can be obtained from the projection definition. GetGeoTransform can be used
to get resolutions.

Refer to http://www.gdal.org/classGDALDataset.html and
http://gdal.org/classGDALRasterBand.html for detailed documentation.

On Sat, Jun 26, 2010 at 5:05 AM, LKeene <lkeene@caltech.edu> wrote:

>
> Hi folks, I'm a new GDAL developer with what I believe is a simple
> question:
>
> We're trying to use GDAL in our app to access Envi files. I'm able to get
> access to the file bands as well as some other information by using the
> GDALDataset and GDALRasterBand objects, but how can I access other
> properties of the data file such as the datum type, the XY resolutions and
> reference pixel coordinates, the units type, etc...i.e. the other
> information contained in the Envi header? Is there an object that
> encapsulates this information? Thanks in advance.
>
> -L
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/How-to-retrieve-map-data-from-Envi-file-tp5224075p5224075.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100626/c2902d3a/attachment-0001.html
From chaitanya.ch at gmail.com  Sat Jun 26 03:53:19 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Jun 26 03:53:22 2010
Subject: [gdal-dev] Re: Handling nodata values
In-Reply-To: <1277498465687-5223678.post@n2.nabble.com>
References: <1277477355187-5222453.post@n2.nabble.com>
	<4C24C69A.8010305@pobox.com>
	<1277498465687-5223678.post@n2.nabble.com>
Message-ID: <AANLkTiklGttRcXbTGVowCrivig_ZpSvt7j747FJgZAKF@mail.gmail.com>

Nop,

In line 93 in val_repl.py, the default value is taken as of type Byte. For a
quick fix, mention the data type of the raster reported by gdalinfo with the
option -ot to the script. Refer to (
http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples/val_repl.py#L61)

On Sat, Jun 26, 2010 at 2:11 AM, NopMap <ekkehart@gmx.de> wrote:

>
>
> Thank you for your reply. I played around a little bit but without success.
>
> When I apply val_repl.py to the data, it appears to cut off all the higher
> elevations while the lower areas remain untouched. So the resulting TIF is
> unusable. What could cause this problem?
>
> gdal_contour seems to recognize the nodata values in the cgiar files, it
> produces a nice shapefile from the unprocessed data.
>
> But when I run hillshade.exe from the perrygeo demtools on it, it draws a
> huge chasm along the coastline. I have tried to use gdalwarp with
> -srcnodata
> -32768 -dstnodata 0 but this does not have any visible effect.
>
> What am I doing wrong?
>
>             Nop
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Handling-nodata-values-tp5222453p5223678.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100626/f20ffa9a/attachment.html
From ekkehart at gmx.de  Sat Jun 26 06:28:45 2010
From: ekkehart at gmx.de (NopMap)
Date: Sat Jun 26 06:28:46 2010
Subject: [gdal-dev] Re: Handling nodata values
In-Reply-To: <AANLkTiklGttRcXbTGVowCrivig_ZpSvt7j747FJgZAKF@mail.gmail.com>
References: <1277477355187-5222453.post@n2.nabble.com>
	<4C24C69A.8010305@pobox.com>
	<1277498465687-5223678.post@n2.nabble.com>
	<AANLkTiklGttRcXbTGVowCrivig_ZpSvt7j747FJgZAKF@mail.gmail.com>
Message-ID: <1277548125555-5224918.post@n2.nabble.com>



Chaitanya kumar CH wrote:
> 
> 
> In line 93 in val_repl.py, the default value is taken as of type Byte. For
> a
> quick fix, mention the data type of the raster reported by gdalinfo with
> the
> option -ot to the script. Refer to (
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples/val_repl.py#L61)
> 

Thanks, that was the reason. Now I got one step further, but it still does
not work.

The resulting TIF is now the same size as the original, but it appears that
the georeferencing is lost in the process.

The original file shows the folling information
Size is 6001, 6001
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.2572235630016,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (14.999583744947651,40.000416787708332)
Pixel Size = (0.000833333333333,-0.000833333333333)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  14.9995837,  40.0004168) ( 14d59'58.50"E, 40d 0'1.50"N)
Lower Left  (  14.9995837,  34.9995835) ( 14d59'58.50"E, 34d59'58.50"N)
Upper Right (  20.0004171,  40.0004168) ( 20d 0'1.50"E, 40d 0'1.50"N)
Lower Right (  20.0004171,  34.9995835) ( 20d 0'1.50"E, 34d59'58.50"N)
Center      (  17.5000004,  37.5000001) ( 17d30'0.00"E, 37d30'0.00"N)
Band 1 Block=6001x1 Type=Int16, ColorInterp=Gray
  NoData Value=-32768

After processing with val_rpl.py, gdalmerge quits with an error and gdalinfo
reports:
Size is 6001, 6001
Coordinate System is `'
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 6001.0)
Upper Right ( 6001.0,    0.0)
Lower Right ( 6001.0, 6001.0)
Center      ( 3000.5, 3000.5)
Band 1 Block=6001x1 Type=Int16, ColorInterp=Gray

What did I miss this time?

Nop

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Handling-nodata-values-tp5222453p5224918.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Sat Jun 26 06:48:51 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Jun 26 06:48:54 2010
Subject: [gdal-dev] Re: Handling nodata values
In-Reply-To: <1277548125555-5224918.post@n2.nabble.com>
References: <1277477355187-5222453.post@n2.nabble.com>
	<4C24C69A.8010305@pobox.com>
	<1277498465687-5223678.post@n2.nabble.com>
	<AANLkTiklGttRcXbTGVowCrivig_ZpSvt7j747FJgZAKF@mail.gmail.com>
	<1277548125555-5224918.post@n2.nabble.com>
Message-ID: <AANLkTik7qg2MSdztGt8BbYnR_RykLJnOzlOgTcG214YW@mail.gmail.com>

Nop,

I didn't see the extent val_repl.py does the conversion. That is a problem.

Since you said that gdalwarp did not work, try gdal_merge.py with the
options "-n -332768 -init 0".

On Sat, Jun 26, 2010 at 3:58 PM, NopMap <ekkehart@gmx.de> wrote:

>
>
> Chaitanya kumar CH wrote:
> >
> >
> > In line 93 in val_repl.py, the default value is taken as of type Byte.
> For
> > a
> > quick fix, mention the data type of the raster reported by gdalinfo with
> > the
> > option -ot to the script. Refer to (
> >
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples/val_repl.py#L61
> )
> >
>
> Thanks, that was the reason. Now I got one step further, but it still does
> not work.
>
> The resulting TIF is now the same size as the original, but it appears that
> the georeferencing is lost in the process.
>
> The original file shows the folling information
> Size is 6001, 6001
> Coordinate System is:
> GEOGCS["WGS 84",
>    DATUM["WGS_1984",
>        SPHEROID["WGS 84",6378137,298.2572235630016,
>            AUTHORITY["EPSG","7030"]],
>        AUTHORITY["EPSG","6326"]],
>    PRIMEM["Greenwich",0],
>    UNIT["degree",0.0174532925199433],
>    AUTHORITY["EPSG","4326"]]
> Origin = (14.999583744947651,40.000416787708332)
> Pixel Size = (0.000833333333333,-0.000833333333333)
> Metadata:
>  AREA_OR_POINT=Area
> Image Structure Metadata:
>  INTERLEAVE=BAND
> Corner Coordinates:
> Upper Left  (  14.9995837,  40.0004168) ( 14d59'58.50"E, 40d 0'1.50"N)
> Lower Left  (  14.9995837,  34.9995835) ( 14d59'58.50"E, 34d59'58.50"N)
> Upper Right (  20.0004171,  40.0004168) ( 20d 0'1.50"E, 40d 0'1.50"N)
> Lower Right (  20.0004171,  34.9995835) ( 20d 0'1.50"E, 34d59'58.50"N)
> Center      (  17.5000004,  37.5000001) ( 17d30'0.00"E, 37d30'0.00"N)
> Band 1 Block=6001x1 Type=Int16, ColorInterp=Gray
>  NoData Value=-32768
>
> After processing with val_rpl.py, gdalmerge quits with an error and
> gdalinfo
> reports:
> Size is 6001, 6001
> Coordinate System is `'
> Image Structure Metadata:
>  INTERLEAVE=BAND
> Corner Coordinates:
> Upper Left  (    0.0,    0.0)
> Lower Left  (    0.0, 6001.0)
> Upper Right ( 6001.0,    0.0)
> Lower Right ( 6001.0, 6001.0)
> Center      ( 3000.5, 3000.5)
> Band 1 Block=6001x1 Type=Int16, ColorInterp=Gray
>
> What did I miss this time?
>
> Nop
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Handling-nodata-values-tp5222453p5224918.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100626/fb8492cd/attachment.html
From even.rouault at mines-paris.org  Sat Jun 26 07:04:10 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Jun 26 07:04:21 2010
Subject: [gdal-dev] Re: Handling nodata values
In-Reply-To: <1277548125555-5224918.post@n2.nabble.com>
References: <1277477355187-5222453.post@n2.nabble.com>
	<AANLkTiklGttRcXbTGVowCrivig_ZpSvt7j747FJgZAKF@mail.gmail.com>
	<1277548125555-5224918.post@n2.nabble.com>
Message-ID: <201006261304.11023.even.rouault@mines-paris.org>

Nop,

val_repl.py wasn't copying georeferencing from input dataset to output 
dataset. I've just improved that now.

There's another existing script that you can use to copy georeferencing from 
an input dataset to an existing output dataset. The pixel data of the output 
dataset is left untouched. It's gdal_copyproj.py. Ex: python gdal_copyproj.py 
input.tif output.tif

Yo say 'gdalmerge quits with an error', but you didn't mention the exact error 
message nor the command line you've used, so it is hard to tell what's wrong

Le Saturday 26 June 2010 12:28:45 NopMap, vous avez ?crit?:
> Chaitanya kumar CH wrote:
> > In line 93 in val_repl.py, the default value is taken as of type Byte.
> > For a
> > quick fix, mention the data type of the raster reported by gdalinfo with
> > the
> > option -ot to the script. Refer to (
> > http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples/val_rep
> >l.py#L61)
>
> Thanks, that was the reason. Now I got one step further, but it still does
> not work.
>
> The resulting TIF is now the same size as the original, but it appears that
> the georeferencing is lost in the process.
>
> The original file shows the folling information
> Size is 6001, 6001
> Coordinate System is:
> GEOGCS["WGS 84",
>     DATUM["WGS_1984",
>         SPHEROID["WGS 84",6378137,298.2572235630016,
>             AUTHORITY["EPSG","7030"]],
>         AUTHORITY["EPSG","6326"]],
>     PRIMEM["Greenwich",0],
>     UNIT["degree",0.0174532925199433],
>     AUTHORITY["EPSG","4326"]]
> Origin = (14.999583744947651,40.000416787708332)
> Pixel Size = (0.000833333333333,-0.000833333333333)
> Metadata:
>   AREA_OR_POINT=Area
> Image Structure Metadata:
>   INTERLEAVE=BAND
> Corner Coordinates:
> Upper Left  (  14.9995837,  40.0004168) ( 14d59'58.50"E, 40d 0'1.50"N)
> Lower Left  (  14.9995837,  34.9995835) ( 14d59'58.50"E, 34d59'58.50"N)
> Upper Right (  20.0004171,  40.0004168) ( 20d 0'1.50"E, 40d 0'1.50"N)
> Lower Right (  20.0004171,  34.9995835) ( 20d 0'1.50"E, 34d59'58.50"N)
> Center      (  17.5000004,  37.5000001) ( 17d30'0.00"E, 37d30'0.00"N)
> Band 1 Block=6001x1 Type=Int16, ColorInterp=Gray
>   NoData Value=-32768
>
> After processing with val_rpl.py, gdalmerge quits with an error and
> gdalinfo reports:
> Size is 6001, 6001
> Coordinate System is `'
> Image Structure Metadata:
>   INTERLEAVE=BAND
> Corner Coordinates:
> Upper Left  (    0.0,    0.0)
> Lower Left  (    0.0, 6001.0)
> Upper Right ( 6001.0,    0.0)
> Lower Right ( 6001.0, 6001.0)
> Center      ( 3000.5, 3000.5)
> Band 1 Block=6001x1 Type=Int16, ColorInterp=Gray
>
> What did I miss this time?
>
> Nop


From ekkehart at gmx.de  Sat Jun 26 07:22:23 2010
From: ekkehart at gmx.de (NopMap)
Date: Sat Jun 26 07:22:24 2010
Subject: [gdal-dev] Re: Handling nodata values
In-Reply-To: <AANLkTik7qg2MSdztGt8BbYnR_RykLJnOzlOgTcG214YW@mail.gmail.com>
References: <1277477355187-5222453.post@n2.nabble.com>
	<4C24C69A.8010305@pobox.com>
	<1277498465687-5223678.post@n2.nabble.com>
	<AANLkTiklGttRcXbTGVowCrivig_ZpSvt7j747FJgZAKF@mail.gmail.com>
	<1277548125555-5224918.post@n2.nabble.com>
	<AANLkTik7qg2MSdztGt8BbYnR_RykLJnOzlOgTcG214YW@mail.gmail.com>
Message-ID: <1277551343235-5224997.post@n2.nabble.com>



Chaitanya kumar CH wrote:
> 
> Since you said that gdalwarp did not work, try gdal_merge.py with the
> options "-n -332768 -init 0".
> 

Thank you, this did the job!

Nop


-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Handling-nodata-values-tp5222453p5224997.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ekkehart at gmx.de  Sat Jun 26 07:24:01 2010
From: ekkehart at gmx.de (NopMap)
Date: Sat Jun 26 07:24:03 2010
Subject: [gdal-dev] Re: Handling nodata values
In-Reply-To: <201006261304.11023.even.rouault@mines-paris.org>
References: <1277477355187-5222453.post@n2.nabble.com>
	<4C24C69A.8010305@pobox.com>
	<1277498465687-5223678.post@n2.nabble.com>
	<AANLkTiklGttRcXbTGVowCrivig_ZpSvt7j747FJgZAKF@mail.gmail.com>
	<1277548125555-5224918.post@n2.nabble.com>
	<201006261304.11023.even.rouault@mines-paris.org>
Message-ID: <1277551441207-5224999.post@n2.nabble.com>



Even Rouault wrote:
> 
> Yo say 'gdalmerge quits with an error', but you didn't mention the exact
> error 
> message nor the command line you've used, so it is hard to tell what's
> wrong
> 

Oh, that cause was obvious. Since the TIF had lost the georefence, there was
no overlap between the requested area and the TIF, causing an error due to
invalid size.

thanks
            Nop

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Handling-nodata-values-tp5222453p5224999.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From geowiz at shaw.ca  Sat Jun 26 13:57:44 2010
From: geowiz at shaw.ca (Steve Miller)
Date: Sat Jun 26 13:57:47 2010
Subject: [gdal-dev] Canvas cvx
Message-ID: <78D95D6A-D6C4-4E03-A2B4-1A85C7777414@shaw.ca>

Has anybody tried to pull GIS data from a Canvas (.cvx) file?

Thanks,
Steve
From woodbri at swoodbridge.com  Sat Jun 26 18:41:26 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Sat Jun 26 18:43:40 2010
Subject: [gdal-dev] Getting error with gdaladdo on Tiff files
Message-ID: <4C268216.80901@swoodbridge.com>

Hi all,

I have a few Spot image files and ran the following. Is there a good way 
to check the integrity of the original image. Should I have used some 
other options?

Thanks,
   -Steve

gdalinfo --version
GDAL 1.5.2, released 2008/05/29

gdalwarp -s_srs EPSG:4326 -t_srs epsg:900913 -co TILED=YES file1.tif 
../900913/file1.tif

gdaladdo file1.tif 2
0ERROR 1: file1.tif:DumpModeDecode: Not enough data for scanline 0
ERROR 1: TIFFReadEncodedTile() failed.
ERROR 1: IReadBlock failed at X offset 0, Y offset 0
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
ERROR 1: file1.tif:DumpModeDecode: Not enough data for scanline 128
ERROR 1: TIFFReadEncodedTile() failed.
ERROR 1: IReadBlock failed at X offset 1, Y offset 0
ERROR 1: GetBlockRef failed at X block offset 1, Y block offset 0
ERROR 1: file1.tif:DumpModeDecode: Not enough data for scanline 256
...
More than 1000 errors or warnings have been reported. No more will be 
reported from now.
...20...30...40...50...60...70...80...90...100 - done.

gdaladdo file 2   errors
gdaladdo file 4   ok
gdaladdo file 8   errors
gdaladdo file 16  ok
gdaladdo file 32  ok
gdaladdo file 64  ok
gdaladdo file 128 ok
gdaladdo file 256 ok

in mapserver at some resolutions the image is badly broken.

gdalinfo file1.tif
Driver: GTiff/GeoTIFF
Files: file1.tif
Size is 6692, 7078
Coordinate System is:
PROJCS["Google Maps Global Mercator",
     GEOGCS["WGS 84",
         DATUM["WGS_1984",
             SPHEROID["WGS 84",6378137,298.2572235630016,
                 AUTHORITY["EPSG","7030"]],
             AUTHORITY["EPSG","6326"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4326"]],
     PROJECTION["Mercator_1SP"],
     PARAMETER["central_meridian",0],
     PARAMETER["scale_factor",1],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (6914290.436308964155614,4085886.801310364622623)
Pixel Size = (2.813934708443432,-2.813934708443432)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( 6914290.436, 4085886.801) ( 62d 6'43.66"E, 34d36'13.24"N)
Lower Left  ( 6914290.436, 4065969.771) ( 62d 6'43.66"E, 34d27'20.18"N)
Upper Right ( 6933121.287, 4085886.801) ( 62d16'52.64"E, 34d36'13.24"N)
Lower Right ( 6933121.287, 4065969.771) ( 62d16'52.64"E, 34d27'20.18"N)
Center      ( 6923705.862, 4075928.286) ( 62d11'48.15"E, 34d31'46.83"N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Red
   Overviews: 3346x3539, 1673x1770, 837x885, 419x443, 210x222, 105x111, 
53x56, 27x28
Band 2 Block=256x256 Type=Byte, ColorInterp=Green
   Overviews: 3346x3539, 1673x1770, 837x885, 419x443, 210x222, 105x111, 
53x56, 27x28
Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
   Overviews: 3346x3539, 1673x1770, 837x885, 419x443, 210x222, 105x111, 
53x56, 27x28
From warmerdam at pobox.com  Sat Jun 26 19:18:34 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Jun 26 19:18:36 2010
Subject: [gdal-dev] Getting error with gdaladdo on Tiff files
In-Reply-To: <4C268216.80901@swoodbridge.com>
References: <4C268216.80901@swoodbridge.com>
Message-ID: <AANLkTilB4pIa8E4IIENeoXJIAOCRdJHPgOUPwrWll9LR@mail.gmail.com>

On Sat, Jun 26, 2010 at 6:41 PM, Stephen Woodbridge
<woodbri@swoodbridge.com> wrote:
> Hi all,
>
> I have a few Spot image files and ran the following. Is there a good way to
> check the integrity of the original image. Should I have used some other
> options?

Steve,

I imagine the problem is due to a broken system libtiff.  You
can check the integrity of the original file using:

  gdalinfo -checksum file1.tif

I would suggest trying to rebuild GDAL using the internal libtiff.  The
system libtiff often has subtle issues with overview building which
requires zipping back and forth between the base and overview
image when doing io.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From woodbri at swoodbridge.com  Sat Jun 26 21:14:08 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Sat Jun 26 21:16:25 2010
Subject: [gdal-dev] Getting error with gdaladdo on Tiff files
In-Reply-To: <AANLkTilB4pIa8E4IIENeoXJIAOCRdJHPgOUPwrWll9LR@mail.gmail.com>
References: <4C268216.80901@swoodbridge.com>
	<AANLkTilB4pIa8E4IIENeoXJIAOCRdJHPgOUPwrWll9LR@mail.gmail.com>
Message-ID: <4C26A5E0.1080509@swoodbridge.com>

Frank Warmerdam wrote:
> On Sat, Jun 26, 2010 at 6:41 PM, Stephen Woodbridge
> <woodbri@swoodbridge.com> wrote:
>> Hi all,
>>
>> I have a few Spot image files and ran the following. Is there a good way to
>> check the integrity of the original image. Should I have used some other
>> options?
> 
> Steve,
> 
> I imagine the problem is due to a broken system libtiff.  You
> can check the integrity of the original file using:
> 
>   gdalinfo -checksum file1.tif
> 
> I would suggest trying to rebuild GDAL using the internal libtiff.  The
> system libtiff often has subtle issues with overview building which
> requires zipping back and forth between the base and overview
> image when doing io.
> 
> Best regards,

Frank,

Thanks, I'll rebuild from source instead of using the Debian package and 
see if that solves the problem.

Many thanks,
   -Steve
From woodbri at swoodbridge.com  Sat Jun 26 22:19:58 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Sat Jun 26 22:22:17 2010
Subject: [gdal-dev] Getting error with gdaladdo on Tiff files
In-Reply-To: <AANLkTilB4pIa8E4IIENeoXJIAOCRdJHPgOUPwrWll9LR@mail.gmail.com>
References: <4C268216.80901@swoodbridge.com>
	<AANLkTilB4pIa8E4IIENeoXJIAOCRdJHPgOUPwrWll9LR@mail.gmail.com>
Message-ID: <4C26B54E.9090008@swoodbridge.com>

Frank Warmerdam wrote:
> On Sat, Jun 26, 2010 at 6:41 PM, Stephen Woodbridge
> <woodbri@swoodbridge.com> wrote:
>> Hi all,
>>
>> I have a few Spot image files and ran the following. Is there a good way to
>> check the integrity of the original image. Should I have used some other
>> options?
> 
> Steve,
> 
> I imagine the problem is due to a broken system libtiff.  You
> can check the integrity of the original file using:
> 
>   gdalinfo -checksum file1.tif
> 
> I would suggest trying to rebuild GDAL using the internal libtiff.  The
> system libtiff often has subtle issues with overview building which
> requires zipping back and forth between the base and overview
> image when doing io.
> 
> Best regards,

Ok, ran the checksum on the 4 original files and no issues reported.

My gdal-1.5.2 build is a debian package that I build from source and my 
debian/rules file has the following configure:

     for V in $(PYVERS); do \
         PYTHON=/usr/bin/python$$V ./configure --prefix=/usr \
             --mandir=\$$\{prefix\}/share/man \
             --includedir=\$$\{prefix\}/include/gdal \
             --with-threads \
             --with-grass=no \
             --with-ecw=no \
             --with-mrsid=no \
             --with-jp2mrsid=no \
             --with-libtiff=internal \
             --with-geotiff=internal \
             --with-jasper \
             --with-netcdf \
             --with-xerces \
             --with-geos \
             --with-sqlite \
             --with-curl \
             --with-pg \
             --with-ogdi \
             --with-mysql \
             --with-perl \
             --with-ruby \
             --with-python \
             --with-cfitsio=no; \
         mv GDALmake.opt GDALmake.opt-$$V; \
     done

So it looks like I am already building it with internal libtiff and geotiff.

GDAL is now configured for x86_64-unknown-linux-gnu

   Installation directory:    /usr
   C compiler:                gcc -g -O2
   C++ compiler:              g++ -g -O2

   LIBTOOL support:           yes

   LIBZ support:              external
   GRASS support:             no
   CFITSIO support:           no
   PCRaster support:          internal
   NetCDF support:            yes
   LIBPNG support:            external
   LIBTIFF support:           internal (BigTIFF=yes)
   LIBGEOTIFF support:        internal
   LIBJPEG support:           external
   LIBGIF support:            external
   OGDI support:              yes
   HDF4 support:              yes
   HDF5 support:              yes
   Kakadu support:            no
   JasPer support:            yes (GeoJP2=no)
   ECW support:               no
   MrSID support:             no
   GRIB support:              no
   cURL support (wms/wcs/...):yes
   PostgreSQL support:        yes
   MySQL support:             yes
   Xerces-C support:            yes
   Expat support:             yes
   ODBC support:              yes
   PGeo support:              yes
   OCI support:               no
   SDE support:               no
   DODS support:              no
   SQLite support:            yes
   DWGdirect support          no
   PANORAMA GIS support:      no
   INFORMIX DataBlade support:no
   GEOS support:              yes


   Old-gen python          no
   SWIG Bindings:          python ruby perl

   Statically link PROJ.4:    no
   enable OGR building:       yes
   enable pthread support:    yes
   hide internal symbols:     no


I'll keep poking at this. Please let me know if you have any other ideas 
to look at. I'll also check the system for any possible old packages or 
libs lying around.

Thanks,
   -Steve
From ahmettemiz88 at gmail.com  Sun Jun 27 13:13:32 2010
From: ahmettemiz88 at gmail.com (ahmet temiz)
Date: Sun Jun 27 13:13:35 2010
Subject: [gdal-dev] couldn't create vrt file
Message-ID: <AANLkTimYY9YpVOEMJOlf1_BtmNPvJnXRhK8EfzkmVNiH@mail.gmail.com>

hello

I tried to use ogr2ogr for creating polygon vrt file.But I encountered
a problem:
Line 5: Didn't find expected '=' for value of attribute '?'.

polygon1.csv:

"Record_Id","wkb_Polygon"
"1",POLYGON(('501453.34 4800585.97,501576.14 4800590.44,501569.85
4800522,501471.61 4800521.63,501453.34 4800585.97'))

~~~~~~~~~~~

<OGRVRTDataSource>
	     <OGRVRTLayer name="polygon1">
	        <SrcDataSource >polygon1.csv</SrcDataSource>
                <GeometryType>wkbPolygon</GeometryType>
		<FID>Record_Id</FID>
                <GeometryField encoding=?WKT? field=?wkb_Polygon?/>
                <LayerSRS>EPSG:32636</LayerSRS>
            </OGRVRTLayer>
</OGRVRTDataSource>

I couldn't understand the problem.

regards

Ahmet Temiz
From woodbri at swoodbridge.com  Sun Jun 27 13:25:17 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Sun Jun 27 13:27:52 2010
Subject: [gdal-dev] Getting error with gdaladdo on Tiff files
In-Reply-To: <4C26B54E.9090008@swoodbridge.com>
References: <4C268216.80901@swoodbridge.com>	<AANLkTilB4pIa8E4IIENeoXJIAOCRdJHPgOUPwrWll9LR@mail.gmail.com>
	<4C26B54E.9090008@swoodbridge.com>
Message-ID: <4C27897D.8060209@swoodbridge.com>

OK, so I have solved the problem.

I built 1.7.2 from source and still had the problem with gdaladdo using 
the files that I warped with 1.5.2. I warped the files again using 1.7.2 
and then gdaladdo worked ok.

So, it looks like there might have been a bug in gdalwarp in 1.5.2 that 
does not show up checking with gdalinfo -checksum

-Steve

Stephen Woodbridge wrote:
> Frank Warmerdam wrote:
>> On Sat, Jun 26, 2010 at 6:41 PM, Stephen Woodbridge
>> <woodbri@swoodbridge.com> wrote:
>>> Hi all,
>>>
>>> I have a few Spot image files and ran the following. Is there a good 
>>> way to
>>> check the integrity of the original image. Should I have used some other
>>> options?
>>
>> Steve,
>>
>> I imagine the problem is due to a broken system libtiff.  You
>> can check the integrity of the original file using:
>>
>>   gdalinfo -checksum file1.tif
>>
>> I would suggest trying to rebuild GDAL using the internal libtiff.  The
>> system libtiff often has subtle issues with overview building which
>> requires zipping back and forth between the base and overview
>> image when doing io.
>>
>> Best regards,
> 
> Ok, ran the checksum on the 4 original files and no issues reported.
> 
> My gdal-1.5.2 build is a debian package that I build from source and my 
> debian/rules file has the following configure:
> 
>     for V in $(PYVERS); do \
>         PYTHON=/usr/bin/python$$V ./configure --prefix=/usr \
>             --mandir=\$$\{prefix\}/share/man \
>             --includedir=\$$\{prefix\}/include/gdal \
>             --with-threads \
>             --with-grass=no \
>             --with-ecw=no \
>             --with-mrsid=no \
>             --with-jp2mrsid=no \
>             --with-libtiff=internal \
>             --with-geotiff=internal \
>             --with-jasper \
>             --with-netcdf \
>             --with-xerces \
>             --with-geos \
>             --with-sqlite \
>             --with-curl \
>             --with-pg \
>             --with-ogdi \
>             --with-mysql \
>             --with-perl \
>             --with-ruby \
>             --with-python \
>             --with-cfitsio=no; \
>         mv GDALmake.opt GDALmake.opt-$$V; \
>     done
> 
> So it looks like I am already building it with internal libtiff and 
> geotiff.
> 
> GDAL is now configured for x86_64-unknown-linux-gnu
> 
>   Installation directory:    /usr
>   C compiler:                gcc -g -O2
>   C++ compiler:              g++ -g -O2
> 
>   LIBTOOL support:           yes
> 
>   LIBZ support:              external
>   GRASS support:             no
>   CFITSIO support:           no
>   PCRaster support:          internal
>   NetCDF support:            yes
>   LIBPNG support:            external
>   LIBTIFF support:           internal (BigTIFF=yes)
>   LIBGEOTIFF support:        internal
>   LIBJPEG support:           external
>   LIBGIF support:            external
>   OGDI support:              yes
>   HDF4 support:              yes
>   HDF5 support:              yes
>   Kakadu support:            no
>   JasPer support:            yes (GeoJP2=no)
>   ECW support:               no
>   MrSID support:             no
>   GRIB support:              no
>   cURL support (wms/wcs/...):yes
>   PostgreSQL support:        yes
>   MySQL support:             yes
>   Xerces-C support:            yes
>   Expat support:             yes
>   ODBC support:              yes
>   PGeo support:              yes
>   OCI support:               no
>   SDE support:               no
>   DODS support:              no
>   SQLite support:            yes
>   DWGdirect support          no
>   PANORAMA GIS support:      no
>   INFORMIX DataBlade support:no
>   GEOS support:              yes
> 
> 
>   Old-gen python          no
>   SWIG Bindings:          python ruby perl
> 
>   Statically link PROJ.4:    no
>   enable OGR building:       yes
>   enable pthread support:    yes
>   hide internal symbols:     no
> 
> 
> I'll keep poking at this. Please let me know if you have any other ideas 
> to look at. I'll also check the system for any possible old packages or 
> libs lying around.
> 
> Thanks,
>   -Steve
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Sun Jun 27 13:32:42 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Jun 27 13:32:53 2010
Subject: [gdal-dev] couldn't create vrt file
In-Reply-To: <AANLkTimYY9YpVOEMJOlf1_BtmNPvJnXRhK8EfzkmVNiH@mail.gmail.com>
References: <AANLkTimYY9YpVOEMJOlf1_BtmNPvJnXRhK8EfzkmVNiH@mail.gmail.com>
Message-ID: <201006271932.43875.even.rouault@mines-paris.org>

Ahmet,

There are 2 issues :

* one with the CSV file

You should remove the simple quotes after POLYGON(( and before )), but enclose 
the whole WKT inside ASCII double quotes, like this :

"Record_Id","wkb_Polygon"
"1","POLYGON((501453.34 4800585.97,501576.14 4800590.44,501569.85 
4800522,501471.61 4800521.63,501453.34 4800585.97))"

* one with the VRT file

You have used the non-ASCII double quote character on the <GeometryField> 
line. Replace them with the ASCII double quote character

<OGRVRTDataSource>
             <OGRVRTLayer name="polygon1">
                <SrcDataSource >polygon1.csv</SrcDataSource>
                <GeometryType>wkbPolygon</GeometryType>
                <FID>Record_Id</FID>
                <GeometryField encoding="WKT" field="wkb_Polygon"/>
                <LayerSRS>EPSG:32636</LayerSRS>
            </OGRVRTLayer>
</OGRVRTDataSource>

Best regards,

Even
From shaun.kolomeitz at derm.qld.gov.au  Sun Jun 27 18:58:30 2010
From: shaun.kolomeitz at derm.qld.gov.au (Shaun Kolomeitz)
Date: Sun Jun 27 19:15:47 2010
Subject: [gdal-dev] gdalwarp large imagery
In-Reply-To: <AANLkTimt3KP7BmAaVSfKeSg591WLR3J5rQGyi6-fCSMK@mail.gmail.com>
References: <AANLkTimt3KP7BmAaVSfKeSg591WLR3J5rQGyi6-fCSMK@mail.gmail.com>
Message-ID: <FEAF8CF14AD0814D87DFD59B477048520129E260@BNEXPS02.prod.ad.internal>

Kevin,

 

I find reasonably acceptable performance with -wm 500 -config
GDAL_CACHEMAX 512 and reading from one disk located on one controller
and writing to another (preferably local and fast disk).

I also find working in the 64bit version of GDAL faster in my config
(Win 7 x64, SSD + SAS disk array).

 

Cheers,

Shaun

 

________________________________

From: GeoSpatial - Kevin [mailto:gs.kevin1@gmail.com] 
Sent: Friday, 25 June 2010 5:30 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] gdalwarp large imagery

 

Hi all,

I am trying to re-project a very large image (size 40,000 by 40,000
pixels, resolution ~120m) located at high latitudes (60N) to a standard
wgs84. By searching some previous posts, I come up with the following
command:  

gdalwarp  -of EHdr -t_srs EPSG:4326 -tr 0.001111 0.001111 --config
GDAL_CACHEMAX 200 -wm 200 -wo SKIP_NOSOURCE=YES -r bilinear -multi
input_ice.tif output_ice.tif

it is working now but the speed is very slow - likely this will take 12
hours... Any way to speed up or am I wrong in selecting the parameters?
Many thanks.

Kevin 



+----------------------------------------------------------------+
Think B4U Print
1 ream of paper = 6% of a tree and 5.4kg CO2 in the atmosphere
3 sheets of A4 paper = 1 litre of water
+----------------------------------------------------------------+

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100628/65b773f1/attachment.html
From mail2vajram at gmail.com  Mon Jun 28 00:23:37 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Mon Jun 28 00:23:38 2010
Subject: [gdal-dev] Re: The type initializer for 'OSGeo.GDAL.GdalPINVOKE'
 threw an exception. when gdal.Allregister() calls
In-Reply-To: <AANLkTim72Buw23TuVF88dnYizOT5IvhCjFS6CcWzJl-F@mail.gmail.com>
References: <1277443400218-5220732.post@n2.nabble.com>
	<AANLkTim72Buw23TuVF88dnYizOT5IvhCjFS6CcWzJl-F@mail.gmail.com>
Message-ID: <1277699017094-5229427.post@n2.nabble.com>


The type initializer for 'OSGeo.GDAL.GdalPINVOKE'  threw an exception





details:

System.TypeInitializationException: The type initializer for
'SWIGExceptionHelper' threw an exception. ---> System.DllNotFoundException:
Unable to load DLL 'gdal_wrap': The specified procedure could not be found.
(Exception from HRESULT: 0x8007007F)
   at
OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper.SWIGRegisterExceptionCallbacks_Gdal(ExceptionDelegate
applicationDelegate, ExceptionDelegate arithmeticDelegate, ExceptionDelegate
divideByZeroDelegate, ExceptionDelegate indexOutOfRangeDelegate,
ExceptionDelegate invalidCastDelegate, ExceptionDelegate
invalidOperationDelegate, ExceptionDelegate ioDelegate, ExceptionDelegate
nullReferenceDelegate, ExceptionDelegate outOfMemoryDelegate,
ExceptionDelegate overflowDelegate, ExceptionDelegate
systemExceptionDelegate)
   at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..cctor()
   --- End of inner exception stack trace ---
   at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..ctor()
   at OSGeo.GDAL.GdalPINVOKE..cctor()




I got the same exception after reinstall the fwtools.........

why 

help me .....
thank you
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/The-type-initializer-for-OSGeo-GDAL-GdalPINVOKE-threw-an-exception-when-gdal-Allregister-calls-tp5220732p5229427.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From Andreas.Fischer at kreis-unna.de  Mon Jun 28 11:41:32 2010
From: Andreas.Fischer at kreis-unna.de (Fischer, Andreas)
Date: Mon Jun 28 11:42:39 2010
Subject: AW: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS
In-Reply-To: <AANLkTik6wqV5wqa1uAkopDFLYxf-DPuJ5MRhs215Ap0b@mail.gmail.com>
References: <A85A2E77866D1D4183268072EB15A8B80517C2DE@kum1.kreis-unna.int><4C12C24B.1020206@pobox.com><A85A2E77866D1D4183268072EB15A8B80517C2E0@kum1.kreis-unna.int>
	<AANLkTik6wqV5wqa1uAkopDFLYxf-DPuJ5MRhs215Ap0b@mail.gmail.com>
Message-ID: <A85A2E77866D1D4183268072EB15A8B80517C2FF@kum1.kreis-unna.int>

Hi Frank,
I'm sorry for my missing response yet. Nevertheless thank you for your helpful explanation!

But since it seems that there is no way getting gdal converted tif-files with creation option NBITS=1 properly displayed in MapInfo Professional, it might make sense looking for another shell program. This could work "in-a-pipe" and should convert a paletted gdal output file into a 1bit file without color table just IrfanView does. 

Do you know a free software tool that will fit my needs? Or is there another way to think about? If the behavior of MapInfo Professional isn't default I could contact Pitney Bowes for sure as well. But I wouldn't rather wait for a solution from there ...

Thanks so far,
Best regards
Andreas



Mit freundlichen Gr??en
Im Auftrag

Andreas Fischer

Kreis Unna - Der Landrat
Zentrale Datenverarbeitung
Friedrich-Ebert-Stra?e 17
59425 Unna

Fon 02 3 03 27-44 16
Fax 0 23 03 27-28 96
andreas.fischer@kreis-unna.de
www.kreis-unna.de

-----Urspr?ngliche Nachricht-----
Von: fwarmerdam@gmail.com [mailto:fwarmerdam@gmail.com] Im Auftrag von Frank Warmerdam
Gesendet: Dienstag, 15. Juni 2010 16:34
An: Fischer, Andreas
Cc: gdal-dev@lists.osgeo.org
Betreff: Re: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS

On Mon, Jun 14, 2010 at 11:06 AM, Fischer, Andreas
<Andreas.Fischer@kreis-unna.de> wrote:
> Hi Frank,
> thanks for your hints. I could finally use tiffinfo very easily from FWTools-Shell, for I'm testing with a windows machine :-)
...
> b) File transformed with gdalwarp (gdal-file)
>
> TIFFReadDirectory: Warning, Unknown field with tag 42113 (0xa481) encountered.
> TIFF Directory at offset 0x10a8036 (17465398)
> ?Image Width: 11812 Image Length: 11812
> ?Bits/Sample: 1
> ?Sample Format: unsigned integer
> ?Compression Scheme: None
> ?Photometric Interpretation: palette color (RGB from colormap)
> ?Samples/Pixel: 1
> ?Rows/Strip: 5
> ?Planar Configuration: single image plane
> ?Color Map: (present)
> ?Tag 42113: 255
>
>
> c) gdal-file (b) opened with IrfanView and saved as a copy without changes
>
> TIFF Directory at offset 0x10a35bc (17446332)
> ?Image Width: 11812 Image Length: 11812
> ?Resolution: 0, 0 pixels/inch
> ?Bits/Sample: 1
> ?Compression Scheme: None
> ?Photometric Interpretation: min-is-white
> ?Orientation: row 0 top, col 0 lhs
> ?Samples/Pixel: 1
> ?Rows/Strip: 5
> ?Planar Configuration: single image plane
> ?Software: IrfanView

Andreas,

The most obvious difference between these is that the GDAL
generated file has a color table while IrfanView does not save
one with it's 1 bit output file.  It would appear that some software
packages do not properly support paletted one bit files.

Unfortunately, because GDAL "sees" the min-is-white
input file as paletted it produces a paletted output file.  I
cannot think of an easy way of avoiding this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
Diese E-Mail wurde beim Ausgang auf Viren geprueft. Wegen der 
potentiellen Gefahr auf den Uebertragungswegen wird zu einer 
Vireneingangskontrolle geraten. Eine Haftung f?r Virenfreiheit
wird ausgeschlossen.


From traviskirstine at gmail.com  Mon Jun 28 13:32:14 2010
From: traviskirstine at gmail.com (Travis Kirstine)
Date: Mon Jun 28 13:32:21 2010
Subject: [gdal-dev] GDAL WMS Driver - Image Size
Message-ID: <AANLkTin39sX7aKL_ShsmhVlt9RUi4zJy8pXmb8QZrFmC@mail.gmail.com>

I am doing some testing of the WMS driver with gdal and have a
question.  If I define the <SizeX> and <SizeY> parameters as 2000px I
would expect that the WMS request would request a image width and
height of 2000.  When I checked the log files GDAL is requesting a
976x976 image and then rescaling the returned image.
From bertelli at charta.acme.com  Mon Jun 28 13:51:10 2010
From: bertelli at charta.acme.com (Carlo A. Bertelli (Charta s.r.l.))
Date: Mon Jun 28 13:51:14 2010
Subject: [gdal-dev] OGR: Accessing ESRI Personal Geodatabase on OS X
Message-ID: <AANLkTimUXutxD4OHNl0x-Fe9AgpInKMQO2cipXU1xtTj@mail.gmail.com>

Hello,
maybe a solution may be found at a lower level, using gdal java
bindings with Jackcess (http://jackcess.sourceforge.net/), the library
behind mdb-sqlite. This could be a simpler solution for all platforms
besides Windows.
c

On Fri, 25 Jun 2010 16:06:48 William Kyngesburye wrote:

> PGeo support depends on a working ODBC driver for MDB databases. ?On Linux, this is done with mdbtools. ?I have not been able to get this working on OS X with the system iODBC (I last looked at it a year ago). ?It compiles (with some hackery), but does not load. ?I haven't tried mdbtools with UnixODBC, mainly because I prefer to use stuff available from the system, and UnixODBC is a large project. ?Maybe if I can whittle it down to a bare minimum needed for mdbtools (and assuming it works), I could bundle it in the GDAL framework.
>
> There is a commercial Actual Access iODBC driver (apparently it's derived from mdbtools), but it corrupts binary data when reading. ?I've reported this to the developers, and pestered them, but so far they haven't been able to fix it.
>
> One alternative option that I haven't followed up on yet (mainly lack of C++ skills, also lack of need) is to convert the mdb to sqlite with the mdb-sqlite java tool (http://code.google.com/p/mdb-sqlite/), then write a custom pgeo driver that reads the pgeo data from sqlite instead of ODBC/MDB. ?This wouldn't mirror the pgeo driver exactly as a feature (requires a separate external step), but it's _something_.
>
> On Jun 25, 2010, at 2:58 PM, Bob Cave wrote:
>
>>
>> Hello,
>>
>> I see that OGR supports reading ESRI Personal Geodatabases. ?We are
>> considering adding this capability to our product, which has both Windows
>> and Mac OS X implementations. ?I have tried the basic functionality on
>> Windows (using FW_Tools), and the OGR documentation has instructions for
>> using the reader on Linux, but I don't see any information about OS X. ?Has
>> anyone used it on OS X? ?If so, what were the major issues that needed to be
>> resolved?
>>
>> Thanks,
>>
>> Bob
>> --
>> View this message in context: http://osgeo-org.1803224.n2.nabble.com/OGR-Accessing-ESRI-Personal-Geodatabase-on-OS-X-tp5223574p5223574.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> All generalizations are dangerous, even this one.
From GWALTER at mdacorporation.com  Mon Jun 28 18:12:27 2010
From: GWALTER at mdacorporation.com (Gillian WALTER)
Date: Mon Jun 28 18:12:32 2010
Subject: [gdal-dev] Geotiff AREA_OR_POINT
Message-ID: <D4ADCF07769283468C6E62E379B5865710359AB250@EVSYVR1.ds.mda.ca>

Hi,

I'm trying to wrap my head around Geotiff's AREA_OR_POINT=Area versus AREA_OR_POINT=Point, and how that translates into GDAL.  I've  read the "PixelIsPoint Raster Space" and "PixelIsArea Raster Space" sections of the geotiff spec, and tried to find previous posts on the topic with very limited success ( http://osgeo-org.1803224.n2.nabble.com/GRASS-Problem-importing-geotiff-with-r-in-gdal-td1879130.html ).  Am I correct in interpreting this post to mean that the pixel-is-area and pixel-is-point tiffs are read the exact same way by GDAL, with the only difference being in the value of the AREA_OR_POINT metadata key?  Should viewers then be looking for the "AREA_OR_POINT" key in addition to the georeferencing information, and shift the display to center the top-left pixel on (0,0) if it's set to Point?

Thanks,

Gillian Walter
Software Developer
Geospatial Services Inc.
57 Auriga Drive - Suite 201
Ottawa, ON K2E 8B2
Telephone:  (613) 727-1087 #245
Facsimile:  (613) 727-5853
Email:  gwalter@mdacorporation.com

This e-mail and any attachments are intended solely for the use of the intended recipient(s) and may contain legally privileged, proprietary and/or confidential information.  Any use, disclosure, dissemination, distribution or copying of this e-mail and any attachments for any purposes that have not been specifically authorized by the sender is strictly prohibited.  If you are not the intended recipient, please immediately notify the sender by reply e-mail and permanently delete all copies and attachments.  The entire content of this e-mail is for "information purposes" only and should not be relied upon by the recipient in any way unless otherwise confirmed in writing by way of letter or facsimile.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100628/815c03bf/attachment.html
From warmerdam at pobox.com  Mon Jun 28 18:07:06 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun 28 18:14:46 2010
Subject: AW: [gdal-dev] gdalwarp and GTiff creation option NBITS
In-Reply-To: <A85A2E77866D1D4183268072EB15A8B80517C2FF@kum1.kreis-unna.int>
References: <A85A2E77866D1D4183268072EB15A8B80517C2DE@kum1.kreis-unna.int>
	<4C12C24B.1020206@pobox.com>
	<A85A2E77866D1D4183268072EB15A8B80517C2E0@kum1.kreis-unna.int>
	<AANLkTik6wqV5wqa1uAkopDFLYxf-DPuJ5MRhs215Ap0b@mail.gmail.com>
	<A85A2E77866D1D4183268072EB15A8B80517C2FF@kum1.kreis-unna.int>
Message-ID: <AANLkTikudLnNs1zOTp2ES55NL7pX_UJK4Zut8ZSbwE0o@mail.gmail.com>

On Mon, Jun 28, 2010 at 11:41 AM, Fischer, Andreas
<Andreas.Fischer@kreis-unna.de> wrote:
> Hi Frank,
> I'm sorry for my missing response yet. Nevertheless thank you for your helpful explanation!
>
> But since it seems that there is no way getting gdal converted tif-files with creation option NBITS=1 properly displayed in MapInfo Professional, it might make sense looking for another shell program. This could work "in-a-pipe" and should convert a paletted gdal output file into a 1bit file without color table just IrfanView does.
>
> Do you know a free software tool that will fit my needs? Or is there another way to think about? If the behavior of MapInfo Professional isn't default I could contact Pitney Bowes for sure as well. But I wouldn't rather wait for a solution from there ...

Andreas,

I do not know of a commandline tool for doing this that isn't going
to lose the georeferencing.  It would however be fairly easy to
write a small Python script using GDAL to strip the color table.
Let me know if you need me to prepare an example.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From mdsumner at gmail.com  Mon Jun 28 18:21:15 2010
From: mdsumner at gmail.com (Michael Sumner)
Date: Mon Jun 28 18:21:19 2010
Subject: [gdal-dev] Geotiff AREA_OR_POINT
In-Reply-To: <D4ADCF07769283468C6E62E379B5865710359AB250@EVSYVR1.ds.mda.ca>
References: <D4ADCF07769283468C6E62E379B5865710359AB250@EVSYVR1.ds.mda.ca>
Message-ID: <AANLkTinsMLsEupl9F3D-cgcYy6vewIY6mmEYh92Bb5N_@mail.gmail.com>

> Am I correct in interpreting this post to mean that the pixel-is-area and pixel-is-point tiffs >are read the exact same way by GDAL, with the only difference being in the value of the >AREA_OR_POINT metadata key? Should viewers then be looking for >the "AREA_OR_POINT" key in addition to the georeferencing information, and shift the >display to center the top-left pixel on (0,0) if it's set to Point?

That's my understanding, it's just a metadata tag there for use if you
need it. I would say that viewers should only modify their behaviour
from Area if they have the distinction for centre point vs. cell based
views.

I've seen it used to set  centre-based TIN-like renderings, vs.
cell-based image renderings - but there's nothing in the GDAL raster
storage model that prevents you taking on either interpretation AFAIK,
though the default is cell-based.

(There can be a problem interpreting more flexible array formats like
NetCDF, that can store irregularly spaced coordinate vectors for, say,
the centres of cells on the X axis - and there's rarely any metadata
(in the file) to say explicitly that it's centre- not corner-based.  )

Cheers, Mike.

On Tue, Jun 29, 2010 at 8:12 AM, Gillian WALTER
<GWALTER@mdacorporation.com> wrote:
> Hi,
>
> I'm trying to wrap my head around Geotiff's AREA_OR_POINT=Area versus
> AREA_OR_POINT=Point, and how that translates into GDAL.? I've? read the
> "PixelIsPoint Raster Space" and "PixelIsArea Raster Space" sections of the
> geotiff spec, and tried to find previous posts on the topic with very
> limited success (
> http://osgeo-org.1803224.n2.nabble.com/GRASS-Problem-importing-geotiff-with-r-in-gdal-td1879130.html
> ).? Am I correct in interpreting this post to mean that the pixel-is-area
> and pixel-is-point tiffs are read the exact same way by GDAL, with the only
> difference being in the value of the AREA_OR_POINT metadata key?? Should
> viewers then be looking for the "AREA_OR_POINT" key in addition to the
> georeferencing information, and shift the display to center the top-left
> pixel on (0,0) if it's set to Point?
>
> Thanks,
>
> Gillian Walter
> Software Developer
> Geospatial Services Inc.
> 57 Auriga Drive - Suite 201
> Ottawa, ON K2E 8B2
> Telephone:? (613) 727-1087 #245
> Facsimile:? (613) 727-5853
> Email:? gwalter@mdacorporation.com
>
> This e-mail and any attachments are intended solely for the use of the
> intended recipient(s) and may contain legally privileged, proprietary and/or
> confidential information.? Any use, disclosure, dissemination, distribution
> or copying of this e-mail and any attachments for any purposes that have not
> been specifically authorized by the sender is strictly prohibited.? If you
> are not the intended recipient, please immediately notify the sender by
> reply e-mail and permanently delete all copies and attachments.? The entire
> content of this e-mail is for "information purposes" only and should not be
> relied upon by the recipient in any way unless otherwise confirmed in
> writing by way of letter or facsimile.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From jluis at ualg.pt  Mon Jun 28 18:33:35 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Jun 28 18:34:01 2010
Subject: [gdal-dev] Geotiff AREA_OR_POINT
In-Reply-To: <AANLkTinsMLsEupl9F3D-cgcYy6vewIY6mmEYh92Bb5N_@mail.gmail.com>
References: <D4ADCF07769283468C6E62E379B5865710359AB250@EVSYVR1.ds.mda.ca>
	<AANLkTinsMLsEupl9F3D-cgcYy6vewIY6mmEYh92Bb5N_@mail.gmail.com>
Message-ID: <4C29233F.2090106@ualg.pt>

On 28-06-2010 23:21, Michael Sumner wrote:
>> Am I correct in interpreting this post to mean that the pixel-is-area and pixel-is-point tiffs>are read the exact same way by GDAL, with the only difference being in the value of the>AREA_OR_POINT metadata key? Should viewers then be looking for>the "AREA_OR_POINT" key in addition to the georeferencing information, and shift the>display to center the top-left pixel on (0,0) if it's set to Point?
>>      
> That's my understanding, it's just a metadata tag there for use if you
> need it. I would say that viewers should only modify their behaviour
> from Area if they have the distinction for centre point vs. cell based
> views.
>
> I've seen it used to set  centre-based TIN-like renderings, vs.
> cell-based image renderings - but there's nothing in the GDAL raster
> storage model that prevents you taking on either interpretation AFAIK,
> though the default is cell-based.
>    


> (There can be a problem interpreting more flexible array formats like
> NetCDF, that can store irregularly spaced coordinate vectors for, say,
> the centres of cells on the X axis - and there's rarely any metadata
> (in the file) to say explicitly that it's centre- not corner-based.  )
>
> Cheers, Mike.
>    


netCDF grids created by GMT have always (~20 years) made that 
distinction and store that information.

Joaquim

From mdsumner at gmail.com  Mon Jun 28 18:47:46 2010
From: mdsumner at gmail.com (Michael Sumner)
Date: Mon Jun 28 18:47:47 2010
Subject: [gdal-dev] Geotiff AREA_OR_POINT
In-Reply-To: <4C29233F.2090106@ualg.pt>
References: <D4ADCF07769283468C6E62E379B5865710359AB250@EVSYVR1.ds.mda.ca>
	<AANLkTinsMLsEupl9F3D-cgcYy6vewIY6mmEYh92Bb5N_@mail.gmail.com>
	<4C29233F.2090106@ualg.pt>
Message-ID: <AANLkTilpS8CzIJr6EgynSBKqDrR7_cu5KEbfj1Kz0t32@mail.gmail.com>

Thanks for the heads up, I've not used GMT versions of NetCDF much, or
recently. The vast majority of NetCDF I've had to work with do not
make this explicit, and this is about the most detailed discussion
I've seen:

http://www.mail-archive.com/cf-metadata@cgd.ucar.edu/msg00566.html

Cheers, Mike.

>On Tue, Jun 29, 2010 at 8:33 AM, Joaquim Luis <jluis@ualg.pt> wrote:
> netCDF grids created by GMT have always (~20 years) made that distinction
> and store that information.
>
> Joaquim
>
>
From jluis at ualg.pt  Mon Jun 28 19:03:36 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Jun 28 19:03:58 2010
Subject: [gdal-dev] Geotiff AREA_OR_POINT
In-Reply-To: <AANLkTilpS8CzIJr6EgynSBKqDrR7_cu5KEbfj1Kz0t32@mail.gmail.com>
References: <D4ADCF07769283468C6E62E379B5865710359AB250@EVSYVR1.ds.mda.ca>	<AANLkTinsMLsEupl9F3D-cgcYy6vewIY6mmEYh92Bb5N_@mail.gmail.com>	<4C29233F.2090106@ualg.pt>
	<AANLkTilpS8CzIJr6EgynSBKqDrR7_cu5KEbfj1Kz0t32@mail.gmail.com>
Message-ID: <4C292A48.4030609@ualg.pt>

On 28-06-2010 23:47, Michael Sumner wrote:
> Thanks for the heads up, I've not used GMT versions of NetCDF much, or
> recently. The vast majority of NetCDF I've had to work with do not
> make this explicit, and this is about the most detailed discussion
> I've seen:
>
> http://www.mail-archive.com/cf-metadata@cgd.ucar.edu/msg00566.html
>
> Cheers, Mike.
>    

Mike,

Meanwhile I found (should know it by hart, though) how GMT does it. The 
info is stored on a global attribute
"node_offset".
0 for grid registration (pixel-is-point) and 1 for pixel registration 
(pixel-is-area)
Furthermore, when reading grids created by other programs that do not 
store that info GMT guesses the grid type based on the array size and 
the coordinates limits.

Joaquim

>    
>> On Tue, Jun 29, 2010 at 8:33 AM, Joaquim Luis<jluis@ualg.pt>  wrote:
>> netCDF grids created by GMT have always (~20 years) made that distinction
>> and store that information.
>>
>> Joaquim
>>
>>
>>      
>
>    

From Luke.Pinner at environment.gov.au  Mon Jun 28 21:31:38 2010
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Mon Jun 28 21:31:53 2010
Subject: [gdal-dev] Modify an image color table?
In-Reply-To: <4C249D49.9080301@pobox.com>
References: <AANLkTikPQ7h8ITrXZxQBpydfnnDPZpUydZvdQKprqK3g@mail.gmail.com>
	<4C249D49.9080301@pobox.com>
Message-ID: <64102B2FB850C345B04D09C82018F45F0273ED0B@ACT01VEXCCL04.internal.govt>

Well elevation, particularly bathymetry, is an obvious application for
colourmaps for negative data. 

Marco, I deal with colourmaps with negative values using the <LUT> vrt
element instead of the <ColorTable> element.
See below, (note the data is a single band raster, but the VRT exands
this to 3 band RGB.

<VRTDataset rasterXSize="415" rasterYSize="340">
  <VRTRasterBand dataType="Byte" band="1">
    <ColorInterp>Red</ColorInterp>
    <ComplexSource>
      <SourceFilename relativeToVRT="1">test.bil</SourceFilename>
      <SourceBand>1</SourceBand>
      <LUT>
        -5:0,
        -4:25,
        -3:50,
        -2:75,
        -1:100,
        0:125,
        1:150,
        2:175,
        3:200,
        4:225,
        5:250
      </LUT>
    </ComplexSource>
  </VRTRasterBand>
  <VRTRasterBand dataType="Byte" band="2">
    <ColorInterp>Green</ColorInterp>
    <ComplexSource>
      <SourceFilename relativeToVRT="1">test.bil</SourceFilename>
      <SourceBand>1</SourceBand>
      <LUT>
        -5:0,
        -4:25,
        -3:50,
        -2:75,
        -1:100,
        0:125,
        1:150,
        2:175,
        3:200,
        4:225,
        5:250
      </LUT>
    </ComplexSource>
  </VRTRasterBand>
  <VRTRasterBand dataType="Byte" band="3">
    <ColorInterp>Blue</ColorInterp>
    <ComplexSource>
      <SourceFilename relativeToVRT="1">test.bil</SourceFilename>
      <SourceBand>1</SourceBand>
      <LUT>
        -5:0,
        -4:25,
        -3:50,
        -2:75,
        -1:100,
        0:125,
        1:150,
        2:175,
        3:200,
        4:225,
        5:250
      </LUT>
    </ComplexSource>
  </VRTRasterBand>
</VRTDataset>

Luke

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Friday, 25 June 2010 10:13 PM
To: Marco Stelluti
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Modify an image color table?

Marco Stelluti wrote:
> Hi,
> I'm a new gdal user and I've a little problem.
> 
> I have to modify the color to an ASCII raster.
> 
> 1_ I converted the raster using gdalbuildvrt;
> 2_ I modified the file *.vrt adding:
>     <ColorInterp>Palette</ColorInterp>
>  <ColorTable>
> <Entry c1="255" c2="255" c3="255" c4="255"/>
> <Entry c1="0" c2="0" c3="150" c4="255"/>
> <Entry c1="0" c2="0" c3="150" c4="255"/>
> .......
>  </ColorTable>
> 3_ I know: "The entries are ordered and will be assumed to start from 
> color table entry 0"
> 4_ But I have some negative value on the ASCII raster, the range is
from 
> -31 to 65.
> 5_ How I can resolve this problem?

Marco,

Generally speaking GDAL color maps do not have an obvious application
to negative or non-integer data.  You could use the "raster attribute
table"
mechanism to represent color assignments to negative values, but since
so
few applications make use of this data object it is nearly useless to do
so.

What application do you want the color table to work in?  How you handle
the situation will depend on the output application.   If preserving the
original pixel values isn't important you may want to reprocess/rescale
your
raster.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


------
If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments. 



Please consider the environment before printing this email.

------

From John.Axline at ngc.com  Mon Jun 28 21:41:49 2010
From: John.Axline at ngc.com (Axline, John)
Date: Mon Jun 28 22:30:54 2010
Subject: [gdal-dev] Support for SHAPEFILE to VMAP?
Message-ID: <B880349D6D262044B47D4FF6CF33F3C306333793@XMBTX133.northgrum.com>

We have a need to generate VMAP files from ESRI shapefiles. The
most-promising utility I'm aware of is OGR/OGDI, but that appears to
perform only the opposite conversion, VMAP to SHP. Am I missing a
capability, or another resource? 

Thanks, and apologies in advance for additional neophyte questions I'm
certain to post...

John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100628/be3a484d/attachment.html
From NRezaee at totimm.com  Tue Jun 29 00:15:21 2010
From: NRezaee at totimm.com (Neema Rezaee)
Date: Tue Jun 29 00:15:28 2010
Subject: [gdal-dev] csharp dll hell
Message-ID: <5A4E93003F8D1A45981179485028E5E0020A3638@ALMail01.totimm.com>

We have a legacy app that is using the csharp binaries. I tried to build the csharp bins using the visual studio 2008 command prompt. Everything works fine on the box that the bins were built on or any box that has visual studio (2009) installed but once it goes on a non-dev box, I start getting error on OSgeo.ogr.ogr.registerall(), can't find entry point.

I made sure the redistro package for VS is installed and dependency walker doesn't give me much except that it says MSVCR90.dll cannot be found but if I scroll down the list I see MSVCR90.dll show next msvcp90.dll.

I am building gdal 1.7.2 and using swigwin 1.3.31

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100629/e2655889/attachment.html
From warmerdam at pobox.com  Tue Jun 29 01:36:02 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 29 01:36:05 2010
Subject: [gdal-dev] Support for SHAPEFILE to VMAP?
In-Reply-To: <B880349D6D262044B47D4FF6CF33F3C306333793@XMBTX133.northgrum.com>
References: <AcsXLLcr+FbnAe3gS+KIpdFcEC4jGA==>
	<B880349D6D262044B47D4FF6CF33F3C306333793@XMBTX133.northgrum.com>
Message-ID: <AANLkTilyRZdkGczCdQ1KG0aObtFBnRjSs_KEmLxqyVdl@mail.gmail.com>

On Tue, Jun 29, 2010 at 3:41 AM, Axline, John <John.Axline@ngc.com> wrote:
> We have a need to generate VMAP files from ESRI shapefiles. The
> most-promising utility I?m aware of is OGR/OGDI, but that appears to perform
> only the opposite conversion, VMAP to SHP. Am I missing a capability, or
> another resource?
>
> Thanks, and apologies in advance for additional neophyte questions I?m
> certain to post?

John,

I am afraid that GDAL/OGR, and OGDI do not have any
support for writing VPF.  I'm not aware of any open
source solution for writing VPF though something
might exist.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From szekerest at gmail.com  Tue Jun 29 05:25:37 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Jun 29 05:31:11 2010
Subject: [gdal-dev] csharp dll hell
In-Reply-To: <5A4E93003F8D1A45981179485028E5E0020A3638@ALMail01.totimm.com>
References: <5A4E93003F8D1A45981179485028E5E0020A3638@ALMail01.totimm.com>
Message-ID: <AANLkTinc7cldvGq9_f7wtpnWcZBDdKCzaDdLMgKPF1iM@mail.gmail.com>

How about using the packages from http://vbkto.dyndns.org/sdk/? The C#
bindings are generated with swigwin 1.3.39.

Best regards,

Tamas



2010/6/29 Neema Rezaee <NRezaee@totimm.com>

>  We have a legacy app that is using the csharp binaries. I tried to build
> the csharp bins using the visual studio 2008 command prompt. Everything
> works fine on the box that the bins were built on or any box that has visual
> studio (2009) installed but once it goes on a non-dev box, I start getting
> error on OSgeo.ogr.ogr.registerall(), can?t find entry point.
>
>
>
> I made sure the redistro package for VS is installed and dependency walker
> doesn?t give me much except that it says MSVCR90.dll cannot be found but if
> I scroll down the list I see MSVCR90.dll show next msvcp90.dll.
>
>
>
> I am building gdal 1.7.2 and using swigwin 1.3.31
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100629/7c70ae5c/attachment-0001.html
From kimbesson1981 at gmail.com  Tue Jun 29 05:41:24 2010
From: kimbesson1981 at gmail.com (Kim Besson)
Date: Tue Jun 29 05:41:27 2010
Subject: [gdal-dev] Using Python-GDAL to retrieve Projection information
Message-ID: <AANLkTikgISeTp-3vh15oKxVWcHkM2jtGbvOCSzmOlkya@mail.gmail.com>

Greetings

I have been using Python GDAL to retrieve image size (XSize YSize) but now I
need to retrieve Projection information in order to use in GDALWARP. Has
anyone has an practical-example on how to use it?
THanks

Best regards,
Kim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100629/0eb49924/attachment.html
From warmerdam at pobox.com  Tue Jun 29 05:46:42 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 29 05:46:44 2010
Subject: [gdal-dev] Using Python-GDAL to retrieve Projection information
In-Reply-To: <AANLkTikgISeTp-3vh15oKxVWcHkM2jtGbvOCSzmOlkya@mail.gmail.com>
References: <AANLkTikgISeTp-3vh15oKxVWcHkM2jtGbvOCSzmOlkya@mail.gmail.com>
Message-ID: <AANLkTimAALVT8KyfHnBjqikMxXrmypzspInhM1nVSqfQ@mail.gmail.com>

Kim,

You can use GetProjection() to fetch the coordinate system:

dataset = gdal.Open( input )
projection   = dataset.GetProjection()

The returned value is a string containing the WKT
description of the coordinate system.

Best regards,

On Tue, Jun 29, 2010 at 11:41 AM, Kim Besson <kimbesson1981@gmail.com> wrote:
> Greetings
> I have been using Python GDAL to retrieve image size (XSize YSize) but now I
> need to retrieve Projection information in order to use in GDALWARP. Has
> anyone has an practical-example on how to use it?
> THanks
> Best regards,
> Kim
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From a.neumann at carto.net  Tue Jun 29 06:23:38 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue Jun 29 06:23:42 2010
Subject: [gdal-dev] OpenDWG, Open Design Alliance
Message-ID: <27038.193.246.86.39.1277807018.squirrel@webmail.carto.net>

Hi,

>From time to time it would be nice if I could read DWG files from OS-GIS.

OGR has the option to read DWG through the Open Design Alliance DWGdirect
library - which is only available for registered users.

For inhouse use it would be affordable for me to become a ODA member.

Before I would try to do so - can I ask if someone on this list has
experiences with the library? Does it still work with the current gdal
trunk? Is it worth the efforts?

I also see that DWGdirect is now Teigha? Is this just the new version of
DWGdirect? Would Teigha also work or would I need an older version of the
DWGdirect library?

Thanks if anyone has something to share in this respect.

Andreas


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From warmerdam at pobox.com  Tue Jun 29 06:29:34 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 29 06:29:36 2010
Subject: [gdal-dev] OpenDWG, Open Design Alliance
In-Reply-To: <27038.193.246.86.39.1277807018.squirrel@webmail.carto.net>
References: <27038.193.246.86.39.1277807018.squirrel@webmail.carto.net>
Message-ID: <AANLkTikIO8q-9guKiFsJM9nsbjsp3Exal4EteIJmDDIU@mail.gmail.com>

On Tue, Jun 29, 2010 at 12:23 PM, Andreas Neumann <a.neumann@carto.net> wrote:
> Hi,
>
> >From time to time it would be nice if I could read DWG files from OS-GIS.
>
> OGR has the option to read DWG through the Open Design Alliance DWGdirect
> library - which is only available for registered users.
>
> For inhouse use it would be affordable for me to become a ODA member.
>
> Before I would try to do so - can I ask if someone on this list has
> experiences with the library? Does it still work with the current gdal
> trunk? Is it worth the efforts?

Andreas,

I have not attempted to maintain this driver for some time,
and I suspect there have been changes in the dwgdirect
library that may be a problem.  If you try it, I'm sure we would
appreciate a report.

I would also note there is a new open source dwg effort
ongoing and that as that matures we might be able to
utilize that.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From a.neumann at carto.net  Tue Jun 29 07:56:23 2010
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue Jun 29 07:56:28 2010
Subject: [gdal-dev] OpenDWG, Open Design Alliance
In-Reply-To: <AANLkTikIO8q-9guKiFsJM9nsbjsp3Exal4EteIJmDDIU@mail.gmail.com>
References: <27038.193.246.86.39.1277807018.squirrel@webmail.carto.net>
	<AANLkTikIO8q-9guKiFsJM9nsbjsp3Exal4EteIJmDDIU@mail.gmail.com>
Message-ID: <19507.193.246.86.39.1277812583.squirrel@webmail.carto.net>

Hi Frank,

Thanks for the info - do you have a pointer to this OS DWG effort?

Andreas

On Tue, June 29, 2010 12:29 pm, Frank Warmerdam wrote:
> On Tue, Jun 29, 2010 at 12:23 PM, Andreas Neumann <a.neumann@carto.net>
> wrote:
>> Hi,
>>
>> >From time to time it would be nice if I could read DWG files from
>> OS-GIS.
>>
>> OGR has the option to read DWG through the Open Design Alliance
>> DWGdirect
>> library - which is only available for registered users.
>>
>> For inhouse use it would be affordable for me to become a ODA member.
>>
>> Before I would try to do so - can I ask if someone on this list has
>> experiences with the library? Does it still work with the current gdal
>> trunk? Is it worth the efforts?
>
> Andreas,
>
> I have not attempted to maintain this driver for some time,
> and I suspect there have been changes in the dwgdirect
> library that may be a problem.  If you try it, I'm sure we would
> appreciate a report.
>
> I would also note there is a new open source dwg effort
> ongoing and that as that matures we might be able to
> utilize that.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From monicabuescu1985 at gmail.com  Tue Jun 29 09:49:29 2010
From: monicabuescu1985 at gmail.com (Monica Buescu)
Date: Tue Jun 29 09:49:33 2010
Subject: [gdal-dev] Retrieving pixel corners through Python-gdal
Message-ID: <AANLkTikFnaN_JsOtpiUQdQIMbAZf_o1bEbRpYq_wKxX4@mail.gmail.com>

Greetings

I'm a kind of newbie in GDAL specially in Python-GDAL. I'm doing a script to
do some minor image processing but I need to retrieve, in a Python Scrpt,
coorners coordinates (top-left; bottom-right). Is there any way to retrieve
this using gdalpython?

Thanks

Monica
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100629/226dc3c4/attachment.html
From jez.walters at ipl.com  Tue Jun 29 09:10:29 2010
From: jez.walters at ipl.com (Jez Walters)
Date: Tue Jun 29 09:55:07 2010
Subject: [gdal-dev] ogr2ogr OS CartographicText conversion problem
Message-ID: <loom.20100629T150801-452@post.gmane.org>

Not quite sure if I've got the right forum here, but I'm having trouble 
converting Ordnance Survey GML into ESRI shapefiles using ogr2ogr (GDAL 1.7.2). 

The orientation field is getting ignored when I convert the CartographicText 
layer, although this field gets successfully translated for the 
CartographicSymbol layer.  I can read all the other CartographicText fields 
just fine. 

I'm fairly new to GIS systems, so I might be making an obvious mistake, but any 
advice gratefully received!  :-)

From Tom.Kralidis at ec.gc.ca  Tue Jun 29 10:01:09 2010
From: Tom.Kralidis at ec.gc.ca (Kralidis,Tom [Ontario])
Date: Tue Jun 29 10:01:11 2010
Subject: [gdal-dev] Retrieving pixel corners through Python-gdal
In-Reply-To: <AANLkTikFnaN_JsOtpiUQdQIMbAZf_o1bEbRpYq_wKxX4@mail.gmail.com>
References: <AANLkTikFnaN_JsOtpiUQdQIMbAZf_o1bEbRpYq_wKxX4@mail.gmail.com>
Message-ID: <DB58B7551932BF47AE1BF406D287C44401045485@OntExch3.ontario.int.ec.gc.ca>

 

> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org 
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Monica Buescu
> Sent: Tuesday, 29 June 2010 09:49
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Retrieving pixel corners through Python-gdal
> 
> Greetings
> 
> I'm a kind of newbie in GDAL specially in Python-GDAL. I'm 
> doing a script to do some minor image processing but I need 
> to retrieve, in a Python Scrpt, coorners coordinates 
> (top-left; bottom-right). Is there any way to retrieve this 
> using gdalpython?
> 
> Thanks
> 
> Monica
> 

This has worked for me:

import osgeo.gdal as gdal

ds = gdal.Open('foo.tif')
gt = ds.GetGeoTransform()
width = ds.RasterXSize
height = ds.RasterYSize
miny = gt[3] + width*gt[4] + height*gt[5] 
maxx = gt[0] + width*gt[1] + height*gt[2]
# bbox of raster (minx, miny, maxx, maxy)
bbox = (gt[0], miny, maxx, gt[3])

..Tom
From warmerdam at pobox.com  Tue Jun 29 10:14:23 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 29 10:14:25 2010
Subject: [gdal-dev] OpenDWG, Open Design Alliance
In-Reply-To: <19507.193.246.86.39.1277812583.squirrel@webmail.carto.net>
References: <27038.193.246.86.39.1277807018.squirrel@webmail.carto.net>
	<AANLkTikIO8q-9guKiFsJM9nsbjsp3Exal4EteIJmDDIU@mail.gmail.com>
	<19507.193.246.86.39.1277812583.squirrel@webmail.carto.net>
Message-ID: <AANLkTimQdOdvlgvEfAppez_UUTVdWVNfSpklnFMwiutN@mail.gmail.com>

On Tue, Jun 29, 2010 at 1:56 PM, Andreas Neumann <a.neumann@carto.net> wrote:
> Hi Frank,
>
> Thanks for the info - do you have a pointer to this OS DWG effort?

Andreas,

http://www.gnu.org/software/libredwg/

I have been watching the effort, but not very closely.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From Klug.Stefan at gmx.de  Tue Jun 29 10:49:29 2010
From: Klug.Stefan at gmx.de (Stefan Klug)
Date: Tue Jun 29 10:49:37 2010
Subject: [gdal-dev] gdal_merge.py alpha mask
Message-ID: <4C2A07F9.5010104@gmx.de>

Hi,

gdal_merge.py doesn't handle tiff files with alpha masks so I've added 
this functionality.

My patch changes the behaviour of gdal_merge as follows:
- If a band is recognized as Alpha Band it is automatically treated as 
having a NODATA value of 0.
I'm not sure if this is the way to go. But it makes some sense, as the 
resulting alpha channel is a correct alpha merge, independent of the 
nodata value used for the other bands.
- If a band has mask flag GMF_ALPHA set, the mask band controls the 
parts that get written to the destination

Would be great if someone could review and possibly checkin the patch.

Regards
     Stefan



-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal_merge.patch
Type: text/x-patch
Size: 2674 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100629/2d1ed0b5/gdal_merge-0001.bin
From eduardo.ramalho at gmail.com  Tue Jun 29 10:56:08 2010
From: eduardo.ramalho at gmail.com (EduRam)
Date: Tue Jun 29 10:56:10 2010
Subject: [gdal-dev] GDAL WMS Driver - Image Size
In-Reply-To: <AANLkTin39sX7aKL_ShsmhVlt9RUi4zJy8pXmb8QZrFmC@mail.gmail.com>
References: <AANLkTin39sX7aKL_ShsmhVlt9RUi4zJy8pXmb8QZrFmC@mail.gmail.com>
Message-ID: <1277823368059-5235324.post@n2.nabble.com>


Hi! 

Could you elaborate how are you doing the test!!!

Edu

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-GDAL-WMS-Driver-Image-Size-tp5231808p5235324.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From Pierre.Racine at sbf.ulaval.ca  Tue Jun 29 11:30:47 2010
From: Pierre.Racine at sbf.ulaval.ca (Pierre Racine)
Date: Tue Jun 29 11:30:50 2010
Subject: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
Message-ID: <87A96661E65C5541AB4D20721C2DD7F880A316869C@EXCH-MBX-A.ulaval.ca>

Hi everybody,

I'm pleased to announce that you can now do intersections between rasters and geometries very much like you used to do geometry/geometry intersections in PostGIS. For this, PostGIS WKT Raster introduces two new functions to PostGIS: ST_Intersects(geometry, raster, band) and ST_Intersection(geometry, raster, band).

As its geometry/geometry sister, ST_Intersects(geometry, raster, band) returns TRUE if the withvalue area of a raster or a raster tile (nodata value are ignored) intersects a geometry and ST_Intersection(geometry, raster, band) returns the geometry/value set of geometries representing the intersection between the geometry and each polygonized group of pixel sharing a same value from the raster and its associated value. Example:

SELECT polyid,
       (ST_Intersection(the_geom, rast)).geom,
       (ST_Intersection(the_geom, rast)).val
FROM my_polygons, srtm_tiled
WHERE ST_Intersects(rast, the_geom)

or, a bit more complex, but much faster and returning the same result:

SELECT polyid, (gv).geom, (gv).val
FROM (SELECT polyid, ST_Intersection(the_geom, rast, 1) AS gv
     FROM my_polygons, srtm_tiled
     WHERE ST_Intersects(rast, the_geom)) foo

These functions works with any kind of geometry so you can intersect any road, river, polygons or point layer with your favorite elevation or land cover raster of any resolution and any size. You can also load any number of raster in the database with one command line to constitute a unique table raster coverage of any shape (no matter if your group of raster do not form a rectangular coverage).

You will find a complete tutorial on how to use those two new functions here: http://trac.osgeo.org/postgis/wiki/WKTRasterTutorial01. A reference is available here: http://postgis.refractions.net/documentation/manual-svn/RT_reference.html and chapter 13 of "PostGIS in Action" is also a very good introduction to WKT Raster.

Compilation and installation info are available in the project home page: http://trac.osgeo.org/postgis/wiki/WKTRaster

These features are the result of two years of collaboration between many people and companies interested in bringing raster into PostGIS. I would like to thanks particularly Steve Cumming who initially made all this possible, Sandro Santilli who wrote the base code, Mateusz Loskot who wrote the Python loader, Jorge Arevalo who wrote the GDAL driver and ST_DumpAsPolygons(), Regina and Leo Obe who are doing so many things and believed in the project from the beginning by adding a chapter about WKT Raster in "PostGIS in Action" and also David Zwarg who wrote most of the setter functions.

This is the first step toward a first complete raster/vector analysis and manipulation SQL API. We hope to make of PostGIS with WKT Raster the most powerful and complete GIS analysis and manipulation high level language ever (!!!). WKT Raster should normally be totally integrated into PostGIS in PostGIS release 2.0. Upcoming functions should include ST_Reclass, ST_Clip, ST_AsRaster, ST_Resample.

Let us know your need and your experience with WKT Raster.

Thanks,

Pierre Racine

From John.Axline at ngc.com  Tue Jun 29 11:50:14 2010
From: John.Axline at ngc.com (Axline, John)
Date: Tue Jun 29 11:50:20 2010
Subject: [gdal-dev] csharp dll hell
Message-ID: <B880349D6D262044B47D4FF6CF33F3C306333966@XMBTX133.northgrum.com>

How about a .net 3.5 dependency?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100629/d351ff8d/attachment.html
From nowak at xpam.de  Tue Jun 29 11:48:39 2010
From: nowak at xpam.de (Adam Nowacki)
Date: Tue Jun 29 12:12:26 2010
Subject: [gdal-dev] GDAL WMS Driver - Image Size
In-Reply-To: <AANLkTin39sX7aKL_ShsmhVlt9RUi4zJy8pXmb8QZrFmC@mail.gmail.com>
References: <AANLkTin39sX7aKL_ShsmhVlt9RUi4zJy8pXmb8QZrFmC@mail.gmail.com>
Message-ID: <4C2A15D7.6080100@xpam.de>

default block size is 1024x1024 so the 2000x2000 image is split into 4 
requests: 1024x1024, 976x1024, 1024x976 and 976x976

Travis Kirstine wrote:
> I am doing some testing of the WMS driver with gdal and have a
> question.  If I define the <SizeX> and <SizeY> parameters as 2000px I
> would expect that the WMS request would request a image width and
> height of 2000.  When I checked the log files GDAL is requesting a
> 976x976 image and then rescaling the returned image.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From chaitanya.ch at gmail.com  Tue Jun 29 12:23:57 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Jun 29 12:24:00 2010
Subject: [gdal-dev] gdal_merge.py alpha mask
In-Reply-To: <4C2A07F9.5010104@gmx.de>
References: <4C2A07F9.5010104@gmx.de>
Message-ID: <AANLkTikD1dGgEroZju1s79aDtpiWK2BKCfL643LCNNFB@mail.gmail.com>

Stefan,

I haven't tested the script but doesn't the current code copy the alpha
band? If it does, it might be more preferable to copy all the pixels and the
alpha band.

Please create a ticket at http://trac.osgeo.org/gdal/newticket and attach
your patch.

On Tue, Jun 29, 2010 at 8:19 PM, Stefan Klug <Klug.Stefan@gmx.de> wrote:

> Hi,
>
> gdal_merge.py doesn't handle tiff files with alpha masks so I've added this
> functionality.
>
> My patch changes the behaviour of gdal_merge as follows:
> - If a band is recognized as Alpha Band it is automatically treated as
> having a NODATA value of 0.
> I'm not sure if this is the way to go. But it makes some sense, as the
> resulting alpha channel is a correct alpha merge, independent of the nodata
> value used for the other bands.
> - If a band has mask flag GMF_ALPHA set, the mask band controls the parts
> that get written to the destination
>
> Would be great if someone could review and possibly checkin the patch.
>
> Regards
>    Stefan
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100629/c5d7c63d/attachment.html
From christian.mueller at nvoe.at  Tue Jun 29 12:46:17 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Tue Jun 29 12:46:30 2010
Subject: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
In-Reply-To: <87A96661E65C5541AB4D20721C2DD7F880A316869C@EXCH-MBX-A.ulaval.ca>
References: <87A96661E65C5541AB4D20721C2DD7F880A316869C@EXCH-MBX-A.ulaval.ca>
Message-ID: <20100629184617.6i1fnqxxc4ww80ws@webmail.nvoe.at>

Hi, superb job. Congratulations.

I am a geotools/geoserver developer and one of my jobs is fetching  
image tiles  or the corresponding pyramid tiles from jdbc data  
sources. Some weeks ago, I added support for Oracle Georaster and I  
want to support WKT Georaster too.

wktraster makes it quite simple to achieve this. Is there any database  
layout you recommend. (A table for the image and one for each pyramid,  
or put all the tiles into one table having an attribute "level",.....).

I have seen "gdal2wktraster.py", is this the recommended way to import  
tiles into postgis ?
What is the table layout created/needed by this utility ?

Cheers
Christian



Quoting Pierre Racine <Pierre.Racine@sbf.ulaval.ca>:

> Hi everybody,
>
> I'm pleased to announce that you can now do intersections between   
> rasters and geometries very much like you used to do   
> geometry/geometry intersections in PostGIS. For this, PostGIS WKT   
> Raster introduces two new functions to PostGIS:   
> ST_Intersects(geometry, raster, band) and ST_Intersection(geometry,   
> raster, band).
>
> As its geometry/geometry sister, ST_Intersects(geometry, raster,   
> band) returns TRUE if the withvalue area of a raster or a raster   
> tile (nodata value are ignored) intersects a geometry and   
> ST_Intersection(geometry, raster, band) returns the geometry/value   
> set of geometries representing the intersection between the geometry  
>  and each polygonized group of pixel sharing a same value from the   
> raster and its associated value. Example:
>
> SELECT polyid,
>        (ST_Intersection(the_geom, rast)).geom,
>        (ST_Intersection(the_geom, rast)).val
> FROM my_polygons, srtm_tiled
> WHERE ST_Intersects(rast, the_geom)
>
> or, a bit more complex, but much faster and returning the same result:
>
> SELECT polyid, (gv).geom, (gv).val
> FROM (SELECT polyid, ST_Intersection(the_geom, rast, 1) AS gv
>      FROM my_polygons, srtm_tiled
>      WHERE ST_Intersects(rast, the_geom)) foo
>
> These functions works with any kind of geometry so you can intersect  
>  any road, river, polygons or point layer with your favorite   
> elevation or land cover raster of any resolution and any size. You   
> can also load any number of raster in the database with one command   
> line to constitute a unique table raster coverage of any shape (no   
> matter if your group of raster do not form a rectangular coverage).
>
> You will find a complete tutorial on how to use those two new   
> functions here:   
> http://trac.osgeo.org/postgis/wiki/WKTRasterTutorial01. A reference   
> is available here:   
> http://postgis.refractions.net/documentation/manual-svn/RT_reference.html   
> and chapter 13 of "PostGIS in Action" is also a very good   
> introduction to WKT Raster.
>
> Compilation and installation info are available in the project home   
> page: http://trac.osgeo.org/postgis/wiki/WKTRaster
>
> These features are the result of two years of collaboration between   
> many people and companies interested in bringing raster into   
> PostGIS. I would like to thanks particularly Steve Cumming who   
> initially made all this possible, Sandro Santilli who wrote the base  
>  code, Mateusz Loskot who wrote the Python loader, Jorge Arevalo who  
>  wrote the GDAL driver and ST_DumpAsPolygons(), Regina and Leo Obe   
> who are doing so many things and believed in the project from the   
> beginning by adding a chapter about WKT Raster in "PostGIS in   
> Action" and also David Zwarg who wrote most of the setter functions.
>
> This is the first step toward a first complete raster/vector   
> analysis and manipulation SQL API. We hope to make of PostGIS with   
> WKT Raster the most powerful and complete GIS analysis and   
> manipulation high level language ever (!!!). WKT Raster should   
> normally be totally integrated into PostGIS in PostGIS release 2.0.   
> Upcoming functions should include ST_Reclass, ST_Clip, ST_AsRaster,   
> ST_Resample.
>
> Let us know your need and your experience with WKT Raster.
>
> Thanks,
>
> Pierre Racine
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From jorge.arevalo at deimos-space.com  Tue Jun 29 13:45:51 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Tue Jun 29 13:46:15 2010
Subject: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
In-Reply-To: <20100629184617.6i1fnqxxc4ww80ws@webmail.nvoe.at>
References: <87A96661E65C5541AB4D20721C2DD7F880A316869C@EXCH-MBX-A.ulaval.ca> 
	<20100629184617.6i1fnqxxc4ww80ws@webmail.nvoe.at>
Message-ID: <AANLkTilDb2RUzzoil-MnpDvzUoEV3jdcDdapN8zA7i92@mail.gmail.com>

Hello,

On Tue, Jun 29, 2010 at 6:46 PM,  <christian.mueller@nvoe.at> wrote:
> Hi, superb job. Congratulations.
>
> I am a geotools/geoserver developer and one of my jobs is fetching image
> tiles ?or the corresponding pyramid tiles from jdbc data sources. Some weeks
> ago, I added support for Oracle Georaster and I want to support WKT
> Georaster too.
>
> wktraster makes it quite simple to achieve this. Is there any database
> layout you recommend. (A table for the image and one for each pyramid, or
> put all the tiles into one table having an attribute "level",.....).
>

I'd recommend one table for each separate tiled image. That's, in
fact, one of the ways WKT Raster works, in terms of raster table
arrangement.


> I have seen "gdal2wktraster.py", is this the recommended way to import tiles
> into postgis ?

Yes, this is the way you should use now to import images into PostGIS.

And related with pyramids, if you provide "-l <OVERVIEW_LEVEL>" as
command line option, you will get overview tables named as
o_<LEVEL>_<RASTER_TABLE> and will be populated with GDAL-provided
overviews. Only regular blocking arrangements (see "-k" command line
option too). If you use this "-l" command line option, you'll have to
specify "-V" option too, only the first time you call the script. This
option enables the creation of the needed RASTER_OVERVIEWS table.

Oh, and the gdal2wktraster script generates a SQL output. You'll have
to load into your raster-ready schema.

> What is the table layout created/needed by this utility ?
>
You'll simply need to "raster-enable" your PostGIS schema by executing
rt_pg/rtpostgis.sql, after compiling and installing WKT Raster. One
additional table, named "RASTER_COLUMNS", will be created in your
schema.

As I said above, if you use "-V" option the first time you execute the
loader script (gdal2wktraster), another new table, named
"RASTER_OVERVIEWS" will be created in your schema too.

This is all you need to start :-)

Comments are welcome, as Pierre said.

> Cheers
> Christian
>
>
>
> Quoting Pierre Racine <Pierre.Racine@sbf.ulaval.ca>:
>
>> Hi everybody,
>>
>> I'm pleased to announce that you can now do intersections between ?rasters
>> and geometries very much like you used to do ?geometry/geometry
>> intersections in PostGIS. For this, PostGIS WKT ?Raster introduces two new
>> functions to PostGIS: ?ST_Intersects(geometry, raster, band) and
>> ST_Intersection(geometry, ?raster, band).
>>
>> As its geometry/geometry sister, ST_Intersects(geometry, raster, ?band)
>> returns TRUE if the withvalue area of a raster or a raster ?tile (nodata
>> value are ignored) intersects a geometry and ?ST_Intersection(geometry,
>> raster, band) returns the geometry/value ?set of geometries representing the
>> intersection between the geometry ?and each polygonized group of pixel
>> sharing a same value from the ?raster and its associated value. Example:
>>
>> SELECT polyid,
>> ? ? ? (ST_Intersection(the_geom, rast)).geom,
>> ? ? ? (ST_Intersection(the_geom, rast)).val
>> FROM my_polygons, srtm_tiled
>> WHERE ST_Intersects(rast, the_geom)
>>
>> or, a bit more complex, but much faster and returning the same result:
>>
>> SELECT polyid, (gv).geom, (gv).val
>> FROM (SELECT polyid, ST_Intersection(the_geom, rast, 1) AS gv
>> ? ? FROM my_polygons, srtm_tiled
>> ? ? WHERE ST_Intersects(rast, the_geom)) foo
>>
>> These functions works with any kind of geometry so you can intersect ?any
>> road, river, polygons or point layer with your favorite ?elevation or land
>> cover raster of any resolution and any size. You ?can also load any number
>> of raster in the database with one command ?line to constitute a unique
>> table raster coverage of any shape (no ?matter if your group of raster do
>> not form a rectangular coverage).
>>
>> You will find a complete tutorial on how to use those two new ?functions
>> here: ?http://trac.osgeo.org/postgis/wiki/WKTRasterTutorial01. A reference
>> ?is available here:
>> ?http://postgis.refractions.net/documentation/manual-svn/RT_reference.html
>> ?and chapter 13 of "PostGIS in Action" is also a very good ?introduction to
>> WKT Raster.
>>
>> Compilation and installation info are available in the project home ?page:
>> http://trac.osgeo.org/postgis/wiki/WKTRaster
>>
>> These features are the result of two years of collaboration between ?many
>> people and companies interested in bringing raster into ?PostGIS. I would
>> like to thanks particularly Steve Cumming who ?initially made all this
>> possible, Sandro Santilli who wrote the base ?code, Mateusz Loskot who wrote
>> the Python loader, Jorge Arevalo who ?wrote the GDAL driver and
>> ST_DumpAsPolygons(), Regina and Leo Obe ?who are doing so many things and
>> believed in the project from the ?beginning by adding a chapter about WKT
>> Raster in "PostGIS in ?Action" and also David Zwarg who wrote most of the
>> setter functions.
>>
>> This is the first step toward a first complete raster/vector ?analysis and
>> manipulation SQL API. We hope to make of PostGIS with ?WKT Raster the most
>> powerful and complete GIS analysis and ?manipulation high level language
>> ever (!!!). WKT Raster should ?normally be totally integrated into PostGIS
>> in PostGIS release 2.0. ?Upcoming functions should include ST_Reclass,
>> ST_Clip, ST_AsRaster, ?ST_Resample.
>>
>> Let us know your need and your experience with WKT Raster.
>>
>> Thanks,
>>
>> Pierre Racine
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Jorge Ar?valo
DEIMOS Space
Internet & Mobilty Division
Ronda de Poniente 19. Edificio Fiteni VI, portal 2, 2?
28760 Tres Cantos (Madrid)
Tel: +34 91 806 34 50 - ext: 155
jorge.arevalo@deimos-space.com
http://gis4free.wordpress.com
From ahmettemiz88 at gmail.com  Tue Jun 29 14:14:31 2010
From: ahmettemiz88 at gmail.com (ahmet temiz)
Date: Tue Jun 29 14:14:33 2010
Subject: [gdal-dev] first time gdal-java exception
Message-ID: <AANLkTin72OxVB4JfUadiaNml0-U60wUDx31uogPKZdi9@mail.gmail.com>

hello

when I  tried gdal-java in first time, I got this exception:

"Exception in thread "main" java.lang.UnsatisfiedLinkError:
org.gdal.ogr.ogrJNI.wkb25Bit_get()I"

here is the code fragment that gives the exception:


Geometry lr1 = new Geometry(ogr.wkbLinearRing, null, null, null);
		
		lr1.AddPoint_2D(0, 0);
		lr1.AddPoint_2D(10, 10);
		lr1.AddPoint_2D(10, 0);
		lr1.AddPoint_2D(0, 0);
	
		Geometry pol1 = new Geometry(ogr.wkbPolygon, null, null, null);
		pol1.AddGeometry(lr1);

might this exception have to do with my having generated gdal-java
from "rpm" for ubuntu?

do you recommend me another way  to get gdal-java for ubuntu ?

regards
From Pierre.Racine at sbf.ulaval.ca  Tue Jun 29 14:15:51 2010
From: Pierre.Racine at sbf.ulaval.ca (Pierre Racine)
Date: Tue Jun 29 14:15:55 2010
Subject: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
In-Reply-To: <AANLkTilDb2RUzzoil-MnpDvzUoEV3jdcDdapN8zA7i92@mail.gmail.com>
References: <87A96661E65C5541AB4D20721C2DD7F880A316869C@EXCH-MBX-A.ulaval.ca>
	<20100629184617.6i1fnqxxc4ww80ws@webmail.nvoe.at>
	<AANLkTilDb2RUzzoil-MnpDvzUoEV3jdcDdapN8zA7i92@mail.gmail.com>
Message-ID: <87A96661E65C5541AB4D20721C2DD7F880A31686B3@EXCH-MBX-A.ulaval.ca>

>> wktraster makes it quite simple to achieve this. Is there any database
>> layout you recommend. (A table for the image and one for each pyramid, or
>> put all the tiles into one table having an attribute "level",.....).
>>
>
>I'd recommend one table for each separate tiled image. That's, in
>fact, one of the ways WKT Raster works, in terms of raster table
>arrangement.

If you fetch tiles in order to display them one by one, I would recommand that you import all your images in the same table. Even if they do not form a rectangular coverage. WKT Raster is very different than Oracle GeoRaster in this aspect. A table can store any arrangement of tiles not necessarily forming a complete rectangular image (which is often the case for big coverages).

If your client expect tiles to feed a big complete raster buffer before displaying it and can not deel with eventual missing tiles, then load each rasters in a separate table the Oracle way.

I suggest you read section 3.1 of http://trac.osgeo.org/postgis/wiki/WKTRaster/Documentation01

Pierre
From ivan.lucena at pmldnet.com  Tue Jun 29 14:22:18 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Tue Jun 29 14:22:20 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gZmlyc3QgdGltZSBnZGFsLWphdmEgZXhjZXB0aW9u?=
Message-ID: <20100629182218.21354.qmail@s466.sureserver.com>

Hi there.

Did you initialize the driver manager?

Example: http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/java/apps/GDALGrid.java#L521

Regards,

Ivan


>  -------Original Message-------
>  From: ahmet temiz <ahmettemiz88@gmail.com>
>  To: gdal-dev <gdal-dev@lists.osgeo.org>
>  Subject: [gdal-dev] first time gdal-java exception
>  Sent: Jun 29 '10 13:14
>  
>  hello
>  
>  when I??tried gdal-java in first time, I got this exception:
>  
>  "Exception in thread "main" java.lang.UnsatisfiedLinkError:
>  org.gdal.ogr.ogrJNI.wkb25Bit_get()I"
>  
>  here is the code fragment that gives the exception:
>  
>  
>  Geometry lr1 = new Geometry(ogr.wkbLinearRing, null, null, null);
>  
>  lr1.AddPoint_2D(0, 0);
>  lr1.AddPoint_2D(10, 10);
>  lr1.AddPoint_2D(10, 0);
>  lr1.AddPoint_2D(0, 0);
>  
>  Geometry pol1 = new Geometry(ogr.wkbPolygon, null, null, null);
>  pol1.AddGeometry(lr1);
>  
>  might this exception have to do with my having generated gdal-java
>  from "rpm" for ubuntu?
>  
>  do you recommend me another way??to get gdal-java for ubuntu ?
>  
>  regards
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From ivan.lucena at pmldnet.com  Tue Jun 29 14:30:39 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Tue Jun 29 14:30:42 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gUmFzdGVyL3ZlY3RvciBpbnRlcnNlY3Rpb25zIGluIFBvc3RHSVMgV0tUIFJhc3Rlcg==?=
Message-ID: <20100629183041.9256.qmail@s466.sureserver.com>

Christian,

How did you added support for Oracle GeoRaster on GeoTools/GeoServer? Did you use the Oracle GeoRaster Java API or GDAL? Is that available?

I am looking forward to use it.

Regards,

Ivan


>  -------Original Message-------
>  From: christian.mueller@nvoe.at
>  To: Pierre Racine <Pierre.Racine@sbf.ulaval.ca>
>  Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>  Subject: Re: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
>  Sent: Jun 29 '10 11:46
>  
>  Hi, superb job. Congratulations.
>  
>  I am a geotools/geoserver developer and one of my jobs is fetching??
>  image tiles??or the corresponding pyramid tiles from jdbc data??
>  sources. Some weeks ago, I added support for Oracle Georaster and I??
>  want to support WKT Georaster too.
>  
>  wktraster makes it quite simple to achieve this. Is there any database??
>  layout you recommend. (A table for the image and one for each pyramid,??
>  or put all the tiles into one table having an attribute "level",.....).
>  
>  I have seen "gdal2wktraster.py", is this the recommended way to import??
>  tiles into postgis ?
>  What is the table layout created/needed by this utility ?
>  
>  Cheers
>  Christian
>  
>  
>  
>  Quoting Pierre Racine <Pierre.Racine@sbf.ulaval.ca>:
>  
>  > Hi everybody,
>  >
>  > I'm pleased to announce that you can now do intersections between??
>  > rasters and geometries very much like you used to do??
>  > geometry/geometry intersections in PostGIS. For this, PostGIS WKT??
>  > Raster introduces two new functions to PostGIS:??
>  > ST_Intersects(geometry, raster, band) and ST_Intersection(geometry,??
>  > raster, band).
>  >
>  > As its geometry/geometry sister, ST_Intersects(geometry, raster,??
>  > band) returns TRUE if the withvalue area of a raster or a raster??
>  > tile (nodata value are ignored) intersects a geometry and??
>  > ST_Intersection(geometry, raster, band) returns the geometry/value??
>  > set of geometries representing the intersection between the geometry??
>  >??and each polygonized group of pixel sharing a same value from the??
>  > raster and its associated value. Example:
>  >
>  > SELECT polyid,
>  >????????(ST_Intersection(the_geom, rast)).geom,
>  >????????(ST_Intersection(the_geom, rast)).val
>  > FROM my_polygons, srtm_tiled
>  > WHERE ST_Intersects(rast, the_geom)
>  >
>  > or, a bit more complex, but much faster and returning the same result:
>  >
>  > SELECT polyid, (gv).geom, (gv).val
>  > FROM (SELECT polyid, ST_Intersection(the_geom, rast, 1) AS gv
>  >??????FROM my_polygons, srtm_tiled
>  >??????WHERE ST_Intersects(rast, the_geom)) foo
>  >
>  > These functions works with any kind of geometry so you can intersect??
>  >??any road, river, polygons or point layer with your favorite??
>  > elevation or land cover raster of any resolution and any size. You??
>  > can also load any number of raster in the database with one command??
>  > line to constitute a unique table raster coverage of any shape (no??
>  > matter if your group of raster do not form a rectangular coverage).
>  >
>  > You will find a complete tutorial on how to use those two new??
>  > functions here:??
>  > http://trac.osgeo.org/postgis/wiki/WKTRasterTutorial01. A reference??
>  > is available here:??
>  > http://postgis.refractions.net/documentation/manual-svn/RT_reference.html??
>  > and chapter 13 of "PostGIS in Action" is also a very good??
>  > introduction to WKT Raster.
>  >
>  > Compilation and installation info are available in the project home??
>  > page: http://trac.osgeo.org/postgis/wiki/WKTRaster
>  >
>  > These features are the result of two years of collaboration between??
>  > many people and companies interested in bringing raster into??
>  > PostGIS. I would like to thanks particularly Steve Cumming who??
>  > initially made all this possible, Sandro Santilli who wrote the base??
>  >??code, Mateusz Loskot who wrote the Python loader, Jorge Arevalo who??
>  >??wrote the GDAL driver and ST_DumpAsPolygons(), Regina and Leo Obe??
>  > who are doing so many things and believed in the project from the??
>  > beginning by adding a chapter about WKT Raster in "PostGIS in??
>  > Action" and also David Zwarg who wrote most of the setter functions.
>  >
>  > This is the first step toward a first complete raster/vector??
>  > analysis and manipulation SQL API. We hope to make of PostGIS with??
>  > WKT Raster the most powerful and complete GIS analysis and??
>  > manipulation high level language ever (!!!). WKT Raster should??
>  > normally be totally integrated into PostGIS in PostGIS release 2.0.??
>  > Upcoming functions should include ST_Reclass, ST_Clip, ST_AsRaster,??
>  > ST_Resample.
>  >
>  > Let us know your need and your experience with WKT Raster.
>  >
>  > Thanks,
>  >
>  > Pierre Racine
>  >
>  > _______________________________________________
>  > gdal-dev mailing list
>  > gdal-dev@lists.osgeo.org
>  > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  >
>  
>  
>  
>  ----------------------------------------------------------------
>  This message was sent using IMP, the Internet Messaging Program.
>  
>  
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From szekerest at gmail.com  Tue Jun 29 17:33:07 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Jun 29 17:33:09 2010
Subject: [gdal-dev] Re: The type initializer for 'OSGeo.GDAL.GdalPINVOKE' 
	threw an exception. when gdal.Allregister() calls
In-Reply-To: <1277699017094-5229427.post@n2.nabble.com>
References: <1277443400218-5220732.post@n2.nabble.com>
	<AANLkTim72Buw23TuVF88dnYizOT5IvhCjFS6CcWzJl-F@mail.gmail.com>
	<1277699017094-5229427.post@n2.nabble.com>
Message-ID: <AANLkTil1qMQ-9to5LJU3XYCIrTa0r5V-4-iL1oGYgSoy@mail.gmail.com>

This message justifies my previous statement about one or more missing dlls
during the execution. Make sure all of the dependencies available in the
directory of the executable or in the PATH environment. Use the dependency
walker <http://www.dependencywalker.com/> to examine the dll dependencies,
and the process
monitor<http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx>to
inspect which dll-s couldn't be loaded at run time.

Best regards,

Tamas



2010/6/28 mail2vajram <mail2vajram@gmail.com>

>
> The type initializer for 'OSGeo.GDAL.GdalPINVOKE'  threw an exception
>
>
>
>
>
> details:
>
> System.TypeInitializationException: The type initializer for
> 'SWIGExceptionHelper' threw an exception. ---> System.DllNotFoundException:
> Unable to load DLL 'gdal_wrap': The specified procedure could not be found.
> (Exception from HRESULT: 0x8007007F)
>   at
>
> OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper.SWIGRegisterExceptionCallbacks_Gdal(ExceptionDelegate
> applicationDelegate, ExceptionDelegate arithmeticDelegate,
> ExceptionDelegate
> divideByZeroDelegate, ExceptionDelegate indexOutOfRangeDelegate,
> ExceptionDelegate invalidCastDelegate, ExceptionDelegate
> invalidOperationDelegate, ExceptionDelegate ioDelegate, ExceptionDelegate
> nullReferenceDelegate, ExceptionDelegate outOfMemoryDelegate,
> ExceptionDelegate overflowDelegate, ExceptionDelegate
> systemExceptionDelegate)
>   at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..cctor()
>   --- End of inner exception stack trace ---
>   at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..ctor()
>   at OSGeo.GDAL.GdalPINVOKE..cctor()
>
>
>
>
> I got the same exception after reinstall the fwtools.........
>
> why
>
> help me .....
> thank you
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/The-type-initializer-for-OSGeo-GDAL-GdalPINVOKE-threw-an-exception-when-gdal-Allregister-calls-tp5220732p5229427.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100629/09a9bee1/attachment.html
From jukka.rahkonen at mmmtike.fi  Tue Jun 29 19:15:40 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Jun 29 19:15:50 2010
Subject: [gdal-dev] WMS driver and untrusted sertificate
Message-ID: <loom.20100630T001419-564@post.gmane.org>

I was experimenting with gdal_translate and WMS driver 
(http://gdal.org/frmt_wms.html). I was running FWTools2.4.7 on Windows 
Vista and I could make it to read my own WMS from localhost.  Next I 
went on and had a try with our production server that must be accessed 
through https and basic authentication. I was guessing that it could 
be done by editing the ServerURL element in the service description 
XML file to be like

<ServerUrl>https://username:password@server.org/cgi-bin/
securedWMS?</ServerUrl>

Is this correct? I feel it may be, but I stopped to the following error

ERROR 1: GDALWMS: Unable to download block 0, 0.
  URL: https://username:password@server.org/cgi-bin/securedWMS?
request=GetMap&version=1.1.0&layers=default&styles=&srs=EPSG:3067&
format=image/jpeg&width=648&height=1024&
bbox=70500.00000000,6728185.83184258,734500.00000000,7776760.00000000


HTTP status code: 0, error: SSL certificate problem, verify that the 
CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:
certificate verify failed.

I suppose this error may come from the sertificates we are using. They 
are not normally included in the list of trusted sertificates. With Java
systems I need to add those sertificates manually into Java keystore. 
With command line wget and curl I can bypass the certificate check by 
using swithes --no-check-certificate (wget) or -k (curl).

Because FWTools seems to contain libcurl.dll I was reading thoroughly 
this document http://curl.haxx.se/docs/sslcerts.html

However, it starts to be late and I have not figured out how I could make
gdal_translate to use my own certificate file that I now have in 
PEM format, or alternatively make it just to trust that our server 
is our server because I say so. Is there some hidden configuration 
option for this?

-Jukka Rahkonen-


From paul.malm at saabgroup.com  Wed Jun 30 01:06:26 2010
From: paul.malm at saabgroup.com (Malm Paul)
Date: Wed Jun 30 01:06:33 2010
Subject: [gdal-dev] GDAL with OGDI
Message-ID: <2CF53313EAE78542876F7C9689F9F7250AEAE09B@corpappl746.corp.saab.se>

Hi,
I have:
- downloaded GDAL v 1.7.2
- installed postgresql-devel (8.3.8)

- downloaded and compiled/installed proj-4.7.0

- downloaded ogdi-3.1.5 and later on ogdi-3.2.0-beta
- configured ogdi to use proj-4.7.0
- compiled and installed ogdi

- configured GDAL: --with-ogdi=/usr/local --with-pg=/usr/bin/pg_config
- compiled/installed GDAL

- ogr2ogr --formats, repordt bouth postgis and ogdi driver

running ogr2ogr:
ogr2ogr -f PostgreSQL PG:"dbname=a1316120 host=127.0.0.1 port=5432 user=postgres password=postgrespwd"
gltp:/vrf/home/naval/gemaps/mapdata/Approach/a1316120/dnc13/a1316120 -t_srs "EPSG:4326" -lco OVERWRITE=YES -segmentize 0.5 -nln soundp soundp@hyd(*)_point'

but when I try to import a DNC (VPF) chart I get the following error message:
ERROR 1: INSERT command for new feature failed.
ERROR:  column "nan" does not exist
LINE 1: ...5263)'::TEXT) , 1, 'BE020', 1, 26, 1,             nan,      ...
                                                            ^
Command: INSERT INTO "soundp" ("wkb_geometry" , "id", "f_code", "acc",
"dat", "exs", "hdh", "hdp", "snd", "svc", "val", "tile_id", "end_id")
VALUES (GeomFromEWKT('SRID=4326;POINT (-119.614990234375114
34.420528411865263)'::TEXT) , 1, 'BE020', 1, 26, 1,             nan,
3.600000, 10, 5, 0, 1, 1)
ERROR 1: Terminating translation prematurely
after failed translation of layer soundp@hyd(*)_point (use
-skipfailures to skip errors)

It is the same with ogdi-3.1.5 and ogdi-3.2.0-beta.
why is hdh = nan (the corresponding hdp is correct), it works when importing with ogr2ogr from FWTOOLS.

What am I doing wrong, it worked before when I used an prebuild FWTOOLS?

I need GDAL 1.7.2 because the version in FWTOOLS has another bug (S-57 ignores names starting with ???).
Is there some one that could tell me what i'm doing wrong, please?

I'm using postgresql 8.3.8 on linux redhat 5.x.
Kind regards,
Paul


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/6d07ac28/attachment-0001.html
From chaitanya.ch at gmail.com  Wed Jun 30 02:00:29 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Jun 30 02:00:32 2010
Subject: [gdal-dev] GDAL with OGDI
In-Reply-To: <2CF53313EAE78542876F7C9689F9F7250AEAE09B@corpappl746.corp.saab.se>
References: <2CF53313EAE78542876F7C9689F9F7250AEAE09B@corpappl746.corp.saab.se>
Message-ID: <AANLkTikiON-XJidDnrxPe8Fgc5DCBubCnt9Xi6DA6Dt2@mail.gmail.com>

Paul,


I think that the problem is with the SQL command built by the PostgreSQL
driver.
In the INSERT command a numeric field with the value NaN should be mentioned
in quotes.

Please file a ticket at http://trac.osgeo.org/gdal/newticket
Mention the output for the command
ogrinfo -al -so
gltp:/vrf/home/naval/gemaps/mapdata/Approach/a1316120/dnc13/a1316120
soundp@hyd(*)_point'
to describe the field types (especially 'hdh') of the source features.

On Wed, Jun 30, 2010 at 10:36 AM, Malm Paul <paul.malm@saabgroup.com> wrote:

>  Hi,
> I have:
> - downloaded GDAL v 1.7.2
> - installed postgresql-devel (8.3.8)
>
> - downloaded and compiled/installed proj-4.7.0
>
> - downloaded ogdi-3.1.5 and later on ogdi-3.2.0-beta
> - configured ogdi to use proj-4.7.0
> - compiled and installed ogdi
>
> - configured GDAL: --with-ogdi=/usr/local --with-pg=/usr/bin/pg_config
> - compiled/installed GDAL
>
> - ogr2ogr --formats, repordt bouth postgis and ogdi driver
>
> running ogr2ogr:
> ogr2ogr -f PostgreSQL PG:"dbname=a1316120 host=127.0.0.1 port=5432
> user=postgres password=postgrespwd"
> gltp:/vrf/home/naval/gemaps/mapdata/Approach/a1316120/dnc13/a1316120 -t_srs
> "EPSG:4326" -lco OVERWRITE=YES -segmentize 0.5 -nln soundp soundp@hyd
> (*)_point'
>
> but when I try to import a DNC (VPF) chart I get the following error
> message:
> ERROR 1: INSERT command for new feature failed.
> ERROR:  column "nan" does not exist
> LINE 1: ...5263)'::TEXT) , 1, 'BE020', 1, 26, 1,             nan,      ...
>                                                             ^
> Command: INSERT INTO "soundp" ("wkb_geometry" , "id", "f_code", "acc",
> "dat", "exs", "hdh", "hdp", "snd", "svc", "val", "tile_id", "end_id")
> VALUES (GeomFromEWKT('SRID=4326;POINT (-119.614990234375114
> 34.420528411865263)'::TEXT) , 1, 'BE020', 1, 26, 1,             nan,
>
> 3.600000, 10, 5, 0, 1, 1)
> ERROR 1: Terminating translation prematurely
> after failed translation of layer soundp@hyd(*)_point (use
> -skipfailures to skip errors)
>
> It is the same with ogdi-3.1.5 and ogdi-3.2.0-beta.
> why is hdh = nan (the corresponding hdp is correct), it works when
> importing with ogr2ogr from FWTOOLS.
>
> What am I doing wrong, it worked before when I used an prebuild FWTOOLS?
>
> I need GDAL 1.7.2 because the version in FWTOOLS has another bug (S-57
> ignores names starting with ???).
> Is there some one that could tell me what i'm doing wrong, please?
>
> I'm using postgresql 8.3.8 on linux redhat 5.x.
> Kind regards,
> Paul
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/6974b79d/attachment.html
From warmerdam at pobox.com  Wed Jun 30 02:33:42 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 30 02:33:43 2010
Subject: [gdal-dev] GDAL with OGDI
In-Reply-To: <AANLkTikiON-XJidDnrxPe8Fgc5DCBubCnt9Xi6DA6Dt2@mail.gmail.com>
References: <2CF53313EAE78542876F7C9689F9F7250AEAE09B@corpappl746.corp.saab.se>
	<AANLkTikiON-XJidDnrxPe8Fgc5DCBubCnt9Xi6DA6Dt2@mail.gmail.com>
Message-ID: <AANLkTik1ZDndEVBqIedKSE3W6y0Y3OTVmgHv4ZjFIL40@mail.gmail.com>

On Wed, Jun 30, 2010 at 8:00 AM, Chaitanya kumar CH
<chaitanya.ch@gmail.com> wrote:
> Paul,
>
>
> I think that the problem is with the SQL command built by the PostgreSQL
> driver.
> In the INSERT command a numeric field with the value NaN should be mentioned
> in quotes.

Chaitanya,

It might be prudent for the postgres driver to check for nan's, but it
isn't usual for OGR drivers to anticipate nan values in numeric fields.

>> It is the same with ogdi-3.1.5 and ogdi-3.2.0-beta.
>> why is hdh = nan (the corresponding hdp is correct), it works when
>> importing with ogr2ogr from FWTOOLS.

Regardless of what might be done to deal with the nan value, I think
there is an underlying issue to investigate, which is why a nan is
being produced by OGDI for a field that apparently has a valid
value.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From nicholas.g.lawrence at tmr.qld.gov.au  Wed Jun 30 02:19:40 2010
From: nicholas.g.lawrence at tmr.qld.gov.au (nicholas.g.lawrence@tmr.qld.gov.au)
Date: Wed Jun 30 02:37:02 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
Message-ID: <OF66503EF2.21C2EBF2-ON4A257752.002270A7-4A257752.0022C0C4@tmr.qld.gov.au>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/72fe12fc/attachment.html
From paul.malm at saabgroup.com  Wed Jun 30 02:45:03 2010
From: paul.malm at saabgroup.com (Malm Paul)
Date: Wed Jun 30 02:45:11 2010
Subject: [gdal-dev] GDAL with OGDI
In-Reply-To: <AANLkTik1ZDndEVBqIedKSE3W6y0Y3OTVmgHv4ZjFIL40@mail.gmail.com>
References: <2CF53313EAE78542876F7C9689F9F7250AEAE09B@corpappl746.corp.saab.se>
	<AANLkTikiON-XJidDnrxPe8Fgc5DCBubCnt9Xi6DA6Dt2@mail.gmail.com>
	<AANLkTik1ZDndEVBqIedKSE3W6y0Y3OTVmgHv4ZjFIL40@mail.gmail.com>
Message-ID: <2CF53313EAE78542876F7C9689F9F7250AEAE112@corpappl746.corp.saab.se>

I looked at table soundp in postgres, created with FWTOOLS which works, and all hdh, numeric(15,6), values are 1.000000.
Could it be that the all values are nan in the original data, and were previously changed in OGDI to 1.0000?

By the way, can I ommit the hdh column with ogr2ogr when importing the DNC chart to Postgres?

Chaitanya, how do I register to create tickets, and
do you still want me to do that?

/Paul 

-----Original Message-----
From: fwarmerdam@gmail.com [mailto:fwarmerdam@gmail.com] On Behalf Of Frank Warmerdam
Sent: den 30 juni 2010 08:34
To: Chaitanya kumar CH
Cc: Malm Paul; gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL with OGDI

On Wed, Jun 30, 2010 at 8:00 AM, Chaitanya kumar CH <chaitanya.ch@gmail.com> wrote:
> Paul,
>
>
> I think that the problem is with the SQL command built by the 
> PostgreSQL driver.
> In the INSERT command a numeric field with the value NaN should be 
> mentioned in quotes.

Chaitanya,

It might be prudent for the postgres driver to check for nan's, but it isn't usual for OGR drivers to anticipate nan values in numeric fields.

>> It is the same with ogdi-3.1.5 and ogdi-3.2.0-beta.
>> why is hdh = nan (the corresponding hdp is correct), it works when 
>> importing with ogr2ogr from FWTOOLS.

Regardless of what might be done to deal with the nan value, I think there is an underlying issue to investigate, which is why a nan is being produced by OGDI for a field that apparently has a valid value.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From ahmettemiz88 at gmail.com  Wed Jun 30 02:52:36 2010
From: ahmettemiz88 at gmail.com (ahmet temiz)
Date: Wed Jun 30 02:52:40 2010
Subject: [gdal-dev] first time gdal-java exception
In-Reply-To: <20100629182218.21354.qmail@s466.sureserver.com>
References: <20100629182218.21354.qmail@s466.sureserver.com>
Message-ID: <AANLkTilqJLwZiMdS4u6npZOV82PVaTDV6-NQyaMd3jS6@mail.gmail.com>

thank you

No, I didn't know I had to do that.
I looked up the example you gave me.

it contains destroying of drivermanager as gdal.DestroyDriverManager();
but not explicit initializer.

Does "Driver driver = gdal.GetDriverByName(outputFormat);" make initialization ?

regards

2010/6/29 Ivan Lucena <ivan.lucena@pmldnet.com>:
> Hi there.
>
> Did you initialize the driver manager?
>
> Example: http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/java/apps/GDALGrid.java#L521
>
> Regards,
>
> Ivan
>
>
>>  -------Original Message-------
>>  From: ahmet temiz <ahmettemiz88@gmail.com>
>>  To: gdal-dev <gdal-dev@lists.osgeo.org>
>>  Subject: [gdal-dev] first time gdal-java exception
>>  Sent: Jun 29 '10 13:14
>>
>>  hello
>>
>>  when I  tried gdal-java in first time, I got this exception:
>>
>>  "Exception in thread "main" java.lang.UnsatisfiedLinkError:
>>  org.gdal.ogr.ogrJNI.wkb25Bit_get()I"
>>
>>  here is the code fragment that gives the exception:
>>
>>
>>  Geometry lr1 = new Geometry(ogr.wkbLinearRing, null, null, null);
>>
>>  lr1.AddPoint_2D(0, 0);
>>  lr1.AddPoint_2D(10, 10);
>>  lr1.AddPoint_2D(10, 0);
>>  lr1.AddPoint_2D(0, 0);
>>
>>  Geometry pol1 = new Geometry(ogr.wkbPolygon, null, null, null);
>>  pol1.AddGeometry(lr1);
>>
>>  might this exception have to do with my having generated gdal-java
>>  from "rpm" for ubuntu?
>>
>>  do you recommend me another way  to get gdal-java for ubuntu ?
>>
>>  regards
>>  _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
From warmerdam at pobox.com  Wed Jun 30 03:02:08 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 30 03:02:10 2010
Subject: [gdal-dev] GDAL with OGDI
In-Reply-To: <2CF53313EAE78542876F7C9689F9F7250AEAE112@corpappl746.corp.saab.se>
References: <2CF53313EAE78542876F7C9689F9F7250AEAE09B@corpappl746.corp.saab.se>
	<AANLkTikiON-XJidDnrxPe8Fgc5DCBubCnt9Xi6DA6Dt2@mail.gmail.com>
	<AANLkTik1ZDndEVBqIedKSE3W6y0Y3OTVmgHv4ZjFIL40@mail.gmail.com>
	<2CF53313EAE78542876F7C9689F9F7250AEAE112@corpappl746.corp.saab.se>
Message-ID: <AANLkTinB0XyKJoE69-eQkD-qwI2vWYPRrCFoe9ynfUSb@mail.gmail.com>

On Wed, Jun 30, 2010 at 8:45 AM, Malm Paul <paul.malm@saabgroup.com> wrote:
> I looked at table soundp in postgres, created with FWTOOLS which works, and all hdh, numeric(15,6), values are 1.000000.
> Could it be that the all values are nan in the original data, and were previously changed in OGDI to 1.0000?

Paul,

I might think it was just a default value before if it were 0.0, but 1.0
is an unlikely default.

> By the way, can I ommit the hdh column with ogr2ogr when importing the DNC chart to Postgres?
>
> Chaitanya, how do I register to create tickets, and
> do you still want me to do that?

Please visit http://trac.osgeo.org/gdal where there are some
brief notes on how to register and file a bug.

I would suggest distinct bugs for the "hdh is nan" from OGDI
issue and the postgres lack of nan quoting issue.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From chaitanya.ch at gmail.com  Wed Jun 30 03:19:03 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Jun 30 03:19:06 2010
Subject: [gdal-dev] GDAL with OGDI
In-Reply-To: <AANLkTinB0XyKJoE69-eQkD-qwI2vWYPRrCFoe9ynfUSb@mail.gmail.com>
References: <2CF53313EAE78542876F7C9689F9F7250AEAE09B@corpappl746.corp.saab.se>
	<AANLkTikiON-XJidDnrxPe8Fgc5DCBubCnt9Xi6DA6Dt2@mail.gmail.com>
	<AANLkTik1ZDndEVBqIedKSE3W6y0Y3OTVmgHv4ZjFIL40@mail.gmail.com>
	<2CF53313EAE78542876F7C9689F9F7250AEAE112@corpappl746.corp.saab.se>
	<AANLkTinB0XyKJoE69-eQkD-qwI2vWYPRrCFoe9ynfUSb@mail.gmail.com>
Message-ID: <AANLkTin4TjX1RpXmpw4LBsoJgscOfwHN29f1nIwbufI6@mail.gmail.com>

I created a ticket for the pg driver at
http://trac.osgeo.org/gdal/ticket/3667


On Wed, Jun 30, 2010 at 12:32 PM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> On Wed, Jun 30, 2010 at 8:45 AM, Malm Paul <paul.malm@saabgroup.com>
> wrote:
> > I looked at table soundp in postgres, created with FWTOOLS which works,
> and all hdh, numeric(15,6), values are 1.000000.
> > Could it be that the all values are nan in the original data, and were
> previously changed in OGDI to 1.0000?
>
> Paul,
>
> I might think it was just a default value before if it were 0.0, but 1.0
> is an unlikely default.
>
> > By the way, can I ommit the hdh column with ogr2ogr when importing the
> DNC chart to Postgres?
> >
> > Chaitanya, how do I register to create tickets, and
> > do you still want me to do that?
>
> Please visit http://trac.osgeo.org/gdal where there are some
> brief notes on how to register and file a bug.
>
> I would suggest distinct bugs for the "hdh is nan" from OGDI
> issue and the postgres lack of nan quoting issue.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/975c1ba6/attachment.html
From Klug.Stefan at gmx.de  Wed Jun 30 06:36:31 2010
From: Klug.Stefan at gmx.de (Stefan Klug)
Date: Wed Jun 30 06:36:40 2010
Subject: [gdal-dev] gdal_merge.py alpha mask
In-Reply-To: <AANLkTikD1dGgEroZju1s79aDtpiWK2BKCfL643LCNNFB@mail.gmail.com>
References: <4C2A07F9.5010104@gmx.de>
	<AANLkTikD1dGgEroZju1s79aDtpiWK2BKCfL643LCNNFB@mail.gmail.com>
Message-ID: <4C2B1E2F.7000105@gmx.de>

Am 29.06.2010 18:23, schrieb Chaitanya kumar CH:
> Stefan,
>
> I haven't tested the script but doesn't the current code copy the 
> alpha band? If it does, it might be more preferable to copy all the 
> pixels and the alpha band.
Yes the current code copies the alpha band, but it uses the same nodata 
settings as the other bands.
This gets interesting if I want to merge overlapping images which define 
their valid area by an alpha channel. In the current code, I would have 
to specify nodata=0 to get the alpha channel to merge correctly. This is 
counterintuitive, as I expect images with alpha to merge correctly 
without specifying a value for nodata.
If nodata isn't specified the merged alpha of overlapping images is 
incorrect (as opaque areas get overwritten with the transparent parts 
(nodata) )
>
> Please create a ticket at http://trac.osgeo.org/gdal/newticket and 
> attach your patch.
Done... http://trac.osgeo.org/gdal/ticket/3669

Regards
Stefan
>
> On Tue, Jun 29, 2010 at 8:19 PM, Stefan Klug <Klug.Stefan@gmx.de 
> <mailto:Klug.Stefan@gmx.de>> wrote:
>
>     Hi,
>
>     gdal_merge.py doesn't handle tiff files with alpha masks so I've
>     added this functionality.
>
>     My patch changes the behaviour of gdal_merge as follows:
>     - If a band is recognized as Alpha Band it is automatically
>     treated as having a NODATA value of 0.
>     I'm not sure if this is the way to go. But it makes some sense, as
>     the resulting alpha channel is a correct alpha merge, independent
>     of the nodata value used for the other bands.
>     - If a band has mask flag GMF_ALPHA set, the mask band controls
>     the parts that get written to the destination
>
>     Would be great if someone could review and possibly checkin the patch.
>
>     Regards
>        Stefan
>
>
>
>
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev@lists.osgeo.org <mailto:gdal-dev@lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> -- 
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/130eefcf/attachment.html
From christian.mueller at nvoe.at  Wed Jun 30 06:42:10 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Wed Jun 30 06:42:27 2010
Subject: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
In-Reply-To: <20100629183041.9256.qmail@s466.sureserver.com>
References: <20100629183041.9256.qmail@s466.sureserver.com>
Message-ID: <20100630124210.6tjawui400ossscw@webmail.nvoe.at>

Hi, the documentation for the GeoRaster geotools plugin is here

http://docs.codehaus.org/display/GEOTDOC/Oracle+GeoRaster+Plugin

For geoserver look here

http://docs.geoserver.org/stable/en/user/data/oraclegeoraster.html

Technically , I investigated int the Oralce Java API.   2 problems occurred.

1) we cannot redistribute the oracle jar files (license issues). As a  
consequence, the module would have broken the geotools build or I   
would have to code the whole stuff using  the java reflection api.

2)  Even worse, the GeoRaster Java API is not stable, the API for  
10.1, 10.2 and 11.x differ making it necessary to write a plugin  
version for each Oracle version.

At the end, I kept it simple doing the whole stuff using Oracle SQL  
syntax which should be stable.






Quoting Ivan Lucena <ivan.lucena@pmldnet.com>:

> Christian,
>
> How did you added support for Oracle GeoRaster on   
> GeoTools/GeoServer? Did you use the Oracle GeoRaster Java API or   
> GDAL? Is that available?
>
> I am looking forward to use it.
>
> Regards,
>
> Ivan
>
>
>>  -------Original Message-------
>>  From: christian.mueller@nvoe.at
>>  To: Pierre Racine <Pierre.Racine@sbf.ulaval.ca>
>>  Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>>  Subject: Re: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
>>  Sent: Jun 29 '10 11:46
>>
>>  Hi, superb job. Congratulations.
>>
>>  I am a geotools/geoserver developer and one of my jobs is fetching??
>>  image tiles??or the corresponding pyramid tiles from jdbc data??
>>  sources. Some weeks ago, I added support for Oracle Georaster and I??
>>  want to support WKT Georaster too.
>>
>>  wktraster makes it quite simple to achieve this. Is there any database??
>>  layout you recommend. (A table for the image and one for each pyramid,??
>>  or put all the tiles into one table having an attribute "level",.....).
>>
>>  I have seen "gdal2wktraster.py", is this the recommended way to import??
>>  tiles into postgis ?
>>  What is the table layout created/needed by this utility ?
>>
>>  Cheers
>>  Christian
>>
>>
>>
>>  Quoting Pierre Racine <Pierre.Racine@sbf.ulaval.ca>:
>>
>>  > Hi everybody,
>>  >
>>  > I'm pleased to announce that you can now do intersections between??
>>  > rasters and geometries very much like you used to do??
>>  > geometry/geometry intersections in PostGIS. For this, PostGIS WKT??
>>  > Raster introduces two new functions to PostGIS:??
>>  > ST_Intersects(geometry, raster, band) and ST_Intersection(geometry,??
>>  > raster, band).
>>  >
>>  > As its geometry/geometry sister, ST_Intersects(geometry, raster,??
>>  > band) returns TRUE if the withvalue area of a raster or a raster??
>>  > tile (nodata value are ignored) intersects a geometry and??
>>  > ST_Intersection(geometry, raster, band) returns the geometry/value??
>>  > set of geometries representing the intersection between the geometry??
>>  >??and each polygonized group of pixel sharing a same value from the??
>>  > raster and its associated value. Example:
>>  >
>>  > SELECT polyid,
>>  >????????(ST_Intersection(the_geom, rast)).geom,
>>  >????????(ST_Intersection(the_geom, rast)).val
>>  > FROM my_polygons, srtm_tiled
>>  > WHERE ST_Intersects(rast, the_geom)
>>  >
>>  > or, a bit more complex, but much faster and returning the same result:
>>  >
>>  > SELECT polyid, (gv).geom, (gv).val
>>  > FROM (SELECT polyid, ST_Intersection(the_geom, rast, 1) AS gv
>>  >??????FROM my_polygons, srtm_tiled
>>  >??????WHERE ST_Intersects(rast, the_geom)) foo
>>  >
>>  > These functions works with any kind of geometry so you can intersect??
>>  >??any road, river, polygons or point layer with your favorite??
>>  > elevation or land cover raster of any resolution and any size. You??
>>  > can also load any number of raster in the database with one command??
>>  > line to constitute a unique table raster coverage of any shape (no??
>>  > matter if your group of raster do not form a rectangular coverage).
>>  >
>>  > You will find a complete tutorial on how to use those two new??
>>  > functions here:??
>>  > http://trac.osgeo.org/postgis/wiki/WKTRasterTutorial01. A reference??
>>  > is available here:??
>>  >   
>> http://postgis.refractions.net/documentation/manual-svn/RT_reference.html??
>>  > and chapter 13 of "PostGIS in Action" is also a very good??
>>  > introduction to WKT Raster.
>>  >
>>  > Compilation and installation info are available in the project home??
>>  > page: http://trac.osgeo.org/postgis/wiki/WKTRaster
>>  >
>>  > These features are the result of two years of collaboration between??
>>  > many people and companies interested in bringing raster into??
>>  > PostGIS. I would like to thanks particularly Steve Cumming who??
>>  > initially made all this possible, Sandro Santilli who wrote the base??
>>  >??code, Mateusz Loskot who wrote the Python loader, Jorge Arevalo who??
>>  >??wrote the GDAL driver and ST_DumpAsPolygons(), Regina and Leo Obe??
>>  > who are doing so many things and believed in the project from the??
>>  > beginning by adding a chapter about WKT Raster in "PostGIS in??
>>  > Action" and also David Zwarg who wrote most of the setter functions.
>>  >
>>  > This is the first step toward a first complete raster/vector??
>>  > analysis and manipulation SQL API. We hope to make of PostGIS with??
>>  > WKT Raster the most powerful and complete GIS analysis and??
>>  > manipulation high level language ever (!!!). WKT Raster should??
>>  > normally be totally integrated into PostGIS in PostGIS release 2.0.??
>>  > Upcoming functions should include ST_Reclass, ST_Clip, ST_AsRaster,??
>>  > ST_Resample.
>>  >
>>  > Let us know your need and your experience with WKT Raster.
>>  >
>>  > Thanks,
>>  >
>>  > Pierre Racine
>>  >
>>  > _______________________________________________
>>  > gdal-dev mailing list
>>  > gdal-dev@lists.osgeo.org
>>  > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>  >
>>
>>
>>
>>  ----------------------------------------------------------------
>>  This message was sent using IMP, the Internet Messaging Program.
>>
>>
>>  _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From monicabuescu1985 at gmail.com  Wed Jun 30 08:22:44 2010
From: monicabuescu1985 at gmail.com (Monica Buescu)
Date: Wed Jun 30 08:23:03 2010
Subject: [gdal-dev] Retrieving pixel corners through Python-gdal
In-Reply-To: <DB58B7551932BF47AE1BF406D287C44401045485@OntExch3.ontario.int.ec.gc.ca>
References: <AANLkTikFnaN_JsOtpiUQdQIMbAZf_o1bEbRpYq_wKxX4@mail.gmail.com>
	<DB58B7551932BF47AE1BF406D287C44401045485@OntExch3.ontario.int.ec.gc.ca>
Message-ID: <AANLkTilQYVnsxSfx0B9xduFVT9OEKV3tHvfXjBudapzo@mail.gmail.com>

Hello Tom
Thanks. It also worked for me

Thanks
Monica

On Tue, Jun 29, 2010 at 3:01 PM, Kralidis,Tom [Ontario] <
Tom.Kralidis@ec.gc.ca> wrote:

>
>
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org
> > [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Monica Buescu
> > Sent: Tuesday, 29 June 2010 09:49
> > To: gdal-dev@lists.osgeo.org
> > Subject: [gdal-dev] Retrieving pixel corners through Python-gdal
> >
> > Greetings
> >
> > I'm a kind of newbie in GDAL specially in Python-GDAL. I'm
> > doing a script to do some minor image processing but I need
> > to retrieve, in a Python Scrpt, coorners coordinates
> > (top-left; bottom-right). Is there any way to retrieve this
> > using gdalpython?
> >
> > Thanks
> >
> > Monica
> >
>
> This has worked for me:
>
> import osgeo.gdal as gdal
>
> ds = gdal.Open('foo.tif')
> gt = ds.GetGeoTransform()
> width = ds.RasterXSize
> height = ds.RasterYSize
> miny = gt[3] + width*gt[4] + height*gt[5]
> maxx = gt[0] + width*gt[1] + height*gt[2]
> # bbox of raster (minx, miny, maxx, maxy)
> bbox = (gt[0], miny, maxx, gt[3])
>
> ..Tom
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/1ff8ac9a/attachment.html
From ivan.lucena at pmldnet.com  Wed Jun 30 08:50:20 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Wed Jun 30 08:50:22 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gUmFzdGVyL3ZlY3RvciBpbnRlcnNlY3Rpb25zIGluIFBvc3RHSVMgV0tUIFJhc3Rlcg==?=
Message-ID: <20100630125020.17810.qmail@s466.sureserver.com>

Hi Christian,

I am sorry to spoil this thread. We are suppose to be talking about WKT Raster, but as you mentioned GeoRaster on gdal-dev list I just have to ask you if you have considered or tested using GDAL/GeoRaster. Did you?

There is an ease way to do that, and it works for OSSIM, QGIS, ArcGIS, GRASS or whatever software that uses GDAL. You can build the GDAL/GeoRaster driver as a plugin (you should have ORACLE_HOME environment variable).

% cd <gdal root>/frmts/georaster
% make plugin

OR in Windows

% cd <gdal root>\frmts\georaster
% nmake -f makefile.vc plugin

Copy that plugin to where the GDAL shared library can find it (the subfolder gdalplugins or a folder pointed by GDAL_DRIVER_PATH) and use a GeoRaster object as your raster data source. You can either create a VRT to point to a GeoRaster object or use the GDAL subdataset identification string as your raster data source, e.g. "geor:user/pwd@db,tab,col,where" or "geor:user/pwd@db,rdt,id". 

That technique works for MapServer.

Now, going back to the WKT Raster. I have loaded Raster on PostGIS before using TerraLib and I believe there is a very large project called TerraAmazon using that combination. In terms of query and functionality I know that TerraLib also does raster/vector intersection too but I am wondering how the overall raster performance comparison looks like; loading time, query time, limitations, etc.

Great job!

Regards,

Ivan

>  -------Original Message-------
>  From: christian.mueller@nvoe.at
>  To: Ivan Lucena <ivan.lucena@pmldnet.com>
>  Cc: Pierre Racine <Pierre.Racine@sbf.ulaval.ca>, gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>  Subject: Re: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
>  Sent: Jun 30 '10 05:42
>  
>  Hi, the documentation for the GeoRaster geotools plugin is here
>  
>  http://docs.codehaus.org/display/GEOTDOC/Oracle+GeoRaster+Plugin
>  
>  For geoserver look here
>  
>  http://docs.geoserver.org/stable/en/user/data/oraclegeoraster.html
>  
>  Technically , I investigated int the Oralce Java API.?? 2 problems occurred.
>  
>  1) we cannot redistribute the oracle jar files (license issues). As a??
>  consequence, the module would have broken the geotools build or I??
>  would have to code the whole stuff using??the java reflection api.
>  
>  2)??Even worse, the GeoRaster Java API is not stable, the API for??
>  10.1, 10.2 and 11.x differ making it necessary to write a plugin??
>  version for each Oracle version.
>  
>  At the end, I kept it simple doing the whole stuff using Oracle SQL??
>  syntax which should be stable.
>  
>  
>  
>  
>  
>  
>  Quoting Ivan Lucena <ivan.lucena@pmldnet.com>:
>  
>  > Christian,
>  >
>  > How did you added support for Oracle GeoRaster on??
>  > GeoTools/GeoServer? Did you use the Oracle GeoRaster Java API or??
>  > GDAL? Is that available?
>  >
>  > I am looking forward to use it.
>  >
>  > Regards,
>  >
>  > Ivan
>  >
>  >
>  >>??-------Original Message-------
>  >>??From: christian.mueller@nvoe.at
>  >>??To: Pierre Racine <Pierre.Racine@sbf.ulaval.ca>
>  >>??Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>  >>??Subject: Re: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
>  >>??Sent: Jun 29 '10 11:46
>  >>
>  >>??Hi, superb job. Congratulations.
>  >>
>  >>??I am a geotools/geoserver developer and one of my jobs is fetching??
>  >>??image tiles??or the corresponding pyramid tiles from jdbc data??
>  >>??sources. Some weeks ago, I added support for Oracle Georaster and I??
>  >>??want to support WKT Georaster too.
>  >>
>  >>??wktraster makes it quite simple to achieve this. Is there any database??
>  >>??layout you recommend. (A table for the image and one for each pyramid,??
>  >>??or put all the tiles into one table having an attribute "level",.....).
>  >>
>  >>??I have seen "gdal2wktraster.py", is this the recommended way to import??
>  >>??tiles into postgis ?
>  >>??What is the table layout created/needed by this utility ?
>  >>
>  >>??Cheers
>  >>??Christian
>  >>
>  >>
>  >>
>  >>??Quoting Pierre Racine <Pierre.Racine@sbf.ulaval.ca>:
>  >>
>  >>??> Hi everybody,
>  >>??>
>  >>??> I'm pleased to announce that you can now do intersections between??
>  >>??> rasters and geometries very much like you used to do??
>  >>??> geometry/geometry intersections in PostGIS. For this, PostGIS WKT??
>  >>??> Raster introduces two new functions to PostGIS:??
>  >>??> ST_Intersects(geometry, raster, band) and ST_Intersection(geometry,??
>  >>??> raster, band).
>  >>??>
>  >>??> As its geometry/geometry sister, ST_Intersects(geometry, raster,??
>  >>??> band) returns TRUE if the withvalue area of a raster or a raster??
>  >>??> tile (nodata value are ignored) intersects a geometry and??
>  >>??> ST_Intersection(geometry, raster, band) returns the geometry/value??
>  >>??> set of geometries representing the intersection between the geometry??
>  >>??>??and each polygonized group of pixel sharing a same value from the??
>  >>??> raster and its associated value. Example:
>  >>??>
>  >>??> SELECT polyid,
>  >>??>????????(ST_Intersection(the_geom, rast)).geom,
>  >>??>????????(ST_Intersection(the_geom, rast)).val
>  >>??> FROM my_polygons, srtm_tiled
>  >>??> WHERE ST_Intersects(rast, the_geom)
>  >>??>
>  >>??> or, a bit more complex, but much faster and returning the same result:
>  >>??>
>  >>??> SELECT polyid, (gv).geom, (gv).val
>  >>??> FROM (SELECT polyid, ST_Intersection(the_geom, rast, 1) AS gv
>  >>??>??????FROM my_polygons, srtm_tiled
>  >>??>??????WHERE ST_Intersects(rast, the_geom)) foo
>  >>??>
>  >>??> These functions works with any kind of geometry so you can intersect??
>  >>??>??any road, river, polygons or point layer with your favorite??
>  >>??> elevation or land cover raster of any resolution and any size. You??
>  >>??> can also load any number of raster in the database with one command??
>  >>??> line to constitute a unique table raster coverage of any shape (no??
>  >>??> matter if your group of raster do not form a rectangular coverage).
>  >>??>
>  >>??> You will find a complete tutorial on how to use those two new??
>  >>??> functions here:??
>  >>??> http://trac.osgeo.org/postgis/wiki/WKTRasterTutorial01. A reference??
>  >>??> is available here:??
>  >>??>??
>  >> http://postgis.refractions.net/documentation/manual-svn/RT_reference.html??
>  >>??> and chapter 13 of "PostGIS in Action" is also a very good??
>  >>??> introduction to WKT Raster.
>  >>??>
>  >>??> Compilation and installation info are available in the project home??
>  >>??> page: http://trac.osgeo.org/postgis/wiki/WKTRaster
>  >>??>
>  >>??> These features are the result of two years of collaboration between??
>  >>??> many people and companies interested in bringing raster into??
>  >>??> PostGIS. I would like to thanks particularly Steve Cumming who??
>  >>??> initially made all this possible, Sandro Santilli who wrote the base??
>  >>??>??code, Mateusz Loskot who wrote the Python loader, Jorge Arevalo who??
>  >>??>??wrote the GDAL driver and ST_DumpAsPolygons(), Regina and Leo Obe??
>  >>??> who are doing so many things and believed in the project from the??
>  >>??> beginning by adding a chapter about WKT Raster in "PostGIS in??
>  >>??> Action" and also David Zwarg who wrote most of the setter functions.
>  >>??>
>  >>??> This is the first step toward a first complete raster/vector??
>  >>??> analysis and manipulation SQL API. We hope to make of PostGIS with??
>  >>??> WKT Raster the most powerful and complete GIS analysis and??
>  >>??> manipulation high level language ever (!!!). WKT Raster should??
>  >>??> normally be totally integrated into PostGIS in PostGIS release 2.0.??
>  >>??> Upcoming functions should include ST_Reclass, ST_Clip, ST_AsRaster,??
>  >>??> ST_Resample.
>  >>??>
>  >>??> Let us know your need and your experience with WKT Raster.
>  >>??>
>  >>??> Thanks,
>  >>??>
>  >>??> Pierre Racine
>  >>??>
>  >>??> _______________________________________________
>  >>??> gdal-dev mailing list
>  >>??> gdal-dev@lists.osgeo.org
>  >>??> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  >>??>
>  >>
>  >>
>  >>
>  >>??----------------------------------------------------------------
>  >>??This message was sent using IMP, the Internet Messaging Program.
>  >>
>  >>
>  >>??_______________________________________________
>  >>??gdal-dev mailing list
>  >>??gdal-dev@lists.osgeo.org
>  >>??http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  >>
>  >
>  
>  
>  
>  ----------------------------------------------------------------
>  This message was sent using IMP, the Internet Messaging Program.
>  
>  
>  
From monicabuescu1985 at gmail.com  Wed Jun 30 09:32:13 2010
From: monicabuescu1985 at gmail.com (Monica Buescu)
Date: Wed Jun 30 09:32:16 2010
Subject: [gdal-dev] Error while using gdalwarp- Values become Zero
Message-ID: <AANLkTinmbVCXG7WJDXociVUib9oJ9uWWHdqfnuYzKUFP@mail.gmail.com>

Greetings

I have TIF file that I produced using gdal_translate. I used the following
expression:
"gdal_translate -of GTiff -a_ullr 350.25 42.75 354.75 36.75
GRIB_tests/pt.grib GRIB_tests/translate.tif
All values are ok and it seems to be working.

Then, I decided to gdalwarp it with this command:
gdalwarp -t_srs "EPSG:3763"   translate.tif final.tif.

This final.tif is all ok except the top right corner where all values became
0.

I have tried this methodology with other final EPSG (WGS-UTM for instance)
and I didn't get this problem.

Thanks fr your help

Best regards,
Monica
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/7ee78253/attachment.html
From Pierre.Racine at sbf.ulaval.ca  Wed Jun 30 09:48:38 2010
From: Pierre.Racine at sbf.ulaval.ca (Pierre Racine)
Date: Wed Jun 30 09:48:43 2010
Subject: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
In-Reply-To: <20100630125020.17810.qmail@s466.sureserver.com>
References: <20100630125020.17810.qmail@s466.sureserver.com>
Message-ID: <87A96661E65C5541AB4D20721C2DD7F880A31686F8@EXCH-MBX-A.ulaval.ca>

>Now, going back to the WKT Raster. I have loaded Raster on PostGIS before using TerraLib and I believe
>there is a very large project called TerraAmazon using that combination. In terms of query and
>functionality I know that TerraLib also does raster/vector intersection too but I am wondering how the
>overall raster performance comparison looks like; loading time, query time, limitations, etc.

You can do raster/vector intersection in SQL using TerraLib? Really? Please tell me how. Does TerraLib provide a SQL API for manipulating raster?

As far as I can see from the TerraLib doc, TerraLib implemented an Oracle like relational schema for raster: one table for the raster and one table for the associated tiles. WKT Raster is more simple and flexible in that everything is stored in one table. It is very similar to the PostGIS geometry schema: each raster tile, like a geometry, has its own identity and georeference.

Pierre
From Pierre.Racine at sbf.ulaval.ca  Wed Jun 30 10:21:26 2010
From: Pierre.Racine at sbf.ulaval.ca (Pierre Racine)
Date: Wed Jun 30 10:21:29 2010
Subject: [gdal-dev] Converting a .bin image
Message-ID: <87A96661E65C5541AB4D20721C2DD7F880A3168701@EXCH-MBX-A.ulaval.ca>

Hi,

Someone gave me a .bin file. Apparently this is an image file that was created using ENVI. I don't have ENVI and there is no .hdr file. Anybody knows how to convert this to a more common format?

gdalinfo says:

ERROR 4: `gp_0.05_C5.1_2006.bin' not recognised as a supported file format.

gdalinfo failed - unable to open gp_0.05_C5.1_2006.bin'.

Thanks,

Pierre

From christian.mueller at nvoe.at  Wed Jun 30 10:29:42 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Wed Jun 30 10:29:59 2010
Subject: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
In-Reply-To: <20100630125020.17810.qmail@s466.sureserver.com>
References: <20100630125020.17810.qmail@s466.sureserver.com>
Message-ID: <20100630162942.i27l73zgg0kwokog@webmail.nvoe.at>

No, I did not consider GDAL/Georaster. The reasons are

1)
There is already a plugin (imagemosaic-jdbc) for fetching  images from  
jdbc databases supporting Oracle Location Based Services, Postgis, DB2  
spatial extender and jdbc databases without a spatial extension.

I did not want to add a new dependency only for Oracle Georaster.  
Before I wrote this plugin, I developed the gdal_retile.py utility to  
prepare the image data.

As a consequence,  I only added   a GeoRaster  sql access layer  
fetching a cropped image from the best fitting pyramid and passing  
this image back to the geotools plugin for further processing.

2) geotools uses gdal for reading different image formats (Optional).  
This was introduced for file based image access and is supported for  
dedicated versions of gdal. There is always a chance that I would need  
another version, this is to risky for me.

3) Another showstopper was a customer using geotools/geoserver on an  
AIX platform. On this platform there is no JAI native accelerator, so  
I tried to build gdal on AIX  and use the gdal java api to benefit  
from the speed of the gdal library.  After 2 weeks, trying with the  
gnu build tools, ordering the IBM C++ compiler, retried the build, I  
simple gave up.

The GDAL/GeoRaster is really a cool plugin (the whole library is my  
swiss army knife ), but in this situation, things were to complicated.

Cheers
Christian

Quoting Ivan Lucena <ivan.lucena@pmldnet.com>:

> Hi Christian,
>
> I am sorry to spoil this thread. We are suppose to be talking about   
> WKT Raster, but as you mentioned GeoRaster on gdal-dev list I just   
> have to ask you if you have considered or tested using   
> GDAL/GeoRaster. Did you?
>
> There is an ease way to do that, and it works for OSSIM, QGIS,   
> ArcGIS, GRASS or whatever software that uses GDAL. You can build the  
>  GDAL/GeoRaster driver as a plugin (you should have ORACLE_HOME   
> environment variable).
>
> % cd <gdal root>/frmts/georaster
> % make plugin
>
> OR in Windows
>
> % cd <gdal root>\frmts\georaster
> % nmake -f makefile.vc plugin
>
> Copy that plugin to where the GDAL shared library can find it (the   
> subfolder gdalplugins or a folder pointed by GDAL_DRIVER_PATH) and   
> use a GeoRaster object as your raster data source. You can either   
> create a VRT to point to a GeoRaster object or use the GDAL   
> subdataset identification string as your raster data source, e.g.   
> "geor:user/pwd@db,tab,col,where" or "geor:user/pwd@db,rdt,id".
>
> That technique works for MapServer.
>
> Now, going back to the WKT Raster. I have loaded Raster on PostGIS   
> before using TerraLib and I believe there is a very large project   
> called TerraAmazon using that combination. In terms of query and   
> functionality I know that TerraLib also does raster/vector   
> intersection too but I am wondering how the overall raster   
> performance comparison looks like; loading time, query time,   
> limitations, etc.
>
> Great job!
>
> Regards,
>
> Ivan
>
>>  -------Original Message-------
>>  From: christian.mueller@nvoe.at
>>  To: Ivan Lucena <ivan.lucena@pmldnet.com>
>>  Cc: Pierre Racine <Pierre.Racine@sbf.ulaval.ca>,   
>> gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>>  Subject: Re: [gdal-dev] Raster/vector intersections in PostGIS WKT Raster
>>  Sent: Jun 30 '10 05:42
>>
>>  Hi, the documentation for the GeoRaster geotools plugin is here
>>
>>  http://docs.codehaus.org/display/GEOTDOC/Oracle+GeoRaster+Plugin
>>
>>  For geoserver look here
>>
>>  http://docs.geoserver.org/stable/en/user/data/oraclegeoraster.html
>>
>>  Technically , I investigated int the Oralce Java API.?? 2 problems  
>>  occurred.
>>
>>  1) we cannot redistribute the oracle jar files (license issues). As a??
>>  consequence, the module would have broken the geotools build or I??
>>  would have to code the whole stuff using??the java reflection api.
>>
>>  2)??Even worse, the GeoRaster Java API is not stable, the API for??
>>  10.1, 10.2 and 11.x differ making it necessary to write a plugin??
>>  version for each Oracle version.
>>
>>  At the end, I kept it simple doing the whole stuff using Oracle SQL??
>>  syntax which should be stable.
>>
>>
>>
>>
>>
>>
>>  Quoting Ivan Lucena <ivan.lucena@pmldnet.com>:
>>
>>  > Christian,
>>  >
>>  > How did you added support for Oracle GeoRaster on??
>>  > GeoTools/GeoServer? Did you use the Oracle GeoRaster Java API or??
>>  > GDAL? Is that available?
>>  >
>>  > I am looking forward to use it.
>>  >
>>  > Regards,
>>  >
>>  > Ivan
>>  >
>>  >
>>  >>??-------Original Message-------
>>  >>??From: christian.mueller@nvoe.at
>>  >>??To: Pierre Racine <Pierre.Racine@sbf.ulaval.ca>
>>  >>??Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>>  >>??Subject: Re: [gdal-dev] Raster/vector intersections in PostGIS  
>>  WKT Raster
>>  >>??Sent: Jun 29 '10 11:46
>>  >>
>>  >>??Hi, superb job. Congratulations.
>>  >>
>>  >>??I am a geotools/geoserver developer and one of my jobs is fetching??
>>  >>??image tiles??or the corresponding pyramid tiles from jdbc data??
>>  >>??sources. Some weeks ago, I added support for Oracle Georaster and I??
>>  >>??want to support WKT Georaster too.
>>  >>
>>  >>??wktraster makes it quite simple to achieve this. Is there any   
>> database??
>>  >>??layout you recommend. (A table for the image and one for each   
>> pyramid,??
>>  >>??or put all the tiles into one table having an attribute "level",.....).
>>  >>
>>  >>??I have seen "gdal2wktraster.py", is this the recommended way   
>> to import??
>>  >>??tiles into postgis ?
>>  >>??What is the table layout created/needed by this utility ?
>>  >>
>>  >>??Cheers
>>  >>??Christian
>>  >>
>>  >>
>>  >>
>>  >>??Quoting Pierre Racine <Pierre.Racine@sbf.ulaval.ca>:
>>  >>
>>  >>??> Hi everybody,
>>  >>??>
>>  >>??> I'm pleased to announce that you can now do intersections between??
>>  >>??> rasters and geometries very much like you used to do??
>>  >>??> geometry/geometry intersections in PostGIS. For this, PostGIS WKT??
>>  >>??> Raster introduces two new functions to PostGIS:??
>>  >>??> ST_Intersects(geometry, raster, band) and ST_Intersection(geometry,??
>>  >>??> raster, band).
>>  >>??>
>>  >>??> As its geometry/geometry sister, ST_Intersects(geometry, raster,??
>>  >>??> band) returns TRUE if the withvalue area of a raster or a raster??
>>  >>??> tile (nodata value are ignored) intersects a geometry and??
>>  >>??> ST_Intersection(geometry, raster, band) returns the geometry/value??
>>  >>??> set of geometries representing the intersection between the   
>> geometry??
>>  >>??>??and each polygonized group of pixel sharing a same value from the??
>>  >>??> raster and its associated value. Example:
>>  >>??>
>>  >>??> SELECT polyid,
>>  >>??>????????(ST_Intersection(the_geom, rast)).geom,
>>  >>??>????????(ST_Intersection(the_geom, rast)).val
>>  >>??> FROM my_polygons, srtm_tiled
>>  >>??> WHERE ST_Intersects(rast, the_geom)
>>  >>??>
>>  >>??> or, a bit more complex, but much faster and returning the   
>> same result:
>>  >>??>
>>  >>??> SELECT polyid, (gv).geom, (gv).val
>>  >>??> FROM (SELECT polyid, ST_Intersection(the_geom, rast, 1) AS gv
>>  >>??>??????FROM my_polygons, srtm_tiled
>>  >>??>??????WHERE ST_Intersects(rast, the_geom)) foo
>>  >>??>
>>  >>??> These functions works with any kind of geometry so you can   
>> intersect??
>>  >>??>??any road, river, polygons or point layer with your favorite??
>>  >>??> elevation or land cover raster of any resolution and any size. You??
>>  >>??> can also load any number of raster in the database with one command??
>>  >>??> line to constitute a unique table raster coverage of any shape (no??
>>  >>??> matter if your group of raster do not form a rectangular coverage).
>>  >>??>
>>  >>??> You will find a complete tutorial on how to use those two new??
>>  >>??> functions here:??
>>  >>??> http://trac.osgeo.org/postgis/wiki/WKTRasterTutorial01. A reference??
>>  >>??> is available here:??
>>  >>??>??
>>  >>   
>> http://postgis.refractions.net/documentation/manual-svn/RT_reference.html??
>>  >>??> and chapter 13 of "PostGIS in Action" is also a very good??
>>  >>??> introduction to WKT Raster.
>>  >>??>
>>  >>??> Compilation and installation info are available in the project home??
>>  >>??> page: http://trac.osgeo.org/postgis/wiki/WKTRaster
>>  >>??>
>>  >>??> These features are the result of two years of collaboration between??
>>  >>??> many people and companies interested in bringing raster into??
>>  >>??> PostGIS. I would like to thanks particularly Steve Cumming who??
>>  >>??> initially made all this possible, Sandro Santilli who wrote   
>> the base??
>>  >>??>??code, Mateusz Loskot who wrote the Python loader, Jorge   
>> Arevalo who??
>>  >>??>??wrote the GDAL driver and ST_DumpAsPolygons(), Regina and Leo Obe??
>>  >>??> who are doing so many things and believed in the project from the??
>>  >>??> beginning by adding a chapter about WKT Raster in "PostGIS in??
>>  >>??> Action" and also David Zwarg who wrote most of the setter functions.
>>  >>??>
>>  >>??> This is the first step toward a first complete raster/vector??
>>  >>??> analysis and manipulation SQL API. We hope to make of PostGIS with??
>>  >>??> WKT Raster the most powerful and complete GIS analysis and??
>>  >>??> manipulation high level language ever (!!!). WKT Raster should??
>>  >>??> normally be totally integrated into PostGIS in PostGIS release 2.0.??
>>  >>??> Upcoming functions should include ST_Reclass, ST_Clip, ST_AsRaster,??
>>  >>??> ST_Resample.
>>  >>??>
>>  >>??> Let us know your need and your experience with WKT Raster.
>>  >>??>
>>  >>??> Thanks,
>>  >>??>
>>  >>??> Pierre Racine
>>  >>??>
>>  >>??> _______________________________________________
>>  >>??> gdal-dev mailing list
>>  >>??> gdal-dev@lists.osgeo.org
>>  >>??> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>  >>??>
>>  >>
>>  >>
>>  >>
>>  >>??----------------------------------------------------------------
>>  >>??This message was sent using IMP, the Internet Messaging Program.
>>  >>
>>  >>
>>  >>??_______________________________________________
>>  >>??gdal-dev mailing list
>>  >>??gdal-dev@lists.osgeo.org
>>  >>??http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>  >>
>>  >
>>
>>
>>
>>  ----------------------------------------------------------------
>>  This message was sent using IMP, the Internet Messaging Program.
>>
>>
>>
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From jez.walters at ipl.com  Wed Jun 30 10:31:16 2010
From: jez.walters at ipl.com (Jez Walters)
Date: Wed Jun 30 10:31:18 2010
Subject: [gdal-dev] ogr2ogr problem converting UK Ordnance Survey MasterMap
Message-ID: <1277908276440-5237796.post@n2.nabble.com>


Not quite sure if I've got the right forum, but I'm having trouble using the
'ogr2ogr' utility (part of GDAL 1.7.2) to convert Ordnance Survey GML into
ESRI shapefiles.

The 'orientation' field is being ignored when I convert the CartographicText
layer, although this field gets successfully translated for the
CartographicSymbol layer.  All the other CartographicText layer fields
appear just fine in the generated '.dbf' file.

Is there a way of forcing ogr2ogr to recognise the orientation field?  Can
anyone suggest an alternative Open Source conversion utility?  I'm fairly
new to GIS systems, so I might be making an obvious mistake, but any advice
is very gratefully received!  :-)
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/ogr2ogr-problem-converting-UK-Ordnance-Survey-MasterMap-tp5237796p5237796.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Wed Jun 30 10:37:59 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 30 10:38:02 2010
Subject: [gdal-dev] ogr2ogr problem converting UK Ordnance Survey 
	MasterMap
In-Reply-To: <1277908276440-5237796.post@n2.nabble.com>
References: <1277908276440-5237796.post@n2.nabble.com>
Message-ID: <AANLkTilN3fdceYtIz47aXu2A_PTGhZ-Sx3AE_HLQO5Wg@mail.gmail.com>

Jez,

Can you provide a mastermap file I can test with?

Best regards,

On Wed, Jun 30, 2010 at 4:31 PM, Jez Walters <jez.walters@ipl.com> wrote:
>
> Not quite sure if I've got the right forum, but I'm having trouble using the
> 'ogr2ogr' utility (part of GDAL 1.7.2) to convert Ordnance Survey GML into
> ESRI shapefiles.
>
> The 'orientation' field is being ignored when I convert the CartographicText
> layer, although this field gets successfully translated for the
> CartographicSymbol layer. ?All the other CartographicText layer fields
> appear just fine in the generated '.dbf' file.
>
> Is there a way of forcing ogr2ogr to recognise the orientation field? ?Can
> anyone suggest an alternative Open Source conversion utility? ?I'm fairly
> new to GIS systems, so I might be making an obvious mistake, but any advice
> is very gratefully received! ?:-)
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/ogr2ogr-problem-converting-UK-Ordnance-Survey-MasterMap-tp5237796p5237796.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From Jez.Walters at ipl.com  Wed Jun 30 11:17:12 2010
From: Jez.Walters at ipl.com (Jez Walters)
Date: Wed Jun 30 11:18:36 2010
Subject: [gdal-dev] ogr2ogr problem converting UK Ordnance Survey MasterMap
In-Reply-To: <AANLkTilN3fdceYtIz47aXu2A_PTGhZ-Sx3AE_HLQO5Wg@mail.gmail.com>
References: <1277908276440-5237796.post@n2.nabble.com>
	<AANLkTilN3fdceYtIz47aXu2A_PTGhZ-Sx3AE_HLQO5Wg@mail.gmail.com>
Message-ID: <2F7776B4033D3B45BC0301B783F3A8A02980C7D84F@GOOFY.iplbath.com>

Frank,


Thanks for looking in to this!  I've just repeated the problem with the Ordnance Survey sample MasterMap, which is available from here:

http://www.ordnancesurvey.co.uk/oswebsite/products/innovations/sampledata/OSMasterMap_Topo/58116-SX9192-2c1.gz

I tried converting the above GML to ESRI shapefile using the following command:

ogr2ogr SX9192 58116-SX9192-2c1

One thing I've noticed is that the schema referenced in the GML (http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd) defines a number of elements called "complexType".  The "complexType" element with a name of "CartographicTextType" is defined like this:

<complexType name="CartographicTextType">
	<complexContent>
		<extension base="osgb:AbstractFeatureType">
			<sequence>
				<element name="anchorPoint" type="gml:PointPropertyType"/>
				<element name="changeHistory" type="osgb:changeHistoryType" maxOccurs="unbounded"/>
				<element name="descriptiveGroup" type="osgb:descriptiveGroupType" minOccurs="0" maxOccurs="unbounded"/>
				<element name="descriptiveTerm" type="string" minOccurs="0" maxOccurs="unbounded"/>
				<element name="make" type="osgb:makeType" minOccurs="0"/>
				<element name="physicalLevel" type="osgb:physicalLevelType"/>
				<element name="physicalPresence" type="osgb:physicalPresenceType" minOccurs="0"/>
				<element name="textRendering" type="osgb:textRenderingType"/>
				<element name="textString" type="string"/>
			</sequence>
		</extension>
	</complexContent>
</complexType>

>From which I conclude that the orientation is actually part of the "textRendering" element.  I'm sure I'm on to something with this, but I'm not sure how to proceed from here!


Warm regards,


Jez


-----Original Message-----
From: fwarmerdam@gmail.com [mailto:fwarmerdam@gmail.com] On Behalf Of Frank Warmerdam
Sent: Wednesday 30 June 2010 15:38
To: Jez Walters
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] ogr2ogr problem converting UK Ordnance Survey MasterMap

Jez,

Can you provide a mastermap file I can test with?

Best regards,

On Wed, Jun 30, 2010 at 4:31 PM, Jez Walters <jez.walters@ipl.com> wrote:
>
> Not quite sure if I've got the right forum, but I'm having trouble using the
> 'ogr2ogr' utility (part of GDAL 1.7.2) to convert Ordnance Survey GML into
> ESRI shapefiles.
>
> The 'orientation' field is being ignored when I convert the CartographicText
> layer, although this field gets successfully translated for the
> CartographicSymbol layer. ?All the other CartographicText layer fields
> appear just fine in the generated '.dbf' file.
>
> Is there a way of forcing ogr2ogr to recognise the orientation field? ?Can
> anyone suggest an alternative Open Source conversion utility? ?I'm fairly
> new to GIS systems, so I might be making an obvious mistake, but any advice
> is very gratefully received! ?:-)
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/ogr2ogr-problem-converting-UK-Ordnance-Survey-MasterMap-tp5237796p5237796.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


The information transmitted is intended only for the person
or entity to which it is addressed and may contain
confidential and/or privileged material. If you are not the
addressee, any disclosure, reproduction, copying,
distribution, or other dissemination or use of this
communication is strictly prohibited. If you have received
this transmission in error please notify the sender
immediately and then delete this email.

Any representations or commitments expressed in this email
are subject to contract.

This message has been scanned for viruses and dangerous
content. However, it is essential that the recipient also
checks this message using commercially available mail
scanning and anti-virus software. IPL Information Processing
Limited accepts no liability for any loss or damage resulting
from any virus or other dangerous content in this message.

IPL Information Processing Limited is registered in England
and Wales under company registration number 1418818.
Registration took place at Cardiff on 10 May 1979. IPL
Information Processing Limited's registered office and
normal place of business is Eveleigh House, Grove Street,
Bath, BA1 5LR, United Kingdom. IPL is also registered for
Value Added Tax (VAT) under registration number GB 601 2931 83.

From fieliesm at gmail.com  Wed Jun 30 11:27:37 2010
From: fieliesm at gmail.com (Francois Maass)
Date: Wed Jun 30 11:27:46 2010
Subject: [gdal-dev] GCP/Chip Projection
Message-ID: <000901cb1868$ca6f7a80$5f4e6f80$@com>

Good Day List!

 

We are working on a project that involves cross-referencing gcp chips
between two satalite images.  The chip is a small image extracted in such a
way that the GCP is located at the center, usually a few pixels in size.  We
have two images as input, a raw (unprocessed) image, and an orthorectified
image of the same area.  


What I need to do now, is to project the chip found on the orthorectified
image, so that it resembles the area on the raw image in order to do cross
referencing. Originally, I considered using the Ossim library for this
purpose, but recently had to change to using GDAL for the projections.  I am
not familiar with the GDAL library at all, and I'm finding it difficult to
identify exactly what classes I need to be looking at. 
 

It is important to note that we do not have the projection information when
running the program, we need to determine the required information from the
metadata of the image.

Could someone please guide me in the right direction, or perhaps explain to
me how I would go about this process?

I am fairly new with this line of work, so I apologize for any inconvenience
caused.

Thank you for your time and efforts!

Francois

 

Francois Maass

B.IT

University of Pretoria

Cell: 072 397 0294

Email: fieliesm@gmail.com

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/c481697e/attachment.html
From jrepetto at free.fr  Wed Jun 30 12:03:33 2010
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Wed Jun 30 12:25:21 2010
Subject: [gdal-dev] Adding custom projections for ECW files
Message-ID: <4C2B6AD5.5080704@free.fr>

Hello,

I need to add some custom projections for ECW files. I have changed the 
ecw_cs.wkt to include the new definitions, and it is working.
But these modifications will be lost during the next GDAL upgrade.
Is there a way to prevent that problem ?

Jean-Claude
From even.rouault at mines-paris.org  Wed Jun 30 14:03:15 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jun 30 14:03:27 2010
Subject: [gdal-dev] Converting a .bin image
In-Reply-To: <87A96661E65C5541AB4D20721C2DD7F880A3168701@EXCH-MBX-A.ulaval.ca>
References: <87A96661E65C5541AB4D20721C2DD7F880A3168701@EXCH-MBX-A.ulaval.ca>
Message-ID: <201006302003.16657.even.rouault@mines-paris.org>

Pierre,

you need the header file, or enough info to rebuild it by yourself. GDAL can 
do much, but not yet black magic. This is targetted for GDAL 2.0 ;-)

Best regards,

Even

Le Wednesday 30 June 2010 16:21:26 Pierre Racine, vous avez ?crit?:
> Hi,
>
> Someone gave me a .bin file. Apparently this is an image file that was
> created using ENVI. I don't have ENVI and there is no .hdr file. Anybody
> knows how to convert this to a more common format?
>
> gdalinfo says:
>
> ERROR 4: `gp_0.05_C5.1_2006.bin' not recognised as a supported file format.
>
> gdalinfo failed - unable to open gp_0.05_C5.1_2006.bin'.
>
> Thanks,
>
> Pierre
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From matt.wilkie at gov.yk.ca  Wed Jun 30 14:06:17 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Jun 30 14:06:23 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <OF66503EF2.21C2EBF2-ON4A257752.002270A7-4A257752.0022C0C4@tmr.qld.gov.au>
References: <OF66503EF2.21C2EBF2-ON4A257752.002270A7-4A257752.0022C0C4@tmr.qld.gov.au>
Message-ID: <4C2B8799.8020402@gov.yk.ca>

>>7)      ??more ideas/requests??
>
 > - Have metadata as part of the file, rather than a separate file, to
 > avoid getting lost when copying data

YES please!


matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From maphew at gmail.com  Wed Jun 30 14:09:13 2010
From: maphew at gmail.com (Matt Wilkie)
Date: Wed Jun 30 14:09:16 2010
Subject: [gdal-dev] Re: ESRI file geodatabase support
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF5E85F268A4@beja012.edia.pt>
References: <AANLkTimXJD46HiQqybN6HOi-26mv5Ds_Y7YhfzKlyuxR@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F26844@beja012.edia.pt>
	<4C1B794D.3030308@york.ac.uk>
	<AANLkTin4uhDDZkbC0W7V4UnlWzl5lYpfsyTYAX7iXRin@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF5E85F268A4@beja012.edia.pt>
Message-ID: <AANLkTim6njArvc0GDbC4PQfYY7l5IKBGg4_4Ofg7x84p@mail.gmail.com>

For what it's worth, here is the reply I recieved from ESRI regarding
the release plans. In a follow on message I also asked whether the API
would require runtime licensing or similar, to which I've not received
a reply; I waited a week or so.

----------------
Hi Matt,

To answer your question about the file geodatabase:  Yes, at ArcGIS 10
there will be an open API for the File Geodatabase for developers that
does not require the use of ArcObjects. This is an off-cycle project,
which means that it will not be included with ArcGIS 10 Final when it
becomes available later this month. Our plans call for the File
Geodatabase API to be released separately later this year as a digital
download. We expect to have more details in the early fall.

And you heard correctly, it will be C++ only.

Paige Spee
ESRI Product Marketing
------------------------
From even.rouault at mines-paris.org  Wed Jun 30 14:53:38 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jun 30 14:53:57 2010
Subject: [gdal-dev] ogr2ogr problem converting UK Ordnance Survey MasterMap
In-Reply-To: <2F7776B4033D3B45BC0301B783F3A8A02980C7D84F@GOOFY.iplbath.com>
References: <1277908276440-5237796.post@n2.nabble.com>
	<AANLkTilN3fdceYtIz47aXu2A_PTGhZ-Sx3AE_HLQO5Wg@mail.gmail.com>
	<2F7776B4033D3B45BC0301B783F3A8A02980C7D84F@GOOFY.iplbath.com>
Message-ID: <201006302053.41216.even.rouault@mines-paris.org>

Jez,

the reason for the orientation field to be recognize in the CartographicSymbol 
layer and not in the CartographicText layer lies in the structure of the GML 
file and limitations of the OGR GML driver and/or OGR data model.

Namely OGR only supports a "flat" organization of fields whereas GML (being 
XML based) supports a tree-like organization. In the CartographicSymbol 
layer, the orientation element is at the first level, whereas in the 
CartographicText, it is included inside the <textRendering> element, and then 
is ignored (see below examples)

<osgb:CartographicSymbol fid='osgb1000000729439973'>
	<osgb:featureCode>10165</osgb:featureCode>
	<osgb:version>1</osgb:version>
	<osgb:versionDate>2001-11-11</osgb:versionDate>
	<osgb:theme>Rail</osgb:theme>
	<osgb:changeHistory>
		<osgb:changeDate>2001-03-12</osgb:changeDate>
		<osgb:reasonForChange>New</osgb:reasonForChange>
	</osgb:changeHistory>
	<osgb:descriptiveGroup>Rail</osgb:descriptiveGroup>
	<osgb:descriptiveTerm>Switch</osgb:descriptiveTerm>
	<osgb:orientation>3009</osgb:orientation>
	<osgb:physicalLevel>50</osgb:physicalLevel>
	<osgb:point>
		<gml:Point srsName='osgb:BNG'>
			<gml:coordinates>291781.470,92943.570</gml:coordinates>
		</gml:Point>
	</osgb:point>
</osgb:CartographicSymbol>

<osgb:CartographicText fid='osgb1000000729439996'>
	<osgb:featureCode>10026</osgb:featureCode>
	<osgb:version>1</osgb:version>
	<osgb:versionDate>2001-11-11</osgb:versionDate>
	<osgb:theme>Buildings</osgb:theme>
	<osgb:anchorPoint>
	<gml:Point srsName='osgb:BNG'>
		<gml:coordinates>291636.850,92668.150</gml:coordinates>
		</gml:Point>
	</osgb:anchorPoint>
	<osgb:changeHistory>
		<osgb:changeDate>1987-12-01</osgb:changeDate>
		<osgb:reasonForChange>New</osgb:reasonForChange>
	</osgb:changeHistory>
	<osgb:descriptiveGroup>Buildings Or Structure</osgb:descriptiveGroup>
	<osgb:make>Manmade</osgb:make>
	<osgb:physicalLevel>50</osgb:physicalLevel>
	<osgb:textRendering>
		<osgb:anchorPosition>3</osgb:anchorPosition>
		<osgb:font>2</osgb:font>
		<osgb:height>1.500</osgb:height>
		<osgb:orientation>545</osgb:orientation>
	</osgb:textRendering>
	<osgb:textString>44</osgb:textString>
</osgb:CartographicText>

We could imagine an enhancement of the GML driver to try to "flatten" the 
attributes. For example to return textRendering_anchorPosition, 
textRendering_font, .... But it doesn't look trivial to add.

To workaround this, you can open the GML with your favorite text editor (or 
sed ;-)) and replace <osgb:textRendering> and </osgb:textRendering> by 
nothing

This works nicely ;-)

Best regards,

Even

Le Wednesday 30 June 2010 17:17:12 Jez Walters, vous avez ?crit?:
> Frank,
>
>
> Thanks for looking in to this!  I've just repeated the problem with the
> Ordnance Survey sample MasterMap, which is available from here:
>
> http://www.ordnancesurvey.co.uk/oswebsite/products/innovations/sampledata/O
>SMasterMap_Topo/58116-SX9192-2c1.gz
>
> I tried converting the above GML to ESRI shapefile using the following
> command:
>
> ogr2ogr SX9192 58116-SX9192-2c1
>
> One thing I've noticed is that the schema referenced in the GML
> (http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd) defines a
> number of elements called "complexType".  The "complexType" element with a
> name of "CartographicTextType" is defined like this:
>
> <complexType name="CartographicTextType">
> 	<complexContent>
> 		<extension base="osgb:AbstractFeatureType">
> 			<sequence>
> 				<element name="anchorPoint" type="gml:PointPropertyType"/>
> 				<element name="changeHistory" type="osgb:changeHistoryType"
> maxOccurs="unbounded"/> <element name="descriptiveGroup"
> type="osgb:descriptiveGroupType" minOccurs="0" maxOccurs="unbounded"/>
> <element name="descriptiveTerm" type="string" minOccurs="0"
> maxOccurs="unbounded"/> <element name="make" type="osgb:makeType"
> minOccurs="0"/>
> 				<element name="physicalLevel" type="osgb:physicalLevelType"/>
> 				<element name="physicalPresence" type="osgb:physicalPresenceType"
> minOccurs="0"/> <element name="textRendering"
> type="osgb:textRenderingType"/>
> 				<element name="textString" type="string"/>
> 			</sequence>
> 		</extension>
> 	</complexContent>
> </complexType>
>
> >From which I conclude that the orientation is actually part of the
> > "textRendering" element.  I'm sure I'm on to something with this, but I'm
> > not sure how to proceed from here!
>
> Warm regards,
>
>
> Jez
>
>
> -----Original Message-----
> From: fwarmerdam@gmail.com [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
> Warmerdam Sent: Wednesday 30 June 2010 15:38
> To: Jez Walters
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] ogr2ogr problem converting UK Ordnance Survey
> MasterMap
>
> Jez,
>
> Can you provide a mastermap file I can test with?
>
> Best regards,
>
> On Wed, Jun 30, 2010 at 4:31 PM, Jez Walters <jez.walters@ipl.com> wrote:
> > Not quite sure if I've got the right forum, but I'm having trouble using
> > the 'ogr2ogr' utility (part of GDAL 1.7.2) to convert Ordnance Survey GML
> > into ESRI shapefiles.
> >
> > The 'orientation' field is being ignored when I convert the
> > CartographicText layer, although this field gets successfully translated
> > for the
> > CartographicSymbol layer. ?All the other CartographicText layer fields
> > appear just fine in the generated '.dbf' file.
> >
> > Is there a way of forcing ogr2ogr to recognise the orientation field?
> > ?Can anyone suggest an alternative Open Source conversion utility? ?I'm
> > fairly new to GIS systems, so I might be making an obvious mistake, but
> > any advice is very gratefully received! ?:-)
> > --
> > View this message in context:
> > http://osgeo-org.1803224.n2.nabble.com/ogr2ogr-problem-converting-UK-Ordn
> >ance-Survey-MasterMap-tp5237796p5237796.html Sent from the GDAL - Dev
> > mailing list archive at Nabble.com.
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


From peifer at gmx.eu  Wed Jun 30 16:15:14 2010
From: peifer at gmx.eu (Hermann Peifer)
Date: Wed Jun 30 16:15:08 2010
Subject: [gdal-dev] Re: Error while using gdalwarp- Values become Zero
In-Reply-To: <AANLkTinmbVCXG7WJDXociVUib9oJ9uWWHdqfnuYzKUFP@mail.gmail.com>
References: <AANLkTinmbVCXG7WJDXociVUib9oJ9uWWHdqfnuYzKUFP@mail.gmail.com>
Message-ID: <4C2BA5D2.6050207@gmx.eu>

Could it be that the top right corner of final.tif is simply outside the 
extent of translate.tif and filled with 0, during warping?

Hermann


On 30/06/2010 15:32, Monica Buescu wrote:
> Greetings
>
> I have TIF file that I produced using gdal_translate. I used the
> following expression:
> "gdal_translate -of GTiff -a_ullr 350.25 42.75 354.75 36.75
> GRIB_tests/pt.grib GRIB_tests/translate.tif
> All values are ok and it seems to be working.
>
> Then, I decided to gdalwarp it with this command:
> gdalwarp -t_srs "EPSG:3763"   translate.tif final.tif.
>
> This final.tif is all ok except the top right corner where all values
> became 0.
>
> I have tried this methodology with other final EPSG (WGS-UTM for
> instance) and I didn't get this problem.
>
> Thanks fr your help
>
> Best regards,
> Monica
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From singh.sharad113 at yahoo.in  Wed Jun 30 16:29:52 2010
From: singh.sharad113 at yahoo.in (Sharad Singh)
Date: Wed Jun 30 16:39:52 2010
Subject: [gdal-dev] Development and Compilation of a custom
	SQLite/Spatialite Driver
Message-ID: <706624.780.qm@web95106.mail.in2.yahoo.com>

Hi List,

I am developing a custom SQLite/Spatialite driver for a GIS application. Now 
when I am compiling my source code I am getting a some linking errors.

The source code has the following files as its header files 
sqlite3.h
geos_c.h
gaiageo.h
spatialite.c
wx/string.h
iconv.h
proj_api.h

In terms of compiling it is almost the same as building <spatialite.c>. But once 
I compile it on VS2008 on Windows Vista 32-bit processor, I am getting errors 
as:

1. error LNK2019: unresolved external symbol _locale_charset referenced in 
function _gaiaGetLocaleCharsetspatialite.objcompile
2. error LNK2019: unresolved external symbol _libiconv_close referenced in 
function _gaiaConvertCharsetspatialite.objcompile
3. error LNK2019: unresolved external symbol _GEOSGeom_destroy referenced in 
function _gaiaGeomCollEqualsspatialite.objcompile
4. error LNK2019: unresolved external symbol _GEOSversion referenced in function 
_spatialite_initspatialite.objcompile
5. error LNK2019: unresolved external symbol _WinMain@16 referenced in function 
___tmainCRTStartupMSVCRTD.libcompile


I am getting almost the similar erros when I try to compile <spatialite.c>

Am I missing some possible step while compiling the source code? Have I 
overlooked some of the dependencies? 
Should I keep <iconv.h> file in my project or a dependency for libicon?. 
Also, should I keep the file <proj_api.h> in my project or a dependency on 
libproj?

I would be very grateful if you can help me with the above problem.

Thanks,

--
Sharad Singh
India

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100701/4f4b02a6/attachment.html
From jason.roberts at duke.edu  Wed Jun 30 18:15:41 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Wed Jun 30 18:15:47 2010
Subject: [gdal-dev] Problem calling Python bindings' band.WriteArray() from
	ArcGIS 9.3 - SWIG issue?
Message-ID: <016f01cb18a1$c7276480$55762d80$@roberts@duke.edu>

Greetings GDAL developers,

 

I am encountering what I suspect is a SWIG issue with the GDAL Python
bindings. I am using the bindings from Python scripts invoked by ArcGIS on
Windows. Starting with version 9.3, ArcGIS instantiates the Python
interpreter internally with Python's C API and executes scripts within the
ArcGIS process itself, rather than starting a worker python.exe process and
instructing it to run the script. They did this presumably because it
provides major performance advantages.

 

I have a script that calls band.WriteArray(). My problem is that I cannot
run this script more than once from an ArcGIS process without having to
restart it. The first time it runs fine. The second time it runs I get this
error:

 

<type 'exceptions.TypeError'>: in method 'BandRasterIONumPy', argument 1 of
type 'GDALRasterBandShadow *'

 

The script is very simple, shown below my signature below. To repro it, find
a Windows machine (any version) with ArcGIS 9.3 (I'm using 9.3.1 SP1),
Python 2.5 (I have 2.5.4), numpy (I have 1.3.0), and install the latest GDAL
and Python bindings from http://vbkto.dyndns.org/sdk/. I am using those from
http://vbkto.dyndns.org/sdk/release-1310-dev.zip from about a couple of
weeks ago.

 

You may recall that I previously expressed satisfaction that the GDAL team
was moving to SWIG 1.3.39 because it fixed a similar issue. See
http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg05108.html. I
believe this issue is similar to that one, but more complicated.

 

In short, I suspect the issue relates to the fact that GDAL's Python
extension modules _gdal.pyd and _gdal_array.pyd do not fully support what
ArcGIS is doing. Every time ArcGIS runs a Python script, it either
instantiates a new Python interpreter or instantiates a "sub-interpreter" of
the main interpreter. I'm not sure which. In any case, when the GDAL
extension modules are imported the second time, it appears that some SWIG
stuff is not properly set up between the two of them. When
_wrap_BandRasterIONumPy() in gdal_array_wrap.cpp performs its type checking,
it seems to be referencing the Python type structure instantiated from the
first import cycle. So even though the provided object is a
GDALRasterBandShadow instance, it was instantiated during the second import
cycle so SWIG considers it a different type.

 

I am not familiar enough with SWIG to know where to go from here. Is there
someone who understands the problem or at least advise me on what to do next
(e.g. Howard Butler)?

 

The ultimate consequence of this is that you cannot write rasters from an
ArcGIS 9.3 or later geoprocessing script using GDAL. You have to fall back
on the old, very slow method of writing using some other technique and
calling an ArcGIS tool to convert the data to the format you want.

 

Presumably this problem affects other Python-based infrastructures that use
sub-interpreters. I'm not sure what falls into that category.

 

Thanks very much for any help you can provide.

 

Jason

 

 

Here is the Python script:

 

# Instantiate ArcGIS geoprocessor so we can report messages.

 

import arcgisscripting

gp = arcgisscripting.create()

 

# Create an IMG raster of random float32 values, size 250x250, cell size 1.

 

if not gp.Exists('C:\\RandomData.img'):

    gp.AddMessage('Creating the IMG file')

    gp.CreateRandomRaster_management('C:\\', 'RandomData.img', 'UNIFORM', '0
0 250 250', 1)

 

# Import gdal, read the values and write them back.

 

from osgeo import gdal

from osgeo import gdalconst

 

dataset = gdal.Open('C:\RandomData.img', gdalconst.GA_Update)

band = dataset.GetRasterBand(1)

gp.AddMessage('Reading the data')

data = band.ReadAsArray()

gp.AddMessage('Writing the data')

band.WriteArray(data, 0, 0)

gp.AddMessage('Done')

 

 

It succeeds the first time:

 

Executing: ArrayTest

Start Time: Wed Jun 30 18:14:22 2010

Running script ArrayTest...

Reading the data

Writing the data

Done

Completed script ArrayTest...

Executed (ArrayTest) successfully.

End Time: Wed Jun 30 18:14:23 2010 (Elapsed Time: 1.00 seconds)

 

 

It fails the second and subsequent times:

 

Executing: ArrayTest

Start Time: Wed Jun 30 18:14:42 2010

Running script ArrayTest...

Reading the data

<type 'exceptions.TypeError'>: in method 'BandRasterIONumPy', argument 1 of
type 'GDALRasterBandShadow *'

Failed to execute (ArrayTest).

End Time: Wed Jun 30 18:14:42 2010 (Elapsed Time: 0.00 seconds)

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/5817d873/attachment-0001.html
From jason.roberts at duke.edu  Wed Jun 30 18:21:48 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Wed Jun 30 18:21:54 2010
Subject: [gdal-dev] Problem calling Python bindings' band.ReadAsArray()
	from	ArcGIS 9.3 - SWIG issue?
In-Reply-To: <016f01cb18a1$c7276480$55762d80$%roberts@duke.edu>
References: <016f01cb18a1$c7276480$55762d80$%roberts@duke.edu>
Message-ID: <017a01cb18a2$a23482b0$e69d8810$@roberts@duke.edu>

Oops, I apologize; I mis-described the scenario slightly. I had previously
thought that the failure occurs only when calling band.WriteArray. In fact,
it happens during band.ReadAsArray. Sorry for the elementary mistake.

 

Anyway, you probably want a full traceback. I changed this:

 

data = band.ReadAsArray()

 

to this:

 

try:

    data = band.ReadAsArray()

except:

    import traceback

    gp.AddMessage(traceback.format_exc())

    raise

 

and now here is the output:

 

Executing: ArrayTest

Start Time: Wed Jun 30 18:19:12 2010

Running script ArrayTest...

Reading the data

Traceback (most recent call last):

  File "<string>", line 21, in <module>

  File "C:\Python25\lib\site-packages\osgeo\gdal.py", line 850, in
ReadAsArray

  File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 239, in
BandReadAsArray

  File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 88, in
BandRasterIONumPy

TypeError: in method 'BandRasterIONumPy', argument 1 of type
'GDALRasterBandShadow *'

 

<type 'exceptions.TypeError'>: in method 'BandRasterIONumPy', argument 1 of
type 'GDALRasterBandShadow *'

Failed to execute (ArrayTest).

End Time: Wed Jun 30 18:19:13 2010 (Elapsed Time: 1.00 seconds)

 

 

Thanks,

Jason

 

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jason Roberts
Sent: Wednesday, June 30, 2010 6:16 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Problem calling Python bindings' band.WriteArray() from
ArcGIS 9.3 - SWIG issue?

 

Greetings GDAL developers,

 

I am encountering what I suspect is a SWIG issue with the GDAL Python
bindings. I am using the bindings from Python scripts invoked by ArcGIS on
Windows. Starting with version 9.3, ArcGIS instantiates the Python
interpreter internally with Python's C API and executes scripts within the
ArcGIS process itself, rather than starting a worker python.exe process and
instructing it to run the script. They did this presumably because it
provides major performance advantages.

 

I have a script that calls band.WriteArray(). My problem is that I cannot
run this script more than once from an ArcGIS process without having to
restart it. The first time it runs fine. The second time it runs I get this
error:

 

<type 'exceptions.TypeError'>: in method 'BandRasterIONumPy', argument 1 of
type 'GDALRasterBandShadow *'

 

The script is very simple, shown below my signature below. To repro it, find
a Windows machine (any version) with ArcGIS 9.3 (I'm using 9.3.1 SP1),
Python 2.5 (I have 2.5.4), numpy (I have 1.3.0), and install the latest GDAL
and Python bindings from http://vbkto.dyndns.org/sdk/. I am using those from
http://vbkto.dyndns.org/sdk/release-1310-dev.zip from about a couple of
weeks ago.

 

You may recall that I previously expressed satisfaction that the GDAL team
was moving to SWIG 1.3.39 because it fixed a similar issue. See
http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg05108.html. I
believe this issue is similar to that one, but more complicated.

 

In short, I suspect the issue relates to the fact that GDAL's Python
extension modules _gdal.pyd and _gdal_array.pyd do not fully support what
ArcGIS is doing. Every time ArcGIS runs a Python script, it either
instantiates a new Python interpreter or instantiates a "sub-interpreter" of
the main interpreter. I'm not sure which. In any case, when the GDAL
extension modules are imported the second time, it appears that some SWIG
stuff is not properly set up between the two of them. When
_wrap_BandRasterIONumPy() in gdal_array_wrap.cpp performs its type checking,
it seems to be referencing the Python type structure instantiated from the
first import cycle. So even though the provided object is a
GDALRasterBandShadow instance, it was instantiated during the second import
cycle so SWIG considers it a different type.

 

I am not familiar enough with SWIG to know where to go from here. Is there
someone who understands the problem or at least advise me on what to do next
(e.g. Howard Butler)?

 

The ultimate consequence of this is that you cannot write rasters from an
ArcGIS 9.3 or later geoprocessing script using GDAL. You have to fall back
on the old, very slow method of writing using some other technique and
calling an ArcGIS tool to convert the data to the format you want.

 

Presumably this problem affects other Python-based infrastructures that use
sub-interpreters. I'm not sure what falls into that category.

 

Thanks very much for any help you can provide.

 

Jason

 

 

Here is the Python script:

 

# Instantiate ArcGIS geoprocessor so we can report messages.

 

import arcgisscripting

gp = arcgisscripting.create()

 

# Create an IMG raster of random float32 values, size 250x250, cell size 1.

 

if not gp.Exists('C:\\RandomData.img'):

    gp.AddMessage('Creating the IMG file')

    gp.CreateRandomRaster_management('C:\\', 'RandomData.img', 'UNIFORM', '0
0 250 250', 1)

 

# Import gdal, read the values and write them back.

 

from osgeo import gdal

from osgeo import gdalconst

 

dataset = gdal.Open('C:\RandomData.img', gdalconst.GA_Update)

band = dataset.GetRasterBand(1)

gp.AddMessage('Reading the data')

data = band.ReadAsArray()

gp.AddMessage('Writing the data')

band.WriteArray(data, 0, 0)

gp.AddMessage('Done')

 

 

It succeeds the first time:

 

Executing: ArrayTest

Start Time: Wed Jun 30 18:14:22 2010

Running script ArrayTest...

Reading the data

Writing the data

Done

Completed script ArrayTest...

Executed (ArrayTest) successfully.

End Time: Wed Jun 30 18:14:23 2010 (Elapsed Time: 1.00 seconds)

 

 

It fails the second and subsequent times:

 

Executing: ArrayTest

Start Time: Wed Jun 30 18:14:42 2010

Running script ArrayTest...

Reading the data

<type 'exceptions.TypeError'>: in method 'BandRasterIONumPy', argument 1 of
type 'GDALRasterBandShadow *'

Failed to execute (ArrayTest).

End Time: Wed Jun 30 18:14:42 2010 (Elapsed Time: 0.00 seconds)

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100630/9906e6bb/attachment-0001.html
