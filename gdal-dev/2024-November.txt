From even.rouault at spatialys.com  Fri Nov  1 08:54:42 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 1 Nov 2024 16:54:42 +0100
Subject: [gdal-dev] GDAL 3.10.0 rc3 available (was Re: GDAL 3.10.0 release
 candidate is available)
In-Reply-To: <6f710611-aafc-4af7-9b54-83722e283b9a@spatialys.com>
References: <6f710611-aafc-4af7-9b54-83722e283b9a@spatialys.com>
Message-ID: <ed096c57-e01e-40ee-9897-faa8d8db0494@spatialys.com>

Hi,

a third (and, fingers crossed, last?) release candidate for 3.10.0, to 
address a OGR SQL regression spotted by r-spatial and friends: 
https://github.com/OSGeo/gdal/pull/11190

Which also prompted me to add this new item to the MIGRATION GUIDE:

- The OGR SQL parser has been modified to evaluate NULL values in boolean
 ? operations similarly to other SQL engines (SQLite, PostgreSQL, etc.). 
Previously,
 ? with a foo=NULL field, expressions ``foo NOT IN ('bar')`` and ``foo 
NOT LIKE ('bar')``
 ? would evaluate as true. Now the result is false (with the NULL state 
being
 ? propagated to it). Concretely, to get the same results as in previous 
versions,
 ? the above expressions must be rewritten as ``foo IS NULL OR foo NOT 
IN ('bar')``
 ? and ``foo IS NULL OR foo NOT LIKE ('bar')``.

Source archives:
- https://download.osgeo.org/gdal/3.10.0/gdal-3.10.0rc3.tar.xz
- https://download.osgeo.org/gdal/3.10.0/gdal-3.10.0rc3.tar.gz
- https://download.osgeo.org/gdal/3.10.0/gdal3100rc3.zip

Autotest archives:
- https://download.osgeo.org/gdal/3.10.0/gdalautotest-3.10.0rc3.tar.gz
- https://download.osgeo.org/gdal/3.10.0/gdalautotest-3.10.0rc3.zip

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From public at postholer.com  Fri Nov  1 13:44:19 2024
From: public at postholer.com (Scott)
Date: Fri, 1 Nov 2024 13:44:19 -0700
Subject: [gdal-dev] ogrtindex, gdaltindex feature request
Message-ID: <d75ee953-c98b-4d0b-831b-b0854769c236@postholer.com>

The whole, new GTI format got by me until Michael Sumner mentioned it on 
slack, which I visit extremely rarely. (Thanks Michael). I've been doing 
it in an entirely different way. The feature request is based on that.

The feature request is this:

    gdaltindex -co GDALINFO=mymeta catalog.fgb *.tif
or
    ogrtindex -co OGRINFO=mymeta catalog.fgb *.shp

This says, create an attribute in the .fgb file called 'mymeta' and 
populate it with the equivalent of 'ogrinfo -json' or 'gdalinfo -json'. 
Or perhaps:

    gdaltindex -co GDALSTATS=mymeta catalog.fgb *.tif

Which is equivalent to 'gdalinfo -json -stats -hist'

I've been doing this as a 2 step process, but it would be really cool to 
have it all integrated. I have many raster/vector files of different 
formats in a single catalog.gpkg and catalog.fgb. I can easily filter 
any by bbox, type or stats.

Why?

If you're grabbing your data from an .fgb file on S3/web server without 
an intermediate server or service, using a bbox, it's painless to get 
exactly the data you need. Further, you have access to all the 
attributes, stats, min, max, stddev for filtering *before* you request 
the actual data.

If you don't like cloud native or .fgb and want to access your data via 
an API, create your catalog as a .gpkg. Create custom attributes for 
filtering and indexes on those attributes, json meta data, etc, and 
throw it behind an API.

With a catalog.gpkg you can have all your rasters/vectors in the same 
catalog.gpkg and ogr2ogr to an .fgb. Anytime you update/upsert your 
.gpkg, recreate the .fgb.

As awesome as STAC is, it's becoming increasingly complex and very slow 
with large data sets. Compare that to an -sql query on a single 
catalog.gpkg (particularly with spatialite).

If you've made it this far, thanks for listening!

Scott

-- 
www.postholer.com

From even.rouault at spatialys.com  Fri Nov  1 13:54:42 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 1 Nov 2024 21:54:42 +0100
Subject: [gdal-dev] ogrtindex, gdaltindex feature request
In-Reply-To: <d75ee953-c98b-4d0b-831b-b0854769c236@postholer.com>
References: <d75ee953-c98b-4d0b-831b-b0854769c236@postholer.com>
Message-ID: <7ea6009b-e137-44fc-8fdb-330f449acad1@spatialys.com>

Not directly addressing your suggestion, but as an alternative, there's 
https://github.com/stac-utils/stac-geoparquet and the GTI driver in 
3.10.0 can use them directly: 
https://gdal.org/en/latest/drivers/raster/gti.html#stac-geoparquet-support

$ ogrinfo 
/vsicurl/https://github.com/stac-utils/stac-geoparquet/raw/main/tests/data/naip.parquet 
-al -q

Layer name: naip
OGRFeature(naip):0
 ? type (String) = Feature
 ? stac_version (String) = 1.0.0
 ? stac_extensions (StringList) = 
(2:https://stac-extensions.github.io/eo/v1.0.0/schema.json,https://stac-extensions.github.io/projection/v1.0.0/schema.json)
 ? id (String) = ok_m_3409901_nw_14_1_20100425
 ? bbox (RealList) = (4:-100.004084,34.934259,-99.933454,35.00323)
 ? links (String(JSON)) = 
[{"href":"https:\/\/planetarycomputer.microsoft.com\/api\/stac\/v1\/collections\/naip","rel":"collection","title":null,"type":"application\/json"},{"href":"https:\/\/planetarycomputer.microsoft.com\/api\/stac\/v1\/collections\/naip","rel":"parent","title":null,"type":"application\/json"},{"href":"https:\/\/planetarycomputer.microsoft.com\/api\/stac\/v1\/","rel":"root","title":null,"type":"application\/json"},{"href":"https:\/\/planetarycomputer.microsoft.com\/api\/stac\/v1\/collections\/naip\/items\/ok_m_3409901_nw_14_1_20100425","rel":"self","title":null,"type":"application\/geo+json"},{"href":"https:\/\/planetarycomputer.microsoft.com\/api\/data\/v1\/item\/map?collection=naip&item=ok_m_3409901_nw_14_1_20100425","rel":"preview","title":"Map 
of item","type":"text\/html"}]
 ? assets.image.eo:bands (String(JSON)) = 
[{"common_name":"red","description":null,"name":"Red"},{"common_name":"green","description":null,"name":"Green"},{"common_name":"blue","description":null,"name":"Blue"},{"common_name":"nir","description":"near-infrared","name":"NIR"}]
 ? assets.image.href (String) = 
https://naipeuwest.blob.core.windows.net/naip/v002/ok/2010/ok_100cm_2010/34099/m_3409901_nw_14_1_20100425.tif
 ? assets.image.roles (StringList) = (1:data)
 ? assets.image.title (String) = RGBIR COG tile
 ? assets.image.type (String) = image/tiff; application=geotiff; 
profile=cloud-optimized
 ? assets.rendered_preview.href (String) = 
https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=naip&item=ok_m_3409901_nw_14_1_20100425&assets=image&asset_bidx=image%7C1%2C2%2C3
 ? assets.rendered_preview.rel (String) = preview
 ? assets.rendered_preview.roles (StringList) = (1:overview)
 ? assets.rendered_preview.title (String) = Rendered preview
 ? assets.rendered_preview.type (String) = image/png
 ? assets.thumbnail.href (String) = 
https://naipeuwest.blob.core.windows.net/naip/v002/ok/2010/ok_100cm_2010/34099/m_3409901_nw_14_1_20100425.200.jpg
 ? assets.thumbnail.roles (StringList) = (1:thumbnail)
 ? assets.thumbnail.title (String) = Thumbnail
 ? assets.thumbnail.type (String) = image/jpeg
 ? assets.tilejson.href (String) = 
https://planetarycomputer.microsoft.com/api/data/v1/item/tilejson.json?collection=naip&item=ok_m_3409901_nw_14_1_20100425&assets=image&asset_bidx=image%7C1%2C2%2C3
 ? assets.tilejson.roles (StringList) = (1:tiles)
 ? assets.tilejson.title (String) = TileJSON with default rendering
 ? assets.tilejson.type (String) = application/json
 ? collection (String) = naip
 ? gsd (Real) = 1
 ? datetime (DateTime) = 2010/04/25 00:00:00+00
 ? naip:year (String) = 2010
 ? proj:bbox (RealList) = (4:408377,3866212,414752,3873800)
 ? proj:epsg (Integer64) = 26914
 ? naip:state (String) = ok
 ? proj:shape (Integer64List) = (2:7588,6375)
 ? proj:transform (RealList) = (9:1,0,408377,0,-1,3873800,0,0,1)
 ? POLYGON ((-99.933454 34.934815,-99.93423 35.00323,-100.004084 
35.002673,-100.00325 34.934259,-99.933454 34.934815))

etc.


Le 01/11/2024 ? 21:44, Scott via gdal-dev a ?crit?:
> The whole, new GTI format got by me until Michael Sumner mentioned it 
> on slack, which I visit extremely rarely. (Thanks Michael). I've been 
> doing it in an entirely different way. The feature request is based on 
> that.
>
> The feature request is this:
>
> ?? gdaltindex -co GDALINFO=mymeta catalog.fgb *.tif
> or
> ?? ogrtindex -co OGRINFO=mymeta catalog.fgb *.shp
>
> This says, create an attribute in the .fgb file called 'mymeta' and 
> populate it with the equivalent of 'ogrinfo -json' or 'gdalinfo 
> -json'. Or perhaps:
>
> ?? gdaltindex -co GDALSTATS=mymeta catalog.fgb *.tif
>
> Which is equivalent to 'gdalinfo -json -stats -hist'
>
> I've been doing this as a 2 step process, but it would be really cool 
> to have it all integrated. I have many raster/vector files of 
> different formats in a single catalog.gpkg and catalog.fgb. I can 
> easily filter any by bbox, type or stats.
>
> Why?
>
> If you're grabbing your data from an .fgb file on S3/web server 
> without an intermediate server or service, using a bbox, it's painless 
> to get exactly the data you need. Further, you have access to all the 
> attributes, stats, min, max, stddev for filtering *before* you request 
> the actual data.
>
> If you don't like cloud native or .fgb and want to access your data 
> via an API, create your catalog as a .gpkg. Create custom attributes 
> for filtering and indexes on those attributes, json meta data, etc, 
> and throw it behind an API.
>
> With a catalog.gpkg you can have all your rasters/vectors in the same 
> catalog.gpkg and ogr2ogr to an .fgb. Anytime you update/upsert your 
> .gpkg, recreate the .fgb.
>
> As awesome as STAC is, it's becoming increasingly complex and very 
> slow with large data sets. Compare that to an -sql query on a single 
> catalog.gpkg (particularly with spatialite).
>
> If you've made it this far, thanks for listening!
>
> Scott
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From even.rouault at spatialys.com  Sun Nov  3 04:16:09 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 3 Nov 2024 13:16:09 +0100
Subject: [gdal-dev] How to locate where the raster min and max values
 are?
In-Reply-To: <DB9PR09MB688709C9E2EF933987BE0FCDFD542@DB9PR09MB6887.eurprd09.prod.outlook.com>
References: <DB9PR09MB688709C9E2EF933987BE0FCDFD542@DB9PR09MB6887.eurprd09.prod.outlook.com>
Message-ID: <196c8a63-ca06-4079-ac09-74058a65e7b1@spatialys.com>

Hi,

See https://github.com/OSGeo/gdal/pull/11200 for an API and sample 
script to offer that capability (that can scale to datasets that don't 
fit in RAM)

Even

Le 30/10/2024 ? 01:31, Rahkonen Jukka via gdal-dev a ?crit?:
>
> Hi,
>
> I would like to know the georeferenced coordinates of the min and max 
> values of a DEM file. Even better if I could forward them into a 
> vector file. If the minimum or maximum happens to be on a flat area 
> like seabed I would be happy with the first pixel at the moment.
>
> By copy-pasting from How do I open geotiff images with GDAL in Python? 
> - Stack Overflow 
> <https://stackoverflow.com/questions/41996079/how-do-i-open-geotiff-images-with-gdal-in-python> 
> and How to find the indexes of the minimum or maximum value(s) in a 
> matrix using python ? 
> <https://en.moonbooks.org/Articles/How-to-find-the-indexes-of-the-minimum-or-maximum-values-in-a-matrix-using-python-/> 
> I think I managed to get the correct points as numpy indexes
>
> >>> import numpy as np
>
> >>> from osgeo import gdal
>
> >>> ds = gdal.Open('P3412A.tif', gdal.GA_ReadOnly)
>
> >>> rb = ds.GetRasterBand(1)
>
> >>> img_array = rb.ReadAsArray()
>
> >>> vmin = img_array.min()
>
> >>> vmax = img_array.max()
>
> >>> vmin
>
> -0.929
>
> >>> vmax
>
> 17.246
>
> >>>
>
> >>> np.where(img_array==vmin)
>
> (array([1504], dtype=intg64), array([1189], dtype=int64))
>
> >>> np.where(img_array==vmax)
>
> (array([1545], dtype=int64), array([2423], dtype=int64))
>
> >>>
>
> But now I have no idea about how to get the georeferenced coordinates.
>
> The task feels rather simple and I was sure that someone has already 
> made an utility or a QGIS plugin, but all I have found yet is for R. I 
> was thinking that perhaps some of the gdaldem modes could be misused 
> for this purpose, but I believe they cannot. For QGIS I found advice 
> to use an obvious but ?clumsy method of polygonising the raster and 
> finding the extremes from the vector data. And one OpenJUMP developer 
> took the challenge and wrote a prototype with Java but it is not 
> complete yet.
>
> -Jukka Rahkonen-
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241103/920d7f4d/attachment.htm>

From Reiner.Schlitzer at awi.de  Mon Nov  4 03:05:05 2024
From: Reiner.Schlitzer at awi.de (Reiner Schlitzer)
Date: Mon, 4 Nov 2024 11:05:05 +0000
Subject: [gdal-dev] compiling gdal from source for Windows ARM64 failed
Message-ID: <0f6f97a862054e70b844ee2c65903202@awi.de>

Hi,
I am trying to compile the GDAL library for the Windows ARM64 architecture but fail during the build step because of undefined CPL_CPUID in the port\cpl_cpu_features.cpp file. The Windows ARM64 case seems not to be covered in the definition block at the top.
Can you please give advice on how to fix this issue, or can you please get me into contact with people working on creating GDAL binaries for Windows ARM64. If GDAL binaries for Windows ARM64 already exist, please point me to the download location. Thank you very much in advance.
Here are details on what I have done:

  *   The GDAL source was downloaded from the master branch at https://github.com/OSGeo/GDAL.
  *   CMAKE configuration command: cmake -DCMAKE_PREFIX_PATH=c:/develop -DBUILD_APPS=OFF -DGDAL_BUILD_OPTIONAL_DRIVERS=OFF -DOGR_BUILD_OPTIONAL_DRIVERS=OFF -DCMAKE_BUILD_TYPE=Release ..
  *   CMAKE build command: cmake --build .
The output from the config and build steps are attached. Dependencies, such as proj, hdf5, netcdf, sqlite3, expat, openssl, zlib and others had been compiled successfully previously and are accessible at compile time at C:\develop. I am working on a Windows on Arm system with Snapdragon(R) X Elite processor and 32GB of RAM.
Any advice on how to make progress is greatly appreciated. Thanks in advance.

Best regards,
Reiner Schlitzer

------------------------------------------------
Prof. Dr. Reiner Schlitzer
Alfred-Wegener-Institut
Helmholtz-Zentrum f?r Polar- und Meeresforschung
Am Alten Hafen 26
27568 Bremerhaven
GERMANY

e-mail: Reiner.Schlitzer at awi.de<mailto:Reiner.Schlitzer at awi.de>
https://www.awi.de/en/about-us/organisation/staff/single-view/reiner-schlitzer.html

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241104/007889be/attachment.htm>

From even.rouault at spatialys.com  Mon Nov  4 04:28:12 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 4 Nov 2024 13:28:12 +0100
Subject: [gdal-dev] Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
Message-ID: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>

Hi,

I believe RC3 is good to go, so:

Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release

Starting with my +1

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From j1 at jimenezshaw.com  Mon Nov  4 04:29:28 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Mon, 4 Nov 2024 13:29:28 +0100
Subject: [gdal-dev] Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
In-Reply-To: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
References: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
Message-ID: <CADRrdKu8O0bwgyrGECR6Nd2gg-DNXWH9kgPETCHEFptJ7+0_rw@mail.gmail.com>

+1 Javier

On Mon, 4 Nov 2024 at 13:28, Even Rouault via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> Hi,
>
> I believe RC3 is good to go, so:
>
> Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
>
> Starting with my +1
>
> Even
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
> Butcher of all kinds of standards, open or closed formats. At the end,
> this is just about bytes.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241104/57baf93b/attachment.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Nov  4 05:12:44 2024
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 4 Nov 2024 13:12:44 +0000
Subject: [gdal-dev] Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
In-Reply-To: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
References: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
Message-ID: <DB9PR09MB68871DAB29D06F4412484736FD512@DB9PR09MB6887.eurprd09.prod.outlook.com>

+1

-Jukka Rahkonen-

-----Alkuper?inen viesti-----
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Even Rouault via gdal-dev
L?hetetty: maanantai 4. marraskuuta 2024 14.28
Vastaanottaja: gdal-dev at lists.osgeo.org
Aihe: [gdal-dev] Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release

Hi,

I believe RC3 is good to go, so:

Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release

Starting with my +1

Even

--
http://www.spatialys.com/
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev

From Reiner.Schlitzer at awi.de  Mon Nov  4 07:38:50 2024
From: Reiner.Schlitzer at awi.de (Reiner Schlitzer)
Date: Mon, 4 Nov 2024 15:38:50 +0000
Subject: [gdal-dev] compiling gdal from source for Windows ARM64 failed
Message-ID: <8768a21974164e95872ae9dab5779a96@awi.de>

Hi,
I am trying to compile the GDAL library for the Windows ARM64 architecture but fail during the build step because of undefined CPL_CPUID in the port\cpl_cpu_features.cpp file. The Windows ARM64 case seems not to be covered in the definition block at the top.
Can you please give advice on how to fix this issue, or can you please get me into contact with people working on creating GDAL binaries for Windows ARM64. If GDAL binaries for Windows ARM64 already exist, please point me to the download location. Thank you very much in advance.
Here are details on what I have done:

  *   The GDAL source was downloaded from the master branch at https://github.com/OSGeo/GDAL.
  *   CMAKE configuration command: cmake -DCMAKE_PREFIX_PATH=c:/develop -DBUILD_APPS=OFF -DGDAL_BUILD_OPTIONAL_DRIVERS=OFF -DOGR_BUILD_OPTIONAL_DRIVERS=OFF -DCMAKE_BUILD_TYPE=Release ..
  *   CMAKE build command: cmake --build .
The output from the config and build steps are attached. Dependencies, such as proj, hdf5, netcdf, sqlite3, expat, openssl, zlib and others had been compiled successfully previously and are accessible at compile time at C:\develop. I am working on a Windows on Arm system with Snapdragon(R) X Elite processor and 32GB of RAM.
Any advice on how to make progress is greatly appreciated. Thanks in advance.

Best regards,
Reiner Schlitzer

------------------------------------------------
Prof. Dr. Reiner Schlitzer
Alfred-Wegener-Institut
Helmholtz-Zentrum f?r Polar- und Meeresforschung
Am Alten Hafen 26
27568 Bremerhaven
GERMANY

e-mail: Reiner.Schlitzer at awi.de<mailto:Reiner.Schlitzer at awi.de>
https://www.awi.de/en/about-us/organisation/staff/single-view/reiner-schlitzer.html

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241104/84ed7b34/attachment-0001.htm>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: CMAKE_build_output.txt
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241104/84ed7b34/attachment-0002.txt>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: CMAKE_config_output.txt
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241104/84ed7b34/attachment-0003.txt>

From even.rouault at spatialys.com  Mon Nov  4 07:48:51 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 4 Nov 2024 16:48:51 +0100
Subject: [gdal-dev] compiling gdal from source for Windows ARM64 failed
In-Reply-To: <8768a21974164e95872ae9dab5779a96@awi.de>
References: <8768a21974164e95872ae9dab5779a96@awi.de>
Message-ID: <c5bda494-32d2-4b24-a65e-4ff4db1c8e5b@spatialys.com>

Reiner,

the error "cpl_cpu_features.cpp(69): error C3861: "CPL_CPUID":" 
indicates that the compiler goes into a code path that is protected by a 
#if defined(HAVE_SSE_AT_COMPILE_TIME).

This?HAVE_SSE_AT_COMPILE_TIME macro is set in gdal.cmake when 
"${CMAKE_SYSTEM_PROCESSOR}" MATCHES "(x86|AMD64)" .

So I believe there's a misconfiguration of your CMake cross compilation. 
Try adding -DCMAKE_SYSTEM_PROCESSOR=ARM64 perhaps. Although 
https://cmake.org/cmake/help/latest/variable/CMAKE_SYSTEM_PROCESSOR.html 
suggest you should likely rather use a proper CMAKE_TOOLCHAIN_FILE to 
set all variables correctly.

Even


Le 04/11/2024 ? 16:38, Reiner Schlitzer via gdal-dev a ?crit?:
>
> Hi,
>
> I am trying to compile the GDAL library for the Windows ARM64 
> architecture but fail during the build step because of undefined 
> CPL_CPUID in the port\cpl_cpu_features.cpp file. The Windows ARM64 
> case seems not to be covered in the definition block at the top.
>
> Can you please give advice on how to fix this issue, or can you please 
> get me into contact with people working on creating GDAL binaries for 
> Windows ARM64. If GDAL binaries for Windows ARM64 already exist, 
> please point me to the download location. Thank you very much in advance.
>
> Here are details on what I have done:
>
>   * The GDAL source was downloaded from the master branch at
>     https://github.com/OSGeo/GDAL.
>   * CMAKE configuration command: cmake -DCMAKE_PREFIX_PATH=c:/develop
>     -DBUILD_APPS=OFF -DGDAL_BUILD_OPTIONAL_DRIVERS=OFF
>     -DOGR_BUILD_OPTIONAL_DRIVERS=OFF -DCMAKE_BUILD_TYPE=Release ..
>   * CMAKE build command: cmake --build .
>
> The output from the config and build steps are attached. Dependencies, 
> such as proj, hdf5, netcdf, sqlite3, expat, openssl, zlib and others 
> had been compiled successfully previously and are accessible at 
> compile time at C:\develop. I am working on a Windows on Arm system 
> with Snapdragon(R) X Elite processor and 32GB of RAM.
>
> Any advice on how to make progress is greatly appreciated. Thanks in 
> advance.
>
> Best regards,
>
> Reiner Schlitzer
>
> ------------------------------------------------
>
> Prof. Dr. Reiner Schlitzer
>
> Alfred-Wegener-Institut
>
> Helmholtz-Zentrum f?r Polar- und Meeresforschung
>
> Am Alten Hafen 26
>
> 27568 Bremerhaven
>
> GERMANY
>
> e-mail: Reiner.Schlitzer at awi.de <mailto:Reiner.Schlitzer at awi.de>
>
> https://www.awi.de/en/about-us/organisation/staff/single-view/reiner-schlitzer.html
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241104/f0175255/attachment.htm>

From nyall.dawson at gmail.com  Mon Nov  4 16:50:59 2024
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 5 Nov 2024 10:50:59 +1000
Subject: [gdal-dev] How to locate where the raster min and max values
 are?
In-Reply-To: <196c8a63-ca06-4079-ac09-74058a65e7b1@spatialys.com>
References: <DB9PR09MB688709C9E2EF933987BE0FCDFD542@DB9PR09MB6887.eurprd09.prod.outlook.com>
 <196c8a63-ca06-4079-ac09-74058a65e7b1@spatialys.com>
Message-ID: <CAB28AsiD9BoTQnd0iQ0xXWt=FLZaqVbthaoBWcRSGbiWataV3Q@mail.gmail.com>

>
> I would like to know the georeferenced coordinates of the min and max
values of a DEM file. Even better if I could forward them into a vector
file. If the minimum or maximum happens to be on a flat area like seabed I
would be happy with the first pixel at the moment.
>
> The task feels rather simple and I was sure that someone has already made
an utility or a QGIS plugin, but all I have found yet is for R

I've submitted a processing tool for QGIS 3.42 to do this here:
https://github.com/qgis/QGIS/pull/59332 . This uses Even's new GDAL api so
should be super-efficient & fast to calculate. ?

Thanks for raising this interesting discussion, a lot of nice things have
come out of this!

Nyall
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241105/ade472b6/attachment.htm>

From pradeep.cabs at gov.in  Mon Nov  4 23:03:37 2024
From: pradeep.cabs at gov.in (Pradeep Mahato)
Date: Tue, 5 Nov 2024 12:33:37 +0530 (IST)
Subject: [gdal-dev] GPU support for GDAL
Message-ID: <257735772.2817697.1730790217684@gov.in>

Hi, 
I am working on a project with Geo-spatial images using python language. To visualize the images properly pyramid layer is necessary. " buildoverview" functionality of GDAL library in python builds the pyramid(overview) layer utilizing the CPU compute only. As per project requirement , we are dealing with the large volume of the data. For efficient utilization we wanted to use GPU for generating pyramid layer. Does any GDAL library is there which support GPU 

-- 
???? ???????/ Thanks and Regards, 
?????? ????? ????/ Pradeep Kumar Mahato 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241105/0230805d/attachment.htm>

From a.pau at creaf.cat  Mon Nov  4 23:45:27 2024
From: a.pau at creaf.cat (Abel Pau)
Date: Tue, 5 Nov 2024 07:45:27 +0000
Subject: [gdal-dev] Abou R sf library and GDAL
In-Reply-To: <OSWP279MB0471170C1D224E223DF6EE53EE4A2@OSWP279MB0471.NORP279.PROD.OUTLOOK.COM>
References: <OSWP279MB0471170C1D224E223DF6EE53EE4A2@OSWP279MB0471.NORP279.PROD.OUTLOOK.COM>
Message-ID: <PAXPR07MB7775058B3A13CCB945703BAAFA522@PAXPR07MB7775.eurprd07.prod.outlook.com>

>> I don't recall whether your driver, Abel, needs such libraries.

No, my driver does not require external libraries.
Thanks!

-----Mensaje original-----
De: Roger Bivand <Roger.Bivand at nhh.no> 
Enviado el: dilluns, 28 d'octubre de 2024 20:03
Para: gdal-dev at lists.osgeo.org
CC: Abel Pau <a.pau at creaf.cat>
Asunto: Re: [gdal-dev] Abou R sf library and GDAL

Further to the previous reply (copied below), Windows x86_64  sf, terra and other packages built with GDAL have GDAL 3.8.3. The 3.9 series has been a bit jumpy, but hopefully has now found the worst regressions, so we can try proposing 3.9.3, but initally only for drivers not requiring additional external libraries. Thw main Windows binary development effort is on arm64, so adding extra external libraries needs to be very well justified. I don't recall whether your driver, Abel, needs such libraries.

It is seen as vital that the build train used for building upstream software to be linked to R itself is built with the same build train for binary packages distributed by CRAN, which cannot answer queries about random failures caused by mixing build trains. 

For macOS (I checked on arm64), released sf has GDAL 3.5.3, so could be worth pursuing say with 3.9.3 anyway.

Roger

-------------

The key distinction is between installation on systems for which CRAN builds static packages - Windows and macOS - and others installed from  the sf source, and dynamically linking to the system-provided GDAL version.

In the latter case, the user may choose to install GDAL from source instead. In the former case, the sf.and terra developers can ask for an update.

For Windows, MXE is used to cross-compile GDAL and its upstream dependencies, so more steps are needed. I'll check the current Windows and macOS GDAL versions and report back.

Roger

PS. Rstudio is an IDE, always do real work just using R itself. Also, VScode is another IDE.


--
Roger Bivand
Emeritus Professor
Norwegian School of Economics
Postboks 3490 Ytre Sandviken, 5045 Bergen, Norway Roger.Bivand at nhh.no

From even.rouault at spatialys.com  Tue Nov  5 02:00:59 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 5 Nov 2024 11:00:59 +0100
Subject: [gdal-dev] GPU support for GDAL
In-Reply-To: <257735772.2817697.1730790217684@gov.in>
References: <257735772.2817697.1730790217684@gov.in>
Message-ID: <9e2bc6f1-727f-4b45-ae85-a72845208b47@spatialys.com>


Le 05/11/2024 ? 08:03, Pradeep Mahato via gdal-dev a ?crit?:
> Hi,
> ??? I am working on a project with Geo-spatial images using python 
> language. To visualize the images properly pyramid layer is necessary. 
> "*buildoverview"* functionality of GDAL library in python builds the 
> pyramid(overview) layer utilizing the CPU compute only. As per project 
> requirement , we are dealing with the large volume of the data. For 
> efficient utilization we wanted to use GPU for generating pyramid 
> layer. Does any GDAL library is there which support GPU

GDAL itself: no

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241105/980a5f64/attachment.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Tue Nov  5 03:09:35 2024
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Tue, 5 Nov 2024 11:09:35 +0000
Subject: [gdal-dev] How to locate where the raster min and max values
 are?
In-Reply-To: <CAB28AsiD9BoTQnd0iQ0xXWt=FLZaqVbthaoBWcRSGbiWataV3Q@mail.gmail.com>
References: <DB9PR09MB688709C9E2EF933987BE0FCDFD542@DB9PR09MB6887.eurprd09.prod.outlook.com>
 <196c8a63-ca06-4079-ac09-74058a65e7b1@spatialys.com>
 <CAB28AsiD9BoTQnd0iQ0xXWt=FLZaqVbthaoBWcRSGbiWataV3Q@mail.gmail.com>
Message-ID: <DB9PR09MB6887960088353C9BC00BF6C8FD522@DB9PR09MB6887.eurprd09.prod.outlook.com>

Hi,

Very nice, seems that you both took the challenge very seriously. Now an advanced use case came into my mind, and it is about finding extreme values of sensor data within a polygon. Brute force method is to pre-process the raster and burn nodata into the exterior of the study area with gdal_rasterize by using the -i (invert) option. Can you suggest something more clever?

Right now I am just curious, but I guess that the QGIS Zonal statistics tool min/max option with additional x and y coordinate fields could make some users happy, or ?gdal_minmax_location.py? with a -mask option.

-Jukka Rahkonen-

L?hett?j?: Nyall Dawson <nyall.dawson at gmail.com>
L?hetetty: tiistai 5. marraskuuta 2024 2.51
Vastaanottaja: Even Rouault <even.rouault at spatialys.com>
Kopio: Rahkonen Jukka <jukka.rahkonen at maanmittauslaitos.fi>; 'gdal-dev at lists.osgeo.org' (gdal-dev at lists.osgeo.org) <gdal-dev at lists.osgeo.org>
Aihe: Re: [gdal-dev] How to locate where the raster min and max values are?


>
> I would like to know the georeferenced coordinates of the min and max values of a DEM file. Even better if I could forward them into a vector file. If the minimum or maximum happens to be on a flat area like seabed I would be happy with the first pixel at the moment.
>
> The task feels rather simple and I was sure that someone has already made an utility or a QGIS plugin, but all I have found yet is for R

I've submitted a processing tool for QGIS 3.42 to do this here: https://github.com/qgis/QGIS/pull/59332 . This uses Even's new GDAL api so should be super-efficient & fast to calculate. ?

Thanks for raising this interesting discussion, a lot of nice things have come out of this!

Nyall

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241105/76805b46/attachment-0001.htm>

From schnetter at gmail.com  Tue Nov  5 05:15:53 2024
From: schnetter at gmail.com (Erik Schnetter)
Date: Tue, 5 Nov 2024 08:15:53 -0500
Subject: [gdal-dev] Call for discussion on RFC 100: Adding Float16 support
 to GDAL
In-Reply-To: <CADKQjjdZFyLY+D40YJEjy3iK3QbJRi4SpwwM2ue8DRgd=5gMzg@mail.gmail.com>
References: <CADKQjjdZFyLY+D40YJEjy3iK3QbJRi4SpwwM2ue8DRgd=5gMzg@mail.gmail.com>
Message-ID: <FF6AE05F-3123-426A-8B01-A93BF3246B13@gmail.com>

I am interested in GDAL supporting float16 values. My RFC 100 can be viewed here: https://github.com/OSGeo/gdal/issues/10144 .

I have also created a candidate implementation that is available at https://github.com/OSGeo/gdal/pull/11180 .

I am looking for last comments before I will ask for a vote.

-erik



> On Jun 6, 2024, at 11:43, Erik Schnetter <schnetter at gmail.com> wrote:
> 
> I am interested in GDAL supporting float16 values (i.e. IEEE 16-bit
> floating point values) natively. If this suggestion succeeds I will
> most likely be able to provide such an implementation.
> 
> I have prepared a draft RFC for this, available as a pull request at
> <https://github.com/OSGeo/gdal/pull/10146/files>. This spells out
> details of my suggestion. I am looking for comments.
> 
> -erik
> 
> -- 
> Erik Schnetter <schnetter at gmail.com>
> http://www.perimeterinstitute.ca/personal/eschnetter/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241105/ad505b27/attachment.htm>

From even.rouault at spatialys.com  Tue Nov  5 06:06:40 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 5 Nov 2024 15:06:40 +0100
Subject: [gdal-dev] Call for discussion on RFC 100: Adding Float16
 support to GDAL
In-Reply-To: <FF6AE05F-3123-426A-8B01-A93BF3246B13@gmail.com>
References: <CADKQjjdZFyLY+D40YJEjy3iK3QbJRi4SpwwM2ue8DRgd=5gMzg@mail.gmail.com>
 <FF6AE05F-3123-426A-8B01-A93BF3246B13@gmail.com>
Message-ID: <072b1419-047e-4716-b9d6-05b5baba5e07@spatialys.com>


Le 05/11/2024 ? 14:15, Erik Schnetter via gdal-dev a ?crit?:
> I am interested in GDAL supporting float16 values. My RFC 100 can be 
> viewed here: https://github.com/OSGeo/gdal/issues/10144?.

( above link is the issue discussing the need. Actual link to the RFC 
text is at https://github.com/OSGeo/gdal/pull/10146 )

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241105/42beb6a7/attachment.htm>

From howard at hobu.co  Tue Nov  5 06:33:53 2024
From: howard at hobu.co (Howard Butler)
Date: Tue, 5 Nov 2024 08:33:53 -0600
Subject: [gdal-dev] Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
In-Reply-To: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
References: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
Message-ID: <D98AD3A7-AA23-47CC-A29C-7C8E257A71D0@hobu.co>

+1

> On Nov 4, 2024, at 6:28?AM, Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org> wrote:
> 
> Hi,
> 
> I believe RC3 is good to go, so:
> 
> Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
> 
> Starting with my +1
> 
> Even
> 
> -- 
> http://www.spatialys.com
> My software is free, but my time generally not.
> Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev


From sean.gillies at gmail.com  Tue Nov  5 07:16:31 2024
From: sean.gillies at gmail.com (Sean Gillies)
Date: Tue, 5 Nov 2024 08:16:31 -0700
Subject: [gdal-dev] Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
In-Reply-To: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
References: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
Message-ID: <CAOodmJoT4CE9TZ8V47B-6OG6XJUNiDNMP2z9yO4eY8FEK50y9w@mail.gmail.com>

Good to go here:
https://github.com/rasterio/rasterio/actions/runs/11639437093.

+1

On Mon, Nov 4, 2024 at 5:28?AM Even Rouault via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> Hi,
>
> I believe RC3 is good to go, so:
>
> Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
>
> Starting with my +1
>
> Even
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
> Butcher of all kinds of standards, open or closed formats. At the end,
> this is just about bytes.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241105/68b10c90/attachment.htm>

From Reiner.Schlitzer at awi.de  Tue Nov  5 09:48:38 2024
From: Reiner.Schlitzer at awi.de (Reiner Schlitzer)
Date: Tue, 5 Nov 2024 17:48:38 +0000
Subject: [gdal-dev] compiling gdal from source for Windows ARM64 failed
In-Reply-To: <c5bda494-32d2-4b24-a65e-4ff4db1c8e5b@spatialys.com>
References: <8768a21974164e95872ae9dab5779a96@awi.de>
 <c5bda494-32d2-4b24-a65e-4ff4db1c8e5b@spatialys.com>
Message-ID: <8fb26d74cca146d3bf1c9d2bac6411be@awi.de>

Hi Even,
thanks for your help. I have solved my problem and have successfully built the GDAL library for Windows ARM64. The cause was a second CMAKE installation as part of StrawberryPerl, which currently is only available as x64 package. Uninstalling StrawberryPerl and using the CMAKE within Visual Studio solved the problem. Thanks again for your prompt responses.
Best regards,
Reiner

Von: Even Rouault <even.rouault at spatialys.com>
Gesendet: Montag, 4. November 2024 16:49
An: Reiner Schlitzer <Reiner.Schlitzer at awi.de>; gdal-dev at lists.osgeo.org
Betreff: Re: [gdal-dev] compiling gdal from source for Windows ARM64 failed


Reiner,

the error "cpl_cpu_features.cpp(69): error C3861: "CPL_CPUID":"  indicates that the compiler goes into a code path that is protected by a #if defined(HAVE_SSE_AT_COMPILE_TIME).

This HAVE_SSE_AT_COMPILE_TIME macro is set in gdal.cmake when "${CMAKE_SYSTEM_PROCESSOR}" MATCHES "(x86|AMD64)" .

So I believe there's a misconfiguration of your CMake cross compilation. Try adding -DCMAKE_SYSTEM_PROCESSOR=ARM64 perhaps. Although https://cmake.org/cmake/help/latest/variable/CMAKE_SYSTEM_PROCESSOR.html suggest you should likely rather use a proper CMAKE_TOOLCHAIN_FILE to set all variables correctly.

Even

Le 04/11/2024 ? 16:38, Reiner Schlitzer via gdal-dev a ?crit :
Hi,
I am trying to compile the GDAL library for the Windows ARM64 architecture but fail during the build step because of undefined CPL_CPUID in the port\cpl_cpu_features.cpp file. The Windows ARM64 case seems not to be covered in the definition block at the top.
Can you please give advice on how to fix this issue, or can you please get me into contact with people working on creating GDAL binaries for Windows ARM64. If GDAL binaries for Windows ARM64 already exist, please point me to the download location. Thank you very much in advance.
Here are details on what I have done:

  1.  The GDAL source was downloaded from the master branch at https://github.com/OSGeo/GDAL.
  2.  CMAKE configuration command: cmake -DCMAKE_PREFIX_PATH=c:/develop -DBUILD_APPS=OFF -DGDAL_BUILD_OPTIONAL_DRIVERS=OFF -DOGR_BUILD_OPTIONAL_DRIVERS=OFF -DCMAKE_BUILD_TYPE=Release ..
  3.  CMAKE build command: cmake --build .
The output from the config and build steps are attached. Dependencies, such as proj, hdf5, netcdf, sqlite3, expat, openssl, zlib and others had been compiled successfully previously and are accessible at compile time at C:\develop. I am working on a Windows on Arm system with Snapdragon(R) X Elite processor and 32GB of RAM.
Any advice on how to make progress is greatly appreciated. Thanks in advance.

Best regards,
Reiner Schlitzer

------------------------------------------------
Prof. Dr. Reiner Schlitzer
Alfred-Wegener-Institut
Helmholtz-Zentrum f?r Polar- und Meeresforschung
Am Alten Hafen 26
27568 Bremerhaven
GERMANY

e-mail: Reiner.Schlitzer at awi.de<mailto:Reiner.Schlitzer at awi.de>
https://www.awi.de/en/about-us/organisation/staff/single-view/reiner-schlitzer.html




_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev

--

http://www.spatialys.com

My software is free, but my time generally not.

Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241105/05a90c50/attachment-0001.htm>

From even.rouault at spatialys.com  Wed Nov  6 07:03:33 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 6 Nov 2024 16:03:33 +0100
Subject: [gdal-dev] Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
In-Reply-To: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
References: <7d7c52c9-805b-4111-815d-df42cd6e24cc@spatialys.com>
Message-ID: <e2ff029d-9f8b-4000-a52b-d7e2dc065c55@spatialys.com>

Motion passed with +1 from PSC members: JavierJS, JukkaR, HowardB, SeanG 
and me.

Le 04/11/2024 ? 13:28, Even Rouault via gdal-dev a ?crit?:
> Hi,
>
> I believe RC3 is good to go, so:
>
> Motion: approve GDAL 3.10.0 RC3 as 3.10.0 release
>
> Starting with my +1
>
> Even
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From even.rouault at spatialys.com  Wed Nov  6 07:35:20 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 6 Nov 2024 16:35:20 +0100
Subject: [gdal-dev] GDAL 3.10.0 is released
Message-ID: <590df688-c92d-47ed-aa10-03be4afc2e6d@spatialys.com>

Hi,

On behalf of the GDAL/OGR development team and community, I am pleased 
to announce the release of GDAL/OGR 3.10.0. GDAL/OGR is a C++ geospatial 
data access library for raster and vector file formats, databases and 
web services. It includes bindings for several languages, and a variety 
of command line tools.

http://gdal.org/

The 3.10.0 release is a new feature release with the following highlights:

* [RFC 
101](https://gdal.org/en/latest/development/rfc/rfc101_raster_dataset_threadsafety.html): 
Raster dataset read-only thread-safety
* New read/write 
[AVIF](https://gdal.org/en/latest/drivers/raster/avif.html) raster driver
* New read-only 
[SNAP_TIFF](https://gdal.org/en/latest/drivers/raster/snap_tiff.html) 
raster driver for Sentinel Application Processing GeoTIFF files
* New OGR read-only 
[XODR](https://gdal.org/en/latest/drivers/vector/xodr.html) driver for 
OpenDRIVE (#9504)
* Bump of shared lib major version

More complete information on the new features and fixes in the 3.10.0 
release can be found at:

https://github.com/OSGeo/gdal/blob/v3.10.0/NEWS.md

Please also consult the migration guide when updating from prior releases:

https://github.com/OSGeo/gdal/blob/v3.10.0/MIGRATION_GUIDE.TXT

The release can be downloaded from:
 ? * https://download.osgeo.org/gdal/3.10.0/gdal-3.10.0.tar.gz - source 
as .tar.gz
 ? * https://download.osgeo.org/gdal/3.10.0/gdal-3.10.0.tar.gz.md5 - md5sum
 ? * https://download.osgeo.org/gdal/3.10.0/gdal-3.10.0.tar.gz.sig - 
signature
 ? * https://download.osgeo.org/gdal/3.10.0/gdal-3.10.0.tar.xz - source 
as .tar.xz
 ? * https://download.osgeo.org/gdal/3.10.0/gdal-3.10.0.tar.xz.md5 - md5sum
 ? * https://download.osgeo.org/gdal/3.10.0/gdal-3.10.0.tar.xz.sig - 
signature
 ? * https://download.osgeo.org/gdal/3.10.0/gdal3100.zip - source as a zip
 ? * https://download.osgeo.org/gdal/3.10.0/gdal3100.zip.md5 - md5sum
 ? * https://download.osgeo.org/gdal/3.10.0/gdal3100.zip.sig - signature
 ? * https://download.osgeo.org/gdal/3.10.0/gdalautotest-3.10.0.tar.gz - 
test suite
 ? * https://download.osgeo.org/gdal/3.10.0/gdal3100doc.zip - 
documentation / website

Docker images are currently cooking and should be ready in one day or so.

Best regards,

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From nyall.dawson at gmail.com  Wed Nov  6 12:02:34 2024
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 7 Nov 2024 07:02:34 +1100
Subject: [gdal-dev] How to locate where the raster min and max values
 are?
In-Reply-To: <DB9PR09MB6887960088353C9BC00BF6C8FD522@DB9PR09MB6887.eurprd09.prod.outlook.com>
References: <DB9PR09MB688709C9E2EF933987BE0FCDFD542@DB9PR09MB6887.eurprd09.prod.outlook.com>
 <196c8a63-ca06-4079-ac09-74058a65e7b1@spatialys.com>
 <CAB28AsiD9BoTQnd0iQ0xXWt=FLZaqVbthaoBWcRSGbiWataV3Q@mail.gmail.com>
 <DB9PR09MB6887960088353C9BC00BF6C8FD522@DB9PR09MB6887.eurprd09.prod.outlook.com>
Message-ID: <CAB28AsizFYujyUEAj5ag3+tn5ywBw83nNBTwxDvFCwNE6KzMQA@mail.gmail.com>

On Tue, 5 Nov 2024 at 22:09, Rahkonen Jukka <
jukka.rahkonen at maanmittauslaitos.fi> wrote:
>
> Hi,
>
>
>
> Very nice, seems that you both took the challenge very seriously. Now an
advanced use case came into my mind, and it is about finding extreme values
of sensor data within a polygon. Brute force method is to pre-process the
raster and burn nodata into the exterior of the study area with
gdal_rasterize by using the -i (invert) option. Can you suggest something
more clever?
>
>
>
> Right now I am just curious, but I guess that the QGIS Zonal statistics
tool min/max option with additional x and y coordinate fields could make
some users happy, or ?gdal_minmax_location.py? with a -mask option.

Good idea! I've added a corresponding tool in
https://github.com/qgis/QGIS/pull/59358 ?

Nyall

>
>
>
> -Jukka Rahkonen-
>
>
>
> L?hett?j?: Nyall Dawson <nyall.dawson at gmail.com>
> L?hetetty: tiistai 5. marraskuuta 2024 2.51
> Vastaanottaja: Even Rouault <even.rouault at spatialys.com>
> Kopio: Rahkonen Jukka <jukka.rahkonen at maanmittauslaitos.fi>; '
gdal-dev at lists.osgeo.org' (gdal-dev at lists.osgeo.org) <
gdal-dev at lists.osgeo.org>
> Aihe: Re: [gdal-dev] How to locate where the raster min and max values
are?
>
>
>
>
> >
> > I would like to know the georeferenced coordinates of the min and max
values of a DEM file. Even better if I could forward them into a vector
file. If the minimum or maximum happens to be on a flat area like seabed I
would be happy with the first pixel at the moment.
> >
> > The task feels rather simple and I was sure that someone has already
made an utility or a QGIS plugin, but all I have found yet is for R
>
> I've submitted a processing tool for QGIS 3.42 to do this here:
https://github.com/qgis/QGIS/pull/59332 . This uses Even's new GDAL api so
should be super-efficient & fast to calculate. ?
>
>
>
> Thanks for raising this interesting discussion, a lot of nice things have
come out of this!
>
>
>
> Nyall
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/a982e6db/attachment.htm>

From rupestre.campos at gmail.com  Wed Nov  6 13:00:10 2024
From: rupestre.campos at gmail.com (ky)
Date: Wed, 6 Nov 2024 18:00:10 -0300
Subject: [gdal-dev] Slide for OSGeo AGM 2024
In-Reply-To: <a5290d34-893e-41aa-b070-e0eae5861e4f@spatialys.com>
References: <a5290d34-893e-41aa-b070-e0eae5861e4f@spatialys.com>
Message-ID: <CAAvXUUrNkjpiUdYJKdokA_BF-Y6FyakP14mJJ1+2PeG76GMpaA@mail.gmail.com>

Hello,
I will be there presenting a talk during the same day, and if no one more
qualified than me can do it, it would be an honor to help by presenting it.
I would just ask for some guidelines on what to say, to build the core
message you want to share there.

Cain? K. Campos

On Thu, Oct 31, 2024 at 8:19?AM Even Rouault via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> Hi,
>
> we are asked to prepare presentation slide(s) for the OSGeo Annual
> General Meeting (AGM) during FOSS4G on Friday, December 6 2024 at 20:30h
> UTC (https://2024.foss4g.org/en/schedule/).
>
> I've just done one at
>
> https://docs.google.com/presentation/d/1GF2SDBXfEvd3WwvJCVa7ssfLtXnj08w8qF-PUpqwNTg/edit#slide=id.g3fdcab0c8e_22_0
>
> Anything to add?
>
> Will someone be present at Bel?m and willing to present it on behalf of
> the project?
>
> Even
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
> Butcher of all kinds of standards, open or closed formats. At the end,
> this is just about bytes.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241106/92d209e9/attachment.htm>

From even.rouault at spatialys.com  Wed Nov  6 14:32:06 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 6 Nov 2024 23:32:06 +0100
Subject: [gdal-dev] Slide for OSGeo AGM 2024
In-Reply-To: <CAAvXUUrNkjpiUdYJKdokA_BF-Y6FyakP14mJJ1+2PeG76GMpaA@mail.gmail.com>
References: <a5290d34-893e-41aa-b070-e0eae5861e4f@spatialys.com>
 <CAAvXUUrNkjpiUdYJKdokA_BF-Y6FyakP14mJJ1+2PeG76GMpaA@mail.gmail.com>
Message-ID: <ba253828-7ebb-4ff2-a48b-63ae6aa2ba02@spatialys.com>

Hi Cain?,

thanks for proposing yourself! Well, the message is mostly what there is 
on the slide, as the format of the AGM (at least as it used to be) is 
typically one minute per project. Perhaps have some quick words on the 
user survey. We will for sure share some conclusions on this list once 
it's over.

Even

Le 06/11/2024 ? 22:00, ky a ?crit?:
> Hello,
> I will be there presenting a talk during the same day, and if no one 
> more qualified than me can do it, it would be an honor to help by 
> presenting it.
> I would just ask for some guidelines on what to say, to build the core 
> message you want to share there.
>
> Cain? K. Campos
>
> On Thu, Oct 31, 2024 at 8:19?AM Even Rouault via gdal-dev 
> <gdal-dev at lists.osgeo.org> wrote:
>
>     Hi,
>
>     we are asked to prepare presentation slide(s) for the OSGeo Annual
>     General Meeting (AGM) during FOSS4G on Friday, December 6 2024 at
>     20:30h
>     UTC (https://2024.foss4g.org/en/schedule/).
>
>     I've just done one at
>     https://docs.google.com/presentation/d/1GF2SDBXfEvd3WwvJCVa7ssfLtXnj08w8qF-PUpqwNTg/edit#slide=id.g3fdcab0c8e_22_0
>
>     Anything to add?
>
>     Will someone be present at Bel?m and willing to present it on
>     behalf of
>     the project?
>
>     Even
>
>     -- 
>     http://www.spatialys.com
>     My software is free, but my time generally not.
>     Butcher of all kinds of standards, open or closed formats. At the
>     end, this is just about bytes.
>
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org
>     https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241106/328b90b0/attachment.htm>

From a.pau at creaf.cat  Wed Nov  6 23:52:46 2024
From: a.pau at creaf.cat (Abel Pau)
Date: Thu, 7 Nov 2024 07:52:46 +0000
Subject: [gdal-dev] Would it be a good idea have a users list?
Message-ID: <PAXPR07MB77759104CD351793C9002E5EFA5C2@PAXPR07MB7775.eurprd07.prod.outlook.com>

Hi,
I heard and I see that that list it's mostly for dev gdal users.
Would it be a good idea have a users (not developers) list?

It's only a thought, an idea.

Abel Pau Garcia
[https://www.creaf.cat/sites/default/files/logo-creaf-small.jpg]<https://www.creaf.cat/>
GIS developer
a.pau at creaf.uab.cat <mailto:a.pau at creaf.uab.cat>
[https://www.creaf.cat/sites/default/files/cap_0.png]
Let's chat on Teams! <https://teams.microsoft.com/l/chat/0/0?users=a.pau at creaf.uab.cat>
Tel. +34 934814277
[https://www.creaf.cat/sites/default/files/x_30.png]<https://twitter.com/CREAF_ecologia>[https://www.creaf.cat/sites/default/files/linkedin_30.png]<https://www.linkedin.com/company/creaf/>[https://www.creaf.cat/sites/default/files/youtube_30.png]<https://www.youtube.com/c/creafecologia>[https://www.creaf.cat/sites/default/files/instagram_30.png]<https://www.instagram.com/CREAF_ecologia/>
www.creaf.cat <http://www.creaf.cat> | http://blog.creaf.cat
CREAF. Campus UAB. Edifici C. 08193 Bellaterra (Barcelona) <https://www.openstreetmap.org/way/123379060>

Pol?tica de privacitat <https://www.creaf.cat/ca/politica-de-privacitat>
[https://www.creaf.cat/sites/default/files/corner_right_0.png]
Abans d'imprimir aquest missatge electr?nic penseu en el medi ambient.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3afe52d1/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 10974 bytes
Desc: image001.jpg
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3afe52d1/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 154 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3afe52d1/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 3946 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3afe52d1/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 3678 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3afe52d1/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 3646 bytes
Desc: image005.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3afe52d1/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 4056 bytes
Desc: image006.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3afe52d1/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 640 bytes
Desc: image007.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3afe52d1/attachment-0011.png>

From runette at gmail.com  Thu Nov  7 02:14:25 2024
From: runette at gmail.com (Paul Harwood)
Date: Thu, 7 Nov 2024 10:14:25 +0000
Subject: [gdal-dev] Would it be a good idea have a users list?
In-Reply-To: <PAXPR07MB77759104CD351793C9002E5EFA5C2@PAXPR07MB7775.eurprd07.prod.outlook.com>
References: <PAXPR07MB77759104CD351793C9002E5EFA5C2@PAXPR07MB7775.eurprd07.prod.outlook.com>
Message-ID: <CAE8nN5OsJMp-JyJynaq7O61+iQAmVKvWAn8EPC83224ucT18Cg@mail.gmail.com>

My tuppence worth (yes - a Britishism) just as a user and not a stakeholder
...

I would say that the real-life experience is likely to be that no one
knows or agrees what message should be on what list, people will post "on
the wrong list" and be asked to repost, everyone will end up on both lists
anyway and you end up creating an unnecessary (and strangely heated)
discussion about who counts as a developer, especially in a relatively
technical subject area like GDAL.

Personally, I would vote no. It should not be like this but I bet it would
be.

Paul

On Thu, 7 Nov 2024 at 07:53, Abel Pau via gdal-dev <gdal-dev at lists.osgeo.org>
wrote:

> Hi,
>
> I heard and I see that that list it?s mostly for dev gdal users.
>
> Would it be a good idea have a users (not developers) list?
>
>
>
> It?s only a thought, an idea.
>
>
>
> *Abel Pau Garcia*
>
> [image: https://www.creaf.cat/sites/default/files/logo-creaf-small.jpg]
> <https://www.creaf.cat/>
>
> *GIS developer*
>
> *a.pau at creaf.uab.cat* <a.pau at creaf.uab.cat>
>
> [image: https://www.creaf.cat/sites/default/files/cap_0.png]
>
> *Let's chat on Teams!*
> <https://teams.microsoft.com/l/chat/0/0?users=a.pau at creaf.uab.cat>
>
> *Tel. +34 934814277 *
>
> [image: https://www.creaf.cat/sites/default/files/x_30.png]
> <https://twitter.com/CREAF_ecologia>[image:
> https://www.creaf.cat/sites/default/files/linkedin_30.png]
> <https://www.linkedin.com/company/creaf/>[image:
> https://www.creaf.cat/sites/default/files/youtube_30.png]
> <https://www.youtube.com/c/creafecologia>[image:
> https://www.creaf.cat/sites/default/files/instagram_30.png]
> <https://www.instagram.com/CREAF_ecologia/>
> *www.creaf.cat* <http://www.creaf.cat>*| **http://blog.creaf.cat*
> <http://blog.creaf.cat>
>
> CREAF. Campus UAB. Edifici C. 08193 Bellaterra (Barcelona)
> <https://www.openstreetmap.org/way/123379060>
>
> *Pol?tica de privacitat* <https://www.creaf.cat/ca/politica-de-privacitat>
>
> [image: https://www.creaf.cat/sites/default/files/corner_right_0.png]
>
> Abans d'imprimir aquest missatge electr?nic penseu en el medi ambient.
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ed485766/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 10974 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ed485766/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 154 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ed485766/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 3946 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ed485766/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 3678 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ed485766/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 3646 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ed485766/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 4056 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ed485766/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 640 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ed485766/attachment-0011.png>

From acalcutt at techidiots.net  Thu Nov  7 06:07:52 2024
From: acalcutt at techidiots.net (Andrew Calcutt)
Date: Thu, 7 Nov 2024 09:07:52 -0500
Subject: [gdal-dev] lines when combining dems from different sources
In-Reply-To: <CAOvDqe9jaE=P=2TJ-Txj7seYDOTHBck3BuKwLtT=PgktcnQqbQ@mail.gmail.com>
References: <CAOvDqe9jaE=P=2TJ-Txj7seYDOTHBck3BuKwLtT=PgktcnQqbQ@mail.gmail.com>
Message-ID: <CAOvDqe8KDA4FD4+7AJwtmY0hffsrcjzW2VxdJSRbFYfe7PNN8A@mail.gmail.com>

I am trying to take several dem sources and merge them together using VRTs,
then I am using rio rgbify to make terrainrgb tiles The script I am using
looks like
https://github.com/acalcutt/terrain_merged/blob/main/create_terrainrgb.sh

Basically, I am trying to layer 3 sources
-JAXA (full planet but lower quality)
-TINITALY (slightly better quality)
-SWISSALTI (best quality)
Then using the ordering of the filelist into a final VRT to layer them in
the correct order

However when I try this, the layering seems to work, but I end up with lots
of added lines, like this example
https://stackblitz.com/edit/web-platform-wrcpum?file=index.html

Can anyone suggest how I might fix these lines when combining these
different source files? I have tested different resampling methods but it
doesn't seem to be related to that. When I do the sources individually, I
don't have those lines (see this example which is just jaxa
https://stackblitz.com/edit/web-platform-al1zf5?file=index.html )

Note: This relates to a question in one of my own repos that I am looking
into https://github.com/acalcutt/jaxa_AW3D30_to_MBTiles/issues/3 .
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/78bf63f8/attachment.htm>

From tsvibar at gmail.com  Thu Nov  7 06:39:58 2024
From: tsvibar at gmail.com (Micha Silver)
Date: Thu, 7 Nov 2024 16:39:58 +0200
Subject: [gdal-dev] Would it be a good idea have a users list?
In-Reply-To: <CAE8nN5OsJMp-JyJynaq7O61+iQAmVKvWAn8EPC83224ucT18Cg@mail.gmail.com>
References: <PAXPR07MB77759104CD351793C9002E5EFA5C2@PAXPR07MB7775.eurprd07.prod.outlook.com>
 <CAE8nN5OsJMp-JyJynaq7O61+iQAmVKvWAn8EPC83224ucT18Cg@mail.gmail.com>
Message-ID: <4d5ef522-ac7b-4ddc-b3bc-b81c7dd410f0@gmail.com>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ba559805/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 10974 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ba559805/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 154 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ba559805/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 3946 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ba559805/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 3678 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ba559805/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 3646 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ba559805/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 4056 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ba559805/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 640 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/ba559805/attachment-0011.png>

From schnetter at gmail.com  Thu Nov  7 06:39:56 2024
From: schnetter at gmail.com (Erik Schnetter)
Date: Thu, 7 Nov 2024 09:39:56 -0500
Subject: [gdal-dev] Motion: adopt RFC 100: Add support for the float16 data
 type
Message-ID: <57778126-33DB-4F7C-B8BB-A508EED80453@gmail.com>

I move to adopt RFC 100 (adding support for the float16 data type).

The pull request for RFC 100 is here: https://github.com/OSGeo/gdal/pull/10146 .

A candidate implementation is here: https://github.com/OSGeo/gdal/pull/11180 .

I vote +1.

-erik

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/c43ec406/attachment.htm>

From schwehr at gmail.com  Thu Nov  7 10:24:52 2024
From: schwehr at gmail.com (Kurt Schwehr)
Date: Thu, 7 Nov 2024 10:24:52 -0800
Subject: [gdal-dev] Motion: adopt RFC 100: Add support for the float16
 data type
In-Reply-To: <57778126-33DB-4F7C-B8BB-A508EED80453@gmail.com>
References: <57778126-33DB-4F7C-B8BB-A508EED80453@gmail.com>
Message-ID: <CACmBxysPr6T0VSCLoGC-sVAtn4Uejum5fWL_4Zhi1Wij=i+L2Q@mail.gmail.com>

I vote -1 currently as there hasn't been enough discussion. I just added
comments to the RFC PR.

On Thu, Nov 7, 2024 at 6:40?AM Erik Schnetter via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> I move to adopt RFC 100 (adding support for the float16 data type).
>
> The pull request for RFC 100 is here:
> https://github.com/OSGeo/gdal/pull/10146 .
>
> A candidate implementation is here:
> https://github.com/OSGeo/gdal/pull/11180 .
>
> I vote +1.
>
> -erik
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/b2697504/attachment.htm>

From schwehr at gmail.com  Thu Nov  7 10:30:42 2024
From: schwehr at gmail.com (Kurt Schwehr)
Date: Thu, 7 Nov 2024 10:30:42 -0800
Subject: [gdal-dev] Call for discussion on RFC 100: Adding Float16
 support to GDAL
In-Reply-To: <072b1419-047e-4716-b9d6-05b5baba5e07@spatialys.com>
References: <CADKQjjdZFyLY+D40YJEjy3iK3QbJRi4SpwwM2ue8DRgd=5gMzg@mail.gmail.com>
 <FF6AE05F-3123-426A-8B01-A93BF3246B13@gmail.com>
 <072b1419-047e-4716-b9d6-05b5baba5e07@spatialys.com>
Message-ID: <CACmBxyuB3FC02aKvBytbkbQCCoN+gXnDqiXkm5KMjw_1iYb_OQ@mail.gmail.com>

My first pass questions are:

1) For folks compiling with C++23*, can they use std::float16_t
<https://en.cppreference.com/w/cpp/types/floating-point>? Sadly, that's not
me yet as my environment is C++20.

2) For when C++23 is the minimum language version for GDAL, what is the
plan?

(*) https://en.cppreference.com/w/cpp/compiler_support/23


On Tue, Nov 5, 2024 at 6:07?AM Even Rouault via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

>
> Le 05/11/2024 ? 14:15, Erik Schnetter via gdal-dev a ?crit :
>
> I am interested in GDAL supporting float16 values. My RFC 100 can be
> viewed here: https://github.com/OSGeo/gdal/issues/10144 .
>
> ( above link is the issue discussing the need. Actual link to the RFC text
> is at https://github.com/OSGeo/gdal/pull/10146 )
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
> Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/3df33e8c/attachment.htm>

From schwehr at gmail.com  Thu Nov  7 10:33:13 2024
From: schwehr at gmail.com (Kurt Schwehr)
Date: Thu, 7 Nov 2024 10:33:13 -0800
Subject: [gdal-dev] Call for discussion on RFC 100: Adding Float16
 support to GDAL
In-Reply-To: <CACmBxyuB3FC02aKvBytbkbQCCoN+gXnDqiXkm5KMjw_1iYb_OQ@mail.gmail.com>
References: <CADKQjjdZFyLY+D40YJEjy3iK3QbJRi4SpwwM2ue8DRgd=5gMzg@mail.gmail.com>
 <FF6AE05F-3123-426A-8B01-A93BF3246B13@gmail.com>
 <072b1419-047e-4716-b9d6-05b5baba5e07@spatialys.com>
 <CACmBxyuB3FC02aKvBytbkbQCCoN+gXnDqiXkm5KMjw_1iYb_OQ@mail.gmail.com>
Message-ID: <CACmBxyvGDfvZCJmUCuVkuvptLd3RYAbBkFkta4FQgx3KH-5Y4A@mail.gmail.com>

But more importantly...

I should have started with saying thank you Erik for working on this RFC
for GDAL!

On Thu, Nov 7, 2024 at 10:30?AM Kurt Schwehr <schwehr at gmail.com> wrote:

> My first pass questions are:
>
> 1) For folks compiling with C++23*, can they use std::float16_t
> <https://en.cppreference.com/w/cpp/types/floating-point>? Sadly, that's
> not me yet as my environment is C++20.
>
> 2) For when C++23 is the minimum language version for GDAL, what is the
> plan?
>
> (*) https://en.cppreference.com/w/cpp/compiler_support/23
>
>
> On Tue, Nov 5, 2024 at 6:07?AM Even Rouault via gdal-dev <
> gdal-dev at lists.osgeo.org> wrote:
>
>>
>> Le 05/11/2024 ? 14:15, Erik Schnetter via gdal-dev a ?crit :
>>
>> I am interested in GDAL supporting float16 values. My RFC 100 can be
>> viewed here: https://github.com/OSGeo/gdal/issues/10144 .
>>
>> ( above link is the issue discussing the need. Actual link to the RFC
>> text is at https://github.com/OSGeo/gdal/pull/10146 )
>>
>> -- http://www.spatialys.com
>> My software is free, but my time generally not.
>> Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/781affb1/attachment.htm>

From even.rouault at spatialys.com  Thu Nov  7 10:45:22 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 7 Nov 2024 19:45:22 +0100
Subject: [gdal-dev] Call for discussion on RFC 100: Adding Float16
 support to GDAL
In-Reply-To: <CACmBxyuB3FC02aKvBytbkbQCCoN+gXnDqiXkm5KMjw_1iYb_OQ@mail.gmail.com>
References: <CADKQjjdZFyLY+D40YJEjy3iK3QbJRi4SpwwM2ue8DRgd=5gMzg@mail.gmail.com>
 <FF6AE05F-3123-426A-8B01-A93BF3246B13@gmail.com>
 <072b1419-047e-4716-b9d6-05b5baba5e07@spatialys.com>
 <CACmBxyuB3FC02aKvBytbkbQCCoN+gXnDqiXkm5KMjw_1iYb_OQ@mail.gmail.com>
Message-ID: <3f5d8f62-4e2a-4fe5-826a-0f458634485b@spatialys.com>


>
> 1) For folks compiling with C++23*, can they use std::float16_t 
> <https://en.cppreference.com/w/cpp/types/floating-point>? Sadly, 
> that's not me yet as my environment is?C++20.
Letting Erik to comment on this (and also underlying that I'm very 
satisfied with the quality of the big amount work he has put on this. 
Ading a new base data type to GDAL is not for faint hearted) . Although 
I presume that it should just be a matter of typedef'ing std::float16_t 
as GFloat16, or making GFloat16 a thin wrapper of std::float16_t.
>
> 2) For when C++23 is the minimum language version for GDAL, what is 
> the plan?

Clearly not for tomorrow, seeing that a vast majority of items are red 
for MSVC. Assuming they don't drag their feet too much, I'd say 5+ years 
probably. But I'm quite puzzled to see in front of the "Requirements for 
optional extended floating-point types 
<https://en.cppreference.com/w/cpp/types/floating-point>" item, which 
covers std::float16_t that MSVC mentions "N/A" ... Does that mean they 
don't plan at all to implement that part ? Found an inconclusive post at 
https://developercommunity.visualstudio.com/t/Implement-the-C23-Extended-Precision-P/10374212


-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/6237c382/attachment.htm>

From even.rouault at spatialys.com  Thu Nov  7 11:05:40 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 7 Nov 2024 20:05:40 +0100
Subject: [gdal-dev] GDAL 3.10.0 is released
In-Reply-To: <590df688-c92d-47ed-aa10-03be4afc2e6d@spatialys.com>
References: <590df688-c92d-47ed-aa10-03be4afc2e6d@spatialys.com>
Message-ID: <5ba73b0b-6e10-4e8d-a60c-8997fe0eb462@spatialys.com>


>
> Docker images are currently cooking and should be ready in one day or so.

Now ready: 
https://github.com/OSGeo/gdal/tree/master/docker#images-of-releases

For conda-forge builds, they are suspended to solving a technicality. 
You can monitor progress at 
https://github.com/conda-forge/gdal-feedstock/pull/992

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From bdezonia at gmail.com  Thu Nov  7 11:45:55 2024
From: bdezonia at gmail.com (Barry DeZonia)
Date: Thu, 7 Nov 2024 13:45:55 -0600
Subject: [gdal-dev] Advice on deploying components that use GDAL
Message-ID: <CAKcvfuQozjm09GS7yX+LoT8FZkZ8pwhQpGkjYkT5tjVfVBFnhg@mail.gmail.com>

Hey all,

I hope this is the right place for this email. I am a developer that has
written a java component that interfaces with the java bindings and allows
my app users to access gdal data.

The problem I have is that gdal seems to release somewhat often. I wrote my
code initially for 3.7 but later used 3.8 (and abandoned 3.7) due to some
new features present in the java bindings. Since then there have been gdal
releases for 3.9 and 3.10.

How should I release my (java jar) component?  One release version per gdal
release? Then am I forcing a similar fork in all downstream projects that
use my components? It seems so.

Now also imagine my component relies on something else that also has
multiple versions. I could get a combinatorial explosion in the number of
versions of my plugin.

And I also seem to need to make a decision on how to nicely target older
gdals that don't have the new java niceties of 3.8. Many people are using
gdal versions older than 3.8.

This whole topic is making my head spin a little. Any advice?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241107/58828e3f/attachment.htm>

From even.rouault at spatialys.com  Thu Nov  7 12:46:01 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 7 Nov 2024 21:46:01 +0100
Subject: [gdal-dev] Advice on deploying components that use GDAL
In-Reply-To: <CAKcvfuQozjm09GS7yX+LoT8FZkZ8pwhQpGkjYkT5tjVfVBFnhg@mail.gmail.com>
References: <CAKcvfuQozjm09GS7yX+LoT8FZkZ8pwhQpGkjYkT5tjVfVBFnhg@mail.gmail.com>
Message-ID: <79fb5056-086a-476f-9937-be92a91769ed@spatialys.com>

Barry,

I'm not totally sure to have the full picture of what you 
deploy/distribute. I'd assume the main difficulty for the end users of 
your Java component is to get the GDAL native library, and probably even 
more tricky, the libgdaljni.so/dll/dylib. If you assume they have 
managed libgdal itself, then you could distribute gdal.jar + 
libgdaljni.so/dll/dylib (possibly in several CPU architectures depending 
on what you target...) of the minimum GDAL version you want to support 
(in theory you should be able to use libgdal native 3.X against 
gdal.jar/libgdaljni 3.Y if X >= Y as it relies only on the C API which 
we normally guaranteed to be ABI backwards compatible in the 3.x 
series). If you want to support GDAL >= 3.8 and < 3.8, I'm afraid you'll 
have to provide a gdal.jar + libgdaljni combo of let's say GDAL 3.0 (or 
a later release), and another one of 3.8

By the way, I've seen use of Panama 
(https://openjdk.org/projects/panama/) to avoid the need of JNI at all: 
https://github.com/apache/sis/tree/main/optional/src/org.apache.sis.storage.gdal/main/org/apache/sis/storage/panama 
.? So in theory that could makes things simpler (at least you wouldn't 
need the libgdalalljni.so/dll/dylib native code). Haven't tried it / 
can't comment on the appropriateness of that particular code.? Perhaps 
at some point someone will need to reboot the GDAL Java bindings to be a 
Panama project if JNI is abandonned (and that would likely be totally 
disconnected from SWIG. At least 
https://github.com/search?q=repo%3Aswig%2Fswig%20panama&type=code 
doesn't show any sign)

Even

Le 07/11/2024 ? 20:45, Barry DeZonia via gdal-dev a ?crit?:
> Hey all,
>
> I hope this is the right place for this email. I am a developer that 
> has written a java component that interfaces with the java bindings 
> and allows my app users to access gdal data.
>
> The problem I have is that gdal seems to release somewhat often. I 
> wrote my code initially for 3.7 but later used 3.8 (and abandoned 3.7) 
> due to some new features present in the java bindings. Since then 
> there have been gdal releases for 3.9 and 3.10.
>
> How should I release my (java jar) component?? One release version per 
> gdal release? Then am I forcing a similar fork in all downstream 
> projects that use my components? It seems so.
>
> Now also imagine my component relies on something else that also has 
> multiple versions. I could get a combinatorial explosion in the number 
> of versions of my plugin.
>
> And I also seem to need to make a decision on how to nicely target 
> older gdals that don't have the new java niceties of 3.8. Many people 
> are using gdal versions older than 3.8.
>
> This whole topic is making my head spin a little. Any advice?
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From bdezonia at gmail.com  Thu Nov  7 18:39:47 2024
From: bdezonia at gmail.com (Barry DeZonia)
Date: Thu, 7 Nov 2024 20:39:47 -0600
Subject: [gdal-dev] Advice on deploying components that use GDAL
In-Reply-To: <79fb5056-086a-476f-9937-be92a91769ed@spatialys.com>
References: <CAKcvfuQozjm09GS7yX+LoT8FZkZ8pwhQpGkjYkT5tjVfVBFnhg@mail.gmail.com>
 <79fb5056-086a-476f-9937-be92a91769ed@spatialys.com>
Message-ID: <CAKcvfuQ8HyO+sAxKOkvzCH4vdErYg=00pjtxGrtdhz1Ehp6jdw@mail.gmail.com>

Hi Even,

Maybe I should be more clear.

My java project (built with Maven) has this dependency:

<dependency>
  <groupId>org.gdal</groupId>
  <artifactId>gdal</artifactId>
  <version>3.8.0</version>
</dependency>

So if someone has installed gdal 3.8.x (including the java bindings)
my code will work with it. But this seems to imply that if I want to
support 3.4.x I need to change the dependency to 3.4.0.

So maybe I would make my project build 11 jars. The 1st jar would be
myjar-gdal-3-0 which has my code that interacts with gdal via the gdal
java dependency 3.0.0. Similarly I could have myjar-gdal-3-1,
myjar-gdal-3-2, ... and myjar-gdal-3-10. Each with its own gdal
dependency.

Note that I do not share anything with people except a single jar (so
no dylib stuff to bundle along). If some version of gdal 3.x is
installed with the java bindings present then one of my jars should
suffice. Though the developer has to specify exactly which jar version
to use.

Now also consider that my project relies on another 3rd party library
that has 5 versions. If I want to support every combo of gdal and this
3rd party library then it sounds like I'd need to build 55 jars (11
gdal 3.x.0 java jar versions paired with 5 3rd party library
versions). This is rapidly very difficult to do.

Example:

  myjar-gdal-3-2-3rd-party-lib-v1.jar
  myjar-gdal-3-2-3rd-party-lib-v2.jar
  myjar-gdal-3-2-3rd-party-lib-v3.jar
  myjar-gdal-3-2-3rd-party-lib-v4.jar
  myjar-gdal-3-2-3rd-party-lib-v5.jar
  ...
  myjar-gdal-3-5-3rd-party-lib-v1.jar
  ...
  myjar-gdal-3-10-3rd-party-lib-v3.jar
 ...
  etc.

Also I know I am simplifying because occasionally the gdal.jar file
might change more than once during the 3.y.* development during
subrelease y. (I know this because either 3.7.x or 3.8.x had two gdal
jar releases during its dev cycles).

I am really curious how people are solving this kind of problem
without pulling out their hair.


On Thu, Nov 7, 2024 at 2:46?PM Even Rouault <even.rouault at spatialys.com> wrote:
>
> Barry,
>
> I'm not totally sure to have the full picture of what you
> deploy/distribute. I'd assume the main difficulty for the end users of
> your Java component is to get the GDAL native library, and probably even
> more tricky, the libgdaljni.so/dll/dylib. If you assume they have
> managed libgdal itself, then you could distribute gdal.jar +
> libgdaljni.so/dll/dylib (possibly in several CPU architectures depending
> on what you target...) of the minimum GDAL version you want to support
> (in theory you should be able to use libgdal native 3.X against
> gdal.jar/libgdaljni 3.Y if X >= Y as it relies only on the C API which
> we normally guaranteed to be ABI backwards compatible in the 3.x
> series). If you want to support GDAL >= 3.8 and < 3.8, I'm afraid you'll
> have to provide a gdal.jar + libgdaljni combo of let's say GDAL 3.0 (or
> a later release), and another one of 3.8
>
> By the way, I've seen use of Panama
> (https://openjdk.org/projects/panama/) to avoid the need of JNI at all:
> https://github.com/apache/sis/tree/main/optional/src/org.apache.sis.storage.gdal/main/org/apache/sis/storage/panama
> .  So in theory that could makes things simpler (at least you wouldn't
> need the libgdalalljni.so/dll/dylib native code). Haven't tried it /
> can't comment on the appropriateness of that particular code.  Perhaps
> at some point someone will need to reboot the GDAL Java bindings to be a
> Panama project if JNI is abandonned (and that would likely be totally
> disconnected from SWIG. At least
> https://github.com/search?q=repo%3Aswig%2Fswig%20panama&type=code
> doesn't show any sign)
>
> Even
>
> Le 07/11/2024 ? 20:45, Barry DeZonia via gdal-dev a ?crit :
> > Hey all,
> >
> > I hope this is the right place for this email. I am a developer that
> > has written a java component that interfaces with the java bindings
> > and allows my app users to access gdal data.
> >
> > The problem I have is that gdal seems to release somewhat often. I
> > wrote my code initially for 3.7 but later used 3.8 (and abandoned 3.7)
> > due to some new features present in the java bindings. Since then
> > there have been gdal releases for 3.9 and 3.10.
> >
> > How should I release my (java jar) component?  One release version per
> > gdal release? Then am I forcing a similar fork in all downstream
> > projects that use my components? It seems so.
> >
> > Now also imagine my component relies on something else that also has
> > multiple versions. I could get a combinatorial explosion in the number
> > of versions of my plugin.
> >
> > And I also seem to need to make a decision on how to nicely target
> > older gdals that don't have the new java niceties of 3.8. Many people
> > are using gdal versions older than 3.8.
> >
> > This whole topic is making my head spin a little. Any advice?
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
> Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
>

From pradeep.cabs at gov.in  Thu Nov  7 20:53:29 2024
From: pradeep.cabs at gov.in (Pradeep Mahato)
Date: Fri, 8 Nov 2024 10:23:29 +0530 (IST)
Subject: [gdal-dev] GPU support for GDAL
Message-ID: <10854556.4389652.1731041609109@gov.in>

HI, 
This is my project requirement to use GPU for pyramid layer generation. I have through for some solution 
1. Using GDAL with GPU support => Not possible 
2. Used cuda based library to generate the different layers of pyramid and then stack it and make one ".ovr" as GDAL gives 

In second approach i am facing issue in stacking and making it as one ".ovr" file. So Pls help me in this regard. 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/b671cd63/attachment.htm>

From j1 at jimenezshaw.com  Thu Nov  7 23:33:16 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 8 Nov 2024 08:33:16 +0100
Subject: [gdal-dev] GPU support for GDAL
In-Reply-To: <10854556.4389652.1731041609109@gov.in>
References: <10854556.4389652.1731041609109@gov.in>
Message-ID: <CADRrdKua33wvCUTQ8z7WE3oE_gJQrVHrYVthaHZGOw987DBqcg@mail.gmail.com>

Some time ago I did stack the pyramids writing one level per file, naming
them .ovr, .ovr.ovr, .ovr.ovr.ovr and so on.
I don't know if it would still work

On Fri, 8 Nov 2024, 05:53 Pradeep Mahato via gdal-dev, <
gdal-dev at lists.osgeo.org> wrote:

> HI,
>    This is my project requirement to use GPU for pyramid layer generation.
> I have through for some solution
> 1. Using GDAL with GPU support => Not possible
> 2. Used cuda based library to generate the different layers of pyramid and
> then stack it and make one ".ovr" as GDAL gives
>
> In second approach i am facing issue in stacking and making it as one
> ".ovr" file. So Pls help me in this regard.
>
>
> <https://amritmahotsav.nic.in/>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/4554fbd2/attachment.htm>

From bradh at frogmouth.net  Fri Nov  8 00:50:04 2024
From: bradh at frogmouth.net (Brad Hards)
Date: Fri, 08 Nov 2024 19:50:04 +1100
Subject: [gdal-dev] Advice on deploying components that use GDAL
In-Reply-To: <CAKcvfuQ8HyO+sAxKOkvzCH4vdErYg=00pjtxGrtdhz1Ehp6jdw@mail.gmail.com>
References: <CAKcvfuQozjm09GS7yX+LoT8FZkZ8pwhQpGkjYkT5tjVfVBFnhg@mail.gmail.com>
 <79fb5056-086a-476f-9937-be92a91769ed@spatialys.com>
 <CAKcvfuQ8HyO+sAxKOkvzCH4vdErYg=00pjtxGrtdhz1Ehp6jdw@mail.gmail.com>
Message-ID: <4608027.LvFx2qVVIh@audax>

On Friday, 8 November 2024 1:39:47 PM AEDT Barry DeZonia via gdal-dev wrote:
> I am really curious how people are solving this kind of problem
> without pulling out their hair.

What is the minimum version of GDAL you actually need? 

I would suggest to just specify  that as your dependency, and allow consumers 
to override the maven dependency if they need to.

Brad




From gdt at lexort.com  Fri Nov  8 05:08:14 2024
From: gdt at lexort.com (Greg Troxel)
Date: Fri, 08 Nov 2024 08:08:14 -0500
Subject: [gdal-dev] GPU support for GDAL
In-Reply-To: <10854556.4389652.1731041609109@gov.in> (Pradeep Mahato via
 gdal-dev's message of "Fri, 8 Nov 2024 10:23:29 +0530 (IST)")
References: <10854556.4389652.1731041609109@gov.in>
Message-ID: <rmifro1an5t.fsf@s1.lexort.com>

Pradeep Mahato via gdal-dev <gdal-dev at lists.osgeo.org> writes:

> In second approach i am facing issue in stacking and making it as one
> ".ovr" file. So Pls help me in this regard.

If you are going to ask for help, you should have your goals and
software design in writing, and publish them.  Before doing that, you
should have it reviewed by others in your organization.  Your message
comes across as "I did something (but I'm not actually explaining what I
did), and I didn't get what I wanted (but I'm not telling you what I
wanted), so please do this for me".  Overall, it sounds like you need a
consultant.

From howard at hobu.co  Fri Nov  8 08:01:30 2024
From: howard at hobu.co (Howard Butler)
Date: Fri, 8 Nov 2024 10:01:30 -0600
Subject: [gdal-dev] Fwd:  Would it be a good idea have a users list?
References: <4d5ef522-ac7b-4ddc-b3bc-b81c7dd410f0@gmail.com>
Message-ID: <FE99D328-2ADB-4331-9BAD-FE6723C8B348@hobu.co>

The questions about the gdal-dev list is purposefully on the GDAL Users Survey [1] (please fill one out) so we can learn more about preferences and habits of the community on this topic.

The challenge of where the community convenes is a difficult one because it requires balancing a number of things. The type preference of users (forums, mailing lists, async chat, stackoverflow etc), the habits of lurkers, and most importantly, where people actually provide information, all factor into which venue should be the "primary" one. It is not surprising that GDAL's primary venue is a mailing list due to it being a 26 year old software library which evolved its community during the time of mailing lists. That time is maybe past, but habits are hard to break. 

IMO we definitely shouldn't split the list apart into -users vs -dev, however. There isn't a big enough contributor community to warrant it.

Howard

[1] https://docs.google.com/forms/d/e/1FAIpQLSdMXygtDb5M0Ov0KK0u2wKkev1rMqAjRdTlwMeCl7Z1TGJTLw/viewform

> Begin forwarded message:
> 
> From: Micha Silver via gdal-dev <gdal-dev at lists.osgeo.org>
> Subject: Re: [gdal-dev] Would it be a good idea have a users list?
> Date: November 7, 2024 at 8:39:58?AM CST
> To: Paul Harwood <runette at gmail.com>, "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Reply-To: Micha Silver <tsvibar at gmail.com>
> 
> I would switch to a user's list in "two shakes of a lamb's tail" (I'm not British). The topics discussed in gdal-dev are mostly above my head. And the questions I have don't really fit here. A user's list would probably be a benefit for me.
> As you're aware, many open source projects maintain both. There would be some confusion at first, probably, but based on those other projects, people would settle in to the right place quickly. The key question is who would maintain it, and who would answer user's questions? (Even has his plate quite full as it is).
> 
> 
> On 07/11/2024 12:14, Paul Harwood via gdal-dev wrote:
>> My tuppence worth (yes - a Britishism) just as a user and not a stakeholder ...
>> 
>> I would say that the real-life experience is likely to be that no one knows or agrees what message should be on what list, people will post "on the wrong list" and be asked to repost, everyone will end up on both lists anyway and you end up creating an unnecessary (and strangely heated) discussion about who counts as a developer, especially in a relatively technical subject area like GDAL.
>> 
>> Personally, I would vote no. It should not be like this but I bet it would be.
>> 
>> Paul
>> 
>> On Thu, 7 Nov 2024 at 07:53, Abel Pau via gdal-dev <gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>> wrote:
>>> Hi,
>>> I heard and I see that that list it?s mostly for dev gdal users.
>>> Would it be a good idea have a users (not developers) list?
>>>  
>>> It?s only a thought, an idea.
>>>  
>>> Abel Pau Garcia <>	
>>>  <https://www.creaf.cat/>?
>>> GIS developer <>
>>> a.pau at creaf.uab.cat <mailto:a.pau at creaf.uab.cat>	
?
>>> Let's chat on Teams! <https://teams.microsoft.com/l/chat/0/0?users=a.pau at creaf.uab.cat>
>>> Tel. +34 934814277
>>> 
>>>  <https://twitter.com/CREAF_ecologia>? <https://www.linkedin.com/company/creaf/>? <https://www.youtube.com/c/creafecologia>? <https://www.instagram.com/CREAF_ecologia/>?
>>> www.creaf.cat? <http://www.creaf.cat/>| http://blog.creaf.cat <http://blog.creaf.cat/>
>>> CREAF. Campus UAB. Edifici C. 08193 Bellaterra (Barcelona)? <https://www.openstreetmap.org/way/123379060>
>>> 
>>> Pol?tica de privacitat <https://www.creaf.cat/ca/politica-de-privacitat>	
?
>>> Abans d'imprimir aquest missatge electr?nic penseu en el medi ambient. <>
>>>  
>>>  
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> -- 
> Micha Silver
> Ben Gurion Univ.
> Sde Boker, Remote Sensing Lab
> cell: +972-523-665918
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/cc349584/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 10974 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/cc349584/attachment-0001.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 154 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/cc349584/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 3946 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/cc349584/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 3678 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/cc349584/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 3646 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/cc349584/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 4056 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/cc349584/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 640 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/cc349584/attachment-0011.png>

From bdezonia at gmail.com  Fri Nov  8 09:59:17 2024
From: bdezonia at gmail.com (Barry DeZonia)
Date: Fri, 8 Nov 2024 11:59:17 -0600
Subject: [gdal-dev] Advice on deploying components that use GDAL
In-Reply-To: <4608027.LvFx2qVVIh@audax>
References: <CAKcvfuQozjm09GS7yX+LoT8FZkZ8pwhQpGkjYkT5tjVfVBFnhg@mail.gmail.com>
 <79fb5056-086a-476f-9937-be92a91769ed@spatialys.com>
 <CAKcvfuQ8HyO+sAxKOkvzCH4vdErYg=00pjtxGrtdhz1Ehp6jdw@mail.gmail.com>
 <4608027.LvFx2qVVIh@audax>
Message-ID: <CAKcvfuS84FyR+Kdk_t_f68GuWmvUP2uT7UkM39qG6O8Ctxcfyw@mail.gmail.com>

If (totally fake example) I set the dependency in my jar to gdal 3.0.0 and
I only make calls within the 3.0.0 java bindings api in my code, then if
someone has gdal 3.7.x installed, will my code be able to interact with the
installed gdal?

On Fri, Nov 8, 2024 at 2:50?AM Brad Hards <bradh at frogmouth.net> wrote:

> On Friday, 8 November 2024 1:39:47 PM AEDT Barry DeZonia via gdal-dev
> wrote:
> > I am really curious how people are solving this kind of problem
> > without pulling out their hair.
>
> What is the minimum version of GDAL you actually need?
>
> I would suggest to just specify  that as your dependency, and allow
> consumers
> to override the maven dependency if they need to.
>
> Brad
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241108/3e33e074/attachment.htm>

From bradh at frogmouth.net  Fri Nov  8 16:46:13 2024
From: bradh at frogmouth.net (Brad Hards)
Date: Sat, 09 Nov 2024 11:46:13 +1100
Subject: [gdal-dev] Advice on deploying components that use GDAL
In-Reply-To: <CAKcvfuS84FyR+Kdk_t_f68GuWmvUP2uT7UkM39qG6O8Ctxcfyw@mail.gmail.com>
References: <CAKcvfuQozjm09GS7yX+LoT8FZkZ8pwhQpGkjYkT5tjVfVBFnhg@mail.gmail.com>
 <4608027.LvFx2qVVIh@audax>
 <CAKcvfuS84FyR+Kdk_t_f68GuWmvUP2uT7UkM39qG6O8Ctxcfyw@mail.gmail.com>
Message-ID: <2962667.e9J7NaK4W3@audax>

On Saturday, 9 November 2024 4:59:17 AM AEDT Barry DeZonia wrote:
> If (totally fake example) I set the dependency in my jar to gdal 3.0.0 and
> I only make calls within the 3.0.0 java bindings api in my code, then if
> someone has gdal 3.7.x installed, will my code be able to interact with the
> installed gdal?

Possibly I didn't explain this very well.

There are at least four moving parts:
 - the end application
 - your code (which I'll call zorbage for this explanation, even though that is a 
generalisation)
 - the GDAL java bindings
 - the installed version of GDAL (the native libraries).

Your options are to specify the GDAL java bindings (or not), and to try to influence the 
other parts. 

Since zorbage isn't providing the native libraries, what you put in your maven 
dependencies makes no difference as to whether anything you do works or not.
It might not even be installed.

If you specify a version of the java bindings, they'll be added as a dependency by default. 
You can choose whether to bundle them, or assume its provided.

The key is that the end-application can override the version of the java bindings. 

<dependencyManagement>
  <dependencies>
    <dependency>
      <groupId>io.github.bdezonia</groupId>
      <artifactId>zorbage-gdal</artifactId>
      <version>0.2.1</version>
    </dependency>
    <dependency>
      <groupId>org.gdal</groupId>
      <artifactId>gdal</artifactId>
      <version>3.10.0</version>
    </dependency>
  </dependencies>
</dependencyManagement>

Brad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241109/f5895b12/attachment.htm>

From jan.heckman at gmail.com  Sun Nov 10 00:58:01 2024
From: jan.heckman at gmail.com (Jan Heckman)
Date: Sun, 10 Nov 2024 09:58:01 +0100
Subject: [gdal-dev] Request for advice in unexpected slowdown working with
 LVBAG
Message-ID: <CAKMUAtC49Qnyant1BQubn_f_tBFtO83RmnfJx97om2yzUoRLGQ@mail.gmail.com>

My c++ utility-app collects Kadaster BAG data in postgresql tables for use
in "populatie service".
It has functioned for several years, with a typical runtime of 40 minutes.
In the process of rounding this off, I updated the gdal binaries from 3.03
to 3.53, as well as added some threaded workloads for analyzing the tables.
Confusingly, the runtime went up to 4 hours and more. This is after the
download, so internet speed has no role here. It's all local, no network
and my PC has not degraded. I have tried to reconstruct an older setup, but
failed to get it back up to speed.
Profiling and random breaks during waiting point conclusively to the
function getting features from a layer.
LVBAG processes lots of xml of a specific (but not highly particular)
structure.
My app is compiled, if so indicated, against expat. Xerces is also a
required dll.
So my first idea was that there might be a serious performance difference
between xml libs, but without direct evidence.
I am using gdal windows binaries from Gisinternals.
All suggestions are welcome!
Thanks in advance,
Jan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241110/c08466c7/attachment.htm>

From even.rouault at spatialys.com  Sun Nov 10 04:33:38 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 10 Nov 2024 13:33:38 +0100
Subject: [gdal-dev] Request for advice in unexpected slowdown working
 with LVBAG
In-Reply-To: <CAKMUAtC49Qnyant1BQubn_f_tBFtO83RmnfJx97om2yzUoRLGQ@mail.gmail.com>
References: <CAKMUAtC49Qnyant1BQubn_f_tBFtO83RmnfJx97om2yzUoRLGQ@mail.gmail.com>
Message-ID: <e281b719-944f-4963-a820-9c17c5fadf3e@spatialys.com>

Jan,

What are those 3.03 and 3.53 versions ? They don't match GDAL official 
version numbers. I thought you meant 3.0.3 and 3.5.3, but the LVBAG 
driver is new to 3.2.0, so that can't be it.? Xerces is *not* a required 
DLL for that driver. It uses Expat. Do you use the 
AUTOCORRECT_INVALID_DATA=YES open option? If so, the difference could 
come from the GEOS version

Even

Le 10/11/2024 ? 09:58, Jan Heckman via gdal-dev a ?crit?:
> My c++ utility-app collects Kadaster BAG data in postgresql tables for 
> use in "populatie service".
> It has functioned for several years, with a typical runtime of 40 minutes.
> In the process of rounding this off, I updated the gdal binaries from 
> 3.03 to 3.53, as well as added some threaded workloads for analyzing 
> the tables.
> Confusingly, the runtime went up to 4 hours and more. This is after 
> the download, so internet speed has no role here. It's all local, no 
> network and my PC has not degraded. I have tried to reconstruct an 
> older setup, but failed to get it back up to speed.
> Profiling and random breaks during waiting point conclusively to the 
> function getting features from a layer.
> LVBAG processes lots of xml of a specific (but not highly particular) 
> structure.
> My app is compiled, if so indicated, against expat. Xerces is also a 
> required dll.
> So my first idea was that there might be a serious performance 
> difference between xml libs, but without direct evidence.
> I am using gdal windows binaries from Gisinternals.
> All suggestions are welcome!
> Thanks in advance,
> Jan
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From even.rouault at spatialys.com  Sun Nov 10 05:54:19 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 10 Nov 2024 14:54:19 +0100
Subject: [gdal-dev] Request for advice in unexpected slowdown working
 with LVBAG
In-Reply-To: <e281b719-944f-4963-a820-9c17c5fadf3e@spatialys.com>
References: <CAKMUAtC49Qnyant1BQubn_f_tBFtO83RmnfJx97om2yzUoRLGQ@mail.gmail.com>
 <e281b719-944f-4963-a820-9c17c5fadf3e@spatialys.com>
Message-ID: <73931c94-84f7-4657-ad40-03a25deef35d@spatialys.com>

Actually, you might have meant 3.0.3 and 3.5.3. When using 3.0.3, LVBAG 
files are read through the generic GML driver. When using 3.5.3, they 
are read with the new LVBAG driver 
(https://gdal.org/en/latest/drivers/vector/lvbag.html). When reviewing 
it, I saw that it ran a IsValid() check, even if 
AUTOCORRECT_INVALID_DATA is not set, which bears some cost. I've 
submitted an enhancement in https://github.com/OSGeo/gdal/pull/11234 to 
avoid doing that check when not requested.? You can still use the 
generic GML driver by setting the OGR_SKIP=LVBAG environment 
variable/configuration option. But the LVBAG driver should better 
preserve information.

Le 10/11/2024 ? 13:33, Even Rouault via gdal-dev a ?crit?:
> Jan,
>
> What are those 3.03 and 3.53 versions ? They don't match GDAL official 
> version numbers. I thought you meant 3.0.3 and 3.5.3, but the LVBAG 
> driver is new to 3.2.0, so that can't be it.? Xerces is *not* a 
> required DLL for that driver. It uses Expat. Do you use the 
> AUTOCORRECT_INVALID_DATA=YES open option? If so, the difference could 
> come from the GEOS version
>
> Even
>
> Le 10/11/2024 ? 09:58, Jan Heckman via gdal-dev a ?crit?:
>> My c++ utility-app collects Kadaster BAG data in postgresql tables 
>> for use in "populatie service".
>> It has functioned for several years, with a typical runtime of 40 
>> minutes.
>> In the process of rounding this off, I updated the gdal binaries from 
>> 3.03 to 3.53, as well as added some threaded workloads for analyzing 
>> the tables.
>> Confusingly, the runtime went up to 4 hours and more. This is after 
>> the download, so internet speed has no role here. It's all local, no 
>> network and my PC has not degraded. I have tried to reconstruct an 
>> older setup, but failed to get it back up to speed.
>> Profiling and random breaks during waiting point conclusively to the 
>> function getting features from a layer.
>> LVBAG processes lots of xml of a specific (but not highly particular) 
>> structure.
>> My app is compiled, if so indicated, against expat. Xerces is also a 
>> required dll.
>> So my first idea was that there might be a serious performance 
>> difference between xml libs, but without direct evidence.
>> I am using gdal windows binaries from Gisinternals.
>> All suggestions are welcome!
>> Thanks in advance,
>> Jan
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From j1 at jimenezshaw.com  Sun Nov 10 07:21:22 2024
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Sun, 10 Nov 2024 16:21:22 +0100
Subject: [gdal-dev] conda failing tests in master
Message-ID: <CADRrdKsuNOPpfSDW9U09opTOYuAuz0d9R0TVbS++B4ibdks45Q@mail.gmail.com>

Just FYI

I just rebased my master from upstream, and there are failing tests in conda
https://github.com/jjimenezshaw/gdal/actions/runs/11765891451/job/32772764349

Cheers,
Javier.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241110/4e5dd97f/attachment.htm>

From even.rouault at spatialys.com  Sun Nov 10 07:42:28 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 10 Nov 2024 16:42:28 +0100
Subject: [gdal-dev] conda failing tests in master
In-Reply-To: <CADRrdKsuNOPpfSDW9U09opTOYuAuz0d9R0TVbS++B4ibdks45Q@mail.gmail.com>
References: <CADRrdKsuNOPpfSDW9U09opTOYuAuz0d9R0TVbS++B4ibdks45Q@mail.gmail.com>
Message-ID: <9b555da0-aa6b-4600-a043-ff83579421fa@spatialys.com>


Le 10/11/2024 ? 16:21, Javier Jimenez Shaw via gdal-dev a ?crit?:
> Just FYI
>
> I just rebased my master from upstream, and there are failing tests in 
> conda
> https://github.com/jjimenezshaw/gdal/actions/runs/11765891451/job/32772764349
yes, this is the same issue as what is blocking the conda-forge 3.10 
release (cf 
https://lists.osgeo.org/pipermail/gdal-dev/2024-November/059783.html / 
https://github.com/conda-forge/gdal-feedstock/pull/992)
>
> Cheers,
> Javier.
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From variablestarlight at gmail.com  Mon Nov 11 03:37:21 2024
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=C3=A1n_De_Angelis?=)
Date: Mon, 11 Nov 2024 12:37:21 +0100
Subject: [gdal-dev] GDAL, HDF4 and MODIS L1B data
Message-ID: <4ce5fc49-f280-479c-a9cc-d0235aa15a08@gmail.com>

I recently compiled a minimal GDAL (3.10) with HDF4 support (using HDF 
4.3.0) for processing MODIS L1B data. However, the resulting command 
line tools cannot understand the format. Perhaps I am doing something 
wrong, or missing something important, or both.

Do I understand correctly that MODIS L1B in HDF-EOS format should be 
readable by GDAL compiled with HDF4 support without additional libraries?

Thanks for any hint.

Hern?n



Workflow:

Build HDF4 (4.3.0)

./configure --prefix=/home/hernan/project --disable-netcdf 
--disable-fortran --enable-shared --disable-static
make
make install


Build GDAL (3.10) with HDF4 support
ccmake , make, ... etc

/home/hernan/project/bin/gdal-config --formats
MEM vrt HDF4 MEM



Test

/home/hernan/project/bin/gdalinfo 
MOD02QKM.A2024307.1325.061.2024308012941.hdf
ERROR 4: `MOD02QKM.A2024307.1325.061.2024308012941.hdf' not recognized 
as being in a supported file format.
gdalinfo failed - unable to open 
'MOD02QKM.A2024307.1325.061.2024308012941.hdf'.



Testdata if someone wants to try (warning: 150 Mb!):
https://www.geonatura.se/lastkaj/index.php/s/TCS35pjANsEtSyV
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241111/d988efd0/attachment.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Nov 11 03:45:55 2024
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 11 Nov 2024 11:45:55 +0000
Subject: [gdal-dev] GDAL, HDF4 and MODIS L1B data
In-Reply-To: <4ce5fc49-f280-479c-a9cc-d0235aa15a08@gmail.com>
References: <4ce5fc49-f280-479c-a9cc-d0235aa15a08@gmail.com>
Message-ID: <DB9PR09MB68870E3F27686052DDC76AB3FD582@DB9PR09MB6887.eurprd09.prod.outlook.com>

Hi,

Have you checked with gdalinfo if you have managed to build the HDF4 driver?
gdalinfo --format hdf4

Your test file opens for me with GDAL from OSGeo4W.

-Jukka Rahkonen-

L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Hern?n De Angelis via gdal-dev
L?hetetty: maanantai 11. marraskuuta 2024 13.37
Vastaanottaja: gdal-dev at lists.osgeo.org
Aihe: [gdal-dev] GDAL, HDF4 and MODIS L1B data

I recently compiled a minimal GDAL (3.10) with HDF4 support (using HDF 4.3.0) for processing MODIS L1B data. However, the resulting command line tools cannot understand the format. Perhaps I am doing something wrong, or missing something important, or both.

Do I understand correctly that MODIS L1B in HDF-EOS format should be readable by GDAL compiled with HDF4 support without additional libraries?

Thanks for any hint.

Hern?n



Workflow:

Build HDF4 (4.3.0)

./configure --prefix=/home/hernan/project --disable-netcdf --disable-fortran --enable-shared --disable-static
make
make install


Build GDAL (3.10) with HDF4 support
ccmake , make, ... etc

/home/hernan/project/bin/gdal-config --formats
MEM vrt HDF4 MEM



Test

/home/hernan/project/bin/gdalinfo MOD02QKM.A2024307.1325.061.2024308012941.hdf
ERROR 4: `MOD02QKM.A2024307.1325.061.2024308012941.hdf' not recognized as being in a supported file format.
gdalinfo failed - unable to open 'MOD02QKM.A2024307.1325.061.2024308012941.hdf'.



Testdata if someone wants to try (warning: 150 Mb!):
https://www.geonatura.se/lastkaj/index.php/s/TCS35pjANsEtSyV
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241111/867ffb44/attachment.htm>

From variablestarlight at gmail.com  Mon Nov 11 04:04:07 2024
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=C3=A1n_De_Angelis?=)
Date: Mon, 11 Nov 2024 13:04:07 +0100
Subject: [gdal-dev] GDAL, HDF4 and MODIS L1B data
In-Reply-To: <DB9PR09MB68870E3F27686052DDC76AB3FD582@DB9PR09MB6887.eurprd09.prod.outlook.com>
References: <4ce5fc49-f280-479c-a9cc-d0235aa15a08@gmail.com>
 <DB9PR09MB68870E3F27686052DDC76AB3FD582@DB9PR09MB6887.eurprd09.prod.outlook.com>
Message-ID: <1dc90d79-858b-486f-a518-cf8b34041959@gmail.com>

Thank you for your response, Jukka.

That is interesting. I set cmake to build hdf4, cmake sees it and it 
does not throw errors during the build. In fact, I see:

[ 38%] Built target gdal_HDF4

but the command you gave gives not HDF4

gdalinfo --format hdf4

(should be "formats" instead?)
gdalinfo --formats hdf4

this retrieves a long list, but no HDF5:

gdalinfo --formats | grep hdf
 ? HDF5 -raster,multidimensional raster- (rovs): Hierarchical Data 
Format Release 5 (*.h5, *.hdf5)

on the other hand
gdal-config --formats

gives:

gdal-config --formats
MEM vrt HDF4 MEM

So it should be there?

This is confusing. Will keep looking.

Thank you for your time, Jukka!

Hern?n


Den 2024-11-11 kl. 12:45, skrev Rahkonen Jukka:
>
> Hi,
>
> Have you checked with gdalinfo if you have managed to build the HDF4 
> driver?
>
> gdalinfo --format hdf4
>
> Your test file opens for me with GDAL from OSGeo4W.
>
> -Jukka Rahkonen-
>
> *L?hett?j?:* gdal-dev <gdal-dev-bounces at lists.osgeo.org> *Puolesta 
> *Hern?n De Angelis via gdal-dev
> *L?hetetty:* maanantai 11. marraskuuta 2024 13.37
> *Vastaanottaja:* gdal-dev at lists.osgeo.org
> *Aihe:* [gdal-dev] GDAL, HDF4 and MODIS L1B data
>
> I recently compiled a minimal GDAL (3.10) with HDF4 support (using HDF 
> 4.3.0) for processing MODIS L1B data. However, the resulting command 
> line tools cannot understand the format. Perhaps I am doing something 
> wrong, or missing something important, or both.
>
> Do I understand correctly that MODIS L1B in HDF-EOS format should be 
> readable by GDAL compiled with HDF4 support without additional libraries?
>
> Thanks for any hint.
>
> Hern?n
>
>
>
> Workflow:
>
> Build HDF4 (4.3.0)
>
> ./configure --prefix=/home/hernan/project --disable-netcdf 
> --disable-fortran --enable-shared --disable-static
> make
> make install
>
>
> Build GDAL (3.10) with HDF4 support
> ccmake , make, ... etc
>
> /home/hernan/project/bin/gdal-config --formats
> MEM vrt HDF4 MEM
>
>
>
> Test
>
> /home/hernan/project/bin/gdalinfo 
> MOD02QKM.A2024307.1325.061.2024308012941.hdf
> ERROR 4: `MOD02QKM.A2024307.1325.061.2024308012941.hdf' not recognized 
> as being in a supported file format.
> gdalinfo failed - unable to open 
> 'MOD02QKM.A2024307.1325.061.2024308012941.hdf'.
>
>
>
> Testdata if someone wants to try (warning: 150 Mb!):
> https://www.geonatura.se/lastkaj/index.php/s/TCS35pjANsEtSyV
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241111/070c9494/attachment-0001.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Nov 11 04:14:58 2024
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 11 Nov 2024 12:14:58 +0000
Subject: [gdal-dev] GDAL, HDF4 and MODIS L1B data
In-Reply-To: <1dc90d79-858b-486f-a518-cf8b34041959@gmail.com>
References: <4ce5fc49-f280-479c-a9cc-d0235aa15a08@gmail.com>
 <DB9PR09MB68870E3F27686052DDC76AB3FD582@DB9PR09MB6887.eurprd09.prod.outlook.com>
 <1dc90d79-858b-486f-a518-cf8b34041959@gmail.com>
Message-ID: <DB9PR09MB6887462CB88C9DFF2E216970FD582@DB9PR09MB6887.eurprd09.prod.outlook.com>

Hi,

I can't help you with building GDAL but I can show where to learn the difference between --formats and --format: https://gdal.org/en/latest/programs/raster_common_options.html#raster-common-options

-Jukka Rahkonen-

L?hett?j?: Hern?n De Angelis <variablestarlight at gmail.com>
L?hetetty: maanantai 11. marraskuuta 2024 14.04
Vastaanottaja: Rahkonen Jukka <jukka.rahkonen at maanmittauslaitos.fi>; gdal-dev at lists.osgeo.org
Aihe: Re: [gdal-dev] GDAL, HDF4 and MODIS L1B data

Thank you for your response, Jukka.

That is interesting. I set cmake to build hdf4, cmake sees it and it does not throw errors during the build. In fact, I see:

[ 38%] Built target gdal_HDF4

but the command you gave gives not HDF4

gdalinfo --format hdf4

(should be "formats" instead?)
gdalinfo --formats hdf4

this retrieves a long list, but no HDF5:

gdalinfo --formats | grep hdf
  HDF5 -raster,multidimensional raster- (rovs): Hierarchical Data Format Release 5 (*.h5, *.hdf5)

on the other hand
gdal-config --formats

gives:

gdal-config --formats
MEM vrt HDF4 MEM

So it should be there?

This is confusing. Will keep looking.

Thank you for your time, Jukka!

Hern?n

Den 2024-11-11 kl. 12:45, skrev Rahkonen Jukka:
Hi,

Have you checked with gdalinfo if you have managed to build the HDF4 driver?
gdalinfo --format hdf4

Your test file opens for me with GDAL from OSGeo4W.

-Jukka Rahkonen-

L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org><mailto:gdal-dev-bounces at lists.osgeo.org> Puolesta Hern?n De Angelis via gdal-dev
L?hetetty: maanantai 11. marraskuuta 2024 13.37
Vastaanottaja: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] GDAL, HDF4 and MODIS L1B data

I recently compiled a minimal GDAL (3.10) with HDF4 support (using HDF 4.3.0) for processing MODIS L1B data. However, the resulting command line tools cannot understand the format. Perhaps I am doing something wrong, or missing something important, or both.

Do I understand correctly that MODIS L1B in HDF-EOS format should be readable by GDAL compiled with HDF4 support without additional libraries?

Thanks for any hint.

Hern?n



Workflow:

Build HDF4 (4.3.0)

./configure --prefix=/home/hernan/project --disable-netcdf --disable-fortran --enable-shared --disable-static
make
make install


Build GDAL (3.10) with HDF4 support
ccmake , make, ... etc

/home/hernan/project/bin/gdal-config --formats
MEM vrt HDF4 MEM



Test

/home/hernan/project/bin/gdalinfo MOD02QKM.A2024307.1325.061.2024308012941.hdf
ERROR 4: `MOD02QKM.A2024307.1325.061.2024308012941.hdf' not recognized as being in a supported file format.
gdalinfo failed - unable to open 'MOD02QKM.A2024307.1325.061.2024308012941.hdf'.



Testdata if someone wants to try (warning: 150 Mb!):
https://www.geonatura.se/lastkaj/index.php/s/TCS35pjANsEtSyV

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241111/5e751ce6/attachment.htm>

From even.rouault at spatialys.com  Mon Nov 11 04:29:03 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 11 Nov 2024 13:29:03 +0100
Subject: [gdal-dev] GDAL, HDF4 and MODIS L1B data
In-Reply-To: <1dc90d79-858b-486f-a518-cf8b34041959@gmail.com>
References: <4ce5fc49-f280-479c-a9cc-d0235aa15a08@gmail.com>
 <DB9PR09MB68870E3F27686052DDC76AB3FD582@DB9PR09MB6887.eurprd09.prod.outlook.com>
 <1dc90d79-858b-486f-a518-cf8b34041959@gmail.com>
Message-ID: <dfbaf11c-37a8-4fb2-844a-47b446ad6e2d@spatialys.com>

Hernan,

this works for me both with HDF4 4.2.14 as available on my system, and 
also against 4.3.0 built from source with the exact configure command 
line your provided

Can you show the result of "grep HDF4 CMakeCache.txt | grep -v INTERNAL 
| grep -v ADVANCED" in your GDAL build directory?

For me, looks like that:

//Set ON to build Hierarchical Data Format Release 4 (HDF4) format
GDAL_ENABLE_DRIVER_HDF4:BOOL=ON
//Set ON to build GDAL HDF4 driver as plugin
GDAL_ENABLE_DRIVER_HDF4_PLUGIN:BOOL=ON
//Set ON to use HDF4
GDAL_USE_HDF4:BOOL=ON
HDF4_INCLUDE_DIR:PATH=/home/even/install-hdf4-4.3.0/include
HDF4_df_LIBRARY_DEBUG:FILEPATH=HDF4_df_LIBRARY_DEBUG-NOTFOUND
HDF4_df_LIBRARY_RELEASE:FILEPATH=/home/even/install-hdf4-4.3.0/lib/libdf.so
HDF4_mfhdf_LIBRARY_DEBUG:FILEPATH=HDF4_mfhdf_LIBRARY_DEBUG-NOTFOUND
HDF4_mfhdf_LIBRARY_RELEASE:FILEPATH=/home/even/install-hdf4-4.3.0/lib/libmfhdf.so
HDF4_szip_LIBRARY_DEBUG:FILEPATH=HDF4_szip_LIBRARY_DEBUG-NOTFOUND
HDF4_szip_LIBRARY_RELEASE:FILEPATH=HDF4_szip_LIBRARY_RELEASE-NOTFOUND
HDF4_xdr_LIBRARY_DEBUG:FILEPATH=HDF4_xdr_LIBRARY_DEBUG-NOTFOUND
HDF4_xdr_LIBRARY_RELEASE:FILEPATH=HDF4_xdr_LIBRARY_RELEASE-NOTFOUND
//Details about finding HDF4
//Old value of option GDAL_ENABLE_DRIVER_HDF4_PLUGIN
//Test HDF4_HAS_MAXOPENFILES

But I strongly suspect you're running a version of GDAL which is not the 
one you have built. You may have to adjust your PATH and 
LD_LIBRARY_PATH. Check with "which gdalinfo"? and then "ldd 
/path/to/gdalinfo"? that you are running the binaries you've built.

"gdalinfo --formats" return the list of drivers, and "gdalinfo --format 
driver_name" return detailed info on the given driver

Even


Le 11/11/2024 ? 13:04, Hern?n De Angelis via gdal-dev a ?crit?:
> Thank you for your response, Jukka.
>
> That is interesting. I set cmake to build hdf4, cmake sees it and it 
> does not throw errors during the build. In fact, I see:
>
> [ 38%] Built target gdal_HDF4
>
> but the command you gave gives not HDF4
>
> gdalinfo --format hdf4
>
> (should be "formats" instead?)
> gdalinfo --formats hdf4
>
> this retrieves a long list, but no HDF5:
>
> gdalinfo --formats | grep hdf
> ? HDF5 -raster,multidimensional raster- (rovs): Hierarchical Data 
> Format Release 5 (*.h5, *.hdf5)
>
> on the other hand
> gdal-config --formats
>
> gives:
>
> gdal-config --formats
> MEM vrt HDF4 MEM
>
> So it should be there?
>
> This is confusing. Will keep looking.
>
> Thank you for your time, Jukka!
>
> Hern?n
>
>
> Den 2024-11-11 kl. 12:45, skrev Rahkonen Jukka:
>>
>> Hi,
>>
>> Have you checked with gdalinfo if you have managed to build the HDF4 
>> driver?
>>
>> gdalinfo --format hdf4
>>
>> Your test file opens for me with GDAL from OSGeo4W.
>>
>> -Jukka Rahkonen-
>>
>> *L?hett?j?:* gdal-dev <gdal-dev-bounces at lists.osgeo.org> *Puolesta 
>> *Hern?n De Angelis via gdal-dev
>> *L?hetetty:* maanantai 11. marraskuuta 2024 13.37
>> *Vastaanottaja:* gdal-dev at lists.osgeo.org
>> *Aihe:* [gdal-dev] GDAL, HDF4 and MODIS L1B data
>>
>> I recently compiled a minimal GDAL (3.10) with HDF4 support (using 
>> HDF 4.3.0) for processing MODIS L1B data. However, the resulting 
>> command line tools cannot understand the format. Perhaps I am doing 
>> something wrong, or missing something important, or both.
>>
>> Do I understand correctly that MODIS L1B in HDF-EOS format should be 
>> readable by GDAL compiled with HDF4 support without additional libraries?
>>
>> Thanks for any hint.
>>
>> Hern?n
>>
>>
>>
>> Workflow:
>>
>> Build HDF4 (4.3.0)
>>
>> ./configure --prefix=/home/hernan/project --disable-netcdf 
>> --disable-fortran --enable-shared --disable-static
>> make
>> make install
>>
>>
>> Build GDAL (3.10) with HDF4 support
>> ccmake , make, ... etc
>>
>> /home/hernan/project/bin/gdal-config --formats
>> MEM vrt HDF4 MEM
>>
>>
>>
>> Test
>>
>> /home/hernan/project/bin/gdalinfo 
>> MOD02QKM.A2024307.1325.061.2024308012941.hdf
>> ERROR 4: `MOD02QKM.A2024307.1325.061.2024308012941.hdf' not 
>> recognized as being in a supported file format.
>> gdalinfo failed - unable to open 
>> 'MOD02QKM.A2024307.1325.061.2024308012941.hdf'.
>>
>>
>>
>> Testdata if someone wants to try (warning: 150 Mb!):
>> https://www.geonatura.se/lastkaj/index.php/s/TCS35pjANsEtSyV
>>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241111/6f4aeead/attachment-0001.htm>

From variablestarlight at gmail.com  Mon Nov 11 04:37:43 2024
From: variablestarlight at gmail.com (=?UTF-8?Q?Hern=C3=A1n_De_Angelis?=)
Date: Mon, 11 Nov 2024 13:37:43 +0100
Subject: [gdal-dev] GDAL, HDF4 and MODIS L1B data
In-Reply-To: <dfbaf11c-37a8-4fb2-844a-47b446ad6e2d@spatialys.com>
References: <4ce5fc49-f280-479c-a9cc-d0235aa15a08@gmail.com>
 <DB9PR09MB68870E3F27686052DDC76AB3FD582@DB9PR09MB6887.eurprd09.prod.outlook.com>
 <1dc90d79-858b-486f-a518-cf8b34041959@gmail.com>
 <dfbaf11c-37a8-4fb2-844a-47b446ad6e2d@spatialys.com>
Message-ID: <69e0a088-972f-440c-a2e3-11a3a6dd79b6@gmail.com>

Even,

Thank you for your response. I also suspect there is some mixing going 
on. I will have a deeper look at that.

Thank you for your time.

Hern?n




BTW the output of the command you suggest is very much like yours:

 > grep HDF4 CMakeCache.txt | grep -v INTERNAL | grep -v ADVANCED
//Set ON to build Hierarchical Data Format Release 4 (HDF4) format
GDAL_ENABLE_DRIVER_HDF4:BOOL=ON
//Set ON to build GDAL HDF4 driver as plugin
GDAL_ENABLE_DRIVER_HDF4_PLUGIN:BOOL=OFF
//Set ON to use HDF4
GDAL_USE_HDF4:BOOL=ON
HDF4_INCLUDE_DIR:PATH=/home/hernan/project/include
HDF4_LIBRARY:UNINITIALIZED=/home/hernan/project/lib64/libmfhdf.a
HDF4_df_LIBRARY_DEBUG:FILEPATH=HDF4_df_LIBRARY_DEBUG-NOTFOUND
HDF4_df_LIBRARY_RELEASE:FILEPATH=/home/hernan/project/lib64/libdf.so
HDF4_mfhdf_LIBRARY_DEBUG:FILEPATH=HDF4_mfhdf_LIBRARY_DEBUG-NOTFOUND
HDF4_mfhdf_LIBRARY_RELEASE:FILEPATH=/home/hernan/project/lib64/libmfhdf.so
HDF4_szip_LIBRARY_DEBUG:FILEPATH=HDF4_szip_LIBRARY_DEBUG-NOTFOUND
HDF4_szip_LIBRARY_RELEASE:FILEPATH=HDF4_szip_LIBRARY_RELEASE-NOTFOUND
HDF4_xdr_LIBRARY_DEBUG:FILEPATH=HDF4_xdr_LIBRARY_DEBUG-NOTFOUND
HDF4_xdr_LIBRARY_RELEASE:FILEPATH=HDF4_xdr_LIBRARY_RELEASE-NOTFOUND
//Details about finding HDF4
//MODIFIED property for variable: GDAL_ENABLE_DRIVER_HDF4
//MODIFIED property for variable: GDAL_ENABLE_DRIVER_HDF4_PLUGIN
//Old value of option GDAL_ENABLE_DRIVER_HDF4_PLUGIN
//Test HDF4_HAS_MAXOPENFILES


Den 2024-11-11 kl. 13:29, skrev Even Rouault:
>
> Hernan,
>
> this works for me both with HDF4 4.2.14 as available on my system, and 
> also against 4.3.0 built from source with the exact configure command 
> line your provided
>
> Can you show the result of "grep HDF4 CMakeCache.txt | grep -v 
> INTERNAL | grep -v ADVANCED" in your GDAL build directory?
>
> For me, looks like that:
>
> //Set ON to build Hierarchical Data Format Release 4 (HDF4) format
> GDAL_ENABLE_DRIVER_HDF4:BOOL=ON
> //Set ON to build GDAL HDF4 driver as plugin
> GDAL_ENABLE_DRIVER_HDF4_PLUGIN:BOOL=ON
> //Set ON to use HDF4
> GDAL_USE_HDF4:BOOL=ON
> HDF4_INCLUDE_DIR:PATH=/home/even/install-hdf4-4.3.0/include
> HDF4_df_LIBRARY_DEBUG:FILEPATH=HDF4_df_LIBRARY_DEBUG-NOTFOUND
> HDF4_df_LIBRARY_RELEASE:FILEPATH=/home/even/install-hdf4-4.3.0/lib/libdf.so
> HDF4_mfhdf_LIBRARY_DEBUG:FILEPATH=HDF4_mfhdf_LIBRARY_DEBUG-NOTFOUND
> HDF4_mfhdf_LIBRARY_RELEASE:FILEPATH=/home/even/install-hdf4-4.3.0/lib/libmfhdf.so
> HDF4_szip_LIBRARY_DEBUG:FILEPATH=HDF4_szip_LIBRARY_DEBUG-NOTFOUND
> HDF4_szip_LIBRARY_RELEASE:FILEPATH=HDF4_szip_LIBRARY_RELEASE-NOTFOUND
> HDF4_xdr_LIBRARY_DEBUG:FILEPATH=HDF4_xdr_LIBRARY_DEBUG-NOTFOUND
> HDF4_xdr_LIBRARY_RELEASE:FILEPATH=HDF4_xdr_LIBRARY_RELEASE-NOTFOUND
> //Details about finding HDF4
> //Old value of option GDAL_ENABLE_DRIVER_HDF4_PLUGIN
> //Test HDF4_HAS_MAXOPENFILES
>
> But I strongly suspect you're running a version of GDAL which is not 
> the one you have built. You may have to adjust your PATH and 
> LD_LIBRARY_PATH. Check with "which gdalinfo"? and then "ldd 
> /path/to/gdalinfo"? that you are running the binaries you've built.
>
> "gdalinfo --formats" return the list of drivers, and "gdalinfo 
> --format driver_name" return detailed info on the given driver
>
> Even
>
>
> Le 11/11/2024 ? 13:04, Hern?n De Angelis via gdal-dev a ?crit?:
>> Thank you for your response, Jukka.
>>
>> That is interesting. I set cmake to build hdf4, cmake sees it and it 
>> does not throw errors during the build. In fact, I see:
>>
>> [ 38%] Built target gdal_HDF4
>>
>> but the command you gave gives not HDF4
>>
>> gdalinfo --format hdf4
>>
>> (should be "formats" instead?)
>> gdalinfo --formats hdf4
>>
>> this retrieves a long list, but no HDF5:
>>
>> gdalinfo --formats | grep hdf
>> ? HDF5 -raster,multidimensional raster- (rovs): Hierarchical Data 
>> Format Release 5 (*.h5, *.hdf5)
>>
>> on the other hand
>> gdal-config --formats
>>
>> gives:
>>
>> gdal-config --formats
>> MEM vrt HDF4 MEM
>>
>> So it should be there?
>>
>> This is confusing. Will keep looking.
>>
>> Thank you for your time, Jukka!
>>
>> Hern?n
>>
>>
>> Den 2024-11-11 kl. 12:45, skrev Rahkonen Jukka:
>>>
>>> Hi,
>>>
>>> Have you checked with gdalinfo if you have managed to build the HDF4 
>>> driver?
>>>
>>> gdalinfo --format hdf4
>>>
>>> Your test file opens for me with GDAL from OSGeo4W.
>>>
>>> -Jukka Rahkonen-
>>>
>>> *L?hett?j?:* gdal-dev <gdal-dev-bounces at lists.osgeo.org> *Puolesta 
>>> *Hern?n De Angelis via gdal-dev
>>> *L?hetetty:* maanantai 11. marraskuuta 2024 13.37
>>> *Vastaanottaja:* gdal-dev at lists.osgeo.org
>>> *Aihe:* [gdal-dev] GDAL, HDF4 and MODIS L1B data
>>>
>>> I recently compiled a minimal GDAL (3.10) with HDF4 support (using 
>>> HDF 4.3.0) for processing MODIS L1B data. However, the resulting 
>>> command line tools cannot understand the format. Perhaps I am doing 
>>> something wrong, or missing something important, or both.
>>>
>>> Do I understand correctly that MODIS L1B in HDF-EOS format should be 
>>> readable by GDAL compiled with HDF4 support without additional 
>>> libraries?
>>>
>>> Thanks for any hint.
>>>
>>> Hern?n
>>>
>>>
>>>
>>> Workflow:
>>>
>>> Build HDF4 (4.3.0)
>>>
>>> ./configure --prefix=/home/hernan/project --disable-netcdf 
>>> --disable-fortran --enable-shared --disable-static
>>> make
>>> make install
>>>
>>>
>>> Build GDAL (3.10) with HDF4 support
>>> ccmake , make, ... etc
>>>
>>> /home/hernan/project/bin/gdal-config --formats
>>> MEM vrt HDF4 MEM
>>>
>>>
>>>
>>> Test
>>>
>>> /home/hernan/project/bin/gdalinfo 
>>> MOD02QKM.A2024307.1325.061.2024308012941.hdf
>>> ERROR 4: `MOD02QKM.A2024307.1325.061.2024308012941.hdf' not 
>>> recognized as being in a supported file format.
>>> gdalinfo failed - unable to open 
>>> 'MOD02QKM.A2024307.1325.061.2024308012941.hdf'.
>>>
>>>
>>>
>>> Testdata if someone wants to try (warning: 150 Mb!):
>>> https://www.geonatura.se/lastkaj/index.php/s/TCS35pjANsEtSyV
>>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> -- 
> http://www.spatialys.com
> My software is free, but my time generally not.
> Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241111/091b5d97/attachment.htm>

From angerj.dev at gmail.com  Wed Nov 13 06:27:24 2024
From: angerj.dev at gmail.com (=?UTF-8?B?SsOpcsOpbXkgQW5nZXI=?=)
Date: Wed, 13 Nov 2024 15:27:24 +0100
Subject: [gdal-dev] Excessive range requests for JP2 files with openjpeg
Message-ID: <CALEzY_tmatG3cSFuo2ap9Hy3Dx4j=pcX4g4BJhGUu-CAoH5HhQ@mail.gmail.com>

Hello,

Trying to optimize the reading speed of JP2 files from object storages,
I've stumbled upon this PR https://github.com/uclouvain/openjpeg/pull/514.
It introduced a behaviour particularly harmful for network cropping JP2
files, as it leads to many excessive requests (time, bandwidth and cost
wasted).
As described in the PR, it is possible to disable the fix through the
compilation flag -DOPJ_DISABLE_TPSOT_FIX=ON.

Here is a small experiment to compare with and without the fix:

Setup:
    $ gdalinfo --version
    GDAL 3.9.2, released 2024/08/13
    $ git clone https://github.com/uclouvain/openjpeg --branch v2.5.2
--depth 1
    $ cd openjpeg

    # build with the fix (default)
    $ mkdir build-enabled-fix && cd build-enabled-fix && cmake ..
-DCMAKE_BUILD_TYPE=Release -DOPJ_DISABLE_TPSOT_FIX=OFF && make -j && cd ..
    # build without the fix
    $ mkdir build-disabled-fix && cd build-disabled-fix && cmake ..
-DCMAKE_BUILD_TYPE=Release -DOPJ_DISABLE_TPSOT_FIX=ON && make -j && cd ..

Benchmark:
    export GDAL_DISABLE_READDIR_ON_OPEN=EMPTY_DIR
    export CPL_CURL_VERBOSE=ON
    # it is possible to tweak CPL_VSIL_CURL_CHUNK_SIZE to reduce the number
of requests, but this is not studied here

    # this file is composed of 121 tiles of size 1024x1024
    url=/vsicurl/
https://storage.googleapis.com/gcp-public-data-sentinel-2/tiles/31/T/CJ/S2B_MSIL1C_20230209T105109_N0509_R051_T31TCJ_20230209T124951.SAFE/GRANULE/L1C_T31TCJ_A030965_20230209T105200/IMG_DATA/T31TCJ_20230209T105109_B02.jp2

    # tile at the beginning
    $ LD_LIBRARY_PATH=$PWD/openjpeg/build-enabled-fix/bin gdal_translate
-srcwin 0 0 500 500 "$url" o.tif 2>&1 | grep ^Range: | wc -l
    122
    $ LD_LIBRARY_PATH=$PWD/openjpeg/build-disabled-fix/bin gdal_translate
-srcwin 0 0 500 500 "$url" o.tif 2>&1 | grep ^Range: | wc -l
    2

    # tile in the middle
    $ LD_LIBRARY_PATH=$PWD/openjpeg/build-enabled-fix/bin gdal_translate
-srcwin 5120 5120 500 500 "$url" o.tif 2>&1 | grep ^Range: | wc -l
    122
    $ LD_LIBRARY_PATH=$PWD/openjpeg/build-disabled-fix/bin gdal_translate
-srcwin 5120 5120 500 500 "$url" o.tif 2>&1 | grep ^Range: | wc -l
    62

    #.tile at the end
    $ LD_LIBRARY_PATH=$PWD/openjpeg/build-enabled-fix/bin gdal_translate
-srcwin 10240 10240 500 500 "$url" o.tif 2>&1 | grep ^Range: | wc -l
    122
    $ LD_LIBRARY_PATH=$PWD/openjpeg/build-disabled-fix/bin gdal_translate
-srcwin 10240 10240 500 500 "$url" o.tif 2>&1 | grep ^Range: | wc -l
    122

Note that disabling the fix is particularly important when TLM markers are
present (on the master branch of openjpeg), but this is not shown here. The
tests above are from openjpeg v2.5.2 and the Sentinel-2 rasters do not have
TLM markers.

It might be worth converting the compilation flag into a runtime flag on
openjpeg's side, and expose it through a GDAL option at least (or disabling
the fix from GDAL by default).
What do you think?

Best regards,
J?r?my
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20241113/3125e82f/attachment.htm>

From rdmailings at duif.net  Wed Nov 13 06:56:05 2024
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 13 Nov 2024 15:56:05 +0100
Subject: [gdal-dev] gdalwarp + svg polygon as mask?
Message-ID: <723356fe-077b-4295-bc0c-1ab0e3117d20@duif.net>

Hi Devs,

Given
- an image/raster file  (from one webservice (IIIF service))
- some gcp's (from another webservice (allmaps.org)
I found out (using some scripting) it is doable to 'warp' the original image (and load in QGIS).

The allmaps.org service (providing georef 'annotions'), also provides a 'selector/SvgSelector' being something like:

'<svg width="4121" height="7900"><polygon points="85,174 4053,178 4046,7729 77,7753" /></svg>'

Anybody a good idea what would be the easiest way to use that polygon (in 'pixel'-space) as a mask in my python warp script?


My final goal would be a QGIS plugin to 'easily' just pull the (at first the full) image from the IIIF service, warp it and load it in QGIS.



Some context / examples:

This is an IIIF manifest (of a serie of maps)

https://sammeltassen.nl/iiif-manifests/stadsarchief-rotterdam/NL-RtSA_4201_I-118.json

This is one of the maps:

https://sammeltassen.nl/iiif-images/stadsarchief-rotterdam/NL-RtSA_4201_I-118-3/full/full/0/default.jpg

After georeferencing in AllMaps.org, the site provides an 'Annotations' manifest:

https://annotations.allmaps.org/manifests/631b96e4d6d3f421

(providing a link to the original resource/image, the gcp's and the mask svg)


Thanks for any idea's

Regards,

Richard Duivenvoorde



From even.rouault at spatialys.com  Wed Nov 13 08:47:42 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 13 Nov 2024 17:47:42 +0100
Subject: [gdal-dev] Excessive range requests for JP2 files with openjpeg
In-Reply-To: <CALEzY_tmatG3cSFuo2ap9Hy3Dx4j=pcX4g4BJhGUu-CAoH5HhQ@mail.gmail.com>
References: <CALEzY_tmatG3cSFuo2ap9Hy3Dx4j=pcX4g4BJhGUu-CAoH5HhQ@mail.gmail.com>
Message-ID: <4be851a9-e017-4017-a206-b1c0acd11de1@spatialys.com>

J?r?my,

good point. Adressed per https://github.com/uclouvain/openjpeg/pull/1560 
and https://github.com/OSGeo/gdal/pull/11270

Even

Le 13/11/2024 ? 15:27, J?r?my Anger via gdal-dev a ?crit?:
> Hello,
>
> Trying to optimize the reading speed of JP2 files from object 
> storages, I've stumbled upon this PR 
> https://github.com/uclouvain/openjpeg/pull/514.
> It introduced a behaviour particularly harmful for network cropping 
> JP2 files, as it leads to many excessive requests (time, bandwidth and 
> cost wasted).
> As described in the PR, it is possible to disable the fix through the 
> compilation flag -DOPJ_DISABLE_TPSOT_FIX=ON.
>
> Here is a small experiment to compare with and without the fix:
>
> Setup:
> ? ? $ gdalinfo --version
> ? ? GDAL 3.9.2, released 2024/08/13
> ? ? $ git clone https://github.com/uclouvain/openjpeg --branch v2.5.2 
> --depth 1
> ? ? $ cd openjpeg
>
> ? ? # build with the fix (default)
> ? ? $ mkdir build-enabled-fix && cd build-enabled-fix && cmake .. 
> -DCMAKE_BUILD_TYPE=Release -DOPJ_DISABLE_TPSOT_FIX=OFF && make -j && cd ..
> ? ? # build without the fix
> ? ? $ mkdir build-disabled-fix && cd build-disabled-fix && cmake .. 
> -DCMAKE_BUILD_TYPE=Release -DOPJ_DISABLE_TPSOT_FIX=ON && make -j && cd ..
>
> Benchmark:
> ? ? export GDAL_DISABLE_READDIR_ON_OPEN=EMPTY_DIR
> ? ? export CPL_CURL_VERBOSE=ON
> ? ? # it is possible to tweak CPL_VSIL_CURL_CHUNK_SIZE to reduce the 
> number of requests, but this is not studied here
>
> ? ? # this file is composed of 121 tiles of size 1024x1024
> ? ? 
> url=/vsicurl/https://storage.googleapis.com/gcp-public-data-sentinel-2/tiles/31/T/CJ/S2B_MSIL1C_20230209T105109_N0509_R051_T31TCJ_20230209T124951.SAFE/GRANULE/L1C_T31TCJ_A030965_20230209T105200/IMG_DATA/T31TCJ_20230209T105109_B02.jp2
>
> ? ? # tile at the beginning
> ? ? $ LD_LIBRARY_PATH=$PWD/openjpeg/build-enabled-fix/bin 
> gdal_translate -srcwin 0 0 500 500 "$url" o.tif 2>&1 | grep ^Range: | 
> wc -l
> ? ? 122
> ? ? $ LD_LIBRARY_PATH=$PWD/openjpeg/build-disabled-fix/bin 
> gdal_translate -srcwin 0 0 500 500 "$url" o.tif 2>&1 | grep ^Range: | 
> wc -l
> ? ? 2
>
> ? ? # tile in the middle
> ? ? $ LD_LIBRARY_PATH=$PWD/openjpeg/build-enabled-fix/bin 
> gdal_translate -srcwin 5120 5120 500 500 "$url" o.tif 2>&1 | grep 
> ^Range: | wc -l
> ? ? 122
> ? ? $ LD_LIBRARY_PATH=$PWD/openjpeg/build-disabled-fix/bin 
> gdal_translate -srcwin 5120 5120 500 500 "$url" o.tif 2>&1 | grep 
> ^Range: | wc -l
> ? ? 62
>
> ? ? #.tile at the end
> ? ? $ LD_LIBRARY_PATH=$PWD/openjpeg/build-enabled-fix/bin 
> gdal_translate -srcwin 10240 10240 500 500 "$url" o.tif 2>&1 | grep 
> ^Range: | wc -l
> ? ? 122
> ? ? $ LD_LIBRARY_PATH=$PWD/openjpeg/build-disabled-fix/bin 
> gdal_translate -srcwin 10240 10240 500 500 "$url" o.tif 2>&1 | grep 
> ^Range: | wc -l
> ? ? 122
>
> Note that disabling the fix is particularly important when TLM markers 
> are present (on the master branch of openjpeg), but this is not shown 
> here. The tests above are from openjpeg v2.5.2 and the Sentinel-2 
> rasters do not have TLM markers.
>
> It might be worth converting the compilation flag into a runtime flag 
> on openjpeg's side, and expose it through a GDAL option at least (or 
> disabling the fix from GDAL by default).
> What do you think?
>
> Best regards,
> J?r?my
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


From even.rouault at spatialys.com  Wed Nov 13 10:20:36 2024
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 13 Nov 2024 19:20:36 +0100
Subject: [gdal-dev] [gdal-announce]  GDAL 3.10.0 is released
In-Reply-To: <5ba73b0b-6e10-4e8d-a60c-8997fe0eb462@spatialys.com>
References: <590df688-c92d-47ed-aa10-03be4afc2e6d@spatialys.com>
 <5ba73b0b-6e10-4e8d-a60c-8997fe0eb462@spatialys.com>
Message-ID: <af3a9f23-3878-4835-8885-42ac342083cd@spatialys.com>


> For conda-forge builds, they are suspended to solving a technicality. 
> You can monitor progress at 
> https://github.com/conda-forge/gdal-feedstock/pull/992

This has been resolved/worked around, so gdal 3.10.0 conda-forge builds 
are now available. (and GDAL master builds in the "gdal-master" channel 
are also working again)

-- 
http://www.spatialys.com
My software is free, but my time generally not.
Butcher of all kinds of standards, open or closed formats. At the end, this is just about bytes.


