From carl.anderson at vadose.org  Fri Dec  1 01:35:10 2006
From: carl.anderson at vadose.org (Carl Anderson)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Support for LIDAR data, LAS format?
In-Reply-To: <002501c714e2$9e780a60$0e19000a@Asimov>
References: <002501c714e2$9e780a60$0e19000a@Asimov>
Message-ID: <456FCD1E.6080706@vadose.org>

Cody,

If you compile the SWIG/Python bindings into GDAL

you can use
http://www.perrygeo.net/wordpress/?p=38
To pre-process your LAS format LIDAR into a shapefile, and run on from 
there.

A clever person might be able to extend the script to other GDAL 
supported formats.

there is a 0.02 version of the LAS -> Shapefile script somewhere..

C.

Cody Benkelman wrote:
> Apologies for cross-posting - I posted this previously on the GeoTIFF
> list...
>
> Has anyone added support for LIDAR data in LAS format?
>
> Thanks 
>
> Cody Benkelman
>
>
>   
>> -----Original Message-----
>> From: Cody Benkelman [mailto:benkelman@yahoo.com]
>> Sent: Monday, November 27, 2006 10:55 AM
>> To: geotiff@lists.maptools.org
>> Subject: Support for LIDAR data, LAS format?
>>
>> I'm seeking an update with regard to LIDAR data, in LAS format.  I 
>> found the exchange copied at bottom in the archive:
>> http://lists.maptools.org/pipermail/gdal-dev/2004-June/003599.html
>>
>> ...but I don't see LAS or LIDAR in the current GDAL format list.  May 
>> I assume support for LAS format has not yet been added to GDAL?
>>
>> Thanks
>>
>> Cody A. Benkelman
>> ASPRS Certified Mapping Scientist - Remote Sensing (#RS-144) 
>> Whitefish, Montana  59937 cell (406) 270-1176
>>
>>
>>
>> [Gdal-dev] Re: LIDAR .las file format
>> John Nipper jnipper at bhinc.com
>> Thu Jun 24 18:44:48 EDT 2004
>>
>> Previous message: [Gdal-dev] LIDAR .las file format Next message: 
>> [Gdal-dev] reprojecting Messages sorted by: [ date ] [ thread ] [ 
>> subject ] [ author ]
>>
>> --------------------------------------------------------------
>> ----------
>> --------
>>
>> Chapman, Martin <MChapman <at> sanz.com> writes:
>>
>>     
>>> All,
>>>  
>>> Has anyone written a
>>> driver for the LIDAR (.las) file format for GDAL?  
>>>  
>>>
>>> Martin Chapman
>>> Cell 303-885-1936
>>> Office
>>> 303-660-3933 x226
>>> mchapman <at> sanz.com
>>> http://www.sanz.com
>>>
>>>  
>>>  
>>>
>>>
>>> _______________________________________________
>>> Gdal-dev mailing list
>>> Gdal-dev <at> remotesensing.org
>>> http://xserve.flids.com/mailman/listinfo/gdal-dev
>>>
>>>       
>> I have written utilities that read/write las format.  I have not seen 
>> anything that is open source, or for GDAL yet.  I would be happy to 
>> help out with such a driver, if I can get permission to do so ...  At 
>> a minimum, I can answer questions about the format if anyone needs.
>>
>> Thanks,
>> John Nipper
>> 505 798-7907 direct office line
>> jnipper at bhinc.com
>>
>>
>>
>>     
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>   


From perrygeo at gmail.com  Fri Dec  1 01:59:44 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] gdalwarp problem
In-Reply-To: <2E58C246F17003499C141D334794D049D5872A@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <2E58C246F17003499C141D334794D049D5872A@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <5383fa5e0611302259s418ec862neaa0aff82575ac0d@mail.gmail.com>

On 11/27/06, Gong, Shawn <Shawn.Gong@drdc-rddc.gc.ca> wrote:
> When I tried to reproject a tiff file from UTM to lat/lon, the following
> error message appeared:
>
> Command: gdalwarp -t_srs "+proj=latlong +datum=WGS84" src.tif target.tif
>
> ERROR 1: Too many points (441 out of 441) failed to transform, unable to
> compute output bounds.
>

Does src.tif have a projection defined? You can run gdalinfo src.tif to see.

If not you might try explicitly assigning the source projection, the
-s_srs parameter.

-- 
Matthew T. Perry
GIS Analyst / Software Engineer
National Center for Ecological Analysis and Synthesis (NCEAS)
work: perry@nceas.ucsb.edu
web: http://www.perrygeo.net

From jdgonon at gi-lemans.com  Fri Dec  1 02:28:30 2006
From: jdgonon at gi-lemans.com (Jean-Daniel GONON)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Re: Gdal-dev Digest, Vol 30, Issue 72
Message-ID: <004501c7151a$4d9ee360$6469850a@gi.com>

> Jean-Daniel GONON wrote:
>> Hi
>>
>> I could solve my last problem, I thought  it was because of XERCES-C
>> 2.7.0 (but it was a bad include library).
>>
>> Now, I have an other problem, still about GDAL/OGR-1.3.2 (in original
>> version, with XERCES-C 2.7.0 moreover).
>> Compilation of gdal.DLL is good, but using of gdal.dll by ogrinfo.exe
>> generates two errors in "C:\Program Files\Microsoft Visual Studio .NET
>> 2003\Vc7\crt\src\dbgheap.c" file (at the lines 1132 and 1138).
>
> Jean,
>
> This error indicates there must be a bug somewhere that causes heap
> corruption. The assertion caught in dbgheap.c file comes from free()
> function and says something like this:
> "you're trying to free block of memory that can't be deallocated because
> of invalid type - not deallocable block."
>
> Unfortunately, without more details, I can't see how to track the
> problem down and to find where is the problem in GDAL/ogrinfo.exe.
>
> Could you provide more details about:
> 1. How did you compile GDAL? Using provided makefile.vc?
> 2. What operation do you do using ogrinfo.exe?
> 3. What dataset do you use and can you provide them for testing?
>
>
> Cheers
> -- 
> Mateusz Loskot
> http://mateusz.loskot.net
>


Good morning Mateusz,

Thank you for your help.

1. I compile GDAL/OGR by MS Visual C++ 2003 (.Net). I don't use makefile.vc.

2. First I have to include "C:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools\vsvars32.bat" in command line.
    Then, with ogrinfo.exe, I want to see readables formats file (with "ogrinfo --formats" command line), or open DGN v7 file (with "ogrinfo v7_file.dgn" command line). In the 2 cases, heap corruption is generated.
The objective of my project is to add DGN version 8 (read only) in GDAL/OGR. In the future, I will use microstation DGN v8 file.

3. For the moment, I use DGN v7 file (microstation file) with ogrinfo.exe through gdal13d.dll.
I can't send ogrinfo.exe and gdal13d.dll in attachement file by mail, because they are too big.

Jean-Daniel 
jdgonon@gi-lemans.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061201/a9adac6b/attachment.html
From perrygeo at gmail.com  Fri Dec  1 02:31:04 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Support for LIDAR data, LAS format?
In-Reply-To: <456FCD1E.6080706@vadose.org>
References: <002501c714e2$9e780a60$0e19000a@Asimov>
	<456FCD1E.6080706@vadose.org>
Message-ID: <5383fa5e0611302331o10634477p213929b5ca391b97@mail.gmail.com>

Hey all,

 The latest version of the python LAS->shapefile converter (with some
changes thanks to Carl) are available at
http://perrygeo.googlecode.com/svn/trunk/gis-bin/pylas.py. It could be
extended to export to other vector formats than shapefiles with a
little effort.

Ideally the LAS converter could be made into an OGR driver - the LAS
format is well documented so, with some time and motivation, it would
certainly be feasible.

Since LAS is essentially just vector point data, I don't really see a
GDAL driver as being appropriate. You need to apply some interpolation
routine to the point elevation values before you have a continuous
raster surface such as a GeoTiff.

- matt

On 11/30/06, Carl Anderson <carl.anderson@vadose.org> wrote:
> Cody,
>
> If you compile the SWIG/Python bindings into GDAL
>
> you can use
> http://www.perrygeo.net/wordpress/?p=38
> To pre-process your LAS format LIDAR into a shapefile, and run on from
> there.
>
> A clever person might be able to extend the script to other GDAL
> supported formats.
>
> there is a 0.02 version of the LAS -> Shapefile script somewhere..
>
> C.
>
> Cody Benkelman wrote:
> > Apologies for cross-posting - I posted this previously on the GeoTIFF
> > list...
> >
> > Has anyone added support for LIDAR data in LAS format?
> >
> > Thanks
> >
> > Cody Benkelman
> >
> >
> >
> >> -----Original Message-----
> >> From: Cody Benkelman [mailto:benkelman@yahoo.com]
> >> Sent: Monday, November 27, 2006 10:55 AM
> >> To: geotiff@lists.maptools.org
> >> Subject: Support for LIDAR data, LAS format?
> >>
> >> I'm seeking an update with regard to LIDAR data, in LAS format.  I
> >> found the exchange copied at bottom in the archive:
> >> http://lists.maptools.org/pipermail/gdal-dev/2004-June/003599.html
> >>
> >> ...but I don't see LAS or LIDAR in the current GDAL format list.  May
> >> I assume support for LAS format has not yet been added to GDAL?
> >>
> >> Thanks
> >>
> >> Cody A. Benkelman
> >> ASPRS Certified Mapping Scientist - Remote Sensing (#RS-144)
> >> Whitefish, Montana  59937 cell (406) 270-1176
> >>
> >>
> >>
> >> [Gdal-dev] Re: LIDAR .las file format
> >> John Nipper jnipper at bhinc.com
> >> Thu Jun 24 18:44:48 EDT 2004
> >>
> >> Previous message: [Gdal-dev] LIDAR .las file format Next message:
> >> [Gdal-dev] reprojecting Messages sorted by: [ date ] [ thread ] [
> >> subject ] [ author ]
> >>
> >> --------------------------------------------------------------
> >> ----------
> >> --------
> >>
> >> Chapman, Martin <MChapman <at> sanz.com> writes:
> >>
> >>
> >>> All,
> >>>
> >>> Has anyone written a
> >>> driver for the LIDAR (.las) file format for GDAL?
> >>>
> >>>
> >>> Martin Chapman
> >>> Cell 303-885-1936
> >>> Office
> >>> 303-660-3933 x226
> >>> mchapman <at> sanz.com
> >>> http://www.sanz.com
> >>>
> >>>
> >>>
> >>>
> >>>
> >>> _______________________________________________
> >>> Gdal-dev mailing list
> >>> Gdal-dev <at> remotesensing.org
> >>> http://xserve.flids.com/mailman/listinfo/gdal-dev
> >>>
> >>>
> >> I have written utilities that read/write las format.  I have not seen
> >> anything that is open source, or for GDAL yet.  I would be happy to
> >> help out with such a driver, if I can get permission to do so ...  At
> >> a minimum, I can answer questions about the format if anyone needs.
> >>
> >> Thanks,
> >> John Nipper
> >> 505 798-7907 direct office line
> >> jnipper at bhinc.com
> >>
> >>
> >>
> >>
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
> >
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>


-- 
Matthew T. Perry
GIS Analyst / Software Engineer
National Center for Ecological Analysis and Synthesis (NCEAS)
work: perry@nceas.ucsb.edu
web: http://www.perrygeo.net

From mateusz at loskot.net  Fri Dec  1 03:27:31 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Error accessing Pgeo through ODBC
In-Reply-To: <442163630611271603n6155ba9dk6339018c4348c2e2@mail.gmail.com>
References: <442163630611271603n6155ba9dk6339018c4348c2e2@mail.gmail.com>
Message-ID: <456FE773.90404@loskot.net>

Craig Feuerherdt wrote:
> When I attempt to use ogrinfo I get the following errors:
> 
> ogrinfo PGeo:b_pgeo
> ERROR 1: /usr/grass-6.1.0/lib/libgrass_vask.so: undefined symbol: stdscr
> ERROR 1: /usr/grass- 6.1.0/lib/libgrass_vask.so: undefined symbol: stdscr
> Segmentation fault
> 
> I can not work out why the error involves GRASS?

I don't know too.
Please, provide more details:

1. Have you configured MDB driver for ODBC, in odbcinst.ini file?
2. What ./configure options did you used to compile GDAL?
3. Do you use MDB Tools as driver for MDB format? If you do, what
version of MDB Tools do you use?

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From mateusz at loskot.net  Fri Dec  1 03:33:11 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Re: Gdal-dev Digest, Vol 30, Issue 72
In-Reply-To: <004501c7151a$4d9ee360$6469850a@gi.com>
References: <004501c7151a$4d9ee360$6469850a@gi.com>
Message-ID: <456FE8C7.5020102@loskot.net>

Jean-Daniel GONON wrote:
>> Jean-Daniel GONON wrote:
>>> Hi
>>>
>>> I could solve my last problem, I thought  it was because of XERCES-C
>>> 2.7.0 (but it was a bad include library).
>>>
>>> Now, I have an other problem, still about GDAL/OGR-1.3.2 (in original
>>> version, with XERCES-C 2.7.0 moreover).
>>> Compilation of gdal.DLL is good, but using of gdal.dll by ogrinfo.exe
>>> generates two errors in "C:\Program Files\Microsoft Visual Studio .NET
>>> 2003\Vc7\crt\src\dbgheap.c" file (at the lines 1132 and 1138).
>>
>> Jean,
>>
>> This error indicates there must be a bug somewhere that causes heap
>> corruption. The assertion caught in dbgheap.c file comes from free()
>> function and says something like this:
>> "you're trying to free block of memory that can't be deallocated because
>> of invalid type - not deallocable block."
>>
>> Unfortunately, without more details, I can't see how to track the
>> problem down and to find where is the problem in GDAL/ogrinfo.exe.
>>
>> Could you provide more details about:
>> 1. How did you compile GDAL? Using provided makefile.vc?
>> 2. What operation do you do using ogrinfo.exe?
>> 3. What dataset do you use and can you provide them for testing?
> 
> Good morning Mateusz,
> 
> Thank you for your help.
> 
> 1. I compile GDAL/OGR by MS Visual C++ 2003 (.Net). I don't use makefile.vc.

Hi Jean,

I understand you use Visual C++ 2003 compiler.
But do you use your own project files and compile GDAL from the Visual
C++ IDE ?

If you use VC++ project files, please check if you use the same
compilation flags in the project file as specified in namek.opt file:

http://www.gdal.org/srctree/nmake.opt

as OPTFLAGS, especially if you use /MD flag.

> 2. First I have to include "C:\Program Files\Microsoft Visual Studio
> .NET 2003\Common7\Tools\vsvars32.bat" in command line.

Hmm, I'm confused.
Previously, you're saying you don't compile GDAL using makefile.vc but
here you're saying that you calls vsvars32.bat to configure command line
environment.
Please, explain exactly how do you build GDAL.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From marc.jacquin at magellium.fr  Fri Dec  1 07:22:22 2006
From: marc.jacquin at magellium.fr (Marc Jacquin)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] ogr2ogr : creating Multipolygones shapefiles from
	Postgis 
In-Reply-To: <4510333C.9070805@loskot.net>
Message-ID: <004e01c71543$5c1d88a0$9601a8c0@PC150>

Hi all,

For example this works fine for polygons:
Ogr2ogr -f "ESRI Shapefile" d:/test.shp PG:"dbname=xxxx user=xxx host=xxx
password=xxx port=xxx" -sql "select the_geom from mytable where .... "

If you use it with a multipolygon PostGIS geometry, it creates an empty Line
shapefile.

I could get around by using the where clause instead of the sql clause:

Ogr2ogr -f "ESRI Shapefile" d:/test.shp PG:"dbname=xxxx user=xxx host=xxx
password=xxx port=xxx" mytable -where "...."

Should I file a bug? 

I use the binary version of FWTools 1.10.

Regards,

Marc


From bthoen at gisnet.com  Fri Dec  1 08:08:09 2006
From: bthoen at gisnet.com (Bill Thoen)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] ogr2ogr : creating Multipolygones shapefiles from
	Postgis
In-Reply-To: <004e01c71543$5c1d88a0$9601a8c0@PC150>
References: <4510333C.9070805@loskot.net>
	<004e01c71543$5c1d88a0$9601a8c0@PC150>
Message-ID: <20061201130809.GC2499@www.gisnet.com>

I think that just got fixed yesterday, but try including an output SRS,
like -a_srs WGS84. I think what's happening is that ogr2ogr can't determine
what the SRS is for your data when you use the -sql switch. Try examining
it with ogrinfo to see if that's it.

I had the same problem, but when I tried yesterday's daily CVS "snapshot"
(which you have to build from source) that problem went away for me.

On Fri, Dec 01, 2006 at 01:22:22PM +0100, Marc Jacquin wrote:
> Hi all,
> 
> For example this works fine for polygons:
> Ogr2ogr -f "ESRI Shapefile" d:/test.shp PG:"dbname=xxxx user=xxx host=xxx
> password=xxx port=xxx" -sql "select the_geom from mytable where .... "
> 
> If you use it with a multipolygon PostGIS geometry, it creates an empty Line
> shapefile.
> 
> I could get around by using the where clause instead of the sql clause:
> 
> Ogr2ogr -f "ESRI Shapefile" d:/test.shp PG:"dbname=xxxx user=xxx host=xxx
> password=xxx port=xxx" mytable -where "...."
> 
> Should I file a bug? 
> 
> I use the binary version of FWTools 1.10.
> 
> Regards,
> 
> Marc
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

From hobu at iastate.edu  Fri Dec  1 09:59:01 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Motion: 1.4.0 Beta Release
Message-ID: <339539FD-6907-4776-A57F-52A927EAE89F@iastate.edu>

All,

I move to release 1.4.0 beta 1 of GDAL on Monday, Dec 4th at 18:00 UTC.

Howard

From warmerdam at pobox.com  Fri Dec  1 11:10:38 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Motion: 1.4.0 Beta Release
In-Reply-To: <339539FD-6907-4776-A57F-52A927EAE89F@iastate.edu>
References: <339539FD-6907-4776-A57F-52A927EAE89F@iastate.edu>
Message-ID: <457053FE.6050807@pobox.com>

Howard Butler wrote:
> All,
> 
> I move to release 1.4.0 beta 1 of GDAL on Monday, Dec 4th at 18:00 UTC.

+1

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From jdgonon at gi-lemans.com  Fri Dec  1 10:50:02 2006
From: jdgonon at gi-lemans.com (Jean-Daniel GONON)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Debug assertion failed in GDAL/OGR-1.3.2
Message-ID: <000f01c71560$5d734e70$6469850a@gi.com>

> ------------------------------
> Jean-Daniel GONON wrote:
>>> Jean-Daniel GONON wrote:
>>>> Hi
>>>>
>>>> I could solve my last problem, I thought  it was because of XERCES-C
>>>> 2.7.0 (but it was a bad include library).
>>>>
>>>> Now, I have an other problem, still about GDAL/OGR-1.3.2 (in original
>>>> version, with XERCES-C 2.7.0 moreover).
>>>> Compilation of gdal.DLL is good, but using of gdal.dll by ogrinfo.exe
>>>> generates two errors in "C:\Program Files\Microsoft Visual Studio .NET
>>>> 2003\Vc7\crt\src\dbgheap.c" file (at the lines 1132 and 1138).
>>>
>>> Jean,
>>>
>>> This error indicates there must be a bug somewhere that causes heap
>>> corruption. The assertion caught in dbgheap.c file comes from free()
>>> function and says something like this:
>>> "you're trying to free block of memory that can't be deallocated because
>>> of invalid type - not deallocable block."
>>>
>>> Unfortunately, without more details, I can't see how to track the
>>> problem down and to find where is the problem in GDAL/ogrinfo.exe.
>>>
>>> Could you provide more details about:
>>> 1. How did you compile GDAL? Using provided makefile.vc?
>>> 2. What operation do you do using ogrinfo.exe?
>>> 3. What dataset do you use and can you provide them for testing?
>>
>> Good morning Mateusz,
>>
>> Thank you for your help.
>>
>> 1. I compile GDAL/OGR by MS Visual C++ 2003 (.Net). I don't use 
>> makefile.vc.
>
> Hi Jean,
>
> I understand you use Visual C++ 2003 compiler.
> But do you use your own project files and compile GDAL from the Visual
> C++ IDE ?
>
> If you use VC++ project files, please check if you use the same
> compilation flags in the project file as specified in namek.opt file:
>
> http://www.gdal.org/srctree/nmake.opt
>
> as OPTFLAGS, especially if you use /MD flag.
>
>> 2. First I have to include "C:\Program Files\Microsoft Visual Studio
>> .NET 2003\Common7\Tools\vsvars32.bat" in command line.
>
> Hmm, I'm confused.
> Previously, you're saying you don't compile GDAL using makefile.vc but
> here you're saying that you calls vsvars32.bat to configure command line
> environment.
> Please, explain exactly how do you build GDAL.
>
> Cheers
> -- 
> Mateusz Loskot
> http://mateusz.loskot.net
>

Mateusz,

GDAL/OGR is a project that I manage only with Visual C++ 2003.
I don't use makefile.vc, nor nmake.opt.
But I use command lines only to test "gdal.dll" with ogrinfo.exe (that is 
why I call vsvars32.bat).

I think I use in my VC++ project files same options as specified in 
nmake.opt from www.gdal.ogr.
But I am not sure for all flags (you can see in attachement file, if you 
want)

How do I build GDAL :
- I compile/build gdal.dll and ogrinfo.exe with Visual C++ 2003
- I copy/paste ogrinfo.exe and a DGN v7 file in a same folder with gdal.dll
- I call vsvars32.bat in command lines
- I call ogrinfo.exe to verify which file formats supported by gdal.dll 
(ogrinfo --formats)
- I call ogrinfo.exe to open a DGN v7 file (ogrinfo file.dgn)

thank you

Good weekend
Jean-Daniel 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: VC++_GDAL_Project.zip
Type: application/octet-stream
Size: 6164 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061201/ceb7ff44/VC_GDAL_Project.obj
From jbeverage at prologic-inc.com  Fri Dec  1 12:24:30 2006
From: jbeverage at prologic-inc.com (Jason Beverage)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] GDAL Thread Safety
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D02FC658B@vader.prologic-inc.com>

Hi all,

Does anyone have some insight on what the thread safety status is of
GDAL/OGR?  I know in the 1.3.2 release notes it mentioned that some
operations are thread safe, but apparently not all of them.  Any best
practices or situations to avoid?  

Thanks,

Jason


From Chris.Barker at noaa.gov  Fri Dec  1 12:32:10 2006
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Newbie needs help with RGB images
In-Reply-To: <1164845514.456e21ca54cfe@webmail.telus.net>
References: <1164845514.456e21ca54cfe@webmail.telus.net>
Message-ID: <4570671A.9080203@noaa.gov>

opcode@telus.net wrote:
> I'm just getting started with GDAL in my code( 1 day under my belt :-) ) and 
> am looking for some direction on how to load a GeoTiff (or other ) image and 
> convert it to a RGB image buffer. The tiff image is 20,000 x 24000 x 3 and I 
> want to downsample it into a 1024 x 1024 x 3 RGB image. 

> I am thinking I can get it one band at a time with the dataset->RasterIO 
> method and changing the offset each pass but this is likely to be very slow as 
> it will downsample the entire image for each band. Is there any way to 
> directly create the interleaved RGB?

As far as I could figure out, you need to do each band separately, but 
that doesn't make it that slow -- there's only three bands.

RasterBand.ReadRaster takes new dimensions as parameters, so the down 
sampling is easy and one step. Here's some Python code that works for me:

This puts the RBG data in a numpy array
        ## XY is the coords of the corner of the part of the image you
        ## want, (0,0) if you want the whole thing
        ## WH is the size of the piece of the image you want:
        ##   (Width, Height)
        ## NewWH is the size you want the ouput image at:
        ##   (Width, Height)
        DataRect = N.zeros((NewWH[0],NewWH[1],3), N.uint8)
        for i in range(3):
             Band = self.Dataset.GetRasterBand(i+1)
             color = Band.ReadRaster( XY[0], # nXOff
                                      XY[1], # nYOff
                                      WH[0], # nXSize
                                      WH[1], # nYSize
                                      NewWH[0], #nBufXSize
                                      NewWH[1], #nBufYSize
                                      GDT_Byte, # data type
                                      )
             # put it in the numpy array:
             DataRect[:,:,i] = N.fromstring(color,N.uint8).reshape(NewWH)


If you are using Python, and either PIL or wxPython, I can send you more 
code that might be helpful.

-Chris

-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov

From hobu at iastate.edu  Fri Dec  1 12:33:40 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] GDAL Thread Safety
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D02FC658B@vader.prologic-in c.com>
References: <2DBB9F887DAA394FA75D98474EA5730D02FC658B@vader.prologic-inc.com>
Message-ID: <6.2.3.4.2.20061201113215.030bccd8@hobu.mail.iastate.edu>

Jason,

Did you happen to see the question in the FAQ 
<http://gdal.org/faq.html>?  It covers the current situation fairly well.

Howard

At 11:24 AM 12/1/2006, Jason Beverage wrote:
>Hi all,
>
>Does anyone have some insight on what the thread safety status is of
>GDAL/OGR?  I know in the 1.3.2 release notes it mentioned that some
>operations are thread safe, but apparently not all of them.  Any best
>practices or situations to avoid?
>
>Thanks,
>
>Jason
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From mateusz at loskot.net  Fri Dec  1 12:45:33 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Debug assertion failed in GDAL/OGR-1.3.2
In-Reply-To: <000f01c71560$5d734e70$6469850a@gi.com>
References: <000f01c71560$5d734e70$6469850a@gi.com>
Message-ID: <45706A3D.1020607@loskot.net>

Jean-Daniel GONON wrote:
> Mateusz,
> 
> GDAL/OGR is a project that I manage only with Visual C++ 2003.

Jean,

I'm sorry, but the statement "GDAL/OGR is a project that I manage only
with Visual C++ 2003." is too general.

"Visual C++ 2003" is a name of compiler but also a name of
the whole IDE. So, it's important to precise how you compile GDAL, using
Visual C++ compiler from command line or from the IDE.

There are *no* official project files to compile GDAL with Visual C++
from  the IDE. IOW, there are no *.sln and *.vcproj files.
The *only* official way to compile GDAL using Visual C++ compiler is to
use NMAKE program and provided makefile.vc files.

> I don't use makefile.vc, nor nmake.opt.

So, how do you build GDAL?
Have you created your own DLL project file to compile GDAL?

> But I use command lines only to test "gdal.dll" with ogrinfo.exe (that
> is why I call vsvars32.bat).

Hmm, you should *not* need to run vsvars32.bat to use GDAL library and
command line utilities, like ogrinfo.exe.
I don't understand why you run this script.

> I think I use in my VC++ project files same options as specified in
> nmake.opt from www.gdal.ogr.
> But I am not sure for all flags (you can see in attachement file, if you
> want)

Ah, now I understand you use your own project files for Visual C++.
That's the info I was asking for :-)
I don't see anything suspicious in your project file, all flags looks good.

Unfortunately, I don't have any solution for the problem :-(

I'd suggest you to compile your GDAL version without Xerces support,
without linking with Xerces and see if it will help.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From jbeverage at prologic-inc.com  Fri Dec  1 13:04:05 2006
From: jbeverage at prologic-inc.com (Jason Beverage)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] GDAL Thread Safety
In-Reply-To: <6.2.3.4.2.20061201113215.030bccd8@hobu.mail.iastate.edu>
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D02FC65B8@vader.prologic-inc.com>

Hi Howard,

Actually, I saw that question, but I guess I didn't get any warm fuzzies
from the answer:)  Let me explain my specific situation a little better
and maybe it will make more sense.

I am loading geospatial data into my application, displaying it and
doing some analysis on it.  There are really only 2 threads in the
application: the main application thread and a background thread that
does the visualization.  Both the main thread and the background thread
are accessing the same files on disk and using GDAL to read them at the
same time.  However, both threads are using different GDALDataset
objects.  I'm not using GDALOpenShared, just GDALOpen.

Is there anything in particular that I should be looking out for in this
situation?  I'm using different GDALDataset objects, but they are
pointing to the same file on disk, which I wasn't sure if it was a
problem.

Thanks,

Jason

-----Original Message-----
From: Howard Butler [mailto:hobu@iastate.edu] 
Sent: Friday, December 01, 2006 12:34 P
To: Jason Beverage; gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] GDAL Thread Safety

Jason,

Did you happen to see the question in the FAQ 
<http://gdal.org/faq.html>?  It covers the current situation fairly
well.

Howard

At 11:24 AM 12/1/2006, Jason Beverage wrote:
>Hi all,
>
>Does anyone have some insight on what the thread safety status is of
>GDAL/OGR?  I know in the 1.3.2 release notes it mentioned that some
>operations are thread safe, but apparently not all of them.  Any best
>practices or situations to avoid?
>
>Thanks,
>
>Jason
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev



From dmorissette at mapgears.com  Fri Dec  1 13:27:07 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Motion: 1.4.0 Beta Release
In-Reply-To: <339539FD-6907-4776-A57F-52A927EAE89F@iastate.edu>
References: <339539FD-6907-4776-A57F-52A927EAE89F@iastate.edu>
Message-ID: <457073FB.1050507@mapgears.com>

Howard Butler wrote:
> 
> I move to release 1.4.0 beta 1 of GDAL on Monday, Dec 4th at 18:00 UTC.
> 

+1

FYI I have upgraded the ogrsf_frmts/mitab files to MITAB 1.5.1 a few 
minutes ago. This is the last stable release of MITAB. If anyone is 
interested, the revision history of MITAB is at 
http://mitab.maptools.org/HISTORY.TXT

Also, for those interested in the TAB format, a new release of MITAB 
(1.6.0?) should be available soon, and the main feature in this release 
is improved spatial index generation code that produces a proper R-Tree 
and gives search performance comparable to TAB files generated by 
MapInfo. Full details in MITAB bug 1585:
http://bugzilla.maptools.org/show_bug.cgi?id=1585

I didn't want to upgrade OGR to that version yet because some more 
testing and a bit of performance tuning when writing files is still 
required, but that should make it in the next release of GDAL. If you 
can't wait then you can always grab the latest MITAB source from CVS: 
same CVS server as GDAL, but checkout project 'mitab'.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/

From craig.miller at spatialminds.com  Fri Dec  1 13:37:41 2006
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Debug assertion failed in GDAL/OGR-1.3.2
In-Reply-To: <45706A3D.1020607@loskot.net>
Message-ID: <013e01c71577$c8ae8300$3301a8c0@vaio>

Jean,
 
I haven't been following this thread at all, but there are a couple of
common problems that occur when compiling gdal against xerces so I'll just
throw some questions out there in the hopes that it helps you solve your
problem.

When compiling gdal, is wchar_t being used as a built in type?

Project -> Properties -> C++ -> Language -> Treat wchar_t as a built in Type
should be set to "No"

Are you linking against the appropriate debug/release version of xerces when
building?

Are you copying the xerces dll to your project along with the gdal dll?

--Craig


> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
> Mateusz Loskot
> Sent: Friday, December 01, 2006 9:46 AM
> To: gdal
> Subject: Re: [Gdal-dev] Debug assertion failed in GDAL/OGR-1.3.2
> 
> Jean-Daniel GONON wrote:
> > Mateusz,
> > 
> > GDAL/OGR is a project that I manage only with Visual C++ 2003.
> 
> Jean,
> 
> I'm sorry, but the statement "GDAL/OGR is a project that I 
> manage only with Visual C++ 2003." is too general.
> 
> "Visual C++ 2003" is a name of compiler but also a name of 
> the whole IDE. So, it's important to precise how you compile 
> GDAL, using Visual C++ compiler from command line or from the IDE.
> 
> There are *no* official project files to compile GDAL with 
> Visual C++ from  the IDE. IOW, there are no *.sln and *.vcproj files.
> The *only* official way to compile GDAL using Visual C++ 
> compiler is to use NMAKE program and provided makefile.vc files.
> 
> > I don't use makefile.vc, nor nmake.opt.
> 
> So, how do you build GDAL?
> Have you created your own DLL project file to compile GDAL?
> 
> > But I use command lines only to test "gdal.dll" with 
> ogrinfo.exe (that 
> > is why I call vsvars32.bat).
> 
> Hmm, you should *not* need to run vsvars32.bat to use GDAL 
> library and command line utilities, like ogrinfo.exe.
> I don't understand why you run this script.
> 
> > I think I use in my VC++ project files same options as specified in 
> > nmake.opt from www.gdal.ogr.
> > But I am not sure for all flags (you can see in attachement 
> file, if 
> > you
> > want)
> 
> Ah, now I understand you use your own project files for Visual C++.
> That's the info I was asking for :-)
> I don't see anything suspicious in your project file, all 
> flags looks good.
> 
> Unfortunately, I don't have any solution for the problem :-(
> 
> I'd suggest you to compile your GDAL version without Xerces 
> support, without linking with Xerces and see if it will help.
> 
> Cheers
> --
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Fri Dec  1 13:56:04 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] GDAL Thread Safety
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D02FC65B8@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730D02FC65B8@vader.prologic-inc.com>
Message-ID: <45707AC4.9020404@pobox.com>

Jason Beverage wrote:
> Is there anything in particular that I should be looking out for in this
> situation?  I'm using different GDALDataset objects, but they are
> pointing to the same file on disk, which I wasn't sure if it was a
> problem.

Jason,

As long as each thread has a distinct GDALDataset object, and as long
as all access is read-only, then things should be fine.

Note that this thread safety assertion does not necessary apply to all
drivers.  Only a few drivers (Geotiff, Imagine) have been carefully
reviewed and tested.  I imagine most drivers are ok, but you should use
some caution, and testing things you depend on yourself.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From jcleary at email.unc.edu  Fri Dec  1 14:04:15 2006
From: jcleary at email.unc.edu (Jesse Cleary)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] ogr2ogr shapefile field types (VRT)
Message-ID: <45707CAF.4070802@email.unc.edu>

Hi folks

I'm using ogr2ogr to convert a CSV file with all numeric values to a 
shapefile (VRT method).  Is there a way to control the resulting field 
types in the subsequent dbf?  Inclusion in the VRT file or editing the 
DBF afterwards?  All of my fields now come out as type string, which 
limits some easy viz options (symbol rotation for example) for some of 
our desktop GIS users.  Not a show stopper by any means, but a 
preemptive fix would be great.  Using GDAL 1.3.2, thanks!


Jesse


-- 
Jesse Cleary				
Department of Marine Sciences	
UNC Chapel Hill

334 Chapman Hall
(919) 962-4987 

jcleary@email.unc.edu











From ILucena at clarku.edu  Fri Dec  1 14:12:11 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Motion: 1.4.0 Beta Release
Message-ID: <6FD7C9DB26540B42A1207C69BF92D4550231DE09@Iris.ad.clarku.edu>

+1

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Howard Butler
Sent: Friday, December 01, 2006 9:59 AM
To: gdal-dev
Subject: [Gdal-dev] Motion: 1.4.0 Beta Release

All,

I move to release 1.4.0 beta 1 of GDAL on Monday, Dec 4th at 18:00 UTC.

Howard
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From jcleary at email.unc.edu  Fri Dec  1 14:16:53 2006
From: jcleary at email.unc.edu (Jesse Cleary)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] ogr2ogr shapefile field types (VRT)
In-Reply-To: <45707CAF.4070802@email.unc.edu>
References: <45707CAF.4070802@email.unc.edu>
Message-ID: <45707FA5.8040604@email.unc.edu>

Hi folks -

Please disregard this question, I just figured it out.  Including a 
*.csvt file with field types specified does the trick, even through the 
VRT method.  Sorry...

Jesse



Jesse Cleary wrote:
> Hi folks
>
> I'm using ogr2ogr to convert a CSV file with all numeric values to a 
> shapefile (VRT method).  Is there a way to control the resulting field 
> types in the subsequent dbf?  Inclusion in the VRT file or editing the 
> DBF afterwards?  All of my fields now come out as type string, which 
> limits some easy viz options (symbol rotation for example) for some of 
> our desktop GIS users.  Not a show stopper by any means, but a 
> preemptive fix would be great.  Using GDAL 1.3.2, thanks!
>
>
> Jesse
>
>

-- 
Jesse Cleary				
Department of Marine Sciences	
UNC Chapel Hill

334 Chapman Hall
(919) 962-4987 

jcleary@email.unc.edu











From gok at aerometric-ak.com  Fri Dec  1 21:59:28 2006
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] gdalwarp crashes on LZW compression
Message-ID: <3054411AF4728548AD6D7137190D56B30C4570@admin1.aeromap.com>

I'm new in GDAL. Running gdalwarp.exe reprojecting tif from one coord. system to another got program crashed:

Unhandled exception at 0x004436a0 (msvcr80d.dll) in gdalwarp.exe: 0xC0000005: Access violation writing location 0x00000810.

I was applying LZW compression for output file. Process was went about 30 percent (by dos-progressBar). Output image was being created partially (windows Paint can not read it), no georef info. Packbits compression works fine.

Debug mode shows it stops at ChunkAndWarpImage() command for VSIFReadL() function.
Is in known issue or I'm missing something? Prebuild gdal13d-vc8.dll from October 18, 2006 behaive the same way.
I'm with vc8 wout Xerces, winXP.

gok


From warmerdam at pobox.com  Sat Dec  2 02:07:38 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] ogr2ogr : creating Multipolygones shapefiles from
	Postgis
In-Reply-To: <004e01c71543$5c1d88a0$9601a8c0@PC150>
References: <004e01c71543$5c1d88a0$9601a8c0@PC150>
Message-ID: <4571263A.70604@pobox.com>

Marc Jacquin wrote:
> Hi all,
> 
> For example this works fine for polygons:
> Ogr2ogr -f "ESRI Shapefile" d:/test.shp PG:"dbname=xxxx user=xxx host=xxx
> password=xxx port=xxx" -sql "select the_geom from mytable where .... "
> 
> If you use it with a multipolygon PostGIS geometry, it creates an empty Line
> shapefile.
> 
> I could get around by using the where clause instead of the sql clause:
> 
> Ogr2ogr -f "ESRI Shapefile" d:/test.shp PG:"dbname=xxxx user=xxx host=xxx
> password=xxx port=xxx" mytable -where "...."
> 
> Should I file a bug? 
> 
> I use the binary version of FWTools 1.10.

Marc,

I tried something similar to this with current GDAL/OGR from CVS and wasn't
able to reproduce the problem.  Did FWTools 1.1.0 include the fixes I made
a couple days ago for Bill?  I don't think so.  So I suspect this problem
has already been fixed.

I'd suggest you try again with FWTools 1.1.1 when it comes out (likely
Monday or so) and if the problem persists, then file a bug with lots of
detail on how to reproduce the problems.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From jeffbullard at verizon.net  Sun Dec  3 09:40:02 2006
From: jeffbullard at verizon.net (Jeff Bullard)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] NetCDF CF-1 understood by GDAL?
Message-ID: <1165156802.31353.17.camel@localhost>

I'm using gdal-1.3.2 to read NetCDF-3 CF-1 compliant files from NOAA
NDFD.  GDAL does not seem to pick up the coordinates or projection.
When I type
 
$gdal_translate NETCDF:"200612010300_sky.nc":Sky_SFC sky.tif

I get a TIFF that is upside-down and lacks lat/lon reference.  Unidata
NetCDF 2.2 tools (java) handles the same files without problem, picking
up the coordinates and projection automatically.  What argument can I
pass to gdal_translate to get a correct geotiff?

$ gdalinfo 200612010300_sky.nc
Driver: netCDF/Network Common Data Format
Size is 512, 512
Coordinate System is `'
Metadata:
  NC_GLOBAL#title=GRIB Data translated to NetCDF
  NC_GLOBAL#Conventions=CF-1.0
  NC_GLOBAL#CreatedBy=degrib
  NC_GLOBAL#comment=Used degrib with: -NetCDF 3
  NC_GLOBAL#references=http://www.nws.noaa.gov/mdl/NDFD_GRIB2Decoder/
Subdatasets:
  SUBDATASET_1_NAME=NETCDF:"200612010300_sky.nc":longitude
  SUBDATASET_1_DESC=[689x1073] longitude (32-bit floating-point)
  SUBDATASET_2_NAME=NETCDF:"200612010300_sky.nc":latitude
  SUBDATASET_2_DESC=[689x1073] latitude (32-bit floating-point)
  SUBDATASET_3_NAME=NETCDF:"200612010300_sky.nc":Sky_SFC
  SUBDATASET_3_DESC=[1x689x1073] Sky_SFC (32-bit floating-point)
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  512.0)
Upper Right (  512.0,    0.0)
Lower Right (  512.0,  512.0)
Center      (  256.0,  256.0)


$ ncdump -h 200612010300_sky.nc
netcdf 200612010300_sky {
dimensions:
        ProjectionHr = UNLIMITED ; // (1 currently)
        YCells = 689 ;
        XCells = 1073 ;
variables:
        char MapProjection ;
                MapProjection:long_name = "MapProjection" ;
                MapProjection:grid_mapping_name =
"lambert_conformal_conic" ;
                MapProjection:EarthShape = "sphere" ;
                MapProjection:EarthRadius_KM = 6371.2 ;
                MapProjection:EarthRadius = "6371.200000 km" ;
                MapProjection:standard_parallel = 25. ;
                MapProjection:longitude_of_central_meridian = -95. ;
                MapProjection:latitude_of_projection_origin = 25. ;
                MapProjection:LowerLeftLatitude = 20.191999 ;
                MapProjection:LowerLeftLongitude = -121.554001 ;
        double YCells(YCells) ;
                YCells:units = "m" ;
                YCells:long_name = "y coordinate of projection" ;
                YCells:standard_name = "projection_y_coordinate" ;
                YCells:grid_spacing = "5079.406000 m" ;
                YCells:TrueGridLength_Latitude = 25. ;
                YCells:_CoordinateAxisType = "GeoY" ;
        double XCells(XCells) ;
                XCells:units = "m" ;
                XCells:long_name = "x coordinate of projection" ;
                XCells:standard_name = "projection_x_coordinate" ;
                XCells:grid_spacing = "5079.406000 m" ;
                XCells:TrueGridLength_Latitude = 25. ;
                XCells:_CoordinateAxisType = "GeoX" ;
        float longitude(YCells, XCells) ;
                longitude:long_name = "longitude coordinate" ;
                longitude:units = "degrees_east" ;
                longitude:precision = 6 ;
                longitude:grid_mapping = "MapProjection" ;
                longitude:standard_name = "longitude" ;
                longitude:_CoordinateAxisType = "Lon" ;
        float latitude(YCells, XCells) ;
                latitude:long_name = "latitude coordinate" ;
                latitude:units = "degrees_north" ;
                latitude:precision = 6 ;
                latitude:grid_mapping = "MapProjection" ;
                latitude:standard_name = "latitude" ;
                latitude:_CoordinateAxisType = "Lat" ;
        float Sky_SFC(ProjectionHr, YCells, XCells) ;
                Sky_SFC:long_name = "Total cloud cover" ;
                Sky_SFC:units = "%" ;
                Sky_SFC:coordinates = "longitude latitude" ;
                Sky_SFC:ReferenceTime = 1164931200 ;
                Sky_SFC:ReferenceTimeString = "2006-12-01 00:00:00
00:00" ;
                Sky_SFC:gridType = "SCALAR" ;
                Sky_SFC:level = "SFC" ;
                Sky_SFC:DescriptiveLevel = "0[-] SFC=\"Ground or water
surface\"" ;
                Sky_SFC:OriginatingCenter = 8, 65535 ;
                Sky_SFC:precision = 0 ;
                Sky_SFC:valid_min = 0.f ;
                Sky_SFC:valid_max = 100.f ;
                Sky_SFC:NumMissing = 375560 ;
                Sky_SFC:_FillValue = 9999.f ;
                Sky_SFC:missing_value = 9999.f ;
                Sky_SFC:grid_mapping = "MapProjection" ;
                Sky_SFC:GRIBMessageVersion = 2 ;
                Sky_SFC:GRIBMessageUnits = "%" ;
                Sky_SFC:GRIB2_Discipline = 0 ;
                Sky_SFC:GRIB2_Sect4TemplateNumber = 0 ;
                Sky_SFC:GRIB2_Sect4ParameterCategory = 6 ;
                Sky_SFC:GRIB2_Sect4ParameterNumber = 1 ;
                Sky_SFC:GRIB2_GenerationProcess = 2 ;
                Sky_SFC:GRIB2_FstFixedSurfaceType = 1 ;
                Sky_SFC:GRIB2_FstFixedSurfaceValue = 0. ;
                Sky_SFC:GRIB2_SndFixedSurfaceType = 255 ;
                Sky_SFC:GRIB2_SndFixedSurfaceValue = 0. ;
        short ProjectionHr(ProjectionHr) ;
                ProjectionHr:long_name = "Projection Hour After
ReferenceTime" ;
                ProjectionHr:units = "hours since 2006-12-01 00:00:00
00:00" ;
                ProjectionHr:_CoordinateAxisType = "Time" ;
                ProjectionHr:FirstValidTime = 1164942000 ;
                ProjectionHr:FirstValidTimeString = "2006-12-01 03:00:00
00:00" ;
                ProjectionHr:FirstProjectionHR = 3. ;

// global attributes:
                :title = "GRIB Data translated to NetCDF" ;
                :Conventions = "CF-1.0" ;
                :CreatedBy = "degrib" ;
                :comment = "Used degrib with: -NetCDF 3" ;
                :references =
"http://www.nws.noaa.gov/mdl/NDFD_GRIB2Decoder/" ;
}



From dron at ak4719.spb.edu  Sun Dec  3 11:04:46 2006
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Motion: 1.4.0 Beta Release
In-Reply-To: <339539FD-6907-4776-A57F-52A927EAE89F@iastate.edu>
References: <339539FD-6907-4776-A57F-52A927EAE89F@iastate.edu>
Message-ID: <20061203160446.GA21300@ak4719.spb.edu>

On Fri, Dec 01, 2006 at 08:59:01AM -0600, Howard Butler wrote:
> I move to release 1.4.0 beta 1 of GDAL on Monday, Dec 4th at 18:00 UTC.

+1

-- 
Andrey V. Kiselev
ICQ# 26871517

From warmerdam at pobox.com  Sun Dec  3 19:50:01 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] NetCDF CF-1 understood by GDAL?
In-Reply-To: <1165156802.31353.17.camel@localhost>
References: <1165156802.31353.17.camel@localhost>
Message-ID: <457370B9.2010904@pobox.com>

Jeff Bullard wrote:
> I'm using gdal-1.3.2 to read NetCDF-3 CF-1 compliant files from NOAA
> NDFD.  GDAL does not seem to pick up the coordinates or projection.
> When I type
>  
> $gdal_translate NETCDF:"200612010300_sky.nc":Sky_SFC sky.tif
> 
> I get a TIFF that is upside-down and lacks lat/lon reference.  Unidata
> NetCDF 2.2 tools (java) handles the same files without problem, picking
> up the coordinates and projection automatically.  What argument can I
> pass to gdal_translate to get a correct geotiff?
> 
> $ gdalinfo 200612010300_sky.nc
> Driver: netCDF/Network Common Data Format
> Size is 512, 512
> Coordinate System is `'
> Metadata:
>   NC_GLOBAL#title=GRIB Data translated to NetCDF
>   NC_GLOBAL#Conventions=CF-1.0
>   NC_GLOBAL#CreatedBy=degrib
>   NC_GLOBAL#comment=Used degrib with: -NetCDF 3
>   NC_GLOBAL#references=http://www.nws.noaa.gov/mdl/NDFD_GRIB2Decoder/
> Subdatasets:
>   SUBDATASET_1_NAME=NETCDF:"200612010300_sky.nc":longitude
>   SUBDATASET_1_DESC=[689x1073] longitude (32-bit floating-point)
>   SUBDATASET_2_NAME=NETCDF:"200612010300_sky.nc":latitude
>   SUBDATASET_2_DESC=[689x1073] latitude (32-bit floating-point)
>   SUBDATASET_3_NAME=NETCDF:"200612010300_sky.nc":Sky_SFC
>   SUBDATASET_3_DESC=[1x689x1073] Sky_SFC (32-bit floating-point)

Jeff,

What does "gdalinfo NETCDF:"200612010300_sky.nc":Sky_SFC" report?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From alankeown at southernphone.com.au  Sun Dec  3 20:02:04 2006
From: alankeown at southernphone.com.au (Alan)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] (no subject)
Message-ID: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>

Following the advice in
http://www.nabble.com/forum/ViewPost.jtp?post=7196645
<http://www.nabble.com/forum/ViewPost.jtp?post=7196645&framed=y> &framed=y

 

I completed  " nmake -f makefile.vc interface"  successfully, 

but "nmake -f makefile.vc"

gives the following error:

C:\CVSCheckout\GDAL\SWIGC#\swig\csharp>nmake -f makefile.vc

 

Microsoft (R) Program Maintenance Utility   Version 6.00.9782.0

Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

 

        sn -k gdal.snk

'sn' is not recognized as an internal or external command,

operable program or batch file.

NMAKE : fatal error U1077: 'sn' : return code '0x1'

Stop.

 

Could someone please suggest what I'm missing?

Thanks

AlanK

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061204/22760c3f/attachment.html
From hobu at iastate.edu  Sun Dec  3 20:18:10 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] (no subject)
In-Reply-To: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
Message-ID: <09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>

C# and .NET require MSVC 2003.  It appears as though you are using  
MSVC6.

Howard
On Dec 3, 2006, at 7:02 PM, Alan wrote:

> Following the advice in http://www.nabble.com/forum/ViewPost.jtp? 
> post=7196645&framed=y
>
>
>
> I completed  ? nmake -f makefile.vc interface?  successfully,
>
> but ?nmake -f makefile.vc?
>
> gives the following error:
>
> C:\CVSCheckout\GDAL\SWIGC#\swig\csharp>nmake -f makefile.vc
>
>
>
> Microsoft (R) Program Maintenance Utility   Version 6.00.9782.0
>
> Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
>
>
>
>         sn -k gdal.snk
>
> 'sn' is not recognized as an internal or external command,
>
> operable program or batch file.
>
> NMAKE : fatal error U1077: 'sn' : return code '0x1'
>
> Stop.
>
>
>
> Could someone please suggest what I?m missing?
>
> Thanks
>
> AlanK
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev



From alankeown at southernphone.com.au  Sun Dec  3 21:46:51 2006
From: alankeown at southernphone.com.au (Alan)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] (no subject)
In-Reply-To: <8165B50D-8C78-4773-808F-A5A0723CA0B7@iastate.edu>
Message-ID: <000f01c7174e$7463bd50$6401a8c0@ALANMAIN>

Thanks again Howard,
The answer is:
"Open a "Visual Studio Command Prompt". A shortcut to do that was also
installed with Visual Studio."
I'm back on track now.
Cheers
PS Sorry about the personal reply...


-----Original Message-----
From: Howard Butler [mailto:hobu@iastate.edu] 
Sent: Monday, 4 December 2006 1:25 PM
To: Alan
Subject: Re: [Gdal-dev] (no subject)

if you have both installed, it is probably some combination of  
running vcvars.bat for the right compiler and maybe some PATH  
hacking.  I've never had both installed at the same time and don't  
know how they interact with each other though.


On Dec 3, 2006, at 7:38 PM, Alan wrote:

> Thanks Howard,
> Now that I've exposed my total lack of expertise:
>  How do make the MSVC 2003 nmake run instead of the MSVC 6 nmake ?
> Cheers
> AlanK
>
> -----Original Message-----
> From: Howard Butler [mailto:hobu@iastate.edu]
> Sent: Monday, 4 December 2006 12:18 PM
> To: Alan
> Cc: gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] (no subject)
>
> C# and .NET require MSVC 2003.  It appears as though you are using
> MSVC6.
>
> Howard
> On Dec 3, 2006, at 7:02 PM, Alan wrote:
>
>> Following the advice in http://www.nabble.com/forum/ViewPost.jtp?
>> post=7196645&framed=y
>>
>>
>>
>> I completed  " nmake -f makefile.vc interface"  successfully,
>>
>> but "nmake -f makefile.vc"
>>
>> gives the following error:
>>
>> C:\CVSCheckout\GDAL\SWIGC#\swig\csharp>nmake -f makefile.vc
>>
>>
>>
>> Microsoft (R) Program Maintenance Utility   Version 6.00.9782.0
>>
>> Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
>>
>>
>>
>>         sn -k gdal.snk
>>
>> 'sn' is not recognized as an internal or external command,
>>
>> operable program or batch file.
>>
>> NMAKE : fatal error U1077: 'sn' : return code '0x1'
>>
>> Stop.
>>
>>
>>
>> Could someone please suggest what I'm missing?
>>
>> Thanks
>>
>> AlanK
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


From archer at eskimo.com  Sun Dec  3 23:52:44 2006
From: archer at eskimo.com (Curt Mills)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
Message-ID: <Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>


I need to do a static compile of my app.  I've been able to compile
Shapelib, proj, geotiff, and a few other libraries statically so
far.

I'd like to get GDAL compiled in, of which we use some of the OGR
functions, but I recall reading earlier about some problems with
static compiles of GDAL.  Is there a way to get OGR or the full
GDAL/OGR library compiled statically these days?

There's also a way under Linux Standard Base rules to distribute a
shared library along with the application, so that's my backup plan.
I'd much rather distribute the entire thing statically linked if
possible though.  Any hope?

-- 
Curt, WE7U.				archer at eskimo dot com
http://www.eskimo.com/~archer
  Lotto:  A tax on people who are bad at math. - unknown
Windows:  Microsoft's tax on computer illiterates. - WE7U.
The world DOES revolve around me:  I picked the coordinate system!"

From ivan at ilucena.net  Mon Dec  4 01:12:45 2006
From: ivan at ilucena.net (ivan@ilucena.net)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
Message-ID: <20061204061245.B914C4F542@ws6-5.us4.outblaze.com>

Folks,

This message is about a RFC proposal that I have prepared and placed at http://www.gdal.org/rfc9_com.html.

I understand that the interest in a COM interface is limited to Windows developers only but it goes way beyond just one programming language as shown in the source code samples.

That said I believe there is enough interest for this development, because a COM interface will expose GDAL to a large number of programming environment through a common interface and a unified documentation, extending the use of GDAL to a bigger audience.

As developers we hardly have the option to choose our programming-language-of-preference when dealing with legacy code. But the idea is that as long as COM is supported in the programming environment GDAL should be supported too, with the same behavior, same methods names, same parameters name, and parameter order.

Therefore I am looking for a +1 from the GDAL Project Management Committee members to go ahead and place the current implementation on the GDAL source repository and proceed with the development.

Thank you in advance for your attention,

Ivan Lucena


---
PS. I have nothing against UNIX or other OS. I have worked with Solaris, AIX, IRIX, and others UNIX for years (89-99) and I have just replaced my Red Hat by Ubuntu, so let?s see what I can do with that...




From alankeown at southernphone.com.au  Mon Dec  4 02:12:53 2006
From: alankeown at southernphone.com.au (Alan)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
Message-ID: <002f01c71773$9e5a62b0$6401a8c0@ALANMAIN>

Dear List,

Using today's CVS, I've built the gdal13.dll (thanks to Howard)

And run nmake with the interface option at /swig/csharp/

 

When I run nmake -f makefile.vc using the MSVC 2003 nmake I get the
following error:

 

ogr\Geometry.cs(45,1): error CS1519: Invalid token '{' in class, struct, or

        interface member declaration

 

It turns out there is a stray "{}" pair in the ogr\Geometry.cs file
surrounding 

public int ExportToWkb( byte[] buffer, int byte_order )

and

public int ExportToWkb( byte[] buffer )

 

If I edit the ogr\Geometry.cs file I get an error at 

 

gdal\Band.cs(17,58): error CS1525: Invalid expression term ''

gdal\Band.cs(17,59): error CS1026: ) expected

gdal\Band.cs(19,4): error CS1513: } expected

gdal\Band.cs(40,1): error CS1519: Invalid token '{' in class, struct, or

        interface member declaration

 

Could someone tell me if I'm doing something wrong?

 

Thanks

AlanK

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061204/07e2831b/attachment.html
From jdgonon at gi-lemans.com  Mon Dec  4 04:48:50 2006
From: jdgonon at gi-lemans.com (Jean-Daniel GONON)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Debug assertion failed in GDAL/OGR-1.3.2
References: <200612021710.kB2HAsc7028874@duke.maptools.org>
Message-ID: <004701c71789$669c5bb0$6469850a@gi.com>

>
> Jean,
>
> I haven't been following this thread at all, but there are a couple of
> common problems that occur when compiling gdal against xerces so I'll just
> throw some questions out there in the hopes that it helps you solve your
> problem.
>
> When compiling gdal, is wchar_t being used as a built in type?
>
> Project -> Properties -> C++ -> Language -> Treat wchar_t as a built in 
> Type
> should be set to "No"
>
> Are you linking against the appropriate debug/release version of xerces 
> when
> building?
>
> Are you copying the xerces dll to your project along with the gdal dll?
>
> --Craig
>
Hi Craig

I verified that you said : wchar_t being used as a built in type is set to 
NO.

I copy/paste xerces dll with the gdal dll, but that didn't correct anything.

I tested debug/release version of xerces2.7.0, but I have the same errors

Mateusz Loskot gave me several ideas, but it was not good

JD 


From szekerest at gmail.com  Mon Dec  4 04:52:41 2006
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
In-Reply-To: <002f01c71773$9e5a62b0$6401a8c0@ALANMAIN>
References: <002f01c71773$9e5a62b0$6401a8c0@ALANMAIN>
Message-ID: <f3b73b7d0612040152k6efbeec9yf09fed6c6a7081d0@mail.gmail.com>

Alan,

I guess you are using a SWIG version older than 1.3.27 which is not supported.
I recommend to use the latest SWIG release (1.3.31).

However if you would like to use 1.3.27 checkout the latest CVS since
a minor modification
had to be applied.

Best Regards,

Tamas



2006/12/4, Alan <alankeown@southernphone.com.au>:
>
>
>
>
> Dear List,
>
> Using today's CVS, I've built the gdal13.dll (thanks to Howard)
>
> And run nmake with the interface option at /swig/csharp/
>
>
>
> When I run nmake ?f makefile.vc using the MSVC 2003 nmake I get the
> following error:
>
>
>
> ogr\Geometry.cs(45,1): error CS1519: Invalid token '{' in class, struct, or
>
>         interface member declaration
>
>
>
> It turns out there is a stray "{}" pair in the ogr\Geometry.cs file
> surrounding
>
> public int ExportToWkb( byte[] buffer, int byte_order )
>
> and
>
> public int ExportToWkb( byte[] buffer )
>
>
>
> If I edit the ogr\Geometry.cs file I get an error at
>
>
>
> gdal\Band.cs(17,58): error CS1525: Invalid expression term ''
>
> gdal\Band.cs(17,59): error CS1026: ) expected
>
> gdal\Band.cs(19,4): error CS1513: } expected
>
> gdal\Band.cs(40,1): error CS1519: Invalid token '{' in class, struct, or
>
>         interface member declaration
>
>
>
> Could someone tell me if I'm doing something wrong?
>
>
>
> Thanks
>
> AlanK
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


From schut at sarvision.nl  Mon Dec  4 06:42:11 2006
From: schut at sarvision.nl (Vincent Schut)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] ngpython compile error (python2.5 / amd64)
Message-ID: <45740993.1030603@sarvision.nl>

I just did a cvs update and saw some files come along that strongly 
suggested the appearance of numpy support in gdal's ngpython module. So 
I thought I'd give it a try. However, on building the ngpython gdal 
extension I get this error, which is possible related to me using 1) 
python2.5, and 2) an amd64 (linux) pc.


building '_gdal' extension
creating build/temp.linux-x86_64-2.5
x86_64-pc-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -fPIC 
-I../../port -I../../gcore -I../../alg -I../../ogr 
-I/usr/lib64/python2.5/site-packages/numpy/core/include 
-I/usr/include/python2.5 -c gdal_wrap.cpp -o 
build/temp.linux-x86_64-2.5/gdal_wrap.o
gdal_wrap.cpp: In function 'int 
SWIG_Python_ConvertFunctionPtr(PyObject*, void**, swig_type_info*)':
gdal_wrap.cpp:2051: error: invalid conversion from 'const char*' to 'char*'
gdal_wrap.cpp: In function 'int SWIG_AsCharPtrAndSize(PyObject*, char**, 
size_t*, int*)':
gdal_wrap.cpp:2657: error: cannot convert 'int*' to 'Py_ssize_t*' for 
argument '3' to 'int PyString_AsStringAndSize(PyObject*, char**, 
Py_ssize_t*)'
gdal_wrap.cpp: In function 'PyObject* 
_wrap_Dataset_WriteRaster(PyObject*, PyObject*, PyObject*)':
gdal_wrap.cpp:7537: error: cannot convert 'int*' to 'Py_ssize_t*' for 
argument '3' to 'int PyString_AsStringAndSize(PyObject*, char**, 
Py_ssize_t*)'
gdal_wrap.cpp: In function 'PyObject* _wrap_Band_WriteRaster(PyObject*, 
PyObject*, PyObject*)':
gdal_wrap.cpp:9102: error: cannot convert 'int*' to 'Py_ssize_t*' for 
argument '3' to 'int PyString_AsStringAndSize(PyObject*, char**, 
Py_ssize_t*)'
gdal_wrap.cpp: In function 'void SWIG_Python_FixMethods(PyMethodDef*, 
swig_const_info*, swig_type_info**, swig_type_info**)':
gdal_wrap.cpp:11099: error: invalid conversion from 'const char*' to 'char*'
error: command 'x86_64-pc-linux-gnu-gcc' failed with exit status 1
make[2]: *** [install] Error 1
make[2]: Leaving directory `/usr/local/src/gdal/swig/python'
make[1]: *** [install] Error 2
make[1]: Leaving directory `/usr/local/src/gdal/swig'
make: *** [install-actions] Error 2


Cheers,
Vincent.

From szekerest at gmail.com  Mon Dec  4 07:39:02 2006
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
In-Reply-To: <20061204061245.B914C4F542@ws6-5.us4.outblaze.com>
References: <20061204061245.B914C4F542@ws6-5.us4.outblaze.com>
Message-ID: <f3b73b7d0612040439g660fd73elad9144a93e37ca2f@mail.gmail.com>

Ivan,

It would be a great addition :-)

Some further information might be required about the details of the
implementation to decide how the changes affect the other parts of the
gdal, and how difficult would it be to keep the interface synchronized
with the other API-s like SWIG.

Best Regards,


Tamas


2006/12/4, ivan@ilucena.net <ivan@ilucena.net>:
> Folks,
>
> This message is about a RFC proposal that I have prepared and placed at http://www.gdal.org/rfc9_com.html.
>
> I understand that the interest in a COM interface is limited to Windows developers only but it goes way beyond just one programming language as shown in the source code samples.
>
> That said I believe there is enough interest for this development, because a COM interface will expose GDAL to a large number of programming environment through a common interface and a unified documentation, extending the use of GDAL to a bigger audience.
>
> As developers we hardly have the option to choose our programming-language-of-preference when dealing with legacy code. But the idea is that as long as COM is supported in the programming environment GDAL should be supported too, with the same behavior, same methods names, same parameters name, and parameter order.
>
> Therefore I am looking for a +1 from the GDAL Project Management Committee members to go ahead and place the current implementation on the GDAL source repository and proceed with the development.
>
> Thank you in advance for your attention,
>
> Ivan Lucena
>
>
> ---
> PS. I have nothing against UNIX or other OS. I have worked with Solaris, AIX, IRIX, and others UNIX for years (89-99) and I have just replaced my Red Hat by Ubuntu, so let's see what I can do with that...
>
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>

From jdjohnso at google.com  Mon Dec  4 09:05:06 2006
From: jdjohnso at google.com (John Johnson)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Re: Any possibility of static compile?
Message-ID: <d0b0f8b0612040605u2c085552q997f723a2b355e6c@mail.gmail.com>

>
> Date: Sun, 3 Dec 2006 20:52:44 -0800 (PST)
> From: Curt Mills <archer@eskimo.com>
> Subject: [Gdal-dev] Any possibility of static compile?
> To: gdal-dev@lists.maptools.org
> Message-ID: <Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
> Content-Type: TEXT/PLAIN; charset=US-ASCII
>
> I need to do a static compile of my app.  I've been able to compile
> Shapelib, proj, geotiff, and a few other libraries statically so
> far.


If you use OGDI, it's a no-go for a completely static build. That library
explicitly runs dlopen on itself.


I'd like to get GDAL compiled in, of which we use some of the OGR
> functions, but I recall reading earlier about some problems with
> static compiles of GDAL.  Is there a way to get OGR or the full
> GDAL/OGR library compiled statically these days?


I've been maintaining patches to do static builds of GDAL/OGR for the last
three years. Only recently (3 months?) did we switch to the more common
shared library builds.

Most of the problems came from the integration of various 3rdparty libraries
into the static build of GDAL (Kakadu, libecw, etc.). Some of these relied
on initialization routines being called from their shared library
initializers. And there were a few other issues along the same line. Another
large class of problems was the GDAL configure/make rules for integrating
the 3rdparty libraries. These were the most problematic patches to maintain
since the configure and makefiles are autogenerated and can change
significantly between releases of GDAL. At one point I was maintaining apx
25 patches (not all for static builds). I just got tired of the maintenance
and decided to change my installation of GDAL to be a shared library just to
avoid the headaches. I'm down to 11 patches now for 1.3.2 builds. Fully half
of those will go away with the next release since they've already been
rolled into the source repository (gcc 4.1 fixes and the like). The rest are
little ones for 3rdparty library integration.

If you compile in a large number of 3rdparty libraries, my personal
experience tells me it's more work to maintain the static builds than it is
to maintain the shared library in your distribution.


-- 
John Johnson <jdjohnso@google.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061204/1ca85496/attachment.html
From mateusz at loskot.net  Mon Dec  4 09:21:14 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
In-Reply-To: <f3b73b7d0612040439g660fd73elad9144a93e37ca2f@mail.gmail.com>
References: <20061204061245.B914C4F542@ws6-5.us4.outblaze.com>
	<f3b73b7d0612040439g660fd73elad9144a93e37ca2f@mail.gmail.com>
Message-ID: <45742EDA.1060305@loskot.net>

Tamas Szekeres wrote:
> Ivan,
> 
> It would be a great addition :-)
> 
> Some further information might be required about the details of the
> implementation to decide how the changes affect the other parts of the
> gdal, and how difficult would it be to keep the interface synchronized
> with the other API-s like SWIG.

I think one of the biggest advantage of COM API is Interop,
automatically and directly accessible from .NET languages.
So, COM components may be used from .NET without problems.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net


From warmerdam at pobox.com  Mon Dec  4 11:29:05 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
In-Reply-To: <20061204061245.B914C4F542@ws6-5.us4.outblaze.com>
References: <20061204061245.B914C4F542@ws6-5.us4.outblaze.com>
Message-ID: <45744CD1.8080301@pobox.com>

ivan@ilucena.net wrote:
> Folks,
> 
> This message is about a RFC proposal that I have prepared and placed at
> http://www.gdal.org/rfc9_com.html.

Ivan,

Some things I think that should be clarified in the RFC:

  1) Where will all this source live?  Perhaps in gdal/com?

  2) You indicate the build mechanism will be separate from the regular
     gdal builds.  Can you explain a bit more about this?  Will the build
     be based on a visual studio project file instead of makefiles?

  3) What build environments will be supported? Only visual studio?  If so,
     what versions?

  4) What timeline and GDAL verison are you looking to incorporate into?
     Presumably this will go into the development branch (aka 1.5.0-dev)
     after the 1.4.0 release?

  5) What kind of documentation are you planning to provide for users?

  6) How complete a coverage are you planning?  Pretty much everything
     handled by the swig wrappers?  Only GDAL?  Only the pieces you find
     you need?

My understanding is that the C# bindings are accessable from any .net language.
So it seems that the COM interfaces will mainly be of interest to Delphi
developers - is that right?  I must confess to being a little confused by
changes in Microsoft object technology, but my understanding was that the
.net approach to object provision is now preferred to COM objects.

Generally speaking I am supportive of inclusion of COM support but I would
like to see another pass on the RFC to clarify the above points.  I'd also
stress that the current project direction is still to prefer the c# bindings
as our ".net solution" - I'd appreciate comment on whether that makes sense.
Also, does Delphi really have no convenient way of calling .net services?
It seems like an obvious step for Borland to take.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From mateusz at loskot.net  Mon Dec  4 12:03:35 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
In-Reply-To: <45744CD1.8080301@pobox.com>
References: <20061204061245.B914C4F542@ws6-5.us4.outblaze.com>
	<45744CD1.8080301@pobox.com>
Message-ID: <457454E7.7080409@loskot.net>

Frank Warmerdam wrote:
> ivan@ilucena.net wrote:
>> Folks,
>>
>> This message is about a RFC proposal that I have prepared and placed at
>> http://www.gdal.org/rfc9_com.html.
> 
> Ivan,
> 
> Some things I think that should be clarified in the RFC:

Ivan, Frank,

I hope you don't mind I'll join this discussion and share some comments:

>  3) What build environments will be supported? Only visual studio?  If so,
>     what versions?

ATL is usable only with Visual C++ compiler.
It is not possible to build ATL-based stuff with GCC (MinGW) or any
other compilers.

> My understanding is that the C# bindings are accessable from any .net
> language.

I believe so too.

> So it seems that the COM interfaces will mainly be of interest to Delphi
> developers - is that right?

There is also possible target client in Web components like ActiveX
controls for Web. Also Visual Basic 6 could use it.
Certainly, .NET and native C/C++ coders can be COM clients as well.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From szekerest at gmail.com  Mon Dec  4 12:24:12 2006
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
In-Reply-To: <45742EDA.1060305@loskot.net>
References: <20061204061245.B914C4F542@ws6-5.us4.outblaze.com>
	<f3b73b7d0612040439g660fd73elad9144a93e37ca2f@mail.gmail.com>
	<45742EDA.1060305@loskot.net>
Message-ID: <f3b73b7d0612040924v1c1b946fpd51a0ffe4fcc693d@mail.gmail.com>

2006/12/4, Mateusz Loskot <mateusz@loskot.net>:
> Tamas Szekeres wrote:
> > Ivan,
> >
> > It would be a great addition :-)
> >
> > Some further information might be required about the details of the
> > implementation to decide how the changes affect the other parts of the
> > gdal, and how difficult would it be to keep the interface synchronized
> > with the other API-s like SWIG.
>
> I think one of the biggest advantage of COM API is Interop,
> automatically and directly accessible from .NET languages.
> So, COM components may be used from .NET without problems.
>

Mateusz,

I have no doubt about it. However it will bring in an additional layer
(the COM interop layer)
for the .NET application. In some cases the application might not
tolerate this kind of extra overhead it involves. However in some
cases it may help to solve some of the problems we suffer from, like
the threading issues.
Once again I would support this solution highly if the user will have
all of the information for choosing the right one in a particular
situation. And it would also be expected to keep the multiple
interfaces synchronized to avoid the confusion when using the same
functionality.
This solution is platform dependent and will suffer from the issues
have been addresses to solve by using a pure .NET approach.  But the
user might be aware of the benefits and the disadvantages when using
this or that interface.


Ivan,

Which threading model you intend to use in your COM component?

Best Regards,

Tamas

From ivan at ilucena.net  Mon Dec  4 12:36:00 2006
From: ivan at ilucena.net (Ivan Lucena)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
Message-ID: <20061204173601.0E4A24FB5A@ws6-5.us4.outblaze.com>

Tomaz,

Thanks for you message. I will answer those questions when I reply to Frank, Ok?

Ivan

> ----- Original Message -----
> From: "Tamas Szekeres" <szekerest@gmail.com>
> To: "ivan@ilucena.net" <ivan@ilucena.net>
> Subject: Re: [Gdal-dev] RFC 9: ATL Based COM Interface
> Date: Mon, 4 Dec 2006 13:39:02 +0100
> 
> 
> Ivan,
> 
> It would be a great addition :-)
> 
> Some further information might be required about the details of the
> implementation to decide how the changes affect the other parts of the
> gdal, and how difficult would it be to keep the interface synchronized
> with the other API-s like SWIG.
> 
> Best Regards,
> 
> 
> Tamas
> 
> 
> 2006/12/4, ivan@ilucena.net <ivan@ilucena.net>:
> > Folks,
> >
> > This message is about a RFC proposal that I have prepared and placed at 
> > http://www.gdal.org/rfc9_com.html.
> >
> > I understand that the interest in a COM interface is limited to Windows 
> > developers only but it goes way beyond just one programming language as 
> > shown in the source code samples.
> >
> > That said I believe there is enough interest for this development, because 
> > a COM interface will expose GDAL to a large number of programming 
> > environment through a common interface and a unified documentation, 
> > extending the use of GDAL to a bigger audience.
> >
> > As developers we hardly have the option to choose our 
> > programming-language-of-preference when dealing with legacy code. But the 
> > idea is that as long as COM is supported in the programming environment 
> > GDAL should be supported too, with the same behavior, same methods names, 
> > same parameters name, and parameter order.
> >
> > Therefore I am looking for a +1 from the GDAL Project Management Committee 
> > members to go ahead and place the current implementation on the GDAL source 
> > repository and proceed with the development.
> >
> > Thank you in advance for your attention,
> >
> > Ivan Lucena
> >
> >
> > ---
> > PS. I have nothing against UNIX or other OS. I have worked with Solaris, 
> > AIX, IRIX, and others UNIX for years (89-99) and I have just replaced my 
> > Red Hat by Ubuntu, so let's see what I can do with that...
> >
> >
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
> >

>



From bthoen at gisnet.com  Mon Dec  4 12:44:12 2006
From: bthoen at gisnet.com (Bill Thoen)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Need Help with ogr2ogr Import Shapefile Error
Message-ID: <20061204174411.GA19605@www.gisnet.com>

I just tried to import a shapefile into an empty database,but got an error
I don't understand. Can anyone tell me what's wrong and how to fix this?

The table is projected in the NAD83 UTM zone 16 system. The shapefile has
associated .dbf, .prj, .sbn, .sbx, .shp, .shp.xml, and .shx files.
Here's what I tried:

$ ogr2ogr -update -append -f PostgreSQL PG:dbname=clu 
   clu_001ilna04_U.shp -a_srs EPSG:26916

ERROR 1: INSERT command for new feature failed.
ERROR:  new row for relation "clu_001ilna04_U" violates check constraint
"enforce_geotype_wkb_geometry"

Command: INSERT INTO "clu_001ilna04_U" (wkb_geometry , "calcacres",
"fid_clu_pu", "fid_raster", "gridcode", "id") VALUES
(GeomFromEWKT('SRID=32767;MULTIPOLYGON (((644362.065155122079886
4450705.620940338820219,644363.544632167438976
4450692.674534672871232,644362.506020959932357
4450668.265126464888453,644361.73160208191257
4450667.269374941475689,644350.386709051439539
4450666.500845180824399,644348.361834342591465
4450696.390567463822663,644318.472275645937771
4450694.365692755207419,644320.015551458112895
4450671.584788967855275,644310.571207334287465
4450677.094057868234813,644295.510117926285602
4450688.519762669689953,644286.307391183683649
4450705.73757757153362,644362.065155122079886
4450705.620940338820219)),((644350.68460021680221
4450662.102819930762053,644347.444931551930495
4450661.513744649477303,644332.707743575796485
4450665.303227815777063,644350.386709051439539
4450666.500845180824399,644350.68460021680221
4450662.102819930762053)))'::TEXT) ,     0.61, 1, 4857272, 61, 4857273)

ERROR 1: Terminating translation prematurely after failed
translation of layer clu_001ilna04_U

TIA,

- Bill Thoen


From warmerdam at pobox.com  Mon Dec  4 12:46:00 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
Message-ID: <45745ED8.9030805@pobox.com>

Curt Mills wrote:
> I need to do a static compile of my app.  I've been able to compile
> Shapelib, proj, geotiff, and a few other libraries statically so
> far.
> 
> I'd like to get GDAL compiled in, of which we use some of the OGR
> functions, but I recall reading earlier about some problems with
> static compiles of GDAL.  Is there a way to get OGR or the full
> GDAL/OGR library compiled statically these days?
> 
> There's also a way under Linux Standard Base rules to distribute a
> shared library along with the application, so that's my backup plan.
> I'd much rather distribute the entire thing statically linked if
> possible though.  Any hope?

Curt,

John pointed out some of the issues.  For what it is worth, I was able
to issue the following command against my local GDAL build:


  gcc -Ibld/include gdal/apps/gdalinfo.c gdal/libgdal.a -L/usr/local/lib -lgeos 
-lgeos_c -L/usr/local/lib -lxerces-c -lpthread -lNCSEcw -lNCSCnet -lNCSUtil 
-L/home/warmerda/pkg/HDF4.2r1/NewHDF/lib -lmfhdf -ldf -ljpeg -ltiff -lpng -lpq 
-L/usr/lib/postgresql/8.0/lib -lpq -lz -lpthread -lm -lrt -ldl 
-L/home/warmerda/pkg/kakadu-5.1/lib -lkdu -lsqlite3 -L/usr/lib -lcurl -lidn 
-lssl -lcrypto -ldl -lssl -lcrypto -ldl -lz -L/usr/lib -lmysqlclient -lz 
-lcrypt -lnsl -lm -o gdalinfo

This produced a gdalinfo executable with GDAL statically linked in, though
the various support libraries were still .so's.  I did this by configuring
GDAL "--without-libtool" and then linking against gdal/libgdal.a.  Essentially
I took the build's "gdal-config --libs" output replaced the part about -lgdal
itself with the path to libgdal.a, and used the rest unchanged.

So, one data point says static builds are doable.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From alankeown at southernphone.com.au  Mon Dec  4 13:02:53 2006
From: alankeown at southernphone.com.au (Alan)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
In-Reply-To: <f3b73b7d0612040152k6efbeec9yf09fed6c6a7081d0@mail.gmail.com>
Message-ID: <007b01c717ce$6c46a760$6401a8c0@ALANMAIN>

Thank you Tamas.
I will try with the latest SWIG release. (I am only using 1.3.25 because it
is the one referred to in the nmake.opt file.)
Cheers
AlanK

-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: Monday, 4 December 2006 8:53 PM
To: Alan
Cc: Gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Build csharp swig (from real newbie)

Alan,

I guess you are using a SWIG version older than 1.3.27 which is not
supported.
I recommend to use the latest SWIG release (1.3.31).

However if you would like to use 1.3.27 checkout the latest CVS since
a minor modification
had to be applied.

Best Regards,

Tamas



2006/12/4, Alan <alankeown@southernphone.com.au>:
>
>
>
>
> Dear List,
>
> Using today's CVS, I've built the gdal13.dll (thanks to Howard)
>
> And run nmake with the interface option at /swig/csharp/
>
>
>
> When I run nmake -f makefile.vc using the MSVC 2003 nmake I get the
> following error:
>
>
>
> ogr\Geometry.cs(45,1): error CS1519: Invalid token '{' in class, struct,
or
>
>         interface member declaration
>
>
>
> It turns out there is a stray "{}" pair in the ogr\Geometry.cs file
> surrounding
>
> public int ExportToWkb( byte[] buffer, int byte_order )
>
> and
>
> public int ExportToWkb( byte[] buffer )
>
>
>
> If I edit the ogr\Geometry.cs file I get an error at
>
>
>
> gdal\Band.cs(17,58): error CS1525: Invalid expression term ''
>
> gdal\Band.cs(17,59): error CS1026: ) expected
>
> gdal\Band.cs(19,4): error CS1513: } expected
>
> gdal\Band.cs(40,1): error CS1519: Invalid token '{' in class, struct, or
>
>         interface member declaration
>
>
>
> Could someone tell me if I'm doing something wrong?
>
>
>
> Thanks
>
> AlanK
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


From fcollier at preparedresponse.com  Mon Dec  4 13:11:18 2006
From: fcollier at preparedresponse.com (Frances Collier)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Need Help with ogr2ogr Import Shapefile Error
In-Reply-To: <20061204174411.GA19605@www.gisnet.com>
Message-ID: <006601c717cf$98c9f570$125aa8c0@devfrances>

After running the ogr2ogr command, it created a table, correct? What's the
geometry of the table? I've had this problem before and it was because the
"enforce_geotype_wkb_geometry" was set to "Polygon". I had to change the
table to "enforce_geotype_wkb_geometry=multipolygon". 

-Frances

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Bill Thoen
Sent: Monday, December 04, 2006 9:44 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Need Help with ogr2ogr Import Shapefile Error

I just tried to import a shapefile into an empty database,but got an error
I don't understand. Can anyone tell me what's wrong and how to fix this?

The table is projected in the NAD83 UTM zone 16 system. The shapefile has
associated .dbf, .prj, .sbn, .sbx, .shp, .shp.xml, and .shx files.
Here's what I tried:

$ ogr2ogr -update -append -f PostgreSQL PG:dbname=clu 
   clu_001ilna04_U.shp -a_srs EPSG:26916

ERROR 1: INSERT command for new feature failed.
ERROR:  new row for relation "clu_001ilna04_U" violates check constraint
"enforce_geotype_wkb_geometry"

Command: INSERT INTO "clu_001ilna04_U" (wkb_geometry , "calcacres",
"fid_clu_pu", "fid_raster", "gridcode", "id") VALUES
(GeomFromEWKT('SRID=32767;MULTIPOLYGON (((644362.065155122079886
4450705.620940338820219,644363.544632167438976
4450692.674534672871232,644362.506020959932357
4450668.265126464888453,644361.73160208191257
4450667.269374941475689,644350.386709051439539
4450666.500845180824399,644348.361834342591465
4450696.390567463822663,644318.472275645937771
4450694.365692755207419,644320.015551458112895
4450671.584788967855275,644310.571207334287465
4450677.094057868234813,644295.510117926285602
4450688.519762669689953,644286.307391183683649
4450705.73757757153362,644362.065155122079886
4450705.620940338820219)),((644350.68460021680221
4450662.102819930762053,644347.444931551930495
4450661.513744649477303,644332.707743575796485
4450665.303227815777063,644350.386709051439539
4450666.500845180824399,644350.68460021680221
4450662.102819930762053)))'::TEXT) ,     0.61, 1, 4857272, 61, 4857273)

ERROR 1: Terminating translation prematurely after failed
translation of layer clu_001ilna04_U

TIA,

- Bill Thoen

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev

-- 
No virus found in this incoming message.
Checked by AVG Free Edition.
Version: 7.1.409 / Virus Database: 268.15.6/568 - Release Date: 12/4/2006
 

-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.409 / Virus Database: 268.15.6/568 - Release Date: 12/4/2006
 



From archer at eskimo.com  Mon Dec  4 13:14:33 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
Message-ID: <Pine.SUN.4.58.0612041007110.1260@eskimo.com>

On Sun, 3 Dec 2006, Curt Mills wrote:

> I need to do a static compile of my app.  I've been able to compile
> Shapelib, proj, geotiff, and a few other libraries statically so
> far.
>
> I'd like to get GDAL compiled in, of which we use some of the OGR
> functions, but I recall reading earlier about some problems with
> static compiles of GDAL.  Is there a way to get OGR or the full
> GDAL/OGR library compiled statically these days?
>
> There's also a way under Linux Standard Base rules to distribute a
> shared library along with the application, so that's my backup plan.
> I'd much rather distribute the entire thing statically linked if
> possible though.  Any hope?

To be more specific:  The "Building GDAL From Source" web page says
this:


  "You could just link against the static libraries (normally
   gdal/gdal.a gdal/ogr/ogr.a gdal/frmts/o/ *.a gdal/gdal.a
   gdal/port/cpl.a)..."


Yes, the "gdal/gdal.a" portion is listed twice there and yes it has
a space listed before the "*" (probably shouldn't).

No, I can't find any *.a files other than "gdal.a" in the build:


  > find . -type f -print | grep "\.a"
  ./pymod/.libs/_gdalmodule.a
  ./ogr/ogrsf_frmts/ili/iom/LICENSE.apache
  ./.libs/libgdal.a


It was compiled like this:


  CC=lsbcc ./configure \
      --prefix=/opt/lsb-gdal \
      --exec_prefix=/opt/lsb-gdal \
      --enable-static


Does the GDAL build no longer support building static versions of
all the libraries?  Are there some easy tweaks to get a static
compile working again?

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From bthoen at gisnet.com  Mon Dec  4 13:38:49 2006
From: bthoen at gisnet.com (Bill Thoen)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Need Help with ogr2ogr Import Shapefile Error
In-Reply-To: <006601c717cf$98c9f570$125aa8c0@devfrances>
References: <20061204174411.GA19605@www.gisnet.com>
	<006601c717cf$98c9f570$125aa8c0@devfrances>
Message-ID: <20061204183849.GA19815@www.gisnet.com>

On Mon, Dec 04, 2006 at 10:11:18AM -0800, Frances Collier wrote:
> After running the ogr2ogr command, it created a table, correct? What's the
> geometry of the table? I've had this problem before and it was because the
> "enforce_geotype_wkb_geometry" was set to "Polygon". I had to change the
> table to "enforce_geotype_wkb_geometry=multipolygon". 

That seems to be the problem. I recreated the database and loaded the table
again (but this time I used the -nlt switch set to MULTIPOLYGON) and it
looks like it loaded without errors. 

But now I can't access the table! Is there something about this table name
it doesn't like? Why can't I display the table structure or select anything
from this table?

(BTW, notice that it uses lowercase letters in one of the error messages,
but not both.)

clu=# \d
                    List of relations
 Schema |            Name             |   Type   | Owner
--------+-----------------------------+----------+--------
 public | clu_001ilna04_U             | table    | bthoen
 public | clu_001ilna04_U_ogc_fid_seq | sequence | bthoen
 public | geometry_columns            | table    | bthoen
 public | spatial_ref_sys             | table    | bthoen
(4 rows)

clu=# \d clu_001ilna04_U
Did not find any relation named "clu_001ilna04_U".
clu=# select * from clu_001ilna04_U;
ERROR:  relation "clu_001ilna04_u" does not exist
clu=#


From warmerdam at pobox.com  Mon Dec  4 13:53:23 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Need Help with ogr2ogr Import Shapefile Error
In-Reply-To: <20061204174411.GA19605@www.gisnet.com>
References: <20061204174411.GA19605@www.gisnet.com>
Message-ID: <45746EA3.7080204@pobox.com>

Bill Thoen wrote:
> I just tried to import a shapefile into an empty database,but got an error
> I don't understand. Can anyone tell me what's wrong and how to fix this?
> 
> The table is projected in the NAD83 UTM zone 16 system. The shapefile has
> associated .dbf, .prj, .sbn, .sbx, .shp, .shp.xml, and .shx files.
> Here's what I tried:
> 
> $ ogr2ogr -update -append -f PostgreSQL PG:dbname=clu 
>    clu_001ilna04_U.shp -a_srs EPSG:26916
> 
> ERROR 1: INSERT command for new feature failed.
> ERROR:  new row for relation "clu_001ilna04_U" violates check constraint
> "enforce_geotype_wkb_geometry"
> 
> Command: INSERT INTO "clu_001ilna04_U" (wkb_geometry , "calcacres",
> "fid_clu_pu", "fid_raster", "gridcode", "id") VALUES
> (GeomFromEWKT('SRID=32767;MULTIPOLYGON (((644362.065155122079886

Bill,

The problem is that the OGR Shapefile driver lies, and reports it
has a geometry type of POLYGON when in fact it can have either
polygon or multipolygon.  As you can see the above insert it trying
to insert a MULTIPOLYGON in a table that was presumably created with
the restriction that it has polygon geometries.

The workaround is to force the table geometry type to GEOMETRY (a
generic geometry of any kind).  This can be accomplished by adding
the commandline switch "-nlt geometry".

The "fix" is for the shapefile driver to report the layer type as
geometry instead of polygon but this is also likely to cause lots of
folks problems so I have hesitated to make the change.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Mon Dec  4 14:07:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Need Help with ogr2ogr Import Shapefile Error
In-Reply-To: <20061204183849.GA19815@www.gisnet.com>
References: <20061204174411.GA19605@www.gisnet.com>
	<006601c717cf$98c9f570$125aa8c0@devfrances>
	<20061204183849.GA19815@www.gisnet.com>
Message-ID: <457471DF.2050609@pobox.com>

Bill Thoen wrote:
> But now I can't access the table! Is there something about this table name
> it doesn't like? Why can't I display the table structure or select anything
> from this table?
> 
> (BTW, notice that it uses lowercase letters in one of the error messages,
> but not both.)
> 
> clu=# \d
>                     List of relations
>  Schema |            Name             |   Type   | Owner
> --------+-----------------------------+----------+--------
>  public | clu_001ilna04_U             | table    | bthoen
>  public | clu_001ilna04_U_ogc_fid_seq | sequence | bthoen
>  public | geometry_columns            | table    | bthoen
>  public | spatial_ref_sys             | table    | bthoen
> (4 rows)
> 
> clu=# \d clu_001ilna04_U
> Did not find any relation named "clu_001ilna04_U".
> clu=# select * from clu_001ilna04_U;
> ERROR:  relation "clu_001ilna04_u" does not exist
> clu=#

Bill,

Postgresql is case sensitive, and it also forces all tokens to lower
case unless they are quoted.  OGR (perhaps unfortunately) defaults to
preserving the case of your table names by quoting them in SQL statements
so you get tables like yours.  But to actually use them interactively
you would need to quote the name.

eg.
\d "clu_00lilna04_U"

or
select * from  "clu_00lilna04_U"

You can use the -nln switch to ogr2ogr to apply a different name to
the loaded table than is in the original table.

Note that similar issues apply to field names, but by default OGR
forces all field names to lower case.  This can be disabled by
the LAUNDER creation flag.  No doubt I ought to apply the same logic
to table names to avoid this sort of misery.

Actually, I think I'll apply that change today before issuing GDAL 1.4.0
beta1.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From alankeown at southernphone.com.au  Mon Dec  4 14:02:33 2006
From: alankeown at southernphone.com.au (Alan)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
In-Reply-To: <007b01c717ce$6c46a760$6401a8c0@ALANMAIN>
Message-ID: <007c01c717d6$c20c3a90$6401a8c0@ALANMAIN>

Things are getting better...

gdal_ogr_csharp.dll
gdal_gdal_csharp.dll
gdal_gdalconst_csharp.dll
gdal_osr_csharp.dll

all build okay. 

link /dll /debug   ogr_wrap.obj      odbc32.lib odbccp32.lib user32.lib
..\..\gdal.lib /out:gdal_ogr_wrap.dll

fails with:

"Creating library gdal_ogr_wrap.lib and object gdal_ogr_wrap.exp
gdal.lib(mitab_tooldef.obj) : error LNK2001: unresolved external symbol
"__declspec(dllimport) private: void __thiscall
std::basic_string<char,struct std::char_traits<char>,class
std::allocator<char> >::_Tidy(bool)"
(__imp_?_Tidy@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@A
AEX_N@Z)"

and about 970 similar errors and then

" gdal_ogr_wrap.dll : fatal error LNK1120: 12 unresolved externals "

What can I do now? ;-)

AlanK


From gok at aerometric-ak.com  Mon Dec  4 14:17:30 2006
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] coord system in form of TIFFTAG - value
Message-ID: <3054411AF4728548AD6D7137190D56B302B577BF@admin1.aeromap.com>

Hello, all.
Can not find in docs or src code: is it possible to get Coordinate System 
info in form of TIFFTAG, value?

Ex. 1024 = 1, which translated from GTModelTypeGeoKey  =  ModelTypeProjected
or 3072 = 32606, which is ProjectedCSTypeGeoKey = PCS_WGS84_UTM_zone_6N.

Thanks in advance.
gok


From collinsb at mitre.org  Mon Dec  4 14:21:13 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <45745ED8.9030805@pobox.com>
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>

>From my experience with the Java bindings, this is also possible with
the SWIG bindings.  For Java this means stand-alone JNI libraries that
include GDAL statically linked internally.  It can be achieved in much
the same way; by linking against libgdal.a

I have had success on Win32, Linux, and OSX (PPC + Intel)
--
Ben 

>-----Original Message-----
>From: gdal-dev-bounces@lists.maptools.org 
>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
>Frank Warmerdam
>Sent: Monday, December 04, 2006 12:46 PM
>To: Curt Mills
>Cc: gdal-dev@lists.maptools.org
>Subject: Re: [Gdal-dev] Any possibility of static compile?
>
>Curt Mills wrote:
>> I need to do a static compile of my app.  I've been able to compile
>> Shapelib, proj, geotiff, and a few other libraries statically so
>> far.
>> 
>> I'd like to get GDAL compiled in, of which we use some of the OGR
>> functions, but I recall reading earlier about some problems with
>> static compiles of GDAL.  Is there a way to get OGR or the full
>> GDAL/OGR library compiled statically these days?
>> 
>> There's also a way under Linux Standard Base rules to distribute a
>> shared library along with the application, so that's my backup plan.
>> I'd much rather distribute the entire thing statically linked if
>> possible though.  Any hope?
>
>Curt,
>
>John pointed out some of the issues.  For what it is worth, I was able
>to issue the following command against my local GDAL build:
>
>
>  gcc -Ibld/include gdal/apps/gdalinfo.c gdal/libgdal.a 
>-L/usr/local/lib -lgeos 
>-lgeos_c -L/usr/local/lib -lxerces-c -lpthread -lNCSEcw 
>-lNCSCnet -lNCSUtil 
>-L/home/warmerda/pkg/HDF4.2r1/NewHDF/lib -lmfhdf -ldf -ljpeg 
>-ltiff -lpng -lpq 
>-L/usr/lib/postgresql/8.0/lib -lpq -lz -lpthread -lm -lrt -ldl 
>-L/home/warmerda/pkg/kakadu-5.1/lib -lkdu -lsqlite3 -L/usr/lib 
>-lcurl -lidn 
>-lssl -lcrypto -ldl -lssl -lcrypto -ldl -lz -L/usr/lib 
>-lmysqlclient -lz 
>-lcrypt -lnsl -lm -o gdalinfo
>
>This produced a gdalinfo executable with GDAL statically 
>linked in, though
>the various support libraries were still .so's.  I did this by 
>configuring
>GDAL "--without-libtool" and then linking against 
>gdal/libgdal.a.  Essentially
>I took the build's "gdal-config --libs" output replaced the 
>part about -lgdal
>itself with the path to libgdal.a, and used the rest unchanged.
>
>So, one data point says static builds are doable.
>
>Best regards,
>-- 
>---------------------------------------+-----------------------
>---------------
>I set the clouds in motion - turn up   | Frank Warmerdam, 
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | President OSGeo, 
>http://osgeo.org
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From warmerdam at pobox.com  Mon Dec  4 14:34:13 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.SUN.4.58.0612041007110.1260@eskimo.com>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
	<Pine.SUN.4.58.0612041007110.1260@eskimo.com>
Message-ID: <45747835.3060809@pobox.com>

Curt, WE7U wrote:
> To be more specific:  The "Building GDAL From Source" web page says
> this:
> 
> 
>   "You could just link against the static libraries (normally
>    gdal/gdal.a gdal/ogr/ogr.a gdal/frmts/o/ *.a gdal/gdal.a
>    gdal/port/cpl.a)..."

Curt,

Yikes!  I've removed all the .a goop, and just listed gdal.a.  Some of
that was (I think) historically needed but not for the last several years.
Some of that is clearly just garbled.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From archer at eskimo.com  Mon Dec  4 14:35:31 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>
Message-ID: <Pine.SUN.4.58.0612041132510.1260@eskimo.com>

On Mon, 4 Dec 2006, Collins, Benjamin wrote:

> I have had success on Win32, Linux, and OSX (PPC + Intel)

I've linked against libgdal.a but I get 10's or 100's of link errors
about missing OGR functions.  Are you using any of the vector OGR
functions or only the raster GDAL functions?  We're pretty much only
using the OGR functions from the library.

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From archer at eskimo.com  Mon Dec  4 14:47:24 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <45745ED8.9030805@pobox.com>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
	<45745ED8.9030805@pobox.com>
Message-ID: <Pine.SUN.4.58.0612041117040.1260@eskimo.com>

On Mon, 4 Dec 2006, Frank Warmerdam wrote:

> John pointed out some of the issues.  For what it is worth, I was able
> to issue the following command against my local GDAL build:

I didn't see the message from John.  Evidently my ISP and Google
don't see eye-to-eye w.r.t. mail so it trickles slowly.  I might get
it later today or tomorrow.  I went to the web-based view of the
list and printed John's message out.  Thanks for the comments John!

w.r.t. the example "gdalinfo.c" linking, we currently only use GDAL
to get to OGR (we never finished our GDAL integration).  I get all
kinds of unresolved OGR references when I link gdal.a against my
app.

I tried just the GDAL/OGR library compile using "--without-libtool".
The compile of GDAL itself under the lsbcc compiler doesn't succeed:


  (cd ogr; make apps)
  make[1]: Entering directory `/home/src/lsb/gdal-1.3.2b2/ogr'
  g++  ogrinfo.o -L/home/archer/src/lsb/gdal-1.3.2b2 -lgdal -ljasper -ljpeg -lpng -L/usr/lib -lpq -lz -lm -lrt -ldl  -o ogrinfo
  /usr/lib/gcc/i586-suse-linux/4.0.2/../../../../i586-suse-linux/bin/ld: ogrinfo: hidden symbol `__dso_handle' in /usr/lib/gcc/i586-suse-linux/4.0.2/crtbegin.o is referenced by DSO
  /usr/lib/gcc/i586-suse-linux/4.0.2/../../../../i586-suse-linux/bin/ld: final link failed: Nonrepresentable section on output


I tried it with and without "--enable-static" and got the same set
of errors at the point the compiler bombed out.  I can compile the
library fine without the "--without-libtool" flag, but then I don't
get any static libs except for "gdal.a".  No "ogr.a" specifically.

The only reason I'm doing this is to be able to distribute an Linux
Standard Base binary to make it easier for the Linux newbies to get
started with the app.  I may bag the GDAL library for the LSB
package:  We still have shapelib/Proj/libgeotiff support as-is.
Full OGR support buys us some of the lesser-used maps, at least for
our application.

What I'm worried about w.r.t. the shared libraries is that I'd have
to package them along with the app in the /opt/lsb-xastir/lib/
directory, but I'm not sure whether those libs or the system libs
would get dynamically linked on startup.  Then again, LSB uses it's
own loader, so maybe I'm safe there and they've taken care of it for
me.

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From warmerdam at pobox.com  Mon Dec  4 15:01:07 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.SUN.4.58.0612041132510.1260@eskimo.com>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>
	<Pine.SUN.4.58.0612041132510.1260@eskimo.com>
Message-ID: <45747E83.4090101@pobox.com>

Curt, WE7U wrote:
> On Mon, 4 Dec 2006, Collins, Benjamin wrote:
> 
>> I have had success on Win32, Linux, and OSX (PPC + Intel)
> 
> I've linked against libgdal.a but I get 10's or 100's of link errors
> about missing OGR functions.  Are you using any of the vector OGR
> functions or only the raster GDAL functions?  We're pretty much only
> using the OGR functions from the library.

Curt,

I tried building ogrinfo.cpp similarly and it worked fine.

Note that:
  o My build was --without-libtool
  o I built against the libgdal.a in the build directory since I don't
    normally install the static library.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From hobu at iastate.edu  Mon Dec  4 15:10:04 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
In-Reply-To: <007c01c717d6$c20c3a90$6401a8c0@ALANMAIN>
References: <007b01c717ce$6c46a760$6401a8c0@ALANMAIN>
	<007c01c717d6$c20c3a90$6401a8c0@ALANMAIN>
Message-ID: <6.2.3.4.2.20061204132405.02c9c888@hobu.mail.iastate.edu>

At 01:02 PM 12/4/2006, Alan wrote:
>Things are getting better...
>
>gdal_ogr_csharp.dll
>gdal_gdal_csharp.dll
>gdal_gdalconst_csharp.dll
>gdal_osr_csharp.dll
>
>all build okay.
>
>link /dll /debug   ogr_wrap.obj      odbc32.lib odbccp32.lib user32.lib
>..\..\gdal.lib /out:gdal_ogr_wrap.dll

I think this needs to link with the gdal_i.lib (and the gdal_i.lib 
must be build by building GDAL too).  It looks like 
swig/csharp/makefile.vc may have this specified incorrectly.


Howard 


From archer at eskimo.com  Mon Dec  4 15:30:58 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <8D27E2CDAF11D34F97E7445BCCCDB92C01643C13@IMCSRV1.MITRE.ORG>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643C13@IMCSRV1.MITRE.ORG>
Message-ID: <Pine.SUN.4.58.0612041153430.1260@eskimo.com>

On Mon, 4 Dec 2006, Collins, Benjamin wrote:

> Use something like
> gcc <your options> <gdal_location>/.libs/libgdal.a
> No -L or -l necessary.
>
> You could send your exact command line to the list for more help.

I don't know if I can easily explain what I'm doing.  Linux Standard
Base (LSB) requires that an application depend only on the
LSB-distributed libraries and headers.  I use the "lsbcc" compiler
(really just a front-end to GCC) to assure that I have LSB
compliance.

I compile each library via "lsbcc", then separately compile/link my
application to those new LSB-compliant libraries I just created.
The end product is a binary that is a stand-alone app except for the
LSB support which has to be in the OS already for the OS to be
LSB-compliant.  For instance, for OpenSuSE 10.0 I install the "lsb"
package, then I can install my lsb-xastir package and it runs.  This
should work across ALL Linux systems that claim to be LSB compliant.

So...  I've been statically linking each (optional) library we use
but got stumped by GDAL.  I separately have LSB-compliant versions
of libproj/shapelib/libtiff/libgeotiff (and others) linked to my app
already.  We don't depend on GDAL/OGR for those functions.  Some of
the less-used OGR map formats are what I'm still after...

If I just had some ".a" files to link to, I'd be golden.  libgdal.a
doesn't appear to have OGR functions in it, or at least the linker
gets REAL upset when I try to link to it.

FWIW I've a attached the script I use to compile GDAL under LSB to
the end of this message (It's tiny).  The important part of code for
then linking the library to my app is:

  CPPFLAGS="$CPPFLAGS -I/opt/lsb-gdal/include"
  LDFLAGS="$LDFLAGS -L/opt/lsb-gdal/lib -lgdal"
  LIBS="$LIBS -lgdal"
  AC_DEFINE(HAVE_LIBGDAL, , [Define to 1 if you have the `gdal' library (-lgdaal).])

Is there a possibility that some parts of the GDAL library compile
are ignoring the "CC" variable?

Here's the first part of the final link for my app.  The errors go
on for many pages after that:

lsbcc  -g -O2 -Wl,--no-keep-memory -L/opt/lsb/lib -L/opt/lsb/lib
-L/opt/lsb-gdal/lib -lgdal -L/opt/lsb-graphicsmagick/lib -o xastir
alert.o awk.o bulletin_gui.o color.o datum.o db.o dbfawk.o
draw_symbols.o fcc_data.o festival.o geo-find.o geocoder_gui.o gps.o
hashtable.o hashtable_itr.o hostname.o igate.o interface.o
interface_gui.o io-common.o io-mmap.o lang.o list_gui.o locate_gui.o
location.o location_gui.o main.o maps.o map_cache.o map_dos.o
map_gdal.o map_geo.o map_gnis.o map_pdb.o map_shp.o map_tif.o
map_tiger.o map_WMS.o messages.o messages_gui.o objects.o
popup_gui.o rac_data.o rotated.o rpl_malloc.o shp_ hash.o snprintf.o
sound.o track_gui.o util.o view_message_gui.o wx.o wx_gui.o
x_spider.o xa_config.o compiledate.o -Lrtree -lrtree -Lshapelib
-lshape -lXm -lXt -lX11 -lGraphicsMagick -ltiff -ljasper -ljpeg -
lpng -lz -lm -lpthread -ldb -lrt -lXm -lXt -lSM -lICE -lX11 -lcurl
-lpcre -lproj -lgeotiff -ltiff -ljpeg -lz -lproj -lgdal
Warning: forcing gdal to be linked statically
Warning: forcing rtree to be linked statically
Warning: forcing shape to be linked statically
Warning: forcing Xm to be linked statically
Warning: forcing GraphicsMagick to be linked statically
Warning: forcing tiff to be linked statically
Warning: forcing jasper to be linked statically
Warning: forcing jpeg to be linked statically
Warning: forcing png to be linked statically
Warning: forcing db to be linked statically
Warning: forcing Xm to be linked statically
Warning: forcing curl to be linked statically
Warning: forcing pcre to be linked statically
Warning: forcing proj to be linked statically
Warning: forcing geotiff to be linked statically
Warning: forcing tiff to be linked statically
Warning: forcing jpeg to be linked statically
Warning: forcing proj to be linked statically
Warning: forcing gdal to be linked statically
/opt/lsb-gdal/lib/libgdal.a(gdalallregister.o):(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
/opt/lsb-gdal/lib/libgdal.a(geotiff.o): In function `GTiffRasterBand::GTiffRasterBand(GTiffDataset*, int)': geotiff.cpp:(.text+0x36e): undefined reference to `_Unwind_Resume'
/opt/lsb-gdal/lib/libgdal.a(geotiff.o): In function `GTiffRasterBand::GTiffRasterBand(GTiffDataset*, int)': geotiff.cpp:(.text+0x6ee): undefined reference to `_Unwind_Resume'
/opt/lsb-gdal/lib/libgdal.a(geotiff.o): In function `GTiffRasterBand::SetColorTable(GDALColorTable*)': geotiff.cpp:(.text+0x9a9): undefined reference to `operator delete(void*)'
/opt/lsb-gdal/lib/libgdal.a(geotiff.o): In function `GTiffDataset::GTiffDataset()': geotiff.cpp:(.text+0xd52): undefined reference to `_Unwind_Resume'


--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"


#!/bin/sh

# $Id: LSB-BUILD-GDAL,v 1.2 2006/12/04 19:52:08 we7u Exp $
# Copyright (C) 2006  The Xastir Group

# Compile gdal-1.3.2b2 under Linux Standard Base 3.0.  Install into
# /opt/lsb-gdal/ directory structure.

export PATH=${PATH}:/opt/lsb/bin
export LSBCC_WARN=1

# A colon-separated list of "extra" shared libraries to link with
# the application.  Each shared lib must be LSB-compliant and must
# be distributed along with the application.
#export LSBCC_SHAREDLIBS=

CC=lsbcc ./configure \
    --prefix=/opt/lsb-gdal \
    --exec_prefix=/opt/lsb-gdal \
    --enable-static
#    --without-libtool
make clean
(make 2>&1) | tee make.log
#make -n install
sudo make install


From alankeown at southernphone.com.au  Mon Dec  4 16:14:08 2006
From: alankeown at southernphone.com.au (Alan)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
In-Reply-To: <6.2.3.4.2.20061204132405.02c9c888@hobu.mail.iastate.edu>
Message-ID: <000f01c717e9$241abf60$6401a8c0@ALANMAIN>

Howard & Tamas,
I changed the line 

    link /dll /debug $(OGR_INCLUDE) $(BASE_INCLUDE) ogr_wrap.obj \
		$(EXTERNAL_LIBS) ..\..\gdal.lib\
		 /out:gdal_ogr_wrap.dll $(LINKER_FLAGS)
To

    link /dll /debug $(OGR_INCLUDE) $(BASE_INCLUDE) ogr_wrap.obj \
		$(EXTERNAL_LIBS) ..\..\gdal_i.lib\
		 /out:gdal_ogr_wrap.dll $(LINKER_FLAGS)

In swig/csharp/makefile.vc and nmake ran without error.

My thanks to you both.

Cheers
AlanK





-----Original Message-----
From: Howard Butler [mailto:hobu@iastate.edu] 
Sent: Tuesday, 5 December 2006 7:10 AM
To: Alan; 'Tamas Szekeres'
Cc: Gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Build csharp swig (from real newbie)

At 01:02 PM 12/4/2006, Alan wrote:
>Things are getting better...
>
>gdal_ogr_csharp.dll
>gdal_gdal_csharp.dll
>gdal_gdalconst_csharp.dll
>gdal_osr_csharp.dll
>
>all build okay.
>
>link /dll /debug   ogr_wrap.obj      odbc32.lib odbccp32.lib user32.lib
>..\..\gdal.lib /out:gdal_ogr_wrap.dll

I think this needs to link with the gdal_i.lib (and the gdal_i.lib 
must be build by building GDAL too).  It looks like 
swig/csharp/makefile.vc may have this specified incorrectly.


Howard 


From izzybitsie at gmail.com  Mon Dec  4 16:42:11 2006
From: izzybitsie at gmail.com (Dori)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color"
Message-ID: <23e208430612041342o6f05e847g8330a44a1bcb4241@mail.gmail.com>

A few days ago I posted a message regarding composing satellite images
Geotiff in one final image. All inputs were 1 band images created with same
options. I posted the info obtained using gdalinfo and Image Magick for one
of the input images.
When running gdal-merge.py without -pct option, I obtain a grey scale output
image.  Not the desired result.
When running gdal-merge with the "-pct" then, I obtain a full black image.
Frank requested me to send one of the input images, but this Email never
made it to the list due to the size of the file.
A gzip, tar version of one of the input images can be downloaded from:
http://www.mediamax.com/izzybitsie/Hosted/AS_GMSNO_00_20061122205548.tif.gz.

Could anyone give me a hint on what is wrong with these images that
gdal-merge.py cannot compose?

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061204/3dff3ffd/attachment.html
From szekerest at gmail.com  Mon Dec  4 16:49:04 2006
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
In-Reply-To: <000f01c717e9$241abf60$6401a8c0@ALANMAIN>
References: <6.2.3.4.2.20061204132405.02c9c888@hobu.mail.iastate.edu>
	<000f01c717e9$241abf60$6401a8c0@ALANMAIN>
Message-ID: <f3b73b7d0612041349r164b2383t221085dd79b1de23@mail.gmail.com>

2006/12/4, Alan <alankeown@southernphone.com.au>:
> Howard & Tamas,
> I changed the line
>
>     link /dll /debug $(OGR_INCLUDE) $(BASE_INCLUDE) ogr_wrap.obj \
>                 $(EXTERNAL_LIBS) ..\..\gdal.lib\
>                  /out:gdal_ogr_wrap.dll $(LINKER_FLAGS)
> To
>
>     link /dll /debug $(OGR_INCLUDE) $(BASE_INCLUDE) ogr_wrap.obj \
>                 $(EXTERNAL_LIBS) ..\..\gdal_i.lib\
>                  /out:gdal_ogr_wrap.dll $(LINKER_FLAGS)
>
> In swig/csharp/makefile.vc and nmake ran without error.
>

I've just changed the necessary files in the CVS for supporting the
dynamic linking to the gdal dll. You should use the csharp.opt to set
up the desired meth

From szekerest at gmail.com  Mon Dec  4 16:57:20 2006
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
In-Reply-To: <f3b73b7d0612041349r164b2383t221085dd79b1de23@mail.gmail.com>
References: <6.2.3.4.2.20061204132405.02c9c888@hobu.mail.iastate.edu>
	<000f01c717e9$241abf60$6401a8c0@ALANMAIN>
	<f3b73b7d0612041349r164b2383t221085dd79b1de23@mail.gmail.com>
Message-ID: <f3b73b7d0612041357y3dee81eapcb402b8303bc5167@mail.gmail.com>

2006/12/4, Tamas Szekeres <szekerest@gmail.com>:
> 2006/12/4, Alan <alankeown@southernphone.com.au>:
> > Howard & Tamas,
> > I changed the line
> >
> >     link /dll /debug $(OGR_INCLUDE) $(BASE_INCLUDE) ogr_wrap.obj \
> >                 $(EXTERNAL_LIBS) ..\..\gdal.lib\
> >                  /out:gdal_ogr_wrap.dll $(LINKER_FLAGS)
> > To
> >
> >     link /dll /debug $(OGR_INCLUDE) $(BASE_INCLUDE) ogr_wrap.obj \
> >                 $(EXTERNAL_LIBS) ..\..\gdal_i.lib\
> >                  /out:gdal_ogr_wrap.dll $(LINKER_FLAGS)
> >
> > In swig/csharp/makefile.vc and nmake ran without error.
> >
>
> I've just changed the necessary files in the CVS for supporting the
> dynamic linking to the gdal dll. You should use the csharp.opt to set
> up the desired meth
>

Arrgh. Google has accidentally sent my partially written email.

So continuing this letter, you might want to comment out
CSHARP_STATIC_LINKAGE = YES
so as to use the linkage you have set previously.

However I would favour the static linkage, and it seems to be an odd
behaviour you have encountered. Both of the methods are working for me
pretty well.

Maybe you have to fully recompile the core gdal to make it work.

Best Regards,

Tamas

From alankeown at southernphone.com.au  Mon Dec  4 17:43:26 2006
From: alankeown at southernphone.com.au (Alan)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Build csharp swig (from real newbie)
In-Reply-To: <f3b73b7d0612041357y3dee81eapcb402b8303bc5167@mail.gmail.com>
Message-ID: <002201c717f5$9d3597b0$6401a8c0@ALANMAIN>

Thanks Tamas.
I am, honestly, only partly aware of what I am doing which could explain why
odd things are happening... But all credit to you and the other developers
it appears to work even with my stumbling. 

Cheers
AlanK

-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: Tuesday, 5 December 2006 8:57 AM
To: Alan
Cc: Howard Butler; Gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Build csharp swig (from real newbie)

2006/12/4, Tamas Szekeres <szekerest@gmail.com>:
> 2006/12/4, Alan <alankeown@southernphone.com.au>:
> > Howard & Tamas,
> > I changed the line
> >
> >     link /dll /debug $(OGR_INCLUDE) $(BASE_INCLUDE) ogr_wrap.obj \
> >                 $(EXTERNAL_LIBS) ..\..\gdal.lib\
> >                  /out:gdal_ogr_wrap.dll $(LINKER_FLAGS)
> > To
> >
> >     link /dll /debug $(OGR_INCLUDE) $(BASE_INCLUDE) ogr_wrap.obj \
> >                 $(EXTERNAL_LIBS) ..\..\gdal_i.lib\
> >                  /out:gdal_ogr_wrap.dll $(LINKER_FLAGS)
> >
> > In swig/csharp/makefile.vc and nmake ran without error.
> >
>
> I've just changed the necessary files in the CVS for supporting the
> dynamic linking to the gdal dll. You should use the csharp.opt to set
> up the desired meth
>

Arrgh. Google has accidentally sent my partially written email.

So continuing this letter, you might want to comment out
CSHARP_STATIC_LINKAGE = YES
so as to use the linkage you have set previously.

However I would favour the static linkage, and it seems to be an odd
behaviour you have encountered. Both of the methods are working for me
pretty well.

Maybe you have to fully recompile the core gdal to make it work.

Best Regards,

Tamas


From jluis at ualg.pt  Mon Dec  4 21:21:52 2006
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] gdalwarp reprojection errors
In-Reply-To: <20061204174411.GA19605@www.gisnet.com>
References: <20061204174411.GA19605@www.gisnet.com>
Message-ID: <4574D7C0.6070600@ualg.pt>

Hi,

I wrote a minimalist kind of gdalwarp C MEX Matlab program and I'm 
getting many bad conversions
involving projection changes.

I prepared this example to illustrate one the problems.

gdalwarp -t_srs +proj=sinu w.tif w_sino.tif

The jpeg versions of w.tif and w_sino.tif  can be seen here:
ftp://ftp.ualg.pt/users/jluis/w.jpg
ftp://ftp.ualg.pt/users/jluis/w_sino.jpg

And the original w.tif geotif file is here
ftp://ftp.ualg.pt/users/jluis/w.tif

If I do
gdalwarp -t_srs "+proj=sinu +lon_0=1w" w.tif w_sino.tif
The result is an image with only the west hemisphere.

My gdal versions are gdal1.3.2 and the one in fwtools1.0.6

Joaquim Luis

From ivan at ilucena.net  Mon Dec  4 23:55:07 2006
From: ivan at ilucena.net (Ivan Lucena)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
Message-ID: <20061205045507.777B04FC60@ws6-5.us4.outblaze.com>

Hi Mateusz,

I think I lost one e-mail where will ask about threading model.

I am using "Single-Threaded Apartments".

> I hope you don't mind I'll join this discussion and share some comments:
> 
> >  3) What build environments will be supported? Only visual studio?  If so,
> >     what versions?
> 

Of course we want you to join in the discussion.

> ATL is usable only with Visual C++ compiler.
> It is not possible to build ATL-based stuff with GCC (MinGW) or any
> other compilers.
>

Yes, I believe so.

But the use of ATL is accidental, not essential. 

I mean, we can use other Windows C++ compiler to make a COM server. 

It just seams natural to use Microsoft because this the one we use most of the time to develop gdal drivers and utilities.


 
> > My understanding is that the C# bindings are accessable from any .net
> > language.
> 
> I believe so too.
> 
> > So it seems that the COM interfaces will mainly be of interest to Delphi
> > developers - is that right?
> 
> There is also possible target client in Web components like ActiveX
> controls for Web. Also Visual Basic 6 could use it.
> Certainly, .NET and native C/C++ coders can be COM clients as well.
> 

That is something cool too. You can access it from ASP, ASP.Net projects too.

> Cheers
> --
> Mateusz Loskot
> http://mateusz.loskot.net
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

>



From warmerdam at pobox.com  Tue Dec  5 00:17:27 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Re: Motion: Commiter Access for Swapnil Hajare
In-Reply-To: <456E1563.2000903@pobox.com>
References: <456E1563.2000903@pobox.com>
Message-ID: <457500E7.6090601@pobox.com>

Frank Warmerdam wrote:
> Folks,
> 
> Motion: Commiter Access for Swapnil Hajare
> 
> Swapnil has contributed some fixes to the AIGrid driver and a test script,
> and has been hired (by me) for general GDAL maintenance.  Based on his work
> for me so far I'm pleased with his ability as a developer, and I'm prepared
> to monitor his work until he gets comfortable with GDAL development.  He
> has reviewed RFC 3 and agreed to abide by it's guidelines.
> 
> Swapnil will also be committing changes on behalf of the other Indictrans
> developers and will be responsible for a first level vetting of any changes
> they offer.

folks,

This motion has passed, and am adding Swapnil as a committer.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From eric.doenges at gmx.net  Tue Dec  5 02:00:17 2006
From: eric.doenges at gmx.net (=?ISO-8859-1?Q?Eric_D=F6nges?=)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.SUN.4.58.0612041117040.1260@eskimo.com>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
	<45745ED8.9030805@pobox.com>
	<Pine.SUN.4.58.0612041117040.1260@eskimo.com>
Message-ID: <1C9BF412-F374-470E-972B-CE64A6E2DC57@gmx.net>


Am 04.12.2006 um 20:47 schrieb Curt, WE7U:

> What I'm worried about w.r.t. the shared libraries is that I'd have
> to package them along with the app in the /opt/lsb-xastir/lib/
> directory, but I'm not sure whether those libs or the system libs
> would get dynamically linked on startup.  Then again, LSB uses it's
> own loader, so maybe I'm safe there and they've taken care of it for
> me.

You can force Linux to prefer your libraries in /opt/lsb-xastir/lib by
setting LD_LIBRARY_PATH before starting the application. The best way  
to do this (IMO)
would be to have the application started by a shell script that does  
this.

I believe another way would be to use the -rpath option of the linker  
(note that
I have never tried this myself, so I can't say if it will really work  
as expected)
to tell the linker explicitly where to find the libraries. However,  
using hardcoded
library paths in the binary is sure to break if any of your users  
decide they really
need to install the application to some other place, so I would  
recommend using the
LD_LIBRARY_PATH approach.

With kind regards,
Eric

From eric.doenges at gmx.net  Tue Dec  5 01:50:05 2006
From: eric.doenges at gmx.net (=?ISO-8859-1?Q?Eric_D=F6nges?=)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.SUN.4.58.0612041132510.1260@eskimo.com>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>
	<Pine.SUN.4.58.0612041132510.1260@eskimo.com>
Message-ID: <D8FBAA22-91FF-4FAC-A1CB-D91EDC80C9F7@gmx.net>


Am 04.12.2006 um 20:35 schrieb Curt, WE7U:

> On Mon, 4 Dec 2006, Collins, Benjamin wrote:
>
>> I have had success on Win32, Linux, and OSX (PPC + Intel)
>
> I've linked against libgdal.a but I get 10's or 100's of link errors
> about missing OGR functions.  Are you using any of the vector OGR
> functions or only the raster GDAL functions?  We're pretty much only
> using the OGR functions from the library.

This is how I link GDAL statically on MacOS X:

1. Configure proj4 for static linking:

./configure --prefix=$(INSTALL) --disable-shared

( $INSTALL is just a local directory where I store the static builds )

2. Build and install proj4

3. Configure gdal for static linking:

./configure --prefix=$(INSTALL) \
             --with-png=internal --with-libtiff=internal \
             --with-geotiff=internal --with-jpeg=internal \
             --with-gif=internal \
             --with-static-proj4=$(INSTALL) \
             --without-jasper \
             --without-python --without-ld-shared --without-libtool

Since I use custom BSB reading code that depends on some MacOS  
frameworks, I then run a
perl script on GDALmake.opt to add those dependencies.

4. Build and install gdal

5. Link against libgdal.a

My application does use some OGR functionality to do coordinate  
transforms, but
doesn't read any vector formats, so YMMV.

With kind regards,
Eric




From warmerdam at pobox.com  Tue Dec  5 02:15:35 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] GDAL 1.4.0 Beta 1 Released
Message-ID: <45751C97.8000606@pobox.com>

Folks,

I have issued Beta 1 tar files for GDAL 1.4.0 at:

   http://www.gdal.org/dl/gdal-1.4.0beta1.tar.gz
   http://www.gdal.org/dl/gdal140beta1.zip

Please give them a try and provide feedback.

My hope is to have a beta2 late this week or early next week.  And
then a "RC 1" on the 19th, hopefully soon accepted as the 1.4.0 release.
All pending feedback and opinions of the PSC of course.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Tue Dec  5 02:19:28 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] FWTools 1.1.1
Message-ID: <45751D80.9080506@pobox.com>

Folks,

I have issued FWTools 1.1.1 binaries for Windows and linux that should
correspond with the GDAL 1.4.0 beta1 release.

   http://www.gdal.org/dl/fwtools/FWTools111.exe
   http://www.gdal.org/dl/fwtools/FWTools-linux-1.1.1.tar.gz

Feedback is always welcome.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From eric.doenges at gmx.net  Tue Dec  5 02:09:11 2006
From: eric.doenges at gmx.net (=?ISO-8859-1?Q?Eric_D=F6nges?=)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.SUN.4.58.0612041153430.1260@eskimo.com>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643C13@IMCSRV1.MITRE.ORG>
	<Pine.SUN.4.58.0612041153430.1260@eskimo.com>
Message-ID: <235D9908-169B-466D-AF34-95401E31BCA8@gmx.net>


Am 04.12.2006 um 21:30 schrieb Curt, WE7U:

> Here's the first part of the final link for my app.  The errors go
> on for many pages after that:
>
> lsbcc  -g -O2 -Wl,--no-keep-memory -L/opt/lsb/lib -L/opt/lsb/lib
> -L/opt/lsb-gdal/lib -lgdal -L/opt/lsb-graphicsmagick/lib -o xastir
> alert.o awk.o bulletin_gui.o color.o datum.o db.o dbfawk.o
> draw_symbols.o fcc_data.o festival.o geo-find.o geocoder_gui.o gps.o
> hashtable.o hashtable_itr.o hostname.o igate.o interface.o
> interface_gui.o io-common.o io-mmap.o lang.o list_gui.o locate_gui.o
> location.o location_gui.o main.o maps.o map_cache.o map_dos.o
> map_gdal.o map_geo.o map_gnis.o map_pdb.o map_shp.o map_tif.o
> map_tiger.o map_WMS.o messages.o messages_gui.o objects.o
> popup_gui.o rac_data.o rotated.o rpl_malloc.o shp_ hash.o snprintf.o
> sound.o track_gui.o util.o view_message_gui.o wx.o wx_gui.o
> x_spider.o xa_config.o compiledate.o -Lrtree -lrtree -Lshapelib
> -lshape -lXm -lXt -lX11 -lGraphicsMagick -ltiff -ljasper -ljpeg -
> lpng -lz -lm -lpthread -ldb -lrt -lXm -lXt -lSM -lICE -lX11 -lcurl
> -lpcre -lproj -lgeotiff -ltiff -ljpeg -lz -lproj -lgdal
> Warning: forcing gdal to be linked statically
> Warning: forcing rtree to be linked statically
> Warning: forcing shape to be linked statically
> Warning: forcing Xm to be linked statically
> Warning: forcing GraphicsMagick to be linked statically
> Warning: forcing tiff to be linked statically
> Warning: forcing jasper to be linked statically
> Warning: forcing jpeg to be linked statically
> Warning: forcing png to be linked statically
> Warning: forcing db to be linked statically
> Warning: forcing Xm to be linked statically
> Warning: forcing curl to be linked statically
> Warning: forcing pcre to be linked statically
> Warning: forcing proj to be linked statically
> Warning: forcing geotiff to be linked statically
> Warning: forcing tiff to be linked statically
> Warning: forcing jpeg to be linked statically
> Warning: forcing proj to be linked statically
> Warning: forcing gdal to be linked statically
> /opt/lsb-gdal/lib/libgdal.a(gdalallregister.o):(.eh_frame+0x11):  
> undefined reference to `__gxx_personality_v0'
> /opt/lsb-gdal/lib/libgdal.a(geotiff.o): In function  
> `GTiffRasterBand::GTiffRasterBand(GTiffDataset*, int)': geotiff.cpp: 
> (.text+0x36e): undefined reference to `_Unwind_Resume'
> /opt/lsb-gdal/lib/libgdal.a(geotiff.o): In function  
> `GTiffRasterBand::GTiffRasterBand(GTiffDataset*, int)': geotiff.cpp: 
> (.text+0x6ee): undefined reference to `_Unwind_Resume'
> /opt/lsb-gdal/lib/libgdal.a(geotiff.o): In function  
> `GTiffRasterBand::SetColorTable(GDALColorTable*)': geotiff.cpp: 
> (.text+0x9a9): undefined reference to `operator delete(void*)'
> /opt/lsb-gdal/lib/libgdal.a(geotiff.o): In function  
> `GTiffDataset::GTiffDataset()': geotiff.cpp:(.text+0xd52):  
> undefined reference to `_Unwind_Resume'

Curt,

since I don't have lsbcc on my system I can only guess, but this  
looks more like a C++
problem than a GDAL-specific problem to me. Specifically, it looks  
like it is missing
the standard C++ library. Perhaps lsbcc has an option to tell it to  
link C++ binaries ?

With kind regards,
Eric

From rec at geodesign.com.br  Tue Dec  5 08:31:40 2006
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] gdal_translate -gcp & gdalwarp
Message-ID: <6.2.1.2.0.20061205113114.01d0a9b0@mailhost.geodesign.com.br>

Hello List Members,

If I add a set o gcps using gdal_translate -gcp to a raw image, will 
gdalwrap utilize these gcps to correct the geometry of the image to a 
particular coordinate system?

Thanks in advance.

Reinaldo  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061205/28352872/attachment.html
From hobu at iastate.edu  Tue Dec  5 09:50:15 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] NG Bindings, numpy, & 1.4.0 Beta 1
In-Reply-To: <45751D80.9080506@pobox.com>
References: <45751D80.9080506@pobox.com>
Message-ID: <ED6EF775-3358-49E0-B4B2-9410FD380969@iastate.edu>

All,

1.4.0 beta 1 includes preliminary support for numpy in the next-gen  
bindings.  Functionally, it appears to work, but it has not been  
thoroughly tested.  Those who are interested in using numpy with GDAL  
are encouraged to build up the next-gen bindings and give it a  
whirl.  Catch me on #gdal if you have any issues with building or  
using it.

Howard

From jluis at ualg.pt  Tue Dec  5 12:22:07 2006
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] [Fwd: gdalwarp reprojection errors]
Message-ID: <4575AABF.8090601@ualg.pt>

Odd, I sent this mail yesterday but it never appeared in this list.
-------------- next part --------------
An embedded message was scrubbed...
From: Joaquim Luis <jluis@ualg.pt>
Subject: gdalwarp reprojection errors
Date: Tue, 05 Dec 2006 02:21:52 +0000
Size: 1133
Url: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061205/f19e6fed/gdalwarpreprojectionerrors.mht
From ivan at ilucena.net  Tue Dec  5 12:50:53 2006
From: ivan at ilucena.net (Ivan Lucena)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] RFC 9: ATL Based COM Interface
Message-ID: <20061205175053.C6E954FD23@ws6-5.us4.outblaze.com>

Hi Frank,

>   1) Where will all this source live?  Perhaps in gdal/com?

Tha is how it looks like:

gdal/com <-------------- VC Solution goes here
gdal/com/GDAL <--------- Project file and code goes here
gdal/com/samples <------ Samples that can be use for testing
gdal/com/doc <---------- DOX, html stuff

>
>   2) You indicate the build mechanism will be separate from the regular
>      gdal builds.  Can you explain a bit more about this?  Will the build
>      be based on a visual studio project file instead of makefiles?

The Visual Studio project just need to know where to find gdal_i.lib and the include folders alg and gcore. 

I can write a makefile for that too if you want.

During debugging, the application must find gdal13.dll in the system path.

So, as you can see, the development process is really independent.

>
>   3) What build environments will be supported? Only visual studio?  If so,
>      what versions?

The current implementation is compatible with Visual Studio 2005. I am not sure about other version. I guess that it could also be compiled in 2003. The project is pretty easy to recreate anyway. It doesn?t have a lot of sub-folders, flags and options settings like a big project as the GDAL VS solution.

>
>   4) What timeline and GDAL verison are you looking to incorporate into?
>      Presumably this will go into the development branch (aka 1.5.0-dev)
>      after the 1.4.0 release?

Yes, I believe that it is wise. Once we have this think rolling it will take the cycle of the
next GDAL release to get in to a stable version. I mean GDAL 1.4.x or 1.5.0.

>
>   5) What kind of documentation are you planning to provide for users?

As the RFC says I am planning to keep documentation compatibility with the GDAL C++ API. I will use the ?/see? DOxygen tag to point to the original documentation as much as I can. 

>
>   6) How complete a coverage are you planning?  Pretty much everything
>      handled by the swig wrappers?  Only GDAL?  Only the pieces you find
>      you need?

I am planning to cover all the raster support first. I think that the experience is going to make the OGR Interface much easier even tough it is much a bigger job.

> My understanding is that the C# bindings are accessable from any .net 
> language.

I believe that it is true.

> So it seems that the COM interfaces will mainly be of interest to Delphi
> developers - is that right?  I must confess to being a little confused by
> changes in Microsoft object technology, but my understanding was that the
> .net approach to object provision is now preferred to COM objects.

I guess that you right in parts. Delphi will be today the main beneficiary, but you can count VB, ASP or any other COM's friend programming/scripting language on that group too.

>
> Generally speaking I am supportive of inclusion of COM support but I would
> like to see another pass on the RFC to clarify the above points.  I'd also
> stress that the current project direction is still to prefer the c# bindings
> as our ".net solution" - I'd appreciate comment on whether that makes sense.
> Also, does Delphi really have no convenient way of calling .net services?
> It seems like an obvious step for Borland to take.

Let me explain the Delphi problem: There is two Delphi now. The old and traditional (Delphi Win32 or Kilix for Linux) supported by Borland and by some freeware products; and there is a new one called Delphi.Net that is supported only by Borland Studio 2006.

By the way, those product names and company names are changing as we speech.

The programming language syntaxes are similar but not identical so, You pretty much need to write applications to move to Delphi.Net.

So, the answer to you question is No, Delphi can not call .Net jut like VB6 or VC6 C++ can't.

So, I agree with you. I should rewrite the RFC-9 to something like a "COM solution to GDAL" and remove the .Net samples. If you agree.

Best regards,

Ivan



From archer at eskimo.com  Tue Dec  5 16:09:12 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <45747E83.4090101@pobox.com>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>
	<Pine.SUN.4.58.0612041132510.1260@eskimo.com>
	<45747E83.4090101@pobox.com>
Message-ID: <Pine.SUN.4.58.0612051257130.23487@eskimo.com>

On Mon, 4 Dec 2006, Frank Warmerdam wrote:

> I tried building ogrinfo.cpp similarly and it worked fine.
>
> Note that:
>   o My build was --without-libtool
>   o I built against the libgdal.a in the build directory since I don't
>     normally install the static library.

I believe it was an error on my end.  I had this in my script:

  CC=lsbcc ./configure \

but should have had:

  CC=lsbcc CXX=lsbc++ ./configure \

g++ was getting called during the compile and it shouldn't have.
Anyway, I'm now at a point where the generic compile is failing.  My
C is strong but I've had no training in C++ so this is beyond me:

  ilwisdataset.cpp: In member function 'void ValueRange::init(double)':
  ilwisdataset.cpp:1826: error: expected type-specifier before 'exception'
  ilwisdataset.cpp:1826: error: expected `)' before '*' token
  ilwisdataset.cpp:1826: error: expected `{' before '*' token
  ilwisdataset.cpp:1826: error: expected primary-expression before ')' token
  ilwisdataset.cpp:1826: error: expected `;' before ')' token
  make[2]: *** [../o/ilwisdataset.o] Error 1
  make[2]: Leaving directory `/home/src/lsb/gdal-1.3.2b2/frmts/ilwis'

Hopefully it's just a C++ syntax error?  This is gdal-1.3.2b2 I'm
working with, and the bit of code is:


    catch (exception *) {
        st = stReal;
        _r0 = 0;
        _rStep = 0.0001;
        _rHi = 1e300;
        _rLo = -1e300;
        iRawUndef = iUNDEF;
    }


--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From archer at eskimo.com  Tue Dec  5 16:22:23 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.SUN.4.58.0612051257130.23487@eskimo.com>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>
	<Pine.SUN.4.58.0612041132510.1260@eskimo.com>
	<45747E83.4090101@pobox.com>
	<Pine.SUN.4.58.0612051257130.23487@eskimo.com>
Message-ID: <Pine.SUN.4.58.0612051319300.23487@eskimo.com>

On Tue, 5 Dec 2006, Curt, WE7U wrote:

> Hopefully it's just a C++ syntax error?  This is gdal-1.3.2b2 I'm
> working with, and the bit of code is:
>
>
>     catch (exception *) {

Sorry, the original code had no space between "exception" and "*".

I replaced it with this, stolen from somewhere else in the GDAL
code:

    catch (const std::exception &e) {

It gets further into the compile now.  Is the change correct?

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From ari.jolma at tkk.fi  Tue Dec  5 18:28:47 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] 1.4.0 beta 1 compiles in MinGW but Perl wrappers had
 some problems (now fixed hopefully)
In-Reply-To: <Pine.SUN.4.58.0612051319300.23487@eskimo.com>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>
	<Pine.SUN.4.58.0612041132510.1260@eskimo.com>
	<45747E83.4090101@pobox.com>
	<Pine.SUN.4.58.0612051257130.23487@eskimo.com>
	<Pine.SUN.4.58.0612051319300.23487@eskimo.com>
Message-ID: <457600AF.6070404@tkk.fi>

The 1.4.0 compiles in MinGW (MSYS in fact). My only problem was from 
configure, which uses `$PG_CONFIG --libdir` when it checks for PQconnect 
in libpq (when including the PostGIS driver). The backticks or something 
else adds ^A that I presume makes the check fail.

I use GTK+ for Windows (gives me libtiff and libz) and PostGIS (gives 
libgeos and libproj binaries - the dev files need to be get from the 
source packages). PostGIS contains *libproj.dll* but logics in ogrct.cpp 
hardcode *proj.dll* into libgdal for MinGW. This was/is in the bugzilla, 
but it is easy to quickly fix also so that under __CYGWIN__ and 
__MINGW32__ LIBNAME becomes libproj.dll. (I'm not committing changes to 
that part of OGR though)

I'm also missing the capability in OGR to ignore M value for points. I 
have a patch to add that capability for myself.

I updated the Perl wrappers in CVS, two of them were re-generated in the 
release process I guess, but they did not compile in my system for some 
reason. I remade them with swig 1.3.29 in my system. The GDAL.pm was 
also re-generated. With that file there is a problem, the GNUmakefile 
says/echoes it but it's not very easy to note, that it needs to be 
hand-edited to contain four lines of code in the beginning. I have just 
not got into investigating what is the best way to make that change 
automatic. Tom Kralidis had similar problem with MapServer/Perl.

The test codes work as before - they fail because some problem in 
Set/GetGeoTransform in RST driver and OFTInteger/OFTReal problem in 
Shapefiles - I guess I should add an explicit set field width to fix that.

Cheers,

Ari

-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka
Geoinformation and positioning technology
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From epk.lists at gmail.com  Tue Dec  5 19:16:21 2006
From: epk.lists at gmail.com (Eduardo Patto Kanegae)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] cut rasters with a polygon shapefile
Message-ID: <2d1782780612051616w581c774dj277282f28d13b001@mail.gmail.com>

Hi,

I'd like to cut some DEM files using a polygon shapefile as a mask. The
shapefile contains forestry stands boudaries.

Is that possible using some of GDAL/OGR utilities ?

thanks.

-- 
Eduardo Patto Kanegae
http://www.webmapit.com.br
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061205/29a87a5a/attachment.html
From schut at sarvision.nl  Wed Dec  6 02:41:51 2006
From: schut at sarvision.nl (Vincent Schut)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] NG Bindings, numpy, & 1.4.0 Beta 1
In-Reply-To: <ED6EF775-3358-49E0-B4B2-9410FD380969@iastate.edu>
References: <45751D80.9080506@pobox.com>
	<ED6EF775-3358-49E0-B4B2-9410FD380969@iastate.edu>
Message-ID: <4576743F.40601@sarvision.nl>

Howard Butler wrote:
> All,
>
> 1.4.0 beta 1 includes preliminary support for numpy in the next-gen 
> bindings.  Functionally, it appears to work, but it has not been 
> thoroughly tested.  Those who are interested in using numpy with GDAL 
> are encouraged to build up the next-gen bindings and give it a whirl.  
> Catch me on #gdal if you have any issues with building or using it.
>
> Howard
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
Howard,

I'll try to get to you on #gdal today but don't know if I'll have time 
etc. so I send you this by mail too.

First, by the way, many many thanks for diving into this and creating 
the long awaited (by me at least) numpy support in gdal!

Then the problem:
On my pc, probably because it's an amd64 and maybe because I'm running 
python2.5, I get the following error during make install:

running build_ext
building '_gdal' extension
creating build/temp.linux-x86_64-2.5
x86_64-pc-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -fPIC 
-I../../port -I../../gcore -I../../alg -I../../ogr 
-I/usr/lib64/python2.5/site-packages/numpy/core/include 
-I/usr/include/python2.5 -c gdal_wrap.cpp -o 
build/temp.linux-x86_64-2.5/gdal_wrap.o
gdal_wrap.cpp: In function 'int 
SWIG_Python_ConvertFunctionPtr(PyObject*, void**, swig_type_info*)':
gdal_wrap.cpp:2051: error: invalid conversion from 'const char*' to 'char*'
gdal_wrap.cpp: In function 'int SWIG_AsCharPtrAndSize(PyObject*, char**, 
size_t*, int*)':
gdal_wrap.cpp:2657: error: cannot convert 'int*' to 'Py_ssize_t*' for 
argument '3' to 'int PyString_AsStringAndSize(PyObject*, char**, 
Py_ssize_t*)'
gdal_wrap.cpp: In function 'PyObject* 
_wrap_Dataset_WriteRaster(PyObject*, PyObject*, PyObject*)':
gdal_wrap.cpp:7603: error: cannot convert 'int*' to 'Py_ssize_t*' for 
argument '3' to 'int PyString_AsStringAndSize(PyObject*, char**, 
Py_ssize_t*)'
gdal_wrap.cpp: In function 'PyObject* _wrap_Band_WriteRaster(PyObject*, 
PyObject*, PyObject*)':
gdal_wrap.cpp:9168: error: cannot convert 'int*' to 'Py_ssize_t*' for 
argument '3' to 'int PyString_AsStringAndSize(PyObject*, char**, 
Py_ssize_t*)'
gdal_wrap.cpp: In function 'void SWIG_Python_FixMethods(PyMethodDef*, 
swig_const_info*, swig_type_info**, swig_type_info**)':
gdal_wrap.cpp:11167: error: invalid conversion from 'const char*' to 'char*'
error: command 'x86_64-pc-linux-gnu-gcc' failed with exit status 1

Any ideas?

Vincent.

From tim.bowden at westnet.com.au  Wed Dec  6 08:59:23 2006
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] tiger driver
Message-ID: <1165413563.5249.12.camel@localhost>

The page at http://ogr.maptools.org/drv_tiger.html indicated that the
tiger driver is good for up to 2002 data releases.  Has the page not
been updated to reflect the latest or is the driver untested for later
releases of the tiger data?

Thanks,
Tim Bowden
Mapforge Geospatial


From mateusz at loskot.net  Wed Dec  6 09:24:45 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <Pine.SUN.4.58.0612051319300.23487@eskimo.com>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>	<Pine.SUN.4.58.0612041132510.1260@eskimo.com>	<45747E83.4090101@pobox.com>	<Pine.SUN.4.58.0612051257130.23487@eskimo.com>
	<Pine.SUN.4.58.0612051319300.23487@eskimo.com>
Message-ID: <4576D2AD.4090709@loskot.net>

Curt, WE7U wrote:
> On Tue, 5 Dec 2006, Curt, WE7U wrote:
> 
>> Hopefully it's just a C++ syntax error?  This is gdal-1.3.2b2 I'm 
>> working with, and the bit of code is:
>> 
>> 
>> catch (exception *) {
> 
> Sorry, the original code had no space between "exception" and "*".
> 
> I replaced it with this, stolen from somewhere else in the GDAL code:
> 
> 
> catch (const std::exception &e) {
> 
> It gets further into the compile now.  Is the change correct?

>From C++ point of view, yest, it's perfectly correct.
It's not recommended, and it's not needed, to pass and catch
standard exceptions by pointers.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From archer at eskimo.com  Wed Dec  6 11:02:17 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Compiling under Linux Standard Base
In-Reply-To: <1C9BF412-F374-470E-972B-CE64A6E2DC57@gmx.net>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
	<45745ED8.9030805@pobox.com>
	<Pine.SUN.4.58.0612041117040.1260@eskimo.com>
	<1C9BF412-F374-470E-972B-CE64A6E2DC57@gmx.net>
Message-ID: <Pine.SUN.4.58.0612060748290.18110@eskimo.com>


I'm having difficulties in disabling some of the options in GDAL via
configure.  For instance these don't appear to work:

    --without-libtiff
    --without-geotiff

If I try to disable libtiff, configure picks it up from the system.
I don't want to use the external library instead of the internal, I
want it disabled entirely.

If I try to disable geotiff configure bombs out before completing.
If I specify "/opt/lsb/lib" as the directory configure isn't seeing
it even though libgeotiff.a is there.

I have libgeotiff/libtiff compiled into my application so I don't
currently need them in GDAL.  In fact I'm trying to disable pretty
much every raster option 'cuz I'm really only after the OGR stuff at
the moment.

I'm still plugging along trying to compile GDAL under LSB.  No luck
so far, but I have many things left to try.  The compile currently
bombs out here:

make[1]: Entering directory `/home/src/lsb/gdal-1.3.2b2/ogr'
/bin/sh /home/archer/src/lsb/gdal-1.3.2b2/libtool --mode=link lsbc++  ogrinfo.o /home/archer/src/lsb/gdal-1.3.2b2/libgdal.la -o ogrinfo
lsbc++ ogrinfo.o -o ogrinfo /home/archer/src/lsb/gdal-1.3.2b2/.libs/libgdal.a /usr/local/lib/libproj.so -lrt -ldl /usr/lib/libstdc++.so
/usr/lib/libstdc++.so: undefined reference to `__freelocale@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__wcscoll_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__strtold_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__strtof_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__strxfrm_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__towupper_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__udivdi3@GLIBC_2.0'
/usr/lib/libstdc++.so: undefined reference to `__newlocale@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__strtod_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__umoddi3@GLIBC_2.0'
/usr/lib/libstdc++.so: undefined reference to `__iswctype_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `lseek64@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__strcoll_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__strftime_l@GLIBC_2.3'
/usr/lib/libstdc++.so: undefined reference to `__duplocale@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__wcsxfrm_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__towlower_l@GLIBC_2.1'
/usr/lib/libstdc++.so: undefined reference to `__wcsftime_l@GLIBC_2.3'
/usr/lib/libstdc++.so: undefined reference to `__nl_langinfo_l@GLIBC_2.2'
/usr/lib/libstdc++.so: undefined reference to `__uselocale@GLIBC_2.3'
/usr/lib/libstdc++.so: undefined reference to `__wctype_l@GLIBC_2.1'

I can't for the life of me figure out why it's picking up some of
the system libraries:  I specified alternate directories to
configure and it shouldn't be looking in /usr/local/lib or /usr/lib
for libraries.  That's why I'm getting the undefined references 'cuz
it's depending on non-LSB libraries in this case.

The whole idea behind LSB is that I must only depend upon the
libraries distributed with LSB.  I can compile my own libraries, but
they must in turn depend only on LSB or on others that I've compiled
that depend only upon LSB libraries.  The end result is a portable
executable across Linux systems.

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From warmerdam at pobox.com  Wed Dec  6 11:22:18 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] tiger driver
In-Reply-To: <1165413563.5249.12.camel@localhost>
References: <1165413563.5249.12.camel@localhost>
Message-ID: <4576EE3A.10808@pobox.com>

Tim Bowden wrote:
> The page at http://ogr.maptools.org/drv_tiger.html indicated that the
> tiger driver is good for up to 2002 data releases.  Has the page not
> been updated to reflect the latest or is the driver untested for later
> releases of the tiger data?

Tim,

It seems the documentation has not been kept up to date.  In the code I
see explicit support for versions up to TIGER 2004 though I vaguely recall
doing some since then too.  Recently someone reported importing TIGER 2005
SE (I think) without problems.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From tim.bowden at westnet.com.au  Wed Dec  6 11:13:30 2006
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] tiger driver
In-Reply-To: <4576EE3A.10808@pobox.com>
References: <1165413563.5249.12.camel@localhost>  <4576EE3A.10808@pobox.com>
Message-ID: <1165421610.5249.40.camel@localhost>

Thanks Frank,

An import of 2005se just worked for me (I think- No obvious errors, but
as soon as I work out just what it is I've imported, I'll know if it has
worked ok).

Regards,
Tim Bowden
Mapforge Geospatial

On Wed, 2006-12-06 at 11:22 -0500, Frank Warmerdam wrote:
> Tim Bowden wrote:
> > The page at http://ogr.maptools.org/drv_tiger.html indicated that the
> > tiger driver is good for up to 2002 data releases.  Has the page not
> > been updated to reflect the latest or is the driver untested for later
> > releases of the tiger data?
> 
> Tim,
> 
> It seems the documentation has not been kept up to date.  In the code I
> see explicit support for versions up to TIGER 2004 though I vaguely recall
> doing some since then too.  Recently someone reported importing TIGER 2005
> SE (I think) without problems.
> 
> Best regards,


From mateusz at loskot.net  Wed Dec  6 11:18:07 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:31 2007
Subject: [Gdal-dev] Compiling under Linux Standard Base
In-Reply-To: <Pine.SUN.4.58.0612060748290.18110@eskimo.com>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>	<45745ED8.9030805@pobox.com>	<Pine.SUN.4.58.0612041117040.1260@eskimo.com>	<1C9BF412-F374-470E-972B-CE64A6E2DC57@gmx.net>
	<Pine.SUN.4.58.0612060748290.18110@eskimo.com>
Message-ID: <4576ED3F.1060006@loskot.net>

Curt, WE7U wrote:
 > The whole idea behind LSB is that I must only depend upon the
> libraries distributed with LSB.  

I'm not very familiar with LSB, but I'm just curious:

Does LSB provide C library with C99 support?

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From izzybitsie at gmail.com  Wed Dec  6 12:02:00 2006
From: izzybitsie at gmail.com (Dori)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color
In-Reply-To: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>
References: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>
Message-ID: <23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: AS_GMSNO_IMinfo.dat
Type: chemical/x-mopac-input
Size: 11043 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061206/16f9ede2/AS_GMSNO_IMinfo.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: AS_GMSNO_gdalinfo.dat
Type: chemical/x-mopac-input
Size: 5501 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061206/16f9ede2/AS_GMSNO_gdalinfo.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: out-pct_gdalinfo.dat
Type: chemical/x-mopac-input
Size: 5495 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061206/16f9ede2/out-pct_gdalinfo.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: out_gdalinfo.dat
Type: chemical/x-mopac-input
Size: 1103 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061206/16f9ede2/out_gdalinfo.bin
From hellik at web.de  Wed Dec  6 12:23:37 2006
From: hellik at web.de (Helmut Kudrnovsky)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] geotiff-format and arcview 3.2
Message-ID: <952205555@web.de>


hi,

i've converted an arcinfo-grid to a geotiff-file with fwtool 1.10.

here the gdalinfo for the file 

Driver: GTiff/GeoTIFF
Size is 19484, 14376
Coordinate System is:
PROJCS["Austria_BMN_MGI_M28",
    GEOGCS["GCS_MGI",
        DATUM["unknown",
            SPHEROID["unnamed",6377397.155,299.1528128000009]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",10.33333333333333],
    PARAMETER["scale_factor",1],
    PARAMETER["false_easting",150000],
    PARAMETER["false_northing",-5000000],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (303113.879154104680000,204201.999388290600000)
Pixel Size = (2.499960860736726,-2.499960860736726)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
Corner Coordinates:
Upper Left  (  303113.879,  204201.999) ( 12d20'42.96"E, 46d57'34.90"N)
Lower Left  (  303113.879,  168262.562) ( 12d19'59.71"E, 46d38'11.63"N)
Upper Right (  351823.117,  204201.999) ( 12d59'4.90"E, 46d56'48.00"N)
Lower Right (  351823.117,  168262.562) ( 12d58'7.94"E, 46d37'25.25"N)
Center      (  327468.498,  186232.281) ( 12d39'28.97"E, 46d47'31.55"N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Gray
  NoData Value=255
  Overviews: 4869x3592, 2433x1795, 1215x896, 606x447, 302x222, 150x110, 74x54

if i load this file in arcgis 9.1, everything is ok and i can see the geotiff-file in a correct way and all colors are correct. 

i can load this file also in arcview 3.2, but in the colormap there seems to be only value 0 available and so the geotiff has only one color.

maybe are there any experiences out there if arcview 3.2 can't handle geotiff's? or maybe some hints for solve the problem?

greetings from austria and thanks in advance
helli



_______________________________________________________________________
Viren-Scan f?r Ihren PC! Jetzt f?r jeden. Sofort, online und kostenlos.
Gleich testen! http://www.pc-sicherheit.web.de/freescan/?mc=022222



From nicky666 at gmail.com  Wed Dec  6 13:10:03 2006
From: nicky666 at gmail.com (Nicolas Ribot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdalwarp: different results with proj4 and WKT SRS
	information
Message-ID: <28de5e310612061010k2d170ea7l57ff7d5367baf25e@mail.gmail.com>

Hi all,

I noticed the following behaviour with gdalwarp:

When warping an image, I set the t_srs parameter to be a PROJ4 string
coming from a MapInfo tab file (projection got with:

ogr.Open(poly_filename).GetLayer(0).GetSpatialRef().ExportToProj4()
where poly_filename is the name of the TAB file

The warped image is not correct and I can see a slight shift between
the image and the mapinfo TAB file displayed on it.

When I do not use the proj4 string, but instead a file containing the
WKT srs definition got from the same TAB file, I get the correct
result for the warped image.

Am I missing something with t_srs parameter ?

Here is the proj4 string from my MAPINFO file:
+proj=lcc +lat_1=60 +lat_2=69 +lat_0=60 +lon_0=-132.5 +x_0=0 +y_0=0
+ellps=GRS80 +datum=NAD83 +units=m +no_defs

and the WKT SRS from the same file:
PROJCS["unnamed",GEOGCS["unnamed",DATUM["North_American_Datum_1983",SPHEROID["GRS
80",6378137,298.257222101],TOWG
S84[0,0,0,-0,-0,-0,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Lambert_Conformal_Con
ic_2SP"],PARAMETER["standard_parallel_1",60],PARAMETER["standard_parallel_2",69],PARAMETER["latitude_of_origin",6
0],PARAMETER["central_meridian",-132.5],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["Meter",1
.0]]

Nicolas

From matt.wilkie at gov.yk.ca  Wed Dec  6 14:00:34 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color
In-Reply-To: <23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>
References: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>
	<23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>
Message-ID: <45771352.7070507@gov.yk.ca>

Hi Dori, gdal doesn't like something about the way the source image[1] 
is formatted. I can't view it in OpenEV or in QGIS, it just comes up as 
a black image even before trying to translate or merge. Histograms in 
both programs come up blank.  You should probably file a bug[2]

In the meantime, I was able to open the image using ossim 
imagelinker[3], so maybe give that a try (though being pressed for time 
you may not have the time to learn it).


[1] 
http://www.mediamax.com/izzybitsie/Hosted/AS_GMSNO_00_20061122205548.tif.gz
[2] http://bugzilla.remotesensing.org/enter_bug.cgi?product=GDAL
[3] http://www.ossim.org/OSSIM/Welcome.html

cheers,


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From jluis at ualg.pt  Wed Dec  6 14:56:37 2006
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color
In-Reply-To: <45771352.7070507@gov.yk.ca>
References: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>	<23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>
	<45771352.7070507@gov.yk.ca>
Message-ID: <45772075.2010301@ualg.pt>

Matt Wilkie wrote:
> Hi Dori, gdal doesn't like something about the way the source image[1] 
> is formatted. I can't view it in OpenEV or in QGIS, it just comes up 
> as a black image even before trying to translate or merge. Histograms 
> in both programs come up blank.  You should probably file a bug[2]
>
> In the meantime, I was able to open the image using ossim 
> imagelinker[3], so maybe give that a try (though being pressed for 
> time you may not have the time to learn it).
>
>
> [1] 
> http://www.mediamax.com/izzybitsie/Hosted/AS_GMSNO_00_20061122205548.tif.gz 
>
> [2] http://bugzilla.remotesensing.org/enter_bug.cgi?product=GDAL
> [3] http://www.ossim.org/OSSIM/Welcome.html
>

Hi,
There is nothing wrong with GDAL. What happens is that the file has a 
color palette with only zeros.
So naturally it comes up as a black image.

Joaquim Luis

From jluis at ualg.pt  Wed Dec  6 15:34:19 2006
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdalwarp: different results with proj4 and WKT SRS
	information
In-Reply-To: <28de5e310612061010k2d170ea7l57ff7d5367baf25e@mail.gmail.com>
References: <28de5e310612061010k2d170ea7l57ff7d5367baf25e@mail.gmail.com>
Message-ID: <4577294B.7090501@ualg.pt>

Nicolas Ribot wrote:
> Hi all,
>
> I noticed the following behaviour with gdalwarp:
>
> When warping an image, I set the t_srs parameter to be a PROJ4 string
> coming from a MapInfo tab file (projection got with:
>
> ogr.Open(poly_filename).GetLayer(0).GetSpatialRef().ExportToProj4()
> where poly_filename is the name of the TAB file
>
> The warped image is not correct and I can see a slight shift between
> the image and the mapinfo TAB file displayed on it.
>
> When I do not use the proj4 string, but instead a file containing the
> WKT srs definition got from the same TAB file, I get the correct
> result for the warped image.
>
> Am I missing something with t_srs parameter ?
>
> Here is the proj4 string from my MAPINFO file:
> +proj=lcc +lat_1=60 +lat_2=69 +lat_0=60 +lon_0=-132.5 +x_0=0 +y_0=0
> +ellps=GRS80 +datum=NAD83 +units=m +no_defs
>
> and the WKT SRS from the same file:
> PROJCS["unnamed",GEOGCS["unnamed",DATUM["North_American_Datum_1983",SPHEROID["GRS 
>
> 80",6378137,298.257222101],TOWG
> S84[0,0,0,-0,-0,-0,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Lambert_Conformal_Con 
>
> ic_2SP"],PARAMETER["standard_parallel_1",60],PARAMETER["standard_parallel_2",69],PARAMETER["latitude_of_origin",6 
>
> 0],PARAMETER["central_meridian",-132.5],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["Meter",1 
>
> .0]]

Indeed there seams to exist a problem here.
When I convert the proj4 string, I get a different WKT. Notice that the 
PROJECTION is different.

PROJCS["unnamed",
    GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
            SPHEROID["GRS 1980",6378137,298.257222101,
                AUTHORITY["EPSG","7019"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6269"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4269"]],
    PROJECTION["Lambert_Conformal_Conic_1SP"],
    PARAMETER["latitude_of_origin",60],
    PARAMETER["central_meridian",-132.5],
    PARAMETER["scale_factor",1],
    PARAMETER["false_easting",0],
    PARAMETER["false_northing",0],
    UNIT["Meter",1]]

Joaquim Luis



From matt.wilkie at gov.yk.ca  Wed Dec  6 15:54:07 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color
In-Reply-To: <45772075.2010301@ualg.pt>
References: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>	<23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>
	<45771352.7070507@gov.yk.ca> <45772075.2010301@ualg.pt>
Message-ID: <45772DEF.6090508@gov.yk.ca>

> There is nothing wrong with GDAL. What happens is that the file has a
>  color palette with only zeros. So naturally it comes up as a black
> image.

Then why do other programs like ossim, xnview, and imagemagick display
it properly? With xnview I can view and modify the colour pallette.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From jluis at ualg.pt  Wed Dec  6 16:32:13 2006
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color
In-Reply-To: <45772DEF.6090508@gov.yk.ca>
References: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>	<23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>
	<45771352.7070507@gov.yk.ca> <45772075.2010301@ualg.pt>
	<45772DEF.6090508@gov.yk.ca>
Message-ID: <457736DD.6060001@ualg.pt>

Matt Wilkie wrote:
>> There is nothing wrong with GDAL. What happens is that the file has a
>>  color palette with only zeros. So naturally it comes up as a black
>> image.
>
> Then why do other programs like ossim, xnview, and imagemagick display
> it properly? With xnview I can view and modify the colour pallette.
>

Mystery.
The default Windows viewer ("picture and fax previewer") also displays 
it correctly.
But Matlab is on the "black team". And it see the colormap like this

0.0039    0.0039    0.0039
0    0    0
0    0    0.0013
0    0    0.0026
...

With a maximum of 0.0039. If I normalize this colormap (devided it by 
0.0039) than also
Matlab displays it properly.
Probably, that's what the others do as well.


Joaquim Luis


From MChapman at sanz.com  Wed Dec  6 17:55:55 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] version 140 beta
Message-ID: <ED3A48B9840E594890A2BC172D119465095078FB@mailman.san.com>

Frank,

 

I am upgrading my gdal build.  Is 140 beta fairly stable?

 

Martin Chapman

SANZ Inc.

Software Developer

http://www.earthwhere.com

W - 303.495.6326

C  - 303.898.0397

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061206/159e2cf5/attachment.html
From MChapman at sanz.com  Wed Dec  6 19:13:03 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] 140 Beta
Message-ID: <ED3A48B9840E594890A2BC172D11946509507957@mailman.san.com>

Frank,

 

I built the 140 beta on windows with VC++ 7 and I've got two linker
errors when linking against the gdal dll in my project (the dll built
fine).  

 

Errors are 2 unresolved external symbols.  One for
OGRFeature::GetFieldAsStringList and one for OGRGeometry::dumpReadable.
I think they are either not defined in the cpp files or they need to
exported.  Let me know if you have the same problem or if you think it
is something different.

 

Best regards,

 

Martin Chapman

SANZ Inc.

Software Developer

http://www.earthwhere.com

W - 303.495.6326

C  - 303.898.0397

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061206/6dc21614/attachment.html
From mhanson at photon.com  Wed Dec  6 22:33:00 2006
From: mhanson at photon.com (Matt Hanson)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] File extensions
Message-ID: <0719BE42F22E0A46857DF72644EC5D70278667@pj-exchange.photon.com>

Hi,
 
I'm using GDAL in an app where I want the user to specify an output format and have it be transparent to me in my app (after all, that's the point of GDAL).    The problem is that some drivers (including a custom one we have written) have specific file extension requirements.    When I call Create() I give it a filename.  Now, the driver should be smart enough to give it the correct extension if it doesn't have one.....but the problem is that I then have no way of knowing if the filename has been altered or not.
 
So, the problem is that I either:
- need to know what the driver is so I can give it the appropriate extension...but then that puts requirements on me to know the file format type which really is the responsibility of GDAL
- need to retrieve from GDAL the new name, in case it's been altered by the driver, after I create a dataset.  But I don't see any method to do this....did I miss something?
 
This seems like a very simple problem and perhaps I have overlooked something or am not being clever enough.  Anyone else run into this issue?
 
 
matt


From rayg at daylongraphics.com  Thu Dec  7 00:54:38 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] File extensions
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D70278667@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D70278667@pj-exchange.photon.com>
Message-ID: <4577AC9E.7050100@daylongraphics.com>

Strongly associating filename extensions to file types is a game that 
eventually loses. Some platforms don't mandate them at all, and the ones 
that do, extensions have a many-many relationship to formats (e.g., HDR 
is both a common header file type and the Radiance HDRI type. DEM could 
mean nearly anything, etc.).

fwiw, my approach is to have users explicitly specify filetype, and then 
filename. That way there's never confusion about which driver to use or 
which default extension to use.

If you let driver I/O calls alter filenames, then they're doing more 
than they're supposed to. You don't want routines that generate side 
effects, and filename arguments to I/O funcs should be considered const.

Ray



Matt Hanson wrote:
> Hi,
> 
> I'm using GDAL in an app where I want the user to specify an output
> format and have it be transparent to me in my app (after all, that's
> the point of GDAL).    The problem is that some drivers (including a
> custom one we have written) have specific file extension
> requirements.    When I call Create() I give it a filename.  Now, the
> driver should be smart enough to give it the correct extension if it
> doesn't have one.....but the problem is that I then have no way of
> knowing if the filename has been altered or not.
> 
> So, the problem is that I either: - need to know what the driver is
> so I can give it the appropriate extension...but then that puts
> requirements on me to know the file format type which really is the
> responsibility of GDAL - need to retrieve from GDAL the new name, in
> case it's been altered by the driver, after I create a dataset.  But
> I don't see any method to do this....did I miss something?
> 
> This seems like a very simple problem and perhaps I have overlooked
> something or am not being clever enough.  Anyone else run into this
> issue?
> 
> 
> matt


From nicky666 at gmail.com  Thu Dec  7 04:34:45 2006
From: nicky666 at gmail.com (Nicolas Ribot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdalwarp: different results with proj4 and WKT SRS
	information
In-Reply-To: <4577294B.7090501@ualg.pt>
References: <28de5e310612061010k2d170ea7l57ff7d5367baf25e@mail.gmail.com>
	<4577294B.7090501@ualg.pt>
Message-ID: <28de5e310612070134n2d353120oaee873f20edf30a0@mail.gmail.com>

Thanx for the insight, Joaquim.

Should I file a bug ?

On 12/6/06, Joaquim Luis <jluis@ualg.pt> wrote:
> Nicolas Ribot wrote:
> > Hi all,
> >
> > I noticed the following behaviour with gdalwarp:
> >
> > When warping an image, I set the t_srs parameter to be a PROJ4 string
> > coming from a MapInfo tab file (projection got with:
> >
> > ogr.Open(poly_filename).GetLayer(0).GetSpatialRef().ExportToProj4()
> > where poly_filename is the name of the TAB file
> >
> > The warped image is not correct and I can see a slight shift between
> > the image and the mapinfo TAB file displayed on it.
> >
> > When I do not use the proj4 string, but instead a file containing the
> > WKT srs definition got from the same TAB file, I get the correct
> > result for the warped image.
> >
> > Am I missing something with t_srs parameter ?
> >
> > Here is the proj4 string from my MAPINFO file:
> > +proj=lcc +lat_1=60 +lat_2=69 +lat_0=60 +lon_0=-132.5 +x_0=0 +y_0=0
> > +ellps=GRS80 +datum=NAD83 +units=m +no_defs
> >
> > and the WKT SRS from the same file:
> > PROJCS["unnamed",GEOGCS["unnamed",DATUM["North_American_Datum_1983",SPHEROID["GRS
> >
> > 80",6378137,298.257222101],TOWG
> > S84[0,0,0,-0,-0,-0,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Lambert_Conformal_Con
> >
> > ic_2SP"],PARAMETER["standard_parallel_1",60],PARAMETER["standard_parallel_2",69],PARAMETER["latitude_of_origin",6
> >
> > 0],PARAMETER["central_meridian",-132.5],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["Meter",1
> >
> > .0]]
>
> Indeed there seams to exist a problem here.
> When I convert the proj4 string, I get a different WKT. Notice that the
> PROJECTION is different.
>
> PROJCS["unnamed",
>     GEOGCS["NAD83",
>         DATUM["North_American_Datum_1983",
>             SPHEROID["GRS 1980",6378137,298.257222101,
>                 AUTHORITY["EPSG","7019"]],
>             TOWGS84[0,0,0,0,0,0,0],
>             AUTHORITY["EPSG","6269"]],
>         PRIMEM["Greenwich",0,
>             AUTHORITY["EPSG","8901"]],
>         UNIT["degree",0.0174532925199433,
>             AUTHORITY["EPSG","9108"]],
>         AXIS["Lat",NORTH],
>         AXIS["Long",EAST],
>         AUTHORITY["EPSG","4269"]],
>     PROJECTION["Lambert_Conformal_Conic_1SP"],
>     PARAMETER["latitude_of_origin",60],
>     PARAMETER["central_meridian",-132.5],
>     PARAMETER["scale_factor",1],
>     PARAMETER["false_easting",0],
>     PARAMETER["false_northing",0],
>     UNIT["Meter",1]]
>
> Joaquim Luis
>
>
>

From jdgonon at gi-lemans.com  Wed Dec  6 12:07:09 2006
From: jdgonon at gi-lemans.com (Jean-Daniel GONON)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Debug assertion failed
Message-ID: <4576F8BD.1000400@gi-lemans.com>

Hi

I am compiling GDAL/OGR-1.3.2 and I have still errors about "debug 
assertion failed".

Is what these errors can come from the work environment ?

I work under Windows XP Pro (v2002) SP2.
I compile with Visual C++ 2003 with project files of GDAL/OGR.

Which is your environment of work ?

Thank you

Jean-Daniel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061206/1a24d6ed/attachment.html
From mateusz at loskot.net  Thu Dec  7 09:45:54 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Debug assertion failed
In-Reply-To: <4576F8BD.1000400@gi-lemans.com>
References: <4576F8BD.1000400@gi-lemans.com>
Message-ID: <45782922.4020201@loskot.net>

Jean-Daniel GONON wrote:
> I am compiling GDAL/OGR-1.3.2 and I have still errors about "debug 
> assertion failed".
> 
> Is what these errors can come from the work environment ?

Jean,

Please, provide more details about operation you run which throws "debug
assertion failed".
What exactly do you run, ogrinfo.exe or your own program?
If you run your own program, could you step-in under debugger to see
where is the assertion caught? What line, context.

> I work under Windows XP Pro (v2002) SP2. I compile with Visual C++ 
> 2003 with project files of GDAL/OGR.

It shoul work.

> Which is your environment of work ?

I compile GDAL on Windows XP using Visual C++ 2005, using makefile.vc
from GDAL distribution:

nmake /f makefile.vc

I run GDAL utilities, I run my own programs and I've not met any
assertion caught.
AFAIK, Frank uses Visual C++ 2003. So, I'd call it's a environment
perfectly supported by GDAL.


Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From jdgonon at gi-lemans.com  Wed Dec  6 12:07:09 2006
From: jdgonon at gi-lemans.com (Jean-Daniel GONON)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Debug assertion failed
Message-ID: <4576F8BD.1000400@gi-lemans.com>

Hi

I am compiling GDAL/OGR-1.3.2 and I have still errors about "debug 
assertion failed".

Is what these errors can come from the work environment ?

I work under Windows XP Pro (v2002) SP2.
I compile with Visual C++ 2003 with project files of GDAL/OGR.

Which is your environment of work ?

Thank you

Jean-Daniel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061206/1a24d6ed/attachment-0001.html
From dany.geotools at gmail.com  Thu Dec  7 11:13:23 2006
From: dany.geotools at gmail.com (Daniele Romagnoli)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] 12 bit Jp2k image questions.
Message-ID: <7221db410612070813i338b4b6dha84684d0189821dc@mail.gmail.com>

Hi List,
after my last exam, I'm back working on GDAL ImageIO integration proposal.

I have some questions...
I'm using a 12 bit Jpeg2k sample, which shows up fine in Java using the
ImageIO pure Java reader based on JJ2000.

When opening this image with OpenEV or using gdalinfo, it says that the
image is 8 bit.
When using JAVA GDAL Bindings the image seems to be 16 bit since the Data
Type we get is *GDT_UInt16* . With no surprise the displayed image is darker
than expected.

Why such a difference? (We are using ERMapper jpeg2k driver on all these
experiments)


As an aside, is it normal that I do not get any metadata back using the Java
Bindings for this jp2 image? I iwas hoping to get information about the
image type directly from metadata.

What can I do to know in advance from GDAL that this image is 12 bit?



Any suggestion?

Thanks a lot.


Best Regards,
Daniele
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061207/de6d4016/attachment.html
From archer at eskimo.com  Thu Dec  7 11:35:40 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Any possibility of static compile?
In-Reply-To: <4576D2AD.4090709@loskot.net>
References: <8D27E2CDAF11D34F97E7445BCCCDB92C01643BF8@IMCSRV1.MITRE.ORG>
	<Pine.SUN.4.58.0612041132510.1260@eskimo.com>
	<45747E83.4090101@pobox.com>
	<Pine.SUN.4.58.0612051257130.23487@eskimo.com>
	<Pine.SUN.4.58.0612051319300.23487@eskimo.com>
	<4576D2AD.4090709@loskot.net>
Message-ID: <Pine.SUN.4.58.0612070834130.11731@eskimo.com>

On Wed, 6 Dec 2006, Mateusz Loskot wrote:

> >> catch (exception *) {
> >
> > I replaced it with this, stolen from somewhere else in the GDAL code:
> >
> > catch (const std::exception &e) {
>
> >From C++ point of view, yest, it's perfectly correct.
> It's not recommended, and it's not needed, to pass and catch
> standard exceptions by pointers.

So what should the fix be?  I can't get past that original bit of
code under the lsbcc front-end without changing something.

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From archer at eskimo.com  Thu Dec  7 11:39:17 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Compiling under Linux Standard Base
In-Reply-To: <4576ED3F.1060006@loskot.net>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
	<45745ED8.9030805@pobox.com>
	<Pine.SUN.4.58.0612041117040.1260@eskimo.com>
	<1C9BF412-F374-470E-972B-CE64A6E2DC57@gmx.net>
	<Pine.SUN.4.58.0612060748290.18110@eskimo.com>
	<4576ED3F.1060006@loskot.net>
Message-ID: <Pine.SUN.4.58.0612070836010.11731@eskimo.com>

On Wed, 6 Dec 2006, Mateusz Loskot wrote:

> Curt, WE7U wrote:
>  > The whole idea behind LSB is that I must only depend upon the
> > libraries distributed with LSB.
>
> I'm not very familiar with LSB, but I'm just curious:
>
> Does LSB provide C library with C99 support?

Yes.  Here's a very short web page that gives you a quick rundown:

    <http://lsbbook.gforge.freestandards.org/lsb-history.html>

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From warmerdam at pobox.com  Thu Dec  7 12:00:21 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] 12 bit Jp2k image questions.
In-Reply-To: <7221db410612070813i338b4b6dha84684d0189821dc@mail.gmail.com>
References: <7221db410612070813i338b4b6dha84684d0189821dc@mail.gmail.com>
Message-ID: <457848A5.4080204@pobox.com>

Daniele Romagnoli wrote:
> Hi List,
> after my last exam, I'm back working on GDAL ImageIO integration proposal.

Daniele,

That's great news!

> I have some questions...
> I'm using a 12 bit Jpeg2k sample, which shows up fine in Java using the 
> ImageIO pure Java reader based on JJ2000.
> 
> When opening this image with OpenEV or using gdalinfo, it says that the 
> image is 8 bit.
> When using JAVA GDAL Bindings the image seems to be 16 bit since the 
> Data Type we get is /GDT_UInt16/ . With no surprise the displayed image 
> is darker than expected.

I can see no obvious reason for gdalinfo reporting something different
than you get from the bindings unless the builds are really quite
different.  Can you point me to the sample file in question?

As for darker/lighter that can be highly affected by how the application
chooses to scale the 16bit image to 8bit.  In particular OpenEV has
some fairly fancy logic for computing a default scaling.

> As an aside, is it normal that I do not get any metadata back using the 
> Java Bindings for this jp2 image? I iwas hoping to get information about 
> the image type directly from metadata.

Metadata generally contains information beyond the basic structural
information such as datatype, pixels and lines, geolocation, coordinate
system.  In any event, there isn't currently a mechanism for capturing
metadata from jpeg2000 in the various jpeg2000 drivers as far as I am
aware.  The exception is fhat if you read a GMLJP2 file, and you request
metadata from the "GML" domain you should get the gmlcoverage XML document
back from the metadata api.

> What can I do to know in advance from GDAL that this image is 12 bit?

Consulting the band data type should be the right way, and it should
report GDT_UInt16 from gdalinfo, openev and your calls to the bindings
if you are really using the same library version in all cases.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From dany.geotools at gmail.com  Thu Dec  7 12:56:03 2006
From: dany.geotools at gmail.com (Daniele Romagnoli)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] 12 bit Jp2k image questions.
In-Reply-To: <457848A5.4080204@pobox.com>
References: <7221db410612070813i338b4b6dha84684d0189821dc@mail.gmail.com>
	<457848A5.4080204@pobox.com>
Message-ID: <7221db410612070956r3c9948bbs5d9cdd38e1422587@mail.gmail.com>

Hi,
out of curiosity, I'm trying to build GDAL with Kakadu support for JP2K.

I have downloaded the Kakadu windows library but when I build GDAL this
error occurs:

--------------------------------------------------------------------------------------------------------------------------
D:\gdal\frmts>cd jp2kak   && nmake /NOLOGO /f makefile.vc   && cd ..
        cl /nologo /MD /EHsc /Zi /Fd..\..\gdal.pdb -I..\..\port -I..\..\ogr
-I..
\..\gcore  -I..\..\alg -ID:\WORK\kakadu /DKDU_PENTIUM_MSVC /GX /c
jp2kakdataset.
cpp
jp2kakdataset.cpp
jp2kakdataset.cpp(119) : fatal error C1083: Cannot open include file:
'jp2_local
.h': Invalid argument
NMAKE : fatal error U1077: 'cl' : return code '0x2'
Stop.
--------------------------------------------------------------------------------------------------------------------------

Where can I find jp2_local.h in order to build GDAL?

Thanks a lot.
Best regards,

Daniele

PS: I will point you to the sample file later on. Before, I just want to do
other attempts with JP2K :)


On 12/7/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> Daniele Romagnoli wrote:
> > Hi List,
> > after my last exam, I'm back working on GDAL ImageIO integration
> proposal.
>
> Daniele,
>
> That's great news!
>
> > I have some questions...
> > I'm using a 12 bit Jpeg2k sample, which shows up fine in Java using the
> > ImageIO pure Java reader based on JJ2000.
> >
> > When opening this image with OpenEV or using gdalinfo, it says that the
> > image is 8 bit.
> > When using JAVA GDAL Bindings the image seems to be 16 bit since the
> > Data Type we get is /GDT_UInt16/ . With no surprise the displayed image
> > is darker than expected.
>
> I can see no obvious reason for gdalinfo reporting something different
> than you get from the bindings unless the builds are really quite
> different.  Can you point me to the sample file in question?
>
> As for darker/lighter that can be highly affected by how the application
> chooses to scale the 16bit image to 8bit.  In particular OpenEV has
> some fairly fancy logic for computing a default scaling.
>
> > As an aside, is it normal that I do not get any metadata back using the
> > Java Bindings for this jp2 image? I iwas hoping to get information about
> > the image type directly from metadata.
>
> Metadata generally contains information beyond the basic structural
> information such as datatype, pixels and lines, geolocation, coordinate
> system.  In any event, there isn't currently a mechanism for capturing
> metadata from jpeg2000 in the various jpeg2000 drivers as far as I am
> aware.  The exception is fhat if you read a GMLJP2 file, and you request
> metadata from the "GML" domain you should get the gmlcoverage XML document
> back from the metadata api.
>
> > What can I do to know in advance from GDAL that this image is 12 bit?
>
> Consulting the band data type should be the right way, and it should
> report GDT_UInt16 from gdalinfo, openev and your calls to the bindings
> if you are really using the same library version in all cases.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061207/5a2dcee9/attachment.html
From warmerdam at pobox.com  Thu Dec  7 13:12:52 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] File extensions
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D70278667@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D70278667@pj-exchange.photon.com>
Message-ID: <457859A4.70001@pobox.com>

Matt Hanson wrote:
> Hi,
> 
> I'm using GDAL in an app where I want the user to specify an output format
> and have it be transparent to me in my app (after all, that's the point of
> GDAL).    The problem is that some drivers (including a custom one we have
> written) have specific file extension requirements.    When I call Create()
> I give it a filename.  Now, the driver should be smart enough to give it the
> correct extension if it doesn't have one.....but the problem is that I then
> have no way of knowing if the filename has been altered or not.
> 
> So, the problem is that I either: - need to know what the driver is so I can
> give it the appropriate extension...but then that puts requirements on me to
> know the file format type which really is the responsibility of GDAL - need
> to retrieve from GDAL the new name, in case it's been altered by the driver,
> after I create a dataset.  But I don't see any method to do this....did I
> miss something?

Matt,

Ray has convered some of the general dangers of dependence on extensions.

But I think you can still address this at the application level if you want
to.  In order you create files you already need to know what format driver
you want to use so that you can pass that into CreateCopy or Create.  Given
the driver, you can also fetch it's preferred extension from the driver
metadata.

Then you could, for instance, add the extension to the user provided name
if the user provided name has no extension.  Or possibly even override
if they gave a different once, though for most formats the extension
is just a suggestion, not a requirement.

Note that many formats don't even have a preferred extension.  But if they
do the following call should fetch it (NULL if none):

   const char *pszExtension =
          GDALGetMetadataItem( hDriver, GDAL_DMD_EXTENSION, NULL );

You may find functions like CPLGetExtension(), and CPLResetExtension()
in gdal/port/cpl_conv.h helpful for parsing and modifying filenames in
a portable fashion.

I'm not keen on having drivers actually change extensions internally, though
if it is sufficiently critical a driver could chose to do so.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Thu Dec  7 13:16:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] 12 bit Jp2k image questions.
In-Reply-To: <7221db410612070956r3c9948bbs5d9cdd38e1422587@mail.gmail.com>
References: <7221db410612070813i338b4b6dha84684d0189821dc@mail.gmail.com>
	<457848A5.4080204@pobox.com>
	<7221db410612070956r3c9948bbs5d9cdd38e1422587@mail.gmail.com>
Message-ID: <45785A6B.4060109@pobox.com>

Daniele Romagnoli wrote:
> Hi,
> out of curiosity, I'm trying to build GDAL with Kakadu support for JP2K.
> 
> I have downloaded the Kakadu windows library but when I build GDAL this 
> error occurs:
> 
> -------------------------------------------------------------------------------------------------------------------------- 
> 
> D:\gdal\frmts>cd jp2kak   && nmake /NOLOGO /f makefile.vc 
> <http://makefile.vc>   && cd ..
>         cl /nologo /MD /EHsc /Zi /Fd..\..\gdal.pdb -I..\..\port 
> -I..\..\ogr -I..
> \..\gcore  -I..\..\alg -ID:\WORK\kakadu /DKDU_PENTIUM_MSVC /GX /c 
> jp2kakdataset.
> cpp
> jp2kakdataset.cpp
> jp2kakdataset.cpp(119) : fatal error C1083: Cannot open include file: 
> 'jp2_local
> .h': Invalid argument
> NMAKE : fatal error U1077: 'cl' : return code '0x2'
> Stop.
> -------------------------------------------------------------------------------------------------------------------------- 
> 
> 
> Where can I find jp2_local.h in order to build GDAL?

Daniele,

It is within the Kakadu source tree.  The problem with windows builds
that include Kakadu is that when I build Kakadu on windows, I actually
extract all the files I need out into a single directory and build them
with my own scripts rather than use the normal Kakadu build mechanism.
This lets me assemble the various files I need, including a bunch from
the kakadu apps subtree.  The downside it is essentially a process of
experimentation for other developers to figure out how this can be done.

I'd distribute a "collected and ready to build" version of the Kakadu
stuff for folk - except of course it isn't free software so I'm not
allowed to redistribute Kakadu source.  Generally speaking my assumption
has been that there are few folks who will want to build the Kakadu so
it isn't worth spending a lot of time streamlining the build process.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From mhanson at photon.com  Thu Dec  7 13:19:41 2006
From: mhanson at photon.com (Matt Hanson)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] File extensions
In-Reply-To: <457859A4.70001@pobox.com>
Message-ID: <0719BE42F22E0A46857DF72644EC5D704612AC@pj-exchange.photon.com>

Ray - thanks for the insight, it makes sense and now I understand why
ENVI treats files the way it does (you always deal with the binary file,
which can have any extension or none, then it looks for the hdr file
rather then the other way around)

Frank - Thanks for the heads up on the Metadataitem for the extension.
Didn't even think about the possibility of it existing in the driver.
Makes sense.

The tricky think about my app is that I really don't know the format
when I create it.   The user provides the output format, but not the
filename!  The reason is that in this app there may not be a single
output file.  Output files are created as intermediate files during
processing and thus the filename is generated randomly, with no explicit
knowledge of what the format is (though if it doesn't support Create an
error is generated of course).   I'm actually using the boost filesystem
libraries which provide filename parsing functions....getting the
preferred extension from the driver sounds like the perfect solution.


> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
> Ray has convered some of the general dangers of dependence on 
> extensions.
> 
> But I think you can still address this at the application 
> level if you want to.  In order you create files you already 
> need to know what format driver you want to use so that you 
> can pass that into CreateCopy or Create.  Given the driver, 
> you can also fetch it's preferred extension from the driver metadata.
> 
> Then you could, for instance, add the extension to the user 
> provided name if the user provided name has no extension.  Or 
> possibly even override if they gave a different once, though 
> for most formats the extension is just a suggestion, not a 
> requirement.
> 
> Note that many formats don't even have a preferred extension. 
>  But if they do the following call should fetch it (NULL if none):
> 
>    const char *pszExtension =
>           GDALGetMetadataItem( hDriver, GDAL_DMD_EXTENSION, NULL );
> 
> You may find functions like CPLGetExtension(), and 
> CPLResetExtension() in gdal/port/cpl_conv.h helpful for 
> parsing and modifying filenames in a portable fashion.
> 
> I'm not keen on having drivers actually change extensions 
> internally, though if it is sufficiently critical a driver 
> could chose to do so.


From warmerdam at pobox.com  Thu Dec  7 14:07:31 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color
In-Reply-To: <45771352.7070507@gov.yk.ca>
References: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>
	<23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>
	<45771352.7070507@gov.yk.ca>
Message-ID: <45786673.60907@pobox.com>

Matt Wilkie wrote:
> Hi Dori, gdal doesn't like something about the way the source image[1] 
> is formatted. I can't view it in OpenEV or in QGIS, it just comes up as 
> a black image even before trying to translate or merge. Histograms in 
> both programs come up blank.  You should probably file a bug[2]
> 
> In the meantime, I was able to open the image using ossim 
> imagelinker[3], so maybe give that a try (though being pressed for time 
> you may not have the time to learn it).
> 
> 
> [1] 
> http://www.mediamax.com/izzybitsie/Hosted/AS_GMSNO_00_20061122205548.tif.gz
> [2] http://bugzilla.remotesensing.org/enter_bug.cgi?product=GDAL
> [3] http://www.ossim.org/OSSIM/Welcome.html

folks,

I'm afraid I lost track of this thread.  I have now fetched the file and
inspected it.  TIFF colors maps are supposed to have colors in the
range 0-65535 for each component instead of the usual 0-255 in other
formats.  It seems that this file has been incorrectly generated to
have the colormap between 0 and 255.  So when GDAL converts it to
0-255 values (roughly by dividing by 256) everything ends up black.

So, the input files are screwed up.

Any programs that ignore colormaps will just treat the images as
greyscale.

I also think this may be a fairly common failure with tiff generators
and that some applications may have special logic to look for files
with all colormap values in the 0-255 range and avoid the rescaling
that should happen.

Dori - if you want to file a bug in the GDAL bugzilla (Matt provided
the link above) for this problem, I'll try and implement a "hack" so
that these PCTs work properly.  It would be nice to get this in place
in time for beta2.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From gok at aerometric-ak.com  Thu Dec  7 15:05:08 2006
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] how to drop geoTiff info
Message-ID: <3054411AF4728548AD6D7137190D56B30C4573@admin1.aeromap.com>

Hello, all.
I'm wonder what is a way to drop geoTiff info from existing .tif file?
Passing empty string to OSRSetFromUserInput() just increases the file size.
I'm very new to gdal lib.
gok


From izzybitsie at gmail.com  Thu Dec  7 15:40:33 2006
From: izzybitsie at gmail.com (Dori)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color
In-Reply-To: <45786673.60907@pobox.com>
References: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>
	<23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>
	<45771352.7070507@gov.yk.ca> <45786673.60907@pobox.com>
Message-ID: <23e208430612071240s20652b1fk42dc2dd5760d6dee@mail.gmail.com>

Frank,

I reported the bug the best I could: 1384.

Matt and Frank,
I certainly appreciate all the help I have received from both.
I hope to be able to give something back to GDAL soon.

Tx

On 12/7/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> Matt Wilkie wrote:
> > Hi Dori, gdal doesn't like something about the way the source image[1]
> > is formatted. I can't view it in OpenEV or in QGIS, it just comes up as
> > a black image even before trying to translate or merge. Histograms in
> > both programs come up blank.  You should probably file a bug[2]
> >
> > In the meantime, I was able to open the image using ossim
> > imagelinker[3], so maybe give that a try (though being pressed for time
> > you may not have the time to learn it).
> >
> >
> > [1]
> >
> http://www.mediamax.com/izzybitsie/Hosted/AS_GMSNO_00_20061122205548.tif.gz
> > [2] http://bugzilla.remotesensing.org/enter_bug.cgi?product=GDAL
> > [3] http://www.ossim.org/OSSIM/Welcome.html
>
> folks,
>
> I'm afraid I lost track of this thread.  I have now fetched the file and
> inspected it.  TIFF colors maps are supposed to have colors in the
> range 0-65535 for each component instead of the usual 0-255 in other
> formats.  It seems that this file has been incorrectly generated to
> have the colormap between 0 and 255.  So when GDAL converts it to
> 0-255 values (roughly by dividing by 256) everything ends up black.
>
> So, the input files are screwed up.
>
> Any programs that ignore colormaps will just treat the images as
> greyscale.
>
> I also think this may be a fairly common failure with tiff generators
> and that some applications may have special logic to look for files
> with all colormap values in the 0-255 range and avoid the rescaling
> that should happen.
>
> Dori - if you want to file a bug in the GDAL bugzilla (Matt provided
> the link above) for this problem, I'll try and implement a "hack" so
> that these PCTs work properly.  It would be nice to get this in place
> in time for beta2.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061207/1287c91b/attachment.html
From warmerdam at pobox.com  Thu Dec  7 16:27:23 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Compiling under Linux Standard Base
In-Reply-To: <Pine.SUN.4.58.0612060748290.18110@eskimo.com>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
	<45745ED8.9030805@pobox.com>
	<Pine.SUN.4.58.0612041117040.1260@eskimo.com>
	<1C9BF412-F374-470E-972B-CE64A6E2DC57@gmx.net>
	<Pine.SUN.4.58.0612060748290.18110@eskimo.com>
Message-ID: <4578873B.9070107@pobox.com>

Curt, WE7U wrote:
> I'm having difficulties in disabling some of the options in GDAL via
> configure.  For instance these don't appear to work:
> 
>     --without-libtiff
>     --without-geotiff
> 
> If I try to disable libtiff, configure picks it up from the system.
> I don't want to use the external library instead of the internal, I
> want it disabled entirely.
> 
> If I try to disable geotiff configure bombs out before completing.
> If I specify "/opt/lsb/lib" as the directory configure isn't seeing
> it even though libgeotiff.a is there.

Curt,

You might want to file a bug on this.  I don't think I've ever tried
to build without tiff support, and I think it would be somewhat
challenging, since a few other drivers and parts of OGRSpatialReference
depend on bits of libgeotiff.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From bthoen at gisnet.com  Thu Dec  7 16:23:40 2006
From: bthoen at gisnet.com (Bill Thoen)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
Message-ID: <20061207212340.GA9921@www.gisnet.com>

Am I missing something here? When I use ogr2ogr to export a shapefile I
don't have to specify an output SRS; it seems happy to use the one
specified in the geometry_columns table. But when I try to export a
MapInfo tab file I MUST specify either -t_srs or -a_srs or I get a error
saying it couldn't open the file with any of its drivers.

The problem I'm having is that I'm running a large batch of files that use
either one of two projections and as each gets imported, geometry_columns
contains the right SRS, and when I export to MapInfo I want to use the
correct one. So I'd like it to use whatever is in geometry_columns. How can
I get it to do that for MapInfo exports?

- Bill Thoen


From archer at eskimo.com  Thu Dec  7 16:24:25 2006
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Compiling under Linux Standard Base
In-Reply-To: <4578873B.9070107@pobox.com>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
	<45745ED8.9030805@pobox.com>
	<Pine.SUN.4.58.0612041117040.1260@eskimo.com>
	<1C9BF412-F374-470E-972B-CE64A6E2DC57@gmx.net>
	<Pine.SUN.4.58.0612060748290.18110@eskimo.com>
	<4578873B.9070107@pobox.com>
Message-ID: <Pine.SUN.4.58.0612071320240.11731@eskimo.com>

On Thu, 7 Dec 2006, Frank Warmerdam wrote:

> >     --without-libtiff
> >     --without-geotiff
> >
> > If I try to disable libtiff, configure picks it up from the system.
> > I don't want to use the external library instead of the internal, I
> > want it disabled entirely.
> >
> > If I try to disable geotiff configure bombs out before completing.
> > If I specify "/opt/lsb/lib" as the directory configure isn't seeing
> > it even though libgeotiff.a is there.
>
> You might want to file a bug on this.  I don't think I've ever tried
> to build without tiff support, and I think it would be somewhat
> challenging, since a few other drivers and parts of OGRSpatialReference
> depend on bits of libgeotiff.

It's not _that_ big of a deal, just that I'm already compiling
libtiff and libgeotiff (and others) statically into my app, and I
don't need them currently in GDAL itself.  If I get further into
trying to get GDAL statically compiled I may do some tweaks to GDAL
so that it's configure finds my libraries.  I just didn't want to
take the hit for compiling the same library in there twice.

For right now I'm off on other things 'cuz I couldn't manage to get
GDAL to behave for me.  Under the LSB compiler front-ends I can't
compile GDAL without libtool, which is one flag you guys used in
your working examples.

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

From ari.jolma at tkk.fi  Thu Dec  7 17:31:25 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Documenting the Swig bindings
Message-ID: <4578963D.7020707@tkk.fi>

Bindings developers,

What do you think, would it be a good idea to document the bindings 
directly in code? Are the different language versions similar enough 
that it would make sense to write documentation into the interface 
files, and then produce the docs with doxygen? The language 
differences/particulars could be covered in a separate section perhaps.

I made this try: http://map.hut.fi/doc/GDAL_OGR_Bindings/html/index.html

The only problem is that doxygen needs some help with the *.i files. I 
used the doxygenfilter. I extended it with a very simple 
SwigInterfaceFilter, which basically removes the Swig-specific 
%-commands and removes the "Shadow" string before it gives the file to 
doxygen. Otherwise I just created almost vanilla Doxyfile and ran doxygen.

Regards,

Ari


From mateusz at loskot.net  Thu Dec  7 16:46:36 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Compiling under Linux Standard Base
In-Reply-To: <Pine.SUN.4.58.0612070836010.11731@eskimo.com>
References: <000301c7173f$d11792b0$6401a8c0@ALANMAIN>
	<09BDF674-DF64-440D-AB8D-6E8357053A54@iastate.edu>
	<Pine.LNX.4.58.0612032041100.22180@wapiti.we7u.net>
	<45745ED8.9030805@pobox.com>
	<Pine.SUN.4.58.0612041117040.1260@eskimo.com>
	<1C9BF412-F374-470E-972B-CE64A6E2DC57@gmx.net>
	<Pine.SUN.4.58.0612060748290.18110@eskimo.com>
	<4576ED3F.1060006@loskot.net>
	<Pine.SUN.4.58.0612070836010.11731@eskimo.com>
Message-ID: <45788BBC.9040206@loskot.net>

Curt, WE7U wrote:
> On Wed, 6 Dec 2006, Mateusz Loskot wrote:
> 
>> Curt, WE7U wrote:
>>  > The whole idea behind LSB is that I must only depend upon the
>>> libraries distributed with LSB.
>> I'm not very familiar with LSB, but I'm just curious:
>>
>> Does LSB provide C library with C99 support?
> 
> Yes.  Here's a very short web page that gives you a quick rundown:
> 
>     <http://lsbbook.gforge.freestandards.org/lsb-history.html>

Thank you. I will take a look at it.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Thu Dec  7 17:22:59 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
In-Reply-To: <20061207212340.GA9921@www.gisnet.com>
References: <20061207212340.GA9921@www.gisnet.com>
Message-ID: <45789443.10707@pobox.com>

Bill Thoen wrote:
> Am I missing something here? When I use ogr2ogr to export a shapefile I
> don't have to specify an output SRS; it seems happy to use the one
> specified in the geometry_columns table. But when I try to export a
> MapInfo tab file I MUST specify either -t_srs or -a_srs or I get a error
> saying it couldn't open the file with any of its drivers.

Bill,

This should not be the case.  Can you submit a bug, including details
on the software version you are running (CVS head I guess) and attaching
a dataset that demonstrates the problem?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Thu Dec  7 17:24:08 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Re: version 140 beta
In-Reply-To: <ED3A48B9840E594890A2BC172D119465095078FB@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D119465095078FB@mailman.san.com>
Message-ID: <45789488.3040008@pobox.com>

Chapman, Martin wrote:
> Frank,
> 
>  
> 
> I am upgrading my gdal build.  Is 140 beta fairly stable?

Martin,

Yes, the 1.4.0beta1 should be pretty stable.  There is some
churn in the "next generation" bindings but I don't think that
affects you.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From MChapman at sanz.com  Thu Dec  7 17:18:30 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] RE: version 140 beta
In-Reply-To: <45789488.3040008@pobox.com>
Message-ID: <ED3A48B9840E594890A2BC172D119465095F4B3D@mailman.san.com>

Frank,

I downloaded the latest 140 beta and did a full rebuild on my solution
and then it linked fine.  I think I just needed to do a full rebuild on
my project.  Thanks for the response though.  All of the base
functionality in 140 seems to work ok so far.  I've opened up about 15
to 20 different types of images and also used ogr to view, modify,
create, delete, and reproject shape files and it all looks ok so far.
I'll keep testing it with my app.

Martin Chapman
SANZ Inc.
Software Developer
http://www.earthwhere.com
W - 303.495.6326
C  - 303.898.0397

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Thursday, December 07, 2006 3:24 PM
To: Chapman, Martin
Cc: gdal-dev@lists.maptools.org
Subject: Re: version 140 beta

Chapman, Martin wrote:
> Frank,
> 
>  
> 
> I am upgrading my gdal build.  Is 140 beta fairly stable?

Martin,

Yes, the 1.4.0beta1 should be pretty stable.  There is some
churn in the "next generation" bindings but I don't think that
affects you.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo,
http://osgeo.org



From rayg at daylongraphics.com  Thu Dec  7 17:38:21 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] File extensions
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D704612AC@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D704612AC@pj-exchange.photon.com>
Message-ID: <457897DD.8050303@daylongraphics.com>

You're welcome Matt. Hmm... well, if you're generating intermediate 
files only, then filenames shouldn't even matter. For drivers that 
process data which is contained in multiple files in a folder (e.g., 
GTOPO30, SDTS), I prefer the folder name instead and anything inside is 
a driver detail, so the files inside the folder can have their names 
processed by the driver. I think Frank had abstract dataset references 
as a design goal, but the drivers didn't really take him up on it 
(sigh). (I even allow for filenames to be URLs, because who's to say 
that a person picks something off their local storage. And if the URL is 
a zip file, then it's no biggie, because you know the real filetype and 
can then download/unzip to get the real data. A form of future 
proofing... it's entirely possible that future file I/O dialogs become 
generalized to browse local, remote, and Internet dataspaces).

But in practical terms, I understand that some GDAL drivers want 
extensions and/or one of the leaf filenames. I only got around that by 
wrapping GDAL in a higher abstraction, which could be overkill for a 
simple app. But if I understand you right, you're trying to have a 
generalized solution, so I think wrapping may be called for. I wouldn't 
mind pushing some stuff down to GDAL or having an official wrapper 
included with GDAL, but that's longer term of course, GDAL 2.0 if Frank 
wants to do that.

Ray


Matt Hanson wrote:
> Ray - thanks for the insight, it makes sense and now I understand why
> ENVI treats files the way it does (you always deal with the binary file,
> which can have any extension or none, then it looks for the hdr file
> rather then the other way around)
> 
> Frank - Thanks for the heads up on the Metadataitem for the extension.
> Didn't even think about the possibility of it existing in the driver.
> Makes sense.
> 
> The tricky think about my app is that I really don't know the format
> when I create it.   The user provides the output format, but not the
> filename!  The reason is that in this app there may not be a single
> output file.  Output files are created as intermediate files during
> processing and thus the filename is generated randomly, with no explicit
> knowledge of what the format is (though if it doesn't support Create an
> error is generated of course).   I'm actually using the boost filesystem
> libraries which provide filename parsing functions....getting the
> preferred extension from the driver sounds like the perfect solution.


From Martin.Spott at mgras.net  Fri Dec  8 05:55:17 2006
From: Martin.Spott at mgras.net (Martin Spott)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
References: <20061207212340.GA9921@www.gisnet.com>
Message-ID: <elbgal$u2u$1@osprey.mgras.de>

Bill Thoen wrote:
> Am I missing something here? When I use ogr2ogr to export a shapefile I
> don't have to specify an output SRS; it seems happy to use the one
> specified in the geometry_columns table. But when I try to export a
> MapInfo tab file I MUST specify either -t_srs or -a_srs or I get a error
> saying it couldn't open the file with any of its drivers.

Do we probably see an effect where 'ogr2ogr' behaves different
depending on the surrounding environment ?

I'd like to explain a case where I recently got into trouble with the
output SRS ....  and, to be honest, where I wish to get pointed at a
place where to look for the source of the trouble. I hope people will
read my explanation even though it'll get a bit longer ....

Everything takes place on the same machine. I'm using 'ogr2ogr' for the
purpose of importing VMap0 data into a PostGIS DB. I've compiled
'ogr2ogr' from gdal-1.3.2 together with proj-4.4.9, geos-2.2.3 and
ogdi-3.1.5 as 32-bit binaries, because ODGI doesn't work as 64 bit
binary. These tools remain unchanged !

On the server side I use PROJ.4 4.4.9 and GEOS 2.1.1 as shipped with
the Debian Sarge distribution in order to build PostGIS. And here comes
the difference.
First try with PostgreSQL-8.1.4/PostGIS-1.1.3, second try with
PostgreSQL-8.2.0/PostGIS-1.1.6. I don't change any flag that I use with
'ogr2ogr' (the respective shell script is still the same) and the
binary is exactly the same (as mentioned before), still the SRID in the
resulting table is different !?!?!

This is how I'm proceeding. In the result table of the first try
(postgresql-8.1.4/postgis-1.1.3) the CONSTRAINT
enforce_srid_wkb_geometry is tied to EPSG 4326, in the second try
(postgresql-8.2.0/postgis-1.1.6) it ready EPSG 32767 and both tables
actually _do_ cointain the expected data. How is such behaviour
triggered !?


foxtrot: ~> /opt/GRASS/bin/ogrinfo -ro -summary gltp:/vrf/home/martin/live/vmap0/v0eur/vmaplv0/eurnasia 'swampa@veg(*)_area'
INFO: Open of `gltp:/vrf/home/martin/live/vmap0/v0eur/vmaplv0/eurnasia'
using driver `OGDI' successful.

Layer name: swampa@veg(*)_area
Geometry: Polygon
Feature Count: 12511
Extent: (-10.371299, 40.065544) - (179.999900, 75.659821)
Layer SRS WKT:
GEOGCS["NAD83",
    DATUM["North_American_Datum_1983",
        SPHEROID["GRS 1980",6378137,298.257222101,
            AUTHORITY["EPSG","7019"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6269"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AXIS["Lat",NORTH],
    AXIS["Long",EAST],
    AUTHORITY["EPSG","4269"]]
id: Integer (10.0)
f_code: String (5.0)
veg: Integer (5.0)
tile_id: Integer (5.0)
fac_id: Integer (10.0)

foxtrot: ~> /opt/GRASS/bin/ogr2ogr -f PostgreSQL 'PG:host=localhost user=martin dbname=landcover' -t_srs "EPSG:4326" gltp:/vrf/home/martin/live/vmap0/v0soa/vmaplv0/soamafr -where f_code=BH095 -nln marsh_temp 'swampa@veg(*)_area'

foxtrot: ~> echo "\d marsh_temp" | psql
                                 Tabelle public.marsh_temp
    Spalte    |      Typ      |                          Attribute
--------------+---------------+--------------------------------------------------------------
 ogc_fid      | integer       | not null default nextval('marsh_temp_ogc_fid_seq'::regclass)
 wkb_geometry | geometry      |
 id           | numeric(10,0) |
 f_code       | character(5)  |
 veg          | numeric(5,0)  |
 tile_id      | numeric(5,0)  |
 fac_id       | numeric(10,0) |
Indexe:
    marsh_temp_pk PRIMARY KEY, btree (ogc_fid)
Check-Constraints:
    enforce_dims_wkb_geometry CHECK (ndims(wkb_geometry) = 2)
    enforce_geotype_wkb_geometry CHECK (geometrytype(wkb_geometry) = 'POLYGON'::text OR wkb_geometry IS NULL)
    enforce_srid_wkb_geometry CHECK (srid(wkb_geometry) = 32767)

foxtrot: ~> echo "select count(ogc_fid) from marsh_temp;" | psql
 count
-------
  1849
(1 Zeile)


Any ideas ? I could revert to using PostgreSQL-8.1.4/PostGIS-1.1.3 but
I guess the same should work with PostgreSQL-8.2.0/PostGIS-1.1.6 as
well ?

Regards,
	Martin.	
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------

From Martin.Spott at mgras.net  Fri Dec  8 06:55:09 2006
From: Martin.Spott at mgras.net (Martin Spott)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
References: <20061207212340.GA9921@www.gisnet.com>
	<elbgal$u2u$1@osprey.mgras.de>
Message-ID: <elbjqt$rmu$1@osprey.mgras.de>

Martin Spott wrote:

> Do we probably see an effect where 'ogr2ogr' behaves different
> depending on the surrounding environment ?

Sorry, the problem I was facing appears to be related to PostGIS-1.1.6,
PostGIS-1.1.5 works as expected.

Hope you had a nice reading  ;-)

	Martin.
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------

From collinsb at mitre.org  Fri Dec  8 09:12:24 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] 12 bit Jp2k image questions.
In-Reply-To: <45785A6B.4060109@pobox.com>
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92C016C7C47@IMCSRV1.MITRE.ORG>

>-----Original Message-----
>From: gdal-dev-bounces@lists.maptools.org 
>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
>Frank Warmerdam
>Sent: Thursday, December 07, 2006 1:16 PM
>To: Daniele Romagnoli
>Cc: gdal-dev@lists.maptools.org
>Subject: Re: [Gdal-dev] 12 bit Jp2k image questions.
>
>Daniele Romagnoli wrote:
>> Hi,
>> out of curiosity, I'm trying to build GDAL with Kakadu 
>support for JP2K.
>> 
>> I have downloaded the Kakadu windows library but when I 
>build GDAL this 
>> error occurs:
>> 
>> 
>---------------------------------------------------------------
>----------------------------------------------------------- 
>> 
>> D:\gdal\frmts>cd jp2kak   && nmake /NOLOGO /f makefile.vc 
>> <http://makefile.vc>   && cd ..
>>         cl /nologo /MD /EHsc /Zi /Fd..\..\gdal.pdb -I..\..\port 
>> -I..\..\ogr -I..
>> \..\gcore  -I..\..\alg -ID:\WORK\kakadu /DKDU_PENTIUM_MSVC /GX /c 
>> jp2kakdataset.
>> cpp
>> jp2kakdataset.cpp
>> jp2kakdataset.cpp(119) : fatal error C1083: Cannot open 
>include file: 
>> 'jp2_local
>> .h': Invalid argument
>> NMAKE : fatal error U1077: 'cl' : return code '0x2'
>> Stop.
>> 
>---------------------------------------------------------------
>----------------------------------------------------------- 
>> 
>> 
>> Where can I find jp2_local.h in order to build GDAL?
>
>Daniele,
>
>It is within the Kakadu source tree.  The problem with windows builds
>that include Kakadu is that when I build Kakadu on windows, I actually
>extract all the files I need out into a single directory and build
them
>with my own scripts rather than use the normal Kakadu build mechanism.
>This lets me assemble the various files I need, including a bunch from
>the kakadu apps subtree.  The downside it is essentially a process of
>experimentation for other developers to figure out how this 
>can be done.
>

Daniele,

If you have the source (on Windows) it's enough to build all of Kakadu,
then do a windows 'search' and copy all the *.h and *.obj files to one
directory.  Then list that directory as KAKDIR in the nmake.opt.  This
is not scripted, but since I just compiled Kakadu once, it's just a
onetime process.

--
Ben


From jean-claude.repetto at worldonline.fr  Fri Dec  8 10:47:32 2006
From: jean-claude.repetto at worldonline.fr (Jean-Claude Repetto)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Needs help for reprojecting a shapefile with ogr2ogr
Message-ID: <45798914.6080102@worldonline.fr>

Hello,

I have downloaded a shapefile of France (freely available from the IGN 
website at 
<http://www.ign.fr/telechargement/MPro/produit/GEOFLA_Dep/GEOFLA-dep-L2-SF.ZIP> 
).
The shapefile contains data in tangent Lambert Conic Conformal 
projection, but I need geographical coordinates (longitudes, latitudes).

I am trying to convert the shapefile with ogr2ogr, but the result is wrong.

Since the projection and CS informations are not included in the 
original files, I have used the s_srs option to specify them (the 
tangent Lambert Conic Conformal projection (lcc1) and the NTF system).

ogr2ogr -f "ESRI Shapefile" -s_srs "+proj=lcc +no_defs +lat_1=46.8 
+lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +ellps=clrk80 
+pm=paris"  -t_srs "+proj=longlat +nodefs +datum=WGS84 
+towgs84=168,60,-320" wgs dep_france_dom.shp


The coordinates of the first point of the original file are :
X=801150 Y=2092615

The result of the ogr2ogr command gives :
long = 6.468923293704749,   lat = -0.979340169729739, which is obviously 
wrong.

cs2cs gives the correct result :
echo "801150 2092615" | cs2cs -f "%15.10f" +proj=lcc +no_defs 
+lat_1=46.8000 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 
+ellps=clrk80 +pm=paris +to +proj=longlat +datum=WGS84 +towgs84=168,60,-320
    4.9245201351   45.8040401819   41.9436330358


Am I doing something wrong, or is there a bug in GDAL 1.3.2 ?


For more information about the projection parameters, you can look at :
<http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html> 
and <http://www.ign.fr/telechargement/MPro/geodesie/CIRCE/transfo.pdf>, 
page 12.

Thanks for your help,
Jean-Claude






From yjacolin at free.fr  Fri Dec  8 11:07:03 2006
From: yjacolin at free.fr (Yves Jacolin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Needs help for reprojecting a shapefile with ogr2ogr
In-Reply-To: <45798914.6080102@worldonline.fr>
References: <45798914.6080102@worldonline.fr>
Message-ID: <200612081707.03226.yjacolin@free.fr>

Hi,

Your s_srs is incorrect, try :
ogr2ogr -f "ESRI Shapefile" -s_srs "EPSG:27582" ?-t_srs "+proj=longlat +nodefs 
+datum=WGS84 +towgs84=168,60,-320" wgs dep_france_dom.shp

Regards,

Y.
Le Vendredi 8 D?cembre 2006 16:47, Jean-Claude Repetto a ?crit?:
> Hello,
>
> I have downloaded a shapefile of France (freely available from the IGN
> website at
> <http://www.ign.fr/telechargement/MPro/produit/GEOFLA_Dep/GEOFLA-dep-L2-SF.
>ZIP> ).
> The shapefile contains data in tangent Lambert Conic Conformal
> projection, but I need geographical coordinates (longitudes, latitudes).
>
> I am trying to convert the shapefile with ogr2ogr, but the result is wrong.
>
> Since the projection and CS informations are not included in the
> original files, I have used the s_srs option to specify them (the
> tangent Lambert Conic Conformal projection (lcc1) and the NTF system).
>
> ogr2ogr -f "ESRI Shapefile" -s_srs "+proj=lcc +no_defs +lat_1=46.8
> +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +ellps=clrk80
> +pm=paris"  -t_srs "+proj=longlat +nodefs +datum=WGS84
> +towgs84=168,60,-320" wgs dep_france_dom.shp
>
>
> The coordinates of the first point of the original file are :
> X=801150 Y=2092615
>
> The result of the ogr2ogr command gives :
> long = 6.468923293704749,   lat = -0.979340169729739, which is obviously
> wrong.
>
> cs2cs gives the correct result :
> echo "801150 2092615" | cs2cs -f "%15.10f" +proj=lcc +no_defs
> +lat_1=46.8000 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000
> +ellps=clrk80 +pm=paris +to +proj=longlat +datum=WGS84 +towgs84=168,60,-320
>     4.9245201351   45.8040401819   41.9436330358
>
>
> Am I doing something wrong, or is there a bug in GDAL 1.3.2 ?
>
>
> For more information about the projection parameters, you can look at :
> <http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp
>.html> and
> <http://www.ign.fr/telechargement/MPro/geodesie/CIRCE/transfo.pdf>, page
> 12.
>
> Thanks for your help,
> Jean-Claude
>
>
>
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

-- 
Yves Jacolin
---
http://yjacolin.gloobe.org


From jean-claude.repetto at worldonline.fr  Fri Dec  8 12:04:03 2006
From: jean-claude.repetto at worldonline.fr (Jean-Claude Repetto)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Needs help for reprojecting a shapefile with ogr2ogr
In-Reply-To: <200612081707.03226.yjacolin@free.fr>
References: <45798914.6080102@worldonline.fr>
	<200612081707.03226.yjacolin@free.fr>
Message-ID: <45799B03.4030500@worldonline.fr>

Yves Jacolin a ?crit :
> Hi,
> 
> Your s_srs is incorrect, try :
> ogr2ogr -f "ESRI Shapefile" -s_srs "EPSG:27582"  -t_srs "+proj=longlat +nodefs 
> +datum=WGS84 +towgs84=168,60,-320" wgs dep_france_dom.shp
> 

Using the EPSG number gives a correct result, thanks.

But that does not explain what is wrong in my s_srs, since it is working
with cs2cs.


Jean-Claude


From warmerdam at pobox.com  Fri Dec  8 16:55:21 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
In-Reply-To: <elbgal$u2u$1@osprey.mgras.de>
References: <20061207212340.GA9921@www.gisnet.com>
	<elbgal$u2u$1@osprey.mgras.de>
Message-ID: <4579DF49.10503@pobox.com>

Martin Spott wrote:
> This is how I'm proceeding. In the result table of the first try
> (postgresql-8.1.4/postgis-1.1.3) the CONSTRAINT
> enforce_srid_wkb_geometry is tied to EPSG 4326, in the second try
> (postgresql-8.2.0/postgis-1.1.6) it ready EPSG 32767 and both tables
> actually _do_ cointain the expected data. How is such behaviour
> triggered !?
...
> Any ideas ? I could revert to using PostgreSQL-8.1.4/PostGIS-1.1.3 but
> I guess the same should work with PostgreSQL-8.2.0/PostGIS-1.1.6 as
> well ?

Martin,

There are some "sensitivities" in how ogr2ogr identifies which SRID to use
in postgis.  If it doesn't find a match then it creates a new SRID at the
"top" of the table, which I suspect did for the 32767 case.

It may be that the spatial_ref_sys tables in your different versions of
postgis are slightly different in the formatting of the WKT entries and
this is in one SRID 4326 gets used and in the other it doesn't.  There
were also some fixes in this general area recently in OGR - it wasn't clear
what GDAL/OGR you were using (ok, perhaps you said, but I've already clipped
it away, and I'm in a hurry).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Fri Dec  8 18:19:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Documenting the Swig bindings
In-Reply-To: <4578963D.7020707@tkk.fi>
References: <4578963D.7020707@tkk.fi>
Message-ID: <4579F2EF.7060601@pobox.com>

Ari Jolma wrote:
> Bindings developers,
> 
> What do you think, would it be a good idea to document the bindings 
> directly in code? Are the different language versions similar enough 
> that it would make sense to write documentation into the interface 
> files, and then produce the docs with doxygen? The language 
> differences/particulars could be covered in a separate section perhaps.
> 
> I made this try: http://map.hut.fi/doc/GDAL_OGR_Bindings/html/index.html
> 
> The only problem is that doxygen needs some help with the *.i files. I 
> used the doxygenfilter. I extended it with a very simple 
> SwigInterfaceFilter, which basically removes the Swig-specific 
> %-commands and removes the "Shadow" string before it gives the file to 
> doxygen. Otherwise I just created almost vanilla Doxyfile and ran doxygen.

Ari,

I'm at best lukewarm on this idea.  The generated bindings are still
in terms of the C++ types ("char **options" for instance) so I don't think
the users are getting that much support in their own language. And it still
seems to leave us needing to duplicate the meaningful portion of the docs
unless I'm misunderstanding the intent.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From chuckwilbur at spatialnet.net  Fri Dec  8 17:15:54 2006
From: chuckwilbur at spatialnet.net (Chuck Wilbur)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] OGRLayer::CreateFeature not setting feature id on
	OGRFeature
Message-ID: <EFEMKLOIGHBKFJMLFGLNIEOOCHAA.chuckwilbur@spatialnet.net>

Hi all,

I'm using the FWTools 1.1.0 binaries and PostgreSQL 8.1 with PostGIS
installed.

I have my first OGR C++ application built, so far mostly based on the
tutorial at https://gdal.osgeo.org/ogr/ogr_apitut.html

After calling OGRLayer::CreateFeature, I want to retrieve the generated
feature ID from the OGRFeature object I passed in. The docs say "Upon
successful return the passed feature will have been updated with the new
feature id.", but this isn't happening for me. GetFID just returns -1
(OGRNullFID).

Is there something I need to do to get the OGRFeature updated with the new
fid, or is this perhaps a bug in the Postgres driver?

Regards,
Chuck


From hobu at iastate.edu  Fri Dec  8 17:56:07 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ArcSDE Raster Driver for GDAL
Message-ID: <F764D7FB-64EA-4B87-A736-8242B615D8F0@iastate.edu>

Folks,

I have received a commitment for funding the development of a GDAL  
driver for ESRI ArcSDE rasters.   I am providing the technical  
proposal to the PSC to ask for permission to implement and include it  
in GDAL, and I ask for detailed technical feedback on it if anyone  
has any.

Thanks

Howard

	ESRI ArcSDE Raster Driver for GDAL
========================================

Purpose
=======

To implement a new GDAL driver for reading ESRI ArcSDE Raster data.


Technical Details
=================

Overall
-------

The ESRI ArcSDE (SDE) Raster driver will connect through the SDE C  
API SDK to
read raster data from SDE servers, and it will require linkage to the
C API SDK (available for Linux, Windows, and Solaris ) as well as a
license to use the SDK (often an SDE license itself, or permission/ 
agreement
from ESRI to redistribute).

OGR already provides vector read support for ArcSDE.  Configuration
infrastructure is already in place on both the Linux and Windows  
platform
for the vector side.  This infrastructure will also be utilized for the
raster side.

Observations
------------

* This driver implementation will only provide *read* support for ArcSDE
   Rasters.  Storing rasters in ArcSDE with the GDAL library or GDAL  
tools
   will not be implemented, but it should be possible to implement it  
at a
   future time.

* Due to library/linking limitations, support for ArcSDE Rasters on
   Solaris will require that GDAL with ArcSDE raster (and vector)  
support
   be compiled with the Sun Pro compiler.

* "Direct connect", or direct database connection and data extraction
   *will not* be provided by this driver.  Usage of this driver will  
require
   linkage to the ArcSDE C API SDK.

* ArcSDE supports n-band imagery, and the driver will take
   advantage of this feature.

* ArcSDE supports the concept of "raster catalogs," where multiple  
rasters
   are mosaic'd into a common layer with a common color table and  
combined
   extent.  The ArcSDE raster driver will attempt to play nice with  
these
   layers, but there may be unforeseen complications.

* ArcSDE internal colormaps will be supported.

Performance Considerations
--------------------------

* ArcSDE connections typically take 1-2 seconds for authentication  
and setup
   via the ArcSDE C API.  This penalty will be taken upon each  
GDALOpen call.

* For applications like MapServer, it will be important to support
   "fast-large-reads," and this will probably mean overriding the  
RasterIO
   machinery within GDAL.  This usage model is probably most  
prevalent in
   pure data format transformation operations as well.

* The "lots-of-small-reads" usage model could be problematic to make  
performant
   due to network overhead and database overhead (ArcSDE makes
   database joins for each request which will be unavoidable).

Specification Features
----------------------

The ArcSDE GDAL raster driver will attempt to take advantage of most
of the features that ArcSDE provides with respect to rasters.  These  
items
include:

*  Proper NODATA support

*  Reasonable attempts to access data stored in all the various
    formats (LZW, JP2K, etc) ArcSDE provides will be made.

*  Properly configured and stored ArcSDE Raster Catalogs *should* be
    supported, given that all data in the catalog are stored in a  
similar
    format.

*  GDAL configuration options will be provided to adjust operations  
of the
    ArcSDE raster driver to accommodate certain performance  
considerations.

*  "Plugin" support for the ArcSDE raster driver will be provided in  
a manner
    similar to the ArcSDE vector driver.  This will optionally allow  
a user
    to dynamically load the driver at runtime.  Additionally, this  
will allow
    users of MS4W to take advantage of the driver if they have the  
ArcSDE
    C API SDK.

*  The driver will take advantage of internally stored overviews of the
    data.  Externally generating overviews using GDAL and storing and  
reading
    them via disk will not be supported initially.

Connection Specification
------------------------

A connection to an ArcSDE raster layer will be specified in a similar  
fashion
to a vector layer:

-- SDE:sdemachine,port:5151,database,username,password,layername

A practical and convenient solution for multiple raster "layers"  
would need to
be identified to query the entire database to report information on  
all of the
raster layers available.  One approach might be to follow the SUBDATASET
metadata model that HDF uses, although in databases with lots of  
layers, this
could perform poorly.


Spatial referencing
--------------------

OSR (contained in the GDAL source tree) provides extensive functionality
for transforming back and forth between ESRI-encoded SRS WKT.  This
functionality will be utilized to support coordinate systems that are
properly described within ArcSDE raster layers.  It will continue to be
possible to override SRS information manually in a similar fashion to
other GDAL drivers.


Testing
-------

ArcSDE versions 9.1 and 9.2 will be tested.
Accommodations to use earlier versions of ArcSDE will be made where  
appropriate
(and identified), but testing of the driver will not happen on those  
versions
of either the SDK or the server itself.  Both 32-bit Linux and Windows
environments will be tested.  Initially, 64-bit platforms will not be  
tested,
but any issues that are identified will be corrected.

RGB, RGBA, and multi-band imagery will be used as test cases.  A raster
catalog of typical color ortho imagery will be used to test the "catalog
layer" case. Usage with GDAL VRT will be tested.


Documentation
-------------

Standard "user" documentation will be written for the ArcSDE raster  
driver
in HTML format.

Intellectual Property
---------------------

The ArcSDE raster driver will become a regular part of the GDAL library,
and its source code and documentation will be released under the normal
GDAL open source license.



From gok at aerometric-ak.com  Fri Dec  8 18:43:15 2006
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] missing tifftags?
Message-ID: <3054411AF4728548AD6D7137190D56B302B577E8@admin1.aeromap.com>

For some reason following tags is not populated in geoTiff using 
GDALSetMetadataItem() command:

TIFFTAG_ARTIST
TIFFTAG_HOSTCOMPUTER
TIFFTAG_COPYRIGHT

TIFFTAG_DOCUMENTNAME, TIFFTAG_SOFTWARE works fine.
Is it by design or a bug? Where I can find a link geoTag <--> tiffTag?
gok





From ari.jolma at tkk.fi  Sat Dec  9 05:12:32 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Documenting the Swig bindings
In-Reply-To: <4579F2EF.7060601@pobox.com>
References: <4578963D.7020707@tkk.fi> <4579F2EF.7060601@pobox.com>
Message-ID: <457A8C10.2050902@tkk.fi>

Frank Warmerdam kirjoitti:
> Ari Jolma wrote:
>> What do you think, would it be a good idea to document the bindings 
>> directly in code? Are the different language versions similar enough 
>> that it would make sense to write documentation into the interface 
>> files,
>
> I'm at best lukewarm on this idea.  The generated bindings are still
> in terms of the C++ types ("char **options" for instance) so I don't 
> think
> the users are getting that much support in their own language. And it 
> still
> seems to leave us needing to duplicate the meaningful portion of the docs
> unless I'm misunderstanding the intent.

ok, I'll try to work out a scheme for writing the documentation for the 
Perl bindings more close to the actual code

Ari

-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka
Geoinformation and positioning technology
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From Martin.Spott at mgras.net  Sat Dec  9 14:15:43 2006
From: Martin.Spott at mgras.net (Martin Spott)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
References: <20061207212340.GA9921@www.gisnet.com> <4579DF49.10503@pobox.com>
Message-ID: <elf20v$oag$1@osprey.mgras.de>

Hi Frank, thanks for responding,

Frank Warmerdam wrote:

> There are some "sensitivities" in how ogr2ogr identifies which SRID to use
> in postgis.  If it doesn't find a match then it creates a new SRID at the
> "top" of the table, which I suspect did for the 32767 case.
> 
> It may be that the spatial_ref_sys tables in your different versions of
> postgis are slightly different in the formatting of the WKT entries and
> this is in one SRID 4326 gets used and in the other it doesn't.

But what can a user actually do about this, whose "fault" is it if
'ogr2ogr' and PostGIS don't place together nicely, and, which I
consider even more important, which route to take to solve this issue ?

Apparently PostGIS started shipping newer versions of the
spatial_ref_sys table with 1.1.6 and 'ogr2ogr' somehow doesn't 'agree'
with the contents of this table.
I just ran a test with PostGIS-1.2.0 - same effect as with 1.1.6, still
using the respective spatial_ref_sys that comes with the very PostGIS
release. I then pushed the contents of the spatial_ref_sys table from
PostGIS-1.1.5 into the DB, still running PostGIS-1.2.0, and everything
is fine. So, is this sort of a bug in 'ogr2ogr' that shows some
incapability to handle newer EPSG declarations or is this to be
considered as a misfeature in the recent EPSG files that breaks
'ogr2ogr' ?

Cheerio,
	Martin.
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------

From warmerdam at pobox.com  Sun Dec 10 00:24:34 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
In-Reply-To: <elf20v$oag$1@osprey.mgras.de>
References: <20061207212340.GA9921@www.gisnet.com> <4579DF49.10503@pobox.com>
	<elf20v$oag$1@osprey.mgras.de>
Message-ID: <457B9A12.6080906@pobox.com>

Martin Spott wrote:
> Hi Frank, thanks for responding,
> 
> Frank Warmerdam wrote:
> 
>> There are some "sensitivities" in how ogr2ogr identifies which SRID to use
>> in postgis.  If it doesn't find a match then it creates a new SRID at the
>> "top" of the table, which I suspect did for the 32767 case.
>>
>> It may be that the spatial_ref_sys tables in your different versions of
>> postgis are slightly different in the formatting of the WKT entries and
>> this is in one SRID 4326 gets used and in the other it doesn't.
> 
> But what can a user actually do about this, whose "fault" is it if
> 'ogr2ogr' and PostGIS don't place together nicely, and, which I
> consider even more important, which route to take to solve this issue ?

Martin,

Normally there is no great harm in creating a new SRID for what is a
slightly different formatting of a coordinate system that from a
meaningful point of view matches an existing SRID.

However, the solution, I think would be for OGR to:

  o Do the search based on the proj.4 string rather than the WKT.
    The proj.4 strings are less likely to suffer from formatting
    variations over time.

  o Provide a mechanism (a layer creation option for instance) so
    that the user can force use of a particular SRID whether OGR
    thinks the coordinate systems match or not.

> Apparently PostGIS started shipping newer versions of the
> spatial_ref_sys table with 1.1.6 and 'ogr2ogr' somehow doesn't 'agree'
> with the contents of this table.
> I just ran a test with PostGIS-1.2.0 - same effect as with 1.1.6, still
> using the respective spatial_ref_sys that comes with the very PostGIS
> release. I then pushed the contents of the spatial_ref_sys table from
> PostGIS-1.1.5 into the DB, still running PostGIS-1.2.0, and everything
> is fine. So, is this sort of a bug in 'ogr2ogr' that shows some
> incapability to handle newer EPSG declarations or is this to be
> considered as a misfeature in the recent EPSG files that breaks
> 'ogr2ogr' ?

Note that the spatial_ref_sys for PostGIS is generated with OGR.  So
there is no reason to believe the newer spatial_ref_sys will differ
from what newer OGR versions expect.  Upgrading GDAL/OGR may therefore
help.

Generally speaking comparing coordinate systems is *hard*.  Especially if
you wish to do so efficiently.

If you file a bug against OGR with the two earlier suggestions, I'll try
and have them implemented at some point.  Ideally in time for the GDAL
1.4.0 release.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From Martin.Spott at mgras.net  Sun Dec 10 13:14:45 2006
From: Martin.Spott at mgras.net (Martin Spott)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
References: <20061207212340.GA9921@www.gisnet.com> <4579DF49.10503@pobox.com>
	<457B9A12.6080906@pobox.com>
Message-ID: <elhiql$sfo$1@osprey.mgras.de>

Frank,

> However, the solution, I think would be for OGR to:
[...]
>   o Provide a mechanism (a layer creation option for instance) so
>     that the user can force use of a particular SRID whether OGR
>     thinks the coordinate systems match or not.

Sounds good - well, I thought that

  # ~> ogr2ogr [...] -t_srs 'EPSG:4326

does this already !?

	Martin.
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------

From John.C.Cartwright at noaa.gov  Sun Dec 10 19:28:19 2006
From: John.C.Cartwright at noaa.gov (John.C.Cartwright@noaa.gov)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] date fields truncated using ogr2ogr to load shpfile into
	psql
Message-ID: <16eabe16ef0f.16ef0f16eabe@noaa.gov>

Hello All,

I'm trying to use ogr2ogr to load a shapefile into a postgis database,
and having trouble w/ the date filelds.  The shapefile describes OK, but
the SQL generated by ogr2ogr seems to be truncating the date field.

lynx:/usr/local/shapefiles jcc$ ogr2ogr -f postgresql -a_srs EPSG:4326
PG:dbname=jcc -overwrite osmc.shp 
ERROR 1: INSERT command for new feature failed.
ERROR:  invalid input syntax for type date: "2006/12/"

Command: INSERT INTO "osmc" (wkb_geometry , "platform_i", "max_observ",
"observatio", "platform_t", "num_observ", "objectid") VALUES
(GeomFromEWKT('SRID=4326;POINT (-29.30999999999991
-41.889999999999972)'::TEXT) , '33627', '2006/12/', '2006/12/',
'DRIFTING BUOY', 133, 7469241)
ERROR 1: Terminating translation prematurely after failed
translation of layer osmc



Can anyone tell me what I'm doing wrong here?

Listed below is a ogrinfo listing of the shapefile and record in question.

Thanks!

-- john


lynx:/usr/local/shapefiles jcc$ ogrinfo -al osmc.shp
INFO: Open of `osmc.shp'
using driver `ESRI Shapefile' successful.

Layer name: osmc
Geometry: Point
Feature Count: 4435
Extent: (-179.964000, -70.400000) - (179.980000, 86.010000)
Layer SRS WKT:
GEOGCS["Longitude / Latitude (WGS 84)",
    DATUM["WGS 84",
        SPHEROID["WGS 84",6378137.0,298.257223563]],
    PRIMEM["Greenwich",0.0],
    UNIT["Decimal Degree",0.0174532925199433]]
PLATFORM_I: String (9.0)
MAX_OBSERV: Date (8.0)
OBSERVATIO: Date (8.0)
PLATFORM_T: String (20.0)
NUM_OBSERV: Integer (10.0)
OBJECTID: Integer (10.0)
OGRFeature(osmc):0
  PLATFORM_I (String) = 33627
  MAX_OBSERV (Date) = 2006/12/08
  OBSERVATIO (Date) = 2006/12/08
  PLATFORM_T (String) = DRIFTING BUOY
  NUM_OBSERV (Integer) = 133
  OBJECTID (Integer) = 7469241
  POINT (-29.30999999999991 -41.889999999999972)


From hobu at iastate.edu  Sun Dec 10 20:09:43 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] date fields truncated using ogr2ogr to load shpfile
	into psql
In-Reply-To: <16eabe16ef0f.16ef0f16eabe@noaa.gov>
References: <16eabe16ef0f.16ef0f16eabe@noaa.gov>
Message-ID: <C6CAA635-887B-4026-A150-3C9CB8F748B7@iastate.edu>


On Dec 10, 2006, at 6:28 PM, John.C.Cartwright@noaa.gov wrote:

> Hello All,
>
> I'm trying to use ogr2ogr to load a shapefile into a postgis database,
> and having trouble w/ the date filelds.  The shapefile describes  
> OK, but
> the SQL generated by ogr2ogr seems to be truncating the date field.
>
> lynx:/usr/local/shapefiles jcc$ ogr2ogr -f postgresql -a_srs EPSG:4326
> PG:dbname=jcc -overwrite osmc.shp
> ERROR 1: INSERT command for new feature failed.
> ERROR:  invalid input syntax for type date: "2006/12/"
>
> Command: INSERT INTO "osmc" (wkb_geometry , "platform_i",  
> "max_observ",
> "observatio", "platform_t", "num_observ", "objectid") VALUES
> (GeomFromEWKT('SRID=4326;POINT (-29.30999999999991
> -41.889999999999972)'::TEXT) , '33627', '2006/12/', '2006/12/',
> 'DRIFTING BUOY', 133, 7469241)
> ERROR 1: Terminating translation prematurely after failed
> translation of layer osmc
>
>

John,

It appears for the feature it is bombing on that the dates it is  
trying to insert are bogus

'2006/12'

I would guess this date also needs a day (or month if they're the  
other way around) for OGR to properly parse it into a date to insert  
into PG.  I can't speak to whether or not it is supposed to be able  
to insert dates in this form, however.

Howard




From hobu at iastate.edu  Sun Dec 10 20:17:44 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] date fields truncated using ogr2ogr to load shpfile
	into psql
In-Reply-To: <C6CAA635-887B-4026-A150-3C9CB8F748B7@iastate.edu>
References: <16eabe16ef0f.16ef0f16eabe@noaa.gov>
	<C6CAA635-887B-4026-A150-3C9CB8F748B7@iastate.edu>
Message-ID: <377D2BB0-D63F-4C19-A02A-6554D7684E02@iastate.edu>


On Dec 10, 2006, at 7:09 PM, Howard Butler wrote:

>
> On Dec 10, 2006, at 6:28 PM, John.C.Cartwright@noaa.gov wrote:
>
>> Hello All,
>>
>> I'm trying to use ogr2ogr to load a shapefile into a postgis  
>> database,
>> and having trouble w/ the date filelds.  The shapefile describes  
>> OK, but
>> the SQL generated by ogr2ogr seems to be truncating the date field.
>>
>> lynx:/usr/local/shapefiles jcc$ ogr2ogr -f postgresql -a_srs EPSG: 
>> 4326
>> PG:dbname=jcc -overwrite osmc.shp
>> ERROR 1: INSERT command for new feature failed.
>> ERROR:  invalid input syntax for type date: "2006/12/"
>>
>> Command: INSERT INTO "osmc" (wkb_geometry , "platform_i",  
>> "max_observ",
>> "observatio", "platform_t", "num_observ", "objectid") VALUES
>> (GeomFromEWKT('SRID=4326;POINT (-29.30999999999991
>> -41.889999999999972)'::TEXT) , '33627', '2006/12/', '2006/12/',
>> 'DRIFTING BUOY', 133, 7469241)
>> ERROR 1: Terminating translation prematurely after failed
>> translation of layer osmc
>>
>>
>
> John,
>
> It appears for the feature it is bombing on that the dates it is  
> trying to insert are bogus
>
> '2006/12'
>
> I would guess this date also needs a day (or month if they're the  
> other way around) for OGR to properly parse it into a date to  
> insert into PG.  I can't speak to whether or not it is supposed to  
> be able to insert dates in this form, however.
>
> Howard
>

Sorry, I misread the post.  This is very likely a bug.  Which version  
of GDAL are you using?  I recall there being some date work in the PG  
driver after the 1.3.2 release.  If you are using a recent version,  
can you file a bug and zip up a shapefile with a couple of offending  
features?

Howard



From alejandro.silva.a at gmail.com  Sun Dec 10 21:18:24 2006
From: alejandro.silva.a at gmail.com (Alejandro Silva)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Fwd: Gdal-dev Digest, Vol 31, Issue 22
In-Reply-To: <200612101702.kBAH2NDW012635@duke.maptools.org>
References: <200612101702.kBAH2NDW012635@duke.maptools.org>
Message-ID: <25a1ab7b0612101818g6bb6bb36k9565df3756398d55@mail.gmail.com>

---------- Forwarded message ----------
From: gdal-dev-request@lists.maptools.org <
gdal-dev-request@lists.maptools.org>
Date: 10-dic-2006 18:02
Subject: Gdal-dev Digest, Vol 31, Issue 22
To: gdal-dev@lists.maptools.org

Send Gdal-dev mailing list submissions to
        gdal-dev@lists.maptools.org

To subscribe or unsubscribe via the World Wide Web, visit
        http://lists.maptools.org/mailman/listinfo/gdal-dev
or, via email, send a message with subject or body 'help' to
        gdal-dev-request@lists.maptools.org

You can reach the person managing the list at
        gdal-dev-owner@lists.maptools.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Gdal-dev digest..."


Today's Topics:

   1. Re: ogr2ogr Default Output SRS (Martin Spott)
   2. Re: ogr2ogr Default Output SRS (Frank Warmerdam)


----------------------------------------------------------------------

Message: 1
Date: Sat, 9 Dec 2006 19:15:43 +0000 (UTC)
From: Martin Spott <Martin.Spott@mgras.net>
Subject: Re: [Gdal-dev] ogr2ogr Default Output SRS
To: gdal-dev@lists.maptools.org
Message-ID: <elf20v$oag$1@osprey.mgras.de>

Hi Frank, thanks for responding,

Frank Warmerdam wrote:

> There are some "sensitivities" in how ogr2ogr identifies which SRID to use
> in postgis.  If it doesn't find a match then it creates a new SRID at the
> "top" of the table, which I suspect did for the 32767 case.
>
> It may be that the spatial_ref_sys tables in your different versions of
> postgis are slightly different in the formatting of the WKT entries and
> this is in one SRID 4326 gets used and in the other it doesn't.

But what can a user actually do about this, whose "fault" is it if
'ogr2ogr' and PostGIS don't place together nicely, and, which I
consider even more important, which route to take to solve this issue ?

Apparently PostGIS started shipping newer versions of the
spatial_ref_sys table with 1.1.6 and 'ogr2ogr' somehow doesn't 'agree'
with the contents of this table.
I just ran a test with PostGIS-1.2.0 - same effect as with 1.1.6, still
using the respective spatial_ref_sys that comes with the very PostGIS
release. I then pushed the contents of the spatial_ref_sys table from
PostGIS-1.1.5 into the DB, still running PostGIS-1.2.0, and everything
is fine. So, is this sort of a bug in 'ogr2ogr' that shows some
incapability to handle newer EPSG declarations or is this to be
considered as a misfeature in the recent EPSG files that breaks
'ogr2ogr' ?

Cheerio,
        Martin.
--
Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------


------------------------------

Message: 2
Date: Sun, 10 Dec 2006 00:24:34 -0500
From: Frank Warmerdam <warmerdam@pobox.com>
Subject: Re: [Gdal-dev] ogr2ogr Default Output SRS
To: Martin.Spott@mgras.net
Cc: gdal-dev@lists.maptools.org
Message-ID: <457B9A12.6080906@pobox.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Martin Spott wrote:
> Hi Frank, thanks for responding,
>
> Frank Warmerdam wrote:
>
>> There are some "sensitivities" in how ogr2ogr identifies which SRID to
use
>> in postgis.  If it doesn't find a match then it creates a new SRID at the
>> "top" of the table, which I suspect did for the 32767 case.
>>
>> It may be that the spatial_ref_sys tables in your different versions of
>> postgis are slightly different in the formatting of the WKT entries and
>> this is in one SRID 4326 gets used and in the other it doesn't.
>
> But what can a user actually do about this, whose "fault" is it if
> 'ogr2ogr' and PostGIS don't place together nicely, and, which I
> consider even more important, which route to take to solve this issue ?

Martin,

Normally there is no great harm in creating a new SRID for what is a
slightly different formatting of a coordinate system that from a
meaningful point of view matches an existing SRID.

However, the solution, I think would be for OGR to:

  o Do the search based on the proj.4 string rather than the WKT.
    The proj.4 strings are less likely to suffer from formatting
    variations over time.

  o Provide a mechanism (a layer creation option for instance) so
    that the user can force use of a particular SRID whether OGR
    thinks the coordinate systems match or not.

> Apparently PostGIS started shipping newer versions of the
> spatial_ref_sys table with 1.1.6 and 'ogr2ogr' somehow doesn't 'agree'
> with the contents of this table.
> I just ran a test with PostGIS-1.2.0 - same effect as with 1.1.6, still
> using the respective spatial_ref_sys that comes with the very PostGIS
> release. I then pushed the contents of the spatial_ref_sys table from
> PostGIS-1.1.5 into the DB, still running PostGIS-1.2.0, and everything
> is fine. So, is this sort of a bug in 'ogr2ogr' that shows some
> incapability to handle newer EPSG declarations or is this to be
> considered as a misfeature in the recent EPSG files that breaks
> 'ogr2ogr' ?

Note that the spatial_ref_sys for PostGIS is generated with OGR.  So
there is no reason to believe the newer spatial_ref_sys will differ
from what newer OGR versions expect.  Upgrading GDAL/OGR may therefore
help.

Generally speaking comparing coordinate systems is *hard*.  Especially if
you wish to do so efficiently.

If you file a bug against OGR with the two earlier suggestions, I'll try
and have them implemented at some point.  Ideally in time for the GDAL
1.4.0 release.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



------------------------------

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev

End of Gdal-dev Digest, Vol 31, Issue 22
****************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061211/6c07d66b/attachment.html
From warmerdam at pobox.com  Mon Dec 11 02:06:27 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogr2ogr Default Output SRS
In-Reply-To: <elhiql$sfo$1@osprey.mgras.de>
References: <20061207212340.GA9921@www.gisnet.com> <4579DF49.10503@pobox.com>
	<457B9A12.6080906@pobox.com> <elhiql$sfo$1@osprey.mgras.de>
Message-ID: <457D0373.2080204@pobox.com>

Martin Spott wrote:
> Frank,
> 
>> However, the solution, I think would be for OGR to:
> [...]
>>   o Provide a mechanism (a layer creation option for instance) so
>>     that the user can force use of a particular SRID whether OGR
>>     thinks the coordinate systems match or not.
> 
> Sounds good - well, I thought that
> 
>   # ~> ogr2ogr [...] -t_srs 'EPSG:4326
> 
> does this already !?


Martin,

The -t_srs switch causes EPSG:4326 to be expanded into a full well
known text representation.  It is that well known text representation
that is searched for in spatial_ref_sys.  I would also stress that SRID
is not the same as EPSG in general.  Though it just happens that the SRID
of all predefined spatial reference systems in postgis happens to have
matching values with the EPSG ids.  But that doesn't mean they are always
a 1:1 mapping.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From dhoffman at prologic-inc.com  Mon Dec 11 10:42:10 2006
From: dhoffman at prologic-inc.com (Derrick Hoffman)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] warping a file from state plane to GD using gdal 1.3.2
In-Reply-To: <457D0373.2080204@pobox.com>
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D0307E177@vader.prologic-inc.com>

All:

I have a geo Tiff that is in state plane and I want to warp it to
geodetic.  When I perform a GDAL info on the source file, the datum is
unknown.  I can sue the same file with FW Tools and the datum does come
across and the file can be warped.  Is there any reason why the base
gdal cannot read this information from the file?

Thanks :)


Derrick Hoffman
Software Engineer
Pro Logic Inc.
Fairmont, WV
(304) 333-2680 x 322

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank
Warmerdam
Sent: Monday, December 11, 2006 2:06 AM
To: Martin.Spott@mgras.net
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] ogr2ogr Default Output SRS

Martin Spott wrote:
> Frank,
> 
>> However, the solution, I think would be for OGR to:
> [...]
>>   o Provide a mechanism (a layer creation option for instance) so
>>     that the user can force use of a particular SRID whether OGR
>>     thinks the coordinate systems match or not.
> 
> Sounds good - well, I thought that
> 
>   # ~> ogr2ogr [...] -t_srs 'EPSG:4326
> 
> does this already !?


Martin,

The -t_srs switch causes EPSG:4326 to be expanded into a full well
known text representation.  It is that well known text representation
that is searched for in spatial_ref_sys.  I would also stress that SRID
is not the same as EPSG in general.  Though it just happens that the
SRID
of all predefined spatial reference systems in postgis happens to have
matching values with the EPSG ids.  But that doesn't mean they are
always
a 1:1 mapping.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo,
http://osgeo.org

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From jdgonon at gi-lemans.com  Mon Dec 11 10:22:57 2006
From: jdgonon at gi-lemans.com (Jean-Daniel GONON)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Compile GDAL with Visual Studio .net 2005
Message-ID: <457D77D1.90907@gi-lemans.com>

Hi,
 
I work on DGN v8 compatibility with GDAL.
I'have got some difficults to compile GDAL with Visual Studio .Net 2005. 
I got all files on the vterrain's webpage 
(http://vterrain.org/Distrib/gdal.html) and i follow the steps. I have 
got some linkage errors (35) on xercesc like this:
 
Error 1 error LNK2019: unresolved external symbol "__declspec(dllimport) 
public: __thiscall xercesc_2_3::DefaultHandler::DefaultHandler(void)" 
(__imp_??0DefaultHandler@xercesc_2_3@@QAE@XZ) referenced in function 
"public: __thiscall GMLHandler::GMLHandler(class GMLReader *)" 
(??0GMLHandler@@QAE@PAVGMLReader@@@Z) gmlhandler.obj
 
Error 2 error LNK2001: unresolved external symbol "public: virtual class 
xercesc_2_3::InputSource * __thiscall 
xercesc_2_3::DefaultHandler::resolveEntity(unsigned short const * 
const,unsigned short const * const)" 
(?resolveEntity@DefaultHandler@xercesc_2_3@@UAEPAVInputSource@2@QBG0@Z) 
gmlhandler.obj
Error 3 error LNK2001: unresolved external symbol "public: virtual void 
__thiscall xercesc_2_3::DefaultHandler::resetDocument(void)" 
(?resetDocument@DefaultHandler@xercesc_2_3@@UAEXXZ) gmlhandler.obj
...
 
Error 34 error LNK2019: unresolved external symbol "public: void 
__thiscall GMLReader::SetFeatureProperty(char const *,char const *)" 
(?SetFeatureProperty@GMLReader@@QAEXPBD0@Z) referenced in function 
"public: virtual void __thiscall GMLHandler::endElement(unsigned short 
const * const,unsigned short const * const,unsigned short const * 
const)" (?endElement@GMLHandler@@UAEXQBG00@Z) gmlhandler.obj
Error 35 fatal error LNK1120: 34 unresolved externals 
Debug_DLL/gdal13d-vc8.dll

Is it possible to compile GDAL with Visual Studio .Net2005? Could you 
give some details about your Visual Studio .Net2005 developpement 
environement?
 
Best concerns,
 
Skouna Vongphouthone
D?veloppeur
G?n?rale d'Infographie
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061211/3d93b194/attachment.html
From John.C.Cartwright at noaa.gov  Mon Dec 11 13:11:01 2006
From: John.C.Cartwright at noaa.gov (John Cartwright)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] date fields truncated using ogr2ogr to load shpfile
	into psql
In-Reply-To: <377D2BB0-D63F-4C19-A02A-6554D7684E02@iastate.edu>
References: <16eabe16ef0f.16ef0f16eabe@noaa.gov>
	<C6CAA635-887B-4026-A150-3C9CB8F748B7@iastate.edu>
	<377D2BB0-D63F-4C19-A02A-6554D7684E02@iastate.edu>
Message-ID: <457D9F35.9050401@noaa.gov>

Thanks for your reply Howard. I'm using gdal/ogr version 1.3.2, so I 
guess that a bug report is in order. I'll try to get a small test case 
together today and file the bug report.

-- john


Howard Butler wrote:
> Sorry, I misread the post. This is very likely a bug. Which version of 
> GDAL are you using? I recall there being some date work in the PG 
> driver after the 1.3.2 release. If you are using a recent version, can 
> you file a bug and zip up a shapefile with a couple of offending 
> features?
>
> Howard
>

From gok at aerometric-ak.com  Mon Dec 11 13:27:06 2006
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] RE: Gdal-dev Digest, Vol 31, Issue 21
Message-ID: <3054411AF4728548AD6D7137190D56B302B577ED@admin1.aeromap.com>

Message: 6
Date: Fri, 8 Dec 2006 14:43:15 -0900
From: "Gennady Khokhorin" <gok@aerometric-ak.com>
Subject: [Gdal-dev] missing tifftags?
To: <gdal-dev@lists.maptools.org>
Message-ID:
	<3054411AF4728548AD6D7137190D56B302B577E8@admin1.aeromap.com>
Content-Type: text/plain;	charset="iso-8859-1"

For some reason following tags is not populated in geoTiff using 
GDALSetMetadataItem() command:

TIFFTAG_ARTIST
TIFFTAG_HOSTCOMPUTER
TIFFTAG_COPYRIGHT

...

Those tags actually was missing. I did add it to the 
geoTiff.cpp: OpenOffset(), WriteMDMetadata() and it works fine now.
Should I post request for improvements?


From astewart at terragotech.com  Mon Dec 11 13:35:29 2006
From: astewart at terragotech.com (Alan Stewart)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] problems with OGDI controlled image base
Message-ID: <457DA4F1.9000408@TerraGoTech.com>

I seem to be having a sporadic problem with the OGDI bridge, but only 
when accessing CIB data AFAIK. I'm writing a program using the C++ API 
and the 2006-09-26 CVS snapshot.

I'm opening a dataset as "gltp:/rpf/<path>/rpf" and examining the 
dataset's metadata for subdatasets. The program is designed so that if 
only one OGDI Image is found it will proceed with processing it. The 
dataset is closed and that particular subdataset is opened. If the 
dataset is CIB frequently the image that is read appears completely 
black. It does have the correct dimensions, number of bands, and sample 
data type. Occasionally I get a correct image, but mostly this is what I 
get. My program can also accept the complete URL of a subdataset. In 
that case the CIB subdataset the image is read correctly. I've tested 
that the same string is being passed to GDALOpen() in both cases.

I'm not detecting any errors from GDAL at any time. The program seems to 
work fine in both cases if the dataset is CADRG. So it seems to me that 
this is an issue with the closing of a CIB dataset and then opening a 
subdataset of the previously open CIB dataset, or something like that.

Has anyone else seen any problems like this or have any other ideas as 
to what the problem could be? Should I be doing something more to ensure 
the driver/dataset is correctly closed and reopened? Have any changes 
been made since my CVS snapshot that might affect this issue?

The code for closing the dataset and opening one of its subdatasets (in 
std::string gdal):

delete pDataset;
pDataset = NULL;

pDataset = (GDALDataset*) GDALOpen(gdal.c_str(), GA_ReadOnly);


TIA,
Alan

-- 

Alan Stewart
Senior Software Architect
TerraGo Technologies, Inc.
astewart@TerraGoTech.com
678-391-9615

"TerraGo Technologies? GeoPDF is proving to be the smart choice for key players in the intelligence community."
	- Amy Stankiewicz, Editor-in-Chief, Geospatial Solutions


From ari.jolma at tkk.fi  Mon Dec 11 15:59:49 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Bindings work
Message-ID: <457DC6C5.1060004@tkk.fi>

I've been going to through the bindings to make new and better docs for 
the Perl bindings. This is not yet complete but almost. I've come across 
some bugs and fixed them. I think those responsible for other language 
bindings should check if these apply:

- in Band.i: GetStatistics was not returning the statistics, I also 
added a new (very simple) typemap IF_ERROR_RETURN_NONE to not to return 
the (not needed) error code with the statistics

- in osr.i: the GetProjectionMethod* methods (three of them) did not 
work for Perl, I added a bunch of apply typemaps but only for Perl

I'm preparing the docs for the Perl bindings in Doxygen, using heavily 
modified doxygenfilter - mainly to be able to write the docs outside the 
*.pm files. I'll add the source code to the CVS but, as said, vanilla 
doxygen does not work with them. I'll put the docs here: 
http://map.hut.fi/doc/Geo-GDAL/html/index.html

Ari

-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka
Geoinformation and positioning technology
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From mateusz at loskot.net  Tue Dec 12 11:07:34 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Compile GDAL with Visual Studio .net 2005
In-Reply-To: <457D77D1.90907@gi-lemans.com>
References: <457D77D1.90907@gi-lemans.com>
Message-ID: <457ED3C6.30802@loskot.net>

Jean-Daniel GONON wrote:
> Is it possible to compile GDAL with Visual Studio .Net2005?

It is possible to compile GDAL using Visual C++ 2005 (compiler
version 8.0) from Visual Studio 2005.

> Could you give some details about your Visual Studio .Net2005
> developpement environement?

I just did build GDAL 1.3.2 using project files from vterrain website.
It works, but the config instructions are a little incomplete.

You have to define HAVE_XERCES=1 in C++ Preprocessor definitions for
'gdal' project file.
You also need to add xerces-c_2.lib to Linker -> Input.

Don't forget to configure libjpeg and libpng as mentioned on the website.

You can see my Output window with 0 errors message:

http://mateusz.loskot.net/tmp/gdal-vs8.png

BTW, there is no product called Visual Studio .NET 2005,
and vterrain uses incorrect name.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net


From matt.wilkie at gov.yk.ca  Tue Dec 12 13:03:08 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ArcSDE Raster Driver for GDAL
In-Reply-To: <F764D7FB-64EA-4B87-A736-8242B615D8F0@iastate.edu>
References: <F764D7FB-64EA-4B87-A736-8242B615D8F0@iastate.edu>
Message-ID: <457EEEDC.7060402@gov.yk.ca>

Howard I'm very happy to see the idea of an arcsde raster driver for 
gdal grow legs. I would be happy to participate in testing and feedback.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From gok at aerometric-ak.com  Wed Dec 13 17:39:28 2006
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] geoTiff: set georef using metadata tags
Message-ID: <3054411AF4728548AD6D7137190D56B30C4579@admin1.aeromap.com>

Hello, all.
I have a problem translating geoTiff tags values to prettyWKT and back.

I have char* raw data buffers for each GeoKeyDirectory, GeoDoubleParams and GeoASCIIParams.
How I can put those raw data in existing .tif?

GDALSetMetadataItem(hDataSet, "GeoKeyDirectory", tagValue, NULL) command handles string tagValue only.

Help, please!
Thanks in advance for any suggestions.
gok


From craig.miller at spatialminds.com  Wed Dec 13 17:41:35 2006
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Memory leak?  How to release GDAL datasets?
Message-ID: <002901c71f07$d822f430$3301a8c0@vaio>

Is GDALClose(m_pDataset) the only method that needs to be called after
opening a GDAL datset?


I'm observing a fair number leaks from calls to OGRPolygon::addRing that get
called as a part of GDALOpen().  From my screendump, they appear to have
something to do with the images SRS.

I'm opening an RGB (3 band) Geotiff with the following command:

GDALAllRegister();
m_pDataset = (GDALDataset *) GDALOpen( m_strFilename, GA_ReadOnly );

And freeing it with:

if (m_pDataset != NULL)
{
    GDALClose(m_pDataset);
    m_pDataset = NULL;
}

Thanks for the help,
Craig




From hi_ono2001 at yahoo.co.jp  Thu Dec 14 02:11:27 2006
From: hi_ono2001 at yahoo.co.jp (Hisaji ONO)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] SRTM / SWBD(Shuttle Water Body Data) support
Message-ID: <20061214071127.24174.qmail@web10903.mail.bbt.yahoo.co.jp>

Hello.

 Currently GDAL seems to support of reading SRTM /
SWBD(Shuttle Water Body Data)?

 Other open source GIS software, GRASS GIS can do this.

 Does any plan to support these formats?



 Regards.




From dany.geotools at gmail.com  Thu Dec 14 09:19:34 2006
From: dany.geotools at gmail.com (Daniele Romagnoli)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] GDAL Image IO integration work
Message-ID: <7221db410612140619m4063d1baib46198b1fc1e1cfe@mail.gmail.com>

Hi Frank,
I am sending this email in order to provide some status update on the
work we are doing on the Java bindings in order to use them from
Jai_imageIO stack of libraries.

During the Summer Of Code for Refractions, I have added some lines of
code to the " Band.i" interface contained into the gdal\swig\Include
subdirectory in order to expose the method GetBlockSize via SWIG.
This is important to me in order to preperly access large rasters using
tiling.

After some email exchange (among you, me and Mr. Charlie Savage), you
have committed the final version of the " Band.i" interface file
containing the proposed (and fixed) GetBlockSize binding.

However, the available java SWIG bindings as well as wrappers (to be
more precise: gdal\swig\java\org\gdal\gdal\Band.java and
gdal\swig\java\gdal_wrap.cpp (Thus, also gdaljni.dll))
was not be updated and they does not contain
any reference to GetBlockSize methods.
Could you provide to update also these bindings? (You need to run SWIG
to build the updated version of bindings).

Finally, as I stated some day ago, I'm back working on the GDALImageIO
integration proposal in order to improve its capabilities and reach a
good point of development.

Actually, I have improved and updated the GDALImageReader framework
and I'm starting with building the GDALImageWriter framework  with
help from GeoSolutions
company which is funding (and keeping track of) part of this work. I
think you already talked to one of the guys who run the company,
Simone Giannecchini, he is a contributor of GeoTools and GeoServer as
well as a contributor of ImageIO.

Our objective is to gain access to the wide set of raster formats
supported by GDAL in order to be able to do some good data processing
on them using Java Advanced Imaging.

-- 
Best Regards,
Daniele
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061214/fbd9b775/attachment.html
From sebastien.grignard at archivideo.com  Thu Dec 14 09:44:10 2006
From: sebastien.grignard at archivideo.com (=?ISO-8859-1?Q?S=E9bastien_Grignard?=)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] improved type support for OGR sqlite driver
Message-ID: <4581633A.30809@archivideo.com>

Hello all.
I've added accurate type support for sqlite driver.
It's implemented as follows :
 - for each field created a line in a special table of the database 
(ogrtypes) is created, recording this field's type.
 - when reading the ogrtypes table is accessed to get the field's type.
I've also extended the existing field types support to include list 
types (OFTIntegerList, OFRRealList and OFTStringList).
I've included my changes with this message as a diff file against the 
cvs version.

Cheers.

-- 
Sebastien Grignard
R&D Developer
Archivideo
40, rue des Veyettes - 35000 Rennes FRANCE
Phone: +033 2 99 86 30 20

-------------- next part --------------
A non-text attachment was scrubbed...
Name: sqlite.zip
Type: application/zip
Size: 2222 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061214/6432de50/sqlite.zip
From Martin.Spott at mgras.net  Thu Dec 14 10:04:04 2006
From: Martin.Spott at mgras.net (Martin Spott)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] SRTM / SWBD(Shuttle Water Body Data) support
References: <20061214071127.24174.qmail@web10903.mail.bbt.yahoo.co.jp>
Message-ID: <elrp54$o8e$1@osprey.mgras.de>

Hisaji ONO wrote:

>  Currently GDAL seems to support of reading SRTM /
> SWBD(Shuttle Water Body Data)?

SWBD comes in approx. 12k simple Shapefiles which can be read by
'ogr2ogr'. I did some comparison between SWBD and GSHHS (visit
http://mapserver.flightgear.org/ and select the respective layers to
see yourself) and to my opinion you want to prefer GSHHS over SWBD in
most cases,

Martin.
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------

From mhanson at photon.com  Thu Dec 14 16:53:41 2006
From: mhanson at photon.com (Matt Hanson)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Creating files, File I/O, and VRT
Message-ID: <0719BE42F22E0A46857DF72644EC5D70278682@pj-exchange.photon.com>

I'm wondering about what the expected behavior is when Creating files and when the files are actually written from memory to disk.   I've encountered some strangeness in a file not existing when I think it should.
 
First, when writing other file formats the file on disk gets created right away, even before I've written any data to it.
 
With VRT files they don't seem to get written to disk right away.   Do I have to 
delete dataset;
 
in order for it to actually get written ?   It seems like it but I wanted to know what the behavior is supposed to be for regular files as well as VRT files.
 
matt


From warmerdam at pobox.com  Thu Dec 14 21:33:48 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Creating files, File I/O, and VRT
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D70278682@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D70278682@pj-exchange.photon.com>
Message-ID: <931f8ea90612141833g1b1b16f0i2ccf49e22abcf1ed@mail.gmail.com>

On 12/14/06, Matt Hanson <mhanson@photon.com> wrote:
> I'm wondering about what the expected behavior is when Creating files and when the files are actually written from memory to disk.   I've encountered some strangeness in a file not existing when I think it should.
>
> First, when writing other file formats the file on disk gets created right away, even before I've written any data to it.
>
> With VRT files they don't seem to get written to disk right away.   Do I have to
> delete dataset;
>
> in order for it to actually get written ?   It seems like it but I wanted to know what the behavior is supposed to be for regular files as well as VRT files.


Matt,

It is guaranteed that files will be fully written to disk
by the time the dataset has been fully closed/deleted.

Other than that behavior is driver dependent.

There is a SyncToDisk() method on the dataset that is
intended to cause the file to be flushed to disk and left
in a valid to access state.  For a VRT I think this will
cause it to be flushed to disk.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From elavazhagan.mouniandy at kcubeconsulting.com  Thu Dec 14 23:18:04 2006
From: elavazhagan.mouniandy at kcubeconsulting.com (Elavazhagan.M)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Building GDAL with GEOS in Unix
Message-ID: <200612150418.kBF4ILiF001288@duke.maptools.org>

Hi,

 

I have already posted this question to 'GEOS-Dev'. Since I thought this is
the most relevant place to get help from I am posting it again here. 

 

Can anyone please guide me how to enable GEOS Support in GDAL (Unix)? I have
installed Geos 3.0.0rc2 in my system and configured GDAL 1.32 with the
following commands:

 

"./configure -with-geos=yes". This did not work so I tried with "./configure
--with-geos=/root/usr/bin/geos-config" also.

 

Although these commands worked well and I successfully installed GDAL, when
I run the command "ogr2ogr", it gives the following error message:

 

"ERROR 6: Geos support not enabled"

 

Do I need to change anything in the makefiles of GDAL?

 

Please help me to resolve this issue.

 

Thank you.

Regards,

Elavazhagan.M

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061215/1a9c7394/attachment.html
From warmerdam at pobox.com  Fri Dec 15 01:49:44 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Memory leak? How to release GDAL datasets?
In-Reply-To: <002901c71f07$d822f430$3301a8c0@vaio>
References: <002901c71f07$d822f430$3301a8c0@vaio>
Message-ID: <931f8ea90612142249h3c9de089l4654e855732f6339@mail.gmail.com>

On 12/13/06, Craig Miller <craig.miller@spatialminds.com> wrote:
> Is GDALClose(m_pDataset) the only method that needs to be called after
> opening a GDAL datset?

Craig,

That should be sufficient.

I really can't think why there would be any polygon geometry
creation going on to open a geotiff file.  I wonder if you might be
getting some sort of false report from your memory tester.

If you can point me to a file that demonstrates the problem,
I could try testing it under valgrind using something like
gdalinfo.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Dec 15 01:51:41 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] geoTiff: set georef using metadata tags
In-Reply-To: <3054411AF4728548AD6D7137190D56B30C4579@admin1.aeromap.com>
References: <3054411AF4728548AD6D7137190D56B30C4579@admin1.aeromap.com>
Message-ID: <931f8ea90612142251l7e7c201o1ca23de9baff0f14@mail.gmail.com>

On 12/13/06, Gennady Khokhorin <gok@aerometric-ak.com> wrote:
> Hello, all.
> I have a problem translating geoTiff tags values to prettyWKT and back.
>
> I have char* raw data buffers for each GeoKeyDirectory, GeoDoubleParams and GeoASCIIParams.
> How I can put those raw data in existing .tif?
>
> GDALSetMetadataItem(hDataSet, "GeoKeyDirectory", tagValue, NULL) command handles string tagValue only.

Gok,

Normally to write the geotiff tags using GDAL you would need
to set the projection and geotransform appropriately.  Then the
driver will internally reorganize things into a form suitable to write
to the geotiff tags.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mhanson at photon.com  Fri Dec 15 15:48:22 2006
From: mhanson at photon.com (Matt Hanson)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Creating files, File I/O, and VRT
References: <0719BE42F22E0A46857DF72644EC5D70278682@pj-exchange.photon.com>
	<931f8ea90612141833g1b1b16f0i2ccf49e22abcf1ed@mail.gmail.com>
Message-ID: <0719BE42F22E0A46857DF72644EC5D70278685@pj-exchange.photon.com>

Frank-
SyncToDisk() doesn't seem to be a valid member function of GDALDataset().   Has it been recently added?  I'm still using a 1.3 snapshot build from the end of September.
 
m

________________________________

From: fwarmerdam@gmail.com on behalf of Frank Warmerdam
Sent: Thu 12/14/2006 9:33 PM
To: Matt Hanson
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Creating files, File I/O, and VRT



On 12/14/06, Matt Hanson <mhanson@photon.com> wrote:
> I'm wondering about what the expected behavior is when Creating files and when the files are actually written from memory to disk.   I've encountered some strangeness in a file not existing when I think it should.
>
> First, when writing other file formats the file on disk gets created right away, even before I've written any data to it.
>
> With VRT files they don't seem to get written to disk right away.   Do I have to
> delete dataset;
>
> in order for it to actually get written ?   It seems like it but I wanted to know what the behavior is supposed to be for regular files as well as VRT files.


Matt,

It is guaranteed that files will be fully written to disk
by the time the dataset has been fully closed/deleted.

Other than that behavior is driver dependent.

There is a SyncToDisk() method on the dataset that is
intended to cause the file to be flushed to disk and left
in a valid to access state.  For a VRT I think this will
cause it to be flushed to disk.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent




From mateusz at loskot.net  Fri Dec 15 16:11:35 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Building GDAL with GEOS in Unix
In-Reply-To: <200612150418.kBF4ILiF001288@duke.maptools.org>
References: <200612150418.kBF4ILiF001288@duke.maptools.org>
Message-ID: <45830F87.5010903@loskot.net>

Elavazhagan.M wrote:
> 
> Can anyone please guide me how to enable GEOS Support in GDAL (Unix)? I
> have installed Geos 3.0.0rc2 in my system and configured GDAL 1.32 with
> the following commands:
> 
> ?./configure ?with-geos=yes?. This did not work so I tried with
> ?./configure  --with-geos=/root/usr/bin/geos-config? also.
> 
> Although these commands worked well and I successfully installed GDAL,
> when I run the command ?ogr2ogr?, it gives the following error message:
> 
> ?ERROR 6: Geos support not enabled?


Could you check if the configuration summary printed after ./configure
does finish its job, includes GEOS support enabled (marked with yes)?

> Do I need to change anything in the makefiles of GDAL?

No, you should not need to hack any makefiles.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From craig.miller at spatialminds.com  Fri Dec 15 20:51:21 2006
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Memory leak? How to release GDAL datasets?
In-Reply-To: <931f8ea90612142249h3c9de089l4654e855732f6339@mail.gmail.com>
Message-ID: <00d401c720b4$afcc9190$3301a8c0@vaio>

Frank,

Here is a bit more info:

I'm working on an old project and some of my project settings were messed up
resulting in an old build of gdal getting used.  I'm no longer seeing the
weird Ogrpolygon stuff.  Unfortunately, once I fixed that I'm seeing a few
different potential problems.  Here is the call stack and Data for the first
two.

------------
Mapcanvas.cpp line 104 looks like this:
m_pDataset = (GDALDataset *) GDALOpen( m_strFilename, GA_ReadOnly );

In my destructor I call:
if (m_pDataset != NULL)
{
	GDALClose(m_pDataset);
	m_pDataset = NULL;
}

Call Stack:
    c:\vault\gdal\port\cpl_vsisimple.cpp (343): VSIRealloc
    c:\vault\gdal\port\cpl_conv.cpp (363): CPLRealloc
    c:\vault\gdal\gcore\gdaldataset.cpp (180): GDALDataset::GDALDataset
    c:\vault\gdal\gcore\gdalpamdataset.cpp (107):
GDALPamDataset::GDALPamDataset
    c:\vault\gdal\frmts\gtiff\geotiff.cpp (1580): GTiffDataset::GTiffDataset
    c:\vault\gdal\frmts\gtiff\geotiff.cpp (2594): GTiffDataset::Open
    c:\vault\gdal\gcore\gdaldataset.cpp (1714): GDALOpen
    c:\vault\backroads\mapcanvas.cpp (104): CMapCanvas::Open
 Data:
    88 B5 5B 01    E0 BD 2B 04                                   ..[...+.
........


------------------
Mapcanvas.cpp line 324 looks like this:
switch (pBand->GetColorInterpretation())

I don't free the ColorInterpretation as I understand it to be owned by the
band.

 Call Stack:
    c:\vault\gdal\port\cpl_vsisimple.cpp (333): VSIMalloc
    c:\vault\gdal\gcore\gdalrasterblock.cpp (433):
GDALRasterBlock::Internalize
    c:\vault\gdal\gcore\gdalrasterband.cpp (1150):
GDALRasterBand::GetLockedBlockRef
    c:\vault\gdal\gcore\rasterio.cpp (386): GDALRasterBand::IRasterIO
    c:\vault\gdal\gcore\gdalrasterband.cpp (308): GDALRasterBand::RasterIO
    c:\vault\backroads\mapcanvas.cpp (324): CMapCanvas::LoadMap

  Data:
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........

    .... Continues on for a long time....

    FF FF FF FF    FF FF FF FF    FF FF FF FF    FF FF FF FF     ........
........
    FF FF FF FF                                                  ........
........

> -----Original Message-----
> From: fwarmerdam@gmail.com [mailto:fwarmerdam@gmail.com] On 
> Behalf Of Frank Warmerdam
> Sent: Thursday, December 14, 2006 10:50 PM
> To: Craig Miller
> Cc: Gdal-Dev
> Subject: Re: [Gdal-dev] Memory leak? How to release GDAL datasets?
> 
> On 12/13/06, Craig Miller <craig.miller@spatialminds.com> wrote:
> > Is GDALClose(m_pDataset) the only method that needs to be 
> called after 
> > opening a GDAL datset?
> 
> Craig,
> 
> That should be sufficient.
> 
> I really can't think why there would be any polygon geometry 
> creation going on to open a geotiff file.  I wonder if you 
> might be getting some sort of false report from your memory tester.
> 
> If you can point me to a file that demonstrates the problem, 
> I could try testing it under valgrind using something like gdalinfo.
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent


From jeffbullard at verizon.net  Fri Dec 15 21:53:10 2006
From: jeffbullard at verizon.net (Jeff Bullard)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] 'no data' problem with GDAL/Mapserver
Message-ID: <1166237591.6605.20.camel@c-134-233-42.f.dsl.de.ignite.net>

Mapserver is treating raster 'no data' values like they are all zero.
The 'no data' pixels are being rendered in my [0 - 5) class.  The actual
'no data' value I am using is 200.  I have also tried 9999. 

gdalwarp -ot Int16 -srcnodata 9999 -dstnodata 200 -s_srs '+proj=lcc
+lat_0=25N +lat_1=25N  +lon_0=95W +units=meters' -t_srs '+proj=latlong
+ellps=WGS84  +datum=WGS84 +no_defs'
NETCDF:'/usr/local/degrib/data/ndfd/conus/200612130500.nc:Astro' /usr/local/degrib/data/ndfd/conus/web/out.tif

Openev verifies that the gdalwarp operation was successful and the
out.tif is good.  When I mouse over a 'no data' area openev tells me
"200 [NODATA]".  But when I put this same out.tif into a mapfile layer
the same pixels are rendered as a zero.

  LAYER #  sky raster layer begins here
    NAME         sky
    TYPE 	 RASTER
    DATA         "/var/www/data/raster/%filename%"
    STATUS       ON
    PROCESSING "SCALE=0,220"
    PROCESSING "SCALE_BUCKETS=20"
    CLASS 
      NAME ">95%"
      EXPRESSION ([pixel] >= 0 and [pixel] < 5)
      STYLE
        COLOR 0 0 150  
      END
    END

    CLASS 
      NAME "90-95%"
      EXPRESSION ([pixel] >=5 and  [pixel] < 10 )
      STYLE
        COLOR 20 20 20
      END
    END

    CLASS 
      NAME "85-90%"
      EXPRESSION ([pixel] >= 10 and [pixel] < 15)
      STYLE
        COLOR 40 40 40
      END
    END

    CLASS 
      NAME "80-85%"
      EXPRESSION ([pixel] >= 15 and [pixel] < 20)
      STYLE
        COLOR 70 70 70
      END
    END

    CLASS 
      NAME "75-80%"
      EXPRESSION ([pixel] >= 20 and [pixel] < 25)
      STYLE
        COLOR 90 90 90
      END
    END
  
    CLASS 
      NAME "nodata"
      EXPRESSION ([pixel] = 200)
      STYLE
        COLOR 240	240	240
      END
    END
END #End sky layer




From warmerdam at pobox.com  Sat Dec 16 08:00:17 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Creating files, File I/O, and VRT
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D70278685@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D70278682@pj-exchange.photon.com>
	<931f8ea90612141833g1b1b16f0i2ccf49e22abcf1ed@mail.gmail.com>
	<0719BE42F22E0A46857DF72644EC5D70278685@pj-exchange.photon.com>
Message-ID: <931f8ea90612160500u43fb2030pba7b75eb292620a1@mail.gmail.com>

On 12/15/06, Matt Hanson <mhanson@photon.com> wrote:
> Frank-
> SyncToDisk() doesn't seem to be a valid member function of GDALDataset().   Has it been recently added?  I'm still using a 1.3 snapshot build from the end of September.

Matt,

I appologise.  SyncToDisk() is only in OGR.  The rough
GDAL analog is the FlushCache() method which will also
(for some formats) effectively flush headers and other
information to disk.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From elavazhagan.mouniandy at kcubeconsulting.com  Sat Dec 16 08:03:47 2006
From: elavazhagan.mouniandy at kcubeconsulting.com (Elavazhagan M)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Building GDAL with GEOS in Unix
In-Reply-To: <45830F87.5010903@loskot.net>
Message-ID: <530560.95059.qm@web815.biz.mail.mud.yahoo.com>

Thanks a lot Mateusz!!!

There was some problem with my operating system. When I freashly installed 'Fedora Core 5' it worked fine for me.

Regards,
Ela.

Mateusz Loskot <mateusz@loskot.net> wrote: Elavazhagan.M wrote:
> 
> Can anyone please guide me how to enable GEOS Support in GDAL (Unix)? I
> have installed Geos 3.0.0rc2 in my system and configured GDAL 1.32 with
> the following commands:
> 
> ?./configure ?with-geos=yes?. This did not work so I tried with
> ?./configure  --with-geos=/root/usr/bin/geos-config? also.
> 
> Although these commands worked well and I successfully installed GDAL,
> when I run the command ?ogr2ogr?, it gives the following error message:
> 
> ?ERROR 6: Geos support not enabled?


Could you check if the configuration summary printed after ./configure
does finish its job, includes GEOS support enabled (marked with yes)?

> Do I need to change anything in the makefiles of GDAL?

No, you should not need to hack any makefiles.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061216/91809829/attachment.html
From Ben.Tuttle at noaa.gov  Thu Dec 14 13:19:33 2006
From: Ben.Tuttle at noaa.gov (Ben Tuttle)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Issue with mollweide and tiff
Message-ID: <458195B5.5010102@noaa.gov>

Hi all-
I am still trying to wrap my head around epsg and defining projections 
using -a_srs. I am trying to convert a mollwiede ENVI file to a 
mollwiede GTiff. I have tried the following:
gdal_translate -of GTiff 
F16200412.cloud2.light1.no_marginal.line_screened.shift.cf_cvg.molw 
F16200412.cloud2.light1.no_marginal.line_screened.shift.cf_cvg.molw.tif

and

gdal_translate -of GTiff -a_srs '+proj=moll +lon_0=0 +x_0=0 +y_0=0 
+datum=WGS84 +units=km' 
F16200412.cloud2.light1.no_marginal.line_screened.shift.cf_cvg.molw 
F16200412.cloud2.light1.no_marginal.line_screened.shift.cf_cvg.molw.tif

In the first example I get an unnamed/unknown coordinate system and in 
the second example I seem to get no coordinate system at all. The 
following page 
(http://www.remotesensing.org/geotiff/proj_list/mollweide.html) leads me 
to believe it is possible to have a mollwiede geotiff, but I have 
clearly been unsuccessful in creating one. Is this a limitation of the 
geotiff format or am I incorrectly passing the paramaeters to a_srs?

gdalinfo 
F16200412.cloud2.light1.no_marginal.line_screened.shift.cf_cvg.molw.tif                          
Driver: GTiff/GeoTIFF
Size is 43201, 16801
Coordinate System is:
GEOGCS["unnamed",
    DATUM["unknown",
        SPHEROID["unretrievable - using WGS84",6378137,298.257223563]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433]]
Origin = (-180.000000,75.000000)
Pixel Size = (0.00833333,-0.00833333)
Metadata:
  AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (-180.0000000,  75.0000000) (180d 0'0.00"W, 75d 0'0.00"N)
Lower Left  (-180.0000000, -65.0082773) (180d 0'0.00"W, 65d 0'29.80"S)
Upper Right ( 180.0081893,  75.0000000) (180d 0'29.48"E, 75d 0'0.00"N)
Lower Right ( 180.0081893, -65.0082773) (180d 0'29.48"E, 65d 0'29.80"S)
Center      (   0.0040947,   4.9958613) (  0d 0'14.74"E,  4d59'45.10"N)
Band 1 Block=43201x1 Type=UInt16, ColorInterp=Gray

:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

gdalinfo 
F16200412.cloud2.light1.no_marginal.line_screened.shift.cf_cvg.molw.tif
Driver: GTiff/GeoTIFF
Size is 43201, 16801
Coordinate System is `'
Origin = (-180.000000,75.000000)
Pixel Size = (0.00833333,-0.00833333)
Metadata:
  AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (-180.0000000,  75.0000000)
Lower Left  (-180.0000000, -65.0082773)
Upper Right ( 180.0081893,  75.0000000)
Lower Right ( 180.0081893, -65.0082773)
Center      (   0.0040947,   4.9958613)
Band 1 Block=43201x1 Type=UInt16, ColorInterp=Gray




From Arne.Dahlman at sweco.se  Fri Dec  1 04:12:24 2006
From: Arne.Dahlman at sweco.se (Dahlman Arne)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] convert shp-files to gml on a Pocket PC
Message-ID: <5DCE0C52C73A734D814DDA78B60C4E9602813133@essth024.sweco.se>

Hi Folks!,
 
 
I am looking for some way to convert shp-files to gml on a Pocket PC.
 
I have read the info on http://www.gdal.org/wince.html.
 
As I understand the Current Status section, there are support for shp
but not for gml.
 
Does this mean that I can't use GDAL for Windows CE for converting shp
to gml?
 
 
Thanks
Arne Dahlman
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061201/dfed5aaa/attachment.html
From cdavilam at jemila.jazztel.es  Sat Dec  2 12:14:51 2006
From: cdavilam at jemila.jazztel.es (=?ISO-8859-1?Q?Carlos_D=E1vila?=)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ECW support
Message-ID: <4571B48B.4060301@jemila.jazztel.es>

Could anyone write down witch are the steps to get gdal working with 
read support for *.ecw files.
Thanks in advance
Carlos

From epk.lists at gmail.com  Sat Dec 16 09:03:27 2006
From: epk.lists at gmail.com (Eduardo Patto Kanegae)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ECW support
In-Reply-To: <4571B48B.4060301@jemila.jazztel.es>
References: <4571B48B.4060301@jemila.jazztel.es>
Message-ID: <2d1782780612160603j4a92a63y76ae05653b105245@mail.gmail.com>

Hi Carlos,

At this link<http://www.webmapit.com.br/wiki/index.php/Configurando_uma_esta%25C3%25A7%25C3%25A3o_GIS-Linux>I
put some quick instructions for building up a Linux GIS workstation -
the
text is in portuguese but you can look only at the commands too.

Or if you prefer, at
http://www.webmapit.com.br/index.php?option=com_content&task=view&id=123&Itemid=108&lang=pt_BR
I have RPM packages for ECW and GDAL.

best regards,


Eduardo Patto Kanegae
http://www.webmapit.com.br

On 12/2/06, Carlos D?vila <cdavilam@jemila.jazztel.es> wrote:
>
> Could anyone write down witch are the steps to get gdal working with
> read support for *.ecw files.
> Thanks in advance
> Carlos
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>



--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061216/a0ffa40d/attachment.html
From dev at geoaspects.com  Sat Dec 16 10:13:29 2006
From: dev at geoaspects.com (Geo Aspects Dev)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Feature String parsing
Message-ID: <DCD8B3E3-1D81-47DB-9DF2-F3C6FB4E43A6@geoaspects.com>

hi,

I've just moved from GDAL 1.3.2 to the latest 1.4 beta and the  
previously acceptable "BRUSH(fc:#000000, bc:#000000)" now fails to  
parse (note the space).
"BRUSH(fc:#000000,bc:#000000)" is fine. It's not a problem now I know  
- just an observation.

Thanks
Tim


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061216/a40b254d/attachment.html
From dolf.andringa at elcyion.nl  Sat Dec 16 10:52:27 2006
From: dolf.andringa at elcyion.nl (Dolf Andringa)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] ogrinfo output lists no features on a postgis layer
 created as a copy using "create table as"
Message-ID: <4584163B.8040908@elcyion.nl>

Hello everybody,

I have a problem with ogrinfo (gdal-1.3.2) and postgres 8.1.5/postgis 
1.1.6 running on debian linux.

I have imported a shapefile into postgis using the python ogr module. 
When I use ogrinfo to get the number of features of this pg table, the 
correct number of features is shown. All other data is correct as well. 
Using ogr2ogr to create a shapefile from this pg layer (as a check) 
gives a correct shapefile again, so the postgres table is ok.
Subsequently I do a create table as to make a copy of this table within 
postgres. I am doing these queries:
CREATE TABLE "promedico-acni_ds"."lw" AS SELECT * FROM "acni_bnd"."ACNi_shp"
INSERT INTO public.geometry_columns 
(f_table_catalog,f_table_schema,f_table_name,f_geometry_column,coord_dimension,srid,type) 
VALUES ('','promedico-acni_ds','lw','wkb_geometry',2,-1,'POINT')

where acni_bnd.ACNi_shp is the original table that I imported from 
shapefiles and promedico-acni_ds.kw it the new table.

In this step the contraints, sequences an primary key are not recreated 
on the new table.
I do an vacuum analyze on the new table and then use ogrinfo to list the 
new table. The output of ogrinfo on the old and new tables is shown below.
The thing is that the new table does not contain any features according 
to ogrinfo. It does contain all rows the original table contains (10260) 
and also all values are there.
Just to check if it mattered I made sure the new table also contained 
the same constraints, sequence and indexes as the original table. Still 
ogrinfo does not list any features for the new table.

Also creating a new shapefile using ogr2ogr from the new table results 
in a shapefile without any features.

Can somebody help me find where the problem is? I can give tabledumps of 
the two tables if required.

The output of ogrinfo on the two tables (first the original one then the 
new one):

using driver `PostgreSQL' successful.

Layer name: acni_bnd.ACNi_shp
Geometry: Point
Feature Count: 10260
Extent: (128383.468750, 445698.781250) - (134391.906250, 451365.968750)
Layer SRS WKT:
(unknown)
FID Column = ogc_fid
Geometry Column = wkb_geometry
adresnr: String (0.0)
huislt: String (0.0)
huisnr: String (0.0)
postk_a: String (0.0)
postk_n: String (0.0)
straat: String (0.0)
toev: String (0.0)
x_coord: String (0.0)
y_coord: String (0.0)



using driver `PostgreSQL' successful.

Layer name: promedico-acni_ds.lw
Geometry: Point
Feature Count: 0
Layer SRS WKT:
(unknown)
FID Column = ogc_fid
Geometry Column = wkb_geometry
adresnr: String (0.0)
huislt: String (0.0)
huisnr: String (0.0)
postk_a: String (0.0)
postk_n: String (0.0)
straat: String (0.0)
toev: String (0.0)
x_coord: String (0.0)
y_coord: String (0.0)

From vic at telerem.ru  Sat Dec 16 14:25:59 2006
From: vic at telerem.ru (vic@telerem.ru)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
Message-ID: <5515278659.20061216222559@telerem.ru>

I am sorry for my English

A have problem with configure Gdal in FreeBSD
I have tried to configure? but have results:

./configure --with-mysql=/etc/my.cnf
...
using pre-installed libz
checking for pg_config... no
checking for PostgreSQL... ./configure.lineno: 21648: Syntax error: Bad fd number

If I use --with-pg=no it does not change anything.

I look at configure.lineno. Line 21648 has text ( line 21648 empty,
but previous line has text ):
  LIBS="-lpq $LIBS"

I have not PostgreSQL on my computer. How I can change options for
configure to it process work fine?

Or what I need to change in configure source?

Victor


From mateusz at loskot.net  Sat Dec 16 14:52:32 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] convert shp-files to gml on a Pocket PC
In-Reply-To: <5DCE0C52C73A734D814DDA78B60C4E9602813133@essth024.sweco.se>
References: <5DCE0C52C73A734D814DDA78B60C4E9602813133@essth024.sweco.se>
Message-ID: <45844E80.1080602@loskot.net>

Dahlman Arne wrote:
> I am looking for some way to convert shp-files to gml on a Pocket PC.
>  
> I have read the info on http://www.gdal.org/wince.html.
>  
> As I understand the Current Status section, there are support for shp
> but not for gml.
>  
> Does this mean that I can't use GDAL for Windows CE for converting shp
> to gml?

Hi Dahlman,

The status of GML is that it hasn't been tested.
Generally, the driver compiles, but I've had no time to test it.
ATM, I've no time to update GDAL port for Windows CE,
but there are new pending features I'm going to put to the CVS.
I'm going to update the port near the end of December or very beginning
of January.

I know there are a few users waiting for better/updated
version of the port. Coming in ~3 weeks.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From mateusz at loskot.net  Sat Dec 16 15:11:45 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <5515278659.20061216222559@telerem.ru>
References: <5515278659.20061216222559@telerem.ru>
Message-ID: <45845301.9000509@loskot.net>

vic@telerem.ru wrote:
> I have not PostgreSQL on my computer. How I can change options for
> configure to it process work fine?
> 
> Or what I need to change in configure source?

I'd say it's strange, because --with-pg=no should work well.
In the configure.in, following code is executed if --with-pg=no is passed:

if test "x$PG_CONFIG" = "xno" ; then

  HAVE_PG=no
  PG_LIB=
  PG_INC=

  AC_MSG_RESULT([no])

else
...

I'm not sure, but may be there are some differences in FreeBSD in
handling empty variables, so it should be changed to:

  PG_LIB=""
  PG_INC=""

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From Martin.Spott at mgras.net  Sat Dec 16 16:03:35 2006
From: Martin.Spott at mgras.net (Martin Spott)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
References: <5515278659.20061216222559@telerem.ru>
Message-ID: <em1mv7$o9i$2@osprey.mgras.de>

vic@telerem.ru wrote:

> A have problem with configure Gdal in FreeBSD
> I have tried to configure? but have results:
> 
> ./configure --with-mysql=/etc/my.cnf
> ...
> using pre-installed libz
> checking for pg_config... no
> checking for PostgreSQL... ./configure.lineno: 21648: Syntax error: Bad fd number
> 
> If I use --with-pg=no it does not change anything.
> 
> I look at configure.lineno. Line 21648 has text ( line 21648 empty,
> but previous line has text ):
>   LIBS="-lpq $LIBS"

A typical ressource of errors with 'configure' stuff is the fact that
on certain systems /bin/sh is, contradictory to widely assumption, not
necessarily a BASH. Many of the shell scripts that are distributed
nowadays actually rely on /bin/sh to conform with the BASH syntax when
it comes to handle variable contents - actually 'configure' nothing but
such a shell script.
You could try to investigate if this is actually the case here.

Cheers,
	Martin.
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------

From vic at telerem.ru  Sat Dec 16 16:06:59 2006
From: vic at telerem.ru (vic@telerem.ru)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <45845301.9000509@loskot.net>
References: <5515278659.20061216222559@telerem.ru>
	<45845301.9000509@loskot.net>
Message-ID: <10521338953.20061217000659@telerem.ru>

Hello Mateusz Loskot,

Saturday, December 16, 2006, 11:11:45 PM, you wrote:

ML> vic@telerem.ru wrote:
>> I have not PostgreSQL on my computer. How I can change options for
>> configure to it process work fine?
>> 
>> Or what I need to change in configure source?

ML> I'd say it's strange, because --with-pg=no should work well.
ML> In the configure.in, following code is executed if --with-pg=no is passed:

ML> if test "x$PG_CONFIG" = "xno" ; then

ML>   HAVE_PG=no
ML>   PG_LIB=
ML>   PG_INC=

ML>   AC_MSG_RESULT([no])

ML> else
ML> ...

ML> I'm not sure, but may be there are some differences in FreeBSD in
ML> handling empty variables, so it should be changed to:

ML>   PG_LIB=""
ML>   PG_INC=""

thank you
I have changed code in configure.in but nothing change in results:

checking for setlocale... yes
checking for local include/lib path... none
configure: checking whether we should include thread/mutex support......
        thread safe support disabled.
checking for deflateInit_ in -lz... yes
using pre-installed libz
checking for PostgreSQL... ./configure.lineno: 21648: Syntax error: Bad fd number

Code in configure.in now is :
------------------------------------- start code
if test "$PG_CONFIG" = "no" ; then

  HAVE_PG=no
  PG_LIB=""
  PG_INC=""

  AC_MSG_RESULT([no])LIBZ

else
------------------------------------- end code

I try to compile gdal-1.3.2, but when I try to configure 1.2.6 results
are same. And I think it is something wrong in my installation on
FreeBSD. Becouse I have make gdal 1.2.6 in FreeBSD 4.10 it was builded
fine.

Or I need to add some code before ./configure like this:
GNUMAKE=/usr/local/bin/make ./configure .... ?


Victor


From vic at telerem.ru  Sat Dec 16 17:03:40 2006
From: vic at telerem.ru (vic@telerem.ru)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <em1mv7$o9i$2@osprey.mgras.de>
References: <5515278659.20061216222559@telerem.ru>
	<em1mv7$o9i$2@osprey.mgras.de>
Message-ID: <9824739854.20061217010340@telerem.ru>

Hello Martin Spott,

Sunday, December 17, 2006, 12:03:35 AM, you wrote:

MS> vic@telerem.ru wrote:

>> A have problem with configure Gdal in FreeBSD
>> I have tried to configure? but have results:
>> 
>> ./configure --with-mysql=/etc/my.cnf
>> ...
>> using pre-installed libz
>> checking for pg_config... no
>> checking for PostgreSQL... ./configure.lineno: 21648: Syntax error: Bad fd number
>> 
>> If I use --with-pg=no it does not change anything.
>> 
>> I look at configure.lineno. Line 21648 has text ( line 21648 empty,
>> but previous line has text ):
>>   LIBS="-lpq $LIBS"

MS> A typical ressource of errors with 'configure' stuff is the fact that
MS> on certain systems /bin/sh is, contradictory to widely assumption, not
MS> necessarily a BASH. Many of the shell scripts that are distributed
MS> nowadays actually rely on /bin/sh to conform with the BASH syntax when
MS> it comes to handle variable contents - actually 'configure' nothing but
MS> such a shell script.
MS> You could try to investigate if this is actually the case here.

Thank you
But I can't understand some sentences.

Do I need to test is my 'configure' really /bin/sh script or not?
If yes how I can do it? What difference between /bin/sh and other
shell?


Victor


From vic at telerem.ru  Sat Dec 16 17:18:17 2006
From: vic at telerem.ru (vic@telerem.ru)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <45845301.9000509@loskot.net>
References: <5515278659.20061216222559@telerem.ru>
	<45845301.9000509@loskot.net>
Message-ID: <3225616925.20061217011817@telerem.ru>

Hello Mateusz Loskot,

Saturday, December 16, 2006, 11:11:45 PM, you wrote:

ML> vic@telerem.ru wrote:
>> I have not PostgreSQL on my computer. How I can change options for
>> configure to it process work fine?
>> 
>> Or what I need to change in configure source?

ML> I'd say it's strange, because --with-pg=no should work well.
ML> In the configure.in, following code is executed if --with-pg=no is passed:

ML> if test "x$PG_CONFIG" = "xno" ; then

ML>   HAVE_PG=no
ML>   PG_LIB=
ML>   PG_INC=

ML>   AC_MSG_RESULT([no])

ML> else
ML> ...

ML> I'm not sure, but may be there are some differences in FreeBSD in
ML> handling empty variables, so it should be changed to:

ML>   PG_LIB=""
ML>   PG_INC=""

I can't understand anything :(

I insert next code in 'configure':
echo "$as_me:$LINENO: checking for PostgreSQL" >&5
echo $ECHO_N "checking for PostgreSQL... $ECHO_C" >&6

------------------------------ my code start
HAVE_PG=no
PG_LIB=""
PG_INC=""
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6LIBZ

if test "123" = "456" ; then
------------------------------ my code finish
if test "$PG_CONFIG" = "no" ; then

  HAVE_PG=no
  PG_LIB=""
  PG_INC=""

.........
.........
.........
.........
  PG_INC="-I`$PG_CONFIG --includedir` $PG_EXTRA_DEC"
fi
------------------------------ my code start
fi
------------------------------ my code finish

HAVE_PG=$HAVE_PG

PG_INC=$PG_INC

PG_LIB=$PG_LIB

.........
.........
.........
.........

But nothing happens. What I nave to comment in configure to switch off
test PostgreSQL?



Victor


From mateusz at loskot.net  Sat Dec 16 17:26:09 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <3225616925.20061217011817@telerem.ru>
References: <5515278659.20061216222559@telerem.ru>
	<45845301.9000509@loskot.net>
	<3225616925.20061217011817@telerem.ru>
Message-ID: <45847281.4020006@loskot.net>

vic@telerem.ru wrote:
> But nothing happens. What I nave to comment in configure to switch off
> test PostgreSQL?

A dirty fix is to remove PostgreSQL tests completely:

1. Open configure.in (not configure) and delete lines 240:294.
2. Run ./autogen.sh to regenerate configure script from configure.in
3. Run ./configure and see if it works

NOTE: edit ./configure.in, but not ./configure

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From mateusz at loskot.net  Sat Dec 16 17:29:43 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <9824739854.20061217010340@telerem.ru>
References: <5515278659.20061216222559@telerem.ru>	<em1mv7$o9i$2@osprey.mgras.de>
	<9824739854.20061217010340@telerem.ru>
Message-ID: <45847357.5030202@loskot.net>

vic@telerem.ru wrote:
> MS> A typical ressource of errors with 'configure' stuff is the fact that
> MS> on certain systems /bin/sh is, contradictory to widely assumption, not
> MS> necessarily a BASH. Many of the shell scripts that are distributed
> MS> nowadays actually rely on /bin/sh to conform with the BASH syntax when
> MS> it comes to handle variable contents - actually 'configure' nothing but
> MS> such a shell script.
> MS> You could try to investigate if this is actually the case here.
> 
> Thank you
> But I can't understand some sentences.
> 
> Do I need to test is my 'configure' really /bin/sh script or not?
> If yes how I can do it? What difference between /bin/sh and other
> shell?

I believe Martin is suggesting to ensure that the shell *you* are
using is Bash or compatible with Bash.

If now, try to use Bash shell to run the script.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From vic at telerem.ru  Sat Dec 16 17:35:26 2006
From: vic at telerem.ru (vic@telerem.ru)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <45845301.9000509@loskot.net>
References: <5515278659.20061216222559@telerem.ru>
	<45845301.9000509@loskot.net>
Message-ID: <8126646155.20061217013526@telerem.ru>

Hello Mateusz Loskot,

Saturday, December 16, 2006, 11:11:45 PM, you wrote:

ML> vic@telerem.ru wrote:
>> I have not PostgreSQL on my computer. How I can change options for
>> configure to it process work fine?
>> 
>> Or what I need to change in configure source?

ML> I'd say it's strange, because --with-pg=no should work well.
ML> In the configure.in, following code is executed if --with-pg=no is passed:

ML> if test "x$PG_CONFIG" = "xno" ; then

ML>   HAVE_PG=no
ML>   PG_LIB=
ML>   PG_INC=

ML>   AC_MSG_RESULT([no])

ML> else
ML> ...

ML> I'm not sure, but may be there are some differences in FreeBSD in
ML> handling empty variables, so it should be changed to:

ML>   PG_LIB=""
ML>   PG_INC=""

ML> Cheers

To find place with error I put code to 'configure':

------------------------ start code
echo $ECHO_N "checking my 1 ... $ECHO_C" >&6
HAVE_PG="no"
echo $ECHO_N "checking my 2 ... $ECHO_C" >&6
PG_LIB=""
echo $ECHO_N "checking my 3 ... $ECHO_C" >&6
PG_INC=""
echo $ECHO_N "checking my 4 ... $ECHO_C" >&6
echo "$as_me:$LINENO: result: no" >&5
echo $ECHO_N "checking my 5 ... $ECHO_C" >&6
echo "${ECHO_T}no" >&6LIBZ
echo $ECHO_N "checking my 6 ... $ECHO_C" >&6

if test "123" = "456" ; then
------------------------ end code

and have next results:

checking for PostgreSQL... checking my 1 ... checking my 2 ...
checking my 3 ... checking my 4 ... checking my 5 ...
./configure.lineno: 21547: Syntax error: Bad fd number

So line ' echo "${ECHO_T}no" >&6LIBZ ' has error.
What I have to correct in it?

I try to find some string with '>&6' and only 3 lines have different
end:

aip2# grep -E ">&6\B"  configure
echo "${ECHO_T}no" >&6LIBZ
  echo "${ECHO_T}no" >&6LIBZ
echo "${ECHO_T}setting DODS root directory to $with_sqlite" >&6_


Other lines with '>&6' have only '>&6' without any symbols on the end.

I think I need to correct these strings. But I don't know how to do
this correct.



Victor


From vic at telerem.ru  Sat Dec 16 19:02:01 2006
From: vic at telerem.ru (vic@telerem.ru)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <45847281.4020006@loskot.net>
References: <5515278659.20061216222559@telerem.ru>
	<45845301.9000509@loskot.net> <3225616925.20061217011817@telerem.ru>
	<45847281.4020006@loskot.net>
Message-ID: <831840914.20061217030201@telerem.ru>

Hello Mateusz Loskot,

Sunday, December 17, 2006, 1:26:09 AM, you wrote:

ML> vic@telerem.ru wrote:
>> But nothing happens. What I nave to comment in configure to switch off
>> test PostgreSQL?

ML> A dirty fix is to remove PostgreSQL tests completely:

ML> 1. Open configure.in (not configure) and delete lines 240:294.
ML> 2. Run ./autogen.sh to regenerate configure script from configure.in
ML> 3. Run ./configure and see if it works

ML> NOTE: edit ./configure.in, but not ./configure

Thank you


But autogen.sh doesn't work on my computer:

aip2# ./autogen.sh
+ aclocal -I ./m4
aclocal: not found
+ autoheader
autoheader: not found
+ autoconf
autoconf: not found


But I think error in other place, where created next string
------------------------------- start code
aip2# grep ">&6\B" configure
echo "${ECHO_T}no" >&6LIBZ
  echo "${ECHO_T}no" >&6LIBZ
echo "${ECHO_T}setting DODS root directory to $with_sqlite" >&6_
------------------------------- end code

I try to find there in 'configure.in', but can't :(


From bthoen at gisnet.com  Sat Dec 16 19:07:42 2006
From: bthoen at gisnet.com (Bill Thoen)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Ogr2ogr / PostGIS Support MapInfo Text Objects?
Message-ID: <20061217000742.GA26725@www.gisnet.com>

One map feature type that MapInfo tab files support is a text object. Does
anyone know if PostGIS and/or ogr2ogr supports this type of map object?



From vic at telerem.ru  Sat Dec 16 19:20:00 2006
From: vic at telerem.ru (vic@telerem.ru)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <45847357.5030202@loskot.net>
References: <5515278659.20061216222559@telerem.ru>
	<em1mv7$o9i$2@osprey.mgras.de> <9824739854.20061217010340@telerem.ru>
	<45847357.5030202@loskot.net>
Message-ID: <19632919866.20061217032000@telerem.ru>

Hello Mateusz Loskot,

Thank you

I delete 'LIBZ' and '_' in lines:
echo "${ECHO_T}no" >&6LIBZ
echo "${ECHO_T}setting DODS root directory to $with_sqlite" >&6_

and all have configured and installed.

But I don't know is it right.
Now I shell build mapserver.


Victor


From mateusz at loskot.net  Sat Dec 16 19:21:52 2006
From: mateusz at loskot.net (Mateusz =?iso-8859-2?Q?=A3oskot?=)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <831840914.20061217030201@telerem.ru>
References: <5515278659.20061216222559@telerem.ru>
	<45845301.9000509@loskot.net> <3225616925.20061217011817@telerem.ru>
	<45847281.4020006@loskot.net> <831840914.20061217030201@telerem.ru>
Message-ID: <1117.62.179.32.88.1166314912.squirrel@loskot.net>

Dnia N Grudnia 17 2006, 1:02 am, vic@telerem.ru napisa?(a):
>
> Thank you
> But autogen.sh doesn't work on my computer:
>
> aip2# ./autogen.sh
> + aclocal -I ./m4
> aclocal: not found
> + autoheader
> autoheader: not found
> + autoconf
> autoconf: not found

If you're building software from source, GNU Autoconf,
GNU Automake and GNU Libtool packages are needed.
If you don't want to install these packages,
you should try to use binary distribution of GDAL for your system,
instead of building on your own.

As I see, there are some packages for FreeBSD:

http://www.freebsd.org/ports/graphics.html#gdal-1.3.1

> But I think error in other place, where created next string
> ------------------------------- start code
> aip2# grep ">&6\B" configure
> echo "${ECHO_T}no" >&6LIBZ
>   echo "${ECHO_T}no" >&6LIBZ
> echo "${ECHO_T}setting DODS root directory to $with_sqlite" >&6_
> ------------------------------- end code
>
> I try to find there in 'configure.in', but can't :(

And you won't. configure is a generated file (using tools already revealed
as missing on your system).
The configure.in + BIG NUMBER OF MACROS + processing tools = configure
script.

So, hacking configure is highly not recommended unless you really
know what you are doing and you can act as a human
version of GNU Autoconf :-)

So, I believe it's much easier to:
- install packages I listed
- change configure.in
- re-generated configure from configure.in using ./autogen.sh
- use your brand new and *valid* ./configure

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From mateusz at loskot.net  Sat Dec 16 19:24:00 2006
From: mateusz at loskot.net (Mateusz =?iso-8859-2?Q?=A3oskot?=)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Can't configure GDAL for FreeBSD 5.5
In-Reply-To: <19632919866.20061217032000@telerem.ru>
References: <5515278659.20061216222559@telerem.ru>
	<em1mv7$o9i$2@osprey.mgras.de> <9824739854.20061217010340@telerem.ru>
	<45847357.5030202@loskot.net> <19632919866.20061217032000@telerem.ru>
Message-ID: <1126.62.179.32.88.1166315040.squirrel@loskot.net>

Dnia N Grudnia 17 2006, 1:20 am, vic@telerem.ru napisa?(a):
> I delete 'LIBZ' and '_' in lines:
> echo "${ECHO_T}no" >&6LIBZ
> echo "${ECHO_T}setting DODS root directory to $with_sqlite" >&6_
>
> and all have configured and installed.
>
> But I don't know is it right.
> Now I shell build mapserver.

Heh, I see you're a natural born hacker (if I may call you this way) :-)
Congratulations!


Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From dolf.andringa at elcyion.nl  Sun Dec 17 05:54:31 2006
From: dolf.andringa at elcyion.nl (Dolf Andringa)
Date: Wed Nov 21 11:50:32 2007
Subject: [Fwd: Re: [Gdal-dev] ogrinfo output lists no features on a postgis
	layer created as a copy using "create table as"]
Message-ID: <458521E7.8020403@elcyion.nl>

Ok, Frank helped me a lot!
I found the difference between the two ogrinfo calls on the two tables.
The table which does not seem to contain any features show the following 
output when I turn on CPL_DEBUG:

INFO: ---------- General Layer Report ----------
OGR_PG: PQexec(DECLARE countCursor CURSOR for SELECT count(*) FROM 
promedico-acni_ds."lw" )

OGR_PG: DECLARE countCursor CURSOR for SELECT count(*) FROM 
promedico-acni_ds."lw" ; failed.
OGR_PG: Unable to get extent by PostGIS. Using standard OGRLayer method.
OGR_PG: PQexec(DECLARE OGRPGLayerReader CURSOR for SELECT "ogc_fid", 
AsEWKT("wkb_geometry"), "adresnr", "huislt", "huisnr", "postk_a", 
"postk_n", "straat", "toev", "x_coord", "y_coord" FROM 
promedico-acni_ds."lw" )



The table which does seem to contain features shows just the following 
General Layer Report:

OGR_PG: PQexec(DECLARE countCursor CURSOR for SELECT count(*) FROM 
acni_bnd."ACNi_shp" )


So I guess it is a problem with (my) PostGIS (setup). Any ideas? Thanks 
for your help!

Dolf.

-------- Originele bericht --------
Onderwerp: Re: [Gdal-dev] ogrinfo output lists no features on a postgis 
layer created as a copy using "create table as"
Datum: Sat, 16 Dec 2006 18:42:24 -0500
Van: Frank Warmerdam <warmerdam@pobox.com>
Aan: Dolf Andringa <dolf.andringa@elcyion.nl>
Referenties: <4584163B.8040908@elcyion.nl>

Dolf Andringa wrote:
> Hello everybody,
> 
> I have a problem with ogrinfo (gdal-1.3.2) and postgres 8.1.5/postgis 
> 1.1.6 running on debian linux.
> 
> I have imported a shapefile into postgis using the python ogr module. 
> When I use ogrinfo to get the number of features of this pg table, the 
> correct number of features is shown. All other data is correct as well. 
> Using ogr2ogr to create a shapefile from this pg layer (as a check) 
> gives a correct shapefile again, so the postgres table is ok.
> Subsequently I do a create table as to make a copy of this table within 
> postgres. I am doing these queries:
> CREATE TABLE "promedico-acni_ds"."lw" AS SELECT * FROM 
> "acni_bnd"."ACNi_shp"
> INSERT INTO public.geometry_columns 
> (f_table_catalog,f_table_schema,f_table_name,f_geometry_column,coord_dimension,srid,type) 
> VALUES ('','promedico-acni_ds','lw','wkb_geometry',2,-1,'POINT')


Dolf,

I'm sorry but I don't know what is going wrong.  If you file a detailed
bug report with easy to reproduce steps (hopefully a small dataset for
instance) then hopefully we can dig into this before the 1.4.0 release
is finalized.

I would also note that you can see most of the SQL queries that OGR
is issuing to postgres if you define the CPL_DEBUG environment variable
with the value ON.  This might help with diagnosing the problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From dolf.andringa at elcyion.nl  Sun Dec 17 06:11:18 2006
From: dolf.andringa at elcyion.nl (Dolf Andringa)
Date: Wed Nov 21 11:50:32 2007
Subject: [Fwd: Re: [Gdal-dev] ogrinfo output lists no features on a postgis
	layer created as a copy using "create table as"]
In-Reply-To: <458521E7.8020403@elcyion.nl>
References: <458521E7.8020403@elcyion.nl>
Message-ID: <458525D6.4010601@elcyion.nl>


Well, I've found out what the problem was thanks to Frank and Juergen 
Fischer (via irc)...
The problem was that the schema name contains a  -. In postgres that is 
not a problem when you put the schema name in double quotes. ogrinfo 
places only the tablename in double quotes, not the schema name. That is 
what is going wrong......
Should I commit this as a bug report?
Thanks for your help Frank!

Dolf.

Dolf Andringa schreef:
> Ok, Frank helped me a lot!
> I found the difference between the two ogrinfo calls on the two tables.
> The table which does not seem to contain any features show the following 
> output when I turn on CPL_DEBUG:
> 
> INFO: ---------- General Layer Report ----------
> OGR_PG: PQexec(DECLARE countCursor CURSOR for SELECT count(*) FROM 
> promedico-acni_ds."lw" )
> 
> OGR_PG: DECLARE countCursor CURSOR for SELECT count(*) FROM 
> promedico-acni_ds."lw" ; failed.
> OGR_PG: Unable to get extent by PostGIS. Using standard OGRLayer method.
> OGR_PG: PQexec(DECLARE OGRPGLayerReader CURSOR for SELECT "ogc_fid", 
> AsEWKT("wkb_geometry"), "adresnr", "huislt", "huisnr", "postk_a", 
> "postk_n", "straat", "toev", "x_coord", "y_coord" FROM 
> promedico-acni_ds."lw" )
> 
> 
> 
> The table which does seem to contain features shows just the following 
> General Layer Report:
> 
> OGR_PG: PQexec(DECLARE countCursor CURSOR for SELECT count(*) FROM 
> acni_bnd."ACNi_shp" )
> 
> 
> So I guess it is a problem with (my) PostGIS (setup). Any ideas? Thanks 
> for your help!
> 
> Dolf.
> 
> -------- Originele bericht --------
> Onderwerp: Re: [Gdal-dev] ogrinfo output lists no features on a postgis 
> layer created as a copy using "create table as"
> Datum: Sat, 16 Dec 2006 18:42:24 -0500
> Van: Frank Warmerdam <warmerdam@pobox.com>
> Aan: Dolf Andringa <dolf.andringa@elcyion.nl>
> Referenties: <4584163B.8040908@elcyion.nl>
> 
> Dolf Andringa wrote:
>> Hello everybody,
>>
>> I have a problem with ogrinfo (gdal-1.3.2) and postgres 8.1.5/postgis 
>> 1.1.6 running on debian linux.
>>
>> I have imported a shapefile into postgis using the python ogr module. 
>> When I use ogrinfo to get the number of features of this pg table, the 
>> correct number of features is shown. All other data is correct as 
>> well. Using ogr2ogr to create a shapefile from this pg layer (as a 
>> check) gives a correct shapefile again, so the postgres table is ok.
>> Subsequently I do a create table as to make a copy of this table 
>> within postgres. I am doing these queries:
>> CREATE TABLE "promedico-acni_ds"."lw" AS SELECT * FROM 
>> "acni_bnd"."ACNi_shp"
>> INSERT INTO public.geometry_columns 
>> (f_table_catalog,f_table_schema,f_table_name,f_geometry_column,coord_dimension,srid,type) 
>> VALUES ('','promedico-acni_ds','lw','wkb_geometry',2,-1,'POINT')
> 
> 
> Dolf,
> 
> I'm sorry but I don't know what is going wrong.  If you file a detailed
> bug report with easy to reproduce steps (hopefully a small dataset for
> instance) then hopefully we can dig into this before the 1.4.0 release
> is finalized.
> 
> I would also note that you can see most of the SQL queries that OGR
> is issuing to postgres if you define the CPL_DEBUG environment variable
> with the value ON.  This might help with diagnosing the problem.
> 
> Best regards,

From warmerdam at pobox.com  Sun Dec 17 12:55:47 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] Feature String parsing
In-Reply-To: <DCD8B3E3-1D81-47DB-9DF2-F3C6FB4E43A6@geoaspects.com>
References: <DCD8B3E3-1D81-47DB-9DF2-F3C6FB4E43A6@geoaspects.com>
Message-ID: <458584A3.9030303@pobox.com>

Geo Aspects Dev wrote:
> hi,
> 
> I've just moved from GDAL 1.3.2 to the latest 1.4 beta and the 
> previously acceptable "BRUSH(fc:#000000, bc:#000000)" now fails to parse 
> (note the space).
> "BRUSH(fc:#000000,bc:#000000)" is fine. It's not a problem now I know - 
> just an observation.

Tim,

Would you mind filing this in bugzilla?  I'm not too keen on the style
string parser being picky about extra white space.  I suspect this was
a result of some recent work on the style code.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Sun Dec 17 13:56:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Fwd: Re: [Gdal-dev] ogrinfo output lists no features on a postgis
	layer created as a copy using "create table as"]
In-Reply-To: <458525D6.4010601@elcyion.nl>
References: <458521E7.8020403@elcyion.nl> <458525D6.4010601@elcyion.nl>
Message-ID: <458592CB.6050109@pobox.com>

Dolf Andringa wrote:
> 
> Well, I've found out what the problem was thanks to Frank and Juergen 
> Fischer (via irc)...
> The problem was that the schema name contains a  -. In postgres that is 
> not a problem when you put the schema name in double quotes. ogrinfo 
> places only the tablename in double quotes, not the schema name. That is 
> what is going wrong......
> Should I commit this as a bug report?
> Thanks for your help Frank!

Dolf,

Yes, please do submit it as a bug report.  Ideally with the specific SQL
to create such a schema and a table in it with one feature.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Sun Dec 17 23:58:30 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:32 2007
Subject: [Gdal-dev] warping a file from state plane to GD using gdal 1.3.2
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D0307E177@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730D0307E177@vader.prologic-inc.com>
Message-ID: <45861FF6.6080905@pobox.com>

Derrick Hoffman wrote:
> All:
> 
> I have a geo Tiff that is in state plane and I want to warp it to
> geodetic.  When I perform a GDAL info on the source file, the datum is
> unknown.  I can sue the same file with FW Tools and the datum does come
> across and the file can be warped.  Is there any reason why the base
> gdal cannot read this information from the file?

Derrick,

When reading and expanding coordinate system definitions from GeoTIFF
files it is sometimes necessary to have access to various supporting
files with EPSG definitions.  On Linux these would normally be installed
and found in /usr/local/share/gdal but on windows or unusual unix installs
they may not be found by default.  This can be corrected by setting the
GDAL_DATA environment variable to point to the directory where they reside.
Within the build tree they are found in gdal/data.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Mon Dec 18 00:06:20 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] 'no data' problem with GDAL/Mapserver
In-Reply-To: <1166237591.6605.20.camel@c-134-233-42.f.dsl.de.ignite.net>
References: <1166237591.6605.20.camel@c-134-233-42.f.dsl.de.ignite.net>
Message-ID: <458621CC.2000403@pobox.com>

Jeff Bullard wrote:
> Mapserver is treating raster 'no data' values like they are all zero.
> The 'no data' pixels are being rendered in my [0 - 5) class.  The actual
> 'no data' value I am using is 200.  I have also tried 9999. 
> 
> gdalwarp -ot Int16 -srcnodata 9999 -dstnodata 200 -s_srs '+proj=lcc
> +lat_0=25N +lat_1=25N  +lon_0=95W +units=meters' -t_srs '+proj=latlong
> +ellps=WGS84  +datum=WGS84 +no_defs'
> NETCDF:'/usr/local/degrib/data/ndfd/conus/200612130500.nc:Astro' /usr/local/degrib/data/ndfd/conus/web/out.tif
> 
> Openev verifies that the gdalwarp operation was successful and the
> out.tif is good.  When I mouse over a 'no data' area openev tells me
> "200 [NODATA]".  But when I put this same out.tif into a mapfile layer
> the same pixels are rendered as a zero.

Jeff,

Could you file a bug against MapServer, and assigned directly to me about
this problem?  It is not evident to me why you would get the effect you
describe.  Ensure that the bug report includes everything I need to
reproduce the error quickly and easily (optimally with "shp2img").

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Sun Dec 17 19:06:54 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] problems with OGDI controlled image base
In-Reply-To: <457DA4F1.9000408@TerraGoTech.com>
References: <457DA4F1.9000408@TerraGoTech.com>
Message-ID: <931f8ea90612171606n5a2562a1jf02a7a47b84f1997@mail.gmail.com>

On 12/11/06, Alan Stewart <astewart@terragotech.com> wrote:
> Has anyone else seen any problems like this or have any other ideas as
> to what the problem could be? Should I be doing something more to ensure
> the driver/dataset is correctly closed and reopened? Have any changes
> been made since my CVS snapshot that might affect this issue?

Alan,

It seems I vaguely recall some similar-ish errors with some
OGDI datasets in the past though I don't recall the details.

Your approach seems fine, and I suspect this is a bug either in
GDAL or more likely the OGDI RPF driver itself.  I have definately
not made any recent fixes to OGDI that might have corrected this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Mon Dec 18 03:41:32 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Memory leak? How to release GDAL datasets?
In-Reply-To: <00d401c720b4$afcc9190$3301a8c0@vaio>
References: <00d401c720b4$afcc9190$3301a8c0@vaio>
Message-ID: <4586543C.1060100@pobox.com>

Craig Miller wrote:
> Frank,
> 
> Here is a bit more info:
> 
> I'm working on an old project and some of my project settings were messed up
> resulting in an old build of gdal getting used.  I'm no longer seeing the
> weird Ogrpolygon stuff.  Unfortunately, once I fixed that I'm seeing a few
> different potential problems.  Here is the call stack and Data for the first
> two.
...
> Call Stack:
>     c:\vault\gdal\port\cpl_vsisimple.cpp (343): VSIRealloc
>     c:\vault\gdal\port\cpl_conv.cpp (363): CPLRealloc
>     c:\vault\gdal\gcore\gdaldataset.cpp (180): GDALDataset::GDALDataset
>     c:\vault\gdal\gcore\gdalpamdataset.cpp (107):
> GDALPamDataset::GDALPamDataset
>     c:\vault\gdal\frmts\gtiff\geotiff.cpp (1580): GTiffDataset::GTiffDataset
>     c:\vault\gdal\frmts\gtiff\geotiff.cpp (2594): GTiffDataset::Open
>     c:\vault\gdal\gcore\gdaldataset.cpp (1714): GDALOpen
>     c:\vault\backroads\mapcanvas.cpp (104): CMapCanvas::Open
>  Data:
>     88 B5 5B 01    E0 BD 2B 04                                   ..[...+.
> ........

Craig,

The above is the array for the "open dataset list".  This is
normally deallocated when the last dataset is closed.  While this
list may be "grown" when a dataset is opened, it is not considered
to be owned by the dataset.

> ------------------
> Mapcanvas.cpp line 324 looks like this:
> switch (pBand->GetColorInterpretation())
> 
> I don't free the ColorInterpretation as I understand it to be owned by the
> band.
> 
>  Call Stack:
>     c:\vault\gdal\port\cpl_vsisimple.cpp (333): VSIMalloc
>     c:\vault\gdal\gcore\gdalrasterblock.cpp (433):
> GDALRasterBlock::Internalize
>     c:\vault\gdal\gcore\gdalrasterband.cpp (1150):
> GDALRasterBand::GetLockedBlockRef
>     c:\vault\gdal\gcore\rasterio.cpp (386): GDALRasterBand::IRasterIO
>     c:\vault\gdal\gcore\gdalrasterband.cpp (308): GDALRasterBand::RasterIO
>     c:\vault\backroads\mapcanvas.cpp (324): CMapCanvas::LoadMap

This has nothing to do with color interpretation.  It is basically the
memory for a block of image data in the cache, and it should be released
when the associated dataset is closed.  If not there could be a significant
memory leak and I'd appreciate details on how to reproduce it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From mbaye23 at hotmail.com  Mon Dec 18 07:11:14 2006
From: mbaye23 at hotmail.com (mouhamad mbaye)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] my email
Message-ID: <BAY116-W65BD4345DEB1D6EC9697ABCC90@phx.gbl>

mbaye23@hotmail.com
_________________________________________________________________
Essayez Live.com, votre nouvelle page d'accueil ! Personnalisez-la en quelques clics pour retrouver tout ce qui vous int?resse au m?me endroit.
http://www.live.com/getstarted
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061218/7409f3a6/attachment.html
From mirhassanali at gmail.com  Mon Dec 18 07:17:13 2006
From: mirhassanali at gmail.com (Mir Hassan Ali)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GGP GIS
Message-ID: <b41d86b30612180417q5193e7eeh1b8cb9f9d863cd2c@mail.gmail.com>

Hi

Does anyone have any idea about the file format for the files produced by
the GGP GIS and can GDAL be used to read those files?

Best Regards

Mir
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061218/15f65609/attachment.html
From mitchelljj98 at gmail.com  Mon Dec 18 07:41:57 2006
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] gdaladdo -r average tiled.img 2 4 8 16 32 64 128 does
	not give 100 -done message at the end
Message-ID: <fa2ac0580612180441u6ca31905qad1ec63641b99b5a@mail.gmail.com>

Hi,

I converted a GeoTiff to a Erdas Imagine format by running the below statement:

gdal_translate -of HFA original.tif tiled.img


I then build internal overviews to the image file by running:
gdaladdo -r average tiled.img 2 4 8 16 32 64 128

My concern is that it counts down from 0... to 90... 3 times but never
reaches 100 - done.  When I run the same command against the GeoTiff it
counts once from 0... to 90...100 - done.  I have successfully opened both
files in OpenEV_FW and they look identical.

Thanks,
-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061218/c0b57056/attachment.html
From warmerdam at pobox.com  Mon Dec 18 20:39:36 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] gdaladdo -r average tiled.img 2 4 8 16 32 64 128 does
	not give 100 -done message at the end
In-Reply-To: <fa2ac0580612180441u6ca31905qad1ec63641b99b5a@mail.gmail.com>
References: <fa2ac0580612180441u6ca31905qad1ec63641b99b5a@mail.gmail.com>
Message-ID: <458742D8.5070009@pobox.com>

John Mitchell wrote:
> Hi,
> 
> I converted a GeoTiff to a Erdas Imagine format by running the below statement: 
> 
> gdal_translate -of HFA original.tif tiled.img
> 
> 
> I then build internal overviews to the image file by running:
> gdaladdo -r average tiled.img 2 4 8 16 32 64 128
> 
> My concern is that it counts down from 0... to 90... 3 times but never 
> reaches 100 - done.  When I run the same command against the GeoTiff it 
> counts once from 0... to 90...100 - done.  I have successfully opened 
> both files in OpenEV_FW and they look identical.

John,

This is nothing to worry about, presumably I have been just a bit careless
in the progress reporting somewhere.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From janeen at splash.princeton.edu  Mon Dec 18 12:23:33 2006
From: janeen at splash.princeton.edu (Janeen)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] how is yllcorner determined and why 
In-Reply-To: <456AF3B9.2050801@splash.princeton.edu>
References: <456474D5.4000800@splash.princeton.edu>
	<456AF3B9.2050801@splash.princeton.edu>
Message-ID: <4586CE95.3070006@splash.princeton.edu>

Hello All,

I thought I would post my solution for the issues that I found when 
using the gdal_translate utility to convert from netCdf format files to 
the AAIGrid format.  I made a few code changes in the AAIGrid format 
driver and recompiled the source code.  I had 2 problems that seemed to 
me, were not being handled correctly or at all.  So here is how I 
resolved it in the code.  This is a very limited solution for my very 
narrow case.  If anyone cares to comment, I would be interested, since I 
am very new to GDAL.

In the file:          /frmts/aaigrid/aaigriddataset.cpp

I changed the code that outputs  the AAIGRID header information to:
        sprintf( szHeader,
                 "ncols        %d\n"
                 "nrows        %d\n"
                 "xllcorner    %.12f\n"
                 "yllcorner    %.12f\n"
                 "dx           %.12f\n"
                 "dy           %.12f\n",
                 nXSize, nYSize,
                 adfGeoTransform[0],
                 adfGeoTransform[3],    /* changed */ 
                 ( adfGeoTransform[1] * nXSize + 1)/ nXSize,    /* 
changed */
                 ( adfGeoTransform[5] * nYSize + 1)/ nYSize );    
/*changed */

This gives me what I believe to be the correct values for the yllcorner, 
dx and dy, based on my .nc files.  Then since my netCDF files are 
flipped, with the origin at the upper left I changed the for loop that 
writes out the lines of data to write the lines in reverse:
   for( iLine = (nYSize - 1); eErr == CE_None && iLine >= 0; iLine-- )

and for the outputting progress data correctly based on the above:
           !pfnProgress((nYSize - iLine + 1) /
                        ((double) nYSize), NULL, pProgressData) )

Cheers!

Janeen




Janeen wrote:
> All,
>
> I've a correction to my original post.  I discovered that in trying to 
> figure out how the value for yllcorner is calculated by 
> gdal_translate, I was using the dy value NOT the dx value, as the line 
> of code states.  See corrections within mail.
>
> But that leaves me with 2 new questions:
>
>   Why is the dx value used to calculate the yllcorner in the Ascii Grid?
>   And what in the original .nc file is the yllcorner  = -269 related to?
>
> Any light shed on this would be appreciated.
>
> Janeen
>
> Janeen wrote:
>> Hello All,
>>
>> I've just tried the gdal_translate utility on a NetCDF file, 
>> converting it to the AAIGrid format.  I'm new to the world of GIS and 
>> NetCDF also.  So in using the utility, I want to be sure that I 
>> understand how all the data from  the  .nc file  makes it over to the 
>> ascii file.
>>
>> I can't quite figure out how the yllcorner value being reported is 
>> calculated, and why it is transformed the way it is.  I've looked at 
>> the code and gotten as far as this line in aaigriddataset.cpp:
>>
>>   adfGeoTransform[3]- nYSize * adfGeoTransform[1]
>>
>> I can't quite get what the variable adfGeoTransform[3] represents 
>> from the original .nc file.  The part of the equation:
>>    nYSize * adfGeoTransform[1] I understand where those values  come 
>> from in my sample file (i.e. 180 *  0.994444444444  = 179 ).
>  in my example this should be 180 * 0.997222222222 = 179.5
>
>> Given that yllcorner is being reported as -269, that means that the 
>> value for adfGeoTransform[3] would be -90.   But what does that value 
>> represent in my original netCDF file given the info below?
>>
>
> the actual value for adfGeoTransform[3] becomes -89.5  which is the 
> southern most latitude value in the .nc file.
>
>
>> If anyone can give me a description of what is going on here, I would 
>> appreciate it.  Below is header  and gdalinfo.
>>
>> Janeen
>>
>>
>> Here is the gdal header info from my converted .nc file:
>>
>>   cols        360
>>   nrows        180
>>   xllcorner    0.500000000000
>>   yllcorner    -269.000000000000
>>   dx           0.997222222222
>>   dy           0.994444444444
>>   NODATA_value -10000000000
>>
>> Here is (relevant) gdalinfo from my .nc file
>>   Driver: netCDF/Network Common Data Format
>>   Size is 360, 180
>>   Coordinate System is `'
>>   Origin = (0.500000,-89.500000)
>>   Pixel Size = (0.99722222,0.99444444)
>>   Corner Coordinates:
>>   Upper Left  (   0.5000000, -89.5000000)
>>   Lower Left  (   0.5000000,  89.5000000)
>>   Upper Right (     359.500,     -89.500)
>>   Lower Right (     359.500,      89.500)
>>   Center      ( 180.0000000,   0.0000000)
>>
>>
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

From izzybitsie at gmail.com  Mon Dec 18 13:00:33 2006
From: izzybitsie at gmail.com (Dori)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL 1.4.0 beta 2 release date
Message-ID: <23e208430612181000t73e5b711n1c74c0ab16b9f775@mail.gmail.com>

Hi,
does anyone know when GDAL 1.4.0 beta2 will be released or if it is already
released from where I can download it? I would like to test this release
since it fixes a bug I reported.

Tx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061218/922d3e05/attachment.html
From warmerdam at pobox.com  Mon Dec 18 22:02:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL 1.4.0 beta 2 release date
In-Reply-To: <23e208430612181000t73e5b711n1c74c0ab16b9f775@mail.gmail.com>
References: <23e208430612181000t73e5b711n1c74c0ab16b9f775@mail.gmail.com>
Message-ID: <45875650.7090405@pobox.com>

Dori wrote:
> Hi,
> does anyone know when GDAL 1.4.0 beta2 will be released or if it is 
> already released from where I can download it? I would like to test this 
> release since it fixes a bug I reported.

Dori,

I plan to release it within a day or two.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From jean-claude.repetto at worldonline.fr  Tue Dec 19 07:37:06 2006
From: jean-claude.repetto at worldonline.fr (Jean-Claude Repetto)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Conversion of paletted PNG to ECW does not work
Message-ID: <4587DCF2.6020009@worldonline.fr>

Hello,

When I convert a paletted PNG file to ECW, the resulting image is almost 
black, as if the compression was made using the indexes instead of the 
real colours.

I am using GDAL 1.3.2 on Gentoo-64.
Example:
gdal_translate -of ECW -co "TARGET=94%" -co "DATUM=NTF"  -co 
"PROJ=LM1FRA2D" -a_ullr  a_ullr 970000 1860000 980000 1850000 test.png 
test.ecw

There is no problem with a true colour PNG image.

Is it a known bug ?

Thanks,
Jean-Claude


From jean-claude.repetto at worldonline.fr  Tue Dec 19 08:36:28 2006
From: jean-claude.repetto at worldonline.fr (Jean-Claude Repetto)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Conversion of paletted PNG to ECW does not work
In-Reply-To: <4587DCF2.6020009@worldonline.fr>
References: <4587DCF2.6020009@worldonline.fr>
Message-ID: <4587EADC.3010301@worldonline.fr>

Jean-Claude Repetto wrote :

> gdal_translate -of ECW -co "TARGET=94%" -co "DATUM=NTF"  -co 
> "PROJ=LM1FRA2D" -a_ullr  a_ullr 970000 1860000 980000 1850000 test.png 
> test.ecw

Sorry, there is typo. Please read :
gdal_translate -of ECW -co "TARGET=94%" -co "DATUM=NTF"  -co
"PROJ=LM1FRA2D" -a_ullr 970000 1860000 980000 1850000 test.png test.ecw


From warmerdam at pobox.com  Tue Dec 19 20:27:33 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Conversion of paletted PNG to ECW does not work
In-Reply-To: <4587DCF2.6020009@worldonline.fr>
References: <4587DCF2.6020009@worldonline.fr>
Message-ID: <45889185.5020407@pobox.com>

Jean-Claude Repetto wrote:
> Hello,
> 
> When I convert a paletted PNG file to ECW, the resulting image is almost 
> black, as if the compression was made using the indexes instead of the 
> real colours.
> 
> I am using GDAL 1.3.2 on Gentoo-64.
> Example:
> gdal_translate -of ECW -co "TARGET=94%" -co "DATUM=NTF"  -co 
> "PROJ=LM1FRA2D" -a_ullr  a_ullr 970000 1860000 980000 1850000 test.png 
> test.ecw
> 
> There is no problem with a true colour PNG image.
> 
> Is it a known bug ?

Jean-Claude,

It is a known "feature".

ECW does not support palettes so what you need to do is first convert your
8bit+palette image into a 24bit RGB image.  This can be accomplished using
the pct2rgb.py script if you have a full (python enabled) build of GDAL
such as you get with FWTools.

   pct2rgb.py test.png test24.tif
   gdal_translate ... test24.tif test.ecw

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From fsozzi at intercad.ch  Tue Dec 19 11:06:55 2006
From: fsozzi at intercad.ch (Francesco Sozzi)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] trouble on compiling and using ogr with Oracle Spatial
Message-ID: <00f801c72387$b463b960$2d01a8c0@newsviluppo>

Hi All,

I'm trying to compile ogr with Oracle Spatial.
I changed nmake.opt with the following:

# Add ORACLE support.
ORACLE_HOME = D:\oracle\ora92
!IFDEF ORACLE_HOME
OCI_LIB = $(ORACLE_HOME)\oci\lib\msvc\ociw32.lib \
$(ORACLE_HOME)\oci\lib\msvc\oci.lib
!ENDIF


ORACLE_HOME path is correct.

Then I compiled and I got binaries (such as ogr2ogr.exe).

But if I try to issue a test as 

ogr2ogr -f OCI OCI:scott/tiger@franz C:\App\TI-CantoneSHP\comuni.shp

I get the error "Unable to find driver 'OCI'"

Any suggestions?...

Best regards

Francesco


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061219/b0e14f72/attachment.html
From jean-claude.repetto at worldonline.fr  Tue Dec 19 11:09:57 2006
From: jean-claude.repetto at worldonline.fr (Jean-Claude Repetto)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Conversion of paletted PNG to ECW does not work
In-Reply-To: <45889185.5020407@pobox.com>
References: <4587DCF2.6020009@worldonline.fr> <45889185.5020407@pobox.com>
Message-ID: <45880ED5.8020802@worldonline.fr>

Frank Warmerdam a ?crit :
> Jean-Claude Repetto wrote:
>> Hello,
>>
>> When I convert a paletted PNG file to ECW, the resulting image is 
>> almost black, as if the compression was made using the indexes instead 
>> of the real colours.
>>
>> I am using GDAL 1.3.2 on Gentoo-64.
>> Example:
>> gdal_translate -of ECW -co "TARGET=94%" -co "DATUM=NTF"  -co 
>> "PROJ=LM1FRA2D" -a_ullr  a_ullr 970000 1860000 980000 1850000 test.png 
>> test.ecw
>>
>> There is no problem with a true colour PNG image.
>>
>> Is it a known bug ?
> 
> Jean-Claude,
> 
> It is a known "feature".
> 
> ECW does not support palettes so what you need to do is first convert your
> 8bit+palette image into a 24bit RGB image.  This can be accomplished using
> the pct2rgb.py script if you have a full (python enabled) build of GDAL
> such as you get with FWTools.
> 
>   pct2rgb.py test.png test24.tif
>   gdal_translate ... test24.tif test.ecw
> 
> Best regards,

Hello Frank,

Thanks for your answer. I understand that ECW does not support palettes, 
but I think gdal_translate should :
- either convert the image to 24bit before converting it to ECW
- either print an error message and stop.

Best regards,
Jean-Claude


From warmerdam at pobox.com  Tue Dec 19 20:50:48 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] trouble on compiling and using ogr with Oracle Spatial
In-Reply-To: <00f801c72387$b463b960$2d01a8c0@newsviluppo>
References: <00f801c72387$b463b960$2d01a8c0@newsviluppo>
Message-ID: <458896F8.7060504@pobox.com>

Francesco Sozzi wrote:
> Hi All,
>  
> I'm trying to compile ogr with Oracle Spatial.
> I changed nmake.opt with the following:
>  
> # Add ORACLE support.
> ORACLE_HOME = D:\oracle\ora92
> 
> !IFDEF ORACLE_HOME
> OCI_LIB = $(ORACLE_HOME)\oci\lib\msvc\ociw32.lib \
> $(ORACLE_HOME)\oci\lib\msvc\oci.lib
> !ENDIF
> 
> ORACLE_HOME path is correct.
> 
> Then I compiled and I got binaries (such as ogr2ogr.exe).
> 
> But if I try to issue a test as
> 
> ogr2ogr -f OCI OCI:scott/tiger@franz C:\App\TI-CantoneSHP\comuni.shp
> 
> I get the error "Unable to find driver 'OCI'"

Francesco,

After changing the nmake.opt file, you need to do a "nmake /f makefile.vc
clean" before doing the build again.  Is it possible you missed this step?
By the way, "ogrinfo --formats" should list all the available drivers.  You
can use it to verify you got the OCI driver.

Also be careful that the update GDAL DLL is actually being used, not some
older build of the DLL or copy from some other package.  The easiest way to
verify this is to delete the old one, and verify that ogrinfo can't find a
GDAL DLL.  Then rebuild and replace it, and try again.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From abhay.menon at gmail.com  Tue Dec 19 11:33:15 2006
From: abhay.menon at gmail.com (abhay menon)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] trouble on compiling and using ogr with Oracle Spatial
In-Reply-To: <00f801c72387$b463b960$2d01a8c0@newsviluppo>
References: <00f801c72387$b463b960$2d01a8c0@newsviluppo>
Message-ID: <7a30cd70612190833y4ca64116q12da27e49a0e8c93@mail.gmail.com>

On 12/19/06, Francesco Sozzi <fsozzi@intercad.ch> wrote:
>
>  Hi All,
>
> I'm trying to compile ogr with Oracle Spatial.
> I changed nmake.opt with the following:
>
> # Add ORACLE support.
> ORACLE_HOME = D:\oracle\ora92
>
> !IFDEF ORACLE_HOME
> OCI_LIB = $(ORACLE_HOME)\oci\lib\msvc\ociw32.lib \
> $(ORACLE_HOME)\oci\lib\msvc\oci.lib
> !ENDIF
>
> ORACLE_HOME path is correct.
>
> Then I compiled and I got binaries (such as ogr2ogr.exe).
>
> But if I try to issue a test as
>
> ogr2ogr -f OCI OCI:scott/tiger@franz C:\App\TI-CantoneSHP\comuni.shp
>
> I get the error "Unable to find driver 'OCI'"
>
> Any suggestions?...
>
> Best regards
>
> Francesco
>
>
>
Hello Francesco,
which version of gdal are you compiling.

if you using gdal-1.3.2 or later
comment out : #OCI_PLUGIN = YES
this probably should solve the problem.

-- 
Best Regards

Abhay Menon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061219/b6a23a0e/attachment.html
From warmerdam at pobox.com  Tue Dec 19 21:01:42 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Conversion of paletted PNG to ECW does not work
In-Reply-To: <45880ED5.8020802@worldonline.fr>
References: <4587DCF2.6020009@worldonline.fr> <45889185.5020407@pobox.com>
	<45880ED5.8020802@worldonline.fr>
Message-ID: <45889986.2070901@pobox.com>

Jean-Claude Repetto wrote:
> Hello Frank,
> 
> Thanks for your answer. I understand that ECW does not support palettes, 
> but I think gdal_translate should :
> - either convert the image to 24bit before converting it to ECW
> - either print an error message and stop.

Jean-Claude,

I agree that the ECW CreateCopy() method ought to report at least a warning
that the color table is being ignored.  If you file a bug on this, I can get
it fixed at some point.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From fsozzi at intercad.ch  Tue Dec 19 12:14:20 2006
From: fsozzi at intercad.ch (Francesco Sozzi)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] trouble on using ogr2ogr from Oracle Spatial to shp
References: <00f801c72387$b463b960$2d01a8c0@newsviluppo>
	<458896F8.7060504@pobox.com>
Message-ID: <015301c72391$1fd102d0$2d01a8c0@newsviluppo>

Hi Frank,

Thanks for help, now I compiled fine.

The problem now is using ogr2ogr.
I would like to transform geometries from Oracle Spatial to shp.
If I try with a point layer it works.
But with polylines and polygons I get shp file with data but no geometries..

The command I used is:
ogr2ogr -f "ESRI Shapefile" c:/trash/test2.shp 
OCI:ti_catstrade/avs@franz:IC_AREEVERDI

Please note that this layer passes Oracle validation test and I can open 
with Mapserver.

Any suggestions?...

Bets regards

Francesco

----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam@pobox.com>
To: "Francesco Sozzi" <fsozzi@intercad.ch>
Cc: <gdal-dev@lists.maptools.org>
Sent: Wednesday, December 20, 2006 2:50 AM
Subject: Re: [Gdal-dev] trouble on compiling and using ogr with Oracle 
Spatial


> Francesco Sozzi wrote:
>> Hi All,
>>  I'm trying to compile ogr with Oracle Spatial.
>> I changed nmake.opt with the following:
>>  # Add ORACLE support.
>> ORACLE_HOME = D:\oracle\ora92
>>
>> !IFDEF ORACLE_HOME
>> OCI_LIB = $(ORACLE_HOME)\oci\lib\msvc\ociw32.lib \
>> $(ORACLE_HOME)\oci\lib\msvc\oci.lib
>> !ENDIF
>>
>> ORACLE_HOME path is correct.
>>
>> Then I compiled and I got binaries (such as ogr2ogr.exe).
>>
>> But if I try to issue a test as
>>
>> ogr2ogr -f OCI OCI:scott/tiger@franz C:\App\TI-CantoneSHP\comuni.shp
>>
>> I get the error "Unable to find driver 'OCI'"
>
> Francesco,
>
> After changing the nmake.opt file, you need to do a "nmake /f makefile.vc
> clean" before doing the build again.  Is it possible you missed this step?
> By the way, "ogrinfo --formats" should list all the available drivers. 
> You
> can use it to verify you got the OCI driver.
>
> Also be careful that the update GDAL DLL is actually being used, not some
> older build of the DLL or copy from some other package.  The easiest way 
> to
> verify this is to delete the old one, and verify that ogrinfo can't find a
> GDAL DLL.  Then rebuild and replace it, and try again.
>
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> 


From dsampson at NRCan.gc.ca  Tue Dec 19 17:23:50 2006
From: dsampson at NRCan.gc.ca (Sampson, David)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL_warp output image sizes vary.... Why?
Message-ID: <2FAA57395C1F914DB27CAA4C376058F20168F2A1@S0-OTT-X2.nrn.nrcan.gc.ca>

Hey folks

I am batching the georef of a bunch of images and find GREAT variances
between input and output file sizes....

As the input file size is pretty consistent, and the same X,Y points are
used for GCP's in each image and the outsize option is set for 67%  I
would expect a consisent drop in file sizes.

Why is this not the case? Why do the gdal_warp images maintain their
appropriate file sizes?  And how can I add this condition in?

Note. Images start off as 32 bit and end off at 16bit (there is a 50%
drop already).

I have had cases where the output file is as large as 50 MEGS.... 

Why would the output file be larger than the intermediate file?

Anyone explain this?


This is a sample script

gdal_translate -gcp  12981.31  12074.39 -74.002213  45.584502 -gcp
1248.85  12074.39 -73.976008  45.594211 -gcp  1238.96  341.61 -73.95824
45.570552 -gcp  12981.31  341.61 -73.984438  45.560847 -scale  -ot byte
-outsize  67%% 67%% -a_srs epsg:4326 -mo "Area_or_Point = Area"
A74_001.tif .\work\iA74_001.tif
gdalwarp -t_srs epsg:4326 .\work\iA74_001.tif .\output\oA74_1.tif
gdal_translate -gcp  12981.31  12074.39 -74.020358  45.578035 -gcp
1248.85  12074.39 -73.993978  45.587504 -gcp  1238.96  341.61 -73.976652
45.563685 -gcp  12981.31  341.61 -74.003023  45.55422 -scale  -ot byte
-outsize  67%% 67%% -a_srs epsg:4326 -mo "Area_or_Point = Area"
A74_003.tif .\work\iA74_003.tif
gdalwarp -t_srs epsg:4326 .\work\iA74_003.tif .\output\oA74_3.tif
gdal_translate -gcp  12981.31  12074.39 -74.036225  45.579734 -gcp
1248.85  12074.39 -74.007057  45.583378 -gcp  1238.96  341.61 -74.000396
45.557043 -gcp  12981.31  341.61 -74.029551  45.553401 -scale  -ot byte
-outsize  67%% 67%% -a_srs epsg:4326 -mo "Area_or_Point = Area"
A74_004.tif .\work\iA74_004.tif
gdalwarp -t_srs epsg:4326 .\work\iA74_004.tif .\output\oA74_4.tif
gdal_translate -gcp  12981.31  12074.39 -74.044881  45.581698 -gcp
1248.85  12074.39 -74.015255  45.581771 -gcp  1238.96  341.61 -74.01513
45.555024 -gcp  12981.31  341.61 -74.044742  45.554951 -scale  -ot byte
-outsize  67%% 67%% -a_srs epsg:4326 -mo "Area_or_Point = Area"
A74_005.tif .\work\iA74_005.tif
gdalwarp -t_srs epsg:4326 .\work\iA74_005.tif .\output\oA74_5.tif
gdal_translate -gcp  12981.31  12074.39 -74.06504  45.585733 -gcp
1248.85  12074.39 -74.035766  45.582529 -gcp  1238.96  341.61 -74.041636
45.556102 -gcp  12981.31  341.61 -74.070897  45.559304 -scale  -ot byte
-outsize  67%% 67%% -a_srs epsg:4326 -mo "Area_or_Point = Area"
A74_007.tif .\work\iA74_007.tif
gdalwarp -t_srs epsg:4326 .\work\iA74_007.tif .\output\oA74_7.tif
gdal_translate -gcp  12981.31  12074.39 -74.08218  45.58133 -gcp
1248.85  12074.39 -74.052898  45.584496 -gcp  1238.96  341.61 -74.04711
45.55806 -gcp  12981.31  341.61 -74.076378  45.554894 -scale  -ot byte
-outsize  67%% 67%% -a_srs epsg:4326 -mo "Area_or_Point = Area"
A74_008.tif .\work\iA74_008.tif
gdalwarp -t_srs epsg:4326 .\work\iA74_008.tif .\output\oA74_8.tif
gdal_translate -gcp  12981.31  12074.39 -74.091197  45.582613 -gcp
1248.85  12074.39 -74.061579  45.583126 -gcp  1238.96  341.61 -74.060646
45.556387 -gcp  12981.31  341.61 -74.09025  45.555874 -scale  -ot byte
-outsize  67%% 67%% -a_srs epsg:4326 -mo "Area_or_Point = Area"
A74_009.tif .\work\iA74_009.tif
gdalwarp -t_srs epsg:4326 .\work\iA74_009.tif .\output\oA74_9.tif
gdal_translate -gcp  12981.31  12074.39 -74.102078  45.582808 -gcp
1248.85  12074.39 -74.072451  45.582883 -gcp  1238.96  341.61 -74.072321
45.556136 -gcp  12981.31  341.61 -74.101934  45.556061 -scale  -ot byte
-outsize  67%% 67%% -a_srs epsg:4326 -mo "Area_or_Point = Area"
A74_010.tif .\work\iA74_010.tif
gdalwarp -t_srs epsg:4326 .\work\iA74_010.tif .\output\oA74_10.tif
rmdir /S /Q work
rmdir work



This is a snapshot of input file sizes:
98,402,364 A74_001.tif
98,402,364 A74_003.tif
98,402,364 A74_004.tif
98,402,364 A74_005.tif
98,402,364 A74_006.tif
98,402,364 A74_007.tif
98,402,364 A74_008.tif
98,402,364 A74_009.tif
98,402,364 A74_010.tif


Here is a snapshot of intermediate files sizes.
22,166,568 iA74_001.tif
22,166,568 iA74_003.tif
22,166,568 iA74_004.tif
22,166,568 iA74_005.tif
22,166,568 iA74_007.tif
22,166,568 iA74_008.tif
22,166,568 iA74_009.tif
22,166,568 iA74_010.tif


This is a snapshot of output filesizes.
31,590,866 oA74_1.tif
22,688,710 oA74_10.tif
31,528,630 oA74_3.tif
27,565,240 oA74_4.tif
22,693,186 oA74_5.tif
33,634,388 oA74_7.tif
27,024,772 oA74_8.tif
23,396,196 oA74_9.tif


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061219/f3bff930/attachment.html
From jmckenna at dmsolutions.ca  Tue Dec 19 17:31:35 2006
From: jmckenna at dmsolutions.ca (Jeff McKenna)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Virtual Spatial connection to PostgreSQL ODBC driver
In-Reply-To: <456DDBAD.8030101@dmsolutions.ca>
References: <456DDA28.3040503@dmsolutions.ca> <456DDBAD.8030101@dmsolutions.ca>
Message-ID: <45886847.8040801@dmsolutions.ca>

I had reported this problem to this list a few weeks ago, and left it, 
but now I must solve if for a project.  Does anyone have any ideas?

thanks.

jeff



Jeff McKenna wrote:
> and all information_schema tables have proper column definitions, for 
> example:
> 
>   Table "information_schema.sql_sizing_profiles"
>      Column     |      Type       | Modifiers
> ----------------+-----------------+-----------
>  sizing_id      | cardinal_number |
>  sizing_name    | character_data  |
>  profile_id     | character_data  |
>  required_value | cardinal_number |
>  comments       | character_data  |
> 
> 
> jeff
> 
> 
> 
> 
> Jeff McKenna wrote:
>> I'm attempting to connect to X/Y data stored in a PostgreSQL table (no 
>> geometry) through OGR:ODBC, and getting the following errors:
>>
>>
>> ogrinfo ODBC:@mydsn xxx -summary
>> ERROR 1: No column definitions found for table 'sql_features', layer 
>> not usable.
>>
>> ERROR 1: No column definitions found for table 
>> 'sql_implementation_info', layer
>> not usable.
>> ERROR 1: No column definitions found for table 'sql_languages', layer 
>> not usable
>> .
>> ERROR 1: No column definitions found for table 'sql_packages', layer 
>> not usable.
>>
>> ERROR 1: No column definitions found for table 'sql_sizing', layer not 
>> usable.
>> ERROR 1: No column definitions found for table 'sql_sizing_profiles', 
>> layer not
>> usable.
>> INFO: Open of `ODBC:@mydsn'
>> using driver `ODBC' successful.
>>
>> Layer name: xxx
>> Geometry: Unknown (any)
>> Feature Count: 840
>> Layer SRS WKT:
>> (unknown)
>> nf: Integer (10.0)
>> pe: Integer (10.0)
>> ns: Integer (10.0)
>> nb: Integer (10.0)
>> qc: Integer (10.0)
>> on_: Integer (10.0)
>> ...
>>
>> So for some reason the ODBC:OGR connection cannot find the 
>> information_schema tables, even though they exist, shown here in psql:
>>
>>
>>                         List of relations
>>        Schema       |          Name           | Type  |  Owner
>> --------------------+-------------------------+-------+----------
>>  information_schema | sql_features            | table | postgres
>>  information_schema | sql_implementation_info | table | postgres
>>  information_schema | sql_languages           | table | postgres
>>  information_schema | sql_packages            | table | postgres
>>  information_schema | sql_sizing              | table | postgres
>>  information_schema | sql_sizing_profiles     | table | postgres
>>  public             | xxx                     | table | postgres
>>
>> This becomes a show-stopper when trying to display the layer in 
>> MapServer:
>>
>>   msDrawMap(): Image handling error. Failed to draw layer named 'xxx'. 
>> <br>
>> msOGRFileNextShape(): OGR error. No column definitions found for table 
>> 'sql_sizi
>> ng_profiles', layer not usable. <br>
>>
>> These same errors occur with GDAL 1.3.2 and CVS-head.  I'm connecting 
>> as the postgres user, which owns the information_schema tables and my 
>> x/y table.
>>
>> Anyone see what I am doing wrong?
>>
>> thanks.
>>
>> jeff
>>


-- 
Jeff McKenna
DM Solutions Group Inc.
http://www.dmsolutions.ca

From warmerdam at pobox.com  Wed Dec 20 04:55:10 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL_warp output image sizes vary.... Why?
In-Reply-To: <2FAA57395C1F914DB27CAA4C376058F20168F2A1@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <2FAA57395C1F914DB27CAA4C376058F20168F2A1@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <4589087E.2010100@pobox.com>

Sampson, David wrote:
> Hey folks
> 
> I am batching the georef of a bunch of images and find GREAT variances 
> between input and output file sizes?.
> 
> As the input file size is pretty consistent, and the same X,Y points are 
> used for GCP's in each image and the outsize option is set for 67%  I 
> would expect a consisent drop in file sizes.
> 
> Why is this not the case? Why do the gdal_warp images maintain their 
> appropriate file sizes?  And how can I add this condition in?
> 
> Note. Images start off as 32 bit and end off at 16bit (there is a 50% 
> drop already).
> 
> I have had cases where the output file is as large as 50 MEGS?.
> 
> Why would the output file be larger than the intermediate file?
> 
> Anyone explain this?

Dave,

Can you use the FWTools Shell "tiffinfo" on one of the input files, and one
of the output files?  I suspect the input files are compressed though there
are a few other possible factors.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From huw_lynch at yahoo.com  Tue Dec 19 19:24:17 2006
From: huw_lynch at yahoo.com (Huw Lynch)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] accessing MODIS L1B geolocation data with gdal
Message-ID: <20061220002417.55304.qmail@web51412.mail.yahoo.com>


Sorry if this question has been asked before; I've searched but can't find a full explaination.

I am trying to access geolocation information in MODIS L1B data files. I was hoping that the Latitude and Longitude data sets would be visible via gdalinfo however when I run this those 2 datasets appear to be skipped over.

Here's a gdalinfo output from an example modis data file;

$ gdalinfo MOD03.Terra20061216T021152Z20061216T021611Z.hdf 
Driver: HDF4/Hierarchical Data Format Release 4
Size is 512, 512
Coordinate System is `'
Metadata:
--cut--
  ASSOCIATEDSENSORSHORTNAME=MODIS
  ASSOCIATEDPLATFORMSHORTNAME=Terra
  ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
--cut--
  PROCESSVERSION=5.0.2
--cut--
Subdatasets:
  SUBDATASET_1_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z20061216T021611Z.hdf":MODIS_Swath_Type_GEO:Height
  SUBDATASET_1_DESC=[1620x1354] Height (16-bit integer)
  SUBDATASET_2_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z20061216T021611Z.hdf":MODIS_Swath_Type_GEO:SensorZenith
  SUBDATASET_2_DESC=[1620x1354] SensorZenith (16-bit integer)
  SUBDATASET_3_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z20061216T021611Z.hdf":MODIS_Swath_Type_GEO:SensorAzimuth
  SUBDATASET_3_DESC=[1620x1354] SensorAzimuth (16-bit integer)
  SUBDATASET_4_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z20061216T021611Z.hdf":MODIS_Swath_Type_GEO:Range
  SUBDATASET_4_DESC=[1620x1354] Range (16-bit unsigned integer)
  SUBDATASET_5_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z20061216T021611Z.hdf":MODIS_Swath_Type_GEO:SolarZenith
  SUBDATASET_5_DESC=[1620x1354] SolarZenith (16-bit integer)
  SUBDATASET_6_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z20061216T021611Z.hdf":MODIS_Swath_Type_GEO:SolarAzimuth
  SUBDATASET_6_DESC=[1620x1354] SolarAzimuth (16-bit integer)
  SUBDATASET_7_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z20061216T021611Z.hdf":MODIS_Swath_Type_GEO:Land/SeaMask
  SUBDATASET_7_DESC=[1620x1354] Land/SeaMask (8-bit unsigned integer)
  SUBDATASET_8_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z20061216T021611Z.hdf":MODIS_Swath_Type_GEO:gflags
  SUBDATASET_8_DESC=[1620x1354] gflags (8-bit unsigned integer)

I'm certain that the Latitude and Longitude data is there, because I can see it with hdp;

$ hdp dumpsds -h MOD03.Terra20061216T021152Z20061216T021611Z.hdf
--cut--
Variable Name = Latitude
         Index = 0
         Type= 32-bit floating point
         Ref. = 20
         Rank = 2
         Number of attributes = 3
         Dim0: Name=nscans*10:MODIS_Swath_Type_GEO
                 Size = 1620
                 Scale Type = number-type not set
                 Number of attributes = 0
         Dim1: Name=mframes:MODIS_Swath_Type_GEO
                 Size = 1354
                 Scale Type = number-type not set
                 Number of attributes = 0
         Attr0: Name = units
                 Type = 8-bit signed char 
                 Count= 7
                 Value = degrees

Is there a way to access the Latitude and Longitude data with gdal or do I have to drop down to using the HDF4 library directly?

The frmt_hdf4.html file shipped with gdal includes an example as such;
$ gdalinfo GSUB1.A2001124.0855.003.200219309451.hdf
Driver: HDF4/Hierarchical Data Format Release 4
Size is 512, 512
Coordinate System is `'
Metadata:
  HDFEOSVersion=HDFEOS_V2.7
  Number of Scans=204
  Number of Day mode scans=204
  Number of Night mode scans=0
  Incomplete Scans=0

...a lot of metadata output skipped...

Subdatasets:
  SUBDATASET_1_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:0
  SUBDATASET_1_DESC=[408x271] Latitude (32-bit floating-point)
  SUBDATASET_2_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:1
  SUBDATASET_2_DESC=[408x271] Longitude (32-bit floating-point)
  SUBDATASET_3_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.200219309451.hdf:2
  SUBDATASET_3_DESC=[12x2040x1354] EV_1KM_RefSB (16-bit unsigned integer)
Even if it's not possible to get at the lat/lon data with gdal, I'm interested in understanding why it doesn't work.

Cheers & thanks

Huw Lynch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061219/5b801332/attachment.html
From warmerdam at pobox.com  Wed Dec 20 07:06:56 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] accessing MODIS L1B geolocation data with gdal
In-Reply-To: <20061220002417.55304.qmail@web51412.mail.yahoo.com>
References: <20061220002417.55304.qmail@web51412.mail.yahoo.com>
Message-ID: <45892760.9020509@pobox.com>

Huw Lynch wrote:
> 
> Sorry if this question has been asked before; I've searched but can't 
> find a full explaination.
> 
> I am trying to access geolocation information in MODIS L1B data files. I 
> was hoping that the Latitude and Longitude data sets would be visible 
> via gdalinfo however when I run this those 2 datasets appear to be 
> skipped over.
> 
> Here's a gdalinfo output from an example modis data file;

Huw,

Try a gdalinfo on one of the subdatasets.  If things are setup properly,
and you have a very recent build of GDAL you should see something about
geolocation data with subdataset pointers to the lat and long arrays.

You might need to add "-mdd geolocation" to the gdalinfo commandline, and
might need to use the most recent FWTools release if you are working with
GDAL 1.3.2.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Wed Dec 20 07:11:22 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Re: trouble on using ogr2ogr from Oracle Spatial to shp
In-Reply-To: <015301c72391$1fd102d0$2d01a8c0@newsviluppo>
References: <00f801c72387$b463b960$2d01a8c0@newsviluppo>
	<458896F8.7060504@pobox.com>
	<015301c72391$1fd102d0$2d01a8c0@newsviluppo>
Message-ID: <4589286A.3030701@pobox.com>

Francesco Sozzi wrote:
> Hi Frank,
> 
> Thanks for help, now I compiled fine.
> 
> The problem now is using ogr2ogr.
> I would like to transform geometries from Oracle Spatial to shp.
> If I try with a point layer it works.
> But with polylines and polygons I get shp file with data but no 
> geometries..
> 
> The command I used is:
> ogr2ogr -f "ESRI Shapefile" c:/trash/test2.shp 
> OCI:ti_catstrade/avs@franz:IC_AREEVERDI
> 
> Please note that this layer passes Oracle validation test and I can open 
> with Mapserver.

Francesco,

Sorry, i've got not idea.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Wed Dec 20 01:16:51 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL 1.4.0Beta2 Released
Message-ID: <4588D553.3080706@pobox.com>

Folks,

I have cut a beta2 release tonight.  This includes a few bug fixes and
improvements since beta1.  It also includes a NEWS file update since 1.3.2.
The beta2 can be fetched from:

   http://www.gdal.org/dl/gdal-1.4.0beta2.tar.gz
   http://www.gdal.org/dl/gdal140beta2.zip

I'll try and prepare an FWTools release corresponding to it tomorrow.

The NEWS for 1.4.0 looks like this:

GDAL/OGR 1.4.0 - General Changes
--------------------------------

Perl Bindings:
  - Added doxygen based documentation.

NG Python Bindings:
  - Implemented numpy support.

CSharp Bindings:
  - Now mostly operational.

WinCE Porting:
  - CPL
  - base OGR, OSR and mitab and shape drivers.
  - GDAL, including GeoTIFF, DTED, AAIGrid drivers
  - Added test suite (gdalautotest/cpp)

Mac OSX Port:
  - Added framework support (--with-macosx-framework)



GDAL 1.4.0 - Overview Of Changes
--------------------------------

WCS Driver:
  - New

PDS (Planetary Data Set) Driver:
  - New

ISIS (Mars Qubes) Driver:
  - New

HFA (.img) Driver:
  - Support reading ProjectionX PE strings.
  - Support producing .aux files with statistics.
  - Fix serious bugs with u1, u2 and u4 compressed data.

NITF Driver:
  - Added BLOCKA reading support.
  - Added ICORDS='D'
  - Added jpeg compression support (readonly)
  - Support multiple images as subdatasets.
  - Support CGM data (as metadata)

AIGrid Driver:
  - Use VSI*L API (large files, in memory, etc)
  - Support upper case filenames.
  - Support .clr file above coverage.

HDF4 Driver:
  - Added support for access to geolocation arrays (see RFC 4).
  - External raw raster bands supported.

PCIDSK (.pix) Driver:
  - Support METER/FEET as LOCAL_CS.
  - Fix serious byte swapping error on creation.

BMP Driver:
  - Various fixes, including 16bit combinations, and non-intel byte swapping.

GeoTIFF Driver:
  - Fixed in place update for LZW and Deflated compressed images.

JP2KAK (JPEG2000) Driver:
  - Added support for reading and writing gmljp2 headers.
  - Read xml boxes as metadata.
  - Accelerate YCbCr handling.

JP2MrSID (JPEG2000) Driver:
  - Added support for reading gmljp2 headers.

EHDR (ESRI BIL) Driver:
  - Support 1-7 bit data.
  - Added statistics support.


OGR 1.4.0 - Overview of Changes
-------------------------------

OGR SQL:
  - RFC 6: Added support for SQL/attribute filter access to geometry, and
    style strings.

OGRSpatialReference:
  - Support for OGC SRS URNs.
  - Support for +wktext/EXTENSION stuff for preserving PROJ.4 string in WKT.
  - Added Two Point Equidistant projection.
  - Added Krovak projection.
  - Updated support files to EPSG 6.11.

OGRCoordinateTransformation:
  - Support source and destination longitude wrapping control.

OGRFeatureStyle:
  - Various extensions and improvements.

INFORMIX Driver:
  - New

KML Driver:
  - New (write only)

E00 Driver:
  - New (read only)
  - Polygon (PAL) likely not working properly.

Postgres/PostGIS Driver:
  - Updated to support new EWKB results (PostGIS 1.1?)
  - Fixed serious bug with writing SRSes.
  - Added schema support.

GML Driver:
  - Strip namespaces off field names.
  - Handle very large geometries gracefully.

ODBC Driver:
  - Added support for spatial_ref_sys table.

SDE Driver:
  - Added logic to speed things up while actually detecting layer geometry types

PGeo Driver:
  - Added support for MDB Tools ODBC driver on linux/unix.

VRT Driver:
  - Added useSpatialSubquery support.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From dsampson at NRCan.gc.ca  Wed Dec 20 08:05:34 2006
From: dsampson at NRCan.gc.ca (Sampson, David)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL_warp output image sizes vary.... Why?
In-Reply-To: <4589087E.2010100@pobox.com>
Message-ID: <2FAA57395C1F914DB27CAA4C376058F20168F2D9@S0-OTT-X2.nrn.nrcan.gc.ca>

List,

Here are some of the results of tiffinfo.

Sorry about incorrect info. I meant the image starts at 16 bit and ends
off as 8 bit.

Here are the appropriate outputs

Cheers

Input file:
============
>tiffinfo A74_001.tif
TIFF Directory at offset 0x8 (8)
  Subfile Type: (0 = 0x0)
  Image Width: 6243 Image Length: 7881
  Resolution: 800, 800 pixels/inch
  Bits/Sample: 16
  Compression Scheme: None
  Photometric Interpretation: min-is-black
  Samples/Pixel: 1
  Rows/Strip: 7881
  Planar Configuration: single image plane
  Page Number: 0-0

Intermediate:
==============
>tiffinfo iA74_001.tif
TIFFReadDirectory: Warning, iA74_001.tif: unknown field with tag 33922
(0x8482) encountered.
TIFFReadDirectory: Warning, iA74_001.tif: unknown field with tag 34735
(0x87af) encountered.
TIFFReadDirectory: Warning, iA74_001.tif: unknown field with tag 34737
(0x87b1) encountered.
TIFFReadDirectory: Warning, iA74_001.tif: unknown field with tag 42112
(0xa480) encountered.
TIFF Directory at offset 0x15194f8 (22123768)
  Image Width: 4182 Image Length: 5280
  Resolution: 800, 800 pixels/inch
  Bits/Sample: 8
  Sample Format: unsigned integer
  Compression Scheme: None
  Photometric Interpretation: min-is-black
  Samples/Pixel: 1
  Rows/Strip: 1
  Planar Configuration: single image plane
  Tag 33922:
12981.310000,12074.390000,0.000000,-74.002213,45.584502,0.000000,1248.85
0000,12074.390000,0.000000,-73.976008,45.594211,0.000000,1238.960000,3
41.610000,0.000000,-73.958240,45.570552,0.000000,12981.310000,341.610000
,0.000000,-73.984438,45.560847,0.000000
  Tag 34735:
1,1,0,5,1024,0,1,2,1025,0,1,1,2048,0,1,4326,2049,34737,7,0,2054,0,1,9102
  Tag 34737: WGS 84|
  Tag 42112: <GDALMetadata>
  <Item name="Area_or_Point ">Area</Item>
</GDALMetadata>

Output Final:
==============
>tiffinfo oA74_1.tif
TIFFReadDirectory: Warning, oA74_1.tif: unknown field with tag 33550
(0x830e) encountered.
TIFFReadDirectory: Warning, oA74_1.tif: unknown field with tag 33922
(0x8482) encountered.
TIFFReadDirectory: Warning, oA74_1.tif: unknown field with tag 34735
(0x87af) encountered.
TIFFReadDirectory: Warning, oA74_1.tif: unknown field with tag 34737
(0x87b1) encountered.
TIFF Directory at offset 0x1519352 (22123346)
  Image Width: 4182 Image Length: 5280
  Bits/Sample: 8
  Sample Format: unsigned integer
  Compression Scheme: None
  Photometric Interpretation: min-is-black
  Samples/Pixel: 1
  Rows/Strip: 1
  Planar Configuration: single image plane
  Tag 33550: 0.000004,0.000003,0.000000
  Tag 33922: 0.000000,0.000000,0.000000,-73.972278,45.581539,0.000000
  Tag 34735:
1,1,0,5,1024,0,1,2,1025,0,1,1,2048,0,1,4326,2049,34737,7,0,2054,0,1,9102
  Tag 34737: WGS 84|


 

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: December 20, 2006 04:55
To: Sampson, David
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] GDAL_warp output image sizes vary.... Why?

Sampson, David wrote:
> Hey folks
> 
> I am batching the georef of a bunch of images and find GREAT variances

> between input and output file sizes....
> 
> As the input file size is pretty consistent, and the same X,Y points 
> are used for GCP's in each image and the outsize option is set for 67%

> I would expect a consisent drop in file sizes.
> 
> Why is this not the case? Why do the gdal_warp images maintain their 
> appropriate file sizes?  And how can I add this condition in?
> 
> Note. Images start off as 32 bit and end off at 16bit (there is a 50% 
> drop already).
> 
> I have had cases where the output file is as large as 50 MEGS....
> 
> Why would the output file be larger than the intermediate file?
> 
> Anyone explain this?

Dave,

Can you use the FWTools Shell "tiffinfo" on one of the input files, and
one of the output files?  I suspect the input files are compressed
though there are a few other possible factors.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo,
http://osgeo.org



From ILucena at clarku.edu  Wed Dec 20 10:03:27 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] accessing MODIS L1B geolocation data with gdal
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455025428D8@Iris.ad.clarku.edu>

> Is there a way to access the Latitude and Longitude data with gdal or
do I have to drop down to using the HDF4 library directly?
There is several ways to query and hide information inside a HDF4 file
and unfortunately the data providers know that ;-). So if you are going
to write your own code, check out the return of SWinqgeofields, if
returns something other then zero it means that you will not find a
"Latitude" and "Longitude" subdataset to read the geolocation from. Not
with that name "Latitude" and "Longitude" but with the names that
SWinqgeofields  'returns' in the second parameter. Good luck

________________________________

From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Huw Lynch
Sent: Tuesday, December 19, 2006 7:24 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] accessing MODIS L1B geolocation data with gdal

 


Sorry if this question has been asked before; I've searched but can't
find a full explaination.

I am trying to access geolocation information in MODIS L1B data files. I
was hoping that the Latitude and Longitude data sets would be visible
via gdalinfo however when I run this those 2 datasets appear to be
skipped over.

Here's a gdalinfo output from an example modis data file;

$ gdalinfo MOD03.Terra20061216T021152Z20061216T021611Z.hdf 
Driver: HDF4/Hierarchical Data Format Release 4
Size is 512, 512
Coordinate System is `'
Metadata:
--cut--
  ASSOCIATEDSENSORSHORTNAME=MODIS
  ASSOCIATEDPLATFORMSHORTNAME=Terra
  ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
--cut--
  PROCESSVERSION=5.0.2
--cut--
Subdatasets:
 
SUBDATASET_1_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z2006121
6T021611Z.hdf":MODIS_Swath_Type_GEO:Height
  SUBDATASET_1_DESC=[1620x1354] Height (16-bit integer)
 
SUBDATASET_2_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z2006121
6T021611Z.hdf":MODIS_Swath_Type_GEO:SensorZenith
  SUBDATASET_2_DESC=[1620x1354] SensorZenith (16-bit integer)
 
SUBDATASET_3_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z2006121
6T021611Z.hdf":MODIS_Swath_Type_GEO:SensorAzimuth
  SUBDATASET_3_DESC=[1620x1354] SensorAzimuth (16-bit integer)
 
SUBDATASET_4_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z2006121
6T021611Z.hdf":MODIS_Swath_Type_GEO:Range
  SUBDATASET_4_DESC=[1620x1354] Range (16-bit unsigned integer)
 
SUBDATASET_5_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z2006121
6T021611Z.hdf":MODIS_Swath_Type_GEO:SolarZenith
  SUBDATASET_5_DESC=[1620x1354] SolarZenith (16-bit integer)
 
SUBDATASET_6_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z2006121
6T021611Z.hdf":MODIS_Swath_Type_GEO:SolarAzimuth
  SUBDATASET_6_DESC=[1620x1354] SolarAzimuth (16-bit integer)
 
SUBDATASET_7_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z2006121
6T021611Z.hdf":MODIS_Swath_Type_GEO:Land/SeaMask
  SUBDATASET_7_DESC=[1620x1354] Land/SeaMask (8-bit unsigned integer)
 
SUBDATASET_8_NAME=HDF4_EOS:EOS_SWATH:"MOD03.Terra20061216T021152Z2006121
6T021611Z.hdf":MODIS_Swath_Type_GEO:gflags
  SUBDATASET_8_DESC=[1620x1354] gflags (8-bit unsigned integer)

I'm certain that the Latitude and Longitude data is there, because I can
see it with hdp;

$ hdp dumpsds -h MOD03.Terra20061216T021152Z20061216T021611Z.hdf
--cut--
Variable Name = Latitude
         Index = 0
         Type= 32-bit floating point
         Ref. = 20
         Rank = 2
         Number of attributes = 3
         Dim0: Name=nscans*10:MODIS_Swath_Type_GEO
                 Size = 1620
                 Scale Type = number-type not set
                 Number of attributes = 0
         Dim1: Name=mframes:MODIS_Swath_Type_GEO
                 Size = 1354
                 Scale Type = number-type not set
                 Number of attributes = 0
         Attr0: Name = units
                 Type = 8-bit signed char 
                 Count= 7
                 Value = degrees

Is there a way to access the Latitude and Longitude data with gdal or do
I have to drop down to using the HDF4 library directly?

The frmt_hdf4.html file shipped with gdal includes an example as such;

$ gdalinfo GSUB1.A2001124.0855.003.200219309451.hdf

Driver:
 HDF4/Hierarchical Data Format Release 4

Size is 512, 512

Coordinate System is `'

Metadata:

  HDFEOSVersion=HDFEOS_V2.7

  Number of Scans=204

  Number of Day mode scans=204

  Number of Night mode scans=0

  Incomplete Scans=0

...a lot of metadata output skipped...

Subdatasets:

 
SUBDATASET_1_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.20021930945
1.hdf:0

  SUBDATASET_1_DESC=[408x271] Latitude (32-bit floating-point)

 
SUBDATASET_2_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.20021930945
1.hdf:1

  SUBDATASET_2_DESC=[408x271] Longitude (32-bit floating-point)

 
SUBDATASET_3_NAME=HDF4_SDS:MODIS_L1B:GSUB1.A2001124.0855.003.20021930945
1.hdf:2

  SUBDATASET_3_DESC=[12x2040x1354] EV_1KM_RefSB (16-bit unsigned
integer)


Even if it's not possible to get at the lat/lon data with gdal, I'm
interested in understanding why it doesn't work.

Cheers & thanks

Huw Lynch

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061220/e09dbc3b/attachment.html
From hobu at iastate.edu  Wed Dec 20 10:28:58 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL 1.4.0Beta2 Released
In-Reply-To: <4588D553.3080706@pobox.com>
References: <4588D553.3080706@pobox.com>
Message-ID: <6.2.3.4.2.20061220092704.033be708@hobu.mail.iastate.edu>

One note that missed the NEWS file is I have done my best to 
implement $(DESTDIR) support when implementing the OSX Framework 
build stuff.  I've noticed that there are a number of distribution 
packagers that have been maintaining their own patchsets to inject 
$(DESTDIR) support.  Thorough testing of these changes and any notes 
related to items that may have been missed would be appreciated.

Howard

At 12:16 AM 12/20/2006, Frank Warmerdam wrote:
>Folks,
>
>I have cut a beta2 release tonight.  This includes a few bug fixes and
>improvements since beta1.  It also includes a NEWS file update since 1.3.2.
>The beta2 can be fetched from:
>
>   http://www.gdal.org/dl/gdal-1.4.0beta2.tar.gz
>   http://www.gdal.org/dl/gdal140beta2.zip
>
>I'll try and prepare an FWTools release corresponding to it tomorrow.
>
>The NEWS for 1.4.0 looks like this:
>
>GDAL/OGR 1.4.0 - General Changes
>--------------------------------
>
>Perl Bindings:
>  - Added doxygen based documentation.
>
>NG Python Bindings:
>  - Implemented numpy support.
>
>CSharp Bindings:
>  - Now mostly operational.
>
>WinCE Porting:
>  - CPL
>  - base OGR, OSR and mitab and shape drivers.
>  - GDAL, including GeoTIFF, DTED, AAIGrid drivers
>  - Added test suite (gdalautotest/cpp)
>
>Mac OSX Port:
>  - Added framework support (--with-macosx-framework)
>
>
>
>GDAL 1.4.0 - Overview Of Changes
>--------------------------------
>
>WCS Driver:
>  - New
>
>PDS (Planetary Data Set) Driver:
>  - New
>
>ISIS (Mars Qubes) Driver:
>  - New
>
>HFA (.img) Driver:
>  - Support reading ProjectionX PE strings.
>  - Support producing .aux files with statistics.
>  - Fix serious bugs with u1, u2 and u4 compressed data.
>
>NITF Driver:
>  - Added BLOCKA reading support.
>  - Added ICORDS='D'
>  - Added jpeg compression support (readonly)
>  - Support multiple images as subdatasets.
>  - Support CGM data (as metadata)
>
>AIGrid Driver:
>  - Use VSI*L API (large files, in memory, etc)
>  - Support upper case filenames.
>  - Support .clr file above coverage.
>
>HDF4 Driver:
>  - Added support for access to geolocation arrays (see RFC 4).
>  - External raw raster bands supported.
>
>PCIDSK (.pix) Driver:
>  - Support METER/FEET as LOCAL_CS.
>  - Fix serious byte swapping error on creation.
>
>BMP Driver:
>  - Various fixes, including 16bit combinations, and non-intel byte swapping.
>
>GeoTIFF Driver:
>  - Fixed in place update for LZW and Deflated compressed images.
>
>JP2KAK (JPEG2000) Driver:
>  - Added support for reading and writing gmljp2 headers.
>  - Read xml boxes as metadata.
>  - Accelerate YCbCr handling.
>
>JP2MrSID (JPEG2000) Driver:
>  - Added support for reading gmljp2 headers.
>
>EHDR (ESRI BIL) Driver:
>  - Support 1-7 bit data.
>  - Added statistics support.
>
>
>OGR 1.4.0 - Overview of Changes
>-------------------------------
>
>OGR SQL:
>  - RFC 6: Added support for SQL/attribute filter access to geometry, and
>    style strings.
>
>OGRSpatialReference:
>  - Support for OGC SRS URNs.
>  - Support for +wktext/EXTENSION stuff for preserving PROJ.4 string in WKT.
>  - Added Two Point Equidistant projection.
>  - Added Krovak projection.
>  - Updated support files to EPSG 6.11.
>
>OGRCoordinateTransformation:
>  - Support source and destination longitude wrapping control.
>
>OGRFeatureStyle:
>  - Various extensions and improvements.
>
>INFORMIX Driver:
>  - New
>
>KML Driver:
>  - New (write only)
>
>E00 Driver:
>  - New (read only)
>  - Polygon (PAL) likely not working properly.
>
>Postgres/PostGIS Driver:
>  - Updated to support new EWKB results (PostGIS 1.1?)
>  - Fixed serious bug with writing SRSes.
>  - Added schema support.
>
>GML Driver:
>  - Strip namespaces off field names.
>  - Handle very large geometries gracefully.
>
>ODBC Driver:
>  - Added support for spatial_ref_sys table.
>
>SDE Driver:
>  - Added logic to speed things up while actually detecting layer 
> geometry types
>
>PGeo Driver:
>  - Added support for MDB Tools ODBC driver on linux/unix.
>
>VRT Driver:
>  - Added useSpatialSubquery support.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From daniel112b at gmail.com  Wed Dec 20 11:08:26 2006
From: daniel112b at gmail.com (Daniel)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] WMO raster format
In-Reply-To: <45626633.8070106@pobox.com>
References: <6FD7C9DB26540B42A1207C69BF92D4550225594D@Iris.ad.clarku.edu>
	<45626633.8070106@pobox.com>
Message-ID: <962626470612200808x43a04616n3079c3ca52182902@mail.gmail.com>

Hi Frank,

How does the plan for GRIB look, if there even is a plan? Any time frames?

Best Regards,
  Daniel

On 11/21/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ivan Lucena wrote:
> > - Does anybody know how to import/export this raster format?
> > "GRIB is the World Meteorological Organization's (WMO) standard for
> > grid-based meteorological data."
>
> Ivan,
>
> GRIB is not currently supported by GDAL though it is possible it will be
> added in the not too distant future.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>

From warmerdam at pobox.com  Wed Dec 20 12:20:18 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] WMO raster format
In-Reply-To: <962626470612200808x43a04616n3079c3ca52182902@mail.gmail.com>
References: <6FD7C9DB26540B42A1207C69BF92D4550225594D@Iris.ad.clarku.edu>
	<45626633.8070106@pobox.com>
	<962626470612200808x43a04616n3079c3ca52182902@mail.gmail.com>
Message-ID: <458970D2.1040403@pobox.com>

Daniel wrote:
> Hi Frank,
> 
> How does the plan for GRIB look, if there even is a plan? Any time frames?

Daniel,

Bas Retsios from ITC was already working on a driver as it turns out, and
has agreed to help us incorporate it into the core.  So it won't be in
GDAL/OGR 1.4.0, but I think it will be incorporated into the 1.5.0
stream once 1.4.0 is out.  If practical, it might even be retrofit into
a 1.4.1 release.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Wed Dec 20 13:10:23 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL_warp output image sizes vary.... Why?
In-Reply-To: <2FAA57395C1F914DB27CAA4C376058F20168F2D9@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <2FAA57395C1F914DB27CAA4C376058F20168F2D9@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <45897C8F.20100@pobox.com>

Sampson, David wrote:
> List,
> 
> Here are some of the results of tiffinfo.
> 
> Sorry about incorrect info. I meant the image starts at 16 bit and ends
> off as 8 bit.
> 
> Here are the appropriate outputs

Dave,

Despite my hopes, there is nothing like compression to explain this.

If you can supply me with an input file, a gdal_translate or gdalwarp
commandline and the output file you get that is noticably larger I can
look into this in more detail.  It is not at all obvious why this
should be happening.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From dsampson at NRCan.gc.ca  Wed Dec 20 15:26:56 2006
From: dsampson at NRCan.gc.ca (Sampson, David)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL_warp output image sizes vary.... Why?
In-Reply-To: <45897C8F.20100@pobox.com>
Message-ID: <2FAA57395C1F914DB27CAA4C376058F20168F554@S0-OTT-X2.nrn.nrcan.gc.ca>

 Frank,


For the time being I am using the -ts option and defining the outpout
file size. Not the cleanest fix but will work for my next release.

If nothing jumps out at you right now, perhaps I might be able to line
up some test images in the new year for you.

Maybe around the same time we can look closer at the gdal_Translate
buggs with the GCP's.

Thanks for the response. At least I'm not missing something obvious.

Cheers

Happy holidays.



-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: December 20, 2006 13:10
To: Sampson, David
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] GDAL_warp output image sizes vary.... Why?

Sampson, David wrote:
> List,
> 
> Here are some of the results of tiffinfo.
> 
> Sorry about incorrect info. I meant the image starts at 16 bit and 
> ends off as 8 bit.
> 
> Here are the appropriate outputs

Dave,

Despite my hopes, there is nothing like compression to explain this.

If you can supply me with an input file, a gdal_translate or gdalwarp
commandline and the output file you get that is noticably larger I can
look into this in more detail.  It is not at all obvious why this should
be happening.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo,
http://osgeo.org



From warmerdam at pobox.com  Wed Dec 20 17:03:13 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL_warp output image sizes vary.... Why?
In-Reply-To: <2FAA57395C1F914DB27CAA4C376058F20168F554@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <2FAA57395C1F914DB27CAA4C376058F20168F554@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <4589B321.7010405@pobox.com>

Sampson, David wrote:
>  Frank,
> 
> 
> For the time being I am using the -ts option and defining the outpout
> file size. Not the cleanest fix but will work for my next release.
> 
> If nothing jumps out at you right now, perhaps I might be able to line
> up some test images in the new year for you.
> 
> Maybe around the same time we can look closer at the gdal_Translate
> buggs with the GCP's.
> 
> Thanks for the response. At least I'm not missing something obvious.

Dave,

For the early January OSGeo meeting, I'd be willing to come in to your
office to look at this issue more closely if you would like.  If so,
when it gets closer we can plan out a visit.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Thu Dec 21 01:57:54 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] FWTools 1.1.2 Release
Message-ID: <458A3072.5040209@pobox.com>

Folks,

I have produced an FWTools release for linux and windows that corresponds
closely with the GDAL 1.4.0 Beta2 release.

   http://www.gdal.org/dl/fwtools/FWTools-linux-1.1.2.tar.gz
   http://www.gdal.org/dl/fwtools/FWTools112.exe

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From daniel112b at gmail.com  Thu Dec 21 04:21:30 2006
From: daniel112b at gmail.com (Daniel)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] WMO raster format
In-Reply-To: <458970D2.1040403@pobox.com>
References: <6FD7C9DB26540B42A1207C69BF92D4550225594D@Iris.ad.clarku.edu>
	<45626633.8070106@pobox.com>
	<962626470612200808x43a04616n3079c3ca52182902@mail.gmail.com>
	<458970D2.1040403@pobox.com>
Message-ID: <962626470612210121q7f3e317cqb194f3c175eebdb1@mail.gmail.com>

Frank,

That sounds good to me.

Thanks,
    Daniel

On 12/20/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Daniel wrote:
> > Hi Frank,
> >
> > How does the plan for GRIB look, if there even is a plan? Any time frames?
>
> Daniel,
>
> Bas Retsios from ITC was already working on a driver as it turns out, and
> has agreed to help us incorporate it into the core.  So it won't be in
> GDAL/OGR 1.4.0, but I think it will be incorporated into the 1.5.0
> stream once 1.4.0 is out.  If practical, it might even be retrofit into
> a 1.4.1 release.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>

From jean-claude.repetto at worldonline.fr  Thu Dec 21 08:27:49 2006
From: jean-claude.repetto at worldonline.fr (Jean-Claude Repetto)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Problem with MapInfo file and NTF system
Message-ID: <458A8BD5.1010100@worldonline.fr>

Hello,

I have downloaded a vectorial map of France in MapInfo format (freely 
available from the IGN website at 
<http://www.ign.fr/telechargement/MPro/produit/GEOFLA_Dep/GEOFLA-dep-L2-MM.ZIP>
).

I am trying to convert it to WGS84 with ogr2ogr, but the result is 
wrong, the longitudes have an offset of 2.33? (corresponding to the 
Paris prime meridian).

The original file contains this definition of CS and projection :

CoordSys Earth Projection 3, 1002, "m", 0, 46.8, 45.898918964419, 
47.696014502038, 600000, 2200000 Bounds (-113967455.417, -
106367759.649) (115167455.417, 122767151.185)

Projection type 3 = Lambert Conformal Conic
Datum 1002 = datum name: Nouvelle Triangulation Francaise (NTF) Paris 
Prime Meridian
             Area: France
             Ellipsoid: Modified Clarke 1880

But ogrinfo gives that information :

Layer SRS WKT:
PROJCS["unnamed",
     GEOGCS["unnamed",
         DATUM["NTF_Paris_Meridian",
             SPHEROID["Clarke 1880 (modified for 
IGN)",6378249.2,293.4660213],
             TOWGS84[-168,-60,320,-0,-0,-0,0]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Lambert_Conformal_Conic_2SP"],
     PARAMETER["standard_parallel_1",45.898918964419],
     PARAMETER["standard_parallel_2",47.696014502038],
     PARAMETER["latitude_of_origin",46.8],
     PARAMETER["central_meridian",0],
     PARAMETER["false_easting",600000],
     PARAMETER["false_northing",2200000],
     UNIT["Meter",1]]

Shouldn't the central_meridian be equal to 2.33? ?
(I am using GDAL 1.3.2).

Regards,
Jean-Claude


From jean-claude.repetto at worldonline.fr  Thu Dec 21 12:12:18 2006
From: jean-claude.repetto at worldonline.fr (Jean-Claude Repetto)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Problem with MapInfo file and NTF system
In-Reply-To: <458AB4DD.9060309@pobox.com>
References: <458A8BD5.1010100@worldonline.fr> <458AB4DD.9060309@pobox.com>
Message-ID: <458AC072.7070307@worldonline.fr>

Frank Warmerdam a ?crit :
> Jean-Claude Repetto wrote:
>> Hello,
>>
>> I have downloaded a vectorial map of France in MapInfo format (freely 
>> available from the IGN website at 
>> <http://www.ign.fr/telechargement/MPro/produit/GEOFLA_Dep/GEOFLA-dep-L2-MM.ZIP> 
>>
>> ).
>>
>> I am trying to convert it to WGS84 with ogr2ogr, but the result is 
>> wrong, the longitudes have an offset of 2.33? (corresponding to the 
>> Paris prime meridian).
> 
> Jean-Claude,
> 
> There have been some significant fixes related to prime meridians in 
> GDAL/OGR
> and PROJ this year, so I'd appreciate your verifying the problem with a 
> 1.4.0
> beta build of GDAL and PROJ 1.5.0.  One easy way is to use FWTools:
> 
>   http://fwtools.maptools.org/
> 
> If the problem is still present then please file a bug on the issue.  I
> believe I did not take into announce prime meridians when writing the
> spatial reference code for the mapinfo driver, so that is likely the 
> problem.
> 
> Best regards,

The problem is still present with GDAL 1.4.0beta2 and PROJ 1.5.0.
I have filed a bug 
(<http://bugzilla.remotesensing.org/show_bug.cgi?id=1416>)

Best regards,

From izzybitsie at gmail.com  Thu Dec 21 13:33:14 2006
From: izzybitsie at gmail.com (Dori)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] gdal_merge.py Gtiff files with -pct losing color
In-Reply-To: <45787E83.3020905@pobox.com>
References: <23e208430611291114v1f536f19td82af47081121a48@mail.gmail.com>
	<23e208430612060902s1b106114h41e1f38a82cd9e05@mail.gmail.com>
	<45771352.7070507@gov.yk.ca> <45786673.60907@pobox.com>
	<23e208430612071217o7d8c3215i50b994b30cde18d6@mail.gmail.com>
	<45787E83.3020905@pobox.com>
Message-ID: <23e208430612211033u4da60584q3c13714abcb64ef5@mail.gmail.com>

Frank,

the new version of FWTools downloaded today still doesn't solve this bug
reported.  I used gdal_1.4.0beta2 newly released along with gdal_merge.py to
compose using "-pct" option and the same satellite input images, but I still
get a black image.
The 2 files I am trying to compose can be found in:
http://www.mediamax.com/izzybitsie/Hosted/AS_GMSSO_00_20061122205634.tif
http://www.mediamax.com/izzybitsie/Hosted/AS_GMSNO_00_20061122205548.tif.gz

Thanks

Happy Holidays!!!!!

On 12/7/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> Dori wrote:
> > Frank,
> >
> > I will report the bug if you tell me what exactly I should report as the
>
> > bug.  Is it the fact that the library is counting on Geotiffs to be
> > created with the proper TIFF color table?
> >
> > I really think this is a problem with the type of input maps I am using.
> > I was assured by the third party software company  used to generate the
> > input maps that their gtiffs were compliant with: Geotiff version 1.0
> > specification
> > (http://www.remotesensing.org/geotiff/spec/geotiffhome.html ) after I
> > asked them about the differences for image info I got using gdal and
> > imagemagick for the input images.
>
> Isadora,
>
> The problem is not the geotiff tags, but an aspect of the underyling
> TIFF.  The bug looks fine.  I'll try and have it fixed by the  next
> GDAL 1.4.0 beta (hopefully with a corresponding FWTools release).
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
>
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> <http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061221/c3b4e8ce/attachment.html
From warmerdam at pobox.com  Thu Dec 21 23:33:35 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] BigTIFF Implementation Project - Seeking One Additional
	Sponsor
Message-ID: <458B601F.9000204@pobox.com>

Folks,

GeoTIFF has been one of the most successful geospatial imaging formats since
it's inception over ten years ago as an extension to TIFF.

However, the underlying TIFF format suffers from a size limit of 4GB.
As time passes computing resources improve, and image data quantities
balloon.  The 4GB limitations has become an increasing problem for our
industry.

In an effort to rectify this the TIFF user community on the TIFF mailing
list developed a specification for an extension to TIFF to use 64bit offsets
within a new variation of the format now referred to as BigTIFF.  This allows
file sizes up to 18000 petabytes, effectively infinite.  This specification
was developed with input from a variety of sources, including users of the
libtiff library, representatives of Adobe (the owner of the TIFF specification)
and developers of other TIFF codecs.

The BigTIFF specification has been successfully implemented in one proprietary
library from Aware Systems.  However, the libtiff development team has not been
able to find the several months of development time required to implement
support for BigTIFF in the libtiff library (used by libgeotiff, GDAL,
MapServer, etc).

Joris van Damme of Aware Systems (also a frequent contributor to libtiff and
the TIFF mailing list) has agreed to implement a BigTIFF upgrade for libtiff
if reasonable financial support can be found for the project.  To that
end the "BigTIFF Sponsorship" effort was launched.  It is described at:

   http://libtiff.maptools.org/BigTIFFProposal.html

So far we have been quite successful and have secured commitments from three
of four needed sponsors, each for an amount of $6000 USD towards the project.
This email is a solicitation for one final sponsor for the same amount so that
we can launch the development project in February.

The proposal page above covers the details, but the gist is that the project
will result in a libtiff 4.0 circa July 2007 that will support reading
traditional TIFF files, as well as BigTIFF files, and will support writing
either variant.  This capability will flow through to users of the GDAL
library, MapServer and libgeotiff.

This is an appeal from me then for one additional organization in our
industry to step forward to support this important infrastructural project.

In addition to the technical benefits this project will bring, I believe
the project press release will also bring a reputational benefit to all the
sponsors.

Please contact myself or Joris van Damme if you are interested in taking
the last sponsorship position so that we can launch the project on time.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    |


From BlackJ at mar.dfo-mpo.gc.ca  Fri Dec 22 10:54:35 2006
From: BlackJ at mar.dfo-mpo.gc.ca (Black, Jerry)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Newbie question about Memory driver
Message-ID: <9EF47F5CAEBBFD4FB8AF9C225B1ED3A00349F878@msgmarbio01.bio.dfo.ca>

Hi,

I'm a newbie, and have a question that stems from my desire to perform the
following:

	gdal_translate from a source data file into a memory driver and then
	gdal_warp from that memory driver into a 2nd memory driver 

Writing code to essentially call copies of these routines, from my own code
works fine when the execution is:

	gdal_translate from a source data file into a temporary file and
then
	gdal_warp from that file into a 2nd temporary file (at which point
my code can grab the raster from the 2nd file)

When attempting to use memory drivers, the gdal_warp code quite validly
complains that there is not affine transformation (note this being done in
C++ so the memory address is valid between these calls).

Translating file:
gdal_translate -of MEM -co PHOTOMETRIC=RGB -co INTERLEAVE=PIXEL -ot Byte
-outsize 1226 574 -projwin -130.000000 52.000000 -113.883258 47.000000
c:/world-topo-bathy-200406-3x86400x43200.ecw
MEM:::DATAPOINTER=142409800,PIXELS=613,LINES=287,BANDS=3,DATATYPE=Byte
Input file size is 86400, 43200

Warping file:
Gdalwarp -s_srs EPSG:4326 -t_srs +proj=merc +lon_0=-121.942w -ts 613 287 -wt
Byte
MEM:::DATAPOINTER=142409800,PIXELS=613,LINES=287,BANDS=3,DATATYPE=Byte
c:/world-topo-bathy-200406-3x86400x43200_MERC.TIF

Unable to compute a transformation between pixel/line
and georeferenced coordinates for
MEM:::DATAPOINTER=142409800,PIXELS=613,LINES=287,BANDS=3,DATATYPE=Byte.
There is no affine transformation and no GCPs.

As the Memory driver only stores the actual pixels, I can see why the affine
transformation is missing when calling gdalwarp. Either I'm missing a
parameter for gdalwarp that would enable this, or is there another memory
driver example / or approach available that encapsulates all of the
projection info into the memory structure?

I suspect the only solution is to tease out the relevant sections of
gdaltranlate and gdalwarp and pass the dataset between them.


The original ecw file has EPSG:4326 imbedded in it.

gdalinfo
c:/world-topo-bathy-200406-3x86400x43200.ecw
Driver: ECW/ERMapper Compressed Wavelets
Size is 86400, 43200
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AXIS["Lat",NORTH],
    AXIS["Long",EAST],
    AUTHORITY["EPSG","4326"]]
Origin = (-180.000000,90.000000)
Pixel Size = (0.00416667,-0.00416667)
Corner Coordinates:
Upper Left  (-180.0000000,  90.0000000) (180d 0'0.00"W, 90d 0'0.00"N)
Lower Left  (-180.0000000, -90.0000000) (180d 0'0.00"W, 90d 0'0.00"S)
Upper Right ( 180.0000000,  90.0000000) (180d 0'0.00"E, 90d 0'0.00"N)
Lower Right ( 180.0000000, -90.0000000) (180d 0'0.00"E, 90d 0'0.00"S)
Center      (  -0.0000000,   0.0000000) (  0d 0'0.00"W,  0d 0'0.00"N)
Band 1 Block=86400x1 Type=Byte, ColorInterp=Red
  Overviews: arbitrary
Band 2 Block=86400x1 Type=Byte, ColorInterp=Green
  Overviews: arbitrary
Band 3 Block=86400x1 Type=Byte, ColorInterp=Blue
  Overviews: arbitrary

Thanks

Jerry Black	
Bedford Institute of Oceanography 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061222/edf1c5d3/attachment.html
From warmerdam at pobox.com  Fri Dec 22 14:48:56 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Newbie question about Memory driver
In-Reply-To: <9EF47F5CAEBBFD4FB8AF9C225B1ED3A00349F878@msgmarbio01.bio.dfo.ca>
References: <9EF47F5CAEBBFD4FB8AF9C225B1ED3A00349F878@msgmarbio01.bio.dfo.ca>
Message-ID: <458C36A8.3010507@pobox.com>

Black, Jerry wrote:
> Hi,
> 
> I'm a newbie, and have a question that stems from my desire to perform 
> the following:
> 
>       gdal_translate from a source data file into a memory driver and then
>       gdal_warp from that memory driver into a 2nd memory driver
> 
> Writing code to essentially call copies of these routines, from my own 
> code works fine when the execution is:
> 
>       gdal_translate from a source data file into a temporary file and then
>       gdal_warp from that file into a 2nd temporary file (at which point
>       my code can grab the raster from the 2nd file)
> 
> When attempting to use memory drivers, the gdal_warp code quite validly 
> complains that there is not affine transformation (note this being done 
> in C++ so the memory address is valid between these calls).
...
> As the Memory driver only stores the actual pixels, I can see why the 
> affine transformation is missing when calling gdalwarp. Either I'm 
> missing a parameter for gdalwarp that would enable this, or is there 
> another memory driver example / or approach available that encapsulates 
> all of the projection info into the memory structure?
> 
> I suspect the only solution is to tease out the relevant sections of 
> gdaltranlate and gdalwarp and pass the dataset between them.

Jerry,

You are exactly right.  In order to keep the metadata associated with the
MEM dataset you need to keep it open, and pass the same dataset handle from
step to step.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From jeffbullard at verizon.net  Fri Dec 22 20:44:13 2006
From: jeffbullard at verizon.net (JEFFERY BULLARD)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Big Thanks to GDAL developers and list readers
Message-ID: <000001c72633$d9c62ea0$0301a8c0@alpha>

Just want to issue a big thanks to the GDAL developers.  Within about a
month I've got a Mapserver site running (starting from literally nowhere
newbie territory) that does gdal transformations using scripts and
on-the-fly reprojection to display astronomy forecast maps for the
continental US.
 
You can check out what we've done at http://www.astroforecast.org
<http://www.astroforecast.org/>  , which is no-advertising
not-for-profit site running from my home.   If you're an amateur
astronomer and live in the CONUS then you may find the site useful.
 
GDAL is a great bundle of tools and I can't say enough thanks for
helping me accomplish this site.
 
Special thanks to Frank W.  Every time I had an obstacle I found good
documentation and help to get past the issue.  Kudos to all the
developers and the rest of the GDAL and Mapserver community.  
 
Where do I send my donation?!!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061222/3a613cce/attachment.html
From warmerdam at pobox.com  Sat Dec 23 00:22:08 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Big Thanks to GDAL developers and list readers
In-Reply-To: <000001c72633$d9c62ea0$0301a8c0@alpha>
References: <000001c72633$d9c62ea0$0301a8c0@alpha>
Message-ID: <458CBD00.9060606@pobox.com>

JEFFERY BULLARD wrote:
> GDAL is a great bundle of tools and I can?t say enough thanks for 
> helping me accomplish this site.
> 
> Special thanks to Frank W.  Every time I had an obstacle I found good 
> documentation and help to get past the issue.  Kudos to all the 
> developers and the rest of the GDAL and Mapserver community. 
> 
> Where do I send my donation?!!

Jeffery,

That's a dangerous question!  There is a sponsorship program, but
from individuals I mostly just ask that they get involved on the
mailing list, and help answer the questions of other new folks
when they can.  This is a big help to the developers (saving them
from answering the same questions over and over), and of course
helps new folks get going with the software.

The same applies for MapServer of course.

PS. It's great to hear stories like yours.  One of the the things
I love about open source is that it gives hobbiests, students and
organizations with limits financial resources equal opportunities
with the biggest budgets if they are willing to put in lots of
sweat-equity.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From mateusz at loskot.net  Sat Dec 23 03:45:35 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Virtual Spatial connection to PostgreSQL ODBC driver
In-Reply-To: <458CD717.5050603@pobox.com>
References: <456DDA28.3040503@dmsolutions.ca> <456DDBAD.8030101@dmsolutions.ca>
	<45886847.8040801@dmsolutions.ca> <458CD717.5050603@pobox.com>
Message-ID: <458CECAF.5010305@loskot.net>

Frank Warmerdam wrote:
> Jeff McKenna wrote:
>> I had reported this problem to this list a few weeks ago, and left it,
>> but now I must solve if for a project.  Does anyone have any ideas?
> 
> Jeff,
> 
> I'd been intending to get back to this but didn't.  I don't know
> why this isn't working, but one thing you might want to try is
> ensuring you are using a quite recent GDAL version (ie. 1.4.0beta)
> since some substantial work was done on schema support - I think
> early in the fall.
> 
> I'm going to be gone till the 28th.  Mateusz - if Jeff needs immediate
> help on this, could you try to give him a hand?

Frank,

Sure I will.

Jeff,

Just ping me (mloskot) on the #gdal channel or
drop a note on list/e-mail. I'm mostly online, except evening in 24th.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Sun Dec 24 09:29:31 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Re: [UMN_MAPSERVER-USERS] BigTIFF Implementation Project
	- Seeking One Additional Sponsor
In-Reply-To: <458B601F.9000204@pobox.com>
References: <458B601F.9000204@pobox.com>
Message-ID: <931f8ea90612240629j36ea0f91q4a9f83fd19e20053@mail.gmail.com>

On 12/21/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> This is an appeal from me then for one additional organization in our
> industry to step forward to support this important infrastructural project.

Folks,

I just wanted everyone to know we have our fourth sponsor
and BigTIFF is a go!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From tutey at o2.pl  Mon Dec 25 13:11:03 2006
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] change email in bugzilla account?
Message-ID: <45901437.2000200@o2.pl>

Hi,

Is it possible to change my email in the GDAL's bugzilla account? I
couldn't find such option anywhere there...

I'd prefer to subscribed using the email I'm currently writing you from.

Maciek

From dron at ak4719.spb.edu  Tue Dec 26 04:09:45 2006
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] change email in bugzilla account?
In-Reply-To: <45901437.2000200@o2.pl>
References: <45901437.2000200@o2.pl>
Message-ID: <20061226090945.GA28224@ak4719.spb.edu>

On Mon, Dec 25, 2006 at 07:11:03PM +0100, Maciej Sieczka wrote:
> Is it possible to change my email in the GDAL's bugzilla account? I
> couldn't find such option anywhere there...
> 
> I'd prefer to subscribed using the email I'm currently writing you
> from.

Maciek,

I have changed your e-mail in account settings.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517

From szekerest at gmail.com  Tue Dec 26 17:21:29 2006
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL C# for MONO/GCC/G++
Message-ID: <f3b73b7d0612261421s41acc2bfge2e3b5d71066f778@mail.gmail.com>

Developers,

I've added the support for building the GDAL C# interface for the
MONO/GCC/G++ combination can be usable on LINUX and hopefully on OSX
as well.

I would like to call for a help to test this approach on some systems
and confirm whether the

make veryclean
make interface
make
make test

sequence is working in the /swig/csharp directory. (swig-1.3.27 or
later and the MONO package should be installed previously. Currently I
have mcs-1.1.80 and mono-1.1.83)

It would be also helpful to add these steps to the buildbot.


Best Regards,

Tamas Szekeres

From dany.geotools at gmail.com  Wed Dec 27 10:22:56 2006
From: dany.geotools at gmail.com (Daniele Romagnoli)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] GDAL data writing problems (using Java SWIG bindings)
Message-ID: <7221db410612270722q12d14428o26e87e1c1c67d99@mail.gmail.com>

Hi list,

I'm unsuccessfully trying to write some raster data using  GDAL Java
Bindings, by mean of the writeRaster_Direct method.

This is my code:
------------------------------------------------------------
final File outFile = new File("d:\\DatiPlugin\\geotiff\\mysample22.tif");
final BufferedImage im = ImageIO.read(new
File("D:\\DatiPlugin\\bogota.tif"));

Driver gtiffDriver = gdal.GetDriverByName("GTiff");
final int width = im.getWidth();
final int height = im.getHeight ();

Dataset ds = gtiffDriver.Create(outFile.getAbsolutePath(), width,
height, 1, gdalconstConstants.GDT_Byte,null);

RenderedOp b0 = BandSelectDescriptor.create(im, new int[] { 0 }, null);

ByteBuffer bb0 = ByteBuffer.wrap(((DataBufferByte)
b0.getData().getDataBuffer()).getData(0));

ByteBuffer scanline;
byte  miniBuffer[] = new byte [width];

for (int i=0; i<height;i++){
   bb0.get(miniBuffer, width*i, width);
   scanline = ByteBuffer.wrap(miniBuffer);
   ds.GetRasterBand(1).WriteRaster_Direct(0,height*i,width,1,width,1,
gdalconstConstants.GDT_Byte,scanline);
}


ds.FlushCache();
ds.delete();
------------------------------------------------------------



This code, generates this exception:
-------------------------------------------------------
An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : EXCEPTION_ACCESS_VIOLATION (0xc0000005) occurred
at PC=0x7C342EEE
Function=memcpy+0x33
Library=C:\WINDOWS\system32\MSVCR71.dll
Source file = F:\VS70Builds\3052\vc\crtbld\crt\src\intel\memcpy.asm : 171


Current Java thread:
   at org.gdal.gdal.gdalJNI.Band_WriteRaster_Direct (Native Method)
   at org.gdal.gdal.Band.WriteRaster_Direct(Band.java:127)
   at javax.imageio.plugins.jp2k.TestJaiRead.testWrite(TestJaiRead.java:178)
   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   at sun.reflect.NativeMethodAccessorImpl.invoke(
NativeMethodAccessorImpl.java:39)
   at sun.reflect.DelegatingMethodAccessorImpl.invoke(
DelegatingMethodAccessorImpl.java:25)
   at java.lang.reflect.Method.invoke (Method.java:324)
   at junit.framework.TestCase.runTest(TestCase.java:154)
   at junit.framework.TestCase.runBare(TestCase.java:127)
   at junit.framework.TestResult$1.protect(TestResult.java:106)
   at junit.framework.TestResult.runProtected (TestResult.java:124)
   at junit.framework.TestResult.run(TestResult.java:109)
   at junit.framework.TestCase.run(TestCase.java:118)
   at junit.framework.TestSuite.runTest(TestSuite.java:208)
   at junit.framework.TestSuite.run (TestSuite.java:203)
   at junit.textui.TestRunner.doRun(TestRunner.java:116)
   at junit.textui.TestRunner.doRun(TestRunner.java:109)
   at junit.textui.TestRunner.run(TestRunner.java:72)
   at junit.textui.TestRunner.run (TestRunner.java:57)
   at javax.imageio.plugins.jp2k.TestJaiRead.main(TestJaiRead.java:76)
------------------------------------------


Does anybody have any clues about what I'm doing wrong?

Moreover, I have one question. Did anybody tried to write data using
the java bindings directly?  I mean without using DataSet CreateCopy or the
like but feeding data directly into a RasterBand?


Best regards,
Daniele









-- 
Best Regards,
Daniele
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061227/53c8d1c7/attachment.html
From bruce.bushby at rmsaudio.com  Thu Dec 28 09:41:01 2006
From: bruce.bushby at rmsaudio.com (Bruce Bushby)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] struggling with ogrinfo and vmap data
Message-ID: <1167316861.2768.20.camel@core.celtec.co.uk>

Hi

I've been struggling to query vmap data using ogrinfo and hoping somebody
could point me in the right direction?

I have "cleaned" the vmap data so that ALL capitals have been converted to
lower case.

This is my command and output:
	[root@gis ~]# ogrinfo --debug on -ro gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer
	OGR: OGROpen(gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer) failed.
	FAILURE:
	Unable to open datasource `gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer' with the following drivers.
  	-> ESRI Shapefile
  	-> MapInfo File
  	-> UK .NTF
  	-> SDTS
  	-> TIGER
  	-> S57
  	-> DGN
  	-> VRT
  	-> AVCBin
  	-> REC
  	-> Memory
  	-> CSV
  	-> GML
  	-> KML
  	-> OGDI
	[root@gis ~]#


My setup/compilation is as follows (Fedora Core 6 [X86_64]):
	expat-2.0.0
	./configure;make install;ldconfig

	zlib-1.2.3
	./configure --shared --prefix=/usr/local; make install; ldconfig

	proj-4.5.0
	./configure; make install; ldconfig

	ogdi-3.1.5
	export TOPDIR=`pwd`
	./configure --with-zlib --with-expat --with-proj; make install; ldconfig

	gdal-1.4.0beta2
	./configure --with-ogdi=/usr/local; make install; ldconfig

I have also pasted the output of a strace in case it helps. Looking at the strace, ogrinfo
does attempt to read the data: 
	"read(3, "\267\0\0\0L;Coverage Attribute Table;-"..., 4096) = 643"

Going through the strace, it looks for "gdalplugins"...which I don't have?

Also, it tries to open a "cax" file which does not exist in my map data?

Any help or pointers would be much appreciated!

Regards
Bruce



STRACE OUTPUT:

[root@gis ~]# strace ogrinfo -ro gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer
execve("/usr/local/bin/ogrinfo", ["ogrinfo", "-ro", "gltp:/vrf/tmp/vmap0/v0noa/vmaplv"...], [/* 28 vars */]) = 0
brk(0)                                  = 0x603000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5481fe8000
uname({sys="Linux", node="gis.celtec.co.uk", ...}) = 0
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
close(3)                                = 0
open("/usr/local/lib/libgdal.so.1", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\220\6\16"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=4607087, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5482014000
mmap(NULL, 6305160, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54821e9000
mprotect(0x2b5482573000, 2093056, PROT_NONE) = 0
mmap(0x2b5482772000, 413696, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x389000) = 0x2b5482772000
mmap(0x2b54827d7000, 87432, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54827d7000
close(3)                                = 0
open("/usr/local/lib/libogdi31.so", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260m\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=150802, ...}) = 0
mmap(NULL, 2227928, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54827ed000
mprotect(0x2b548280c000, 2097152, PROT_NONE) = 0
mmap(0x2b5482a0c000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1f000) = 0x2b5482a0c000
close(3)                                = 0
open("/usr/lib64/libgif.so.4", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\200\35\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=34552, ...}) = 0
mmap(NULL, 2129832, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5482a0d000
mprotect(0x2b5482a15000, 2093056, PROT_NONE) = 0
mmap(0x2b5482c14000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) = 0x2b5482c14000
close(3)                                = 0
open("/usr/lib64/libjpeg.so.62", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0P5\0\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=139296, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5482c15000
mmap(NULL, 2234544, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5482c16000
mprotect(0x2b5482c37000, 2097152, PROT_NONE) = 0
mmap(0x2b5482e37000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x21000) = 0x2b5482e37000
close(3)                                = 0
open("/usr/lib64/libtiff.so.3", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20v\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=365280, ...}) = 0
mmap(NULL, 2461640, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5482e38000
mprotect(0x2b5482e8f000, 2093056, PROT_NONE) = 0
mmap(0x2b548308e000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x56000) = 0x2b548308e000
close(3)                                = 0
open("/usr/lib64/libpng12.so.0", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\0H\0\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=147144, ...}) = 0
mmap(NULL, 2242312, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5483091000
mprotect(0x2b54830b4000, 2097152, PROT_NONE) = 0
mmap(0x2b54832b4000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) = 0x2b54832b4000
close(3)                                = 0
open("/lib64/librt.so.1", O_RDONLY)     = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\300#\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=50320, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b54832b5000
mmap(NULL, 2132968, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54832b6000
mprotect(0x2b54832be000, 2093056, PROT_NONE) = 0
mmap(0x2b54834bd000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) = 0x2b54834bd000
close(3)                                = 0
open("/usr/lib64/libcurl.so.3", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260\257"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=249736, ...}) = 0
mmap(NULL, 2345608, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54834bf000
mprotect(0x2b54834fa000, 2097152, PROT_NONE) = 0
mmap(0x2b54836fa000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3b000) = 0x2b54836fa000
close(3)                                = 0
open("/usr/lib64/libgssapi_krb5.so.2", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0000`\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=171336, ...}) = 0
mmap(NULL, 2266896, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54836fc000
mprotect(0x2b5483725000, 2093056, PROT_NONE) = 0
mmap(0x2b5483924000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x28000) = 0x2b5483924000
close(3)                                = 0
open("/usr/lib64/libkrb5.so.3", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0 s\1\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=553008, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5483926000
mmap(NULL, 2648352, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5483927000
mprotect(0x2b54839aa000, 2097152, PROT_NONE) = 0
mmap(0x2b5483baa000, 16384, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x83000) = 0x2b5483baa000
close(3)                                = 0
open("/usr/lib64/libk5crypto.so.3", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0000U\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=150568, ...}) = 0
mmap(NULL, 2246920, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5483bae000
mprotect(0x2b5483bd1000, 2097152, PROT_NONE) = 0
mmap(0x2b5483dd1000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) = 0x2b5483dd1000
close(3)                                = 0
open("/lib64/libcom_err.so.2", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20\f\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=8000, ...}) = 0
mmap(NULL, 2103320, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5483dd3000
mprotect(0x2b5483dd5000, 2093056, PROT_NONE) = 0
mmap(0x2b5483fd4000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) = 0x2b5483fd4000
close(3)                                = 0
open("/lib64/libresolv.so.2", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\3603\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=89792, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5483fd5000
mmap(NULL, 2181864, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5483fd6000
mprotect(0x2b5483fe7000, 2097152, PROT_NONE) = 0
mmap(0x2b54841e7000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x11000) = 0x2b54841e7000
mmap(0x2b54841e9000, 6888, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54841e9000
close(3)                                = 0
open("/lib64/libdl.so.2", O_RDONLY)     = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`\17\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=20520, ...}) = 0
mmap(NULL, 2109728, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54841eb000
mprotect(0x2b54841ee000, 2093056, PROT_NONE) = 0
mmap(0x2b54843ed000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) = 0x2b54843ed000
close(3)                                = 0
open("/usr/lib64/libidn.so.11", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\220/\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=202592, ...}) = 0
mmap(NULL, 2297840, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54843ef000
mprotect(0x2b5484420000, 2093056, PROT_NONE) = 0
mmap(0x2b548461f000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x30000) = 0x2b548461f000
close(3)                                = 0
open("/lib64/libssl.so.6", O_RDONLY)    = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260\"\1"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=299976, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5484620000
mmap(NULL, 2395424, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5484621000
mprotect(0x2b5484664000, 2097152, PROT_NONE) = 0
mmap(0x2b5484864000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x43000) = 0x2b5484864000
close(3)                                = 0
open("/lib64/libcrypto.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\0d\5\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1324224, ...}) = 0
mmap(NULL, 3434488, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b548486a000
mprotect(0x2b548498f000, 2093056, PROT_NONE) = 0
mmap(0x2b5484b8e000, 126976, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x124000) = 0x2b5484b8e000
mmap(0x2b5484bad000, 14328, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b5484bad000
close(3)                                = 0
open("/usr/local/lib/libz.so.1", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\360\36\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=118627, ...}) = 0
mmap(NULL, 2205160, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5484bb1000
mprotect(0x2b5484bcc000, 2093056, PROT_NONE) = 0
mmap(0x2b5484dcb000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1a000) = 0x2b5484dcb000
close(3)                                = 0
open("/usr/lib64/libstdc++.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0 \364\4\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=981840, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5484dcc000
mmap(NULL, 3153696, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5484dcd000
mprotect(0x2b5484eb4000, 2097152, PROT_NONE) = 0
mmap(0x2b54850b4000, 36864, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xe7000) = 0x2b54850b4000
mmap(0x2b54850bd000, 73504, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54850bd000
close(3)                                = 0
open("/lib64/libm.so.6", O_RDONLY)      = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260?\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=611880, ...}) = 0
mmap(NULL, 2629848, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54850cf000
mprotect(0x2b5485151000, 2093056, PROT_NONE) = 0
mmap(0x2b5485350000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x81000) = 0x2b5485350000
close(3)                                = 0
open("/lib64/libgcc_s.so.1", O_RDONLY)  = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\200\37\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=54672, ...}) = 0
mmap(NULL, 2150376, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5485352000
mprotect(0x2b548535f000, 2093056, PROT_NONE) = 0
mmap(0x2b548555e000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xc000) = 0x2b548555e000
close(3)                                = 0
open("/lib64/libc.so.6", O_RDONLY)      = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0@\333\1\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1672888, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b548555f000
mmap(NULL, 3461304, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5485560000
mprotect(0x2b54856a4000, 2097152, PROT_NONE) = 0
mmap(0x2b54858a4000, 20480, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x144000) = 0x2b54858a4000
mmap(0x2b54858a9000, 16568, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54858a9000
close(3)                                = 0
open("/lib64/libexpat.so.0", O_RDONLY)  = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340;\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=141008, ...}) = 0
mmap(NULL, 2236256, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b54858ae000
mprotect(0x2b54858ce000, 2093056, PROT_NONE) = 0
mmap(0x2b5485acd000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1f000) = 0x2b5485acd000
close(3)                                = 0
open("/usr/local/lib/libproj.so.0", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0@\254\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=423295, ...}) = 0
mmap(NULL, 2473312, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5485ad0000
mprotect(0x2b5485b29000, 2097152, PROT_NONE) = 0
mmap(0x2b5485d29000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x59000) = 0x2b5485d29000
close(3)                                = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5485d2c000
open("/usr/lib64/libX11.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\360\377"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1093112, ...}) = 0
mmap(NULL, 3190376, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5485d2d000
mprotect(0x2b5485e31000, 2097152, PROT_NONE) = 0
mmap(0x2b5486031000, 28672, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x104000) = 0x2b5486031000
close(3)                                = 0
open("/lib64/libpthread.so.0", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`X\0\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=138080, ...}) = 0
mmap(NULL, 2200432, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5486038000
mprotect(0x2b548604d000, 2093056, PROT_NONE) = 0
mmap(0x2b548624c000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x14000) = 0x2b548624c000
mmap(0x2b548624e000, 13168, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b548624e000
close(3)                                = 0
open("/usr/lib64/libkrb5support.so.0", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340\34\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=30088, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5486252000
mmap(NULL, 2125392, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5486253000
mprotect(0x2b548625a000, 2093056, PROT_NONE) = 0
mmap(0x2b5486459000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) = 0x2b5486459000
close(3)                                = 0
open("/usr/lib64/libXau.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20\16\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=10064, ...}) = 0
mmap(NULL, 2105328, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b548645a000
mprotect(0x2b548645c000, 2093056, PROT_NONE) = 0
mmap(0x2b548665b000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) = 0x2b548665b000
close(3)                                = 0
open("/usr/lib64/libXdmcp.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340\23\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=20136, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b548665c000
mmap(NULL, 2115384, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b548665d000
mprotect(0x2b5486662000, 2093056, PROT_NONE) = 0
mmap(0x2b5486861000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x4000) = 0x2b5486861000
close(3)                                = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5486862000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5486863000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5486864000
arch_prctl(ARCH_SET_FS, 0x2b5486863ae0) = 0
mprotect(0x2b548624c000, 4096, PROT_READ) = 0
mprotect(0x2b54858a4000, 16384, PROT_READ) = 0
mprotect(0x2b5485350000, 4096, PROT_READ) = 0
mprotect(0x2b54850b4000, 24576, PROT_READ) = 0
mprotect(0x2b54843ed000, 4096, PROT_READ) = 0
mprotect(0x2b54841e7000, 4096, PROT_READ) = 0
mprotect(0x2b54834bd000, 4096, PROT_READ) = 0
mprotect(0x2b54821e7000, 4096, PROT_READ) = 0
munmap(0x2b5481fe9000, 172753)          = 0
set_tid_address(0x2b5486863b70)         = 8229
syscall_273(0x2b5486863b80, 0x18, 0x7fff28ad9418, 0x2b5481fce4a0, 0x2b5486863ae0, 0x2b5481fe82b8, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3) = 0
rt_sigaction(SIGRTMIN, {0x2b548603d4a0, [], SA_RESTORER|SA_SIGINFO, 0x2b5486045de0}, NULL, 8) = 0
rt_sigaction(SIGRT_1, {0x2b548603d3f0, [], SA_RESTORER|SA_RESTART|SA_SIGINFO, 0x2b5486045de0}, NULL, 8) = 0
rt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0
getrlimit(RLIMIT_STACK, {rlim_cur=8192*1024, rlim_max=RLIM_INFINITY}) = 0
futex(0x2b54850bec88, FUTEX_WAKE, 2147483647) = 0
brk(0)                                  = 0x603000
brk(0x624000)                           = 0x624000
open("/usr/local/lib/gdalplugins", O_RDONLY|O_NONBLOCK|O_DIRECTORY) = -1 ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9130) = -1 ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9130) = -1 ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad90d0) = -1 ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad90b0) = -1 ENOENT (No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT (No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT (No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9100) = -1 ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9100) = -1 ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9120) = -1 ENOENT (No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT (No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT (No such file or directory)
futex(0x2b54843ee10c, FUTEX_WAKE, 2147483647) = 0
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
close(3)                                = 0
open("/lib64/tls/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("/lib64/tls/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such file or directory)
open("/lib64/tls/vrf", O_RDONLY)        = -1 ENOENT (No such file or directory)
stat("/lib64/tls", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
open("/lib64/x86_64/vrf", O_RDONLY)     = -1 ENOENT (No such file or directory)
stat("/lib64/x86_64", 0x7fff28ad87e0)   = -1 ENOENT (No such file or directory)
open("/lib64/vrf", O_RDONLY)            = -1 ENOENT (No such file or directory)
stat("/lib64", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
open("/usr/lib64/tls/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("/usr/lib64/tls/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such file or directory)
open("/usr/lib64/tls/vrf", O_RDONLY)    = -1 ENOENT (No such file or directory)
stat("/usr/lib64/tls", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
open("/usr/lib64/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file or directory)
stat("/usr/lib64/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such file or directory)
open("/usr/lib64/vrf", O_RDONLY)        = -1 ENOENT (No such file or directory)
stat("/usr/lib64", {st_mode=S_IFDIR|0755, st_size=98304, ...}) = 0
munmap(0x2b5481fe9000, 172753)          = 0
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
close(3)                                = 0
open("/usr/local/lib/libvrf.so", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`S\0\0\0"..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=195623, ...}) = 0
mmap(NULL, 2276864, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2b5486865000
mprotect(0x2b5486889000, 2097152, PROT_NONE) = 0
mmap(0x2b5486a89000, 32768, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x24000) = 0x2b5486a89000
close(3)                                = 0
munmap(0x2b5481fe9000, 172753)          = 0
mmap(NULL, 253952, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5482015000
access("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", F_OK) = 0
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", O_RDONLY) = 3
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", O_RDONLY) = 4
fstat(4, {st_mode=S_IFREG|0755, st_size=643, ...}) = 0
close(4)                                = 0
fstat(3, {st_mode=S_IFREG|0755, st_size=643, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5482053000
read(3, "\267\0\0\0L;Coverage Attribute Table;-"..., 4096) = 643
mmap(NULL, 8017316959253172224, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
brk(0x6f433b4c0063d000)                 = 0x624000
mmap(NULL, 8017316959253307392, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
mmap(NULL, 134217728, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_NORESERVE, -1, 0) = 0x2b5486a91000
munmap(0x2b5486a91000, 22474752)        = 0
munmap(0x2b548c000000, 44634112)        = 0
mprotect(0x2b5488000000, 135168, PROT_READ|PROT_WRITE) = 0
mmap(NULL, 8017316959253172224, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.;1", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX.", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX.;1", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.", O_RDONLY) = -1 ENOENT (No such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.;1", O_RDONLY) = -1 ENOENT (No such file or directory)
close(3)                                = 0
munmap(0x2b5482053000, 4096)            = 0
fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 2), ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2b5482053000
write(1, "FAILURE:\n", 9FAILURE:
)               = 9
write(1, "Unable to open datasource `gltp:"..., 97Unable to open datasource `gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer' with the following drivers.
) = 97
write(1, "  -> ESRI Shapefile\n", 20  -> ESRI Shapefile
)   = 20
write(1, "  -> MapInfo File\n", 18  -> MapInfo File
)     = 18
write(1, "  -> UK .NTF\n", 13  -> UK .NTF
)          = 13
write(1, "  -> SDTS\n", 10  -> SDTS
)             = 10
write(1, "  -> TIGER\n", 11  -> TIGER
)            = 11
write(1, "  -> S57\n", 9  -> S57
)               = 9
write(1, "  -> DGN\n", 9  -> DGN
)               = 9
write(1, "  -> VRT\n", 9  -> VRT
)               = 9
write(1, "  -> AVCBin\n", 12  -> AVCBin
)           = 12
write(1, "  -> REC\n", 9  -> REC
)               = 9
write(1, "  -> Memory\n", 12  -> Memory
)           = 12
write(1, "  -> CSV\n", 9  -> CSV
)               = 9
write(1, "  -> GML\n", 9  -> GML
)               = 9
write(1, "  -> KML\n", 9  -> KML
)               = 9
write(1, "  -> OGDI\n", 10  -> OGDI
)             = 10
exit_group(1)                           = ?
Process 8229 detached
[root@gis ~]#





From MChapman at sanz.com  Thu Dec 28 11:59:41 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] struggling with ogrinfo and vmap data
In-Reply-To: <1167316861.2768.20.camel@core.celtec.co.uk>
Message-ID: <ED3A48B9840E594890A2BC172D11946509AA9C3C@mailman.san.com>

You need to compile gdal with support for OGDI.  That requires
downloading and compiling the OGDI library from http://www.ogdi.org .
If you want a quick start I can put a zip of a built version on an ftp
site...as long as you are windows.  Then you just need to change the
nmake.opt file to uncomment OGDI support and you will be good to go. 

Martin Chapman
SANZ Inc.
Software Developer
http://www.earthwhere.com
W - 303.495.6326
C  - 303.898.0397
-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Bruce Bushby
Sent: Thursday, December 28, 2006 7:41 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] struggling with ogrinfo and vmap data

Hi

I've been struggling to query vmap data using ogrinfo and hoping
somebody
could point me in the right direction?

I have "cleaned" the vmap data so that ALL capitals have been converted
to
lower case.

This is my command and output:
	[root@gis ~]# ogrinfo --debug on -ro
gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer
	OGR: OGROpen(gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer) failed.
	FAILURE:
	Unable to open datasource
`gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer' with the following drivers.
  	-> ESRI Shapefile
  	-> MapInfo File
  	-> UK .NTF
  	-> SDTS
  	-> TIGER
  	-> S57
  	-> DGN
  	-> VRT
  	-> AVCBin
  	-> REC
  	-> Memory
  	-> CSV
  	-> GML
  	-> KML
  	-> OGDI
	[root@gis ~]#


My setup/compilation is as follows (Fedora Core 6 [X86_64]):
	expat-2.0.0
	./configure;make install;ldconfig

	zlib-1.2.3
	./configure --shared --prefix=/usr/local; make install; ldconfig

	proj-4.5.0
	./configure; make install; ldconfig

	ogdi-3.1.5
	export TOPDIR=`pwd`
	./configure --with-zlib --with-expat --with-proj; make install;
ldconfig

	gdal-1.4.0beta2
	./configure --with-ogdi=/usr/local; make install; ldconfig

I have also pasted the output of a strace in case it helps. Looking at
the strace, ogrinfo
does attempt to read the data: 
	"read(3, "\267\0\0\0L;Coverage Attribute Table;-"..., 4096) =
643"

Going through the strace, it looks for "gdalplugins"...which I don't
have?

Also, it tries to open a "cax" file which does not exist in my map data?

Any help or pointers would be much appreciated!

Regards
Bruce



STRACE OUTPUT:

[root@gis ~]# strace ogrinfo -ro
gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer
execve("/usr/local/bin/ogrinfo", ["ogrinfo", "-ro",
"gltp:/vrf/tmp/vmap0/v0noa/vmaplv"...], [/* 28 vars */]) = 0
brk(0)                                  = 0x603000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5481fe8000
uname({sys="Linux", node="gis.celtec.co.uk", ...}) = 0
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or
directory)
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
close(3)                                = 0
open("/usr/local/lib/libgdal.so.1", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\220\6\16"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=4607087, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5482014000
mmap(NULL, 6305160, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54821e9000
mprotect(0x2b5482573000, 2093056, PROT_NONE) = 0
mmap(0x2b5482772000, 413696, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x389000) = 0x2b5482772000
mmap(0x2b54827d7000, 87432, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54827d7000
close(3)                                = 0
open("/usr/local/lib/libogdi31.so", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260m\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=150802, ...}) = 0
mmap(NULL, 2227928, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54827ed000
mprotect(0x2b548280c000, 2097152, PROT_NONE) = 0
mmap(0x2b5482a0c000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1f000) = 0x2b5482a0c000
close(3)                                = 0
open("/usr/lib64/libgif.so.4", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\200\35\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=34552, ...}) = 0
mmap(NULL, 2129832, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5482a0d000
mprotect(0x2b5482a15000, 2093056, PROT_NONE) = 0
mmap(0x2b5482c14000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) = 0x2b5482c14000
close(3)                                = 0
open("/usr/lib64/libjpeg.so.62", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0P5\0\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=139296, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5482c15000
mmap(NULL, 2234544, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5482c16000
mprotect(0x2b5482c37000, 2097152, PROT_NONE) = 0
mmap(0x2b5482e37000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x21000) = 0x2b5482e37000
close(3)                                = 0
open("/usr/lib64/libtiff.so.3", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20v\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=365280, ...}) = 0
mmap(NULL, 2461640, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5482e38000
mprotect(0x2b5482e8f000, 2093056, PROT_NONE) = 0
mmap(0x2b548308e000, 12288, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x56000) = 0x2b548308e000
close(3)                                = 0
open("/usr/lib64/libpng12.so.0", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\0H\0\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=147144, ...}) = 0
mmap(NULL, 2242312, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5483091000
mprotect(0x2b54830b4000, 2097152, PROT_NONE) = 0
mmap(0x2b54832b4000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) = 0x2b54832b4000
close(3)                                = 0
open("/lib64/librt.so.1", O_RDONLY)     = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\300#\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=50320, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b54832b5000
mmap(NULL, 2132968, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54832b6000
mprotect(0x2b54832be000, 2093056, PROT_NONE) = 0
mmap(0x2b54834bd000, 8192, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) = 0x2b54834bd000
close(3)                                = 0
open("/usr/lib64/libcurl.so.3", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260\257"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=249736, ...}) = 0
mmap(NULL, 2345608, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54834bf000
mprotect(0x2b54834fa000, 2097152, PROT_NONE) = 0
mmap(0x2b54836fa000, 8192, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3b000) = 0x2b54836fa000
close(3)                                = 0
open("/usr/lib64/libgssapi_krb5.so.2", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0000`\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=171336, ...}) = 0
mmap(NULL, 2266896, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54836fc000
mprotect(0x2b5483725000, 2093056, PROT_NONE) = 0
mmap(0x2b5483924000, 8192, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x28000) = 0x2b5483924000
close(3)                                = 0
open("/usr/lib64/libkrb5.so.3", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0 s\1\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=553008, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5483926000
mmap(NULL, 2648352, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5483927000
mprotect(0x2b54839aa000, 2097152, PROT_NONE) = 0
mmap(0x2b5483baa000, 16384, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x83000) = 0x2b5483baa000
close(3)                                = 0
open("/usr/lib64/libk5crypto.so.3", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0000U\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=150568, ...}) = 0
mmap(NULL, 2246920, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5483bae000
mprotect(0x2b5483bd1000, 2097152, PROT_NONE) = 0
mmap(0x2b5483dd1000, 8192, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) = 0x2b5483dd1000
close(3)                                = 0
open("/lib64/libcom_err.so.2", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20\f\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=8000, ...}) = 0
mmap(NULL, 2103320, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5483dd3000
mprotect(0x2b5483dd5000, 2093056, PROT_NONE) = 0
mmap(0x2b5483fd4000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) = 0x2b5483fd4000
close(3)                                = 0
open("/lib64/libresolv.so.2", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\3603\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=89792, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5483fd5000
mmap(NULL, 2181864, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5483fd6000
mprotect(0x2b5483fe7000, 2097152, PROT_NONE) = 0
mmap(0x2b54841e7000, 8192, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x11000) = 0x2b54841e7000
mmap(0x2b54841e9000, 6888, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54841e9000
close(3)                                = 0
open("/lib64/libdl.so.2", O_RDONLY)     = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`\17\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=20520, ...}) = 0
mmap(NULL, 2109728, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54841eb000
mprotect(0x2b54841ee000, 2093056, PROT_NONE) = 0
mmap(0x2b54843ed000, 8192, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) = 0x2b54843ed000
close(3)                                = 0
open("/usr/lib64/libidn.so.11", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\220/\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=202592, ...}) = 0
mmap(NULL, 2297840, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54843ef000
mprotect(0x2b5484420000, 2093056, PROT_NONE) = 0
mmap(0x2b548461f000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x30000) = 0x2b548461f000
close(3)                                = 0
open("/lib64/libssl.so.6", O_RDONLY)    = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260\"\1"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=299976, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5484620000
mmap(NULL, 2395424, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5484621000
mprotect(0x2b5484664000, 2097152, PROT_NONE) = 0
mmap(0x2b5484864000, 24576, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x43000) = 0x2b5484864000
close(3)                                = 0
open("/lib64/libcrypto.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\0d\5\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1324224, ...}) = 0
mmap(NULL, 3434488, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b548486a000
mprotect(0x2b548498f000, 2093056, PROT_NONE) = 0
mmap(0x2b5484b8e000, 126976, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x124000) = 0x2b5484b8e000
mmap(0x2b5484bad000, 14328, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b5484bad000
close(3)                                = 0
open("/usr/local/lib/libz.so.1", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\360\36\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=118627, ...}) = 0
mmap(NULL, 2205160, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5484bb1000
mprotect(0x2b5484bcc000, 2093056, PROT_NONE) = 0
mmap(0x2b5484dcb000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1a000) = 0x2b5484dcb000
close(3)                                = 0
open("/usr/lib64/libstdc++.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0 \364\4\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=981840, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5484dcc000
mmap(NULL, 3153696, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5484dcd000
mprotect(0x2b5484eb4000, 2097152, PROT_NONE) = 0
mmap(0x2b54850b4000, 36864, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xe7000) = 0x2b54850b4000
mmap(0x2b54850bd000, 73504, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54850bd000
close(3)                                = 0
open("/lib64/libm.so.6", O_RDONLY)      = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260?\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=611880, ...}) = 0
mmap(NULL, 2629848, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54850cf000
mprotect(0x2b5485151000, 2093056, PROT_NONE) = 0
mmap(0x2b5485350000, 8192, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x81000) = 0x2b5485350000
close(3)                                = 0
open("/lib64/libgcc_s.so.1", O_RDONLY)  = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\200\37\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=54672, ...}) = 0
mmap(NULL, 2150376, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5485352000
mprotect(0x2b548535f000, 2093056, PROT_NONE) = 0
mmap(0x2b548555e000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xc000) = 0x2b548555e000
close(3)                                = 0
open("/lib64/libc.so.6", O_RDONLY)      = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0@\333\1\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1672888, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b548555f000
mmap(NULL, 3461304, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5485560000
mprotect(0x2b54856a4000, 2097152, PROT_NONE) = 0
mmap(0x2b54858a4000, 20480, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x144000) = 0x2b54858a4000
mmap(0x2b54858a9000, 16568, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54858a9000
close(3)                                = 0
open("/lib64/libexpat.so.0", O_RDONLY)  = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340;\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=141008, ...}) = 0
mmap(NULL, 2236256, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b54858ae000
mprotect(0x2b54858ce000, 2093056, PROT_NONE) = 0
mmap(0x2b5485acd000, 12288, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1f000) = 0x2b5485acd000
close(3)                                = 0
open("/usr/local/lib/libproj.so.0", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0@\254\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=423295, ...}) = 0
mmap(NULL, 2473312, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5485ad0000
mprotect(0x2b5485b29000, 2097152, PROT_NONE) = 0
mmap(0x2b5485d29000, 12288, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x59000) = 0x2b5485d29000
close(3)                                = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5485d2c000
open("/usr/lib64/libX11.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\360\377"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1093112, ...}) = 0
mmap(NULL, 3190376, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5485d2d000
mprotect(0x2b5485e31000, 2097152, PROT_NONE) = 0
mmap(0x2b5486031000, 28672, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x104000) = 0x2b5486031000
close(3)                                = 0
open("/lib64/libpthread.so.0", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`X\0\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=138080, ...}) = 0
mmap(NULL, 2200432, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5486038000
mprotect(0x2b548604d000, 2093056, PROT_NONE) = 0
mmap(0x2b548624c000, 8192, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x14000) = 0x2b548624c000
mmap(0x2b548624e000, 13168, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b548624e000
close(3)                                = 0
open("/usr/lib64/libkrb5support.so.0", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340\34\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=30088, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5486252000
mmap(NULL, 2125392, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5486253000
mprotect(0x2b548625a000, 2093056, PROT_NONE) = 0
mmap(0x2b5486459000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) = 0x2b5486459000
close(3)                                = 0
open("/usr/lib64/libXau.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20\16\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=10064, ...}) = 0
mmap(NULL, 2105328, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b548645a000
mprotect(0x2b548645c000, 2093056, PROT_NONE) = 0
mmap(0x2b548665b000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) = 0x2b548665b000
close(3)                                = 0
open("/usr/lib64/libXdmcp.so.6", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340\23\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=20136, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b548665c000
mmap(NULL, 2115384, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b548665d000
mprotect(0x2b5486662000, 2093056, PROT_NONE) = 0
mmap(0x2b5486861000, 4096, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x4000) = 0x2b5486861000
close(3)                                = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5486862000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5486863000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5486864000
arch_prctl(ARCH_SET_FS, 0x2b5486863ae0) = 0
mprotect(0x2b548624c000, 4096, PROT_READ) = 0
mprotect(0x2b54858a4000, 16384, PROT_READ) = 0
mprotect(0x2b5485350000, 4096, PROT_READ) = 0
mprotect(0x2b54850b4000, 24576, PROT_READ) = 0
mprotect(0x2b54843ed000, 4096, PROT_READ) = 0
mprotect(0x2b54841e7000, 4096, PROT_READ) = 0
mprotect(0x2b54834bd000, 4096, PROT_READ) = 0
mprotect(0x2b54821e7000, 4096, PROT_READ) = 0
munmap(0x2b5481fe9000, 172753)          = 0
set_tid_address(0x2b5486863b70)         = 8229
syscall_273(0x2b5486863b80, 0x18, 0x7fff28ad9418, 0x2b5481fce4a0,
0x2b5486863ae0, 0x2b5481fe82b8, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3,
0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3,
0x3, 0x3, 0x3, 0x3) = 0
rt_sigaction(SIGRTMIN, {0x2b548603d4a0, [], SA_RESTORER|SA_SIGINFO,
0x2b5486045de0}, NULL, 8) = 0
rt_sigaction(SIGRT_1, {0x2b548603d3f0, [],
SA_RESTORER|SA_RESTART|SA_SIGINFO, 0x2b5486045de0}, NULL, 8) = 0
rt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0
getrlimit(RLIMIT_STACK, {rlim_cur=8192*1024, rlim_max=RLIM_INFINITY}) =
0
futex(0x2b54850bec88, FUTEX_WAKE, 2147483647) = 0
brk(0)                                  = 0x603000
brk(0x624000)                           = 0x624000
open("/usr/local/lib/gdalplugins", O_RDONLY|O_NONBLOCK|O_DIRECTORY) = -1
ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9130) = -1
ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9130) = -1
ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad90d0) = -1
ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad90b0) = -1
ENOENT (No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
(No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
(No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
(No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9100) = -1
ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9100) = -1
ENOENT (No such file or directory)
stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9120) = -1
ENOENT (No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
(No such file or directory)
open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
(No such file or directory)
futex(0x2b54843ee10c, FUTEX_WAKE, 2147483647) = 0
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
close(3)                                = 0
open("/lib64/tls/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file or
directory)
stat("/lib64/tls/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such file or
directory)
open("/lib64/tls/vrf", O_RDONLY)        = -1 ENOENT (No such file or
directory)
stat("/lib64/tls", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
open("/lib64/x86_64/vrf", O_RDONLY)     = -1 ENOENT (No such file or
directory)
stat("/lib64/x86_64", 0x7fff28ad87e0)   = -1 ENOENT (No such file or
directory)
open("/lib64/vrf", O_RDONLY)            = -1 ENOENT (No such file or
directory)
stat("/lib64", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
open("/usr/lib64/tls/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file or
directory)
stat("/usr/lib64/tls/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such file
or directory)
open("/usr/lib64/tls/vrf", O_RDONLY)    = -1 ENOENT (No such file or
directory)
stat("/usr/lib64/tls", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
open("/usr/lib64/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file or
directory)
stat("/usr/lib64/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such file or
directory)
open("/usr/lib64/vrf", O_RDONLY)        = -1 ENOENT (No such file or
directory)
stat("/usr/lib64", {st_mode=S_IFDIR|0755, st_size=98304, ...}) = 0
munmap(0x2b5481fe9000, 172753)          = 0
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
close(3)                                = 0
open("/usr/local/lib/libvrf.so", O_RDONLY) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`S\0\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=195623, ...}) = 0
mmap(NULL, 2276864, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
0) = 0x2b5486865000
mprotect(0x2b5486889000, 2097152, PROT_NONE) = 0
mmap(0x2b5486a89000, 32768, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x24000) = 0x2b5486a89000
close(3)                                = 0
munmap(0x2b5481fe9000, 172753)          = 0
mmap(NULL, 253952, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0x2b5482015000
access("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", F_OK) = 0
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", O_RDONLY) = 3
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", O_RDONLY) = 4
fstat(4, {st_mode=S_IFREG|0755, st_size=643, ...}) = 0
close(4)                                = 0
fstat(3, {st_mode=S_IFREG|0755, st_size=643, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5482053000
read(3, "\267\0\0\0L;Coverage Attribute Table;-"..., 4096) = 643
mmap(NULL, 8017316959253172224, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
brk(0x6f433b4c0063d000)                 = 0x624000
mmap(NULL, 8017316959253307392, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
mmap(NULL, 134217728, PROT_NONE,
MAP_PRIVATE|MAP_ANONYMOUS|MAP_NORESERVE, -1, 0) = 0x2b5486a91000
munmap(0x2b5486a91000, 22474752)        = 0
munmap(0x2b548c000000, 44634112)        = 0
mprotect(0x2b5488000000, 135168, PROT_READ|PROT_WRITE) = 0
mmap(NULL, 8017316959253172224, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.;1", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX.", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX.;1", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.", O_RDONLY) = -1 ENOENT (No
such file or directory)
open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.;1", O_RDONLY) = -1 ENOENT (No
such file or directory)
close(3)                                = 0
munmap(0x2b5482053000, 4096)            = 0
fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 2), ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
= 0x2b5482053000
write(1, "FAILURE:\n", 9FAILURE:
)               = 9
write(1, "Unable to open datasource `gltp:"..., 97Unable to open
datasource `gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer' with the following
drivers.
) = 97
write(1, "  -> ESRI Shapefile\n", 20  -> ESRI Shapefile
)   = 20
write(1, "  -> MapInfo File\n", 18  -> MapInfo File
)     = 18
write(1, "  -> UK .NTF\n", 13  -> UK .NTF
)          = 13
write(1, "  -> SDTS\n", 10  -> SDTS
)             = 10
write(1, "  -> TIGER\n", 11  -> TIGER
)            = 11
write(1, "  -> S57\n", 9  -> S57
)               = 9
write(1, "  -> DGN\n", 9  -> DGN
)               = 9
write(1, "  -> VRT\n", 9  -> VRT
)               = 9
write(1, "  -> AVCBin\n", 12  -> AVCBin
)           = 12
write(1, "  -> REC\n", 9  -> REC
)               = 9
write(1, "  -> Memory\n", 12  -> Memory
)           = 12
write(1, "  -> CSV\n", 9  -> CSV
)               = 9
write(1, "  -> GML\n", 9  -> GML
)               = 9
write(1, "  -> KML\n", 9  -> KML
)               = 9
write(1, "  -> OGDI\n", 10  -> OGDI
)             = 10
exit_group(1)                           = ?
Process 8229 detached
[root@gis ~]#




_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From MChapman at sanz.com  Thu Dec 28 13:17:52 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] struggling with ogrinfo and vmap data
In-Reply-To: <1167328367.2768.36.camel@core.celtec.co.uk>
Message-ID: <ED3A48B9840E594890A2BC172D11946509AA9C8F@mailman.san.com>

Bruce,

Whoops, the location for OGDI is http://ogdi.sourceforge.net/

Also, see
http://www.pcigeomatics.com/cgi-bin/pcihlp/GDB%7CSupported+File+Formats%
7COGDI+(Open+Geospatial+Datastore+Interface) for a better description on
how to query OGDI layers.

Martin Chapman
SANZ Inc.
Software Developer
http://www.earthwhere.com
W - 303.495.6326
C  - 303.898.0397

-----Original Message-----
From: Bruce Bushby [mailto:bruce.bushby@rmsaudio.com] 
Sent: Thursday, December 28, 2006 10:53 AM
To: Chapman, Martin
Subject: RE: [Gdal-dev] struggling with ogrinfo and vmap data


Hi Martin

Thanks for getting back to me, I've been pulling my hair for the past 3
days so do appreciate the input.

I have compiled gdal with ogdi-3.1.5, my compile process was as follows:
	expat-2.0.0 
	./configure;make install;ldconfig 

	zlib-1.2.3 
	./configure --shared --prefix=/usr/local; make install; ldconfig


	proj-4.5.0 
	./configure; make install; ldconfig 

	ogdi-3.1.5 
	export TOPDIR=`pwd` 
	./configure --with-zlib=/usr/local --with-expat=/usr/local
--with-proj=/usr/local; make install;ldconfig

	gdal-1.4.0beta2 
	./configure --with-ogdi=/usr/local; make install; ldconfig 

Everything compiles fine and the resulting binaries all seem to
work....it's just that ogrinfo won't read my vmap data :)

I'm busy downloading Fedora Core 6 (32bit) as my current platform is
Fedora Core 6 (64bit). 

www.ogdi.org doesn't seem to exist, I got my ogdi from sourceforge.

Thanks again, will send an update if/when I get it working.

Regards
Bruce






On Thu, 2006-12-28 at 09:59 -0700, Chapman, Martin wrote:
> You need to compile gdal with support for OGDI.  That requires
> downloading and compiling the OGDI library from http://www.ogdi.org .
> If you want a quick start I can put a zip of a built version on an ftp
> site...as long as you are windows.  Then you just need to change the
> nmake.opt file to uncomment OGDI support and you will be good to go. 
> 
> Martin Chapman
> SANZ Inc.
> Software Developer
> http://www.earthwhere.com
> W - 303.495.6326
> C  - 303.898.0397
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Bruce Bushby
> Sent: Thursday, December 28, 2006 7:41 AM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] struggling with ogrinfo and vmap data
> 
> Hi
> 
> I've been struggling to query vmap data using ogrinfo and hoping
> somebody
> could point me in the right direction?
> 
> I have "cleaned" the vmap data so that ALL capitals have been
converted
> to
> lower case.
> 
> This is my command and output:
> 	[root@gis ~]# ogrinfo --debug on -ro
> gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer
> 	OGR: OGROpen(gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer) failed.
> 	FAILURE:
> 	Unable to open datasource
> `gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer' with the following drivers.
>   	-> ESRI Shapefile
>   	-> MapInfo File
>   	-> UK .NTF
>   	-> SDTS
>   	-> TIGER
>   	-> S57
>   	-> DGN
>   	-> VRT
>   	-> AVCBin
>   	-> REC
>   	-> Memory
>   	-> CSV
>   	-> GML
>   	-> KML
>   	-> OGDI
> 	[root@gis ~]#
> 
> 
> My setup/compilation is as follows (Fedora Core 6 [X86_64]):
> 	expat-2.0.0
> 	./configure;make install;ldconfig
> 
> 	zlib-1.2.3
> 	./configure --shared --prefix=/usr/local; make install; ldconfig
> 
> 	proj-4.5.0
> 	./configure; make install; ldconfig
> 
> 	ogdi-3.1.5
> 	export TOPDIR=`pwd`
> 	./configure --with-zlib --with-expat --with-proj; make install;
> ldconfig
> 
> 	gdal-1.4.0beta2
> 	./configure --with-ogdi=/usr/local; make install; ldconfig
> 
> I have also pasted the output of a strace in case it helps. Looking at
> the strace, ogrinfo
> does attempt to read the data: 
> 	"read(3, "\267\0\0\0L;Coverage Attribute Table;-"..., 4096) =
> 643"
> 
> Going through the strace, it looks for "gdalplugins"...which I don't
> have?
> 
> Also, it tries to open a "cax" file which does not exist in my map
data?
> 
> Any help or pointers would be much appreciated!
> 
> Regards
> Bruce
> 
> 
> 
> STRACE OUTPUT:
> 
> [root@gis ~]# strace ogrinfo -ro
> gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer
> execve("/usr/local/bin/ogrinfo", ["ogrinfo", "-ro",
> "gltp:/vrf/tmp/vmap0/v0noa/vmaplv"...], [/* 28 vars */]) = 0
> brk(0)                                  = 0x603000
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5481fe8000
> uname({sys="Linux", node="gis.celtec.co.uk", ...}) = 0
> access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or
> directory)
> open("/etc/ld.so.cache", O_RDONLY)      = 3
> fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
> mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
> close(3)                                = 0
> open("/usr/local/lib/libgdal.so.1", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\220\6\16"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=4607087, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5482014000
> mmap(NULL, 6305160, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54821e9000
> mprotect(0x2b5482573000, 2093056, PROT_NONE) = 0
> mmap(0x2b5482772000, 413696, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x389000) = 0x2b5482772000
> mmap(0x2b54827d7000, 87432, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54827d7000
> close(3)                                = 0
> open("/usr/local/lib/libogdi31.so", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260m\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=150802, ...}) = 0
> mmap(NULL, 2227928, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54827ed000
> mprotect(0x2b548280c000, 2097152, PROT_NONE) = 0
> mmap(0x2b5482a0c000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1f000) = 0x2b5482a0c000
> close(3)                                = 0
> open("/usr/lib64/libgif.so.4", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\200\35\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=34552, ...}) = 0
> mmap(NULL, 2129832, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5482a0d000
> mprotect(0x2b5482a15000, 2093056, PROT_NONE) = 0
> mmap(0x2b5482c14000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) = 0x2b5482c14000
> close(3)                                = 0
> open("/usr/lib64/libjpeg.so.62", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0P5\0\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=139296, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5482c15000
> mmap(NULL, 2234544, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5482c16000
> mprotect(0x2b5482c37000, 2097152, PROT_NONE) = 0
> mmap(0x2b5482e37000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x21000) = 0x2b5482e37000
> close(3)                                = 0
> open("/usr/lib64/libtiff.so.3", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20v\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=365280, ...}) = 0
> mmap(NULL, 2461640, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5482e38000
> mprotect(0x2b5482e8f000, 2093056, PROT_NONE) = 0
> mmap(0x2b548308e000, 12288, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x56000) = 0x2b548308e000
> close(3)                                = 0
> open("/usr/lib64/libpng12.so.0", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\0H\0\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=147144, ...}) = 0
> mmap(NULL, 2242312, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5483091000
> mprotect(0x2b54830b4000, 2097152, PROT_NONE) = 0
> mmap(0x2b54832b4000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) = 0x2b54832b4000
> close(3)                                = 0
> open("/lib64/librt.so.1", O_RDONLY)     = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\300#\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=50320, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b54832b5000
> mmap(NULL, 2132968, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54832b6000
> mprotect(0x2b54832be000, 2093056, PROT_NONE) = 0
> mmap(0x2b54834bd000, 8192, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) = 0x2b54834bd000
> close(3)                                = 0
> open("/usr/lib64/libcurl.so.3", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260\257"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=249736, ...}) = 0
> mmap(NULL, 2345608, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54834bf000
> mprotect(0x2b54834fa000, 2097152, PROT_NONE) = 0
> mmap(0x2b54836fa000, 8192, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3b000) = 0x2b54836fa000
> close(3)                                = 0
> open("/usr/lib64/libgssapi_krb5.so.2", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0000`\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=171336, ...}) = 0
> mmap(NULL, 2266896, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54836fc000
> mprotect(0x2b5483725000, 2093056, PROT_NONE) = 0
> mmap(0x2b5483924000, 8192, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x28000) = 0x2b5483924000
> close(3)                                = 0
> open("/usr/lib64/libkrb5.so.3", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0 s\1\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=553008, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5483926000
> mmap(NULL, 2648352, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5483927000
> mprotect(0x2b54839aa000, 2097152, PROT_NONE) = 0
> mmap(0x2b5483baa000, 16384, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x83000) = 0x2b5483baa000
> close(3)                                = 0
> open("/usr/lib64/libk5crypto.so.3", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0000U\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=150568, ...}) = 0
> mmap(NULL, 2246920, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5483bae000
> mprotect(0x2b5483bd1000, 2097152, PROT_NONE) = 0
> mmap(0x2b5483dd1000, 8192, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) = 0x2b5483dd1000
> close(3)                                = 0
> open("/lib64/libcom_err.so.2", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20\f\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=8000, ...}) = 0
> mmap(NULL, 2103320, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5483dd3000
> mprotect(0x2b5483dd5000, 2093056, PROT_NONE) = 0
> mmap(0x2b5483fd4000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) = 0x2b5483fd4000
> close(3)                                = 0
> open("/lib64/libresolv.so.2", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\3603\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=89792, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5483fd5000
> mmap(NULL, 2181864, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5483fd6000
> mprotect(0x2b5483fe7000, 2097152, PROT_NONE) = 0
> mmap(0x2b54841e7000, 8192, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x11000) = 0x2b54841e7000
> mmap(0x2b54841e9000, 6888, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54841e9000
> close(3)                                = 0
> open("/lib64/libdl.so.2", O_RDONLY)     = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`\17\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=20520, ...}) = 0
> mmap(NULL, 2109728, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54841eb000
> mprotect(0x2b54841ee000, 2093056, PROT_NONE) = 0
> mmap(0x2b54843ed000, 8192, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) = 0x2b54843ed000
> close(3)                                = 0
> open("/usr/lib64/libidn.so.11", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\220/\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=202592, ...}) = 0
> mmap(NULL, 2297840, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54843ef000
> mprotect(0x2b5484420000, 2093056, PROT_NONE) = 0
> mmap(0x2b548461f000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x30000) = 0x2b548461f000
> close(3)                                = 0
> open("/lib64/libssl.so.6", O_RDONLY)    = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260\"\1"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=299976, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5484620000
> mmap(NULL, 2395424, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5484621000
> mprotect(0x2b5484664000, 2097152, PROT_NONE) = 0
> mmap(0x2b5484864000, 24576, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x43000) = 0x2b5484864000
> close(3)                                = 0
> open("/lib64/libcrypto.so.6", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\0d\5\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=1324224, ...}) = 0
> mmap(NULL, 3434488, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b548486a000
> mprotect(0x2b548498f000, 2093056, PROT_NONE) = 0
> mmap(0x2b5484b8e000, 126976, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x124000) = 0x2b5484b8e000
> mmap(0x2b5484bad000, 14328, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b5484bad000
> close(3)                                = 0
> open("/usr/local/lib/libz.so.1", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\360\36\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=118627, ...}) = 0
> mmap(NULL, 2205160, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5484bb1000
> mprotect(0x2b5484bcc000, 2093056, PROT_NONE) = 0
> mmap(0x2b5484dcb000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1a000) = 0x2b5484dcb000
> close(3)                                = 0
> open("/usr/lib64/libstdc++.so.6", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0 \364\4\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=981840, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5484dcc000
> mmap(NULL, 3153696, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5484dcd000
> mprotect(0x2b5484eb4000, 2097152, PROT_NONE) = 0
> mmap(0x2b54850b4000, 36864, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xe7000) = 0x2b54850b4000
> mmap(0x2b54850bd000, 73504, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54850bd000
> close(3)                                = 0
> open("/lib64/libm.so.6", O_RDONLY)      = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260?\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=611880, ...}) = 0
> mmap(NULL, 2629848, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54850cf000
> mprotect(0x2b5485151000, 2093056, PROT_NONE) = 0
> mmap(0x2b5485350000, 8192, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x81000) = 0x2b5485350000
> close(3)                                = 0
> open("/lib64/libgcc_s.so.1", O_RDONLY)  = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\200\37\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=54672, ...}) = 0
> mmap(NULL, 2150376, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5485352000
> mprotect(0x2b548535f000, 2093056, PROT_NONE) = 0
> mmap(0x2b548555e000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xc000) = 0x2b548555e000
> close(3)                                = 0
> open("/lib64/libc.so.6", O_RDONLY)      = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0@\333\1\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=1672888, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b548555f000
> mmap(NULL, 3461304, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5485560000
> mprotect(0x2b54856a4000, 2097152, PROT_NONE) = 0
> mmap(0x2b54858a4000, 20480, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x144000) = 0x2b54858a4000
> mmap(0x2b54858a9000, 16568, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b54858a9000
> close(3)                                = 0
> open("/lib64/libexpat.so.0", O_RDONLY)  = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340;\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=141008, ...}) = 0
> mmap(NULL, 2236256, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b54858ae000
> mprotect(0x2b54858ce000, 2093056, PROT_NONE) = 0
> mmap(0x2b5485acd000, 12288, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1f000) = 0x2b5485acd000
> close(3)                                = 0
> open("/usr/local/lib/libproj.so.0", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0@\254\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=423295, ...}) = 0
> mmap(NULL, 2473312, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5485ad0000
> mprotect(0x2b5485b29000, 2097152, PROT_NONE) = 0
> mmap(0x2b5485d29000, 12288, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x59000) = 0x2b5485d29000
> close(3)                                = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5485d2c000
> open("/usr/lib64/libX11.so.6", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\360\377"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=1093112, ...}) = 0
> mmap(NULL, 3190376, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5485d2d000
> mprotect(0x2b5485e31000, 2097152, PROT_NONE) = 0
> mmap(0x2b5486031000, 28672, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x104000) = 0x2b5486031000
> close(3)                                = 0
> open("/lib64/libpthread.so.0", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`X\0\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=138080, ...}) = 0
> mmap(NULL, 2200432, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5486038000
> mprotect(0x2b548604d000, 2093056, PROT_NONE) = 0
> mmap(0x2b548624c000, 8192, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x14000) = 0x2b548624c000
> mmap(0x2b548624e000, 13168, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2b548624e000
> close(3)                                = 0
> open("/usr/lib64/libkrb5support.so.0", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340\34\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=30088, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5486252000
> mmap(NULL, 2125392, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5486253000
> mprotect(0x2b548625a000, 2093056, PROT_NONE) = 0
> mmap(0x2b5486459000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) = 0x2b5486459000
> close(3)                                = 0
> open("/usr/lib64/libXau.so.6", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\20\16\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=10064, ...}) = 0
> mmap(NULL, 2105328, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b548645a000
> mprotect(0x2b548645c000, 2093056, PROT_NONE) = 0
> mmap(0x2b548665b000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) = 0x2b548665b000
> close(3)                                = 0
> open("/usr/lib64/libXdmcp.so.6", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\340\23\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=20136, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b548665c000
> mmap(NULL, 2115384, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b548665d000
> mprotect(0x2b5486662000, 2093056, PROT_NONE) = 0
> mmap(0x2b5486861000, 4096, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x4000) = 0x2b5486861000
> close(3)                                = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5486862000
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5486863000
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5486864000
> arch_prctl(ARCH_SET_FS, 0x2b5486863ae0) = 0
> mprotect(0x2b548624c000, 4096, PROT_READ) = 0
> mprotect(0x2b54858a4000, 16384, PROT_READ) = 0
> mprotect(0x2b5485350000, 4096, PROT_READ) = 0
> mprotect(0x2b54850b4000, 24576, PROT_READ) = 0
> mprotect(0x2b54843ed000, 4096, PROT_READ) = 0
> mprotect(0x2b54841e7000, 4096, PROT_READ) = 0
> mprotect(0x2b54834bd000, 4096, PROT_READ) = 0
> mprotect(0x2b54821e7000, 4096, PROT_READ) = 0
> munmap(0x2b5481fe9000, 172753)          = 0
> set_tid_address(0x2b5486863b70)         = 8229
> syscall_273(0x2b5486863b80, 0x18, 0x7fff28ad9418, 0x2b5481fce4a0,
> 0x2b5486863ae0, 0x2b5481fe82b8, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3,
0x3,
> 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3,
> 0x3, 0x3, 0x3, 0x3) = 0
> rt_sigaction(SIGRTMIN, {0x2b548603d4a0, [], SA_RESTORER|SA_SIGINFO,
> 0x2b5486045de0}, NULL, 8) = 0
> rt_sigaction(SIGRT_1, {0x2b548603d3f0, [],
> SA_RESTORER|SA_RESTART|SA_SIGINFO, 0x2b5486045de0}, NULL, 8) = 0
> rt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0
> getrlimit(RLIMIT_STACK, {rlim_cur=8192*1024, rlim_max=RLIM_INFINITY})
=
> 0
> futex(0x2b54850bec88, FUTEX_WAKE, 2147483647) = 0
> brk(0)                                  = 0x603000
> brk(0x624000)                           = 0x624000
> open("/usr/local/lib/gdalplugins", O_RDONLY|O_NONBLOCK|O_DIRECTORY) =
-1
> ENOENT (No such file or directory)
> stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9130) = -1
> ENOENT (No such file or directory)
> stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9130) = -1
> ENOENT (No such file or directory)
> stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad90d0) = -1
> ENOENT (No such file or directory)
> stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad90b0) = -1
> ENOENT (No such file or directory)
> open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
> (No such file or directory)
> open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
> (No such file or directory)
> open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
> (No such file or directory)
> stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9100) = -1
> ENOENT (No such file or directory)
> stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9100) = -1
> ENOENT (No such file or directory)
> stat("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", 0x7fff28ad9120) = -1
> ENOENT (No such file or directory)
> open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
> (No such file or directory)
> open("gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer", O_RDONLY) = -1 ENOENT
> (No such file or directory)
> futex(0x2b54843ee10c, FUTEX_WAKE, 2147483647) = 0
> open("/etc/ld.so.cache", O_RDONLY)      = 3
> fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
> mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
> close(3)                                = 0
> open("/lib64/tls/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file or
> directory)
> stat("/lib64/tls/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such file or
> directory)
> open("/lib64/tls/vrf", O_RDONLY)        = -1 ENOENT (No such file or
> directory)
> stat("/lib64/tls", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
> open("/lib64/x86_64/vrf", O_RDONLY)     = -1 ENOENT (No such file or
> directory)
> stat("/lib64/x86_64", 0x7fff28ad87e0)   = -1 ENOENT (No such file or
> directory)
> open("/lib64/vrf", O_RDONLY)            = -1 ENOENT (No such file or
> directory)
> stat("/lib64", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
> open("/usr/lib64/tls/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file
or
> directory)
> stat("/usr/lib64/tls/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such
file
> or directory)
> open("/usr/lib64/tls/vrf", O_RDONLY)    = -1 ENOENT (No such file or
> directory)
> stat("/usr/lib64/tls", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
> open("/usr/lib64/x86_64/vrf", O_RDONLY) = -1 ENOENT (No such file or
> directory)
> stat("/usr/lib64/x86_64", 0x7fff28ad87e0) = -1 ENOENT (No such file or
> directory)
> open("/usr/lib64/vrf", O_RDONLY)        = -1 ENOENT (No such file or
> directory)
> stat("/usr/lib64", {st_mode=S_IFDIR|0755, st_size=98304, ...}) = 0
> munmap(0x2b5481fe9000, 172753)          = 0
> open("/etc/ld.so.cache", O_RDONLY)      = 3
> fstat(3, {st_mode=S_IFREG|0644, st_size=172753, ...}) = 0
> mmap(NULL, 172753, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2b5481fe9000
> close(3)                                = 0
> open("/usr/local/lib/libvrf.so", O_RDONLY) = 3
> read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0`S\0\0\0"...,
> 832) = 832
> fstat(3, {st_mode=S_IFREG|0755, st_size=195623, ...}) = 0
> mmap(NULL, 2276864, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3,
> 0) = 0x2b5486865000
> mprotect(0x2b5486889000, 2097152, PROT_NONE) = 0
> mmap(0x2b5486a89000, 32768, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x24000) = 0x2b5486a89000
> close(3)                                = 0
> munmap(0x2b5481fe9000, 172753)          = 0
> mmap(NULL, 253952, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS,
-1,
> 0) = 0x2b5482015000
> access("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", F_OK) = 0
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", O_RDONLY) = 3
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cat", O_RDONLY) = 4
> fstat(4, {st_mode=S_IFREG|0755, st_size=643, ...}) = 0
> close(4)                                = 0
> fstat(3, {st_mode=S_IFREG|0755, st_size=643, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5482053000
> read(3, "\267\0\0\0L;Coverage Attribute Table;-"..., 4096) = 643
> mmap(NULL, 8017316959253172224, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
> brk(0x6f433b4c0063d000)                 = 0x624000
> mmap(NULL, 8017316959253307392, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
> mmap(NULL, 134217728, PROT_NONE,
> MAP_PRIVATE|MAP_ANONYMOUS|MAP_NORESERVE, -1, 0) = 0x2b5486a91000
> munmap(0x2b5486a91000, 22474752)        = 0
> munmap(0x2b548c000000, 44634112)        = 0
> mprotect(0x2b5488000000, 135168, PROT_READ|PROT_WRITE) = 0
> mmap(NULL, 8017316959253172224, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT
(No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT
(No
> such file or directory)
> open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.;1", O_RDONLY) = -1 ENOENT
(No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX.", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/caX.;1", O_RDONLY) = -1 ENOENT
(No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/vmap0/v0noa/vmaplv0/noamer/cax.;1", O_RDONLY) = -1 ENOENT
(No
> such file or directory)
> open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.", O_RDONLY) = -1 ENOENT (No
> such file or directory)
> open("/tmp/VMAP0/V0NOA/VMAPLV0/NOAMER/CAX.;1", O_RDONLY) = -1 ENOENT
(No
> such file or directory)
> close(3)                                = 0
> munmap(0x2b5482053000, 4096)            = 0
> fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 2), ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0)
> = 0x2b5482053000
> write(1, "FAILURE:\n", 9FAILURE:
> )               = 9
> write(1, "Unable to open datasource `gltp:"..., 97Unable to open
> datasource `gltp:/vrf/tmp/vmap0/v0noa/vmaplv0/noamer' with the
following
> drivers.
> ) = 97
> write(1, "  -> ESRI Shapefile\n", 20  -> ESRI Shapefile
> )   = 20
> write(1, "  -> MapInfo File\n", 18  -> MapInfo File
> )     = 18
> write(1, "  -> UK .NTF\n", 13  -> UK .NTF
> )          = 13
> write(1, "  -> SDTS\n", 10  -> SDTS
> )             = 10
> write(1, "  -> TIGER\n", 11  -> TIGER
> )            = 11
> write(1, "  -> S57\n", 9  -> S57
> )               = 9
> write(1, "  -> DGN\n", 9  -> DGN
> )               = 9
> write(1, "  -> VRT\n", 9  -> VRT
> )               = 9
> write(1, "  -> AVCBin\n", 12  -> AVCBin
> )           = 12
> write(1, "  -> REC\n", 9  -> REC
> )               = 9
> write(1, "  -> Memory\n", 12  -> Memory
> )           = 12
> write(1, "  -> CSV\n", 9  -> CSV
> )               = 9
> write(1, "  -> GML\n", 9  -> GML
> )               = 9
> write(1, "  -> KML\n", 9  -> KML
> )               = 9
> write(1, "  -> OGDI\n", 10  -> OGDI
> )             = 10
> exit_group(1)                           = ?
> Process 8229 detached
> [root@gis ~]#
> 
> 
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev



From bthoen at gisnet.com  Thu Dec 28 16:32:22 2006
From: bthoen at gisnet.com (Bill Thoen)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Ogrinfo and MapInfo "view" TAB files
Message-ID: <459437E6.20003@gisnet.com>

It doesn't look like the ogr MapInfo File driver can open a "view" type 
tab file, or am I missing something? The view format is typically how MI 
stores street files, and is essentially a join between a table of street 
names and a table of the street segments. So is there a way to get 
ogrinfo to read these or do I have to make a single tab file out of these?

- Bill Thoen


From izzybitsie at gmail.com  Fri Dec 29 13:30:50 2006
From: izzybitsie at gmail.com (Dori)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] gdal1.4.0beta2.tar.gz contains gdal1.4.0beta1 code???
Message-ID: <23e208430612291030md89b572p7e5e54a888917576@mail.gmail.com>

Hi,


I have already tried to use gdal by downloading FWTools updated with beta2
and a problem I experienced with previous gdal version is still there(pls.
see below description of original problem).  So, I decided to try on a
different computer with gdal package.
I downloaded gdal1.4.0beta2.tar.gz package from gdal.org yesterday.  I
compile the source code and install gdal on a Ubuntu Linux PC.  All seemed
to be OK.  However, when I tried to find out if the proper version was
installed by running: "gdalinfo --version" , I got version
1.4.0beta1version installed.
I didn't install beta1 before in this PC.  Does anyone have an idea if this
is just a bug and the version is beta2 although the --version says is
beta1?
I need to use beta2 since the fix I needed was supposed to be included on
this version.



ORIGINAL PROBLEM: running gdal_merge.py -pct -o output.tif -pct in1.tif
in2.tif where in*tif = geotiff images with one band and same color table,
gave me a full black out.tif.
This was reported as a bug and it was fixed according to bugzilla report for
1.4.0beta2.

You can find the input images here if you would like to give it a try:
http://www.mediamax.com/izzybitsie/Hosted/AS_GMSSO_00_20061122205634.tif
http://www.mediamax.com/izzybitsie/Hosted/AS_GMSNO_00_20061122205548.tif.gz

HAPPY NEW YEAR !!!!


Tx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061229/2239acc8/attachment.html
From warmerdam at pobox.com  Fri Dec 29 15:32:59 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] gdal1.4.0beta2.tar.gz contains gdal1.4.0beta1 code???
In-Reply-To: <23e208430612291030md89b572p7e5e54a888917576@mail.gmail.com>
References: <23e208430612291030md89b572p7e5e54a888917576@mail.gmail.com>
Message-ID: <45957B7B.3070400@pobox.com>

Dori wrote:
> Hi,
> 
> 
> I have already tried to use gdal by downloading FWTools updated with 
> beta2 and a problem I experienced with previous gdal version is still 
> there(pls. see below description of original problem).  So, I decided to 
> try on a different computer with gdal package.
> I downloaded gdal1.4.0beta2.tar.gz package from gdal.org 
> <http://gdal.org> yesterday.  I compile the source code and install gdal 
> on a Ubuntu Linux PC.  All seemed to be OK.  However, when I tried to 
> find out if the proper version was installed by running: "gdalinfo 
> --version" , I got version 1.4.0beta1 version installed.
> I didn't install beta1 before in this PC.  Does anyone have an idea if 
> this is just a bug and the version is beta2 although the --version says 
> is beta1? 

Dori,

I accidentally neglected to update the internal version info in Beta2, so
it still reports beta1.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Fri Dec 29 15:57:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] Motion: Mailing List Changes
Message-ID: <45958127.1080004@pobox.com>

Motion:
  1) To create a gdal-announce@lists.osgeo.org mailing list which is moderated
     and only used for infrequent GDAL/OGR related announcements such as
     releases, major bugs, and other major events.

  2) To migrate the gdal-dev@lists.maptools.org mailing list to lists.osgeo.org
     in such a way to preserve existing members, and hopefully preserve
     settings.

  3) To create a gdal-commits@lists.osgeo.org mailing list which will be used
     for SVN commit messages once the SVN transition is complete.

  4) To appoint Frank Warmerdam as lists administrator for the GDAL/OGR mailing
     lists.

---

Folks,

I think a gdal announcements lists is necessary.  The gdal-dev mailing list
is quite high traffic, and I think many users of GDAL who would like to keep
track of the project at a high level are not willing to subscribe to such
a high volume list.  This makes it hard to reach such users for review of
new releases, sponsorship, conference events and so forth.

I have explicitly not yet suggested a split into gdal-users and gdal-dev
though that might also be a reasonable action.

I think migration of gdal-dev to lists.osgeo.org should wait for a few
weeks to ensure the new lists management is stabilized, but after that I
think it helps make the affiliation with OSGeo clear.   It will hopefully
also upgrade us to the version of mailman which has the "discard all
pending email" option on the administrative page.  Currently it is very hard
to keep ahead of the administrative load reviewing spams, and emails from
unsubscribed users - many dozens of messages per day per list I manage.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From izzybitsie at gmail.com  Fri Dec 29 14:52:27 2006
From: izzybitsie at gmail.com (Dori)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] gdal1.4.0beta2.tar.gz contains gdal1.4.0beta1 code???
In-Reply-To: <45957B7B.3070400@pobox.com>
References: <23e208430612291030md89b572p7e5e54a888917576@mail.gmail.com>
	<45957B7B.3070400@pobox.com>
Message-ID: <23e208430612291152l3265ee2ah48ed4d319e0a093c@mail.gmail.com>

Frank,

do you know if fix for bug 1384 was included in the newest FWTools release?
I tested gdal 1.4.0beta2 included in FWTools latest package, and I still get
same black output.

Tx again

On 12/29/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> Dori wrote:
> > Hi,
> >
> >
> > I have already tried to use gdal by downloading FWTools updated with
> > beta2 and a problem I experienced with previous gdal version is still
> > there(pls. see below description of original problem).  So, I decided to
> > try on a different computer with gdal package.
> > I downloaded gdal1.4.0beta2.tar.gz package from gdal.org
> > <http://gdal.org> yesterday.  I compile the source code and install gdal
> > on a Ubuntu Linux PC.  All seemed to be OK.  However, when I tried to
> > find out if the proper version was installed by running: "gdalinfo
> > --version" , I got version 1.4.0beta1 version installed.
> > I didn't install beta1 before in this PC.  Does anyone have an idea if
> > this is just a bug and the version is beta2 although the --version says
> > is beta1?
>
> Dori,
>
> I accidentally neglected to update the internal version info in Beta2, so
> it still reports beta1.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061229/6c3558fc/attachment.html
From kkirubanantham at yahoo.com  Sat Dec 30 08:45:16 2006
From: kkirubanantham at yahoo.com (kiruba nantham)
Date: Wed Nov 21 11:50:33 2007
Subject: [Gdal-dev] "WISH YOU HAPPY NEWYEAR"
Message-ID: <649763.16713.qm@web52203.mail.yahoo.com>

Hai GDAL Group Members:
  
         WISH YOU HAPPY NEWYEAR.
                                       
                                                                                           -KIRUBANANTHAM.K
  
 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20061230/1f27fb47/attachment.html
