From prushforth at rogers.com  Sat May  6 10:27:08 2006
From: prushforth at rogers.com (Peter Rushforth)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <005101c67119$291ff880$fdf72a18@peterqta28n9cv>

Hi Frank,

I did build gdal 1.3.2b, but I was missing xerces for gml.  So I am trying
that now.  I am assuming it is 32-bit xerces which is required, and I am using
the pre-built xerces.  I get the following error.   Can you see what
I'm missing?

Thanks
Peter

checking for Xerces C++... requested, but compile or link fails!

g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include 
g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include/xercesc 
g++ -o conftest conftest.cpp 
g++ -L/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/lib -ljpeg -lpng 
g++ -lz -lm -lrt -ldl

Undefined                       first referenced
symbol                             in file
xercesc_2_7::XMLPlatformUtils::Initialize(char const*, char const*, xercesc_2_7::PanicHandler*, xercesc_2_7::MemoryManager*, bool)/var/tmp//cceUPWyC.o
xercesc_2_7::XMLUni::fgXercescDefaultLocale      /var/tmp//cceUPWyC.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060506/a8f148d1/attachment.html
From dion at west.nl  Mon May  1 05:04:22 2006
From: dion at west.nl (Dion Wooning)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <44526834.7050206@pobox.com>
References: <444ED793.2020404@pobox.com>
	<65245.145.50.39.8.1146225588.squirrel@www.west.nl>
	<44526834.7050206@pobox.com>
Message-ID: <55919.145.50.39.8.1146474262.squirrel@www.west.nl>

Hello Frank,

Frank Warmerdam said:
> I did a bunch of work in the mrsid configuration and code to
> work properly between version 5 and 6.  The changes are in CVS
> if you would like to give them a spin.

I've tried, and it seems to work fine now for ESDK 5.0.6. Thanks!

> This took me roughly 3 hours (with many interruptions).  I hate configure
> hacking!

You're not the only one. I would have done this but at the moment I
lack deep understanding of how it all ties together I'm afraid :)

>> 2. link problems with OpenDWG current or older: the linklibs don't get
>>    included properly into the list of libs. I think this is caused by
>>    a wrong order of definition in GDALmake.opt.in, as the following
>>    line:
>>
>>    LIBS    =       @LIBS@ $(DWG_LIBS) $(SDE_LIB)
>>
>>    is found above the section where DWG_LIBS is defined:
>>
>>    # DWGdirect Library
>>    [...]
>>    DWG_LIBS = [...]
>>
>>    quick fix: include the following line below the DWGdirect Library
>>    section:
>>
>> LIBS += $(DWG_LIBS)
>
> Funky, I don't run into this problem with GNUmake 3.80. My understanding
> is that $(DWG_LIBS) becomes part of LIBS and isn't expanded until LIBS
> is actually used and that is the behavior I've seen.  Well, I won't take
> any action on this till I understand what is going on better.

Mmm. Perhaps it is a problem with my GNUmake, which is 3.79.1 (for
i386-redhat-linux-gnu).

I see lines like

LIBS            := $(filter-out -ldbmalloc,$(LIBS))

Between the first definition of LIBS and the definition of DWG_LIBS. As
these use simple expansion, perhaps this is causing the reference to
DWG_LIBS to be taken out?
( See http://www.gnu.org/software/make/manual/make.html#Flavors )

Regards,
Dion Wooning.



From dieter.lehmann at hfwu.de  Mon May  1 06:43:31 2006
From: dieter.lehmann at hfwu.de (Dieter Lehmann)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] gdalwarp Corine
In-Reply-To: <44551DD8.9090303@gmx.net>
References: <20060430204718.h3v8axymz8g080ko@mail.hfwu.de>
	<44551DD8.9090303@gmx.net>
Message-ID: <20060501124331.ewybworhc8n44gkw@mail.fh-nuertingen.de>

Hello Armin,
thanks for your replay.
I found, that my tfw was not correct (first line was corrupt), after I changed
that, I get a new error, either I tryed the EPSG-code or the full description
of it.

Any ideas?

Here's the error I got:

ERROR 1: latitude or longitude exceeded limits
ERROR 1: GDALWarperOperation::ComputeSourceWindow() failed because the
pfnTranformer failed.

Thanks a lot.
Dieter





Quoting Armin Burger <armin.burger@gmx.net>:

> You could at least in this case try to use the EPSG codes and see if 
> it works better. Newer versions of GDAL know the ETRS-LAEA projection.
>
> gdalwarp -s_srs "EPSG:3035" -t_srs "EPSG:32632" in.tif out.tif
>
> armin
>
> Dieter Lehmann wrote:
>> Hello,
>> sorry for bothering you, but I get stucked...
>>
>> I need to project a corine landcover grid to UTM Zone 32. I tryed it 
>> this way:
>>
>>
>> gdalwarp
>> -s_srs "+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 
>> +ellps=GRS80
>> +units=m +datum=ETRS89 +no_defs"
>> -t_srs "+proj=utm +zone=32 +datum=WGS84" in.tif out.tif
>>
>>
>> I thought, this should work, but it seems, that I miss something:
>>
>>> ERROR 1: Unable to compute a transformation between pixel/line
>> and georeferenced coordinates for lceugr100_00_pct.tif.
>> There is no affine transformation and no GCPs.
>>
>> Because I need this file on Tuesday, I'm a little be in rush...
>>
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From warmerdam at pobox.com  Mon May  1 09:32:55 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <55919.145.50.39.8.1146474262.squirrel@www.west.nl>
References: <444ED793.2020404@pobox.com>
	<65245.145.50.39.8.1146225588.squirrel@www.west.nl>
	<44526834.7050206@pobox.com>
	<55919.145.50.39.8.1146474262.squirrel@www.west.nl>
Message-ID: <44560E07.2010502@pobox.com>

Dion Wooning wrote:
> Mmm. Perhaps it is a problem with my GNUmake, which is 3.79.1 (for
> i386-redhat-linux-gnu).
> 
> I see lines like
> 
> LIBS            := $(filter-out -ldbmalloc,$(LIBS))
> 
> Between the first definition of LIBS and the definition of DWG_LIBS. As
> these use simple expansion, perhaps this is causing the reference to
> DWG_LIBS to be taken out?
> ( See http://www.gnu.org/software/make/manual/make.html#Flavors )

Dion,

Aha!  A very astute observation.  This is only applied in release
builds (not debug as I normally use) and so I don't see this effect when
I am developing.  I'll reorder things appropriately.

The := operate is different than = in the way it evaluates right
right hand side and assigns to the left.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Mon May  1 10:44:01 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] gdalwarp Corine
In-Reply-To: <20060501124331.ewybworhc8n44gkw@mail.fh-nuertingen.de>
References: <20060430204718.h3v8axymz8g080ko@mail.hfwu.de>	<44551DD8.9090303@gmx.net>
	<20060501124331.ewybworhc8n44gkw@mail.fh-nuertingen.de>
Message-ID: <44561EB1.80407@pobox.com>

Dieter Lehmann wrote:
> Hello Armin,
> thanks for your replay.
> I found, that my tfw was not correct (first line was corrupt), after I 
> changed
> that, I get a new error, either I tryed the EPSG-code or the full 
> description
> of it.
> 
> Any ideas?
> 
> Here's the error I got:
> 
> ERROR 1: latitude or longitude exceeded limits
> ERROR 1: GDALWarperOperation::ComputeSourceWindow() failed because the
> pfnTranformer failed.

Dieter,

The error means at some stage in the transformations a latitude or
longitude exceeded the -360 to 360 range for longitude or more likely the
-90 to 90 range for latitude.

If you can provide the file you are attempting to transform I could try and
reproduce your problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From collinsb at mitre.org  Mon May  1 11:49:22 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL/OGR C# wrapper
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CD5B839@IMCSRV1.MITRE.ORG>

The wrapper does look like great...

I would, however, suggest that efforts at extending the wrapper be
focused on extending the SWIG portion of the GDAL project.  By making
the SWIG infrastructure more mature and compete, all the languages will
benefit from any work done.  In fact, the OGR part of the SWIG project
is the piece that needs the most work.

Of course, I'm biased, since I'd love for your work to make the Java
port better.

Not a criticism, just a suggestion.
--
Ben Collins

>-----Original Message-----
>From: gdal-dev-bounces@lists.maptools.org 
>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
>Christian Graefe
>Sent: Saturday, April 29, 2006 7:05 AM
>To: gdal-dev@lists.maptools.org; Richard Matsunaga
>Subject: Re: [Gdal-dev] GDAL/OGR C# wrapper
>
>Hello Richard!
>
>Nice work with the wrapper. It's working properly for me, but 
>i'm only using it for reading 
>data.
>
>I want to invest some time extending the OGR part of the 
>wrapper. Therefore i want to
>know what license belongs to the code? GPL/LGPL/BSD? 
>
>Perhaps we can coordinate our work!
>
>BR/
>Christian
>


From kueda at nature.berkeley.edu  Mon May  1 12:12:38 2006
From: kueda at nature.berkeley.edu (Ken-ichi)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] ruby bindings not compiling from CVS
Message-ID: <44563376.1050206@nature.berkeley.edu>

Hi all,

When I try to compile the latest CVS (4.30.06) version of GDAL 
--with-ruby, configuring and compiling go off without a hitch, but when 
I try to make install, I get this error:

(cd swig; make install)
for dir in ruby ; do (cd $dir; make install ); done
make -f RubyMakefile.mk install
/bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool --mode=install 
/usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so ogr.so 
gdalconst.so osr.so 
/usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
/usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
/usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so
install:  gdal.so does not exist
make[3]: *** [install] Error 1
make[2]: *** [install] Error 2
make[1]: *** [install] Error 2
make: *** [install-actions] Error 2


It doesn't look like gdal.so is getting made at all.  I'm getting 
basically the same error on Mac OS 10.4 and Gentoo Linux.  I do not get 
this error on Gentoo with the 1.3.1 source (haven't tried that one on my 
Mac yet).

Any thoughts?

-- 
Ken-ichi Ueda	
Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
University of California, Berkeley
Environmental Science, Policy, and Management
Berkeley, CA 94720
tel: 510.642.8322
fax: 510.642.1477
e-mail: kueda@nature.berkeley.edu


From warmerdam at pobox.com  Mon May  1 12:18:55 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Content length field mismatch in shapefiles
In-Reply-To: <Pine.LNX.4.44.0604301622220.9216-100000@reclus.nhh.no>
References: <Pine.LNX.4.44.0604301622220.9216-100000@reclus.nhh.no>
Message-ID: <445634EF.3080006@pobox.com>

Roger Bivand wrote:
> If anyone can see errors of interpretation here, I'd be grateful. I don't 
> think this fix can be applied to OGR/shapelib from the API, though, is 
> that right?

Roger,

I'm hesitant to incorporate such a change into shapelib for fear it will
make things very fragile.  I would kind of like to make Shapelib support
shp files without a .shx file (perhaps generating it as a prepass).  If we
had that, I think folks with geolytics files could just delete their .shx
file and let shapelib regenerate it properly.  However, I'm not likely to
do this myself in the near future.

Generally speaking trying to deal with other folks broken writers can
be a very frustrating and somewhat dangerous direction.  And it isn't one I'm
likely to do for fun.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Roger.Bivand at nhh.no  Mon May  1 12:55:36 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Content length field mismatch in shapefiles
In-Reply-To: <445634EF.3080006@pobox.com>
Message-ID: <Pine.LNX.4.44.0605011850130.9778-100000@reclus.nhh.no>

On Mon, 1 May 2006, Frank Warmerdam wrote:

> Roger Bivand wrote:
> > If anyone can see errors of interpretation here, I'd be grateful. I don't 
> > think this fix can be applied to OGR/shapelib from the API, though, is 
> > that right?
> 
> Roger,
> 
> I'm hesitant to incorporate such a change into shapelib for fear it will
> make things very fragile.  I would kind of like to make Shapelib support
> shp files without a .shx file (perhaps generating it as a prepass).  If we
> had that, I think folks with geolytics files could just delete their .shx
> file and let shapelib regenerate it properly.  However, I'm not likely to
> do this myself in the near future.

Frank,

> 
> Generally speaking trying to deal with other folks broken writers can
> be a very frustrating and somewhat dangerous direction.  And it isn't one I'm
> likely to do for fun.
> 

I quite agree. The posted solution works for stand-alone shapelib people. 
I also agree that a *.shx verifier and re-builder would be a way round 
which would work for OGR users if information that the length of *.shp and 
the implied length in the *.shx don't agree. Naturally there can be lots 
of other pathological shx/shp varieties out there, it was interesting to 
see just how dumb this one was.

Shall I write a very small shapelib contrib function/program to test for 
this malformity?

Best wishes,

Roger

> Best regards,
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no


From warmerdam at pobox.com  Mon May  1 13:30:07 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Content length field mismatch in shapefiles
In-Reply-To: <Pine.LNX.4.44.0605011850130.9778-100000@reclus.nhh.no>
References: <Pine.LNX.4.44.0605011850130.9778-100000@reclus.nhh.no>
Message-ID: <4456459F.3040108@pobox.com>

Roger Bivand wrote:
> Shall I write a very small shapelib contrib function/program to test for 
> this malformity?

Roger,

If you did so, I would add it.  Alternatively SHPOpen() could recover from
missing .shx files by rebuilding one.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From tonio_73 at tiscali.fr  Mon May  1 15:03:29 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <4451785B.3090707@daylongraphics.com>
References: <005101c67119$291ff880$fdf72a18@peterqta28n9cv>
	<4451785B.3090707@daylongraphics.com>
Message-ID: <e9e5ed17412ce3080a3e2f3dcdd323b0@tiscali.fr>


Le 28 avr. 06, ? 04:05, Ray Gardener a ?crit :

> Hi everyone,
>
> I've written a draft proposal for improving vertical data support in 
> GDAL, comments welcome.
>
> http://www.daylongraphics.com/download/vunits_in_gdal.pdf
>

Hello,

Without being an expert in this field, I have run into some of these 
issues while working on 3D terrain modeling from DEM. I fully support 
an initiative to make it more explicit that a layer is a DEM, what is 
the unit and pixel interpretation.

An extension to this is support for geocentric SRS and warp to/from 
geocentric SRS.

Antoine Hue



From Roger.Bivand at nhh.no  Mon May  1 15:11:01 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Content length field mismatch in shapefiles
In-Reply-To: <4456459F.3040108@pobox.com>
Message-ID: <Pine.LNX.4.44.0605012052040.9778-100000@reclus.nhh.no>

On Mon, 1 May 2006, Frank Warmerdam wrote:

> Roger Bivand wrote:
> > Shall I write a very small shapelib contrib function/program to test for 
> > this malformity?
> 
> Roger,
> 
> If you did so, I would add it.  Alternatively SHPOpen() could recover from
> missing .shx files by rebuilding one.

Frank,

Here are the two functions (I'm not sure where they might best live):


int SHPCheckSHX( SHPHandle hSHP )
/* checks file length against implied file length in *.shx to guard */
/* against overrun */

{
    int result = 0;
    if ((hSHP->panRecOffset[hSHP->nRecords-1] + 
	hSHP->panRecSize[hSHP->nRecords-1] + 8) > hSHP->nFileSize)
	    result = 1;
    return( result );
}

int SHPCheckSHX_Geolytics( SHPHandle hSHP )
/* checks for Geolytics Inc. off by 8 bytes malformity in *.shx */

{
    int i, result;
    for (i=1, result=0; i < hSHP->nRecords; i++)
	if (hSHP->panRecOffset[i] != (hSHP->panRecOffset[i-1] + 
	    hSHP->panRecSize[i-1])) result++;

    return( result );

}

and rather than a separate utility, maybe this:

    if ( SHPCheckSHX( hSHP ) != 0 ) {
	printf( "Mismatch between shp file length and shx file.\n" );
	if ( SHPCheckSHX_Geolytics( hSHP ) == 0 )
	    printf( "Off-by-8 malformity in shx file.\n" );
    }

after about line 74 in contrib/shpinfo.c; I've tested the functions but 
not the suggested addition to shpinfo.

Your idea of having SHPOpen() reconstruct a missing *.shx is of course the 
best choice, because no argument passing is needed, just knowledge in the 
community that if shpinfo reports a length mismatch, they should 
rename/delete the shx file and try again, which would work for OGR nicely.

Doing this would be a substantial intervention in SHPOpen(), though, 
setting a no_SHX flag, and conditioning on it from there on. Do we need to 
write an shx file out, is it sufficient simply to populate the SHPHandle 
correctly?

Best wishes,

Roger

> 
> Best regards,
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no


From quickstuff at altern.org  Mon May  1 16:08:47 2006
From: quickstuff at altern.org (Quentin S.)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Setting deflate compression level
Message-ID: <1103.89.83.132.77.1146514127.squirrel@altern.org>

Hello everybody,

I wonder if there is a way to set the desired compression level for
TIFF/Deflate using GDAL utilities. I already tried sending a "--config
TIFFTAG_ZIPQUALITY 9" to gdal_translate, setting it as an environment
variable... to no avail.
Is it currently possible or would it be in a future release ? Any clue ?

Another question about gdal_translate : how does one create "basic"
Geotiff files with some tifftags (as recognized by libtiff, e.g. Copyright
Orientation and so on) ?
It seems using "-co PROFILE=GeoTIFF" prevents any processing of such tags.

Thanks in advance,
and keep up the good work!

(FYI: FWTools 1.0.0b2 package under Win32.)


From warmerdam at pobox.com  Mon May  1 18:25:21 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Setting deflate compression level
In-Reply-To: <1103.89.83.132.77.1146514127.squirrel@altern.org>
References: <1103.89.83.132.77.1146514127.squirrel@altern.org>
Message-ID: <44568AD1.7060700@pobox.com>

Quentin S. wrote:
> Hello everybody,
> 
> I wonder if there is a way to set the desired compression level for
> TIFF/Deflate using GDAL utilities. I already tried sending a "--config
> TIFFTAG_ZIPQUALITY 9" to gdal_translate, setting it as an environment
> variable... to no avail.
> Is it currently possible or would it be in a future release ? Any clue ?

Quentin,

I'm willing to add such a creation option but it doesn't exist yet.
Please file a bug request, and I'll return to this after the release.

> Another question about gdal_translate : how does one create "basic"
> Geotiff files with some tifftags (as recognized by libtiff, e.g. Copyright
> Orientation and so on) ?
> It seems using "-co PROFILE=GeoTIFF" prevents any processing of such tags.

Hmm, interesting point, and not the intended effect. PROFILE=GeoTIFF was
intended to prevent the custom GDAL metadata tag, but wasn't intended to
stop the standard TIFF metadata items.  Could you file a bug on this?
I hesitate to fix this before the release.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From vaskup at adsmr.co.za  Tue May  2 05:37:31 2006
From: vaskup at adsmr.co.za (Vasku Pech)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] RE: GDAL for windows CE
Message-ID: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFDF63@ADSMAIL.Adsintranet.Corp>

Hi Matues,

I cannot by any means connect to your CVS server. When I try entering the password it gives me the following reply:
Unknown host cvs.maptools.org

I have fllowed the procedure described on www.gdal.org. This is what it says:
___________________________________________________________

GDAL source releases are available in tar.gz and zip from
from the GDAL primary ftp site, and http mirror site:

 http://www.gdal.org/dl

 http://gdal.maptools.org/dl

 The NEWS file describes features added up to the most
recent public release.

 Late each night a development snapshot is captured from
CVS and made available. These snapshots are not stable
releases, and might (on a bad night) not even build.
However, they do contain essentially the latest code. They
can be downloaded from:

 http://gdal.maptools.org/dl/daily

 Refer to the build instructions for how to build GDAL from
source.

 CVS

 The GDAL source is available by anonymous CVS from the
cvs.maptools.org server:

% export
CVSROOT=:pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot
% cvs login
Password: *enter*
% cvs checkout gdal

Update access to the CVS repository can be obtained by
arrangement with the maintainer.
____________________________________________________________________

My question is: Is pserver an alias for an IP address? If so please give me the IP address so I can add to my hosts file.

Regards,
Vasku

-----Original Message-----
From: Mateusz Loskot [mailto:mateusz@loskot.net]
Sent: 27 April 2006 02:20 PM
To: gdal-dev@lists.maptools.org
Cc: Vasku Pech
Subject: Re: GDAL for windows CE


Hi,

Vasku Pech wrote:
> 
> I use the workspace file supplied .vcw but it does not want to
> compile. It tells me that the .vcw and .vcp files where not created
> in embedded Visual C++.

Hmm, that's very strange.
Could you check if those .vcw/.vcw files have CR/LF line ends?
May be those files were converted to Unix LFs only and eVC++ can not
recognize them.

> I have tried to download a stable version of the software via the CVS
> site. When I enter the password *enter* it gives me the following
> reply: Unknown host cvs.maptools.org

Strange. I use GDAL CVS every day and it works.
Please, try to follow this procedure:

C:\tmp\gal$ cvs -d
:pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot login
Logging in to :pserver:cvsanon@cvs.maptools.org:2401/cvs/maptools/cvsroot
CVS password:    *ENTER*

C:\tmp\gal$ cvs -z3 -d
:pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot checkout gdal

> Can you please tell me where I can download the Windows CE port of
> gdal with the correct make files or project/workspace files?

Try to downlaod them from CVS again, then check if lines in .vcw/.vcp
files are ended with CR/LF.

If it still is not working, give me ASAP a note I'll try to find where
it the problem.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net


From nhv at cape.com  Tue May  2 06:15:28 2006
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] RE: GDAL for windows CE
In-Reply-To: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFDF63@ADSMAIL.Adsintranet.Corp>
Message-ID: <EKEJIKAILPONGGENMBGAMEAAADAB.nhv@cape.com>

Vasku Pech writes:
> 
> I cannot by any means connect to your CVS server. When I try entering the password it gives me the following reply:
> Unknown host cvs.maptools.org
> 
> I have fllowed the procedure described on www.gdal.org. This is what it says:
>
>  The GDAL source is available by anonymous CVS from the
> cvs.maptools.org server:
> 
> % export
> CVSROOT=:pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot
> % cvs login
> Password: *enter*
> % cvs checkout gdal
> 
> Update access to the CVS repository can be obtained by
> arrangement with the maintainer.

Vasku

This is most likely an "English" language keyboard problem

When CVS asks you for a password DO *NOT* type "enter"
instead just hit the "Enter Key" < sometimes call *Return" >

eg  it is a BLANK password

HTH

Norman



From s_jubeh at yahoo.com  Tue May  2 07:19:12 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] HDF file support
Message-ID: <20060502111912.80274.qmail@web52710.mail.yahoo.com>

Hi guys
   
  I faced a problem with MapServer , i tried to render HDF images, I compiled Mapserver via GDAL and GDAL via HDF. the HDF files resides on another PC, when i tried to render the images i get this error
   
    msDrawMap(): Image handling error. Failed to draw layer named 'result'. 
msDrawRaster(): Image handling error. Unrecognized or unsupported image format 
drawEPP(): Image handling error. EPPL7 support is not available. 
   
   I have another copy of the image in tif format so i changed the map file to use the tiff image and the mapserver was able to render the image.
   
  so i think GDAL CAUSE  this error, also i tried this   
   
  
C:\tclhttpd\htdocs\apps>gdalinfo \\gislaptop\htdocs\2\data\blue.hdf
ERROR 4: `HDF4_SDS:GDAL_HDF4:"\\gislaptop\htdocs\2\data\blue.hdf":0' does not ex
ist in the file system,
and is not recognised as a supported dataset name.
  GDALOpen failed - 4
`HDF4_SDS:GDAL_HDF4:"\\gislaptop\htdocs\2\data\blue.hdf":0' does not exist in th
e file system,
and is not recognised as a supported dataset name.
  Open GDAL Datasets:
  1 N DriverIsNULL 512x512x0
  C:\tclhttpd\htdocs\apps>gdalinfo \\gislaptop\htdocs\2\data\blue.tif
Driver: GTiff/GeoTIFF
Size is 615, 529
Coordinate System is:
PROJCS["IMAGINE GeoTIFF Support
Copyright 1991 - 2001 by ERDAS, Inc. All Rights Reserved
@(#)$RCSfile: egtf.c $ $Revision: 1.10.1.6 $ $Date: 2003/10/17 16:36:51EDT $
Projection Name = Transverse Mercator
Uni",
    GEOGCS["IMAGINE GeoTIFF Support
Copyright 1991 - 2001 by ERDAS, Inc. All Rights Reserved
@(#)$RCSfile: egtf.c $ $Revision: 1.10.1.6 $ $Date: 2003/10/17 16:36:51EDT $
Unable to match Ellipsoid (Datum) to a Ge",
        DATUM["unknown",
            SPHEROID["unnamed",6378137,298.2572220960423]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",24],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (477701.230832,3928005.705781)
Pixel Size = (0.63939193,-0.63939193)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_SOFTWARE=IMAGINE TIFF Support
Copyright 1991 - 1999 by ERDAS, Inc. All Rights Reserved
@(#)$RCSfile: etif.c $ $Revision: 1.10.1.9 $ $Date: 2003/11/13 19:25:49EST $
  TIFFTAG_XRESOLUTION=1
  TIFFTAG_YRESOLUTION=1
  TIFFTAG_RESOLUTIONUNIT=1 (unitless)
Corner Coordinates:
Upper Left  (  477701.231, 3928005.706)
Lower Left  (  477701.231, 3927667.467)
Upper Right (  478094.457, 3928005.706)
Lower Right (  478094.457, 3927667.467)
Center      (  477897.844, 3927836.587)
Band 1 Block=615x6 Type=UInt16, ColorInterp=Gray
   
  but the strange thing is that if the HDF file resides in the same PC i get no error
   
  thanks in advace 

		
---------------------------------
Yahoo! Messenger with Voice. PC-to-Phone calls for ridiculously low rates.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060502/6cee9454/attachment.html
From warmerdam at pobox.com  Tue May  2 10:48:09 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] HDF file support
In-Reply-To: <20060502111912.80274.qmail@web52710.mail.yahoo.com>
References: <20060502111912.80274.qmail@web52710.mail.yahoo.com>
Message-ID: <44577129.8050801@pobox.com>

salah jubeh wrote:
> but the strange thing is that if the HDF file resides in the same PC i 
> get no error

Salah,

There are two possibilities.  One is that all the extra filename parsing
done for HDF files (to separate the various parts of the subdataset) are
getting confused by the backslashes or the double backslash.  The other
possibility is that the underlying HDF IO functions don't support the
network drive naming mechanism you used.  If the issue were the first
one, I could look into fixing it.  If it is the second then there isn't
really much I can do about it.

I would encourage you to just keep the files local, or perhaps on a
conventionally mounted network drive (with a drive letter assigned).

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From s_jubeh at yahoo.com  Tue May  2 11:22:53 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] HDF file support
In-Reply-To: <44577129.8050801@pobox.com>
Message-ID: <20060502152253.68587.qmail@web52701.mail.yahoo.com>

Frank,
   
  Thanks for the reply, I do not think the first possibility cause the problem ,I tried gdal with another driver and it worked, I think that HDF library do not support the way i use. 
   
  Regards

Frank Warmerdam <warmerdam@pobox.com> wrote:
  salah jubeh wrote:
> but the strange thing is that if the HDF file resides in the same PC i 
> get no error

Salah,

There are two possibilities. One is that all the extra filename parsing
done for HDF files (to separate the various parts of the subdataset) are
getting confused by the backslashes or the double backslash. The other
possibility is that the underlying HDF IO functions don't support the
network drive naming mechanism you used. If the issue were the first
one, I could look into fixing it. If it is the second then there isn't
really much I can do about it.

I would encourage you to just keep the files local, or perhaps on a
conventionally mounted network drive (with a drive letter assigned).

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | President OSGF, http://osgeo.org



		
---------------------------------
How low will we go? Check out Yahoo! Messenger?s low  PC-to-Phone call rates.
		
---------------------------------
Yahoo! Messenger with Voice. PC-to-Phone calls for ridiculously low rates.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060502/ccc5acd7/attachment.html
From JAMES.E.HOPPER at saic.com  Tue May  2 11:56:08 2006
From: JAMES.E.HOPPER at saic.com (Hopper, James E.)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: GDAL 1.3.2 Beta 2 Released
In-Reply-To: <200605011603.k41G2u0R014391@duke.maptools.org>
Message-ID: <C07CF958.E2C%james.e.hopper@saic.com>

I have built gdal 1.3.2 beta2 against osx using both the included makefile
and with xcode as a mac framework.  Both past all of the gdalautotests.

I have put up a disk image with the gdal installer which installs both the
frameworks and the more standard libraries as well as the applications and
the python stuff.  

The image also includes the xcode project its a folder called macosx drop it
into the main level of gdal source directories.  It modifies the source
slightly using a perl script so don't run the project without backing up
your source tree if you want to go back to building with the make files.

Let me know if anyone finds any problems. It has only been installed on my
machine so use with care.

Jim

http://macada.org/GDAL.dmg



From warmerdam at pobox.com  Tue May  2 12:43:15 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] HDF file support
In-Reply-To: <54808B311D66EB4E9CF4647B0DE707C20309DFE1@firewire.esri.com>
References: <54808B311D66EB4E9CF4647B0DE707C20309DFE1@firewire.esri.com>
Message-ID: <44578C23.6000109@pobox.com>

Peng Gao wrote:
> Frank,
> 
> I had a similar problem before. The problem was the quoted string in the
> name.
> I made some local changes, and made it work. Changes are attached. 

Gao,

I have committed your changes in CVS and they will be in GDAL 1.3.2.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From cfis at interserv.com  Tue May  2 03:16:49 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <44563376.1050206@nature.berkeley.edu>
References: <44563376.1050206@nature.berkeley.edu>
Message-ID: <44570761.3070700@interserv.com>

Hi Ken-ichi,

Is the extension successfully built?  IE., is there a gdal.so file in 
the swig/ruby directory?

Charlie
	
Ken-ichi wrote:
> Hi all,
> 
> When I try to compile the latest CVS (4.30.06) version of GDAL 
> --with-ruby, configuring and compiling go off without a hitch, but when 
> I try to make install, I get this error:
> 
> (cd swig; make install)
> for dir in ruby ; do (cd $dir; make install ); done
> make -f RubyMakefile.mk install
> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool --mode=install 
> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so ogr.so 
> gdalconst.so osr.so 
> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so
> install:  gdal.so does not exist
> make[3]: *** [install] Error 1
> make[2]: *** [install] Error 2
> make[1]: *** [install] Error 2
> make: *** [install-actions] Error 2
> 
> 
> It doesn't look like gdal.so is getting made at all.  I'm getting 
> basically the same error on Mac OS 10.4 and Gentoo Linux.  I do not get 
> this error on Gentoo with the 1.3.1 source (haven't tried that one on my 
> Mac yet).
> 
> Any thoughts?
> 




From kueda at nature.berkeley.edu  Tue May  2 13:12:34 2006
From: kueda at nature.berkeley.edu (Ken-ichi)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <44570761.3070700@interserv.com>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
Message-ID: <44579302.7050003@nature.berkeley.edu>

Hi Charlie,

Nope, the extension never gets built.  The only things in swig/ruby are 
the sources and makefiles.

Ken-ichi Ueda
Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
University of California, Berkeley
Environmental Science, Policy, and Management
Berkeley, CA 94720
tel: 510.642.8322
fax: 510.642.1477
e-mail: kueda@nature.berkeley.edu



Charlie Savage wrote:
> Hi Ken-ichi,
>
> Is the extension successfully built?  IE., is there a gdal.so file in 
> the swig/ruby directory?
>
> Charlie
>     
> Ken-ichi wrote:
>> Hi all,
>>
>> When I try to compile the latest CVS (4.30.06) version of GDAL 
>> --with-ruby, configuring and compiling go off without a hitch, but 
>> when I try to make install, I get this error:
>>
>> (cd swig; make install)
>> for dir in ruby ; do (cd $dir; make install ); done
>> make -f RubyMakefile.mk install
>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool --mode=install 
>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so ogr.so 
>> gdalconst.so osr.so 
>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so
>> install:  gdal.so does not exist
>> make[3]: *** [install] Error 1
>> make[2]: *** [install] Error 2
>> make[1]: *** [install] Error 2
>> make: *** [install-actions] Error 2
>>
>>
>> It doesn't look like gdal.so is getting made at all.  I'm getting 
>> basically the same error on Mac OS 10.4 and Gentoo Linux.  I do not 
>> get this error on Gentoo with the 1.3.1 source (haven't tried that 
>> one on my Mac yet).
>>
>> Any thoughts?
>>
>
>

From cfis at interserv.com  Tue May  2 13:23:17 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <44579302.7050003@nature.berkeley.edu>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
Message-ID: <44579585.4080800@interserv.com>

Any error messages in the compiling stage?

Charlie

Ken-ichi wrote:
> Hi Charlie,
>
> Nope, the extension never gets built.  The only things in swig/ruby 
> are the sources and makefiles.
>
> Ken-ichi Ueda
> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
> University of California, Berkeley
> Environmental Science, Policy, and Management
> Berkeley, CA 94720
> tel: 510.642.8322
> fax: 510.642.1477
> e-mail: kueda@nature.berkeley.edu
>
>
>
> Charlie Savage wrote:
>> Hi Ken-ichi,
>>
>> Is the extension successfully built?  IE., is there a gdal.so file in 
>> the swig/ruby directory?
>>
>> Charlie
>>     Ken-ichi wrote:
>>> Hi all,
>>>
>>> When I try to compile the latest CVS (4.30.06) version of GDAL 
>>> --with-ruby, configuring and compiling go off without a hitch, but 
>>> when I try to make install, I get this error:
>>>
>>> (cd swig; make install)
>>> for dir in ruby ; do (cd $dir; make install ); done
>>> make -f RubyMakefile.mk install
>>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool --mode=install 
>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so ogr.so 
>>> gdalconst.so osr.so 
>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so 
>>>
>>> install:  gdal.so does not exist
>>> make[3]: *** [install] Error 1
>>> make[2]: *** [install] Error 2
>>> make[1]: *** [install] Error 2
>>> make: *** [install-actions] Error 2
>>>
>>>
>>> It doesn't look like gdal.so is getting made at all.  I'm getting 
>>> basically the same error on Mac OS 10.4 and Gentoo Linux.  I do not 
>>> get this error on Gentoo with the 1.3.1 source (haven't tried that 
>>> one on my Mac yet).
>>>
>>> Any thoughts?
>>>
>>
>>
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3241 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060502/dd80aebd/smime.bin
From kueda at nature.berkeley.edu  Tue May  2 13:29:59 2006
From: kueda at nature.berkeley.edu (Ken-ichi)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <44579585.4080800@interserv.com>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
Message-ID: <44579717.8020206@nature.berkeley.edu>

No, no errors during the compilation, and no mention of 'ruby' 
whatsoever during the same.  I take it you are unable to reproduce this 
problem?

Ken-ichi Ueda
Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
University of California, Berkeley
Environmental Science, Policy, and Management
Berkeley, CA 94720
tel: 510.642.8322
fax: 510.642.1477
e-mail: kueda@nature.berkeley.edu



Charlie Savage wrote:
> Any error messages in the compiling stage?
>
> Charlie
>
> Ken-ichi wrote:
>> Hi Charlie,
>>
>> Nope, the extension never gets built.  The only things in swig/ruby 
>> are the sources and makefiles.
>>
>> Ken-ichi Ueda
>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>> University of California, Berkeley
>> Environmental Science, Policy, and Management
>> Berkeley, CA 94720
>> tel: 510.642.8322
>> fax: 510.642.1477
>> e-mail: kueda@nature.berkeley.edu
>>
>>
>>
>> Charlie Savage wrote:
>>> Hi Ken-ichi,
>>>
>>> Is the extension successfully built?  IE., is there a gdal.so file 
>>> in the swig/ruby directory?
>>>
>>> Charlie
>>>     Ken-ichi wrote:
>>>> Hi all,
>>>>
>>>> When I try to compile the latest CVS (4.30.06) version of GDAL 
>>>> --with-ruby, configuring and compiling go off without a hitch, but 
>>>> when I try to make install, I get this error:
>>>>
>>>> (cd swig; make install)
>>>> for dir in ruby ; do (cd $dir; make install ); done
>>>> make -f RubyMakefile.mk install
>>>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool --mode=install 
>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so ogr.so 
>>>> gdalconst.so osr.so 
>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so 
>>>>
>>>> install:  gdal.so does not exist
>>>> make[3]: *** [install] Error 1
>>>> make[2]: *** [install] Error 2
>>>> make[1]: *** [install] Error 2
>>>> make: *** [install-actions] Error 2
>>>>
>>>>
>>>> It doesn't look like gdal.so is getting made at all.  I'm getting 
>>>> basically the same error on Mac OS 10.4 and Gentoo Linux.  I do not 
>>>> get this error on Gentoo with the 1.3.1 source (haven't tried that 
>>>> one on my Mac yet).
>>>>
>>>> Any thoughts?
>>>>
>>>
>>>
>>
>>

From cfis at interserv.com  Tue May  2 13:45:43 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <44579717.8020206@nature.berkeley.edu>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
Message-ID: <44579AC7.1080206@interserv.com>

Don't have a Mac.  I'll try to take a look at windows and linux, maybe 
the problem occurs there also.

Charlie

Ken-ichi wrote:
> No, no errors during the compilation, and no mention of 'ruby' 
> whatsoever during the same.  I take it you are unable to reproduce 
> this problem?
>
> Ken-ichi Ueda
> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
> University of California, Berkeley
> Environmental Science, Policy, and Management
> Berkeley, CA 94720
> tel: 510.642.8322
> fax: 510.642.1477
> e-mail: kueda@nature.berkeley.edu
>
>
>
> Charlie Savage wrote:
>> Any error messages in the compiling stage?
>>
>> Charlie
>>
>> Ken-ichi wrote:
>>> Hi Charlie,
>>>
>>> Nope, the extension never gets built.  The only things in swig/ruby 
>>> are the sources and makefiles.
>>>
>>> Ken-ichi Ueda
>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>> University of California, Berkeley
>>> Environmental Science, Policy, and Management
>>> Berkeley, CA 94720
>>> tel: 510.642.8322
>>> fax: 510.642.1477
>>> e-mail: kueda@nature.berkeley.edu
>>>
>>>
>>>
>>> Charlie Savage wrote:
>>>> Hi Ken-ichi,
>>>>
>>>> Is the extension successfully built?  IE., is there a gdal.so file 
>>>> in the swig/ruby directory?
>>>>
>>>> Charlie
>>>>     Ken-ichi wrote:
>>>>> Hi all,
>>>>>
>>>>> When I try to compile the latest CVS (4.30.06) version of GDAL 
>>>>> --with-ruby, configuring and compiling go off without a hitch, but 
>>>>> when I try to make install, I get this error:
>>>>>
>>>>> (cd swig; make install)
>>>>> for dir in ruby ; do (cd $dir; make install ); done
>>>>> make -f RubyMakefile.mk install
>>>>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool --mode=install 
>>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so ogr.so 
>>>>> gdalconst.so osr.so 
>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so 
>>>>>
>>>>> install:  gdal.so does not exist
>>>>> make[3]: *** [install] Error 1
>>>>> make[2]: *** [install] Error 2
>>>>> make[1]: *** [install] Error 2
>>>>> make: *** [install-actions] Error 2
>>>>>
>>>>>
>>>>> It doesn't look like gdal.so is getting made at all.  I'm getting 
>>>>> basically the same error on Mac OS 10.4 and Gentoo Linux.  I do 
>>>>> not get this error on Gentoo with the 1.3.1 source (haven't tried 
>>>>> that one on my Mac yet).
>>>>>
>>>>> Any thoughts?
>>>>>
>>>>
>>>>
>>>
>>>
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3241 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060502/d9a5f487/smime.bin
From hobu at iastate.edu  Tue May  2 14:09:46 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <44579AC7.1080206@interserv.com>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
	<44579AC7.1080206@interserv.com>
Message-ID: <6.2.3.4.2.20060502130739.02aac008@hobu.mail.iastate.edu>

Here's the latest buildbot results for "make generate" in the swig 
directory. 
<http://gdal.builds.hobu.net/macosx-darwin-tiger-10.4.5/builds/85/step-shell_5/0> 
Ruby doesn't get generated here (this is macosx) because the ruby 
bindings must depend on a version of swig later than 1.3.27.

There was some makefile reconfiguration that went on a couple of 
weeks ago.  Could that be the culprit?

Howard

At 12:45 PM 5/2/2006, Charlie Savage wrote:
>Don't have a Mac.  I'll try to take a look at windows and linux, 
>maybe the problem occurs there also.
>
>Charlie
>
>Ken-ichi wrote:
>>No, no errors during the compilation, and no mention of 'ruby' 
>>whatsoever during the same.  I take it you are unable to reproduce 
>>this problem?
>>
>>Ken-ichi Ueda
>>Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>University of California, Berkeley
>>Environmental Science, Policy, and Management
>>Berkeley, CA 94720
>>tel: 510.642.8322
>>fax: 510.642.1477
>>e-mail: kueda@nature.berkeley.edu
>>
>>
>>
>>Charlie Savage wrote:
>>>Any error messages in the compiling stage?
>>>
>>>Charlie
>>>
>>>Ken-ichi wrote:
>>>>Hi Charlie,
>>>>
>>>>Nope, the extension never gets built.  The only things in 
>>>>swig/ruby are the sources and makefiles.
>>>>
>>>>Ken-ichi Ueda
>>>>Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>>>University of California, Berkeley
>>>>Environmental Science, Policy, and Management
>>>>Berkeley, CA 94720
>>>>tel: 510.642.8322
>>>>fax: 510.642.1477
>>>>e-mail: kueda@nature.berkeley.edu
>>>>
>>>>
>>>>
>>>>Charlie Savage wrote:
>>>>>Hi Ken-ichi,
>>>>>
>>>>>Is the extension successfully built?  IE., is there a gdal.so 
>>>>>file in the swig/ruby directory?
>>>>>
>>>>>Charlie
>>>>>     Ken-ichi wrote:
>>>>>>Hi all,
>>>>>>
>>>>>>When I try to compile the latest CVS (4.30.06) version of GDAL 
>>>>>>--with-ruby, configuring and compiling go off without a hitch, 
>>>>>>but when I try to make install, I get this error:
>>>>>>
>>>>>>(cd swig; make install)
>>>>>>for dir in ruby ; do (cd $dir; make install ); done
>>>>>>make -f RubyMakefile.mk install
>>>>>>/bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool 
>>>>>>--mode=install /usr/local/src/gdal-cvs-2006.04.30/install-sh -c 
>>>>>>gdal.so ogr.so gdalconst.so osr.so 
>>>>>>/usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>>>>>/usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>>>>>>/usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so
>>>>>>install:  gdal.so does not exist
>>>>>>make[3]: *** [install] Error 1
>>>>>>make[2]: *** [install] Error 2
>>>>>>make[1]: *** [install] Error 2
>>>>>>make: *** [install-actions] Error 2
>>>>>>
>>>>>>
>>>>>>It doesn't look like gdal.so is getting made at all.  I'm 
>>>>>>getting basically the same error on Mac OS 10.4 and Gentoo 
>>>>>>Linux.  I do not get this error on Gentoo with the 1.3.1 source 
>>>>>>(haven't tried that one on my Mac yet).
>>>>>>
>>>>>>Any thoughts?
>>>>>
>>>>
>>
>
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From cfis at interserv.com  Tue May  2 14:21:23 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <6.2.3.4.2.20060502130739.02aac008@hobu.mail.iastate.edu>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
	<44579AC7.1080206@interserv.com>
	<6.2.3.4.2.20060502130739.02aac008@hobu.mail.iastate.edu>
Message-ID: <4457A323.9030204@interserv.com>

The error on the build box is that the -autorename SWIG switch is in 
SWIG 1.3.28 and higher.

Thought Ari upgraded Perl to use SWIG 1.3.29?  The current CVS ruby swig 
wrapper cxx files are from 1.3.28 if I remember correctly.  Any reason 
not to use those as opposed to generating new ones when building?

What were the changes in the makefiles that might cause issues?

Charlie

Howard Butler wrote:
> Here's the latest buildbot results for "make generate" in the swig 
> directory. 
> <http://gdal.builds.hobu.net/macosx-darwin-tiger-10.4.5/builds/85/step-shell_5/0> 
> Ruby doesn't get generated here (this is macosx) because the ruby 
> bindings must depend on a version of swig later than 1.3.27.
>
> There was some makefile reconfiguration that went on a couple of weeks 
> ago.  Could that be the culprit?
>
> Howard
>
> At 12:45 PM 5/2/2006, Charlie Savage wrote:
>> Don't have a Mac.  I'll try to take a look at windows and linux, 
>> maybe the problem occurs there also.
>>
>> Charlie
>>
>> Ken-ichi wrote:
>>> No, no errors during the compilation, and no mention of 'ruby' 
>>> whatsoever during the same.  I take it you are unable to reproduce 
>>> this problem?
>>>
>>> Ken-ichi Ueda
>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>> University of California, Berkeley
>>> Environmental Science, Policy, and Management
>>> Berkeley, CA 94720
>>> tel: 510.642.8322
>>> fax: 510.642.1477
>>> e-mail: kueda@nature.berkeley.edu
>>>
>>>
>>>
>>> Charlie Savage wrote:
>>>> Any error messages in the compiling stage?
>>>>
>>>> Charlie
>>>>
>>>> Ken-ichi wrote:
>>>>> Hi Charlie,
>>>>>
>>>>> Nope, the extension never gets built.  The only things in 
>>>>> swig/ruby are the sources and makefiles.
>>>>>
>>>>> Ken-ichi Ueda
>>>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>>>> University of California, Berkeley
>>>>> Environmental Science, Policy, and Management
>>>>> Berkeley, CA 94720
>>>>> tel: 510.642.8322
>>>>> fax: 510.642.1477
>>>>> e-mail: kueda@nature.berkeley.edu
>>>>>
>>>>>
>>>>>
>>>>> Charlie Savage wrote:
>>>>>> Hi Ken-ichi,
>>>>>>
>>>>>> Is the extension successfully built?  IE., is there a gdal.so 
>>>>>> file in the swig/ruby directory?
>>>>>>
>>>>>> Charlie
>>>>>>     Ken-ichi wrote:
>>>>>>> Hi all,
>>>>>>>
>>>>>>> When I try to compile the latest CVS (4.30.06) version of GDAL 
>>>>>>> --with-ruby, configuring and compiling go off without a hitch, 
>>>>>>> but when I try to make install, I get this error:
>>>>>>>
>>>>>>> (cd swig; make install)
>>>>>>> for dir in ruby ; do (cd $dir; make install ); done
>>>>>>> make -f RubyMakefile.mk install
>>>>>>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool 
>>>>>>> --mode=install /usr/local/src/gdal-cvs-2006.04.30/install-sh -c 
>>>>>>> gdal.so ogr.so gdalconst.so osr.so 
>>>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>>>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>>>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so 
>>>>>>>
>>>>>>> install:  gdal.so does not exist
>>>>>>> make[3]: *** [install] Error 1
>>>>>>> make[2]: *** [install] Error 2
>>>>>>> make[1]: *** [install] Error 2
>>>>>>> make: *** [install-actions] Error 2
>>>>>>>
>>>>>>>
>>>>>>> It doesn't look like gdal.so is getting made at all.  I'm 
>>>>>>> getting basically the same error on Mac OS 10.4 and Gentoo 
>>>>>>> Linux.  I do not get this error on Gentoo with the 1.3.1 source 
>>>>>>> (haven't tried that one on my Mac yet).
>>>>>>>
>>>>>>> Any thoughts?
>>>>>>
>>>>>
>>>
>>
>>
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3241 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060502/953eae7f/smime.bin
From warmerdam at pobox.com  Tue May  2 14:45:17 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL 1.3.2 Release Candidate
Message-ID: <4457A8BD.1030409@pobox.com>

Folks,

I have prepared a 1.3.2 final release candidate at:

   http://www.gdal.og/dl/gdal-1.3.2.tar.gz
   http://www.gdal.org/dl/gdal132.zip

If there are no serious problems with it in the next day or two I
will announce it more publically.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Tue May  2 15:06:02 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <4457A323.9030204@interserv.com>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
	<44579AC7.1080206@interserv.com>
	<6.2.3.4.2.20060502130739.02aac008@hobu.mail.iastate.edu>
	<4457A323.9030204@interserv.com>
Message-ID: <4457AD9A.1050702@tkk.fi>

Charlie Savage kirjoitti:
> The error on the build box is that the -autorename SWIG switch is in 
> SWIG 1.3.28 and higher.
>
> Thought Ari upgraded Perl to use SWIG 1.3.29?  The current CVS ruby 
> swig wrapper cxx files are from 1.3.28 if I remember correctly.  Any 
> reason not to use those as opposed to generating new ones when building?


I guess

make[1]: Nothing to be done for `generate'.

is from dir=perl in that log. Otherwise I don't know what's happening... 
The perl bindings also require very recent swig. 

Ari


>
> What were the changes in the makefiles that might cause issues?
>
> Charlie
>
> Howard Butler wrote:
>> Here's the latest buildbot results for "make generate" in the swig 
>> directory. 
>> <http://gdal.builds.hobu.net/macosx-darwin-tiger-10.4.5/builds/85/step-shell_5/0> 
>> Ruby doesn't get generated here (this is macosx) because the ruby 
>> bindings must depend on a version of swig later than 1.3.27.
>>
>> There was some makefile reconfiguration that went on a couple of 
>> weeks ago.  Could that be the culprit?
>>
>> Howard
>>
>> At 12:45 PM 5/2/2006, Charlie Savage wrote:
>>> Don't have a Mac.  I'll try to take a look at windows and linux, 
>>> maybe the problem occurs there also.
>>>
>>> Charlie
>>>
>>> Ken-ichi wrote:
>>>> No, no errors during the compilation, and no mention of 'ruby' 
>>>> whatsoever during the same.  I take it you are unable to reproduce 
>>>> this problem?
>>>>
>>>> Ken-ichi Ueda
>>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>>> University of California, Berkeley
>>>> Environmental Science, Policy, and Management
>>>> Berkeley, CA 94720
>>>> tel: 510.642.8322
>>>> fax: 510.642.1477
>>>> e-mail: kueda@nature.berkeley.edu
>>>>
>>>>
>>>>
>>>> Charlie Savage wrote:
>>>>> Any error messages in the compiling stage?
>>>>>
>>>>> Charlie
>>>>>
>>>>> Ken-ichi wrote:
>>>>>> Hi Charlie,
>>>>>>
>>>>>> Nope, the extension never gets built.  The only things in 
>>>>>> swig/ruby are the sources and makefiles.
>>>>>>
>>>>>> Ken-ichi Ueda
>>>>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>>>>> University of California, Berkeley
>>>>>> Environmental Science, Policy, and Management
>>>>>> Berkeley, CA 94720
>>>>>> tel: 510.642.8322
>>>>>> fax: 510.642.1477
>>>>>> e-mail: kueda@nature.berkeley.edu
>>>>>>
>>>>>>
>>>>>>
>>>>>> Charlie Savage wrote:
>>>>>>> Hi Ken-ichi,
>>>>>>>
>>>>>>> Is the extension successfully built?  IE., is there a gdal.so 
>>>>>>> file in the swig/ruby directory?
>>>>>>>
>>>>>>> Charlie
>>>>>>>     Ken-ichi wrote:
>>>>>>>> Hi all,
>>>>>>>>
>>>>>>>> When I try to compile the latest CVS (4.30.06) version of GDAL 
>>>>>>>> --with-ruby, configuring and compiling go off without a hitch, 
>>>>>>>> but when I try to make install, I get this error:
>>>>>>>>
>>>>>>>> (cd swig; make install)
>>>>>>>> for dir in ruby ; do (cd $dir; make install ); done
>>>>>>>> make -f RubyMakefile.mk install
>>>>>>>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool 
>>>>>>>> --mode=install /usr/local/src/gdal-cvs-2006.04.30/install-sh -c 
>>>>>>>> gdal.so ogr.so gdalconst.so osr.so 
>>>>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>>>>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>>>>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so 
>>>>>>>>
>>>>>>>> install:  gdal.so does not exist
>>>>>>>> make[3]: *** [install] Error 1
>>>>>>>> make[2]: *** [install] Error 2
>>>>>>>> make[1]: *** [install] Error 2
>>>>>>>> make: *** [install-actions] Error 2
>>>>>>>>
>>>>>>>>
>>>>>>>> It doesn't look like gdal.so is getting made at all.  I'm 
>>>>>>>> getting basically the same error on Mac OS 10.4 and Gentoo 
>>>>>>>> Linux.  I do not get this error on Gentoo with the 1.3.1 source 
>>>>>>>> (haven't tried that one on my Mac yet).
>>>>>>>>
>>>>>>>> Any thoughts?
>>>>>>>
>>>>>>
>>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> Gdal-dev mailing list
>>> Gdal-dev@lists.maptools.org
>>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>
>>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From cfis at interserv.com  Tue May  2 15:39:58 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <4457AD9A.1050702@tkk.fi>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
	<44579AC7.1080206@interserv.com>
	<6.2.3.4.2.20060502130739.02aac008@hobu.mail.iastate.edu>
	<4457A323.9030204@interserv.com> <4457AD9A.1050702@tkk.fi>
Message-ID: <4457B58E.3020403@interserv.com>

Should we all agree to use the same version of SWIG?  I'd vote 1.3.29, 
but could live 1.3.28.  1.3.27 is not as good because it doesn't support 
automatic renaming of Ruby functions from camelCase to 
lower_case_with_underscores.  I can work around that using a rename.i 
file, but I was so happy to be able to get rid of that :)

Charlie

Ari Jolma wrote:
> Charlie Savage kirjoitti:
>> The error on the build box is that the -autorename SWIG switch is in 
>> SWIG 1.3.28 and higher.
>>
>> Thought Ari upgraded Perl to use SWIG 1.3.29?  The current CVS ruby 
>> swig wrapper cxx files are from 1.3.28 if I remember correctly.  Any 
>> reason not to use those as opposed to generating new ones when building?
>
>
> I guess
>
> make[1]: Nothing to be done for `generate'.
>
> is from dir=perl in that log. Otherwise I don't know what's 
> happening... The perl bindings also require very recent swig.
> Ari
>
>
>>
>> What were the changes in the makefiles that might cause issues?
>>
>> Charlie
>>
>> Howard Butler wrote:
>>> Here's the latest buildbot results for "make generate" in the swig 
>>> directory. 
>>> <http://gdal.builds.hobu.net/macosx-darwin-tiger-10.4.5/builds/85/step-shell_5/0> 
>>> Ruby doesn't get generated here (this is macosx) because the ruby 
>>> bindings must depend on a version of swig later than 1.3.27.
>>>
>>> There was some makefile reconfiguration that went on a couple of 
>>> weeks ago.  Could that be the culprit?
>>>
>>> Howard
>>>
>>> At 12:45 PM 5/2/2006, Charlie Savage wrote:
>>>> Don't have a Mac.  I'll try to take a look at windows and linux, 
>>>> maybe the problem occurs there also.
>>>>
>>>> Charlie
>>>>
>>>> Ken-ichi wrote:
>>>>> No, no errors during the compilation, and no mention of 'ruby' 
>>>>> whatsoever during the same.  I take it you are unable to reproduce 
>>>>> this problem?
>>>>>
>>>>> Ken-ichi Ueda
>>>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>>>> University of California, Berkeley
>>>>> Environmental Science, Policy, and Management
>>>>> Berkeley, CA 94720
>>>>> tel: 510.642.8322
>>>>> fax: 510.642.1477
>>>>> e-mail: kueda@nature.berkeley.edu
>>>>>
>>>>>
>>>>>
>>>>> Charlie Savage wrote:
>>>>>> Any error messages in the compiling stage?
>>>>>>
>>>>>> Charlie
>>>>>>
>>>>>> Ken-ichi wrote:
>>>>>>> Hi Charlie,
>>>>>>>
>>>>>>> Nope, the extension never gets built.  The only things in 
>>>>>>> swig/ruby are the sources and makefiles.
>>>>>>>
>>>>>>> Ken-ichi Ueda
>>>>>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>>>>>> University of California, Berkeley
>>>>>>> Environmental Science, Policy, and Management
>>>>>>> Berkeley, CA 94720
>>>>>>> tel: 510.642.8322
>>>>>>> fax: 510.642.1477
>>>>>>> e-mail: kueda@nature.berkeley.edu
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Charlie Savage wrote:
>>>>>>>> Hi Ken-ichi,
>>>>>>>>
>>>>>>>> Is the extension successfully built?  IE., is there a gdal.so 
>>>>>>>> file in the swig/ruby directory?
>>>>>>>>
>>>>>>>> Charlie
>>>>>>>>     Ken-ichi wrote:
>>>>>>>>> Hi all,
>>>>>>>>>
>>>>>>>>> When I try to compile the latest CVS (4.30.06) version of GDAL 
>>>>>>>>> --with-ruby, configuring and compiling go off without a hitch, 
>>>>>>>>> but when I try to make install, I get this error:
>>>>>>>>>
>>>>>>>>> (cd swig; make install)
>>>>>>>>> for dir in ruby ; do (cd $dir; make install ); done
>>>>>>>>> make -f RubyMakefile.mk install
>>>>>>>>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool 
>>>>>>>>> --mode=install /usr/local/src/gdal-cvs-2006.04.30/install-sh 
>>>>>>>>> -c gdal.so ogr.so gdalconst.so osr.so 
>>>>>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>>>>>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>>>>>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so 
>>>>>>>>>
>>>>>>>>> install:  gdal.so does not exist
>>>>>>>>> make[3]: *** [install] Error 1
>>>>>>>>> make[2]: *** [install] Error 2
>>>>>>>>> make[1]: *** [install] Error 2
>>>>>>>>> make: *** [install-actions] Error 2
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> It doesn't look like gdal.so is getting made at all.  I'm 
>>>>>>>>> getting basically the same error on Mac OS 10.4 and Gentoo 
>>>>>>>>> Linux.  I do not get this error on Gentoo with the 1.3.1 
>>>>>>>>> source (haven't tried that one on my Mac yet).
>>>>>>>>>
>>>>>>>>> Any thoughts?
>>>>>>>>
>>>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Gdal-dev mailing list
>>>> Gdal-dev@lists.maptools.org
>>>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>>
>>>
>>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3241 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060502/90651fa8/smime.bin
From JAMES.E.HOPPER at saic.com  Tue May  2 16:13:12 2006
From: JAMES.E.HOPPER at saic.com (Hopper, James E.)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL 1.3.2 Release Candidate 
In-Reply-To: <200605021942.k42Jg1kS021534@duke.maptools.org>
Message-ID: <C07D3598.E38%james.e.hopper@saic.com>

Frank, I think you missed a 'r' in the org ;-)

Jim


  http://www.gdal.og/dl/gdal-1.3.2.tar.gz
<http://www.gdal.og/dl/gdal-1.3.2.tar.gz>  
   http://www.gdal.org/dl/gdal132.zip <http://www.gdal.org/dl/gdal132.zip>  


From hobu at iastate.edu  Tue May  2 16:27:05 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <4457A323.9030204@interserv.com>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
	<44579AC7.1080206@interserv.com>
	<6.2.3.4.2.20060502130739.02aac008@hobu.mail.iastate.edu>
	<4457A323.9030204@interserv.com>
Message-ID: <6.2.3.4.2.20060502151638.02a73c80@hobu.mail.iastate.edu>

At 01:21 PM 5/2/2006, Charlie Savage wrote:
>The error on the build box is that the -autorename SWIG switch is in 
>SWIG 1.3.28 and higher.
>
>Thought Ari upgraded Perl to use SWIG 1.3.29?  The current CVS ruby 
>swig wrapper cxx files are from 1.3.28 if I remember correctly.  Any 
>reason not to use those as opposed to generating new ones when building?

That's the build farm for GDAL until we can get things moved to 
TelaScience.  I thought it would be prudent to force complete 
building of everything to fully see the impact of changes.  Whether 
or not to use the latest and greatest SWIG is an issue though.


>What were the changes in the makefiles that might cause issues?

Andrey made some changes to remove the GDAL_ROOT variable and point 
directly to the GDALMake.opt file.  I know a couple of makefiles in 
the swig directory were missed, and I updated them, but I may have 
screwed something else up in the process.

Howard 


From woklist at kyngchaos.com  Tue May  2 21:00:09 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL 1.3.2 Release Candidate
In-Reply-To: <4457A8BD.1030409@pobox.com>
References: <4457A8BD.1030409@pobox.com>
Message-ID: <DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>

Mac OS 10.4.6/Universal build went smoothly.  DAP 3.6 now working.   
Static lib linking working again for OS X (the convenience libs bug).

I had 2 problems with the 1.3.2 gdalautotest:

- the sample DODS server used timed out.  (so, the DAP 3.6 compile  
worked, but I don't know if it's really working yet)

- I get a failed assertion on the Idrisi test 3:

Running tests from gdrivers/idrisi.py
   TEST: idrisi_1 ... success
   TEST: idrisi_2 ... success
   TEST: idrisi_3 ... posixio.c:396: failed assertion `extent != 0'
Abort trap

maybe another icky OS X thread issue?  I get the same error when  
doing the same test manually with gdal_translate.  Bug report time,  
or is it an easy/obvious fix?  I don't want to hold up the release  
too much on another OS X bug.  Yet James Hopper mentioned that his  
test on OS X went without a hitch on the beta 2.  Hmm.


-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

[Trillian]  What are you supposed to do WITH a maniacally depressed  
robot?

[Marvin]  You think you have problems?  What are you supposed to do  
if you ARE a maniacally depressed robot?  No, don't try and answer,  
I'm 50,000 times more intelligent than you and even I don't know the  
answer...

- HitchHiker's Guide to the Galaxy


From rayg at daylongraphics.com  Wed May  3 04:26:16 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>
References: <4457A8BD.1030409@pobox.com>
	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>
Message-ID: <44586928.5080704@daylongraphics.com>

Antoine Hue wrote:

 > Without being an expert in this field, I have run into some of these 
issues while working on 3D terrain modeling from DEM. I fully support an 
initiative to make it more explicit that a layer is a DEM, what is the 
unit and pixel interpretation.
 >
 > An extension to this is support for geocentric SRS and warp to/from 
geocentric SRS.

I think that could be satisifed by
a) having ORGSpatialRef parse GEOCCS nodes (if it doesn't already),
b) adding an IsGeocentric() method,
c) adding a SetGeocentricCS() method,
b) doing any necessary mods to OGRCoordTransform to use such data when 
one or both of its spatialrefs are geocentric, and
c) formalizing the list of avail. geocentric datums.

Ray




From ari.jolma at tkk.fi  Wed May  3 05:36:31 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <6.2.3.4.2.20060502151638.02a73c80@hobu.mail.iastate.edu>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
	<44579AC7.1080206@interserv.com>
	<6.2.3.4.2.20060502130739.02aac008@hobu.mail.iastate.edu>
	<4457A323.9030204@interserv.com>
	<6.2.3.4.2.20060502151638.02a73c80@hobu.mail.iastate.edu>
Message-ID: <4458799F.4030306@tkk.fi>

Howard Butler kirjoitti:
> At 01:21 PM 5/2/2006, Charlie Savage wrote:
>> The error on the build box is that the -autorename SWIG switch is in
>> SWIG 1.3.28 and higher.
>>
>> Thought Ari upgraded Perl to use SWIG 1.3.29?  The current CVS ruby
>> swig wrapper cxx files are from 1.3.28 if I remember correctly.  Any
>> reason not to use those as opposed to generating new ones when building?
> 
> That's the build farm for GDAL until we can get things moved to
> TelaScience.  I thought it would be prudent to force complete building
> of everything to fully see the impact of changes.  


make generate does not force regeneration of wrappers at least in the
Perl case -- that's because I've uploaded recent copies to CVS. Yes, I'm
now using swig 1.3.29 but I'm not sure if 28 would work. I believe the
requirement should be put somewhere and explicitly fail if it is not
satisfied - such practice is common and good. ... ok, I'm just lecturing
here and not practising it myself to much...

Ari


Whether or not to use
> the latest and greatest SWIG is an issue though.
> 
> 
>> What were the changes in the makefiles that might cause issues?
> 
> Andrey made some changes to remove the GDAL_ROOT variable and point
> directly to the GDALMake.opt file.  I know a couple of makefiles in the
> swig directory were missed, and I updated them, but I may have screwed
> something else up in the process.
> 
> Howard
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From C.Wilmes at gmx.de  Wed May  3 08:49:17 2006
From: C.Wilmes at gmx.de (Christian Wilmes)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] orginfo
Message-ID: <30091.1146660557@www026.gmx.net>

Hi list,

I would like to access a PostgreSQL Server.

I test it with the following command:
C:\Program Files\FWTools1.0.0b2>ogrinfo
PostgreSQL\:myUsername/myPassword@PostgreSQL30W feature

PostgreSQL30W is the DNS (the DNS is OK)
feature is the table I would like to access

With that command I get the following error:
FAILURE:
Unable to open datasource `PostgreSQL\myUsername/myPassword@PostgreSQL30W'
with the f
ollowing drivers.
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> DGN
  -> VRT
  -> AVCBin
  -> REC
  -> Memory
  -> CSV
  -> GML
  -> Interlis 1
  -> Interlis 2
  -> SQLite
  -> ODBC
  -> OGDI
  -> PostgreSQL
  -> MySQL

So can anybody tell me what is my mistake. I'm a newbie on using ogr and so
I've got no idea.

Please excuse my bad enlish!
Thanks for your help!

best regards
Christian

-- 
Echte DSL-Flatrate dauerhaft fr 0,- Euro*!
"Feel free" mit GMX DSL! http://www.gmx.net/de/go/dsl

From warmerdam at pobox.com  Wed May  3 08:56:37 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <44586928.5080704@daylongraphics.com>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>
	<44586928.5080704@daylongraphics.com>
Message-ID: <4458A885.6010208@pobox.com>

Ray Gardener wrote:
> Antoine Hue wrote:
> 
>  > Without being an expert in this field, I have run into some of these 
> issues while working on 3D terrain modeling from DEM. I fully support an 
> initiative to make it more explicit that a layer is a DEM, what is the 
> unit and pixel interpretation.
>  >
>  > An extension to this is support for geocentric SRS and warp to/from 
> geocentric SRS.
> 
> I think that could be satisifed by
> a) having ORGSpatialRef parse GEOCCS nodes (if it doesn't already),

Ray,

Well, I think they will parse ok now because the parser doesn't
really look at what kinds of nodes it is parsing.

> b) adding an IsGeocentric() method,

agreed.

> c) adding a SetGeocentricCS() method,

agreed.

> b) doing any necessary mods to OGRCoordTransform to use such data when 
> one or both of its spatialrefs are geocentric, and

PROJ.4 already supports geocentric coordinate systems.  So I think we
would just have to update the to/from PROJ.4 format translation code
to support geocentric.

> c) formalizing the list of avail. geocentric datums.

Hmm, I'm not clear on what a geocentric datum is.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From julien.63 at free.fr  Tue May  2 14:25:19 2006
From: julien.63 at free.fr (bessiere julien)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] gdal-version.h
Message-ID: <4457A40F.5040309@free.fr>

Hi,
i've have installed gdal-1.2.3 on FC5.
i'm trying to install mapserver. But it's asking me for the file 
gdal-version.h i don't have...
Should i try with another version : more recent? gdal-devel ? gdal-base?
thanks
Julien


From warmerdam at pobox.com  Wed May  3 09:53:45 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] orginfo
In-Reply-To: <30091.1146660557@www026.gmx.net>
References: <30091.1146660557@www026.gmx.net>
Message-ID: <4458B5E9.7070908@pobox.com>

Christian Wilmes wrote:
> Hi list,
> 
> I would like to access a PostgreSQL Server.
> 
> I test it with the following command:
> C:\Program Files\FWTools1.0.0b2>ogrinfo
> PostgreSQL\:myUsername/myPassword@PostgreSQL30W feature

...

> So can anybody tell me what is my mistake. I'm a newbie on using ogr and so
> I've got no idea.

Christian,

Your datasource naming is wrong.  I think you want something like:

ogrinfo 'PG:host=PostgreSQL30W user=myUsername pass=myPassword'

Actually, I'm not sure what the right connection keyword for password is.
You may need to look this up in the PQdconnectdb() documentation on the
postgres site.  Also, I normally need a dbname=warmerda to indicate
which database I want to use.

You might want to re-review the PG driver page at:

   http://www.gdal.org/ogr/drv_pg.html

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From C.Wilmes at gmx.de  Wed May  3 10:22:33 2006
From: C.Wilmes at gmx.de (Christian Wilmes)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] orginfo
References: <4458B5E9.7070908@pobox.com>
Message-ID: <6100.1146666153@www052.gmx.net>

>Hello,

I need it for using the umn-Mapserver with VirtualSpatialData. I found a
tutorial in the web which is using mySQL. There is written I have to do it
like that:
ogrinfo ODBC:user/pass@DSN table

Best regards
Christian 


--- Urspr?ngliche Nachricht ---
> Von: Frank Warmerdam <warmerdam@pobox.com>
> An: Christian Wilmes <C.Wilmes@gmx.de>
> Kopie: gdal-dev@lists.maptools.org
> Betreff: Re: [Gdal-dev] orginfo
> Datum: Wed, 03 May 2006 09:53:45 -0400
> 
> Christian Wilmes wrote:
> > Hi list,
> > 
> > I would like to access a PostgreSQL Server.
> > 
> > I test it with the following command:
> > C:\Program Files\FWTools1.0.0b2>ogrinfo
> > PostgreSQL\:myUsername/myPassword@PostgreSQL30W feature
> 
> ...
> 
> > So can anybody tell me what is my mistake. I'm a newbie on using ogr and
> so
> > I've got no idea.
> 
> Christian,
> 
> Your datasource naming is wrong.  I think you want something like:
> 
> ogrinfo 'PG:host=PostgreSQL30W user=myUsername pass=myPassword'
> 
> Actually, I'm not sure what the right connection keyword for password is.
> You may need to look this up in the PQdconnectdb() documentation on the
> postgres site.  Also, I normally need a dbname=warmerda to indicate
> which database I want to use.
> 
> You might want to re-review the PG driver page at:
> 
>    http://www.gdal.org/ogr/drv_pg.html
> 
> Best regards,
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

-- 
Echte DSL-Flatrate dauerhaft f?r 0,- Euro*!
"Feel free" mit GMX DSL! http://www.gmx.net/de/go/dsl

From warmerdam at pobox.com  Wed May  3 10:46:58 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] orginfo
In-Reply-To: <6100.1146666153@www052.gmx.net>
References: <4458B5E9.7070908@pobox.com> <6100.1146666153@www052.gmx.net>
Message-ID: <4458C262.9090602@pobox.com>

Christian Wilmes wrote:
>> Hello,
> 
> I need it for using the umn-Mapserver with VirtualSpatialData. I found a
> tutorial in the web which is using mySQL. There is written I have to do it
> like that:
> ogrinfo ODBC:user/pass@DSN table

Christian,

OGR supports a variety of file format (and database) drivers, and all
the database drivers have their own particular datasource name format.
The VirtualSpatialData stuff talks primarily (exclusively?) about accessing
non-spatial data through ODBC and using an ovf (or vrt) file to select
columns to turn this into spatial data.

If you are accessing spatial data in PostGIS then you use a different
driver, and skip the virtual part of things.  If you are accessing
non-spatial data in Postgresql then you would follow the examples more
or less, but substitute in the appropriate postgresql connection parameters
in place of the ODBC connection details.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From vaskup at adsmr.co.za  Wed May  3 10:59:25 2006
From: vaskup at adsmr.co.za (Vasku Pech)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] HELP: GDAL for windows CE
Message-ID: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFE8F5@ADSMAIL.Adsintranet.Corp>

Hi there,

OK, I finally managed to get the source from CVS. It was not a password problem. My company did not have the CVS port set up correctly so it was not possoble to download the code.

I thought all my problems would be solved once I got a proper stable version of Gdal for wince. Unfortunately I am still sitting at square one.

I have followed all the steps in the README which can be found under the wince directory of the download.

The steps are and I qoute from the Readme file...




First, you need to install following software on your machine:

0. Compilation box running Windows NT/2000/XP 

1. Microsoft eMbedded Visual C++ 4.0 - it's free
http://www.microsoft.com/downloads/details.aspx?FamilyID=1DACDB3D-50D1-41B2-A107-FA75AE960856

2. Microsoft eMbedded Visual C++ 4.0 Service Pack 4
http://www.microsoft.com/downloads/details.aspx?FamilyID=4A4ED1F4-91D3-4DBE-986E-A812984318E5

3. SDK for Windows Mobile 2003-based Pocket PCs
http://www.microsoft.com/downloads/details.aspx?FamilyId=9996B314-0364-4623-9EDE-0B5FBB133652

Note: I have only tested OGR port with Pocket PC 2003 SDK but there should not be any
problem with building it using other Windows CE SDKs. If you've managed to build OGR port
using other SDKs pleaes let me know.

4. The Run-time Type Information library for the Pocket PC 2003 SDK
http://support.microsoft.com/default.aspx?scid=kb;[LN];830482

5. I also recommend to use STLport
Here is some introduction: 
http://mateusz.loskot.net/2005/12/25/how-to-use-stlport-with-evc/
it refers to my article on http://www.pocketpcdn.com





I have tried using the .vcw and .vcp files supplied for the dll and lib versions but cannot manage to get them to compile error free. Initially EVC++ 4.0 had a problem even recognising the files. The CR/LF were missing. I opened the files in WordPad and save over the original file which seems to have solved the problem. I am able to see the Fileview and Classview of the project file. The problem is when I try building the project I initially get the following error 95 or so times:

Cannot open include file: 'cpl_config.h': No such file or directory

I find this file in the OGR directory not the PORT directory where the compiler tries to look for it.
I have copied the file and also updated the include path under Projects / Settings/ C/C++ tab (Additional inculde directories). Still this does not work. It comes up with following error 113 times:

eMbedded Visual C++ 3 and .NET don't have a errno.h header; STLport won't include native errno.h here

Can someone help me out here. I am getting desperate as I dont know what else to do..... I have also tried compiling the file using the make file (makefile.evc4) supplied in the main directory. This is apparently suppose to give me 4 files.

If everything went without any errors you should have
following files in gdal root directory (C:\gdal):
gdalce.lib - static library (PREFERED)
gdalce13.dll - Dynamic-Link Library (DLL) (See IMPORTANT note)
gdalce_i.exp - export file for DLL
gdalce_i.lib - import library for DLL

I cannot even get this to work... HELP, HELP.... Please if anybody can point me in the right direction I would be very gratefull.

Regards,
Vasku

-----Original Message-----
From: Mateusz Loskot [mailto:mateusz@loskot.net]
Sent: 28 April 2006 07:12 PM
To: Vasku Pech
Subject: Re: 1: GDAL for windows CE


Vasku Pech wrote:
> Apparently WindowCE does not support errno.
> 
> How did you get source to compile?

There are many many things missing in C library on Windows CE :-)
Check wince/wcelibcex, there is my own extension with missing
functions/types for C library on Windows CE.
Note, (there is a comment about it too) this errno is not thread-safe!

I only can say that my OGR port to Windows CE is compilable and
runnable. If you have some specific problems, I'm ready to help you.
If you've found a bug, cool, just report it on GDAL's Bugzilla or
directly to me.

Note, I can respond with some delay, because I'm quite busy now.

p.s. please, use gdal-dev list, it's good to give other users some
details too.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net


From mateusz at loskot.net  Wed May  3 13:06:31 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: HELP: GDAL for windows CE
In-Reply-To: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFE8F5@ADSMAIL.Adsintranet.Corp>
References: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFE8F5@ADSMAIL.Adsintranet.Corp>
Message-ID: <4458E317.9010003@loskot.net>

Vasku Pech wrote:
> Hi there,
> 
> OK, I finally managed to get the source from CVS. It was not a 
> password problem. My company did not have the CVS port set up 
> correctly so it was not possoble to download the code.

I am glad it works now.

> I thought all my problems would be solved once I got a proper stable 
> version of Gdal for wince. Unfortunately I am still sitting at square
> one.

Yes, it's possible. Let's start to solve those problems :-)

> First, you need to install following software on your machine:
> 
> 0. Compilation box running Windows NT/2000/XP
> 

I assume you've fulfilled those software requirements.


> Initially EVC++ 4.0 had a problem even recognising the files. The 
> CR/LF were missing.

Yes, it's possible.

> I opened the files in WordPad and save over the original file which 
> seems to have solved the problem.

Yes, it should fix the problem. But I'd prefer to use notepad, instead
wordpad.

> I am able to see the Fileview and Classview of the project file. The
>  problem is when I try building the project I initially get the 
> following error 95 or so times:
> 
> Cannot open include file: 'cpl_config.h': No such file or directory

Ups! It seems you've found it's missing in the README.
I've forgot to explain this step.

if you're using eVC++ project files, you have to rename file:

port/cpl_config.h.evc4

to read:

port/cpl_config.h

> I find this file in the OGR directory not the PORT directory where 
> the compiler tries to look for it. I have copied the file and also 
> updated the include path under Projects / Settings/ C/C++ tab 
> (Additional inculde directories).

Hmm, I don't have this file there in the ogr subdir.
cpl_config.h should be renamed as I'm explaining above

> Still this does not work. It comes up with following error 113 times:
>  eMbedded Visual C++ 3 and .NET don't have a errno.h header; STLport 
> won't include native errno.h here


That's the problem. I mean, you need to have cpl_config.h renamed as
said above.
You can look into the port/cpl_config.h.evc4 file and you will see
dedicated #if's for errno.

> Can someone help me out here. I am getting desperate as I dont know 
> what else to do.....

Please, follow my guidelines above related to cpl_config.h and it should
work. Simply, I've forgot to add appropriate instructions to the
wince/README file.

I'll fix it soon when I'm back home after Friday (I'm on small holidays).

> I have also tried compiling the file using the
> make file (makefile.evc4) supplied in the main directory. This is 
> apparently suppose to give me 4 files.


> 
> If everything went without any errors you should have following files
>  in gdal root directory (C:\gdal): gdalce.lib - static library 
> (PREFERED) gdalce13.dll - Dynamic-Link Library (DLL) (See IMPORTANT 
> note) gdalce_i.exp - export file for DLL gdalce_i.lib - import 
> library for DLL
> 
> I cannot even get this to work... HELP, HELP.... Please if anybody
> can point me in the right direction I would be very gratefull.

What's the problem here?
What is the error message?


Please, first try to build using eVC++ project files with my
instructions how to get cpl_config.h files.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From tonio_73 at tiscali.fr  Wed May  3 16:38:37 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <4458A885.6010208@pobox.com>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>
	<44586928.5080704@daylongraphics.com> <4458A885.6010208@pobox.com>
Message-ID: <e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>


Le 3 mai 06, ? 14:56, Frank Warmerdam a ?crit :

>
>> b) doing any necessary mods to OGRCoordTransform to use such data 
>> when one or both of its spatialrefs are geocentric, and
>
> PROJ.4 already supports geocentric coordinate systems.  So I think we
> would just have to update the to/from PROJ.4 format translation code
> to support geocentric.
>
>> c) formalizing the list of avail. geocentric datums.
>
> Hmm, I'm not clear on what a geocentric datum is.

As far as I am concern, that is 3D modeling of terrains 
(www.petit-poucet.org), geocentric is very useful. Actually, I can 
either use projected or geocentric coordinates to represent a terrain 
in 3D. Geographic coordinates are useless. Projected are limited to 
small areas.

Our terrain modeling is based on the excellent Open Scene Graph 
osgTerrain library which is using GDAL for data access and warp. When 
the SRS is geographic, there is a further step to transform coordinates 
in geocentric using an approximate model of the ellipsoid.
When you say PROJ.4 supports geocentric coordinate systems, does it 
mean it could handle the geographic <-> geocentric conversions?


Antoine Hue



From ashish.gis at gmail.com  Wed May  3 10:33:37 2006
From: ashish.gis at gmail.com (Ashish Arora)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Using Ogr2Ogr in .TAB files
Message-ID: <3ed78b5c0605030733r5dbaef40vb06c782076fa793c@mail.gmail.com>

Hello List

I wanted to know that how can i perform sql queries on two mapinfo tab files
using ogr2ogr like  Select * from TAB1,TAB2 where TAB1.A = TAB2.A

Thanks
Ashish
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060503/2db8b87e/attachment.html
From warmerdam at pobox.com  Wed May  3 17:51:29 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>	<44586928.5080704@daylongraphics.com>
	<4458A885.6010208@pobox.com>
	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>
Message-ID: <445925E1.4070406@pobox.com>

Antoine Hue wrote:
> Our terrain modeling is based on the excellent Open Scene Graph 
> osgTerrain library which is using GDAL for data access and warp. When 
> the SRS is geographic, there is a further step to transform coordinates 
> in geocentric using an approximate model of the ellipsoid.
> When you say PROJ.4 supports geocentric coordinate systems, does it mean 
> it could handle the geographic <-> geocentric conversions?

Antoine,

Yes, once the changes in OGR noted by Ray are made, it should be possible
to use PROJ.4 (through OGR) to transform coordinates to geocentric
coordinates.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ben at vterrain.org  Wed May  3 21:26:14 2006
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Debian gdal stuck at 1.2.6?
Message-ID: <009901c66f19$bc799cf0$9b02a8c0@DellWork>

I have a Debian box (Ubuntu 5.10) and would love to release my
gdal-depdendent software as a .deb installer, but (as i understand it) this
in turn requires GDAL to have a current .deb, so that the dependencies can
be resolved in a package manager.  In the Ubuntu package manager, and in the
Debian repository pointed to from the GDAL site, there is only GDAL version
1.2.6, now more than a year old.

How can this be brought up to the latest GDAL version?  Does it require much
work from somebody Debian-savvy, or is it easy?

Thanks,
Ben


From werchowyna at epf.pl  Thu May  4 08:58:21 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Debian gdal stuck at 1.2.6?
In-Reply-To: <009901c66f19$bc799cf0$9b02a8c0@DellWork>
References: <009901c66f19$bc799cf0$9b02a8c0@DellWork>
Message-ID: <20060504145821.c141e965.werchowyna@epf.pl>

On Wed, 3 May 2006 15:26:14 -1000
"Ben Discoe" <ben@vterrain.org> wrote:

> I have a Debian box (Ubuntu 5.10) and would love to release my
> gdal-depdendent software as a .deb installer, but (as i understand
> it) this in turn requires GDAL to have a current .deb, so that the
> dependencies can be resolved in a package manager.  In the Ubuntu
> package manager, and in the Debian repository pointed to from the
> GDAL site, there is only GDAL version 1.2.6, now more than a year old.
> 
> How can this be brought up to the latest GDAL version?  Does it
> require much work from somebody Debian-savvy, or is it easy?

VTP? That'd be great to have it packaged for Debian!

There is Gdal 1.3.1 in Debian testing:
http://packages.debian.org/cgi-bin/search_packages.pl?keywords=gdal&searchon=names&subword=1&version=testing&release=all

As to Ubuntu, for incoming Dapper still only 1.2.6 is available. I
can't say if the Debian testing 1.3.1 would work on Ubuntu/other
Debian derivatives. Anybody?

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From bryan at geomega.com  Thu May  4 10:57:08 2006
From: bryan at geomega.com (Bryan Keith)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Debian gdal stuck at 1.2.6?
In-Reply-To: <20060504145821.c141e965.werchowyna@epf.pl>
References: <009901c66f19$bc799cf0$9b02a8c0@DellWork>
	<20060504145821.c141e965.werchowyna@epf.pl>
Message-ID: <445A1644.9020200@geomega.com>



Maciek Sieczka wrote:
> On Wed, 3 May 2006 15:26:14 -1000
> "Ben Discoe" <ben@vterrain.org> wrote:
>
>   
>> I have a Debian box (Ubuntu 5.10) and would love to release my
>> gdal-depdendent software as a .deb installer, but (as i understand
>> it) this in turn requires GDAL to have a current .deb, so that the
>> dependencies can be resolved in a package manager.  In the Ubuntu
>> package manager, and in the Debian repository pointed to from the
>> GDAL site, there is only GDAL version 1.2.6, now more than a year old.
>>
>> How can this be brought up to the latest GDAL version?  Does it
>> require much work from somebody Debian-savvy, or is it easy?
>>     
>
> VTP? That'd be great to have it packaged for Debian!
>
> There is Gdal 1.3.1 in Debian testing:
> http://packages.debian.org/cgi-bin/search_packages.pl?keywords=gdal&searchon=names&subword=1&version=testing&release=all
>
> As to Ubuntu, for incoming Dapper still only 1.2.6 is available. I
> can't say if the Debian testing 1.3.1 would work on Ubuntu/other
> Debian derivatives. Anybody?
>
> Maciek
>
>   
I'm not sure exactly what you're asking here, but this information may 
be helpful.  I'm running Gdal 1.3.1 on Ubuntu 5.10 without a problem.  I 
installed via FWTools:

GDAL 1.3.1.0, FWTools 1.0.0a7, released 2005/11/10

Bryan
> --------------------
> W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
> http://katalog.panoramainternetu.pl/
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
>   

From vaskup at adsmr.co.za  Thu May  4 11:28:51 2006
From: vaskup at adsmr.co.za (Vasku Pech)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] RE: HELP: GDAL for windows CE
Message-ID: <8EAC4519CA64734E8D37C4B4F69DFE6D01C2BEF3@ADSMAIL.Adsintranet.Corp>

Hi there Mateus,

Finally I got the source files to compile.

I changed 
port/cpl_config.h.evc4
to read:
port/cpl_config.h

This still did not solve the problem. I had to add ex to your #define in  cpl_config.h

So for example:
#define strerror wce_strerror /* defined in cpl_wince.h */

was changed to read

#define strerror wceex_strerror /* defined in cpl_wince.h */ (extra ex in wce_strerror)

I had to do this through out the cpl_config.h file. Where ever I found wce I added ex to it.

After these changes I managed to get the source to compile but there were 51 warnings all to do with the same file cpl_string.h: The warning is -

c:\gdal-131a_wince\gdal-cvs-2006.04.26\port\cpl_string.h(211) : warning C4275: non dll-interface class 'std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >' used as base for dll-interface class 'CPLString'

Is it ok if I use the DLL as is?

I managed to compile the source for the device but could not get it to compile for the emulator. I need to get it to work as I will be testing my code first using the emulator.

When I try to comiple for the emulator I get the following error 14 times relating to different files:

C:\Gdal-131a_wince\gdal-cvs-2006.04.26\port\cpl_conv.cpp(1495) : error C2373: 'CPLFreeConfig' : redefinition; different type modifiers
        C:\Gdal-131a_wince\gdal-cvs-2006.04.26\port\cpl_conv.h(157) : see declaration of 'CPLFreeConfig'

I find it strange. The header file has a different function declaration for CPLFreeConfig than what is used in the .ccp file.

Why can I not compile for the emulator?

Regards,
Vasku

PS: In your last email you stated

Mateus wrote:
Hmm, I don't have this file there in the ogr subdir.
cpl_config.h should be renamed as I'm explaining above

Look in the following directory ogr\ogrsf_frmts\dgn\dist. You should find another copy of cpl_config.h




-----Original Message-----
From: Mateusz Loskot [mailto:mateusz@loskot.net]
Sent: 03 May 2006 07:07 PM
To: Vasku Pech
Cc: gdal-dev@lists.maptools.org
Subject: Re: HELP: GDAL for windows CE


Vasku Pech wrote:
> Hi there,
> 
> OK, I finally managed to get the source from CVS. It was not a 
> password problem. My company did not have the CVS port set up 
> correctly so it was not possoble to download the code.

I am glad it works now.

> I thought all my problems would be solved once I got a proper stable 
> version of Gdal for wince. Unfortunately I am still sitting at square
> one.

Yes, it's possible. Let's start to solve those problems :-)

> First, you need to install following software on your machine:
> 
> 0. Compilation box running Windows NT/2000/XP
> 

I assume you've fulfilled those software requirements.


> Initially EVC++ 4.0 had a problem even recognising the files. The 
> CR/LF were missing.

Yes, it's possible.

> I opened the files in WordPad and save over the original file which 
> seems to have solved the problem.

Yes, it should fix the problem. But I'd prefer to use notepad, instead
wordpad.

> I am able to see the Fileview and Classview of the project file. The
>  problem is when I try building the project I initially get the 
> following error 95 or so times:
> 
> Cannot open include file: 'cpl_config.h': No such file or directory

Ups! It seems you've found it's missing in the README.
I've forgot to explain this step.

if you're using eVC++ project files, you have to rename file:

port/cpl_config.h.evc4

to read:

port/cpl_config.h

> I find this file in the OGR directory not the PORT directory where 
> the compiler tries to look for it. I have copied the file and also 
> updated the include path under Projects / Settings/ C/C++ tab 
> (Additional inculde directories).

Hmm, I don't have this file there in the ogr subdir.
cpl_config.h should be renamed as I'm explaining above

> Still this does not work. It comes up with following error 113 times:
>  eMbedded Visual C++ 3 and .NET don't have a errno.h header; STLport 
> won't include native errno.h here


That's the problem. I mean, you need to have cpl_config.h renamed as
said above.
You can look into the port/cpl_config.h.evc4 file and you will see
dedicated #if's for errno.

> Can someone help me out here. I am getting desperate as I dont know 
> what else to do.....

Please, follow my guidelines above related to cpl_config.h and it should
work. Simply, I've forgot to add appropriate instructions to the
wince/README file.

I'll fix it soon when I'm back home after Friday (I'm on small holidays).

> I have also tried compiling the file using the
> make file (makefile.evc4) supplied in the main directory. This is 
> apparently suppose to give me 4 files.


> 
> If everything went without any errors you should have following files
>  in gdal root directory (C:\gdal): gdalce.lib - static library 
> (PREFERED) gdalce13.dll - Dynamic-Link Library (DLL) (See IMPORTANT 
> note) gdalce_i.exp - export file for DLL gdalce_i.lib - import 
> library for DLL
> 
> I cannot even get this to work... HELP, HELP.... Please if anybody
> can point me in the right direction I would be very gratefull.

What's the problem here?
What is the error message?


Please, first try to build using eVC++ project files with my
instructions how to get cpl_config.h files.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net


From werchowyna at epf.pl  Thu May  4 11:33:11 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Debian gdal stuck at 1.2.6?
In-Reply-To: <445A1644.9020200@geomega.com>
References: <009901c66f19$bc799cf0$9b02a8c0@DellWork>
	<20060504145821.c141e965.werchowyna@epf.pl>
	<445A1644.9020200@geomega.com>
Message-ID: <20060504173311.5ba7760c.werchowyna@epf.pl>

On Thu, 04 May 2006 08:57:08 -0600
Bryan Keith <bryan@geomega.com> wrote:

> I'm not sure exactly what you're asking here, but this information
> may be helpful.  I'm running Gdal 1.3.1 on Ubuntu 5.10 without a
> problem.  I installed via FWTools:
> 
> GDAL 1.3.1.0, FWTools 1.0.0a7, released 2005/11/10

Bryan,

It is not a problem to use 1.3.1 on Breezy. I do use it on Breezy myself
too, built from source. The problem is that there are no
ready-to-use .deb packages with Gdal 1.3.1 for Breezy nor Dapper. So
Ben won't be even able to package his gdal 1.3.1-dependent software for
Ubuntu.

FWTools installation is not controlled by the package manager, so it
cannot provide or satisfy any dendencies.

Cheers,
Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From warmerdam at pobox.com  Thu May  4 11:45:00 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Release 1.3.2 Declared Final
Message-ID: <445A217C.6010604@pobox.com>

Folks,

As my last act as benevolent dictator till overthrown, I hearby declare
the GDAL 1.3.2 release candidate to be the official 1.3.2 release.  I
will note that there are known problems with the 1.3.2 ruby bindings,

I also declare RFC-1 in effect.  The king is dead, long live the committee!

I will be distributing the GDAL/OGR 1.3.2 release notices more widely.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May  4 11:52:41 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
Message-ID: <445A2349.20400@pobox.com>

Folks,

As part of OSGeo'ification of GDAL/OGR, I was considering a migration
from cvs.maptools.org to OSGeo.  However, the disruption wasn't very
appealing without any additional reason to make the move.  However,
the other thing that has been suggested to me for some time is that
it is time to migrate to Subversion.  Subversion offers a variety of
benefits over CVS.

  o Renaming of files and directories is handled gracefully.
  o More information is stored on the client side, so stuff like getting
    changes working diffs is instant.
  o Doing branches is more intuitive (so I might not be afraid to do so).

Howard already did a "test conversion" that demonstrates preserving all the
history back to 1998 so I am comfortable that we aren't losing much.  The
main downside from my point of view is that SVN (Subversion) does not support
the $Log$ style history accumulation in the header. So we will pretty much
need to strip that all out.   While I like that log history, I can live
without it.  The move will also inevitably cause some disruption for existing
committers.

I would like to proceed as soon as possible, so without further ado, I give
you RFC 2:

   http://www.gdal.org/rfc2_svn.html

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From JAMES.E.HOPPER at saic.com  Thu May  4 12:38:44 2006
From: JAMES.E.HOPPER at saic.com (Hopper, James E.)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Release 1.3.2 Declared Final 
In-Reply-To: <200605041602.k44G2IqY006616@duke.maptools.org>
Message-ID: <C07FA654.E6C%james.e.hopper@saic.com>



In that case the package installer for os x gdal using both mac frameworks
and libraries that I did at

http://macada.org/GDAL.dmg <http://macada.org/GDAL.dmg> 

Is also final now.

It includes the xcode project to build itself.  Its not as complete as what
William has done, but its got the major formats included.

Jim






Folks, 

As my last act as benevolent dictator till overthrown, I hearby declare 
the GDAL 1.3.2 release candidate to be the official 1.3.2 release.  I 
will note that there are known problems with the 1.3.2 ruby bindings, 

I also declare RFC-1 in effect.  The king is dead, long live the committee! 

I will be distributing the GDAL/OGR 1.3.2 release notices more widely. 

Best regards, 





From hobu at iastate.edu  Thu May  4 12:46:44 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Release 1.3.2 Declared Final
In-Reply-To: <445A217C.6010604@pobox.com>
References: <445A217C.6010604@pobox.com>
Message-ID: <6.2.3.4.2.20060504114625.029b8e20@hobu.mail.iastate.edu>

Congrats!

At 10:45 AM 5/4/2006, Frank Warmerdam wrote:
>Folks,
>
>As my last act as benevolent dictator till overthrown, I hearby declare
>the GDAL 1.3.2 release candidate to be the official 1.3.2 release.  I
>will note that there are known problems with the 1.3.2 ruby bindings,
>
>I also declare RFC-1 in effect.  The king is dead, long live the committee!
>
>I will be distributing the GDAL/OGR 1.3.2 release notices more widely.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | President OSGF, http://osgeo.org
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From andrey.kiselev at gmail.com  Thu May  4 13:37:26 2006
From: andrey.kiselev at gmail.com (Andrey Kiselev)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445A2349.20400@pobox.com>
References: <445A2349.20400@pobox.com>
Message-ID: <29bcc0df0605041037x40cf772ao5718e97ee0513486@mail.gmail.com>

On 5/4/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> As part of OSGeo'ification of GDAL/OGR, I was considering a migration
> from cvs.maptools.org to OSGeo.  However, the disruption wasn't very
> appealing without any additional reason to make the move.  However,
> the other thing that has been suggested to me for some time is that
> it is time to migrate to Subversion.  Subversion offers a variety of
> benefits over CVS.
>
>   o Renaming of files and directories is handled gracefully.
>   o More information is stored on the client side, so stuff like getting
>     changes working diffs is instant.
>   o Doing branches is more intuitive (so I might not be afraid to do so).
>
> Howard already did a "test conversion" that demonstrates preserving all the
> history back to 1998 so I am comfortable that we aren't losing much.  The
> main downside from my point of view is that SVN (Subversion) does not support
> the $Log$ style history accumulation in the header. So we will pretty much
> need to strip that all out.   While I like that log history, I can live
> without it.  The move will also inevitably cause some disruption for existing
> committers.

+1

For me this is a good change. I should note that previously I suffered
from the SVN archive corruptions (thanks to Berkley DB or a way it is
used in svn, I can't point the exact source of problems), but
corruptions never were fatal. Also this move should mean that we will
get the Web interface to working tree. For those who use TortoiseCVS
under Windows the move should be transparent: there is TortoiseSVN
clent which works in the same way.

Regards,
Andrey

--
Andrey V. Kiselev
ICQ# 26871517


From abhay.menon at gmail.com  Thu May  4 14:13:01 2006
From: abhay.menon at gmail.com (abhay menon)
Date: Wed Nov 21 11:50:07 2007
Subject: [GDAL-DEV] Query..
Message-ID: <7a30cd70605041113n490c8963k537e00e6e78e309e@mail.gmail.com>

Hello Lists,

I have few queries ...

1) can I use two different dataset  (MapInfo File and/or ESRI Shapefile) and
preform a spatial operation and create a thrid output using the gdal/ogr
libraries.

2) If so can I prefrom a raster overlay analysis that could be conducted
with a raster and a vector dataset, which is used to updates the vector
dataset attributes with the certian values.

PS. Is there any sample programmes to developing code using gdal/ogr
libraries which I could lay my hands on.. other than source code of gdal.

--
Thanks & Regrads

Abhay Menon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060504/b252168c/attachment.html
From warmerdam at pobox.com  Thu May  4 14:44:14 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [GDAL-DEV] Query..
In-Reply-To: <7a30cd70605041113n490c8963k537e00e6e78e309e@mail.gmail.com>
References: <7a30cd70605041113n490c8963k537e00e6e78e309e@mail.gmail.com>
Message-ID: <445A4B7E.4040908@pobox.com>

abhay menon wrote:
> Hello Lists,
> 
> I have few queries ...
> 
> 1) can I use two different dataset  (MapInfo File and/or ESRI Shapefile) 
> and preform a spatial operation and create a thrid output using the 
> gdal/ogr libraries.

Abhay,

Well, you can certainly do this using OGR as a library.  Depending
on the spatial operation you will likely need to have GEOS support.

> 2) If so can I prefrom a raster overlay analysis that could be conducted 
> with a raster and a vector dataset, which is used to updates the vector 
> dataset attributes with the certian values.

There are limited options currently for relating raster and vector data.
If you had vector polygons and you wanted to collect statistics from a
raster within the polygon you could use the new rasterization support to
generate a raster mask, and then use that to identify pixels in particular
polygons for statistics collection.

Generally speaking though, GDAL/OGR isn't going to do much of the work
for you.  Mostly just the data access.

> PS. Is there any sample programmes to developing code using gdal/ogr 
> libraries which I could lay my hands on.. other than source code of gdal.

Generally speaking no.  There are a variety of sample scripts which
illustrate some of the concepts, and some commandline c/c++ programs
(the utilities).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From perrygeo at gmail.com  Thu May  4 15:16:30 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:50:07 2007
Subject: [GDAL-DEV] Query..
In-Reply-To: <7a30cd70605041113n490c8963k537e00e6e78e309e@mail.gmail.com>
References: <7a30cd70605041113n490c8963k537e00e6e78e309e@mail.gmail.com>
Message-ID: <5383fa5e0605041216k75aca3b3x95d9ef620cf9b679@mail.gmail.com>

On 5/4/06, abhay menon <abhay.menon@gmail.com> wrote:
> 2) If so can I prefrom a raster overlay analysis that could be conducted
> with a raster and a vector dataset, which is used to updates the vector
> dataset attributes with the certian values.

You might want to look into Starspan
<http://starspan.casil.ucdavis.edu/>. It will perform various raster
statistics based on vectors and output the results to csv. It does not
yet append the results to the vector attribute table but this can
accomplished by joining the csv to the original shapfile (using a
desktop GIS, Postgres/postgis database or through the OGR libs)

Starspan is written in C++ and used the GDAL and GEOS libraries so it
might also serve as a good example to get started with.

--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net


From condit at sdsc.edu  Thu May  4 15:21:14 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] mean value of rasters
Message-ID: <845AADAC1106E44996327D62097E4C6B8F82FC@et.ad.sdsc.edu>

I've got N raster files (GeoTiffs) of equal size and dimensions.  I'd
like to create a single raster with the mean value of these N rasters
(cell by cell).  Is there a good way to do this with GDAL, or with
another tool?  

Thanks,

Chris


From dmorissette at mapgears.com  Thu May  4 15:44:00 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445A2349.20400@pobox.com>
References: <445A2349.20400@pobox.com>
Message-ID: <445A5980.7040109@mapgears.com>

Frank Warmerdam wrote:
>  o Doing branches is more intuitive (so I might not be afraid to do so).
> 

Is it creating branches or using them that is more intuitive? Creating 
CVS branches is as simple as typing "cvs tag -b..." and I never found 
that confusing myself ... how does SVN do it?

I have to admit that using branches with CVS often confuses new 
developers/users, but I didn't think it could be made any easier, the 
developers need to understand the concept of branching once and then 
they're fine. I'm really looking forward to see how SVN made that more 
intuitive.

> 
> I would like to proceed as soon as possible, so without further ado, I give
> you RFC 2:
> 
>   http://www.gdal.org/rfc2_svn.html
> 


In the RFC you wrote:
"All source files in SVN will have the svn:keywords property set to "Id" 
by Frank after they are created."

Does this mean that SVN doesn't use the "$Id: $" keyword by default and 
that any new files will need to have this flag set to it after it's been 
added to the repository?

Other than those few questions that are clearly showing that I don't 
know SVN much, I have no objection and would vote +1.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/

From warmerdam at pobox.com  Thu May  4 15:59:53 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] mean value of rasters
In-Reply-To: <845AADAC1106E44996327D62097E4C6B8F82FC@et.ad.sdsc.edu>
References: <845AADAC1106E44996327D62097E4C6B8F82FC@et.ad.sdsc.edu>
Message-ID: <445A5D39.6090109@pobox.com>

Christopher Condit wrote:
> I've got N raster files (GeoTiffs) of equal size and dimensions.  I'd
> like to create a single raster with the mean value of these N rasters
> (cell by cell).  Is there a good way to do this with GDAL, or with
> another tool?  

Chris,

There is not direct way of doing this with the commandline utilities.
It would be relatively easy to implement using Python bindings for
GDAL and Numerical Python.  I imagine this could also be done in something
like R or GRASS relatively directly.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From werchowyna at epf.pl  Thu May  4 16:11:01 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] mean value of rasters
In-Reply-To: <445A5D39.6090109@pobox.com>
References: <845AADAC1106E44996327D62097E4C6B8F82FC@et.ad.sdsc.edu>
	<445A5D39.6090109@pobox.com>
Message-ID: <20060504221101.04b7d198.werchowyna@epf.pl>

On Thu, 04 May 2006 15:59:53 -0400
Frank Warmerdam <warmerdam@pobox.com> wrote:

> Christopher Condit wrote:
> > I've got N raster files (GeoTiffs) of equal size and dimensions.
> > I'd like to create a single raster with the mean value of these N
> > rasters (cell by cell).  Is there a good way to do this with GDAL,
> > or with another tool?  
> 
> Chris,
> 
> There is not direct way of doing this with the commandline utilities.
> It would be relatively easy to implement using Python bindings for
> GDAL and Numerical Python.  I imagine this could also be done in
> something like R or GRASS relatively directly.

Yes, straightforward in Grass:

r.in.gdal to import geotiff rasters

g.region rast=1st_raster

r.mapcalc 'mean_raster=(1st_raster+2nd_raster+3rd_raster)/3'

r.out.gdal to export mean_raster back to geotiff

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From warmerdam at pobox.com  Thu May  4 16:22:02 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445A5980.7040109@mapgears.com>
References: <445A2349.20400@pobox.com> <445A5980.7040109@mapgears.com>
Message-ID: <445A626A.2020309@pobox.com>

Daniel Morissette wrote:
> Frank Warmerdam wrote:
>>  o Doing branches is more intuitive (so I might not be afraid to do so).
>>
> 
> Is it creating branches or using them that is more intuitive? Creating 
> CVS branches is as simple as typing "cvs tag -b..." and I never found 
> that confusing myself ... how does SVN do it?
> 
> I have to admit that using branches with CVS often confuses new 
> developers/users, but I didn't think it could be made any easier, the 
> developers need to understand the concept of branching once and then 
> they're fine. I'm really looking forward to see how SVN made that more 
> intuitive.

Daniel,

Apparently you just copy the whole source tree from the "trunk" directory
into an appropriately named directory under the "branch" directory.  No
special commandline options or anything like that.  Apparently SVN
maintains these copies efficiently (not copying actual data, just pointers).

I haven't lived in that regime yet, but hopefully it will be straight
forward.

CVS branches aren't really *all* that bad, and I've managed to handle
work with them in mapserver.  But it took me years!

> In the RFC you wrote:
> "All source files in SVN will have the svn:keywords property set to "Id" 
> by Frank after they are created."
> 
> Does this mean that SVN doesn't use the "$Id: $" keyword by default and 
> that any new files will need to have this flag set to it after it's been 
> added to the repository?

That is correct.  You need to mark files specially to tell them to
expand special variables.  Bob Bray wrote up a bit of info on how to
have SVN clients do some of this automatically for new files.

   https://mapguide.osgeo.org/subversionconfig.html

I imagine most of this would apply to us as well.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From list67 at netscape.net  Thu May  4 16:32:00 2006
From: list67 at netscape.net (list67@netscape.net)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] NITF all black LUT, but GlobalMapper can show color
Message-ID: <6EDE644E.0C7E3320.00066B75@netscape.net>

I have a CADRG formatted file.  When I run gdalinfo on the file, every entry in the color table is reported as black.  When I run the program through a debugger, it appears that the values immediately before and after the LUT fit within the range of expected values for those variables.  But for some reason the LUT is all zeros.  But when I load the file with GlobalMapper or Erdas Imagine, a map image is displayed.

The number of NITF images is reported as 1.  The psImage->nBands values is 1.  The NITF IREP is reported as RGB/LUT.  The NITF IC mode is M4 (which is different from another CADRG file that has a C4 NITF IC value and has various colors in the color table).  Do you know where GlobalMapper is getting the colors from?

I asked if I could send the CADRG file, but I haven't recieved approval yet.

Thank you for your time.

    Mike

__________________________________________________________________
Switch to Netscape Internet Service.
As low as $9.95 a month -- Sign up today at http://isp.netscape.com/register

Netscape. Just the Net You Need.

New! Netscape Toolbar for Internet Explorer
Search from anywhere on the Web and block those annoying pop-ups.
Download now at http://channels.netscape.com/ns/search/install.jsp

From cbc at unc.edu  Thu May  4 17:45:14 2006
From: cbc at unc.edu (Chris Calloway)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] xerces-c
Message-ID: <445A75EA.9010002@unc.edu>

What versions of xerces-c are currently supported by gdal?

The news file's last entry (no date) converning xerces was for ogr 1.1.9 
stating support for xerces-c 1.6 through 2.3.

However, the apache.org dist directory only contains the latest version 2.7:

http://www.apache.org/dist/xml/xerces-c/source/

I'm getting the configure error which is documented years ago on this 
list to be a version conflict:

"
/usr/bin/ld: cannot find -libxerces-c.so.27
collect2: ld returned 1 exit status

configure: error: Please correct Xerces options, or don't enable Xerces.
"
-- 
Sincerely,

Chris Calloway
http://www.seacoos.org
office: 17-6 Venable Hall   phone: (919) 962-4323
mail: Campus Box #3300, UNC-CH, Chapel Hill, NC 27599






From rayg at daylongraphics.com  Thu May  4 19:15:30 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <445925E1.4070406@pobox.com>
References: <4457A8BD.1030409@pobox.com>
	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>
	<44586928.5080704@daylongraphics.com> <4458A885.6010208@pobox.com>
	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>
	<445925E1.4070406@pobox.com>
Message-ID: <445A8B12.3010602@daylongraphics.com>

Further to exploring vertical data in GDAL, I went back to basics.

GDAL basically follows the OpenGIS Grid Coverages spec. This spec has 
some shortcomings, however:

- It has a heavy assumption that datasets are color images.
- It talks a lot about color image processing (filtering, etc.) when
   this is outside the domain of data access.
- Elevation data is mentioned but has no explicit band type.
- The CS_Units type is undefined (it's called "CS_Units" but that's it).
   So even if linear measure types indicate elevations, there's no way
   to be sure what to test the unit type ID against.
- GeoTIFF is highlighted as a well known binary georaster
   representation. But OGC does not support GeoTIFF completely
   since GeoTIFF has explicit elevation typing.
- It has offset/scale attributes which would be presumed used
   for conversion of elevation data between real units and pixel values.
   This is erroneous; nothing short of a procedurally definable transform
   is sufficiently flexible to generally support this conversion. Most
   HDRI images, e.g., have nonlinear pixel mappings.

Overall, elevations are mentioned and anticipated, but they are given 
"lip service" half-defined interfaces.

So... if we want GDAL to follow OGC (and that is generally a good 
thing), then OGC needs to be updated (or it needs to finish what it 
starts). But then I wouldn't expect anything to happen anytime soon, you 
know how standards bodies are.

Ray

From ben at vterrain.org  Thu May  4 20:36:42 2006
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Potential thrashing on band 1?
Message-ID: <008301c66fdb$fbbee330$9b02a8c0@DellWork>


I've got a normal RGB TIF file, size 4093x4093, and i'm reading a set of 4x4
tiles out of it (each 1024x1024 with 1 pixel overlap).
I am using this to read a part of each row:
	band1->RasterIO(GF_Read, ..)
	band2->RasterIO(GF_Read, ..)
	band3->RasterIO(GF_Read, ..)

I get these messages:

CPL Debug: GDAL: GDALOpen(J3_4093.tif) succeeds as GTiff.
CPL Debug: GDAL: Potential thrashing on band 1 of J3_4093.tif.
CPL Debug: GDAL: GDALClose(J3_4093.tif)
CPL Debug: GDAL: 789 block reads on 195 block band 1 of J3_4093.tif.

These are surprising values - 789, 195?  I figure that a row of tiles
(4093*1024*24-bit) might not be fitting into GDAL's cache, but in that case
one might expect 1024*16 = 16k block reads instead of 4k.
("Blocks" for TIF are 1 scan line, right?)

Then there is the mystery of why it complains about "band 1", when i am
reading all three bands identically.

Thanks,
Ben


From warmerdam at pobox.com  Thu May  4 23:05:25 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Potential thrashing on band 1?
In-Reply-To: <008301c66fdb$fbbee330$9b02a8c0@DellWork>
References: <008301c66fdb$fbbee330$9b02a8c0@DellWork>
Message-ID: <445AC0F5.4050903@pobox.com>

Ben Discoe wrote:
> I've got a normal RGB TIF file, size 4093x4093, and i'm reading a set of 4x4
> tiles out of it (each 1024x1024 with 1 pixel overlap).
> I am using this to read a part of each row:
> 	band1->RasterIO(GF_Read, ..)
> 	band2->RasterIO(GF_Read, ..)
> 	band3->RasterIO(GF_Read, ..)
> 
> I get these messages:
> 
> CPL Debug: GDAL: GDALOpen(J3_4093.tif) succeeds as GTiff.
> CPL Debug: GDAL: Potential thrashing on band 1 of J3_4093.tif.
> CPL Debug: GDAL: GDALClose(J3_4093.tif)
> CPL Debug: GDAL: 789 block reads on 195 block band 1 of J3_4093.tif.
> 
> These are surprising values - 789, 195?  I figure that a row of tiles
> (4093*1024*24-bit) might not be fitting into GDAL's cache, but in that case
> one might expect 1024*16 = 16k block reads instead of 4k.
> ("Blocks" for TIF are 1 scan line, right?)

Ben,

Stripped TIFF files often have several scanlines per strip (block).  A
gdalinfo report will tell you the effective block size for the file.

> Then there is the mystery of why it complains about "band 1", when i am
> reading all three bands identically.

The "potential thrashing" debug message is just a bit of a hint to developers
that there may be efficiency issues with how they are accessing data.  I only
report it for band 1 since I imagine the results will generally be similar
for other bands.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Fri May  5 01:23:29 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: GDAL/OGR perl interface and CPAN
In-Reply-To: <9fa59e50d57ecb3106121ef569994a17@deuxpi.ca>
References: <9fa59e50d57ecb3106121ef569994a17@deuxpi.ca>
Message-ID: <445AE151.7060509@tkk.fi>

Anonymous Coward kirjoitti:
> there appears to already be an older (and unmaintained)
> interface on CPAN [1]. any chance of either taking over
> maintainership or including your version on CPAN.  i see you
> actually have some CPAN modules that require ogr/gdal, though
> they are not on CPAN.  that doesn't make much sense.
>
> [1] http://search.cpan.org/dist/Geo-GDAL/
>   
I guess this could be done, although as one installs GDAL C library, the 
Perl modules can easily be installed too. However, I don't know about 
rpm's and such whether they install Perl modules.

Schuyler, I remember you already mentioned somewhere that it's ok for to 
replace the old Geo::GDAL with the new swig one? So far we've used the 
module names gdalconst, gdal, ogr, and osr, and they are such also in 
the new 1.3.2. Would it make sense to prepare different packages for 
CPAN? Should there be Geo::GDAL and Geo::OGR or Geo::GDAL::OGR? ... I 
hate these decisions, but they are important and difficult to change later.

Would anybody be willing to make this packaging :-)? The scenario could 
be: libgdal comes from somewhere but not the Perl modules. The preferred 
way would be to install the Perl interface as the Geo::GDAL module from 
CPAN and it should find and adjust to the libgdal, i.e. version and 
installed options, that is found. There would be only Geo::GDAL as there 
is only libgdal (and not libogr for example). There should be Geo::GDAL 
release for each gdal release.

Follow-ups only to geo-perl. Is our message to gdal-dev that we'd like 
the preferred way for Perl module installation be from CPAN?

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From ari.jolma at tkk.fi  Fri May  5 01:28:46 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] mean value of rasters
In-Reply-To: <20060504221101.04b7d198.werchowyna@epf.pl>
References: <845AADAC1106E44996327D62097E4C6B8F82FC@et.ad.sdsc.edu>
	<445A5D39.6090109@pobox.com>
	<20060504221101.04b7d198.werchowyna@epf.pl>
Message-ID: <445AE28E.9060708@tkk.fi>

Maciek Sieczka kirjoitti:
> On Thu, 04 May 2006 15:59:53 -0400
> Frank Warmerdam <warmerdam@pobox.com> wrote:
>
>   
>> Christopher Condit wrote:
>>     
>>> I've got N raster files (GeoTiffs) of equal size and dimensions.
>>> I'd like to create a single raster with the mean value of these N
>>> rasters (cell by cell).  Is there a good way to do this with GDAL,
>>> or with another tool?  
>>>       
>> Chris,
>>
>> There is not direct way of doing this with the commandline utilities.
>> It would be relatively easy to implement using Python bindings for
>> GDAL and Numerical Python.  I imagine this could also be done in
>> something like R or GRASS relatively directly.
>>     
>
> Yes, straightforward in Grass:
>
> r.in.gdal to import geotiff rasters
>   

May take a loooong time depending on the size of the raster.

> g.region rast=1st_raster
>
> r.mapcalc 'mean_raster=(1st_raster+2nd_raster+3rd_raster)/3'
>   

The requirement was for N rasters and not 3.

I'd suggest using GDAL scripting. My (evolving set of simple) examples 
of simple tasks are here: 
http://map.hut.fi/PerlForGeoinformatics/examples.html

Regards,

Ari

> r.out.gdal to export mean_raster back to geotiff
>
> Maciek
>
> --------------------
> W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
> http://katalog.panoramainternetu.pl/
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>   


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From ben at vterrain.org  Fri May  5 01:45:46 2006
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Potential thrashing on band 1?
In-Reply-To: <445AC0F5.4050903@pobox.com>
Message-ID: <009401c67007$28a287a0$9b02a8c0@DellWork>

Thanks Frank.  In case anyone else sees the thrash message, i made it go
away by increasing the cache with GDALSetCacheMax().  In this case, default
cache size was 10MB but my row of tiles was 12MB.

Curiously, gdalinfo reports a block of size 4093x21.

-Ben

> -----Original Message-----
> From: Frank Warmerdam
> Sent: Thursday, May 04, 2006 5:05 PM
> 
> Stripped TIFF files often have several scanlines per strip 
> (block).  A gdalinfo report will tell you the effective block 
> size for the file.
> 
> > Then there is the mystery of why it complains about "band 
> > 1", when i am reading all three bands identically.
> 
> The "potential thrashing" debug message is just a bit of a 
> hint to developers that there may be efficiency issues with 
> how they are accessing data.  I only report it for band 1 
> since I imagine the results will generally be similar for other bands.


From jachym.cepicky at centrum.cz  Fri May  5 04:09:42 2006
From: jachym.cepicky at centrum.cz (Jachym Cepicky)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdalwarp: Translating source or target SRS failed
Message-ID: <20060505080940.GB5958@gdf-hannover.de>

Hallo,

I try to reproject some raster files using gdalwarp:

gdalwarp -s_srs "+proj=krovak +lat_0=49.5 +lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0  +y_0=0 +ellps=bessel +units=m +towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56" -t_srs "+proj=latlong +datum=WGS84" teplota.tif teplota-wgs.tif
 
ERROR 1: Translating source or target SRS failed:
+proj=krovak +lat_0=49.5 +lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56

When I use cs2cs for signle coordinates pair, it works great:

echo "-868208.53      -1095793.57"| cs2cs  +proj=krovak +lat_0=49.5
+lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0
+y_0=0 +ellps=bessel +units=m +no_defs
+towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56 +to +proj=latlong
+datum=WGS84
12d48'25.16"E   49d27'8.146"N 46.959

Where could be the problem?

Thanks

Jachym
-- 
Jachym Cepicky
e-mail: jachym.cepicky@centrum.cz
URL: http://les-ejk.cz
GPG: http://les-ejk.cz/gnupg_public_key/jachym_cepicky-gpg_public_key.asc
-----------------------------------------   
OFFICE:                                     
GDF-Hannover
Mengendamm 16d
30177 Hannover
Germany
e-mail: cepicky@gdf-hannover.de
URL:    http://gdf-hannover.de
Tel.:   +49 511-39088507
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 191 bytes
Desc: Digital signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060505/53db2b1e/attachment.bin
From dmorissette at mapgears.com  Fri May  5 08:27:00 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445A626A.2020309@pobox.com>
References: <445A2349.20400@pobox.com> <445A5980.7040109@mapgears.com>
	<445A626A.2020309@pobox.com>
Message-ID: <445B4494.90305@mapgears.com>

Frank Warmerdam wrote:
> 
> Apparently you just copy the whole source tree from the "trunk" directory
> into an appropriately named directory under the "branch" directory.  No
> special commandline options or anything like that.  Apparently SVN
> maintains these copies efficiently (not copying actual data, just 
> pointers).
> 
> I haven't lived in that regime yet, but hopefully it will be straight
> forward.
> 
> CVS branches aren't really *all* that bad, and I've managed to handle
> work with them in mapserver.  But it took me years!
> 

I read a bit about SVN's branching methodology at 
http://svnbook.red-bean.com/en/1.1/ch04s02.html and my first reaction 
was "what a mess!". I mean it creates quite a mess over time if you 
expose all branches as new directories in the repository that are all 
checked out by default if you checkout the root of a project's repository.

My fear was confirmed by the following paragraph at the end of that page:
"Unlike many other version control systems, Subversion's branches exist 
as normal filesystem directories in the repository, not in an extra 
dimension. These directories just happen to carry some extra historical 
information."

I think I prefer CVS' way of handling branches as an extra dimension, 
but since everybody is going wild about SVN being better than CVS these 
days I guess I'll have to get used to it.



>> In the RFC you wrote:
>> "All source files in SVN will have the svn:keywords property set to 
>> "Id" by Frank after they are created."
>>
>> Does this mean that SVN doesn't use the "$Id: $" keyword by default 
>> and that any new files will need to have this flag set to it after 
>> it's been added to the repository?
> 
> 
> That is correct.  You need to mark files specially to tell them to
> expand special variables.  Bob Bray wrote up a bit of info on how to
> have SVN clients do some of this automatically for new files.
> 
>   https://mapguide.osgeo.org/subversionconfig.html
> 
> I imagine most of this would apply to us as well.
> 

Ouch! Are there not ways to control these defaults on the server side? 
It sounds a bit clunky to me to require that users/developers edit their 
default SVN config in order to get things working as expected.

If I understood correctly, if I don't edit my local SVN config and then 
create/commit a new file to the GDAL repository, then the auto props may 
not be set on it, and the "$Id: $" (for instance) would not be handled 
properly, is that right? If yes then I'm very disappointed.

With respect to the "$Id: $", should we not modify our std headers to 
use whatever is the SVN equivalent instead of relying on all developers 
maintaining their config locally to contain whatever auto prop the 
project requires for $Id: $ to work? I checkout CVS copies of projects 
to new systems all the time and I don't want to have to copy/edit my SVN 
config everytime I go to a new system.

Hopefully I misunderstood something and it's not really that bad.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/

From bill at binko.net  Fri May  5 09:24:18 2006
From: bill at binko.net (Bill Binko)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445B4494.90305@mapgears.com>
References: <445A2349.20400@pobox.com> <445A5980.7040109@mapgears.com>
	<445A626A.2020309@pobox.com>  <445B4494.90305@mapgears.com>
Message-ID: <1146835458.15633.5.camel@fastcat.binko.net>

Daniel,

I'm not a Subversion expert (I've used it as a client only).  However, I
think this can be solved using a Hook Script ( see
http://subversion.tigris.org/tools_contrib.html#hook_scripts )

>From what I've seen, svn calls hooks pre- and post-commit, and they
provide both a command-line toolset and language bindings (primarily
Perl & Python) to manipulate the SVN system.

That means that you could write a pre-commit script that added the
properties if the file was of a certain type (.c, etc.).  Alternatively,
you could just reject the addition and give instructions on how to setup
the client to set the properties.  That script already exists and could
just be modified as needed (see
http://svn.collab.net/repos/svn/trunk/contrib/hook-scripts/check-mime-type.pl )

I hope this helps.  I'm sure given the Python expertise in this audience
(myself excluded), there's a solution here.

Bill

On Fri, 2006-05-05 at 08:27 -0400, Daniel Morissette wrote:
> Frank Warmerdam wrote:
> > 
> > Apparently you just copy the whole source tree from the "trunk" directory
> > into an appropriately named directory under the "branch" directory.  No
> > special commandline options or anything like that.  Apparently SVN
> > maintains these copies efficiently (not copying actual data, just 
> > pointers).
> > 
> > I haven't lived in that regime yet, but hopefully it will be straight
> > forward.
> > 
> > CVS branches aren't really *all* that bad, and I've managed to handle
> > work with them in mapserver.  But it took me years!
> > 
> 
> I read a bit about SVN's branching methodology at 
> http://svnbook.red-bean.com/en/1.1/ch04s02.html and my first reaction 
> was "what a mess!". I mean it creates quite a mess over time if you 
> expose all branches as new directories in the repository that are all 
> checked out by default if you checkout the root of a project's repository.
> 
> My fear was confirmed by the following paragraph at the end of that page:
> "Unlike many other version control systems, Subversion's branches exist 
> as normal filesystem directories in the repository, not in an extra 
> dimension. These directories just happen to carry some extra historical 
> information."
> 
> I think I prefer CVS' way of handling branches as an extra dimension, 
> but since everybody is going wild about SVN being better than CVS these 
> days I guess I'll have to get used to it.
> 
> 
> 
> >> In the RFC you wrote:
> >> "All source files in SVN will have the svn:keywords property set to 
> >> "Id" by Frank after they are created."
> >>
> >> Does this mean that SVN doesn't use the "$Id: $" keyword by default 
> >> and that any new files will need to have this flag set to it after 
> >> it's been added to the repository?
> > 
> > 
> > That is correct.  You need to mark files specially to tell them to
> > expand special variables.  Bob Bray wrote up a bit of info on how to
> > have SVN clients do some of this automatically for new files.
> > 
> >   https://mapguide.osgeo.org/subversionconfig.html
> > 
> > I imagine most of this would apply to us as well.
> > 
> 
> Ouch! Are there not ways to control these defaults on the server side? 
> It sounds a bit clunky to me to require that users/developers edit their 
> default SVN config in order to get things working as expected.
> 
> If I understood correctly, if I don't edit my local SVN config and then 
> create/commit a new file to the GDAL repository, then the auto props may 
> not be set on it, and the "$Id: $" (for instance) would not be handled 
> properly, is that right? If yes then I'm very disappointed.
> 
> With respect to the "$Id: $", should we not modify our std headers to 
> use whatever is the SVN equivalent instead of relying on all developers 
> maintaining their config locally to contain whatever auto prop the 
> project requires for $Id: $ to work? I checkout CVS copies of projects 
> to new systems all the time and I don't want to have to copy/edit my SVN 
> config everytime I go to a new system.
> 
> Hopefully I misunderstood something and it's not really that bad.
> 
> Daniel
-- 
Bill Binko <bill@binko.net>


From warmerdam at pobox.com  Fri May  5 10:07:02 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Potential thrashing on band 1?
In-Reply-To: <009401c67007$28a287a0$9b02a8c0@DellWork>
References: <009401c67007$28a287a0$9b02a8c0@DellWork>
Message-ID: <445B5C06.1040607@pobox.com>

Ben Discoe wrote:
> Thanks Frank.  In case anyone else sees the thrash message, i made it go
> away by increasing the cache with GDALSetCacheMax().  In this case, default
> cache size was 10MB but my row of tiles was 12MB.
> 
> Curiously, gdalinfo reports a block of size 4093x21.

Ben,

Well, presumably that is the physical strip size in the TIFF file.  If
you wanted to verify this, you could use tiffinfo.exe on the file (from
FWTools for instance).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From dpinte at itae.be  Fri May  5 10:44:14 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] tiff creation with a colormap ?
Message-ID: <1146840254.25093.118.camel@geru-itae>

Hi, 

Little technical question. I have (x,y,z) raster that i'm outputting to
a GeoTiff file with the following code :

driver_options = ['TFW=YES' 'COMPRESS=DEFLATE']
dst_ds = driver.Create( filename, len(self.idx['X']),\
                            len(self.idx['Y']), 1, gdal.GDT_Byte,\
                            driver_options )
[... coord sys lines ...]
dst_ds.GetRasterBand(1).WriteArray( numpy.transpose(raster) )

This creates a great raster in levels of gray.

Used to matplotlib, how can I output this raster with a colormap [1]? Do
I have to generate three bands ?

Many thanks for your help

Didrik

[1] here is an example of what i get with matplotlib :
http://itae.be/downloads/intrusion2.png 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060505/e0ee82e6/attachment.bin
From Martin.Schmoll at EC.gc.ca  Fri May  5 12:54:27 2006
From: Martin.Schmoll at EC.gc.ca (Schmoll,Martin [Edm])
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Ogrinfo with ESRI personal database
Message-ID: <F1F72C9F1DE9D443A9E7675A6608B2CE027F5E5D@sr-pnr-exch2.prairie.int.ec.gc.ca>

I'm having the same problem as Todd (i.e. can't use ESRI personal
geodatabases with ogrinfo).  I have the most recent builds I think: GDAL
1.3.1.0, FWTools 1.0.0b2.

 

How do I get the PGeo driver?

 

Martin

 

C:\Program Files\FWTools1.0.0b2>gdalinfo --version

GDAL 1.3.1.0, FWTools 1.0.0b2, released 2006/03/30

 

C:\Program Files\FWTools1.0.0b2>ogrinfo
Z:\GIS_DATA_REPOSITORY_EDM\GIS_DATA\FedLands\FedLands.mdb

FAILURE:

Unable to open datasource
`Z:\GIS_DATA_REPOSITORY_EDM\GIS_DATA\FedLands\FedLands

.mdb' with the following drivers.

  -> ESRI Shapefile

  -> MapInfo File

  -> UK .NTF

  -> SDTS

  -> TIGER

  -> S57

  -> DGN

  -> VRT

  -> AVCBin

  -> REC

  -> Memory

  -> CSV

  -> GML

  -> Interlis 1

  -> Interlis 2

  -> SQLite

  -> ODBC

  -> OGDI

  -> PostgreSQL

  -> MySQL

 

Frank Warmerdam warmerdam at pobox.com
<mailto:gdal-dev%40lists.maptools.org?Subject=%5BGdal-dev%5D%20Ogrinfo%2
0with%20ESRI%20personal%20database&In-Reply-To=EE8C2D034A022444B87B1332B
3978105041A54B5%40extonpo1.bentley.com> 

Fri Dec 9 12:35:29 EST 2005
Todd,
 
It would appear you do not have a recent enough build of
GDAL/OGR.  If it were, it would include a PGeo driver in
the driver list.
 
The Personal Geodatabase driver does use ODBC, but is
distinct from the "plain" ODBC driver.   If you download
a very recent FWTools for win32 it should include the personal
geodatabase support (ie. 1.0.0a7):
 
  http://fwtools.maptools.org/
 
Best regards,

 

 

On 12/9/05, Todd.Southen at bentley.com
<http://lists.maptools.org/mailman/listinfo/gdal-dev>  <Todd.Southen at
bentley.com <http://lists.maptools.org/mailman/listinfo/gdal-dev> >
wrote:
> I'm trying to use ogrinfo on an ESRI personal database mdb file but it
> just fails:
>
> ogrinfo -summary c:\temp\MnDOT\P-069_Database.mdb
> FAILURE:
> Unable to open datasource `c:\temp\MnDOT\P-069_Database.mdb' with the
> following drivers.
>   -> ESRI Shapefile
>   -> UK .NTF
>   -> SDTS
>   -> TIGER
>   -> S57
>   -> MapInfo File
>   -> DGN
>   -> VRT
>   -> AVCBin
>   -> REC
>   -> Memory
>   -> CSV
>   -> GML
>   -> ODBC
>   -> OCI
>
> I'm running this on Windows.  Which driver does it use?  The docs say
it
> uses the ODBC driver, but when I look at the ogrodbcdriver.cpp it
> requires that the datasource name start with "ODBC:":
 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060505/5f14eb82/attachment.html
From warmerdam at pobox.com  Fri May  5 12:57:06 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] tiff creation with a colormap ?
In-Reply-To: <1146840254.25093.118.camel@geru-itae>
References: <1146840254.25093.118.camel@geru-itae>
Message-ID: <445B83E2.6050405@pobox.com>

Didrik Pinte wrote:
> Hi, 
> 
> Little technical question. I have (x,y,z) raster that i'm outputting to
> a GeoTiff file with the following code :
> 
> driver_options = ['TFW=YES' 'COMPRESS=DEFLATE']
> dst_ds = driver.Create( filename, len(self.idx['X']),\
>                             len(self.idx['Y']), 1, gdal.GDT_Byte,\
>                             driver_options )
> [... coord sys lines ...]
> dst_ds.GetRasterBand(1).WriteArray( numpy.transpose(raster) )
> 
> This creates a great raster in levels of gray.
> 
> Used to matplotlib, how can I output this raster with a colormap [1]? Do
> I have to generate three bands ?

Didrik,

Create a gdal.ColorTable object and then write it with SetRasterColorTable()
on the band.   Makeu sure you do this right after the create, and before
writing the raster data or else it will be too late.

Without testing, this might look something like:

  dst_ds = driver.Create( filename, len(self.idx['X']),\
                             len(self.idx['Y']), 1, gdal.GDT_Byte,\
                             driver_options )

  ct = gdal.ColorTable()
  for i in range(256):
    ct.SetColorEntry( i, (255, 255 - i, i, 255) )
  dst_ds.GetRasterBand(1).SetRasterColorTable( ct )

The tuple passed to SetColorEntry() holds Red,Green,Blue,Alpha values.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Fri May  5 12:58:45 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdalwarp: Translating source or target SRS failed
In-Reply-To: <20060505080940.GB5958@gdf-hannover.de>
References: <20060505080940.GB5958@gdf-hannover.de>
Message-ID: <445B8445.10608@pobox.com>

Jachym Cepicky wrote:
> Hallo,
> 
> I try to reproject some raster files using gdalwarp:
> 
> gdalwarp -s_srs "+proj=krovak +lat_0=49.5 +lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0  +y_0=0 +ellps=bessel +units=m +towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56" -t_srs "+proj=latlong +datum=WGS84" teplota.tif teplota-wgs.tif
>  
> ERROR 1: Translating source or target SRS failed:
> +proj=krovak +lat_0=49.5 +lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m +towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56
> 
> When I use cs2cs for signle coordinates pair, it works great:
> 
> echo "-868208.53      -1095793.57"| cs2cs  +proj=krovak +lat_0=49.5
> +lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0
> +y_0=0 +ellps=bessel +units=m +no_defs
> +towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56 +to +proj=latlong
> +datum=WGS84
> 12d48'25.16"E   49d27'8.146"N 46.959

Jachym,

It seems that the PROJ.4 -> Well Known Text translation code in
OGR is missing the Krovak case.  I will add it but this fix has
missed the GDAL 1.3.2 release.

... work, work, work ...

OK, it's in CVS now.

Note, you can put something like the following in a text file,
and reference that in your gdalwarp command to get Krovak support
without my fix.

PROJCS["Krovak",
     GEOGCS["Bessel 1841",
         DATUM["D_unknown",
             SPHEROID["bessel",6377397.155,299.1528128]],
         PRIMEM["Greenwich",0],
         UNIT["Degree",0.017453292519943295]],
     PROJECTION["Krovak"],
     PARAMETER["latitude_of_center",49.5],
     PARAMETER["longitude_of_center",24.83333333333333],
     PARAMETER["scale_factor",0.9999],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["Meter",1]]

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From jachym.cepicky at centrum.cz  Fri May  5 12:59:34 2006
From: jachym.cepicky at centrum.cz (Jachym Cepicky)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdalwarp: Translating source or target SRS failed
In-Reply-To: <445B8445.10608@pobox.com>
References: <20060505080940.GB5958@gdf-hannover.de> <445B8445.10608@pobox.com>
Message-ID: <20060505165933.GA5986@gdf-hannover.de>

Frank, 

thank you very much!

Have a nice weekend

Jachym

On Fri, May 05, 2006 at 12:58:45PM -0400, Frank Warmerdam wrote:
> Jachym Cepicky wrote:
> >Hallo,
> >
> >I try to reproject some raster files using gdalwarp:
> >
> >gdalwarp -s_srs "+proj=krovak +lat_0=49.5 +lon_0=24.83333333333333 
> >+alpha=30.28813972222222 +k=0.9999 +x_0=0  +y_0=0 +ellps=bessel +units=m 
> >+towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56" -t_srs "+proj=latlong 
> >+datum=WGS84" teplota.tif teplota-wgs.tif
> > 
> >ERROR 1: Translating source or target SRS failed:
> >+proj=krovak +lat_0=49.5 +lon_0=24.83333333333333 +alpha=30.28813972222222 
> >+k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +units=m 
> >+towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56
> >
> >When I use cs2cs for signle coordinates pair, it works great:
> >
> >echo "-868208.53      -1095793.57"| cs2cs  +proj=krovak +lat_0=49.5
> >+lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0
> >+y_0=0 +ellps=bessel +units=m +no_defs
> >+towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56 +to +proj=latlong
> >+datum=WGS84
> >12d48'25.16"E   49d27'8.146"N 46.959
> 
> Jachym,
> 
> It seems that the PROJ.4 -> Well Known Text translation code in
> OGR is missing the Krovak case.  I will add it but this fix has
> missed the GDAL 1.3.2 release.
> 
> ... work, work, work ...
> 
> OK, it's in CVS now.
> 
> Note, you can put something like the following in a text file,
> and reference that in your gdalwarp command to get Krovak support
> without my fix.
> 
> PROJCS["Krovak",
>     GEOGCS["Bessel 1841",
>         DATUM["D_unknown",
>             SPHEROID["bessel",6377397.155,299.1528128]],
>         PRIMEM["Greenwich",0],
>         UNIT["Degree",0.017453292519943295]],
>     PROJECTION["Krovak"],
>     PARAMETER["latitude_of_center",49.5],
>     PARAMETER["longitude_of_center",24.83333333333333],
>     PARAMETER["scale_factor",0.9999],
>     PARAMETER["false_easting",0],
>     PARAMETER["false_northing",0],
>     UNIT["Meter",1]]
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org
> 

-- 
Jachym Cepicky
e-mail: jachym.cepicky@centrum.cz
URL: http://les-ejk.cz
GPG: http://les-ejk.cz/gnupg_public_key/jachym_cepicky-gpg_public_key.asc
-----------------------------------------   
OFFICE:                                     
GDF-Hannover
Mengendamm 16d
30177 Hannover
Germany
e-mail: cepicky@gdf-hannover.de
URL:    http://gdf-hannover.de
Tel.:   +49 511-39088507
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 191 bytes
Desc: Digital signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060505/3b7e06a1/attachment.bin
From warmerdam at pobox.com  Fri May  5 13:15:28 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Ogrinfo with ESRI personal database
In-Reply-To: <F1F72C9F1DE9D443A9E7675A6608B2CE027F5E5D@sr-pnr-exch2.prairie.int.ec.gc.ca>
References: <F1F72C9F1DE9D443A9E7675A6608B2CE027F5E5D@sr-pnr-exch2.prairie.int.ec.gc.ca>
Message-ID: <445B8830.4030708@pobox.com>

Schmoll,Martin [Edm] wrote:
> I?m having the same problem as Todd (i.e. can?t use ESRI personal 
> geodatabases with ogrinfo).  I have the most recent builds I think: GDAL 
> 1.3.1.0, FWTools 1.0.0b2.
> 
>  
> 
> How do I get the PGeo driver?

Martin,

Sorry about that, there was a temporary problem with FWTools not including
the PGeo driver.  You might get it going back to:

  http://www.gdal.org/dl/fwtools/FWTools100a9.exe
or
  http://www.gdal.org/dl/fwtools/FWTools100a8.exe

I plan to issue an FWTools 1.0.0 shortly that will include it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From condit at sdsc.edu  Fri May  5 18:19:59 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] mean value of rasters
Message-ID: <845AADAC1106E44996327D62097E4C6B8F83ED@et.ad.sdsc.edu>

I tried in R and came very close.  My script looked something like this
(just to make sure things were working):

library(rgdal)
ds <- GDAL.open("C:/path/test.tif")
vals <- getRasterData(ds)
GDAL.close(ds)
write.table(vals, "C:/path/out.txt")

But when I look at that file as an ASCII grid (which makes sense to do,
right?) my original image is rotated 90 degrees and doubled.
Am I missing something about the rgdal component?  Seems that it should
have worked...

Thanks,

Chris


-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
Warmerdam
Sent: Thursday, May 04, 2006 1:00 PM
To: Christopher Condit
Cc: Gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] mean value of rasters

Christopher Condit wrote:
> I've got N raster files (GeoTiffs) of equal size and dimensions.  I'd
> like to create a single raster with the mean value of these N rasters
> (cell by cell).  Is there a good way to do this with GDAL, or with
> another tool?  

Chris,

There is not direct way of doing this with the commandline utilities.
It would be relatively easy to implement using Python bindings for
GDAL and Numerical Python.  I imagine this could also be done in
something
like R or GRASS relatively directly.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF,
http://osgeo.org



From warmerdam at pobox.com  Sat May  6 11:42:01 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <445A8B12.3010602@daylongraphics.com>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>	<44586928.5080704@daylongraphics.com>
	<4458A885.6010208@pobox.com>	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>	<445925E1.4070406@pobox.com>
	<445A8B12.3010602@daylongraphics.com>
Message-ID: <445CC3C9.7020801@pobox.com>

Ray Gardener wrote:
> Further to exploring vertical data in GDAL, I went back to basics.
> 
> GDAL basically follows the OpenGIS Grid Coverages spec. This spec has 
> some shortcomings, however:
> 
> - It has a heavy assumption that datasets are color images.
> - It talks a lot about color image processing (filtering, etc.) when
>   this is outside the domain of data access.
> - Elevation data is mentioned but has no explicit band type.
> - The CS_Units type is undefined (it's called "CS_Units" but that's it).
>   So even if linear measure types indicate elevations, there's no way
>   to be sure what to test the unit type ID against.
> - GeoTIFF is highlighted as a well known binary georaster
>   representation. But OGC does not support GeoTIFF completely
>   since GeoTIFF has explicit elevation typing.
> - It has offset/scale attributes which would be presumed used
>   for conversion of elevation data between real units and pixel values.
>   This is erroneous; nothing short of a procedurally definable transform
>   is sufficiently flexible to generally support this conversion. Most
>   HDRI images, e.g., have nonlinear pixel mappings.
> 
> Overall, elevations are mentioned and anticipated, but they are given 
> "lip service" half-defined interfaces.
> 
> So... if we want GDAL to follow OGC (and that is generally a good 
> thing), then OGC needs to be updated (or it needs to finish what it 
> starts). But then I wouldn't expect anything to happen anytime soon, you 
> know how standards bodies are.

Ray,

Good summary!  I don't mind going past the existing grid coverage
specification as needed in GDAL.  But where applicable I do like to
build on it.   I don't forsee much work on grid coverages at OGC
in the near future though I am a bit disconnected from efforts there
these days.  To some extent, well thought out handling of these
issues in GDAL could provide guidance for future standards efforts.
In my opinion standards efforts do best when the peg down established
practice.

On a few specific points:
  o I'm not too keen on encoding procedural relationships between raw
    pixels values and elevation values.  But the "raster attribute table"
    could potentially be used to encode descrete mappings for a limited
    number of pixel values.

  o umm, well, I guess that's the only specific point I'll address today!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Sat May  6 11:46:12 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] xerces-c
In-Reply-To: <445A75EA.9010002@unc.edu>
References: <445A75EA.9010002@unc.edu>
Message-ID: <445CC4C4.3090206@pobox.com>

Chris Calloway wrote:
> What versions of xerces-c are currently supported by gdal?
> 
> The news file's last entry (no date) converning xerces was for ogr 1.1.9 
> stating support for xerces-c 1.6 through 2.3.
> 
> However, the apache.org dist directory only contains the latest version 
> 2.7:
> 
> http://www.apache.org/dist/xml/xerces-c/source/
> 
> I'm getting the configure error which is documented years ago on this 
> list to be a version conflict:
> 
> "
> /usr/bin/ld: cannot find -libxerces-c.so.27
> collect2: ld returned 1 exit status
> 
> configure: error: Please correct Xerces options, or don't enable Xerces.
> "

Chris,

I generally use xerces 2.6 or 2.7 now.  You may need a recent GDAL/OGR
(ie. 1.3.1 or 1.3.2) to work conveniently with recent Xerceses.  There
are a few header file changes in recent history I think.

But the above error sounds more like a shared library path problem,
or some sort of configure problem.  I would suggest checking the actual
link line being used and make sure it makes sense.  Also make sure that
the directory with the xerces libraries is in your LD_LIBRARY_PATH
env variable or appropriately configured with ld.conf.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Sat May  6 12:05:47 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] NITF all black LUT, but GlobalMapper can show color
In-Reply-To: <6EDE644E.0C7E3320.00066B75@netscape.net>
References: <6EDE644E.0C7E3320.00066B75@netscape.net>
Message-ID: <445CC95B.6000602@pobox.com>

list67@netscape.net wrote:
> I have a CADRG formatted file.  When I run gdalinfo on the file, every
> entry in the color table is reported as black.  When I run the program
> through a debugger, it appears that the values immediately before and after
> the LUT fit within the range of expected values for those variables.  But
> for some reason the LUT is all zeros.  But when I load the file with
> GlobalMapper or Erdas Imagine, a map image is displayed.
> 
> The number of NITF images is reported as 1.  The psImage->nBands values is
> 1.  The NITF IREP is reported as RGB/LUT.  The NITF IC mode is M4 (which is
> different from another CADRG file that has a C4 NITF IC value and has
> various colors in the color table).  Do you know where GlobalMapper is
> getting the colors from?

Mike,

I suspect incomplete M4 handling but I'm not at all sure.  If I had a
sample file I would be willing to look into the problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From rayg at daylongraphics.com  Sat May  6 13:58:09 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <445CC3C9.7020801@pobox.com>
References: <4457A8BD.1030409@pobox.com>
	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>
	<44586928.5080704@daylongraphics.com> <4458A885.6010208@pobox.com>
	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>
	<445925E1.4070406@pobox.com>
	<445A8B12.3010602@daylongraphics.com> <445CC3C9.7020801@pobox.com>
Message-ID: <445CE3B1.1080605@daylongraphics.com>



> 
> On a few specific points:
>  o I'm not too keen on encoding procedural relationships between raw
>    pixels values and elevation values.  But the "raster attribute table"
>    could potentially be used to encode descrete mappings for a limited
>    number of pixel values.

Well, it's not just for elevations, any kind of band data would be 
served by that. The driver's already a bunch of format-specific code 
anyway, it doesn't change anything to make it have a logical-to-physical 
and vice-versa method. In fact, that's almost the first thing it should 
have since we need to abstract content access.

Ray


From Roger.Bivand at nhh.no  Sat May  6 15:23:22 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] mean value of rasters
In-Reply-To: <845AADAC1106E44996327D62097E4C6B8F83ED@et.ad.sdsc.edu>
Message-ID: <Pine.LNX.4.44.0605062058370.13813-100000@reclus.nhh.no>

On Fri, 5 May 2006, Christopher Condit wrote:

> I tried in R and came very close.  My script looked something like this
> (just to make sure things were working):
> 
> library(rgdal)
> ds <- GDAL.open("C:/path/test.tif")
> vals <- getRasterData(ds)
> GDAL.close(ds)
> write.table(vals, "C:/path/out.txt")
> 
> But when I look at that file as an ASCII grid (which makes sense to do,
> right?) my original image is rotated 90 degrees and doubled.
> Am I missing something about the rgdal component?  Seems that it should
> have worked...

Sense depends on which way you look at things ...

Look at for example:

library(rgdal)
cea <- system.file("pictures/cea.tif", package = "rgdal")[1]
system(paste("gdalinfo -mm", cea))
cea_SGDF <- readGDAL(cea)
summary(cea_SGDF)
image(cea_SGDF)

where cea_SGDF is a SpatialGridDataFrame with slots:

> getSlots(class(cea_SGDF))
           data            grid      grid.index          coords          bbox 
"AttributeList"  "GridTopology"       "integer"        "matrix"      "matrix" 
    proj4string 
          "CRS" 

If you have N images of an identical region, the images are so large that
you don't want all in memory at once, and you have full control of the
NAs, you can do something like:

cumulator <- readGDAL("image1.tif")
for (i in 2:N) {
  tmpimage <- readGDAL(paste("image", i, ".tif", sep=""))
  cumulator$band1 <- cumulator$band1 + tmpimage$band1
}
cumulator$band1 <- cumulator$band1/N
writeGDAL(cumulator, "cumulator.tif")

But this is fragile - any NAs wil NA the whole cell, and if the lengths of
band1 differ from image to image, all bets are off (you say that the
region is the same for all images, hence the risky suggestion above). The
GRASS route provides GIS-style security if you need it, if you don't,
check the data within R first, possibly on a sub-region (offset and
region.dim arguments to readGDAL), to find out what is going on - maybe a 
print(summary(tmpimage)) in the loop.

Roger

> 
> Thanks,
> 
> Chris
> 
> 
> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
> Warmerdam
> Sent: Thursday, May 04, 2006 1:00 PM
> To: Christopher Condit
> Cc: Gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] mean value of rasters
> 
> Christopher Condit wrote:
> > I've got N raster files (GeoTiffs) of equal size and dimensions.  I'd
> > like to create a single raster with the mean value of these N rasters
> > (cell by cell).  Is there a good way to do this with GDAL, or with
> > another tool?  
> 
> Chris,
> 
> There is not direct way of doing this with the commandline utilities.
> It would be relatively easy to implement using Python bindings for
> GDAL and Numerical Python.  I imagine this could also be done in
> something
> like R or GRASS relatively directly.
> 
> Best regards,
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no


From warmerdam at pobox.com  Sat May  6 16:19:18 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <445CE3B1.1080605@daylongraphics.com>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>	<44586928.5080704@daylongraphics.com>
	<4458A885.6010208@pobox.com>	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>	<445925E1.4070406@pobox.com>	<445A8B12.3010602@daylongraphics.com>
	<445CC3C9.7020801@pobox.com> <445CE3B1.1080605@daylongraphics.com>
Message-ID: <445D04C6.4030403@pobox.com>

Ray Gardener wrote:
> 
> 
>>
>> On a few specific points:
>>  o I'm not too keen on encoding procedural relationships between raw
>>    pixels values and elevation values.  But the "raster attribute table"
>>    could potentially be used to encode descrete mappings for a limited
>>    number of pixel values.
> 
> Well, it's not just for elevations, any kind of band data would be 
> served by that. The driver's already a bunch of format-specific code 
> anyway, it doesn't change anything to make it have a logical-to-physical 
> and vice-versa method. In fact, that's almost the first thing it should 
> have since we need to abstract content access.

Ray,

My concern isn't with how a driver might transform the data to present
it to the application.  I'm fine with that.  I'm just afraid of making
procedural relationships part of the data model, or else we need a way of
supporting them in many formats.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From jluis at ualg.pt  Sat May  6 22:35:12 2006
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Compiler errors in 1.3.2 on windows
In-Reply-To: <445D04C6.4030403@pobox.com>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>	<44586928.5080704@daylongraphics.com>	<4458A885.6010208@pobox.com>	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>	<445925E1.4070406@pobox.com>	<445A8B12.3010602@daylongraphics.com>	<445CC3C9.7020801@pobox.com>
	<445CE3B1.1080605@daylongraphics.com> <445D04C6.4030403@pobox.com>
Message-ID: <445D5CE0.3060500@ualg.pt>

Hi,
When compiling on windows (VC6) I got the following errors.
Removing the offending repeated 'int i' declarations solved the problem.

Joaquim Luis

        cl /nologo /MD /EHsc /Ox -I..\..\port -I..\..\ogr -I..\..\gcore  
-I..\..
\alg -D_USE_MATH_DEFINES /c idrisiDataset.cpp
idrisiDataset.cpp
idrisiDataset.cpp(825) : error C2374: 'i' : redefinition; multiple 
initialization
        idrisiDataset.cpp(727) : see declaration of 'i'
idrisiDataset.cpp(1082) : error C2374: 'i' : redefinition; multiple 
initialization
        idrisiDataset.cpp(1079) : see declaration of 'i'
idrisiDataset.cpp(1397) : error C2374: 'i' : redefinition; multiple 
initialization
        idrisiDataset.cpp(1379) : see declaration of 'i'
idrisiDataset.cpp(1475) : error C2374: 'i' : redefinition; multiple 
initialization
        idrisiDataset.cpp(1466) : see declaration of 'i'
NMAKE : fatal error U1077: 'cl' : return code '0x2'
Stop.

From warmerdam at pobox.com  Sun May  7 12:09:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Compiler errors in 1.3.2 on windows
In-Reply-To: <445D5CE0.3060500@ualg.pt>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>	<44586928.5080704@daylongraphics.com>	<4458A885.6010208@pobox.com>	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>	<445925E1.4070406@pobox.com>	<445A8B12.3010602@daylongraphics.com>	<445CC3C9.7020801@pobox.com>	<445CE3B1.1080605@daylongraphics.com>
	<445D04C6.4030403@pobox.com> <445D5CE0.3060500@ualg.pt>
Message-ID: <445E1BC4.60001@pobox.com>

Joaquim Luis wrote:
> Hi,
> When compiling on windows (VC6) I got the following errors.
> Removing the offending repeated 'int i' declarations solved the problem.
> 
> Joaquim Luis
> 
>        cl /nologo /MD /EHsc /Ox -I..\..\port -I..\..\ogr -I..\..\gcore  
> -I..\..
> \alg -D_USE_MATH_DEFINES /c idrisiDataset.cpp
> idrisiDataset.cpp
> idrisiDataset.cpp(825) : error C2374: 'i' : redefinition; multiple 
> initialization

Joaquim,

Sorry about this.  I haven't been so diligent in testing VC6 compatibility
lately.  I have fixed this in CVS.  You can replace the existing
IdrisiDataset.cpp with this file:

   http://www.gdal.org/srctree/frmts/idrisi/IdrisiDataset.cpp

I also ran into problems with ODBC support with 1.3.2 and my relatively
unpatched VC6 and had to updated port/cpl_odbc.cpp.

   http://www.gdal.org/srctree/port/cpl_odbc.h

Pressure mounts for a rapid 1.3.2.1 (or 1.3.3) release!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From jluis at ualg.pt  Sun May  7 13:24:31 2006
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Compiler errors in 1.3.2 on windows
In-Reply-To: <445E1BC4.60001@pobox.com>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>	<44586928.5080704@daylongraphics.com>	<4458A885.6010208@pobox.com>	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>	<445925E1.4070406@pobox.com>	<445A8B12.3010602@daylongraphics.com>	<445CC3C9.7020801@pobox.com>	<445CE3B1.1080605@daylongraphics.com>
	<445D04C6.4030403@pobox.com> <445D5CE0.3060500@ualg.pt>
	<445E1BC4.60001@pobox.com>
Message-ID: <445E2D4F.10309@ualg.pt>

Frank,

Thanks.
I built GDAL with ECW & MrSID support and as far as gdalinfo respects 
things seams to be ok.
But now I want to integrate this options in my Matlab code and have a 
question about these formats
that I never used before (well I ocasionally loaded MrSID and ECW files 
with 3rth party softs).
Are they allways georeferenced or are they used for both "generic" 
images and georeferenced images?
The thing is that depending on each case I need to treat it on different 
sections of my code.

Thanks again
Joaquim Luis
>
> Joaquim,
>
> Sorry about this.  I haven't been so diligent in testing VC6 
> compatibility
> lately.  I have fixed this in CVS.  You can replace the existing
> IdrisiDataset.cpp with this file:
>
>   http://www.gdal.org/srctree/frmts/idrisi/IdrisiDataset.cpp
>
> I also ran into problems with ODBC support with 1.3.2 and my relatively
> unpatched VC6 and had to updated port/cpl_odbc.cpp.
>
>   http://www.gdal.org/srctree/port/cpl_odbc.h
>
> Pressure mounts for a rapid 1.3.2.1 (or 1.3.3) release!
>
> Best regards,


From warmerdam at pobox.com  Sun May  7 15:12:09 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Compiler errors in 1.3.2 on windows
In-Reply-To: <445E2D4F.10309@ualg.pt>
References: <4457A8BD.1030409@pobox.com>	<DA18DAF0-90D8-4CAF-80F6-3EB83AAD4649@kyngchaos.com>	<44586928.5080704@daylongraphics.com>	<4458A885.6010208@pobox.com>	<e87f54cefb41f1a6ac47eaecc3634c15@tiscali.fr>	<445925E1.4070406@pobox.com>	<445A8B12.3010602@daylongraphics.com>	<445CC3C9.7020801@pobox.com>	<445CE3B1.1080605@daylongraphics.com>
	<445D04C6.4030403@pobox.com> <445D5CE0.3060500@ualg.pt>
	<445E1BC4.60001@pobox.com> <445E2D4F.10309@ualg.pt>
Message-ID: <445E4689.1050301@pobox.com>

Joaquim Luis wrote:
> Frank,
> 
> Thanks.
> I built GDAL with ECW & MrSID support and as far as gdalinfo respects 
> things seams to be ok.
> But now I want to integrate this options in my Matlab code and have a 
> question about these formats
> that I never used before (well I ocasionally loaded MrSID and ECW files 
> with 3rth party softs).
> Are they allways georeferenced or are they used for both "generic" 
> images and georeferenced images?
> The thing is that depending on each case I need to treat it on different 
> sections of my code.

Joaquim,

Both MrSID and ECW can hold raw (ungeoreferenced) imagery.

Generally speaking GetGeoTransform() should return CE_Failure if there is
no meaningful geotransformation information for a dataset.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From vaskup at adsmr.co.za  Mon May  8 06:09:27 2006
From: vaskup at adsmr.co.za (Vasku Pech)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] 1: HELP: GDAL for windows CE
Message-ID: <8EAC4519CA64734E8D37C4B4F69DFE6D01C2C79F@ADSMAIL.Adsintranet.Corp>

Hello Mateus,

Hope you had a good short holiday.

Have you had time to look at my email below? I could not get the STL, you mention in the Readme, to compile for the Emulator. Is that why I cant get the ogr source files to compile for the Emulator?

Regards,
Vasku

-----Original Message-----
From: Vasku Pech 
Sent: 04 May 2006 05:29 PM
To: 'Mateusz Loskot'
Cc: gdal-dev@lists.maptools.org
Subject: RE: HELP: GDAL for windows CE


Hi there Mateus,

Finally I got the source files to compile.

I changed 
port/cpl_config.h.evc4
to read:
port/cpl_config.h

This still did not solve the problem. I had to add ex to your #define in  cpl_config.h

So for example:
#define strerror wce_strerror /* defined in cpl_wince.h */

was changed to read

#define strerror wceex_strerror /* defined in cpl_wince.h */ (extra ex in wce_strerror)

I had to do this through out the cpl_config.h file. Where ever I found wce I added ex to it.

After these changes I managed to get the source to compile but there were 51 warnings all to do with the same file cpl_string.h: The warning is -

c:\gdal-131a_wince\gdal-cvs-2006.04.26\port\cpl_string.h(211) : warning C4275: non dll-interface class 'std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >' used as base for dll-interface class 'CPLString'

Is it ok if I use the DLL as is?

I managed to compile the source for the device but could not get it to compile for the emulator. I need to get it to work as I will be testing my code first using the emulator.

When I try to comiple for the emulator I get the following error 14 times relating to different files:

C:\Gdal-131a_wince\gdal-cvs-2006.04.26\port\cpl_conv.cpp(1495) : error C2373: 'CPLFreeConfig' : redefinition; different type modifiers
        C:\Gdal-131a_wince\gdal-cvs-2006.04.26\port\cpl_conv.h(157) : see declaration of 'CPLFreeConfig'

I find it strange. The header file has a different function declaration for CPLFreeConfig than what is used in the .ccp file.

Why can I not compile for the emulator?

Regards,
Vasku

PS: In your last email you stated

Mateus wrote:
Hmm, I don't have this file there in the ogr subdir.
cpl_config.h should be renamed as I'm explaining above

Look in the following directory ogr\ogrsf_frmts\dgn\dist. You should find another copy of cpl_config.h




-----Original Message-----
From: Mateusz Loskot [mailto:mateusz@loskot.net]
Sent: 03 May 2006 07:07 PM
To: Vasku Pech
Cc: gdal-dev@lists.maptools.org
Subject: Re: HELP: GDAL for windows CE


Vasku Pech wrote:
> Hi there,
> 
> OK, I finally managed to get the source from CVS. It was not a 
> password problem. My company did not have the CVS port set up 
> correctly so it was not possoble to download the code.

I am glad it works now.

> I thought all my problems would be solved once I got a proper stable 
> version of Gdal for wince. Unfortunately I am still sitting at square
> one.

Yes, it's possible. Let's start to solve those problems :-)

> First, you need to install following software on your machine:
> 
> 0. Compilation box running Windows NT/2000/XP
> 

I assume you've fulfilled those software requirements.


> Initially EVC++ 4.0 had a problem even recognising the files. The 
> CR/LF were missing.

Yes, it's possible.

> I opened the files in WordPad and save over the original file which 
> seems to have solved the problem.

Yes, it should fix the problem. But I'd prefer to use notepad, instead
wordpad.

> I am able to see the Fileview and Classview of the project file. The
>  problem is when I try building the project I initially get the 
> following error 95 or so times:
> 
> Cannot open include file: 'cpl_config.h': No such file or directory

Ups! It seems you've found it's missing in the README.
I've forgot to explain this step.

if you're using eVC++ project files, you have to rename file:

port/cpl_config.h.evc4

to read:

port/cpl_config.h

> I find this file in the OGR directory not the PORT directory where 
> the compiler tries to look for it. I have copied the file and also 
> updated the include path under Projects / Settings/ C/C++ tab 
> (Additional inculde directories).

Hmm, I don't have this file there in the ogr subdir.
cpl_config.h should be renamed as I'm explaining above

> Still this does not work. It comes up with following error 113 times:
>  eMbedded Visual C++ 3 and .NET don't have a errno.h header; STLport 
> won't include native errno.h here


That's the problem. I mean, you need to have cpl_config.h renamed as
said above.
You can look into the port/cpl_config.h.evc4 file and you will see
dedicated #if's for errno.

> Can someone help me out here. I am getting desperate as I dont know 
> what else to do.....

Please, follow my guidelines above related to cpl_config.h and it should
work. Simply, I've forgot to add appropriate instructions to the
wince/README file.

I'll fix it soon when I'm back home after Friday (I'm on small holidays).

> I have also tried compiling the file using the
> make file (makefile.evc4) supplied in the main directory. This is 
> apparently suppose to give me 4 files.


> 
> If everything went without any errors you should have following files
>  in gdal root directory (C:\gdal): gdalce.lib - static library 
> (PREFERED) gdalce13.dll - Dynamic-Link Library (DLL) (See IMPORTANT 
> note) gdalce_i.exp - export file for DLL gdalce_i.lib - import 
> library for DLL
> 
> I cannot even get this to work... HELP, HELP.... Please if anybody
> can point me in the right direction I would be very gratefull.

What's the problem here?
What is the error message?


Please, first try to build using eVC++ project files with my
instructions how to get cpl_config.h files.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net


From dpinte at itae.be  Mon May  8 06:37:32 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] tiff creation with a colormap ?
In-Reply-To: <445B83E2.6050405@pobox.com>
References: <1146840254.25093.118.camel@geru-itae> <445B83E2.6050405@pobox.com>
Message-ID: <1147084652.5076.32.camel@geru-itae>

Le vendredi 05 mai 2006 ? 12:57 -0400, Frank Warmerdam a ?crit :
> 
> Create a gdal.ColorTable object and then write it with SetRasterColorTable()
> on the band.   Makeu sure you do this right after the create, and before
> writing the raster data or else it will be too late.

Hi Frank,

It's working fine. Many thanks for the help

Didrik


From jed.kaplan at ips.unibe.ch  Mon May  8 07:06:18 2006
From: jed.kaplan at ips.unibe.ch (Jed O. Kaplan)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] (no subject)
Message-ID: <86B432B1-4895-4212-A6E0-E7E563E72FA7@ips.unibe.ch>

Hello,

I am running Mac OS X 10.4.6 on a Power Mac G5.  I've nearly managed  
to compile the latest CVS version of GDAL, but at the final link step  
I receive the following error:

ld: Undefined symbols:
__ZTIN4geos13GEOSExceptionE
/usr/bin/libtool: internal link edit command failed
....etc

I have GEOS 2.2.1 installed by fink, and I have indicated its  
location in the ./configure to GDAL.

A search did not turn up any references to this GEOSException  
symbol.  Any ideas how I can get around this problem - short of  
compiling without geos - would be much appreciated.

Thanks for your help!

Jed Kaplan



From hydromap at gmail.com  Mon May  8 10:07:10 2006
From: hydromap at gmail.com (Shoaib Burq)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdalwarp parameters
Message-ID: <60c6835d0605080707t4a3d17f7s4f8e31456bd18e43@mail.gmail.com>

Hi

I want to reproject an image which is currently in NAD83 Z21 to a
custom projection.
I am having some trouble getting the proj4 parameters to a custom
projection right.
I have been given the ArcGRID's prj.adf file and it looks like this:


Projection    MERCATOR
Datum         WGS84
Spheroid      WGS84
Units         METERS
Zunits        NO
Xshift        0.0
Yshift        0.0
Parameters
-180  0  0.0 /* longitude of central meridian
  45  0  0.0 /* latitude of true scale
0.0 /* false easting (meters)
0.0 /* false northing (meters)

Could some one please suggest the correct proj4 directive to give to
gdalwarp's -t_srs ?

I have tried
  "+proj=merc +lat_0=45.0 +lon_0=-180 +x_0=0 +y_0=0 +datum=WGS84
+ellps=WGS84 +units=m"
but this is not giving me the correct extents.

Thanks for any pointers
shoaib


From bfraser at geoanalytic.com  Mon May  8 10:28:56 2006
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdalwarp parameters
References: <60c6835d0605080707t4a3d17f7s4f8e31456bd18e43@mail.gmail.com>
Message-ID: <026d01c672ab$bd5312b0$160002c0@shark>

Shoaib,

Have a look at
http://www.remotesensing.org/geotiff/proj_list/mercator_1sp.html

Try using +lat_ts:

 "+proj=merc +lat_ts=45 +lat_0=0.0 +lon_0=-180 +x_0=0 +y_0=0 +datum=WGS84
+ellps=WGS84 +units=m"

Brent Fraser
GeoAnalytic Inc
Calgary, Alberta, Canada


----- Original Message ----- 
From: "Shoaib Burq" <hydromap@gmail.com>
To: <gdal-dev@lists.maptools.org>
Sent: Monday, May 08, 2006 8:07 AM
Subject: [Gdal-dev] gdalwarp parameters


> Hi
>
> I want to reproject an image which is currently in NAD83 Z21 to a
> custom projection.
> I am having some trouble getting the proj4 parameters to a custom
> projection right.
> I have been given the ArcGRID's prj.adf file and it looks like this:
>
>
> Projection    MERCATOR
> Datum         WGS84
> Spheroid      WGS84
> Units         METERS
> Zunits        NO
> Xshift        0.0
> Yshift        0.0
> Parameters
> -180  0  0.0 /* longitude of central meridian
>   45  0  0.0 /* latitude of true scale
> 0.0 /* false easting (meters)
> 0.0 /* false northing (meters)
>
> Could some one please suggest the correct proj4 directive to give to
> gdalwarp's -t_srs ?
>
> I have tried
>   "+proj=merc +lat_0=45.0 +lon_0=-180 +x_0=0 +y_0=0 +datum=WGS84
> +ellps=WGS84 +units=m"
> but this is not giving me the correct extents.
>
> Thanks for any pointers
> shoaib
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Mon May  8 10:52:49 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdalwarp parameters
In-Reply-To: <60c6835d0605080707t4a3d17f7s4f8e31456bd18e43@mail.gmail.com>
References: <60c6835d0605080707t4a3d17f7s4f8e31456bd18e43@mail.gmail.com>
Message-ID: <445F5B41.3030807@pobox.com>

Shoaib Burq wrote:
> Hi
> 
> I want to reproject an image which is currently in NAD83 Z21 to a
> custom projection.
> I am having some trouble getting the proj4 parameters to a custom
> projection right.
> I have been given the ArcGRID's prj.adf file and it looks like this:
> 
> 
> Projection    MERCATOR
> Datum         WGS84
> Spheroid      WGS84
> Units         METERS
> Zunits        NO
> Xshift        0.0
> Yshift        0.0
> Parameters
> -180  0  0.0 /* longitude of central meridian
>  45  0  0.0 /* latitude of true scale
> 0.0 /* false easting (meters)
> 0.0 /* false northing (meters)
> 
> Could some one please suggest the correct proj4 directive to give to
> gdalwarp's -t_srs ?
> 
> I have tried
>  "+proj=merc +lat_0=45.0 +lon_0=-180 +x_0=0 +y_0=0 +datum=WGS84
> +ellps=WGS84 +units=m"
> but this is not giving me the correct extents.

Shoaib,

I believe you should be using:

   +proj=merc +lat_ts=45 +lon_0=-180 +datum=WGS84

+lat_ts is "latitude of true scale"

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Mon May  8 11:15:14 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <1146835458.15633.5.camel@fastcat.binko.net>
References: <445A2349.20400@pobox.com>
	<445A5980.7040109@mapgears.com>	<445A626A.2020309@pobox.com>
	<445B4494.90305@mapgears.com>
	<1146835458.15633.5.camel@fastcat.binko.net>
Message-ID: <445F6082.2060004@pobox.com>

Bill Binko wrote:
> Daniel,
> 
> I'm not a Subversion expert (I've used it as a client only).  However, I
> think this can be solved using a Hook Script ( see
> http://subversion.tigris.org/tools_contrib.html#hook_scripts )
> 
>>From what I've seen, svn calls hooks pre- and post-commit, and they
> provide both a command-line toolset and language bindings (primarily
> Perl & Python) to manipulate the SVN system.
> 
> That means that you could write a pre-commit script that added the
> properties if the file was of a certain type (.c, etc.).  Alternatively,
> you could just reject the addition and give instructions on how to setup
> the client to set the properties.  That script already exists and could
> just be modified as needed (see
> http://svn.collab.net/repos/svn/trunk/contrib/hook-scripts/check-mime-type.pl )

Bill,

Ironically, hooks scripts is one thing we don't have access with the SVN
hosted at osgeo.org, on the CollabNet infrastructure.  In order to provide
service guarantees they don't allow developers to run arbitrary scripts on
their systems.  This puts us in the ackward situation of possibly avoiding
their SVN so we can retain a higher level of control and hookability.

The other downside of moving to the collabnet hosted svn is that if OSGeo
does not renew the contract with CollabNet we will need to migrate to another
SVN server (like on outside-collabnet OSGeo systems).  This would likely
result in another set of userid/login changes which I hate.

The current proposal is to migrate to the collabnet hosted svn anyways.

By the way, CollabNet does offer an "svn commit" mailing list, and I have
already hooked this up to CIA so that we will continue to receive CIA
notifications in #gdal for svn commits.

On the original question of keyword expansion setting, we may well setup a
script at some point to reset the keyword expansion properties of all GDAL
source files periodically.  I would add there is no dramatic problem with
$Id$ not getting expanded in a few files.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From hobu at iastate.edu  Mon May  8 11:20:00 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445A2349.20400@pobox.com>
References: <445A2349.20400@pobox.com>
Message-ID: <6.2.3.4.2.20060508101932.02a065c8@hobu.mail.iastate.edu>

+ 1


From hkcho79 at hotmail.com  Mon May  8 11:28:57 2006
From: hkcho79 at hotmail.com (Cho Hyun-Kee)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] OGRCreateCoordinateTransformation
Message-ID: <BAY116-F120BF47CE333E9DB223240A6A80@phx.gbl>

Hello!

I use GDAL Library for coordinate transformation.
But whenever I use OGRCreateCoordinateTransformation function, it returns 
NULL value.

The code is like tihs.  

OGRSpatialReference OSRInputCoordinateInform;
OGRSpatialReference OSROutputCoordinateInform;

	
OSRInputCoordinateInform.SetTM(38, 127, 0.9996, 100000, 200000);
OSRInputCoordinateInform.importFromEPSG(4162);

OSROutputCoordinateInform.SetUTM(52, TRUE);
OSROutputCoordinateInform.importFromEPSG(4166);

OGRCoordinateTransformation *poCoordinateTransform;
poCoordinateTransform = 
OGRCreateCoordinateTransformation(&OSRInputCoordinateInform, 
&OSROutputCoordinateInform); // return NULL

How can I use it??



From dmorissette at mapgears.com  Mon May  8 11:47:34 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445F6082.2060004@pobox.com>
References: <445A2349.20400@pobox.com>
	<445A5980.7040109@mapgears.com>	<445A626A.2020309@pobox.com>
	<445B4494.90305@mapgears.com>
	<1146835458.15633.5.camel@fastcat.binko.net>
	<445F6082.2060004@pobox.com>
Message-ID: <445F6816.8010100@mapgears.com>

Frank Warmerdam wrote:
> 
> Ironically, hooks scripts is one thing we don't have access with the SVN
> hosted at osgeo.org, on the CollabNet infrastructure.  In order to provide
> service guarantees they don't allow developers to run arbitrary scripts on
> their systems.  This puts us in the ackward situation of possibly avoiding
> their SVN so we can retain a higher level of control and hookability.
> 
> The other downside of moving to the collabnet hosted svn is that if OSGeo
> does not renew the contract with CollabNet we will need to migrate to 
> another
> SVN server (like on outside-collabnet OSGeo systems).  This would likely
> result in another set of userid/login changes which I hate.
> 
> The current proposal is to migrate to the collabnet hosted svn anyways.
> 

Um... it's not the first time that we (OSGeo) hit a wall with Collabnet 
tools not working the way we want. I'm starting to think that Collabnet 
may be good for big projects backed in large part by corporations such 
as Open Office, MapGuide OS, etc, but may not work so well for smaller 
open source projects driven by geeks. After all, the whole reason why we 
are in open source is because we want the ability to lift the hood and 
tweak our tools the way we want, it's odd that the same people would 
accept to host their project infrastructure in a black box.

If we're going to have to setup our own SVN server eventually because 
Collabnet isn't flexible enough then why don't we just wait a little 
longer and see what will happen with the OSGeo infrastructure. The 
MapTools CVS works fine for now (I think), and you have full control on 
your repository.

> 
> On the original question of keyword expansion setting, we may well setup a
> script at some point to reset the keyword expansion properties of all GDAL
> source files periodically.  I would add there is no dramatic problem with
> $Id$ not getting expanded in a few files.
> 

If we went to the Collabnet SVN then I would much prefer that instead of 
requiring that all developers modify their local SVN config files.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/

From ILucena at clarku.edu  Mon May  8 12:09:19 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Google earth + GDAL
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455013CC69C@Iris.ad.clarku.edu>

Hi There, 

Does anyone know which version of Google Earth uses GDAL, what it does
and by what price?

That is all that I found so far but it's confusing:

"Google Earth EC features: 
...
* GIS data import -allows direct import into Google Earth EC of
"traditional" GIS files. These are ingested and converted into KML. You
can open and directly view .SHP, TAB, and over two dozen other GIS files
formats. The points and geometry are draped onto imagery, 3D terrain,
and streamed vector and point layers."
[http://earth.google.com/earth_ec.html]

And

"Optional premium features and data:
...
* GIS Data Importing Module - $200 
  o incorporate GIS data in file formats such as .shp, .tab 
  o examples include parcel data, demographics data, 3D building data
[http://earth.google.com/earth_pro.html]"

Thanks in advance,

Ivan


From warmerdam at pobox.com  Mon May  8 13:37:13 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] OGRCreateCoordinateTransformation
In-Reply-To: <BAY116-F120BF47CE333E9DB223240A6A80@phx.gbl>
References: <BAY116-F120BF47CE333E9DB223240A6A80@phx.gbl>
Message-ID: <445F81C9.6080907@pobox.com>

Cho Hyun-Kee wrote:
> Hello!
> 
> I use GDAL Library for coordinate transformation.
> But whenever I use OGRCreateCoordinateTransformation function, it 
> returns NULL value.
> 
> The code is like tihs. 
> OGRSpatialReference OSRInputCoordinateInform;
> OGRSpatialReference OSROutputCoordinateInform;
> 
>     
> OSRInputCoordinateInform.SetTM(38, 127, 0.9996, 100000, 200000);
> OSRInputCoordinateInform.importFromEPSG(4162);
> 
> OSROutputCoordinateInform.SetUTM(52, TRUE);
> OSROutputCoordinateInform.importFromEPSG(4166);
> 
> OGRCoordinateTransformation *poCoordinateTransform;
> poCoordinateTransform = 
> OGRCreateCoordinateTransformation(&OSRInputCoordinateInform, 
> &OSROutputCoordinateInform); // return NULL
> 
> How can I use it??

Cho Hyun-Kee,

Instantiating an OGRCoordinateTransformation object results in
an attempt to load PROJ.4 as a .so/.dll.  If that doesn't
work, you will get NULL back.  Is it possible that the PROJ
shared library isn't installed an accessable on your system?
I would have expected some sort of error message to be issued
to stderr.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From tonio_73 at tiscali.fr  Mon May  8 14:40:06 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] GCPs to geo transform
In-Reply-To: <43FE2639.20000@pobox.com>
References: <1ed50b03a6da4b47be579f504bc6ba8e@tiscali.fr>
	<43FE2639.20000@pobox.com>
Message-ID: <b0e8afbd885bfce7571a5bf06e57cb46@tiscali.fr>


Le 23 f?vr. 06, ? 22:16, Frank Warmerdam a ?crit :

> Antoine Hue wrote:
>> Hello,
>> I was wondering if it is possible to compute the geo transform given 
>> a set of GCPs without warping the image?
>> That's what is being done in the osgTerrain  library I am using, it 
>> is warping the image to a geotiff as soon as there are GCPs without 
>> checking if the source and destination CS are the same.
>> Thanks a lot for the GDAL, it is doing a lot for me.
>
> Antoine,
>
> Perhaps the GDALGCPsToGeoTransform() function would be of some use to 
> you.
> It computes an approximate geotransform from a set of GCPs.
>
> However, there is no way to utilize this from the existing commandline
> tools.  So it would only be useful if you were scripting or 
> programming.

I eventually implemented the use of the method. It works fine in my app.

Thank you very much for your support.

Antoine



From tonio_73 at tiscali.fr  Mon May  8 14:47:05 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] VRT format DTD/Schema and copy
Message-ID: <3f54fd8130599c4d1fcb31883dbf0fc7@tiscali.fr>

Hi all,

I have  tried to use the .vrt format to "manually" georeference scanned 
maps. I have two questions about it:
- 1- Is there an official XML DTD or schema? If no, I may volunteer to 
write at least a DTD.
- 2- Is there a way to copy all layers of a source at once instead of 
specifying all layers? A kind of equivalent to :
"  poVRTDS = poDriver->CreateCopy( "", poSrcDS, FALSE, NULL, NULL, NULL 
);"


Thanks,

Antoine


From mateusz at loskot.net  Mon May  8 17:17:31 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Re: HELP: GDAL for windows CE
In-Reply-To: <8EAC4519CA64734E8D37C4B4F69DFE6D01C2BEF3@ADSMAIL.Adsintranet.Corp>
References: <8EAC4519CA64734E8D37C4B4F69DFE6D01C2BEF3@ADSMAIL.Adsintranet.Corp>
Message-ID: <445FB56B.70000@loskot.net>

Hi,


Vasku Pech wrote:
> 
> I had to add ex to your #define in  cpl_config.h
> 
> So for example:
> #define strerror wce_strerror /* defined in cpl_wince.h */
> 
> was changed to read
> 
> #define strerror wceex_strerror /* defined in cpl_wince.h */ (extra ex in wce_strerror)

It seems you've found a bug.
Recently (~1 month ago), I got a request from one user to change wce_
prefix to something other because MFC on Windows CE include
functions like wce_time.
So, I changed the prefix to wceex_
but it seems I did not updated all places.

>=2 weeks ago, I removed Windows installation + VC++ from my laptop,
so I was not able to build it.

So, thanks for your effort. I'll commit your bug fix soon.

> I had to do this through out the cpl_config.h file. Where ever I found wce I added ex to it.

Yes, thanks!

> After these changes I managed to get the source to compile but there were 51 warnings all to
> do with the same file cpl_string.h: The warning is -
> 
> c:\gdal-131a_wince\gdal-cvs-2006.04.26\port\cpl_string.h(211) : warning C4275: non dll-interface
>class 'std::basic_string<char,struct std::char_traits<char>,class
std::allocator<char> >'
> used as base for dll-interface class 'CPLString'

Yes, it's well known warning, but AFAIK it does not cause any problems.
There seems to be a problem with STL stuff on Windows CE, but I'd say
you can safely ignore it for now.

> Is it ok if I use the DLL as is?

I've not met any problems for last ~3 months.

> I managed to compile the source for the device but could not get it to compile for the emulator.
> I need to get it to work as I will be testing my code first
> using the emulator.

Sorry, I've never useed emulator for Windows CE development.
It's too far from real environment.
So, I have no idea if it's possible to use STLport on emulator :-(

> Why can I not compile for the emulator?

I suppose you will have to use some preprocessor definitions.

> PS: In your last email you stated
> 
> Mateus wrote:
> Hmm, I don't have this file there in the ogr subdir.
> cpl_config.h should be renamed as I'm explaining above
> 
> Look in the following directory ogr\ogrsf_frmts\dgn\dist. You should find another copy of cpl_config.h

Yes, but I've not compiled DGN driver yet.


Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Mon May  8 17:27:11 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Re: 1: HELP: GDAL for windows CE
In-Reply-To: <8EAC4519CA64734E8D37C4B4F69DFE6D01C2C79F@ADSMAIL.Adsintranet.Corp>
References: <8EAC4519CA64734E8D37C4B4F69DFE6D01C2C79F@ADSMAIL.Adsintranet.Corp>
Message-ID: <445FB7AF.3090205@loskot.net>

Vasku Pech wrote:
> 
> Hope you had a good short holiday.

Yes, but too long :-)
Now, I have a lot of work to do.

> Have you had time to look at my email below? I could not get the STL,
> you mention in the Readme, to compile for the Emulator. Is that why I
> cant get the ogr source files to compile for the Emulator?

I checked STLport forums/lists and it seems you can build it
for x86 and emulator too.
Please, check following threads:

http://sourceforge.net/mailarchive/message.php?msg_id=14653034

http://sourceforge.net/mailarchive/message.php?msg_id=14663933

and some important bug notes:

http://sourceforge.net/tracker/?group_id=146814&atid=766244&func=detail&aid=1477155

http://sourceforge.net/tracker/?group_id=146814&atid=766246&func=detail&aid=1328492

I hope it will help you.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mbrudka at aster.pl  Mon May  8 18:39:56 2006
From: mbrudka at aster.pl (Marek Brudka)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <1146835458.15633.5.camel@fastcat.binko.net>
References: <445A2349.20400@pobox.com>
	<445A5980.7040109@mapgears.com>	<445A626A.2020309@pobox.com>
	<445B4494.90305@mapgears.com>
	<1146835458.15633.5.camel@fastcat.binko.net>
Message-ID: <445FC8BC.2040609@aster.pl>

Bill Binko napisa?(a):

>I'm not a Subversion expert (I've used it as a client only).  However, I
>think this can be solved using a Hook Script ( see
>http://subversion.tigris.org/tools_contrib.html#hook_scripts )
>  
>
>>From what I've seen, svn calls hooks pre- and post-commit, and they
>provide both a command-line toolset and language bindings (primarily
>Perl & Python) to manipulate the SVN system.
>
>That means that you could write a pre-commit script that added the
>properties if the file was of a certain type (.c, etc.).  
>
The major SVN rule in subversion is: "*Server does not modify the 
contents*".
After a switch from cvs to svn 6 months ago we got stuck with this 
several times.

 From svn redbook:
/"Do not attempt to modify the transaction using hook scripts. A common 
example of this would be to automatically set properties such as 
svn:eol-style or svn:mime-type during the commit. While this might seem 
like a good idea, it causes problems. The main problem is that the 
client does not know about the change made by the hook script, and there 
is no way to inform the client that it is out-of-date. This 
inconsistency can lead to surprising and unexpected behavior.

Instead of attempting to modify the transaction, it is much better to 
check the transaction in the pre-commit hook and reject the commit if it 
does not meet the desired requirements."
/

>Alternatively,
>you could just reject the addition and give instructions on how to setup
>the client to set the properties.  That script already exists and could
>just be modified as needed (see
>http://svn.collab.net/repos/svn/trunk/contrib/hook-scripts/check-mime-type.pl )
>  
>
>>My fear was confirmed by the following paragraph at the end of that page:
>>"Unlike many other version control systems, Subversion's branches exist 
>>as normal filesystem directories in the repository, not in an extra 
>>dimension. These directories just happen to carry some extra historical 
>>information."
>>    
>>
Nothing to warry about :-). The branching is cool in svn :-)

>>I think I prefer CVS' way of handling branches as an extra dimension, 
>>but since everybody is going wild about SVN being better than CVS these 
>>days I guess I'll have to get used to it.
>>    
>>
My experience with svn is that it promises more than it really provides. 
IMHO the major
benefit of svn are the atomicity of commits as well as branching and 
tagging scheme. Moving
and copying of files and directories works in general as expected, but 
some users had several
(newbie) problem with this.

The major drawback of svn when compared to cvs is the lack of third 
party OS software eg. the only
way to publish source in WWW is (was?) webcvs which is not very well for 
svn.

My conclusions on switching from cvs to svn in my company are:
 - we will rather not get back to cvs,
 - if we knew as much about svn as today, we should have reconsider our 
decision more .. consciously,
   as the benefits sometimes seem to be not worth the price of transition.

Regards
Marek


From condit at sdsc.edu  Mon May  8 18:56:10 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdal_warp for abnormal extents
Message-ID: <845AADAC1106E44996327D62097E4C6B8F84CE@et.ad.sdsc.edu>

I've got some tif data that has abnormal extents (in this case 0 to 360
east).  Is it possible to use gdalwarp to get this back into a -180 to
180 file?

I've tried:

%gdal_warp% -s_srs EPSG:4326 -t_srs EPSG:4326 -te -180 -90 180 90 in.tif
out.tif

 

I get the eastern half ok (0 to 180), but everything from -180 to 0 has
a 0 value.

 

Is there a way to do this with gdalwarp or another tool?

 

Thanks

 

Chris

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060508/98a383a2/attachment.html
From ghuby at geosys.com  Tue May  9 03:35:34 2006
From: ghuby at geosys.com (Guillaume HUBY)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Google earth + GDAL
In-Reply-To: <6FD7C9DB26540B42A1207C69BF92D455013CC69C@Iris.ad.clarku.edu>
Message-ID: <001201c6733b$2897cea0$1401a8c0@pcgh>

> -----Message d'origine-----
> De : gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] De la part de Ivan Lucena
> Envoy? : lundi 8 mai 2006 18:09
> ? : gdal-dev
> Objet : [Gdal-dev] Google earth + GDAL
> 
> 
> Hi There, 
> 
> Does anyone know which version of Google Earth uses GDAL, 
> what it does and by what price?
> 
> That is all that I found so far but it's confusing:
> 
> "Google Earth EC features: 
> ...
> * GIS data import -allows direct import into Google Earth EC 
> of "traditional" GIS files. These are ingested and converted 
> into KML. You can open and directly view .SHP, TAB, and over 
> two dozen other GIS files formats. The points and geometry 
> are draped onto imagery, 3D terrain, and streamed vector and 
> point layers." [http://earth.google.com/earth_ec.html]
> 
> And
> 
> "Optional premium features and data:
> ...
> * GIS Data Importing Module - $200 
>   o incorporate GIS data in file formats such as .shp, .tab 
>   o examples include parcel data, demographics data, 3D 
> building data [http://earth.google.com/earth_pro.html]"
> 
> Thanks in advance,
> 
> Ivan
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

I do not answer the question, but I wish to discuss a development request
related to the subject:

Is it possible to see KML (http://earth.google.com/kml/) being implemented
in OGR formats (http://www.gdal.org/ogr/ogr_formats.html) ?

This way, it would be very simple to use ogr2ogr
(http://www.gdal.org/ogr/ogr2ogr.html) to produce GE objects.

Thanks,
Guillaume.



From jorn at spacetec.no  Tue May  9 03:58:30 2006
From: jorn at spacetec.no (=?iso-8859-1?q?J=F8rn_Vegard_R=F8snes?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Google earth + GDAL
In-Reply-To: <6FD7C9DB26540B42A1207C69BF92D455013CC69C@Iris.ad.clarku.edu>
References: <6FD7C9DB26540B42A1207C69BF92D455013CC69C@Iris.ad.clarku.edu>
Message-ID: <200605090958.30304.jorn@spacetec.no>

Just a note.
GeoServer has some KML support, I have used it for some point and linestring 
data from shapefiles.
http://docs.codehaus.org/display/GEOSDOC/How+do+I+set+output+format+for+KML
http://chris.narx.net/2005/08/07/clarification-on-adding-wms-to-google-earth/

cheers
Jorn

From uwe.schmitz at lverma.nrw.de  Tue May  9 08:26:28 2006
From: uwe.schmitz at lverma.nrw.de (uwe.schmitz@lverma.nrw.de)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
Message-ID: <C900396522B3C142AA9A7F5AFEE11CB3013800D2@slva01lvnt23.lverma.nrw.de>

Hi folks,

as a solution for the upcoming datum shift in Germany
(from DHDN to ETRS89[=WGS84]) I'm currently experimenting 
with grid based datum shifts.

After fiddling around a little bit, I accomplished to
produce a sample grid in NTv2-Format called DHDN_ETRS89.gsb.

Cs2cs works well with it. The following command-line:

cs2cs +init=epsg:31466 +nadgrids=./DHDN_ETRS89.gsb \
   +to +proj=utm +datum=WGS84 +zone=32

gives me correct transformation results.

Now I'm trying to use ogr2ogr to transform some shape-files.
I'm currently using FWTools1.0.0b2 under WinXP (also
verified with GDAL1.3.1 under Unix) and my command-line 
looks like:

ogr2ogr -f "ESRI Shapefile" \
   -s_srs "+init=epsg:31466 +nadgrids=DHDN_ETRS89.gsb" \
   -t_srs "+proj=utm +datum=WGS84 +zone=32" \
   out\GEW01_L.shp in\GEW01_L.shp

If I set PROJ_DEBUG there are only 2 lines of
output:

pj_open_lib(proj_def.dat): call fopen(C:\PROGRA~1\FWTOOL~1.0A6\proj_lib/proj_def
.dat) - succeeded
pj_open_lib(epsg): call fopen(C:\PROGRA~1\FWTOOL~1.0A6\proj_lib/epsg) - succeede
d

Therefore I fear that the grid isn't used at all.
I've also used some other -s_srs/-t_srs combination
with no success

Also I'm wondering why the program doesn't complain, if
I specify a non existant file for +nadgrids.

Thanks for any hints.
Uwe


From warmerdam at pobox.com  Tue May  9 10:48:45 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Google earth + GDAL
In-Reply-To: <001201c6733b$2897cea0$1401a8c0@pcgh>
References: <001201c6733b$2897cea0$1401a8c0@pcgh>
Message-ID: <4460ABCD.90706@pobox.com>

Guillaume HUBY wrote:
  > I do not answer the question, but I wish to discuss a development request
> related to the subject:
> 
> Is it possible to see KML (http://earth.google.com/kml/) being implemented
> in OGR formats (http://www.gdal.org/ogr/ogr_formats.html) ?
> 
> This way, it would be very simple to use ogr2ogr
> (http://www.gdal.org/ogr/ogr2ogr.html) to produce GE objects.

Guillaume,

It is certainly *possible*.  But it isn't high on my priority list.  I
have no funded interest for instance.  So, a contributed implementation
that works well would be welcomed.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Tue May  9 11:07:39 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
In-Reply-To: <C900396522B3C142AA9A7F5AFEE11CB3013800D2@slva01lvnt23.lverma.nrw.de>
References: <C900396522B3C142AA9A7F5AFEE11CB3013800D2@slva01lvnt23.lverma.nrw.de>
Message-ID: <4460B03B.9020909@pobox.com>

uwe.schmitz@lverma.nrw.de wrote:
> Hi folks,
> 
> as a solution for the upcoming datum shift in Germany
> (from DHDN to ETRS89[=WGS84]) I'm currently experimenting 
> with grid based datum shifts.
> 
> After fiddling around a little bit, I accomplished to
> produce a sample grid in NTv2-Format called DHDN_ETRS89.gsb.
> 
> Cs2cs works well with it. The following command-line:
> 
> cs2cs +init=epsg:31466 +nadgrids=./DHDN_ETRS89.gsb \
>    +to +proj=utm +datum=WGS84 +zone=32
> 
> gives me correct transformation results.
> 
> Now I'm trying to use ogr2ogr to transform some shape-files.
> I'm currently using FWTools1.0.0b2 under WinXP (also
> verified with GDAL1.3.1 under Unix) and my command-line 
> looks like:
> 
> ogr2ogr -f "ESRI Shapefile" \
>    -s_srs "+init=epsg:31466 +nadgrids=DHDN_ETRS89.gsb" \
>    -t_srs "+proj=utm +datum=WGS84 +zone=32" \
>    out\GEW01_L.shp in\GEW01_L.shp
> 
> If I set PROJ_DEBUG there are only 2 lines of
> output:
> 
> pj_open_lib(proj_def.dat): call fopen(C:\PROGRA~1\FWTOOL~1.0A6\proj_lib/proj_def
> .dat) - succeeded
> pj_open_lib(epsg): call fopen(C:\PROGRA~1\FWTOOL~1.0A6\proj_lib/epsg) - succeede
> d
> 
> Therefore I fear that the grid isn't used at all.
> I've also used some other -s_srs/-t_srs combination
> with no success

Uwe,

Unfortunately gdalwarp uses OGC Well Known Text as the internal coordinate
system representation and that does not include any support for grid files.
NAD27/NAD83 grid shift files are handled as a special case.

So the PROJ.4 representation is parsed and converted to WKT, and then
converted back to PROJ.4 format to do the actual coordinate transformation.
But by then the grid list is lost.

Unfortunately, there is no current way to accomplish what you want with
gdalwarp.  I would encourage you to file a bug report.  I think I may
make an non-standard extension or two to WKT to allow transporting some
of these values I need for PROJ.4.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Martin.Daly at cadcorp.com  Tue May  9 11:17:44 2006
From: Martin.Daly at cadcorp.com (Martin Daly)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
Message-ID: <AA31868BC8CE1B4DB132141A6556A20A082EE8@dev010_ex.Dev.cadcorp.net>

> Unfortunately, there is no current way to accomplish what you 
> want with
> gdalwarp.  I would encourage you to file a bug report.  I think I may
> make an non-standard extension or two to WKT to allow 
> transporting some
> of these values I need for PROJ.4.

Stop right there, you and your "non-standard extension or two to WKT".

Can you use the "AUTHORITY" WKT construct (<authority> =
AUTHORITY["<name>", "<code>"]), e.g. something like [AUTHORITY="PROJ.4",
"PROJ.4 definition goes here"]?

Regards,
Martin Daly,
Technical Director,
Cadcorp
Computer Aided Development Corporation Ltd.
1, Heathcock Court, LONDON, WC2R 0NT
Tel: +44 (0) 20 7836 0875
Fax: +44 (0) 20 7836 0881
mailto:martin.daly@cadcorp.com
http://www.cadcorp.com


From warmerdam at pobox.com  Tue May  9 11:38:05 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
In-Reply-To: <AA31868BC8CE1B4DB132141A6556A20A082EE8@dev010_ex.Dev.cadcorp.net>
References: <AA31868BC8CE1B4DB132141A6556A20A082EE8@dev010_ex.Dev.cadcorp.net>
Message-ID: <4460B75D.6090608@pobox.com>

Martin Daly wrote:
> Stop right there, you and your "non-standard extension or two to WKT".
 >
> Can you use the "AUTHORITY" WKT construct (<authority> =
> AUTHORITY["<name>", "<code>"]), e.g. something like [AUTHORITY="PROJ.4",
> "PROJ.4 definition goes here"]?

Martin,

Can we have more than one authority entry for a single object?  The logical
place for encoding special information in an authority node would be on
the DATUM but the datum already often has a meaningful relationship to an
EPSG code which I am loath to discard.

Overall, I'm not too keen on embedding a lot of special information in
the authority field.  I'd almost be keener on a special hack to put it into
the name.  I really wish WKT had a "comments" construct to dump this sort
of stuff into.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Martin.Daly at cadcorp.com  Tue May  9 12:23:16 2006
From: Martin.Daly at cadcorp.com (Martin Daly)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
Message-ID: <AA31868BC8CE1B4DB132141A6556A20A082EEA@dev010_ex.Dev.cadcorp.net>

> Can we have more than one authority entry for a single 
> object?  

The EBNF only allows one AUTHORITY code.

> The logical
> place for encoding special information in an authority node 
> would be on
> the DATUM but the datum already often has a meaningful 
> relationship to an
> EPSG code which I am loath to discard.
> Overall, I'm not too keen on embedding a lot of special information in
> the authority field.  I'd almost be keener on a special hack 
> to put it into
> the name.  I really wish WKT had a "comments" construct to 
> dump this sort
> of stuff into.

Agreed.  What about having both, e.g.
AUTHORITY["EPSG/PROJ.4","1234/PROJ.4 definition"]?  I'd be willing to
handle something like this in our WKT parsing.

M


From mateusz at loskot.net  Tue May  9 15:14:49 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445A5980.7040109@mapgears.com>
References: <445A2349.20400@pobox.com> <445A5980.7040109@mapgears.com>
Message-ID: <4460EA29.3070206@loskot.net>

Daniel Morissette wrote:
> Frank Warmerdam wrote:
> 
>> o Doing branches is more intuitive (so I might not be afraid to do
>> so).
>> 
> 
> Is it creating branches or using them that is more intuitive?
> Creating CVS branches is as simple as typing "cvs tag -b..." and I
> never found that confusing myself ... how does SVN do it?

"Creating a branch is very simple?you make a copy of the project in the
repository using the svn copy command. Subversion is not only able to
copy single files, but whole directories as well."
(http://svnbook.red-bean.com/nightly/en/svn.branchmerge.using.html#svn.branchmerge.using.create)

so, in SVN, you just have to use "svn copy" command.

Thus, SVN branches can be considered as less intrusive to the HEAD and
more safe than in CVS - physically separated.

> Does this mean that SVN doesn't use the "$Id: $" keyword by default
> and that any new files will need to have this flag set to it after
> it's been added to the repository?

Yes, it does.
The main reasons of this approach I see are:
- performance - only keywords in marked files are scanned/updated
- you can assign different keywords to single file or group of files

Also, keywords mechanism belongs to more general concept - properties.
You can introduce your own properties, you can assign values of selected
properties per revision, etc.

Here you can find more details:
http://svnbook.red-bean.com/nightly/en/svn.advanced.props.html

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Tue May  9 15:26:50 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445B4494.90305@mapgears.com>
References: <445A2349.20400@pobox.com>
	<445A5980.7040109@mapgears.com>	<445A626A.2020309@pobox.com>
	<445B4494.90305@mapgears.com>
Message-ID: <4460ECFA.4000400@loskot.net>

Daniel Morissette wrote:
> If I understood correctly, if I don't edit my local SVN config and then
> create/commit a new file to the GDAL repository, then the auto props may
> not be set on it, and the "$Id: $" (for instance) would not be handled
> properly, is that right? If yes then I'm very disappointed.

No. If someone (e.g. during import/add files) will fire:
svn propset svn:keywords "Id" file.cpp

then this information is stored and also revisioned, so noone needs to
repeate setting this property.

It's simple to assign SVN properties using regexp patterns with help of
find/grep.

> With respect to the "$Id: $", should we not modify our std headers to
> use whatever is the SVN equivalent instead of relying on all developers
> maintaining their config locally to contain whatever auto prop the
> project requires for $Id: $ to work?

Do you mean that using SVN $Id$ requires every developer to set his own
personal config file?

> I checkout CVS copies of projects
> to new systems all the time and I don't want to have to copy/edit my SVN
> config everytime I go to a new system.

And you don't have to do it with SVN too.
SVN personal config files contains only general settings, per user = for
every run of svn command.
Similarly to (almost) every config files on Unix, it's divided to global
(system-wide) and local configuration file.
So, if you don't want, you don't have to use your local config file, and
everything should work.

Details:
http://svnbook.red-bean.com/nightly/en/svn.advanced.html#svn.advanced.confarea

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From ILucena at clarku.edu  Tue May  9 15:33:59 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Google earth + GDAL
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455013CC7F6@Iris.ad.clarku.edu>

Hi Guillaume,

That looks like an interesting idea. 

Google Earth KML Basic documents, can be mapped as basic GIS objects, or more likely the other way around:

	Point -> Placemarks
	Lines -> Paths
	Polygons -> Polygons
	Raster Image -> GroundOverlays

And whatever else you need just customize it. It's XML!

But the purpose of this would be just visualization, Am I right?

By the way, I tried to add some geotiff on Google Earth and it didn't work right. That is pointing me back to my original question. It should work better in the commercial version of GE and that should be the one that uses GDAL. I guess.

Best regards,

Ivan

-----Original Message-----
From: Guillaume HUBY [mailto:ghuby@geosys.com] 
Sent: Tuesday, May 09, 2006 3:36 AM
To: Ivan Lucena; 'gdal-dev'
Subject: RE : [Gdal-dev] Google earth + GDAL

> -----Message d'origine-----
> De : gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] De la part de Ivan Lucena
> Envoy? : lundi 8 mai 2006 18:09
> ? : gdal-dev
> Objet : [Gdal-dev] Google earth + GDAL
> 
> 
> Hi There, 
> 
> Does anyone know which version of Google Earth uses GDAL, 
> what it does and by what price?
> 
> That is all that I found so far but it's confusing:
> 
> "Google Earth EC features: 
> ...
> * GIS data import -allows direct import into Google Earth EC 
> of "traditional" GIS files. These are ingested and converted 
> into KML. You can open and directly view .SHP, TAB, and over 
> two dozen other GIS files formats. The points and geometry 
> are draped onto imagery, 3D terrain, and streamed vector and 
> point layers." [http://earth.google.com/earth_ec.html]
> 
> And
> 
> "Optional premium features and data:
> ...
> * GIS Data Importing Module - $200 
>   o incorporate GIS data in file formats such as .shp, .tab 
>   o examples include parcel data, demographics data, 3D 
> building data [http://earth.google.com/earth_pro.html]"
> 
> Thanks in advance,
> 
> Ivan
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

I do not answer the question, but I wish to discuss a development request
related to the subject:

Is it possible to see KML (http://earth.google.com/kml/) being implemented
in OGR formats (http://www.gdal.org/ogr/ogr_formats.html) ?

This way, it would be very simple to use ogr2ogr
(http://www.gdal.org/ogr/ogr2ogr.html) to produce GE objects.

Thanks,
Guillaume.



From mateusz at loskot.net  Tue May  9 15:31:03 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <445F6082.2060004@pobox.com>
References: <445A2349.20400@pobox.com>	<445A5980.7040109@mapgears.com>	<445A626A.2020309@pobox.com>	<445B4494.90305@mapgears.com>	<1146835458.15633.5.camel@fastcat.binko.net>
	<445F6082.2060004@pobox.com>
Message-ID: <4460EDF7.6010606@loskot.net>

Frank Warmerdam wrote:
> Ironically, hooks scripts is one thing we don't have access with the SVN
> hosted at osgeo.org, on the CollabNet infrastructure.  In order to provide
> service guarantees they don't allow developers to run arbitrary scripts on
> their systems.  This puts us in the ackward situation of possibly avoiding
> their SVN so we can retain a higher level of control and hookability.

Frank,

hook scripts are very useful and they would solve problems pointed out
by Daniel, e.g. with automation of setting properties, etc.

> The other downside of moving to the collabnet hosted svn is that if OSGeo
> does not renew the contract with CollabNet we will need to migrate to
> another
> SVN server (like on outside-collabnet OSGeo systems).  This would likely
> result in another set of userid/login changes which I hate.

Migration repository from on SVN server to another is very easy and
safe, but users issue can be a problem.

> By the way, CollabNet does offer an "svn commit" mailing list, and I have
> already hooked this up to CIA so that we will continue to receive CIA
> notifications in #gdal for svn commits.

Cool! I like CIA spying :)

> On the original question of keyword expansion setting, we may well setup a
> script at some point to reset the keyword expansion properties of all GDAL
> source files periodically.  I would add there is no dramatic problem with
> $Id$ not getting expanded in a few files.

It can be a shell script running manually by someone on his local
copy.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From shaun.kolomeitz at epa.qld.gov.au  Tue May  9 22:38:33 2006
From: shaun.kolomeitz at epa.qld.gov.au (Shaun Kolomeitz)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] GDAL compile errors on Solaris10/SPARC with ECW
Message-ID: <T782ab7049b9384f0e16c0@goshawk.env.qld.gov.au>

Dear Gdal-Dev'ers,

Well I seem to have conquered most of the hurdles on getting GDAL to compile on Solaris10/SPARC.
One is still alluding me however (see below). I've been able to recompile ECW according to the Build.txt instructions, although bringing ECW support into GDAL is giving me grief (see below). Any help greatly appreciated.

With Regards,
Shaun
-----8<----
 g++ -Wall -O2 -I/export/home/postgres/gdal-1.3.2/port -I/export/home/postgres/gdal-1.3.2/gcore -I/export/home/postgres/gdal-1.3.2/alg -I/export/home/postgres/gdal-1.3.2/ogr -I/export/home/postgres/gdal-1.3.2/ogr/ogrsf_frmts -DFRMT_ecw -DOGR_ENABLED -D_REENTRANT -I/export/home/postgres/gdal-1.3.2/port -I/usr/local/include -I/usr/local/include/jasper -I/usr/local/include/jasper/include -c ecwdataset.cpp  -fPIC -DPIC -o ../o/.libs/ecwdataset.o
In file included from /usr/include/fcntl.h:23,
                 from /usr/local/include/NCSFileIO.h:115,
                 from /usr/local/include/NCSJPCIOStream.h:30,
                 from /usr/local/include/NCSJP2Box.h:27,
                 from /usr/local/include/NCSJP2FileView.h:45,
                 from /usr/local/include/NCSFile.h:27,
                 from vsiiostream.h:79,
                 from ecwdataset.cpp:181:
/usr/include/sys/fcntl.h:125:23: token "=" is not valid in preprocessor expressions
In file included from /usr/local/include/NCSFileIO.h:115,
                 from /usr/local/include/NCSJPCIOStream.h:30,
                 from /usr/local/include/NCSJP2Box.h:27,
                 from /usr/local/include/NCSJP2FileView.h:45,
                 from /usr/local/include/NCSFile.h:27,
                 from vsiiostream.h:79,
                 from ecwdataset.cpp:181:
/usr/include/fcntl.h:48:24: token "=" is not valid in preprocessor expressions
/usr/include/fcntl.h:103:40: token "=" is not valid in preprocessor expressions
make[2]: *** [../o/ecwdataset.o] Error 1
make[2]: Leaving directory `/export/home/postgres/gdal-1.3.2/frmts/ecw'
make[1]: *** [ecw-install-obj] Error 2
make[1]: Leaving directory `/export/home/postgres/gdal-1.3.2/frmts'
make: *** [frmts-target] Error 2



___________________________
Disclaimer

This e-mail, including attachments if any, has originated from a Queensland government agency and may contain information that is confidential, or covered by legal professional privilege, and is intended for the named recipient(s) only.  If you have received this message in error, you are asked to inform the sender as quickly as possible and delete this message and any copies of this message from your computer system network.

Any form of disclosure, modification, distribution and/or publication of this e-mail, including attachments is prohibited.  Unless otherwise stated, this e-mail, including attachments represents the views of the sender and not the views of the Environmental Protection Agency.

Although this e-mail has been checked for the presence of computer viruses, the Environmental Protection Agency provides no warranty that all possible viruses have been detected and cleaned.  Any use of this e-mail could harm your computer system.
___________________________



From holl at gdf-hannover.de  Wed May 10 05:17:34 2006
From: holl at gdf-hannover.de (Stephan Holl)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Projection-Problem
Message-ID: <20060510111734.09f6258e@butan.gdf-hannover.de>

Dear lists,

[sorry for crossposting]

I have a strange problem regarding Oracle spatial datasets.

My dataset has the following projection:

Extent: (4452550.890000, 5324953.370000) - (4479484.079834,
5345694.049805) Layer SRS WKT:
PROJCS["GK Zone 4 (DHDN)",
    GEOGCS[,
        DATUM[,
            SPHEROID["Bessel
1841",6377397.155,299.1528128],582.000000,105.000000,414.000000,-1.040000,-0.350000,3.080000,8.300000],
PRIMEM["Greenwich",0.000000], UNIT["Decimal
Degree",0.01745329251994330]], PROJECTION["Transverse Mercator"],
    PARAMETER["Scale_Factor",1.000000],
    PARAMETER["Central_Meridian",12.000000],
    PARAMETER["False_Easting",4500000.000000],
    UNIT["Meter",1.000000000000],
    AUTHORITY["Oracle","82032"]]
[Columns follow here]


Note that the datum-parameter is empty.

I can "export" the data into shp using ogr2ogr which results in a shape
with the following proj-information:

Feature Count: 10584
Extent: (4452550.890000, 5324953.370000) - (4479484.079834,
5345694.049805) Layer SRS WKT:
PROJCS["GK Zone 4 (DHDN)",
    GEOGCS[,
        DATUM["Mean_Sea_Level",
            SPHEROID["Bessel
1841",6377397.155,299.1528128],582.000000,105.000000,414.000000,-1.040000,-0.350000,3.080000,8.300000],
PRIMEM["Greenwich",0.000000], UNIT["Decimal
Degree",0.01745329251994330]], PROJECTION["Transverse Mercator"],
    PARAMETER["Scale_Factor",1.000000],
    PARAMETER["Central_Meridian",12.000000],
    PARAMETER["False_Easting",4500000.000000],
    UNIT["Meter",1.000000000000],
    AUTHORITY["Oracle","82032"]]

Here you can see that the Datum now contains "Mean_Sea_Level". When
inspecting the written .prj-file from the shape I cannot find any entry
in the datum-parameters like "Mean_Sea_Level".

Is this the normal behaviour? I am asking, because GRASS segfaults
when using v.in.ogr with location=newloc parameter enabled.

I am using gdal-1.3.1, grass61 from todays CVS.

Currently out of ideas...

Thanks for your help.

Best
	Stephan


-- 
GDF Hannover - Solutions for spatial data analysis and remote sensing
Hannover Office      -     Mengendamm 16d      -     D-30177 Hannover
Internet: www.gdf-hannover.de      -      Email: holl@gdf-hannover.de
Phone : ++49-(0)511.39088507       -        Fax: ++49-(0)511.39088508

From uwe.schmitz at lverma.nrw.de  Wed May 10 06:22:45 2006
From: uwe.schmitz at lverma.nrw.de (uwe.schmitz@lverma.nrw.de)
Date: Wed Nov 21 11:50:08 2007
Subject: AW: [Gdal-dev] Grid based transformation with ogr2ogr
Message-ID: <C900396522B3C142AA9A7F5AFEE11CB3013800D4@slva01lvnt23.lverma.nrw.de>

Hi Frank,

> 
> Uwe,
> 
> Unfortunately gdalwarp uses OGC Well Known Text as the 
> internal coordinate
> system representation and that does not include any support 
> for grid files.
> NAD27/NAD83 grid shift files are handled as a special case.
> 
> So the PROJ.4 representation is parsed and converted to WKT, and then
> converted back to PROJ.4 format to do the actual coordinate 
> transformation.
> But by then the grid list is lost.
> 
> Unfortunately, there is no current way to accomplish what you 
> want with
> gdalwarp.  I would encourage you to file a bug report.  I think I may
> make an non-standard extension or two to WKT to allow 
> transporting some
> of these values I need for PROJ.4.
> 

ok, I see the problem. I will file a bug report
as soon as I manage to log in (It seems that I've
forgotten my password... and I'm waiting for the
mail to set a new one).

Meanwhile... is it possible to do the datum-shift
with the +towgs84=x,y,z switch, or is it lost in
the same way? And if so, where has +towgs84 to
be placed? In the -s_srs or the -t_srs switch?

Many thanks in advance
Uwe


From marco.hugentobler at karto.baug.ethz.ch  Wed May 10 07:46:35 2006
From: marco.hugentobler at karto.baug.ethz.ch (humarco)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] adding lines and polygons in gdal-1.3.2
Message-ID: <200605101346.35167.marco.hugentobler@karto.baug.ethz.ch>

Dear gdal devs,

I have a problem with gdal-1.3.2 when adding lines and polygons to (shapefile) 
layers. When i try to add lines to a line layer, ogr crashes. With polygons 
no crash happens, but the polygons are not writen to the layer. It works ok 
for points. And it also used to work with gdal-1.2.6 (the last version i 
upgraded from). Is this a bug or false usage from me? 
The crash happens another part of the code, so there may be a memory problem. 
The platform i'm using is ubuntu linux, breezy badger. The code to add 
features looks like this: 

if(ogrLayer->CreateFeature(feature)!=OGRERR_NONE)
  {
    QgsLogger::warning("Writing of the feature failed");
    returnValue = false;
  }
  ++numberFeatures;
  delete feature;
  ogrLayer->SyncToDisk();

thanks,
Marco





From warmerdam at pobox.com  Wed May 10 08:31:16 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: AW: [Gdal-dev] Grid based transformation with ogr2ogr
In-Reply-To: <C900396522B3C142AA9A7F5AFEE11CB3013800D4@slva01lvnt23.lverma.nrw.de>
References: <C900396522B3C142AA9A7F5AFEE11CB3013800D4@slva01lvnt23.lverma.nrw.de>
Message-ID: <4461DD14.5020103@pobox.com>

uwe.schmitz@lverma.nrw.de wrote:
> ok, I see the problem. I will file a bug report
> as soon as I manage to log in (It seems that I've
> forgotten my password... and I'm waiting for the
> mail to set a new one).
> 
> Meanwhile... is it possible to do the datum-shift
> with the +towgs84=x,y,z switch, or is it lost in
> the same way? And if so, where has +towgs84 to
> be placed? In the -s_srs or the -t_srs switch?

Uwe,

The +towgs84 parameter will be preserved as a TOWGS84[] entry
for the datum in WKT.  So that works fine.  In your case it would
belong in the -s_srs since it relates the DHDN to WGS84.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From uwe.schmitz at lverma.nrw.de  Wed May 10 09:14:13 2006
From: uwe.schmitz at lverma.nrw.de (uwe.schmitz@lverma.nrw.de)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
Message-ID: <C900396522B3C142AA9A7F5AFEE11CB3013800D5@slva01lvnt23.lverma.nrw.de>

Frank,

> Uwe,
> 
> The +towgs84 parameter will be preserved as a TOWGS84[] entry
> for the datum in WKT.  So that works fine.  In your case it would
> belong in the -s_srs since it relates the DHDN to WGS84.
> 

forgive me if I get on your nerves but...

I tried the following (this time I use GML for better reading,
with shape files I gain the same result):

ogr2ogr -f "GML" -s_srs "+init=epsg:31467 +towgs84=631,23,451" \
   -t_srs "+proj=utm +datum=WGS84 +zone=32" trf.xml org.xml

and for:
...<gml:coordinates>3396682.3999999999,5626850.4000000004</gml:coordinates>...

in org.xml I get:
...<gml:coordinates>396651.68538503139,5625036.6721786009</gml:coordinates>...

in trf.xml.

So far so good but:
cs2cs +init=epsg:31467 +towgs84=631,23,451 \
   +to +proj=utm +datum=WGS84 +zone=32<CR>
3396682.3999999999 5626850.4000000004 0.0<CR>

gives me:
396648.50       5625041.57 46.88

IMO cs2cs is correct.
What's going wrong?

Best wishes
Uwe


From dpinte at itae.be  Wed May 10 09:29:37 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] ogr find neighbours
Message-ID: <1147267777.22590.50.camel@geru-itae>

Hi,

In the process of implementing a model, I need to get a list of
neighbours for a shapefile containing polygons.

The file contains 11 polygons having lots of points.

The very simple python code i've developped now is just to test if for
each polygon it touches or overlaps the other polygons from the file.

BUT :

with 11 polygons, I makes 122 (11 * 11) tests of geometry.Touches and
122 tests of geometry.Overlaps. This is done in 60 seconds and thus is
too slow.

By hand, I can do it in 15 seconds maximum taking into account the time
to open the file with GRASS ;-)

Does anyone here have a great idea on how to do this more quickly ? 

I've pasted the code below.

Thanks for your help

Didrik

--

def get_neighbours(self,queryLayer):
 '''
 Returns a list of references to adjacent cells
 '''
 self.neighbours = []
 cobj = self.geom
 queryLayer.ResetReading()
 queryFeat = queryLayer.GetNextFeature()
 while queryFeat is not None:
  geometry = queryFeat.GetGeometryRef()
  found = buffer.Touches(geometry)
  if found > 0:   
    self.neighbours.append(queryFeat.Clone())
  else:
   found = buffer.Overlaps(geometry)
   if found > 0:
    self.neighbours.append(queryFeat.Clone())
   queryFeat.Destroy()
   queryFeat = queryLayer.GetNextFeature()
  queryLayer = None
  return self.neighbours

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060510/b97f9794/attachment.bin
From hobu at iastate.edu  Wed May 10 10:01:50 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] ogr find neighbours
In-Reply-To: <1147267777.22590.50.camel@geru-itae>
References: <1147267777.22590.50.camel@geru-itae>
Message-ID: <p06230902c087a2423add@[192.168.11.4]>

Didrik,

In my experience, although I don't know for sure 
if really true, testing for Overlaps/Disjoint is 
much faster than doing Touches, which probably 
has to walk a lot of vertices and may take on 
some precision model stuff to do comparisons.  If 
the two geometries are Disjoint, or not Overlaps, 
then they can't Touch.  Only run the Touch test 
on those pairs that really have a chance to do so.

I could be totally wrong here though, and GEOS 
may already be doing this optimization for us (at 
least testing the bounding boxes to throw out 
obvious cases), but I haven't looked at the 
source code to know  for sure.

Another thing I would add is if you are trying to 
do something like a dissolve, you need to 
bucketize the neighbors into groups so that you 
can go along and union them together.  I have 
some code that uses the Python Cartographic 
Library to do a dissolve.  Maybe some of the 
concepts of what you are doing are similar.  Let 
me know if you are interested.

Howard

At 3:29 PM +0200 5/10/06, Didrik Pinte wrote:
>Content-Type: multipart/signed; micalg=pgp-sha1;
>	protocol="application/pgp-signature";
>	boundary="=-ylVKZCaZfiSwx0EHy8kT"
>
>Hi,
>
>In the process of implementing a model, I need to get a list of
>neighbours for a shapefile containing polygons.
>
>The file contains 11 polygons having lots of points.
>
>The very simple python code i've developped now is just to test if for
>each polygon it touches or overlaps the other polygons from the file.
>
>BUT :
>
>with 11 polygons, I makes 122 (11 * 11) tests of geometry.Touches and
>122 tests of geometry.Overlaps. This is done in 60 seconds and thus is
>too slow.
>
>By hand, I can do it in 15 seconds maximum taking into account the time
>to open the file with GRASS ;-)
>
>Does anyone here have a great idea on how to do this more quickly ?
>
>I've pasted the code below.
>
>Thanks for your help
>
>Didrik
>
>--
>
>def get_neighbours(self,queryLayer):
>  '''
>  Returns a list of references to adjacent cells
>  '''
>  self.neighbours = []
>  cobj = self.geom
>  queryLayer.ResetReading()
>  queryFeat = queryLayer.GetNextFeature()
>  while queryFeat is not None:
>   geometry = queryFeat.GetGeometryRef()
>   found = buffer.Touches(geometry)
>   if found > 0:  
>     self.neighbours.append(queryFeat.Clone())
>   else:
>    found = buffer.Overlaps(geometry)
>    if found > 0:
>     self.neighbours.append(queryFeat.Clone())
>    queryFeat.Destroy()
>    queryFeat = queryLayer.GetNextFeature()
>   queryLayer = None
>   return self.neighbours
>
>
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Ceci est une partie de message
>	num?riquement sign?e
>
>Attachment converted: Macintosh HD:signature 331.asc (    /    ) (003EDC23)
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev



From warmerdam at pobox.com  Wed May 10 10:26:43 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] ogr find neighbours
In-Reply-To: <1147267777.22590.50.camel@geru-itae>
References: <1147267777.22590.50.camel@geru-itae>
Message-ID: <4461F823.2030203@pobox.com>

Didrik Pinte wrote:
> Hi,
> 
> In the process of implementing a model, I need to get a list of
> neighbours for a shapefile containing polygons.
> 
> The file contains 11 polygons having lots of points.
> 
> The very simple python code i've developped now is just to test if for
> each polygon it touches or overlaps the other polygons from the file.
> 
> BUT :
> 
> with 11 polygons, I makes 122 (11 * 11) tests of geometry.Touches and
> 122 tests of geometry.Overlaps. This is done in 60 seconds and thus is
> too slow.
> 
> By hand, I can do it in 15 seconds maximum taking into account the time
> to open the file with GRASS ;-)
> 
> Does anyone here have a great idea on how to do this more quickly ? 
> 
> I've pasted the code below.
> 
> Thanks for your help

Didrik,

I would suggest only using Touches() and Overlaps() on polygons whose extent
overlaps.  Touches() and Overlaps() are very expensive.

In fact, you might want to install a spatial filter with a box slightly
larger than your polygon.  Then if you build a spatial index for your
shapefile you will only have to read and examine a very small number of
polygons assuming your polygons aren't too extreme.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From hi_ono2001 at ybb.ne.jp  Wed May 10 10:36:43 2006
From: hi_ono2001 at ybb.ne.jp (Hisaji ONO)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] What algorithm employed in ogr2ogr map projection about
	UTM to Transverse Mercator Projection
Message-ID: <20060510143643.33253.qmail@web10708.mail.bbt.yahoo.co.jp>

Hello.

 UTM and Transverse Mercator Projection has almost same
projection method.

 What kind of algorithm are employed in ogr2ogr's map
projection about conversion from UTM to Transverse
Mercator Projection in same area?

 Could it be that UTM-> geographic coordinates ->
Transverse Mercator?



 Regards.



From dpinte at itae.be  Wed May 10 10:49:58 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] ogr find neighbours
In-Reply-To: <4461F823.2030203@pobox.com>
References: <1147267777.22590.50.camel@geru-itae> <4461F823.2030203@pobox.com>
Message-ID: <1147272598.22590.67.camel@geru-itae>

Le mercredi 10 mai 2006 ? 10:26 -0400, Frank Warmerdam a ?crit :
> 
> Didrik,
> 
> I would suggest only using Touches() and Overlaps() on polygons whose extent
> overlaps.  Touches() and Overlaps() are very expensive.

Looking at the profiling of the code, I understand your suggestion ;-)

> In fact, you might want to install a spatial filter with a box slightly
> larger than your polygon.  Then if you build a spatial index for your
> shapefile you will only have to read and examine a very small number of
> polygons assuming your polygons aren't too extreme.

What do you mean exactly by a spatial filter ? Just creating a buffer
around the bbox of each polygon ?

Here is a screen capture of the polygons i'm working on :
http://itae.be/downloads/dataset.png

Is there a way with ogr in Python to take into account a .shx file ?

Didrik


From dpinte at itae.be  Wed May 10 10:50:06 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] ogr find neighbours
In-Reply-To: <p06230902c087a2423add@[192.168.11.4]>
References: <1147267777.22590.50.camel@geru-itae>
	<p06230902c087a2423add@[192.168.11.4]>
Message-ID: <1147272606.22590.69.camel@geru-itae>

Le mercredi 10 mai 2006 ? 09:01 -0500, Howard Butler a ?crit :
> Didrik,
> 
> In my experience, although I don't know for sure 
> if really true, testing for Overlaps/Disjoint is 
> much faster than doing Touches, which probably 
> has to walk a lot of vertices and may take on 
> some precision model stuff to do comparisons.  If 
> the two geometries are Disjoint, or not Overlaps, 
> then they can't Touch.  Only run the Touch test 
> on those pairs that really have a chance to do so.
> 
> I could be totally wrong here though, and GEOS 
> may already be doing this optimization for us (at 
> least testing the bounding boxes to throw out 
> obvious cases), but I haven't looked at the 
> source code to know  for sure.

Hi Howard,

I've changed my tests, removed the Touches and Overlaps test with only
one Disjoint test. This works correctly in half the time (~27 seconds in
place of 56). The profiling from the old code seems to show that the
Touches and Overlaps operations where taking nearly the same time (a
little bit more for Touches).

27 seconds is still much for 11 polygons (i can provide them for tests
if needed).

> 
> Another thing I would add is if you are trying to 
> do something like a dissolve, you need to 
> bucketize the neighbors into groups so that you 
> can go along and union them together.  I have 
> some code that uses the Python Cartographic 
> Library to do a dissolve.  Maybe some of the 
> concepts of what you are doing are similar.  Let 
> me know if you are interested.

I won't be doing any dissolve operation here but i'm very interested in
you Python code doing that. 

Didrik


From warmerdam at pobox.com  Wed May 10 10:52:23 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
In-Reply-To: <C900396522B3C142AA9A7F5AFEE11CB3013800D5@slva01lvnt23.lverma.nrw.de>
References: <C900396522B3C142AA9A7F5AFEE11CB3013800D5@slva01lvnt23.lverma.nrw.de>
Message-ID: <4461FE27.3020407@pobox.com>

uwe.schmitz@lverma.nrw.de wrote:
> forgive me if I get on your nerves but...
> 
> I tried the following (this time I use GML for better reading,
> with shape files I gain the same result):
> 
> ogr2ogr -f "GML" -s_srs "+init=epsg:31467 +towgs84=631,23,451" \
>    -t_srs "+proj=utm +datum=WGS84 +zone=32" trf.xml org.xml

> and for:
> ...<gml:coordinates>3396682.3999999999,5626850.4000000004</gml:coordinates>...
> 
> in org.xml I get:
> ...<gml:coordinates>396651.68538503139,5625036.6721786009</gml:coordinates>...

Uwe,

I must appologising for not noticing/commenting on another issue.  If
you expand +init=epsg:31467 it looks like:

   +proj=tmerc +lat_0=0 +lon_0=9 +k=1.000000 +x_0=3500000 +y_0=0
      +ellps=bessel +datum=potsdam +units=m +no_defs

The +no_defs part actually means no defaults, but it is implemented
by ignoring all items that come after it.  So I believe that the
+towgs84= clause is being ignored by one or both of ogr2ogr and
cs2cs.  To ensure you control the settings you should provide the
definition directly instead of using the +init mechanism.

eg.
    +proj=tmerc +lat_0=0 +lon_0=9 +k=1.000000 +x_0=3500000 +y_0=0
      +ellps=bessel +towgs84=631,23,451 +units=m +no_defs

I also discovered that you do *not* want to use +datum=potsdam or
else the internal PROJ.4 towgs84 definition for potsdam will take over.

I must confess this stuff isn't as obvious as it ought to be!


> in trf.xml.
> 
> So far so good but:
> cs2cs +init=epsg:31467 +towgs84=631,23,451 \
>    +to +proj=utm +datum=WGS84 +zone=32<CR>
> 3396682.3999999999 5626850.4000000004 0.0<CR>
> 
> gives me:
> 396648.50       5625041.57 46.88
> 
> IMO cs2cs is correct.
> What's going wrong?

Right.  I have confirmed though that:

testepsg -t '+proj=tmerc +lat_0=0 +lon_0=9 +k=1.000000 +x_0=3500000 +y_0=0 
+ellps=bessel +units=m +towgs84=631.0,23.0,451.0' '+proj=utm +datum=WGS84 
+zone=32' 3396682.3999999999 5626850.4000000004

gives the same result.  This uses the OGRSpatialReference layer, similar
to what ogr2ogr will do.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Wed May 10 11:10:16 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] What algorithm employed in ogr2ogr map projection
	about	UTM to Transverse Mercator Projection
In-Reply-To: <20060510143643.33253.qmail@web10708.mail.bbt.yahoo.co.jp>
References: <20060510143643.33253.qmail@web10708.mail.bbt.yahoo.co.jp>
Message-ID: <44620258.9060504@pobox.com>

Hisaji ONO wrote:
> Hello.
> 
>  UTM and Transverse Mercator Projection has almost same
> projection method.
> 
>  What kind of algorithm are employed in ogr2ogr's map
> projection about conversion from UTM to Transverse
> Mercator Projection in same area?
> 
>  Could it be that UTM-> geographic coordinates ->
> Transverse Mercator?

Hisaji,

UTM is indeed just an alias for Transverse Mercator with
particular parameters.  Going from one projection to another
is indeed accomplished by going first to geographic coordinates.
Note that this is all actually done by PROJ.4.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Wed May 10 11:14:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Projection-Problem
In-Reply-To: <20060510111734.09f6258e@butan.gdf-hannover.de>
References: <20060510111734.09f6258e@butan.gdf-hannover.de>
Message-ID: <44620360.4000908@pobox.com>

Stephan Holl wrote:
> PROJCS["GK Zone 4 (DHDN)",
>     GEOGCS[,
>         DATUM[,
>             SPHEROID["Bessel
> 1841",6377397.155,299.1528128],582.000000,105.000000,414.000000,-1.040000,-0.350000,3.080000,8.300000],
> PRIMEM["Greenwich",0.000000], UNIT["Decimal
> Degree",0.01745329251994330]], PROJECTION["Transverse Mercator"],
>     PARAMETER["Scale_Factor",1.000000],
>     PARAMETER["Central_Meridian",12.000000],
>     PARAMETER["False_Easting",4500000.000000],
>     UNIT["Meter",1.000000000000],
>     AUTHORITY["Oracle","82032"]]

Stephan,

Whew, this is a screwy WKT definition.  Is that really what is stored
in Oracle's WKTEXT field of the MDSYS.CS_SRS table?  What does it look
like there?

The extra unlabelled numbers in the DATUM are presumably TOWGS84
parameters, but improperly labelled.  I haven't noticed this before.

> [Columns follow here]
> 
> 
> Note that the datum-parameter is empty.
> 
> I can "export" the data into shp using ogr2ogr which results in a shape
> with the following proj-information:
> 
> Feature Count: 10584
> Extent: (4452550.890000, 5324953.370000) - (4479484.079834,
> 5345694.049805) Layer SRS WKT:
> PROJCS["GK Zone 4 (DHDN)",
>     GEOGCS[,
>         DATUM["Mean_Sea_Level",
>             SPHEROID["Bessel
> 1841",6377397.155,299.1528128],582.000000,105.000000,414.000000,-1.040000,-0.350000,3.080000,8.300000],
> PRIMEM["Greenwich",0.000000], UNIT["Decimal
> Degree",0.01745329251994330]], PROJECTION["Transverse Mercator"],
>     PARAMETER["Scale_Factor",1.000000],
>     PARAMETER["Central_Meridian",12.000000],
>     PARAMETER["False_Easting",4500000.000000],
>     UNIT["Meter",1.000000000000],
>     AUTHORITY["Oracle","82032"]]
> 
> Here you can see that the Datum now contains "Mean_Sea_Level". When
> inspecting the written .prj-file from the shape I cannot find any entry
> in the datum-parameters like "Mean_Sea_Level".

I have no idea where ogr2ogr would be getting Mean_Sea_Level from.  Hmm,
looking in gdal_datum.csv it is the "zeroth" record.  Perhaps it is
getting picked up from there as some sort of default.

If you can provide me the extract WKTEXT from the MDSYS.CS_SYS table I'll
see if I can improve the handling.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From dpinte at itae.be  Wed May 10 11:41:08 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] ogr find neighbours
In-Reply-To: <4461FF84.20406@pobox.com>
References: <1147267777.22590.50.camel@geru-itae>
	<4461F823.2030203@pobox.com> <1147272572.22590.66.camel@geru-itae>
	<4461FF84.20406@pobox.com>
Message-ID: <1147275668.22590.76.camel@geru-itae>

Le mercredi 10 mai 2006 ? 10:58 -0400, Frank Warmerdam a ?crit :
> 
> Didrik,
> 
> Compute the bounding box of a geometry using the GetEnvelope()
> method which should return a (xmin,ymin,xmax,ymax) tuple.
> Grow it out by 1% or so. Then use it with SetSpatialFilterRect() on
> the layer before you start fetching features to compare to.
> The .shx file is an index allowing us to lookup up a particular shape
> quickly based on it's index.  It is already used by OGR as needed.  It
> is not a spatial index.  You might want to read over the shapefile driver
> page to see how to create shapefile spatial indexes with ogr.

Frank,

That's improving the method.

I've added a spatial index to the file (the .qix file appeared), added a
SpatialFilterRect on the selection (works fine).

The time to create the list for the 11 polygons now has fallen to 19
seconds. The spared time comes directly from the use of
SpatialFilterRect.

Do you have any other brilliant idea to get some more seconds spared ?

Thanks a lot for your help

Didrik


From warmerdam at pobox.com  Wed May 10 12:13:04 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] ogr find neighbours
In-Reply-To: <1147275668.22590.76.camel@geru-itae>
References: <1147267777.22590.50.camel@geru-itae>	<4461F823.2030203@pobox.com>
	<1147272572.22590.66.camel@geru-itae>	<4461FF84.20406@pobox.com>
	<1147275668.22590.76.camel@geru-itae>
Message-ID: <44621110.1070408@pobox.com>

Didrik Pinte wrote:
> Frank,
> 
> That's improving the method.
> 
> I've added a spatial index to the file (the .qix file appeared), added a
> SpatialFilterRect on the selection (works fine).
> 
> The time to create the list for the 11 polygons now has fallen to 19
> seconds. The spared time comes directly from the use of
> SpatialFilterRect.
> 
> Do you have any other brilliant idea to get some more seconds spared ?
> 
> Thanks a lot for your help

Didrik,

Well, the other idea I mentioned was comparing the extent of your target
rectangle and the extent rectangle of the geometries you want to test
against it before doing the expensive GEOS based operations. But I think
you have already got essentially the same effect with the spatial filtering
so it likely isn't worth following up on.

The 19s isn't terrible for now, but your dataset (from the image) seems quite
small.  Scaling up to larger datasets the time should be roughly linear
in the number of features (instead of quadratic as it would be without the
local spatial filter).  But things are already slow enough that scaling up to
a *large* dataset will likely be untenable.

A big part of the cost of GEOS operations in OGR is that OGR is internally
converting the geometries to GEOS format internally for each requested
operation.  This could likely be improved in a few ways.  But moving to
something like PCL which Howard suggested may be more beneficial since it
apparently works with GEOS geometries natively which saves alot of
re-converting cost.  With PCL you might need to accomplish the local filtering
slightly differently.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From dpinte at itae.be  Wed May 10 12:26:23 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdal : python Numeric and numpy
Message-ID: <1147278383.22590.88.camel@geru-itae>

Has some of you probably know it, there are some changes in the
landscape with Numeric and numpy.

I've made a little patch to gdalnumeric in order to support the new
numpy library but the changes seems to be more important.

Here is the problem I met. The following files were generated with
exactly the same code. 

Correct file : generated with Python 2.3, gdal 1.3.1-5 and numeric
24.2-2 under Debian/Sid
http://itae.be/downloads/intrusion.tiff
http://itae.be/downloads/intrusion.tfw

Problematic file : generated with Python 2.4, gdal 1.3.1 and numpy 0.9.6
under Windows XP
http://itae.be/downloads/intrusion_1.tiff
http://itae.be/downloads/intrusion_1.tfw

The files are created using the .WriteArray method. The bad file seems
to have all the correct information but not at the right place.

Does anybody already have an idea on the cause of the problem ?

Didrik

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060510/0ff09608/attachment.bin
From dmorissette at mapgears.com  Wed May 10 13:36:03 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <4460ECFA.4000400@loskot.net>
References: <445A2349.20400@pobox.com>	<445A5980.7040109@mapgears.com>	<445A626A.2020309@pobox.com>	<445B4494.90305@mapgears.com>
	<4460ECFA.4000400@loskot.net>
Message-ID: <44622483.1090206@mapgears.com>

Mateusz ?oskot wrote:
> Daniel Morissette wrote:
> 
>>If I understood correctly, if I don't edit my local SVN config and then
>>create/commit a new file to the GDAL repository, then the auto props may
>>not be set on it, and the "$Id: $" (for instance) would not be handled
>>properly, is that right? If yes then I'm very disappointed.
> 
> 
> No. If someone (e.g. during import/add files) will fire:
> svn propset svn:keywords "Id" file.cpp
> 
> then this information is stored and also revisioned, so noone needs to
> repeate setting this property.
> 
> It's simple to assign SVN properties using regexp patterns with help of
> find/grep.
> 

I undertand that once a property is set on a given file then it applies 
to everyone using this file in the repository. This makes sense and is 
the bare minimum that SVN needs to provide.

However, what I meant was that if I, as a developer, create a new 
file.cpp that didn't exist before, and I add this file to the 
repository, then the properties won't be set automatically on the file 
in the repository unless I modify my local SVN config to automatically 
set those properties on all new files that I create. I find that this is 
an annoying limitation, and the best workaround suggested so far (by 
Frank) would be to have a script run daily on the repository that 
applies the properties to all new files. Unfortunately this is a hack, 
not really a clean a solution.

(I found out later that SVN supports pre/post commit hooks in which we 
could have set the properties but because Collabnet won't let us add our 
own hooks on the server this is not an option for us)


> 
>>With respect to the "$Id: $", should we not modify our std headers to
>>use whatever is the SVN equivalent instead of relying on all developers
>>maintaining their config locally to contain whatever auto prop the
>>project requires for $Id: $ to work?
> 
> 
> Do you mean that using SVN $Id$ requires every developer to set his own
> personal config file?
> 

Yes, this is what I meant, unless Frank implements a script that runs 
daily to force the properties on all new files in the repository (see 
what I just wrote above).

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/

From mateusz at loskot.net  Wed May 10 15:25:24 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] RFC 2: Migration to OSGeo Subversion Repository
In-Reply-To: <44622483.1090206@mapgears.com>
References: <445A2349.20400@pobox.com>	<445A5980.7040109@mapgears.com>	<445A626A.2020309@pobox.com>	<445B4494.90305@mapgears.com>	<4460ECFA.4000400@loskot.net>
	<44622483.1090206@mapgears.com>
Message-ID: <44623E24.3090603@loskot.net>

Daniel Morissette wrote:
> Mateusz ?oskot wrote:
>> Daniel Morissette wrote:
>> 
>>> If I understood correctly, if I don't edit my local SVN config
>>> and then create/commit a new file to the GDAL repository, then
>>> the auto props may not be set on it, and the "$Id: $" (for
>>> instance) would not be handled properly, is that right? If yes
>>> then I'm very disappointed.
>> 
>> 
>> No. If someone (e.g. during import/add files) will fire: svn
>> propset svn:keywords "Id" file.cpp
>> 
>> then this information is stored and also revisioned, so noone needs
>> to repeate setting this property.
>> 
>> It's simple to assign SVN properties using regexp patterns with
>> help of find/grep.
> 
> I undertand that once a property is set on a given file then it
> applies to everyone using this file in the repository. This makes
> sense and is the bare minimum that SVN needs to provide.
> 
> However, what I meant was that if I, as a developer, create a new 
> file.cpp that didn't exist before, and I add this file to the 
> repository, then the properties won't be set automatically on the
> file in the repository unless I modify my local SVN config to
> automatically set those properties on all new files that I create.

Yes, you're right. The only way to use it (regarding limitations on
CollabNet's server) is to use auto-props:
http://svnbook.red-bean.com/en/1.1/ch07s02.html#svn-ch-7-sect-2.4

>  I find that this is an annoying limitation, and the best workaround
> suggested so far (by Frank) would be to have a script run daily on
> the repository that applies the properties to all new files.
> Unfortunately this is a hack, not really a clean a solution.
> 
> (I found out later that SVN supports pre/post commit hooks in which
> we could have set the properties but because Collabnet won't let us
> add our own hooks on the server this is not an option for us)

There is a chance that this issue will be fixed in future:
http://subversion.tigris.org/faq.html#auto-props
http://subversion.tigris.org/issues/show_bug.cgi?id=1974

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From richard at waypointinfo.com  Wed May 10 16:06:54 2006
From: richard at waypointinfo.com (Richard Matsunaga)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] GTIFF colour table for UInt16 data type
Message-ID: <002701c6746d$48a8ff10$cd01a8c0@Maddog>

Hi all,
 
I have been unsuccessful in generating a UInt16 GTIFF with colours. The best
I have achieved is grayscale by not applying any colour table. The next best
is a single colour of my choice. I am writing all 65536 colour entries in
the colour table.
 
By changing to a byte GTIFF, the colouring works as expected, but the data I
wish to represent in my TIFF will sometimes require better resolution than a
byte.
 
Is there something I am doing wrong or is this a limitation of a UInt16
GTIFF?
 
Cheers,
Richard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060510/1a0cc9b2/attachment.html
From mateusz at loskot.net  Wed May 10 20:29:00 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Numeric/NumPy and gdalnumeric.py
Message-ID: <4462854C.6080601@loskot.net>

Hi,

Recently, Didrik Pinte reported a bug + patch related to gdalnumeric.py
and Numeric package:
http://bugzilla.remotesensing.org/show_bug.cgi?id=1166

Didrik also has posted some details about new issue:
http://lists.maptools.org/pipermail/gdal-dev/2006-May/008839.html

Today, I investigated the problem and I'd like to share what I've learned.

On the Numeric Python website (http://numeric.scipy.org) one can read:

"NumPy derives from the old Numeric code base and can be used as a
replacement for Numeric. It also adds the features introduced by
numarray and can also be used to replace numarray."

(Didrik also reported about it in bug #1166).

So, the main issue is about transition gdalnumeric.py to use new NumPy
module. As I talked with Frank on the #gdal channel, the idea is to not
transit to NumPy completely, but also support old Numeric package.

So, I applied Didrik's patch to gdalnumeric.py file and tried to run
GDAL autotest but it failed.
Test cases that failed are:
gdalautotest/gcore/tiff_write.py
gdalautotest/gcore/numpy_rw.py

So it seems the patch does not solve all problem.

The first problem I found is that type codes have changed in NumPy and
seems to be incompatible with Numeric (NumericTypeCodeToGDALTypeCode
function fails in gdalnumeric.py).
I searched through NumPy sources but I have to say that there are many
versions of type codes schemes, some are marked as deprecated, some are
left as for backward compatibility, etc.
Unfortunately, NumPy docs are not freely accessible
(http://www.tramy.us/guidetoscipy.html) so I couldn't check what codes
are recommended now.

Conclusion is that hosting support for both NumPy and Numeric can be
tricky because of differences on basic level, so a kind of proxy would
be needed. Also, the question is how critical is support for NumPy?

Second issue has been reported in Didrik's post
(http://lists.maptools.org/pipermail/gdal-dev/2006-May/008839.html).
I'd suppose it's related to differences between NumPy and Numeric
modules. So, untill gdalnumeric.py is not ported to NumPy, then it may
be difficult to use gdalnumeric.py with this module, instead Numeric
seems to be still recommended.

I asked Didrik for his script he was using to generated problematic tiff
raster, so then I'll be able to reproduce the problem step-by-step and
detect possible issues with different environments.

Comments are welcome.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Wed May 10 21:22:36 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Numeric/NumPy and gdalnumeric.py
In-Reply-To: <4462854C.6080601@loskot.net>
References: <4462854C.6080601@loskot.net>
Message-ID: <446291DC.5030803@loskot.net>

Mateusz ?oskot wrote:
> So, the main issue is about transition gdalnumeric.py to use new NumPy
> module. As I talked with Frank on the #gdal channel, the idea is to not
> transit to NumPy completely, but also support old Numeric package.

Howard suggested on the #gdal to solve it in following way:

- NG Python bindings support NumPy package
- old traditional Python bindings support old Numeric package

Personally, I like this approach.

What do you think?

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From uwe.schmitz at lverma.nrw.de  Thu May 11 02:55:44 2006
From: uwe.schmitz at lverma.nrw.de (uwe.schmitz@lverma.nrw.de)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
Message-ID: <C900396522B3C142AA9A7F5AFEE11CB3013800D6@slva01lvnt23.lverma.nrw.de>

Frank,

> Uwe,
> 
> I must appologising for not noticing/commenting on another issue.  If
> you expand +init=epsg:31467 it looks like:
> 
>    +proj=tmerc +lat_0=0 +lon_0=9 +k=1.000000 +x_0=3500000 +y_0=0
>       +ellps=bessel +datum=potsdam +units=m +no_defs
> 
> The +no_defs part actually means no defaults, but it is implemented
> by ignoring all items that come after it.  So I believe that the
> +towgs84= clause is being ignored by one or both of ogr2ogr and
> cs2cs.  To ensure you control the settings you should provide the
> definition directly instead of using the +init mechanism.
> 
> eg.
>     +proj=tmerc +lat_0=0 +lon_0=9 +k=1.000000 +x_0=3500000 +y_0=0
>       +ellps=bessel +towgs84=631,23,451 +units=m +no_defs
> 
> I also discovered that you do *not* want to use +datum=potsdam or
> else the internal PROJ.4 towgs84 definition for potsdam will 
> take over.
> 
> I must confess this stuff isn't as obvious as it ought to be!
> 

Ok, now it works as expected! Our discussion clarifies
some things for me.

Many thanks for your help!
Uwe


From jordi.inglada at cnes.fr  Wed May 10 17:13:25 2006
From: jordi.inglada at cnes.fr (Jordi Inglada)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Building with CMake
Message-ID: <200605110700.k4B70OY16443@cnes.fr>

Hi all,

We are planning to encapsulate gdal in the source tree of a larger
project which is managed with CMake. We were wondering if there are
plans to make gdal compatible with CMake. 

I just learned that there exists a ruby script called am2cmake which can
be very useful to make the conversion, but the Makefile.am files are
needed. I have not seen them in the gdal CVS source tree.

What do you suggest for our gdal encapsulation with CMake?

Best regards,

Jordi

-- 
CNES - DCT/SI/AP - BPI 1219
18, avenue Edouard Belin
31401 Toulouse Cedex 09 - France
Tel. +33.(0)5.61.27.33.97 - Fax. +33.(0)5.61.28.31.09 



From spietz at fh-bingen.de  Thu May 11 03:22:02 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] swig java: c/c++
Message-ID: <000901c674cb$9c98f1d0$b84f5d8f@PSP>

Hi all,

I'm trying to use the gdal/ogr-API with Java bindings and have some problems 
by generating/compiling the necessary c/c++ files.

My system:
- Linux Suse 10.0,
- Java 1.4.2
- gcc-c++ 4.0.2
- GDAL-Api from daily snapshoot: gdal-cvs-20060509 
(http://dl.maptools.org/dl/gdal/daily/)

I followed the steps Norman Barker recommended in 
http://lists.maptools.org/pipermail/gdal-dev/2006-February/007867.html:

...Compile the C/C++ files into DLLs... This can be done by going into the 
swig/java directory and calling 'make build' ...

The problem:
If I go into the swig/java directoty and call 'make build' there is the 
first error:
###
[ GNUmakefile:3 ../../GDALmake.opt: No such file or directory ]
###
=> So I changed in swig/java/GNUmakefile the first include from 
'GDALmake.opt' to 'GDALmake.opt.in'. This will solve this problem.

Then again I call 'make build' and the next error occurs:
###
swig -Wall -I../inculde -I ../include/java -outdir "org/gdal/gdal" -package 
"org.gdal.gdal" -[@abs_top_builddir -c++ -java -o gdal_wrap.cpp gdal.i
... /bin/sh: swig: command not found
make: *** [gdal_wrap.cpp] Error 127
###

Can anybody please help?


Best regards

Christine 


From lists at b-open-solutions.it  Thu May 11 03:47:38 2006
From: lists at b-open-solutions.it (Alessandro Amici)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Building with CMake
In-Reply-To: <200605110700.k4B70OY16443@cnes.fr>
References: <200605110700.k4B70OY16443@cnes.fr>
Message-ID: <200605110947.38369.lists@b-open-solutions.it>


Jordi,

Alle 23:13, mercoled? 10 maggio 2006, Jordi Inglada ha scritto:
> I just learned that there exists a ruby script called am2cmake which
> can be very useful to make the conversion, but the Makefile.am files
> are needed. I have not seen them in the gdal CVS source tree.

as stated in http://www.gdal.org/gdal_building.html the GDAL build 
systems depends explicitely on GNUmake on unix platforms. FYI, the 
build rules, that are found mainly into files named GNUmakefile, 
contain a number of non-trivial use cases.

moreover, many branches of the gdal source tree are actually taken out 
more or less stright of different projects and have thier own build 
systems.

> What do you suggest for our gdal encapsulation with CMake?

i don't personally know cmake, but i think porting GDAL to any 
homogeneous build system is a major task, and i advise for looking for 
other solutions first.

cheers,
alessandro

-- 
B-Open Solutions srl - http://www.bopen.it/


From dpinte at itae.be  Thu May 11 04:17:54 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Numeric/NumPy and gdalnumeric.py
In-Reply-To: <446291DC.5030803@loskot.net>
References: <4462854C.6080601@loskot.net>  <446291DC.5030803@loskot.net>
Message-ID: <1147335474.22590.110.camel@geru-itae>

Le jeudi 11 mai 2006 ? 03:22 +0200, Mateusz ?oskot a ?crit :
> Mateusz ?oskot wrote:
> > So, the main issue is about transition gdalnumeric.py to use new NumPy
> > module. As I talked with Frank on the #gdal channel, the idea is to not
> > transit to NumPy completely, but also support old Numeric package.
> 
> Howard suggested on the #gdal to solve it in following way:
> 
> - NG Python bindings support NumPy package
> - old traditional Python bindings support old Numeric package
> 
> Personally, I like this approach.
> 
> What do you think?

That's a good idea.

I will test the ng-python module with my problematic scripts and see
what kind of problems i'm facing.

Little question : i've installed swigwin 1.3.29 and modified the gdal 
nmake.opt to point to the swig executable. Do I have to change something
else in order to get the -ng-python bindings functionnal ?

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060511/d10567fe/attachment.bin
From holl at gdf-hannover.de  Thu May 11 04:38:43 2006
From: holl at gdf-hannover.de (Stephan Holl)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Projection-Problem
In-Reply-To: <44620360.4000908@pobox.com>
References: <20060510111734.09f6258e@butan.gdf-hannover.de>
	<44620360.4000908@pobox.com>
Message-ID: <20060511103843.1f9fa16e@butan.gdf-hannover.de>

Hello Frank,

thanks for looking into this.

On Wed, 10 May 2006 11:14:40 -0400 Frank Warmerdam
<warmerdam@pobox.com> wrote:

> Stephan Holl wrote:
> > PROJCS["GK Zone 4 (DHDN)",
> >     GEOGCS[,
> >         DATUM[,
> >             SPHEROID["Bessel
> > 1841",6377397.155,299.1528128],582.000000,105.000000,414.000000,-1.040000,-0.350000,3.080000,8.300000],
> > PRIMEM["Greenwich",0.000000], UNIT["Decimal
> > Degree",0.01745329251994330]], PROJECTION["Transverse Mercator"],
> >     PARAMETER["Scale_Factor",1.000000],
> >     PARAMETER["Central_Meridian",12.000000],
> >     PARAMETER["False_Easting",4500000.000000],
> >     UNIT["Meter",1.000000000000],
> >     AUTHORITY["Oracle","82032"]]
> 
> Stephan,
> 
> Whew, this is a screwy WKT definition.  Is that really what is stored
> in Oracle's WKTEXT field of the MDSYS.CS_SRS table?  What does it look
> like there?

I have attached a (sadly formated) MDSYS.CS_SRS-table extract.

> The extra unlabelled numbers in the DATUM are presumably TOWGS84
> parameters, but improperly labelled.  I haven't noticed this before.
> 

[...]

> > Here you can see that the Datum now contains "Mean_Sea_Level".
When
> > inspecting the written .prj-file from the shape I cannot find any
> > entry in the datum-parameters like "Mean_Sea_Level".
> 
> I have no idea where ogr2ogr would be getting Mean_Sea_Level from.
> Hmm, looking in gdal_datum.csv it is the "zeroth" record.  Perhaps it
> is getting picked up from there as some sort of default.

Yes, I have found this as well in this file, but could not find the
code where this "default" was set.

> 
> If you can provide me the extract WKTEXT from the MDSYS.CS_SYS table
> I'll see if I can improve the handling.

Please find this attached.

Thanks for looking into this again.

Best regards

	Stephan


-- 
GDF Hannover - Solutions for spatial data analysis and remote sensing
Hannover Office      -     Mengendamm 16d      -     D-30177 Hannover
Internet: www.gdf-hannover.de      -      Email: holl@gdf-hannover.de
Phone : ++49-(0)511.39088507       -        Fax: ++49-(0)511.39088508
-------------- next part --------------
SQL> SELECT * FROM MDSYS.CS_SRS WHERE AUTH_SRID = 82032;

CS_NAME                                                                    SRID
-------------------------------------------------------------------- ----------
 AUTH_SRID
----------
AUTH_NAME
--------------------------------------------------------------------------------
WKTEXT
--------------------------------------------------------------------------------
CS_BOUNDS(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINATES)
--------------------------------------------------------------------------------
GK Zone 4 (DHDN)                                                          82032
     82032
Oracle

PROJCS["GK Zone 4 (DHDN)", GEOGCS [ "", DATUM ["", SPHEROID ["Bessel 1841", 6377
397.155, 299.1528128], 582.000000, 105.000000, 414.000000, -1.040000, -0.350000,
 3.080000, 8.300000 ], PRIMEM [ "Greenwich", 0.000000 ], UNIT ["Decimal Degree",
 0.01745329251994330]], PROJECTION ["Transverse Mercator"], PARAMETER ["Scale_Fa
ctor", 1.000000], PARAMETER ["Central_Meridian", 12.000000], PARAMETER ["False_E
asting", 4500000.000000], UNIT ["Meter", 1.000000000000]]

SQL>
From dpinte at itae.be  Thu May 11 07:58:47 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdal ngpython win32
Message-ID: <1147348727.32534.11.camel@geru-itae>

hi guys,

i've tried to compile the ng-python on win32.

Here is the step-by-step actions :

0. cd my_gdal_build_dir
1. edit nmake.opt to point to my swig 1.3.29 install dir
2. nmake -f makefile.vc clean
3. nmake -f makefile.vc 
4. nmake -f makefile.vc install
5. cd swig
6. nmake -f makefile.vc python

It fails because the linker cannot find gdal_i.lib. That's normal
because the library path is create using information that should be in
the setup.ini file created by the gdalvars target of swig/makefile.vc
but it does not insert the information needed by the
swig/python/setup.py file :

The requested information is the following :
------------------------------------------------------------------------
if sys.platform == 'win32':
    # Created by the GDAL build process.
    # This was swiped from MapServer
    setupvars = "../setup.ini"

    # Open and read lines from setup.ini.
    try:
      fp = open(setupvars, "r")
    except IOError, e:
      raise IOError, '%s. %s' % (e, "Has GDAL been made?")
    gdal_basedir = fp.readline()
    gdal_version = fp.readline()
    gdal_libs = fp.readline()
    gdal_includes = fp.readline()
    lib_opts = gdal_libs.split()
------------------------------------------------------------------------

The basedir, the version, the libs and includes. Here is the content of
the setup.ini file generated : 

------------------------------------------------------------------------
C:\thubanbuild\Thuban-1.1.0\gdal 
#  define GDAL_RELEASE_NAME     "1.3.2.0b2
------------------------------------------------------------------------

I'll try to patch the makefile.vc to include the libs and includes.

Is this a know problem ? Nothing seems reported in bugzilla.

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060511/6203184f/attachment.bin
From mateusz at loskot.net  Thu May 11 08:09:44 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] [Fwd: [Numpy-discussion] NumPy,
	Numeric or numarray or all of them?]
Message-ID: <44632988.702@loskot.net>

Hi,

Yesterday, I started some discussion
(http://lists.maptools.org/pipermail/gdal-dev/2006-May/008843.html)
about NumPy inspired by Didrik's bug report.

Then, we have short chat with Frank and Norman on the #gdal and we
decided to ask for a piece of advice from NumPy developers.
So, today I posted our questions to numpy-discussion@lists.sourceforge.net.

Unfortunately, I've forgot to CC it to gdal-dev list, so here I'm
pasting the URL to my post so you can track the discussion:
http://article.gmane.org/gmane.comp.python.numeric.general/5441

Here is the post:

-------- Original message --------
Subject: [Numpy-discussion] NumPy, Numeric or numarray or all of them?
Date: Thu, 11 May 2006 13:37:47 +0200
From: Mateusz Loskot <mateusz@loskot.net>
To: numpy-discussion@lists.sourceforge.net

Hi,

I'm a developer contributing to GDAL project (http://www.gdal.org).
GDAL is a core GeoSpatial Librarry that has had Python bindings
for a while. Recently, we did get some reports from users that GDAL
bindings do not work with NumPy package.
We've learned on the NumPy website that it's a new derivation from
Numeric code base.

So, now we are facing the question what we should do?
Should we completely port our project to use NumPy or to stay with
Numeric for a while (e.g. 1 year). There is also idea to support both
packages. Python plays a very important role in GDAL project, so our
concern are quite critical for future development.

This situation brings some questions we'd like to ask NumPy Dev Team:

Is it fair to say we are unlikely to see Numeric releases for new
Pythons in the future?
Can we consider NumPy as the only package in future?
Simply, we are wondering which Python library we should develop for
NumPy, Numeric or numarray to be most generally useful.
What's the recommended way to go now?

We'd appreciate your assistance on this issue.
-------------------------------------------------------


Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From dpinte at itae.be  Thu May 11 09:31:54 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdal ngpython win32
In-Reply-To: <1147348727.32534.11.camel@geru-itae>
References: <1147348727.32534.11.camel@geru-itae>
Message-ID: <1147354314.32534.29.camel@geru-itae>

Le jeudi 11 mai 2006 ? 13:58 +0200, Didrik Pinte a ?crit :
> 
> It fails because the linker cannot find gdal_i.lib. 

I've hardcoded the path to gdal_i.lib in the swig/python/setup.py file
in order to try the swig interface.

It then builds correctly but the gdalnumeric.cpp file is not compiled. 

How does the swig module have to be installed ? Without gdalnumeric, it
cannot work. I suppose that the old version is not the right one. Is
there something missing. I've tried it under linux, it seems to be the
same. 

Any guidance is welcome ;-)

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060511/60ce125d/attachment.bin
From dpinte at itae.be  Thu May 11 10:13:49 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] gdal ngpython win32
In-Reply-To: <1147354314.32534.29.camel@geru-itae>
References: <1147348727.32534.11.camel@geru-itae>
	<1147354314.32534.29.camel@geru-itae>
Message-ID: <1147356829.32534.32.camel@geru-itae>

Le jeudi 11 mai 2006 ? 15:31 +0200, Didrik Pinte a ?crit :
> Le jeudi 11 mai 2006 ? 13:58 +0200, Didrik Pinte a ?crit :
> > 
> > It fails because the linker cannot find gdal_i.lib. 
> 
> I've hardcoded the path to gdal_i.lib in the swig/python/setup.py file
> in order to try the swig interface.
> 
> It then builds correctly but the gdalnumeric.cpp file is not compiled. 
> 
> How does the swig module have to be installed ? Without gdalnumeric, it
> cannot work. I suppose that the old version is not the right one. Is
> there something missing. I've tried it under linux, it seems to be the
> same. 
> 
> Any guidance is welcome ;-)
> 
> Didrik

Howard, thanks for the information. 

GDAL python swig is not supporting gdalnumeric at the moment.

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060511/7647d5cf/attachment.bin
From SARAH.M.MULHOLLAND at saic.com  Thu May 11 11:55:49 2006
From: SARAH.M.MULHOLLAND at saic.com (Sarah Mulholland)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] writing RPC data in NITF format?
Message-ID: <44635E85.8050403@saic.com>

I have a NITF image and RPC data in a separate 
file.  I need to embed the RPC data in the NITF 
file.  I see that there's a GDALExtractRPCInfo 
function.  Would it be straightforward to create a 
GDALInsertRPCInfo so that I can perform the 
following steps:

1. populate a GDALRPCInfo object with the RPC values
2. read the NITF image into a GDAL data set
3. insert the RPC information
4. write the result to a NITF file

Is this straightforward to do?

Thanks in advance,

Sarah

From mike_alias at heins.ca  Thu May 11 13:29:18 2006
From: mike_alias at heins.ca (heinsm)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] GDAL EHdr (.hdr) driver
Message-ID: <4345093.post@talk.nabble.com>


I have not been able to find a way to control the 'byteorder' for a warping
operation using the raw format EHdr driver.  I assumed the input .hdr file
would automatically setup the output .hdr file (which contains the byteorder
description), but this does not appear to be the case.

Does anyone know of a property that gives access to the .hdr settings when
writing to the EHdr driver?  (ESRI BIL and .hdr format)
Also, I've seen the GDALSwap functions but are unsure how to incorporate
them...

thanks,
-mike
--
View this message in context: http://www.nabble.com/GDAL-EHdr-%28.hdr%29-driver-t1602486.html#a4345093
Sent from the GDAL - Dev forum at Nabble.com.


From warmerdam at pobox.com  Thu May 11 13:47:04 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] writing RPC data in NITF format?
In-Reply-To: <44635E85.8050403@saic.com>
References: <44635E85.8050403@saic.com>
Message-ID: <44637898.9010805@pobox.com>

Sarah Mulholland wrote:
> I have a NITF image and RPC data in a separate file.  I need to embed 
> the RPC data in the NITF file.  I see that there's a GDALExtractRPCInfo 
> function.  Would it be straightforward to create a GDALInsertRPCInfo so 
> that I can perform the following steps:
> 
> 1. populate a GDALRPCInfo object with the RPC values
> 2. read the NITF image into a GDAL data set
> 3. insert the RPC information
> 4. write the result to a NITF file
> 
> Is this straightforward to do?

Sarah,

I'm not convinced that it would be all that easy.  Currently the
GDAL NITF writer does not write any TREs (extensions) so a bunch of
machinery would need to be added.  My next concern would be that we
are still not producing a proper "product" matching an existing product
specification though that might not really matter.

One option you might want to look into is writing NITFs with RPCs using
OSSIM.  Generally speaking, I think the OSSIM folks have been doing more
indepth NITF support than I do in GDAL.  I don't really want to replicate
all the more exotic stuff they do.

But of course, if it is important enough to you, it can be accomplished.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 11 14:01:18 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Projection-Problem
In-Reply-To: <20060511103843.1f9fa16e@butan.gdf-hannover.de>
References: <20060510111734.09f6258e@butan.gdf-hannover.de>	<44620360.4000908@pobox.com>
	<20060511103843.1f9fa16e@butan.gdf-hannover.de>
Message-ID: <44637BEE.7080400@pobox.com>

Stephan Holl wrote:
> Hello Frank,
> 
> thanks for looking into this.
> 
> On Wed, 10 May 2006 11:14:40 -0400 Frank Warmerdam
> <warmerdam@pobox.com> wrote:
> 
>> Stephan Holl wrote:
>>> PROJCS["GK Zone 4 (DHDN)",
>>>     GEOGCS[,
>>>         DATUM[,
>>>             SPHEROID["Bessel
>>> 1841",6377397.155,299.1528128],582.000000,105.000000,414.000000,-1.040000,-0.350000,3.080000,8.300000],
>>> PRIMEM["Greenwich",0.000000], UNIT["Decimal
>>> Degree",0.01745329251994330]], PROJECTION["Transverse Mercator"],
>>>     PARAMETER["Scale_Factor",1.000000],
>>>     PARAMETER["Central_Meridian",12.000000],
>>>     PARAMETER["False_Easting",4500000.000000],
>>>     UNIT["Meter",1.000000000000],
>>>     AUTHORITY["Oracle","82032"]]

Stephan,

As someone else noted, the PROJECTION name is the main problem
interfering with use.  I have submitted this problem in bugzilla
and hopefully we will address it.

   http://bugzilla.remotesensing.org/show_bug.cgi?id=1183

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mike_alias at heins.ca  Thu May 11 14:06:41 2006
From: mike_alias at heins.ca (heinsm)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] GDAL EHdr (.hdr) driver
In-Reply-To: <4345093.post@talk.nabble.com>
References: <4345093.post@talk.nabble.com>
Message-ID: <4345762.post@talk.nabble.com>


Okay;  answered my own question
Found the EHdr driver c++ definition file  (ehdrdataset.cpp).  I see that
the .HDR file is written out as hardcoded for a 'byteorder   I'.   Along
with various other HDR attributes I'd like to change.  Some attributes are
also missing such as the 'NODATA' attribute.

If time permits, I may contribute some additions to this EHdr driver for
further .HDR setting support.

thanks,
-mike
--
View this message in context: http://www.nabble.com/GDAL-EHdr-%28.hdr%29-driver-t1602486.html#a4345762
Sent from the GDAL - Dev forum at Nabble.com.


From christian.graefe at web.de  Thu May 11 14:12:07 2006
From: christian.graefe at web.de (christian.graefe@web.de)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] GDAL/OGR C# wrapper
Message-ID: <21594497.1147371127696.JavaMail.fmail@fmcert01.dlan.cinetic.de>

Hi,

I went on with the C# Gdal/Ogr Wrapper and made it public for testing on http://www.volley-boy.de/home/sharpmap.aspx !
In the next week i will add some example scripts.

I also added there a data provider for SharpMap to integrate OGR Datasource into it.
Sharpap is a rendering engine for GIS data written in pure C# for the .NET framework 2.0 .
It is hosted at http://sharpmap.iter.dk

best regards
Christian
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 1791 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060511/5a68a110/smime.bin
From warmerdam at pobox.com  Thu May 11 14:23:03 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] GDAL EHdr (.hdr) driver
In-Reply-To: <4345093.post@talk.nabble.com>
References: <4345093.post@talk.nabble.com>
Message-ID: <44638107.8080705@pobox.com>

heinsm wrote:
> I have not been able to find a way to control the 'byteorder' for a warping
> operation using the raw format EHdr driver.  I assumed the input .hdr file
> would automatically setup the output .hdr file (which contains the byteorder
> description), but this does not appear to be the case.

Mike,

Currently the EHdr driver always writes image data little endian (BYTEORDER
I).  I gather you have some reason that you want a different order?  Why is
that? It should be pretty easy to add a new creation option for setting
the BYTEORDER value if there is a need.

> Does anyone know of a property that gives access to the .hdr settings when
> writing to the EHdr driver?  (ESRI BIL and .hdr format)

There is no direct control over the .hdr values.

> Also, I've seen the GDALSwap functions but are unsure how to incorporate
> them...

As long as the Create() method is changed to emit a different BYTEORDER,
the rest of the driver will take care of doing the swapping as needed.
Basically Create() just writes out the header, and then reopens the file
in "update" mode, leaving read/write swapping to the normal read/write code.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 11 14:25:34 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Building with CMake
In-Reply-To: <200605110947.38369.lists@b-open-solutions.it>
References: <200605110700.k4B70OY16443@cnes.fr>
	<200605110947.38369.lists@b-open-solutions.it>
Message-ID: <4463819E.8000706@pobox.com>

Alessandro Amici wrote:
>> What do you suggest for our gdal encapsulation with CMake?
> 
> i don't personally know cmake, but i think porting GDAL to any 
> homogeneous build system is a major task, and i advise for looking for 
> other solutions first.

Amen Brother!

Seriously, I have enough trouble maintaining the existing "makefile.vc" and
GNUmakefile based build systems.  I'm not eager to take on responsibility
for additional build systems.  I also don't have any particular problems
that I'm looking to solve by moving to a new system.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 11 14:28:39 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] swig java: c/c++
In-Reply-To: <000901c674cb$9c98f1d0$b84f5d8f@PSP>
References: <000901c674cb$9c98f1d0$b84f5d8f@PSP>
Message-ID: <44638257.1040303@pobox.com>

Christine Spietz wrote:
> The problem:
> If I go into the swig/java directoty and call 'make build' there is the 
> first error:
> ###
> [ GNUmakefile:3 ../../GDALmake.opt: No such file or directory ]
> ###
> => So I changed in swig/java/GNUmakefile the first include from 
> 'GDALmake.opt' to 'GDALmake.opt.in'. This will solve this problem.

Christine,

A more appropriate solution is to run configure to make the GDALmake.opt
file from GDALmake.opt.in.


> Then again I call 'make build' and the next error occurs:
> ###
> swig -Wall -I../inculde -I ../include/java -outdir "org/gdal/gdal" 
> -package "org.gdal.gdal" -[@abs_top_builddir -c++ -java -o gdal_wrap.cpp 
> gdal.i
> ... /bin/sh: swig: command not found
> make: *** [gdal_wrap.cpp] Error 127
> ###

You will need to have SWIG installed to generate the bindings.  I believe
a very recent version is required though I'm not sure exactly what version
that is.

   http://www.swig.org/

I'm afraid building the java bindings is likely to be complicated.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From jluis at ualg.pt  Thu May 11 19:02:02 2006
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] New GMT grid format trouble
In-Reply-To: <44637BEE.7080400@pobox.com>
References: <20060510111734.09f6258e@butan.gdf-hannover.de>	<44620360.4000908@pobox.com>	<20060511103843.1f9fa16e@butan.gdf-hannover.de>
	<44637BEE.7080400@pobox.com>
Message-ID: <4463C26A.9090702@ualg.pt>

Hi,
I once reported a bug regarding the GDAL inability to distinguish  the 
two flavor of gmt grids.
See
http://bugzilla.remotesensing.org/show_bug.cgi?id=796
Althoug the bug status is NEW the problem has been correctd (thanks)

However, since GMT4.1 a new netCDF format (COARDS compliant) has been 
adopted as the
GMT default grid format. Now this format is not correctly interpreted.
Using the same example as in my original bug report

grdmath -R-15/15/-15/15 -I1 = lixo.grd

D:\>gdalinfo lixo.grd
Driver: netCDF/Network Common Data Format
Size is 512, 512
Coordinate System is `'
Metadata:
  NC_GLOBAL#Conventions=COARDS
  NC_GLOBAL#history=grdmath -R-15/15/-15/15 -I1 = lixo.grd
  NC_GLOBAL#node_offset=0
Subdatasets:
  SUBDATASET_1_NAME=NETCDF:"lixo.grd":z
  SUBDATASET_1_DESC=[31x31] z (32-bit floating-point)
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  512.0)
Upper Right (  512.0,    0.0)
Lower Right (  512.0,  512.0)
Center      (  256.0,  256.0)

whereas the correct info is

D:\>grdinfo lixo.grd
lixo.grd: Title: z
lixo.grd: Command: grdmath -R-15/15/-15/15 -I1 = lixo.grd
lixo.grd: Remark:
lixo.grd: Normal node registration used
lixo.grd: grdfile format: nf (# 18)
lixo.grd: x_min: -15 x_max: 15 x_inc: 1 name: x nx: 31
lixo.grd: y_min: -15 y_max: 15 y_inc: 1 name: y ny: 31
lixo.grd: z_min: 0 at x = -15 y = 15 z_max: 0 at x = -15 y = 15
lixo.grd: scale_factor: 1 add_offset: 0


Joaquim Luis

From epatton at nrcan.gc.ca  Fri May 12 14:16:58 2006
From: epatton at nrcan.gc.ca (Patton, Eric)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] libstdc++ Error while compiling gdal 1.3.2
Message-ID: <0E5A77B55A57D511BB3F0002A537C26206411161@s5-dar-r1.nrn.nrcan.gc.ca>

I am trying to compile gdal 1.3.2; I completed ./configure cleanly with no
errors and got quite a ways through make when it quit with the following
error:

...<snip>...
ranlib .libs/libgdal.a
creating libgdal.la
/bin/sed: can't read /usr/lib/libstdc++.la: No such file or directory
libtool: link: `/usr/lib/libstdc++.la' is not a valid libtool archive
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory `/opt/gdal-1.3.2'
make: *** [check-lib] Error 2

Thinking that maybe I don't have the right libstdc++ installed, I checked
Synaptic (using Ubuntu 5.10) to see what was there:

libstdc++2.10-glibc2.2 - The GNU stdc++ library
Installed Files:

/usr
/usr/share
/usr/share/doc
/usr/share/doc/libstdc++2.10-glibc2.2
/usr/share/doc/libstdc++2.10-glibc2.2/README.Bugs.gz
/usr/share/doc/libstdc++2.10-glibc2.2/README.Debian
/usr/share/doc/libstdc++2.10-glibc2.2/copyright
/usr/share/doc/libstdc++2.10-glibc2.2/changelog.Debian.gz
/usr/lib
/usr/lib/libstdc++-3-libc6.2-2-2.10.0.so
/usr/lib/libstdc++-libc6.2-2.so.3

Any ideas what might be wrong here?

~ Eric.

From esr10 at psu.edu  Mon May 15 08:46:15 2006
From: esr10 at psu.edu (esr10@psu.edu)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Level of detail tiles in CADRG/CIB files
Message-ID: <5.1.1.5.2.20060515083432.00c26510@email.psu.edu>

Hi,

I'm trying to visualize CADRG/CIB files (RPF) that have tiled levels of 
detail with the product vGeo which uses gdal to read GIS file formats.  I 
didn't see this listed as one of the supported raster formats at gdal.org, 
but know it's being used by other viz products, so wondered whether anyone 
has created a way to use this type of tiled raster product via gdal.

Thanks,
Eileen


From collinsb at mitre.org  Mon May 15 09:15:55 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Level of detail tiles in CADRG/CIB files
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CDD93C2@IMCSRV1.MITRE.ORG>

The individual tiles for those formats are NITF files.  The formats
CADRG/CIB are ways of organizing tiles on a disk, and not the format of
the imagery itself.

--
Ben

>-----Original Message-----
>From: gdal-dev-bounces@lists.maptools.org 
>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of
esr10@psu.edu
>Sent: Monday, May 15, 2006 8:46 AM
>To: gdal-dev@lists.maptools.org
>Subject: [Gdal-dev] Level of detail tiles in CADRG/CIB files
>
>Hi,
>
>I'm trying to visualize CADRG/CIB files (RPF) that have tiled 
>levels of 
>detail with the product vGeo which uses gdal to read GIS file 
>formats.  I 
>didn't see this listed as one of the supported raster formats 
>at gdal.org, 
>but know it's being used by other viz products, so wondered 
>whether anyone 
>has created a way to use this type of tiled raster product via gdal.
>
>Thanks,
>Eileen
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From sy at perkins.net  Mon May 15 19:13:06 2006
From: sy at perkins.net (Simon Perkins)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] GDAL on 64-bit Windows?
Message-ID: <44690B02.2010109@perkins.net>

Hi,

Has anyone successfully compiled GDAL on 64-bit windows (in 64-bit 
mode). I'm using Visual Studio 2005, with the command line tools enabled 
using the "x86_amd64" option, which uses the 32-bit compiler to create 
64-bit executables and libraries. With GDAL 1.3.2:

 > nmake /f makefile.vc

...

C:\cygwin\home\154712\src\gdal-1.3.2\frmts>cd pcraster   && nmake 
/NOLOGO /f mak
efile.vc   && cd ..
        cl /nologo /MD /EHsc /Ox -I..\..\port -I..\..\ogr -I..\..\gcore  
-I..\..
\alg -Ilibcsf /c pcrasterdataset.cpp
pcrasterdataset.cpp
c:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster\libcsf\csftypes.h(383) 
: fat
al error C1189: #error :  BYTE ORDER NOT SPECIFIED (CPU_LITTLE_ENDIAN or 
CPU_BIG
_ENDIAN)
NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
Studio 8\VC
\BIN\x86_amd64\cl.EXE"' : return code '0x2'
Stop.

C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd leveller   && 
nmake /NOLO
GO /f makefile.vc   && cd ..
The system cannot find the path specified.

C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd sgi   && nmake 
/NOLOGO /f
 makefile.vc   && cd ..
The system cannot find the path specified.

C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd idrisi   && nmake 
/NOLOGO
 /f makefile.vc   && cd ..
The system cannot find the path specified.

C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd jpeg   && nmake 
/NOLOGO /
f makefile.vc   && cd ..
The system cannot find the path specified.

C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd bsb   && nmake 
/NOLOGO /f
 makefile.vc   && cd ..
The system cannot find the path specified.

C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd zlib   && nmake 
/NOLOGO /
f makefile.vc   && cd ..
The system cannot find the path specified.
NMAKE : fatal error U1077: 'for' : return code '0x1'
Stop.
NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
Studio 8\VC
\BIN\nmake.EXE"' : return code '0x2'
Stop.



Any ideas?

Cheers,

Sy


From jeremy.freund at gmail.com  Mon May 15 19:35:02 2006
From: jeremy.freund at gmail.com (Jeremy Freund)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] just trying to install/import
Message-ID: <f6602d370605151635x3e78bb3asccc1eeddffc83e09@mail.gmail.com>

Hello,

I am trying to use the GDAL API with PythonWin 2.4 on XP. I have yet to be
able to get to the point at which I can type "import gdal" without an error.
Obviously, there's some sort of path issue or other such user error. I've
installed the GDAl API by downloading the zip file, unzipping and then
appending this path to the Python path. What more do I need to do to put the
GDAL API in the python path? Please, any suggestions would be greatly
appreciated!

Thanks,

Jeremy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060515/89f6c38b/attachment.html
From Charles.Wivell at dnr.state.mn.us  Mon May 15 15:04:03 2006
From: Charles.Wivell at dnr.state.mn.us (Charles Wivell)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] 7 county metro mosaic
Message-ID: <s4688a68.034@co5.dnr.state.mn.us>

Hi all;

The ortho-mosaic processing has completed. I did a quick look at it and it looks good, except for a couple of images in Carver Co. I knew Carver county might cause a few problems. 

The location of the "bad" images are:
432526 east, 4946774 north 
420639 east, 4949548 north

This run included bi-linear resampling to make the final mosaic "look" better too.

I'll start to copy the mosaic "to somewhere with space" tonight before I leave.

Chuck



From shaun.kolomeitz at epa.qld.gov.au  Tue May 16 01:19:35 2006
From: shaun.kolomeitz at epa.qld.gov.au (Shaun Kolomeitz)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Compiling GDAL with ECW and Solaris10
Message-ID: <T784a309a4b9384f0e1678@goshawk.env.qld.gov.au>

Well I'm completely out of ideas on how to get GDAL going with ECW on Solaris10.
ECW libraries compile and install fine, but when GDAL tries to compile them in it has a hurnia.
Some (any ???) ideas ... anyone ....

Regards,
Shaun

....snip...

make -C ecw install-obj
make[2]: Entering directory `/export/home/kolomes/downloads/gdal-1.3.2/frmts/ecw'
/bin/sh /export/home/kolomes/downloads/gdal-1.3.2/libtool --mode=compile g++ -Wall  -O2   -I/export/home/kolomes/downloads/gdal-1.3.2/port -I/export/home/kolomes/downloads/gdal-1.3.2/gcore -I/export/home/kolomes/downloads/gdal-1.3.2/alg -I/export/home/kolomes/downloads/gdal-1.3.2/ogr -I/export/home/kolomes/downloads/gdal-1.3.2/ogr/ogrsf_frmts -DFRMT_ecw -DOGR_ENABLED -D_REENTRANT  -I/export/home/kolomes/downloads/gdal-1.3.2/port -I/usr/local/include -I/usr/local/include/jasper -I/usr/local/include/jasper/include  -c -o ../o/ecwdataset.o ecwdataset.cpp
 g++ -Wall -O2 -I/export/home/kolomes/downloads/gdal-1.3.2/port -I/export/home/kolomes/downloads/gdal-1.3.2/gcore -I/export/home/kolomes/downloads/gdal-1.3.2/alg -I/export/home/kolomes/downloads/gdal-1.3.2/ogr -I/export/home/kolomes/downloads/gdal-1.3.2/ogr/ogrsf_frmts -DFRMT_ecw -DOGR_ENABLED -D_REENTRANT -I/export/home/kolomes/downloads/gdal-1.3.2/port -I/usr/local/include -I/usr/local/include/jasper -I/usr/local/include/jasper/include -c ecwdataset.cpp  -fPIC -DPIC -o ../o/.libs/ecwdataset.o
In file included from /usr/include/fcntl.h:23,
                 from /usr/local/include/NCSFileIO.h:115,
                 from /usr/local/include/NCSJPCIOStream.h:30,
                 from /usr/local/include/NCSJP2Box.h:27,
                 from /usr/local/include/NCSJP2FileView.h:45,
                 from /usr/local/include/NCSFile.h:27,
                 from vsiiostream.h:79,
                 from ecwdataset.cpp:181:
/usr/include/sys/fcntl.h:125:23: token "=" is not valid in preprocessor expressions
In file included from /usr/local/include/NCSFileIO.h:115,
                 from /usr/local/include/NCSJPCIOStream.h:30,
                 from /usr/local/include/NCSJP2Box.h:27,
                 from /usr/local/include/NCSJP2FileView.h:45,
                 from /usr/local/include/NCSFile.h:27,
                 from vsiiostream.h:79,
                 from ecwdataset.cpp:181:
/usr/include/fcntl.h:48:24: token "=" is not valid in preprocessor expressions
/usr/include/fcntl.h:103:40: token "=" is not valid in preprocessor expressions
make[2]: *** [../o/ecwdataset.o] Error 1
make[2]: Leaving directory `/export/home/kolomes/downloads/gdal-1.3.2/frmts/ecw'
make[1]: *** [ecw-install-obj] Error 2
make[1]: Leaving directory `/export/home/kolomes/downloads/gdal-1.3.2/frmts'
make: *** [frmts-target] Error 2 



___________________________
Disclaimer

This e-mail, including attachments if any, has originated from a Queensland government agency and may contain information that is confidential, or covered by legal professional privilege, and is intended for the named recipient(s) only.  If you have received this message in error, you are asked to inform the sender as quickly as possible and delete this message and any copies of this message from your computer system network.

Any form of disclosure, modification, distribution and/or publication of this e-mail, including attachments is prohibited.  Unless otherwise stated, this e-mail, including attachments represents the views of the sender and not the views of the Environmental Protection Agency.

Although this e-mail has been checked for the presence of computer viruses, the Environmental Protection Agency provides no warranty that all possible viruses have been detected and cleaned.  Any use of this e-mail could harm your computer system.
___________________________



From mateusz at loskot.net  Tue May 16 01:26:28 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] just trying to install/import
In-Reply-To: <f6602d370605151635x3e78bb3asccc1eeddffc83e09@mail.gmail.com>
References: <f6602d370605151635x3e78bb3asccc1eeddffc83e09@mail.gmail.com>
Message-ID: <44696284.60909@loskot.net>

Jeremy Freund wrote:
> I am trying to use the GDAL API with PythonWin 2.4 on XP. I have yet
> to be able to get to the point at which I can type "import gdal"
> without an error.

Hi Jeremy,

Does it mean you've managed to import gdal module to Python?

> Obviously, there's some sort of path issue or other
> such user error.

Why do you suppose there is some issue?
Is it gdal module not working for you?
What errors exactly are you getting? Please paste them here.

> I've installed the GDAl API by downloading the zip
> file, unzipping and then appending this path to the Python path. What
> more do I need to do to put the GDAL API in the python path? 
> Please, any suggestions would be greatly appreciated!

Also, the GDAL DLL is required to be in the execution PATH.
Could you tell me what ZIP package are you using?

BTW, do you know there is ready to use distribution of Python and GDAL
(and more) called FWTools (Frank Warmerdam's Tools) available to
download for Linux and Windows:
http://fwtools.maptools.org

I'd recommend you to use FWTools as the easiest and pre-configured GDAL
environment.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From spietz at fh-bingen.de  Tue May 16 03:45:39 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] swig java: c/c++
Message-ID: <009701c678bc$bd04c8f0$b84f5d8f@PSP>

 Hi Frank,

 lot of thanks for your help!
 After running "./config" in GDAL_HOME I got the GDALmake.opt.
 Then I installed swig1.3.24 and tried to run "make build" in the
 swig/java-directory.

 The compiling process for the c/c++-sources starts, but there seem to be
 some errors in the c++-code (?)

 error:
 ....
 gdal_wrap.cpp:1774:error:GDALDriverShadow_get_ShortName was not declared in
 this scope
 ....
 gdal_wrap.cpp:1808:error:GDALDriverShadow_get_HelpTopic was not declared in
 this scope
 ....
 gdal_wrap.cpp:2721:error:GDALDatasetShadow_get_RasterXSize was not declared
 in this scope
 ....
 gdal_wrap.cpp:2736:error:GDALDatasetShadow_get_RasterYSize was not declared
 in this scope
 ....
 gdal_wrap.cpp:2751:error:GDALDatasetShadow_get_RasterCount was not declared
 in this scope
 ....
 gdal_wrap.cpp:3209:error:GDALRasterBandShadow_get_XSize was not declared in
 this scope
 ....
 gdal_wrap.cpp:3224:error:GDALRasterBandShadow_get_YSize was not declared in
 this scope
 ....
 gdal_wrap.cpp:3239:error:GDALRasterBandShadow_get_DataType was not declared
 in this scope
 ...
 make: *** [gdal_wrap.o] Error 1

 Does anybody know, what to do to get the ./libs/lib*jni.so files which I
 need to get the java bindings running?


 Beste regards

 Christine


> ----- Original Message ----- 
> From: "Frank Warmerdam" <warmerdam@pobox.com>
> To: "Christine Spietz" <spietz@fh-bingen.de>
> Cc: <gdal-dev@lists.maptools.org>
> Sent: Thursday, May 11, 2006 8:28 PM
> Subject: Re: [Gdal-dev] swig java: c/c++
>
>
>> Christine Spietz wrote:
>>> The problem:
>>> If I go into the swig/java directoty and call 'make build' there is the 
>>> first error:
>>> ###
>>> [ GNUmakefile:3 ../../GDALmake.opt: No such file or directory ]
>>> ###
>>> => So I changed in swig/java/GNUmakefile the first include from 
>>> 'GDALmake.opt' to 'GDALmake.opt.in'. This will solve this problem.
>>
>> Christine,
>>
>> A more appropriate solution is to run configure to make the GDALmake.opt
>> file from GDALmake.opt.in.
>>
>>
>>> Then again I call 'make build' and the next error occurs:
>>> ###
>>> swig -Wall -I../inculde -I ../include/java -outdir 
>>> "org/gdal/gdal" -package 
>>> "org.gdal.gdal" -[@abs_top_builddir -c++ -java -o gdal_wrap.cpp gdal.i
>>> ... /bin/sh: swig: command not found
>>> make: *** [gdal_wrap.cpp] Error 127
>>> ###
>>
>> You will need to have SWIG installed to generate the bindings.  I believe
>> a very recent version is required though I'm not sure exactly what 
>> version
>> that is.
>>
>>   http://www.swig.org/
>>
>> I'm afraid building the java bindings is likely to be complicated.
>>
>> Best regards,
>> -- 
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up   | Frank Warmerdam, 
>> warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush    | President OSGF, http://osgeo.org
>>
> 


From C.Wilmes at gmx.de  Tue May 16 06:00:32 2006
From: C.Wilmes at gmx.de (Christian Wilmes)
Date: Wed Nov 21 11:50:08 2007
Subject: [Gdal-dev] Problem with Mapserver Virtual Spatial Data (ogr)
References: <18333.1147771990@www104.gmx.net>
Message-ID: <3707.1147773632@www034.gmx.net>

Hello,

first of all sorry for cross posting, but I've got no idea where I have to
search the mistake so I post it to the GDAL and the Mapserver Mailinglist.

I'm trying to publish a WFS-Server. The Data (only Point-Data) are in a
PostgreSQL-Database (no PostGIS!). So the connection to the data is over
"Virtual Spatial Data". The getCapabilities and DescribeFeatureType request
both work very well. Only the GML-Document getting with the getFeature
request is not correct. The number of features in the GML-Document are
correct too every time, but the features are not in the Bounding Box. The
features in the GML-Document are always the feature which are on the top of
the table they come from. Only the number of feature is correct. The MBR
(Minimum Boundig Rectangle) on the top of the GML-Document amasingly the
correct one. So it don't fit to the features in the document. Testing the
connection with "ogrinfo" and a Boundig-Box is working correct. If I'm
trying to make a WMS-Server with the same Data and the same OGR-file it
works very well.

So here is my Mapfile:

MAP
	NAME WFS_Server
	STATUS ON
	WEB
		METADATA
			"wfs_title"            "WFS Server" 
			"wfs_onlineresource"   "http://127.0.0.1/cgi-bin/mapserv.exe?"
			"wfs_srs"               "EPSG:4326"
		END
	END

	PROJECTION
		"init=EPSG:4326"
	END

	
	LAYER
		NAME myWFS
		METADATA
			"wfs_title"    "myWFS"
			"gml_include_items" "all"  
		END
		TYPE POINT
		STATUS ON
		CONNECTIONTYPE OGR
		CONNECTION "test.ovf"
		PROJECTION
			"init=EPSG:4326"
		END
		DUMP TRUE

	END
END





and the OGR-File test.ovf:

<OGRVRTDataSource>
    <OGRVRTLayer name="feature">
        <SrcDataSource>PG:host=192.168.5.86 user=cwilmes dbname=rosoapcw
password=xxx</SrcDataSource> 
 	<SrcLayer>feature</SrcLayer> 
	<GeometryType>wkbPoint</GeometryType> 
        <LayerSRS>EPSG:4326</LayerSRS>
	<GeometryField encoding="PointFromColumns" x="lat" y="lon"/> 
    </OGRVRTLayer>
</OGRVRTDataSource>


Here is a URL which I used for testing the WFS
getFeature-Request:
http://localhost/cgi-bin/mapserv.exe?&REQUEST=GetFeature&VERSION=1.0.0&SERVICE=WFS&TYPENAME=myWFS&&BBox=9.98,7.98,10,8


....and here is the result:
  <?xml version="1.0" encoding="ISO-8859-1" ?> 
-
<wfs:FeatureCollection
xmlns:ms="http://mapserver.gis.umn.edu/mapserver"
xmlns:wfs="http://www.opengis.net/wfs"
xmlns:gml="http://www.opengis.net/gml"
xmlns:ogc="http://www.opengis.net/ogc"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.opengis.net/wfs
http://schemas.opengeospatial.net/wfs/1.0.0/WFS-basic.xsd
http://mapserver.gis.umn.edu/mapserver
http://127.0.0.1/cgi-bin/mapserv.exe?SERVICE=WFS&VERSION=1.0.0&REQUEST=DescribeFeatureType&TYPENAME=myWFS&OUTPUTFORMAT=XMLSCHEMA">
- <gml:boundedBy>
- <gml:Box srsName="EPSG:4326">
  <gml:coordinates>9.980700,7.984220 9.997500,7.995010</gml:coordinates> 
  </gml:Box>
  </gml:boundedBy>
- <gml:featureMember>
- <ms:myWFS>
- <gml:boundedBy>
- <gml:Box srsName="EPSG:4326">
  <gml:coordinates>9.682230,7.653260 9.682230,7.653260</gml:coordinates> 
  </gml:Box>
  </gml:boundedBy>
- <ms:msGeometry>
- <gml:Point srsName="EPSG:4326">
  <gml:coordinates>9.682230,7.653260</gml:coordinates> 
  </gml:Point>
  </ms:msGeometry>
  <ms:id>16</ms:id> 
  </ms:myWFS>
  </gml:featureMember>
- <gml:featureMember>
- <ms:myWFS>
- <gml:boundedBy>
- <gml:Box srsName="EPSG:4326">
  <gml:coordinates>9.768800,7.835870 9.768800,7.835870</gml:coordinates> 
  </gml:Box>
  </gml:boundedBy>
- <ms:msGeometry>
- <gml:Point srsName="EPSG:4326">
  <gml:coordinates>9.768800,7.835870</gml:coordinates> 
  </gml:Point>
  </ms:msGeometry>
  <ms:id>17</ms:id> 
  </ms:myWFS>
  </gml:featureMember>
- <gml:featureMember>
- <ms:myWFS>
- <gml:boundedBy>
- <gml:Box srsName="EPSG:4326">
  <gml:coordinates>9.296530,7.426330 9.296530,7.426330</gml:coordinates> 
  </gml:Box>
  </gml:boundedBy>
- <ms:msGeometry>
- <gml:Point srsName="EPSG:4326">
  <gml:coordinates>9.296530,7.426330</gml:coordinates> 
  </gml:Point>
  </ms:msGeometry>
  <ms:id>18</ms:id> 
  </ms:myWFS>
  </gml:featureMember>
- <gml:featureMember>
- <ms:myWFS>
- <gml:boundedBy>
- <gml:Box srsName="EPSG:4326">
  <gml:coordinates>9.111500,7.645390 9.111500,7.645390</gml:coordinates> 
  </gml:Box>
  </gml:boundedBy>
- <ms:msGeometry>
- <gml:Point srsName="EPSG:4326">
  <gml:coordinates>9.111500,7.645390</gml:coordinates> 
  </gml:Point>
  </ms:msGeometry>
  <ms:id>20</ms:id> 
  </ms:myWFS>
  </gml:featureMember>
  </wfs:FeatureCollection>




I will be very thankful for every idea where the mistake could!

Please excuse my bad english!



Best Regards
Christian



-- 
"Feel free" - 10 GB Mailbox, 100 FreeSMS/Monat ...
Jetzt GMX TopMail testen: http://www.gmx.net/de/go/topmail

From Kevin.Mote at pnl.gov  Mon May 15 16:26:17 2006
From: Kevin.Mote at pnl.gov (Mote, Kevin D)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] projection conversion problems
Message-ID: <CD9B340B507DD644AD45EF6B1B17F6DC04C37F37@pnlmse26.pnl.gov>

newbie question here.
I'm trying to convert a .jpg (with an associated .prj file) into a
geoTiff. 
Code looks like this:
       // Load the reference image

       m_pGDB = (GDALDataset*)GDALOpenShared( CStringA(jpg_FileName),
GA_ReadOnly );

 

       // Get a GTiff driver object

       GDALDriver *poDriver;

       poDriver = GetGDALDriverManager()->GetDriverByName("GTiff");

 

       // Create the GTiff file

       GDALDataset *poDstDS;

       poDstDS = poDriver->CreateCopy( CStringA(tif_Filename), m_pGDB,
FALSE, NULL, NULL, NULL );

 

       // Set the projection information in the GTiff

       err = poDstDS->SetProjection( CStringA(m_ProjectionRef) );

       VERIFY( err == OGRERR_NONE );

 

       // Close

       GDALClose( poDstDS );

 

 

The original projection string looks like this:
 
PROJCS["Custom",GEOGCS["GCS_WGS_1984",DATUM["WGS_1984",SPHEROID["WGS_198
4",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.017
4532925199433]],PROJECTION["Azimuthal_Equidistant"],PARAMETER["False_Eas
ting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Longitude_Of_Origi
n",16.11111111111111],PARAMETER["Latitude_Of_Origin",2.777777777777776],
UNIT["Meter",1.0]]

 

The newly created geotiff projection string looks like this:
 
PROJCS["Custom",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG"
,"6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHOR
ITY["EPSG","4326"]],PROJECTION["Azimuthal_Equidistant"],PARAMETER["latit
ude_of_center",0],PARAMETER["longitude_of_center",0],PARAMETER["false_ea
sting",0],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG",
"9001"]]]

 

(Note the "longitude_of_center" is 0, when the original had a
"Longitude_Of_Origin" as 16.111111; similarly with latitude). The
problem seems to be associated with particular Projections
(Azimuthal_Equidistant in this example, but I've also had similar
troubles with Robinson and Miller Cylindrical. With other projections,
however, the code seems to work just fine. It's as if the GDALDriver is
failing to copy the information because the attribute name is
non-standard. Or perhaps I'm just doing something wrong. Do you have any
suggestions for me?
 
Thanks!



Kevin Mote 




From Charles.Wivell at dnr.state.mn.us  Tue May 16 08:58:27 2006
From: Charles.Wivell at dnr.state.mn.us (Charles Wivell)
Date: Wed Nov 21 11:50:09 2007
Subject: Oops....[Gdal-dev] 7 county metro mosaic
Message-ID: <s4698642.016@co5.dnr.state.mn.us>

Sorry, that should not have gone out to Gdal-dev. I must have accidentally included the Gdal address....


Chuck

>>> "Charles Wivell" <Charles.Wivell@dnr.state.mn.us> 5/15/2006 2:04 PM >>>
Hi all;

The ortho-mosaic processing has completed. I did a quick look at it and it looks good, except for a couple of images in Carver Co. I knew Carver county might cause a few problems. 

The location of the "bad" images are:
432526 east, 4946774 north 
420639 east, 4949548 north

This run included bi-linear resampling to make the final mosaic "look" better too.

I'll start to copy the mosaic "to somewhere with space" tonight before I leave.

Chuck


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev



From collinsb at mitre.org  Tue May 16 10:28:06 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] swig java: c/c++
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CDD95A3@IMCSRV1.MITRE.ORG>

Unless you WANT to do the swig build, it should not be necessary, since
checed into CVS are the generated c/c++ files from the original author,
which should be generally useful.  They work under GNU/Linux from a
week-old snapshot.

In order to have 'make build' in swig/java not try to run swig run the
following commands which in the java directory.


>-----Original Message-----
>From: gdal-dev-bounces@lists.maptools.org 
>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
>Christine Spietz
>Sent: Tuesday, May 16, 2006 3:46 AM
>To: gdal-dev@lists.maptools.org
>Subject: Re: [Gdal-dev] swig java: c/c++
>
> Hi Frank,
>
> lot of thanks for your help!
> After running "./config" in GDAL_HOME I got the GDALmake.opt.
> Then I installed swig1.3.24 and tried to run "make build" in the
> swig/java-directory.
>
> The compiling process for the c/c++-sources starts, but there 
>seem to be
> some errors in the c++-code (?)
>
> error:
> ....
> gdal_wrap.cpp:1774:error:GDALDriverShadow_get_ShortName was 
>not declared in
> this scope
> ....
> gdal_wrap.cpp:1808:error:GDALDriverShadow_get_HelpTopic was 
>not declared in
> this scope
> ....
> gdal_wrap.cpp:2721:error:GDALDatasetShadow_get_RasterXSize 
>was not declared
> in this scope
> ....
> gdal_wrap.cpp:2736:error:GDALDatasetShadow_get_RasterYSize 
>was not declared
> in this scope
> ....
> gdal_wrap.cpp:2751:error:GDALDatasetShadow_get_RasterCount 
>was not declared
> in this scope
> ....
> gdal_wrap.cpp:3209:error:GDALRasterBandShadow_get_XSize was 
>not declared in
> this scope
> ....
> gdal_wrap.cpp:3224:error:GDALRasterBandShadow_get_YSize was 
>not declared in
> this scope
> ....
> gdal_wrap.cpp:3239:error:GDALRasterBandShadow_get_DataType 
>was not declared
> in this scope
> ...
> make: *** [gdal_wrap.o] Error 1
>
> Does anybody know, what to do to get the ./libs/lib*jni.so 
>files which I
> need to get the java bindings running?
>
>
> Beste regards
>
> Christine
>
>
>> ----- Original Message ----- 
>> From: "Frank Warmerdam" <warmerdam@pobox.com>
>> To: "Christine Spietz" <spietz@fh-bingen.de>
>> Cc: <gdal-dev@lists.maptools.org>
>> Sent: Thursday, May 11, 2006 8:28 PM
>> Subject: Re: [Gdal-dev] swig java: c/c++
>>
>>
>>> Christine Spietz wrote:
>>>> The problem:
>>>> If I go into the swig/java directoty and call 'make build' 
>there is the 
>>>> first error:
>>>> ###
>>>> [ GNUmakefile:3 ../../GDALmake.opt: No such file or directory ]
>>>> ###
>>>> => So I changed in swig/java/GNUmakefile the first include from 
>>>> 'GDALmake.opt' to 'GDALmake.opt.in'. This will solve this problem.
>>>
>>> Christine,
>>>
>>> A more appropriate solution is to run configure to make the 
>GDALmake.opt
>>> file from GDALmake.opt.in.
>>>
>>>
>>>> Then again I call 'make build' and the next error occurs:
>>>> ###
>>>> swig -Wall -I../inculde -I ../include/java -outdir 
>>>> "org/gdal/gdal" -package 
>>>> "org.gdal.gdal" -[@abs_top_builddir -c++ -java -o 
>gdal_wrap.cpp gdal.i
>>>> ... /bin/sh: swig: command not found
>>>> make: *** [gdal_wrap.cpp] Error 127
>>>> ###
>>>
>>> You will need to have SWIG installed to generate the 
>bindings.  I believe
>>> a very recent version is required though I'm not sure exactly what 
>>> version
>>> that is.
>>>
>>>   http://www.swig.org/
>>>
>>> I'm afraid building the java bindings is likely to be complicated.
>>>
>>> Best regards,
>>> -- 
>>> 
>---------------------------------------+-----------------------
>---------------
>>> I set the clouds in motion - turn up   | Frank Warmerdam, 
>>> warmerdam@pobox.com
>>> light and sound - activate the windows |
http://pobox.com/~warmerdam
>>> and watch the world go round - Rush    | President OSGF, 
>http://osgeo.org
>>>
>> 
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From collinsb at mitre.org  Tue May 16 10:35:51 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] swig java: c/c++
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CDD95A9@IMCSRV1.MITRE.ORG>

Sorry for the partial message (you would think that shift-enter was
hard to hit accidentially)

Run the following to tell make that the source files are up to date and
do not need rebuilding:
 touch *.cpp
 touch *.c

Then run 'make build' and the lib<*>jni.so files should be built.

Please let me know if there are any issues.

Also, to build the wrapper file themselves, please use SWIG version
1.3.27+
--
Ben

>-----Original Message-----
>From: Collins, Benjamin 
>Sent: Tuesday, May 16, 2006 10:28 AM
>To: 'Christine Spietz'; gdal-dev@lists.maptools.org
>Subject: RE: [Gdal-dev] swig java: c/c++
>
>Unless you WANT to do the swig build, it should not be 
>necessary, since checed into CVS are the generated c/c++ files 
>from the original author, which should be generally useful.  
>They work under GNU/Linux from a week-old snapshot.
>
>In order to have 'make build' in swig/java not try to run swig 
>run the following commands which in the java directory.
>
>
>>-----Original Message-----
>>From: gdal-dev-bounces@lists.maptools.org 
>>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
>>Christine Spietz
>>Sent: Tuesday, May 16, 2006 3:46 AM
>>To: gdal-dev@lists.maptools.org
>>Subject: Re: [Gdal-dev] swig java: c/c++
>>
>> Hi Frank,
>>
>> lot of thanks for your help!
>> After running "./config" in GDAL_HOME I got the GDALmake.opt.
>> Then I installed swig1.3.24 and tried to run "make build" in the
>> swig/java-directory.
>>
>> The compiling process for the c/c++-sources starts, but there 
>>seem to be
>> some errors in the c++-code (?)
>>
>> error:
>> ....
>> gdal_wrap.cpp:1774:error:GDALDriverShadow_get_ShortName was 
>>not declared in
>> this scope
>> ....
>> gdal_wrap.cpp:1808:error:GDALDriverShadow_get_HelpTopic was 
>>not declared in
>> this scope
>> ....
>> gdal_wrap.cpp:2721:error:GDALDatasetShadow_get_RasterXSize 
>>was not declared
>> in this scope
>> ....
>> gdal_wrap.cpp:2736:error:GDALDatasetShadow_get_RasterYSize 
>>was not declared
>> in this scope
>> ....
>> gdal_wrap.cpp:2751:error:GDALDatasetShadow_get_RasterCount 
>>was not declared
>> in this scope
>> ....
>> gdal_wrap.cpp:3209:error:GDALRasterBandShadow_get_XSize was 
>>not declared in
>> this scope
>> ....
>> gdal_wrap.cpp:3224:error:GDALRasterBandShadow_get_YSize was 
>>not declared in
>> this scope
>> ....
>> gdal_wrap.cpp:3239:error:GDALRasterBandShadow_get_DataType 
>>was not declared
>> in this scope
>> ...
>> make: *** [gdal_wrap.o] Error 1
>>
>> Does anybody know, what to do to get the ./libs/lib*jni.so 
>>files which I
>> need to get the java bindings running?
>>
>>
>> Beste regards
>>
>> Christine
>>
>>
>>> ----- Original Message ----- 
>>> From: "Frank Warmerdam" <warmerdam@pobox.com>
>>> To: "Christine Spietz" <spietz@fh-bingen.de>
>>> Cc: <gdal-dev@lists.maptools.org>
>>> Sent: Thursday, May 11, 2006 8:28 PM
>>> Subject: Re: [Gdal-dev] swig java: c/c++
>>>
>>>
>>>> Christine Spietz wrote:
>>>>> The problem:
>>>>> If I go into the swig/java directoty and call 'make build' 
>>there is the 
>>>>> first error:
>>>>> ###
>>>>> [ GNUmakefile:3 ../../GDALmake.opt: No such file or directory ]
>>>>> ###
>>>>> => So I changed in swig/java/GNUmakefile the first include from 
>>>>> 'GDALmake.opt' to 'GDALmake.opt.in'. This will solve this
problem.
>>>>
>>>> Christine,
>>>>
>>>> A more appropriate solution is to run configure to make the 
>>GDALmake.opt
>>>> file from GDALmake.opt.in.
>>>>
>>>>
>>>>> Then again I call 'make build' and the next error occurs:
>>>>> ###
>>>>> swig -Wall -I../inculde -I ../include/java -outdir 
>>>>> "org/gdal/gdal" -package 
>>>>> "org.gdal.gdal" -[@abs_top_builddir -c++ -java -o 
>>gdal_wrap.cpp gdal.i
>>>>> ... /bin/sh: swig: command not found
>>>>> make: *** [gdal_wrap.cpp] Error 127
>>>>> ###
>>>>
>>>> You will need to have SWIG installed to generate the 
>>bindings.  I believe
>>>> a very recent version is required though I'm not sure exactly what

>>>> version
>>>> that is.
>>>>
>>>>   http://www.swig.org/
>>>>
>>>> I'm afraid building the java bindings is likely to be complicated.
>>>>
>>>> Best regards,
>>>> -- 
>>>> 
>>---------------------------------------+-----------------------
>>---------------
>>>> I set the clouds in motion - turn up   | Frank Warmerdam, 
>>>> warmerdam@pobox.com
>>>> light and sound - activate the windows | 
>http://pobox.com/~warmerdam
>>>> and watch the world go round - Rush    | President OSGF, 
>>http://osgeo.org
>>>>
>>> 
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>>


From spietz at fh-bingen.de  Tue May 16 10:57:03 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] swig java: c/c++
References: <8D27E2CDAF11D34F97E7445BCCCDB92CDD95A3@IMCSRV1.MITRE.ORG>
Message-ID: <01c601c678f9$010e9300$b84f5d8f@PSP>


Hi Ben

I'm using the CVS (gdal-cvs.2006.05.08.tar.gz) and there are the necessary 
c/c++-files in the .../swig/java-directory:
- gdal_wrap.cpp
- gdalconst_wrap.c
- ogr_wrap.cpp
- osr_wrap.cpp

But they are not compiled. On Linux you should get after a 'make built' in 
the swig/java directory some
lib*jni.so-files in swig/java/.libs
(look at 
http://lists.maptools.org/pipermail/gdal-dev/2006-February/007867.html)

Seems I misunderstood:
I thought by using swig(swig1.3.24 ) I will compile the existing sources.
I don't want to build the wrapper files themselves, I want to use/compile 
the existing ones!
Before installing swig "nothing" worked (look at 
http://lists.maptools.org/pipermail/gdal-dev/2006-May/008847.html).

So after your tip I made
'touch *.cpp'
'touch *.c'
in the swig/java directory and after that I run
'make build'

but I'm getting the same errors as before (see below).

Any other ideas?


Christine


> Unless you WANT to do the swig build, it should not be necessary, since
> checed into CVS are the generated c/c++ files from the original author,
> which should be generally useful.  They work under GNU/Linux from a
> week-old snapshot.
>
> In order to have 'make build' in swig/java not try to run swig run the
> following commands which in the java directory.
>
>Run the following to tell make that the source files are up to date and
>do not need rebuilding:
> touch *.cpp
> touch *.c
>
>Then run 'make build' and the lib<*>jni.so files should be built.

>Please let me know if there are any issues.

>Also, to build the wrapper file themselves, please use SWIG version
>1.3.27+

>
>>-----Original Message-----
>>From: gdal-dev-bounces@lists.maptools.org
>>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of
>>Christine Spietz
>>Sent: Tuesday, May 16, 2006 3:46 AM
>>To: gdal-dev@lists.maptools.org
>>Subject: Re: [Gdal-dev] swig java: c/c++
>>
>> Hi Frank,
>>
>> lot of thanks for your help!
>> After running "./config" in GDAL_HOME I got the GDALmake.opt.
>> Then I installed swig1.3.24 and tried to run "make build" in the
>> swig/java-directory.
>>
>> The compiling process for the c/c++-sources starts, but there
>>seem to be
>> some errors in the c++-code (?)
>>
>> error:
>> ....
>> gdal_wrap.cpp:1774:error:GDALDriverShadow_get_ShortName was
>>not declared in
>> this scope
>> ....
>> gdal_wrap.cpp:1808:error:GDALDriverShadow_get_HelpTopic was
>>not declared in
>> this scope
>> ....
>> gdal_wrap.cpp:2721:error:GDALDatasetShadow_get_RasterXSize
>>was not declared
>> in this scope
>> ....
>> gdal_wrap.cpp:2736:error:GDALDatasetShadow_get_RasterYSize
>>was not declared
>> in this scope
>> ....
>> gdal_wrap.cpp:2751:error:GDALDatasetShadow_get_RasterCount
>>was not declared
>> in this scope
>> ....
>> gdal_wrap.cpp:3209:error:GDALRasterBandShadow_get_XSize was
>>not declared in
>> this scope
>> ....
>> gdal_wrap.cpp:3224:error:GDALRasterBandShadow_get_YSize was
>>not declared in
>> this scope
>> ....
>> gdal_wrap.cpp:3239:error:GDALRasterBandShadow_get_DataType
>>was not declared
>> in this scope
>> ...
>> make: *** [gdal_wrap.o] Error 1
>>
>> Does anybody know, what to do to get the ./libs/lib*jni.so
>>files which I
>> need to get the java bindings running?
>>
>>
>> Beste regards
>>
>> Christine
>>
>>
>>> ----- Original Message ----- 
>>> From: "Frank Warmerdam" <warmerdam@pobox.com>
>>> To: "Christine Spietz" <spietz@fh-bingen.de>
>>> Cc: <gdal-dev@lists.maptools.org>
>>> Sent: Thursday, May 11, 2006 8:28 PM
>>> Subject: Re: [Gdal-dev] swig java: c/c++
>>>
>>>
>>>> Christine Spietz wrote:
>>>>> The problem:
>>>>> If I go into the swig/java directoty and call 'make build'
>>there is the
>>>>> first error:
>>>>> ###
>>>>> [ GNUmakefile:3 ../../GDALmake.opt: No such file or directory ]
>>>>> ###
>>>>> => So I changed in swig/java/GNUmakefile the first include from
>>>>> 'GDALmake.opt' to 'GDALmake.opt.in'. This will solve this problem.
>>>>
>>>> Christine,
>>>>
>>>> A more appropriate solution is to run configure to make the
>>GDALmake.opt
>>>> file from GDALmake.opt.in.
>>>>
>>>>
>>>>> Then again I call 'make build' and the next error occurs:
>>>>> ###
>>>>> swig -Wall -I../inculde -I ../include/java -outdir
>>>>> "org/gdal/gdal" -package
>>>>> "org.gdal.gdal" -[@abs_top_builddir -c++ -java -o
>>gdal_wrap.cpp gdal.i
>>>>> ... /bin/sh: swig: command not found
>>>>> make: *** [gdal_wrap.cpp] Error 127
>>>>> ###
>>>>
>>>> You will need to have SWIG installed to generate the
>>bindings.  I believe
>>>> a very recent version is required though I'm not sure exactly what
>>>> version
>>>> that is.
>>>>
>>>>   http://www.swig.org/
>>>>
>>>> I'm afraid building the java bindings is likely to be complicated.
>>>>
>>>> Best regards,
>>>> -- 
>>>>
>>---------------------------------------+-----------------------
>>---------------
>>>> I set the clouds in motion - turn up   | Frank Warmerdam,
>>>> warmerdam@pobox.com
>>>> light and sound - activate the windows |
> http://pobox.com/~warmerdam
>>>> and watch the world go round - Rush    | President OSGF,
>>http://osgeo.org
>>>>
>>>
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
> 


From marchesini at unipg.it  Tue May 16 11:03:15 2006
From: marchesini at unipg.it (ivan marchesini)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] transparency
Message-ID: <1147791796.6593.56.camel@geologia5.agora.ing.unipg.it>

Hi to all,
I need to solve this problem, please help me..
some people who are really new to gis, and particularly to qgis, must
simply load two 0/1 (white and black) raster maps and print... they
should print a lot of maps using this method...
the problem is that at the boundary between two maps (where there is the
overlay) they have the superimposition of the white border of a map over
the other map... so they obtain a white strip at the junction between
the two maps..
It would be useful if the white pixel became transparent and the black
pixels remained black....
is there a simple way, using gdal to convert the maps before to load
them into qgis, in a way that they will appear (into qgis) black along
the lines of the maps and null (transparent) in the white area???
I think it is something like adding an alpha channel??

maybe it is a stupid question... 
 sorry...


thanks 

Ivan

-- 
Ivan Marchesini
Department of Civil and Environmental Engineering
University of Perugia
Via G. Duranti 93/a 
06125
Perugia (Italy)
e-mail: marchesini@unipg.it
        ivan.marchesini@gmail.com
tel: +39(0)755853760
fax: +39(0)755853756
jabber: geoivan73@jabber.org




From mn at blominfo.dk  Tue May 16 11:18:27 2006
From: mn at blominfo.dk (Morten Nielsen)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Subtracting images
Message-ID: <25BE68A4D83DD4438F701DF0311F3F4A12E53F@posthus.blominfo.dk>

Is it possible to subtract two images from each other using GDAL?

 

I have a large virtual raster covering a wide area, and several smaller
base-images.

I want to create a difference image where the part of the virtual raster
that covers the base-image is subtracted from the base-image. Output
should be the absolute difference in each band. The images are all
georeferenced and have the same resolution. Are there any commandline
tools available for this?

 

Any help is appreciated.

 

Best regards

/Morten

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060516/3507faf2/attachment.html
From sy at perkins.net  Tue May 16 12:17:46 2006
From: sy at perkins.net (Simon Perkins)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: GDAL on 64-bit Windows?
In-Reply-To: <44690B02.2010109@perkins.net>
References: <44690B02.2010109@perkins.net>
Message-ID: <4469FB2A.9050904@perkins.net>

OK, fixed the first problem. The file frmts/pcraster/makefile.vc should 
have the line:

EXTRAFLAGS =     -Ilibcsf -DUSE_IN_GDAL

Rather than:

EXTRAFLAGS =     -Ilibcsf

Without this definition the csftypes.h file doesn't define 
CPU_LITTLE_ENDIAN as it is supposed to. A fallback catches things on 
win32 but not on win64...

I'll check in an update later today.

I now get all the formats built, but then fail at the final link of the 
GDAL library with some missing symbols:

 > nmake /f makefile.vc
...
        link /dll /debug /INCLUDE:_OGRFeatureStylePuller  
/INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods  
/INCLUDE:_OGR_G_GetPointCount  /INCLUDE:_OGRRegisterAll 
/INCLUDE:_GDALSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48  
/INCLUDE:_GDALComputeMedianCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28  
/INCLUDE:_vbSafeArrayToPtr@16  
/INCLUDE:_OCTNewCoordinateTransformation@8 port\*.obj gcore\*.obj 
alg\*.obj frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
vb6\vb6_support.obj      odbc32.lib                         
gcore\Version.res  /out:gdal13.dll /implib:gdal_i.lib
Microsoft (R) Incremental Linker Version 8.00.50727.42
Copyright (C) Microsoft Corporation.  All rights reserved.

   Creating library gdal_i.lib and object gdal_i.exp
LINK : error LNK2001: unresolved external symbol 
_OCTNewCoordinateTransformation@8
LINK : error LNK2001: unresolved external symbol _vbSafeArrayToPtr@16
LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT@28
LINK : error LNK2001: unresolved external symbol _GDALComputeMedianCutPCT@32
LINK : error LNK2001: unresolved external symbol _GDALReprojectImage@48
LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp@36
LINK : error LNK2001: unresolved external symbol _OGRRegisterAll
LINK : error LNK2001: unresolved external symbol _OGR_G_GetPointCount
LINK : error LNK2001: unresolved external symbol _OPTGetProjectionMethods
LINK : error LNK2001: unresolved external symbol _OSRValidate
LINK : error LNK2001: unresolved external symbol _OGRFeatureStylePuller
gdal13.dll : fatal error LNK1120: 11 unresolved externals
NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
Studio 8\VC\BIN\x86_amd64\link.EXE"' : return code '0x460'
Stop.

So, the linker is not finding the additional symbols that are added to 
the link line via /INCLUDE flags. Perhaps these symbols have different 
names on x64? Why are these extra symbols addded? How would I find out 
what their equivalents are for x64? Is there some equivalent for "nm" to 
dump library symbols on windows?

Has nobody out there tried a 64-bit windows compile yet? Surely I'm not 
the first! :)

Cheers,

Sy


Simon Perkins wrote:
> Hi,
>
> Has anyone successfully compiled GDAL on 64-bit windows (in 64-bit 
> mode). I'm using Visual Studio 2005, with the command line tools 
> enabled using the "x86_amd64" option, which uses the 32-bit compiler 
> to create 64-bit executables and libraries. With GDAL 1.3.2:
>
> > nmake /f makefile.vc
>
> ...
>
> C:\cygwin\home\154712\src\gdal-1.3.2\frmts>cd pcraster   && nmake 
> /NOLOGO /f mak
> efile.vc   && cd ..
>        cl /nologo /MD /EHsc /Ox -I..\..\port -I..\..\ogr 
> -I..\..\gcore  -I..\..
> \alg -Ilibcsf /c pcrasterdataset.cpp
> pcrasterdataset.cpp
> c:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster\libcsf\csftypes.h(383) 
> : fat
> al error C1189: #error :  BYTE ORDER NOT SPECIFIED (CPU_LITTLE_ENDIAN 
> or CPU_BIG
> _ENDIAN)
> NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
> Studio 8\VC
> \BIN\x86_amd64\cl.EXE"' : return code '0x2'
> Stop.
>
> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd leveller   && 
> nmake /NOLO
> GO /f makefile.vc   && cd ..
> The system cannot find the path specified.
>
> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd sgi   && nmake 
> /NOLOGO /f
> makefile.vc   && cd ..
> The system cannot find the path specified.
>
> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd idrisi   && 
> nmake /NOLOGO
> /f makefile.vc   && cd ..
> The system cannot find the path specified.
>
> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd jpeg   && nmake 
> /NOLOGO /
> f makefile.vc   && cd ..
> The system cannot find the path specified.
>
> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd bsb   && nmake 
> /NOLOGO /f
> makefile.vc   && cd ..
> The system cannot find the path specified.
>
> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd zlib   && nmake 
> /NOLOGO /
> f makefile.vc   && cd ..
> The system cannot find the path specified.
> NMAKE : fatal error U1077: 'for' : return code '0x1'
> Stop.
> NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
> Studio 8\VC
> \BIN\nmake.EXE"' : return code '0x2'
> Stop.
>
>
>
> Any ideas?
>
> Cheers,
>
> Sy
>
>

From sy at perkins.net  Tue May 16 12:38:33 2006
From: sy at perkins.net (Simon Perkins)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: GDAL on 64-bit Windows?
In-Reply-To: <4469FB2A.9050904@perkins.net>
References: <44690B02.2010109@perkins.net> <4469FB2A.9050904@perkins.net>
Message-ID: <446A0009.1090101@perkins.net>

OK, found the dumpbin utility which seems to be "nm" for windows... Now
slowly going through the process of trying to track down these symbols
and working out what they might be called on x64. _OGRRegisterAll seems
to be simply OGRRegisterAll, for instance (no leading underscore).
Anyone know what the significance of that is?

Cheers,

Sy


Simon Perkins wrote:
> > nmake /f makefile.vc
> ...
>        link /dll /debug /INCLUDE:_OGRFeatureStylePuller  
> /INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods  
> /INCLUDE:_OGR_G_GetPointCount  /INCLUDE:_OGRRegisterAll 
> /INCLUDE:_GDALSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48  
> /INCLUDE:_GDALComputeMedianCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28  
> /INCLUDE:_vbSafeArrayToPtr@16  
> /INCLUDE:_OCTNewCoordinateTransformation@8 port\*.obj gcore\*.obj 
> alg\*.obj frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
> vb6\vb6_support.obj      odbc32.lib                         
> gcore\Version.res  /out:gdal13.dll /implib:gdal_i.lib
> Microsoft (R) Incremental Linker Version 8.00.50727.42
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
>   Creating library gdal_i.lib and object gdal_i.exp
> LINK : error LNK2001: unresolved external symbol 
> _OCTNewCoordinateTransformation@8
> LINK : error LNK2001: unresolved external symbol _vbSafeArrayToPtr@16
> LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT@28
> LINK : error LNK2001: unresolved external symbol 
> _GDALComputeMedianCutPCT@32
> LINK : error LNK2001: unresolved external symbol _GDALReprojectImage@48
> LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp@36
> LINK : error LNK2001: unresolved external symbol _OGRRegisterAll
> LINK : error LNK2001: unresolved external symbol _OGR_G_GetPointCount
> LINK : error LNK2001: unresolved external symbol _OPTGetProjectionMethods
> LINK : error LNK2001: unresolved external symbol _OSRValidate
> LINK : error LNK2001: unresolved external symbol _OGRFeatureStylePuller
> gdal13.dll : fatal error LNK1120: 11 unresolved externals
> NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
> Studio 8\VC\BIN\x86_amd64\link.EXE"' : return code '0x460'
> Stop.
>
> So, the linker is not finding the additional symbols that are added to 
> the link line via /INCLUDE flags. Perhaps these symbols have different 
> names on x64? Why are these extra symbols addded? How would I find out 
> what their equivalents are for x64? Is there some equivalent for "nm" 
> to dump library symbols on windows?
>
> Has nobody out there tried a 64-bit windows compile yet? Surely I'm 
> not the first! :)
>
> Cheers,
>
> Sy
>
>
> Simon Perkins wrote:
>> Hi,
>>
>> Has anyone successfully compiled GDAL on 64-bit windows (in 64-bit 
>> mode). I'm using Visual Studio 2005, with the command line tools 
>> enabled using the "x86_amd64" option, which uses the 32-bit compiler 
>> to create 64-bit executables and libraries. With GDAL 1.3.2:
>>
>> > nmake /f makefile.vc
>>
>> ...
>>
>> C:\cygwin\home\154712\src\gdal-1.3.2\frmts>cd pcraster   && nmake 
>> /NOLOGO /f mak
>> efile.vc   && cd ..
>>        cl /nologo /MD /EHsc /Ox -I..\..\port -I..\..\ogr 
>> -I..\..\gcore  -I..\..
>> \alg -Ilibcsf /c pcrasterdataset.cpp
>> pcrasterdataset.cpp
>> c:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster\libcsf\csftypes.h(383) 
>> : fat
>> al error C1189: #error :  BYTE ORDER NOT SPECIFIED (CPU_LITTLE_ENDIAN 
>> or CPU_BIG
>> _ENDIAN)
>> NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
>> Studio 8\VC
>> \BIN\x86_amd64\cl.EXE"' : return code '0x2'
>> Stop.
>>
>> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd leveller   && 
>> nmake /NOLO
>> GO /f makefile.vc   && cd ..
>> The system cannot find the path specified.
>>
>> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd sgi   && nmake 
>> /NOLOGO /f
>> makefile.vc   && cd ..
>> The system cannot find the path specified.
>>
>> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd idrisi   && 
>> nmake /NOLOGO
>> /f makefile.vc   && cd ..
>> The system cannot find the path specified.
>>
>> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd jpeg   && 
>> nmake /NOLOGO /
>> f makefile.vc   && cd ..
>> The system cannot find the path specified.
>>
>> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd bsb   && nmake 
>> /NOLOGO /f
>> makefile.vc   && cd ..
>> The system cannot find the path specified.
>>
>> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd zlib   && 
>> nmake /NOLOGO /
>> f makefile.vc   && cd ..
>> The system cannot find the path specified.
>> NMAKE : fatal error U1077: 'for' : return code '0x1'
>> Stop.
>> NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
>> Studio 8\VC
>> \BIN\nmake.EXE"' : return code '0x2'
>> Stop.
>>
>>
>>
>> Any ideas?
>>
>> Cheers,
>>
>> Sy
>>
>>
>

From Peter.Rushforth at statcan.ca  Tue May 16 14:17:49 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] file size balloons when converting gml to tab,
	shp with ogr2ogr
Message-ID: <AB38021D12570A4AB907F442AE548807011A7EFA@stcem04.statcan.ca>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Type: text/x-vcard
Size: 517 bytes
Desc: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060516/393c99e2/PeterRushforthPeter.Rushforthstatcan.ca.vcf
From sy at perkins.net  Tue May 16 15:09:05 2006
From: sy at perkins.net (Simon Perkins)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: GDAL on 64-bit Windows?
In-Reply-To: <4469FFB5.9080808@perkins.net>
References: <44690B02.2010109@perkins.net> <4469FB2A.9050904@perkins.net>
	<4469FFB5.9080808@perkins.net>
Message-ID: <1147806545.31556.261583186@webmail.messagingengine.com>

OK, fixed all my problems and now have GDAL running on 64-bit windows...
The main issues were:

- Define USE_IN_GDAL in frmts/pcraster/makefile.vc

- Change all the linker INCLUDEs to use undecorated symbol names, i.e.
remove the leading underscore and (in the case of stdcall functions) the
trailing "@nn". I guess 64-bit windows decorates C symbols differently,
though I haven't been able to find this described directly anywhere...

Frank: any thoughts on how you want 64-bit windows handled in nmake.opt?
Let me know and I'll check in my changes.

BTW, this was a fairly basic GDAL build sufficient for my needs - no
optional external libraries and no python bindings - so there are
probably other 64-bit problems lurking...

Cheers,

Sy


On Tue, 16 May 2006 10:37:09 -0600, "Simon Perkins" <sy@perkins.net>
said:
> OK, found the dumpbin utility which seems to be "nm" for windows... Now 
> slowly going through the process of trying to track down these symbols 
> and working out what they might be called on x64. _OGRRegisterAll seems 
> to be simply OGRRegisterAll, for instance (no leading underscore). 
> Anyone know what the significance of that is?
> 
> Cheers,
> 
> Sy
> 
> 
> Simon Perkins wrote:
> > I now get all the formats built, but then fail at the final link of 
> > the GDAL library with some missing symbols:
> >
> > > nmake /f makefile.vc
> > ...
> >        link /dll /debug /INCLUDE:_OGRFeatureStylePuller  
> > /INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods  
> > /INCLUDE:_OGR_G_GetPointCount  /INCLUDE:_OGRRegisterAll 
> > /INCLUDE:_GDALSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48  
> > /INCLUDE:_GDALComputeMedianCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28  
> > /INCLUDE:_vbSafeArrayToPtr@16  
> > /INCLUDE:_OCTNewCoordinateTransformation@8 port\*.obj gcore\*.obj 
> > alg\*.obj frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib 
> > vb6\vb6_support.obj      odbc32.lib                         
> > gcore\Version.res  /out:gdal13.dll /implib:gdal_i.lib
> > Microsoft (R) Incremental Linker Version 8.00.50727.42
> > Copyright (C) Microsoft Corporation.  All rights reserved.
> >
> >   Creating library gdal_i.lib and object gdal_i.exp
> > LINK : error LNK2001: unresolved external symbol 
> > _OCTNewCoordinateTransformation@8
> > LINK : error LNK2001: unresolved external symbol _vbSafeArrayToPtr@16
> > LINK : error LNK2001: unresolved external symbol _GDALDitherRGB2PCT@28
> > LINK : error LNK2001: unresolved external symbol 
> > _GDALComputeMedianCutPCT@32
> > LINK : error LNK2001: unresolved external symbol _GDALReprojectImage@48
> > LINK : error LNK2001: unresolved external symbol _GDALSimpleImageWarp@36
> > LINK : error LNK2001: unresolved external symbol _OGRRegisterAll
> > LINK : error LNK2001: unresolved external symbol _OGR_G_GetPointCount
> > LINK : error LNK2001: unresolved external symbol _OPTGetProjectionMethods
> > LINK : error LNK2001: unresolved external symbol _OSRValidate
> > LINK : error LNK2001: unresolved external symbol _OGRFeatureStylePuller
> > gdal13.dll : fatal error LNK1120: 11 unresolved externals
> > NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
> > Studio 8\VC\BIN\x86_amd64\link.EXE"' : return code '0x460'
> > Stop.
> >
> > So, the linker is not finding the additional symbols that are added to 
> > the link line via /INCLUDE flags. Perhaps these symbols have different 
> > names on x64? Why are these extra symbols addded? How would I find out 
> > what their equivalents are for x64? Is there some equivalent for "nm" 
> > to dump library symbols on windows?
> >
> > Has nobody out there tried a 64-bit windows compile yet? Surely I'm 
> > not the first! :)
> >
> > Cheers,
> >
> > Sy
> >
> >
> > Simon Perkins wrote:
> >> Hi,
> >>
> >> Has anyone successfully compiled GDAL on 64-bit windows (in 64-bit 
> >> mode). I'm using Visual Studio 2005, with the command line tools 
> >> enabled using the "x86_amd64" option, which uses the 32-bit compiler 
> >> to create 64-bit executables and libraries. With GDAL 1.3.2:
> >>
> >> > nmake /f makefile.vc
> >>
> >> ...
> >>
> >> C:\cygwin\home\154712\src\gdal-1.3.2\frmts>cd pcraster   && nmake 
> >> /NOLOGO /f mak
> >> efile.vc   && cd ..
> >>        cl /nologo /MD /EHsc /Ox -I..\..\port -I..\..\ogr 
> >> -I..\..\gcore  -I..\..
> >> \alg -Ilibcsf /c pcrasterdataset.cpp
> >> pcrasterdataset.cpp
> >> c:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster\libcsf\csftypes.h(383) 
> >> : fat
> >> al error C1189: #error :  BYTE ORDER NOT SPECIFIED (CPU_LITTLE_ENDIAN 
> >> or CPU_BIG
> >> _ENDIAN)
> >> NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
> >> Studio 8\VC
> >> \BIN\x86_amd64\cl.EXE"' : return code '0x2'
> >> Stop.
> >>
> >> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd leveller   && 
> >> nmake /NOLO
> >> GO /f makefile.vc   && cd ..
> >> The system cannot find the path specified.
> >>
> >> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd sgi   && nmake 
> >> /NOLOGO /f
> >> makefile.vc   && cd ..
> >> The system cannot find the path specified.
> >>
> >> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd idrisi   && 
> >> nmake /NOLOGO
> >> /f makefile.vc   && cd ..
> >> The system cannot find the path specified.
> >>
> >> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd jpeg   && 
> >> nmake /NOLOGO /
> >> f makefile.vc   && cd ..
> >> The system cannot find the path specified.
> >>
> >> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd bsb   && nmake 
> >> /NOLOGO /f
> >> makefile.vc   && cd ..
> >> The system cannot find the path specified.
> >>
> >> C:\cygwin\home\154712\src\gdal-1.3.2\frmts\pcraster>cd zlib   && 
> >> nmake /NOLOGO /
> >> f makefile.vc   && cd ..
> >> The system cannot find the path specified.
> >> NMAKE : fatal error U1077: 'for' : return code '0x1'
> >> Stop.
> >> NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual 
> >> Studio 8\VC
> >> \BIN\nmake.EXE"' : return code '0x2'
> >> Stop.
> >>
> >>
> >>
> >> Any ideas?
> >>
> >> Cheers,
> >>
> >> Sy
> >>
> >>
> >

From mateusz at loskot.net  Tue May 16 15:40:41 2006
From: mateusz at loskot.net (=?ISO-8859-2?Q?Mateusz_=A3oskot?=)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] just trying to install/import
In-Reply-To: <f6602d370605161224m242f540fm2f02702ed90f2e49@mail.gmail.com>
References: <f6602d370605151635x3e78bb3asccc1eeddffc83e09@mail.gmail.com>	
	<44696284.60909@loskot.net>
	<f6602d370605161224m242f540fm2f02702ed90f2e49@mail.gmail.com>
Message-ID: <446A2AB9.6040404@loskot.net>

Jeremy Freund wrote:
> hello Mateuz,
> 
> thank you so much for your reply! I know it was a bit general...I'll try
> to be more specific. Basically, I am trying to install the Gdal wrapper
> for PythonWin 2.4. I downloaded what I assume is the source files for
> windows (gdal132.zip), unzipped the files to a folder called 'gdal132'
> and placed this folder under the /Lib/site-packages directory. 

It won't work!
Thiz zip package is a source distribution, so you have to compile it to
have all binaries ready to use.
If you don't want to compile GDAL yourself, then you need to use FWTools
as I explained in my previous post.

> I then
> modified the Python path using
> sys.path.append('C:\Python24\Lib\site-packages\gdal\pymod') to try to
> force python to see 'gdal.py'  in the module path. When I attempt an
> 'import gdal', I get the following error:
> 
>>>> import gdal
> Traceback (most recent call last):
>   File "<interactive input>", line 1, in ?
>   File "gdal.py", line 191, in ?
>     import _gdal
> ImportError: DLL load failed: The specified module could not be found.
> 
> I assume that '_gdal' is a dll, 

It's a module loaded by Python, but the ZIP you downlaoded does not
include it in binary form. FWTools are recommended, out-of-box GDAL version.

> and I also assume that your comment
> about the dll needing to be in the execution path is probably pertinent
> here. I suppose, with that said...what exactly is the execution path,
> how does it differ from the module path and most importantly how do I
> place dlls in it? Your help is greatly appreciated.

I meant the PATH environment variable.

> Incidentally, I did end up installing fwtools. However, I have a need to
> get gdal running the way I described...

So, you need to build it yourself.
After you unzipped the gdal132.zip you have to build it.
The python module (traditional pymod) is in gdal-1.3.2/pymod
so step inside - after you build the main DLL - and run:

nmake /f makefile.vc

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From sy at perkins.net  Tue May 16 18:32:53 2006
From: sy at perkins.net (Simon Perkins)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] NITF and RPCs
Message-ID: <1147818773.27818.261598834@webmail.messagingengine.com>

Hi,

I have a Quickbird NITF file which I'm having georeferencing problems
with under GDAL. The Geotransform numbers that I get back from GDAL seem
very wrong. However, other applications such as ENVI (with the NITF
module) are able to read the geocoordinates just fine. On closer
investigation it seems that the file contains RPC values, and I wonder
if ENVI is using these coefficients in preference to the geotransform
data. Is this what should happen?

I found an e-mail from Frank from 2003, which talks about recently added
support for RCP in NITF. However, all I can find is the
GDALExtractRPCInfo() method which extracts the raw RPC numbers. Are
there any GDAL methods for converting row/column coords to geocoords
using this RPC data? How does one do this?

Any idea why GDALGetGeotransform() is returning such strange numbers?
For various reasons it's a little tricky for me to obtain the ouput of,
say, gdalinfo applied to the file, but I could try to do this if it
would be helpful.

Cheers,

Sy

From werchowyna at epf.pl  Wed May 17 06:22:19 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] LZW status
Message-ID: <20060517122219.04972635.werchowyna@epf.pl>

Hi!

http://www.gdal.org/frmt_gtiff.html says:

"...LZW is normally unavailable. ..."

Is this still actuall?

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From ellen.debeuckeleer at incgeo.be  Wed May 17 09:03:54 2006
From: ellen.debeuckeleer at incgeo.be (EllenD)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] unable to load proj.4
Message-ID: <4430005.post@talk.nabble.com>


Hi,

I am converting my Visual Studio 2003 projects to Visual Studio 2005 and
thus I need to rebuild the GDAL library (1.3.1) using VS2005. Building was
successfull for the VS2003 build and everything worked fine. Now, I
succesfully build GDAL (1.3.1) with VS2005, but I get the following error
when executing an executable project build under VS2005 and linking against
the VS2005 gdal_i.lib.(The same executable worked fine when build with
VS2003) :

Error 6: Unable to load proj.4 (proj.dll), creation of
OGRCoordinateTransformation failed.

Any ideas what might go wrong? (I could only find some related links which
where posted in 2001 (eg  here  ), but they didn't solve the problem...)

Thanks!

Ellen



--
View this message in context: http://www.nabble.com/unable-to-load-proj.4-t1635846.html#a4430005
Sent from the GDAL - Dev forum at Nabble.com.


From Peter.Rushforth at statcan.ca  Wed May 17 10:05:36 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] file size balloons when converting gml to tab,
	shp with ogr2ogr
Message-ID: <AB38021D12570A4AB907F442AE548807011A7F00@stcem04.statcan.ca>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Type: text/x-vcard
Size: 517 bytes
Desc: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060517/a7b35ce0/PeterRushforthPeter.Rushforthstatcan.ca.vcf
From landa.martin at gmail.com  Wed May 17 11:47:46 2006
From: landa.martin at gmail.com (Martin Landa)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] cit format
Message-ID: <f8fe65c40605170847j1c9a187s@mail.gmail.com>

Hi all,

is there a way how to read Intergraph CIT format in GDAL or in another
FS/OSS tool? As I know this format is documented (maybe not so
well)...

Thanks.

Best regards, Martin


From bfraser at geoanalytic.com  Wed May 17 14:21:31 2006
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] 16-bit PCIDSK files of elevation data
Message-ID: <058e01c679de$b8c2e9c0$160002c0@shark>

Frank,

  I'm trying to create a PCIDSK file of elevations from a .tif file using
gdal_translate v1.3.2:

gdal_translate -ot UInt16 -of PCIDSK -a_srs EPSG:32638 gm.tif gm_UInt16.pix

Driver: GTiff/GeoTIFF
Size is 4951, 4882
Coordinate System is:
PROJCS["WGS 84 / UTM zone 38N",
    :
Origin = (561337.940487,3487769.687946)
Pixel Size = (90.00000000,-90.00000000)
Metadata:
  AREA_OR_POINT=Point
    :
Band 1 Block=4951x1 Type=UInt16, ColorInterp=Gray


The resulting pix file is:

Driver: PCIDSK/PCIDSK Database File
Size is 4951, 4882
Coordinate System is:
PROJCS["UTM Zone 38, Northern Hemisphere",
    :
Origin = (561337.940487,3487769.687946)
Pixel Size = (90.00000000,-90.00000000)
Metadata:
  SOFTWARE=GDAL1320
  FILE_ID=gm_UInt16.pix
  GENERATING_FACILITY=Created with GDAL
  DESCRIPTION1=
  DESCRIPTION2=
  DATE_OF_CREATION=11_47 17-May-06
  DATE_OF_UPDATE=11_47 17-May-06
Corner Coordinates:
    :
Band 1 Block=4951x1 Type=UInt16, ColorInterp=Undefined
  Description = Image band 1


When I use PCI's Freeview v10.0 is displays the image in "checkerboard"
pattern, usually indicating a confusion about the pixel bit depth.   And a
right click on the layer in Freeview shows "1 [8U] Image Band 1", confirming
that it wrongly thinks the data is unsigned 8-bits per pixel.

Is there some other setting or procedure with GDAL I can use to get 16-bit
PCIDSK files?
(FYI, I tried adding -co "BANDDESC1=Height", but no improvement in the
result).

Thanks!
Brent Fraser
GeoAnalytic Inc.
Calgary, Alberta


From rayg at daylongraphics.com  Wed May 17 23:41:38 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Raster data test suite
In-Reply-To: <058e01c679de$b8c2e9c0$160002c0@shark>
References: <058e01c679de$b8c2e9c0$160002c0@shark>
Message-ID: <446BECF2.7020805@daylongraphics.com>

Is there a set of raster files that can be used to test each of the GDAL 
raster drivers? How does one confirm the drivers in an automated fashion?

Ray


From ellen.debeuckeleer at incgeo.be  Thu May 18 05:07:22 2006
From: ellen.debeuckeleer at incgeo.be (EllenD)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] unable to load proj.4
In-Reply-To: <4430005.post@talk.nabble.com>
References: <4430005.post@talk.nabble.com>
Message-ID: <4446821.post@talk.nabble.com>


Hi,

I retrieved a proj.dll from http://proj.maptools.org/ and the errors are
gone. I am a bit worried though, because I get the following georeference
information:

PROJCS["unnamed",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-117],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AUTHORITY["EPSG","32611"]]

and this is what I expected:

"PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS
84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
84\",6378137,298.2572235629972,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AUTHORITY[\"EPSG\",\"32611\"]]"

Might this be an inconsistency between the proj.dll and the GDAL version I
am using? And if so, where can I download the corresponding proj.dll? I am
using GDAL 1.3.1

Thanks,

Ellen
--
View this message in context: http://www.nabble.com/unable-to-load-proj.4-t1635846.html#a4446821
Sent from the GDAL - Dev forum at Nabble.com.


From peter.rushforth at gmail.com  Thu May 18 06:46:08 2006
From: peter.rushforth at gmail.com (Peter Rushforth)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] ogr gml driver
Message-ID: <1fd798f40605180346q66f345d5m16d06111a7f21ed9@mail.gmail.com>

Good day,

I've found that the using the gml driver to generate
mapinfo tab and esri shp files generates large .dat and .dbf
files respectively, because string fields are created with
254 characters.

Is there any way to specify the length of the character
fields prior to creation using an option or something?

Cheers,

Peter


From C.Wilmes at gmx.de  Thu May 18 08:19:05 2006
From: C.Wilmes at gmx.de (Christian Wilmes)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] ogrinfo: Unable to initialize ODBC connection
Message-ID: <20060518121404.326560@gmx.net>

Hi All,

I try to connect to a PostgreSQL-Database over ODBC. When typing the command ogrinfo ODBC.ovf I get the following errors:
ERROR 4: Update access not supported for VRT datasources.
ERROR 1: Unable to initialize ODBC connection to DSN for user/pass@Postgre,
Specified driver could not be laodet due to system error 182 (PostgreSQL+).

Here is the corosponding ogr-file:
<OGRVRTDataSource>
    <OGRVRTLayer name="featuref">
        <SrcDataSource>ODBC:cwilmes/cwilmes@Postgre</SrcDataSource> 
 	<SrcLayer>featurePK2</SrcLayer> 
	<GeometryType>wkbPoint</GeometryType> 
        <LayerSRS>WGS84</LayerSRS>
	<GeometryField encoding="PointFromColumns" x="lat" y="lon"/> 
    </OGRVRTLayer>
</OGRVRTDataSource>



I would be very thankfull for any hint how to make it better.

Please excuse my bad english!

Best Regards
Christian
-- 


Bis zu 70% Ihrer Onlinekosten sparen: GMX SmartSurfer!
      Kostenlos downloaden: http://www.gmx.net/de/go/smartsurfer
    

-- 


Bis zu 70% Ihrer Onlinekosten sparen: GMX SmartSurfer!
      Kostenlos downloaden: http://www.gmx.net/de/go/smartsurfer
    

From mateusz at loskot.net  Thu May 18 08:38:33 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Raster data test suite
In-Reply-To: <446BECF2.7020805@daylongraphics.com>
References: <058e01c679de$b8c2e9c0$160002c0@shark>
	<446BECF2.7020805@daylongraphics.com>
Message-ID: <446C6AC9.10101@loskot.net>

Ray Gardener wrote:
> Is there a set of raster files that can be used to test each of the GDAL
> raster drivers? How does one confirm the drivers in an automated fashion?

Have you tried this:
http://www.gdal.org/dl/data/

What do you mean as automated fashion?

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From stuarteve at lparchaeology.com  Thu May 18 08:40:26 2006
From: stuarteve at lparchaeology.com (Stuart Eve)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GDAL v1.3.2 on linux - no PGEO driver
Message-ID: <446C6B3A.8020604@lparchaeology.com>

Apologies for cross-posting!

Dear all

I am currently working through a method of accessing personal 
geodatabases from a linux platform. I have now upgraded my gdal to 
1.3.2, but the PGeo driver doesn't seem to be available anymore. It was 
available to me on 1.3.1 - are there any special flags I need to use 
when compiling? And if not is there a way to rollback to 1.3.1 (I know 
there is no 'make uninstall' (bug 133)).

thanks in advance

Stu

-- 
Stuart Eve
L - P : Archaeology
stuarteve@lparchaeology.com 


From warmerdam at pobox.com  Thu May 18 10:26:20 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: GDAL on 64-bit Windows?
In-Reply-To: <1147806545.31556.261583186@webmail.messagingengine.com>
References: <44690B02.2010109@perkins.net>
	<4469FB2A.9050904@perkins.net>	<4469FFB5.9080808@perkins.net>
	<1147806545.31556.261583186@webmail.messagingengine.com>
Message-ID: <446C840C.3050502@pobox.com>

Simon Perkins wrote:
> OK, fixed all my problems and now have GDAL running on 64-bit windows...
> The main issues were:
> 
> - Define USE_IN_GDAL in frmts/pcraster/makefile.vc
> 
> - Change all the linker INCLUDEs to use undecorated symbol names, i.e.
> remove the leading underscore and (in the case of stdcall functions) the
> trailing "@nn". I guess 64-bit windows decorates C symbols differently,
> though I haven't been able to find this described directly anywhere...
> 
> Frank: any thoughts on how you want 64-bit windows handled in nmake.opt?
> Let me know and I'll check in my changes.

Sy,

I'm a bit uncertain.  I wonder if it would have worked without the above
changes if STDCALL=YES was commented out in nmake.opt.  I am hesitant to
add dramatic complications without understanding the issues better.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 18 10:30:16 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] file size balloons when converting gml to tab,	shp
	with ogr2ogr
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7EFA@stcem04.statcan.ca>
References: <AB38021D12570A4AB907F442AE548807011A7EFA@stcem04.statcan.ca>
Message-ID: <446C84F8.7010802@pobox.com>

Peter.Rushforth@statcan.ca wrote:
> Hi,
> 
> I've been experimenting with converting GML documents to mapinfo tab and 
> esri shp
> formats.  I have the same files previously created with commercial 
> software with
> exactly the same record layouts.  The files I've created with ogr2ogr 
> seem to be up
> to 5 to 10 times larger than the same file (and format) created with the 
> commercial software.
> 
> When you view the files, they appear identical, line for line, attribute 
> for attribute.
> 
> Is there somebody who could point me in the right direction to determine 
> why?

Peter,

Generally speaking string fields without a defined size will end up being
very wide when translated to shapefiles since it is necessary for me to
pick a string width when creating the shapefile, but without prescanning all
the actual values that will be written.  This may also be an issue with tab
format, I'm not sure.  I don't *think* it is an issue with .mid/.mif.

So, is it primarily the .dbf file that is big for shapefiles?  The .shp
should generally be slightly more compact than the corresponding GML
geometry format.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 18 10:44:44 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: GDAL on 64-bit Windows?
In-Reply-To: <4469FB2A.9050904@perkins.net>
References: <44690B02.2010109@perkins.net> <4469FB2A.9050904@perkins.net>
Message-ID: <446C885C.6070401@pobox.com>

Simon Perkins wrote:
> OK, fixed the first problem. The file frmts/pcraster/makefile.vc should 
> have the line:
> 
> EXTRAFLAGS =     -Ilibcsf -DUSE_IN_GDAL
> 
> Rather than:
> 
> EXTRAFLAGS =     -Ilibcsf
> 
> Without this definition the csftypes.h file doesn't define 
> CPU_LITTLE_ENDIAN as it is supposed to. A fallback catches things on 
> win32 but not on win64...
> 
> I'll check in an update later today.

Sy,

Did you commit this?  I don't see it in CVS yet.  Please do commit it.

Thanks,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Peter.Rushforth at statcan.ca  Thu May 18 11:05:04 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] file size balloons when converting gml to tab,
	shp with ogr2ogr
Message-ID: <AB38021D12570A4AB907F442AE548807011A7F11@stcem04.statcan.ca>

Hi Frank,

It is just the .dbf and the .dat files for mapinfo which grow too big.
I checked the mid/mif and found that you could edit the string field
definition and generate the tab file which then turned out to be about
the right size.

I was searching for a way to tell the gml driver how big the string
fields were in order that that info get passed on to the tab and shp
drivers.  I tried editing the gfs file and adding a Width element, but
it seemed to be ignored.  Would an xml schema work, I wonder?

Cheers

Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6


> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf 
> Of Frank Warmerdam
> Sent: May 18, 2006 10:30 AM
> To: Peter.Rushforth@statcan.ca
> Cc: gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] file size balloons when converting 
> gml to tab, shp with ogr2ogr
> 
> 
> Peter.Rushforth@statcan.ca wrote:
> > Hi,
> > 
> > I've been experimenting with converting GML documents to 
> mapinfo tab 
> > and
> > esri shp
> > formats.  I have the same files previously created with commercial 
> > software with
> > exactly the same record layouts.  The files I've created 
> with ogr2ogr 
> > seem to be up
> > to 5 to 10 times larger than the same file (and format) 
> created with the 
> > commercial software.
> > 
> > When you view the files, they appear identical, line for line, 
> > attribute
> > for attribute.
> > 
> > Is there somebody who could point me in the right direction to 
> > determine
> > why?
> 
> Peter,
> 
> Generally speaking string fields without a defined size will 
> end up being very wide when translated to shapefiles since it 
> is necessary for me to pick a string width when creating the 
> shapefile, but without prescanning all the actual values that 
> will be written.  This may also be an issue with tab format, 
> I'm not sure.  I don't *think* it is an issue with .mid/.mif.
> 
> So, is it primarily the .dbf file that is big for shapefiles? 
>  The .shp should generally be slightly more compact than the 
> corresponding GML geometry format.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, 
> http://osgeo.org
> 
> 


From ellen.debeuckeleer at incgeo.be  Thu May 18 11:22:26 2006
From: ellen.debeuckeleer at incgeo.be (Ellen De Beuckeleer)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] unable to load proj.4
In-Reply-To: <1147944913.5105.8.camel@geru-itae>
References: <4430005.post@talk.nabble.com> <4446821.post@talk.nabble.com>
	<1147944913.5105.8.camel@geru-itae>
Message-ID: <446C9132.603@incgeo.be>

Hi Didrik,

I tried your suggestion and indead, I do not need the proj.dll anymore!

Unfortunatelly, I still have the difference in projection information as 
described below.

Some additional information on the problem: The expected value below is 
the one we used in our test on Linux, using Proj v. 4.4.8. Now after 
converting our project to Windows, using Proj v 4.4.9, our test fail. 
Could this minor version change make the difference?

Merci et bonne soiree,

Ellen



Didrik Pinte wrote:
> Le jeudi 18 mai 2006 ? 02:07 -0700, EllenD a ?crit :
> 
>>Hi,
>>
>>I retrieved a proj.dll from http://proj.maptools.org/ and the errors are
>>gone. I am a bit worried though, because I get the following georeference
>>information:
>>
>>PROJCS["unnamed",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
>>84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-117],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AUTHORITY["EPSG","32611"]]
>>
>>and this is what I expected:
>>
>>"PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS
>>84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
>>84\",6378137,298.2572235629972,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AUTHORITY[\"EPSG\",\"32611\"]]"
>>
>>Might this be an inconsistency between the proj.dll and the GDAL version I
>>am using? And if so, where can I download the corresponding proj.dll? I am
>>using GDAL 1.3.1
>>
>>Thanks,
>>
>>Ellen
> 
> 
> Hi Ellen,
> 
> I don't have the answer but some suggestions.
> 
> To be sure of that, you can easily compile proj from the source. 
> The makefile.vc also propose to statically link proj to gdal (line 160
> in nmake.opt - gdal 1.3.2). That could be an easy test.
> 
> Didrik

-- 

------------------------------------------------------
IncGEO
Kempische steenweg 297 bus 2
3500 Hasselt
tel: +32 (0)11 45 20 16
fax: +32 (0)11 45 20 17
www.incgeo.be
------------------------------------------------------


From sy at perkins.net  Thu May 18 11:43:54 2006
From: sy at perkins.net (Simon Perkins)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: GDAL on 64-bit Windows?
In-Reply-To: <446C840C.3050502@pobox.com>
References: <44690B02.2010109@perkins.net> <4469FB2A.9050904@perkins.net>
	<4469FFB5.9080808@perkins.net>
	<1147806545.31556.261583186@webmail.messagingengine.com>
	<446C840C.3050502@pobox.com>
Message-ID: <1147967034.16529.261759272@webmail.messagingengine.com>

On Thu, 18 May 2006 10:26:20 -0400, "Frank Warmerdam"
<warmerdam@pobox.com> said:
> Simon Perkins wrote:
> > OK, fixed all my problems and now have GDAL running on 64-bit windows...
> > The main issues were:
> > 
> > - Define USE_IN_GDAL in frmts/pcraster/makefile.vc

Sorry haven't checked this in yet - I'll get on it...


> > - Change all the linker INCLUDEs to use undecorated symbol names, i.e.
> > remove the leading underscore and (in the case of stdcall functions) the
> > trailing "@nn". I guess 64-bit windows decorates C symbols differently,
> > though I haven't been able to find this described directly anywhere...
> > 
> > Frank: any thoughts on how you want 64-bit windows handled in nmake.opt?
> > Let me know and I'll check in my changes.
> 
> Sy,
> 
> I'm a bit uncertain.  I wonder if it would have worked without the above
> changes if STDCALL=YES was commented out in nmake.opt.  I am hesitant to
> add dramatic complications without understanding the issues better.

I don't think commenting out STDCALL=YES would work either: 32-bit cdecl
function names are still decorated with a leading underscore, which
isn't present on 64-bit windows. 32-bit stdcall function names are
decorated with both a leading underscore and a trailing "@nn" which
describes the size of the argument list in bytes. In the x64 calling
model, the function name and the symbol name are identical, with no
decoration. Just FYI, my understanding is that there's only one calling
convention in x64 and it's not stdcall or cdecl, instead, a variant of
"fastcall" is used, in which the first few arguments for a function are
passed in registers rather than on the stack.

I don't think the changes are that complicated: only one file, the top
level makefile.vc needs to be modified, and the only thing that needs
changing is the exact names of the various additional symbols that are
passed to the linker. So, we could just define a variable in nmake.opt,
e.g WIN64=YES that by default is commented out, and then modify the
INCLUDE additions using this variable - perhaps by just appropriately
defining a variable like SYM_PREFIX that is prepended onto each of the
symbol names. WIN64 would also imply STDCALL=NO.

Let me know what you think and I'll make these changes.

Cheers,

Sy

From ealpert at digitalglobe.com  Thu May 18 13:07:16 2006
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] file size balloons when converting gml to tab,
	shp with ogr2ogr
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB2336C8720@COMAIL01.digitalglobe.com>


Another option is to use one of the language bindings to do the
coversion. This way you could set the string widths when you define the
output file. It's about 40 lines of code in perl.

-e

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of
Peter.Rushforth@statcan.ca
Sent: Thursday, May 18, 2006 9:05 AM
To: warmerdam@pobox.com
Cc: gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] file size balloons when converting gml to
tab,shp with ogr2ogr

Hi Frank,

It is just the .dbf and the .dat files for mapinfo which grow too big.
I checked the mid/mif and found that you could edit the string field
definition and generate the tab file which then turned out to be about
the right size.

I was searching for a way to tell the gml driver how big the string
fields were in order that that info get passed on to the tab and shp
drivers.  I tried editing the gfs file and adding a Width element, but
it seemed to be ignored.  Would an xml schema work, I wonder?

Cheers

Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6


> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf 
> Of Frank Warmerdam
> Sent: May 18, 2006 10:30 AM
> To: Peter.Rushforth@statcan.ca
> Cc: gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] file size balloons when converting 
> gml to tab, shp with ogr2ogr
> 
> 
> Peter.Rushforth@statcan.ca wrote:
> > Hi,
> > 
> > I've been experimenting with converting GML documents to 
> mapinfo tab 
> > and
> > esri shp
> > formats.  I have the same files previously created with commercial 
> > software with
> > exactly the same record layouts.  The files I've created 
> with ogr2ogr 
> > seem to be up
> > to 5 to 10 times larger than the same file (and format) 
> created with the 
> > commercial software.
> > 
> > When you view the files, they appear identical, line for line, 
> > attribute
> > for attribute.
> > 
> > Is there somebody who could point me in the right direction to 
> > determine
> > why?
> 
> Peter,
> 
> Generally speaking string fields without a defined size will 
> end up being very wide when translated to shapefiles since it 
> is necessary for me to pick a string width when creating the 
> shapefile, but without prescanning all the actual values that 
> will be written.  This may also be an issue with tab format, 
> I'm not sure.  I don't *think* it is an issue with .mid/.mif.
> 
> So, is it primarily the .dbf file that is big for shapefiles? 
>  The .shp should generally be slightly more compact than the 
> corresponding GML geometry format.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, 
> http://osgeo.org
> 
> 

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From Peter.Rushforth at statcan.ca  Thu May 18 13:30:40 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] file size balloons when converting gml to tab,
	shp with ogr2ogr
Message-ID: <AB38021D12570A4AB907F442AE548807011A7F18@stcem04.statcan.ca>

Hi Ethan,

Thanks...  I don't know perl unfortunately but you are right
there must be more than one way to skin this cat.  I will have
to look into that language binding stuff... it is one area
I have overlooked until now.

I would think that one could modify the gml driver source to read
a field definition from the gfs file or xsd file if available also.
Of course, that would mean one would have to learn c++ ;)

Another option would be to generate a mid/mif pair, modify the 
string field width definitions as appropriate, and then generate
the shp and tab files from those.  That could be a little more like
hand editing though.

Cheers,

Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6


> -----Original Message-----
> From: Ethan Alpert [mailto:ealpert@digitalglobe.com] 
> Sent: May 18, 2006 1:07 PM
> To: Peter.Rushforth@statcan.ca; warmerdam@pobox.com
> Cc: gdal-dev@lists.maptools.org
> Subject: RE: [Gdal-dev] file size balloons when converting 
> gml to tab,shp with ogr2ogr
> 
> 
> 
> Another option is to use one of the language bindings to do 
> the coversion. This way you could set the string widths when 
> you define the output file. It's about 40 lines of code in perl.
> 
> -e
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
> Peter.Rushforth@statcan.ca
> Sent: Thursday, May 18, 2006 9:05 AM
> To: warmerdam@pobox.com
> Cc: gdal-dev@lists.maptools.org
> Subject: RE: [Gdal-dev] file size balloons when converting 
> gml to tab,shp with ogr2ogr
> 
> Hi Frank,
> 
> It is just the .dbf and the .dat files for mapinfo which grow 
> too big. I checked the mid/mif and found that you could edit 
> the string field definition and generate the tab file which 
> then turned out to be about the right size.
> 
> I was searching for a way to tell the gml driver how big the 
> string fields were in order that that info get passed on to 
> the tab and shp drivers.  I tried editing the gfs file and 
> adding a Width element, but it seemed to be ignored.  Would 
> an xml schema work, I wonder?
> 
> Cheers
> 
> Peter Rushforth
> Geography Division
> Statistics Canada
> Ottawa Ontario
> K1A 0T6
> 
> 
> > -----Original Message-----
> > From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf
> > Of Frank Warmerdam
> > Sent: May 18, 2006 10:30 AM
> > To: Peter.Rushforth@statcan.ca
> > Cc: gdal-dev@lists.maptools.org
> > Subject: Re: [Gdal-dev] file size balloons when converting 
> > gml to tab, shp with ogr2ogr
> > 
> > 
> > Peter.Rushforth@statcan.ca wrote:
> > > Hi,
> > > 
> > > I've been experimenting with converting GML documents to
> > mapinfo tab
> > > and
> > > esri shp
> > > formats.  I have the same files previously created with commercial
> > > software with
> > > exactly the same record layouts.  The files I've created 
> > with ogr2ogr
> > > seem to be up
> > > to 5 to 10 times larger than the same file (and format)
> > created with the
> > > commercial software.
> > > 
> > > When you view the files, they appear identical, line for line,
> > > attribute
> > > for attribute.
> > > 
> > > Is there somebody who could point me in the right direction to
> > > determine
> > > why?
> > 
> > Peter,
> > 
> > Generally speaking string fields without a defined size will
> > end up being very wide when translated to shapefiles since it 
> > is necessary for me to pick a string width when creating the 
> > shapefile, but without prescanning all the actual values that 
> > will be written.  This may also be an issue with tab format, 
> > I'm not sure.  I don't *think* it is an issue with .mid/.mif.
> > 
> > So, is it primarily the .dbf file that is big for shapefiles?
> >  The .shp should generally be slightly more compact than the 
> > corresponding GML geometry format.
> > 
> > Best regards,
> > 
> > --
> > ---------------------------------------+----------------------
> > ----------
> > ---------------------------------------+------
> > I set the clouds in motion - turn up   | Frank Warmerdam, 
> > warmerdam@pobox.com
> > light and sound - activate the windows | http://pobox.com/~warmerdam
> > and watch the world go round - Rush    | President OSGF, 
> > http://osgeo.org
> > 
> > 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


From warmerdam at pobox.com  Thu May 18 14:30:42 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] unable to load proj.4
In-Reply-To: <446C9132.603@incgeo.be>
References: <4430005.post@talk.nabble.com>
	<4446821.post@talk.nabble.com>	<1147944913.5105.8.camel@geru-itae>
	<446C9132.603@incgeo.be>
Message-ID: <446CBD52.5060103@pobox.com>

Ellen De Beuckeleer wrote:
> Hi Didrik,
> 
> I tried your suggestion and indead, I do not need the proj.dll anymore!
> 
> Unfortunatelly, I still have the difference in projection information as 
> described below.
> 
> Some additional information on the problem: The expected value below is 
> the one we used in our test on Linux, using Proj v. 4.4.8. Now after 
> converting our project to Windows, using Proj v 4.4.9, our test fail. 
> Could this minor version change make the difference?

Ellen,

My guess would be that on windows the EPSG support files are not being
found, so the full coordinate system information (stuff like coordinate
system full name) are not available.

Normally the EPSG support files are found from the gdal/data directory
based on the GDAL_DATA environment variable.  On unix/linux they are
installed in /usr/local/share/gdal and will be found by default.

Best regards,

> Didrik Pinte wrote:
>> Le jeudi 18 mai 2006 ? 02:07 -0700, EllenD a ?crit :
>>
>>> Hi,
>>>
>>> I retrieved a proj.dll from http://proj.maptools.org/ and the errors are
>>> gone. I am a bit worried though, because I get the following 
>>> georeference
>>> information:
>>>
>>> PROJCS["unnamed",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
>>> 84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-117],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AUTHORITY["EPSG","32611"]] 
>>>
>>>
>>> and this is what I expected:
>>>
>>> "PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS
>>> 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
>>> 84\",6378137,298.2572235629972,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AUTHORITY[\"EPSG\",\"32611\"]]" 

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 18 14:45:50 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Raster data test suite
In-Reply-To: <446C6AC9.10101@loskot.net>
References: <058e01c679de$b8c2e9c0$160002c0@shark>	<446BECF2.7020805@daylongraphics.com>
	<446C6AC9.10101@loskot.net>
Message-ID: <446CC0DE.2010100@pobox.com>

Mateusz Loskot wrote:
> Ray Gardener wrote:
>> Is there a set of raster files that can be used to test each of the GDAL
>> raster drivers? How does one confirm the drivers in an automated fashion?
> 
> Have you tried this:
> http://www.gdal.org/dl/data/
> 
> What do you mean as automated fashion?

Ray,

I would add there are sample datasets used in the GDAL automated test suite.
(gdalautotest in CVS).  But neither that set, nor the ones on dl/data are
comprehensive.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 18 14:50:09 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] ogrinfo: Unable to initialize ODBC connection
In-Reply-To: <20060518121404.326560@gmx.net>
References: <20060518121404.326560@gmx.net>
Message-ID: <446CC1E1.3090009@pobox.com>

Christian Wilmes wrote:
> Hi All,
> 
> I try to connect to a PostgreSQL-Database over ODBC. When typing the command ogrinfo ODBC.ovf I get the following errors:
> ERROR 4: Update access not supported for VRT datasources.

Christian,

The above can be disregarded.

> ERROR 1: Unable to initialize ODBC connection to DSN for user/pass@Postgre,
> Specified driver could not be laodet due to system error 182 (PostgreSQL+).

The second line of the above sounds like a message from the ODBC system, not
OGR and presumably represents some real problem initializing the postgres
ODBC driver.  I don't see any problem with the ovf file itself.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ILucena at clarku.edu  Thu May 18 15:05:05 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Python and GDAL drivers
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455015A289A@Iris.ad.clarku.edu>

Hi there,

Is there any reason for not getting the same list of drivers from the
python extension as from the API or gdalinfo?

>From Python I got 50 drivers:

> import gdal
> gdal.AllRegister()
> for i in range(1, gdal.GetDriverCount()):
... 	drv = gdal.GetDriver(i)
... 	drv.GetDescription()
'GTiff'
'NITF'
...

>From gdalInfo I got 53:

> gdalinfo --formats
VRT (rw+): Virtual Raster
GTiff (rw+): GeoTIFF
NITF (rw+): National Imagery Transmission Format
...

I also got the 53s when accessing GDAL through the API.

So "RST" for example, is not available through python:

> ds = gdal.Open('....rst')
> print ds
None
>

Do I need to re-run the swig wrappers? How?

Thanks in advance,

Ivan Lucena


From warmerdam at pobox.com  Thu May 18 15:47:44 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Python and GDAL drivers
In-Reply-To: <6FD7C9DB26540B42A1207C69BF92D455015A289A@Iris.ad.clarku.edu>
References: <6FD7C9DB26540B42A1207C69BF92D455015A289A@Iris.ad.clarku.edu>
Message-ID: <446CCF60.2040704@pobox.com>

Ivan Lucena wrote:
> Hi there,
> 
> Is there any reason for not getting the same list of drivers from the
> python extension as from the API or gdalinfo?
> 
>>From Python I got 50 drivers:
> 
>> import gdal
>> gdal.AllRegister()
>> for i in range(1, gdal.GetDriverCount()):
> ... 	drv = gdal.GetDriver(i)
> ... 	drv.GetDescription()
> 'GTiff'
> 'NITF'
> ...
> 
>>From gdalInfo I got 53:
> 
>> gdalinfo --formats
> VRT (rw+): Virtual Raster
> GTiff (rw+): GeoTIFF
> NITF (rw+): National Imagery Transmission Format
> ...
> 
> I also got the 53s when accessing GDAL through the API.
> 
> So "RST" for example, is not available through python:
> 
>> ds = gdal.Open('....rst')
>> print ds
> None
> 
> Do I need to re-run the swig wrappers? How?
> 
> Thanks in advance,

Ivan,

You should not need to rerun swig wrapping as far as I know.

I suspect there is an old GDAL library getting picked up by
the python bindings.  My understanding is that python uses
different shared library / dll search conventions than conventional
applications - at least in some cases.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ILucena at clarku.edu  Thu May 18 15:57:14 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] OGRClose()
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455015A28B7@Iris.ad.clarku.edu>

Hi There,

In the link bellow there is a very good piece of advice about closing a
GDAL DataSet. But there is nothing similar in the OGR API, so in order
to "close" a DataSource ogrinfo calls the same "delete" operator.
Doesn't it need to follow the same safety rules?

Anyway, as I am accessing the DLL from another programming environment
it will be better to have an OGRClose() to call. The memory managements
are incompatible and I can't call the correlated version of "delete".

Does it make any sense? I mean, did I express myself clear enough?

I can migrated my very small piece of code to C and forget about it, but
that problem looks kind of scary to me.

Ivan

Reference:

"Closing the Dataset

Please keep in mind that GDALRasterBand objects are owned by their
dataset, and they should never be destroyed with the C++ delete
operator. GDALDataset's can be closed either by calling GDALClose() or
using the delete operator on the GDALDataset. Either will result in
proper cleanup, and flushing of any pending writes."
 
[http://www.gdal.org/gdal_tutorial.html]


" 
/* --------------------------------------------------------------------
*/
/*      Close down.
*/
/* --------------------------------------------------------------------
*/
    CSLDestroy( papszArgv );
    CSLDestroy( papszLayers );
    delete poDS;"
                                             [ogrinfo.cpp from line
377:]



From warmerdam at pobox.com  Thu May 18 15:58:57 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: 16-bit PCIDSK files of elevation data
In-Reply-To: <058e01c679de$b8c2e9c0$160002c0@shark>
References: <058e01c679de$b8c2e9c0$160002c0@shark>
Message-ID: <446CD201.4040505@pobox.com>

Brent Fraser wrote:
> Frank,
> 
>   I'm trying to create a PCIDSK file of elevations from a .tif file using
> gdal_translate v1.3.2:
> 
> gdal_translate -ot UInt16 -of PCIDSK -a_srs EPSG:32638 gm.tif gm_UInt16.pix
> 
> Driver: GTiff/GeoTIFF
> Size is 4951, 4882
> Coordinate System is:
> PROJCS["WGS 84 / UTM zone 38N",
>     :
> Origin = (561337.940487,3487769.687946)
> Pixel Size = (90.00000000,-90.00000000)
> Metadata:
>   AREA_OR_POINT=Point
>     :
> Band 1 Block=4951x1 Type=UInt16, ColorInterp=Gray
> 
> 
> The resulting pix file is:
> 
> Driver: PCIDSK/PCIDSK Database File
> Size is 4951, 4882
> Coordinate System is:
> PROJCS["UTM Zone 38, Northern Hemisphere",
>     :
> Origin = (561337.940487,3487769.687946)
> Pixel Size = (90.00000000,-90.00000000)
> Metadata:
>   SOFTWARE=GDAL1320
>   FILE_ID=gm_UInt16.pix
>   GENERATING_FACILITY=Created with GDAL
>   DESCRIPTION1=
>   DESCRIPTION2=
>   DATE_OF_CREATION=11_47 17-May-06
>   DATE_OF_UPDATE=11_47 17-May-06
> Corner Coordinates:
>     :
> Band 1 Block=4951x1 Type=UInt16, ColorInterp=Undefined
>   Description = Image band 1
> 
> 
> When I use PCI's Freeview v10.0 is displays the image in "checkerboard"
> pattern, usually indicating a confusion about the pixel bit depth.   And a
> right click on the layer in Freeview shows "1 [8U] Image Band 1", confirming
> that it wrongly thinks the data is unsigned 8-bits per pixel.
> 
> Is there some other setting or procedure with GDAL I can use to get 16-bit
> PCIDSK files?
> (FYI, I tried adding -co "BANDDESC1=Height", but no improvement in the
> result).

Brent,

I have reproduced this problem.  I'd appreciate it if you could file a bug
against GDAL for the issue.

In the meantime, PCI should support TIFF and GeoTIFF well.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 18 16:05:43 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] LZW status
In-Reply-To: <20060517122219.04972635.werchowyna@epf.pl>
References: <20060517122219.04972635.werchowyna@epf.pl>
Message-ID: <446CD397.3080605@pobox.com>

Maciek Sieczka wrote:
> Hi!
> 
> http://www.gdal.org/frmt_gtiff.html says:
> 
> "...LZW is normally unavailable. ..."
> 
> Is this still actuall?

Maciek,

No, I think now LZW is normally available. I will update the docs.
If you do "gdalinfo --format gtiff" you will get details on the
compression types supported.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 18 16:21:22 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] NITF and RPCs
In-Reply-To: <1147818773.27818.261598834@webmail.messagingengine.com>
References: <1147818773.27818.261598834@webmail.messagingengine.com>
Message-ID: <446CD742.90907@pobox.com>

Simon Perkins wrote:
> Hi,
> 
> I have a Quickbird NITF file which I'm having georeferencing problems
> with under GDAL. The Geotransform numbers that I get back from GDAL seem
> very wrong. However, other applications such as ENVI (with the NITF
> module) are able to read the geocoordinates just fine. On closer
> investigation it seems that the file contains RPC values, and I wonder
> if ENVI is using these coefficients in preference to the geotransform
> data. Is this what should happen?
> 
> I found an e-mail from Frank from 2003, which talks about recently added
> support for RCP in NITF. However, all I can find is the
> GDALExtractRPCInfo() method which extracts the raw RPC numbers. Are
> there any GDAL methods for converting row/column coords to geocoords
> using this RPC data? How does one do this?

Simon,

A gdalinfo report should include RPC information in the metadata if
RPCs are aailable.  The RPC info should include a lat/long bounding
box with approximate region.

eg.
   RPC_MIN_LONG=-117.16045
   RPC_MAX_LONG=-117.09095
   RPC_MIN_LAT=32.59485
   RPC_MAX_LAT=32.61995

Just how off is the geotransform information?  The geotransform is
normally derived from the low accuracy IGEOLO fields.

> Any idea why GDALGetGeotransform() is returning such strange numbers?
> For various reasons it's a little tricky for me to obtain the ouput of,
> say, gdalinfo applied to the file, but I could try to do this if it
> would be helpful.

I'm not sure.  If you can build the nitfdump utility in gdal/frmts/nitf
you may find it provides useful information on the file as well.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu May 18 16:31:01 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Subtracting images
In-Reply-To: <25BE68A4D83DD4438F701DF0311F3F4A12E53F@posthus.blominfo.dk>
References: <25BE68A4D83DD4438F701DF0311F3F4A12E53F@posthus.blominfo.dk>
Message-ID: <446CD985.1030601@pobox.com>

Morten Nielsen wrote:
> Is it possible to subtract two images from each other using GDAL?
> 
>  
> 
> I have a large virtual raster covering a wide area, and several smaller 
> base-images.
> 
> I want to create a difference image where the part of the virtual raster 
> that covers the base-image is subtracted from the base-image. Output 
> should be the absolute difference in each band. The images are all 
> georeferenced and have the same resolution. Are there any commandline 
> tools available for this?
>
Morten,

There are no pre-built commandline tools for this.  You could write a
Python script using GDAL to load the data into Numeric arrays, and then
subtract them and save to a new GDAL file.  That process should be
pretty straight forward.

The FFT script might be a useful, if slightly overcomplicated, example of
how to do something similar.

   http://www.gdal.org/srctree/pymod/samples/fft.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From condit at sdsc.edu  Thu May 18 15:20:15 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Python Woes
Message-ID: <845AADAC1106E44996327D62097E4C6B95DDA3@et.ad.sdsc.edu>

Hi All-
I know little to nothing about Python, but am using it to perform some
simple math on a collection of raster images.  In this case, calculating
mean and variance cellwise on a collection of 40 raster files...

Here's what my code looks like as I collect all of the input bands into
an array:
    magnitudeBands = []
    thetaBands = []
    for depth in range(40):
        inFile = "C:\\develop\\data\\l%i\\vel-%i.tif" % (depth, month)
        inDataset = gdal.Open( inFile, GA_ReadOnly )                
        magnitudeBands.append(inDataset.GetRasterBand(1))
        thetaBands.append(inDataset.GetRasterBand(2))        

... At this point when I examine magnitudeBands, everything looks
correct.

    for y in range(magnitudeBands[0].YSize):        
        for band in range(len(magnitudeBands)):            
            line = magnitudeBands[band].ReadAsArray( 0, y,
magnitudeBands[band].XSize, 1, magnitudeBands[band].XSize, 1 )


But at this point, I get an exception:
TypeError: Access window out of range in RasterIO().  Requested
(0,0) of size 720x1 on raster of 9479520x0.

Am I missing something fundamental about Python or about the GDAL python
module?  Thanks for any help...

-Chris


From mateusz at loskot.net  Thu May 18 17:12:47 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GDAL v1.3.2 on linux - no PGEO driver
In-Reply-To: <446C6B3A.8020604@lparchaeology.com>
References: <446C6B3A.8020604@lparchaeology.com>
Message-ID: <446CE34F.3000307@loskot.net>

Stuart Eve wrote:
> Apologies for cross-posting! I am currently working through a method
> of accessing personal geodatabases from a linux platform. I have now
> upgraded my gdal to 1.3.2, but the PGeo driver doesn't seem to be 
> available anymore. It was available to me on 1.3.1 - are there any 
> special flags I need to use when compiling? And if not is there a way
> to rollback to 1.3.1 (I know there is no 'make uninstall'
> (bug 133)).

Hi Stuart,

I found some minor issue in building configuration that seems to be
causing this problem.
I'm working on it to fix.

But I'd need your assistance with PGeo driver.

First, as I know ODBC on Linux is not working well and this subject need
to be checked. PGeo as dependant on ODBC, seems to also need to be checked.

So, could you provide me with some details about how PGeo was running on
Linux? Have you noticed any problems? Was it running stable?
If you'd have any comments, please share them all :-)

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From bfraser at geoanalytic.com  Thu May 18 17:15:00 2006
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: 16-bit PCIDSK files of elevation data
References: <058e01c679de$b8c2e9c0$160002c0@shark> <446CD201.4040505@pobox.com>
Message-ID: <2bb801c67ac0$1f3c68c0$160002c0@shark>


> > When I use PCI's Freeview v10.0 is displays the image in "checkerboard"
> > pattern, usually indicating a confusion about the pixel bit depth.   And
a
> > right click on the layer in Freeview shows "1 [8U] Image Band 1",
confirming
> > that it wrongly thinks the data is unsigned 8-bits per pixel.
> >
> > Is there some other setting or procedure with GDAL I can use to get
16-bit
> > PCIDSK files?
> > (FYI, I tried adding -co "BANDDESC1=Height", but no improvement in the
> > result).
>
> Brent,
>
> I have reproduced this problem.  I'd appreciate it if you could file a bug
> against GDAL for the issue.
>
> In the meantime, PCI should support TIFF and GeoTIFF well.
>

Frank,

Bug filed (#1188).

  We're ok for now importing tiffs into PCI.  My goal was to find a
robust/reliable and automatable method to marshal elevation data for PCI s/w
, eliminating as many GUI-based export/import steps as possible (so my first
choice, as usual, is GDAL!).

Thanks!
Brent Fraser
GeoAnalytic Inc
Calgary, Alberta, Canada


From condit at sdsc.edu  Thu May 18 17:33:04 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Python Problem
Message-ID: <845AADAC1106E44996327D62097E4C6B95DDAF@et.ad.sdsc.edu>

Hi All-
I know little to nothing about Python, but am using it to perform some
simple math on a collection of raster images.  In this case, calculating
mean and variance cellwise on a collection of 40 raster files...

Here's what my code looks like as I collect all of the input bands into
an array:
    magnitudeBands = []
    thetaBands = []
    for depth in range(40):
        inFile = "C:\\develop\\data\\l%i\\vel-%i.tif" % (depth, month)
        inDataset = gdal.Open( inFile, GA_ReadOnly )                
        magnitudeBands.append(inDataset.GetRasterBand(1))
        thetaBands.append(inDataset.GetRasterBand(2))        

... At this point when I examine magnitudeBands, everything looks
correct.

    for y in range(magnitudeBands[0].YSize):        
        for band in range(len(magnitudeBands)):            
            line = magnitudeBands[band].ReadAsArray( 0, y,
magnitudeBands[band].XSize, 1, magnitudeBands[band].XSize, 1 )


But at this point, I get an exception:
TypeError: Access window out of range in RasterIO().  Requested
(0,0) of size 720x1 on raster of 9479520x0.

Am I missing something fundamental about Python or about the GDAL python
module?  Thanks for any help...

-Chris


From rayg at daylongraphics.com  Thu May 18 17:41:50 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Raster data test suite
In-Reply-To: <446CC0DE.2010100@pobox.com>
References: <058e01c679de$b8c2e9c0$160002c0@shark>
	<446BECF2.7020805@daylongraphics.com> <446C6AC9.10101@loskot.net>
	<446CC0DE.2010100@pobox.com>
Message-ID: <446CEA1E.9090005@daylongraphics.com>

It would be good to build a comprehensive data sheet on the drivers. 
There is some info on the website, but each driver is described in its 
own way. I've been making a spreadsheet to catalog their attributes and 
would be happy to share that.


>> What do you mean as automated fashion?

Say I built GDAL and wanted a script that would exercise all the 
drivers. Given a standard set of data files, the test program emits 
certain things (attribute lists, images, dems) that can then be compared 
(again by machine) against a reference set. For the Lev and Terragen 
drivers, for example, I'm going to add sample data, along with a small 
console app (or maybe use an existing GDAL util) and the reference 
transformed data, and then a (windows) test script could add these lines 
to itself:

testapp -lev frmts/leveller/sample.ter -gtiff out.tif
fc /b out.tif frmts/leveller/out.tif
testapp -gtiff sample.tif -lev out.ter
fc /b out.ter frmts/leveller/out.ter

As an app developer just enabling the data formats to increase the I/O 
possibilities for end users, it's off-domain for me to get intimately 
familiar with the formats (which would also defeat the abstraction 
concept of the library). So an automated test suite is vital. This will 
only become more so as more drivers are added. It's especially useful if 
making changes to code shared by multiple drivers; one could catch side 
effects that a simpler test would miss. By hooking CPLMalloc/Free the 
test might also detect memleaks, and it could do benchmarking.

The above example requires a standard "sample.tif" GeoTIFF file, and 
exercises only a one-to-many driver relationship, but if more standard 
samples are added, you can get a many-to-many test working.

Basically, driver authors would be told, on top of the driver, you need 
to run a test using the standard data, and include your driver's 
conversion of it.

Ray


From warmerdam at pobox.com  Thu May 18 20:21:07 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Raster data test suite
In-Reply-To: <446CEA1E.9090005@daylongraphics.com>
References: <058e01c679de$b8c2e9c0$160002c0@shark>
	<446BECF2.7020805@daylongraphics.com>
	<446C6AC9.10101@loskot.net> <446CC0DE.2010100@pobox.com>
	<446CEA1E.9090005@daylongraphics.com>
Message-ID: <446D0F73.9060209@pobox.com>

Ray Gardener wrote:
>>> What do you mean as automated fashion?
> 
> Say I built GDAL and wanted a script that would exercise all the 
> drivers. Given a standard set of data files, the test program emits 
> certain things (attribute lists, images, dems) that can then be compared 
> (again by machine) against a reference set. For the Lev and Terragen 
> drivers, for example, I'm going to add sample data, along with a small 
> console app (or maybe use an existing GDAL util) and the reference 
> transformed data, and then a (windows) test script could add these lines 
> to itself:
> 
> testapp -lev frmts/leveller/sample.ter -gtiff out.tif
> fc /b out.tif frmts/leveller/out.tif
> testapp -gtiff sample.tif -lev out.ter
> fc /b out.ter frmts/leveller/out.ter

Ray,

The python test suite is the preferred mechanism to provide for automated
testing.  There are simple mechanisms to check image checksum values for
test images, and for verifying that checksums don't change when data
is translated between formats.  The script can also capture other more
idiosyncratic behaviors of particular formats.

The simple script I wrote for leveller format looks like this, just
verifying that the image checksum of band 1 of data/ter6test.ter is 9093.

import os
import sys
import gdal

sys.path.append( '../pymod' )

import gdaltest

###############################################################################
# Perform simple read test.

def leveller_1():

     tst = gdaltest.GDALTest( 'Leveller', 'ter6test.ter', 1, 9093 )
     return tst.testOpen()


gdaltest_list = [
     leveller_1 ]


if __name__ == '__main__':

     gdaltest.setup_run( 'leveller' )

     gdaltest.run_tests( gdaltest_list )

     gdaltest.summarize()

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From C.Wilmes at gmx.de  Fri May 19 02:17:12 2006
From: C.Wilmes at gmx.de (Christian Wilmes)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] ogrinfo: Unable to initialize ODBC connection
In-Reply-To: <446CC1E1.3090009@pobox.com>
References: <20060518121404.326560@gmx.net> <446CC1E1.3090009@pobox.com>
Message-ID: <20060519061712.72980@gmx.net>

Hi Frank,

you are right it sounds like a ODBC problem, but in my opinion it could not be one because I'm using the same driver in a C#-program and there I connect succesfully to the database.

Best Regards
Christian


-------- Original-Nachricht --------
Betreff: Re: [Gdal-dev] ogrinfo: Unable to initialize ODBC connection
Datum: Thu, 18 May 2006 14:50:09 -0400
Von: Frank Warmerdam <warmerdam@pobox.com>
An: Christian Wilmes <C.Wilmes@gmx.de>

> Christian Wilmes wrote:
> > Hi All,
> > 
> > I try to connect to a PostgreSQL-Database over ODBC. When typing the
> command ogrinfo ODBC.ovf I get the following errors:
> > ERROR 4: Update access not supported for VRT datasources.
> 
> Christian,
> 
> The above can be disregarded.
> 
> > ERROR 1: Unable to initialize ODBC connection to DSN for
> user/pass@Postgre,
> > Specified driver could not be laodet due to system error 182
> (PostgreSQL+).
> 
> The second line of the above sounds like a message from the ODBC system,
> not
> OGR and presumably represents some real problem initializing the postgres
> ODBC driver.  I don't see any problem with the ovf file itself.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org

-- 


Bis zu 70% Ihrer Onlinekosten sparen: GMX SmartSurfer!
      Kostenlos downloaden: http://www.gmx.net/de/go/smartsurfer
    

From kueda at nature.berkeley.edu  Fri May 19 03:06:32 2006
From: kueda at nature.berkeley.edu (Ken-ichi Ueda)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <44579AC7.1080206@interserv.com>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
	<44579AC7.1080206@interserv.com>
Message-ID: <01228CEB-0A51-428A-A5DB-D3ABE9D5726B@nature.berkeley.edu>

I lost track of this conversation when it started getting into the  
guts of SWIG and the GDAL compilation process.  What's the current  
status of this problem?  I just tried to download and compile the  
daily CVS version and experienced exactly the same issue.  Has a bug  
been filed?  Anyone know if this is likely to get fixed any time  
soon?  Is there anything I can do as someone who knows nothing about  
C or SWIG?

-Ken-ichi


On May 2, 2006, at 10:45 AM, Charlie Savage wrote:

> Don't have a Mac.  I'll try to take a look at windows and linux,  
> maybe the problem occurs there also.
>
> Charlie
>
> Ken-ichi wrote:
>> No, no errors during the compilation, and no mention of 'ruby'  
>> whatsoever during the same.  I take it you are unable to reproduce  
>> this problem?
>>
>> Ken-ichi Ueda
>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>> University of California, Berkeley
>> Environmental Science, Policy, and Management
>> Berkeley, CA 94720
>> tel: 510.642.8322
>> fax: 510.642.1477
>> e-mail: kueda@nature.berkeley.edu
>>
>>
>>
>> Charlie Savage wrote:
>>> Any error messages in the compiling stage?
>>>
>>> Charlie
>>>
>>> Ken-ichi wrote:
>>>> Hi Charlie,
>>>>
>>>> Nope, the extension never gets built.  The only things in swig/ 
>>>> ruby are the sources and makefiles.
>>>>
>>>> Ken-ichi Ueda
>>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>>> University of California, Berkeley
>>>> Environmental Science, Policy, and Management
>>>> Berkeley, CA 94720
>>>> tel: 510.642.8322
>>>> fax: 510.642.1477
>>>> e-mail: kueda@nature.berkeley.edu
>>>>
>>>>
>>>>
>>>> Charlie Savage wrote:
>>>>> Hi Ken-ichi,
>>>>>
>>>>> Is the extension successfully built?  IE., is there a gdal.so  
>>>>> file in the swig/ruby directory?
>>>>>
>>>>> Charlie
>>>>>     Ken-ichi wrote:
>>>>>> Hi all,
>>>>>>
>>>>>> When I try to compile the latest CVS (4.30.06) version of GDAL  
>>>>>> --with-ruby, configuring and compiling go off without a hitch,  
>>>>>> but when I try to make install, I get this error:
>>>>>>
>>>>>> (cd swig; make install)
>>>>>> for dir in ruby ; do (cd $dir; make install ); done
>>>>>> make -f RubyMakefile.mk install
>>>>>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool -- 
>>>>>> mode=install /usr/local/src/gdal-cvs-2006.04.30/install-sh -c  
>>>>>> gdal.so ogr.so gdalconst.so osr.so /usr/darwinports/lib/ruby/ 
>>>>>> site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so /usr/ 
>>>>>> darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/ 
>>>>>> gdal.so
>>>>>> install:  gdal.so does not exist
>>>>>> make[3]: *** [install] Error 1
>>>>>> make[2]: *** [install] Error 2
>>>>>> make[1]: *** [install] Error 2
>>>>>> make: *** [install-actions] Error 2
>>>>>>
>>>>>>
>>>>>> It doesn't look like gdal.so is getting made at all.  I'm  
>>>>>> getting basically the same error on Mac OS 10.4 and Gentoo  
>>>>>> Linux.  I do not get this error on Gentoo with the 1.3.1  
>>>>>> source (haven't tried that one on my Mac yet).
>>>>>>
>>>>>> Any thoughts?
>>>>>>
>>>>>
>>>>>
>>>>
>>>>
>>
>>


From spietz at fh-bingen.de  Fri May 19 03:14:04 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] installing gdal
Message-ID: <007e01c67b13$d2da3a30$b84f5d8f@PSP>

Hi all,

originally I wanted to use the java-swig bindings (and I still want to) but 
also after lots of help from the list (thanks to Ben and Frank) I was not 
able to install.
So we decided that it might be the best to start the installation right new 
at the beginning. But I still can't do it. Here the things I did and what 
happened:


  a.. Download daily snapshoot: http://dl.maptools.org/dl/gdal/daily/: 
gdal-cvs-2006.05.18.tar.gz

  b.. unzip/tar in the gdal-home-directory (=GDAL_HOME) => 
/usr/lib/gdal/gdal-cvs-2006.05.09

  c.. in GDAL_HOME/swig/java/java.opt JAVA_HOME set right

  d.. GDAL_HOME> ./configure (=> z.b. Eine Datei GDAL.opt aus GDAL.opt.in)

  e.. GDAL_HOME> make

#####################error-log

.......

g++ .... .libs/ogrgeometryfactory.o

In file included from ogrgeometryfactory.cpp:127:

ogr_geos.h:47:22:error:geos_c.h: No such file or directory

ogrgeometryfactory.cpp: In static member function static 
OGRGeometry*OgrGeometryFactory:createFromGeos(GEOSGeom_t*):

ogrgeometryfactory.cpp:839: error:GEOSGeomToWKB_buf was not declared in this 
scope

make[1]: ***[ ogrgeometryfactory .o] Error 1

make[1]: Leaving directory '/usr/lib/gdal/gdal-cvs-2006.05.18/ogr'

make: ***[ogr-target] Error 2

#####################

  a.. GDAL_HOME> ./configure -help =>

  a.. GDAL_HOME> ./configure --with-geos=yes

  b.. GDAL_HOME> make

##################error-log

/usr/bin/sed: can't read /usr/lib/libjpg.la: No such file or directory
libtool: link: '/usr/lib/libjpg.la' is not a valid libtool archive
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory '/usr/lib/gdal/gdal-cvs-2006.05.18'
make: *** [check-lib] Error 2

##################

  a.. GDAL_HOME> ./configure --with-geos=yes --with-jpeg=no

  b.. GDAL_HOME> make

###########error-log

/usr/bin/sed: can't read /usr/lib/libjepg.la: No such file or directory
libtool: link: '/usr/lib/libjpeg.la' is not a valid libtool archive
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory '/usr/lib/gdal/gdal-cvs-2006.05.18'
make: *** [check-lib] Error 2

###########

  a.. GDAL_HOME> ./configure --with-geos=yes --with-jpeg=internal

  b.. GDAL_HOME> make

Getting the same error as before ;-(

Any idea what I am doing wrong?



Best regards

Christine 


From cfis at interserv.com  Fri May 19 03:48:52 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: ruby bindings not compiling from CVS
In-Reply-To: <01228CEB-0A51-428A-A5DB-D3ABE9D5726B@nature.berkeley.edu>
References: <44563376.1050206@nature.berkeley.edu>
	<44570761.3070700@interserv.com>
	<44579302.7050003@nature.berkeley.edu>
	<44579585.4080800@interserv.com>
	<44579717.8020206@nature.berkeley.edu>
	<44579AC7.1080206@interserv.com>
	<01228CEB-0A51-428A-A5DB-D3ABE9D5726B@nature.berkeley.edu>
Message-ID: <446D7864.1090705@interserv.com>

Hi Ken-ichi,

Sorry, I've been awfully busy on other stuff so haven't had a chance to 
look.  I'll take a look this weekend.

Charlie

Ken-ichi Ueda wrote:
> I lost track of this conversation when it started getting into the 
> guts of SWIG and the GDAL compilation process.  What's the current 
> status of this problem?  I just tried to download and compile the 
> daily CVS version and experienced exactly the same issue.  Has a bug 
> been filed?  Anyone know if this is likely to get fixed any time 
> soon?  Is there anything I can do as someone who knows nothing about C 
> or SWIG?
>
> -Ken-ichi
>
>
> On May 2, 2006, at 10:45 AM, Charlie Savage wrote:
>
>> Don't have a Mac.  I'll try to take a look at windows and linux, 
>> maybe the problem occurs there also.
>>
>> Charlie
>>
>> Ken-ichi wrote:
>>> No, no errors during the compilation, and no mention of 'ruby' 
>>> whatsoever during the same.  I take it you are unable to reproduce 
>>> this problem?
>>>
>>> Ken-ichi Ueda
>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>> University of California, Berkeley
>>> Environmental Science, Policy, and Management
>>> Berkeley, CA 94720
>>> tel: 510.642.8322
>>> fax: 510.642.1477
>>> e-mail: kueda@nature.berkeley.edu
>>>
>>>
>>>
>>> Charlie Savage wrote:
>>>> Any error messages in the compiling stage?
>>>>
>>>> Charlie
>>>>
>>>> Ken-ichi wrote:
>>>>> Hi Charlie,
>>>>>
>>>>> Nope, the extension never gets built.  The only things in 
>>>>> swig/ruby are the sources and makefiles.
>>>>>
>>>>> Ken-ichi Ueda
>>>>> Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
>>>>> University of California, Berkeley
>>>>> Environmental Science, Policy, and Management
>>>>> Berkeley, CA 94720
>>>>> tel: 510.642.8322
>>>>> fax: 510.642.1477
>>>>> e-mail: kueda@nature.berkeley.edu
>>>>>
>>>>>
>>>>>
>>>>> Charlie Savage wrote:
>>>>>> Hi Ken-ichi,
>>>>>>
>>>>>> Is the extension successfully built?  IE., is there a gdal.so 
>>>>>> file in the swig/ruby directory?
>>>>>>
>>>>>> Charlie
>>>>>>     Ken-ichi wrote:
>>>>>>> Hi all,
>>>>>>>
>>>>>>> When I try to compile the latest CVS (4.30.06) version of GDAL 
>>>>>>> --with-ruby, configuring and compiling go off without a hitch, 
>>>>>>> but when I try to make install, I get this error:
>>>>>>>
>>>>>>> (cd swig; make install)
>>>>>>> for dir in ruby ; do (cd $dir; make install ); done
>>>>>>> make -f RubyMakefile.mk install
>>>>>>> /bin/sh /usr/local/src/gdal-cvs-2006.04.30/libtool 
>>>>>>> --mode=install /usr/local/src/gdal-cvs-2006.04.30/install-sh -c 
>>>>>>> gdal.so ogr.so gdalconst.so osr.so 
>>>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal
>>>>>>> /usr/local/src/gdal-cvs-2006.04.30/install-sh -c gdal.so 
>>>>>>> /usr/darwinports/lib/ruby/site_ruby/1.8/powerpc-darwin8.6.0/gdal/gdal.so 
>>>>>>>
>>>>>>> install:  gdal.so does not exist
>>>>>>> make[3]: *** [install] Error 1
>>>>>>> make[2]: *** [install] Error 2
>>>>>>> make[1]: *** [install] Error 2
>>>>>>> make: *** [install-actions] Error 2
>>>>>>>
>>>>>>>
>>>>>>> It doesn't look like gdal.so is getting made at all.  I'm 
>>>>>>> getting basically the same error on Mac OS 10.4 and Gentoo 
>>>>>>> Linux.  I do not get this error on Gentoo with the 1.3.1 source 
>>>>>>> (haven't tried that one on my Mac yet).
>>>>>>>
>>>>>>> Any thoughts?
>>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>
>>>
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3241 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060519/fe6553ff/smime.bin
From bartvde at xs4all.nl  Fri May 19 03:51:20 2006
From: bartvde at xs4all.nl (Bart van den Eijnden (OSGIS))
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GML writing issue
Message-ID: <21107.145.50.39.8.1148025080.squirrel@webmail.xs4all.nl>

Hi list,

when trying to use a Mapserver 4.8.3 generated GML file in OGR, we are
running into a few issues. Mapserver uses ms as the namespace prefix in
the GML. OGR raises a few warnings, but if I look into the resulting GML
file all attribute information is lost in fact.

H:\appl\FWTools1.0.0a7\bin>ogr2ogr -f "GML" test.gml
D:\temp\gdelivery\mapserv.gml
Warning 1: Layer name 'ms:AAA132' adjusted to 'ms_AAA132' for XML validity.
Warning 1: Field name 'ms:TDN_CODE' adjusted to 'ms_TDN_CODE' to be a valid
XML element name.
Warning 1: Field name 'ms:OMSCHRIJVI' adjusted to 'ms_OMSCHRIJVI' to be a
valid
XML element name.
Warning 1: Field name 'ms:Area' adjusted to 'ms_Area' to be a valid
XML element name.
Warning 1: Field name 'ms:Perimeter' adjusted to 'ms_Perimeter' to be a valid
XML element name.

A second issue, the boundingbox is screwed up in the process. Mapserver
GML has:
      <gml:boundedBy>
      	<gml:Box srsName="EPSG:28992">
      		<gml:coordinates>192519.015625,320687.375000
194164.359375,322355.968750</gml:coordinates>
      	</gml:Box>
      </gml:boundedBy>

The output from OGR is:
  <gml:boundedBy>
    <gml:Box>
      <gml:coord><gml:X>0</gml:X><gml:Y>0</gml:Y></gml:coord>
      <gml:coord><gml:X>194164.359375</gml:X><gml:Y>322355.96875</gml:Y></gml:coord>
    </gml:Box>
  </gml:boundedBy>

which gives trouble viewing the GML in e.g. Gaia.

Another issue is when transforming Mapserver GML into an ESRI Shapefile.
The attributes in the dbf files are named ms:XXX. TatukGIS won't show any
attribute info, and OpenEV even crashes on this shapefile.

Best regards,
Bart


From skotea at gmail.com  Fri May 19 03:57:14 2006
From: skotea at gmail.com (skotea@gmail.com)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] convert a GeoTIFF file into TIF + TFW files using
	gdal_translate ?
Message-ID: <12ba1a4a0605190057p51cbf093p91aab9c6d32dc1e4@mail.gmail.com>

Hi people !

Is there a way to convert a GeoTIFF file into TIF + TFW files using
gdal_translate ?
I'm able to get a TFW file from the GeoTIFF but I don't succeed in
converting my GeoTIFF file into a simple TIF file (with no coordinate data
in).
To make an automation of the process a command line is need (instead of
using a standard image processing software).

Thanks in advance people.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060519/2089af61/attachment.html
From sebastien.grignard at archivideo.com  Fri May 19 04:15:30 2006
From: sebastien.grignard at archivideo.com (Sebastien Grignard)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] convert a GeoTIFF file into TIF + TFW files using
	gdal_translate ?
In-Reply-To: <12ba1a4a0605190057p51cbf093p91aab9c6d32dc1e4@mail.gmail.com>
References: <12ba1a4a0605190057p51cbf093p91aab9c6d32dc1e4@mail.gmail.com>
Message-ID: <446D7EA2.1020104@archivideo.com>

skotea@gmail.com a ?crit :

> Hi people !
>  
> Is there a way to convert a GeoTIFF file into TIF + TFW files using 
> gdal_translate ?
> I'm able to get a TFW file from the GeoTIFF but I don't succeed in 
> converting my GeoTIFF file into a simple TIF file (with no coordinate 
> data in).
> To make an automation of the process a command line is need (instead 
> of using a standard image processing software).
>  
> Thanks in advance people.
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>
Hello.

Using '-co TFW=YES' and '-co PROFILE=BASELINE' in the gdal_translate 
command line should do the trick.
All creation options are documented in the 'Supported formats' page of 
GDAL documentation.

Sebastien.

-- 
Sebastien Grignard
R&D Developer
Archivideo
40, rue des Veyettes - 35000 Rennes FRANCE
Phone: +033 2 99 86 30 20


From skotea at gmail.com  Fri May 19 04:40:22 2006
From: skotea at gmail.com (skotea@gmail.com)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] convert a GeoTIFF file into TIF + TFW files using
	gdal_translate ?
In-Reply-To: <446D7EA2.1020104@archivideo.com>
References: <12ba1a4a0605190057p51cbf093p91aab9c6d32dc1e4@mail.gmail.com>
	<446D7EA2.1020104@archivideo.com>
Message-ID: <12ba1a4a0605190140y66998f51q61be2f657e0e81ac@mail.gmail.com>

>
> Hello.
>
> Using '-co TFW=YES' and '-co PROFILE=BASELINE' in the gdal_translate
> command line should do the trick.
> All creation options are documented in the 'Supported formats' page of
> GDAL documentation.
>
> Sebastien.


In fact I already use -co TFW=YES to get the TFW...
but using -co PROFILE=BASELINE doesn't convert the GeoTIF to TIF (the
resulting file still is georeferenced, still a GeoTIF not a TIF)
sorry to ask about it, but where can I find the 'Supported formats' page of
GDAL documentation
Thanks again.

skotea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060519/3ac70667/attachment.html
From skotea at gmail.com  Fri May 19 04:48:13 2006
From: skotea at gmail.com (skotea@gmail.com)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] convert a GeoTIFF file into TIF + TFW files using
	gdal_translate ?
In-Reply-To: <12ba1a4a0605190140y66998f51q61be2f657e0e81ac@mail.gmail.com>
References: <12ba1a4a0605190057p51cbf093p91aab9c6d32dc1e4@mail.gmail.com>
	<446D7EA2.1020104@archivideo.com>
	<12ba1a4a0605190140y66998f51q61be2f657e0e81ac@mail.gmail.com>
Message-ID: <12ba1a4a0605190148i416012d3ke1c9ac228229b9ef@mail.gmail.com>

oups it works now !
sorry for the disturbance...
thanks again sebastien
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060519/1dcd517e/attachment.html
From juan.castaneda at nuigalway.ie  Fri May 19 04:58:50 2006
From: juan.castaneda at nuigalway.ie (Juan Carlos Castaneda)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] AVHRR NOAA level 1b
Message-ID: <446D88CA.7000804@nuigalway.ie>

Dear list,

I'm trying to use GDAL to geocode AVHRR level 1b images. It's not giving
me good results. I went to the archives and Google to find what's
happening and I read that the algorithm to geocode is not the best for
these type of image. From the documentation:
"that GDAL simple affine georeference model completely unsuitable for
the NOAA data. So you should not rely on it. It is recommended to use
the thin plate spline warper (tps). Automatic image rectification can be
done with ground control points (GCPs) from the input file. NOAA stores
51 GCPs per scanline both in the LAC and GAC datasets."

Any suggestions how to do the "thin plate spline warper (tps)" for these
images? Can it be done with GDAL? I've used gdalwrap -tps but it's not 
working neither. I used the GCPs and they don't seem to give accurate 
positions on the image. Can anybody give me some advice?

Thank you

Juan C. Castaneda



From stuarteve at lparchaeology.com  Fri May 19 05:17:16 2006
From: stuarteve at lparchaeology.com (Stuart Eve)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GDAL v1.3.2 on linux - no PGEO driver
In-Reply-To: <446CE34F.3000307@loskot.net>
References: <446C6B3A.8020604@lparchaeology.com> <446CE34F.3000307@loskot.net>
Message-ID: <446D8D1C.4070606@lparchaeology.com>

Mateusz,

Great to hear you've found the issue!

In terms of PGeo on linux - its not working that well/at all!  Theres a 
number of issues that I came across (after talking with Frank about it a 
bit):

The system that I had it set up on is Suse 10, with unixODBC 2.2.10 and 
I started out with mdbtools 0.5 and gdal 1.3.1

1. The PGeo is currently set up to look for a driver called Microsoft 
Access Driver (*.mdb) - this of course doesn't exist by default (but it 
may be possible to set a driver up in the odbcinst.ini - I was going to 
try that but then upgraded my gdal and 'lost' the pGeo driver)

2. I set up a new driver (in odbcinst.ini) called MDBToolsODBC - and 
pointed it at the mdbtools driver (libmdbodbc.so.0)

3. I then went into the source code and changed 
ogr/ogrsf_frmts/pgeo/ogrpgeodatasource.cpp Line 104 to read: sprintf( 
pszDSN, "DRIVER=MDBToolsODBC;DBQ=%s", pszNewName).

4. I ran ogrinfo (pointing it at my geodatabase) and Bingo it connected! 
However, I then got a message saying that 'table GDB is not a table'. It 
turns out that the current stable version 0.5 of mdbtools has a bug in 
it that doesn't recognise underscores in table names - so all of the GDB 
tables were getting rejected!

5. I upgraded my mdbtools to 0.6 - the CVS version (with the underscore 
bugfix) - and then at the same time upgraded my gdal and hence lost the 
PGeo driver - so haven't been able to test a PGeo connection. However, I 
can now read the geodatabase using the ODBC driver and list the tables, 
etc. so the underscore bug is definitely fixed. So close!!

Ok since starting this email  I have just set up a driver in my 
odbcinst.ini called [Microsoft Access Driver (*.mdb)] and ran an ogrinfo 
ODBC:/path/to/geodb and it connected just fine (but of course didn't 
recognise it as a geodatbase - but the ODBC connection read it).

So in conclusion (sorry for long email) - I think that if you manage to 
get PGeo installing for gdal1.3.2 - all a linux user would have to do to 
get it to access geodatabases (at least with unixODBC) is to install 
mdbtools 0.6 and set up a Driver in their odbcinst.ini called [Microsoft 
Access Driver (*.mdb)] pointing at libmdbodbc.so.0.

So I look forward to your bugfix so I can try it out!

Cheers Stu

Mateusz Loskot wrote:
> Stuart Eve wrote:
>   
>> Apologies for cross-posting! I am currently working through a method
>> of accessing personal geodatabases from a linux platform. I have now
>> upgraded my gdal to 1.3.2, but the PGeo driver doesn't seem to be 
>> available anymore. It was available to me on 1.3.1 - are there any 
>> special flags I need to use when compiling? And if not is there a way
>> to rollback to 1.3.1 (I know there is no 'make uninstall'
>> (bug 133)).
>>     
>
> Hi Stuart,
>
> I found some minor issue in building configuration that seems to be
> causing this problem.
> I'm working on it to fix.
>
> But I'd need your assistance with PGeo driver.
>
> First, as I know ODBC on Linux is not working well and this subject need
> to be checked. PGeo as dependant on ODBC, seems to also need to be checked.
>
> So, could you provide me with some details about how PGeo was running on
> Linux? Have you noticed any problems? Was it running stable?
> If you'd have any comments, please share them all :-)
>
> Cheers
>   


-- 
Stuart Eve
L - P : Archaeology
stuarteve@lparchaeology.com 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060519/439bd1a2/attachment.html
From ellen.debeuckeleer at incgeo.be  Fri May 19 05:19:29 2006
From: ellen.debeuckeleer at incgeo.be (Ellen De Beuckeleer)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] unable to load proj.4
In-Reply-To: <446CBD52.5060103@pobox.com>
References: <4430005.post@talk.nabble.com>
	<4446821.post@talk.nabble.com>	<1147944913.5105.8.camel@geru-itae>
	<446C9132.603@incgeo.be> <446CBD52.5060103@pobox.com>
Message-ID: <446D8DA1.2050603@incgeo.be>

Hi Frank, Didrik,

I added the GDAL_DATA to my environment variables and the "unnamed" 
projection issue is solved ie. I now get:

PROJCS["WGS 84 / UTM zone 11N", GOEGCS[...], SPHEROID["WGS 84", 6378137, 
298.2572235630016],....]

I left out those things that are the same for what I expected. I have 
however one more difference. What I expected is:

PROJCS["WGS 84 / UTM zone 11N", GOEGCS[...], SPHEROID["WGS 84", 6378137, 
298.2572235629972],....]

The difference is minimal (last 5 digits), but I wonder why this is. 
Could this be an float/double issue, or a version difference in the 
definition of the spheroid, or ???

Furthermore, is it possible to include the EPSG support files in the 
gdal .dll file? It would be nice if I could run the program on other 
computers without setting the GDAL_DATA variable manually.

Thanks,

Ellen

ps: I really appreciate all the help. I hope someday I can help others 
as well, but at the moment when I look at the questions asked, a seldom 
have a clue.... :(




Frank Warmerdam wrote:
> Ellen De Beuckeleer wrote:
> 
>> Hi Didrik,
>>
>> I tried your suggestion and indead, I do not need the proj.dll anymore!
>>
>> Unfortunatelly, I still have the difference in projection information 
>> as described below.
>>
>> Some additional information on the problem: The expected value below 
>> is the one we used in our test on Linux, using Proj v. 4.4.8. Now 
>> after converting our project to Windows, using Proj v 4.4.9, our test 
>> fail. Could this minor version change make the difference?
> 
> 
> Ellen,
> 
> My guess would be that on windows the EPSG support files are not being
> found, so the full coordinate system information (stuff like coordinate
> system full name) are not available.
> 
> Normally the EPSG support files are found from the gdal/data directory
> based on the GDAL_DATA environment variable.  On unix/linux they are
> installed in /usr/local/share/gdal and will be found by default.
> 
> Best regards,
> 
>> Didrik Pinte wrote:
>>
>>> Le jeudi 18 mai 2006 ? 02:07 -0700, EllenD a ?crit :
>>>
>>>> Hi,
>>>>
>>>> I retrieved a proj.dll from http://proj.maptools.org/ and the errors 
>>>> are
>>>> gone. I am a bit worried though, because I get the following 
>>>> georeference
>>>> information:
>>>>
>>>> PROJCS["unnamed",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
>>>> 84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-117],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AUTHORITY["EPSG","32611"]] 
>>>>
>>>>
>>>> and this is what I expected:
>>>>
>>>> "PROJCS[\"WGS 84 / UTM zone 11N\",GEOGCS[\"WGS
>>>> 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
>>>> 84\",6378137,298.2572235629972,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-117],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AUTHORITY[\"EPSG\",\"32611\"]]" 
> 
> 
> 

-- 

------------------------------------------------------
IncGEO
Kempische steenweg 297 bus 2
3500 Hasselt
tel: +32 (0)11 45 20 16
fax: +32 (0)11 45 20 17
www.incgeo.be
------------------------------------------------------


From neteler at itc.it  Fri May 19 05:26:20 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] AVHRR NOAA level 1b
In-Reply-To: <446D88CA.7000804@nuigalway.ie>
References: <446D88CA.7000804@nuigalway.ie>
Message-ID: <20060519092620.GA10808@bartok.itc.it>

On Fri, May 19, 2006 at 09:58:50AM +0100, Juan Carlos Castaneda wrote:
> Dear list,
> 
> I'm trying to use GDAL to geocode AVHRR level 1b images. It's not giving
> me good results. I went to the archives and Google to find what's
> happening and I read that the algorithm to geocode is not the best for
> these type of image. From the documentation:
> "that GDAL simple affine georeference model completely unsuitable for
> the NOAA data. So you should not rely on it. It is recommended to use
> the thin plate spline warper (tps). Automatic image rectification can be
> done with ground control points (GCPs) from the input file. NOAA stores
> 51 GCPs per scanline both in the LAC and GAC datasets."
> 
> Any suggestions how to do the "thin plate spline warper (tps)" for these
> images? Can it be done with GDAL? I've used gdalwrap -tps but it's not 
> working neither. I used the GCPs and they don't seem to give accurate 
> positions on the image. Can anybody give me some advice?

Please use gdalwarp with -tps option:

http://www.gdal.org/gdalwarp.html
"-tps
    Enable use of thin plate spline transformer based on available
    GCPs. Use this instead of the -order switch.
"

Please let us know how it performs (I am also interested in the
AVHRR geocoding business).

Markus


From mateusz at loskot.net  Fri May 19 05:47:27 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] just trying to install/import
In-Reply-To: <f6602d370605161351g20c8f028y8e167cdc1a018991@mail.gmail.com>
References: <f6602d370605151635x3e78bb3asccc1eeddffc83e09@mail.gmail.com>	
	<44696284.60909@loskot.net>	
	<f6602d370605161224m242f540fm2f02702ed90f2e49@mail.gmail.com>	
	<446A2AB9.6040404@loskot.net>
	<f6602d370605161351g20c8f028y8e167cdc1a018991@mail.gmail.com>
Message-ID: <446D942F.7040402@loskot.net>

Jeremy Freund wrote:
> Mateusz,
> 
> Hi. I asked you a question about the Python root (I want to access 
> gdal modules from PythonWin 2.4). I'm still having issues with this 
> and was wondering if you had a chance to look at my last message and 
> whether or not you can tell what I'm doing wrong. Basically, I'm 
> using os.chdir('C:\Program Files\FWTools1.0.0\pymod'), typing import 
> gdal and getting this error:
> 
> Traceback (most recent call last): File "<interactive input>", line 
> 1, in ? File "C:\Program Files\FWTools1.0.0\pymod\gdal.py", line 191,
>  in ? import _gdal ImportError: DLL load failed: The specified module
>  could not be found.
> 
> Any ideas?

Hi,

NOTE: I'm replying in the your e-mail in the old thread.

First, as I understand the situation is as follows:

1. You have FWTools installed with its pymod and internal distribution
of Python 2.3

2. You want to use GDAL python module with your own installation of
Python 2.4, but not with Python 2.3. shipped with FWTools

3. Your Python 2.4 can find gdal module but additional DLLs are not found.

So, I suppose the problem is with your environment configuration.
On Windows, DLLs are searched in current directory or in paths defined
in PATH environment variable.

You can check it in command line running:

C:\> echo %PATH%

The problem I see is that GDAL's DLLs are not in your path.
Try to add the path to 'bin' directory from FWTools installation dir to
your path.
You can do it from righ-click on My Computer -> Properties menu option
-> Advanced tab -> Environment Variables button.
There you can edit PATH variable and add FWTools bin directory.

Give me some feedback if it works.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Fri May 19 06:42:51 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GML writing issue
In-Reply-To: <21107.145.50.39.8.1148025080.squirrel@webmail.xs4all.nl>
References: <21107.145.50.39.8.1148025080.squirrel@webmail.xs4all.nl>
Message-ID: <446DA12B.2010704@loskot.net>

Bart van den Eijnden (OSGIS) wrote:
> Hi list,
> 
> when trying to use a Mapserver 4.8.3 generated GML file in OGR, we are
> running into a few issues. Mapserver uses ms as the namespace prefix in
> the GML. OGR raises a few warnings, but if I look into the resulting GML
> file all attribute information is lost in fact.
> 
> H:\appl\FWTools1.0.0a7\bin>ogr2ogr -f "GML" test.gml
> D:\temp\gdelivery\mapserv.gml
> Warning 1: Layer name 'ms:AAA132' adjusted to 'ms_AAA132' for XML validity.
> Warning 1: Field name 'ms:TDN_CODE' adjusted to 'ms_TDN_CODE' to be a valid
> XML element name.
> Warning 1: Field name 'ms:OMSCHRIJVI' adjusted to 'ms_OMSCHRIJVI' to be a
> valid
> XML element name.
> Warning 1: Field name 'ms:Area' adjusted to 'ms_Area' to be a valid
> XML element name.
> Warning 1: Field name 'ms:Perimeter' adjusted to 'ms_Perimeter' to be a valid
> XML element name.


OGR strips all namespace names off.
As I know from reading the GML driver source code, the drivers seems to
not accept colon in names (http://www.w3.org/TR/xml11/#sec-common-syn,
NOTE about namespace).
NOTE: I may be wron!


> A second issue, the boundingbox is screwed up in the process. Mapserver
> GML has:
>       <gml:boundedBy>
>       	<gml:Box srsName="EPSG:28992">
>       		<gml:coordinates>192519.015625,320687.375000
> 194164.359375,322355.968750</gml:coordinates>
>       	</gml:Box>
>       </gml:boundedBy>
> 
> The output from OGR is:
>   <gml:boundedBy>
>     <gml:Box>
>       <gml:coord><gml:X>0</gml:X><gml:Y>0</gml:Y></gml:coord>
>       <gml:coord><gml:X>194164.359375</gml:X><gml:Y>322355.96875</gml:Y></gml:coord>
>     </gml:Box>
>   </gml:boundedBy>
> 
> which gives trouble viewing the GML in e.g. Gaia.


This behaviour seems to be common to OGR's GML driver.
AFAIK it uses *only* gml::coord notation to write gml:Box tree, but not
gml::coordiantes.
I don't know if this behaviour is intentional behaviour or it's a bug.


> Another issue is when transforming Mapserver GML into an ESRI Shapefile.
> The attributes in the dbf files are named ms:XXX. TatukGIS won't show any
> attribute info, and OpenEV even crashes on this shapefile.

I may be wrong, but if GML driver does not strip colon from field names,
then it seems to be a bug.
Shapelib docs say:

"In order to use the xBase file in some packages it may be necessary to
avoid some special characters in the field names such as spaces, or
arithmetic operators."

so, one may expect that colon in the name of field won't be portable.

NOTE: I'm quite new to GML driver, so my assumptions may be incorrect.
Thus, I suggest you to wait for Frank's opinion.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From juan.castaneda at nuigalway.ie  Fri May 19 06:59:22 2006
From: juan.castaneda at nuigalway.ie (Juan Castaneda)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: AVHRR NOAA level 1b
In-Reply-To: <20060519092620.GA10808@bartok.itc.it>
References: <446D88CA.7000804@nuigalway.ie>
	<20060519092620.GA10808@bartok.itc.it>
Message-ID: <446DA50A.10205@nuigalway.ie>

We have a receiver and download images continously. The software we have
produces level 1b images and can export to .img. Those img are correctly
geocoded and they work fine. But I cannot set that software up to create
.img images for each l1b produced. So I thaught GDAL would do the work.

I have tryed using gdalwrap -tps but it doesn't seem to work. It
produces errors of 600Km... it's way too much. I'm more like a GIS guy
so I took the GCPs from gdalinfo and using ArcGIS I attempted to
geocode. It produced pretty much the same results as gdal. I'm wondering 
if I am missing something! should I have to apply some other correction? 
Maybe I am taking the same assumptions as gdalwrap and they are wrong. 
Maybe the GCPs read from gdal are not correct.

I appreciate any thoughts

Juan C

Markus Neteler wrote:

> On Fri, May 19, 2006 at 09:58:50AM +0100, Juan Carlos Castaneda
> wrote:
> 
>> Dear list,
>> 
>> I'm trying to use GDAL to geocode AVHRR level 1b images. It's not
>> giving me good results. I went to the archives and Google to find
>> what's happening and I read that the algorithm to geocode is not
>> the best for these type of image. From the documentation: "that
>> GDAL simple affine georeference model completely unsuitable for the
>> NOAA data. So you should not rely on it. It is recommended to use 
>> the thin plate spline warper (tps). Automatic image rectification
>> can be done with ground control points (GCPs) from the input file.
>> NOAA stores 51 GCPs per scanline both in the LAC and GAC datasets."
>> 
>> 
>> Any suggestions how to do the "thin plate spline warper (tps)" for
>> these images? Can it be done with GDAL? I've used gdalwrap -tps but
>> it's not working neither. I used the GCPs and they don't seem to
>> give accurate positions on the image. Can anybody give me some
>> advice?
> 
> 
> Please use gdalwarp with -tps option:
> 
> http://www.gdal.org/gdalwarp.html "-tps Enable use of thin plate
> spline transformer based on available GCPs. Use this instead of the
> -order switch. "
> 
> Please let us know how it performs (I am also interested in the AVHRR
> geocoding business).
> 
> Markus

From Charles.Wivell at dnr.state.mn.us  Fri May 19 09:48:36 2006
From: Charles.Wivell at dnr.state.mn.us (Charles Wivell)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Re: AVHRR NOAA level 1b
Message-ID: <s46d8689.061@co5.dnr.state.mn.us>

Hi all;

To create a truly accurate geocoded product from AVHRR, I recommend using a full satellite/sensor/earth model. The AVHRR sensor is very non-linear in pixel resolution. At nadir it might be 1.1 km, but at end of scan it is over 6 km (in the scan direction). The resolution varies approximately linearly from 1.1 km at zero degrees to about 2 km at +/- 45 degrees and then the pixels bloom rapidly as the scan drops off the edge of the earth. Also at those larger scan angles the parallax correction becomes important, thus a true ortho-correction should be used.

This should also be a warning to users of AVHRR data. A lot of the time producers of AVHRR derived products tell you their product is at a resolution of 1.1 km. The raw AVHRR data might have been resampled to an output pixel size of 1.1 km, but the true resolution of the product is not 1.1 km (except for the nadir pixels).

The MODIS sensor, in the way it scans, is a lot like the AVHRR sensor, so the resolution of the MODIS pixels vary along scan like AVHRR. The MODIS orbit is a little lower, so the blooming isn't quite so bad (about 1.1 to about 5km). But the MODIS sensors scans many lines at a time where as AVHRR scans a single line, so MODIS also has what is called the "bow tie" effect per scan. At nadir, MODIS has a slight scan gap but at end of scan, the scans have complete overlap ( a point on the ground is imaged by at least 2 scans, sometimes three) .

I guess after saying all that, my point is that sometimes (depending on the complexity of the sensor system) a simple warp is not the way to go to get accurate products.


Chuck Wivell

MN DNR Grand Rapids MN.

>>> Juan Castaneda <juan.castaneda@nuigalway.ie> 5/19/2006 5:59 AM >>>
We have a receiver and download images continously. The software we have
produces level 1b images and can export to .img. Those img are correctly
geocoded and they work fine. But I cannot set that software up to create
.img images for each l1b produced. So I thaught GDAL would do the work.

I have tryed using gdalwrap -tps but it doesn't seem to work. It
produces errors of 600Km... it's way too much. I'm more like a GIS guy
so I took the GCPs from gdalinfo and using ArcGIS I attempted to
geocode. It produced pretty much the same results as gdal. I'm wondering 
if I am missing something! should I have to apply some other correction? 
Maybe I am taking the same assumptions as gdalwrap and they are wrong. 
Maybe the GCPs read from gdal are not correct.

I appreciate any thoughts

Juan C

Markus Neteler wrote:

> On Fri, May 19, 2006 at 09:58:50AM +0100, Juan Carlos Castaneda
> wrote:
> 
>> Dear list,
>> 
>> I'm trying to use GDAL to geocode AVHRR level 1b images. It's not
>> giving me good results. I went to the archives and Google to find
>> what's happening and I read that the algorithm to geocode is not
>> the best for these type of image. From the documentation: "that
>> GDAL simple affine georeference model completely unsuitable for the
>> NOAA data. So you should not rely on it. It is recommended to use 
>> the thin plate spline warper (tps). Automatic image rectification
>> can be done with ground control points (GCPs) from the input file.
>> NOAA stores 51 GCPs per scanline both in the LAC and GAC datasets."
>> 
>> 
>> Any suggestions how to do the "thin plate spline warper (tps)" for
>> these images? Can it be done with GDAL? I've used gdalwrap -tps but
>> it's not working neither. I used the GCPs and they don't seem to
>> give accurate positions on the image. Can anybody give me some
>> advice?
> 
> 
> Please use gdalwarp with -tps option:
> 
> http://www.gdal.org/gdalwarp.html "-tps Enable use of thin plate
> spline transformer based on available GCPs. Use this instead of the
> -order switch. "
> 
> Please let us know how it performs (I am also interested in the AVHRR
> geocoding business).
> 
> Markus
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Fri May 19 10:44:30 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] unable to load proj.4
In-Reply-To: <446D8DA1.2050603@incgeo.be>
References: <4430005.post@talk.nabble.com>
	<4446821.post@talk.nabble.com>	<1147944913.5105.8.camel@geru-itae>
	<446C9132.603@incgeo.be> <446CBD52.5060103@pobox.com>
	<446D8DA1.2050603@incgeo.be>
Message-ID: <446DD9CE.2010701@pobox.com>

Ellen De Beuckeleer wrote:
> Hi Frank, Didrik,
> 
> I added the GDAL_DATA to my environment variables and the "unnamed" 
> projection issue is solved ie. I now get:
> 
> PROJCS["WGS 84 / UTM zone 11N", GOEGCS[...], SPHEROID["WGS 84", 6378137, 
> 298.2572235630016],....]
> 
> I left out those things that are the same for what I expected. I have 
> however one more difference. What I expected is:
> 
> PROJCS["WGS 84 / UTM zone 11N", GOEGCS[...], SPHEROID["WGS 84", 6378137, 
> 298.2572235629972],....]
> 
> The difference is minimal (last 5 digits), but I wonder why this is. 
> Could this be an float/double issue, or a version difference in the 
> definition of the spheroid, or ???

Ellen,

The published value for inverse flattening I have for WGS84 from a couple
difference sources (EPSG and PROJ.4) is 298.257223563.  I'm not sure
why the spurious 0016 is being added to the end, but it is presumably
a floating point precision issue for doubles.

Why did you expect 298.2572235629972 as the inverse flattening for WGS84?

> Furthermore, is it possible to include the EPSG support files in the 
> gdal .dll file? It would be nice if I could run the program on other 
> computers without setting the GDAL_DATA variable manually.

This would be desirable, and I have considered implementing it but never
got around to it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Fri May 19 10:58:33 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GML writing issue
In-Reply-To: <21107.145.50.39.8.1148025080.squirrel@webmail.xs4all.nl>
References: <21107.145.50.39.8.1148025080.squirrel@webmail.xs4all.nl>
Message-ID: <446DDD19.6090407@pobox.com>

Bart van den Eijnden (OSGIS) wrote:
> Hi list,
> 
> when trying to use a Mapserver 4.8.3 generated GML file in OGR, we are
> running into a few issues. Mapserver uses ms as the namespace prefix in
> the GML. OGR raises a few warnings, but if I look into the resulting GML
> file all attribute information is lost in fact.
> 
> H:\appl\FWTools1.0.0a7\bin>ogr2ogr -f "GML" test.gml
> D:\temp\gdelivery\mapserv.gml
> Warning 1: Layer name 'ms:AAA132' adjusted to 'ms_AAA132' for XML validity.
> Warning 1: Field name 'ms:TDN_CODE' adjusted to 'ms_TDN_CODE' to be a valid
> XML element name.
> Warning 1: Field name 'ms:OMSCHRIJVI' adjusted to 'ms_OMSCHRIJVI' to be a
> valid
> XML element name.
> Warning 1: Field name 'ms:Area' adjusted to 'ms_Area' to be a valid
> XML element name.
> Warning 1: Field name 'ms:Perimeter' adjusted to 'ms_Perimeter' to be a valid
> XML element name.

Bart,

Could you file a bug on this issue providing a sample input file that
demonstrates the problem?

> A second issue, the boundingbox is screwed up in the process. Mapserver
> GML has:
>       <gml:boundedBy>
>       	<gml:Box srsName="EPSG:28992">
>       		<gml:coordinates>192519.015625,320687.375000
> 194164.359375,322355.968750</gml:coordinates>
>       	</gml:Box>
>       </gml:boundedBy>
> 
> The output from OGR is:
>   <gml:boundedBy>
>     <gml:Box>
>       <gml:coord><gml:X>0</gml:X><gml:Y>0</gml:Y></gml:coord>
>       <gml:coord><gml:X>194164.359375</gml:X><gml:Y>322355.96875</gml:Y></gml:coord>
>     </gml:Box>
>   </gml:boundedBy>
> 
> which gives trouble viewing the GML in e.g. Gaia.

Are you suggesting that the OGR GML box output is actually invalid
GML?  Any particular reason you think that, other than some apps not
reading it?  Some of these things have changed a bit between GML 2 and
GML 3.  Perhaps I'm outputing GML 3 boxes?

> Another issue is when transforming Mapserver GML into an ESRI Shapefile.
> The attributes in the dbf files are named ms:XXX. TatukGIS won't show any
> attribute info, and OpenEV even crashes on this shapefile.

Please file a bug with the details to reproduce this, and a shapefile that
will crash OpenEV.  As Mateusz says, a colon in a field name may be
bad karma for shapefiles, but I'm hesitant to doctor the shapefile field
names too much without really knowing which characters are safe and which
are not.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Fri May 19 11:09:57 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Python Problem
In-Reply-To: <845AADAC1106E44996327D62097E4C6B95DDAF@et.ad.sdsc.edu>
References: <845AADAC1106E44996327D62097E4C6B95DDAF@et.ad.sdsc.edu>
Message-ID: <446DDFC5.3030608@loskot.net>

Christopher Condit wrote:
> Hi All-
> I know little to nothing about Python, but am using it to perform some
> simple math on a collection of raster images.  In this case, calculating
> mean and variance cellwise on a collection of 40 raster files...
> 
> Here's what my code looks like as I collect all of the input bands into
> an array:
>     magnitudeBands = []
>     thetaBands = []
>     for depth in range(40):
>         inFile = "C:\\develop\\data\\l%i\\vel-%i.tif" % (depth, month)
>         inDataset = gdal.Open( inFile, GA_ReadOnly )                
>         magnitudeBands.append(inDataset.GetRasterBand(1))
>         thetaBands.append(inDataset.GetRasterBand(2))        
> 
> ... At this point when I examine magnitudeBands, everything looks
> correct.
> 
>     for y in range(magnitudeBands[0].YSize):        
>         for band in range(len(magnitudeBands)):            
>             line = magnitudeBands[band].ReadAsArray( 0, y,
> magnitudeBands[band].XSize, 1, magnitudeBands[band].XSize, 1 )

You're misusing ReadAsArray method.
Here is small snippet that should will help you to understand how to use
ReadAsArray to read horizontal line:

#########################################################
import gdal
from gdalconst import *
import struct

inFile =  "/home/mloskot/dev/gdal/data/tester.tif"
inDataset = gdal.Open( inFile, GA_ReadOnly )
band = inDataset.GetRasterBand(1)

for y in range(band.YSize):
    # Read horizontal scanline
    line = band.ReadAsArray(0, y, band.XSize, 1)

    # Unpack block of bytes to python tuple
    tpl = struct.unpack('B' * band.XSize, line)

    print "Line: %d, length: %d" % (y, len(tpl))

    # Print scanline values
    #print str(tpl)
#########################################################

It should be easy to add nested loop to iterated through bands of raster.

> But at this point, I get an exception:
> TypeError: Access window out of range in RasterIO().  Requested
> (0,0) of size 720x1 on raster of 9479520x0.

This error says that you passed wrong arguments in 3rd and 4th and
latter positions.

Check RasterIO documentation to learn what is xoff, yoff, xsize, ysize.

http://www.gdal.org/classGDALRasterBand.html#1eef7a21cf4809425c3edced99aa088f

ReadAsArray uses RasterIO function internally.


Cheers

-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Fri May 19 11:26:08 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GML writing issue
In-Reply-To: <446DDD19.6090407@pobox.com>
References: <21107.145.50.39.8.1148025080.squirrel@webmail.xs4all.nl>
	<446DDD19.6090407@pobox.com>
Message-ID: <446DE390.10904@loskot.net>

Frank Warmerdam wrote:
> Bart van den Eijnden (OSGIS) wrote:
> 
>> Hi list,
>>
>> when trying to use a Mapserver 4.8.3 generated GML file in OGR, we are
>> running into a few issues. Mapserver uses ms as the namespace prefix in
>> the GML. OGR raises a few warnings, but if I look into the resulting GML
>> file all attribute information is lost in fact.
>>
>> H:\appl\FWTools1.0.0a7\bin>ogr2ogr -f "GML" test.gml
>> D:\temp\gdelivery\mapserv.gml
>> Warning 1: Layer name 'ms:AAA132' adjusted to 'ms_AAA132' for XML
>> validity.
>> Warning 1: Field name 'ms:TDN_CODE' adjusted to 'ms_TDN_CODE' to be a
>> valid
>> XML element name.
>> Warning 1: Field name 'ms:OMSCHRIJVI' adjusted to 'ms_OMSCHRIJVI' to be a
>> valid
>> XML element name.
>> Warning 1: Field name 'ms:Area' adjusted to 'ms_Area' to be a valid
>> XML element name.
>> Warning 1: Field name 'ms:Perimeter' adjusted to 'ms_Perimeter' to be
>> a valid
>> XML element name.
> 
> 
> Bart,
> 
> Could you file a bug on this issue providing a sample input file that
> demonstrates the problem?
> 
>> A second issue, the boundingbox is screwed up in the process. Mapserver
>> GML has:
>>       <gml:boundedBy>
>>           <gml:Box srsName="EPSG:28992">
>>               <gml:coordinates>192519.015625,320687.375000
>> 194164.359375,322355.968750</gml:coordinates>
>>           </gml:Box>
>>       </gml:boundedBy>
>>
>> The output from OGR is:
>>   <gml:boundedBy>
>>     <gml:Box>
>>       <gml:coord><gml:X>0</gml:X><gml:Y>0</gml:Y></gml:coord>
>>      
>> <gml:coord><gml:X>194164.359375</gml:X><gml:Y>322355.96875</gml:Y></gml:coord>
>>
>>     </gml:Box>
>>   </gml:boundedBy>
>>
>> which gives trouble viewing the GML in e.g. Gaia.
> 
> 
> Are you suggesting that the OGR GML box output is actually invalid
> GML?  Any particular reason you think that, other than some apps not
> reading it?

IMO this output if valid GML 2.
According to schema in geometry.xsdv2.06 gmlBox can correctly encode
coordinates in one of following
style: gml:coord or gml:coordinates what <choice> XSD selector suggests:

<sequence>
<choice>
<element ref="gml:coord" minOccurs="2" maxOccurs="2"/>
<element ref="gml:coordinates"/>
</choice>
</sequence>

> Some of these things have changed a bit between GML 2 and
> GML 3.  Perhaps I'm outputing GML 3 boxes?

No, I don't think this output is GML 3.
AFIK, in GML 3, gml:Box has been replaced with gml:boundingBox.
gml:boundingBox is of type of Envelope which also allows to use
gml:coord or gml:coordinates as subelements.

gml:Box is deprecated and used only for backward compatibility and as
such, it's defined as gml:Envelope type:

"NOTE To provide backward compatibility with GML version 2, an
additional element gml:Box is provided, with an identical content model
and substitutable for gml:Envelope. This component is deprecated and
should not be used in new applications."

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From bartvde at xs4all.nl  Fri May 19 12:15:50 2006
From: bartvde at xs4all.nl (Bart van den Eijnden (OSGIS))
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GML writing issue
In-Reply-To: <446DE390.10904@loskot.net>
References: <21107.145.50.39.8.1148025080.squirrel@webmail.xs4all.nl>	<446DDD19.6090407@pobox.com>
	<446DE390.10904@loskot.net>
Message-ID: <446DEF36.3070500@xs4all.nl>

Hi Frank, Mateusz,

I am not saying it is invalid GML, I am saying the values are wrong.

XMIN and YMIN in the Mapserver GML are:

192519.015625
320687.375000

But in OGR's output they are both 0.

I will file some bugs on Monday.

Best regards,
Bart

Mateusz Loskot wrote:

>Frank Warmerdam wrote:
>  
>
>>Bart van den Eijnden (OSGIS) wrote:
>>
>>    
>>
>>>Hi list,
>>>
>>>when trying to use a Mapserver 4.8.3 generated GML file in OGR, we are
>>>running into a few issues. Mapserver uses ms as the namespace prefix in
>>>the GML. OGR raises a few warnings, but if I look into the resulting GML
>>>file all attribute information is lost in fact.
>>>
>>>H:\appl\FWTools1.0.0a7\bin>ogr2ogr -f "GML" test.gml
>>>D:\temp\gdelivery\mapserv.gml
>>>Warning 1: Layer name 'ms:AAA132' adjusted to 'ms_AAA132' for XML
>>>validity.
>>>Warning 1: Field name 'ms:TDN_CODE' adjusted to 'ms_TDN_CODE' to be a
>>>valid
>>>XML element name.
>>>Warning 1: Field name 'ms:OMSCHRIJVI' adjusted to 'ms_OMSCHRIJVI' to be a
>>>valid
>>>XML element name.
>>>Warning 1: Field name 'ms:Area' adjusted to 'ms_Area' to be a valid
>>>XML element name.
>>>Warning 1: Field name 'ms:Perimeter' adjusted to 'ms_Perimeter' to be
>>>a valid
>>>XML element name.
>>>      
>>>
>>Bart,
>>
>>Could you file a bug on this issue providing a sample input file that
>>demonstrates the problem?
>>
>>    
>>
>>>A second issue, the boundingbox is screwed up in the process. Mapserver
>>>GML has:
>>>      <gml:boundedBy>
>>>          <gml:Box srsName="EPSG:28992">
>>>              <gml:coordinates>192519.015625,320687.375000
>>>194164.359375,322355.968750</gml:coordinates>
>>>          </gml:Box>
>>>      </gml:boundedBy>
>>>
>>>The output from OGR is:
>>>  <gml:boundedBy>
>>>    <gml:Box>
>>>      <gml:coord><gml:X>0</gml:X><gml:Y>0</gml:Y></gml:coord>
>>>     
>>><gml:coord><gml:X>194164.359375</gml:X><gml:Y>322355.96875</gml:Y></gml:coord>
>>>
>>>    </gml:Box>
>>>  </gml:boundedBy>
>>>
>>>which gives trouble viewing the GML in e.g. Gaia.
>>>      
>>>
>>Are you suggesting that the OGR GML box output is actually invalid
>>GML?  Any particular reason you think that, other than some apps not
>>reading it?
>>    
>>
>
>IMO this output if valid GML 2.
>According to schema in geometry.xsdv2.06 gmlBox can correctly encode
>coordinates in one of following
>style: gml:coord or gml:coordinates what <choice> XSD selector suggests:
>
><sequence>
><choice>
><element ref="gml:coord" minOccurs="2" maxOccurs="2"/>
><element ref="gml:coordinates"/>
></choice>
></sequence>
>
>  
>
>>Some of these things have changed a bit between GML 2 and
>>GML 3.  Perhaps I'm outputing GML 3 boxes?
>>    
>>
>
>No, I don't think this output is GML 3.
>AFIK, in GML 3, gml:Box has been replaced with gml:boundingBox.
>gml:boundingBox is of type of Envelope which also allows to use
>gml:coord or gml:coordinates as subelements.
>
>gml:Box is deprecated and used only for backward compatibility and as
>such, it's defined as gml:Envelope type:
>
>"NOTE To provide backward compatibility with GML version 2, an
>additional element gml:Box is provided, with an identical content model
>and substitutable for gml:Envelope. This component is deprecated and
>should not be used in new applications."
>
>Cheers
>  
>


-- 
Bart van den Eijnden
OSGIS, Open Source GIS
http://www.osgis.nl


From mateusz at loskot.net  Fri May 19 12:52:27 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GML writing issue
In-Reply-To: <446DEF36.3070500@xs4all.nl>
References: <21107.145.50.39.8.1148025080.squirrel@webmail.xs4all.nl>	<446DDD19.6090407@pobox.com>
	<446DE390.10904@loskot.net> <446DEF36.3070500@xs4all.nl>
Message-ID: <446DF7CB.7020000@loskot.net>

Bart van den Eijnden (OSGIS) wrote:
> Hi Frank, Mateusz,
> 
> I am not saying it is invalid GML, I am saying the values are wrong.
> 
> XMIN and YMIN in the Mapserver GML are:
> 
> 192519.015625
> 320687.375000
> 
> But in OGR's output they are both 0.
> 
> I will file some bugs on Monday.

Hi,

Strange.
I have a sample of GML 2.0 file with

<gml:boundedBy>
<gml:Box>
<gml:coordinates>
278653.100,187444.800 279095.300,187898.250
</gml:coordinates>
</gml:Box>
</gml:boundedBy>

and after I run
ogr2ogr -f "GML" test.gml MySampleGML.gml
the output is changed but correct:

<gml:boundedBy>
<gml:Box>
<gml:coord><gml:X>278653.1</gml:X><gml:Y>187444.8</gml:Y></gml:coord>
<gml:coord><gml:X>279095.3</gml:X><gml:Y>187898.25</gml:Y></gml:coord>
</gml:Box>
</gml:boundedBy>

I'd need to test using your GML file. Is it possible send me one?

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From condit at sdsc.edu  Fri May 19 13:57:20 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Python Problem
Message-ID: <845AADAC1106E44996327D62097E4C6B95DE12@et.ad.sdsc.edu>

Hi Mateusz-
Thanks for your reply.  The code actually works fine as long as I don't put the bands into an array.  As soon as I add more than one band to the bands structure, I get the exception when attempting to ReadAsArray.  All of my rasters are exactly the same size (720x330).  
Here's a better piece of code illustrating the problem I'm having:

bands=[]
for timeSlice in range(60):
    file = "C:\\develop\\brewin\\vel-%i.tif" % timeSlice
    dataset = gdal.Open( file, GA_ReadOnly )
    bands.append(dataset.GetRasterBand(1))
for iter in range(len(bands)):    
    #The following line prints correctly (720x330)
    print "Dimension: (%i, %i)" % (bands[iter].XSize, bands[iter].YSize)
    #The following line throws 
    #TypeError: Access window out of range in RasterIO().  Requested
    #(0,0) of size 720x1 on raster of 65x16. 
    line = bands[iter].ReadAsArray( 0, 0, bands[iter].XSize, 1 )   

Thanks for any help,

Chris


-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
Sent: Friday, May 19, 2006 8:10 AM
To: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Python Problem

Christopher Condit wrote:
> Hi All-
> I know little to nothing about Python, but am using it to perform some
> simple math on a collection of raster images.  In this case, calculating
> mean and variance cellwise on a collection of 40 raster files...
> 
> Here's what my code looks like as I collect all of the input bands into
> an array:
>     magnitudeBands = []
>     thetaBands = []
>     for depth in range(40):
>         inFile = "C:\\develop\\data\\l%i\\vel-%i.tif" % (depth, month)
>         inDataset = gdal.Open( inFile, GA_ReadOnly )                
>         magnitudeBands.append(inDataset.GetRasterBand(1))
>         thetaBands.append(inDataset.GetRasterBand(2))        
> 
> ... At this point when I examine magnitudeBands, everything looks
> correct.
> 
>     for y in range(magnitudeBands[0].YSize):        
>         for band in range(len(magnitudeBands)):            
>             line = magnitudeBands[band].ReadAsArray( 0, y,
> magnitudeBands[band].XSize, 1, magnitudeBands[band].XSize, 1 )

You're misusing ReadAsArray method.
Here is small snippet that should will help you to understand how to use
ReadAsArray to read horizontal line:

#########################################################
import gdal
from gdalconst import *
import struct

inFile =  "/home/mloskot/dev/gdal/data/tester.tif"
inDataset = gdal.Open( inFile, GA_ReadOnly )
band = inDataset.GetRasterBand(1)

for y in range(band.YSize):
    # Read horizontal scanline
    line = band.ReadAsArray(0, y, band.XSize, 1)

    # Unpack block of bytes to python tuple
    tpl = struct.unpack('B' * band.XSize, line)

    print "Line: %d, length: %d" % (y, len(tpl))

    # Print scanline values
    #print str(tpl)
#########################################################

It should be easy to add nested loop to iterated through bands of raster.

> But at this point, I get an exception:
> TypeError: Access window out of range in RasterIO().  Requested
> (0,0) of size 720x1 on raster of 9479520x0.

This error says that you passed wrong arguments in 3rd and 4th and
latter positions.

Check RasterIO documentation to learn what is xoff, yoff, xsize, ysize.

http://www.gdal.org/classGDALRasterBand.html#1eef7a21cf4809425c3edced99aa088f

ReadAsArray uses RasterIO function internally.


Cheers

-- 
Mateusz ?oskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From nhv at cape.com  Fri May 19 14:12:05 2006
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Python Problem
In-Reply-To: <845AADAC1106E44996327D62097E4C6B95DE12@et.ad.sdsc.edu>
Message-ID: <EKEJIKAILPONGGENMBGAOEKBAGAB.nhv@cape.com>

Christopher Condit writes:

> Here's a better piece of code illustrating the problem I'm having:
> 
> bands=[]
> for timeSlice in range(60):
>     file = "C:\\develop\\brewin\\vel-%i.tif" % timeSlice
>     dataset = gdal.Open( file, GA_ReadOnly )
>     bands.append(dataset.GetRasterBand(1))
> for iter in range(len(bands)):    
>     #The following line prints correctly (720x330)
>     print "Dimension: (%i, %i)" % (bands[iter].XSize, bands[iter].YSize)
>     #The following line throws 
>     #TypeError: Access window out of range in RasterIO().  Requested
>     #(0,0) of size 720x1 on raster of 65x16. 
>     line = bands[iter].ReadAsArray( 0, 0, bands[iter].XSize, 1 )   
> 
> Thanks for any help,


## adapted from $GDAL/pymod/samples/rel.py  
## untested

bands=[]
for timeSlice in range(60):
    file = "C:\\develop\\brewin\\vel-%i.tif" % timeSlice
    dataset = gdal.Open( file, GA_ReadOnly )
    bands.append(dataset.GetRasterBand(1))

for band in bands:    
    print "Dimension: (%i, %i)" % (band.XSize, band.YSize)
    for i in range( band.YSize - 1):
      line = band.ReadAsArray(0, i + 1, band.XSize, 1, band.XSize, 1)[0]

HTH

Norman

From mateusz at loskot.net  Fri May 19 15:02:07 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] just trying to install/import
In-Reply-To: <f6602d370605191154j241dcf3eq31e5ad8b2042d27f@mail.gmail.com>
References: <f6602d370605151635x3e78bb3asccc1eeddffc83e09@mail.gmail.com>	
	<44696284.60909@loskot.net>	
	<f6602d370605161224m242f540fm2f02702ed90f2e49@mail.gmail.com>	
	<446A2AB9.6040404@loskot.net>	
	<f6602d370605161351g20c8f028y8e167cdc1a018991@mail.gmail.com>	
	<446D942F.7040402@loskot.net>
	<f6602d370605191154j241dcf3eq31e5ad8b2042d27f@mail.gmail.com>
Message-ID: <446E162F.80407@loskot.net>

Jeremy Freund wrote:
> Hello Mateusz,
> 
> When I went and changed the system path, it's now giving me a
> confliction error (Python 2.3 is conflicting with the Python 2.4 dll).
> There must be another env. variable that points to the python dll? Error
> below:
> 
> Traceback (most recent call last):
>   File "<interactive input>", line 1, in ?
>   File "gdal.py", line 191, in ?
>     import _gdal
> ImportError: Module use of python23.dll conflicts with this version of
> Python.

Sorry, but I don't see any possibility to use Python 2.4 with
FWTools. As you see, GDAL bindings are linked to Python 2.3 and you
can't skip it.

You can try to build GDAL against Python 2.4 yourself.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From Charles.Wivell at dnr.state.mn.us  Fri May 19 15:21:20 2006
From: Charles.Wivell at dnr.state.mn.us (Charles Wivell)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] CreateCopy or Create to fill with zeros?
Message-ID: <s46dd482.096@co5.dnr.state.mn.us>

Hi all;

Simple question... I have a very large Dataset and I want to copy it, except that,  instead of copying the raster data, I want it filled with zeros. Can I use CreateCopy(...) with something set in the papzOptions.....? I know I can use Create(...), but I'm not sure if Create(...) zeros the disk space where the raster data is stored.

I'm programming in C++.

Thanks

Chuck Wivell
MN DNR 



_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev



From mateusz at loskot.net  Fri May 19 15:55:32 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] just trying to install/import
In-Reply-To: <f6602d370605191227u4723b8c9pce0af096440d7c6d@mail.gmail.com>
References: <f6602d370605151635x3e78bb3asccc1eeddffc83e09@mail.gmail.com>	
	<44696284.60909@loskot.net>	
	<f6602d370605161224m242f540fm2f02702ed90f2e49@mail.gmail.com>	
	<446A2AB9.6040404@loskot.net>	
	<f6602d370605161351g20c8f028y8e167cdc1a018991@mail.gmail.com>	
	<446D942F.7040402@loskot.net>	
	<f6602d370605191154j241dcf3eq31e5ad8b2042d27f@mail.gmail.com>	
	<446E162F.80407@loskot.net>
	<f6602d370605191227u4723b8c9pce0af096440d7c6d@mail.gmail.com>
Message-ID: <446E22B4.7030500@loskot.net>

Jeremy Freund wrote:
> yes...I was coming to that conclusion...any ideas where I can get the
> gdal binaries? (and not the source). or do I need to build from source
> to have it work?

AFAIK, for Windows, you have to build it yourself.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From christian.graefe at web.de  Fri May 19 18:38:09 2006
From: christian.graefe at web.de (christian.graefe@web.de)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GDAL/OGR C# wrapper
Message-ID: <19391646.1148078290336.JavaMail.fmail@fmcert02.dlan.cinetic.de>

Hi @all,

for all guys, who are interested.
I update the C# GDALWrapper slightly.
- documentation update
- now it automatically sets the path to the FwTools bin directory (thanks to Morten sharpmap.iter.dk)

I also added an updated version for the Ogr data provider for the lastest SharpMap v0.9RC1 .

look at http://www.volley-boy.de/home/sharpmap.aspx

any feedback is welcome

Christian
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 1791 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060520/0ca07b2a/smime.bin
From sy at perkins.net  Fri May 19 19:28:25 2006
From: sy at perkins.net (Simon Perkins)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] CreateCopy or Create to fill with zeros?
In-Reply-To: <s46dd482.096@co5.dnr.state.mn.us>
References: <s46dd482.096@co5.dnr.state.mn.us>
Message-ID: <446E5499.8080702@perkins.net>

You can use Create() to create a dataset of the appropriate size, and 
then you can use the GDALFillRaster() function (or 
GDALRasterBand::Fill()) to fill it with any value you like. I'm pretty 
sure that drivers are not in general guaranteed to fill a newly created 
dataset with zeros, though I expect some do.

Cheers,

Sy


Charles Wivell wrote:
> Hi all;
>
> Simple question... I have a very large Dataset and I want to copy it, except that,  instead of copying the raster data, I want it filled with zeros. Can I use CreateCopy(...) with something set in the papzOptions.....? I know I can use Create(...), but I'm not sure if Create(...) zeros the disk space where the raster data is stored.
>
> I'm programming in C++.
>
> Thanks
>
> Chuck Wivell
> MN DNR 
>
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>   


From mateusz at loskot.net  Sat May 20 04:39:00 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] GDAL v1.3.2 on linux - no PGEO driver
In-Reply-To: <446D8D1C.4070606@lparchaeology.com>
References: <446C6B3A.8020604@lparchaeology.com> <446CE34F.3000307@loskot.net>
	<446D8D1C.4070606@lparchaeology.com>
Message-ID: <446ED5A4.4010307@loskot.net>

Hi Stuart,

It seems I've managed to run ogrinfo against PGeo datasets.

Stuart Eve wrote:
> The system that I had it set up on is Suse 10, with unixODBC 2.2.10 and
> I started out with mdbtools 0.5 and gdal 1.3.1

I have Ubuntu 5.10 + unixODBC 2.2.4 + mdbtools 0.5.99.0.6pre1.0.
I installed all these tools from Ubuntu packages.

> 1. The PGeo is currently set up to look for a driver called Microsoft
> Access Driver (*.mdb) - this of course doesn't exist by default (but it
> may be possible to set a driver up in the odbcinst.ini - I was going to
> try that but then upgraded my gdal and 'lost' the pGeo driver)

I thikn, this is because of portability.
On Windows, the driver is called that way.

> 2. I set up a new driver (in odbcinst.ini) called MDBToolsODBC - and
> pointed it at the mdbtools driver (libmdbodbc.so.0)
>
> 3. I then went into the source code and changed
> ogr/ogrsf_frmts/pgeo/ogrpgeodatasource.cpp Line 104 to read: sprintf(
> pszDSN, "DRIVER=MDBToolsODBC;DBQ=%s", pszNewName).

I think this is not necessary. Simply, you can use the driver name used
by OGR.
Here is my /etc/odbcinst.ini file:

[Microsoft Access Driver (*.mdb)]
Description = MDB Tools ODBC drivers
Driver     = /usr/lib/libmdbodbc.so.0
Setup      =
FileUsage  = 1
CPTimeout  =
CPReuse    =

Here is my $HOME/.odbc.ini file with DSN's:

[stuart_pgeo]
Description = Stuart PGeo Database
Driver      = Microsoft Access Driver (*.mdb)
Database    = /home/mloskot/data/samples/pgeo/stuart.mdb
Host        = localhost
Port        = 1360
User        = mloskot
Password    =
Trace       = Yes
TraceFile   = /home/mloskot/tmp/odbc.log

And with this configuration ogrinfo works!

> 4. I ran ogrinfo (pointing it at my geodatabase) and Bingo it connected!
> However, I then got a message saying that 'table GDB is not a table'. It
> turns out that the current stable version 0.5 of mdbtools has a bug in
> it that doesn't recognise underscores in table names - so all of the GDB
> tables were getting rejected!

Here is output I got from ogrinfo running against your database:

#---------------------------------------------------------------
mloskot:~$ ogrinfo PGeo:stuart_pgeo
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
INFO: Open of `PGeo:stuart_pgeo'
using driver `PGeo' successful.
1: cxt_gtb_levels
2: cxt_gtb_cxt_schm
3: cxt_gtb_cxt_pg
4: pln_gtb_trunc
5: cxt_gtb_cxt_pl
6: cxt_labels
#---------------------------------------------------------------

As you see, layers are recognized (almost) well.
Here is output for sample layer from your database:

#---------------------------------------------------------------
mloskot:~/data/samples$ ogrinfo PGeo:stuart_pgeo pln_gtb_trunc
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
ERROR 1: importFromWKT() failed on SRS 'PROJCS["Brit'.
INFO: Open of `PGeo:stuart_pgeo'
using driver `PGeo' successful.

Layer name: pln_gtb_trunc
Geometry: Unknown (any)
Error at Line : syntax error near (
ERROR 1: GetFeatureCount() failed on query SELECT COUNT(*) FROM
pln_gtb_trunc.

Feature Count: -1
Extent: (531907.600000, 181008.500000) - (531945.000000, 181037.200000)
Layer SRS WKT:
(unknown)
OBJECTID: Integer (4.0)
symbol: Integer (4.0)
source: String (12.0)
comments: String (12.0)
SHAPE_Length: Real (0.0)
cxt_no: Integer (4.0)
OGRFeature(pln_gtb_trunc):1
  OBJECTID (Integer) = 1
  symbol (Integer) = 3
  source (String) = PLNFBN05_0012
  comments (String) = (null)
  SHAPE_Length (Real) = 0.99333
  cxt_no (Integer) = (null)

.......
#---------------------------------------------------------------


The only problem is with projection WKT.
I suppose it's because this WKT is ESRI-style WKT, but I'm not sure if
this the case here.

> 5. I upgraded my mdbtools to 0.6 - the CVS version (with the underscore
> bugfix) - and then at the same time upgraded my gdal and hence lost the
> PGeo driver - so haven't been able to test a PGeo connection. However, I
> can now read the geodatabase using the ODBC driver and list the tables,
> etc. so the underscore bug is definitely fixed. So close!!

Yup, I think so.


> Ok since starting this email  I have just set up a driver in my
> odbcinst.ini called [Microsoft Access Driver (*.mdb)] and ran an ogrinfo
> ODBC:/path/to/geodb and it connected just fine (but of course didn't
> recognise it as a geodatbase - but the ODBC connection read it).

As you can see from details above, PGeo drivers works.
I also tried to run with ODBC driver:

mloskot:~/data/samples$ ogrinfo ODBC:stuart_pgeo
geometry_columns is not a table in this database
ERROR 1: No column definitions found for table 'MSysACEs', layer not usable.
...
INFO: Open of `ODBC:stuart_pgeo'
using driver `ODBC' successful.
1: MSysObjects

and - no surprise - the database is open but not recognized as PGeo.

> So in conclusion (sorry for long email) - I think that if you manage to
> get PGeo installing for gdal1.3.2 - all a linux user would have to do to
> get it to access geodatabases (at least with unixODBC) is to install
> mdbtools 0.6 and set up a Driver in their odbcinst.ini called [Microsoft
> Access Driver (*.mdb)] pointing at libmdbodbc.so.0.
> 
> So I look forward to your bugfix so I can try it out!

I think I can say the PGeo driver is working.
I have not tested any serious data exploitation using PGeo driver so
there may be problems hidding there.

Frank:
What do you think? What should I test else?

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From woklist at kyngchaos.com  Sun May 21 00:58:46 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Big Mac OS X packages update
Message-ID: <CED7CFCE-7B18-4E8D-8C6A-92DA1B3E465D@kyngchaos.com>

That is, my installers for Mac OS X for Graphics Libs, GIS Libs,  
PHP4, Postgres/PostGIS and MapServer.

See the full details on my site.  Here's a summary:

- All packages are now both Panther and Tiger compatible, instead of  
the old separate packages for Panther and Tiger.  These are built on  
Tiger with GCC 4, so any developers using GCC 3.3 won't be able to  
use them (C++ compatibility).  The Panther-only packages will still  
be available, but may lag behind.

- mcrypt, mhash and sqlite 3 were added to PHP

- DAP added, and now supported in GDAL

- I finally figured out how to build HDF5 Universal

- Python 2.4.3 Universal support added: GDAL, Postgres, MapServer

- GDAL updated to 1.3.2

- many other version updates


I'm working on a PHP5 installer, with PHP MapScript to go along with  
it, and Perl MapScript (getting a Universal build of that requires  
both PPC and Intel Macs because of deficiencies in the Universal SDK).

An Intel Mac is in the mail so I can work out Perl MapScript and do  
some serious testing of everything.

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin



From peter.rushforth at gmail.com  Sun May 21 05:07:24 2006
From: peter.rushforth at gmail.com (Peter Rushforth)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] ogr gml reader needs an update
Message-ID: <1fd798f40605210207l7801ee6as83d103fe73fc1ba2@mail.gmail.com>

I think the gml reader needs to be updated to allow for string field
widths to be recognized from either an available xsd or gfs file.

Could someone give me some pointers as to where to jump in?
The ogr2ogr.cpp must have some kind of abstract feature that
it uses in order to translate between feature types...  I must have
to start there no?

Here's what I think needs doing:

I can see that gmlfeatureclass.cpp is where the system reads
the specs from the gfs file.  parsexsd.cpp is where it reads them
from the xsd file.  I would need to create getters and setters for
m_nWidth in gmlreader.cpp and gmlreader.h.

Once that was done, how would the ogr2ogr system know to use
the new property when creating output?

Thanks for any advice

Cheers,
Peter


From porath at web.de  Mon May 22 11:51:44 2006
From: porath at web.de (porath@web.de)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] force gdaltindex to use world files
Message-ID: <561540742@web.de>

Hi,

i have some geotiff and mrsid files which have wrong georeferencing information in them. I created correct world files but gdaltindex ignores them. Is there an option to force gdaltindex to use the world files?

Thanks in advance.

Holger 
_______________________________________________________________
SMS schreiben mit WEB.DE FreeMail - einfach, schnell und
kostenguenstig. Jetzt gleich testen! http://f.web.de/?mc=021192


From warmerdam at pobox.com  Mon May 22 12:35:13 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] force gdaltindex to use world files
In-Reply-To: <561540742@web.de>
References: <561540742@web.de>
Message-ID: <4471E841.4070206@pobox.com>

porath@web.de wrote:
> Hi,
> 
> i have some geotiff and mrsid files which have wrong georeferencing information in them. I created correct world files but gdaltindex ignores them. Is there an option to force gdaltindex to use the world files?
> 
> Thanks in advance.

Holger,

No, unfortunately there currently is not.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Mon May 22 13:07:03 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] ogr gml reader needs an update
In-Reply-To: <1fd798f40605210207l7801ee6as83d103fe73fc1ba2@mail.gmail.com>
References: <1fd798f40605210207l7801ee6as83d103fe73fc1ba2@mail.gmail.com>
Message-ID: <4471EFB7.7070301@pobox.com>

Peter Rushforth wrote:
> I think the gml reader needs to be updated to allow for string field
> widths to be recognized from either an available xsd or gfs file.
> 
> Could someone give me some pointers as to where to jump in?
> The ogr2ogr.cpp must have some kind of abstract feature that
> it uses in order to translate between feature types...  I must have
> to start there no?
> 
> Here's what I think needs doing:
> 
> I can see that gmlfeatureclass.cpp is where the system reads
> the specs from the gfs file.  parsexsd.cpp is where it reads them
> from the xsd file.  I would need to create getters and setters for
> m_nWidth in gmlreader.cpp and gmlreader.h.
> 
> Once that was done, how would the ogr2ogr system know to use
> the new property when creating output?

Peter,

This sounds like an excellent idea.  It sounds like you have the general
idea how to handle this.

The GMLPropertyDefn (defined in gmlreader.h) will need a width parameter.

The methods for reading and writing the gfs file should have the width
added as a new element for the <PropertyDefn>.  This would require
updates to the GMLFeatureClass::InitializeFromXML() and GMLFeatureClass::
SerializeToXML() methods.

You could look at adding support for widths to parsexsd.cpp too, but this
is really "experimental" support for the "level 0" GML and may not be working
well currently.

You will also want to alter GMLPropertyDefn::AnalysePropertyValue().  This
method is applied during the "prepass" for generating new .gfs information
from GML files.  It currently does a bunch of checking to set or reset the
property type based on the value.  You will also want to have it set and
grow the property width based on the values found.

Hopefully this gives you enough to go on.  If you don't have time to do this,
either Mateusz or I could do it instead.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From dhiraj.goel at niit-tech.com  Tue May  9 06:37:23 2006
From: dhiraj.goel at niit-tech.com (Dhiraj Goel)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] convert tiff file with world file into geotiff [solved]
Message-ID: <934F531A825AFF4F863658E2402E064706BB006C@ho-kkj-msg3.in.niit.com>

Dear Sir,
 
 
I am Dhiraj Goel from India working in the field of photogrammetry.
Recently, i was searching related to tiff to Geotiff conversion on the
internet and got your webpage.
Could you please let me know the procedure to convert tiff file with world
file into the geotiff format? Do i need to use any special software or
application?
 
Looking forward for your response.

Kind regards, 
Dhiraj Goel
NIIT GIS Ltd 
Phone: +91-11-26203822, +91-11-26203840Cell: +91-9891118886, Fax:
+91-11-26203838 
Email: dhiraj.goel@niit-tech.com <mailto:dhiraj.goel@niit-tech.com> 

 
----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely for the use of the individual or entity to which it is addressed. Any use, distribution, copying or disclosure by any other person is strictly prohibited. If you receive this transmission in error, please notify the sender by reply email and then destroy the message. Opinions, conclusions and other information in this message that do not relate to official business of the company shall be understood to be neither given nor endorsed by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this email, when addressed to Clients is subject to the terms and conditions in governing client contract.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060509/30a5a33e/attachment.html
From hi_ono2001 at yahoo.co.jp  Wed May 10 10:29:14 2006
From: hi_ono2001 at yahoo.co.jp (Hisaji ONO)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] What algorithm employs in ogr2ogr map projection about
	UTM to Transverse Mercator Projection
Message-ID: <20060510142914.70095.qmail@web10701.mail.bbt.yahoo.co.jp>

Hello.

 UTM and Transverse Mercator Projection has almost same
projection method.

 What kind of algorithm are employed in ogr2ogr's map
projection about conversion from UTM to Transverse
Mercator Projection in same area?

 Could it be that UTM-> geographic coordinates ->
Transverse Mercator?



 Regards.



From hi_ono2001 at yahoo.co.jp  Wed May 10 10:35:44 2006
From: hi_ono2001 at yahoo.co.jp (Hisaji ONO)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] What algorithm employed in ogr2ogr map projection about
	UTM to Transverse Mercator Projection
Message-ID: <20060510143544.33186.qmail@web10708.mail.bbt.yahoo.co.jp>

Hello.

 UTM and Transverse Mercator Projection has almost same
projection method.

 What kind of algorithm are employed in ogr2ogr's map
projection about conversion from UTM to Transverse
Mercator Projection in same area?

 Could it be that UTM-> geographic coordinates ->
Transverse Mercator?



 Regards.



From apdorta at hotmail.com  Sun May 14 16:35:54 2006
From: apdorta at hotmail.com (Antonio Dorta)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Doubt about openning HDF files
Message-ID: <BAY102-F237345D392532F6A64C3CBB2A20@phx.gbl>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060514/0a989215/attachment.html
From juan.castaneda at nuigalway.ie  Thu May 18 06:53:02 2006
From: juan.castaneda at nuigalway.ie (Juan Carlos Castaneda)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] AVHRR NOAA level 1b
Message-ID: <446C520E.5050308@nuigalway.ie>

Dear list,

I'm trying to use GDAL to geocode AVHRR level 1b images. It's not giving 
me good results. I went to the archives and Google to find what's 
happening and I read that the algorithm to geocode is not the best for 
these type of image. From the documentation:
"that GDAL simple affine georeference model completely unsuitable for 
the NOAA data. So you should not rely on it. It is recommended to use 
the thin plate spline warper (tps). Automatic image rectification can be 
done with ground control points (GCPs) from the input file. NOAA stores 
51 GCPs per scanline both in the LAC and GAC datasets."

Any suggestions how to do the "thin plate spline warper (tps)" for these 
images? Can it be done with GDAL?

Thank you

Juan C. Castaneda


From H.Porath at hzd.hessen.de  Mon May 22 11:42:52 2006
From: H.Porath at hzd.hessen.de (H.Porath@hzd.hessen.de)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] force gdaltindex to use world files
Message-ID: <7101AA2E2C89C04E8571E76DE285AFCC04CDCEB1@srvhzdexc095.hzd.hessen.de>

Hi,

i have some geotiff and mrsid files which have wrong georeferencing
information in them. I created correct world files but gdaltindex
ignores them. Is there an option to force gdaltindex to use the world
files?

Thanks in advance.

Holger 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060522/9c14b74b/attachment.html
From Martin.Schmoll at EC.gc.ca  Thu May  4 15:13:11 2006
From: Martin.Schmoll at EC.gc.ca (Schmoll,Martin [Edm])
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] ESRI Personal GeoDatabase driver
Message-ID: <F1F72C9F1DE9D443A9E7675A6608B2CE027F5E58@sr-pnr-exch2.prairie.int.ec.gc.ca>

Hi,

 

I'm new to MapServer, and am trying to use it with data in the ESRI
Personal Geodatabase format.  I've installed ms4w 1.5.1., which includes
GDAL\OGR 1.3.1.

 

Apparently the ESRI Personal GeoDatabase format should be supported:
http://ogr.maptools.org/ogr_formats.html

 

When I run the ogrinfo utility on the .mdb file, I get: 

 

            FAILURE:

            Unable to open datasource with the following drivers.

 

A list of drivers is then displayed, which does not include ESRI
Personal Geodatabase.

 

How do I get/use that driver?

 

 

///////////////////////////////////////////////

Martin Schmoll, BES, GIS Dipl.

Canadian Wildlife Service, Environment Canada

4999 - 98 Ave NW, Room 200

Edmonton, AB, T6B 2X3

ph: 780-951-8776  email: martin.schmoll@ec.gc.ca

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060504/12a2b972/attachment.html
From mulholland at nemesis.tucson.saic.com  Thu May 11 11:35:03 2006
From: mulholland at nemesis.tucson.saic.com (Sarah Mulholland)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Inserting RPC data into an image?
Message-ID: <446359A7.5050502@nemesis.tucson.saic.com>

I have a NITF image and RPC data in an external 
file.  I'd like to embed the RPC data in the NITF 
file.  I see there's a GDALExtractRPCInfo function 
in gdal.  Would it be straightforward to create a 
similar GDALInsertRPCInfo function?

Here's what I want to do:
	- read the image (or the header),
	- fill a GDALRPCInfo object with the right values,
	- insert the RPC object into the image (gdal data 
set),
	- write it out with a new name.

Is this straightforward to do?

Thank in advance.

Sarah




From reid101x at alltel.net  Thu May 18 23:32:46 2006
From: reid101x at alltel.net (Joshua Reid)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Exception breakpoint error please help me
Message-ID: <000501c67af4$e6005c30$01fea8c0@ruger1kuz7sdp3>

i read your other post thought u might know how to get rid of this i get an
error when opening certain websites it says the exception breakpoint a
breakpoint has been reached 0x80000003 occurred in the application at
location 0x77f97704 can u tell me how to go in and fix this problem
thank you


From mateusz at loskot.net  Mon May 22 13:43:22 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] convert tiff file with world file into geotiff [solved]
In-Reply-To: <934F531A825AFF4F863658E2402E064706BB006C@ho-kkj-msg3.in.niit.com>
References: <934F531A825AFF4F863658E2402E064706BB006C@ho-kkj-msg3.in.niit.com>
Message-ID: <4471F83A.6080404@loskot.net>

Dhiraj Goel wrote:
>  
> I am Dhiraj Goel from India working in the field of photogrammetry.
> Recently, i was searching related to tiff to Geotiff conversion on the
> internet and got your webpage.
> Could you please let me know the procedure to convert tiff file with
> world file into the geotiff format? Do i need to use any special
> software or application?

Dhiraj,

Please, check gdal_translate utility
http://www.gdal.org/gdal_translate.html

and description of how GDAL handles TIFF/GeoTIFF formats:

http://www.gdal.org/frmt_gtiff.html

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Mon May 22 13:45:06 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] Exception breakpoint error please help me
In-Reply-To: <000501c67af4$e6005c30$01fea8c0@ruger1kuz7sdp3>
References: <000501c67af4$e6005c30$01fea8c0@ruger1kuz7sdp3>
Message-ID: <4471F8A2.9040705@loskot.net>

Joshua Reid wrote:
> i read your other post thought u might know how to get rid of this i
> get an error when opening certain websites it says the exception
> breakpoint a breakpoint has been reached 0x80000003 occurred in the
> application at location 0x77f97704 can u tell me how to go in and fix
> this problem

How does this issue relate to GDAL/OGR?
If it's about GDAL, please, provide us with more detailed description of
the problem.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From tonio_73 at tiscali.fr  Mon May 22 13:50:44 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:09 2007
Subject: [Gdal-dev] VRT format Schema
Message-ID: <837e4fdd4dc072c969b86496b82fd17f@tiscali.fr>

Since I got no answer to my question about an available DTD or Schema 
for the VRT format; and since I wanted to understand a bit more about 
the VRT, I have created a schema for it based on the HTML doc and based 
on code browsing.
Please find it attached as well as a picture generating from it by 
oXygen.

There are still a few dark zones and area to improves:
- ComplexSource and AverageSource need a complete definition
- Better definition of the subClass property of the VRTRasterBand 
needed.
- An explicit definition of the raw raster source (to go with 
SimpleSource, KernelFilteredSource,..) would improve homogeneity.
- Kernel's Coefs and Size could be more explicitly defined.
- Same thing for GeoTransform

I have validated it with examples of the VRT HTML doc (tutorial). 
Examples need to get modified a bit to refer to the schema as shown in 
the example file attached.

When completed, we may set it online on the www.gdal.org, some 
modification of the definition and link is then needed.

I think VRT really makes sense as a way to geo-reference rasters. It is 
quite extensive and may get embedded inside a larger XML document.
For this latter alternative, it may make sense to wrap into an XML 
namespace.
We may also extend it to better support rasters representing elevation.

Antoine Hue
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal_vrt.xsd
Type: application/text
Size: 8313 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060522/a80282b6/gdal_vrt.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal_vrt0.vrt
Type: application/octet-stream
Size: 688 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060522/a80282b6/gdal_vrt0.obj
From mateusz at loskot.net  Mon May 22 13:58:56 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] ESRI Personal GeoDatabase driver
In-Reply-To: <F1F72C9F1DE9D443A9E7675A6608B2CE027F5E58@sr-pnr-exch2.prairie.int.ec.gc.ca>
References: <F1F72C9F1DE9D443A9E7675A6608B2CE027F5E58@sr-pnr-exch2.prairie.int.ec.gc.ca>
Message-ID: <4471FBE0.6020205@loskot.net>

Schmoll,Martin [Edm] wrote:
> I?m new to MapServer, and am trying to use it with data in the ESRI
> Personal Geodatabase format.  I?ve installed ms4w 1.5.1., which includes
> GDAL\OGR 1.3.1.
> 
> Apparently the ESRI Personal GeoDatabase format should be supported:
> http://ogr.maptools.org/ogr_formats.html
> 
> When I run the ogrinfo utility on the .mdb file, I get:
>
> FAILURE:
> Unable to open datasource with the following drivers.
> 
> A list of drivers is then displayed, which does not include ESRI
> Personal Geodatabase.
> 
> How do I get/use that driver?

Is PGeo driver listed after you run:

ogrinfo --formats?

>From your explanation above, I understand it's not.
I'm not sure but most likely this PGeo driver is not built into GDAL
shipped with MS4W.
I have never used MS4W, so I'm not sure.

AFAIK, MS4W in version >= 1.5.3 includes PGeo driver (see MapServer
lists archives):
http://www.mail-archive.com/mapserver-users@lists.umn.edu/msg05658.html

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Mon May 22 15:10:08 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] VRT format Schema
In-Reply-To: <837e4fdd4dc072c969b86496b82fd17f@tiscali.fr>
References: <837e4fdd4dc072c969b86496b82fd17f@tiscali.fr>
Message-ID: <44720C90.3090800@pobox.com>

Antoine Hue wrote:
> Since I got no answer to my question about an available DTD or Schema 
> for the VRT format; and since I wanted to understand a bit more about 
> the VRT, I have created a schema for it based on the HTML doc and based 
> on code browsing.
> Please find it attached as well as a picture generating from it by oXygen.

Antoine,

I skimmed over the .xsd file, and it looks good though I didn't try to
establish how comprehensive it is.  When you are satisfied with it's
completeness let me know and I will commit it in gdal/frmts/vrt.

However, I can't promise to keep it up to date as things evolve.

> There are still a few dark zones and area to improves:
> - ComplexSource and AverageSource need a complete definition
> - Better definition of the subClass property of the VRTRasterBand needed.

What did you need to know?  It seems that values include "VRTWarpedDataset",
"VRTDerivedRasterBand" and "VRTRawRasterBand".

> - An explicit definition of the raw raster source (to go with 
> SimpleSource, KernelFilteredSource,..) would improve homogeneity.

I'm not sure what you mean. Isn't the ".vrt Descriptions for Raw Files"
on the gdal_vrttut.html page appropriate?

> - Kernel's Coefs and Size could be more explicitly defined.
> - Same thing for GeoTransform
> 
> I have validated it with examples of the VRT HTML doc (tutorial). 
> Examples need to get modified a bit to refer to the schema as shown in 
> the example file attached.
> 
> When completed, we may set it online on the www.gdal.org, some 
> modification of the definition and link is then needed.
> 
> I think VRT really makes sense as a way to geo-reference rasters. It is 
> quite extensive and may get embedded inside a larger XML document.
> For this latter alternative, it may make sense to wrap into an XML 
> namespace.
> We may also extend it to better support rasters representing elevation.

Were you thinking of the .xsd file as being primarily useful for
automated validation of .vrt files?  As educational?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From zhonghaiw at gmail.com  Tue May 23 03:04:20 2006
From: zhonghaiw at gmail.com (Zhonghai Wang)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] does gdaltindex support MapInfo GIF+GIF format?
Message-ID: <2534c4120605230004y19097b6atf0f4fa712955d62a@mail.gmail.com>

Hi guys,

I've posted this question in the MapServer list, but I did not get any
reasonable solution, I'd like to post it here again, hope somebody can give
me some clues.

I have a subfolder of GIF raster image, and each GIF file has a
corresponding TAB file, which specifies the coordinate information for the
GIF image, the content of the TAB is something like this:

***
!table
!version 300
!charset WindowsLatin1

Definition Table
  File "m_1_1_1000.gif"
  Type "RASTER"
  (5.290517,48.2308475) (1392,987) Label "Pt 1",
  (5.25001439194036,48.25) (0,0) Label "Pt 2",
  (5.25001439194036 ,48.211695) (0,1974) Label "Pt 3",
  (5.33101960805964,48.25) (2784,0) Label "Pt 4",
  (5.33101960805964,48.211695) (2784,1974) Label "Pt 5"
  CoordSys Earth Projection 1, 104
  Units "degree"
***

but if I perform the gdaltindex command to create a tile shapefile for the
images, an error occurs:

>>no georeferencing info available for the images file, performance will be
skipped.

and I also get some info from the "Raster Data Access" document, "The only
way to georeference GIF files is with a world file. ", is it really so?if
it's true, there will be a huge project for me to change all the TAB files.

hope that someone can help.

thanks so much for any info.

zhonghai

23.05.2006
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060523/40f9dcf3/attachment.html
From moon_inwell at 163.com  Tue May 23 03:51:07 2006
From: moon_inwell at 163.com (lky)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Ask: the error when I use gdalinfo.exe
References: <200605230706.k4N76qXp018220@duke.maptools.org>
Message-ID: <000801c67e3d$a6892b30$7ef9a8c0@WinXPSP2>

Hi,all:

I use the gdalinfo utility to test opening and reporting of the jdem format as the article "GDAL Driver Implementation tutorial" said. But I met the following error, I don't know why this happen. I hope your help.
Command line : gdalinfo jdem
Error info:
ERROR 4: 'jdem' does not exist in the file system,
and is not recognised as a supported dataset name.

GDALOpen failed - 4
'jdem' does not exist in the file system,
and is not recognised as a supported dataset name.

Thanks for your help

Kun-Yang Li From China


From spietz at fh-bingen.de  Tue May 23 04:48:36 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
References: <007e01c67b13$d2da3a30$b84f5d8f@PSP>
Message-ID: <006401c67e45$b13e2140$b84f5d8f@PSP>

Hi folks,

tried some other things to install the gdal/ogr-sources but they all don't 
succeed.
Can please give anybody some help?

I think I may have located the error but I'm not sure and if it really is 
the error other people should had have similar problems...... but I was not 
able to find something on the list:

After all problems (see previous message) I decided that I must have choosen 
the wrong configuration.
So I tried several kinds of (in my opinion) possible configurations. Last 
one was

gdal-home > 
./configure --with-jpeg=/usr/lib/gdal/gdal-cvs-2006.05.18/frmts/jpeg/libjpeg

(but I'm still not sure is it is the write path and I think I do not really 
need to have a configuration with jpeg, because I "only" want to 
transform/convert vector data)

The error-message after a 'make'-command was
>...
>......../i586-suse-linux/bin/ld: cannot find -l jpeg

>collect2: ld returned exit status make[1]: ***[libgdal.la] Error 1

>make [1]: Leaving directory '/usr/lib/gdal/gdal-cvs-2006.05.18'

>make: *** [check-lib] Error 2

Now I thought maybe something wrong in the libgdal.la-file 
(/usr/lib/gdal/gdal-cvs-2006.05.18/libgdal.la)
and in the file there it stands:
>#Libraries that this one depends on:
>dependency_libs='...... /usr/lib/libjpeg.la -lrt -ldl 
>/usr/lib/libstdc++.la'

But I have no file libjpeg.la!

So again I configured:

./configure --with-jpeg=no, hoping the dependency-libs-list in libgdal.la 
would change but it doesn't

after a make becoming the same error as I got before while trying to 
configure without jpeg.

>/usr/bin/sed: can't read /usr/lib/libjepg.la: No such file or directory
>libtool: link: '/usr/lib/libjpeg.la' is not a valid libtool archive
>make[1]: *** [libgdal.la] Error 1

By the side it seems curious that by configuring with "--with-jpeg=no" there 
is still the error message like this

I would be really gratefull for any help!


Christine






> Hi all,
>
> originally I wanted to use the java-swig bindings (and I still want to) 
> but also after lots of help from the list (thanks to Ben and Frank) I was 
> not able to install.
> So we decided that it might be the best to start the installation right 
> new at the beginning. But I still can't do it. Here the things I did and 
> what happened:
>
>
>  a.. Download daily snapshoot: http://dl.maptools.org/dl/gdal/daily/: 
> gdal-cvs-2006.05.18.tar.gz
>
>  b.. unzip/tar in the gdal-home-directory (=GDAL_HOME) => 
> /usr/lib/gdal/gdal-cvs-2006.05.09
>
>  c.. in GDAL_HOME/swig/java/java.opt JAVA_HOME set right
>
>  d.. GDAL_HOME> ./configure (=> z.b. Eine Datei GDAL.opt aus GDAL.opt.in)
>
>  e.. GDAL_HOME> make
>
> #####################error-log
>
> .......
>
> g++ .... .libs/ogrgeometryfactory.o
>
> In file included from ogrgeometryfactory.cpp:127:
>
> ogr_geos.h:47:22:error:geos_c.h: No such file or directory
>
> ogrgeometryfactory.cpp: In static member function static 
> OGRGeometry*OgrGeometryFactory:createFromGeos(GEOSGeom_t*):
>
> ogrgeometryfactory.cpp:839: error:GEOSGeomToWKB_buf was not declared in 
> this scope
>
> make[1]: ***[ ogrgeometryfactory .o] Error 1
>
> make[1]: Leaving directory '/usr/lib/gdal/gdal-cvs-2006.05.18/ogr'
>
> make: ***[ogr-target] Error 2
>
> #####################
>
>  a.. GDAL_HOME> ./configure -help =>
>
>  a.. GDAL_HOME> ./configure --with-geos=yes
>
>  b.. GDAL_HOME> make
>
> ##################error-log
>
> /usr/bin/sed: can't read /usr/lib/libjpg.la: No such file or directory
> libtool: link: '/usr/lib/libjpg.la' is not a valid libtool archive
> make[1]: *** [libgdal.la] Error 1
> make[1]: Leaving directory '/usr/lib/gdal/gdal-cvs-2006.05.18'
> make: *** [check-lib] Error 2
>
> ##################
>
>  a.. GDAL_HOME> ./configure --with-geos=yes --with-jpeg=no
>
>  b.. GDAL_HOME> make
>
> ###########error-log
>
> /usr/bin/sed: can't read /usr/lib/libjepg.la: No such file or directory
> libtool: link: '/usr/lib/libjpeg.la' is not a valid libtool archive
> make[1]: *** [libgdal.la] Error 1
> make[1]: Leaving directory '/usr/lib/gdal/gdal-cvs-2006.05.18'
> make: *** [check-lib] Error 2
>
> ###########
>
>  a.. GDAL_HOME> ./configure --with-geos=yes --with-jpeg=internal
>
>  b.. GDAL_HOME> make
>
> Getting the same error as before ;-(
>
> Any idea what I am doing wrong?
>
>
>
> Best regards
>
> Christine
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


From zhonghaiw at gmail.com  Tue May 23 06:42:12 2006
From: zhonghaiw at gmail.com (Zhonghai Wang)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] can not perform "gdal_merge.py",
	"gdal_rgb2pct.py" and "pct2rgb.py"
Message-ID: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>

Hi guys,

to solve my last problem I am trying to merge all the GIFs into one large
TIF file usding the command gdal_merge.py, but the error message says that
no such a command can be found, and even if type rgb2pct.py, pct2rgb.py and
gdal-config the same error message apppears again and again. I've checked
the version of my GDAL using the gdalinfo --version command, it gives "GDAL
1.3.1.0, released 2005/10/04".

should I update my GDAL? or the commands really do not work?

zhonghai

23.05.2006
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060523/437f395f/attachment.html
From ellen.debeuckeleer at incgeo.be  Tue May 23 08:04:56 2006
From: ellen.debeuckeleer at incgeo.be (Ellen De Beuckeleer)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] unable to load proj.4
Message-ID: <4472FA68.2090207@incgeo.be>

oeps.... forgot to include list....

-------- Original Message --------
Subject: Re: [Gdal-dev] unable to load proj.4
Date: Tue, 23 May 2006 14:02:58 +0200
From: Ellen De Beuckeleer <ellen.debeuckeleer@incgeo.be>
To: Frank Warmerdam <warmerdam@pobox.com>
References: <4430005.post@talk.nabble.com> 
<4446821.post@talk.nabble.com>	<1147944913.5105.8.camel@geru-itae> 
<446C9132.603@incgeo.be> <446CBD52.5060103@pobox.com> 
<446D8DA1.2050603@incgeo.be> <446DD9CE.2010701@pobox.com>

Frank,

Sorry for the delay.

> Why did you expect 298.2572235629972 as the inverse flattening for WGS84?

I ran gdalinfo on my .tiff file command line and I got that number.
Below is part of the gdalinfo output:

*****
Driver: GTiff/GeoTIFF
Size is 8101, 7121
Coordinate System is:
PROJCS["WGS 84 / UTM zone 11N",
     GEOGCS["WGS 84",
         DATUM["WGS_1984",
             SPHEROID["WGS 84",6378137,298.2572235629972,
                 AUTHORITY["EPSG","7030"]],
             AUTHORITY["EPSG","6326"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4326"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",-117],
     PARAMETER["scale_factor",0.9996],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","32611"]]
...
*****

>> Furthermore, is it possible to include the EPSG support files in the 
>> gdal .dll file? It would be nice if I could run the program on other 
>> computers without setting the GDAL_DATA variable manually.
> 
> 
> This would be desirable, and I have considered implementing it but never
> got around to it.

I think in the future we will have to do this ourselfs. I however, have
not much experience in adding stuff to a dll, so it might take some
time. If we do find a way to include the EPSG support files in the gdal
.dll I will post it.

Regards,

Ellen


From mateusz at loskot.net  Tue May 23 10:35:39 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Re: [FWTools] conversion/transformation
In-Reply-To: <007301c67e2f$b13597c0$b84f5d8f@PSP>
References: <015701c67d84$9df85310$b84f5d8f@PSP> <4471C0C5.5010803@loskot.net>
	<007301c67e2f$b13597c0$b84f5d8f@PSP>
Message-ID: <44731DBB.4050403@loskot.net>

Hi Christine,

Christine Spietz wrote:
> 
> Thank you for the detailed information. It helped a lot!

Cool!

> If I understodd right I use the -s_srs-parameter only if
> 
> - I have no prj-file (but know the geographic coordinates sytem of the
> input-file) or if I want to omit the prj-file.

Yes, but this rule does not only apply to Shapefile.
Simply, the rule is:
use -s_srs parameter if your (input) dataset does not include SRS
definition or you want to overwrite existing definition with your own
given as -s_srs.

For Shapefile such definition is stored in .prj file, but in other
datasets projections are handled in different way.

> - I transform from an Shapefile to something else (because only the
> Shapefile might have a prj-file)

Yes, but not exactly :-)
-s_srs parameter is not tight only to .prj file but applies to all
supported dataset.

I just used Shapefile in my examples because I know Shapefile format
best, so I didn't want to provide you with incorrect explanation.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Tue May 23 10:36:53 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] can not perform "gdal_merge.py",	"gdal_rgb2pct.py"
	and "pct2rgb.py"
In-Reply-To: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>
References: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>
Message-ID: <44731E05.5000100@pobox.com>

Zhonghai Wang wrote:
> Hi guys,
>  
> to solve my last problem I am trying to merge all the GIFs into one 
> large TIF file usding the command gdal_merge.py, but the error message 
> says that no such a command can be found, and even if type rgb2pct.py, 
> pct2rgb.py and gdal-config the same error message apppears again and 
> again. I've checked the version of my GDAL using the gdalinfo --version 
> command, it gives "GDAL 1.3.1.0 <http://1.3.1.0>, released 2005/10/04".
>  
> should I update my GDAL? or the commands really do not work?
>  
> zhonghai

Zhonghai,

A lot depends on how things are built.  the .py scripts are python scripts
and depend on having things built with proper Python support.  The gdal-config
script is a bash script and only available on unix and unix-like systems.
Perhaps you are on windows, and don't have Python on your system (or perhaps
not enabled in your GDAL build)?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Tue May 23 10:42:35 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] can not perform "gdal_merge.py",	"gdal_rgb2pct.py"
	and "pct2rgb.py"
In-Reply-To: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>
References: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>
Message-ID: <44731F5B.5020804@loskot.net>

Zhonghai Wang wrote:
> Hi guys,
> 
> to solve my last problem I am trying to merge all the GIFs into one 
> large TIF file usding the command gdal_merge.py, but the error
> message says that no such a command can be found, [...]

Do you use Unix/Linux?
Have you built GDAL from sources or installed form packages?
I use Ubuntu 5.10 (Debian) and gdal_merge.py script is available from
package 'python-gdal'.

What do you get from:

$ which gdal_merge.py

or

$ locate gdal_merge.py

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Tue May 23 10:46:58 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Ask: the error when I use gdalinfo.exe
In-Reply-To: <000801c67e3d$a6892b30$7ef9a8c0@WinXPSP2>
References: <200605230706.k4N76qXp018220@duke.maptools.org>
	<000801c67e3d$a6892b30$7ef9a8c0@WinXPSP2>
Message-ID: <44732062.9020304@loskot.net>

lky wrote:
> Hi,all:
> 
> I use the gdalinfo utility to test opening and reporting of the jdem format as the article "GDAL Driver Implementation tutorial" said. But I met the following error, I don't know why this happen. I hope your help.
> Command line : gdalinfo jdem

Is 'jdem' above a dataset present on your filesystem?

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Tue May 23 10:53:30 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
In-Reply-To: <006401c67e45$b13e2140$b84f5d8f@PSP>
References: <007e01c67b13$d2da3a30$b84f5d8f@PSP>
	<006401c67e45$b13e2140$b84f5d8f@PSP>
Message-ID: <447321EA.6020301@loskot.net>

Christine Spietz wrote:
> After all problems (see previous message) I decided that I must have
> choosen the wrong configuration.
> So I tried several kinds of (in my opinion) possible configurations.
> Last one was
> 
> gdal-home > ./configure
> --with-jpeg=/usr/lib/gdal/gdal-cvs-2006.05.18/frmts/jpeg/libjpeg

Have you tried to use internal GDAL's JPEG library?

Try to specify it as follows:

--with-jpeg=internal

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Tue May 23 11:08:06 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Ask: the error when I use gdalinfo.exe
In-Reply-To: <000801c67e3d$a6892b30$7ef9a8c0@WinXPSP2>
References: <200605230706.k4N76qXp018220@duke.maptools.org>
	<000801c67e3d$a6892b30$7ef9a8c0@WinXPSP2>
Message-ID: <44732556.4030002@pobox.com>

lky wrote:
> Hi,all:
> 
> I use the gdalinfo utility to test opening and reporting of the jdem format as the article "GDAL Driver Implementation tutorial" said. But I met the following error, I don't know why this happen. I hope your help.
> Command line : gdalinfo jdem
> Error info:
> ERROR 4: 'jdem' does not exist in the file system,
> and is not recognised as a supported dataset name.
> 
> GDALOpen failed - 4
> 'jdem' does not exist in the file system,
> and is not recognised as a supported dataset name.

Kun-Yang Li,

If you want to check if a driver named jdem is registered you can use
the command:

  gdalinfo --format jdem

If you want to try opening a file in jdem format, then provide the name of
the file as the argument to gdalinfo.

eg.
   gdalinfo abc.jdem

I skimmed the tutorial and didn't notice anywhere it suggesting using
"gdalinfo jdem", but if there is a confusing part let me know and I'll
try and improve it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Tue May 23 11:10:15 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] does gdaltindex support MapInfo GIF+GIF format?
In-Reply-To: <2534c4120605230004y19097b6atf0f4fa712955d62a@mail.gmail.com>
References: <2534c4120605230004y19097b6atf0f4fa712955d62a@mail.gmail.com>
Message-ID: <447325D7.8090004@pobox.com>

Zhonghai Wang wrote:
> Hi guys,
>  
> I've posted this question in the MapServer list, but I did not get any 
> reasonable solution, I'd like to post it here again, hope somebody 
> can give me some clues.
>  
> I have a subfolder of GIF raster image, and each GIF file has a 
> corresponding TAB file, which specifies the coordinate information for 
> the GIF image, the content of the TAB is something like this:
>  
> ***
> !table
> !version 300
> !charset WindowsLatin1
> 
> Definition Table
>   File "m_1_1_1000.gif"
>   Type "RASTER"
>   (5.290517,48.2308475) (1392,987) Label "Pt 1",
>   (5.25001439194036,48.25) (0,0) Label "Pt 2",
>   (5.25001439194036 ,48.211695) (0,1974) Label "Pt 3",
>   (5.33101960805964,48.25) (2784,0) Label "Pt 4",
>   (5.33101960805964,48.211695) (2784,1974) Label "Pt 5"
>   CoordSys Earth Projection 1, 104
>   Units "degree"
> ***
> 
> but if I perform the gdaltindex command to create a tile shapefile for 
> the images, an error occurs:
> 
>  >>no georeferencing info available for the images file, performance 
> will be skipped.
> 
> and I also get some info from the "Raster Data Access" document, "The 
> only way to georeference GIF files is with a world file. ", is it really 
> so?if it's true, there will be a huge project for me to change all the 
> TAB files.
> 
> hope that someone can help.
> 
> thanks so much for any info.

Zhonghai,

As I think was explained on the mapserver list, GDAL does not currently
support mapinfo tab files as a source of georeferencing for raster files.
So you will need to manually or by script create world files for from the
.tab files.

Good luck,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From zhonghaiw at gmail.com  Tue May 23 11:13:20 2006
From: zhonghaiw at gmail.com (Zhonghai Wang)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] can not perform "gdal_merge.py",
	"gdal_rgb2pct.py" and "pct2rgb.py"
In-Reply-To: <44731F5B.5020804@loskot.net>
References: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>
	<44731F5B.5020804@loskot.net>
Message-ID: <2534c4120605230813l614ff35ck2bf482adfff76ca8@mail.gmail.com>

Hi folks,

thanks for your information, I've installed Python on ma WIN XP system, and
now the .py commands do work well. Here is common info for others:
-- DO NOT install the latest version of Python, this will cause a version
conflict error; the version Python-2.3.5 is compatible with Python23.DLL in
MapServer.

I am using the MS4W 4.8.1 version.

thanks a lot.

zhonghai

On 5/23/06, Mateusz Loskot <mateusz@loskot.net> wrote:
>
> Zhonghai Wang wrote:
> > Hi guys,
> >
> > to solve my last problem I am trying to merge all the GIFs into one
> > large TIF file usding the command gdal_merge.py, but the error
> > message says that no such a command can be found, [...]
>
> Do you use Unix/Linux?
> Have you built GDAL from sources or installed form packages?
> I use Ubuntu 5.10 (Debian) and gdal_merge.py script is available from
> package 'python-gdal'.
>
> What do you get from:
>
> $ which gdal_merge.py
>
> or
>
> $ locate gdal_merge.py
>
> Cheers
> --
> Mateusz ?oskot
> http://mateusz.loskot.net
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060523/78e63f17/attachment.html
From zhonghaiw at gmail.com  Tue May 23 11:20:36 2006
From: zhonghaiw at gmail.com (Zhonghai Wang)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] does gdaltindex support MapInfo GIF+GIF format?
In-Reply-To: <447325D7.8090004@pobox.com>
References: <2534c4120605230004y19097b6atf0f4fa712955d62a@mail.gmail.com>
	<447325D7.8090004@pobox.com>
Message-ID: <2534c4120605230820sacf74fbp712ecb39d582cedf@mail.gmail.com>

Hi Frank,

I am trying now the following two options:

1. use script to create worldfiles for the GIFs,
2. merge the GIFs using gdal_merge.py, and create a single *tfw for the
output tif file. After that a single gdaltindex command with "TILED=YES"
should be good enough for my application.

thanks

zhonghai

On 5/23/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> Zhonghai Wang wrote:
> > Hi guys,
> >
> > I've posted this question in the MapServer list, but I did not get any
> > reasonable solution, I'd like to post it here again, hope somebody
> > can give me some clues.
> >
> > I have a subfolder of GIF raster image, and each GIF file has a
> > corresponding TAB file, which specifies the coordinate information for
> > the GIF image, the content of the TAB is something like this:
> >
> > ***
> > !table
> > !version 300
> > !charset WindowsLatin1
> >
> > Definition Table
> >   File "m_1_1_1000.gif"
> >   Type "RASTER"
> >   (5.290517,48.2308475) (1392,987) Label "Pt 1",
> >   (5.25001439194036,48.25) (0,0) Label "Pt 2",
> >   (5.25001439194036 ,48.211695) (0,1974) Label "Pt 3",
> >   (5.33101960805964,48.25) (2784,0) Label "Pt 4",
> >   (5.33101960805964,48.211695) (2784,1974) Label "Pt 5"
> >   CoordSys Earth Projection 1, 104
> >   Units "degree"
> > ***
> >
> > but if I perform the gdaltindex command to create a tile shapefile for
> > the images, an error occurs:
> >
> >  >>no georeferencing info available for the images file, performance
> > will be skipped.
> >
> > and I also get some info from the "Raster Data Access" document, "The
> > only way to georeference GIF files is with a world file. ", is it really
> > so?if it's true, there will be a huge project for me to change all the
> > TAB files.
> >
> > hope that someone can help.
> >
> > thanks so much for any info.
>
> Zhonghai,
>
> As I think was explained on the mapserver list, GDAL does not currently
> support mapinfo tab files as a source of georeferencing for raster files.
> So you will need to manually or by script create world files for from the
> .tab files.
>
> Good luck,
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060523/a561572b/attachment.html
From mateusz at loskot.net  Tue May 23 11:22:40 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] can not perform "gdal_merge.py", "gdal_rgb2pct.py"
	and "pct2rgb.py"
In-Reply-To: <2534c4120605230813l614ff35ck2bf482adfff76ca8@mail.gmail.com>
References: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>	
	<44731F5B.5020804@loskot.net>
	<2534c4120605230813l614ff35ck2bf482adfff76ca8@mail.gmail.com>
Message-ID: <447328C0.9070104@loskot.net>

Zhonghai Wang wrote:
> Hi folks,
>  
> thanks for your information, I've installed Python on ma WIN XP system,
> and now the .py commands do work well. 

Cool!

> Here is common info for others:
> -- DO NOT install the latest version of Python, this will cause a
> version conflict error; the version Python-2.3.5 is compatible with
> Python23.DL

yes, this is well-known requirement of GDAL versions shipped in binary
form with FWTools and MS4W.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From zhonghaiw at gmail.com  Tue May 23 11:34:40 2006
From: zhonghaiw at gmail.com (Zhonghai Wang)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] can not perform "gdal_merge.py",
	"gdal_rgb2pct.py" and "pct2rgb.py"
In-Reply-To: <2534c4120605230813l614ff35ck2bf482adfff76ca8@mail.gmail.com>
References: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>
	<44731F5B.5020804@loskot.net>
	<2534c4120605230813l614ff35ck2bf482adfff76ca8@mail.gmail.com>
Message-ID: <2534c4120605230834k353fc652t4ece3e5527135def@mail.gmail.com>

Hi All,

I can only perform the gdal_merge.py command in FWTools shell. Why does it
still not work in DOS shell under MS4W? It gives still the same error
message: command can not be found. how can I make this also work under MS4W?

thanks

zhonghai

On 5/23/06, Zhonghai Wang <zhonghaiw@gmail.com> wrote:
>
>  Hi folks,
>
> thanks for your information, I've installed Python on ma WIN XP system,
> and now the .py commands do work well. Here is common info for others:
> -- DO NOT install the latest version of Python, this will cause a version
> conflict error; the version Python-2.3.5 is compatible with Python23.DLLin MapServer.
>
> I am using the MS4W 4.8.1 version.
>
> thanks a lot.
>
> zhonghai
>
>  On 5/23/06, Mateusz Loskot <mateusz@loskot.net> wrote:
> >
> > Zhonghai Wang wrote:
> > > Hi guys,
> > >
> > > to solve my last problem I am trying to merge all the GIFs into one
> > > large TIF file usding the command gdal_merge.py, but the error
> > > message says that no such a command can be found, [...]
> >
> > Do you use Unix/Linux?
> > Have you built GDAL from sources or installed form packages?
> > I use Ubuntu 5.10 (Debian) and gdal_merge.py script is available from
> > package 'python-gdal'.
> >
> > What do you get from:
> >
> > $ which gdal_merge.py
> >
> > or
> >
> > $ locate gdal_merge.py
> >
> > Cheers
> > --
> > Mateusz ?oskot
> > http://mateusz.loskot.net
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060523/e0a57dc2/attachment.html
From spietz at fh-bingen.de  Tue May 23 11:37:35 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
References: <007e01c67b13$d2da3a30$b84f5d8f@PSP><006401c67e45$b13e2140$b84f5d8f@PSP>
	<447321EA.6020301@loskot.net>
Message-ID: <011801c67e7e$d36be340$b84f5d8f@PSP>

Hi Mateuz,

yes I tried (wrote it in my first message) but this also doesn't help.

First things I've tried can be found at the start of the thread 
(http://lists.maptools.org/pipermail/gdal-dev/2006-May/008925.html) and 
after nobody of the list had any ideas or hadn't the time to respond  I 
tried several other things (described in the last message 
http://lists.maptools.org/pipermail/gdal-dev/2006-May/008975.html) but they 
also didn't succeed.

Have you any other idea?

Christine


----- Original Message ----- 
From: "Mateusz Loskot" <mateusz@loskot.net>
To: <gdal-dev@lists.maptools.org>
Sent: Tuesday, May 23, 2006 4:53 PM
Subject: Re: [Gdal-dev] installing gdal


> Christine Spietz wrote:
>> After all problems (see previous message) I decided that I must have
>> choosen the wrong configuration.
>> So I tried several kinds of (in my opinion) possible configurations.
>> Last one was
>>
>> gdal-home > ./configure
>> --with-jpeg=/usr/lib/gdal/gdal-cvs-2006.05.18/frmts/jpeg/libjpeg
>
> Have you tried to use internal GDAL's JPEG library?
>
> Try to specify it as follows:
>
> --with-jpeg=internal
>
> Cheers
> -- 
> Mateusz ?oskot
> http://mateusz.loskot.net
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


From mateusz at loskot.net  Tue May 23 11:41:44 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
In-Reply-To: <011801c67e7e$d36be340$b84f5d8f@PSP>
References: <007e01c67b13$d2da3a30$b84f5d8f@PSP><006401c67e45$b13e2140$b84f5d8f@PSP>
	<447321EA.6020301@loskot.net> <011801c67e7e$d36be340$b84f5d8f@PSP>
Message-ID: <44732D38.5030504@loskot.net>

Christine Spietz wrote:
> Hi Mateuz,
> 
> yes I tried (wrote it in my first message) but this also doesn't help.
> 
> First things I've tried can be found at the start of the thread
> (http://lists.maptools.org/pipermail/gdal-dev/2006-May/008925.html) and
> after nobody of the list had any ideas or hadn't the time to respond  I
> tried several other things (described in the last message
> http://lists.maptools.org/pipermail/gdal-dev/2006-May/008975.html) but
> they also didn't succeed.
> 

Unfortunately, I'm completely not an expert of Java + SWIG
but I'd suggest you to try to build GDAL without any Java related
options first and see if it works.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Tue May 23 11:44:47 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] can not perform "gdal_merge.py", "gdal_rgb2pct.py"
	and "pct2rgb.py"
In-Reply-To: <2534c4120605230834k353fc652t4ece3e5527135def@mail.gmail.com>
References: <2534c4120605230342g4fd6995o71988c479bcd41ef@mail.gmail.com>	
	<44731F5B.5020804@loskot.net>	
	<2534c4120605230813l614ff35ck2bf482adfff76ca8@mail.gmail.com>
	<2534c4120605230834k353fc652t4ece3e5527135def@mail.gmail.com>
Message-ID: <44732DEF.7090905@loskot.net>

Zhonghai Wang wrote:
> Hi All,
>  
> I can only perform the gdal_merge.py command in FWTools shell. Why does
> it still not work in DOS shell under MS4W? It gives still the same error
> message: command can not be found. how can I make this also work under
> MS4W?

Because only FWTools shell is configured properly.
Certainly, you can configure any other shell as well.
So, go to the C:\program files\fwtools... directory and check
what's inside the BAT script starting with set...

I don't remember complete name, it's setenv.bat or something similar.
Inside this script, you can see what environment variables are set by
FWTools shell. Then you can set them manually in Windows globally.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From spietz at fh-bingen.de  Tue May 23 11:54:55 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
References: <007e01c67b13$d2da3a30$b84f5d8f@PSP><006401c67e45$b13e2140$b84f5d8f@PSP><447321EA.6020301@loskot.net>
	<011801c67e7e$d36be340$b84f5d8f@PSP> <44732D38.5030504@loskot.net>
Message-ID: <015a01c67e81$3f77e1e0$b84f5d8f@PSP>

Hi Mateuz,

yes thats it: I'm trying now to build GDAL.

I wanted to build Java and SWIG but then I realized that I had problems with 
it because I actually was not able to build GDAL correctly.
And there I'm :  no GDAL installed and therefore no chance to do anything 
with gdal/ogr.

Christine




----- Original Message ----- 
From: "Mateusz Loskot" <mateusz@loskot.net>
To: <gdal-dev@lists.maptools.org>
Sent: Tuesday, May 23, 2006 5:41 PM
Subject: Re: [Gdal-dev] installing gdal


> Christine Spietz wrote:
>> Hi Mateuz,
>>
>> yes I tried (wrote it in my first message) but this also doesn't help.
>>
>> First things I've tried can be found at the start of the thread
>> (http://lists.maptools.org/pipermail/gdal-dev/2006-May/008925.html) and
>> after nobody of the list had any ideas or hadn't the time to respond  I
>> tried several other things (described in the last message
>> http://lists.maptools.org/pipermail/gdal-dev/2006-May/008975.html) but
>> they also didn't succeed.
>>
>
> Unfortunately, I'm completely not an expert of Java + SWIG
> but I'd suggest you to try to build GDAL without any Java related
> options first and see if it works.
>
> Cheers
> -- 
> Mateusz ?oskot
> http://mateusz.loskot.net
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


From werchowyna at epf.pl  Tue May 23 15:10:24 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] gdal_rasterize - can't make it work
Message-ID: <20060523211024.7a4d9f00.werchowyna@epf.pl>

Hi!

Using Gdal CVS & Grass 6.1, both CVS 2006.23.05 and gdal-grass 1.3.1.2.

There is a tiff [1] and a shapefile [2]. They have the same extent (see
the attached png - black is raster, red is vector). I want to burn the
shapefile into the raster:

$ gdal_rasterize -a CAT -l cieki05 cieki05/cieki05.shp rast.tif
0100 - done.

But nothing happens - when the rast.tif is displayed it looks
untouched. The value range of rast.tif is still 1-1 (like in [1],
before gdal_rasterize).

What am I doing wrong?



[1]

$ gdalinfo rast.tif -mm
Driver: GTiff/GeoTIFF
Size is 678, 901
Coordinate System is:
PROJCS["WGS 84 / UTM zone 33N",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.2572235629972,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",15],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32633"]]
Origin = (596040.000000,5684380.000000)
Pixel Size = (10.00000000,-10.00000000)
Metadata:
  AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  596040.000, 5684380.000) ( 16d22'39.70"E, 51d18'9.45"N)
Lower Left  (  596040.000, 5675370.000) ( 16d22'30.99"E, 51d13'17.87"N)
Upper Right (  602820.000, 5684380.000) ( 16d28'29.71"E, 51d18'5.18"N)
Lower Right (  602820.000, 5675370.000) ( 16d28'20.39"E, 51d13'13.61"N)
Center      (  599430.000, 5679875.000) ( 16d25'30.19"E, 51d15'41.56"N)
Band 1 Block=678x12 Type=Byte, ColorInterp=Gray
    Computed Min/Max=1.000,1.000
  NoData Value=0
  Metadata:
    COLOR_TABLE_RULES_COUNT=0



[2]

$ john@quercus:~$ ogrinfo -al -so cieki05/cieki05.shp
INFO: Open of `cieki05/cieki05.shp'
using driver `ESRI Shapefile' successful.

Layer name: cieki05
Geometry: Line String
Feature Count: 186
Extent: (596043.921384, 5675372.016568) - (602814.546338,
5684374.847224) Layer SRS WKT:
PROJCS["WGS_1984_UTM_Zone_33N",
    GEOGCS["GCS_WGS_1984",
        DATUM["WGS_1984",
            SPHEROID["wgs84",6378137,298.257223563]],
        PRIMEM["Greenwich",0],
        UNIT["Degree",0.017453292519943295]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",15],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["Meter",1]]
CAT: Real (11.0)
NAZWA: String (80.0)
KOMENT: String (80.0)
NUMBER: Real (11.0)
NEXT: Real (11.0)
odwr: Real (11.0)


Maciek


--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal_rasterize.png
Type: image/png
Size: 1419 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060523/c9126e4c/gdal_rasterize.png
From tonio_73 at tiscali.fr  Tue May 23 16:29:02 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] VRT format Schema
In-Reply-To: <44720C90.3090800@pobox.com>
References: <837e4fdd4dc072c969b86496b82fd17f@tiscali.fr>
	<44720C90.3090800@pobox.com>
Message-ID: <fd22847b263f8e72a558b558a542daa7@tiscali.fr>


Le 22 mai 06, ? 21:10, Frank Warmerdam a ?crit :

> Antoine Hue wrote:
>> Since I got no answer to my question about an available DTD or Schema  
>> for the VRT format; and since I wanted to understand a bit more about  
>> the VRT, I have created a schema for it based on the HTML doc and  
>> based on code browsing.
>> Please find it attached as well as a picture generating from it by  
>> oXygen.
>
Figure is available from
http://ip666.org/~antoine/pti/v/etudes/gdal_vrt.png.html? 
g2_imageViewsIndex=1
(initially dropped by the Mailman)

>
>> There are still a few dark zones and area to improves:
>> - ComplexSource and AverageSource need a complete definition
Any information about these sources? They do not appear in the VRT tut  
and I did not get there purpose/functioning.
>> - Better definition of the subClass property of the VRTRasterBand  
>> needed.
>
> What did you need to know?  It seems that values include  
> "VRTWarpedDataset",
> "VRTDerivedRasterBand" and "VRTRawRasterBand".
OK, I will add this. What is the impact this parameter on the VRT  
processing?
>
>> - An explicit definition of the raw raster source (to go with  
>> SimpleSource, KernelFilteredSource,..) would improve homogeneity.
>
> I'm not sure what you mean. Isn't the ".vrt Descriptions for Raw Files"
> on the gdal_vrttut.html page appropriate?
For example, Simple source are described in the <SimpleSource> tag.  
However, there is no <RawRasterSource>  tag but a set of tags specific  
to the raw raster band (<VRTRasterBand subClass="VRTRawRasterBand">)
This actually appears in the schema:

<!-- Raster Band -->
<xsd:complexType name="vrt_raster_band_t">
	....
		<xsd:choice maxOccurs="unbounded">
			<xsd:element name="SimpleSource" type="simple_source_t" />
			<xsd:element name="KernelFilteredSource" type="kernel_source_t" />
			<xsd:element name="ComplexSource" /> <!-- Need refinement -->
			<xsd:element name="AveragedSource" /> <!-- Need refinement -->
			<xsd:sequence>
				<!-- Raw source -->
				<xsd:element name="SourceFilename"  type="source_file_name_t"/>
				<xsd:element name="ImageOffset" type="xsd:nonNegativeInteger" />
				<xsd:element name="PixelOffset" type="xsd:nonNegativeInteger" />
				<xsd:element name="LineOffset" type="xsd:nonNegativeInteger" />
				<xsd:element name="ByteOrder" type="byte_order_t" />
			</xsd:sequence>
		</xsd:choice>...
</xsd:complexType>

One more question about it, the extract above allows mixed type sources  
within a raster band. Is this correct?

>
> Were you thinking of the .xsd file as being primarily useful for
> automated validation of .vrt files?  As educational?
Why not both?
Schema is more extensive than the tutorial and more readable than C++.
It may also simplify C++ by checking validity of the VRT in place of  
the C++.
Schema may also make it possible to version VRT grammar and enable  
evolution of the format.

Antoine



From sy at perkins.net  Tue May 23 19:14:23 2006
From: sy at perkins.net (Simon Perkins)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] 64-bit GDAL
Message-ID: <1148426063.24547.262166132@webmail.messagingengine.com>

FYI, I've just checked in some changes to the windows makefile.vc and
nmake.opt which should allow basic GDAL compilation under 64-bit (x64)
windows with Visual Studio 2005. I haven't tried configuring with
anything other than the basic built-in libraries (which would also have
to be compiled for x64), but the basic stuff seems to work. However, I
did have to disable ODBC support in nmake.opt to get things to work -
this looks like a problem with something assuming that size_t = unsigned
int, which is not true on win64 (size_t = unsigned long long), but I
haven't really looked into it.

To enable a 64-bit compile, make sure you have the 64-bit compilers in
your path and then uncomment the line WIN64=YES in nmake.opt.

I've tested the changes with both 32-bit and 64-bit compilers using
visual studio 2005 and running on windows x64, so let me know if you see
any problems with other platforms (or with those ones, for that matter).

Cheers,

Simon

From warmerdam at pobox.com  Wed May 24 00:00:00 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] VRT format Schema
In-Reply-To: <fd22847b263f8e72a558b558a542daa7@tiscali.fr>
References: <837e4fdd4dc072c969b86496b82fd17f@tiscali.fr>
	<44720C90.3090800@pobox.com>
	<fd22847b263f8e72a558b558a542daa7@tiscali.fr>
Message-ID: <4473DA40.4070401@pobox.com>

Antoine Hue wrote:
>>> There are still a few dark zones and area to improves:
>>> - ComplexSource and AverageSource need a complete definition
> Any information about these sources? They do not appear in the VRT tut 
> and I did not get there purpose/functioning.
>>> - Better definition of the subClass property of the VRTRasterBand 
>>> needed.
>>
>> What did you need to know?  It seems that values include 
>> "VRTWarpedDataset",
>> "VRTDerivedRasterBand" and "VRTRawRasterBand".
> OK, I will add this. What is the impact this parameter on the VRT 
> processing?

Antoine,

It determines what elements are legal on the VRTRasterBand and
internally it tells GDAL which particular class to instantiate.
This "subClass" attribute approach does not really lend itself to
describing the grammar with XML schema as far as I know.

>>> - An explicit definition of the raw raster source (to go with 
>>> SimpleSource, KernelFilteredSource,..) would improve homogeneity.
>>
>> I'm not sure what you mean. Isn't the ".vrt Descriptions for Raw Files"
>> on the gdal_vrttut.html page appropriate?
 >
> For example, Simple source are described in the <SimpleSource> tag. 
> However, there is no <RawRasterSource>  tag but a set of tags specific 
> to the raw raster band (<VRTRasterBand subClass="VRTRawRasterBand">)

That is correct, there is no RawRasterSource or equivelent.  Raw, warped
and "derived" data can only be implemented as complete bands, not sources
on a sourced band.

> This actually appears in the schema:
> 
> <!-- Raster Band -->
> <xsd:complexType name="vrt_raster_band_t">
>     ....
>         <xsd:choice maxOccurs="unbounded">
>             <xsd:element name="SimpleSource" type="simple_source_t" />
>             <xsd:element name="KernelFilteredSource" 
> type="kernel_source_t" />
>             <xsd:element name="ComplexSource" /> <!-- Need refinement -->
>             <xsd:element name="AveragedSource" /> <!-- Need refinement -->
>             <xsd:sequence>
>                 <!-- Raw source -->
>                 <xsd:element name="SourceFilename"  
> type="source_file_name_t"/>
>                 <xsd:element name="ImageOffset" 
> type="xsd:nonNegativeInteger" />
>                 <xsd:element name="PixelOffset" 
> type="xsd:nonNegativeInteger" />
>                 <xsd:element name="LineOffset" 
> type="xsd:nonNegativeInteger" />
>                 <xsd:element name="ByteOrder" type="byte_order_t" />
>             </xsd:sequence>
>         </xsd:choice>...
> </xsd:complexType>
> 
> One more question about it, the extract above allows mixed type sources 
> within a raster band. Is this correct?

A "sourced" raster band (the default kind of VRTRasterBand) can have
a mixture of different sources.

>> Were you thinking of the .xsd file as being primarily useful for
>> automated validation of .vrt files?  As educational?
> Why not both?
> Schema is more extensive than the tutorial and more readable than C++.
> It may also simplify C++ by checking validity of the VRT in place of the 
> C++.

As I mention, I think I have approached the .vrt files in a way that is
not conveniently expressed in XML Schema and I would contend that the
schema files are not all that readable as a description.

> Schema may also make it possible to version VRT grammar and enable 
> evolution of the format.

Well, keep in mind that the code is using a schema supporting parser
of any kind, so the .xsd files aren't systematically useful to GDAL
itself.  As for versioning, I anticipate handling this in an adhoc
fashion, primarily by just extending the format rather than changing
existing items.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Wed May 24 00:07:21 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] gdal_rasterize - can't make it work
In-Reply-To: <20060523211024.7a4d9f00.werchowyna@epf.pl>
References: <20060523211024.7a4d9f00.werchowyna@epf.pl>
Message-ID: <4473DBF9.2060107@pobox.com>

Maciek Sieczka wrote:
> Hi!
> 
> Using Gdal CVS & Grass 6.1, both CVS 2006.23.05 and gdal-grass 1.3.1.2.
> 
> There is a tiff [1] and a shapefile [2]. They have the same extent (see
> the attached png - black is raster, red is vector). I want to burn the
> shapefile into the raster:
> 
> $ gdal_rasterize -a CAT -l cieki05 cieki05/cieki05.shp rast.tif
> 0100 - done.
> 
> But nothing happens - when the rast.tif is displayed it looks
> untouched. The value range of rast.tif is still 1-1 (like in [1],
> before gdal_rasterize).
> 
> What am I doing wrong?
> 
> 
> 
> [1]
> 
> $ gdalinfo rast.tif -mm
> Driver: GTiff/GeoTIFF
> Size is 678, 901
> Coordinate System is:
> PROJCS["WGS 84 / UTM zone 33N",
>     GEOGCS["WGS 84",
>         DATUM["WGS_1984",
>             SPHEROID["WGS 84",6378137,298.2572235629972,
>                 AUTHORITY["EPSG","7030"]],
>             AUTHORITY["EPSG","6326"]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433],
>         AUTHORITY["EPSG","4326"]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["latitude_of_origin",0],
>     PARAMETER["central_meridian",15],
>     PARAMETER["scale_factor",0.9996],
>     PARAMETER["false_easting",500000],
>     PARAMETER["false_northing",0],
>     UNIT["metre",1,
>         AUTHORITY["EPSG","9001"]],
>     AUTHORITY["EPSG","32633"]]
> Origin = (596040.000000,5684380.000000)
> Pixel Size = (10.00000000,-10.00000000)
> Metadata:
>   AREA_OR_POINT=Area
> Corner Coordinates:
> Upper Left  (  596040.000, 5684380.000) ( 16d22'39.70"E, 51d18'9.45"N)
> Lower Left  (  596040.000, 5675370.000) ( 16d22'30.99"E, 51d13'17.87"N)
> Upper Right (  602820.000, 5684380.000) ( 16d28'29.71"E, 51d18'5.18"N)
> Lower Right (  602820.000, 5675370.000) ( 16d28'20.39"E, 51d13'13.61"N)
> Center      (  599430.000, 5679875.000) ( 16d25'30.19"E, 51d15'41.56"N)
> Band 1 Block=678x12 Type=Byte, ColorInterp=Gray
>     Computed Min/Max=1.000,1.000
>   NoData Value=0
>   Metadata:
>     COLOR_TABLE_RULES_COUNT=0
> 
> 
> 
> [2]
> 
> $ john@quercus:~$ ogrinfo -al -so cieki05/cieki05.shp
> INFO: Open of `cieki05/cieki05.shp'
> using driver `ESRI Shapefile' successful.
> 
> Layer name: cieki05
> Geometry: Line String

Maciek,

I'm embarrassed to admit that gdal_rasterize only supports polygons at
this time.  So the line strings are just being ignored as will points.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From spietz at fh-bingen.de  Wed May 24 08:16:37 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
References: <007e01c67b13$d2da3a30$b84f5d8f@PSP><006401c67e45$b13e2140$b84f5d8f@PSP><447321EA.6020301@loskot.net><011801c67e7e$d36be340$b84f5d8f@PSP>
	<44732D38.5030504@loskot.net> <015a01c67e81$3f77e1e0$b84f5d8f@PSP>
Message-ID: <011701c67f2b$eaf9f990$b84f5d8f@PSP>

Me again,

so finally I did it:

My steps for installing gdal:

1) download gdal1.3.2.tar.gz
2) unzip/untar at /usr/lib/gdal => /usr/lib/gdal/gdal-1.3.2 = GDAL-Home
3) ./configure
4) make
error messages like

>/usr/bin/sed: can't read /usr/lib/libjpg.la: No such file or directory
>libtool: link: '/usr/lib/libjpg.la' is not a valid libtool archive
>make[1]: *** [libgdal.la] Error 1

make sense if you know what actually they mean... (Thanks to Nicol!)
I had to install the missing packages
- libjpeg-devel and
- libpng-devel

curious:
even as I configures --with_jpeg=no I got the error that libjpg.la is not 
fount. So it seems taht these two packages are needed anyway to install gdal


regards,

Christine

----- Original Message ----- 
From: "Christine Spietz" <spietz@fh-bingen.de>
To: "Mateusz Loskot" <mateusz@loskot.net>
Cc: <gdal-dev@lists.maptools.org>
Sent: Tuesday, May 23, 2006 5:54 PM
Subject: Re: [Gdal-dev] installing gdal


> Hi Mateuz,
>
> yes thats it: I'm trying now to build GDAL.
>
> I wanted to build Java and SWIG but then I realized that I had problems 
> with it because I actually was not able to build GDAL correctly.
> And there I'm :  no GDAL installed and therefore no chance to do anything 
> with gdal/ogr.
>
> Christine
>
>
>
>
> ----- Original Message ----- 
> From: "Mateusz Loskot" <mateusz@loskot.net>
> To: <gdal-dev@lists.maptools.org>
> Sent: Tuesday, May 23, 2006 5:41 PM
> Subject: Re: [Gdal-dev] installing gdal
>
>
>> Christine Spietz wrote:
>>> Hi Mateuz,
>>>
>>> yes I tried (wrote it in my first message) but this also doesn't help.
>>>
>>> First things I've tried can be found at the start of the thread
>>> (http://lists.maptools.org/pipermail/gdal-dev/2006-May/008925.html) and
>>> after nobody of the list had any ideas or hadn't the time to respond  I
>>> tried several other things (described in the last message
>>> http://lists.maptools.org/pipermail/gdal-dev/2006-May/008975.html) but
>>> they also didn't succeed.
>>>
>>
>> Unfortunately, I'm completely not an expert of Java + SWIG
>> but I'd suggest you to try to build GDAL without any Java related
>> options first and see if it works.
>>
>> Cheers
>> -- 
>> Mateusz ?oskot
>> http://mateusz.loskot.net
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


From epatton at nrcan.gc.ca  Wed May 24 08:44:54 2006
From: epatton at nrcan.gc.ca (Patton, Eric)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
Message-ID: <0E5A77B55A57D511BB3F0002A537C26206411176@s5-dar-r1.nrn.nrcan.gc.ca>

Interesting, Christine, I'm getting complaints from make about libstdc++.la
not being a valid libtool archive, but I've got every dev package I could
find in Ubuntu Synaptic installed, so I'm not sure what else I need.

~ Eric.

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
To: Christine Spietz
Cc: gdal-dev@lists.maptools.org
Sent: 5/24/2006 8:16 AM
Subject: Re: [Gdal-dev] installing gdal

Me again,

so finally I did it:

My steps for installing gdal:

1) download gdal1.3.2.tar.gz
2) unzip/untar at /usr/lib/gdal => /usr/lib/gdal/gdal-1.3.2 = GDAL-Home
3) ./configure
4) make
error messages like

>/usr/bin/sed: can't read /usr/lib/libjpg.la: No such file or directory
>libtool: link: '/usr/lib/libjpg.la' is not a valid libtool archive
>make[1]: *** [libgdal.la] Error 1

make sense if you know what actually they mean... (Thanks to Nicol!)
I had to install the missing packages
- libjpeg-devel and
- libpng-devel

curious:
even as I configures --with_jpeg=no I got the error that libjpg.la is
not 
fount. So it seems taht these two packages are needed anyway to install
gdal


regards,

Christine

----- Original Message ----- 
From: "Christine Spietz" <spietz@fh-bingen.de>
To: "Mateusz Loskot" <mateusz@loskot.net>
Cc: <gdal-dev@lists.maptools.org>
Sent: Tuesday, May 23, 2006 5:54 PM
Subject: Re: [Gdal-dev] installing gdal


> Hi Mateuz,
>
> yes thats it: I'm trying now to build GDAL.
>
> I wanted to build Java and SWIG but then I realized that I had
problems 
> with it because I actually was not able to build GDAL correctly.
> And there I'm :  no GDAL installed and therefore no chance to do
anything 
> with gdal/ogr.
>
> Christine
>
>
>
>
> ----- Original Message ----- 
> From: "Mateusz Loskot" <mateusz@loskot.net>
> To: <gdal-dev@lists.maptools.org>
> Sent: Tuesday, May 23, 2006 5:41 PM
> Subject: Re: [Gdal-dev] installing gdal
>
>
>> Christine Spietz wrote:
>>> Hi Mateuz,
>>>
>>> yes I tried (wrote it in my first message) but this also doesn't
help.
>>>
>>> First things I've tried can be found at the start of the thread
>>> (http://lists.maptools.org/pipermail/gdal-dev/2006-May/008925.html)
and
>>> after nobody of the list had any ideas or hadn't the time to respond
I
>>> tried several other things (described in the last message
>>> http://lists.maptools.org/pipermail/gdal-dev/2006-May/008975.html)
but
>>> they also didn't succeed.
>>>
>>
>> Unfortunately, I'm completely not an expert of Java + SWIG
>> but I'd suggest you to try to build GDAL without any Java related
>> options first and see if it works.
>>
>> Cheers
>> -- 
>> Mateusz Loskot
>> http://mateusz.loskot.net
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev

From epatton at nrcan.gc.ca  Wed May 24 08:50:04 2006
From: epatton at nrcan.gc.ca (Patton, Eric)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
Message-ID: <0E5A77B55A57D511BB3F0002A537C26206411177@s5-dar-r1.nrn.nrcan.gc.ca>

Correction; I've got every libstdc++ dev package installed!

~ Eric. 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
To: 'Christine Spietz '
Cc: 'gdal-dev@lists.maptools.org '
Sent: 5/24/2006 8:44 AM
Subject: RE: [Gdal-dev] installing gdal

Interesting, Christine, I'm getting complaints from make about
libstdc++.la
not being a valid libtool archive, but I've got every dev package I
could
find in Ubuntu Synaptic installed, so I'm not sure what else I need.

~ Eric.

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
To: Christine Spietz
Cc: gdal-dev@lists.maptools.org
Sent: 5/24/2006 8:16 AM
Subject: Re: [Gdal-dev] installing gdal

Me again,

so finally I did it:

My steps for installing gdal:

1) download gdal1.3.2.tar.gz
2) unzip/untar at /usr/lib/gdal => /usr/lib/gdal/gdal-1.3.2 = GDAL-Home
3) ./configure
4) make
error messages like

>/usr/bin/sed: can't read /usr/lib/libjpg.la: No such file or directory
>libtool: link: '/usr/lib/libjpg.la' is not a valid libtool archive
>make[1]: *** [libgdal.la] Error 1

make sense if you know what actually they mean... (Thanks to Nicol!)
I had to install the missing packages
- libjpeg-devel and
- libpng-devel

curious:
even as I configures --with_jpeg=no I got the error that libjpg.la is
not 
fount. So it seems taht these two packages are needed anyway to install
gdal


regards,

Christine

----- Original Message ----- 
From: "Christine Spietz" <spietz@fh-bingen.de>
To: "Mateusz Loskot" <mateusz@loskot.net>
Cc: <gdal-dev@lists.maptools.org>
Sent: Tuesday, May 23, 2006 5:54 PM
Subject: Re: [Gdal-dev] installing gdal


> Hi Mateuz,
>
> yes thats it: I'm trying now to build GDAL.
>
> I wanted to build Java and SWIG but then I realized that I had
problems 
> with it because I actually was not able to build GDAL correctly.
> And there I'm :  no GDAL installed and therefore no chance to do
anything 
> with gdal/ogr.
>
> Christine
>
>
>
>
> ----- Original Message ----- 
> From: "Mateusz Loskot" <mateusz@loskot.net>
> To: <gdal-dev@lists.maptools.org>
> Sent: Tuesday, May 23, 2006 5:41 PM
> Subject: Re: [Gdal-dev] installing gdal
>
>
>> Christine Spietz wrote:
>>> Hi Mateuz,
>>>
>>> yes I tried (wrote it in my first message) but this also doesn't
help.
>>>
>>> First things I've tried can be found at the start of the thread
>>> (http://lists.maptools.org/pipermail/gdal-dev/2006-May/008925.html)
and
>>> after nobody of the list had any ideas or hadn't the time to respond
I
>>> tried several other things (described in the last message
>>> http://lists.maptools.org/pipermail/gdal-dev/2006-May/008975.html)
but
>>> they also didn't succeed.
>>>
>>
>> Unfortunately, I'm completely not an expert of Java + SWIG
>> but I'd suggest you to try to build GDAL without any Java related
>> options first and see if it works.
>>
>> Cheers
>> -- 
>> Mateusz Loskot
>> http://mateusz.loskot.net
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Wed May 24 12:05:25 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] NG Python bindings, and SWIG 1.3.29
Message-ID: <44748445.9020401@pobox.com>

Folks,

I'm following up on failures in the autotest suite with the NG Python
bindings, especially when built with SWIG 1.3.29 (the most recent public
release of SWIG).  It seems that invoking Destroy() or Release() on an
ogr.DataSource is *not* causing it to be closed immediately and this is
causing serious problems for tests that require this.

A few questions:
  o The committed python wrappers seem to work substantially better than the
    ones I generate myself.  Are the committed bindings generated with an
    older or a newer SWIG than 1.3.29?

  o Are there any suggestions on how to force immediate deletion in the
    ogr.DataSource destructor?  Currently this just seems to decrement the
    Python reference count leaving it up to the Python VM to invoke the
    close function when it pleases.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ker_31_toluca at yahoo.com.mx  Wed May 24 12:31:40 2006
From: ker_31_toluca at yahoo.com.mx (Nikolai Vladychevski)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
Message-ID: <20060524163140.1539.qmail@web50901.mail.yahoo.com>

Hi,
I would like to know if someone here (or knows
someone) who made any tool to retrieve satelite
pictures from Google Earth into georeferenced images
(geotiff or such) ??? 

Slightly off but interesting topic. 
I will appriciate any comments

Ker



	
	
		
___________________________________________________________ 
Do You Yahoo!? 
La mejor conexi?n a Internet y <b >2GB</b> extra a tu correo por $100 al mes. http://net.yahoo.com.mx 


From epatton at nrcan.gc.ca  Wed May 24 14:16:27 2006
From: epatton at nrcan.gc.ca (Patton, Eric)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] installing gdal
Message-ID: <0E5A77B55A57D511BB3F0002A537C2620641117F@s5-dar-r1.nrn.nrcan.gc.ca>

Ok, I managed to get gdal installed after I disabled libtool during
configure:

./configure --with-png=internal --with-jpeg=internal --with-gif=internal
--with-libtiff=internal --with-geotiff=internal --with-libz=internal
--without-pg --without-ogdi --with-python --with-threads=yes --with-sqlite
--without-grass --without-libgrass --enable-shared --without-libtool 

I then did make and make install, no errors whatsoever.

I checked my installation with gdal_translate:

/usr/local/gdal-1.3.2$ gdal_translate --formats
Supported Formats:
Segmentation fault

Any ideas what happened here? I thought I had a clean installation there for
a second.

~ Eric.

-----Original Message-----
From: Christine Spietz
To: Patton, Eric
Sent: 5/24/2006 9:04 AM
Subject: Re: [Gdal-dev] installing gdal

Hi Eric,

I'm not realy familiar with c++ so I actually don't know what this
package 
should do and I don't know Ubuntu.
But perhaos the following things will help:

I Looked at my system and I have
- compst-libstdc++5.0.7
- libstdc++4.0.2_20050901
- libstdc++-devel4.0.2_20050901
installed.

1) What commands did you make? Only unzip/untar and './configure' and
'make' 
in GDAL-Home or anything else?
2) Is there a file 'libstdc++.la' in your /usr/lib ?

Christine




----- Original Message ----- 
From: "Patton, Eric" <epatton@nrcan.gc.ca>
To: "'Christine Spietz '" <spietz@fh-bingen.de>
Cc: <gdal-dev@lists.maptools.org>
Sent: Wednesday, May 24, 2006 2:44 PM
Subject: RE: [Gdal-dev] installing gdal


> Interesting, Christine, I'm getting complaints from make about 
> libstdc++.la
> not being a valid libtool archive, but I've got every dev package I
could
> find in Ubuntu Synaptic installed, so I'm not sure what else I need.
>
> ~ Eric.
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> To: Christine Spietz
> Cc: gdal-dev@lists.maptools.org
> Sent: 5/24/2006 8:16 AM
> Subject: Re: [Gdal-dev] installing gdal
>
> Me again,
>
> so finally I did it:
>
> My steps for installing gdal:
>
> 1) download gdal1.3.2.tar.gz
> 2) unzip/untar at /usr/lib/gdal => /usr/lib/gdal/gdal-1.3.2 =
GDAL-Home
> 3) ./configure
> 4) make
> error messages like
>
>>/usr/bin/sed: can't read /usr/lib/libjpg.la: No such file or directory
>>libtool: link: '/usr/lib/libjpg.la' is not a valid libtool archive
>>make[1]: *** [libgdal.la] Error 1
>
> make sense if you know what actually they mean... (Thanks to Nicol!)
> I had to install the missing packages
> - libjpeg-devel and
> - libpng-devel
>
> curious:
> even as I configures --with_jpeg=no I got the error that libjpg.la is
> not
> fount. So it seems taht these two packages are needed anyway to
install
> gdal
>
>
> regards,
>
> Christine
>
> ----- Original Message ----- 
> From: "Christine Spietz" <spietz@fh-bingen.de>
> To: "Mateusz Loskot" <mateusz@loskot.net>
> Cc: <gdal-dev@lists.maptools.org>
> Sent: Tuesday, May 23, 2006 5:54 PM
> Subject: Re: [Gdal-dev] installing gdal
>
>
>> Hi Mateuz,
>>
>> yes thats it: I'm trying now to build GDAL.
>>
>> I wanted to build Java and SWIG but then I realized that I had
> problems
>> with it because I actually was not able to build GDAL correctly.
>> And there I'm :  no GDAL installed and therefore no chance to do
> anything
>> with gdal/ogr.
>>
>> Christine
>>
>>
>>
>>
>> ----- Original Message ----- 
>> From: "Mateusz Loskot" <mateusz@loskot.net>
>> To: <gdal-dev@lists.maptools.org>
>> Sent: Tuesday, May 23, 2006 5:41 PM
>> Subject: Re: [Gdal-dev] installing gdal
>>
>>
>>> Christine Spietz wrote:
>>>> Hi Mateuz,
>>>>
>>>> yes I tried (wrote it in my first message) but this also doesn't
> help.
>>>>
>>>> First things I've tried can be found at the start of the thread
>>>> (http://lists.maptools.org/pipermail/gdal-dev/2006-May/008925.html)
> and
>>>> after nobody of the list had any ideas or hadn't the time to
respond
> I
>>>> tried several other things (described in the last message
>>>> http://lists.maptools.org/pipermail/gdal-dev/2006-May/008975.html)
> but
>>>> they also didn't succeed.
>>>>
>>>
>>> Unfortunately, I'm completely not an expert of Java + SWIG
>>> but I'd suggest you to try to build GDAL without any Java related
>>> options first and see if it works.
>>>
>>> Cheers
>>> -- 
>>> Mateusz Loskot
>>> http://mateusz.loskot.net
>>> _______________________________________________
>>> Gdal-dev mailing list
>>> Gdal-dev@lists.maptools.org
>>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>>
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


From werchowyna at epf.pl  Wed May 24 14:21:40 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] gdal_rasterize - can't make it work
In-Reply-To: <4473DBF9.2060107@pobox.com>
References: <20060523211024.7a4d9f00.werchowyna@epf.pl>
	<4473DBF9.2060107@pobox.com>
Message-ID: <20060524202140.bb31529e.werchowyna@epf.pl>

On Wed, 24 May 2006 00:07:21 -0400
Frank Warmerdam <warmerdam@pobox.com> wrote:

> Maciek,
> 
> I'm embarrassed to admit that gdal_rasterize only supports polygons at
> this time.  So the line strings are just being ignored as will points.

My fault, I haven't noticed that mentioned on the man site. (Haven't I
done the same mistake in the past?)

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From mateusz at loskot.net  Wed May 24 16:24:08 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] NG Python bindings, and SWIG 1.3.29
In-Reply-To: <44748445.9020401@pobox.com>
References: <44748445.9020401@pobox.com>
Message-ID: <4474C0E8.2010403@loskot.net>

Frank Warmerdam wrote:
> I'm following up on failures in the autotest suite with the NG Python
> bindings, especially when built with SWIG 1.3.29 (the most recent public
> release of SWIG).  It seems that invoking Destroy() or Release() on an
> ogr.DataSource is *not* causing it to be closed immediately and this is
> causing serious problems for tests that require this.
> 
> A few questions:
>  o The committed python wrappers seem to work substantially better than the
>    ones I generate myself.  Are the committed bindings generated with an
>    older or a newer SWIG than 1.3.29?

Frank,

I'd like to add myself to this question :-)

>  o Are there any suggestions on how to force immediate deletion in the
>    ogr.DataSource destructor?  Currently this just seems to decrement the
>    Python reference count leaving it up to the Python VM to invoke the
>    close function when it pleases.

Do you mean that explicit call of __del__ in Destroy() does not cause
object deletion?
There may be a few reasons of this issue:
- reference to DataSource still present, so then GC won't delete DataSource
- cyclic references between DataSource and o

if a is a DataSource then you may try to call:

del a

but this will *only* decrement reference counter and call __del__ dctor
only if refcounter is 0. So, in following case, __del__ won't be called:

a = MyClass()
b = a
del a # <----

Another option is to cause deletion by assigning None to DataSource
instance:

a = None

Calling __del__ explicitly won't promise that the object is deleted. It
still depends if there are any references existing.

Summarizing, I'd try to assing None at the first place:

def Destroy(self):
    self = None

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From huub.fleuren at geodan.nl  Wed May 24 05:40:03 2006
From: huub.fleuren at geodan.nl (Huub Fleuren)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] ECW support
Message-ID: <447429F3.3070500@geodan.nl>

Hi List

I compiled libecwj2-3.3 succesfully with MS Platform SDK and VC6
I was hoping the i could now compile gdal biy simple doing this in the 
makefile

# Uncomment the following and update to enable ECW support.
ECWDIR  =     C:\projects\libecwj2-3.3
ECWLIB  =     $(ECWDIR)\lib\libecwj2s.lib

the ecw compilation puts a  libecwj2s.lib in its lib directory, i assume 
i should use it
$(ECWDIR )\Source\include is there
$(ECWDIR )\\include is not there

Somethings missing, but what?

Thanks for any help

Regards Huub

==
I get the following

   Creating library gdal_i.lib and object gdal_i.exp
libecwj2s.lib(file.obj) : error LNK2019: unresolved external symbol 
_VerQueryVal
ueW@16 referenced in function _NCSFileGetVersion
libecwj2s.lib(file.obj) : error LNK2019: unresolved external symbol 
_GetFileVers
ionInfoW@16 referenced in function _NCSFileGetVersion
libecwj2s.lib(file.obj) : error LNK2019: unresolved external symbol 
_GetFileVers
ionInfoSizeW@8 referenced in function _NCSFileGetVersion
libecwj2s.lib(NCScnet.obj) : error LNK2019: unresolved external symbol 
__imp__Ce
rtFreeCertificateContext@4 referenced in function _NCScnetDestroy
libecwj2s.lib(cnet2util.obj) : error LNK2001: unresolved external symbol 
__imp__
CertFreeCertificateContext@4
libecwj2s.lib(connect.obj) : error LNK2001: unresolved external symbol 
__imp__Ce
rtFreeCertificateContext@4
libecwj2s.lib(exception_catch.obj) : error LNK2019: unresolved external 
symbol _
_imp__SymCleanup@4 referenced in function _StackTracer
libecwj2s.lib(exception_catch.obj) : error LNK2019: unresolved external 
symbol _
_imp__SymGetSymFromAddr@16 referenced in function _StackTracer
libecwj2s.lib(exception_catch.obj) : error LNK2019: unresolved external 
symbol _
_imp__StackWalk@36 referenced in function _StackTracer
libecwj2s.lib(exception_catch.obj) : error LNK2019: unresolved external 
symbol _
_imp__SymFunctionTableAccess@8 referenced in function _StackTracer
libecwj2s.lib(exception_catch.obj) : error LNK2019: unresolved external 
symbol _
_imp__SymGetModuleBase@8 referenced in function _StackTracer
libecwj2s.lib(exception_catch.obj) : error LNK2019: unresolved external 
symbol _
_imp__SymInitialize@12 referenced in function _StackTracer
libecwj2s.lib(cnet2util.obj) : error LNK2019: unresolved external symbol 
_htonl@
4 referenced in function _NCScnetSetID
libecwj2s.lib(cnet2util.obj) : error LNK2019: unresolved external symbol 
_gethos
tbyname@4 referenced in function _NCScnetSetID
libecwj2s.lib(cnet2util.obj) : error LNK2019: unresolved external symbol 
_gethos
tname@8 referenced in function _NCScnetSetID
libecwj2s.lib(cnet2util.obj) : error LNK2019: unresolved external symbol 
__imp__
CertCloseStore@8 referenced in function _NCScnetCleanupGlobals
libecwj2s.lib(cnet2util.obj) : error LNK2019: unresolved external symbol 
__imp__
CertGetNameStringW@24 referenced in function _NCSCertificateChooser
libecwj2s.lib(cnet2util.obj) : error LNK2019: unresolved external symbol 
__imp__
CertDuplicateCertificateContext@4 referenced in function 
_NCSCertificateChooser
libecwj2s.lib(connect.obj) : error LNK2001: unresolved external symbol 
__imp__Ce
rtDuplicateCertificateContext@4
libecwj2s.lib(cnet2util.obj) : error LNK2019: unresolved external symbol 
__imp__
CertEnumCertificatesInStore@8 referenced in function _NCSCertificateChooser
libecwj2s.lib(connect.obj) : error LNK2019: unresolved external symbol 
__imp__Ce
rtOpenSystemStoreW@8 referenced in function _NCScnetConnectToServer
gdal13.dll : fatal error LNK1120: 18 unresolved externals
NMAKE : fatal error U1077: 'link' : return code '0x460'
Stop.




-- 
--------------------------------------
Geodan IT b.v.
Buitenhaven 27-A
5211 TP 's-Hertogenbosch (NL)
-------------------------------------
Tel: +31 (0)73 - 692 5151
Fax:  +31 (0)73 - 692 5150
Mobiel:
-------------------------------------
Postadres / mailing address
President Kennedylaan 1
1079 MB Amsterdam (NL)
-------------------------------------
E-mail: huub.fleuren@geodan.nl
Website: www.geodan.nl
Disclaimer: www.geodan.nl/disclaimer
-------------------------------------



From gdal-dev at ostertag.name  Wed May 24 17:31:12 2006
From: gdal-dev at ostertag.name (Joerg Ostertag)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <20060524163140.1539.qmail@web50901.mail.yahoo.com>
References: <20060524163140.1539.qmail@web50901.mail.yahoo.com>
Message-ID: <200605242331.13195.gdal-dev@ostertag.name>

On Wednesday 24 May 2006 18:31, Nikolai Vladychevski wrote:
> Hi,
> I would like to know if someone here (or knows
> someone) who made any tool to retrieve satelite
> pictures from Google Earth into georeferenced images
> (geotiff or such) ???
>
> Slightly off but interesting topic.
> I will appriciate any comments

gpsfetchmap.pl (gpsdrive) can do something similar.

-

Joerg

From warmerdam at pobox.com  Wed May 24 17:47:46 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] KML Write-only driver for OGR
Message-ID: <4474D482.6030703@pobox.com>

Folks,

Christopher Condit wrote:
 > Hi Frank-
 >
 > I know this is unsolicited, but I added this for my own use and I know
 > there?s been some discussion on the mailing list about KML.  If it?s
 > useful to the community and you?re interested in adding it to OGR,
 > please do.
 >
 > I?m attaching the source (and modifications to main files) for an OGR
 > driver that outputs KML.  Since KML is so close to GML, I just modified
 > the GML driver and removed read support since it doesn?t make much sense
 > to read a KML file.  The source could probably be cleaner since I don?t
 > really know OGR at all.  But it works well for writing and does not
 > require Xerces.
 >
 > I?d be happy to put in time to support this driver.
 >
 > Thanks for all your hard work on GDAL ? it?s a great tool!
 >
 > -Chris

It occurs to me that I shouldn't really be making the decision to
incorporate this on my own.  So I'm calling for a vote on this inclusion.

As I see it the downside is that this driver is write-only, which isn't
a concept that is particularly well handled by OGR (there is not way for
a driver to indicate it is write only currently).   However, we have done
this for GML, and DWG/DXF in the past so it isn't a new thing.

Beyond that I (well actually Mateusz on my behalf) and Christopher would
be responsible for supporting the driver.  Furthermore, we would incorporate
a simple test script into the gdalautotest for it.

So, I'll start things out with a +1 in support of this new driver.

PS. I don't foresee needing a written RFC for non-disruptive changes such
as adding a new driver.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From condit at sdsc.edu  Wed May 24 18:35:11 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] KML Write-only driver for OGR
Message-ID: <845AADAC1106E44996327D62097E4C6B95E046@et.ad.sdsc.edu>

It's certainly possible to add read support for KML.  The XML
construction is very similar to GML (at least for geometries).  The only
problem is that I'm not clear how to handle feature attributes, as KML
stores this type of thing in the "Description" element.  This content
model for this element is arbitrary text (which can also be HTML).  We
can:
0) Accept write only support for now
1) Define some convention for OGR <-> KML feature attributes that gets
stored in this description element
2) Allow only two attributes on read: name and description (populating
with content from these XML elements)
3) Other suggestions?

Also, we'll lose formatting information from the KML - but I don't see
any way around that...

-Chris


-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank
Warmerdam
Sent: Wednesday, May 24, 2006 2:48 PM
To: gdal-dev
Subject: [Gdal-dev] KML Write-only driver for OGR

Folks,

Christopher Condit wrote:
 > Hi Frank-
 >
 > I know this is unsolicited, but I added this for my own use and I
know
 > there's been some discussion on the mailing list about KML.  If it's
 > useful to the community and you're interested in adding it to OGR,
 > please do.
 >
 > I'm attaching the source (and modifications to main files) for an OGR
 > driver that outputs KML.  Since KML is so close to GML, I just
modified
 > the GML driver and removed read support since it doesn't make much
sense
 > to read a KML file.  The source could probably be cleaner since I
don't
 > really know OGR at all.  But it works well for writing and does not
 > require Xerces.
 >
 > I'd be happy to put in time to support this driver.
 >
 > Thanks for all your hard work on GDAL - it's a great tool!
 >
 > -Chris

It occurs to me that I shouldn't really be making the decision to
incorporate this on my own.  So I'm calling for a vote on this
inclusion.

As I see it the downside is that this driver is write-only, which isn't
a concept that is particularly well handled by OGR (there is not way for
a driver to indicate it is write only currently).   However, we have
done
this for GML, and DWG/DXF in the past so it isn't a new thing.

Beyond that I (well actually Mateusz on my behalf) and Christopher would
be responsible for supporting the driver.  Furthermore, we would
incorporate
a simple test script into the gdalautotest for it.

So, I'll start things out with a +1 in support of this new driver.

PS. I don't foresee needing a written RFC for non-disruptive changes
such
as adding a new driver.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF,
http://osgeo.org

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From peter.rushforth at gmail.com  Wed May 24 22:04:22 2006
From: peter.rushforth at gmail.com (Peter Rushforth)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] ogr gml reader needs an update
In-Reply-To: <4471EFB7.7070301@pobox.com>
References: <1fd798f40605210207l7801ee6as83d103fe73fc1ba2@mail.gmail.com>
	<4471EFB7.7070301@pobox.com>
Message-ID: <1fd798f40605241904k2f72519au57df66d317506ab1@mail.gmail.com>

Hi Frank,

I have made the following updates:

gmlreader.h

-added m_nWidth class member to GMLPropertyDefn
-added getter and setter for m_nWidth member

gmlpropertydefn.cpp

-modified member function AnalysePropertyValue() to set the m_szWidth
member via SetWidth method in the case of a string value

gmlfeatureclass.cpp

-added code to set property definition width member to value of Width
element found in .gfs file

The system does create the correctly populated Width element in the .gfs file,
but the m_szWidth member is ignored by the ogr2ogr system when it comes
to creating the output layer.  Could you point out where I need to look to make
that change please?

Cheers,
Peter
-------------- next part --------------
/**********************************************************************
 * $Id: gmlfeatureclass.cpp,v 1.5 2003/09/11 20:01:21 warmerda Exp $
 *
 * Project:  GML Reader
 * Purpose:  Implementation of GMLFeatureClass.
 * Author:   Frank Warmerdam, warmerdam@pobox.com
 *
 **********************************************************************
 * Copyright (c) 2002, Frank Warmerdam
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER 
 * DEALINGS IN THE SOFTWARE.
 **********************************************************************
 *
 * $Log: gmlfeatureclass.cpp,v $
 * Revision 1.5  2003/09/11 20:01:21  warmerda
 * removed unused variable
 *
 * Revision 1.4  2003/05/21 03:48:35  warmerda
 * Expand tabs
 *
 * Revision 1.3  2002/03/06 20:07:35  warmerda
 * added tracking of extents, feature count and extrainfo
 *
 * Revision 1.2  2002/01/24 17:37:33  warmerda
 * added to/from XML support
 *
 * Revision 1.1  2002/01/04 19:46:30  warmerda
 * New
 *
 *
 **********************************************************************/

#include "gmlreader.h"
#include "cpl_conv.h"

/************************************************************************/
/*                          GMLFeatureClass()                           */
/************************************************************************/

GMLFeatureClass::GMLFeatureClass( const char *pszName )

{
    m_pszName = CPLStrdup( pszName );
    m_pszElementName = NULL;
    m_pszGeometryElement = NULL;
    m_nPropertyCount = 0;
    m_papoProperty = NULL;
    m_bSchemaLocked = FALSE;

    m_pszExtraInfo = NULL;
    m_bHaveExtents = FALSE;
    m_nFeatureCount = -1; // unknown
}

/************************************************************************/
/*                          ~GMLFeatureClass()                          */
/************************************************************************/

GMLFeatureClass::~GMLFeatureClass()

{
    CPLFree( m_pszName );
    CPLFree( m_pszElementName );
    CPLFree( m_pszGeometryElement );

    for( int i = 0; i < m_nPropertyCount; i++ )
        delete m_papoProperty[i];
    CPLFree( m_papoProperty );
}

/************************************************************************/
/*                           GetProperty(int)                           */
/************************************************************************/

GMLPropertyDefn *GMLFeatureClass::GetProperty( int iIndex ) const

{
    if( iIndex < 0 || iIndex >= m_nPropertyCount )
        return NULL;
    else
        return m_papoProperty[iIndex];
}

/************************************************************************/
/*                          GetPropertyIndex()                          */
/************************************************************************/

int GMLFeatureClass::GetPropertyIndex( const char *pszName ) const

{
    for( int i = 0; i < m_nPropertyCount; i++ )
        if( EQUAL(pszName,m_papoProperty[i]->GetName()) )
            return i;

    return -1;
}

/************************************************************************/
/*                            AddProperty()                             */
/************************************************************************/

int GMLFeatureClass::AddProperty( GMLPropertyDefn *poDefn )

{
    CPLAssert( GetProperty(poDefn->GetName()) == NULL );

    m_nPropertyCount++;
    m_papoProperty = (GMLPropertyDefn **)
        CPLRealloc( m_papoProperty, sizeof(void*) * m_nPropertyCount );

    m_papoProperty[m_nPropertyCount-1] = poDefn;

    return m_nPropertyCount-1;
}

/************************************************************************/
/*                           SetElementName()                           */
/************************************************************************/

void GMLFeatureClass::SetElementName( const char *pszElementName )

{
    CPLFree( m_pszElementName );
    m_pszElementName = CPLStrdup( pszElementName );
}

/************************************************************************/
/*                           GetElementName()                           */
/************************************************************************/

const char *GMLFeatureClass::GetElementName() const

{
    if( m_pszElementName == NULL )
        return m_pszName;
    else
        return m_pszElementName;
}

/************************************************************************/
/*                         SetGeometryElement()                         */
/************************************************************************/

void GMLFeatureClass::SetGeometryElement( const char *pszElement )

{
    CPLFree( m_pszGeometryElement );
    m_pszGeometryElement = CPLStrdup( pszElement );
}

/************************************************************************/
/*                          GetFeatureCount()                           */
/************************************************************************/

int GMLFeatureClass::GetFeatureCount()

{
    return m_nFeatureCount;
}

/************************************************************************/
/*                          SetFeatureCount()                           */
/************************************************************************/

void GMLFeatureClass::SetFeatureCount( int nNewCount )

{
    m_nFeatureCount = nNewCount;
}

/************************************************************************/
/*                            GetExtraInfo()                            */
/************************************************************************/

const char *GMLFeatureClass::GetExtraInfo()

{
    return m_pszExtraInfo;
}

/************************************************************************/
/*                            SetExtraInfo()                            */
/************************************************************************/

void GMLFeatureClass::SetExtraInfo( const char *pszExtraInfo )

{
    CPLFree( m_pszExtraInfo );
    m_pszExtraInfo = NULL;

    if( pszExtraInfo != NULL )
        m_pszExtraInfo = CPLStrdup( pszExtraInfo );
}

/************************************************************************/
/*                             SetExtents()                             */
/************************************************************************/

void GMLFeatureClass::SetExtents( double dfXMin, double dfXMax, 
                                  double dfYMin, double dfYMax )

{
    m_dfXMin = dfXMin;
    m_dfXMax = dfXMax;
    m_dfYMin = dfYMin;
    m_dfYMax = dfYMax;

    m_bHaveExtents = TRUE;
}

/************************************************************************/
/*                             GetExtents()                             */
/************************************************************************/

int GMLFeatureClass::GetExtents( double *pdfXMin, double *pdfXMax, 
                                 double *pdfYMin, double *pdfYMax )

{
    if( m_bHaveExtents )
    {
        *pdfXMin = m_dfXMin;
        *pdfXMax = m_dfXMax;
        *pdfYMin = m_dfYMin;
        *pdfYMax = m_dfYMax;
    }

    return m_bHaveExtents;
}

/************************************************************************/
/*                         InitializeFromXML()                          */
/************************************************************************/

int GMLFeatureClass::InitializeFromXML( CPLXMLNode *psRoot )

{
/* -------------------------------------------------------------------- */
/*      Do some rudimentary checking that this is a well formed         */
/*      node.                                                           */
/* -------------------------------------------------------------------- */
    if( psRoot == NULL 
        || psRoot->eType != CXT_Element 
        || !EQUAL(psRoot->pszValue,"GMLFeatureClass") )
    {
        CPLError( CE_Failure, CPLE_AppDefined, 
                  "GMLFeatureClass::InitializeFromXML() called on %s node!",
                  psRoot->pszValue );
        return FALSE;
    }

    if( CPLGetXMLValue( psRoot, "Name", NULL ) == NULL )
    {
        CPLError( CE_Failure, CPLE_AppDefined, 
                  "GMLFeatureClass has no <Name> element." );
        return FALSE;
    }

/* -------------------------------------------------------------------- */
/*      Collect base info.                                              */
/* -------------------------------------------------------------------- */
    CPLFree( m_pszName );
    m_pszName = CPLStrdup( CPLGetXMLValue( psRoot, "Name", NULL ) );
    
    SetElementName( CPLGetXMLValue( psRoot, "ElementPath", m_pszName ) );

    const char *pszGPath = CPLGetXMLValue( psRoot, "GeometryElementPath", "" );
    
    if( strlen( pszGPath ) > 0 )
        SetGeometryElement( pszGPath );

/* -------------------------------------------------------------------- */
/*      Collect dataset specific info.                                  */
/* -------------------------------------------------------------------- */
    CPLXMLNode *psDSI = CPLGetXMLNode( psRoot, "DatasetSpecificInfo" );
    if( psDSI != NULL )
    {
        const char *pszValue;

        pszValue = CPLGetXMLValue( psDSI, "FeatureCount", NULL );
        if( pszValue != NULL )
            SetFeatureCount( atoi(pszValue) );

        // Eventually we should support XML subtrees.
        pszValue = CPLGetXMLValue( psDSI, "ExtraInfo", NULL );
        if( pszValue != NULL )
            SetExtraInfo( pszValue );

        if( CPLGetXMLValue( psDSI, "ExtentXMin", NULL ) != NULL 
            && CPLGetXMLValue( psDSI, "ExtentXMax", NULL ) != NULL
            && CPLGetXMLValue( psDSI, "ExtentYMin", NULL ) != NULL
            && CPLGetXMLValue( psDSI, "ExtentYMax", NULL ) != NULL )
        {
            SetExtents( atof(CPLGetXMLValue( psDSI, "ExtentXMin", "0.0" )),
                        atof(CPLGetXMLValue( psDSI, "ExtentXMax", "0.0" )),
                        atof(CPLGetXMLValue( psDSI, "ExtentYMin", "0.0" )),
                        atof(CPLGetXMLValue( psDSI, "ExtentYMax", "0.0" )) );
        }
    }
    
/* -------------------------------------------------------------------- */
/*      Collect property definitions.                                   */
/* -------------------------------------------------------------------- */
    for( CPLXMLNode *psThis = psRoot->psChild;
         psThis != NULL; psThis = psThis->psNext )
    {
        if( EQUAL(psThis->pszValue, "PropertyDefn") )
        {
            const char *pszName = CPLGetXMLValue( psThis, "Name", NULL );
            const char *pszType = CPLGetXMLValue( psThis, "Type", "Untyped" );
            GMLPropertyDefn *poPDefn;

            if( pszName == NULL )
            {
                CPLError( CE_Failure, CPLE_AppDefined, 
                          "GMLFeatureClass %s has a PropertyDefn without a <Name>..",
                          m_pszName );
                return FALSE;
            }

            poPDefn = new GMLPropertyDefn( 
                pszName, CPLGetXMLValue( psThis, "ElementPath", NULL ) );
            
            if( EQUAL(pszType,"Untyped") )
                poPDefn->SetType( GMLPT_Untyped );
            else if( EQUAL(pszType,"String") ) 
            {
                poPDefn->SetType( GMLPT_String );
                poPDefn->SetWidth( atoi( CPLGetXMLValue( psThis, "Width", "0" ) ) );
            }
            else if( EQUAL(pszType,"Integer") )
                poPDefn->SetType( GMLPT_Integer );
            else if( EQUAL(pszType,"Real") )
                poPDefn->SetType( GMLPT_Real );
            else if( EQUAL(pszType,"Complex") )
                poPDefn->SetType( GMLPT_Complex );
            else
            {
                CPLError( CE_Failure, CPLE_AppDefined, 
                          "Unrecognised property type %s.", 
                          pszType );
                return FALSE;
            }

            AddProperty( poPDefn );
        }
    }

    return TRUE;
}

/************************************************************************/
/*                           SerializeToXML()                           */
/************************************************************************/

CPLXMLNode *GMLFeatureClass::SerializeToXML()

{
    CPLXMLNode  *psRoot;
    int         iProperty;

/* -------------------------------------------------------------------- */
/*      Set feature class and core information.                         */
/* -------------------------------------------------------------------- */
    psRoot = CPLCreateXMLNode( NULL, CXT_Element, "GMLFeatureClass" );

    CPLCreateXMLElementAndValue( psRoot, "Name", GetName() );
    CPLCreateXMLElementAndValue( psRoot, "ElementPath", GetElementName() );
    if( GetGeometryElement() != NULL && strlen(GetGeometryElement()) > 0 )
        CPLCreateXMLElementAndValue( psRoot, "GeometryElementPath", 
                                     GetGeometryElement() );

/* -------------------------------------------------------------------- */
/*      Write out dataset specific information.                         */
/* -------------------------------------------------------------------- */
    CPLXMLNode *psDSI;

    if( m_bHaveExtents || m_nFeatureCount != -1 || m_pszExtraInfo != NULL )
    {
        psDSI = CPLCreateXMLNode( psRoot, CXT_Element, "DatasetSpecificInfo" );

        if( m_nFeatureCount != -1 )
        {
            char szValue[128];

            sprintf( szValue, "%d", m_nFeatureCount );
            CPLCreateXMLElementAndValue( psDSI, "FeatureCount", szValue );
        }

        if( m_bHaveExtents )
        {
            char szValue[128];

            sprintf( szValue, "%.5f", m_dfXMin );
            CPLCreateXMLElementAndValue( psDSI, "ExtentXMin", szValue );

            sprintf( szValue, "%.5f", m_dfXMax );
            CPLCreateXMLElementAndValue( psDSI, "ExtentXMax", szValue );

            sprintf( szValue, "%.5f", m_dfYMin );
            CPLCreateXMLElementAndValue( psDSI, "ExtentYMin", szValue );

            sprintf( szValue, "%.5f", m_dfYMax );
            CPLCreateXMLElementAndValue( psDSI, "ExtentYMax", szValue );
        }

        if( m_pszExtraInfo )
            CPLCreateXMLElementAndValue( psDSI, "ExtraInfo", m_pszExtraInfo );
    }
    
/* -------------------------------------------------------------------- */
/*      emit property information.                                      */
/* -------------------------------------------------------------------- */
    for( iProperty = 0; iProperty < GetPropertyCount(); iProperty++ )
    {
        GMLPropertyDefn *poPDefn = GetProperty( iProperty );
        CPLXMLNode *psPDefnNode;
        const char *pszTypeName;

        psPDefnNode = CPLCreateXMLNode( psRoot, CXT_Element, "PropertyDefn" );
        CPLCreateXMLElementAndValue( psPDefnNode, "Name", 
                                     poPDefn->GetName() );
        CPLCreateXMLElementAndValue( psPDefnNode, "ElementPath", 
                                     poPDefn->GetSrcElement() );
        switch( poPDefn->GetType() )
        {
          case GMLPT_Untyped:
            pszTypeName = "Untyped";
            break;
            
          case GMLPT_String:
            pszTypeName = "String";
            break;
            
          case GMLPT_Integer:
            pszTypeName = "Integer";
            break;
            
          case GMLPT_Real:
            pszTypeName = "Real";
            break;
            
          case GMLPT_Complex:
            pszTypeName = "Complex";
            break;
        }

        CPLCreateXMLElementAndValue( psPDefnNode, "Type", pszTypeName );
        if( EQUAL(pszTypeName,"String") )
        {
            char szMaxLength[48];
            sprintf(szMaxLength, "%d", poPDefn->GetWidth());
            CPLCreateXMLElementAndValue ( psPDefnNode, "Width", szMaxLength );
        }
    }

    return psRoot;
}

-------------- next part --------------
/**********************************************************************
 * $Id: gmlpropertydefn.cpp,v 1.2 2004/01/19 16:54:44 warmerda Exp $
 *
 * Project:  GML Reader
 * Purpose:  Implementation of GMLPropertyDefn
 * Author:   Frank Warmerdam, warmerdam@pobox.com
 *
 **********************************************************************
 * Copyright (c) 2002, Frank Warmerdam
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER 
 * DEALINGS IN THE SOFTWARE.
 **********************************************************************
 *
 * $Log: gmlpropertydefn.cpp,v $
 * Revision 1.2  2004/01/19 16:54:44  warmerda
 * added logic to capture field types
 *
 * Revision 1.1  2002/01/04 19:46:30  warmerda
 * New
 *
 *
 **********************************************************************/

#include "gmlreader.h"
#include "cpl_conv.h"

/************************************************************************/
/*                           GMLPropertyDefn                            */
/************************************************************************/

GMLPropertyDefn::GMLPropertyDefn( const char *pszName, 
                                  const char *pszSrcElement )

{
    m_pszName = CPLStrdup( pszName );
    if( pszSrcElement != NULL )
        m_pszSrcElement = CPLStrdup( pszSrcElement );
    else
        m_pszSrcElement = NULL;
    m_eType = GMLPT_Untyped;
    m_nWidth = 0; 
}

/************************************************************************/
/*                          ~GMLPropertyDefn()                          */
/************************************************************************/

GMLPropertyDefn::~GMLPropertyDefn()

{
    CPLFree( m_pszName );
    CPLFree( m_pszSrcElement );
}

/************************************************************************/
/*                           SetSrcElement()                            */
/************************************************************************/

void GMLPropertyDefn::SetSrcElement( const char *pszSrcElement )

{
    CPLFree( m_pszSrcElement );
    if( pszSrcElement != NULL )
        m_pszSrcElement = CPLStrdup( pszSrcElement );
    else
        m_pszSrcElement = NULL;
}

/************************************************************************/
/*                        AnalysePropertyValue()                        */
/*                                                                      */
/*      Examine the passed property value, and see if we need to        */
/*      make the field type more specific, or more general.             */
/************************************************************************/

void GMLPropertyDefn::AnalysePropertyValue( const char *pszValue )

{
/* -------------------------------------------------------------------- */
/*      We can't get more general than string, so at this point just    */
/*      give up on changing.                                            */
/* -------------------------------------------------------------------- */
    if( m_eType == GMLPT_String )
    {
        /* grow the Width to the length of the string passed in */
        int nWidth;
        nWidth = strlen(pszValue);
        if ( m_nWidth < nWidth ) 
            SetWidth( nWidth );
        return;
    }

/* -------------------------------------------------------------------- */
/*      If it is a zero length string, just return.  We can't deduce    */
/*      much from this.                                                 */
/* -------------------------------------------------------------------- */
    if( *pszValue == '\0' )
        return;

/* -------------------------------------------------------------------- */
/*      Does the string consist entirely of numeric values?             */
/* -------------------------------------------------------------------- */
    int bIsReal = FALSE;
    

    for(; *pszValue != '\0'; pszValue++ )
    {
        if( isdigit( *pszValue) || *pszValue == '-' || *pszValue == '+' 
            || isspace( *pszValue ) )
            /* do nothing */;
        else if( *pszValue == '.' || *pszValue == 'D' || *pszValue == 'd'
                 || *pszValue == 'E' || *pszValue == 'e' )
            bIsReal = TRUE;
        else 
        {
            m_eType = GMLPT_String;
            return;
        }
    }

    if( m_eType == GMLPT_Untyped || m_eType == GMLPT_Integer )
    {
        if( bIsReal )
            m_eType = GMLPT_Real;
        else
            m_eType = GMLPT_Integer;
    }
}

-------------- next part --------------
/******************************************************************************
 * $Id: gmlreader.h,v 1.9 2005/01/27 04:05:35 fwarmerdam Exp $
 *
 * Project:  GML Reader
 * Purpose:  Public Declarations for OGR free GML Reader code.
 * Author:   Frank Warmerdam, warmerdam@pobox.com
 *
 ******************************************************************************
 * Copyright (c) 2002, Frank Warmerdam
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER 
 * DEALINGS IN THE SOFTWARE.
 ******************************************************************************
 *
 * $Log: gmlreader.h,v $
 * Revision 1.9  2005/01/27 04:05:35  fwarmerdam
 * added ParseXSD
 *
 * Revision 1.8  2004/01/19 16:54:44  warmerda
 * added logic to capture field types
 *
 * Revision 1.7  2003/05/21 03:48:35  warmerda
 * Expand tabs
 *
 * Revision 1.6  2002/03/06 20:08:02  warmerda
 * added tracking of extents, feature count and extrainfo
 *
 * Revision 1.5  2002/01/25 21:23:21  warmerda
 * handle IGMLReader destructor properly in gmlreader.cpp
 *
 * Revision 1.4  2002/01/25 21:17:34  warmerda
 * provided IGMLReader destructor implementation
 *
 * Revision 1.3  2002/01/25 20:38:01  warmerda
 * added prescan and resetreading methods
 *
 * Revision 1.2  2002/01/24 17:39:08  warmerda
 * added xml serialization and geometry support
 *
 * Revision 1.1  2002/01/04 19:46:30  warmerda
 * New
 */

#ifndef _GMLREADER_H_INCLUDED
#define _GMLREADER_H_INCLUDED

#include "cpl_port.h"
#include "cpl_minixml.h"

typedef enum {
    GMLPT_Untyped = 0,
    GMLPT_String = 1,
    GMLPT_Integer = 2,
    GMLPT_Real = 3,
    GMLPT_Complex = 4
} GMLPropertyType;

/************************************************************************/
/*                           GMLPropertyDefn                            */
/************************************************************************/
class CPL_DLL GMLPropertyDefn
{
    char             *m_pszName;
    GMLPropertyType   m_eType;
    int               m_nWidth;
    char             *m_pszSrcElement;

public:
    
        GMLPropertyDefn( const char *pszName, const char *pszSrcElement=NULL );
       ~GMLPropertyDefn();

    const char *GetName() { return m_pszName; } const

    GMLPropertyType GetType() { return m_eType; } const
    void        SetType( GMLPropertyType eType ) { m_eType = eType; }
    void        SetWidth( int nWidth) { m_nWidth = nWidth; }
    int         GetWidth() { return m_nWidth; }
    void        SetSrcElement( const char *pszSrcElement );
    const char *GetSrcElement() { return m_pszSrcElement; }

    void        AnalysePropertyValue( const char * );
};

/************************************************************************/
/*                           GMLFeatureClass                            */
/************************************************************************/
class CPL_DLL GMLFeatureClass
{
    char        *m_pszName;
    char        *m_pszElementName;
    char        *m_pszGeometryElement;
    int         m_nPropertyCount;
    GMLPropertyDefn **m_papoProperty;

    int         m_bSchemaLocked;

    int         m_nFeatureCount;

    char        *m_pszExtraInfo;

    int         m_bHaveExtents;
    double      m_dfXMin;
    double      m_dfXMax;
    double      m_dfYMin;
    double      m_dfYMax;

public:
            GMLFeatureClass( const char *pszName = "" );
           ~GMLFeatureClass();

    const char *GetElementName() const;
    void        SetElementName( const char *pszElementName );

    const char *GetGeometryElement() const { return m_pszGeometryElement; }
    void        SetGeometryElement( const char *pszElementName );

    const char *GetName() { return m_pszName; } const
    int         GetPropertyCount() const { return m_nPropertyCount; }
    GMLPropertyDefn *GetProperty( int iIndex ) const;
    int GetPropertyIndex( const char *pszName ) const;
    GMLPropertyDefn *GetProperty( const char *pszName ) const 
        { return GetProperty( GetPropertyIndex(pszName) ); }

    int         AddProperty( GMLPropertyDefn * );

    int         IsSchemaLocked() const { return m_bSchemaLocked; }
    void        SetSchemaLocked( int bLock ) { m_bSchemaLocked = bLock; }

    const char  *GetExtraInfo();
    void        SetExtraInfo( const char * );

    int         GetFeatureCount();
    void        SetFeatureCount( int );

    void        SetExtents( double dfXMin, double dfXMax, 
                            double dFYMin, double dfYMax );
    int         GetExtents( double *pdfXMin, double *pdfXMax, 
                            double *pdFYMin, double *pdfYMax );

    CPLXMLNode *SerializeToXML();
    int         InitializeFromXML( CPLXMLNode * );
};

/************************************************************************/
/*                              GMLFeature                              */
/************************************************************************/
class CPL_DLL GMLFeature
{
    GMLFeatureClass *m_poClass;
    char            *m_pszFID;

    int              m_nPropertyCount;
    char           **m_papszProperty;

    char            *m_pszGeometry;

public:
                    GMLFeature( GMLFeatureClass * );
                   ~GMLFeature();

    GMLFeatureClass*GetClass() const { return m_poClass; }

    void            SetGeometryDirectly( char * );
    const char     *GetGeometry() const { return m_pszGeometry; }

    void            SetProperty( int i, const char *pszValue );
    void            SetProperty( const char *pszName, const char *pszValue )
        { SetProperty( m_poClass->GetPropertyIndex(pszName), pszValue ); }

    const char      *GetProperty( int i ) const;
    const char      *GetProperty( const char *pszName ) const
        { return GetProperty( m_poClass->GetPropertyIndex(pszName) ); }

    const char      *GetFID() const { return m_pszFID; }
    void             SetFID( const char *pszFID );

    void             Dump( FILE *fp );
};

/************************************************************************/
/*                              IGMLReader                              */
/************************************************************************/
class CPL_DLL IGMLReader
{
public:
    virtual     ~IGMLReader();

    virtual int  IsClassListLocked() const = 0;
    virtual void SetClassListLocked( int bFlag ) = 0;

    virtual void SetSourceFile( const char *pszFilename ) = 0;

    virtual int  GetClassCount() const = 0;
    virtual GMLFeatureClass *GetClass( int i ) const = 0;
    virtual GMLFeatureClass *GetClass( const char *pszName ) const = 0;

    virtual int        AddClass( GMLFeatureClass *poClass ) = 0;
    virtual void       ClearClasses() = 0;

    virtual GMLFeature *NextFeature() = 0;
    virtual void       ResetReading() = 0;

    virtual int  LoadClasses( const char *pszFile = NULL ) = 0;
    virtual int  SaveClasses( const char *pszFile = NULL ) = 0;

    virtual int  ParseXSD( const char *pszFile ) = 0;

    virtual int PrescanForSchema( int bGetExtents = TRUE ) = 0;
};

IGMLReader *CreateGMLReader();


#endif /* _GMLREADER_H_INCLUDED */
From warmerdam at pobox.com  Wed May 24 22:45:56 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] ogr gml reader needs an update
In-Reply-To: <1fd798f40605241904k2f72519au57df66d317506ab1@mail.gmail.com>
References: <1fd798f40605210207l7801ee6as83d103fe73fc1ba2@mail.gmail.com>	
	<4471EFB7.7070301@pobox.com>
	<1fd798f40605241904k2f72519au57df66d317506ab1@mail.gmail.com>
Message-ID: <44751A64.3000200@pobox.com>

Peter Rushforth wrote:
> Hi Frank,
> 
> I have made the following updates:
> 
> gmlreader.h
> 
> -added m_nWidth class member to GMLPropertyDefn
> -added getter and setter for m_nWidth member
> 
> gmlpropertydefn.cpp
> 
> -modified member function AnalysePropertyValue() to set the m_szWidth
> member via SetWidth method in the case of a string value
> 
> gmlfeatureclass.cpp
> 
> -added code to set property definition width member to value of Width
> element found in .gfs file
> 
> The system does create the correctly populated Width element in the .gfs 
> file,
> but the m_szWidth member is ignored by the ogr2ogr system when it comes
> to creating the output layer.  Could you point out where I need to look 
> to make
> that change please?

Peter,

I have applied your changes, and updated TranslateGMLSchema() in
ogrgmldatasource.cpp to apply this to the OGRFeatureDefn.

You can grab that change from:

   http://www.gdal.org/srctree/ogr/ogrsf_frmts/gml/ogrgmldatasource.cpp

Thanks for your contribution!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ben at vterrain.org  Thu May 25 03:35:49 2006
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <20060524163140.1539.qmail@web50901.mail.yahoo.com>
Message-ID: <020c01c67fcd$d8b19de0$9b02a8c0@DellWork>

Nikolai,

Just so you know, scraping imagery from Google Earth is illegal in any
country which is treaty to copyright.  Those (c) copyright notices are
displayed in the GE window for a reason; any use of the imagery other than
for running GE is prohibited, and the act of removing those copyright
notices is a big no-no.  Keyhole/Google paid millions to license that data,
and they don't have the right to give it to you even if they wanted - they'd
have to go back and renogotiate a more liberal license or (like Microsoft
did recently with Vexcel) just buy a data vendor outright (which is not
Google's modus - they usually "organize the world's information", not
produce it or own it.)

That said, much like other copyrighted media, if you are using the extracted
images strictly for private, unpublished, noncommercial uses, you probably
won't get prosecuted.  It's still technically illegal, of course.  Perhaps
you could share what use you had in mind for the 'retrieved' images.

-Ben

> -----Original Message-----
> From: Nikolai Vladychevski
> Sent: Wednesday, May 24, 2006 6:32 AM
> To: gdal-dev@lists.maptools.org
> 
> Hi,
> I would like to know if someone here (or knows
> someone) who made any tool to retrieve satelite pictures from 
> Google Earth into georeferenced images (geotiff or such) ??? 
> 
> Slightly off but interesting topic. 
> I will appriciate any comments


From jmcm at euskalnet.net  Thu May 25 09:19:17 2006
From: jmcm at euskalnet.net (Juan Mari Celihueta)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] GDAL compile errors on Solaris8/SPARC with ECW
Message-ID: <4475AED5.7060907@euskalnet.net>

Hi all:

I'm having exactly the same problems that Shaun Kolomeitz ( 
http://lists.maptools.org/pipermail/gdal-dev/2006-May/008822.html ) but 
in Solaris 8. I want to compile GDAL with ECW reading support, I'm using 
GNU Make 3.80, I have compiled and installed the ECW libraries 
(libecwj2-3.3). However, when I'm trying to compile Gdal I get the next 
error messages (see below).

I would be very glad if anyone could help me.

Regards,

Juan.

make -C ecw install-obj
make[2]: Entering directory `/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/frmts/ecw'
/bin/sh /home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/libtool --mode=compile g++ 
-Wall  -O2   -I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/port 
-I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/gcore 
-I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/alg 
-I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/ogr 
-I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/ogr/ogrsf_frmts -DFRMT_ecw 
-DOGR_ENABLED -I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/port 
-I/usr/local/include  -c -o ../o/ecwdataset.o ecwdataset.cpp
 g++ -Wall -O2 -I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/port 
-I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/gcore 
-I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/alg 
-I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/ogr 
-I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/ogr/ogrsf_frmts -DFRMT_ecw 
-DOGR_ENABLED -I/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/port 
-I/usr/local/include -c ecwdataset.cpp  -fPIC -DPIC -o 
../o/.libs/ecwdataset.o
In file included from /usr/include/fcntl.h:24,
                 from /usr/local/include/NCSFileIO.h:115,
                 from /usr/local/include/NCSJPCIOStream.h:30,
                 from /usr/local/include/NCSJP2Box.h:27,
                 from /usr/local/include/NCSJP2FileView.h:45,
                 from /usr/local/include/NCSFile.h:27,
                 from vsiiostream.h:79,
                 from ecwdataset.cpp:181:
/usr/include/sys/fcntl.h:120:23: token "=" is not valid in preprocessor 
expressions
In file included from /usr/local/include/NCSFileIO.h:115,
                 from /usr/local/include/NCSJPCIOStream.h:30,
                 from /usr/local/include/NCSJP2Box.h:27,
                 from /usr/local/include/NCSJP2FileView.h:45,
                 from /usr/local/include/NCSFile.h:27,
                 from vsiiostream.h:79,
                 from ecwdataset.cpp:181:
/usr/include/fcntl.h:50:24: token "=" is not valid in preprocessor 
expressions
/usr/include/fcntl.h:81:40: token "=" is not valid in preprocessor 
expressions
make[2]: *** [../o/ecwdataset.o] Error 1
make[2]: Leaving directory `/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/frmts/ecw'
make[1]: *** [ecw-install-obj] Error 2
make[1]: Leaving directory `/home1/jmcm/MAPSERVER/SRC/gdal-1.3.2/frmts'
make: *** [frmts-target] Error 2
#


From Peter.Rushforth at statcan.ca  Thu May 25 10:43:12 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] ogr gml reader needs an update
Message-ID: <AB38021D12570A4AB907F442AE548807011A7F3E@stcem04.statcan.ca>

Hi Frank,

It works!  I didn't get a chance to review the schema handling
module, but perhaps as time permits I will take a look at that
part of the puzzle.

So now the .dbf and .dat files in shape and mapinfo formats, and
presumably others, created from gml will have field definitions
appropriate to the size of data found in the input gml properties.

Thanks for your help!
Peter




From dmorissette at mapgears.com  Thu May 25 10:54:09 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] KML Write-only driver for OGR
In-Reply-To: <845AADAC1106E44996327D62097E4C6B95E046@et.ad.sdsc.edu>
References: <845AADAC1106E44996327D62097E4C6B95E046@et.ad.sdsc.edu>
Message-ID: <4475C511.9030400@mapgears.com>

Christopher Condit wrote:
> It's certainly possible to add read support for KML.  The XML
> construction is very similar to GML (at least for geometries).  The only
> problem is that I'm not clear how to handle feature attributes, as KML
> stores this type of thing in the "Description" element.  This content
> model for this element is arbitrary text (which can also be HTML).  We
> can:
> 0) Accept write only support for now
> 1) Define some convention for OGR <-> KML feature attributes that gets
> stored in this description element
> 2) Allow only two attributes on read: name and description (populating
> with content from these XML elements)
> 3) Other suggestions?
> 

I think I'd go with #2 since my understanding is that there is no 
guarantee on the way the attributes would be encoded in the Description 
element, so we cannot implement any robust parsing of attributes inside 
the KML reader. If users of the KML driver need access to the attributes 
from a well-known source then they can always implement a script to 
parse the attribute values themselves.


> Also, we'll lose formatting information from the KML - but I don't see
> any way around that...
> 

I haven't looked at KML myself, but what type of formatting information 
does it include? Could we store that in a style string?


Frank Warmerdam wrote:
> 
> So, I'll start things out with a +1 in support of this new driver.
> 

+1 from me.

> PS. I don't foresee needing a written RFC for non-disruptive changes
> such
> as adding a new driver.
> 

Can I ask for at least a bug to document the addition of the driver, its 
features and its limitations at the time of initial implementation?

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/

From condit at sdsc.edu  Thu May 25 11:57:59 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] KML Write-only driver for OGR
Message-ID: <845AADAC1106E44996327D62097E4C6B95E07E@et.ad.sdsc.edu>


Some of the style information that KML handles:
1) Define a perspective for a feature (the application shall view this
feature from elevation z, angle theta, lat y, lon x, etc.)
2) Define arbitrary icons for point features
3) Define links for icons (http or local)
4) Define drawing styles for features:
	* A label's color, and scale
	* A line's color, and width
	* A polygon's fill, color, and opacity

I'm sure there are more, but that's a general sampling.
-Chris

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Daniel
Morissette
Sent: Thursday, May 25, 2006 7:54 AM
To: gdal-dev
Subject: Re: [Gdal-dev] KML Write-only driver for OGR

Christopher Condit wrote:
> It's certainly possible to add read support for KML.  The XML
> construction is very similar to GML (at least for geometries).  The
only
> problem is that I'm not clear how to handle feature attributes, as KML
> stores this type of thing in the "Description" element.  This content
> model for this element is arbitrary text (which can also be HTML).  We
> can:
> 0) Accept write only support for now
> 1) Define some convention for OGR <-> KML feature attributes that gets
> stored in this description element
> 2) Allow only two attributes on read: name and description (populating
> with content from these XML elements)
> 3) Other suggestions?
> 

I think I'd go with #2 since my understanding is that there is no 
guarantee on the way the attributes would be encoded in the Description 
element, so we cannot implement any robust parsing of attributes inside 
the KML reader. If users of the KML driver need access to the attributes

from a well-known source then they can always implement a script to 
parse the attribute values themselves.


> Also, we'll lose formatting information from the KML - but I don't see
> any way around that...
> 

I haven't looked at KML myself, but what type of formatting information 
does it include? Could we store that in a style string?


Frank Warmerdam wrote:
> 
> So, I'll start things out with a +1 in support of this new driver.
> 

+1 from me.

> PS. I don't foresee needing a written RFC for non-disruptive changes
> such
> as adding a new driver.
> 

Can I ask for at least a bug to document the addition of the driver, its

features and its limitations at the time of initial implementation?

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From ker_31_toluca at yahoo.com.mx  Thu May 25 12:00:36 2006
From: ker_31_toluca at yahoo.com.mx (Nikolai Vladychevski)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <020c01c67fcd$d8b19de0$9b02a8c0@DellWork>
Message-ID: <20060525160036.18231.qmail@web50915.mail.yahoo.com>

> 
> That said, much like other copyrighted media, if you
> are using the extracted
> images strictly for private, unpublished,
> noncommercial uses, you probably
> won't get prosecuted.  It's still technically
> illegal, of course.  Perhaps
> you could share what use you had in mind for the
> 'retrieved' images.

I know about Copyright Ben. That's exactly our case. I
work in a mobile phone company and we use MapServer to
display our network. Sometimes, the planning engineers
want to see  where is the antennas are located, and
satelite image is so good for this. I could integrate
my application with Google Earth probably, but I
thought maybe somebody had managed to retrieve the
images so I could integrate easily into my app. We
will be using it for private use, just like we can use
now Google Earth as standalone application.

Regards




	
	
		
___________________________________________________________ 
Do You Yahoo!? 
La mejor conexi?n a Internet y <b >2GB</b> extra a tu correo por $100 al mes. http://net.yahoo.com.mx 


From mateusz at loskot.net  Thu May 25 12:14:50 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <20060525160036.18231.qmail@web50915.mail.yahoo.com>
References: <20060525160036.18231.qmail@web50915.mail.yahoo.com>
Message-ID: <4475D7FA.3060307@loskot.net>

Nikolai Vladychevski wrote:
> We
> will be using it for private use, just like we can use
> now Google Earth as standalone application.

But you will broke copyrights and licensing agreement using Google
images that way!
It's said, that you are allow to access those data only with GE, so
if you'll use third-party software not mentioned in the agreement, then
you obviously broke the agreement.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From dmorissette at mapgears.com  Thu May 25 12:38:29 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] KML Write-only driver for OGR
In-Reply-To: <845AADAC1106E44996327D62097E4C6B95E07E@et.ad.sdsc.edu>
References: <845AADAC1106E44996327D62097E4C6B95E07E@et.ad.sdsc.edu>
Message-ID: <4475DD85.5090100@mapgears.com>

Christopher Condit wrote:
> Some of the style information that KML handles:
> 1) Define a perspective for a feature (the application shall view this
> feature from elevation z, angle theta, lat y, lon x, etc.)
> 2) Define arbitrary icons for point features
> 3) Define links for icons (http or local)
> 4) Define drawing styles for features:
> 	* A label's color, and scale
> 	* A line's color, and width
> 	* A polygon's fill, color, and opacity
> 

No luck for #1-3, but at least #4 could be handled using feature style 
strings. This is not a priority for the initial implementation, but I 
just wanted to point out what's possible.

(See OGRFeature::GetStyleString() and OGRFeature::SetStyleString(). The 
mitab driver is one of the very few that implement this, I believe the 
dgn driver has some basic support too.)

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/

From condit at sdsc.edu  Thu May 25 12:45:15 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
Message-ID: <845AADAC1106E44996327D62097E4C6B95E086@et.ad.sdsc.edu>

If you've built MapServer as a WMS server then it's a simple piece of JavaScript to get your MapServer imagery onto GoogleMaps - wouldn't have to change anything in terms of your application and still have access to the Google imagery...

-Chris

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Nikolai Vladychevski
Sent: Thursday, May 25, 2006 9:01 AM
To: Ben Discoe; gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Google Earth Data retrieval

> 
> That said, much like other copyrighted media, if you
> are using the extracted
> images strictly for private, unpublished,
> noncommercial uses, you probably
> won't get prosecuted.  It's still technically
> illegal, of course.  Perhaps
> you could share what use you had in mind for the
> 'retrieved' images.

I know about Copyright Ben. That's exactly our case. I
work in a mobile phone company and we use MapServer to
display our network. Sometimes, the planning engineers
want to see  where is the antennas are located, and
satelite image is so good for this. I could integrate
my application with Google Earth probably, but I
thought maybe somebody had managed to retrieve the
images so I could integrate easily into my app. We
will be using it for private use, just like we can use
now Google Earth as standalone application.

Regards




	
	
		
___________________________________________________________ 
Do You Yahoo!? 
La mejor conexi?n a Internet y <b >2GB</b> extra a tu correo por $100 al mes. http://net.yahoo.com.mx 

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From Chris.Barker at noaa.gov  Thu May 25 12:48:50 2006
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] gdal_rasterize - can't make it work
In-Reply-To: <4473DBF9.2060107@pobox.com>
References: <20060523211024.7a4d9f00.werchowyna@epf.pl>
	<4473DBF9.2060107@pobox.com>
Message-ID: <4475DFF2.6090007@noaa.gov>

> Maciek Sieczka wrote:
>> But nothing happens - when the rast.tif is displayed it looks
>> untouched. 

Frank explained this, but I thought I'd comment. Drawing a raster image 
from Vector data can be a very complex process. In particular, shape 
files specify the shapes, but don't specify anything about how they 
should be rendered. Perhaps it's useful to have a some simple defaults 
to do this, but as a rule, if GDAL goes down that path, there will be an 
almost endless list of new features constantly requested, and I don't 
think that is (or should be) the goal of GDAL.

There are a lot of tools for rendering maps out there (most using 
GDAL!). It's probably better to use one of them. One that does a 
particularly impressive job is Mapnik:

http://mapnik.org/

There are lots of others.

-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer
                                     		
NOAA/OR&R/HAZMAT         (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov

From matt.wilkie at gov.yk.ca  Thu May 25 13:01:32 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Grid based transformation with ogr2ogr
In-Reply-To: <4460B03B.9020909@pobox.com>
References: <C900396522B3C142AA9A7F5AFEE11CB3013800D2@slva01lvnt23.lverma.nrw.de>
	<4460B03B.9020909@pobox.com>
Message-ID: <4475E2EC.2000601@gov.yk.ca>

Hi Uwe,Frank,

>> as a solution for the upcoming datum shift in Germany (from DHDN to
>>  ETRS89[=WGS84]) I'm currently experimenting with grid based datum 
>> shifts.
...
> Unfortunately gdalwarp uses OGC Well Known Text as the internal 
> coordinate system representation and that does not include any 
> support for grid files. NAD27/NAD83 grid shift files are handled as a
> special case.
> 
> So the PROJ.4 representation is parsed and converted to WKT, and then
>  converted back to PROJ.4 format to do the actual coordinate
> transformation. But by then the grid list is lost.
> 
> Unfortunately, there is no current way to accomplish what you want 
> with gdalwarp.  I would encourage you to file a bug report.  I think 
> I may make an non-standard extension or two to WKT to allow 
> transporting some of these values I need for PROJ.4.


To my eye this looks related to my earlier proposal to develop an ogr
module to apply the Canadian Correction Matrices (CORMAT) to vector 
data. Is that correct? If these are similar problems perhaps there is an 
opportunity to share resources.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From Chris.Barker at noaa.gov  Thu May 25 13:06:16 2006
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] NG Python bindings, and SWIG 1.3.29
In-Reply-To: <4474C0E8.2010403@loskot.net>
References: <44748445.9020401@pobox.com> <4474C0E8.2010403@loskot.net>
Message-ID: <4475E408.8040606@noaa.gov>

> Frank Warmerdam wrote:
>> invoking Destroy() or Release() on an
>> ogr.DataSource is *not* causing it to be closed immediately and this is
>> causing serious problems for tests that require this.

Is it closing later?

>> Currently this just seems to decrement the
>>    Python reference count leaving it up to the Python VM to invoke the
>>    close function when it pleases.

Just to help clarify: In C-Python, the object is deleted right away when 
the reference count goes to zero. That's not guaranteed by the language 
spec, but is is how the current interpreter works, and a lot of people 
do count on it.

So you probably have an extra reference to the object in there, or 
perhaps there's a bug in SWIG.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer
                                     		
NOAA/OR&R/HAZMAT         (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov

From matt.wilkie at gov.yk.ca  Thu May 25 13:10:15 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <4475D7FA.3060307@loskot.net>
References: <20060525160036.18231.qmail@web50915.mail.yahoo.com>
	<4475D7FA.3060307@loskot.net>
Message-ID: <4475E4F7.7090308@gov.yk.ca>

Mateusz Loskot wrote:
> Nikolai Vladychevski wrote:
>> We
>> will be using it for private use, just like we can use
>> now Google Earth as standalone application.
> 
> But you will broke copyrights and licensing agreement using Google
> images that way!
> It's said, that you are allow to access those data only with GE, so
> if you'll use third-party software not mentioned in the agreement, then
> you obviously broke the agreement.

On the other hand, NASA World Wind is not subject to the same 
limitations, albeit it doesn't have access to the same higher quality data.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From abhay.menon at gmail.com  Thu May 25 14:12:29 2006
From: abhay.menon at gmail.com (abhay menon)
Date: Wed Nov 21 11:50:10 2007
Subject: [GDAL-DEV] ogr2ogr -f "ESRI Shapefile" - problem
Message-ID: <7a30cd70605251112l6b5831bdq98b9613d65c2f1fa@mail.gmail.com>

Hello List,

recently was trying to extract shapefiles from an oracle database in batch
mode
it seem that ogr2ogr is not allowing to create shapefile more 168 in
numbers.

i gave a simple instruction through the command line in same folder but the
operation was terminated by saying
*"D:\batch1\xyz169.DBF file could not be created"*
where as the xyz169.shp and xyz169.shx where created.
also did the same by changing the folder name it was successfully created.
so changed my logic in the batch mode operation creating temporary place and
 moving it to the actual folder.

I am puzzled by the fact that why ogr2ogr failed in creating the shapefiles
more than 168 in the same folder. Is it a limitation of the shapefile or is
it set nature of the DBF file that not more than 168 number file could be
created at one folder in one go??

-- 
Best Regrads

Abhay Menon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060525/016f4982/attachment.html
From werchowyna at epf.pl  Thu May 25 14:20:13 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] gdal_rasterize - can't make it work
In-Reply-To: <4475DFF2.6090007@noaa.gov>
References: <20060523211024.7a4d9f00.werchowyna@epf.pl>
	<4473DBF9.2060107@pobox.com> <4475DFF2.6090007@noaa.gov>
Message-ID: <20060525202013.bc7e95e5.werchowyna@epf.pl>

On Thu, 25 May 2006 09:48:50 -0700
Christopher Barker <Chris.Barker@noaa.gov> wrote:

> > Maciek Sieczka wrote:
> >> But nothing happens - when the rast.tif is displayed it looks
> >> untouched. 
> 
> Frank explained this, but I thought I'd comment. Drawing a raster
> image from Vector data can be a very complex process. In particular,
> shape files specify the shapes, but don't specify anything about how
> they should be rendered. Perhaps it's useful to have a some simple
> defaults to do this, but as a rule, if GDAL goes down that path,
> there will be an almost endless list of new features constantly
> requested, and I don't think that is (or should be) the goal of GDAL.

You are right. I was only looking for a quick substitute to Grass
v.to.rast module, as it is buggy:
http://intevation.de/rt/webrt?serial_num=4488

I agree that vector to raster conversion is propably not GDAL is
supposed to be designed for, but as there was a chance, I tried it.

> There are a lot of tools for rendering maps out there (most using 
> GDAL!). It's probably better to use one of them. One that does a 
> particularly impressive job is Mapnik:
> 
> http://mapnik.org/

I don't want to render my lines shapefile on a display in any fancy way.
I want to properly turn into a raster (grid), at a given resolution, for
further raster analysis within Grass.

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From ILucena at clarku.edu  Thu May 25 14:28:06 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455015A2CBA@Iris.ad.clarku.edu>

Hi Mateusz,

If Nikolai wants to put an option in his application that calls Google Earth to show the area of interest, it is just an automated way to use Google Earth. And Google encourage us to do that. I can't see any copyright violation. It's just a matter of creating a KML like the following and calls GE to show the Placemark (or polygon) with the image available at the Google server. 

I am glad that you have raised the copyright question but maybe we should get in contact with Google and ask what then before investing more of our time in development.

Thanks.

<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://earth.google.com/kml/2.0">
<Placemark>
  <name>Google Earth - New Placemark</name>
  <LookAt id="khLookAt639">
    <longitude>-47.84474593216702</longitude>
    <latitude>-15.75715197509273</latitude>
    <range>108.0773469140987</range>
    <tilt>-7.957063583552913e-006</tilt>
    <heading>-62.79871524526389</heading>
  </LookAt>
  <styleUrl>root://styleMaps#default+nicon=0x307+hicon=0x317</styleUrl>
  <Point id="khPoint640">
    <coordinates>-47.84474593216702,-15.75715197509273,0</coordinates>
  </Point>
</Placemark>
</kml>

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
Sent: Thursday, May 25, 2006 12:15 PM
To: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Google Earth Data retrieval

Nikolai Vladychevski wrote:
> We
> will be using it for private use, just like we can use
> now Google Earth as standalone application.

But you will broke copyrights and licensing agreement using Google
images that way!
It's said, that you are allow to access those data only with GE, so
if you'll use third-party software not mentioned in the agreement, then
you obviously broke the agreement.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From mateusz at loskot.net  Thu May 25 15:15:18 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <6FD7C9DB26540B42A1207C69BF92D455015A2CBA@Iris.ad.clarku.edu>
References: <6FD7C9DB26540B42A1207C69BF92D455015A2CBA@Iris.ad.clarku.edu>
Message-ID: <44760246.3070103@loskot.net>

Ivan Lucena wrote:
> If Nikolai wants to put an option in his application that calls 
> Google Earth to show the area of interest, it is just an automated 
> way to use Google Earth.

Hi Ivan,

I just referenced to Ben's post:

"That said, much like other copyrighted media, if you are using the
extracted images strictly for private, unpublished, noncommercial uses,
you probably won't get prosecuted.  It's still technically illegal, of
course."

and as I understand Nikolai was asking about commercial usage.

> And Google encourage us to do that. I can't see any copyright 
> violation. It's just a matter of creating a KML like the following 
> and calls GE to show the Placemark (or polygon) with the image 
> available at the Google server.
> 
> I am glad that you have raised the copyright question but maybe we 
> should get in contact with Google and ask what then before investing
>  more of our time in development.

This subject seems to be poorly explained. I tried to find some
substantial information about copyrights and data licensing.
Here is what I found:

Can I post images to the web?
http://earth.google.com/support/bin/answer.py?answer=21422&topic=1141

"You can personally use an image from the application (for example on
your website, on a blog or in a word document) as long as you preserve
the copyrights and attributions including the Google logo attribution.
However, you cannot sell these to others, provide them as part of a
service, or use them in a commercial product such as a book or TV show
without first getting a rights clearance from Google."

I understand it that you can use GE images in non-commercial way,
simply, you can't make a bussiness with GE data.
I also understand that using GE data internally by some company to help
that company to do its job, is also a commercial use.
But I agree, it's not clearly said by Google.

Some posts on Keyhole BBS without any response from Google:

Exporting for use with GIS Software?
http://bbs.keyhole.com/ubb/showthreaded.php/Cat/0/Number/156758/page/vc/vc/1

Serveral questions re: licensing
http://bbs.keyhole.com/ubb/showthreaded.php/Cat/0/Number/325100/an/0/page/5


Here is very interesting post on ghe Ogle Earth blog:
http://www.ogleearth.com/2006/05/can_you_use_goo.html

The outcome of this post is:

"This Software is for non-commercial use only and your rights in the
Software are strictly limited to home, personal or recreational use only
by you and not for the benefit of third parties."

but also authors clearly say it's not well-defined by Google, the
subject seems to be ambiguous and direct contact to Google is necessary
I think.


Cheers
-- 
A: Because it messes up the order in which people normally read text.
Q: Why is it such a bad thing?
A: Top-posting.
Q: What is the most annoying thing on usenet and in e-mail?

From warmerdam at pobox.com  Thu May 25 15:40:00 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [GDAL-DEV] ogr2ogr -f "ESRI Shapefile" - problem
In-Reply-To: <7a30cd70605251112l6b5831bdq98b9613d65c2f1fa@mail.gmail.com>
References: <7a30cd70605251112l6b5831bdq98b9613d65c2f1fa@mail.gmail.com>
Message-ID: <44760810.1080508@pobox.com>

abhay menon wrote:
> Hello List,
>  
> recently was trying to extract shapefiles from an oracle database in 
> batch mode
> it seem that ogr2ogr is not allowing to create shapefile more 168 in 
> numbers.
>  
> i gave a simple instruction through the command line in same folder but 
> the operation was terminated by saying
> *"D:\batch1\xyz169.DBF file could not be created"*
> where as the xyz169.shp and xyz169.shx where created.
> also did the same by changing the folder name it was successfully 
> created. so changed my logic in the batch mode operation creating 
> temporary place and  moving it to the actual folder.
>  
> I am puzzled by the fact that why ogr2ogr failed in creating the 
> shapefiles more than 168 in the same folder. Is it a limitation of the 
> shapefile or is it set nature of the DBF file that not more than 168 
> number file could be created at one folder in one go??

Abhay,

3 * 168 is 504.  I suspect you have a limit of 512 open files at a time on
your system and that this has been hit with the 168's shapefile set and
a few other files (ie. oracle connections).  I imagine you could invoke
ogr2ogr on one layer at a time and things would be ok.

Some operating systems also provide mechanisms to increase the maximum
number of open file descriptors.  I have no clue if or how this is possible
on windows.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From neteler at itc.it  Thu May 25 15:52:12 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] gdal_rasterize - can't make it work
In-Reply-To: <20060525202013.bc7e95e5.werchowyna@epf.pl>
References: <20060523211024.7a4d9f00.werchowyna@epf.pl>
	<4473DBF9.2060107@pobox.com> <4475DFF2.6090007@noaa.gov>
	<20060525202013.bc7e95e5.werchowyna@epf.pl>
Message-ID: <20060525195212.GA25464@bartok.itc.it>

On Thu, May 25, 2006 at 08:20:13PM +0200, Maciek Sieczka wrote:
> On Thu, 25 May 2006 09:48:50 -0700
> Christopher Barker <Chris.Barker@noaa.gov> wrote:
> 
> > > Maciek Sieczka wrote:
> > >> But nothing happens - when the rast.tif is displayed it looks
> > >> untouched. 
> > 
> > Frank explained this, but I thought I'd comment. Drawing a raster
> > image from Vector data can be a very complex process. In particular,
> > shape files specify the shapes, but don't specify anything about how
> > they should be rendered. Perhaps it's useful to have a some simple
> > defaults to do this, but as a rule, if GDAL goes down that path,
> > there will be an almost endless list of new features constantly
> > requested, and I don't think that is (or should be) the goal of GDAL.
> 
> You are right. I was only looking for a quick substitute to Grass
> v.to.rast module, as it is buggy:
> http://intevation.de/rt/webrt?serial_num=4488

this is not necessarily a bug, but probably the desired implementation,
just not what you expect...

But this is offtopic here,

 Markus


From gdal-dev at ostertag.name  Thu May 25 16:45:58 2006
From: gdal-dev at ostertag.name (Joerg Ostertag)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <20060525160036.18231.qmail@web50915.mail.yahoo.com>
References: <20060525160036.18231.qmail@web50915.mail.yahoo.com>
Message-ID: <200605252245.59145.gdal-dev@ostertag.name>

On Thursday 25 May 2006 18:00, Nikolai Vladychevski wrote:
> > That said, much like other copyrighted media, if you
> > are using the extracted
> > images strictly for private, unpublished,
> > noncommercial uses, you probably
> > won't get prosecuted.  It's still technically
> > illegal, of course.  Perhaps
> > you could share what use you had in mind for the
> > 'retrieved' images.
>
> I know about Copyright Ben. That's exactly our case. I
> work in a mobile phone company and we use MapServer to
> display our network. Sometimes, the planning engineers
> want to see  where is the antennas are located, and
> satelite image is so good for this. I could integrate
> my application with Google Earth probably, but I
> thought maybe somebody had managed to retrieve the
> images so I could integrate easily into my app. We
> will be using it for private use, just like we can use
> now Google Earth as standalone application.

If you only need Satellite images you might want to have a look at the landsat 
and NASA Images which are also used in gpsdrive.

-
Joerg

From matt.wilkie at gov.yk.ca  Thu May 25 16:51:30 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <44760246.3070103@loskot.net>
References: <6FD7C9DB26540B42A1207C69BF92D455015A2CBA@Iris.ad.clarku.edu>
	<44760246.3070103@loskot.net>
Message-ID: <447618D2.40903@gov.yk.ca>

I have spent some time trying to get a clear answer from Google Earth 
about what is and what is not acceptable use. Some of those efforts are 
recorded at http://yukongis.ca/bin/view/Main/GoogleEarth

In the context of Nikolai's use case of an application that calls Google 
Earth to show the area of interest, based on my phone conversation with 
on of the GE people I would say that it is *probably* okay to do that as 
long as the copyright and logo of a) Google, and b) the data provider(s) 
remain intact and visible.

Given the difficulty I've had obtaining a clear and written answer 
though I personally would be hesitant to build a commercial enterprise 
on this probability.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From werchowyna at epf.pl  Thu May 25 16:55:09 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] gdal_rasterize - can't make it work
In-Reply-To: <20060525195212.GA25464@bartok.itc.it>
References: <20060523211024.7a4d9f00.werchowyna@epf.pl>
	<4473DBF9.2060107@pobox.com> <4475DFF2.6090007@noaa.gov>
	<20060525202013.bc7e95e5.werchowyna@epf.pl>
	<20060525195212.GA25464@bartok.itc.it>
Message-ID: <20060525225509.cdda6932.werchowyna@epf.pl>

On Thu, 25 May 2006 21:52:12 +0200
Markus Neteler <neteler@itc.it> wrote:

> On Thu, May 25, 2006 at 08:20:13PM +0200, Maciek Sieczka wrote:
<snip>

> > I was only looking for a quick substitute to Grass
> > v.to.rast module, as it is buggy:
> > http://intevation.de/rt/webrt?serial_num=4488
> 
> this is not necessarily a bug, but probably the desired
> implementation, just not what you expect...

Maybe. But the software shouldn't by default be trying to be wiser than
the user. No matter how slow I am indeed ;).

> But this is offtopic here,

You are right. So I'll continue in the grass-dev.

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From mateusz at loskot.net  Thu May 25 16:58:41 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Google Earth Data retrieval
In-Reply-To: <447618D2.40903@gov.yk.ca>
References: <6FD7C9DB26540B42A1207C69BF92D455015A2CBA@Iris.ad.clarku.edu>
	<44760246.3070103@loskot.net> <447618D2.40903@gov.yk.ca>
Message-ID: <44761A81.3050006@loskot.net>

Matt Wilkie wrote:
> I have spent some time trying to get a clear answer from Google Earth
>  about what is and what is not acceptable use. Some of those efforts
> are recorded at http://yukongis.ca/bin/view/Main/GoogleEarth
> 
> In the context of Nikolai's use case of an application that calls
> Google Earth to show the area of interest, based on my phone
> conversation with on of the GE people I would say that it is
> *probably* okay to do that as long as the copyright and logo of a)
> Google, and b) the data provider(s) remain intact and visible.

Yes, that is trie if you are allowed to use Google Earth as a company.
But, that seems to be not clear that you are allowed.

> Given the difficulty I've had obtaining a clear and written answer 
> though I personally would be hesitant to build a commercial
> enterprise on this probability.

Or another way, just build commercial software using GE or data from GE
and then after you'll publish your software, you can be sure Google's
lawyers will knock your doors in 24h :-)))
...and you will know if it's allowed or not :-)

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From ari.jolma at tkk.fi  Thu May 25 18:00:51 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Raster to vector conversion (polygons) script
Message-ID: <44762913.2020100@tkk.fi>

Hello,

I needed to make polygons from a raster but could not find either an 
algorithm nor usable software from the net, so I made one up myself. 
This one uses GDAL and OGR and their Perl interface. The script is on my 
examples page: http://map.hut.fi/PerlForGeoinformatics/examples.html

The script first creates a data structure of the polygons in the raster 
by going through it once scanline by scanline. Then the border of each 
polygon is travelled and at the same time the outline of the polygon is 
stored. Then each outline is stored as a polygon into an OGR layer.

The algorithm uses 8-connectedness but that could be changed to 
4-connectedness quite easily. The "travelling the border and create 
outline" algorithm is a bit cumbersome but I've used the border 
traversal quite a bit, so it should be ok. Vectorizing large and complex 
rasters may require quite a lot of memory. All areas in the raster are 
stored as simple polygons, i.e., "holes" are not treated in any special 
way, they end up as separate polygons into the layer. Projections are 
not considered much. etc...

Let me know about bugs and possible enhancements.

Ari


From aaronr at ecotrust.org  Thu May 25 18:33:14 2006
From: aaronr at ecotrust.org (Aaron Racicot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Raster to vector conversion (polygons) script
Message-ID: <35469E27904CA04687795AF87D26930001CDB6@september.ecotrust.org>

Hi there Ari,

Very cool...

Another option is to just do the following in grass:

r.in.gdal input=input_rast output=grass_rast
r.to.vect input=grass_rast output=grass_vect feature=area
v.out.ogr input=grass_vect type=area dsn=out_dir olayer=out_name
format=[ANY OGR FORMAT] 

You can see the documentation for r.to.vect at the following address to
see if will do what you are after (or compare notes on methods used):

http://grass.itc.it/grass61/manuals/html61_user/r.to.vect.html

Aaron

+----------------------------------------+
| Aaron Racicot  | aaronr@ecotrust.org   |
| GIS Programmer | 503.467.0759          |
+----------------------------------------+
| e c o t r u s t                        |
| Jean Vollum Natural Capital Center     |
| 721 NW Ninth Avenue                    |
| Suite 200                              |
| Portland, OR 97209                     |
| www.ecotrust.org                       |
+----------------------------------------+


-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Ari Jolma
Sent: Thursday, May 25, 2006 3:01 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Raster to vector conversion (polygons) script


Hello,

I needed to make polygons from a raster but could not find either an 
algorithm nor usable software from the net, so I made one up myself. 
This one uses GDAL and OGR and their Perl interface. The script is on my

examples page: http://map.hut.fi/PerlForGeoinformatics/examples.html

The script first creates a data structure of the polygons in the raster 
by going through it once scanline by scanline. Then the border of each 
polygon is travelled and at the same time the outline of the polygon is 
stored. Then each outline is stored as a polygon into an OGR layer.

The algorithm uses 8-connectedness but that could be changed to 
4-connectedness quite easily. The "travelling the border and create 
outline" algorithm is a bit cumbersome but I've used the border 
traversal quite a bit, so it should be ok. Vectorizing large and complex

rasters may require quite a lot of memory. All areas in the raster are 
stored as simple polygons, i.e., "holes" are not treated in any special 
way, they end up as separate polygons into the layer. Projections are 
not considered much. etc...

Let me know about bugs and possible enhancements.

Ari

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From Chris.Barker at noaa.gov  Thu May 25 19:38:01 2006
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] gdal_rasterize - can't make it work
In-Reply-To: <20060525202013.bc7e95e5.werchowyna@epf.pl>
References: <20060523211024.7a4d9f00.werchowyna@epf.pl>
	<4473DBF9.2060107@pobox.com> <4475DFF2.6090007@noaa.gov>
	<20060525202013.bc7e95e5.werchowyna@epf.pl>
Message-ID: <44763FD9.1060401@noaa.gov>

Maciek Sieczka wrote:
> I don't want to render my lines shapefile on a display in any fancy way.
> I want to properly turn into a raster (grid), at a given resolution, for
> further raster analysis within Grass.

well, at the very least, you'll need to specify how wide the lines are. 
Maybe that's why only polygons are supported.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer
                                     		
NOAA/OR&R/HAZMAT         (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov

From mateusz at loskot.net  Thu May 25 20:34:22 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Thoughts about gdalnumeric.py, NumPy and SWIG bindings
Message-ID: <44764D0E.301@loskot.net>

Hi,

Recently, I'm doing some research in field of SWIG bindings for GDAL.
Also, I'm investigating NumPy package to include it in Python bindings.
I'm quite new to SWIG and GDAL bindings so I have to try to guess
what author had in mind regarding many things.
So, I'd like to share my experiences related to SWIG bindings for GDAL
and ask some questions.
In order to keep things simpler, I'll be mainly
referring to Python bindings.

There are two bindings to Python for GDAL:
- traditional pymod
- Next Generation bindings, based on SWIG

The traditional pymod includes gdalnumeric.py module that integrates
GDAL with Numeric package. The pymod uses older release of Numeric.
Recently, Numeric package was released as a part of a bigger
one called NumPy.

Currently, NG Python wrapper does not provide support of gdalnumeric.py
and Numeric/NumPy.

My MAIN task is to include gdalnumeric.py and NumPy support to NG Python
bindings to GDAL. And here are two possibilities:
- provide support of both: old Numeric and new NumPy package
- drop Numeric support and use only new NumPy package in gdalnumeric.py

The traditional pymod will stay untouched supporting only old Numeric.

The idea behind Numeric/NumPy support is to read/write GDAL
dataset from/to numeric array buffers.
Yesterday, Howard suggested to consider possibility to add
gdalnumeric.py features to other scripting (SWIG) bindings.
I think this is a good idea and would help to unify
SWIG based API to GDAL.

Here is small draft of the idea:

1. Split gdalnumeric.py from Python-specific stuff and form generic
API of gdalnumeric as a gdalnumeric.i file for SWIG.
2. Make a research to find NumPy counterparts in other scripting
languages.
3. Implement specific stuff for every scripting language in its
"private" .i file

I have no idea if this is feasible for all scripting
languages GDAL is going to support.
At the first stage, I'm going to focus on Python bindings.
Comments are welcome!

But there are some problems...

I analyzed the structure of the traditional pymod bindings and
the NG bindings for Python and there are some things
I'd need to explain.

First, as I see, gdalnumeric.py delegates calls to low-level
module _gdal.so.
All (almost) those functions called by gdalnumeric.py are
implemented in gdal.i file as manually-written wrappers
e.g.:
py_GDALReadRaster - called by gdalnumeric.BandReadAsArray

I also see, that gdalnumeric.py seems to be "incomplete"
in support of Numeric.
I mean, Numeric module is used only in few cases.
Also, PyObjectArray from Numeric (and NumPy too) is not
used by functions called from gdalnumeric.py.
My be my research was not deep enough.

As I talked with Frank on the #gdal, it seems to be reasonable to move
this wrappers from gdal.i file of the traditional pymod and paste them
to gdal_python.i file from SWIG Python bindings.

But there (in the traditional pymod sources) is another module called
numpydataset.cpp.

And here I'm confused a bit:
- gdalnumeric.py is called as a Numeric integration
module but does not use main features of Numeric
- numpydataset.cpp uses Numeric (NumPy) features extensively but I can't
find where features from this module is used in
the traditional pymod or NG Python.
When I grep for NUMPYDataset (class defined in numpydataset.cpp) I don't
get any new files besides numpydataset.cpp (in both Python bindings).

So, it's hard to me to discover current state of the work, what is used
what is deprecated, what is prepared for future usage.
And, if I can't find answer for those questions,
I don't know what should I port to add NumPy support to NG Python.
gdalnumeric.py with those manually-written wrappers from
gdal.i or add numpydataset.cpp + Proxy Class (Shadow) for Python?

Please, if anyone could explain me current situation,
confirm or negate what I've discovered for now,
I'll be very thankful.
I'm trying to find the right way to go with this task,
where to start, so I definitely need some startup
guidelines to proceed.

Thanks in advance
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From ari.jolma at tkk.fi  Fri May 26 02:15:26 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Raster to vector conversion (polygons) script
In-Reply-To: <35469E27904CA04687795AF87D26930001CDB6@september.ecotrust.org>
References: <35469E27904CA04687795AF87D26930001CDB6@september.ecotrust.org>
Message-ID: <44769CFE.9030900@tkk.fi>

Aaron Racicot kirjoitti:
> Hi there Ari,
> 
> Very cool...
> 
> Another option is to just do the following in grass:
> 
> r.in.gdal input=input_rast output=grass_rast


Funny how I did not think about looking at Grass. I did look, but only
after I sent the post. I took a look at r.in.gdal at CVS. The algorithm
there was not very clear to copy however, and I would love to use Grass
(I guess) if it could use, e.g., geotiffs directly. Or can it? I may
just be talking nonsense again. I tried once r.in.gdal for one of my
50000x50000 rasters and it was just unbearably slow.

Besides, it is educational and fun to discover and write comp.graphics
algorithms on holidays ;-)

Ari


> r.to.vect input=grass_rast output=grass_vect feature=area
> v.out.ogr input=grass_vect type=area dsn=out_dir olayer=out_name
> format=[ANY OGR FORMAT] 
> 
> You can see the documentation for r.to.vect at the following address to
> see if will do what you are after (or compare notes on methods used):
> 
> http://grass.itc.it/grass61/manuals/html61_user/r.to.vect.html
> 
> Aaron
> 
> +----------------------------------------+
> | Aaron Racicot  | aaronr@ecotrust.org   |
> | GIS Programmer | 503.467.0759          |
> +----------------------------------------+
> | e c o t r u s t                        |
> | Jean Vollum Natural Capital Center     |
> | 721 NW Ninth Avenue                    |
> | Suite 200                              |
> | Portland, OR 97209                     |
> | www.ecotrust.org                       |
> +----------------------------------------+
> 
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Ari Jolma
> Sent: Thursday, May 25, 2006 3:01 PM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] Raster to vector conversion (polygons) script
> 
> 
> Hello,
> 
> I needed to make polygons from a raster but could not find either an 
> algorithm nor usable software from the net, so I made one up myself. 
> This one uses GDAL and OGR and their Perl interface. The script is on my
> 
> examples page: http://map.hut.fi/PerlForGeoinformatics/examples.html
> 
> The script first creates a data structure of the polygons in the raster 
> by going through it once scanline by scanline. Then the border of each 
> polygon is travelled and at the same time the outline of the polygon is 
> stored. Then each outline is stored as a polygon into an OGR layer.
> 
> The algorithm uses 8-connectedness but that could be changed to 
> 4-connectedness quite easily. The "travelling the border and create 
> outline" algorithm is a bit cumbersome but I've used the border 
> traversal quite a bit, so it should be ok. Vectorizing large and complex
> 
> rasters may require quite a lot of memory. All areas in the raster are 
> stored as simple polygons, i.e., "holes" are not treated in any special 
> way, they end up as separate polygons into the layer. Projections are 
> not considered much. etc...
> 
> Let me know about bugs and possible enhancements.
> 
> Ari
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From abhay.menon at gmail.com  Fri May 26 03:22:15 2006
From: abhay.menon at gmail.com (abhay menon)
Date: Wed Nov 21 11:50:10 2007
Subject: [GDAL-DEV] ogr2ogr -f "ESRI Shapefile" - problem
In-Reply-To: <44760810.1080508@pobox.com>
References: <7a30cd70605251112l6b5831bdq98b9613d65c2f1fa@mail.gmail.com>
	<44760810.1080508@pobox.com>
Message-ID: <7a30cd70605260022t1547d6cbg3fb43afc4ccec903@mail.gmail.com>

hello Frank and list,

what i am trying is to split a dataset from oracle in to small unit of data
as shapefile. for which i am firing a queries in -sql statement passing by a
unique value base on which the data is to be extract small unit from one
single layer in oracle.

that why i have created a batch process hence i faced this problem.

is there a option in ogr2ogr where i can spilt the dataset into small unit
of shapefile in one go.
as process thru batch is slow and units to create is more than 6000*3 files
in shape.

-- 
Best Regrads

Abhay Menon



On 5/26/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> abhay menon wrote:
> > Hello List,
> >
> > recently was trying to extract shapefiles from an oracle database in
> > batch mode
> > it seem that ogr2ogr is not allowing to create shapefile more 168 in
> > numbers.
> >
> > i gave a simple instruction through the command line in same folder but
> > the operation was terminated by saying
> > *"D:\batch1\xyz169.DBF file could not be created"*
> > where as the xyz169.shp and xyz169.shx where created.
> > also did the same by changing the folder name it was successfully
> > created. so changed my logic in the batch mode operation creating
> > temporary place and  moving it to the actual folder.
> >
> > I am puzzled by the fact that why ogr2ogr failed in creating the
> > shapefiles more than 168 in the same folder. Is it a limitation of the
> > shapefile or is it set nature of the DBF file that not more than 168
> > number file could be created at one folder in one go??
>
> Abhay,
>
> 3 * 168 is 504.  I suspect you have a limit of 512 open files at a time on
> your system and that this has been hit with the 168's shapefile set and
> a few other files (ie. oracle connections).  I imagine you could invoke
> ogr2ogr on one layer at a time and things would be ok.
>
> Some operating systems also provide mechanisms to increase the maximum
> number of open file descriptors.  I have no clue if or how this is
> possible
> on windows.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060526/a09207bc/attachment.html
From ghuby at geosys.com  Fri May 26 03:41:09 2006
From: ghuby at geosys.com (Guillaume HUBY)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] KML Write-only driver for OGR
In-Reply-To: <4474D482.6030703@pobox.com>
Message-ID: <001001c68097$c16f1f20$1401a8c0@pcgh>

Hello,

> -----Message d'origine-----
> De : gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] De la part de 
> Frank Warmerdam
> Envoy? : mercredi 24 mai 2006 23:48
> ? : gdal-dev
> Objet : [Gdal-dev] KML Write-only driver for OGR
> 


> 
> As I see it the downside is that this driver is write-only, 
> which isn't a concept that is particularly well handled by 
> OGR (there is not way for
> a driver to indicate it is write only currently).   However, 
> we have done
> this for GML, and DWG/DXF in the past so it isn't a new thing.

I think it would be great to be able to read kml too. When using GE, you can
export features into kml. If you have GE pro edition, you can draw features
and save them into kml. These are examples where reading is interesting.

I would also like to raise a new question. KML is also made for displaying
rasters into Google. Would this driver being able to make this.

An interesting link not mentionned in this thread:
http://earth.google.com/kml/

Thanks for all this job,

Guillaume.



From warmerdam at pobox.com  Fri May 26 11:06:18 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [GDAL-DEV] ogr2ogr -f "ESRI Shapefile" - problem
In-Reply-To: <7a30cd70605260022t1547d6cbg3fb43afc4ccec903@mail.gmail.com>
References: <7a30cd70605251112l6b5831bdq98b9613d65c2f1fa@mail.gmail.com>	
	<44760810.1080508@pobox.com>
	<7a30cd70605260022t1547d6cbg3fb43afc4ccec903@mail.gmail.com>
Message-ID: <4477196A.4000309@pobox.com>

abhay menon wrote:
> hello Frank and list,
>  
> what i am trying is to split a dataset from oracle in to small unit of 
> data as shapefile. for which i am firing a queries in -sql statement 
> passing by a unique value base on which the data is to be extract small 
> unit from one single layer in oracle.
>  
> that why i have created a batch process hence i faced this problem.
>  
> is there a option in ogr2ogr where i can spilt the dataset into small 
> unit of shapefile in one go.
> as process thru batch is slow and units to create is more than 6000*3 
> files in shape.

Abhay,

I'm afraid I am not clear on what you are doing or asking.  Are you
wanting to split a single table in Oracle into many individual shapefiles
based size, or some attribute value?  This would normally require a
distinct ogr2ogr call for each output shapefile produced.

If you wanted to streamline the operation, it would likely be best to look
at writing a python script.

If you are only producing one shapefile at a time currently, you might want
to use the specific shapefile as the output filename instead of the directory
with many shapefiles.  That should avoid the "too many files open" problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From abhay.menon at gmail.com  Fri May 26 14:44:17 2006
From: abhay.menon at gmail.com (abhay menon)
Date: Wed Nov 21 11:50:10 2007
Subject: [GDAL-DEV] ogr2ogr -f "ESRI Shapefile" - problem
In-Reply-To: <4477196A.4000309@pobox.com>
References: <7a30cd70605251112l6b5831bdq98b9613d65c2f1fa@mail.gmail.com>
	<44760810.1080508@pobox.com>
	<7a30cd70605260022t1547d6cbg3fb43afc4ccec903@mail.gmail.com>
	<4477196A.4000309@pobox.com>
Message-ID: <7a30cd70605261144l1cabe2afp371516dbdf7fb74c@mail.gmail.com>

Hello Frank and lists,

what i am trying is to create is a validation program for a
linestring dataset store in Oracle (say TABLE A). i am trying to polygonize
the data and check if these create polygon or not so that i can validate
them (ie linestring geometry records of A) for dangle and duplicate lines.
for this i am also refering to another data (say TABLE B) which also stored
in oracle db, this contains the unique attribute value based on which i am
trying to extract the data from A. for this i wrote a program in c++ to
fetch unique id and create a shapefile of linestring from A for each unique
attribute record in B, using ogr2ogr as a external program to create
shapefile. by process this i get a list of shapefile(s) as a input for
my validation program (ie a separate process and use a batch approach due
bulk processing of shapefiles).

hence this is when i faced the problem will extraction.

 hope i cleared my intention of my problem.

but my real problem now is this process is toooo. slow, first to extract and
then to validate...

hence i trying to write a program using ogr api. to fetch the record from
the database and validating on the fly.
for this I wanted to know does OGRGeometryCollection and
OGRGeometryFactory be used for finding open polygon error(or dangle) and
duplicate lines  thru ogr api for my validation part in my main process
itself, as i am unable to find a method in this by which especially in
OGRGeometryFactory for validating these error will insertion of linestring
geometry. if you could put some light on this problem it would great help
for me.

-- 
Best Regrads

Abhay Menon


On 5/26/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> abhay menon wrote:
> --snipped--
> Abhay,
>
> I'm afraid I am not clear on what you are doing or asking.  Are you
> wanting to split a single table in Oracle into many individual shapefiles
> based size, or some attribute value?  This would normally require a
> distinct ogr2ogr call for each output shapefile produced.
>
> If you wanted to streamline the operation, it would likely be best to look
> at writing a python script.
>
> If you are only producing one shapefile at a time currently, you might
> want
> to use the specific shapefile as the output filename instead of the
> directory
> with many shapefiles.  That should avoid the "too many files open"
> problem.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060527/ca34ecec/attachment.html
From condit at sdsc.edu  Fri May 26 15:11:15 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] KML Write-only driver for OGR
Message-ID: <845AADAC1106E44996327D62097E4C6B95E192@et.ad.sdsc.edu>


Hi Guillaume-
A separate GDAL driver for dealing with KML and rasters would have to be implemented to accommodate this request.  I have a general idea of how GE/rasters work - but there are a few particulars that I don't understand (ie - how to best tile images onto GE?).  It strikes me this could be more in line with creating a world file for a raster image.  If someone can spec out the process I think creating the actual KML file should be trivial...

-Chris

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Guillaume HUBY
Sent: Friday, May 26, 2006 12:41 AM
To: 'Frank Warmerdam'; 'gdal-dev'
Subject: RE : [Gdal-dev] KML Write-only driver for OGR

Hello,

> -----Message d'origine-----
> De : gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] De la part de 
> Frank Warmerdam
> Envoy? : mercredi 24 mai 2006 23:48
> ? : gdal-dev
> Objet : [Gdal-dev] KML Write-only driver for OGR
> 


> 
> As I see it the downside is that this driver is write-only, 
> which isn't a concept that is particularly well handled by 
> OGR (there is not way for
> a driver to indicate it is write only currently).   However, 
> we have done
> this for GML, and DWG/DXF in the past so it isn't a new thing.

I think it would be great to be able to read kml too. When using GE, you can
export features into kml. If you have GE pro edition, you can draw features
and save them into kml. These are examples where reading is interesting.

I would also like to raise a new question. KML is also made for displaying
rasters into Google. Would this driver being able to make this.

An interesting link not mentionned in this thread:
http://earth.google.com/kml/

Thanks for all this job,

Guillaume.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From mateusz at loskot.net  Sat May 27 07:41:35 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] U.S. PTO Smashes JPEG Patent
Message-ID: <44783AEF.8040300@loskot.net>

Hi,

I hope this information may be interesting for GDAL Community:

http://www.eweek.com/article2/0,1759,1968402,00.asp

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From zhonghaiw at gmail.com  Mon May 29 05:19:08 2006
From: zhonghaiw at gmail.com (Zhonghai Wang)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] does gdaltindex support MapInfo GIF+GIF format?
In-Reply-To: <2534c4120605230820sacf74fbp712ecb39d582cedf@mail.gmail.com>
References: <2534c4120605230004y19097b6atf0f4fa712955d62a@mail.gmail.com>
	<447325D7.8090004@pobox.com>
	<2534c4120605230820sacf74fbp712ecb39d582cedf@mail.gmail.com>
Message-ID: <2534c4120605290219k248c7685q40bbceb62d688cdc@mail.gmail.com>

Hi All,

yesterday I've solve this problem with the first solution. I summarize below
how I've done it.

first of all, the second soluttion is not possible, because if you use the
gdal_merge.py command, the projection information i.e. wld files are
required at the same time.

I've programmed with VB6:
1. read the *.txt file into the TextStream object
2. analyse the TextStream, get the useful info for the worldfile
3. write the data with the roration information to a new text file with the
.wld extension
4. convert all the GIFs to TIFs --- this step is optional
5. tile the images

that's it.

best regards

zhonghai


On 5/23/06, Zhonghai Wang <zhonghaiw@gmail.com> wrote:
>
>  Hi Frank,
>
> I am trying now the following two options:
>
> 1. use script to create worldfiles for the GIFs,
> 2. merge the GIFs using gdal_merge.py, and create a single *tfw for the
> output tif file. After that a single gdaltindex command with "TILED=YES"
> should be good enough for my application.
>
> thanks
>
> zhonghai
>
>  On 5/23/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> >
> > Zhonghai Wang wrote:
> > > Hi guys,
> > >
> > > I've posted this question in the MapServer list, but I did not get any
> >
> > > reasonable solution, I'd like to post it here again, hope somebody
> > > can give me some clues.
> > >
> > > I have a subfolder of GIF raster image, and each GIF file has a
> > > corresponding TAB file, which specifies the coordinate information for
> >
> > > the GIF image, the content of the TAB is something like this:
> > >
> > > ***
> > > !table
> > > !version 300
> > > !charset WindowsLatin1
> > >
> > > Definition Table
> > >   File "m_1_1_1000.gif"
> > >   Type "RASTER"
> > >   (5.290517,48.2308475) (1392,987) Label "Pt 1",
> > >   (5.25001439194036,48.25) (0,0) Label "Pt 2",
> > >   (5.25001439194036 ,48.211695) (0,1974) Label "Pt 3",
> > >   (5.33101960805964,48.25) (2784,0) Label "Pt 4",
> > >   (5.33101960805964,48.211695) (2784,1974) Label "Pt 5"
> > >   CoordSys Earth Projection 1, 104
> > >   Units "degree"
> > > ***
> > >
> > > but if I perform the gdaltindex command to create a tile shapefile for
> > > the images, an error occurs:
> > >
> > >  >>no georeferencing info available for the images file, performance
> > > will be skipped.
> > >
> > > and I also get some info from the "Raster Data Access" document, "The
> > > only way to georeference GIF files is with a world file. ", is it
> > really
> > > so?if it's true, there will be a huge project for me to change all the
> >
> > > TAB files.
> > >
> > > hope that someone can help.
> > >
> > > thanks so much for any info.
> >
> > Zhonghai,
> >
> > As I think was explained on the mapserver list, GDAL does not currently
> > support mapinfo tab files as a source of georeferencing for raster
> > files.
> > So you will need to manually or by script create world files for from
> > the
> > .tab files.
> >
> > Good luck,
> >
> > --
> >
> > ---------------------------------------+--------------------------------------
> > I set the clouds in motion - turn up   | Frank Warmerdam,
> > warmerdam@pobox.com
> > light and sound - activate the windows | http://pobox.com/~warmerdam
> > and watch the world go round - Rush    | President OSGF,
> > http://osgeo.org
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060529/f7f51c44/attachment.html
From mark at overmeer.net  Mon May 29 05:59:24 2006
From: mark at overmeer.net (Mark Overmeer)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] tiff to jp2ecw
Message-ID: <20060529095924.GA11636@earth.overmeer.net>

Hi,

I am translating a geotiff into jpeg2000/ecw using gdal_translate in
FWTools 1.0.0a7 linux (gdal 1.3.1)

The command I try is this:

   gdal_translate input.tif -of JP2ECW -ot Byte -co TARGET=0 output.jp2

However... there are two problems:
 (1) the input.tif (geotiff) contains 6 images, created with
       geotifcp [123456].tif input.tif
     however, the resulting output.jp2 contains only one image (the first)

 (2) "gdalinfo output.jp2" says:
       Driver: JP2KAK/JPEG-2000 (based on Kakadu)
     where I expected JP2ECW

Are these FWTools related (build related) or a GDAL problems?
Are there any known work-arounds?
Any help is welcome.
-- 
               MarkOv

------------------------------------------------------------------------
       Mark Overmeer MSc                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
http://Mark.Overmeer.net                   http://solutions.overmeer.net

From spietz at fh-bingen.de  Mon May 29 06:06:07 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] swig java: c/c++
Message-ID: <023301c68307$83fd40a0$b84f5d8f@PSP>

Hi,

I think that I've now finally managed to install the java swig-bindings. The 
steps for my system (Suse Linux 10.0, gdal 1.3.2) were:

 preinstallation (from about several tries to install gdal 
java-swig-bindings)
- swig 1.3.29 (www.swig.org)
- liblibjpeg-devel 6.2.0 (with YAST)
- libpng-devel 1.2.8 (with YAST)

installation
- download gdal1.3.2.tar.gz
- unzip/untar at  /usr/lib/gdal => /usr/lib/gdal/gdal-1.3.2 = GDAL-HOME
- /usr/lib/gdal/gdal-1.3.2> ./configure
- /usr/lib/gdal/gdal-1.3.2> make
- /usr/lib/gdal/gdal-1.3.2> make install (if you are root)
- in file GDAL_HOME/swig/java/java.opt JAVA_HOME set on 
/usr/lib/jvm/java-1.4.2-sun-1.4.2.06  (=JAVA-HOME)
-GDAL_HOME/swig/java/> ant  (this command uses the build.xml file in same 
directory) => compiled java-swig-classes and gdal.jar file
- GDAL_HOME/swig/java/>make build
Error:
cp ./.libs/*.so ./
ant
/usr/bin/ant: eval: line 302: unexpected EOF while looking for mathing '"'
/usr/bin/ant: eval: line 303: syntax error: unexpected end of file
make; ***[build] Error1

BUT the *jni.so files in /usr/lib/gdal/gdal1.3.2/swig/java/.libs were 
created so the thrown error might not be important....


regards

Christine 


From warmerdam at pobox.com  Mon May 29 10:30:28 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] tiff to jp2ecw
In-Reply-To: <20060529095924.GA11636@earth.overmeer.net>
References: <20060529095924.GA11636@earth.overmeer.net>
Message-ID: <447B0584.30207@pobox.com>

Mark Overmeer wrote:
> Hi,
> 
> I am translating a geotiff into jpeg2000/ecw using gdal_translate in
> FWTools 1.0.0a7 linux (gdal 1.3.1)
> 
> The command I try is this:
> 
>    gdal_translate input.tif -of JP2ECW -ot Byte -co TARGET=0 output.jp2
> 
> However... there are two problems:
>  (1) the input.tif (geotiff) contains 6 images, created with
>        geotifcp [123456].tif input.tif
>      however, the resulting output.jp2 contains only one image (the first)

Mark,

Currently the GDAL GeoTIFF driver does not support using multiple
image directories except by special naming conventions on the input
file.  Basically GDAL treats GeoTIFF as a one-image-per-file format.

GDAL takes the same approach to JPEG2000 so even if you could read
the GeoTIFF as a multi-image file, you still couldn't write it to
JPEG2000 as a set of images.

Note that neither limitation is due to the format, just due to limitations
of the GDAL drivers.  These limitations are not specific to the FWTools
build.

If you wanted the six images treated as bands of a single image then
you could use a different mechanism to merge the bands. Let me know if
that was your desire.


>  (2) "gdalinfo output.jp2" says:
>        Driver: JP2KAK/JPEG-2000 (based on Kakadu)
>      where I expected JP2ECW

This is not a problem.  The result is a JPEG2000 file, and FWTools
includes more than one JPEG2000 driver, naming the JP2ECW driver, and
the JP2KAK driver.  Both can read JPEG2000 files but by default the
JP2KAK one is tried first.  For most use, it should be fine.  But if
for some reason you need to read the image back using the JP2ECW driver
you can ask GDAL to ignore the JP2KAK driver.  Something like:

  gdalinfo --config GDAL_SKIP JP2KAK output.jp2

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From spietz at fh-bingen.de  Mon May 29 10:45:10 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] using gdal/ogr within java-project
Message-ID: <028e01c6832e$7f4991e0$b84f5d8f@PSP>

Hi folks,

I've finally installed OGR/GDAL1.3.2 with the java-swig-bindings on my Suse 
Linux 10.0.
(GDAL-HOME = /usr/lib/gdal/gdal-1.3.2)

Now I'm trying to use those bindings within my Java-Source-Code but first 
Test even fails:
I've built an Eclipse-Project with the libraries
- jre system library (java 1.4.2.06)
- GDAL-Home/swig/java/gdal.jar
and imported some filesystems especially:
- GDAL-Home/swig/java/org
- GDAL-Home/swig/java/apps

In GDAL-Home/swig/java/apps there are 2 "test-applications"
- gdalinfo.java
- GDALtest.java

I've tried to run one of those but getting the following error:
###
Native library load failed.
java.lang.UnsatisfiedLinkError: no gdaljni in java.library.path
Exception in Thread "main" java.lang.UnsatisfiedLinkError: AllRegister
    at org.gdal.gdal.gdalJNI.AllRegister(Native Method)
    ....
###

So obviously the application is not able to find the gdaljni.

I wrote some little code to discover the error:

###
//output of the actual java.library.path
String props = System.getProperty("java.library.path");
System.out.println("props = "+props);
//adding the path to the *jni.so-files generated by java-swig
System.setProperty("java.library.path",props+":/usr/lib/gdal/gdal-1.3.2/swig/java/.libs");
//Error message was "java.lang.UnsatisfiedLinkError: no gdaljni in 
java.library.path"
//output of the actual gdaljni-Parameter
String gdalJNI = System.mapLibraryName("gdaljni");
System.out.println("gdaljni ="+ gdalJNI);
###

Output of the Code (integrated in main of gdalinfo):
###
props = /usr/lib/jvm/java-1.2.4-sun-1.2.4.06/jre/lib/i368/client : .... : 
/usr/lib/gdal/gdal-1.3.2/swig/java/.libs
gdaljni = libgdaljni.so
Native library load failed.
java.lang.UnsatisfiedLinkError: no gdaljni in java.library.path
Exception in Thread "main" java.lang.UnsatisfiedLinkError: AllRegister
    at org.gdal.gdal.gdalJNI.AllRegister(Native Method)
###


Has anybody an idea
- what I have to do to run gdalinfo.java/GDALtest.java within my project?
- how to use gdal/ogr within a java-project?


regards

Christine 


From dpinte at itae.be  Mon May 29 10:58:29 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] ogr geometry intersection
Message-ID: <1148914709.19643.20.camel@geru-itae>

Hi,

Reading the doc, I'm wondering what's the behaviour of the
OGRGeometry.Intersection method.

When two polygons intersects, will the resulting object be a Polygon or
a MultilineString ? 
Is there a way to be sure that the result of the intersection is a line
and not a surface ?

I can explain my problem in more details if needed.

Anyway, thank you in advance for the help,

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060529/823bd6e8/attachment.bin
From mark at overmeer.net  Mon May 29 11:18:08 2006
From: mark at overmeer.net (Mark Overmeer)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] tiff to jp2ecw
In-Reply-To: <447B0584.30207@pobox.com>
References: <20060529095924.GA11636@earth.overmeer.net>
	<447B0584.30207@pobox.com>
Message-ID: <20060529151808.GD11636@earth.overmeer.net>


Dear Frank,

* Frank Warmerdam (warmerdam@pobox.com) [060529 14:30]:
> >   gdal_translate input.tif -of JP2ECW -ot Byte -co TARGET=0 output.jp2
> >
> >However... there are two problems:
> > (1) the input.tif (geotiff) contains 6 images, created with
> >       geotifcp [123456].tif input.tif
> >     however, the resulting output.jp2 contains only one image (the first)
> 
> Basically GDAL treats GeoTIFF as a one-image-per-file format.
> If you wanted the six images treated as bands of a single image then
> you could use a different mechanism to merge the bands. Let me know if
> that was your desire.

Yes, that is (probably) what I need.  Six bands in one image of six images
in one file.... probably both work.  How can I achieve the former?

> > (2) "gdalinfo output.jp2" says:
> >       Driver: JP2KAK/JPEG-2000 (based on Kakadu)
> >     where I expected JP2ECW
> 
> This is not a problem.  The result is a JPEG2000 file, and FWTools
> includes more than one JPEG2000 driver, naming the JP2ECW driver, ...

Ok, now I understand: the specified driver is not the one which produced
the image but is the one who reads the image.

Thanks for your help!
-- 
CU,
               MarkOv

From warmerdam at pobox.com  Mon May 29 11:27:08 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] ogr geometry intersection
In-Reply-To: <1148914709.19643.20.camel@geru-itae>
References: <1148914709.19643.20.camel@geru-itae>
Message-ID: <447B12CC.2090707@pobox.com>

Didrik Pinte wrote:
> Hi,
> 
> Reading the doc, I'm wondering what's the behaviour of the
> OGRGeometry.Intersection method.
> 
> When two polygons intersects, will the resulting object be a Polygon or
> a MultilineString ? 
> Is there a way to be sure that the result of the intersection is a line
> and not a surface ?
> 
> I can explain my problem in more details if needed.
> 
> Anyway, thank you in advance for the help,

Didrik,

GEOS is used to implement the intersection so you would really need to
dig into the GEOS (or perhaps even JTS) docs to find out how this is
implemented.  Or, of course, you could experiment.

My expectation is that an intersection between abutting polygons would
result in either a linestring, or a multilinestring.  but I'm not too sure
about it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Peter.Rushforth at statcan.ca  Mon May 29 12:01:38 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] invalid/no projection information in output TAB format
	files
Message-ID: <AB38021D12570A4AB907F442AE548807011A7F62@stcem04.statcan.ca>

Hello list,

I am using ogr2ogr to convert gml files to mapinfo TAB format, using
the following command option and syntax:

ogr2ogr -a_srs WGS84 -f "MapInfo File" test.map test.gml

The test.map and associated files are created, but the projection about
the layer is not set correctly and Mapinfo 7 crashes when exiting if the file
is not closed first, a concern.

When I go through MIF format, and then to TAB, the projection info is correctly
set in the TAB file and no problems with Mapinfo are encountered:

ogr2ogr -a_srs WGS84 -f "MapInfo File" -dsco FORMAT=MIF temp.mif test.gml
ogr2ogr -f "MapInfo File" test.tab temp.mif

So first converting to mid/mif, then to tab is an option, but is
there some way to skip that step?

Thanks for any advice,

Peter


From richard.matsunaga at waypointinfo.com  Mon May 29 13:13:27 2006
From: richard.matsunaga at waypointinfo.com (Richard Matsunaga)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] invalid/no projection information in output TAB
	formatfiles
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7F62@stcem04.statcan.ca>
Message-ID: <002601c68343$33c9f9c0$0202fea9@Maddog>

 
What version of GDAL/OGR are you using?

There was a bug with MapInfo files and projections that was fixed in the
latest release.

Richard

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of
Peter.Rushforth@statcan.ca
Sent: May 29, 2006 12:02 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] invalid/no projection information in output TAB
formatfiles

Hello list,

I am using ogr2ogr to convert gml files to mapinfo TAB format, using the
following command option and syntax:

ogr2ogr -a_srs WGS84 -f "MapInfo File" test.map test.gml

The test.map and associated files are created, but the projection about the
layer is not set correctly and Mapinfo 7 crashes when exiting if the file is
not closed first, a concern.

When I go through MIF format, and then to TAB, the projection info is
correctly set in the TAB file and no problems with Mapinfo are encountered:

ogr2ogr -a_srs WGS84 -f "MapInfo File" -dsco FORMAT=MIF temp.mif test.gml
ogr2ogr -f "MapInfo File" test.tab temp.mif

So first converting to mid/mif, then to tab is an option, but is there some
way to skip that step?

Thanks for any advice,

Peter

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev



From Peter.Rushforth at statcan.ca  Mon May 29 13:44:43 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] invalid/no projection information in output TAB
	formatfiles
Message-ID: <AB38021D12570A4AB907F442AE548807011A7F66@stcem04.statcan.ca>

I'm using gdal 1.3.2 , built on solaris 8 by me, 
with an additional local tweak for gml data sources.

Peter

> -----Original Message-----
> From: Richard Matsunaga [mailto:richard.matsunaga@waypointinfo.com] 
> Sent: May 29, 2006 1:13 PM
> To: Peter.Rushforth@statcan.ca; gdal-dev@lists.maptools.org
> Subject: RE: [Gdal-dev] invalid/no projection information in 
> output TAB formatfiles
> 
> 
>  
> What version of GDAL/OGR are you using?
> 
> There was a bug with MapInfo files and projections that was 
> fixed in the latest release.
> 
> Richard
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
> Peter.Rushforth@statcan.ca
> Sent: May 29, 2006 12:02 PM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] invalid/no projection information in 
> output TAB formatfiles
> 
> Hello list,
> 
> I am using ogr2ogr to convert gml files to mapinfo TAB 
> format, using the following command option and syntax:
> 
> ogr2ogr -a_srs WGS84 -f "MapInfo File" test.map test.gml
> 
> The test.map and associated files are created, but the 
> projection about the layer is not set correctly and Mapinfo 7 
> crashes when exiting if the file is not closed first, a concern.
> 
> When I go through MIF format, and then to TAB, the projection 
> info is correctly set in the TAB file and no problems with 
> Mapinfo are encountered:
> 
> ogr2ogr -a_srs WGS84 -f "MapInfo File" -dsco FORMAT=MIF 
> temp.mif test.gml ogr2ogr -f "MapInfo File" test.tab temp.mif
> 
> So first converting to mid/mif, then to tab is an option, but 
> is there some way to skip that step?
> 
> Thanks for any advice,
> 
> Peter
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 
> 
> 


From warmerdam at pobox.com  Mon May 29 13:50:58 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] invalid/no projection information in output TAB format
	files
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7F62@stcem04.statcan.ca>
References: <AB38021D12570A4AB907F442AE548807011A7F62@stcem04.statcan.ca>
Message-ID: <447B3482.3040002@pobox.com>

Peter.Rushforth@statcan.ca wrote:
> Hello list,
> 
> I am using ogr2ogr to convert gml files to mapinfo TAB format, using
> the following command option and syntax:
> 
> ogr2ogr -a_srs WGS84 -f "MapInfo File" test.map test.gml
> 
> The test.map and associated files are created, but the projection about
> the layer is not set correctly and Mapinfo 7 crashes when exiting if the file
> is not closed first, a concern.
> 
> When I go through MIF format, and then to TAB, the projection info is correctly
> set in the TAB file and no problems with Mapinfo are encountered:
> 
> ogr2ogr -a_srs WGS84 -f "MapInfo File" -dsco FORMAT=MIF temp.mif test.gml
> ogr2ogr -f "MapInfo File" test.tab temp.mif
> 
> So first converting to mid/mif, then to tab is an option, but is
> there some way to skip that step?

Peter,

As Richard suggested, you might want to update to the latest code, perhaps
a nightly snapshot of GDAL, as there have been a few mapinfo tab related
fixes.

If that still demonstrates the problem, then could you provide your
test.gml file?

Generally speaking there is a lot of header information not written out
by OGR till the .tab file is closed, and I don't forsee any change to that.
So opening an "in writing" file is just not going to work reliably.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Mon May 29 15:47:15 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] libgeotiff - build as dll
Message-ID: <447B4FC3.4020309@pobox.com>

Folks,

Anyone who has tried to build the MrSID plugin on windows for GDAL while
using the builtin copy of libgeotiff will have run into problems in the past.
This was due to use of libgeotiff interfaces (for PCSToMapSys for instance).

I have modified gdal/frmts/gtiff/libgeotiff/makefile.vc so that
BUILD_AS_DLL is defined while the internal libgeotiff is built.  This
causes all libgeotiff public interfaces to be exported from the GDAL
DLL,  This fixes the MrSID problem and does provide a convenience to
some folks who want to use libgeotiff from within GDAL.  However, it
potentially could result in conflicts in some cases.

Note, on linux/unix all internal library interfaces are exported
automatically.  There is no control of this.  So if you think of it that
way, we have brought the windows build more into line with what is done
on unix, generally a good thing.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Mon May 29 16:35:19 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Building DLL's on Windows
Message-ID: <447B5B07.1020309@tkk.fi>

Sorry, this is not in fact GDAL issue, but I know here are some 
knowledgeable people.

I've tried with a colleague to compile libral on Windows. I've used 
Cygwin and gcc and descriptions on cygwin site. I manage to make a DLL, 
and I can study it using, e.g., dependency walker. But when I try to use 
it I have problems. I tried the simplest possible DLL and then Windows 
Perl & module Win32::API, with which I should be able to open and call 
any DLLs. I can call a function from Kernel32.dll but not from my DLL.

I selected cygwin, because configure works there. configure worked but 
did not produce a DLL (it produces a shared object in linux ok).

Does anybody have good pointers or advice what to try next? The idea is 
to produce a libral DLL, which would then be called from MapWindow in 
this case. GDAL would or is probably also used by MapWindow.

Thanks,

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From warmerdam at pobox.com  Mon May 29 20:17:12 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Building DLL's on Windows
In-Reply-To: <447B5B07.1020309@tkk.fi>
References: <447B5B07.1020309@tkk.fi>
Message-ID: <447B8F08.6070102@pobox.com>

Ari Jolma wrote:
> Sorry, this is not in fact GDAL issue, but I know here are some 
> knowledgeable people.
> 
> I've tried with a colleague to compile libral on Windows. I've used 
> Cygwin and gcc and descriptions on cygwin site. I manage to make a DLL, 
> and I can study it using, e.g., dependency walker. But when I try to use 
> it I have problems. I tried the simplest possible DLL and then Windows 
> Perl & module Win32::API, with which I should be able to open and call 
> any DLLs. I can call a function from Kernel32.dll but not from my DLL.
> 
> I selected cygwin, because configure works there. configure worked but 
> did not produce a DLL (it produces a shared object in linux ok).
> 
> Does anybody have good pointers or advice what to try next? The idea is 
> to produce a libral DLL, which would then be called from MapWindow in 
> this case. GDAL would or is probably also used by MapWindow.

Ari,

My suggestion would be to use VC++ or MINGW to build your DLL.  Cygwin's
gcc includes funky dependencies on a cygwin DLL that *might* not play well
with non-cygwin components.

You may need a customized approach to configuration instead of using
configure, or you may be able to use cygwin configuration with mingw with
appropriate configurations.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Tue May 30 01:26:25 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Building DLL's on Windows
In-Reply-To: <447B8F08.6070102@pobox.com>
References: <447B5B07.1020309@tkk.fi> <447B8F08.6070102@pobox.com>
Message-ID: <447BD781.5080104@tkk.fi>

Frank Warmerdam kirjoitti:
> Ari,
> 
> My suggestion would be to use VC++ or MINGW to build your DLL.  Cygwin's
> gcc includes funky dependencies on a cygwin DLL that *might* not play well
> with non-cygwin components.


libral uses variable length macros, which is AFAIK not in VC++, so MINGW
is the 2nd choice then. I looked at it and installed it but the docs did
not look very good for developing DLL's. Is there somewhere a simple
example (a Makefile or something) of creating a DLL with MinGW?

Thanks

Ari


> 
> You may need a customized approach to configuration instead of using
> configure, or you may be able to use cygwin configuration with mingw with
> appropriate configurations.
> 
> Best regards,


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From dpinte at itae.be  Tue May 30 04:31:05 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] ogr geometry intersection
In-Reply-To: <447B12CC.2090707@pobox.com>
References: <1148914709.19643.20.camel@geru-itae> <447B12CC.2090707@pobox.com>
Message-ID: <1148977865.23085.16.camel@geru-itae>

Le lundi 29 mai 2006 ? 11:27 -0400, Frank Warmerdam a ?crit :
> 
> Didrik,
> 
> GEOS is used to implement the intersection so you would really need to
> dig into the GEOS (or perhaps even JTS) docs to find out how this is
> implemented.  Or, of course, you could experiment.
> 
> My expectation is that an intersection between abutting polygons would
> result in either a linestring, or a multilinestring.  but I'm not too sure
> about it.
> 
> Best regards,

Hi Frank,

In order to be sure of what's happening in intersections, i've build
some testcases to be sure of the results.

I've attached the python test file but here are the results :


surface overlap --> wkbPolygon intersection
border overlap  --> wkbLineString or wkbMultiLineString if it's not
straigth
mix between surface and border --> wkbPolygon intersection
point overlap --> wkbPoint intersection
no overlap --> wkbGeometryCollection intersection but empty

The last one is the only "strange" answer. All the other are the logic
behaviour.

So your expectation is confirmed ;-)

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test_intersection.py
Type: text/x-python
Size: 3349 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060530/713f38f5/test_intersection.py
From stephane.colzy at magellium.fr  Tue May 30 09:59:26 2006
From: stephane.colzy at magellium.fr (=?iso-8859-1?Q?St=E9phane_COLZY?=)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] Envisat Meris GCPs bad georeferencement...
Message-ID: <200605301359.k4UDx8DE009758@smtp9.clb.oleane.net>

Hi,

 

I?d like to display Meris products in a Mapserver map but i can?t get the
image to be well projected and scaled.

 

The image appears on the map but its extents are far out bounds and its
lower left corner is always docked to the map center.

 

The destination map is in projection epsg:4326

Here?s the info on an image I?m using:

 

 

----------------------------------------------------------------------------
-------------------------------------------------------------------

 

Driver: GTiff/GeoTIFF

Size is 2241, 2241

Coordinate System is `'

GCP Projection = GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.

2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Gr
eenw

ich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]]

GCP[  0]: Id=1, Info=

          (0,0) -> (1.39256,58.1008,0)

GCP[  1]: Id=2, Info=

          (560.25,0) -> (3.76845,57.7639,0)

GCP[  2]: Id=3, Info=

          (1120.5,0) -> (6.09777,57.3834,0)

GCP[  3]: Id=4, Info=

          (1680.75,0) -> (8.37677,56.9608,0)

GCP[  4]: Id=5, Info=

          (2241,0) -> (10.6024,56.4975,0)

GCP[  5]: Id=6, Info=

          (0,448.2) -> (0.869172,56.9542,0)

GCP[  6]: Id=7, Info=

          (560.25,448.2) -> (3.17538,56.6237,0)

GCP[  7]: Id=8, Info=

          (1120.5,448.2) -> (5.43918,56.2513,0)

GCP[  8]: Id=9, Info=

          (1680.75,448.2) -> (7.65714,55.8383,0)

GCP[  9]: Id=10, Info=

          (2241,448.2) -> (9.82645,55.3862,0)

GCP[ 10]: Id=11, Info=

          (0,896.4) -> (0.370076,55.8061,0)

GCP[ 11]: Id=12, Info=

          (560.25,896.4) -> (2.61121,55.4814,0)

GCP[ 12]: Id=13, Info=

          (1120.5,896.4) -> (4.81357,55.1164,0)

GCP[ 13]: Id=14, Info=

          (1680.75,896.4) -> (6.97408,54.7123,0)

GCP[ 14]: Id=15, Info=

          (2241,896.4) -> (9.09013,54.2705,0)

GCP[ 15]: Id=16, Info=

          (0,1344.6) -> (-0.107114,54.6566,0)

GCP[ 16]: Id=17, Info=

          (560.25,1344.6) -> (2.07314,54.3372,0)

GCP[ 17]: Id=18, Info=

          (1120.5,1344.6) -> (4.21788,53.979,0)

GCP[ 18]: Id=19, Info=

          (1680.75,1344.6) -> (6.32427,53.5832,0)

GCP[ 19]: Id=20, Info=

          (2241,1344.6) -> (8.38995,53.1511,0)

GCP[ 20]: Id=21, Info=

          (0,1792.8) -> (-0.564501,53.5058,0)

GCP[ 21]: Id=22, Info=

          (560.25,1792.8) -> (1.55875,53.1912,0)

GCP[ 22]: Id=23, Info=

          (1120.5,1792.8) -> (3.64935,52.8393,0)

GCP[ 23]: Id=24, Info=

          (1680.75,1792.8) -> (5.70476,52.4512,0)

GCP[ 24]: Id=25, Info=

          (2241,1792.8) -> (7.72279,52.028,0)

GCP[ 25]: Id=26, Info=

          (0,2241) -> (-1.00394,52.3539,0)

GCP[ 26]: Id=27, Info=

          (560.25,2241) -> (1.06585,52.0436,0)

GCP[ 27]: Id=28, Info=

          (1120.5,2241) -> (3.10558,51.6975,0)

GCP[ 28]: Id=29, Info=

          (1680.75,2241) -> (5.11291,51.3165,0)

GCP[ 29]: Id=30, Info=

          (2241,2241) -> (7.08585,50.9018,0)

Metadata:

  AREA_OR_POINT=Area

  TIFFTAG_XRESOLUTION=1

  TIFFTAG_YRESOLUTION=1

  TIFFTAG_RESOLUTIONUNIT=1 (unitless)

Corner Coordinates:

Upper Left  (    0.0,    0.0)

Lower Left  (    0.0, 2241.0)

Upper Right ( 2241.0,    0.0)

Lower Right ( 2241.0, 2241.0)

Center      ( 1120.5, 1120.5)

Band 1 Block=2241x8 Type=Byte, ColorInterp=Red

Band 2 Block=2241x8 Type=Byte, ColorInterp=Green

Band 3 Block=2241x8 Type=Byte, ColorInterp=Blue

 

----------------------------------------------------------------------------
-------------------------------------------------------------------

 

 

 

I just wonder if there?s an option I?m missing in Mapserver or if the image
info is simply flawed


 

 

Thank for help !

St?phane COLZY

stephane.colzy@magellium.fr
05 61 28 81 22

MAGELLIUM
10 avenue de l'Europe
31525 - Ramonville Saint Agne

http://www.magellium.fr <http://www.magellium.fr/> 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060530/ab660823/attachment.html
From collinsb at mitre.org  Tue May 30 10:39:19 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:50:10 2007
Subject: [Gdal-dev] using gdal/ogr within java-project
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CE642CF@IMCSRV1.MITRE.ORG>

Christine,

I would suggest that you set the java.library.path variable when you
start the JVM.  That can be done by adding the argument:
-Djava.library.path=<your path to gdal's java libraries>
to the command when you run java.  In Eclipse this can be done by
opening the "Arguments" tab in the "Run..." window, and adding that
string into the lower window, called "VM Arguments".  This has always
worked for me and my co-workers.

Also, note that, depending on how the *.so files were built, you still
may be dependant on libgdal.so.
--
Ben Collins

>-----Original Message-----
>From: gdal-dev-bounces@lists.maptools.org 
>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
>Christine Spietz
>Sent: Monday, May 29, 2006 10:45 AM
>To: gdal-dev@lists.maptools.org
>Subject: [Gdal-dev] using gdal/ogr within java-project
>
>Hi folks,
>
>I've finally installed OGR/GDAL1.3.2 with the 
>java-swig-bindings on my Suse 
>Linux 10.0.
>(GDAL-HOME = /usr/lib/gdal/gdal-1.3.2)
>
>Now I'm trying to use those bindings within my 
>Java-Source-Code but first 
>Test even fails:
>I've built an Eclipse-Project with the libraries
>- jre system library (java 1.4.2.06)
>- GDAL-Home/swig/java/gdal.jar
>and imported some filesystems especially:
>- GDAL-Home/swig/java/org
>- GDAL-Home/swig/java/apps
>
>In GDAL-Home/swig/java/apps there are 2 "test-applications"
>- gdalinfo.java
>- GDALtest.java
>
>I've tried to run one of those but getting the following error:
>###
>Native library load failed.
>java.lang.UnsatisfiedLinkError: no gdaljni in java.library.path
>Exception in Thread "main" java.lang.UnsatisfiedLinkError: AllRegister
>    at org.gdal.gdal.gdalJNI.AllRegister(Native Method)
>    ....
>###
>
>So obviously the application is not able to find the gdaljni.
>
>I wrote some little code to discover the error:
>
>###
>//output of the actual java.library.path
>String props = System.getProperty("java.library.path");
>System.out.println("props = "+props);
>//adding the path to the *jni.so-files generated by java-swig
>System.setProperty("java.library.path",props+":/usr/lib/gdal/gd
>al-1.3.2/swig/java/.libs");
>//Error message was "java.lang.UnsatisfiedLinkError: no gdaljni in 
>java.library.path"
>//output of the actual gdaljni-Parameter
>String gdalJNI = System.mapLibraryName("gdaljni");
>System.out.println("gdaljni ="+ gdalJNI);
>###
>
>Output of the Code (integrated in main of gdalinfo):
>###
>props = 
>/usr/lib/jvm/java-1.2.4-sun-1.2.4.06/jre/lib/i368/client : .... : 
>/usr/lib/gdal/gdal-1.3.2/swig/java/.libs
>gdaljni = libgdaljni.so
>Native library load failed.
>java.lang.UnsatisfiedLinkError: no gdaljni in java.library.path
>Exception in Thread "main" java.lang.UnsatisfiedLinkError: AllRegister
>    at org.gdal.gdal.gdalJNI.AllRegister(Native Method)
>###
>
>
>Has anybody an idea
>- what I have to do to run gdalinfo.java/GDALtest.java within 
>my project?
>- how to use gdal/ogr within a java-project?
>
>
>regards
>
>Christine 
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From mateusz at loskot.net  Tue May 30 11:04:44 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Building DLL's on Windows
In-Reply-To: <447BD781.5080104@tkk.fi>
References: <447B5B07.1020309@tkk.fi> <447B8F08.6070102@pobox.com>
	<447BD781.5080104@tkk.fi>
Message-ID: <447C5F0C.9030003@loskot.net>

Hi,

Ari Jolma wrote:
> Frank Warmerdam kirjoitti:
> 
>>My suggestion would be to use VC++ or MINGW to build your DLL.  Cygwin's
>>gcc includes funky dependencies on a cygwin DLL that *might* not play well
>>with non-cygwin components.
> 
> libral uses variable length macros, which is AFAIK not in VC++, so MINGW
> is the 2nd choice then. I looked at it and installed it but the docs did
> not look very good for developing DLL's. Is there somewhere a simple
> example (a Makefile or something) of creating a DLL with MinGW?

Have you tried to Google for "create dll with mingw"?
In first results you will find:
http://sig9.com/node/35
http://www.adp-gmbh.ch/win/misc/mingw/dll.html
http://www.mingw.org/MinGWiki/index.php/sample%20DLL

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From ILucena at clarku.edu  Tue May 30 11:21:10 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Deploying with GDAL in Windows
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455015A2E0F@Iris.ad.clarku.edu>

Hi there,

Once you have everything running in your personal computer you probably
don't need to worry about DLL versions, paths or versions. But does
anybody has a suggestion of how should we place the DLL in clients
machine?

#1 - MSVC71, MSVCP71.DLL:

I placed GDAL13.DLL in the same folder as the application executable,
but when I run it Windows asked me form MSVC71.DLL and MSVCP71.DLL. Is
there a FLAG in the nmake.opt to build with static MSVC libraries?

#2 - GDAL13.DLL:
 
If I put the GDAL3.Dll in the same folder as the application, it should
be all right. Adding the folder to the Windows path could make others
GDAL application to failure, because I am not using this or that library
or driver. I remember someone suggesting naming it GDAL13_d.DLL to avoid
conflict.

Any ideas?

Thanks for your attention,

Ivan Lucena


From ari.jolma at tkk.fi  Tue May 30 11:22:55 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Building DLL's on Windows
In-Reply-To: <447BD781.5080104@tkk.fi>
References: <447B5B07.1020309@tkk.fi> <447B8F08.6070102@pobox.com>
	<447BD781.5080104@tkk.fi>
Message-ID: <447C634F.4050908@tkk.fi>

Ari Jolma kirjoitti:
> Frank Warmerdam kirjoitti:
>   
>> Ari,
>>
>> My suggestion would be to use VC++ or MINGW to build your DLL.  Cygwin's
>> gcc includes funky dependencies on a cygwin DLL that *might* not play well
>> with non-cygwin components.
>>     
>
>
> libral uses variable length macros, which is AFAIK not in VC++, so MINGW
> is the 2nd choice then. I looked at it and installed it but the docs did
> not look very good for developing DLL's. Is there somewhere a simple
> example (a Makefile or something) of creating a DLL with MinGW?
>   

Bo Victor Thomsen replied offline and pointed me to the page 
http://www.adp-gmbh.ch/win/misc/mingw/dll.html and it seems (as Teemu 
reports to me) that the simple

\MinGW\bin\gcc.exe -shared $source_files -o libral.dll

works. I'm now even tempted to try to build my complete 
GDAL+Gtk2+libral+Perl modules -system on Windows.

Ari


From warmerdam at pobox.com  Tue May 30 11:43:17 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Envisat Meris GCPs bad georeferencement...
In-Reply-To: <200605301359.k4UDx8DE009758@smtp9.clb.oleane.net>
References: <200605301359.k4UDx8DE009758@smtp9.clb.oleane.net>
Message-ID: <447C6815.2000302@pobox.com>

St?phane COLZY wrote:
> Hi,
> 
>  
> 
> I?d like to display Meris products in a Mapserver map but i can?t get 
> the image to be well projected and scaled.
> 
>  
> 
> The image appears on the map but its extents are far out bounds and its 
> lower left corner is always docked to the map center.
> 
>  
> 
> The destination map is in projection epsg:4326
> 
> Here?s the info on an image I?m using:

Stephane,

MapServer does not support using GCPs from a GDAL image.  You will likely
need to use gdalwarp to rectify the image before you can use it with
mapserver.

Best regards,
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Tue May 30 11:51:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Deploying with GDAL in Windows
In-Reply-To: <6FD7C9DB26540B42A1207C69BF92D455015A2E0F@Iris.ad.clarku.edu>
References: <6FD7C9DB26540B42A1207C69BF92D455015A2E0F@Iris.ad.clarku.edu>
Message-ID: <447C69EF.4050503@pobox.com>

Ivan Lucena wrote:
> Hi there,
> 
> Once you have everything running in your personal computer you probably
> don't need to worry about DLL versions, paths or versions. But does
> anybody has a suggestion of how should we place the DLL in clients
> machine?
> 
> #1 - MSVC71, MSVCP71.DLL:
> 
> I placed GDAL13.DLL in the same folder as the application executable,
> but when I run it Windows asked me form MSVC71.DLL and MSVCP71.DLL. Is
> there a FLAG in the nmake.opt to build with static MSVC libraries?

Ivan,

I believe if you remove /MD from OPTFLAGS in nmake.opt, GDAL will default
to using static C/C++ libraries.  Keep in mind that this results in a
separate heap for each DLL.

> #2 - GDAL13.DLL:
>  
> If I put the GDAL3.Dll in the same folder as the application, it should
> be all right. Adding the folder to the Windows path could make others
> GDAL application to failure, because I am not using this or that library
> or driver. I remember someone suggesting naming it GDAL13_d.DLL to avoid
> conflict.

You can generate the DLL with a distinct name by changing the VERSION
macro in nmake.opt.  For instance, for FWTools I change it to _FW so
I produce a GDAL_FW.DLL that won't get mixed up with other GDAL builds.
I would encourage you to use a version code indicative of your application.
"_D" is likely to be assumed to be a debug build.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Tue May 30 11:52:10 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Deploying with GDAL in Windows
In-Reply-To: <6FD7C9DB26540B42A1207C69BF92D455015A2E0F@Iris.ad.clarku.edu>
References: <6FD7C9DB26540B42A1207C69BF92D455015A2E0F@Iris.ad.clarku.edu>
Message-ID: <447C6A2A.9030508@loskot.net>

Ivan Lucena wrote:
> Hi there,
> 
> Once you have everything running in your personal computer you probably
> don't need to worry about DLL versions, paths or versions. But does
> anybody has a suggestion of how should we place the DLL in clients
> machine?
> 
> #1 - MSVC71, MSVCP71.DLL:
> 
> I placed GDAL13.DLL in the same folder as the application executable,
> but when I run it Windows asked me form MSVC71.DLL and MSVCP71.DLL. Is
> there a FLAG in the nmake.opt to build with static MSVC libraries?


Ivan,
Common approach is to distribute those DLLs with the package and keep
them in the same directory as executable or DLL linking with them.

Flags? I don't know any.


> #2 - GDAL13.DLL:
>  
> If I put the GDAL3.Dll in the same folder as the application, it should
> be all right. Adding the folder to the Windows path could make others
> GDAL application to failure, because I am not using this or that library
> or driver. I remember someone suggesting naming it GDAL13_d.DLL to avoid
> conflict.
> 
> Any ideas?

Introducing some naming convention seems to be good idea.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From dmurphy at agi.com  Tue May 30 14:01:11 2006
From: dmurphy at agi.com (Murphy, David)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] GDALWarp and JP2ECW
Message-ID: <29474044C503AA40A6D6403925FB04EB93CB31@mail02.stk.com>

Hello-

 

I'm trying to mosaic an NITF (VQ) CADRG dataset into a J2K file using
GDALWarp via the JP2ECW driver.  On the file creation, I'm getting an
error message "Destination band 1 appears to be read-only".  Any ideas
on a possible cause?

 

Thanks,

Dave Murphy

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060530/9719d7c9/attachment.html
From ILucena at clarku.edu  Tue May 30 14:44:28 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Deploying with GDAL in Windows
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455015A2E78@Iris.ad.clarku.edu>

Mateusz, Frank, All, 

I remove the "/MD" from the OPTFLAGS (nmake.opt) and I added some extra
letters after "VERSION = 13_", then I "clean", "build" and "install"
makefile.vc. Everything works file, but it's going to take a while to
test it in a fresh computer (with no MSVC). But It should work fine. I
will let you guys know if it's not.

Thanks you very much!


Ivan,


----------------------------------------+------
"Everybody got mixed feelings           | Ivan Lucena,
About the function and the form" - Rush |
                                        | Another Rush fan :-)
----------------------------------------+------


-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
Sent: Tuesday, May 30, 2006 11:52 AM
To: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Deploying with GDAL in Windows

Ivan Lucena wrote:
> Hi there,
> 
> Once you have everything running in your personal computer you
probably
> don't need to worry about DLL versions, paths or versions. But does
> anybody has a suggestion of how should we place the DLL in clients
> machine?
> 
> #1 - MSVC71, MSVCP71.DLL:
> 
> I placed GDAL13.DLL in the same folder as the application executable,
> but when I run it Windows asked me form MSVC71.DLL and MSVCP71.DLL. Is
> there a FLAG in the nmake.opt to build with static MSVC libraries?


Ivan,
Common approach is to distribute those DLLs with the package and keep
them in the same directory as executable or DLL linking with them.

Flags? I don't know any.


> #2 - GDAL13.DLL:
>  
> If I put the GDAL3.Dll in the same folder as the application, it
should
> be all right. Adding the folder to the Windows path could make others
> GDAL application to failure, because I am not using this or that
library
> or driver. I remember someone suggesting naming it GDAL13_d.DLL to
avoid
> conflict.
> 
> Any ideas?

Introducing some naming convention seems to be good idea.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Tue May 30 14:49:29 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] GDALWarp and JP2ECW
In-Reply-To: <29474044C503AA40A6D6403925FB04EB93CB31@mail02.stk.com>
References: <29474044C503AA40A6D6403925FB04EB93CB31@mail02.stk.com>
Message-ID: <447C93B9.8060101@pobox.com>

Murphy, David wrote:
> Hello-
> 
>  
> 
> I?m trying to mosaic an NITF (VQ) CADRG dataset into a J2K file using 
> GDALWarp via the JP2ECW driver.  On the file creation, I?m getting an 
> error message ?Destination band 1 appears to be read-only?.  Any ideas 
> on a possible cause?

Dave,

I'm afraid you will first need to mosaic into a "randomly writable" format,
such as TIFF (if it isn't more than 4GB) or Imagine (driver name is HFA) for
large files.  Then use gdal_translate to convert that to JPEG2000.

The gdalwarp program processes the input images in chunks and so can only
work with output formats that support essentially random updates.  Most
compressed formats, including jpeg2000, only support a very serial write
strategy and so generally can only be written by copying from an input
file.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From chrislist at narx.net  Wed May 31 03:42:26 2006
From: chrislist at narx.net (chrislist@narx.net)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] OGRTINDEX support for Geodatabases?
Message-ID: <380-22006533174226500@M2W114.mail2web.com>

Hi list, 

Just wondering if the ogrtindex driver has support for the pgeo driver? I
have multiple geodatabases and creating a ogr index would make my life 100x
easier. OGR can read the PGeo fine, but whenever i try to create an index
it fails with the below ODBC error.

ogrtindex tindex.shp F:/web/uploaded/slip/data/Hydro/50k/*.mdb

ERROR 1: Unable to initialize ODBC connection to DSN for DRIVER=Microsoft
Access
 Driver (*.mdb);DBQ=F:/web/uploaded/slip/data/Hydro/50k/*.mdb,
[Microsoft][ODBC Microsoft Access Driver] Disk or network error.
Failed to open dataset F:/web/uploaded/slip/data/Hydro/50k/*.mdb, skipping.

I switched on ODBC logging to try and figure out what was going on and i
got the following snippet,

DIAG [S1000] [Microsoft][ODBC Microsoft Access Driver] Disk or network
error. (-1022) 
DIAG [IM006] [Microsoft][ODBC Driver Manager] Driver's SQLSetConnectAttr
failed (0) 

Geodatabase support is working everywhere else except for ogrtindex, so i'm
beginning to think that indexing is not possible on pgeo. Can someone
confirm this for me?

Cheers guys,

Chris Tweedie

Loaded OGR Format Drivers:
  -> "ESRI Shapefile" (read/write)
  -> "MapInfo File" (read/write)
  -> "UK .NTF" (readonly)
  -> "SDTS" (readonly)
  -> "TIGER" (read/write)
  -> "S57" (read/write)
  -> "DGN" (read/write)
  -> "VRT" (readonly)
  -> "AVCBin" (readonly)
  -> "REC" (readonly)
  -> "Memory" (read/write)
  -> "CSV" (read/write)
  -> "GML" (read/write)
  -> "ODBC" (read/write)
  -> "PGeo" (readonly)
  -> "PostgreSQL" (read/write)
  -> "MySQL" (readonly)

--------------------------------------------------------------------
mail2web - Check your email from the web at
http://mail2web.com/ .




From mateusz at loskot.net  Wed May 31 04:35:01 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] OGRTINDEX support for Geodatabases?
In-Reply-To: <380-22006533174226500@M2W114.mail2web.com>
References: <380-22006533174226500@M2W114.mail2web.com>
Message-ID: <447D5535.6080204@loskot.net>

chrislist@narx.net wrote:
> Hi list,
> 
> Just wondering if the ogrtindex driver has support for the pgeo 
> driver? I have multiple geodatabases and creating a ogr index would 
> make my life 100x easier. OGR can read the PGeo fine, but whenever i 
> try to create an index it fails with the below ODBC error.
> 
> ogrtindex tindex.shp F:/web/uploaded/slip/data/Hydro/50k/*.mdb
> 
> ERROR 1: Unable to initialize ODBC connection to DSN for 
> DRIVER=Microsoft Access Driver 
> (*.mdb);DBQ=F:/web/uploaded/slip/data/Hydro/50k/*.mdb, 
> [Microsoft][ODBC Microsoft Access Driver] Disk or network error. 
> Failed to open dataset F:/web/uploaded/slip/data/Hydro/50k/*.mdb, 
> skipping.


This error is well-known and we are working to fix it.
The bug is in MDB Tools which currently does not allow to use its ODBC
driver with DSN-less connection.

Here is the story:
http://article.gmane.org/gmane.comp.db.mdb-tools.devel/1038

You could try to create DSN for your MDB database and run it as follows:

ogrinfo PGeo:your_dsn_to_pgeo_database

(list of layers)

ogrinfo PGeo:your_dsn_to_pgeo_database <layer name>

(layer details)


Recenlty, I've managed to run OGR + PGeo with .mdb file path but it
is not available for users yet.


> Geodatabase support is working everywhere else except for ogrtindex, 
> so i'm beginning to think that indexing is not possible on pgeo. Can 
> someone confirm this for me?


Back to the ogrtindex.
If you will run ogrtindex against PGeo database, it will try to generate
tile index for every layer in this PGeo database.
Also, ogrtindex expect all layers being indexed have the same schema of
attributes (recently fixed,
http://bugzilla.remotesensing.org/show_bug.cgi?id=1144).
If layers in your PGeo database have different attirubes
number/definition then ogrtindex will fails with message like:

"Number of attributes of subsequent layers does not match ... terminating."

After you have DSN defined in your odbc.ini file, then try to run
ogrtindex as follows:

$ ogrtindex index.shp PGeo:your_pgeo_dsn

and if layers in database pointed by your_pgeo_dsn have different
attributes schema, then you should get:

"Number of attributes of subsequent layers does not match...terminating."

or

"Schema of attributes of subsequent layers does not match...terminating."

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From ari.jolma at tkk.fi  Wed May 31 06:44:20 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Building DLL's on Windows
In-Reply-To: <447C5F0C.9030003@loskot.net>
References: <447B5B07.1020309@tkk.fi> <447B8F08.6070102@pobox.com>
	<447BD781.5080104@tkk.fi> <447C5F0C.9030003@loskot.net>
Message-ID: <447D7384.9020105@tkk.fi>

Adding to this same theme, I managed to compile GDAL in MinGW+MSys,
libral with GDAL and Perl in plain MinGW+dmake.exe, but so far did not
manage to build the Swig/Perl interface. I remade the wrappers with a
swigwin but that did not help much.

Has anybody managed to build any of the swig-wrappers in MinGW?

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From spietz at fh-bingen.de  Wed May 31 07:56:32 2006
From: spietz at fh-bingen.de (Christine Spietz)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] gdal/ogr and java
Message-ID: <010801c684a9$452f6030$b84f5d8f@PSP>

Hey list,

are there some tutorials, a documentation or some code-examples about the 
GDAL/OGR-Swig-Java-classes?


regards

Christine 


From warmerdam at pobox.com  Wed May 31 10:23:57 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Re: GDAL Coding Guidelines
In-Reply-To: <447D889A.4030607@loskot.net>
References: <447D889A.4030607@loskot.net>
Message-ID: <447DA6FD.9080903@pobox.com>

Mateusz Loskot wrote:
> Hi Frank,
> 
> Today, I was talking a bit with Dronk and asking him if using STL in
> GADL is recommended or not.
> I was asking because I'm quite confused and I don't know how should I
> move on with some applications.
> Here are examples of some of my questions:
> 
> Can I use <sstream> library instead of sprintf,strcat, memcpy, etc.?

Mateusz,

Please do not.

> Can I use string instead of C-like strings, when it's applicaple?

You should use CPLString (a slightly extended std:string with a
Printf() method for formatted "printing" into the string.  Try not to
go wild using esoteric std:string methods as some day I may restructure
CPLString to not derive from std:string, but still to provide similar
(if somewhat simplified) services.

> e.g. concatenating strings with <sstream> would take a few line of code,
> but with C-like approach, it takes much longer and IMHO is more bugs
> prone. This is just an example.

I am generally anti-streams, and have avoided their use in GDAL.  I
would prefer to keep that approach though if you could demonstrate
a compelling value I might reconsider.

> As you know, C++ is my favourite language but that's not
> thecase here. I also can code in C, I'm flexible ;-)
> I just would like to suggest the GDAL PCS to develop some coding
> guidelines or convention, that developers could follow.
> You know, C and C++ are different languages and some guidelines would
> help developers to avoid potential confusions.

I agree that a guidelines RFC would be appropriate.  I'm just not all that
keen on writing it.  I'm putting this email out to the gdal-dev list for
further input but I will start working on a coding guidelines RFC.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Wed May 31 10:37:13 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Compiling swigged wrappers under MinGW
Message-ID: <447DAA19.7070008@tkk.fi>

I almost got the (perl) wrappers compiled under MinGW. The remaining 
problem is that ogr.dll and osr.dll won't like to be loaded at the same 
time. The swig interface ogr.i imports osr.i so that might cause the 
problem. However the problem does not exist in unix so I'm not yet sure 
what's going on.

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From warmerdam at pobox.com  Wed May 31 11:07:13 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] OGRTINDEX support for Geodatabases?
In-Reply-To: <380-22006533174226500@M2W114.mail2web.com>
References: <380-22006533174226500@M2W114.mail2web.com>
Message-ID: <447DB121.2050105@pobox.com>

chrislist@narx.net wrote:
> Hi list, 
> 
> Just wondering if the ogrtindex driver has support for the pgeo driver? I
> have multiple geodatabases and creating a ogr index would make my life 100x
> easier. OGR can read the PGeo fine, but whenever i try to create an index
> it fails with the below ODBC error.
> 
> ogrtindex tindex.shp F:/web/uploaded/slip/data/Hydro/50k/*.mdb
> 
> ERROR 1: Unable to initialize ODBC connection to DSN for DRIVER=Microsoft
> Access
>  Driver (*.mdb);DBQ=F:/web/uploaded/slip/data/Hydro/50k/*.mdb,
> [Microsoft][ODBC Microsoft Access Driver] Disk or network error.
> Failed to open dataset F:/web/uploaded/slip/data/Hydro/50k/*.mdb, skipping.

Chris,

On Win32 the DOS command window does not expand wildcards before invoking
a program. It is up to the program to do so.  To get ogrtindex.exe to do
this you need to link in setargv.obj when building GDAL/OGR.

If you are building your own GDAL/OGR, you can uncomment the SETARGV
line in nmake.opt.  But you will also have to make sure the VCDIR is
set properly to point to your compiler tree so the file can be found.

The FWTools builds should already include this.

The other alternative is to build a DOS for loop to invoke ogrtindex
for each file via looping.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Wed May 31 11:19:09 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] OGRTINDEX support for Geodatabases?
In-Reply-To: <447D5535.6080204@loskot.net>
References: <380-22006533174226500@M2W114.mail2web.com>
	<447D5535.6080204@loskot.net>
Message-ID: <447DB3ED.8040908@loskot.net>

Hi,

Mateusz Loskot wrote:
> chrislist@narx.net wrote:
>> 
>> Just wondering if the ogrtindex driver has support for the pgeo 
>> driver? I have multiple geodatabases and creating a ogr index would
>>  make my life 100x easier. OGR can read the PGeo fine, but whenever
>> i try to create an index it fails with the below ODBC error.
>> 
>> ogrtindex tindex.shp F:/web/uploaded/slip/data/Hydro/50k/*.mdb
>> 
>> ERROR 1: Unable to initialize ODBC connection to DSN for 
>> DRIVER=Microsoft Access Driver 
>> (*.mdb);DBQ=F:/web/uploaded/slip/data/Hydro/50k/*.mdb, 
>> [Microsoft][ODBC Microsoft Access Driver] Disk or network error. 
>> Failed to open dataset F:/web/uploaded/slip/data/Hydro/50k/*.mdb, 
>> skipping.
> 
> 
> 
> This error is well-known and we are working to fix it. The bug is in
> MDB Tools which currently does not allow to use its ODBC driver with
> DSN-less connection.
> 
> Here is the story: 
> http://article.gmane.org/gmane.comp.db.mdb-tools.devel/1038
> 
> You could try to create DSN for your MDB database and run it as
> follows:
> 
> ogrinfo PGeo:your_dsn_to_pgeo_database
> 
> (list of layers)
> 
> ogrinfo PGeo:your_dsn_to_pgeo_database <layer name>
> 
> (layer details)
> 
> 
> Recenlty, I've managed to run OGR + PGeo with .mdb file path but it 
> is not available for users yet.


ERRATA !!!

Chris,
I apologize but I was wrong completely here.
I missed that you're writing about running ogrinfo on Windows.
Please, forget about this story abou MDB Toolsa and
DSN-less connections :-) Please, forgive me that.


Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From MChapman at sanz.com  Wed May 31 12:33:48 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Re: GDAL Coding Guidelines
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C55B@mailman.san.com>

I can think of a reason not to use streams.  They're not thread safe.
Printf() is thread safe though, if you properly create your threads.  On
windows you would use _beginthreadex() and _endthreadex().  Please
correct me if I'm wrong.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank
Warmerdam
Sent: Wednesday, May 31, 2006 8:24 AM
To: Mateusz Loskot
Cc: gdal-dev
Subject: [Gdal-dev] Re: GDAL Coding Guidelines

Mateusz Loskot wrote:
> Hi Frank,
> 
> Today, I was talking a bit with Dronk and asking him if using STL in
> GADL is recommended or not.
> I was asking because I'm quite confused and I don't know how should I
> move on with some applications.
> Here are examples of some of my questions:
> 
> Can I use <sstream> library instead of sprintf,strcat, memcpy, etc.?

Mateusz,

Please do not.

> Can I use string instead of C-like strings, when it's applicaple?

You should use CPLString (a slightly extended std:string with a
Printf() method for formatted "printing" into the string.  Try not to
go wild using esoteric std:string methods as some day I may restructure
CPLString to not derive from std:string, but still to provide similar
(if somewhat simplified) services.

> e.g. concatenating strings with <sstream> would take a few line of
code,
> but with C-like approach, it takes much longer and IMHO is more bugs
> prone. This is just an example.

I am generally anti-streams, and have avoided their use in GDAL.  I
would prefer to keep that approach though if you could demonstrate
a compelling value I might reconsider.

> As you know, C++ is my favourite language but that's not
> thecase here. I also can code in C, I'm flexible ;-)
> I just would like to suggest the GDAL PCS to develop some coding
> guidelines or convention, that developers could follow.
> You know, C and C++ are different languages and some guidelines would
> help developers to avoid potential confusions.

I agree that a guidelines RFC would be appropriate.  I'm just not all
that
keen on writing it.  I'm putting this email out to the gdal-dev list for
further input but I will start working on a coding guidelines RFC.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF,
http://osgeo.org

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From matt.wilkie at gov.yk.ca  Wed May 31 12:53:58 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] OGRTINDEX support for Geodatabases?
In-Reply-To: <447DB121.2050105@pobox.com>
References: <380-22006533174226500@M2W114.mail2web.com>
	<447DB121.2050105@pobox.com>
Message-ID: <447DCA26.9080904@gov.yk.ca>

> The other alternative is to build a DOS for loop to invoke ogrtindex
> for each file via looping.

e.g.
    for /r Z:\geodatabase %f in (*.mdb) do ogrtindex mdb_index.shp "%f"

Will recursively search Z:\Geodatabase and index all .mdb files. Doesn't 
work on my machine though. Or rather the recursion works but ogrtindex 
exits with an error: "Schema of attributes of subsequent layers does not 
match ... Terminating."

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From mateusz at loskot.net  Wed May 31 12:54:44 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Re: GDAL Coding Guidelines
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C55B@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C55B@mailman.san.com>
Message-ID: <447DCA54.2040007@loskot.net>

Chapman, Martin wrote:
> I can think of a reason not to use streams.  They're not thread safe.
>  Printf() is thread safe though, if you properly create your threads.
>  On windows you would use _beginthreadex() and _endthreadex().
> Please correct me if I'm wrong.

That's not exactly true.
Threading is not a part of C++ Language Standard.
It is an implementation detail, so if you need thread-safe STL, then you
have to use appropriate implementation of STL.

All widely used STL implementations like SGI STL, STLport, Dinkumware
(this impl. isshipped with Visual C++) provide single-thread and
multi-thread versions.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From mateusz at loskot.net  Wed May 31 13:24:31 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] OGRTINDEX support for Geodatabases?
In-Reply-To: <447DCA26.9080904@gov.yk.ca>
References: <380-22006533174226500@M2W114.mail2web.com>	<447DB121.2050105@pobox.com>
	<447DCA26.9080904@gov.yk.ca>
Message-ID: <447DD14F.2000809@loskot.net>

Matt Wilkie wrote:
>> The other alternative is to build a DOS for loop to invoke
>> ogrtindex for each file via looping.
> 
> 
> e.g. for /r Z:\geodatabase %f in (*.mdb) do ogrtindex mdb_index.shp
> "%f"
> 
> Will recursively search Z:\Geodatabase and index all .mdb files.
> Doesn't work on my machine though. Or rather the recursion works but
> ogrtindex exits with an error: "Schema of attributes of subsequent
> layers does not match ... Terminating."

And that's a correct behaviour of ogrtindex.
Please, see my previous post (second part) in this thread
or refer to Bug 1144:
http://bugzilla.remotesensing.org/show_bug.cgi?id=1144

Simply, all layers processing with ogrtindex should have the same
attributes schema.

May be for PGeo this behaviour should be quite different, specific.
Frank, what do you think?

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Wed May 31 14:06:54 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] OGRTINDEX support for Geodatabases?
In-Reply-To: <447DD14F.2000809@loskot.net>
References: <380-22006533174226500@M2W114.mail2web.com>	<447DB121.2050105@pobox.com>	<447DCA26.9080904@gov.yk.ca>
	<447DD14F.2000809@loskot.net>
Message-ID: <447DDB3E.9080306@pobox.com>

Mateusz Loskot wrote:
> Matt Wilkie wrote:
>>> The other alternative is to build a DOS for loop to invoke
>>> ogrtindex for each file via looping.
>>
>> e.g. for /r Z:\geodatabase %f in (*.mdb) do ogrtindex mdb_index.shp
>> "%f"
>>
>> Will recursively search Z:\Geodatabase and index all .mdb files.
>> Doesn't work on my machine though. Or rather the recursion works but
>> ogrtindex exits with an error: "Schema of attributes of subsequent
>> layers does not match ... Terminating."
> 
> And that's a correct behaviour of ogrtindex.
> Please, see my previous post (second part) in this thread
> or refer to Bug 1144:
> http://bugzilla.remotesensing.org/show_bug.cgi?id=1144
> 
> Simply, all layers processing with ogrtindex should have the same
> attributes schema.
> 
> May be for PGeo this behaviour should be quite different, specific.
> Frank, what do you think?

Mateusz,

There is nothing special about personal geodatabases having more than
one layer.  It is a common case.  For a tileindex to work properly with
mapserver all the inserted layers need to be of a consistent schema.
Assuming all the .mdb files have a table that matches the others (but
is presumably for a different geographic region) and assuming that layer
always has a consistent name, you can use the -lname switch with ogrtindex
to select just that layer.

eg.

e.g. for /r Z:\geodatabase %f in (*.mdb) do \
      ogrtindex mdb_index.shp -lname target_table %f

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Wed May 31 14:30:26 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] OGRTINDEX support for Geodatabases?
In-Reply-To: <447DDB3E.9080306@pobox.com>
References: <380-22006533174226500@M2W114.mail2web.com>	<447DB121.2050105@pobox.com>	<447DCA26.9080904@gov.yk.ca>
	<447DD14F.2000809@loskot.net> <447DDB3E.9080306@pobox.com>
Message-ID: <447DE0C2.4000400@loskot.net>

Frank Warmerdam wrote:
> Mateusz Loskot wrote:
> 
>> Matt Wilkie wrote:
>> 
>>>> The other alternative is to build a DOS for loop to invoke 
>>>> ogrtindex for each file via looping.
>>> 
>>> 
>>> e.g. for /r Z:\geodatabase %f in (*.mdb) do ogrtindex
>>> mdb_index.shp "%f"
>>> 
>>> Will recursively search Z:\Geodatabase and index all .mdb files. 
>>> Doesn't work on my machine though. Or rather the recursion works
>>> but ogrtindex exits with an error: "Schema of attributes of
>>> subsequent layers does not match ... Terminating."
>> 
>> 
>> And that's a correct behaviour of ogrtindex. Please, see my
>> previous post (second part) in this thread or refer to Bug 1144: 
>> http://bugzilla.remotesensing.org/show_bug.cgi?id=1144
>> 
>> Simply, all layers processing with ogrtindex should have the same 
>> attributes schema.
>> 
>> May be for PGeo this behaviour should be quite different, specific.
>>  Frank, what do you think?
> 
> 
> Mateusz,
> 
> There is nothing special about personal geodatabases having more than
>  one layer.  It is a common case.


Frank,

Yes, I have it in mind.


> For a tileindex to work properly
> with mapserver all the inserted layers need to be of a consistent
> schema.


Yes, indeed.


> Assuming all the .mdb files have a table that matches the
> others (but is presumably for a different geographic region) and
> assuming that layer always has a consistent name, you can use the
> -lname switch with ogrtindex to select just that layer.

This is clear. Thanks!

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From john.cole at uai.com  Wed May 31 14:40:55 2006
From: john.cole at uai.com (John Cole)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] performance issue with gdal_translate...
Message-ID: <76758090F8686C47A44B6FF52514A1D30790976F@hermes.uai.int>

I'm creating a tiled geotif on a large jpg file

gdal_translate -of GTiff -co "TILED=YES" madison_1f_01.jpg madison_1f_01.tif

Input file size is 44400, 42600

Gdal_translate is working, but it's really slow and only using 0.5% of
memory (according to top).

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
 4350 root      25   0 65228  22m 6252 R  100  0.5   2:18.82 gdal_translate

Since I have a decent system for this, I was wondering what --config
switches I could use to speed this up?

I'm running Fedora Core 5 on a dual xeon 3ghz with 4GB of memory.

Thanks,

John Cole
This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed. If you have received this email in error please notify the sender. This message contains confidential information and is intended only for the individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail.

From MChapman at sanz.com  Wed May 31 14:55:33 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Re: GDAL Coding Guidelines
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C55D@mailman.san.com>

Mateusz,

Thanks for the info.  I didn't know that.  I understood that threading
is not part of the C++ lib, but I didn't know that there were thread
safe versions of stl...cool.

Thanks,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
Sent: Wednesday, May 31, 2006 10:55 AM
To: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Re: GDAL Coding Guidelines

Chapman, Martin wrote:
> I can think of a reason not to use streams.  They're not thread safe.
>  Printf() is thread safe though, if you properly create your threads.
>  On windows you would use _beginthreadex() and _endthreadex().
> Please correct me if I'm wrong.

That's not exactly true.
Threading is not a part of C++ Language Standard.
It is an implementation detail, so if you need thread-safe STL, then you
have to use appropriate implementation of STL.

All widely used STL implementations like SGI STL, STLport, Dinkumware
(this impl. isshipped with Visual C++) provide single-thread and
multi-thread versions.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Wed May 31 15:34:09 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] performance issue with gdal_translate...
In-Reply-To: <76758090F8686C47A44B6FF52514A1D30790976F@hermes.uai.int>
References: <76758090F8686C47A44B6FF52514A1D30790976F@hermes.uai.int>
Message-ID: <447DEFB1.2070708@pobox.com>

John Cole wrote:
> I'm creating a tiled geotif on a large jpg file
> 
> gdal_translate -of GTiff -co "TILED=YES" madison_1f_01.jpg madison_1f_01.tif
> 
> Input file size is 44400, 42600
> 
> Gdal_translate is working, but it's really slow and only using 0.5% of
> memory (according to top).
> 
>   PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
>  4350 root      25   0 65228  22m 6252 R  100  0.5   2:18.82 gdal_translate
> 
> Since I have a decent system for this, I was wondering what --config
> switches I could use to speed this up?
> 
> I'm running Fedora Core 5 on a dual xeon 3ghz with 4GB of memory.

John,

I think you want to force GDAL_CACHEMAX up.  When reformatting scanline
oriented file to tiles or tiles to scanlines it is important to have
a cache large enough to hold a whole row of tiles or performance degrades
seriously.

GDAL_CACHEMAX is normally a number of megabytes, and the default is 10 I
think.

So something like:

gdal_translate -of GTIFF -co TILED=YES --config GDAL_CACHEMAX 120 \
   madison_1f_01.jpg madison_1f_01.tif

Would use a 120MB cache.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From peter.rushforth at gmail.com  Wed May 31 15:40:47 2006
From: peter.rushforth at gmail.com (Peter Rushforth)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] invalid/no projection information in output TAB format
	files
Message-ID: <1fd798f40605311240ide33834g849f071cd98260a0@mail.gmail.com>

Hi,

I sent this message with the data files attached, but it got filtered, as
it was about 600K kb. Sorry.  Anyhow, I am wondering if there is a
problem with the way the gml driver passes either projection or bounding
box info on, which only becomes an issue with the mapinfo (tab) output.

I am testing with fwtools 1.01, which seems to be up to date.
When I convert the nunavut.gml file to tab format with the following command

ogr2ogr -a_srs NAD83 -f "Mapinfo file" test.tab nunavut.gml

I get a tab file which *is* readable, but for which I think there is something
odd about the stored projection info.  When I open test.tab above with
mapinfo 8 pro viewer, I need to perform a view entire layer  operation to
see any data.  The normal behaviour is to zoom to a box somewhere
inside the dataset bounding box, however one sees nothing in the initial
view.

Then, after any operation (eg maximise / resize window), you have
to perform another "view entire layer" operation to see the data.

If you try to view with any other data in the same window, data which
should overlap, you never see anything.

In mapinfo pro 7, it displays the same extent problem, and it crashes
the app when closing from the upper right hand "X" on the window frame.

When I first go to the mid/mif format and then to tab format, thus:
>ogr2ogr -a_srs NAD83 -f "Mapinfo file" -dsco "FORMAT=MIF" test.mif nunavut.gml
>ogr2ogr -f "Mapinfo file"  test2.tab nunavut.gml

The test2.tab file behaves "normally".  Might this might be a problem with the
gml driver not passing something on to the mapinfo driver in certain
circumstances,
specifically when the output is tab format?

Cheers,

Peter

From john.cole at uai.com  Wed May 31 15:44:25 2006
From: john.cole at uai.com (John Cole)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] performance issue with gdal_translate...
Message-ID: <76758090F8686C47A44B6FF52514A1D307909770@hermes.uai.int>

Frank,
  Thanks, that helped greatly.  BTW, If you put 1000 in, it doesn't appear
to use the value, 999 seems to be the maximum number.  I had tried 1000
earlier, and it didn't do anything so I has assumed that I was using the
wrong switch.

Looks like it will finish in <5minutes now :-)  It had been running for an
hour and hadn't hit the first 2%.

Thanks,

John

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
Warmerdam
Sent: Wednesday, May 31, 2006 2:34 PM
To: John Cole
Cc: 'gdal-dev@lists.maptools.org'
Subject: Re: [Gdal-dev] performance issue with gdal_translate...

John Cole wrote:
> I'm creating a tiled geotif on a large jpg file
> 
> gdal_translate -of GTiff -co "TILED=YES" madison_1f_01.jpg
madison_1f_01.tif
> 
> Input file size is 44400, 42600
> 
> Gdal_translate is working, but it's really slow and only using 0.5% of
> memory (according to top).
> 
>   PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
>  4350 root      25   0 65228  22m 6252 R  100  0.5   2:18.82
gdal_translate
> 
> Since I have a decent system for this, I was wondering what --config
> switches I could use to speed this up?
> 
> I'm running Fedora Core 5 on a dual xeon 3ghz with 4GB of memory.

John,

I think you want to force GDAL_CACHEMAX up.  When reformatting scanline
oriented file to tiles or tiles to scanlines it is important to have
a cache large enough to hold a whole row of tiles or performance degrades
seriously.

GDAL_CACHEMAX is normally a number of megabytes, and the default is 10 I
think.

So something like:

gdal_translate -of GTIFF -co TILED=YES --config GDAL_CACHEMAX 120 \
   madison_1f_01.jpg madison_1f_01.tif

Would use a 120MB cache.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org
This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to whom they are addressed. If you have received this email in error please notify the sender. This message contains confidential information and is intended only for the individual named. If you are not the named addressee you should not disseminate, distribute or copy this e-mail.

From neteler at itc.it  Wed May 31 15:55:08 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Python/OGR SHAPE creation: prj file missing
Message-ID: <20060531195508.GE6067@bartok.itc.it>

Hi,

I was writing a simple Python script to generate a
SHAPE file following
 http://www.perrygeo.net/wordpress/?p=4
(thanks, Perry!).

The SHAPE related files are created, but the .prj file not.
How to enable that?

thanks

 Markus

From mlepage at pyxisinnovation.com  Wed May 31 16:05:20 2006
From: mlepage at pyxisinnovation.com (Marc Lepage)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Re: GDAL Coding Guidelines
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C55D@mailman.san.com>
Message-ID: <8B5901C2B9E9094AA4028CF5E33980D703177D@aristotle.PyxisInnovation.local>

Threading isn't part of C either. And yet, as you mentioned, there are
thread-safe versions of printf. Why would streams be any different in
this regard...?

There's no inherent reason not to use streams. They offer a lot of type
safety and flexibility at little to no performance cost. Without
concrete performance measurements in this specific case, it's difficult
to argue against streams for hypothetical performance reasons when we
know they have tangible benefits in other respects.

FAQ [15.1] Why should I use <iostream> instead of the traditional
<cstdio>?
http://www.parashift.com/c++-faq-lite/input-output.html#faq-15.1

As in all cases, it depends on what you want to do. But I wouldn't
dismiss them out of hand or due to pre-conceptions.


-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Chapman,
Martin
Sent: Wednesday, May 31, 2006 2:56 PM
To: Mateusz Loskot; gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Re: GDAL Coding Guidelines

Mateusz,

Thanks for the info.  I didn't know that.  I understood that threading
is not part of the C++ lib, but I didn't know that there were thread
safe versions of stl...cool.

Thanks,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
Sent: Wednesday, May 31, 2006 10:55 AM
To: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Re: GDAL Coding Guidelines

Chapman, Martin wrote:
> I can think of a reason not to use streams.  They're not thread safe.
>  Printf() is thread safe though, if you properly create your threads.
>  On windows you would use _beginthreadex() and _endthreadex().
> Please correct me if I'm wrong.

That's not exactly true.
Threading is not a part of C++ Language Standard.
It is an implementation detail, so if you need thread-safe STL, then you
have to use appropriate implementation of STL.

All widely used STL implementations like SGI STL, STLport, Dinkumware
(this impl. isshipped with Visual C++) provide single-thread and
multi-thread versions.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From perrygeo at gmail.com  Wed May 31 16:20:50 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Python/OGR SHAPE creation: prj file missing
In-Reply-To: <20060531195508.GE6067@bartok.itc.it>
References: <20060531195508.GE6067@bartok.itc.it>
Message-ID: <5383fa5e0605311320g4e48c223g73fe0721f3c8ec2a@mail.gmail.com>

Markus,

  I usually cheat and just copy and existing .prj from a dataset with
the same projection. But it can be accomplished other ways as well.

If it's just an EPSG code, there the epsg_tr.py utility:
  epsg_tr.py -wkt 4326 > ${shapefile_prefix}.prj

Or if you want to do it within a python script:

srs = osr.SpatialReference()
srs.ImportFromProj4(.....)
## Or for EPSG codes
srs.ImportFromEPSG(int(....))
prj = srs.ExportToWkt()
## write the prj string to the appropriate file

- Matt
~

On 5/31/06, Markus Neteler <neteler@itc.it> wrote:
> Hi,
>
> I was writing a simple Python script to generate a
> SHAPE file following
>  http://www.perrygeo.net/wordpress/?p=4
> (thanks, Perry!).
>
> The SHAPE related files are created, but the .prj file not.
> How to enable that?
>
> thanks
>
>  Markus
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>


-- 
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net

From warmerdam at pobox.com  Wed May 31 16:24:02 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] performance issue with gdal_translate...
In-Reply-To: <76758090F8686C47A44B6FF52514A1D307909770@hermes.uai.int>
References: <76758090F8686C47A44B6FF52514A1D307909770@hermes.uai.int>
Message-ID: <447DFB62.1030909@pobox.com>

John Cole wrote:
> Frank,
>   Thanks, that helped greatly.  BTW, If you put 1000 in, it doesn't appear
> to use the value, 999 seems to be the maximum number.  I had tried 1000
> earlier, and it didn't do anything so I has assumed that I was using the
> wrong switch.

John,

Umm, well, you see it's like this.  The processing code tries to be "smart".
It assumes a value larger than 999 must be in bytes instead of megabytes.
Because after all, no one would ever have more than 1GB of memory, right?
Well, it seemed reasonable at the time, circa 2000 or so.

So you can use 1500000000 if you want a 1.5GB cache.

> Looks like it will finish in <5minutes now :-)  It had been running for an
> hour and hadn't hit the first 2%.

It does make a dramatic difference.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Wed May 31 16:49:31 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Re: GDAL Coding Guidelines
In-Reply-To: <8B5901C2B9E9094AA4028CF5E33980D703177D@aristotle.PyxisInnovation.local>
References: <8B5901C2B9E9094AA4028CF5E33980D703177D@aristotle.PyxisInnovation.local>
Message-ID: <447E015B.60302@loskot.net>

Marc Lepage wrote:
> Threading isn't part of C either. And yet, as you mentioned, there are
> thread-safe versions of printf. Why would streams be any different in
> this regard...?
> 
> There's no inherent reason not to use streams. They offer a lot of type
> safety and flexibility at little to no performance cost. Without
> concrete performance measurements in this specific case, it's difficult
> to argue against streams for hypothetical performance reasons when we
> know they have tangible benefits in other respects.
> 
> FAQ [15.1] Why should I use <iostream> instead of the traditional
> <cstdio>?
> http://www.parashift.com/c++-faq-lite/input-output.html#faq-15.1
> 
> As in all cases, it depends on what you want to do. But I wouldn't
> dismiss them out of hand or due to pre-conceptions.

Especially, when you can achive better safety (elimination of undefined
behaviour) with simple code.
Here is some interesting case study about it:

http://www.comeaucomputing.com/techtalk/#atoi

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Wed May 31 16:49:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Python/OGR SHAPE creation: prj file missing
In-Reply-To: <20060531195508.GE6067@bartok.itc.it>
References: <20060531195508.GE6067@bartok.itc.it>
Message-ID: <447E0164.8010203@pobox.com>

Markus Neteler wrote:
> Hi,
> 
> I was writing a simple Python script to generate a
> SHAPE file following
>  http://www.perrygeo.net/wordpress/?p=4
> (thanks, Perry!).
> 
> The SHAPE related files are created, but the .prj file not.
> How to enable that?

Markus,

There is an optional "srs" argument to ogr.Datasource.CreateLayer()
that should refer to an ogr.SpatialReference object if passed.   This
SRS will be "morphed" to ESRI format and exported as WKT in the .prj file.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Wed May 31 17:02:12 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Compiling swigged wrappers under MinGW
In-Reply-To: <447DAA19.7070008@tkk.fi>
References: <447DAA19.7070008@tkk.fi>
Message-ID: <447E0454.10006@tkk.fi>

Ari Jolma kirjoitti:
> I almost got the (perl) wrappers compiled under MinGW. The remaining 
> problem is that ogr.dll and osr.dll won't like to be loaded at the 
> same time. The swig interface ogr.i imports osr.i so that might cause 
> the problem. However the problem does not exist in unix so I'm not yet 
> sure what's going on.

Talking a bit to myself but anyway, I managed to build the modules and 
my test code runs the same as in Linux. The generated dll's are a bit 
large but that could probably be improved. The DLL problems -- which 
were hard!...:-( -- seem to be related to the Perl module building 
process and the way it uses the MinGW dlltool. Even the swigwin is not 
perfect at least for Perl target. I'll post my results later on a webpage.

Good night,

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From mateusz at loskot.net  Wed May 31 17:04:43 2006
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Re: GDAL Coding Guidelines
In-Reply-To: <447DA6FD.9080903@pobox.com>
References: <447D889A.4030607@loskot.net> <447DA6FD.9080903@pobox.com>
Message-ID: <447E04EB.20609@loskot.net>

Frank Warmerdam wrote:
> Mateusz Loskot wrote:
> 
>> Today, I was talking a bit with Dronk and asking him if using STL 
>> in GADL is recommended or not. I was asking because I'm quite 
>> confused and I don't know how should I move on with some 
>> applications. Here are examples of some of my questions:
>> 
>> Can I use <sstream> library instead of sprintf,strcat, memcpy, 
>> etc.?
> 
> 
> Mateusz,
> 
> Please do not.


Frank,

OK, I won't.
That's why I'm asking. I want to follow conventions used in GDAL exactly.


>> Can I use string instead of C-like strings, when it's applicaple?
> 
> 
> You should use CPLString (a slightly extended std:string with a 
> Printf() method for formatted "printing" into the string.  Try not to
>  go wild using esoteric std:string methods as some day I may 
> restructure CPLString to not derive from std:string, but still to 
> provide similar (if somewhat simplified) services.


OK. A few additional questions:

1. Is this correct to use CPLString for input parameters in public API?

As we talked on IRC, const char* is prefered; I'm asking here to archive
this fact.

2. Can CPLString be returned from public function by value?

3. Can CPLString be used as a class data members (private)?


Currently, when CPLString is implemented with std::string, all answers
are "yes" according to std::string concepts (copyable, assignable,
etc.), but my questions are related more to future plans regarding
CPLString (e.g. can CPLString change in future so answer to 2. or 3.
will be know?).


>> e.g. concatenating strings with <sstream> would take a few line of
>>  code, but with C-like approach, it takes much longer and IMHO is 
>> more bugs prone. This is just an example.
> 
> 
> I am generally anti-streams, and have avoided their use in GDAL.  I 
> would prefer to keep that approach though if you could demonstrate a
>  compelling value I might reconsider.


Hmm, generally I could, especially against C-like strings and operating
on them but I think CPLString is enough, so no further discussion is
needed and no revolution too :-)


>> As you know, C++ is my favourite language but that's not thecase 
>> here. I also can code in C, I'm flexible ;-) I just would like to 
>> suggest the GDAL PCS to develop some coding guidelines or 
>> convention, that developers could follow. You know, C and C++ are 
>> different languages and some guidelines would help developers to 
>> avoid potential confusions.
> 
> 
> I agree that a guidelines RFC would be appropriate.  I'm just not all
>  that keen on writing it.  I'm putting this email out to the gdal-dev
>  list for further input but I will start working on a coding 
> guidelines RFC.


Thank you!
If you need any help (editing, review, formatting, brainstorm), just
give me a note.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net

From neteler at itc.it  Wed May 31 17:12:23 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Python/OGR SHAPE creation: prj file missing
In-Reply-To: <5383fa5e0605311320g4e48c223g73fe0721f3c8ec2a@mail.gmail.com>
References: <20060531195508.GE6067@bartok.itc.it>
	<5383fa5e0605311320g4e48c223g73fe0721f3c8ec2a@mail.gmail.com>
Message-ID: <20060531211223.GL6067@bartok.itc.it>

Frank, Matthew,

cool, works!

Markus


On Wed, May 31, 2006 at 01:20:50PM -0700, Matthew Perry wrote:
> Markus,
> 
>  I usually cheat and just copy and existing .prj from a dataset with
> the same projection. But it can be accomplished other ways as well.
> 
> If it's just an EPSG code, there the epsg_tr.py utility:
>  epsg_tr.py -wkt 4326 > ${shapefile_prefix}.prj
> 
> Or if you want to do it within a python script:
> 
> srs = osr.SpatialReference()
> srs.ImportFromProj4(.....)
> ## Or for EPSG codes
> srs.ImportFromEPSG(int(....))
> prj = srs.ExportToWkt()
> ## write the prj string to the appropriate file
> 
> - Matt
> ~
> 
> On 5/31/06, Markus Neteler <neteler@itc.it> wrote:
> >Hi,
> >
> >I was writing a simple Python script to generate a
> >SHAPE file following
> > http://www.perrygeo.net/wordpress/?p=4
> >(thanks, Perry!).
> >
> >The SHAPE related files are created, but the .prj file not.
> >How to enable that?
> >
> >thanks
> >
> > Markus
> >_______________________________________________
> >Gdal-dev mailing list
> >Gdal-dev@lists.maptools.org
> >http://lists.maptools.org/mailman/listinfo/gdal-dev
> >
> 
> 
> -- 
> Matt Perry
> perrygeo@gmail.com
> http://www.perrygeo.net
> 

-- 
Markus Neteler     <neteler itc it>       http://mpa.itc.it
ITC-irst -  Centro per la Ricerca Scientifica e Tecnologica
MPBA - Predictive Models for Biol. & Environ. Data Analysis
Via Sommarive, 18        -       38050 Povo (Trento), Italy

From ed at topozone.com  Wed May 31 19:46:44 2006
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] performance issue with gdal_translate...
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DDDF8@ptolemy.topozone.com>

John -

In addition to Frank's note, I would point out that while you're using
0.5% of memory, you're also using 100% of the CPU.  Increasing the
amount of memory available to GDAL will avoid/minimize disk I/O, but if
disk I/O is a major performance factor then I would not expect you to
see 100% CPU usage.  Your CPU can't spend more than 100% of its time on
gdal_translate, so it is possible that your situation is CPU-bound.

It is also possible that that CPU time is partially or largely devoted
to disk buffer processing, so increasing GDAL_CACHEMAX is certainly a
very good idea.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank
Warmerdam
Sent: Wednesday, May 31, 2006 3:34 PM
To: John Cole
Cc: 'gdal-dev@lists.maptools.org'
Subject: Re: [Gdal-dev] performance issue with gdal_translate...

John Cole wrote:
> I'm creating a tiled geotif on a large jpg file
> 
> gdal_translate -of GTiff -co "TILED=YES" madison_1f_01.jpg 
> madison_1f_01.tif
> 
> Input file size is 44400, 42600
> 
> Gdal_translate is working, but it's really slow and only using 0.5% of

> memory (according to top).
> 
>   PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
>  4350 root      25   0 65228  22m 6252 R  100  0.5   2:18.82
gdal_translate
> 
> Since I have a decent system for this, I was wondering what --config 
> switches I could use to speed this up?
> 
> I'm running Fedora Core 5 on a dual xeon 3ghz with 4GB of memory.

John,

I think you want to force GDAL_CACHEMAX up.  When reformatting scanline
oriented file to tiles or tiles to scanlines it is important to have a
cache large enough to hold a whole row of tiles or performance degrades
seriously.

GDAL_CACHEMAX is normally a number of megabytes, and the default is 10 I
think.

So something like:

gdal_translate -of GTIFF -co TILED=YES --config GDAL_CACHEMAX 120 \
   madison_1f_01.jpg madison_1f_01.tif

Would use a 120MB cache.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF,
http://osgeo.org

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From digar at esw.rwth-aachen.de  Tue May 30 01:37:34 2006
From: digar at esw.rwth-aachen.de ([ESW] Jan B.)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] Problem with Gdalwarp
Message-ID: <000301c683ab$286a4fe0$8788e289@digar>

Hi out there!

I not a really good programmer or really good in English, so I hope I did 
everything right and it is not wrong to write my problem here. Additionally 
I hope I have sucessfully added my email adress to this mailing list.

Now the problem. I try to write a programm which puts some USGS SRTM bil 
files together. I tried carefully to review all help in the net, exspecially 
on the gdal page and used code from the turtorials, where possible. So the 
core of my code is this:

GDALDataset *poDataset;

double adfGeoTransform[6];

const char *pszFormat = "GTiff";

// To Register the necessary Drivers for GeoTiff and BIL

GDALAllRegister();

/*---------------------------------------

* Open Dataset to copy information

*/


const char *pszShadeFilename="target.tif";

poDataset = (GDALDataset *) GDALOpen( "input.bil",GA_ReadOnly );



GDALRasterBand *poBand;

/* Data is while using SRTM Data always in the first band */

poBand = poDataset->GetRasterBand( 1 );

poDataset->GetGeoTransform( adfGeoTransform );

/* -----------------------------------------

* Create the output dataset and copy over relevant metadata

*/

GDALDriver *poDriver;

poDriver = GetGDALDriverManager()->GetDriverByName(pszFormat);

GDALDataset *poShadeDS;

GDALRasterBand *poShadeBand;

char **papszOptions = NULL;


poShadeDS = 
poDriver->Create(pszShadeFilename,p_xArraySize,p_yArraySize,1,GDT_Float32,

papszOptions );


poDataset->GetGeoTransform( adfGeoTransform );

poShadeDS->SetProjection( poDataset->GetProjectionRef() );

poShadeDS->SetGeoTransform( adfGeoTransform );

....



Now, when I try to use the gdalwarp.exe  with

gdalwarp -t_srs \"+proj=utm +zone=11 +datum=WGS84\" source.tif target.tif

I get the error

ERROR 1: Too many points (441 out of 441) failed to transform,
unable to compute output bounds.

I am searching for the problem now for 5 days and cannot find it.

Location of sample file to convert file: 
http://home.arcor.de/beitronik/gdal/target.tif
(I know the file is very small, a bigger one can be found at: 
http://home.arcor.de/beitronik/gdal/target2.tif
)

Perhaps you can help me, I would be very thankfull.

Jan Beiten 



From peter.rushforth at gmail.com  Wed May 31 22:19:42 2006
From: peter.rushforth at gmail.com (Peter Rushforth)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] projection info in mapinfo tab files corrupt when
	specifying -a_srs or -s_srs and -t_srs in ogr2ogr
Message-ID: <1fd798f40605311919o636bbb9k5b65dad85b8a0f0c@mail.gmail.com>

Hi,

I've done a little more testing and have a little more info.  I attach
a csv file
which demonstrates when the corruption of the tab file occurs.

It appears to occur whenever the -a_srs option is used in ogr2ogr,
or when the data is reprojected using -s_srs and -t_srs.

The symptoms include crashing and irregular behaviour of mapinfo.  When one
views the Change Current view dialog, the coordinates are garbage and
the map units are incorrect.

I am using fwtools 1.01 on windows, which *believe* is pretty up to
date wrt cvs snapshots.

I've been looking at the data files in mapinfo pro viewer 8.0 and tatuk viewer.
Tatuk doesn't seem to notice the problem, mapinfo doesn't like it.

Does this info lead anyone to conclude anything about possible causes?

Cheers,
Peter
-------------- next part --------------
A non-text attachment was scrubbed...
Name: projection_problem.csv
Type: application/octet-stream
Size: 577 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060531/8605a23c/projection_problem.obj
From dmorissette at mapgears.com  Wed May 31 22:42:14 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] projection info in mapinfo tab files corrupt when
	specifying -a_srs or -s_srs and -t_srs in ogr2ogr
In-Reply-To: <1fd798f40605311919o636bbb9k5b65dad85b8a0f0c@mail.gmail.com>
References: <1fd798f40605311919o636bbb9k5b65dad85b8a0f0c@mail.gmail.com>
Message-ID: <447E5406.9010408@mapgears.com>

This may be related to a bug in the MITAB library which is used by OGR 
to read/write TAB files:
http://bugzilla.maptools.org/show_bug.cgi?id=1319#c7
See also:
http://bugzilla.maptools.org/show_bug.cgi?id=1254

Perhaps try rebuilding gdal/ogr/ogrsf_frmts/mitab with 
-DMITAB_AFFINE_PARAMS (and then relink ogr2ogr) and see if the crash 
goes away.

Daniel


Peter Rushforth wrote:
> Hi,
> 
> I've done a little more testing and have a little more info.  I attach
> a csv file
> which demonstrates when the corruption of the tab file occurs.
> 
> It appears to occur whenever the -a_srs option is used in ogr2ogr,
> or when the data is reprojected using -s_srs and -t_srs.
> 
> The symptoms include crashing and irregular behaviour of mapinfo.  When one
> views the Change Current view dialog, the coordinates are garbage and
> the map units are incorrect.
> 
> I am using fwtools 1.01 on windows, which *believe* is pretty up to
> date wrt cvs snapshots.
> 
> I've been looking at the data files in mapinfo pro viewer 8.0 and tatuk 
> viewer.
> Tatuk doesn't seem to notice the problem, mapinfo doesn't like it.
> 
> Does this info lead anyone to conclude anything about possible causes?
> 
> Cheers,
> Peter
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


-- 
Daniel Morissette
http://www.mapgears.com/

From warmerdam at pobox.com  Wed May 31 23:08:26 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] projection info in mapinfo tab files corrupt when
	specifying -a_srs or -s_srs and -t_srs in ogr2ogr
In-Reply-To: <447E5406.9010408@mapgears.com>
References: <1fd798f40605311919o636bbb9k5b65dad85b8a0f0c@mail.gmail.com>
	<447E5406.9010408@mapgears.com>
Message-ID: <447E5A2A.2060105@pobox.com>

Daniel Morissette wrote:
> This may be related to a bug in the MITAB library which is used by OGR 
> to read/write TAB files:
> http://bugzilla.maptools.org/show_bug.cgi?id=1319#c7
> See also:
> http://bugzilla.maptools.org/show_bug.cgi?id=1254
> 
> Perhaps try rebuilding gdal/ogr/ogrsf_frmts/mitab with 
> -DMITAB_AFFINE_PARAMS (and then relink ogr2ogr) and see if the crash 
> goes away.

Daniel,

Should I be changing GDAL to build mitab this way?  Is there a reason this
isn't the default?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Wed May 31 23:30:05 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:11 2007
Subject: [Gdal-dev] NITF JPEG Compression
Message-ID: <447E5F3D.6010504@pobox.com>

Folks,

I have committed preliminary support to the GDAL NITF driver for JPEG
(C3) compressed images.  This includes "single blocked" (one big tile) and
multi-blocked images.  It only works for 8bit, not 12/16 bit images.  It
does not (as far as I understand it) support lossly compressed jpeg.  The
support is read-only, not for export.

I am interested in reports of problems with the support.

As part of this effort the JPEG driver now supports a "JPEG_SUBFILE" mechanism
where it can be targetted at a particular portion of another file.

I would like to thank Steve Rawlinson and Her Majesty the Queen in right of
Canada (aka the Canadian Department of National Defense) for some of the
code improvements, and ESRI for financial support to complete the work.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


