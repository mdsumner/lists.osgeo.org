From fengting.chen at oracle.com  Thu May  1 05:11:02 2025
From: fengting.chen at oracle.com (Fengting Chen)
Date: Thu, 1 May 2025 12:11:02 +0000
Subject: [gdal-dev] [External] : Re: Build failed with "cannot deduce
 template arguments" error
In-Reply-To: <a74b1d55-8258-4053-affe-f0ea575ea06c@spatialys.com>
References: <PH0PR10MB70616DD21AC2D687C06F6AE193802@PH0PR10MB7061.namprd10.prod.outlook.com>
 <11f84255-dad8-4820-a734-86c5c0ab8448@spatialys.com>
 <PH0PR10MB7061D51CCF43E006A8F9B85393832@PH0PR10MB7061.namprd10.prod.outlook.com>
 <a74b1d55-8258-4053-affe-f0ea575ea06c@spatialys.com>
Message-ID: <PH0PR10MB7061BED647252DB38B53CDCD93822@PH0PR10MB7061.namprd10.prod.outlook.com>

Verified that your change worked for my compiler. Thank you!

From: Even Rouault <even.rouault at spatialys.com>
Date: Wednesday, April 30, 2025 at 6:17?AM
To: Fengting Chen <fengting.chen at oracle.com>, gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Subject: Re: [External] : Re: [gdal-dev] Build failed with "cannot deduce template arguments" error

GCC 8 release notes indicate that C++17 support is still be a bit experimental for the standard library. Anyway, can you try https://github.com/OSGeo/gdal/pull/12231<https://urldefense.com/v3/__https:/github.com/OSGeo/gdal/pull/12231__;!!ACWV5N9M2RV99hQ!LLypbO_HDg16BnOo4IDARi1zrLUzkmyWhmjNTbwBoT0ieGdQEl9YHkmMpYB1ld6UKWExDemX6KdmuKiu28xp8Ye6fs7T$> ? I don't have access to your compiler so I couldn't check with it, but I'd assume it should make template deduction easier for the compiler.
Le 30/04/2025 ? 05:10, Fengting Chen a ?crit :
I am using ?c++ (GCC) 8.5.0 20210514 (Red Hat 8.5.0-18.0.6)? which is supposed to support C++17.

From: Even Rouault <even.rouault at spatialys.com><mailto:even.rouault at spatialys.com>
Date: Tuesday, April 29, 2025 at 6:10?PM
To: Fengting Chen <fengting.chen at oracle.com><mailto:fengting.chen at oracle.com>, gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org> <gdal-dev at lists.osgeo.org><mailto:gdal-dev at lists.osgeo.org>
Subject: [External] : Re: [gdal-dev] Build failed with "cannot deduce template arguments" error

Which compiler and compiler version do you use ? It is likely it is too old and doesn't fully support C++17
Le 29/04/2025 ? 23:18, Fengting Chen via gdal-dev a ?crit :
Hi, I am trying to build GDAL from the master branch, but got the following error:

[ 46%] Building CXX object alg/CMakeFiles/alg.dir/gdal_interpolateatpoint.cpp.o
In file included from /scratch/gdal/gdal/alg/gdal_interpolateatpoint.cpp:20:
/scratch/gdal/gdal/gcore/gdal_vectorx.h: In member function ?~@~Xgdal::         VectorX<T, N>::self_type gdal::VectorX<T, N>::operator+(T) const?~@~Y:
/scratch/gdal/gdal/gcore/gdal_vectorx.h:173:44: error: cannot deduce template   arguments for ?~@~Xplus?~@~Y from ()
          return operatorImpl(arg, std::plus());
                                             ^

My configuration is:
--   Target system:             Linux
--   Installation directory:    /usr/local
--   C++ Compiler type:         GNU
--   C compile command line:     /bin/cc
--   C++ compile command line:   /bin/c++
--
--   CMAKE_C_FLAGS:               -fvisibility=hidden
--   CMAKE_CXX_FLAGS:               -fvisibility=hidden
--   CMAKE_CXX17_STANDARD_COMPILE_OPTION:              -std=c++17
--   CMAKE_CXX17_EXTENSION_COMPILE_OPTION:              -std=gnu++17
--   CMAKE_EXE_LINKER_FLAGS:
--   CMAKE_MODULE_LINKER_FLAGS:               -Wl,--no-undefined
--   CMAKE_SHARED_LINKER_FLAGS:               -Wl,--no-undefined
--   CMAKE_STATIC_LINKER_FLAGS:

Any idea on how to fix the error?

Thanks!


_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev<https://urldefense.com/v3/__https:/lists.osgeo.org/mailman/listinfo/gdal-dev__;!!ACWV5N9M2RV99hQ!OOJ0fjd1DRqARN5Zwu2h2bUnGxx24Gm7BRrjicc_T6TOWw47z1fKS1DmrwT_3UWuTnrn2lyb2-GqSG_ErtSHw1UapGVT$>

--

http://www.spatialys.com<https://urldefense.com/v3/__http:/www.spatialys.com__;!!ACWV5N9M2RV99hQ!OOJ0fjd1DRqARN5Zwu2h2bUnGxx24Gm7BRrjicc_T6TOWw47z1fKS1DmrwT_3UWuTnrn2lyb2-GqSG_ErtSHw2hmL07K$>

My software is free, but my time generally not.

--

http://www.spatialys.com<https://urldefense.com/v3/__http:/www.spatialys.com__;!!ACWV5N9M2RV99hQ!LLypbO_HDg16BnOo4IDARi1zrLUzkmyWhmjNTbwBoT0ieGdQEl9YHkmMpYB1ld6UKWExDemX6KdmuKiu28xp8WvOW-ur$>

My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250501/4cce0550/attachment-0001.htm>

From andrew.bell.ia at gmail.com  Fri May  2 08:11:36 2025
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 2 May 2025 11:11:36 -0400
Subject: [gdal-dev] Search This Mailing List?
Message-ID: <CACJ51z1sX+4qYE_HTgAu2qLOrtnDhxF9hs_gGM=j5Fa7KLyC5g@mail.gmail.com>

Hi,

Is there an easy way to search the archives of this mailing list?

Thanks,

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250502/aa6cadf8/attachment.htm>

From dbaston at gmail.com  Fri May  2 08:25:03 2025
From: dbaston at gmail.com (Daniel Baston)
Date: Fri, 2 May 2025 11:25:03 -0400
Subject: [gdal-dev] Search This Mailing List?
In-Reply-To: <CACJ51z1sX+4qYE_HTgAu2qLOrtnDhxF9hs_gGM=j5Fa7KLyC5g@mail.gmail.com>
References: <CACJ51z1sX+4qYE_HTgAu2qLOrtnDhxF9hs_gGM=j5Fa7KLyC5g@mail.gmail.com>
Message-ID: <CA+K_q_rHp-EzCFWy8J6LbjGQVSTOmW_+EKtNWYKKVB2KMrfj2g@mail.gmail.com>

Hi Andrew,

Some ideas are discussed in this thread:
https://lists.osgeo.org/pipermail/gdal-dev/2024-August/059331.html

I wish it were easier.

Dan

On Fri, May 2, 2025 at 11:11?AM Andrew Bell via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> Hi,
>
> Is there an easy way to search the archives of this mailing list?
>
> Thanks,
>
> --
> Andrew Bell
> andrew.bell.ia at gmail.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250502/8dec2aa1/attachment.htm>

From jmckenna at gatewaygeomatics.com  Fri May  2 09:24:15 2025
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Fri, 2 May 2025 13:24:15 -0300
Subject: [gdal-dev] Search This Mailing List?
In-Reply-To: <CACJ51z1sX+4qYE_HTgAu2qLOrtnDhxF9hs_gGM=j5Fa7KLyC5g@mail.gmail.com>
References: <CACJ51z1sX+4qYE_HTgAu2qLOrtnDhxF9hs_gGM=j5Fa7KLyC5g@mail.gmail.com>
Message-ID: <254032b8-164f-4c47-9b55-b6f696d9ca9b@gatewaygeomatics.com>

Hi Andrew,

If my memory is correct, Matt & I enabled this archive search back in 
2021-ish: https://www.mail-archive.com/gdal-dev at lists.osgeo.org/

-jeff



-- 
Jeff McKenna
GatewayGeo: Developers of MS4W, & offering MapServer Consulting/Dev
co-founder of FOSS4G
http://gatewaygeo.com/




On 2025-05-02 12:11 p.m., Andrew Bell via gdal-dev wrote:
> Hi,
> 
> Is there an easy way to search the archives of this mailing list?
> 
> Thanks,
> 
> -- 
> Andrew Bell
> andrew.bell.ia at gmail.com <mailto:andrew.bell.ia at gmail.com>
>

From matt.gregory at oregonstate.edu  Fri May  2 09:57:27 2025
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Fri, 2 May 2025 16:57:27 +0000
Subject: [gdal-dev] setting PYTHONSO correctly on Windows for VRT pixel
 functions
Message-ID: <SJ0P222MB0487074C8A64653D482B62AB988D2@SJ0P222MB0487.NAMP222.PROD.OUTLOOK.COM>

Hi all,

I'm following the instructions for using Python pixel functions to create derived VRT bands here (https://gdal.org/en/stable/drivers/raster/vrt.html#using-derived-bands-with-pixel-functions-in-python).  

Based on the section for "Linking mechanism to a Python interpreter", I've tried the following:

  set PYTHONSO=python312.dll

and 

  set PYTHONSO=C:\Users\xxx\AppData\Local\Programs\Python\Python312\python312.dll

(Note that C:\Users\xxx\AppData\Local\Programs\Python\Python312 in in my PATH, so I thought the first would work).

Neither of these worked and I'm getting this message when running "gdalinfo -stats test.vrt"

ERROR 1: Cannot load C:\Users\gregorma\AppData\Local\Programs\Python\Python312\python312.dll

If I run this without PYTHONSO being set, I get:

ERROR 1: Cannot find python/libpython. You can set the PYTHONSO configuration option to point to the a python .so/.dll/.dylib

One possible complication is that I'm running this in a virtual environment, but as far as I'm aware the virtual environment has no separate DLL associated with it and relies on the base Python's DLL.  

Thanks for any advice on getting this set up correctly.

matt

From andrew.bell.ia at gmail.com  Fri May  2 12:21:27 2025
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Fri, 2 May 2025 15:21:27 -0400
Subject: [gdal-dev] OSX Dev Build
Message-ID: <CACJ51z3k1gvhYGQ4fFROKK4BvWesijEtmTgd4H5WAP56JDBDrw@mail.gmail.com>

Hi,

I'm trying to get an OSX dev build going against the current master branch
with test support. When I try to run the import as is being done by the CI
script, I get an error. It fails when trying to resolve
_CPLQuietWarningsErrorHandler, which I see is a new function. That function
is contained in the built libgdal.dylib:

(gdal.2) [issue-11533] $ nm libgdal.dylib | grep
_CPLQuietWarningsErrorHandler
00000000000292d0 T _CPLQuietWarningsErrorHandler

Any suggestions on resolution would be appreciated.

Here is the error:

(gdal.2) [issue-11533] $ DYLD_LIBRARY_PATH=/Users/abell/gdal/build
PYTHONPATH=/Users/abell/gdal/build/swig/python python3 -c "from osgeo
import gdal"
Traceback (most recent call last):
  File "/Users/abell/gdal/build/swig/python/osgeo/__init__.py", line 30, in
swig_import_helper
    return importlib.import_module(mname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File
"/Users/abell/miniconda3/envs/gdal.2/lib/python3.13/importlib/__init__.py",
line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in
_find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 921, in _load_unlocked
  File "<frozen importlib._bootstrap>", line 813, in module_from_spec
  File "<frozen importlib._bootstrap_external>", line 1320, in create_module
  File "<frozen importlib._bootstrap>", line 488, in
_call_with_frames_removed
ImportError: dlopen(/Users/abell/gdal/build/swig/python/osgeo/_
gdal.cpython-313-darwin.so, 0x0002): symbol not found in flat namespace
'_CPLQuietWarningsErrorHandler'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from osgeo import gdal
  File "/Users/abell/gdal/build/swig/python/osgeo/__init__.py", line 35, in
<module>
    _gdal = swig_import_helper()
  File "/Users/abell/gdal/build/swig/python/osgeo/__init__.py", line 32, in
swig_import_helper
    return importlib.import_module('_gdal')
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File
"/Users/abell/miniconda3/envs/gdal.2/lib/python3.13/importlib/__init__.py",
line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named '_gdal'

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250502/7c2c1c98/attachment.htm>

From even.rouault at spatialys.com  Fri May  2 15:15:42 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 3 May 2025 00:15:42 +0200
Subject: [gdal-dev] OSX Dev Build
In-Reply-To: <CACJ51z3k1gvhYGQ4fFROKK4BvWesijEtmTgd4H5WAP56JDBDrw@mail.gmail.com>
References: <CACJ51z3k1gvhYGQ4fFROKK4BvWesijEtmTgd4H5WAP56JDBDrw@mail.gmail.com>
Message-ID: <2a05f1cd-d91f-4c9d-8563-5158099130da@spatialys.com>

Andrew,

check the output of "otool -L 
/Users/abell/gdal/build/swig/python/osgeo/_gdal.cpython-313-darwin.so" 
to verify that it links against the libgdal.dylib you've built. M y 
assumption is that it links against an older version. The SONAME of 
libgdal has been bumped to 37 when 3.11beta1 has been cut, 2 weeks ago.

Even

Le 02/05/2025 ? 21:21, Andrew Bell via gdal-dev a ?crit?:
> Hi,
>
> I'm trying to get an OSX?dev build going against the current master 
> branch with test support. When I try to run the import as is being 
> done by the CI script, I get an error. It fails when trying to resolve 
> _CPLQuietWarningsErrorHandler, which I see is a new function. That 
> function is contained?in the built libgdal.dylib:
>
> (gdal.2) [issue-11533] $ nm libgdal.dylib | grep 
> _CPLQuietWarningsErrorHandler
> 00000000000292d0 T _CPLQuietWarningsErrorHandler
>
> Any suggestions on resolution would be appreciated.
>
> Here is the error:
>
> (gdal.2) [issue-11533] $ DYLD_LIBRARY_PATH=/Users/abell/gdal/build 
> PYTHONPATH=/Users/abell/gdal/build/swig/python python3 -c "from osgeo 
> import gdal"
> Traceback (most recent call last):
> ? File "/Users/abell/gdal/build/swig/python/osgeo/__init__.py", line 
> 30, in swig_import_helper
> ? ? return importlib.import_module(mname)
> ? ? ? ? ? ?~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
> ? File 
> "/Users/abell/miniconda3/envs/gdal.2/lib/python3.13/importlib/__init__.py", 
> line 88, in import_module
> ? ? return _bootstrap._gcd_import(name[level:], package, level)
> ?~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> ? File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
> ? File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
> ? File "<frozen importlib._bootstrap>", line 1331, in 
> _find_and_load_unlocked
> ? File "<frozen importlib._bootstrap>", line 921, in _load_unlocked
> ? File "<frozen importlib._bootstrap>", line 813, in module_from_spec
> ? File "<frozen importlib._bootstrap_external>", line 1320, in 
> create_module
> ? File "<frozen importlib._bootstrap>", line 488, in 
> _call_with_frames_removed
> ImportError: 
> dlopen(/Users/abell/gdal/build/swig/python/osgeo/_gdal.cpython-313-darwin.so 
> <http://gdal.cpython-313-darwin.so>, 0x0002): symbol not found in flat 
> namespace '_CPLQuietWarningsErrorHandler'
>
> During handling of the above exception, another exception occurred:
>
> Traceback (most recent call last):
> ? File "<string>", line 1, in <module>
> ? ? from osgeo import gdal
> ? File "/Users/abell/gdal/build/swig/python/osgeo/__init__.py", line 
> 35, in <module>
> ? ? _gdal = swig_import_helper()
> ? File "/Users/abell/gdal/build/swig/python/osgeo/__init__.py", line 
> 32, in swig_import_helper
> ? ? return importlib.import_module('_gdal')
> ? ? ? ? ? ?~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
> ? File 
> "/Users/abell/miniconda3/envs/gdal.2/lib/python3.13/importlib/__init__.py", 
> line 88, in import_module
> ? ? return _bootstrap._gcd_import(name[level:], package, level)
> ?~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> ModuleNotFoundError: No module named '_gdal'
>
> -- 
> Andrew Bell
> andrew.bell.ia at gmail.com
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250503/a4e9960c/attachment.htm>

From mdsumner at gmail.com  Sat May  3 20:09:15 2025
From: mdsumner at gmail.com (Michael Sumner)
Date: Sun, 4 May 2025 13:09:15 +1000
Subject: [gdal-dev] Search This Mailing List?
In-Reply-To: <CACJ51z1sX+4qYE_HTgAu2qLOrtnDhxF9hs_gGM=j5Fa7KLyC5g@mail.gmail.com>
References: <CACJ51z1sX+4qYE_HTgAu2qLOrtnDhxF9hs_gGM=j5Fa7KLyC5g@mail.gmail.com>
Message-ID: <CAAcGz9-6Gn=buO2hz_Z+qn+V9xppt2uEvGg4ebg-XFgcLxt65A@mail.gmail.com>

This archive is searchable, updates once a month I think:

https://github.com/mdsumner/lists.osgeo.org

On Sat, May 3, 2025, 01:25 Andrew Bell via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> Hi,
>
> Is there an easy way to search the archives of this mailing list?
>
> Thanks,
>
> --
> Andrew Bell
> andrew.bell.ia at gmail.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
Michael Sumner
Research Software Engineer
Australian Antarctic Division
Hobart, Australia
e-mail: mdsumner at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250504/47a1a4f4/attachment.htm>

