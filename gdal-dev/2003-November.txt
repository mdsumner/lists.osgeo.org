From fchen at ne.rsgs.ac.cn  Sat Nov  1 23:40:21 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] gdalwarp doesn't work on lcc
References: <010801c39e8c$28492c40$b76b4dc0@NovaTheGreat> <3FA2808F.8080101@pobox.com>
Message-ID: <003601c3a0fb$6cc28a30$b76b4dc0@NovaTheGreat>

Frank,

Yeah, if the warped.tif is already there, the gdalwarp will fail. All troubles are solved, if I try another name or delete the old one :)


----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam@pobox.com>
To: <gdal-dev@remotesensing.org>
Sent: Friday, October 31, 2003 11:32 PM
Subject: Re: [Gdal-dev] gdalwarp doesn't work on lcc


> Fu Chen wrote:
> > Hi!
> > GdalWarp doesn't work when i try to convert a image into lcc project.
> 
> 
> Fu Chen,
> 
> I made a quick effort to reproduce this problem and things seemed to work
> ok for me. I created a file intended to be similar to your source file in
> coordinate system at least:
> 
> warmerda@gdal2200[17]% gdalinfo chen.tif
> Driver: GTiff/GeoTIFF
> Size is 512, 512
> Coordinate System is:
> PROJCS["WGS 84 / UTM zone 51N",
>     GEOGCS["WGS 84",
>         DATUM["WGS_1984",
>             SPHEROID["WGS 84",6378137,298.2572235629972,
>                 AUTHORITY["EPSG","7030"]],
>             AUTHORITY["EPSG","6326"]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433],
>         AUTHORITY["EPSG","4326"]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["latitude_of_origin",0],
>     PARAMETER["central_meridian",123],
>     PARAMETER["scale_factor",0.9996],
>     PARAMETER["false_easting",500000],
>     PARAMETER["false_northing",0],
>     UNIT["metre",1,
>         AUTHORITY["EPSG","9001"]],
>     AUTHORITY["EPSG","32651"]]
> Origin = (440720.000000,3751320.000000)
> Pixel Size = (60.000000,-60.000000)
> Corner Coordinates:
> Upper Left  (  440720.000, 3751320.000) (122d21'31.79"E, 33d54'2.17"N)
> Lower Left  (  440720.000, 3720600.000) (122d21'39.20"E, 33d37'24.77"N)
> Upper Right (  471440.000, 3751320.000) (122d41'27.92"E, 33d54'6.78"N)
> Lower Right (  471440.000, 3720600.000) (122d41'31.50"E, 33d37'29.33"N)
> Center      (  456080.000, 3735960.000) (122d31'32.60"E, 33d45'46.17"N)
> Band 1 Block=512x16 Type=Byte, ColorInterp=Gray
> 
> Then ran:
> 
>  gdalwarp -t_srs "+proj=lcc +lon_0=110 +lat_0=10 +lat_1=25 +lat_2=47 +datum=WGS84" chen.tif warped.tif
> 
> Producing:
> 
> warmerda@gdal2200[18]% gdalinfo warped.tif
> Driver: GTiff/GeoTIFF
> Size is 576, 576
> Coordinate System is:
> PROJCS["unnamed",
>     GEOGCS["WGS 84",
>         DATUM["WGS_1984",
>             SPHEROID["WGS 84",6378137,298.2572235629972,
>                 AUTHORITY["EPSG","7030"]],
>             AUTHORITY["EPSG","6326"]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433],
>         AUTHORITY["EPSG","4326"]],
>     PROJECTION["Lambert_Conformal_Conic_2SP"],
>     PARAMETER["standard_parallel_1",25],
>     PARAMETER["standard_parallel_2",47],
>     PARAMETER["latitude_of_origin",10],
>     PARAMETER["central_meridian",110],
>     PARAMETER["false_easting",0],
>     PARAMETER["false_northing",0],
>     UNIT["metre",1,
>         AUTHORITY["EPSG","9001"]]]
> Origin = (1120036.822687,2770670.127441)
> Pixel Size = (58.977562,-58.977562)
> Corner Coordinates:
> Upper Left  ( 1120036.823, 2770670.127) (122d21'52.12"E, 33d56'14.27"N)
> Lower Left  ( 1120036.823, 2736699.052) (122d19'1.37"E, 33d37'41.24"N)
> Upper Right ( 1154007.898, 2770670.127) (122d44'6.91"E, 33d53'49.28"N)
> Lower Right ( 1154007.898, 2736699.052) (122d41'11.15"E, 33d35'16.83"N)
> Center      ( 1137022.361, 2753684.590) (122d31'32.89"E, 33d45'45.92"N)
> Band 1 Block=576x14 Type=Byte, ColorInterp=Gray
> 
> One interesting thing in your case was that the output file did *not* seem
> to have WGS84 as the GEOGCS/DATUM/ELLIPSOID.  That suggests there was some
> sort of problem parsing the LCC projection definition properly but I didn't
> seem to run into that.
> 
> Any chance the output file warped.tif already existed?  I remember some
> discussion of that as an issue in recent days, but I didn't dig into it
> at the time.
> 
> If the problem persists for you, I would appreciate your:
> 
>  o Verifying the problem with the latest GDAL from CVS.
>  o Submitting a bug report in bugzilla including a small input
>    file I can use.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev

From fchen at ne.rsgs.ac.cn  Sun Nov  2 08:00:34 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] trouble in mosaic by vrt
Message-ID: <005f01c3a141$4dc7ed00$b76b4dc0@NovaTheGreat>

Hi!
I try to masaic tens of images into a vrt. First turn them into same project for example lcc. This is okay by the help of Frank.
But I find it difficult to write the vrt because the distance between images are not the integer times of pixel size (tr x y in gdalwarp parameter). And in vrt, the Xoff Yoff should be integer. So I have to round the distance to integer times of pixel size. It's not precise, I think.
Is there a way that make upperleft point of each image generated from gdalwarp be the integer times of pixel size? That will make all Xoff, Yoff in vrt be really integer.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031102/a5c878f6/attachment.html
From warmerdam at pobox.com  Mon Nov  3 12:22:50 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Re: GDAL/OGR updates: configure and .cvsignore
In-Reply-To: <20031103184325.F2484@itc.it>
References: <20031103184325.F2484@itc.it>
Message-ID: <3FA68EEA.5060009@pobox.com>

Markus Neteler wrote:
> Frank,
> 
> find attached a few patches:
> 
> cvsignore_update.tar.gz
> - updates for *.lo 
>   (
>    ogr/ogrsf_frmts/o/.cvsignore
>    frmts/o/.cvsignore
>    apps/.cvsignore
>    frmts/hfa/.cvsignore
>    )
>   note: two files are new.

Markus,

I have committed the .cvsignore updates.  I see you were primarily
adding .lo files to the list.  I would suggest you add these to your
.cvsrc file as a more comprehensive approach.  For instance, my .cvsrc
reads:

update -I *.class -I *.lo -I .libs -I *.la

This ensures it ignores Java .class files, libtool .lo files, any
libtool .libs directories and any libtool .la files.

> - maybe more relevant:
> I have extended configure.in/aclocal.m4 to print out the configuration
> at end of the 'configure' run:
> [...]
> configure: creating ./config.status
> config.status: creating GDALmake.opt
> config.status: creating port/cpl_config.h
> config.status: port/cpl_config.h is unchanged
> 
> GDAL is now configured for i686-pc-linux-gnu
> 
>   Installation directory:    /usr/local/grass
>   C compiler:                gcc -O2
>   C++ compiler:              g++ -O2
> 
>   LIBTOOL support: yes
>   LIBZ support: yes
> 
>   GDAL formats:   aigrid bmp bsb ceos ceos2 dted elas envisat gdb gtiff gxf hdf4 hfa iso8211 jdem l1b mem nitf ogdi pcidsk pg raw sdts shapelib usgsdem vrt xpm
> 
>   OGR support:    yes
>   OGR formats:    avc dgn generic gml mem mitab ntf ogdi pg rec s57 sdts shape tiger
> 
> We have that in GRASS, it's also in R-stats and might be convenient
> also for GDAL/OGR.
> 
> Find attached the patches against CVS:
> diffs_aclocal.m4_configure.in.diff
> (configure.in and aclocal.m4)

This is a fantastic idea; however, I have a few concerns about the execution.
One problem is that the GDAL_FORMATS macro in GDALmake.opt isn't really a list
of drivers, but rather a list of directories to recurse into.  So, iso8211
for instance isn't a GDAL format at all.  On the other hand, all the "raw"
formats are missing.  These problems are shared by the "gdal-config --formats"
report which is also based on the GDALmake.opt GDAL_FORMATS list.

My other concern is that you have had to add alot of stuff in configure.in about
the various format options to generate the report.  My concern is that this is
going to be a bother to maintain, which means it likely won't be well maintained
and so it will be inaccurate.  (At least I know my own limitations!)

So, I like the idea of a summary report, and I am willing to commit the part
about the compiler, libtool support and so forth.  I am less keen to try and
report a full set of drivers at this point - for GDAL or OGR.  If we do choose
to report them, perhaps it should just be based on invoking the makefile with
a special option to report the drivers configured as the makefile knows them?
Then we don't have to maintain a big chunk of extra logic in the configure.in.

I am opening this up to broader input.  Thanks for the patches!

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Mon Nov  3 12:46:31 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] OGR Virtual Layers
Message-ID: <3FA69477.6070307@pobox.com>

Folks,

For a contract I have, I need to implement "Virtual OGR Datasources".  The
primary goal in this case is to allow a virtual OGR data source to use
an existing driver (such as the ODBC driver, or Oracle driver) to read
non-spatial tables, and select columns to use as X, and Y to return a
"spatial points" layer to an OGR application.

However, at the same time I am thinking about other things I would like
to accomplish with such a virtual datasource concept.

So far I have:
  * Assigning a coordinate system. (required)
  * Constructing geometry from x/y columns. (required)
  * Constructing geometry from WKT or WKB columns.
  * Using geometry directly from the source.
  * renaming, or subsetting columns list.
  * Assigning a layer geometry type.
  * Altering column types (string to int for instance), or precision information.
  * treating an SQL query on the source datasource as a table in the virtual layer.
  * memory or disk based caching.
  * virtual files should be openable from disk based XML config file, or an in memory
    XML definition.
  * pass through SetFeature and CreateFeature.
  * A method to create a virtual datasource cloning a real datasource.  This could
    then be hand edited to make minor changes in configuration.
  * The ability to control whether attribute and/or spatial queries are "passed
    through".

I am imagining virtual datasources being controlled by an XML configuration
file that might look something like this:

<OGR_VirtualDatabase>

     <OGR_VirtualLayer name="RootWormReports">

         <SourceDatasource>ODBC:guest/anonymous@agcan_main</SourceDatasource>
  	<SourceLayer>RootWormReports</SourceLayer>
	<GeometryType>Point</GeometryType>
	<GeometryField encoding="xy" x="ReportLong" y="ReportLat"/>
	<LayerSRS>GEOGCS...</LayerSRS>
     </OGR_VirtualLayer>

</OGR_VirtualDatabase>

In general, the idea is that the virtual datasource provides an opportunity to
"fix up" lots of things that aren't easily done within individual format
drivers.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From R.Beck at m4com.de  Mon Nov  3 14:14:27 2003
From: R.Beck at m4com.de (Reiner)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Error when using gdalinfo (ERROR 1: no system list, errno: 100)
Message-ID: <3FA6A913.6080808@m4com.de>

Hello List,

I try to use gdalinfo on one of the geotiff files from the geotiff 
example files (located in "samples1/spot/chicago/SP27GTIF.TIF"). When 
printing the corner coordinates, I get the message "ERROR 1: no system 
list, errno: 100" (see below for the complete output). This happens for 
other valid geotiff files as well.
Is this the normal behaviour or what is wrong here?

BTW, a "listgeo" on the same file prints the corner coordinates 
correctly ...

Here's some version info:
- gdal was build with the following configure options: "./configure 
--without-jasper"

 > gdalinfo --version
GDAL 1.1.9.0, released 2003/06/27
 > proj
Rel. 4.4.7, 31 March 2003

GeoTIFF: 1.2.0
TIFF: 3.6.0

Cheers
Reiner

--- snip begin ---
 > gdalinfo SP27GTIF.TIF
Driver: GTiff/GeoTIFF
Size is 699, 929
Coordinate System is:
PROJCS["NAD27 / Illinois East",
    GEOGCS["NAD27",
        DATUM["North_American_Datum_1927",
            SPHEROID["Clarke 1866",6378206.4,294.9786982138982,
                AUTHORITY["EPSG","7008"]],
            AUTHORITY["EPSG","6267"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4267"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",36.66666666666666],
    PARAMETER["central_meridian",-88.33333333333333],
    PARAMETER["scale_factor",0.999975],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["US survey foot",0.3048006096012192,
        AUTHORITY["EPSG","9003"]],
    AUTHORITY["EPSG","26771"]]
Origin = (681480.000000,1913050.000000)
Pixel Size = (32.800000,-32.800000)
Corner Coordinates:
ERROR 1: no system list, errno: 100

Upper Left  (  681480.000, 1913050.000)
ERROR 1: no system list, errno: 100

Lower Left  (  681480.000, 1882578.800)
ERROR 1: no system list, errno: 100

Upper Right (  704407.200, 1913050.000)
ERROR 1: no system list, errno: 100

Lower Right (  704407.200, 1882578.800)
ERROR 1: no system list, errno: 100

Center      (  692943.600, 1897814.400)
Band 1 Block=699x11 Type=Byte, ColorInterp=Gray
--- snip end ---



From TMitchell at lignum.com  Mon Nov  3 14:57:17 2003
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] OGR Virtual Layers
In-Reply-To: <3FA69477.6070307@pobox.com>
Message-ID: <OFB896E945.A1FD40A7-ON88256DD3.006D6C2E-88256DD3.006D9CA6@lignum.com>





Frank, this sounds like a good project.  I can see already how it could
really help, especially for some simple Mapserver applications.  It
overlaps a bit with the GPS coordinate -> PostGIS module I've been working
on.

I'm looking forward to it.

Tyler

gdal-dev-admin@remotesensing.org wrote on 11/03/2003 09:46:31 AM:

> Folks,
>
> For a contract I have, I need to implement "Virtual OGR Datasources".
The
> primary goal in this case is to allow a virtual OGR data source to use
> an existing driver (such as the ODBC driver, or Oracle driver) to read
> non-spatial tables, and select columns to use as X, and Y to return a
> "spatial points" layer to an OGR application.
>
> However, at the same time I am thinking about other things I would like
> to accomplish with such a virtual datasource concept.
>
> So far I have:
>   * Assigning a coordinate system. (required)
>   * Constructing geometry from x/y columns. (required)
>   * Constructing geometry from WKT or WKB columns.
>   * Using geometry directly from the source.
>   * renaming, or subsetting columns list.
>   * Assigning a layer geometry type.
>   * Altering column types (string to int for instance), or precision
> information.
>   * treating an SQL query on the source datasource as a table in the
> virtual layer.
>   * memory or disk based caching.
>   * virtual files should be openable from disk based XML config
> file, or an in memory
>     XML definition.
>   * pass through SetFeature and CreateFeature.
>   * A method to create a virtual datasource cloning a real
> datasource.  This could
>     then be hand edited to make minor changes in configuration.
>   * The ability to control whether attribute and/or spatial queries
> are "passed
>     through".
>
> I am imagining virtual datasources being controlled by an XML
configuration
> file that might look something like this:
>
> <OGR_VirtualDatabase>
>
>      <OGR_VirtualLayer name="RootWormReports">
>
>
<SourceDatasource>ODBC:guest/anonymous@agcan_main</SourceDatasource>
>      <SourceLayer>RootWormReports</SourceLayer>
>    <GeometryType>Point</GeometryType>
>    <GeometryField encoding="xy" x="ReportLong" y="ReportLat"/>
>    <LayerSRS>GEOGCS...</LayerSRS>
>      </OGR_VirtualLayer>
>
> </OGR_VirtualDatabase>
>
> In general, the idea is that the virtual datasource provides an
opportunity to
> "fix up" lots of things that aren't easily done within individual format
> drivers.
>
> Best regards,
>
> --
>
---------------------------------------+--------------------------------------

> I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Mon Nov  3 15:44:39 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Error when using gdalinfo (ERROR 1: no system list,
 errno: 100)
In-Reply-To: <3FA6A913.6080808@m4com.de>
References: <3FA6A913.6080808@m4com.de>
Message-ID: <3FA6BE37.50707@pobox.com>

Reiner wrote:
> Hello List,
> 
> I try to use gdalinfo on one of the geotiff files from the geotiff 
> example files (located in "samples1/spot/chicago/SP27GTIF.TIF"). When 
> printing the corner coordinates, I get the message "ERROR 1: no system 
> list, errno: 100" (see below for the complete output). This happens for 
> other valid geotiff files as well.
> Is this the normal behaviour or what is wrong here?
> 
> BTW, a "listgeo" on the same file prints the corner coordinates 
> correctly ...
> 
> Here's some version info:
> - gdal was build with the following configure options: "./configure 
> --without-jasper"
> 
>  > gdalinfo --version
> GDAL 1.1.9.0, released 2003/06/27
>  > proj
> Rel. 4.4.7, 31 March 2003
> 
> GeoTIFF: 1.2.0
> TIFF: 3.6.0
> 
> Cheers
> Reiner

Reiner,

I would guess that GDAL isn't finding some of the EPSG support files it
needs to translate the projection in question.  While gdalinfo may
report 1.1.9.0, this version information is also produced by version of
GDAL built directly from CVS (since the VERSION file is only updated during
releases).

I have tried this file with gdalinfo built from CVS and things seem to
work fine:

warmerda@remotesensing% ~/lusr/bin/gdalinfo SP27GTIF.TIF
Driver: GTiff/GeoTIFF
Size is 699, 929
Coordinate System is:
PROJCS["NAD27 / Illinois East",
     GEOGCS["NAD27",
         DATUM["North_American_Datum_1927",
             SPHEROID["Clarke 1866",6378206.4,294.9786982138982,
                 AUTHORITY["EPSG","7008"]],
             AUTHORITY["EPSG","6267"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4267"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",36.66666666666666],
     PARAMETER["central_meridian",-88.33333333333333],
     PARAMETER["scale_factor",0.999975],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",0],
     UNIT["US survey foot",0.3048006096012192,
         AUTHORITY["EPSG","9003"]],
     AUTHORITY["EPSG","26771"]]
Origin = (681480.000000,1913050.000000)
Pixel Size = (32.800000,-32.800000)
Metadata:
   TIFFTAG_XRESOLUTION=72
   TIFFTAG_YRESOLUTION=72
   TIFFTAG_RESOLUTIONUNIT=1 (unitless)
Corner Coordinates:
Upper Left  (  681480.000, 1913050.000) ( 87d39'59.59"W, 41d55'1.56"N)
Lower Left  (  681480.000, 1882578.800) ( 87d40'2.72"W, 41d50'0.54"N)
Upper Right (  704407.200, 1913050.000) ( 87d34'56.36"W, 41d54'59.69"N)
Lower Right (  704407.200, 1882578.800) ( 87d34'59.88"W, 41d49'58.67"N)
Center      (  692943.600, 1897814.400) ( 87d37'29.64"W, 41d52'30.14"N)
Band 1 Block=699x11 Type=Byte, ColorInterp=Gray

Try forcing the GDAL_DATA and/or GEOTIFF_CSV environment variables to point
to where your EPSG csv files are sitting - or just upgrade to a nightly
snapshot of GDAL.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From afinley at gis.umn.edu  Mon Nov  3 18:15:46 2003
From: afinley at gis.umn.edu (Andrew Finley)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Help changing raster data type
Message-ID: <1067901346.22979.94.camel@populus>

Hello,
I am very new to programing and to the gdal lib. I am just manipulating
the values in a copy of an erdas image, and want this copied image to
have a different data type (IEEE 32bit float or the gdal equivalent). I
think I need to change one of the optional values in the createcopy()
but not sure which one, or if this is even the right track. Please see a
piece of my code below:


//get the driver
GDALDriver *poDriver;
poDriver = poDataset->GetDriver();

//name the output
GDALDataset *poDstDS;
const char **papszOptions = NULL;

//I know this is not right
papszOptions = CSLSetNameValue( papszOptions, "GDALDataType",
"GDT_Float32" );

//make output image
poDstDS = poDriver->CreateCopy( "p27_test_1band_signed16bit_out.img",
poDataset, FALSE, papzOptions, NULL, NULL);

if( poDstDS == NULL )
delete poDstDS;
...



I will appreciate any suggestion.
Regards-
andy 

-- 
Andrew Finley, Research Fellow
Department of Forest Resources
College of Natural Resources           
University of Minnesota
305 Green Hall
1530 Cleveland Avenue N.
St. Paul, MN 55108

Ph 612-624-1714 office
www.cnr.umn.edu/FR/people/facstaff/finley/index.html

From fchen at ne.rsgs.ac.cn  Mon Nov  3 20:42:21 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] mosaic by vrt
Message-ID: <013101c3a274$e40896a0$b76b4dc0@NovaTheGreat>

Hi!
I didn't know whether you read the last email I sent. Maybe something wrong in the language coding. I can't read it in the archive of GDAL.
I try to mosaic tens of images into a vrt. First turn them into same project for example lcc. This is okay by the help of Frank.
But I find it difficult to write the vrt because the distance between images are not the integer times of pixel size (tr x y in gdalwarp parameter). And in vrt, the Xoff Yoff should be integer. So I have to round the distance to integer times of pixel size. It's not precise, I think.
Is there a way that make upperleft point of each image generated from gdalwarp be the integer times of pixel size? That will make all Xoff, Yoff in vrt be really integer.
In fact, I have tried to use -te to set the georeferenced extents. But i have to gdalinfo from the first generated tiff and set the -te manually to get what i want. So the process include gdalwarp twice and some manualcalculation (although it can program by a script). 
I think the best way is add a switch in galwarp command line parameter, make it generate right image what I want in once.
BTW, is it possible to make vrt accept the double as xoff and yoff? That will images in same project mosaic without other additional work.
Any suggestion?

Best regards

Fu CHEN


From byronea at u.washington.edu  Tue Nov  4 00:43:55 2003
From: byronea at u.washington.edu (Byron Amerson)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] more compile issues...
Message-ID: <Pine.A41.4.58.0311011004460.35664@dante11.u.washington.edu>

Hello again,

Thanks Frank, that was indeed the solution to that issue.

please forgive my novice questions here - If this is not the appropriate
forum I would appreciate redirection to the right place,  that being said
I am going to proceed with some questions...thanks.

On a mac running os 10.3.

I have two issues.  The first concerns python.  I used fink to install
python2.3 and numeric.  these live in the directory /sw as opposed to
/usr/local - how can I get gdal to recognize this?  I have had no luck
with the --with-pymoddir modifier for configure. I ended up ditching
python - which I'd rather not do - I am trying to learn this stuff...

second then is an error message from make.  here is how my configure
command looks(note I have many of these libs in /usr/lib and in /sw/lib
but chose to use the stuff included with gdal):

sudo ./configure --with-libz=internal --with-png=internal
-with-libtiff=internal --with-geotiff=internal --with-jpeg=internal
--with-gif=internal --with-pg=/usr/local/pgsql/bin/pg_config
--without-python

and here is the error message:

lots of output above...
ranlib ./gdal.a
ranlib: file: ./gdal.a(pnggccrd.o) has no symbols
ranlib: file: ./gdal.a(pngvcrd.o) has no symbols
ranlib: file: ./gdal.a(tif_pixarlog.o) has no symbols
ranlib: file: ./gdal.a(cpl_vsil_unix_stdio_64.o) has no symbols
make ./libgdal.1.1.dylib
gcc -dynamiclib  ./frmts/o/*.o ./gcore/*.o ./port/*.o ./alg/*.o
./ogr/ogrct.o ./ogr/ogr_opt.o ./ogr/ogr_fromepsg.o
./ogr/ogr_srs_validate.o ./ogr/ogrutils.o ./ogr/ogr_srs_proj4.o
./ogr/ograssemblepolygon.o ./ogr/ogr_api.o
./ogr/ogrsf_frmts/generic/ogrregisterall.o ./ogr/ogrfeaturestyle.o
./ogr/ogrsf_frmts/ogrsf_frmts.a -L/usr/local/pgsql/lib -lpq  ./gdal.a
./ogr/ogr.a ./gdal.a ./port/cpl.a -lm -ldl -lm \
        -o ./libgdal.1.1.dylib
ld: Undefined symbols:
vtable for __cxxabiv1::__class_type_info
vtable for __cxxabiv1::__si_class_type_info
operator delete(void*)
operator new(unsigned long)
___gxx_personality_v0
operator delete[](void*)
operator new[](unsigned long)
___cxa_pure_virtual
vtable for __cxxabiv1::__vmi_class_type_info
/usr/bin/libtool: internal link edit command failed
make[1]: *** [libgdal.1.1.dylib] Error 1
make: *** [check-lib] Error 2


any help is very much appreciated.

Byron Amerson
MS student
University of Washington
Department of Earth and Space Sciences

From RWinkler at DEFiNiENS.com  Tue Nov  4 08:39:44 2003
From: RWinkler at DEFiNiENS.com (Winkler, Roland)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Bug in BMP driver?
Message-ID: <023814FAC196D5119E4A00D0B76C0F98C7D040@mmuc.definiens.com>

Hi,

I have problems reading a 32 bit RGB Windows Bitmap (type BMPC_RGB). I
changed the ::IReadblock for 32 bit bitmaps and it worked afterwards:

CPLErr BMPRasterBand::IReadBlock::IReadBlock()
{
...
old:
    
    if ( poGDS->sInfoHeader.iBitCount == 24 ||
         poGDS->sInfoHeader.iBitCount == 32 )
    {
        for ( i = 0, j = 0; i < nBlockXSize; i++ )
        {
            // Colour triplets in BMP file organized in reverse order:
            // blue, green, red
            ((GByte *) pImage)[i] = pabyScan[j + iBytesPerPixel - nBand];
            j += iBytesPerPixel;
        }
    }
new:
    if ( poGDS->sInfoHeader.iBitCount == 24 )
    	.. like before
    else if ( poGDS->sInfoHeader.iBitCount == 32 )
    {
        for ( i = 0, j = 0; i < nBlockXSize; i++ )
        {
            ((GByte *) pImage)[i] = pabyScan[j + iBytesPerPixel - nBand -
1];
            j += iBytesPerPixel;
        }
    }
...
}
the reason for the -1 in the 32 bit case:
in 24 bit case for each pixel the array pabyScan looks like [BGR] pImage is
assigned [RGB]
the implementation for 32 implies that the order of pabyScan is [ABGR], but
I think it should be [BGRA].
I'm not quite sure about it, because I have only one 32 bit bitmap and I
couldn't produce another example.

Has anybody else problems with 32 bit .bmp's, or is my .bmp corrupt?

Thanks
Roland

_________________________________
 
Roland Winkler,
Software Development
 
Definiens AG
Trappentreustrasse 1
D-80339 Munich
 
Fon: +49 (0)89 - 231180 - 56
Fax: +49 (0)89 - 231180 - 90
 
mailto:rwinkler@definiens.com <mailto:rwinkler@definiens.com> 
http://www.definiens.com <http://www.definiens.com/> 
_________________________________

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031104/33bc28bc/attachment.html
From warmerdam at pobox.com  Tue Nov  4 09:05:25 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] more compile issues...
In-Reply-To: <Pine.A41.4.58.0311011004460.35664@dante11.u.washington.edu>
References: <Pine.A41.4.58.0311011004460.35664@dante11.u.washington.edu>
Message-ID: <3FA7B225.7070305@pobox.com>

Byron Amerson wrote:
> Hello again,
> 
> Thanks Frank, that was indeed the solution to that issue.
> 
> please forgive my novice questions here - If this is not the appropriate
> forum I would appreciate redirection to the right place,  that being said
> I am going to proceed with some questions...thanks.
> 
> On a mac running os 10.3.
> 
> I have two issues.  The first concerns python.  I used fink to install
> python2.3 and numeric.  these live in the directory /sw as opposed to
> /usr/local - how can I get gdal to recognize this?  I have had no luck
> with the --with-pymoddir modifier for configure. I ended up ditching
> python - which I'd rather not do - I am trying to learn this stuff...

Byron,

Generally speaking the location information for where to find python
libraries and include files is determined by querying the python
executable itself.  If you want to point it at a particular python
instance you might be able to do something like:

   configure --with-python=/sw/bin/python

Configure then runs the python executable with various python scripts
trying to figure out where to find stuff.  The --with-pymoddir is used
to override where the output python scripts and loadable modules should
be placed ... used primarily if you don't have permission to write in
the standard location.

That said, you may be running into more esoteric issues.  In theory
the python stuff should work even without pointing configure at the
python executable if it is in your PATH.

> second then is an error message from make.  here is how my configure
> command looks(note I have many of these libs in /usr/lib and in /sw/lib
> but chose to use the stuff included with gdal):
...
> vtable for __cxxabiv1::__class_type_info
> vtable for __cxxabiv1::__si_class_type_info
> operator delete(void*)
> operator new(unsigned long)
> ___gxx_personality_v0
> operator delete[](void*)
> operator new[](unsigned long)
> ___cxa_pure_virtual
> vtable for __cxxabiv1::__vmi_class_type_info
> /usr/bin/libtool: internal link edit command failed
> make[1]: *** [libgdal.1.1.dylib] Error 1
> make: *** [check-lib] Error 2

The problem here is that gcc is being used to link instead of g++ so the
C++ libraries are not being included.  You can edit GDALmake.opt after
configuring to change LD_SHARED to "g++ -dynamiclib".  What version of GDAL
are you working with?

If it is 1.1.9 or earlier, I would suggest you download and try with a nightly
snapshot.  There has been some work recently on MacOS X support that might
make things run smoother for you.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Tue Nov  4 09:33:47 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Bug in BMP driver?
In-Reply-To: <023814FAC196D5119E4A00D0B76C0F98C7D040@mmuc.definiens.com>
References: <023814FAC196D5119E4A00D0B76C0F98C7D040@mmuc.definiens.com>
Message-ID: <3FA7B8CB.7010602@pobox.com>

Winkler, Roland wrote:
> Hi,
> 
> I have problems reading a 32 bit RGB Windows Bitmap (type BMPC_RGB). I 
> changed the ::IReadblock for 32 bit bitmaps and it worked afterwards:
...
> the reason for the -1 in the 32 bit case:
> in 24 bit case for each pixel the array pabyScan looks like [BGR] pImage 
> is assigned [RGB]
> the implementation for 32 implies that the order of pabyScan is [ABGR], 
> but I think it should be [BGRA].
> I'm not quite sure about it, because I have only one 32 bit bitmap and I 
> couldn't produce another example.
> 
> Has anybody else problems with 32 bit ..bmp's, or is my .bmp corrupt?

Roland,

Would it be possible for you to submit the suggested fix along with the sample
bmp demonstrating the problem in Bugzilla?

   http://bugzilla.remotesensing.org/enter_bug.cgi?product=GDAL

Then we can have Andrey verify your fix, and apply it.  I would also like to
add your 32bit BMP file to my test files.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From dev at spaceyes.fr  Tue Nov  4 10:45:37 2003
From: dev at spaceyes.fr (=?iso-8859-1?Q?Fr=E9d=E9ric_Trastour?=)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Bug in configure script when using with-geotiff
Message-ID: <05d101c3a2ea$b1a31d90$e32346c0@pili>

Hello,

I think there is a little bug in the configure script of gdal 1.1.9.

When I specify a "--with-geotiff" directory, this directory is not added to the include
directory list but the directory specified with "--with-libtiff" is added twice.

The problem is at line 4347 (and 4350 ) in the configure script ( the tiff dir is used
in place of the geotiff one ).

The related lines of the configure.in script are 331 & 334.

Perhaps this should be corrected in the next distrib ?

_________________________________________________________________
Fr?d?ric Trastour - SpacEyes - dev@spaceyes.fr



From dev at geoimage.fr  Tue Nov  4 10:49:04 2003
From: dev at geoimage.fr (=?iso-8859-1?Q?Fr=E9d=E9ric_Trastour?=)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Bug in configure script when using with-geotiff
Message-ID: <05ec01c3a2eb$2c8da340$e32346c0@pili>

Hello,

I think there is a little bug in the configure script of gdal 1.1.9.

When I specify a "--with-geotiff" directory, this directory is not added to the include
directory list but the directory specified with "--with-libtiff" is added twice.

The problem is at line 4347 (and 4350 ) in the configure script ( the tiff dir is used
in place of the geotiff one ).

The related lines of the configure.in script are 331 & 334.

Perhaps this should be corrected in the next distrib ?

_________________________________________________________________
Fr?d?ric Trastour - SpacEyes - dev@spaceyes.fr



From warmerdam at pobox.com  Tue Nov  4 11:07:05 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Bug in configure script when using with-geotiff
In-Reply-To: <05d101c3a2ea$b1a31d90$e32346c0@pili>
References: <05d101c3a2ea$b1a31d90$e32346c0@pili>
Message-ID: <3FA7CEA9.3060807@pobox.com>

Fr?d?ric Trastour wrote:
> Hello,
> 
> I think there is a little bug in the configure script of gdal 1.1.9.
> 
> When I specify a "--with-geotiff" directory, this directory is not added to the include
> directory list but the directory specified with "--with-libtiff" is added twice.
> 
> The problem is at line 4347 (and 4350 ) in the configure script ( the tiff dir is used
> in place of the geotiff one ).
> 
> The related lines of the configure.in script are 331 & 334.
> 
> Perhaps this should be corrected in the next distrib ?

Fr?d?ric,

The problem still existed in the dev source, so I have fixed it up.  The fix
will appear in the next release.

Thanks!

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From RWinkler at DEFiNiENS.com  Tue Nov  4 11:43:58 2003
From: RWinkler at DEFiNiENS.com (Winkler, Roland)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Bug in BMP driver?
Message-ID: <023814FAC196D5119E4A00D0B76C0F98C7D053@mmuc.definiens.com>

I was able to create a artifical .bmp where the behaviour is reproducable. I
submitted the bug with bug number 429 in bugzilla. Unfortunately I wasn't
able to create an attachment (SQL-Server got stuck somewhere). I will send
the sample with a seperate mail to you, Frank, please attach it to bug 429.
Everybody is free to do whatever he wants with this bitmap.

Best regards,
Roland

> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
> Sent: Dienstag, 4. November 2003 15:34
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] Bug in BMP driver?
> 
> 
> Winkler, Roland wrote:
> > Hi,
> > 
> > I have problems reading a 32 bit RGB Windows Bitmap (type 
> BMPC_RGB). I
> > changed the ::IReadblock for 32 bit bitmaps and it worked 
> afterwards:
> ...
> > the reason for the -1 in the 32 bit case:
> > in 24 bit case for each pixel the array pabyScan looks like [BGR] 
> > pImage
> > is assigned [RGB]
> > the implementation for 32 implies that the order of 
> pabyScan is [ABGR], 
> > but I think it should be [BGRA].
> > I'm not quite sure about it, because I have only one 32 bit 
> bitmap and I 
> > couldn't produce another example.
> > 
> > Has anybody else problems with 32 bit ..bmp's, or is my 
> .bmp corrupt?
> 
> Roland,
> 
> Would it be possible for you to submit the suggested fix 
> along with the sample bmp demonstrating the problem in Bugzilla?
> 
   http://bugzilla.remotesensing.org/enter_bug.cgi?product=GDAL

Then we can have Andrey verify your fix, and apply it.  I would also like to
add your 32bit BMP file to my test files.

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From jeanhri4 at ifrance.com  Wed Nov  5 04:04:51 2003
From: jeanhri4 at ifrance.com (jeanhri4@ifrance.com)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] OGR Virtual Layers
In-Reply-To: <3FA69477.6070307@pobox.com>
Message-ID: <000001c3a37b$dff73190$5100000a@informatiquemer.fr>

This project might be very useful.
For example to connect to data source generated from GPS knowing that
it's possible to connect to such data source via ODBC or ADO Driver
(Equivalent to text file).

Would you be interested to implement the following extra functionality?
-> Create Feature with line geometry from ordered set of points x,y ?

Indeed, a lot of data sources contains ordered points (as X,Y). To do
this, these points share a common FID (the Feature one) and an order
field (may be chronological or a given number).

For example: a Route made of Way Points. (Frequently used by GPS system)
GPS: WGS 84 - Lat(y) Lon(x) in Decimal Degree 

FID/ORDER/Y/X

1;1;10.25;50.5
1;2;10.35;51.5
1;3;11.00;52.5
2;1;10.25;55.5
2;2;15.25;59.5

Result-> Two Features FID = 1 with 3 points and FID = 2 with 2 Points.

The XML configuration could be 
<OGR_VirtualDatabase>

     <OGR_VirtualLayer name="RootWormReports">

 
<SourceDatasource>ODBC:guest/anonymous@agcan_main</SourceDatasource>
  	<SourceLayer>RootWormReports</SourceLayer>
	<GeometryType>Point</GeometryType>
	<GeometryField encoding="xy" x="ReportLong" y="ReportLat"/>
	<OrderingField encoding="order" order="ORDER"/>
	<LayerSRS>GEOGCS...</LayerSRS>
     </OGR_VirtualLayer>

</OGR_VirtualDatabase>

Jean.




-----Message d'origine-----
De?: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] De la part de Frank Warmerdam
Envoy??: lundi 3 novembre 2003 18:47
??: gdal-dev
Objet?: [Gdal-dev] OGR Virtual Layers

Folks,

For a contract I have, I need to implement "Virtual OGR Datasources".
The
primary goal in this case is to allow a virtual OGR data source to use
an existing driver (such as the ODBC driver, or Oracle driver) to read
non-spatial tables, and select columns to use as X, and Y to return a
"spatial points" layer to an OGR application.

However, at the same time I am thinking about other things I would like
to accomplish with such a virtual datasource concept.

So far I have:
  * Assigning a coordinate system. (required)
  * Constructing geometry from x/y columns. (required)
  * Constructing geometry from WKT or WKB columns.
  * Using geometry directly from the source.
  * renaming, or subsetting columns list.
  * Assigning a layer geometry type.
  * Altering column types (string to int for instance), or precision
information.
  * treating an SQL query on the source datasource as a table in the
virtual layer.
  * memory or disk based caching.
  * virtual files should be openable from disk based XML config file, or
an in memory
    XML definition.
  * pass through SetFeature and CreateFeature.
  * A method to create a virtual datasource cloning a real datasource.
This could
    then be hand edited to make minor changes in configuration.
  * The ability to control whether attribute and/or spatial queries are
"passed
    through".

I am imagining virtual datasources being controlled by an XML
configuration
file that might look something like this:

<OGR_VirtualDatabase>

     <OGR_VirtualLayer name="RootWormReports">

 
<SourceDatasource>ODBC:guest/anonymous@agcan_main</SourceDatasource>
  	<SourceLayer>RootWormReports</SourceLayer>
	<GeometryType>Point</GeometryType>
	<GeometryField encoding="xy" x="ReportLong" y="ReportLat"/>
	<LayerSRS>GEOGCS...</LayerSRS>
     </OGR_VirtualLayer>

</OGR_VirtualDatabase>

In general, the idea is that the virtual datasource provides an
opportunity to
"fix up" lots of things that aren't easily done within individual format
drivers.

Best regards,

-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev
_____________________________________________________________________
Envie de discuter en "live" avec vos amis ? T?l?charger MSN Messenger
http://www.ifrance.com/_reloc/m la 1?re messagerie instantan?e de France

_____________________________________________________________________
Envie de discuter en "live" avec vos amis ? T?l?charger MSN Messenger
http://www.ifrance.com/_reloc/m la 1?re messagerie instantan?e de France


From Silke.Reimer at intevation.de  Wed Nov  5 04:20:02 2003
From: Silke.Reimer at intevation.de (Silke Reimer)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] gdal in debian
Message-ID: <20031105092002.GB19191@intevation.de>


Hallo!

with help from Alessandro Amici, Frank Warmerdam, Paul Baker and my
debian sponsor Jochen Friedrich I was able to get gdal into debian. If
you would like to know more about the status of the gdal package in
debian please have a look at

	http://packages.qa.debian.org/g/gdal.html

If you experience any problems with the package please send a bug to
the debian bug tracker. I will then do my best to solve the problem.

Again many thanks to all those who helped me finish the package
especially Alessandro who mainly build the package.

Many greetings,

	Silke

-- 
Silke Reimer

Intevation GmbH                      http://intevation.de/
FreeGIS                                http://freegis.org/

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031105/e28af27d/attachment.bin
From alessandro_amici at telespazio.it  Wed Nov  5 04:54:19 2003
From: alessandro_amici at telespazio.it (Amici Alessandro)
Date: Wed Nov 21 11:48:58 2007
Subject: R: [Gdal-dev] gdal in debian
Message-ID: <7171FE1C83A6AE4DA93B80999588680797D3AA@ROMADG-MAIL01>

Silke,

> with help from Alessandro Amici, Frank Warmerdam, Paul Baker and my
> debian sponsor Jochen Friedrich I was able to get gdal into debian. If
> you would like to know more about the status of the gdal package in
> debian please have a look at
> 
> 	http://packages.qa.debian.org/g/gdal.html
> 
> If you experience any problems with the package please send a bug to
> the debian bug tracker. I will then do my best to solve the problem.
> 
> Again many thanks to all those who helped me finish the package
> especially Alessandro who mainly build the package.

that's great!

the road into sarge (the upcoming stable release of debian) is still
long, but we still have a chance to make it.

first problem: portability to all the debian architectures.

Andrey, on arm and powerpc we get the following error into the hdf4 driver:

make[3]: Entering directory `/build/buildd/gdal-1.2+cvs.031016/frmts/hdf4'
/bin/sh ../../libtool --mode=compile g++ -I../../port -I../../gcore
-I../../ogr -I/usr/include/hdf -Wall  -O2   -c -o ../o/hdf4dataset.o
hdf4dataset.cpp
 g++ -I../../port -I../../gcore -I../../ogr -I/usr/include/hdf -Wall -O2 -c
hdf4dataset.cpp  -fPIC -DPIC -o ../o/.libs/hdf4dataset.o
hdf4dataset.cpp: In member function `char** 
   HDF4Dataset::TranslateHDF4Attributes(long int, long int, char*, long int,

   long int, char**)':
hdf4dataset.cpp:763: error: invalid conversion from `int8*' to `const char*'
hdf4dataset.cpp:766: error: invalid conversion from `int8*' to `const char*'
make[3]: *** [../o/hdf4dataset.o] Error 1

if you so wish i can file a bug report.

cheers,
alessandro

From Silke.Reimer at intevation.de  Wed Nov  5 05:07:13 2003
From: Silke.Reimer at intevation.de (Silke Reimer)
Date: Wed Nov 21 11:48:58 2007
Subject: R: [Gdal-dev] gdal in debian
In-Reply-To: <7171FE1C83A6AE4DA93B80999588680797D3AA@ROMADG-MAIL01>
References: <7171FE1C83A6AE4DA93B80999588680797D3AA@ROMADG-MAIL01>
Message-ID: <20031105100713.GC19191@intevation.de>



On Wed, Nov 05, 2003 at 10:54:19AM +0100, Amici Alessandro wrote:
> 
> Silke,
> 
> > with help from Alessandro Amici, Frank Warmerdam, Paul Baker and my
> > debian sponsor Jochen Friedrich I was able to get gdal into debian. If
> > you would like to know more about the status of the gdal package in
> > debian please have a look at
> > 
> > 	http://packages.qa.debian.org/g/gdal.html
> > 
> > If you experience any problems with the package please send a bug to
> > the debian bug tracker. I will then do my best to solve the problem.
> > 
> > Again many thanks to all those who helped me finish the package
> > especially Alessandro who mainly build the package.
> 
> that's great!
> 
> the road into sarge (the upcoming stable release of debian) is still
> long, but we still have a chance to make it.
> 
> first problem: portability to all the debian architectures.
> 
> Andrey, on arm and powerpc we get the following error into the hdf4 driver:
> 
> make[3]: Entering directory `/build/buildd/gdal-1.2+cvs.031016/frmts/hdf4'
> /bin/sh ../../libtool --mode=compile g++ -I../../port -I../../gcore
> -I../../ogr -I/usr/include/hdf -Wall  -O2   -c -o ../o/hdf4dataset.o
> hdf4dataset.cpp
>  g++ -I../../port -I../../gcore -I../../ogr -I/usr/include/hdf -Wall -O2 -c
> hdf4dataset.cpp  -fPIC -DPIC -o ../o/.libs/hdf4dataset.o
> hdf4dataset.cpp: In member function `char** 
>    HDF4Dataset::TranslateHDF4Attributes(long int, long int, char*, long int,
> 
>    long int, char**)':
> hdf4dataset.cpp:763: error: invalid conversion from `int8*' to `const char*'
> hdf4dataset.cpp:766: error: invalid conversion from `int8*' to `const char*'
> make[3]: *** [../o/hdf4dataset.o] Error 1
> 
> if you so wish i can file a bug report.

Yes, go ahead. 

I won't have time to bother with this problem until Monday. But
surely I will need some help from somebody who is more familar with
arm and powerpc than me, so if you, Andrey have any suggestion this
would be great. 

Cheers,

	Silke

-- 
Silke Reimer

Intevation GmbH                      http://intevation.de/
FreeGIS                                http://freegis.org/

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031105/f82946c1/attachment.bin
From dron at ak4719.spb.edu  Wed Nov  5 16:14:12 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:58 2007
Subject: R: [Gdal-dev] gdal in debian
In-Reply-To: <7171FE1C83A6AE4DA93B80999588680797D3AA@ROMADG-MAIL01>
References: <7171FE1C83A6AE4DA93B80999588680797D3AA@ROMADG-MAIL01>
Message-ID: <20031105211412.GA9031@ak4719.spb.edu>

On Wed, Nov 05, 2003 at 10:54:19AM +0100, Amici Alessandro wrote:
> Andrey, on arm and powerpc we get the following error into the hdf4 driver:
> 
> make[3]: Entering directory `/build/buildd/gdal-1.2+cvs.031016/frmts/hdf4'
> /bin/sh ../../libtool --mode=compile g++ -I../../port -I../../gcore
> -I../../ogr -I/usr/include/hdf -Wall  -O2   -c -o ../o/hdf4dataset.o
> hdf4dataset.cpp
>  g++ -I../../port -I../../gcore -I../../ogr -I/usr/include/hdf -Wall -O2 -c
> hdf4dataset.cpp  -fPIC -DPIC -o ../o/.libs/hdf4dataset.o
> hdf4dataset.cpp: In member function `char** 
>    HDF4Dataset::TranslateHDF4Attributes(long int, long int, char*, long int,
> 
>    long int, char**)':
> hdf4dataset.cpp:763: error: invalid conversion from `int8*' to `const char*'
> hdf4dataset.cpp:766: error: invalid conversion from `int8*' to `const char*'
> make[3]: *** [../o/hdf4dataset.o] Error 1
> 
> if you so wish i can file a bug report.

Yes, it will be good to fill the report (put dron at remotesensing.org
in address field). Do you speaking about 1.1.9 release or about CVS
snapshot?

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From warszk at wp.pl  Thu Nov  6 08:46:05 2003
From: warszk at wp.pl (Michal)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] How to get georeferenced pixel?
Message-ID: <200311061446.05456.warszk@wp.pl>

Hi!
I think this is very simple question. I need to get pixel value, but I have 
lattitude and longitude and not row and column information. Image is in UTM 
but I know latlong info only. 
 
I hope somebody can help me.

Best regards,

Michal Ostrowski

From afinley at gis.umn.edu  Thu Nov  6 09:51:45 2003
From: afinley at gis.umn.edu (Andrew Finley)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] How to get georeferenced pixel?
In-Reply-To: <200311061446.05456.warszk@wp.pl>
References: <200311061446.05456.warszk@wp.pl>
Message-ID: <1068130305.6318.16.camel@populus>

Hi Michal,
Please find attached some c++ code that pulls utm (or anyother coord
system) point locations from a file, then picks the pixel values from an
stacked or unstacked image and writes the result to a file.  I just
wrote it yesterday and haven't had a chance to check it too much yet,
but it will get you started.  Let me know if you make any improvements.
cheers-
andy

there should be attached a parameter file, input file, and the .cpp file



On Thu, 2003-11-06 at 07:46, Michal wrote:
> Hi!
> I think this is very simple question. I need to get pixel value, but I have 
> lattitude and longitude and not row and column information. Image is in UTM 
> but I know latlong info only. 
>  
> I hope somebody can help me.
> 
> Best regards,
> 
> Michal Ostrowski
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
-- 
Andrew Finley, Research Fellow
Department of Forest Resources
College of Natural Resources           
University of Minnesota
305 Green Hall
1530 Cleveland Avenue N.
St. Paul, MN 55108

Ph 612-624-1714 office
www.cnr.umn.edu/FR/people/facstaff/finley/index.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdalGetPixelValue.cpp
Type: text/x-c++
Size: 4560 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031106/a1928a3a/gdalGetPixelValue.bin
-------------- next part --------------
27	8	137	596	1	463663.098	4942489.059
27	4	137	596	2	454563.098	434216.635
27	2	137	596	3	453564.774	4043361.771
27	5	137	596	4	452531.422	4146361.771
27	6	137	627	1	497850.059	4694674.833
-------------- next part --------------
COORD_FILE 	location_file
OUT_FILE	location_file_w_pixel_vals
COORD_FILE_ROWS	5
COORD_FILE_COLS 7
XCOORD_COLUMN	6
YCOORD_COLUMN	7
IMAGE_FILE	p27_ssf_stlouis_masked_single32float.img
From warmerdam at pobox.com  Thu Nov  6 10:23:57 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] How to get georeferenced pixel?
In-Reply-To: <200311061446.05456.warszk@wp.pl>
References: <200311061446.05456.warszk@wp.pl>
Message-ID: <3FAA678D.6030109@pobox.com>

Michal wrote:
> Hi!
> I think this is very simple question. I need to get pixel value, but I have 
> lattitude and longitude and not row and column information. Image is in UTM 
> but I know latlong info only. 
>  
> I hope somebody can help me.

Michal,

Not really that simple a question.  Andrew has posted a nice example
of reading invidual pixels based on the georeferenced location as long as
the georeferenced coordinate system is in the same coordinate system as the
image.  I would suggest you get that working smoothly, and then move on to
a step to reproject your lat/long locations into UTM.  Hopefully the OGR
Projections Tutorial will be helpful in this:

   http://www.remotesensing.org/gdal/ogr/osr_tutorial.html

You might also find the GDALInfoReportCorner() code in gdal/apps/gdalinfo.c
helpful.  That code goes the other way, from image georef coordinates (ie.
UTM) to lat/long but should show an example of deriving the lat/long
projection, creating a coordinate transformer, and then using it.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From byronea at u.washington.edu  Fri Nov  7 13:24:43 2003
From: byronea at u.washington.edu (Byron Amerson)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] continued build problems..
Message-ID: <Pine.A41.4.58.0311070941230.37418@dante12.u.washington.edu>

Once again, thank you Frank.  I have been follwing your suggestions and
learning quite a bit which is great.

None the less gdal refuse to build on my mac.  It can't seem to find
Numeric for one thing -

Using a nightly snapshot from a few days ago, here is my config command:

sudo ./configure --with-local=/usr/local/include/python2.3/Numeric
--with-libz=internal --with-png=internal --with-libtiff=internal
--with-geotiff=internal --with-jpeg=internal --with-gif=internal
--with-pg=/usr/local/pgsql/bin/pg_config

and the last few lines of the resulting output:

checking where .py files should go...
/usr/local/lib/python2.3/site-packages
checking for python headers... found
checking definitions from Python makefile... done
checking for NumPy include files... missing
checking if local/include already standard... no, everything is ok
configure: creating ./config.status
config.status: creating GDALmake.opt
config.status: creating port/cpl_config.

below is the output from make:

g++ -Wl,-bind_at_load  -o .libs/_gdalmodule.so -bundle  .libs/gdal_wrap.o
.libs/numpydataset.o .libs/gdalnumeric.o  -L/usr/local/pgsql/lib
-L/usr/local/include/python2.3/Numeric/lib ../.libs/libgdal.dylib -lm -ldl
-lpq -L/usr/local/src/gdal/gdal-cvs-031104/.libs
ld: warning -L: directory name (/usr/local/include/python2.3/Numeric/lib)
does not exist
ld: Undefined symbols:
_PyArg_Parse
_PyArg_ParseTuple
_PyDict_New
_PyDict_Next
_PyDict_SetItem
_PyDict_Type
_PyErr_Clear
_PyErr_SetString
_PyEval_CallObjectWithKeywords
_PyExc_MemoryError
_PyExc_NameError
_PyExc_TypeError
_PyExc_ValueError
_PyFloat_AsDouble
_PyFloat_FromDouble
_PyInt_AsLong
_PyInt_FromLong
_PyInt_Type
_PyList_New
_PyList_SetItem
_PyList_Size
_PyList_Type
_PyModule_GetDict
_PyString_AsString
_PyString_FromString
_PyString_FromStringAndSize
_PyString_Type
_PyType_IsSubtype
_PyType_Type
_Py_BuildValue
_Py_InitModule4
__Py_NoneStruct
make[1]: *** [_gdalmodule.la] Error 1
make: *** [py-module] Error 2

evidently --with-local=/usr/local/include/python2.3/Numeric is not the
correct modifier as it seems that make is looking for shared libs in the
above directory.  I was just attempting to get gdal to see where the
Numeric headers lived.

Incidentally - I completely rebuilt python2.3.2 and postgresql7.4beta5
When I ran make for postgres it griped that libpython was not shared so it
could not build the PLPYTHON bits.  I don't know if this (python shared
libs) is relevant.

I don't know how to proceed. It would be great to b using GRASS about
now...


Byron Amerson
MS student
University of Washington
Department of Earth and Space Sciences

From warmerdam at pobox.com  Fri Nov  7 13:40:13 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] continued build problems..
In-Reply-To: <Pine.A41.4.58.0311070941230.37418@dante12.u.washington.edu>
References: <Pine.A41.4.58.0311070941230.37418@dante12.u.washington.edu>
Message-ID: <3FABE70D.2080108@pobox.com>

Byron Amerson wrote:
> Once again, thank you Frank.  I have been follwing your suggestions and
> learning quite a bit which is great.
...
> Incidentally - I completely rebuilt python2.3.2 and postgresql7.4beta5
> When I ran make for postgres it griped that libpython was not shared so it
> could not build the PLPYTHON bits.  I don't know if this (python shared
> libs) is relevant.
> 
> I don't know how to proceed. It would be great to b using GRASS about
> now...

Bryon,

I don't have too much advice for you.  If you can provide ssh login access I
could try and work out the issues on your system, but it may be difficult.
I doubt the Numeric issue is at fault, but the fact that no python shared
library was found when building Postgres may well be related.

I would add that the _gdalmodule.so link on Linux (without libtool) looks
like this:

g++ -shared  gdal_wrap.o numpydataset.o gdalnumeric.o \
         -L.. -lgdal.1.1  -lclntsh -L/usr5/oracle/OraHome1/lib -lodbc -L/usr/local/lib -lxerces-c -ljasper 
-L/u/pkg/hdf-4.1r5-linux/lib -lmfhdf -ldf -logdi31 -lgif -ljpeg -lgeotiff -L/usr/local/lib -ltiff -lpng -lz -lpthread 
-lm -ldl  -lkdu -L/usr/local/pgsql/lib -lpq -L../.libs -o _gdalmodule.so

As you can see there is no attempt to link against a python library.  Things
depend on the python entry points (which your linker reports missing) at
runtime.  Clearly this mechanism isn't working on your system.  If you can
find a libpython.a, libpython.so or libpython.dynlib on your system you
could try forcing it to be linked in.

I would add a general point.  Past a certain point it isn't worth struggling
with the configure script anymore.  Just run it, and then fiddle with the
GDALmake.opt file.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From bmarchand at ara.com  Mon Nov 10 09:25:14 2003
From: bmarchand at ara.com (Brian Marchand)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] OGR geometry transform memory issue
Message-ID: <B3CB5AFD4126584AB4CF3DD45B267A530A8023@thorin.sed.ara.com>

Hello,

 

I found a crash in the OGR code due to freeing up the target
OGRSpatialReference object that is created by the
OGRCoordinateTransformation class when calling
OGRCreateCoordinateTransformation. The crash occurred when the geometry
transform method assigned the "target" OGRSpatialReference object that
was created by the transformation object. When I destroyed the
transformation object the OGRProj4CT destructor destroyed the
OGRSpatialReference and the geometry was then pointing to deleted
memory. The next time the geometry's SRS object was used I would get a
crash. 

 

It seems like the problem could be fixed two ways. Either the geometry
clones the OGRSpatialReference object instead of assigning it, or the
OGRCoordinateTransformation object looks at the reference count of the
target OGRSpatialReference object before deleting it. 

 

I'm using version 1.1.9 so I apologize if this has been reported and
fixed already. 

 

Brian 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031110/4f15c727/attachment.html
From warmerdam at pobox.com  Mon Nov 10 09:45:57 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] OGR geometry transform memory issue
In-Reply-To: <B3CB5AFD4126584AB4CF3DD45B267A530A8023@thorin.sed.ara.com>
References: <B3CB5AFD4126584AB4CF3DD45B267A530A8023@thorin.sed.ara.com>
Message-ID: <3FAFA4A5.70007@pobox.com>

Brian Marchand wrote:
> Hello,
> 
>  
> 
> I found a crash in the OGR code due to freeing up the target 
> OGRSpatialReference object that is created by the 
> OGRCoordinateTransformation class when calling 
> OGRCreateCoordinateTransformation. The crash occurred when the geometry 
> transform method assigned the ?target? OGRSpatialReference object that 
> was created by the transformation object. When I destroyed the 
> transformation object the OGRProj4CT destructor destroyed the 
> OGRSpatialReference and the geometry was then pointing to deleted 
> memory. The next time the geometry?s SRS object was used I would get a 
> crash.
> 
>  
> 
> It seems like the problem could be fixed two ways. Either the geometry 
> clones the OGRSpatialReference object instead of assigning it, or the 
> OGRCoordinateTransformation object looks at the reference count of the 
> target OGRSpatialReference object before deleting it.

Brian,

The correct approach would be to decrement and check the reference count
before destroying.  Cloning the coordinate system would be very expensive.
I will implement this in CVS and add a test to the testsuite.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From gagant at hotmail.com  Mon Nov 10 12:59:15 2003
From: gagant at hotmail.com (Gagan Tandon)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Build GDAL on windows using minGW
Message-ID: <BAY8-F73YuEuX2pzMvL0006f3b5@hotmail.com>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031110/255d311c/attachment.html
From nhv at cape.com  Mon Nov 10 13:39:08 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Build GDAL on windows using minGW
In-Reply-To: <BAY8-F73YuEuX2pzMvL0006f3b5@hotmail.com>
Message-ID: <EKEJIKAILPONGGENMBGAGECLFGAA.nhv@cape.com>

Gagan Tandon writes:
>
> I had received suggestions from Norman and Alessandro sometime back to use 
> either minGW or cygwin for building GDAL on windows without installing MS VC++ 
> (sorry for a delayed response, as I was up to something else..:-)..). 
> I have installed minGW/minSYS on my windows machine. But the usual build instructions 
> given on remotesensing.org/GDAL website for windows(or unix) do not work on the minSYS 
> interface. Obviously I am doing something wrong here. Does anybody has links/clues on 
> how to build GDAL using minGW/minSYS..?

Have installed the MSYS development tools
i.e do you have automake and friends installed

> I plan to use python 2.3 (for windows) to interact with GDAL.

I haven't tried building the python extension with MingW

FWIW - AFAIK precompiled  GDAL libraries to include the Python
extensions are included in the OpenEV Windows download

http://openev.sf.net

HTH

Norman 

From warmerdam at pobox.com  Mon Nov 10 13:34:40 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Build GDAL on windows using minGW
In-Reply-To: <BAY8-F73YuEuX2pzMvL0006f3b5@hotmail.com>
References: <BAY8-F73YuEuX2pzMvL0006f3b5@hotmail.com>
Message-ID: <3FAFDA40.80007@pobox.com>

Gagan Tandon wrote:
> Hi,
> 
> I had received suggestions from Norman and Alessandro sometime back to 
> use either minGW or cygwin for building GDAL on windows without 
> installing MS VC++ (sorry for a delayed response, as I was up to 
> something else..:-)..). I have installed minGW/minSYS on my windows 
> machine. But the usual build instructions given on 
> remotesensing.org/GDAL website for windows(or unix) do not work on the 
> minSYS interface. Obviously I am doing something wrong here. Does 
> anybody has links/clues on how to build GDAL using minGW/minSYS..?
> 
> I plan to use python 2.3 (for windows) to interact with GDAL.

Gagan,

Others may be able to be more specific.  If you used cygwin you would just
proceed with a normal unix style configure and build.  With MingW (not
really a supported build option) you would likely be best off installing
cygwin too, and using it to configure stuff (and for GNUmake), but modifying
the GDALmake.opt liberally to ensure it uses mingw's gcc.  Also, you may need
to make some changes in the port/cpl_config.h by hand.

I would suggest you get it working without Python before trying to tangle
with Python build and link issues.

Good luck,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From alessandro_amici at telespazio.it  Mon Nov 10 13:57:17 2003
From: alessandro_amici at telespazio.it (Amici Alessandro)
Date: Wed Nov 21 11:48:58 2007
Subject: R: [Gdal-dev] Build GDAL on windows using minGW
Message-ID: <7171FE1C83A6AE4DA93B809995886807A5E44F@ROMADG-MAIL01>

Gagan,

Frank said:
> Others may be able to be more specific.  If you used cygwin you would just
> proceed with a normal unix style configure and build.  With MingW (not
> really a supported build option) you would likely be best off installing
> cygwin too, and using it to configure stuff (and for GNUmake), but 
> modifying

last time i tried the standard configure build (unix) worked (mostly)
on minSYS as well.

but you need a recent cvs snapshot, not the 1.1.9 release.

> the GDALmake.opt liberally to ensure it uses mingw's gcc.  Also, you may 
> need
> to make some changes in the port/cpl_config.h by hand.

again, last time i checked no change was needed in order to build gdal.

> I would suggest you get it working without Python before trying to tangle
> with Python build and link issues.

i agree expecially because i don't think you get python with minSYS!

Gagan, i can try to help you more if you are more specific on what you
tried and what was the problem.

cheers,
alessandro

From fchen at ne.rsgs.ac.cn  Tue Nov 11 03:48:58 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] ceos and sar_ceos
Message-ID: <009001c3a830$a594e100$b76b4dc0@NovaTheGreat>

Hi!
I face a little trouble when I open one spot image. The GDALOpen take it as SAR_CEOS and get wrong image. If I bypass the SAR_CEOS driver in the loop in GDALOpen, it will recognized as CEOS successfully and interpret the data correctly. 
I don't have SAR data, and don't sure whether it is possible to replace the position of these two drivers in the driver list to get rid of this bug.


From fchen at ne.rsgs.ac.cn  Tue Nov 11 07:10:53 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] code to guess the pixels and lines of a raw image
Message-ID: <00a401c3a84c$dabd8460$b76b4dc0@NovaTheGreat>

This is a small script to guess the pixels and lines of a raw image. I think photoshop use the same engine, but more efficient. I hope this code will be useful for some pals. Enjoy!

/*==============================================================================

          ------------ Standard Info Tag -------------

    <  FILENAME >       GuessRaw.cpp
    < COPYRIGHT >       (C) 2003 - 2004, RSGS.
    <DESCRIPTION>       This cpp file includes the function to analyse the struct
      of Raw image and judge its best pixel line couple by the 
      relative value difference between the lines nearby.
    <  VERSION  >       1.0
    <  AUTHOR   >       Fu CHEN
    <   DATE    >       2003-11-02

         ------------ Modification Record ------------
    <DESCRIPTION>       Use short-cut method to speed the guess progress.
  <NOTE>       There is something can be done to guess the image with very
      few lines. We may select two the nearby scaning nLines and 
      divide into several parts, then compare the values in different part.
    <MODIFIER>          Fu CHEN
    <DATE>              2003-11-04

         ------------ Modification Record ------------
    <DESCRIPTION>       Add comments and do some modification on variable name.
    <MODIFIER>          Fu CHEN
    <DATE>              2003-11-08

==============================================================================*/

/*----- Includes ---------------------------*/
#include <stdio.h>
#include <math.h>
#include "cpl_port.h"
#include "cpl_conv.h"
#include "cpl_error.h"
#include "cpl_vsi.h"

/*----- Constants --------------------------*/
#define MAX_VALUE 256
/*----- Typedefs ---------------------------*/

/*----- Structures & Unions ----------------*/

/*----- Statics ----------------------------*/
int s_nLen;
int s_nRatio;
FILE * s_fin;

/*============================================================================*/
/*    ------ Function Bodies ------     */

/************************************************************************/
/*                             TestErr()                                */
/************************************************************************/

/**
 * This function compare the nearby scanlines to find out the average error
 * between the pixel value. The amount to exam is set by static global variable
 * s_nRatio. This function is low effience for it short of a shortcut algorithm
 * for in same situation we can know the guess is totally wrong by just watch the 
 * first few scanlines. This is implemented in TestErrShortCut().
 *
 * @param nPixels guessed number of pixels in the image.
 * @param nLines guessed number of scanlines in the image.
 * @return The average error between between the nearby scanlines
 */
double TestErr(int nPixels, int nLines)
{
 long lCount = 0;
 int nSamples = s_nLen * s_nRatio / 100 / nPixels;
 if (nSamples > 0)
 {
  GByte * a = new GByte[nPixels];
  GByte * b = new GByte[nPixels];
  for (int i = 0; i < nSamples; i++)
  {
   int j = (nLines-2) * i / nSamples; // 0..nLines-2, nLines-1
   VSIFSeek(s_fin, j*nPixels, SEEK_SET);
   VSIFRead(a, nPixels, 1, s_fin);
   VSIFSeek(s_fin, (j+1)*nPixels, SEEK_SET);
   VSIFRead(b, nPixels, 1, s_fin);
   for (int k = 0; k < nPixels; k++) 
    lCount += abs(a[k]-b[k]);
  }
  delete []a;
  delete []b;
  return 1.0 * lCount / ( nSamples * nPixels);
 }
 else
  return MAX_VALUE;
}

/************************************************************************/
/*                        TestErrShortCut()                             */
/************************************************************************/

/**
 * This function evolve form TestErr(). Add some shortcut to bypass the apperant 
 * wrong Guess candidate. 
 *
 * @param nPixels guessed number of pixels in the image.
 * @param nLines guessed number of scanlines in the image.
 * @param dMinNow the minimal error up to now.
 * @return the average error between between the nearby scanlines
 */
double TestErrShortCut(int nPixels, int nLines, double dMinNow)
{
 long lCount = 0;
 int nSamples = s_nLen * s_nRatio / 100 / nPixels;
 if (nSamples > 0)
 {
  GByte * a = new GByte[nPixels];
  GByte * b = new GByte[nPixels];
  int i;
  for (i = 0; i < nSamples/4; i++)
  {
   int j = (nLines-2) * i / nSamples; // 0..nLines-2, nLines-1
   VSIFSeek(s_fin, j*nPixels, SEEK_SET);
   VSIFRead(a, nPixels, 1, s_fin);
   VSIFSeek(s_fin, (j+1)*nPixels, SEEK_SET);
   VSIFRead(b, nPixels, 1, s_fin);
   for (int k = 0; k < nPixels; k++) 
    lCount += abs(a[k]-b[k]);
  }
  if (1.0 * lCount / ( nSamples * nPixels ) > dMinNow * 4)
   return MAX_VALUE;

  for (i = nSamples/4; i < nSamples/3; i++)
  {
   int j = (nLines-2) * i / nSamples; // 0..nLines-2, nLines-1
   VSIFSeek(s_fin, j*nPixels, SEEK_SET);
   VSIFRead(a, nPixels, 1, s_fin);
   VSIFSeek(s_fin, (j+1)*nPixels, SEEK_SET);
   VSIFRead(b, nPixels, 1, s_fin);
   for (int k = 0; k < nPixels; k++) 
    lCount += abs(a[k]-b[k]);
  }
  if (1.0 * lCount / ( nSamples * nPixels ) > dMinNow * 3)
   return MAX_VALUE;

  for (i = nSamples/3; i < nSamples/2; i++)
  {
   int j = (nLines-2) * i / nSamples; // 0..nLines-2, nLines-1
   VSIFSeek(s_fin, j*nPixels, SEEK_SET);
   VSIFRead(a, nPixels, 1, s_fin);
   VSIFSeek(s_fin, (j+1)*nPixels, SEEK_SET);
   VSIFRead(b, nPixels, 1, s_fin);
   for (int k = 0; k < nPixels; k++) 
    lCount += abs(a[k]-b[k]);
  }
  if (1.0 * lCount / ( nSamples * nPixels ) > dMinNow * 2)
   return MAX_VALUE;

  for (i = nSamples/2; i < nSamples; i++)
  {
   int j = (nLines-2) * i / nSamples; // 0..nLines-2, nLines-1
   VSIFSeek(s_fin, j*nPixels, SEEK_SET);
   VSIFRead(a, nPixels, 1, s_fin);
   VSIFSeek(s_fin, (j+1)*nPixels, SEEK_SET);
   VSIFRead(b, nPixels, 1, s_fin);
   for (int k = 0; k < nPixels; k++) 
    lCount += abs(a[k]-b[k]);
  }

  delete [] a;
  delete [] b;
  return 1.0 * lCount / ( nSamples * nPixels);
 }
 else
  return MAX_VALUE;
}

/************************************************************************/
/*                              Guess()                                 */
/************************************************************************/

/**
 * This function guess the best pixels-lines couple by exam the error
 * of each candidate by calling TestErr() or TestErrShortCut(). 
 *
 * @param dMin [in out] the minimal error of all candidates.
 * @param nPixels [out] the best candidate's pixels.
 * @param nLines [out] the best candidate's lines.
 */
void Guess(double& dMin, int& nPixels, int& nLines)
{
 int sq = (int)sqrt(s_nLen);
 for (int i = sq; i >= 2; i--)
 {
  if ( s_nLen % i == 0 )
  {
   int k = s_nLen / i;
   double dAveErr = TestErrShortCut(i, k, dMin);
   if (dAveErr < dMin)
   {
    dMin = dAveErr;
    nPixels = i;
    nLines = k;
   }
   CPLDebug("Guess", "Pixels = %d, Lines = %d, dMin = %f\n", i, k, dAveErr);
   dAveErr = TestErrShortCut(k, i, dMin);
   if (dAveErr < dMin)
   {
    dMin = dAveErr;
    nPixels = k;
    nLines = i;
   }
   CPLDebug("Guess", "Pixels = %d, Lines = %d, dMin = %f\n", k, i, dAveErr);
  }
 }
}

int main( int argc, char ** argv)
{
 if (argc < 2)
 {
  printf("GuessRaw <FileName> [ExamRatio nn%]\n");
  exit(1);
 }
 s_fin = VSIFOpen (argv[1], "rb");
 VSIFSeek (s_fin, 0, SEEK_END);
 s_nLen = VSIFTell (s_fin);

 double dMin;
 int nPixels, nLines;
 dMin = MAX_VALUE;
 
 if (argc >= 3)
  s_nRatio = atoi(argv[2]);
 else
  s_nRatio = 10; // for default, exam 10% of all content

 Guess(dMin, nPixels, nLines);
 if (dMin < MAX_VALUE)
  printf("Pixels = %d, Lines = %d, dMin = %f\n", nPixels, nLines, dMin);
 else
  printf("I don't think it is a matrix of image for its length is a prime number.\n");
 VSIFClose(s_fin);
 return 0;
}

/*----------------------------------------------------------------------------*/



From hi_ono2001 at ybb.ne.jp  Tue Nov 11 08:16:06 2003
From: hi_ono2001 at ybb.ne.jp (Hisaji Ono)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Error in building GDAL-CSV with jpeg option in MinGW
Message-ID: <008901c3a856$103023b0$818001db@webgis>

Hello.

In building GDAL-CVS(20031110) in MinGW with MSYS, I've got following error
message in JPEG's frmts.


./configure --with-libz=internal --with-png=internal --with-libtiff=internal
--with-geotiff-internal --without-jpeg --without-pg --without-python


../../jpeg/libjpeg/jmorecfg.h:161: conflicting types for `INT32'
c:/mingw/include/basetsd.h:52: previous declaration of `INT32'
tif_jpeg.c: In function `JPEGDecodeRaw':
tif_jpeg.c:820: warning: suggest parentheses around assignment used as truth
value
make[3]: *** [../../o/tif_jpeg.o] Error 1
make[3]: Leaving directory
`/home/Administrator/gdal-cvs-031110/frmts/gtiff/libtiff'
make[2]: *** [lib-tiff] Error 2
make[2]: Leaving directory `/home/Administrator/gdal-cvs-031110/frmts/gtiff'
make[1]: *** [gtiff-install-obj] Error 2
make[1]: Leaving directory `/home/Administrator/gdal-cvs-031110/frmts'
make: *** [frmts-target] Error 2

  Without JPEG(./configure ... --without-jpeg ...), I could complete this
building process.

 Could you give any suggestion to me?

 Regards.


From warmerdam at pobox.com  Tue Nov 11 09:03:03 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Error in building GDAL-CSV with jpeg option in MinGW
In-Reply-To: <008901c3a856$103023b0$818001db@webgis>
References: <008901c3a856$103023b0$818001db@webgis>
Message-ID: <3FB0EC17.4080000@pobox.com>

Hisaji Ono wrote:
> Hello.
> 
> In building GDAL-CVS(20031110) in MinGW with MSYS, I've got following error
> message in JPEG's frmts.
> 
> 
> ./configure --with-libz=internal --with-png=internal --with-libtiff=internal
> --with-geotiff-internal --without-jpeg --without-pg --without-python
> 
> 
> ../../jpeg/libjpeg/jmorecfg.h:161: conflicting types for `INT32'
> c:/mingw/include/basetsd.h:52: previous declaration of `INT32'
> tif_jpeg.c: In function `JPEGDecodeRaw':
> tif_jpeg.c:820: warning: suggest parentheses around assignment used as truth
> value
> make[3]: *** [../../o/tif_jpeg.o] Error 1
> make[3]: Leaving directory
> `/home/Administrator/gdal-cvs-031110/frmts/gtiff/libtiff'
> make[2]: *** [lib-tiff] Error 2
> make[2]: Leaving directory `/home/Administrator/gdal-cvs-031110/frmts/gtiff'
> make[1]: *** [gtiff-install-obj] Error 2
> make[1]: Leaving directory `/home/Administrator/gdal-cvs-031110/frmts'
> make: *** [frmts-target] Error 2
> 
>   Without JPEG(./configure ... --without-jpeg ...), I could complete this
> building process.

Hisaji,

I would suggest hand editing gdal/frmts/jpeg/libjpeg/jmorecfg.h's INT32
definition to match the one in mingw/include/basetsd.h and then recompile.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From hamdi_ines2003 at yahoo.fr  Mon Nov 10 04:41:26 2003
From: hamdi_ines2003 at yahoo.fr (=?iso-8859-1?q?hamdi=20ines?=)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] how read gml file with openev-fw
Message-ID: <20031110094126.53007.qmail@web14701.mail.yahoo.com>

hello,
my target is to read gml(geography markup lnguage)
file by grass57:
i have installed grass57 and to read gml file i have
installed openev-fw because it contains the library of
gdal, I try this using
ogr2ogr(bin_safe/ogr2ogr gml /rooi/cube.gml) the
result is : unable to open this file using the
following drivers:
tiger
gml
ntf
...
I try again using gdalinfo but the result is:
ERROR 200: Didn't parse through to #GRID successfully
in.
help me please to find the solution to succefully read
gml file.
thankyou

___________________________________________________________
Do You Yahoo!? -- Une adresse @yahoo.fr gratuite et en fran?ais !
Yahoo! Mail : http://fr.mail.yahoo.com

From rickb at genaware.com  Tue Nov 11 04:53:11 2003
From: rickb at genaware.com (Rick Buckley)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] gdaltindex in Lastest Gdal source tree
Message-ID: <3FB0B187.3080508@genaware.com>

Hi

I have built Gdal from the lastest source tree. All went ok ecept that I 
don't appear to have the gdaltindex program.

In the source tree within the apps directory there is a gdaltindex.c file.

Is this a common problem, does it have an easy work-around?

Any help would be much appreciated.

Kind Regards

-- 
Rick Buckley
Product Services Group
GenaWare Ltd
Phone: +44 (0) 161 9554400
Fax:   +44 (0) 161 9554305
www.genaware.com
____________________________________________

PRIVILEGED - PRIVATE AND CONFIDENTIAL

This email and any files transmitted with it are intended solely for the
use of the addressee(s) and may contain information which is
confidential or privileged. If you receive this email and you are not
the addressee (or responsible for delivery of the email to the
addressee), please disregard the contents of the email, delete the email
and notify the author immediately.

Before opening or using any attachments, please scan them for viruses
and defects. We do not accept any liability for loss or damage, which
may arise from your receipt of this e-mail. Our liability is limited to
re-supplying any affected attachments.



From warmerdam at pobox.com  Tue Nov 11 09:38:15 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] ceos and sar_ceos
In-Reply-To: <009001c3a830$a594e100$b76b4dc0@NovaTheGreat>
References: <009001c3a830$a594e100$b76b4dc0@NovaTheGreat>
Message-ID: <3FB0F457.2080309@pobox.com>

Fu Chen wrote:
> Hi! I face a little trouble when I open one spot image. The GDALOpen take it as SAR_CEOS and get wrong image. If I
> bypass the SAR_CEOS driver in the loop in GDALOpen, it will recognized as CEOS successfully and interpret the data
> correctly. I don't have SAR data, and don't sure whether it is possible to replace the position of these two drivers
> in the driver list to get rid of this bug.

Fu Chen,

Ideally I would like access to the dataset so that I could try and modify
the SAR_CEOS driver to skip it or handle it correctly.

However, the answer to your question is that you can modify the driver order.
Fetch the SAR_CEOS driver from the GDALDriverManager with the GetDriverByName()
method, and then use DeregisterDriver() to remove it from the manager, and
RegisterDriver() to register it again.  At that point it should appear at
the end of the list of drivers to try.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Tue Nov 11 09:49:28 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] gdaltindex in Lastest Gdal source tree
In-Reply-To: <3FB0B187.3080508@genaware.com>
References: <3FB0B187.3080508@genaware.com>
Message-ID: <3FB0F6F8.1090201@pobox.com>

Rick Buckley wrote:
> Hi
> 
> I have built Gdal from the lastest source tree. All went ok ecept that I 
> don't appear to have the gdaltindex program.
> 
> In the source tree within the apps directory there is a gdaltindex.c file.
> 
> Is this a common problem, does it have an easy work-around?
> 
> Any help would be much appreciated.

Rick,

Yes, the simple workaround is to cd into the apps directory and make it.

eg.
cd apps
make gdaltindex

or on windows

cd apps
nmake /f makefile.vc gdaltindex.exe

This is in fact such a common problem that I am finally going to add gdaltindex
to the default set of binaries build and installed with gdal even though it is
really only of use to mapserver users.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From schut at sarvision.com  Tue Nov 11 09:45:06 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] gdaltindex in Lastest Gdal source tree
In-Reply-To: <3FB0B187.3080508@genaware.com> (from rickb@genaware.com on Tue, Nov 11, 2003 at 10:53:11 +0100)
References: <3FB0B187.3080508@genaware.com>
Message-ID: <20031111144506.GI10797@lowresbox.lan>

On 2003.11.11 10:53, Rick Buckley wrote:
> Hi
> 
> I have built Gdal from the lastest source tree. All went ok ecept  
> that I don't appear to have the gdaltindex program.
> 
> In the source tree within the apps directory there is a gdaltindex.c  
> file.
> 
> Is this a common problem, does it have an easy work-around?

Not all gdal utilities get made by default. Go into the apps dir and  
type 'make gdaltindex' which should do the trick if I remember well.

Cheers,
Vincent.
> 
> Any help would be much appreciated.
> 
> Kind Regards
> 
>-- 
> Rick Buckley
> Product Services Group
> GenaWare Ltd
> Phone: +44 (0) 161 9554400
> Fax:   +44 (0) 161 9554305
> www.genaware.com
> ____________________________________________
> 
> PRIVILEGED - PRIVATE AND CONFIDENTIAL
> 
> This email and any files transmitted with it are intended solely for  
> the
> use of the addressee(s) and may contain information which is
> confidential or privileged. If you receive this email and you are not
> the addressee (or responsible for delivery of the email to the
> addressee), please disregard the contents of the email, delete the  
> email
> and notify the author immediately.
> 
> Before opening or using any attachments, please scan them for viruses
> and defects. We do not accept any liability for loss or damage, which
> may arise from your receipt of this e-mail. Our liability is limited  
> to
> re-supplying any affected attachments.
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 

From dron at ak4719.spb.edu  Tue Nov 11 10:59:05 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] code to guess the pixels and lines of a raw image
In-Reply-To: <00a401c3a84c$dabd8460$b76b4dc0@NovaTheGreat>
References: <00a401c3a84c$dabd8460$b76b4dc0@NovaTheGreat>
Message-ID: <20031111155905.GA18087@ak4719.spb.edu>

On Tue, Nov 11, 2003 at 08:10:53PM +0800, Fu Chen wrote:
> This is a small script to guess the pixels and lines of a raw image. I
> think photoshop use the same engine, but more efficient. I hope this
> code will be useful for some pals. Enjoy!

Fu Chen,

We are moving in the similar directions! Today I have commited the
guessing code in raw2tiff utility in the libtiff package. My method
utilizes statistical approach by the calculating correlation coefficient
between two lines at the image center. Of course, it is more
computations in that method, but it can give better results, I believe.

Though I think this is good for raw2tiff utility, I don't see the place
for such guessing in GDAL.

Everyone interesting in this code can fetch it from the libtiff CVS
repository:

 http://www.remotesensing.org/libtiff/

					Regards,
					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From byronea at u.washington.edu  Tue Nov 11 13:08:04 2003
From: byronea at u.washington.edu (Byron Amerson)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Re: continued build problems..
In-Reply-To: <Pine.A41.4.58.0311070941230.37418@dante12.u.washington.edu>
References: <Pine.A41.4.58.0311070941230.37418@dante12.u.washington.edu>
Message-ID: <Pine.A41.4.58.0311111002260.32672@dante58.u.washington.edu>

Frank,

Wanted to write and say thanks for all of your time.  I eventually
compiled without python, alas (after discovering some egregious errors I
had made - I needed to reinstall some of my os!!).  I snooped into the
GDALmake.opt and attempted to understand it, but to no avail.  It's simple
ignorance, with no reference I was in the dark.  I tried again with a snapshot
from last nite but no luck - the same errors as before.

Thanks again.

Byron Amerson
MS student
University of Washington
Department of Earth and Space Sciences

On Fri, 7 Nov 2003, Byron Amerson wrote:

> Once again, thank you Frank.  I have been follwing your suggestions and
> learning quite a bit which is great.
>
> None the less gdal refuse to build on my mac.  It can't seem to find
> Numeric for one thing -
>
> Using a nightly snapshot from a few days ago, here is my config command:
>
> sudo ./configure --with-local=/usr/local/include/python2.3/Numeric
> --with-libz=internal --with-png=internal --with-libtiff=internal
> --with-geotiff=internal --with-jpeg=internal --with-gif=internal
> --with-pg=/usr/local/pgsql/bin/pg_config
>
> and the last few lines of the resulting output:
>
> checking where .py files should go...
> /usr/local/lib/python2.3/site-packages
> checking for python headers... found
> checking definitions from Python makefile... done
> checking for NumPy include files... missing
> checking if local/include already standard... no, everything is ok
> configure: creating ./config.status
> config.status: creating GDALmake.opt
> config.status: creating port/cpl_config.
>
> below is the output from make:
>
> g++ -Wl,-bind_at_load  -o .libs/_gdalmodule.so -bundle  .libs/gdal_wrap.o
> .libs/numpydataset.o .libs/gdalnumeric.o  -L/usr/local/pgsql/lib
> -L/usr/local/include/python2.3/Numeric/lib ../.libs/libgdal.dylib -lm -ldl
> -lpq -L/usr/local/src/gdal/gdal-cvs-031104/.libs
> ld: warning -L: directory name (/usr/local/include/python2.3/Numeric/lib)
> does not exist
> ld: Undefined symbols:
> _PyArg_Parse
> _PyArg_ParseTuple
> _PyDict_New
> _PyDict_Next
> _PyDict_SetItem
> _PyDict_Type
> _PyErr_Clear
> _PyErr_SetString
> _PyEval_CallObjectWithKeywords
> _PyExc_MemoryError
> _PyExc_NameError
> _PyExc_TypeError
> _PyExc_ValueError
> _PyFloat_AsDouble
> _PyFloat_FromDouble
> _PyInt_AsLong
> _PyInt_FromLong
> _PyInt_Type
> _PyList_New
> _PyList_SetItem
> _PyList_Size
> _PyList_Type
> _PyModule_GetDict
> _PyString_AsString
> _PyString_FromString
> _PyString_FromStringAndSize
> _PyString_Type
> _PyType_IsSubtype
> _PyType_Type
> _Py_BuildValue
> _Py_InitModule4
> __Py_NoneStruct
> make[1]: *** [_gdalmodule.la] Error 1
> make: *** [py-module] Error 2
>
> evidently --with-local=/usr/local/include/python2.3/Numeric is not the
> correct modifier as it seems that make is looking for shared libs in the
> above directory.  I was just attempting to get gdal to see where the
> Numeric headers lived.
>
> Incidentally - I completely rebuilt python2.3.2 and postgresql7.4beta5
> When I ran make for postgres it griped that libpython was not shared so it
> could not build the PLPYTHON bits.  I don't know if this (python shared
> libs) is relevant.
>
> I don't know how to proceed. It would be great to b using GRASS about
> now...
>
>
> Byron Amerson
> MS student
> University of Washington
> Department of Earth and Space Sciences
>

From warmerdam at pobox.com  Wed Nov 12 14:19:38 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Re: GDAL Decimation
In-Reply-To: <SYLVANSERVERzcWfySZ000000d7@sylvanserver>
References: <SYLVANSERVERzcWfySZ000000d7@sylvanserver>
Message-ID: <3FB287CA.3020809@pobox.com>

Roger Bedell wrote:
> Frank,
> 
> Thanks for GDAL ? great stuff. If I could bother you for a second, just 
> one question at the moment (actually two or three on the same subject).

Roger,

I have taken the librety of also distributing my answer to the gdal-dev
list as I have had other questions on this topic.

> I just want to decimate an image to several different resolutions, kind 
> of like the Overview stuff. I?m used to using the Intel Image Processing 
> Library, which has an excellent decimation using something they call 
> Super Sampling. You may not have this, but how can I decimate whilst 
> specifying at least Cubic Interpolation?
> 
>  
> 
> 1)       I cannot get the Overview stuff to work, at least with the Jpeg 
> driver. I get an OVR file, but it seems to be unreadable. Perhaps I 
> don?t understand what I am doing.

The .ovr file should be a TIFF file with the overviews in it.  If you
only generate one overview then it should be a pretty standard file,
though I don't know for sure if I write georeferencing info or not.

> 2)       With the TIFF driver, I haven?t the slightest idea of how to 
> get each Overview into a separate usable TIFF file so I can save it.

If you create the overviews, you can just use gdal_translate to get them
out.

For instance, in this example, I add a 4x4 reduced overview to a file
using averaging.  Checking with gdalinfo I see the overview is 128x128.
So then I use gdal_translate to generate an output file that size.  GDAL
should utilize the overview layer when exporting, and you should get
the averaged down data.

warmerda@gdal2200[22]% gdaladdo -r average utm.tif 4
0...12...21...31...40...50...62...71...81...90...100 - done.
warmerda@gdal2200[23]% gdalinfo utm.tif
Driver: GTiff/GeoTIFF
Size is 512, 512
Coordinate System is:
PROJCS["NAD27 / UTM zone 11N",
     GEOGCS["NAD27",
         DATUM["North_American_Datum_1927",
             SPHEROID["Clarke 1866",6378206.4,294.9786982138982,
                 AUTHORITY["EPSG","7008"]],
             AUTHORITY["EPSG","6267"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4267"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",-117],
     PARAMETER["scale_factor",0.9996],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","26711"]]
Origin = (440720.000000,3751320.000000)
Pixel Size = (60.000000,-60.000000)
Corner Coordinates:
Upper Left  (  440720.000, 3751320.000) (117d38'28.21"W, 33d54'8.47"N)
Lower Left  (  440720.000, 3720600.000) (117d38'20.79"W, 33d37'31.04"N)
Upper Right (  471440.000, 3751320.000) (117d18'32.07"W, 33d54'13.08"N)
Lower Right (  471440.000, 3720600.000) (117d18'28.50"W, 33d37'35.61"N)
Center      (  456080.000, 3735960.000) (117d28'27.39"W, 33d45'52.46"N)
Band 1 Block=512x16 Type=Byte, ColorInterp=Gray
   Overviews: 128x128
warmerda@gdal2200[24]% gdal_translate -outsize 128 128 utm.tif ov.tif
Input file size is 512, 512
0...10...20...30...40...50...60...70...80...90...100 - done.

> So, I started working with the GDALDatasetRasterIO method. I can?t seem 
> to get it to work to decimate, and besides, it doesn?t seem to have any 
> way of setting the interpolation scheme.

Right, the RasterIO() methods support only simple decimation, not any
of the other overview generation strategies (averaging) or general image
warping resamplers (like bilinear and cubic resampling).

If you wanted to utilize the warping resamplers, just use gdalwarp.  For
instance, the following would produce a 128x128 downsampled image using
cubic convolution.

gdalwarp -ts 128 128 -rc utm.tif ov2.tif

> If you could steer me in the right direction, I?d be very happy. By the 
> way, calling GDAL from .NET seems to work just fine.

Cool!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent




From TMitchell at lignum.com  Thu Nov 13 13:50:52 2003
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Pymod versions
Message-ID: <OF78E48715.AF21CD51-ON88256DDD.006774E2-88256DDD.0067889E@lignum.com>




Are the pymod files in gdal and openev still using python 2 or can I use
v3?

Tyler


From warmerdam at pobox.com  Thu Nov 13 14:02:28 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Pymod versions
In-Reply-To: <OF78E48715.AF21CD51-ON88256DDD.006774E2-88256DDD.0067889E@lignum.com>
References: <OF78E48715.AF21CD51-ON88256DDD.006774E2-88256DDD.0067889E@lignum.com>
Message-ID: <3FB3D544.2060709@pobox.com>

Tyler Mitchell wrote:
> 
> 
> 
> Are the pymod files in gdal and openev still using python 2 or can I use
> v3?

Tyler,

I assume you mean python 2.3 vs python 2.2, right?  I am pretty sure that
the OpenEV_FW 1.6.2 distribution is using Python 2.2.  However, the python
scripts themselves are generally ok with any python 2.x version.  If you
were to build stuff yourself it should be possible to do it with python 2.3
and then you could use python 2.3 features if you wanted.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From TMitchell at lignum.com  Thu Nov 13 19:21:00 2003
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Pymod versions
In-Reply-To: <3FB3D544.2060709@pobox.com>
Message-ID: <OF30CC39EB.338DFF34-ON88256DDE.0001B1B5-88256DDE.0001EBF3@lignum.com>





> I assume you mean python 2.3 vs python 2.2, right?  I am pretty sure that
> the OpenEV_FW 1.6.2 distribution is using Python 2.2.  However, the
python
> scripts themselves are generally ok with any python 2.x version.  If you
> were to build stuff yourself it should be possible to do it with python
2.3
> and then you could use python 2.3 features if you wanted.

You're right, Python 2.3 and 2.3.  I just got 2.3 removed from my system
and now I'm working okay again.  I think that I couldn't import gdal into
2.3.  I'll see if I can reproduce it.

Tyler


From nhv at cape.com  Thu Nov 13 19:37:59 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Pymod versions
In-Reply-To: <OF30CC39EB.338DFF34-ON88256DDE.0001B1B5-88256DDE.0001EBF3@lignum.com>
Message-ID: <EKEJIKAILPONGGENMBGACEPGFGAA.nhv@cape.com>

Tyler Mitchell writes:
> 
> > I assume you mean python 2.3 vs python 2.2, right?  I am pretty sure that
> > the OpenEV_FW 1.6.2 distribution is using Python 2.2.  However, the
> python
> > scripts themselves are generally ok with any python 2.x version.  If you
> > were to build stuff yourself it should be possible to do it with python
> 2.3
> > and then you could use python 2.3 features if you wanted.
> 
> You're right, Python 2.3 and 2.3.  I just got 2.3 removed from my system
> and now I'm working okay again.  I think that I couldn't import gdal into
> 2.3.  I'll see if I can reproduce it.

GDAL pymod appears to work fine with Python2.3 when compiled
against 2.3 .  Cygwin Python2.3 has a problem importing a GDAL
compiled with 2.2. Don't know about other OS

HTH

Norman

From schut at sarvision.com  Fri Nov 14 06:12:40 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] error and fix for s57 breakage
Message-ID: <20031114111240.GC13841@lowresbox.lan>

Frank and others,

due to an error in gdal/ogr/ogrsf_frmts/s57/GNUMakefile gdal-cvs won't  
compile if ogr is enabled. The solution is to add 's57featuredefns.o'  
to the 'OBJ =' line in the GNUMakefile in the s57 directory (and  
probably similar addition to the Makefile?).

Cheers,
Vincent.

From warmerdam at pobox.com  Fri Nov 14 08:08:42 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] error and fix for s57 breakage
In-Reply-To: <20031114111240.GC13841@lowresbox.lan>
References: <20031114111240.GC13841@lowresbox.lan>
Message-ID: <3FB4D3DA.2090800@pobox.com>

Vincent Schut wrote:
> Frank and others,
> 
> due to an error in gdal/ogr/ogrsf_frmts/s57/GNUMakefile gdal-cvs won't  
> compile if ogr is enabled. The solution is to add 's57featuredefns.o'  
> to the 'OBJ =' line in the GNUMakefile in the s57 directory (and  
> probably similar addition to the Makefile?).

Vincent,

Sorry, I have committed that change.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From schut at sarvision.com  Fri Nov 14 08:19:45 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] error and fix for s57 breakage
In-Reply-To: <3FB4D3DA.2090800@pobox.com> (from warmerdam@pobox.com on Fri, Nov 14, 2003 at 14:08:42 +0100)
References: <20031114111240.GC13841@lowresbox.lan> <3FB4D3DA.2090800@pobox.com>
Message-ID: <20031114131945.GK13841@lowresbox.lan>

On 2003.11.14 14:08, Frank Warmerdam wrote:
> Vincent Schut wrote:
>> Frank and others,
>> 
>> due to an error in gdal/ogr/ogrsf_frmts/s57/GNUMakefile gdal-cvs  
>> won't  compile if ogr is enabled. The solution is to add  
>> 's57featuredefns.o'  to the 'OBJ =' line in the GNUMakefile in the  
>> s57 directory (and  probably similar addition to the Makefile?).
> 
> Vincent,
> 
> Sorry, I have committed that change.
> 
> Best regards,

Frank,

no matters, it was relatively easy to track down. Glad to help this way :)

Vincent
> 
>-- 
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for  
> Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 

From T.R.DeCarlo at larc.nasa.gov  Fri Nov 14 15:06:24 2003
From: T.R.DeCarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] error and fix for s57 breakage
Message-ID: <EPEALOKKOCCOEALLINACOEACFEAA.T.R.DeCarlo@larc.nasa.gov>

The same change is needed in the makefile.vc file.
 
>Vincent Schut gdal-dev@remotesensing.org
>Fri, 14 Nov 2003 12:12:40 +0100
>
>Frank and others,
>
>due to an error in gdal/ogr/ogrsf_frmts/s57/GNUMakefile gdal-cvs won't  
>compile if ogr is enabled. The solution is to add 's57featuredefns.o'  
>to the 'OBJ =' line in the GNUMakefile in the s57 directory (and  
>probably similar addition to the Makefile?).
>
>Cheers,
>Vincent.
>
 
Thom DeCarlo
Sr. S/W Eng, VisSim
Team ConITS - AvSP - LaRC - NASA
 



From T.R.DeCarlo at larc.nasa.gov  Fri Nov 14 15:06:24 2003
From: T.R.DeCarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] errors compiling on Win2K
Message-ID: <EPEALOKKOCCOEALLINACAEADFEAA.T.R.DeCarlo@larc.nasa.gov>

I grabbed the latest cvs (031114) and compiling with OGR formats gives a lot
of errors when linking the gdal11.dll. Any ideas what needs to change to
make this work?
OBTW, I'm using VC++ 6 SP5 and Win2K SP4.


        link /dll /debug /INCLUDE:_OCTNewCoordinateTransformation
/INCLUDE:_OGRRegisterAll  /INCLUDE:_OGRFeatureStylePuller
/INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods
/INCLUDE:_OGR_G_GetPointCount /INCLUDE:_GDALSimpleImageWarp
/INCLUDE:_GDALSuggestedWarpOutput  /INCLUDE:_GDALGCPTra
nsform  /INCLUDE:_GDALComputeMedianCutPCT  /INCLUDE:_GDALDitherRGB2PCT
port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj
ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib      odbc32.lib  "C:\Program
Files\Earth Resource Mapping\ECW SDK"\lib\NCSEcw.lib "C:\Program Files\Earth
Resource Mapping\ECW SDK"\lib\NC
SEcwC.lib  "C:\Program Files\Earth Resource Mapping\ECW SDK"\lib\NCSUtil.lib
"C:\Svs_dev\src\jasper-1.700.2"\src\msvc\Win32_Release\libjasper.lib
/out:gdal11.dll /implib:gdal_i.lib
Microsoft (R) Incremental Linker Version 6.00.8447
Copyright (C) Microsoft Corp 1992-1998. All rights reserved.

LIBC.lib(crt0dat.obj) : error LNK2005: _exit already defined in
MSVCRT.lib(MSVCRT.dll)
LIBC.lib(crt0init.obj) : error LNK2005: ___xc_z already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xc_a already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xi_z already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xi_a already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(mbctype.obj) : error LNK2005: __getmbcp already defined in
MSVCRT.lib(MSVCRT.dll)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __strdup already defined in
LIBC.lib(strdup.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __unlink already defined in
LIBC.lib(unlink.obj)
LIBC.lib(crt0dat.obj) : warning LNK4006: _exit already defined in
MSVCRT.lib(MSVCRT.dll); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xc_z already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xc_a already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xi_z already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xi_a already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(mbctype.obj) : warning LNK4006: __getmbcp already defined in
MSVCRT.lib(MSVCRT.dll); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: __strdup already defined in
LIBC.lib(strdup.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: __unlink already defined in
LIBC.lib(unlink.obj); second definition ignored
   Creating library gdal_i.lib and object gdal_i.exp
LINK : warning LNK4098: defaultlib "MSVCRT" conflicts with use of other
libs; use /NODEFAULTLIB:library
LINK : warning LNK4098: defaultlib "LIBC" conflicts with use of other libs;
use /NODEFAULTLIB:library
LIBC.lib(crt0.obj) : error LNK2001: unresolved external symbol _main
gdal11.dll : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: 'link' : return code '0x460'
Stop.

Thom DeCarlo
Sr. S/W Eng, VisSim
ConITS - AvSP - LaRC - NASA



From matt.wilkie at gov.yk.ca  Fri Nov 14 16:40:11 2003
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] gdal_translate: using "-b" switch
In-Reply-To: <EPEALOKKOCCOEALLINACAEADFEAA.T.R.DeCarlo@larc.nasa.gov>
References: <EPEALOKKOCCOEALLINACAEADFEAA.T.R.DeCarlo@larc.nasa.gov>
Message-ID: <3FB54BBB.1010304@gov.yk.ca>

Hi,

http://www.remotesensing.org/gdal/gdal_utilities.html says:

	-b band: Select an input band band for output.
	Bands are numbered from 1. Multiple -b switches
	may be used to select a set of input bands to
	write to the output file, or to reorder bands.

however when I use multiple -b's the output image only has one band. 
This is the command line I'm using:

d:\> gdal_translate -b 5 -b 4 -b 3 Mosaic30m.tif out_543.tif

The input image has 6 bands.
I'm using GDAL 1.1.8.0, released 2002/12/21 on Windows XP.

Is my syntax wrong?

thanks,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------



From dron at ak4719.spb.edu  Sat Nov 15 03:04:00 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] gdal_translate: using "-b" switch
In-Reply-To: <3FB54BBB.1010304@gov.yk.ca>
References: <EPEALOKKOCCOEALLINACAEADFEAA.T.R.DeCarlo@larc.nasa.gov> <3FB54BBB.1010304@gov.yk.ca>
Message-ID: <20031115080400.GA29185@ak4719.spb.edu>

On Fri, Nov 14, 2003 at 01:40:11PM -0800, Matt Wilkie wrote:
> http://www.remotesensing.org/gdal/gdal_utilities.html says:
> 
> 	-b band: Select an input band band for output.
> 	Bands are numbered from 1. Multiple -b switches
> 	may be used to select a set of input bands to
> 	write to the output file, or to reorder bands.
> 
> however when I use multiple -b's the output image only has one band. 
> This is the command line I'm using:
> 
> d:\> gdal_translate -b 5 -b 4 -b 3 Mosaic30m.tif out_543.tif
> 
> The input image has 6 bands.
> I'm using GDAL 1.1.8.0, released 2002/12/21 on Windows XP.
> Is my syntax wrong?

No, your syntax is right, but your GDAL distribution is wrong :-)
Support for multiple -b switches was added recently and manual pages
from the GDAL site document the current state of the GDAL development.
Take the daily snapshot or check out CVS repository to get that feature
working.

					Regards,
					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From dron at ak4719.spb.edu  Sat Nov 15 03:50:25 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] JasPer UUID package updated
Message-ID: <20031115085025.GA7352@ak4719.spb.edu>

Hi, folks,

JasPer UUID package (required to build JPEG2000 driver with support for
georeferencing) now updated to the new upstream release 1.700.5.
New gzipped tarball available here:

 ftp://ftp.remotesensing.org/gdal/jasper-1.700.5.uuid.tar.gz

						Best regards,
						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From sander at sander-partner.ch  Fri Nov 14 13:49:27 2003
From: sander at sander-partner.ch (Johannes Sander)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] ogrinfo: No features for vmaplv0
Message-ID: <3FB523B7.1010003@sander-partner.ch>

Hallo

My goal: transfer vmaplv0 data to shape files (for further access with 
Grass 5.3 / 5.7) with ogr2ogr.

However, I get 0 features from from ogrinfo for my vmaplv0 data:

Does anybody know what is wrong?

libs (under Linux kernel 2.4):
ogdi 3.1.1
gdal 1.1.9


ogrinfo gltp:/vrf/home/jsander/Grass/Nima/v0noa/vmaplv0/noamer 
'coastl@bnd(*)_line'
ERROR 4: OGDI Driver doesn't support update.
Had to open data source read-only.
INFO: Open of `gltp:/vrf/home/jsander/Grass/Nima/v0noa/vmaplv0/noamer'
using driver `OGDI' successful.

Layer name: coastl@bnd(*)_line
Geometry: Line String
Feature Count: 0
Layer SRS WKT:
GEOGCS["NAD83",
     DATUM["North_American_Datum_1983",
         SPHEROID["GRS 1980",6378137,298.257222101,
             AUTHORITY["EPSG","7019"]],
         TOWGS84[0,0,0,0,0,0,0],
         AUTHORITY["EPSG","6269"]],
     PRIMEM["Greenwich",0,
         AUTHORITY["EPSG","8901"]],
     UNIT["degree",0.0174532925199433,
         AUTHORITY["EPSG","9108"]],
     AXIS["Lat",NORTH],
     AXIS["Long",EAST],
     AUTHORITY["EPSG","4269"]]
id: Integer (10.0)
f_code: String (5.0)
acc: Integer (5.0)
exs: Integer (5.0)
tile_id: Integer (5.0)
edg_id: Integer (10.0)


Thanks
Johannes


j.sander@gmx.ch


From cgn at globexplorer.com  Sat Nov 15 14:51:26 2003
From: cgn at globexplorer.com (Chris G. Nicholas)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] JasPer UUID package updated
Message-ID: <71E37EF6B7DCC1499CEA0316A2568328E7A17F@loki.wc.globexplorer.net>

> JPEG2000 driver with support for georeferencing

Hmmm - adding an external .wld file seems to work also (at least for Kakadu within the context of MMS...)

Chris

-----Original Message-----
From:	Andrey Kiselev [mailto:dron@ak4719.spb.edu]
Sent:	Sat 11/15/2003 12:50 AM
To:	gdal-dev@remotesensing.org
Cc:	
Subject:	[Gdal-dev] JasPer UUID package updated
Hi, folks,

JasPer UUID package (required to build JPEG2000 driver with support for
georeferencing) now updated to the new upstream release 1.700.5.
New gzipped tarball available here:

 ftp://ftp.remotesensing.org/gdal/jasper-1.700.5.uuid.tar.gz

						Best regards,
						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev





From warmerdam at pobox.com  Sat Nov 15 14:54:21 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] error and fix for s57 breakage
In-Reply-To: <EPEALOKKOCCOEALLINACOEACFEAA.T.R.DeCarlo@larc.nasa.gov>
References: <EPEALOKKOCCOEALLINACOEACFEAA.T.R.DeCarlo@larc.nasa.gov>
Message-ID: <3FB6846D.1060007@pobox.com>

Thom DeCarlo wrote:
> The same change is needed in the makefile.vc file.
>  
> 
>

applied ... thanks


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From dron at ak4719.spb.edu  Sat Nov 15 16:45:09 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] JasPer UUID package updated
In-Reply-To: <71E37EF6B7DCC1499CEA0316A2568328E7A17F@loki.wc.globexplorer.net>
References: <71E37EF6B7DCC1499CEA0316A2568328E7A17F@loki.wc.globexplorer.net>
Message-ID: <20031115214509.GB10577@ak4719.spb.edu>

On Sat, Nov 15, 2003 at 11:51:26AM -0800, Chris G. Nicholas wrote:
> > JPEG2000 driver with support for georeferencing
> Hmmm - adding an external .wld file seems to work also (at least for
> Kakadu within the context of MMS...)

This is all about GeoJP2 extension, when the GeoTIFF tags saved into
the JP2 stream. You don't need additional files to work with
georeferenced JP2 files.

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From hobu at iastate.edu  Sat Nov 15 17:23:05 2003
From: hobu at iastate.edu (Howard butler)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] JasPer UUID package updated
In-Reply-To: <71E37EF6B7DCC1499CEA0316A2568328E7A17F@loki.wc.globexplore
 r.net>
References: <71E37EF6B7DCC1499CEA0316A2568328E7A17F@loki.wc.globexplorer.net>
Message-ID: <6.0.0.22.2.20031115155144.01ba5f40@hobu.mail.iastate.edu>

Hello,

I build the new Jasper package using Microsoft VC++ project this morning (I 
renamed the jas_config2.h in the include directory to jas_config.h ... I 
don't know if this was the right thing to do).

After building, I've been trying to link it into GDAL, but I'm getting a 
bunch of errors that look like:
LIBC.lib(crt0dat.obj) : error LNK2005: _exit already defined in 
MSVCRT.lib(MSVCR
T.dll)
LIBC.lib(crt0init.obj) : error LNK2005: ___xc_z already defined in 
MSVCRT.lib(ci
nitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xc_a already defined in 
MSVCRT.lib(ci
nitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xi_z already defined in 
MSVCRT.lib(ci
nitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xi_a already defined in 
MSVCRT.lib(ci
nitexe.obj)
LIBC.lib(mbctype.obj) : error LNK2005: __getmbcp already defined in 
MSVCRT.lib(M
SVCRT.dll)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __strdup already defined in 
LIBC.lib(str
dup.obj)

If I remove the Jasper stuff from the GDAL nmake.opt file, GDAL builds fine.

Did I build Jasper incorrectly?

Howard


At 01:51 PM 11/15/2003, you wrote:
> > JPEG2000 driver with support for georeferencing
>
>Hmmm - adding an external .wld file seems to work also (at least for 
>Kakadu within the context of MMS...)
>
>Chris
>
>-----Original Message-----
>From:   Andrey Kiselev [mailto:dron@ak4719.spb.edu]
>Sent:   Sat 11/15/2003 12:50 AM
>To:     gdal-dev@remotesensing.org
>Cc:
>Subject:        [Gdal-dev] JasPer UUID package updated
>Hi, folks,
>
>JasPer UUID package (required to build JPEG2000 driver with support for
>georeferencing) now updated to the new upstream release 1.700.5.
>New gzipped tarball available here:
>
>  ftp://ftp.remotesensing.org/gdal/jasper-1.700.5.uuid.tar.gz
>
>                                                 Best regards,
>                                                 Andrey
>
>--
>Andrey V. Kiselev
>Home phone:  +7 812 5274898  ICQ# 26871517
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev
>
>
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev



From hobu at iastate.edu  Sat Nov 15 22:16:04 2003
From: hobu at iastate.edu (Howard butler)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] How to build GDAL/OGR w/ PostGIS support on Windows
Message-ID: <6.0.0.22.2.20031115204454.01b97788@hobu.mail.iastate.edu>

Hello,

What options do I need to set in nmake.opt to allow Microsoft VC++ to 
compile in support for PostGIS?  The OGR building instructions have nothing 
to say about this http://gdal.velocet.ca/projects/opengis/build.html.  I 
also downloaded OpenEV, but it didn't appear to have PostGIS rolled in.

Here's where I'm at at this point.  I have libpq compiled.  After running 
the configure on Linux, I saw that it was setting options in the make file, 
and I copied something like it in nmake.opt:

HAVE_OGR_PG     = yes
PG_LIB	= 
E:\build\postgres\postgresql-7.3.4\src\interfaces\libpq\Release\libpq.lib
PG_INCLUDE	=	E:\build\postgres\postgresql-7.3.4\src\include

When running the root make file, everything appears to work, but when it 
gets to the linking step, it fails trying to link in the _RegisterOGRPG 
symbol.

ogrsf_frmts.lib(ogrregisterall.obj) : error LNK2001: unresolved external symbol
_RegisterOGRPG
gdal11.dll : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: 'link' : return code '0x460'
Stop.


Any pointers to the options that I need to set would be greatly appreciated.

Thanks

Howard



From hobu at iastate.edu  Sun Nov 16 10:29:09 2003
From: hobu at iastate.edu (Howard butler)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] How to build GDAL/OGR w/ PostGIS support on
  Windows
In-Reply-To: <6.0.0.22.2.20031115204454.01b97788@hobu.mail.iastate.edu>
References: <6.0.0.22.2.20031115204454.01b97788@hobu.mail.iastate.edu>
Message-ID: <6.0.0.22.2.20031116092439.01aef180@hobu.mail.iastate.edu>

I found it.  The variable is PG_INC_DIR instead of PG_INCLUDE.  Also, make 
sure you link to libpqdll.lib instead of libpq.lib.

HAVE_OGR_PG     = yes
PG_LIB  = 
E:\build\postgres\postgresql-7.3.4\src\interfaces\libpq\Release\libpqdll.lib
PG_INC_DIR      =       E:\build\postgres\postgresql-7.3.4\src\interfaces\libpq

Howard
At 09:16 PM 11/15/2003, you wrote:
>Hello,
>
>What options do I need to set in nmake.opt to allow Microsoft VC++ to 
>compile in support for PostGIS?  The OGR building instructions have 
>nothing to say about this 
>http://gdal.velocet.ca/projects/opengis/build.html.  I also downloaded 
>OpenEV, but it didn't appear to have PostGIS rolled in.
>
>Here's where I'm at at this point.  I have libpq compiled.  After running 
>the configure on Linux, I saw that it was setting options in the make 
>file, and I copied something like it in nmake.opt:
>
>HAVE_OGR_PG     = yes
>PG_LIB  = 
>E:\build\postgres\postgresql-7.3.4\src\interfaces\libpq\Release\libpq.lib
>PG_INCLUDE      =       E:\build\postgres\postgresql-7.3.4\src\include
>
>When running the root make file, everything appears to work, but when it 
>gets to the linking step, it fails trying to link in the _RegisterOGRPG symbol.
>
>ogrsf_frmts.lib(ogrregisterall.obj) : error LNK2001: unresolved external 
>symbol
>_RegisterOGRPG
>gdal11.dll : fatal error LNK1120: 1 unresolved externals
>NMAKE : fatal error U1077: 'link' : return code '0x460'
>Stop.
>
>
>Any pointers to the options that I need to set would be greatly appreciated.
>
>Thanks
>
>Howard
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev



From carl.anderson at vadose.org  Sun Nov 16 11:29:46 2003
From: carl.anderson at vadose.org (Carl Anderson)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] How to build GDAL/OGR w/ PostGIS support on Windows
In-Reply-To: <6.0.0.22.2.20031115204454.01b97788@hobu.mail.iastate.edu>; from hobu@iastate.edu on Sat, Nov 15, 2003 at 22:16:04 -0500
References: <6.0.0.22.2.20031115204454.01b97788@hobu.mail.iastate.edu>
Message-ID: <20031116162946.GA27841@vadose.dvg>

On 11/15/2003 10:16:04 PM, Howard butler wrote:
> Hello,
> 
> Here's where I'm at at this point.  I have libpq compiled.  After  
> running the configure on Linux, I saw that it was setting options in  
> the make file, and I copied something like it in nmake.opt:
> 
> HAVE_OGR_PG     = yes
> PG_LIB	= E:\build\postgres\postgresql-7.3.4\src\interfaces 
> \libpq\Release\libpq.lib
> PG_INCLUDE	=	E:\build\postgres\postgresql-7.3.4\src\include
>

you need to set

HAVE_OGR_PG
PG_LIB
PG_DIR
PG_INC_DIR

PG_INC_DIR is used not PG_INCLUDE





From sevilla_lui at gva.es  Mon Nov 17 08:47:32 2003
From: sevilla_lui at gva.es (Luis W. Sevilla)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Troubles compiling gdal
Message-ID: <3FB8D174.2030200@gva.es>

Hi all

I'm new on this list. Compiling gdal from cvs checkout I've had folowing 
errors:

make[1]: Entering directory `/data1/source/c/gdal/ogr'
/bin/sh ../libtool --mode=link  g++  ogrinfo.o ../libgdal.la -o ogrinfo
g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so /usr/lib/libjpeg.so 
-lpng -lz -ldl /usr/lib/libstdc++.so -Wl,--rpath 
-Wl,/source/c/gdal/gdal-1.1.9-linux-bin/lib
.../.libs/libgdal.so: undefined reference to 
`S57GenerateVectorPrimitiveFeatureDefn(int, int)'
.../.libs/libgdal.so: undefined reference to 
`S57GenerateObjectClassDefn(S57ClassRegistrar*, int, int)'
.../.libs/libgdal.so: undefined reference to 
`S57GenerateGeomFeatureDefn(OGRwkbGeometryType, int)'
collect2: ld returned 1 exit status
make[1]: *** [ogrinfo] Error 1
make[1]: Leaving directory `/data1/source/c/gdal/ogr'
make: *** [ogr-apps] Error 2

any clue about how to solve it?

I'd like to have S57/ENC support on this build

thanks in advance and excuse my poor english

    Luis



From sevilla_lui at gva.es  Mon Nov 17 08:57:57 2003
From: sevilla_lui at gva.es (Luis W. Sevilla)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Troubles compiling gdal
In-Reply-To: <3FB8D174.2030200@gva.es>
References: <3FB8D174.2030200@gva.es>
Message-ID: <3FB8D3E5.7080708@gva.es>

I'm sorry for posting previous message. This was previously anwered.


   >[Gdal-dev] error and fix for s57 breakage

*>Frank Warmerdam *gdal-dev@remotesensing.org 
<mailto:gdal-dev%40remotesensing.org>
/>Fri, 14 Nov 2003 08:08:42 -0500/

>Vincent Schut wrote:
>>/ Frank and others,
/>>/ 
/>>/ due to an error in gdal/ogr/ogrsf_frmts/s57/GNUMakefile gdal-cvs won't  
/>>/ compile if ogr is enabled. The solution is to add 's57featuredefns.o'  
/>>/ to the 'OBJ =' line in the GNUMakefile in the s57 directory (and  
/>>/ probably similar addition to the Makefile?).
/>
>Vincent,
>
>Sorry, I have committed that change.
>
>Best regards,


Luis W. Sevilla wrote:

> Hi all
>
> I'm new on this list. Compiling gdal from cvs checkout I've had 
> folowing errors:
>
> make[1]: Entering directory `/data1/source/c/gdal/ogr'
> /bin/sh ../libtool --mode=link  g++  ogrinfo.o ../libgdal.la -o ogrinfo
> g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so 
> /usr/lib/libjpeg.so -lpng -lz -ldl /usr/lib/libstdc++.so -Wl,--rpath 
> -Wl,/source/c/gdal/gdal-1.1.9-linux-bin/lib
> .../.libs/libgdal.so: undefined reference to 
> `S57GenerateVectorPrimitiveFeatureDefn(int, int)'
> .../.libs/libgdal.so: undefined reference to 
> `S57GenerateObjectClassDefn(S57ClassRegistrar*, int, int)'
> .../.libs/libgdal.so: undefined reference to 
> `S57GenerateGeomFeatureDefn(OGRwkbGeometryType, int)'
> collect2: ld returned 1 exit status
> make[1]: *** [ogrinfo] Error 1
> make[1]: Leaving directory `/data1/source/c/gdal/ogr'
> make: *** [ogr-apps] Error 2
>
> any clue about how to solve it?
>
> I'd like to have S57/ENC support on this build
>
> thanks in advance and excuse my poor english
>
>    Luis
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>




From warmerdam at pobox.com  Mon Nov 17 08:59:57 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Troubles compiling gdal
In-Reply-To: <3FB8D174.2030200@gva.es>
References: <3FB8D174.2030200@gva.es>
Message-ID: <3FB8D45D.6090706@pobox.com>

Luis W. Sevilla wrote:
> Hi all
> 
> I'm new on this list. Compiling gdal from cvs checkout I've had folowing 
> errors:
> 
> make[1]: Entering directory `/data1/source/c/gdal/ogr'
> /bin/sh ../libtool --mode=link  g++  ogrinfo.o ../libgdal.la -o ogrinfo
> g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so /usr/lib/libjpeg.so 
> -lpng -lz -ldl /usr/lib/libstdc++.so -Wl,--rpath 
> -Wl,/source/c/gdal/gdal-1.1.9-linux-bin/lib
> .../.libs/libgdal.so: undefined reference to 
> `S57GenerateVectorPrimitiveFeatureDefn(int, int)'
> .../.libs/libgdal.so: undefined reference to 
> `S57GenerateObjectClassDefn(S57ClassRegistrar*, int, int)'
> .../.libs/libgdal.so: undefined reference to 
> `S57GenerateGeomFeatureDefn(OGRwkbGeometryType, int)'
> collect2: ld returned 1 exit status
> make[1]: *** [ogrinfo] Error 1
> make[1]: Leaving directory `/data1/source/c/gdal/ogr'
> make: *** [ogr-apps] Error 2
> 
> any clue about how to solve it?
> 
> I'd like to have S57/ENC support on this build
> 
> thanks in advance and excuse my poor english
> 

Luis,

This should be fixed now. Do a "cvs update" in the s57 directory.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From schut at sarvision.com  Mon Nov 17 08:54:54 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Troubles compiling gdal
In-Reply-To: <3FB8D174.2030200@gva.es> (from sevilla_lui@gva.es on Mon, Nov 17, 2003 at 14:47:32 +0100)
References: <3FB8D174.2030200@gva.es>
Message-ID: <20031117135454.GA7579@lowresbox.lan>

Luis,

try to update from cvs. This error was just recently fixed (yesterday  
or so), so you need to make sure you are using the most recent source  
code. For more info, see earlier messages on this list with the subject  
'error and fix for s57 breakage'.

Cheers,
Vincent.

On 2003.11.17 14:47, Luis W. Sevilla wrote:
> Hi all
> 
> I'm new on this list. Compiling gdal from cvs checkout I've had  
> folowing errors:
> 
> make[1]: Entering directory `/data1/source/c/gdal/ogr'
> /bin/sh ../libtool --mode=link  g++  ogrinfo.o ../libgdal.la -o  
> ogrinfo
> g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so /usr/lib/libjpeg. 
> so -lpng -lz -ldl /usr/lib/libstdc++.so -Wl,--rpath -Wl,/source/c/ 
> gdal/gdal-1.1.9-linux-bin/lib
> .../.libs/libgdal.so: undefined reference to  
> `S57GenerateVectorPrimitiveFeatureDefn(int, int)'
> .../.libs/libgdal.so: undefined reference to  
> `S57GenerateObjectClassDefn(S57ClassRegistrar*, int, int)'
> .../.libs/libgdal.so: undefined reference to  
> `S57GenerateGeomFeatureDefn(OGRwkbGeometryType, int)'
> collect2: ld returned 1 exit status
> make[1]: *** [ogrinfo] Error 1
> make[1]: Leaving directory `/data1/source/c/gdal/ogr'
> make: *** [ogr-apps] Error 2
> 
> any clue about how to solve it?
> 
> I'd like to have S57/ENC support on this build
> 
> thanks in advance and excuse my poor english
> 
>    Luis
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 

From sevilla_lui at gva.es  Mon Nov 17 09:14:20 2003
From: sevilla_lui at gva.es (Luis W. Sevilla)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Troubles compiling gdal
In-Reply-To: <3FB8D45D.6090706@pobox.com>
References: <3FB8D174.2030200@gva.es> <3FB8D45D.6090706@pobox.com>
Message-ID: <3FB8D7BC.7080905@gva.es>

Done, it works Thanks

Frank Warmerdam wrote:

> Luis W. Sevilla wrote:
>
>> Hi all
>>
>> I'm new on this list. Compiling gdal from cvs checkout I've had 
>> folowing errors:
>>
>> make[1]: Entering directory `/data1/source/c/gdal/ogr'
>> /bin/sh ../libtool --mode=link  g++  ogrinfo.o ../libgdal.la -o ogrinfo
>> g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so 
>> /usr/lib/libjpeg.so -lpng -lz -ldl /usr/lib/libstdc++.so -Wl,--rpath 
>> -Wl,/source/c/gdal/gdal-1.1.9-linux-bin/lib
>> .../.libs/libgdal.so: undefined reference to 
>> `S57GenerateVectorPrimitiveFeatureDefn(int, int)'
>> .../.libs/libgdal.so: undefined reference to 
>> `S57GenerateObjectClassDefn(S57ClassRegistrar*, int, int)'
>> .../.libs/libgdal.so: undefined reference to 
>> `S57GenerateGeomFeatureDefn(OGRwkbGeometryType, int)'
>> collect2: ld returned 1 exit status
>> make[1]: *** [ogrinfo] Error 1
>> make[1]: Leaving directory `/data1/source/c/gdal/ogr'
>> make: *** [ogr-apps] Error 2
>>
>> any clue about how to solve it?
>>
>> I'd like to have S57/ENC support on this build
>>
>> thanks in advance and excuse my poor english
>>
>
> Luis,
>
> This should be fixed now. Do a "cvs update" in the s57 directory.
>
> Best regards,





From sevilla_lui at gva.es  Mon Nov 17 09:21:04 2003
From: sevilla_lui at gva.es (Luis W. Sevilla)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] A change on gdal building dir?
Message-ID: <3FB8D950.6000004@gva.es>

Hi again,

    I'm trying to build OpenEV+gdal from sources.  After building and 
installing (make; make install), when configuring OpenEV for building 
I've got folowing error:

luisw@Aplicgraf1:/source/python/openev> ./configure 
--with-gdal=/source/c/gdal
loading cache ./config.cache
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
....
Using requested GDAL_HOME of /source/c/gdal
configure: error: 'Unable to find /source/c/gdal/core directory, are you 
sure a
regular GDAL build tree can be found at /source/c/gdal?'

There's a gcore directory under my GDAL build tree, but no core 
directory at all. I's a change on gdal building dir or am I doing 
something wrong ?

    Luis



From schut at sarvision.com  Mon Nov 17 09:22:24 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] A change on gdal building dir?
In-Reply-To: <3FB8D950.6000004@gva.es> (from sevilla_lui@gva.es on Mon, Nov 17, 2003 at 15:21:04 +0100)
References: <3FB8D950.6000004@gva.es>
Message-ID: <20031117142224.GE7579@lowresbox.lan>

Luis,

gdal changed, but OpenEV has not yet adapted it's build script. if I  
remember well you can just make a symbolic link: 'ln -s gcore core'  
which would trick openev to compile.

Cheers,
Vincent.

On 2003.11.17 15:21, Luis W. Sevilla wrote:
> Hi again,
> 
>    I'm trying to build OpenEV+gdal from sources.  After building and  
> installing (make; make install), when configuring OpenEV for building  
> I've got folowing error:
> 
> luisw@Aplicgraf1:/source/python/openev> ./configure --with-gdal=/ 
> source/c/gdal
> loading cache ./config.cache
> checking for gcc... gcc
> checking whether the C compiler (gcc  ) works... yes
> checking whether the C compiler (gcc  ) is a cross-compiler... no
> ....
> Using requested GDAL_HOME of /source/c/gdal
> configure: error: 'Unable to find /source/c/gdal/core directory, are  
> you sure a
> regular GDAL build tree can be found at /source/c/gdal?'
> 
> There's a gcore directory under my GDAL build tree, but no core  
> directory at all. I's a change on gdal building dir or am I doing  
> something wrong ?
> 
>    Luis
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 

From sevilla_lui at gva.es  Mon Nov 17 09:53:56 2003
From: sevilla_lui at gva.es (Luis W. Sevilla)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] A change on gdal building dir?
In-Reply-To: <20031117142224.GE7579@lowresbox.lan>
References: <3FB8D950.6000004@gva.es> <20031117142224.GE7579@lowresbox.lan>
Message-ID: <3FB8E104.3020703@gva.es>

Done, it works but ... now I'v got:
configure: error: 'Unable to find /source/c/gdal/libgdal.1.1.so, are you 
sure a
regular GDAL build tree can be found at /source/c/gdal?'

I've found libgdal.so.1.1.19 under ${GDALBUILDDIR}/.libs, and linked it 
to the one that OpenEV expected to find, but ... it seems there's a 
littel unsync between both projects.

Thanks for all your help

    Luis

Vincent Schut wrote:

> Luis,
>
> gdal changed, but OpenEV has not yet adapted it's build script. if I  
> remember well you can just make a symbolic link: 'ln -s gcore core'  
> which would trick openev to compile.
>
> Cheers,
> Vincent.
>
> On 2003.11.17 15:21, Luis W. Sevilla wrote:
>
>> Hi again,
>>
>>    I'm trying to build OpenEV+gdal from sources.  After building and  
>> installing (make; make install), when configuring OpenEV for 
>> building  I've got folowing error:
>>
>> luisw@Aplicgraf1:/source/python/openev> ./configure --with-gdal=/ 
>> source/c/gdal
>> loading cache ./config.cache
>> checking for gcc... gcc
>> checking whether the C compiler (gcc  ) works... yes
>> checking whether the C compiler (gcc  ) is a cross-compiler... no
>> ....
>> Using requested GDAL_HOME of /source/c/gdal
>> configure: error: 'Unable to find /source/c/gdal/core directory, are  
>> you sure a
>> regular GDAL build tree can be found at /source/c/gdal?'
>>
>> There's a gcore directory under my GDAL build tree, but no core  
>> directory at all. I's a change on gdal building dir or am I doing  
>> something wrong ?
>>
>>    Luis
>




From dron at ak4719.spb.edu  Mon Nov 17 11:14:11 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] JasPer UUID package updated
In-Reply-To: <6.0.0.22.2.20031115155144.01ba5f40@hobu.mail.iastate.edu>
References: <71E37EF6B7DCC1499CEA0316A2568328E7A17F@loki.wc.globexplorer.net> <6.0.0.22.2.20031115155144.01ba5f40@hobu.mail.iastate.edu>
Message-ID: <20031117161411.GA27187@ak4719.spb.edu>

On Sat, Nov 15, 2003 at 04:23:05PM -0600, Howard butler wrote:
> I build the new Jasper package using Microsoft VC++ project this morning (I 
> renamed the jas_config2.h in the include directory to jas_config.h ... I 
> don't know if this was the right thing to do).
> After building, I've been trying to link it into GDAL, but I'm getting a 
> bunch of errors that look like:
> LIBC.lib(crt0dat.obj) : error LNK2005: _exit already defined in 
> MSVCRT.lib(MSVCR
> T.dll)
> LIBC.lib(crt0init.obj) : error LNK2005: ___xc_z already defined in 
> MSVCRT.lib(ci
> nitexe.obj)

You should build JasPer with the same settings as GDAL. So if you are
using /MD switch in nmake.opt you should do the same in JasPer:

Project->Settings->C/C++->Category: Code Generation
Use runtime library: Multithreaded DLL

					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From p_mansson at hotmail.com  Mon Nov 17 09:29:55 2003
From: p_mansson at hotmail.com (Per Mnsson)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] OGR 7 parameter Bursa Wolf transformation
Message-ID: <LAW10-F46wn9Wgtc2S60000ca33@hotmail.com>


I would like to make 7 parameter Bursa Wolf transformation to WGS84 
Latitude, Longitude.

The  Ellipsoid is Bessel 1841, with the parameters:
a   = 6377397.155
1/f = 299.1528128
and I have the 7 parameters for the transform.

How do I create the two OGRSpatialReference objects for this transformation 
?

Per Mansson

_________________________________________________________________
Help STOP SPAM with the new MSN 8 and get 2 months FREE*  
http://join.msn.com/?page=features/junkmail


From JCotter at BISMAIL.UCC.IE  Mon Nov 17 10:33:39 2003
From: JCotter at BISMAIL.UCC.IE (Cotter,John Sylvester)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] Mapserver
Message-ID: <EE45B69B5F21D61198F100A0C9955BC92BC158@lesath.ucc.ie>

Hi,
I am trying to install all the DLL's I require to support Mapserver.I have a
web server but not sure how I can get the DLL to communicate with the
Mapserv.exe in the same folder.I know this is a weird question but is there
anything you think you could help me with regarding these installments....i
am not the brightest..cheers

From T.R.DeCarlo at larc.nasa.gov  Mon Nov 17 12:08:51 2003
From: T.R.DeCarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] errors compiling on Win2K
In-Reply-To: <EPEALOKKOCCOEALLINACAEADFEAA.T.R.DeCarlo@larc.nasa.gov>
Message-ID: <EPEALOKKOCCOEALLINACOEANFEAA.T.R.DeCarlo@larc.nasa.gov>

Well, I'm still getting the same errors after downloading today's cvs
snapshot (031117). Can anyone help me out here?

Thanks,
Thom

-----Original Message-----
From: Thom DeCarlo
Sent: Friday, November 14, 2003 3:06 PM
To: GDAL developers
Subject: [Gdal-dev] errors compiling on Win2K

I grabbed the latest cvs (031114) and compiling with OGR formats gives a lot
of errors when linking the gdal11.dll. Any ideas what needs to change to
make this work?
OBTW, I'm using VC++ 6 SP5 and Win2K SP4.


        link /dll /debug /INCLUDE:_OCTNewCoordinateTransformation
/INCLUDE:_OGRRegisterAll  /INCLUDE:_OGRFeatureStylePuller
/INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods
/INCLUDE:_OGR_G_GetPointCount /INCLUDE:_GDALSimpleImageWarp
/INCLUDE:_GDALSuggestedWarpOutput  /INCLUDE:_GDALGCPTra
nsform  /INCLUDE:_GDALComputeMedianCutPCT  /INCLUDE:_GDALDitherRGB2PCT
port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj
ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib      odbc32.lib  "C:\Program
Files\Earth Resource Mapping\ECW SDK"\lib\NCSEcw.lib "C:\Program Files\Earth
Resource Mapping\ECW SDK"\lib\NC
SEcwC.lib  "C:\Program Files\Earth Resource Mapping\ECW SDK"\lib\NCSUtil.lib
"C:\Svs_dev\src\jasper-1.700.2"\src\msvc\Win32_Release\libjasper.lib
/out:gdal11.dll /implib:gdal_i.lib
Microsoft (R) Incremental Linker Version 6.00.8447
Copyright (C) Microsoft Corp 1992-1998. All rights reserved.

LIBC.lib(crt0dat.obj) : error LNK2005: _exit already defined in
MSVCRT.lib(MSVCRT.dll)
LIBC.lib(crt0init.obj) : error LNK2005: ___xc_z already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xc_a already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xi_z already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xi_a already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(mbctype.obj) : error LNK2005: __getmbcp already defined in
MSVCRT.lib(MSVCRT.dll)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __strdup already defined in
LIBC.lib(strdup.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __unlink already defined in
LIBC.lib(unlink.obj)
LIBC.lib(crt0dat.obj) : warning LNK4006: _exit already defined in
MSVCRT.lib(MSVCRT.dll); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xc_z already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xc_a already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xi_z already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xi_a already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(mbctype.obj) : warning LNK4006: __getmbcp already defined in
MSVCRT.lib(MSVCRT.dll); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: __strdup already defined in
LIBC.lib(strdup.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: __unlink already defined in
LIBC.lib(unlink.obj); second definition ignored
   Creating library gdal_i.lib and object gdal_i.exp
LINK : warning LNK4098: defaultlib "MSVCRT" conflicts with use of other
libs; use /NODEFAULTLIB:library
LINK : warning LNK4098: defaultlib "LIBC" conflicts with use of other libs;
use /NODEFAULTLIB:library
LIBC.lib(crt0.obj) : error LNK2001: unresolved external symbol _main
gdal11.dll : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: 'link' : return code '0x460'
Stop.

Thom DeCarlo
Sr. S/W Eng, VisSim
ConITS - AvSP - LaRC - NASA




From warmerdam at pobox.com  Mon Nov 17 12:09:34 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] OGR 7 parameter Bursa Wolf transformation
In-Reply-To: <LAW10-F46wn9Wgtc2S60000ca33@hotmail.com>
References: <LAW10-F46wn9Wgtc2S60000ca33@hotmail.com>
Message-ID: <3FB900CE.7010709@pobox.com>

Per M?nsson wrote:
> 
> 
> I would like to make 7 parameter Bursa Wolf transformation to WGS84 
> Latitude, Longitude.
> 
> The  Ellipsoid is Bessel 1841, with the parameters:
> a   = 6377397.155
> 1/f = 299.1528128
> and I have the 7 parameters for the transform.
> 
> How do I create the two OGRSpatialReference objects for this 
> transformation ?

Per,

You should setup the Bessel GEOGCS with SetGeogCS() using the
appropriate semi-major and inv flatten value.

eg.

   OGRSpatialReference oSrcSRS;

   oSrcSRS.SetGeogCS( "MyGEOGCS", "MyDatum", "Bessel 1841",
                      6377397.155,  299.1528128 );

Then set the "TOWGS84" bursa wolf values.  Note, there are more than
one convension for the "handedness" if bursa wolf rotations and the units
of the scaling factor.  If you are getting grossly wrong values that may be
your problem, and we would have to dig into what OGR uses (what PROJ.4
uses that is).

   oSrcSRS.SetTOWGS84( 7-values );

The WGS84 can be setup more directly.

   OGRSpatialReference oDstSRS;

   oDstSRS.SetWellKnownGeogCS( "WGS84" );

Then setup a coordinate transformation object and use it ... that part
should be covered in the tutorial or spots like gdalinfo.c.

Good luck,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From T.R.DeCarlo at larc.nasa.gov  Mon Nov 17 14:54:04 2003
From: T.R.DeCarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:48:58 2007
Subject: [Gdal-dev] errors compiling on Win2K
In-Reply-To: <EPEALOKKOCCOEALLINACOEANFEAA.T.R.DeCarlo@larc.nasa.gov>
Message-ID: <EPEALOKKOCCOEALLINACMEAPFEAA.T.R.DeCarlo@larc.nasa.gov>

Nevermind, I found it.

The problem was the "Use run-time library" setting in the libjasper project.
It was set to "Single Threaded" and "Debug Single Threaded". After changing
that to "Multithreaded DLL" and "Debug Multithreaded DLL" and recompiling I
was able to successfully build GDAL. This setting was the same in both the
version "jasper-1.700.2" that I was originally using and the
"jasper-1.700.5.uuid" that I found referenced in the GDAL online
documentation (http://www.remotesensing.org/gdal/frmt_jpeg2000.html).

Also, there were a few more files in the ogr_fmts\s57 that were missing from
the makefiles. I changed the makefile.vc to look like this...


OBJ	=	ogrs57driver.obj ogrs57datasource.obj ogrs57layer.obj \
		s57classregistrar.obj s57reader.obj ddfrecordindex.obj \
		s57featuredefns.obj \
            s57dump.obj s57filecollector.obj s57writer.obj


Thom


-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org]On Behalf Of Thom DeCarlo
Sent: Monday, November 17, 2003 12:09 PM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] errors compiling on Win2K

Well, I'm still getting the same errors after downloading today's cvs
snapshot (031117). Can anyone help me out here?

Thanks,
Thom

-----Original Message-----
From: Thom DeCarlo
Sent: Friday, November 14, 2003 3:06 PM
To: GDAL developers
Subject: [Gdal-dev] errors compiling on Win2K

I grabbed the latest cvs (031114) and compiling with OGR formats gives a lot
of errors when linking the gdal11.dll. Any ideas what needs to change to
make this work?
OBTW, I'm using VC++ 6 SP5 and Win2K SP4.


        link /dll /debug /INCLUDE:_OCTNewCoordinateTransformation
/INCLUDE:_OGRRegisterAll  /INCLUDE:_OGRFeatureStylePuller
/INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods
/INCLUDE:_OGR_G_GetPointCount /INCLUDE:_GDALSimpleImageWarp
/INCLUDE:_GDALSuggestedWarpOutput  /INCLUDE:_GDALGCPTra
nsform  /INCLUDE:_GDALComputeMedianCutPCT  /INCLUDE:_GDALDitherRGB2PCT
port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj
ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib      odbc32.lib  "C:\Program
Files\Earth Resource Mapping\ECW SDK"\lib\NCSEcw.lib "C:\Program Files\Earth
Resource Mapping\ECW SDK"\lib\NC
SEcwC.lib  "C:\Program Files\Earth Resource Mapping\ECW SDK"\lib\NCSUtil.lib
"C:\Svs_dev\src\jasper-1.700.2"\src\msvc\Win32_Release\libjasper.lib
/out:gdal11.dll /implib:gdal_i.lib
Microsoft (R) Incremental Linker Version 6.00.8447
Copyright (C) Microsoft Corp 1992-1998. All rights reserved.

LIBC.lib(crt0dat.obj) : error LNK2005: _exit already defined in
MSVCRT.lib(MSVCRT.dll)
LIBC.lib(crt0init.obj) : error LNK2005: ___xc_z already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xc_a already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xi_z already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(crt0init.obj) : error LNK2005: ___xi_a already defined in
MSVCRT.lib(cinitexe.obj)
LIBC.lib(mbctype.obj) : error LNK2005: __getmbcp already defined in
MSVCRT.lib(MSVCRT.dll)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __strdup already defined in
LIBC.lib(strdup.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __unlink already defined in
LIBC.lib(unlink.obj)
LIBC.lib(crt0dat.obj) : warning LNK4006: _exit already defined in
MSVCRT.lib(MSVCRT.dll); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xc_z already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xc_a already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xi_z already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(crt0init.obj) : warning LNK4006: ___xi_a already defined in
MSVCRT.lib(cinitexe.obj); second definition ignored
LIBC.lib(mbctype.obj) : warning LNK4006: __getmbcp already defined in
MSVCRT.lib(MSVCRT.dll); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: __strdup already defined in
LIBC.lib(strdup.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: __unlink already defined in
LIBC.lib(unlink.obj); second definition ignored
   Creating library gdal_i.lib and object gdal_i.exp
LINK : warning LNK4098: defaultlib "MSVCRT" conflicts with use of other
libs; use /NODEFAULTLIB:library
LINK : warning LNK4098: defaultlib "LIBC" conflicts with use of other libs;
use /NODEFAULTLIB:library
LIBC.lib(crt0.obj) : error LNK2001: unresolved external symbol _main
gdal11.dll : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: 'link' : return code '0x460'
Stop.

Thom DeCarlo
Sr. S/W Eng, VisSim
ConITS - AvSP - LaRC - NASA



_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



From fulton at cmu.edu  Mon Nov 17 16:58:00 2003
From: fulton at cmu.edu (Sean Fulton)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] GDAL 1.1.9 on MacOS X
Message-ID: <1C69D94C-1949-11D8-9C20-003065D5F140@cmu.edu>

Hello,

Just thought I'd share...

I've finally gotten GDAL 1.1.9 to compile on OS X and have submitted a 
PortFile to DarwinPorts (http://darwinports.opendarwin.org/). 
DarwinPorts is s system for automated software installation on OS X 
like the BSD ports system.

For those who don't want to install DarwinPorts this should work 
(change the install path to suit):

$ ./configure --without-python
$ make LD_SHARED='g++ -dynamiclib -install_name 
/opt/local/lib/libgdal.1.1.dylib'
$ make install

	Sean


From fchen at ne.rsgs.ac.cn  Tue Nov 18 03:51:52 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Trouble in link with hdf4
Message-ID: <01ed01c3adb1$368eca10$b76b4dc0@NovaTheGreat>

Hi!
I don't know how to link with hdf4 in win32 :< 
First download the prebuilt hdf415 package and unpack it in the gdal root.
Then change two lines in nmake.opt.
HDF4_DIR = D:\gdal\HDF41r5
HDF4_LIB = /LIBPATH:$(HDF4_DIR)\libdbg

But the rebuild of GDAL report the lib collide. I know the GDAL build at /MD or /MDd. But the default build process point to a single-thread hdf lib. cl say "Automatic linking with the debug static single-threaded HDF library".

in hdfi.h

#if defined(_MSC_VER) && !defined(_MFHDFLIB_) && !defined(_HDFLIB_) /* Auto-link when possible */
# define HDF_LIB_VER "415"
# if !defined(_DEBUG)
#  if !defined(_HDFDLL_)
#   define HDF_LIB_NAME "HD" HDF_LIB_VER ".lib"
#   pragma message( "Automatic linking with the static single-threaded HDF library - " HDF_LIB_NAME )
#  else
#   define HDF_LIB_NAME "HD" HDF_LIB_VER "m.lib"
#   pragma message( "Automatic linking with the multithreaded HDF DLL - " HDF_LIB_NAME )
#  endif
# else
#  if !defined(_HDFDLL_)
#   define HDF_LIB_NAME "HD" HDF_LIB_VER "d.lib"
#   pragma message( "Automatic linking with the debug static single-threaded HDF library - " HDF_LIB_NAME  )
#  else
#   define HDF_LIB_NAME "HD" HDF_LIB_VER "md.lib"
#   pragma message( "Automatic linking with the debug multithreaded HDF DLL - " HDF_LIB_NAME  )
#  endif
# endif
# pragma comment(lib, HDF_LIB_NAME )
#endif /* def

The package of prebuilt hdf415 has four lib directories. Is the lib in the dlllibdbg what we need? where should i set the _HDFDLL_ ?

Any suggestion?

From RWinkler at DEFiNiENS.com  Tue Nov 18 10:02:19 2003
From: RWinkler at DEFiNiENS.com (Winkler, Roland)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Anything changed on reading Geo-Information from GeoTiff?
Message-ID: <023814FAC196D5119E4A00D0B76C0F98C7D1E4@mmuc.definiens.com>

Hi,

I have some problems with a geo-tiff. The x-coordinate I receive with 
GDALGetGeoTransform() has the wrong sign. It's positive, but it should
be negativ. With an older version of gdal (1.1.7) I get the correct value.

Is anything changed on reading the Geo-Information?

regards 
roland
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031118/77d965a2/attachment.html
From warmerdam at pobox.com  Tue Nov 18 10:10:30 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Anything changed on reading Geo-Information from GeoTiff?
In-Reply-To: <023814FAC196D5119E4A00D0B76C0F98C7D1E4@mmuc.definiens.com>
References: <023814FAC196D5119E4A00D0B76C0F98C7D1E4@mmuc.definiens.com>
Message-ID: <3FBA3666.7060408@pobox.com>

Winkler, Roland wrote:
> Hi,
> 
> I have some problems with a geo-tiff. The x-coordinate I receive with
> GDALGetGeoTransform() has the wrong sign. It's positive, but it should
> be negativ. With an older version of gdal (1.1.7) I get the correct value.
> 
> Is anything changed on reading the Geo-Information?

Roland,

Can you provide the file(set) in question for further investigation?
Altnernatively, showing the output from "gdalinfo" and "listgeo" would
be helpful in diagnosing the problem.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From RWinkler at DEFiNiENS.com  Tue Nov 18 11:03:58 2003
From: RWinkler at DEFiNiENS.com (Winkler, Roland)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Anything changed on reading Geo-Information from G
	eoTiff?
Message-ID: <023814FAC196D5119E4A00D0B76C0F98C7D1E7@mmuc.definiens.com>

I attched the output of gdalinfo and also the .tfw file of the tiff.
Unfortunately I don't know the "listgeo"-tool. 

I could also provide the image, but it's 75MB after compressing still
20MB, pretty to much for putting it into bugzilla. After creating a
subset with erdas or even with the older gdal version this problem
is vanished.

If you are still interested in the image I could put it on our ftp-server
or burn it on a CD and send this CD via mail. 

best regards
roland

> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
> Sent: Dienstag, 18. November 2003 16:11
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] Anything changed on reading 
> Geo-Information from GeoTiff?
> 
> 
> Winkler, Roland wrote:
> > Hi,
> > 
> > I have some problems with a geo-tiff. The x-coordinate I 
> receive with
> > GDALGetGeoTransform() has the wrong sign. It's positive, 
> but it should 
> > be negativ. With an older version of gdal (1.1.7) I get the correct 
> > value.
> > 
> > Is anything changed on reading the Geo-Information?
> 
> Roland,
> 
> Can you provide the file(set) in question for further 
> investigation? Altnernatively, showing the output from 
> "gdalinfo" and "listgeo" would be helpful in diagnosing the problem.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org 
> http://remotesensing.org/mailman/listinfo/gdal> -dev
> 

-------------- next part --------------
Driver: GTiff/GeoTIFF
Size is 5000, 5000
Coordinate System is `'
Origin = (57499.500000,240000.000000)
Pixel Size = (0.500000,-0.500000)
Corner Coordinates:
Upper Left  (   57499.500,  240000.000) 
Lower Left  (   57499.500,  237500.000) 
Upper Right (   59999.500,  240000.000) 
Lower Right (   59999.500,  237500.000) 
Center      (   58749.500,  238750.000) 
Band 1 Block=5000x1 Type=Byte, ColorInterp=Red
Band 2 Block=5000x1 Type=Byte, ColorInterp=Green
Band 3 Block=5000x1 Type=Byte, ColorInterp=Blue
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 10245001.tfw
Type: application/octet-stream
Size: 90 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031118/ee49a19d/10245001.obj
From warmerdam at pobox.com  Tue Nov 18 11:38:51 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Anything changed on reading Geo-Information from G
 eoTiff?
In-Reply-To: <023814FAC196D5119E4A00D0B76C0F98C7D1E7@mmuc.definiens.com>
References: <023814FAC196D5119E4A00D0B76C0F98C7D1E7@mmuc.definiens.com>
Message-ID: <3FBA4B1B.2080408@pobox.com>

Winkler, Roland wrote:
> I attched the output of gdalinfo and also the .tfw file of the tiff.
> Unfortunately I don't know the "listgeo"-tool. 
> 
> I could also provide the image, but it's 75MB after compressing still
> 20MB, pretty to much for putting it into bugzilla. After creating a
> subset with erdas or even with the older gdal version this problem
> is vanished.
> 
> If you are still interested in the image I could put it on our ftp-server
> or burn it on a CD and send this CD via mail. 

Roland,

That's pretty funky.  The x offset sign in your gdalinfo output does indeed
seem to be wrong for no apparent reason.  I created a simple little tiff file
and tried it with your .tfw file and gdalinfo and I got correct (negative
x offset) output, so the problem would appear to be related to either your
specific version of GDAL (that is CVS "head" seems fine), or something in
your environment (I tested on Linux with the default "C" lang environment).

If you are able to debug into your build of GDAL try stepping into
GDALReadWorldFile() (in gdal/gcore/gdal_misc.cpp) and see what is going wrong.
It is as if the atof() there is going wrong, or perhaps for some reason the
CSLLoad() is cutting off a character in the x offset line.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From RWinkler at DEFiNiENS.com  Tue Nov 18 12:04:08 2003
From: RWinkler at DEFiNiENS.com (Winkler, Roland)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Anything changed on reading Geo-Information from G
	 eoTiff?
Message-ID: <023814FAC196D5119E4A00D0B76C0F98C7D1ED@mmuc.definiens.com>

I just tested my .tfw with an arbitrary tif image and
I still have the described problems. I don't believe that I have 
something in my environment, because three people experienced the
problem on there machines before I got aware of this.
I'm working with MS Visual C++ 6.0 on XP and but this
shouldn't be a problem. Maybe it's the build. I took a 
csv snapshot some time ago.

I will debug into gdal/gcore/gdal_misc.cpp tomorrow  
and have a closer look. 

regards
Roland

> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
> Sent: Dienstag, 18. November 2003 17:39
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] Anything changed on reading 
> Geo-Information from G eoTiff?
> 
> 
> Winkler, Roland wrote:
> > I attched the output of gdalinfo and also the .tfw file of 
> the tiff. 
> > Unfortunately I don't know the "listgeo"-tool.
> > 
> > I could also provide the image, but it's 75MB after 
> compressing still 
> > 20MB, pretty to much for putting it into bugzilla. After creating a 
> > subset with erdas or even with the older gdal version this 
> problem is 
> > vanished.
> > 
> > If you are still interested in the image I could put it on our 
> > ftp-server or burn it on a CD and send this CD via mail.
> 
> Roland,
> 
> That's pretty funky.  The x offset sign in your gdalinfo 
> output does indeed seem to be wrong for no apparent reason.  
> I created a simple little tiff file and tried it with your 
> .tfw file and gdalinfo and I got correct (negative x offset) 
> output, so the problem would appear to be related to either 
> your specific version of GDAL (that is CVS "head" seems 
> fine), or something in your environment (I tested on Linux 
> with the default "C" lang environment).
> 
> If you are able to debug into your build of GDAL try stepping into
> GDALReadWorldFile() (in gdal/gcore/gdal_misc.cpp) and see 
> what is going wrong. It is as if the atof() there is going 
> wrong, or perhaps for some reason the
> CSLLoad() is cutting off a character in the x offset line.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org 
> http://remotesensing.org/mailman/listinfo/gdal> -dev
> 

From matt.wilkie at gov.yk.ca  Tue Nov 18 13:03:20 2003
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] gdal_translate: using "-b" switch
In-Reply-To: <20031115080400.GA29185@ak4719.spb.edu>
References: <20031115080400.GA29185@ak4719.spb.edu>
Message-ID: <3FBA5EE8.6020206@gov.yk.ca>

>>however when I use multiple -b's the output image only has one band. 
...
> No, your syntax is right, but your GDAL distribution is wrong :-)

erkh. Obviously I should be paying more attention to the changelog. 
Thanks Andrey.

Webmaster: It would be a good idea to note which gdal version number the 
docs page refers to.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------



From JCotter at BISMAIL.UCC.IE  Tue Nov 18 05:25:12 2003
From: JCotter at BISMAIL.UCC.IE (Cotter,John Sylvester)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] gdal11.dll
Message-ID: <EE45B69B5F21D61198F100A0C9955BC92BC160@lesath.ucc.ie>

Hi,
A message box is coming up when i click on the mapserv.exe that it can't
locate this dll in the folders.I have gdal19.dll installed and can't seem to
find gdal11.dll. But i tought that this was an updated version of
gdal11.dll. Does anyone know what is wrong or where i could find gdal11.dll
on the web.Regards

From roger at pocketterra.com  Tue Nov 18 13:35:28 2003
From: roger at pocketterra.com (Roger Bedell)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] 11 Bit Raster Satellite test GeoTiff Images from DigitalGlobe
Message-ID: <SYLVANSERVERdnHM3SO00000050@sylvanserver>

I am attempting to manipulate the sample 11 bit GTIFF from DigitalGlobe.
Nothing I do seems to work. For example, I tried to translate to JPEG using
GDAL_TRANSLATE.exe:

 

gdal_translate dg11.tif dg8.tif -of gtiff -ot byte

 

and 

 

gdal_translate dg11.tif dg8.jpg -of jpeg -ot byte

 

I'm really trying to use the Warp API, and it doesn't work either,
exhibiting similar behavior.

 

Download the sample from here (Do not redistribute):

 

www.pocketterra.com/sampledata/dg11.zip

 

 

It is about 48MB.

 

Thanks for your help!

 

 

Roger Bedell, President, Sylvan Ascent Inc.

roger@sylvanascent.com

505-758-7712

www.sylvanascent.com

www.pocketterra.com

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031118/7759b3e9/attachment.html
From warmerdam at pobox.com  Tue Nov 18 14:01:00 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] gdal11.dll
In-Reply-To: <EE45B69B5F21D61198F100A0C9955BC92BC160@lesath.ucc.ie>
References: <EE45B69B5F21D61198F100A0C9955BC92BC160@lesath.ucc.ie>
Message-ID: <3FBA6C6C.1090305@pobox.com>

Cotter,John Sylvester wrote:
> Hi,
> A message box is coming up when i click on the mapserv.exe that it can't
> locate this dll in the folders.I have gdal19.dll installed and can't seem to
> find gdal11.dll. But i tought that this was an updated version of
> gdal11.dll. Does anyone know what is wrong or where i could find gdal11.dll
> on the web.Regards

John,

I am not sure how you ended up with a DLL named gdal19.dll, but I would imagine
it is the GDAL 1.1.9 version.  I would suggest just renaming it gdal11.dll
which is the name used for all GDAL 1.1.x versions.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From matt at terraEngine.com  Tue Nov 18 14:11:06 2003
From: matt at terraEngine.com (Matt Lynch)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] gdal11.dll
In-Reply-To: <EE45B69B5F21D61198F100A0C9955BC92BC160@lesath.ucc.ie>
Message-ID: <000001c3ae07$b7984680$d701a8c0@matt>

Hi John,

If you look in the file nmake.opt
You will find the line

# Version number embedded in DLL name. 
VERSION =	11

Set your version to 11 (yours will say 19) and recompile
I think that should do it.

Regards,

Matt

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Cotter,John
Sylvester
Sent: Tuesday, November 18, 2003 3:25 AM
To: 'gdal-dev@remotesensing.org'
Subject: [Gdal-dev] gdal11.dll


Hi,
A message box is coming up when i click on the mapserv.exe that it can't
locate this dll in the folders.I have gdal19.dll installed and can't
seem to find gdal11.dll. But i tought that this was an updated version
of gdal11.dll. Does anyone know what is wrong or where i could find
gdal11.dll on the web.Regards
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


---
Incoming mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.532 / Virus Database: 326 - Release Date: 10/27/2003
 

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.532 / Virus Database: 326 - Release Date: 10/27/2003
 



From rec at geodesign.com.br  Tue Nov 18 16:47:04 2003
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] How to Add New ellps to cs2cs
Message-ID: <5.2.0.9.0.20031118184423.02d93bb0@mailhost.geodesign.com.br>

How would I add a new ellps to cs2cs?
I need to add the specs for the Brazilian Corrego Alegre
horizontal datum to go from latlong to utm.

Thanks in advance,

Reinaldo


Reinaldo Escada Chohfi, Ph.D.
Diretor
GeoDesign Internacional

www.geodesign.com.br

E-mail: rec@geodesign.com.br

Intelig?ncia e Tecnologia Espacial de Ponta

Urbanismo, Estudos Ambientais, Monitoriamento Ambiental,
Geoprocessamento, GIS, Processamento de Imagens Geogr?ficas,
Sensoriamento Remoto: Imagens de Sat?lites e Fotografias A?reas

Compress?o de Imagens e Documentos

Av. Cap. Messias Ribeiro, 419
12607-020 - Lorena - SP - Brasil

Tel./Fax: 0-XX-12-3153-5115 (Local)
              55-12-3153-5115 (Intl.)

Cel.: 011-9915-0027 (Local)
         55-11-9915-0027 (Intl.)

Informa??o confidencial. N?o retransmitir sem autoriza??o.
Copyright (c) 2003 GeoDesign Internacional
Todos os direitos reservados.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031118/d8b943f5/attachment.html
From dron at ak4719.spb.edu  Tue Nov 18 16:29:06 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Trouble in link with hdf4
In-Reply-To: <01ed01c3adb1$368eca10$b76b4dc0@NovaTheGreat>
References: <01ed01c3adb1$368eca10$b76b4dc0@NovaTheGreat>
Message-ID: <20031118212906.GA5484@ak4719.spb.edu>

Hi,

On Tue, Nov 18, 2003 at 04:51:52PM +0800, Fu Chen wrote:
> I don't know how to link with hdf4 in win32 :< 
> First download the prebuilt hdf415 package and unpack it in the gdal root.
> Then change two lines in nmake.opt.
> HDF4_DIR = D:\gdal\HDF41r5
> HDF4_LIB = /LIBPATH:$(HDF4_DIR)\libdbg

Add Ws2_32.lib here:

HDF4_LIB =	/LIBPATH:$(HDF4_DIR)\lib Ws2_32.lib

> But the rebuild of GDAL report the lib collide. I know the GDAL build
> at /MD or /MDd. But the default build process point to a single-thread
> hdf lib. cl say "Automatic linking with the debug static
> single-threaded HDF library".

You should rebuild GDAL witj /ML switch or rebuild HDF library with /MD.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From fchen at ne.rsgs.ac.cn  Wed Nov 19 02:19:19 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Trouble in link with hdf4
References: <01ed01c3adb1$368eca10$b76b4dc0@NovaTheGreat> <20031118212906.GA5484@ak4719.spb.edu>
Message-ID: <023901c3ae6d$72a1a3d0$b76b4dc0@NovaTheGreat>

Is there any probleam if I build gdal with /ML? Why gdal select to build with /MD as default?

----- Original Message ----- 
From: "Andrey Kiselev" <dron@ak4719.spb.edu>
To: <gdal-dev@remotesensing.org>
Sent: Wednesday, November 19, 2003 5:29 AM
Subject: Re: [Gdal-dev] Trouble in link with hdf4


> Hi,
> 
> On Tue, Nov 18, 2003 at 04:51:52PM +0800, Fu Chen wrote:
> > I don't know how to link with hdf4 in win32 :< 
> > First download the prebuilt hdf415 package and unpack it in the gdal root.
> > Then change two lines in nmake.opt.
> > HDF4_DIR = D:\gdal\HDF41r5
> > HDF4_LIB = /LIBPATH:$(HDF4_DIR)\libdbg
> 
> Add Ws2_32.lib here:
> 
> HDF4_LIB = /LIBPATH:$(HDF4_DIR)\lib Ws2_32.lib
> 
> > But the rebuild of GDAL report the lib collide. I know the GDAL build
> > at /MD or /MDd. But the default build process point to a single-thread
> > hdf lib. cl say "Automatic linking with the debug static
> > single-threaded HDF library".
> 
> You should rebuild GDAL witj /ML switch or rebuild HDF library with /MD.
> 
> Andrey
> 
> -- 
> Andrey V. Kiselev
> Home phone:  +7 812 5274898  ICQ# 26871517
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev

From RWinkler at DEFiNiENS.com  Wed Nov 19 06:09:09 2003
From: RWinkler at DEFiNiENS.com (Winkler, Roland)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Anything changed on reading Geo-Information from G
	 eoTiff?
Message-ID: <023814FAC196D5119E4A00D0B76C0F98C7D1FF@mmuc.definiens.com>

I debugged now GDALReadWorldFile() and I finally I found whats wrong with
this .tfw file. The .tfw has after the 6.line containing the last
coordintate another line containing something at the first position. If I
remove this line everything works fine and I get the correct coordinates. I
don't know if this .twf file is simply shitty, but on the other hand the
older version of gdal could read it correctly 

The problem isn't the atof in GDALReadWorldFile(), it's the CPLReadLine
which already reads this coordintates without the "-". For this 5.line the
file pointer in *CPLFGets is positioned after the "-" an therefore it isn't
read. If you place there any number this will be skipped, because the
filepointer isn't corrrect. While reading the first time the file into the
pszBuffer I saw the value -83 was read for this last position. Maybe it is
really a problem on the different linefeeds on Linux that you can't
reproduce.

Was anything changed on the reading from a stream recently?

Just tell me if you need more informations. For me it's ok now, because with
the edited file the image works, so I didn't examine what happend in detail
with the file pointer positions. 

best regards
roland

> -----Original Message-----
> From: Winkler, Roland [mailto:RWinkler@definiens.com] 
> Sent: Dienstag, 18. November 2003 18:04
> To: 'gdal-dev@remotesensing.org'
> Subject: RE: [Gdal-dev] Anything changed on reading 
> Geo-Information from G eoTiff?
> 
> 
> I just tested my .tfw with an arbitrary tif image and
> I still have the described problems. I don't believe that I have 
> something in my environment, because three people experienced 
> the problem on there machines before I got aware of this. I'm 
> working with MS Visual C++ 6.0 on XP and but this shouldn't 
> be a problem. Maybe it's the build. I took a 
> csv snapshot some time ago.
> 
> I will debug into gdal/gcore/gdal_misc.cpp tomorrow  
> and have a closer look. 
> 
> regards
> Roland
> 
> > -----Original Message-----
> > From: Frank Warmerdam [mailto:warmerdam@pobox.com]
> > Sent: Dienstag, 18. November 2003 17:39
> > To: gdal-dev@remotesensing.org
> > Subject: Re: [Gdal-dev] Anything changed on reading 
> > Geo-Information from G eoTiff?
> > 
> > 
> > Winkler, Roland wrote:
> > > I attched the output of gdalinfo and also the .tfw file of
> > the tiff.
> > > Unfortunately I don't know the "listgeo"-tool.
> > > 
> > > I could also provide the image, but it's 75MB after
> > compressing still
> > > 20MB, pretty to much for putting it into bugzilla. After 
> creating a
> > > subset with erdas or even with the older gdal version this 
> > problem is
> > > vanished.
> > > 
> > > If you are still interested in the image I could put it on our
> > > ftp-server or burn it on a CD and send this CD via mail.
> > 
> > Roland,
> > 
> > That's pretty funky.  The x offset sign in your gdalinfo
> > output does indeed seem to be wrong for no apparent reason.  
> > I created a simple little tiff file and tried it with your 
> > .tfw file and gdalinfo and I got correct (negative x offset) 
> > output, so the problem would appear to be related to either 
> > your specific version of GDAL (that is CVS "head" seems 
> > fine), or something in your environment (I tested on Linux 
> > with the default "C" lang environment).
> > 
> > If you are able to debug into your build of GDAL try stepping into
> > GDALReadWorldFile() (in gdal/gcore/gdal_misc.cpp) and see
> > what is going wrong. It is as if the atof() there is going 
> > wrong, or perhaps for some reason the
> > CSLLoad() is cutting off a character in the x offset line.
> > 
> > Best regards,
> > 
> > --
> > ---------------------------------------+----------------------
> > ----------
> > ---------------------------------------+------
> > I set the clouds in motion - turn up   | Frank Warmerdam, 
> > warmerdam@pobox.com
> > light and sound - activate the windows | http://pobox.com/~warmerdam
> > and watch the world go round - Rush    | Geospatial 
> > Programmer for Rent
> > 
> > 
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@remotesensing.org
> > http://remotesensing.org/mailman/listinfo/gdal> -dev
> > 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org 
> http://remotesensing.org/mailman/listinfo/gdal> -dev
> 

From warmerdam at pobox.com  Wed Nov 19 10:16:35 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Anything changed on reading Geo-Information from G
  eoTiff?
In-Reply-To: <023814FAC196D5119E4A00D0B76C0F98C7D1FF@mmuc.definiens.com>
References: <023814FAC196D5119E4A00D0B76C0F98C7D1FF@mmuc.definiens.com>
Message-ID: <3FBB8953.2040507@pobox.com>

Winkler, Roland wrote:
> I debugged now GDALReadWorldFile() and I finally I found whats wrong with
> this .tfw file. The .tfw has after the 6.line containing the last
> coordintate another line containing something at the first position. If I
> remove this line everything works fine and I get the correct coordinates. I
> don't know if this .twf file is simply shitty, but on the other hand the
> older version of gdal could read it correctly 
> 
> The problem isn't the atof in GDALReadWorldFile(), it's the CPLReadLine
> which already reads this coordintates without the "-". For this 5.line the
> file pointer in *CPLFGets is positioned after the "-" an therefore it isn't
> read. If you place there any number this will be skipped, because the
> filepointer isn't corrrect. While reading the first time the file into the
> pszBuffer I saw the value -83 was read for this last position. Maybe it is
> really a problem on the different linefeeds on Linux that you can't
> reproduce.
> 
> Was anything changed on the reading from a stream recently?

Roland,

Ahh. I think this is related to the problems we have had with CPLFGets().
In late August Andrey added a CPLFGets() function, and changed CPLReadLine()
to use it.  However, the CPLFGets() didn't work properly if the file being
read was opened in text mode on win32 systems (since seeking on a text file
doesn't generally work well).

About September 12th or so I fixed the problems, largely re-implementing
CPLFGets().

Can you check your gdal/port/cpl_conv.cpp file and verify that you have
version 1.29 or more recent?  If so, you shouldn't be having problems, but it
certainly possible there are bugs in my logic.  I tried reproducing the
problem with the current CVS source and your .tfw file and was not successful.
I am not sure if that is because the linefeeds were altered "in the mail" or
whether it is because you are working with slightly out of date code that
is buggy.

If you verify that you are working with the most recent code, I would
appreciate your emailing the .tfw file to me within a zip file to preserve
it's exact contents and I will try again.

> Just tell me if you need more informations. For me it's ok now, because with
> the edited file the image works, so I didn't examine what happend in detail
> with the file pointer positions. 

If there are still bugs in the system they could strike anyone unexpectedly.
I would very much like to isolate them and fix them.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From lorenzo.moretti at bologna.enea.it  Wed Nov 19 11:05:34 2003
From: lorenzo.moretti at bologna.enea.it (Lorenzo Moretti)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Trouble to compile GDAL-cvs with HDF4 in OS X
Message-ID: <a06002001bbe11d2bfe55@[192.107.62.86]>

I have compiled gdal-cvs in OSX without problem.
The problem is in GDAL with HDF4 support. I have hdf4.1r5 installed 
from FINK distibution ( http://fink.sf.net/ ): it install many files 
in /sw/bin (fp2hdf, gif2hdf, ...), in sw/lib (libdf.a, libmfhdf.a), 
in /sw/include (atom.h, bitvec.h, ...).

When I configure gdal with:
./configure --mandir=/usr/local/share/man --with-grass=no 
--with-libtiff=internal --with-geotiff=internal --with-jpeg=internal 
--with-gif=internal --with-png=internal --with-pg=no --without-python 
--with-ogdi=no --with-fme=no --with-jasper=no --with-kakadu=no 
--with-mrsid=no --with-hdf4=/sw --with-threads

I have this result in config.log:
...
configure:19321: result: no
configure:20320: checking for FMEObjects
configure:20325: result: disabled by user
configure:20476: checking for SDreaddata in -lmfhdf
configure:20509: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
-DCPL_MULTIPROC_PTHREAD  conftest.c -lmfhdf  -L/sw/lib -lz -lpthread 
-lm -ldl  >&5
ld: Undefined symbols:
_DFKNTsize
_DFKconvert
_DFKgetPNSC
_DFKislitendNT
_DFKisnativeNT
_HCcreate
_HCgetcompress
_HDget_special_info
_HEPclear
_HEpush
_HMCcreate
_HMCreadChunk
_HMCsetMaxcache
_HMCwriteChunk
_HPregister_term_func
_HXcreate
_Hendaccess
_Hinquire
_Hnewref
_Hsetaccesstype
_Vaddtagref
_Vattach
_Vdetach
_error_top
_DFKsetNT
_HDmemfill
_HLcreate
_Hread
_Hseek
_Hsetlength
_Hstartaccess
_Hstartread
_Hwrite
_Vgettagref
_Vntagrefs
_DFdiput
_DFdisetup
_DFdiwrite
_Hclose
_Hdeldd
_Hgetelement
_Hishdf
_Hlength
_Hopen
_Hputelement
_VFfieldorder
_VFfieldtype
_VHmakegroup
_VHstoredata
_VHstoredatam
_VSattach
_VSdelete
_VSdetach
_VSgetclass
_VSinquire
_VSread
_VSseek
_VSsetfields
_VSwrite
_Vdelete
_Vfindclass
_Vfinish
_Vgetclass
_Vgetnext
_Vinitialize
_Vinquire
_Visvg
_Visvs
_vexistvg
_vexistvs
_ANannlen
_ANannlist
_ANend
_ANendaccess
_ANnumann
_ANreadann
_ANstart
_DFdiget
_DFdiread
_Hnextread
configure:20512: $? = 1
configure: failed program was:
#line 20483 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char SDreaddata ();
#ifdef F77_DUMMY_MAIN
#  ifdef __cplusplus
      extern "C"
#  endif
    int F77_DUMMY_MAIN() { return 1; }
#endif
int
main ()
{
SDreaddata ();
   ;
   return 0;
}
configure:20529: result: no
configure:20538: checking for SDreaddata in -lhdf4
configure:20571: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
-DCPL_MULTIPROC_PTHREAD  conftest.c -lhdf4  -L/sw/lib -lz -lpthread 
-lm -ldl  >&5
ld: can't locate file for: -lhdf4
configure:20574: $? = 1
configure: failed program was:
#line 20545 "configure"
#include "confdefs.h"
....

Is this an error ?

After ./configure I enter make until the end without error (?????), I 
suppose, and after I enter sudo make install.
When I enter:
[lorenzo:~] lor% /usr/local/bin/gdal-config --formats
gxf gtiff hfa aigrid aaigrid ceos ceos2 iso8211 xpm sdts raw dted mem 
jdem envisat elas fit vrt usgsdem l1b nitf bmp pcidsk bsb hdf4 gif 
jpeg png
[lorenzo:~] lor%
I see hdf4 in the list.

Now I want to see the information from Aster files hdf:

[lorenzo:~] lor% /usr/local/bin/gdalinfo 
/ASTER_files/AST_L1B_002_01152002101254_05232402150244.hdf
Driver: HDF4/Hierarchical Data Format Release 4
Size is 512, 512
Coordinate System is `'
Metadata:
   HDFEOSVersion=HDFEOS_V2.6
   IDOFASTERGDSDATAGRANULE=ASTL1B 0201101012540205220094
   RECEIVINGCENTER=EDOS
   PROCESSINGCENTER=ASTER-GDS
   SENSORNAME=VNIR
   POINTINGANGLE=0.025000
   SETTINGTIMEOFPOINTING=2002-01-10T10:10:22Z
   SENSORNAME=SWIR
   ....
   .... (too much)


Now I compile Grass with GDAL support and after I use in grass the 
module r.in.gdal for importing the same file and I have this error:
   format not recognized


Is it possible to enable GDAL for supporting HDF4 lib in Mac OS X?
What is the error?
How can I use gdal for viewing ASTER hdf file?


Thanx

-- 
________________________________________________________________________
||      Lorenzo Moretti        e-mail: lorenzo.moretti@bologna.enea.it     
||/|/|  ENEA prot              Web: http://wwwamb.bologna.enea.it/    
||   |  via Don Fiammelli, 2   FTP: ftp://ftpamb.bologna.enea.it/ (ris.)
~~~~~~  40128 BOLOGNA - ITALY  Ph: +39-0516098086  Fax: +39-0516098131
________________________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031119/d3d00a10/attachment.html
From RWinkler at DEFiNiENS.com  Wed Nov 19 12:04:18 2003
From: RWinkler at DEFiNiENS.com (Winkler, Roland)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Anything changed on reading Geo-Information from G
	 eoTiff?
Message-ID: <023814FAC196D5119E4A00D0B76C0F98C7D21A@mmuc.definiens.com>

You are right!

I had Revision 1.23 were CPLFGets() was just introduced. I update the [prot]
files now the problem is vanished! I will have another test on your test
system tomorrow, but I'm pretty sure that this will work. If I have any
problem on this issue I will report immediatly.

Thanks for your support!
Roland

> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
> Sent: Mittwoch, 19. November 2003 16:17
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] Anything changed on reading 
> Geo-Information from G eoTiff?
> 
> 
> Winkler, Roland wrote:
> > I debugged now GDALReadWorldFile() and I finally I found 
> whats wrong 
> > with this .tfw file. The .tfw has after the 6.line 
> containing the last 
> > coordintate another line containing something at the first 
> position. 
> > If I remove this line everything works fine and I get the correct 
> > coordinates. I don't know if this .twf file is simply 
> shitty, but on 
> > the other hand the older version of gdal could read it correctly
> > 
> > The problem isn't the atof in GDALReadWorldFile(), it's the 
> > CPLReadLine which already reads this coordintates without 
> the "-". For 
> > this 5.line the file pointer in *CPLFGets is positioned 
> after the "-" 
> > an therefore it isn't read. If you place there any number 
> this will be 
> > skipped, because the filepointer isn't corrrect. While reading the 
> > first time the file into the pszBuffer I saw the value -83 was read 
> > for this last position. Maybe it is really a problem on the 
> different 
> > linefeeds on Linux that you can't reproduce.
> > 
> > Was anything changed on the reading from a stream recently?
> 
> Roland,
> 
> Ahh. I think this is related to the problems we have had with 
> CPLFGets(). In late August Andrey added a CPLFGets() 
> function, and changed CPLReadLine() to use it.  However, the 
> CPLFGets() didn't work properly if the file being read was 
> opened in text mode on win32 systems (since seeking on a text 
> file doesn't generally work well).
> 
> About September 12th or so I fixed the problems, largely 
> re-implementing CPLFGets().
> 
> Can you check your gdal/port/cpl_conv.cpp file and verify 
> that you have version 1.29 or more recent?  If so, you 
> shouldn't be having problems, but it certainly possible there 
> are bugs in my logic.  I tried reproducing the problem with 
> the current CVS source and your .tfw file and was not 
> successful. I am not sure if that is because the linefeeds 
> were altered "in the mail" or whether it is because you are 
> working with slightly out of date code that is buggy.
> 
> If you verify that you are working with the most recent code, 
> I would appreciate your emailing the .tfw file to me within a 
> zip file to preserve it's exact contents and I will try again.
> 
> > Just tell me if you need more informations. For me it's ok now, 
> > because with the edited file the image works, so I didn't 
> examine what 
> > happend in detail with the file pointer positions.
> 
> If there are still bugs in the system they could strike 
> anyone unexpectedly. I would very much like to isolate them 
> and fix them.
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org 
> http://remotesensing.org/mailman/listinfo/gdal> -dev
> 

From dron at ak4719.spb.edu  Wed Nov 19 11:59:20 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Trouble in link with hdf4
In-Reply-To: <023901c3ae6d$72a1a3d0$b76b4dc0@NovaTheGreat>
References: <01ed01c3adb1$368eca10$b76b4dc0@NovaTheGreat> <20031118212906.GA5484@ak4719.spb.edu> <023901c3ae6d$72a1a3d0$b76b4dc0@NovaTheGreat>
Message-ID: <20031119165920.GA23110@ak4719.spb.edu>

On Wed, Nov 19, 2003 at 03:19:19PM +0800, Fu Chen wrote:
> Is there any probleam if I build gdal with /ML? Why gdal select to
> build with /MD as default?

/MD selects linking with the dynamically loaded C library, so we can get
significally smaller size of the GDAL binary. You can select any from
the /Mx options to build GDAL.

The following copied from the MSVC manual:

Do not mix static and dynamic versions of the run-time libraries. Having
more than one copy of the run-time libraries in a process can cause
problems, because static data in one copy is not shared with the other
copy. The linker prevents you from linking with both static and dynamic
versions within one .exe file, but you can still end up with two (or
more) copies of the run-time libraries. For example, a dynamic-link
library linked with the static (non-DLL) versions of the run-time
libraries can cause problems when used with an .exe file that was linked
with the dynamic (DLL) version of the run-time libraries. (You should
also avoid mixing the debug and non-debug versions of the libraries in
one process.)

					Andrey
-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From dron at ak4719.spb.edu  Wed Nov 19 11:44:47 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Trouble to compile GDAL-cvs with HDF4 in OS X
In-Reply-To: <a06002001bbe11d2bfe55@[192.107.62.86]>
References: <a06002001bbe11d2bfe55@[192.107.62.86]>
Message-ID: <20031119164447.GA19380@ak4719.spb.edu>

Hi, Lorenzo,

On Wed, Nov 19, 2003 at 05:05:34PM +0100, Lorenzo Moretti wrote:
> I have compiled gdal-cvs in OSX without problem.
> The problem is in GDAL with HDF4 support. I have hdf4.1r5 installed 
> from FINK distibution ( http://fink.sf.net/ ): it install many files 
> in /sw/bin (fp2hdf, gif2hdf, ...), in sw/lib (libdf.a, libmfhdf.a), 
> in /sw/include (atom.h, bitvec.h, ...).
> 
> When I configure gdal with:
> ./configure --mandir=/usr/local/share/man --with-grass=no 
> --with-libtiff=internal --with-geotiff=internal --with-jpeg=internal 
> --with-gif=internal --with-png=internal --with-pg=no --without-python 
> --with-ogdi=no --with-fme=no --with-jasper=no --with-kakadu=no 
> --with-mrsid=no --with-hdf4=/sw --with-threads
> 
> I have this result in config.log:
> ...
> configure:19321: result: no
> configure:20320: checking for FMEObjects
> configure:20325: result: disabled by user
> configure:20476: checking for SDreaddata in -lmfhdf
...
> configure:20529: result: no
> configure:20538: checking for SDreaddata in -lhdf4
> configure:20571: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
> -DCPL_MULTIPROC_PTHREAD  conftest.c -lhdf4  -L/sw/lib -lz -lpthread 
> -lm -ldl  >&5
> ld: can't locate file for: -lhdf4
> configure:20574: $? = 1
> configure: failed program was:
> #line 20545 "configure"
> #include "confdefs.h"
> ....

Is it the end of the HDF-related log? I think it should be more
information after these two tests (in case you are using recent
snapshot).

> Is this an error ?

Yes, both tests are failed.

> After ./configure I enter make until the end without error (?????), I 
> suppose, and after I enter sudo make install.
> When I enter:
> [lorenzo:~] lor% /usr/local/bin/gdal-config --formats
> gxf gtiff hfa aigrid aaigrid ceos ceos2 iso8211 xpm sdts raw dted mem 
> jdem envisat elas fit vrt usgsdem l1b nitf bmp pcidsk bsb hdf4 gif 
> jpeg png
> [lorenzo:~] lor%
> I see hdf4 in the list.
> 
> Now I want to see the information from Aster files hdf:
> 
> [lorenzo:~] lor% /usr/local/bin/gdalinfo 
> /ASTER_files/AST_L1B_002_01152002101254_05232402150244.hdf
> Driver: HDF4/Hierarchical Data Format Release 4
> Size is 512, 512
> Coordinate System is `'
> Metadata:
>   HDFEOSVersion=HDFEOS_V2.6
>   IDOFASTERGDSDATAGRANULE=ASTL1B 0201101012540205220094
>   RECEIVINGCENTER=EDOS
>   PROCESSINGCENTER=ASTER-GDS
>   SENSORNAME=VNIR
>   POINTINGANGLE=0.025000
>   SETTINGTIMEOFPOINTING=2002-01-10T10:10:22Z
>   SENSORNAME=SWIR
>   ....

Looks like configure fails to detect a library, but build system does it
successful. Anyhow GDAL on your system supports HDF4. Otherwise you
can't get gdalinfo output for HDF files.

> Now I compile Grass with GDAL support and after I use in grass the 
> module r.in.gdal for importing the same file and I have this error:
>   format not recognized

Are you sure GRASS using recently compiled GDAL? Is it possible you have
outdated GDAL binaries somewhere in the system?

> Is it possible to enable GDAL for supporting HDF4 lib in Mac OS X?

Yes, you did it already!


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From lorenzo.moretti at bologna.enea.it  Wed Nov 19 13:13:21 2003
From: lorenzo.moretti at bologna.enea.it (Lorenzo Moretti)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Trouble to compile GDAL-cvs with HDF4 in OS X
In-Reply-To: <20031119164447.GA19380@ak4719.spb.edu>
References: <a06002001bbe11d2bfe55@[192.107.62.86]>
 <20031119164447.GA19380@ak4719.spb.edu>
Message-ID: <a06002002bbe155be40c0@[192.107.62.86]>

Hi, Andrey


>  > -lm -ldl  >&5
>>  ld: can't locate file for: -lhdf4
>>  configure:20574: $? = 1
>>  configure: failed program was:
>>  #line 20545 "configure"
>>  #include "confdefs.h"
>>  ....
>
>Is it the end of the HDF-related log? I think it should be more
>information after these two tests (in case you are using recent
>snapshot).

It's not complete !!!
from config.log

........
configure:19268: checking for ffopen in -lcfitsio
configure:19301: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
-DCPL_MULTIPROC_PTHREAD  conftest.c -lcfitsio  -lz -lpthread -lm 
-ldl  >&5
ld: can't locate file for: -lcfitsio
configure:19304: $? = 1
configure: failed program was:
#line 19275 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char ffopen ();
#ifdef F77_DUMMY_MAIN
#  ifdef __cplusplus
      extern "C"
#  endif
    int F77_DUMMY_MAIN() { return 1; }
#endif
int
main ()
{
ffopen ();
   ;
   return 0;
}
configure:19321: result: no
configure:20320: checking for FMEObjects
configure:20325: result: disabled by user
configure:20476: checking for SDreaddata in -lmfhdf
configure:20509: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
-DCPL_MULTIPROC_PTHREAD  conftest.c -lmfhdf  -L/sw/lib -lz -lpthread 
-lm -ldl  >&5
ld: Undefined symbols:
_DFKNTsize
_DFKconvert
_DFKgetPNSC
_DFKislitendNT
_DFKisnativeNT
_HCcreate
_HCgetcompress
_HDget_special_info
_HEPclear
_HEpush
_HMCcreate
_HMCreadChunk
_HMCsetMaxcache
_HMCwriteChunk
_HPregister_term_func
_HXcreate
_Hendaccess
_Hinquire
_Hnewref
_Hsetaccesstype
_Vaddtagref
_Vattach
_Vdetach
_error_top
_DFKsetNT
_HDmemfill
_HLcreate
_Hread
_Hseek
_Hsetlength
_Hstartaccess
_Hstartread
_Hwrite
_Vgettagref
_Vntagrefs
_DFdiput
_DFdisetup
_DFdiwrite
_Hclose
_Hdeldd
_Hgetelement
_Hishdf
_Hlength
_Hopen
_Hputelement
_VFfieldorder
_VFfieldtype
_VHmakegroup
_VHstoredata
_VHstoredatam
_VSattach
_VSdelete
_VSdetach
_VSgetclass
_VSinquire
_VSread
_VSseek
_VSsetfields
_VSwrite
_Vdelete
_Vfindclass
_Vfinish
_Vgetclass
_Vgetnext
_Vinitialize
_Vinquire
_Visvg
_Visvs
_vexistvg
_vexistvs
_ANannlen
_ANannlist
_ANend
_ANendaccess
_ANnumann
_ANreadann
_ANstart
_DFdiget
_DFdiread
_Hnextread
configure:20512: $? = 1
configure: failed program was:
#line 20483 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char SDreaddata ();
#ifdef F77_DUMMY_MAIN
#  ifdef __cplusplus
      extern "C"
#  endif
    int F77_DUMMY_MAIN() { return 1; }
#endif
int
main ()
{
SDreaddata ();
   ;
   return 0;
}
configure:20529: result: no
configure:20538: checking for SDreaddata in -lhdf4
configure:20571: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
-DCPL_MULTIPROC_PTHREAD  conftest.c -lhdf4  -L/sw/lib -lz -lpthread 
-lm -ldl  >&5
ld: can't locate file for: -lhdf4
configure:20574: $? = 1
configure: failed program was:
#line 20545 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char SDreaddata ();
#ifdef F77_DUMMY_MAIN
#  ifdef __cplusplus
      extern "C"
#  endif
    int F77_DUMMY_MAIN() { return 1; }
#endif
int
main ()
{
SDreaddata ();
   ;
   return 0;
}
configure:20591: result: no
configure:20604: checking for SDreaddata in -lmfhdf
configure:20637: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
-DCPL_MULTIPROC_PTHREAD  conftest.c -lmfhdf -ldf -ljpeg -lz -L/sw/lib 
-lz -lpthread -lm -ldl  >&5
configure:20640: $? = 0
configure:20643: test -s conftest
configure:20646: $? = 0
configure:20657: result: yes
configure:21072: checking for NCScbmOpenFileView in -lNCSEcw
configure:21105: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
-DCPL_MULTIPROC_PTHREAD  conftest.c -lNCSEcw  -L/sw/lib -lmfhdf -ldf 
-lz -lpthread -lm -ldl  >&5
ld: can't locate file for: -lNCSEcw
configure:21108: $? = 1
configure: failed program was:
#line 21079 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char NCScbmOpenFileView ();
#ifdef F77_DUMMY_MAIN
#  ifdef __cplusplus
      extern "C"
#  endif
    int F77_DUMMY_MAIN() { return 1; }
#endif
int
main ()
{
NCScbmOpenFileView ();
   ;
   return 0;
}
configure:21125: result: no
configure:21178: checking for Kakadu JPEG2000 support
configure:21190: result: not requested.
configure:21216: checking for MrSID support
configure:21228: result: not requested.
.........

>  > Is this an error ?
>
>Yes, both tests are failed.

Arghh !!!!


>  > After ./configure I enter make until the end without error (?????), I
>>  suppose, and after I enter sudo make install.
>>  When I enter:
>>  [lorenzo:~] lor% /usr/local/bin/gdal-config --formats
>>  gxf gtiff hfa aigrid aaigrid ceos ceos2 iso8211 xpm sdts raw dted mem
>>  jdem envisat elas fit vrt usgsdem l1b nitf bmp pcidsk bsb hdf4 gif
>>  jpeg png
>>  [lorenzo:~] lor%
>>  I see hdf4 in the list.
>>
>>  Now I want to see the information from Aster files hdf:
>>
>>  [lorenzo:~] lor% /usr/local/bin/gdalinfo
>>  /ASTER_files/AST_L1B_002_01152002101254_05232402150244.hdf
>>  Driver: HDF4/Hierarchical Data Format Release 4
>>  Size is 512, 512
>>  Coordinate System is `'
>>  Metadata:
>>    HDFEOSVersion=HDFEOS_V2.6
>>    IDOFASTERGDSDATAGRANULE=ASTL1B 0201101012540205220094
>>    RECEIVINGCENTER=EDOS
>>    PROCESSINGCENTER=ASTER-GDS
>>    SENSORNAME=VNIR
>>    POINTINGANGLE=0.025000
>>    SETTINGTIMEOFPOINTING=2002-01-10T10:10:22Z
>>    SENSORNAME=SWIR
>>    ....
>
>Looks like configure fails to detect a library, but build system does it
>successful. Anyhow GDAL on your system supports HDF4. Otherwise you
>can't get gdalinfo output for HDF files.

When I enter:

[lorenzo:~] lor% /usr/local/bin/gdal-config --libs
-L/usr/local/lib -lgdal
[lorenzo:~] lor%

At the beginning of ./configure I see 3 lines of SDreaddata:

.......
checking for FMEObjects... disabled by user
checking for SDreaddata in -lmfhdf... no
checking for SDreaddata in -lhdf4... no
checking for SDreaddata in -lmfhdf... yes
jpeg2000 support disabled.
.......

It'strange


>  > Now I compile Grass with GDAL support and after I use in grass the
>>  module r.in.gdal for importing the same file and I have this error:
>>    format not recognized
>
>Are you sure GRASS using recently compiled GDAL? Is it possible you have
>outdated GDAL binaries somewhere in the system?

I have built Grass binaries from grass53cvs source with this gdal 
binaries (--with-gdal=/usr/local/bin/gdal-config). I have new gdal 
binaries.
Grass import my SPOT files, QuickBird files but not Aster file (hdf). I read:
  ... not recognised as a supported file format

Is it an error in gdal or grass?

Have I to recompile grass?

Which tool can I use for converting this file from gdal?

I have a file named libgdal.la in /usr/local/lib
# libgdal.la - a libtool library file
# Generated by ltmain.sh - GNU libtool 1.5.0a (1.1220.2.25 2003/08/01 
19:08:35) Debian: 49 $
#
# Please DO NOT delete this file!
# It is necessary for linking the library.

# The name that we can dlopen(3).
dlname='libgdal.1.dylib'

# Names of this library.
library_names='libgdal.1.1.9.dylib libgdal.1.1.dylib libgdal.1.dylib 
libgdal.dylib'

# The name of the static archive.
old_library='libgdal.a'

# Libraries that this one depends upon.
dependency_libs=' /sw/lib/libodbc.la -L/sw/lib /sw/lib/libiconv.la 
-lmfhdf -ldf -lz -lpthread -lm -ldl'

# Version information for libgdal.
current=2
age=1
revision=9

# Is this an already installed library?
installed=yes

# Should we warn about portability when linking against -modules?
shouldnotlink=no

# Files to dlopen/dlpreopen
dlopen=''
dlpreopen=''

# Directory that this library needs to be installed in:
libdir='/usr/local/lib'

There is -lmfhdf and -ldf. Mmmhhhh !!!

>  > Is it possible to enable GDAL for supporting HDF4 lib in Mac OS X?
>
>Yes, you did it already!
>

Thanks

-- 
________________________________________________________________________
||      Lorenzo Moretti        e-mail: lorenzo.moretti@bologna.enea.it     
||/|/|  ENEA prot              Web: http://wwwamb.bologna.enea.it/    
||   |  via Don Fiammelli, 2   FTP: ftp://ftpamb.bologna.enea.it/ (ris.)
~~~~~~  40128 BOLOGNA - ITALY  Ph: +39-0516098086  Fax: +39-0516098131
________________________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031119/1b53146e/attachment.html
From afinley at gis.umn.edu  Wed Nov 19 13:46:01 2003
From: afinley at gis.umn.edu (Andrew Finley)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] OGRSpatialReference include?
Message-ID: <1069267561.23530.4.camel@populus>

Just a quick question, Im not sure which header should be included to
use the OGRSpatialReference variable.

 OGRSpatialReference prjInfo;

compiler says `OGRSpatialReference' undeclared (first use this
   function)

Thanks-
andy



-- 
Andrew Finley, Research Fellow
Department of Forest Resources
College of Natural Resources           
University of Minnesota
305 Green Hall
1530 Cleveland Avenue N.
St. Paul, MN 55108

Ph 612-624-1714 office
www.cnr.umn.edu/FR/people/facstaff/finley/index.html

From warmerdam at pobox.com  Wed Nov 19 13:56:39 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] OGRSpatialReference include?
In-Reply-To: <1069267561.23530.4.camel@populus>
References: <1069267561.23530.4.camel@populus>
Message-ID: <3FBBBCE7.5090806@pobox.com>

Andrew Finley wrote:
> Just a quick question, Im not sure which header should be included to
> use the OGRSpatialReference variable.
> 
>  OGRSpatialReference prjInfo;
> 
> compiler says `OGRSpatialReference' undeclared (first use this
>    function)

Andrew,

Use ogr_spatialref.h for C++ definition related to OGRSpatialReference
and OGRCoordinateTransformation.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From dron at ak4719.spb.edu  Wed Nov 19 14:12:04 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Trouble to compile GDAL-cvs with HDF4 in OS X
In-Reply-To: <a06002002bbe155be40c0@[192.107.62.86]>
References: <a06002001bbe11d2bfe55@[192.107.62.86]> <20031119164447.GA19380@ak4719.spb.edu> <a06002002bbe155be40c0@[192.107.62.86]>
Message-ID: <20031119191204.GA5254@ak4719.spb.edu>

On Wed, Nov 19, 2003 at 07:13:21PM +0100, Lorenzo Moretti wrote:
> > > -lm -ldl  >&5
> >> ld: can't locate file for: -lhdf4
> >> configure:20574: $? = 1
> >> configure: failed program was:
> >> #line 20545 "configure"
> >> #include "confdefs.h"
> >> ....
> >
> >Is it the end of the HDF-related log? I think it should be more
> >information after these two tests (in case you are using recent
> >snapshot).
> 
> It's not complete !!!
> from config.log
> 
> ........
> configure:20604: checking for SDreaddata in -lmfhdf
> configure:20637: gcc -o conftest -g -O2 -DCPL_MULTIPROC_PTHREAD  
> -DCPL_MULTIPROC_PTHREAD  conftest.c -lmfhdf -ldf -ljpeg -lz -L/sw/lib 
> -lz -lpthread -lm -ldl  >&5
> configure:20640: $? = 0
> configure:20643: test -s conftest
> configure:20646: $? = 0
> configure:20657: result: yes

Result looks nice!

> > > Is this an error ?
> >Yes, both tests are failed.
> Arghh !!!!

...but the third one succeeds.

> At the beginning of ./configure I see 3 lines of SDreaddata:
> .......
> checking for FMEObjects... disabled by user
> checking for SDreaddata in -lmfhdf... no
> checking for SDreaddata in -lhdf4... no
> checking for SDreaddata in -lmfhdf... yes
> jpeg2000 support disabled.
> .......
> It'strange

It is normal behaviour. Configure performs several tests, because HDF
binaries can be compiled with different optional libraries, so we check
all possibilities.

> >Are you sure GRASS using recently compiled GDAL? Is it possible you have
> >outdated GDAL binaries somewhere in the system?
> I have built Grass binaries from grass53cvs source with this gdal 
> binaries (--with-gdal=/usr/local/bin/gdal-config). I have new gdal 
> binaries.
> Grass import my SPOT files, QuickBird files but not Aster file (hdf). I 
> read:
>  ... not recognised as a supported file format
> Is it an error in gdal or grass?
> Have I to recompile grass?

I have no idea with except of wrong GDAL binaries used by the GRASS.
Try to ensure again you are using the right ones.

> Which tool can I use for converting this file from gdal?

gdal_translate helps you to convert that ASTERs in any GDAL supported
format. GeoTIFF will be used by default (so all georeferencing will be
preserved). Don't forget that you should run gdalinfo on your file the
first and select one of the subdatasets for further processing.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From afinley at gis.umn.edu  Wed Nov 19 16:25:10 2003
From: afinley at gis.umn.edu (Andrew Finley)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] OGRSpatialReference include?
In-Reply-To: <3FBBBCE7.5090806@pobox.com>
References: <1069267561.23530.4.camel@populus>  <3FBBBCE7.5090806@pobox.com>
Message-ID: <1069277110.23530.7.camel@populus>

Thanks Frank, Rush rocks!

On Wed, 2003-11-19 at 12:56, Frank Warmerdam wrote:
> Andrew Finley wrote:
> > Just a quick question, Im not sure which header should be included to
> > use the OGRSpatialReference variable.
> > 
> >  OGRSpatialReference prjInfo;
> > 
> > compiler says `OGRSpatialReference' undeclared (first use this
> >    function)
> 
> Andrew,
> 
> Use ogr_spatialref.h for C++ definition related to OGRSpatialReference
> and OGRCoordinateTransformation.
> 
> Best regards,

From hi_ono2001 at ybb.ne.jp  Thu Nov 20 13:28:39 2003
From: hi_ono2001 at ybb.ne.jp (Hisaji Ono)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Any plan to build direct interfaces to GEOS  or to Shapelib
Message-ID: <012201c3af94$1e68c870$818001db@webgis>

Hello.

 I know I can use GEOS functions via PostgreSQL in GDAL.

 However, I think there's some demands using GEOS for local files.

 Do you have any plan of implementing direct interface to GEOS in GDAL or
shapelib?

 Regards.




From warmerdam at pobox.com  Thu Nov 20 13:40:34 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Re: Any plan to build direct interfaces to GEOS  or to Shapelib
In-Reply-To: <012201c3af94$1e68c870$818001db@webgis>
References: <012201c3af94$1e68c870$818001db@webgis>
Message-ID: <3FBD0AA2.2090506@pobox.com>

Hisaji Ono wrote:
> Hello.
> 
>  I know I can use GEOS functions via PostgreSQL in GDAL.
> 
>  However, I think there's some demands using GEOS for local files.
> 
>  Do you have any plan of implementing direct interface to GEOS in GDAL or
> shapelib?


Hisaji,

It has been my intention to incorporate GEOS (optionally) into OGR so
that the various geometry operations can be done on OGRGeometry objects.
I am not sure when this would happen.  I don't have a pressing need just
now, but it might come up, in the context of more complete WFS spatial
filtering support in MapServer at some point.

I am not planning to incorporate it in Shapelib.  It is my preference to
keep Shapelib small and simple and focused on shape read/write.  I kind of
regret some of the other odds and ends that have accumulated there since
I don't have the time or inclination to support them properly.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From Kyler at lairds.com  Fri Nov 21 12:13:08 2003
From: Kyler at lairds.com (Kyler Laird)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] I think I need help with warping.
Message-ID: <20031121171308.GC18374@lairds.com>

I'm trying to combine lots of map images.  Here are a couple of small edge
samples with a lot of overlap.
	http://aviationtoolbox.org/tmp/translate1.tif
	http://aviationtoolbox.org/tmp/translate2.tif

I'm confuesd by the need to rotate/warp these in order to make them line up to
each other.  They appear to be in the same projection (Lambert Conformal Conic
2SP) but the latitude_of_origin, central_meridian, and pixel size values are
slightly different.  I'm still working on understanding the meaning of those
differences.

However...while I'm pursuing enlightenment, it would help me immensely if
someone would make some suggestions on combining these images.  Eventually I
want to go across the entire ConUS and I need to redo it every 28 days so I
want to do this well - not just manually slop together something that looks
about right.

Python code would be especially appreciated.  Speed is not critical.  I expect
I should provide more details so please don't hesitate to tell me what's
needed.

Also, if someone is interested in mentoring me on this for a couple hundred
dollars, please contact me directly.

Thank you.

--kyler

From roger at beardandsandals.co.uk  Fri Nov 21 14:56:57 2003
From: roger at beardandsandals.co.uk (Roger James)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Bug in ogr mitab driver
Message-ID: <000001c3b069$a4e854d0$fe0ba8c0@lancaster.beardandsandals.co.uk>

Frank,

 

There is a bug in mitab_miffile.cpp.

 

When reading column names if the start of the column name matches any of
the predefined mapinfo header names such as Version, then the column
description is interpreted as a occurrence of that header field rather
than as a user defined column description.

 

My apologies if this has already been reported.

 

Roger

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031121/c94c8f66/attachment.html
From warmerdam at pobox.com  Fri Nov 21 15:42:31 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] I think I need help with warping.
In-Reply-To: <20031121171308.GC18374@lairds.com>
References: <20031121171308.GC18374@lairds.com>
Message-ID: <3FBE78B7.7030204@pobox.com>

Kyler Laird wrote:
> I'm trying to combine lots of map images.  Here are a couple of small edge
> samples with a lot of overlap.
> 	http://aviationtoolbox.org/tmp/translate1.tif
> 	http://aviationtoolbox.org/tmp/translate2.tif
> 
> I'm confuesd by the need to rotate/warp these in order to make them line up to
> each other.  They appear to be in the same projection (Lambert Conformal Conic
> 2SP) but the latitude_of_origin, central_meridian, and pixel size values are
> slightly different.  I'm still working on understanding the meaning of those
> differences.

Kyler,

If they have different parameters for the projection then they are different
coordinate system with the same underlying projection method.  You need to pick
a coordinate system and resolution you want to operate on country wide (or perhaps
split the country into a few sections each in their own coordinate system.

> However...while I'm pursuing enlightenment, it would help me immensely if
> someone would make some suggestions on combining these images.  Eventually I
> want to go across the entire ConUS and I need to redo it every 28 days so I
> want to do this well - not just manually slop together something that looks
> about right.

The trickiest part of this is trimming off all the stuff that *isn't* part of the
image itself.  I have looked at the Atlanta north and south map chunks, and it
doesn't look trivial to me to cut away all the surround information.  The map data
area's don't seem to fall on clean cutlines in lat/long or the projection that is
used.

I have made a crack at doing this and this is the process I used:

  o In order to trim off the map surround, I collected a polygon cutline for
    the area *off the map* in OpenEV, and saved it as a shapefile.

  o I wrote a script in python, but using OpenEV as well as GDAL instrisics
    to trim off the surround area. This was accomplishing using the OpenEV
    polygon rasterization intrinsics.    The script is attached (clip_raster.py)
    The clip_raster.py needs to be able to update the file in place, so I made
    a copy of the source file using gdal_translate first ... the copy is by
    default uncompressed and should be updatable in place with GDAL.  The
    original might have been ok too, but I didn't want to mess with it.

    The result of running clip_raster.py is that the areas under the polygon
    (presumably the non-map areas) are masked out with the value 255 which seems
    to be used for some no-data edging in the original tiff files.

    % gdal_translate Atlanta71North.tif at_north_wrk.tif
    % clip_raster.py at_north_wrk.tif mask_at_north.shp

  o Next, I converted the files to RGB so they can be merged effectively.  I
    just used the stock pct2rgb.py script in gdal/pymod for this.

    % ~/gdal/pymod/pct2rgb.py at_north_wrk.tif at_north_rgb.tif

  o Repeat above sequence for other files, in my case the atlanta south file.

  o Now I needed to decide on an output projection for the mosaic file.
    For this effort I just used the projection the atlanta files were
    already in.  Copied from the gdalinfo output it looks like
    this (which I saved to a file 'atlanta.wkt'):

PROJCS["unnamed",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.2572221010042,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4269"]],
     PROJECTION["Lambert_Conformal_Conic_2SP"],
     PARAMETER["standard_parallel_1",38.66666666666667],
     PARAMETER["standard_parallel_2",33.33333333333336],
     PARAMETER["latitude_of_origin",34.10833333333333],
     PARAMETER["central_meridian",-84.50000000000003],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]

  o Next, I needed to create a mosaic file with extents in the selected
    output projection suitable to hold all the inputs.  To compute the
    appropriate bounds and create the empty mosaic file I created a script
    (attached as create_mosaic.py).

    % create_mosaic.py ./atlanta.wkt mosaic.tif at_north_rgb.tif at_south_rgb.tif

  o The mosaic file now exists, but is empty. I now use gdalwarp to "copy" each
    file in.  At this step it is necessary to know what color 255 translated into
    in the pct2rgb process.  It seems the value mapped to different colors in the
    two files I got.  I used OpenEV to inspect the output image from the pct2rgb
    process, but you should also be able to inspect the last entry in the input
    file color table.  I got the rgb values 206,41,33 for the north file, and
    8,107,8 for the south file.

    % gdalwarp -srcnodata '206 41 33' at_north_rgb.tif mosaic.tif
    % gdalwarp -srcnodata '8 107 8' at_south_rgb.tif mosaic.tif

This produced a pretty decent mosaic.  Some issues are:

  o You are unlikely to be able to TIFF format for the mosaic since even in this
    small case of two parts of a map, the resulting file was 334MB and the limit
    for TIFF is 4GB.

  o The quality of the match between mapsheets wasn't great.  I would guess the
    georeferencing of the individual files can be out by as much as 240 meters or
    so.  Still ... no bad.

  o For some maps the edges are quite curved, meaning the polygon cutline needs to
    have alot of vertices along the curve.

  o The cutlines and "nodata values" may not be reusable when the maps are
    regenerated ... but it is hard to be sure since I don't know the process
    for generating them.

A proof of concept, though not a problem free process. Some of the steps could
be boiled into a more automated script.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

-------------- next part --------------
#!/usr/bin/env python

import gdal
import osr
import gview
import gvalg
import sys

# =============================================================================
def Usage():
    print 'Usage: clip_raster.py <raster> <mask_in>.shp'
    sys.exit( 1 )

# =============================================================================
#
# Program mainline.
#

if len(sys.argv) != 3:
    Usage()

raster_filename = sys.argv[1]
mask_filename = sys.argv[2]

# =============================================================================
# Instantiate a GvRaster for the file in update mode.

raster_fd = gdal.Open( raster_filename, gdal.GA_Update )
raster = gview.GvRaster( dataset = raster_fd )

# =============================================================================
# Load the vector layer. 

mask = gview.GvShapes( shapefilename = mask_filename )

# =============================================================================
# Apply masking.

gvalg.rasterize_shapes( raster, mask, 255 )

-------------- next part --------------
#!/usr/bin/env python

import gdal
import osr
import sys
import osr

# =============================================================================
def Usage():
    print 'Usage: create_mosaic.py <coordinate_sys> <mosaic> <raster> ...'
    sys.exit( 1 )

# =============================================================================
# Program mainline.
#

if len(sys.argv) < 4:
    Usage()

srs_arg = sys.argv[1]

mosaic = sys.argv[2]
files = sys.argv[3:]

# =============================================================================
# Instantiate the coordinate system.

target_srs = osr.SpatialReference()
if target_srs.SetFromUserInput( srs_arg ) != 0:
    print 'Failed to create SRS.'
    sys.exit( 1 )

print 'Generating Mosaic in Coordinate System:'
print target_srs.ExportToPrettyWkt()

# =============================================================================
# Process all files.

targ_xmin = None
targ_ymin = None
targ_xmax = None
targ_ymax = None

for filename in files:

    fd = gdal.Open( filename )

    # Read projection, and create transformer to target SRS. 
    file_srs_wkt = fd.GetProjection()
    file_srs = osr.SpatialReference()
    file_srs.ImportFromWkt( file_srs_wkt )
    
    ct = osr.CoordinateTransformation( file_srs, target_srs )
    
    # Setup bounds in source srs.
    gt = fd.GetGeoTransform()
    
    ulx = gt[0]
    uly = gt[3]
    
    lrx = gt[0] + fd.RasterXSize * gt[1] + fd.RasterYSize * gt[2]
    lry = gt[3] + fd.RasterXSize * gt[4] + fd.RasterYSize * gt[5]
    
    corners = [ (ulx, uly), (ulx, lry), (lrx, uly), (lrx, lry) ]
    
    for corner in corners:
        (x,y,z) = ct.TransformPoint( corner[0], corner[1] )
        if targ_xmin is None:
            targ_xmin = x
            targ_xmax = x
            targ_ymin = y
            targ_ymax = y
        else:
            targ_xmin = min(targ_xmin,x)
            targ_xmax = max(targ_xmax,x)
            targ_ymin = min(targ_ymin,y)
            targ_ymax = max(targ_ymax,y)

if targ_xmin is None:
    print 'Failed to get extents, stopping.'
    sys.exit( 1 )

# =============================================================================
# What is the target file size and geotransform?
#
# For now we will hardcode 60m x 60m pixels.

x_pixel_size = 60.0
y_pixel_size = 60.0

xsize = (targ_xmax - targ_xmin) / x_pixel_size + 1
ysize = (targ_ymax - targ_ymin) / y_pixel_size + 1

targ_gt = (targ_xmin, x_pixel_size, 0.0,
           targ_ymax, 0.0, - y_pixel_size)

# =============================================================================
# Create target RGB "mosaic" file.  

driver = gdal.GetDriverByName( 'GTiff' )

fd = driver.Create( mosaic, xsize, ysize, 3, gdal.GDT_Byte, [ 'TILED=YES' ] )

fd.SetProjection( target_srs.ExportToWkt() )
fd.SetGeoTransform( targ_gt )




From warmerdam at pobox.com  Fri Nov 21 15:53:20 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Bug in ogr mitab driver
In-Reply-To: <000001c3b069$a4e854d0$fe0ba8c0@lancaster.beardandsandals.co.uk>
References: <000001c3b069$a4e854d0$fe0ba8c0@lancaster.beardandsandals.co.uk>
Message-ID: <3FBE7B40.4010900@pobox.com>

Roger James wrote:
> Frank,
> 
>  
> 
> There is a bug in mitab_miffile.cpp.
> 
>  
> 
> When reading column names if the start of the column name matches any of 
> the predefined mapinfo header names such as Version, then the column 
> description is interpreted as a occurrence of that header field rather 
> than as a user defined column description.
> 
>  
> 
> My apologies if this has already been reported.

Roger,

Could you submit this as a bug into the MITAB bugzilla at mitab.maptools.org?

Thanks,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From cgn at globexplorer.com  Fri Nov 21 16:23:30 2003
From: cgn at globexplorer.com (Chris G. Nicholas)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] MMS false color from 16-bit unsigned data?
Message-ID: <71E37EF6B7DCC1499CEA0316A2568328E7A207@loki.wc.globexplorer.net>

I see in the MMS Raster HOW-TO "classification" section the note:

"Some format drivers (ie. GDAL) cast the pixel values to the range 0 to 255 before applying the classification scheme to them"

What's involved to address this issue; purely tweeks to mapgdal.c?  It would be extremely cool to apply these things on the fly to HDF slices and lossless jpeg2000 grayscales...

Chris

From warmerdam at pobox.com  Fri Nov 21 16:40:10 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] MMS false color from 16-bit unsigned data?
References: <71E37EF6B7DCC1499CEA0316A2568328E7A207@loki.wc.globexplorer.net>
Message-ID: <3FBE863A.6070903@pobox.com>

Chris G. Nicholas wrote:
> I see in the MMS Raster HOW-TO "classification" section the note:
> 
> "Some format drivers (ie. GDAL) cast the pixel values to the range 0 to 255 before applying the classification scheme to them"
> 
> What's involved to address this issue; purely tweeks to mapgdal.c?  It would be extremely cool to apply these things on the fly to HDF slices and lossless jpeg2000 grayscales...

Chris,

There is currently various ways of controlling how the data is scaled to
0 to 255, but the problem that the classification isn't being applied till
after the translation is still there.

To answer your question, the solution would all be local to mapgdal.c in
MapServer, but might require significant restructuring.  But the reason
I haven't done anything about this problem is that running a pixel value
through the classification process is relatively expensive.  Too expensive
to apply to on the order of a quarter million pixel values you might have in
a typical 500x500 map view.  So, instead we just apply the classification
scheme 256 times, to each value between 0 and 255 and remember the results.
Much faster.

But of course, as we see here, with 16bit data there would be 64K possible
values.  For floating point data there is no way of doing the tabular approach.

I don't really see what to do to produce acceptable performance for the
general case.  I am cc:ing mapserver-dev since this is really more of a
mapserver issue than a gdal one.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From ben at vterrain.org  Fri Nov 21 16:49:47 2003
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] I think I need help with warping.
In-Reply-To: <3FBE78B7.7030204@pobox.com>
Message-ID: <008301c3b079$61f78a50$f400fe0a@TOPP2>

Wow.  I just gotta say, this is the most over-the-top excellent support i
have ever seen on any software, commercial or otherwise.  With insanely fast
turnaround, a whole analysis of a complicated dataset and a huge detailed
set of instructions and scripts on how to work with it!

Frank, you know you rock; what more can i say; i'm amazed.

-Ben

> -----Original Message-----
> From: Frank Warmerdam
> Sent: Friday, November 21, 2003 3:43 PM
> 
> Kyler Laird wrote:
> > I'm trying to combine lots of map images.
> 
> Kyler,
> 
> [Huge detailed assistance here...]


From cgn at globexplorer.com  Fri Nov 21 16:53:11 2003
From: cgn at globexplorer.com (Chris G. Nicholas)
Date: Wed Nov 21 11:48:59 2007
Subject: [Mapserver-dev] Re: [Gdal-dev] MMS false color from 16-bit unsigned data?
Message-ID: <71E37EF6B7DCC1499CEA0316A2568328E7A20B@loki.wc.globexplorer.net>

totally agreed; 8 and 16-bit cached lookups are the only feasible special cases....but this would sure cover a lot of very interesting data....(elevation, temperature, rainfall ...)

Chris

-----Original Message-----
From:	Frank Warmerdam [mailto:warmerdam@pobox.com]
Sent:	Fri 11/21/2003 1:40 PM
To:	gdal-dev@remotesensing.org
Cc:	mapserver-dev
Subject:	[Mapserver-dev] Re: [Gdal-dev] MMS false color from 16-bit unsigned data?
Chris G. Nicholas wrote:
> I see in the MMS Raster HOW-TO "classification" section the note:
> 
> "Some format drivers (ie. GDAL) cast the pixel values to the range 0 to 255 before applying the classification scheme to them"
> 
> What's involved to address this issue; purely tweeks to mapgdal.c?  It would be extremely cool to apply these things on the fly to HDF slices and lossless jpeg2000 grayscales...

Chris,

There is currently various ways of controlling how the data is scaled to
0 to 255, but the problem that the classification isn't being applied till
after the translation is still there.

To answer your question, the solution would all be local to mapgdal.c in
MapServer, but might require significant restructuring.  But the reason
I haven't done anything about this problem is that running a pixel value
through the classification process is relatively expensive.  Too expensive
to apply to on the order of a quarter million pixel values you might have in
a typical 500x500 map view.  So, instead we just apply the classification
scheme 256 times, to each value between 0 and 255 and remember the results.
Much faster.

But of course, as we see here, with 16bit data there would be 64K possible
values.  For floating point data there is no way of doing the tabular approach.

I don't really see what to do to produce acceptable performance for the
general case.  I am cc:ing mapserver-dev since this is really more of a
mapserver issue than a gdal one.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Mapserver-dev mailing list
Mapserver-dev@lists.gis.umn.edu
http://lists.gis.umn.edu/mailman/listinfo/mapserver-dev





From warmerdam at pobox.com  Fri Nov 21 19:53:46 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] I think I need help with warping.
In-Reply-To: <008301c3b079$61f78a50$f400fe0a@TOPP2>
References: <008301c3b079$61f78a50$f400fe0a@TOPP2>
Message-ID: <3FBEB39A.2060606@pobox.com>

Ben Discoe wrote:
> Wow.  I just gotta say, this is the most over-the-top excellent support i
> have ever seen on any software, commercial or otherwise.  With insanely fast
> turnaround, a whole analysis of a complicated dataset and a huge detailed
> set of instructions and scripts on how to work with it!
> 
> Frank, you know you rock; what more can i say; i'm amazed.

Ben,

Umm, well, Kyler asked me about it a week ago.  I started work on some
utilities, and downloaded some datasets last weekend and then it fell off
my radar without getting back to him with anything useful.

So, when I saw is email  felt kind of guilty and was able to get to something
useful reasonably quickly.

It was also more fun that the work I am supposed to be doing today...

Later,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From fchen at ne.rsgs.ac.cn  Sat Nov 22 08:07:05 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] some problems in rasterio
Message-ID: <047701c3b0f9$87309840$b76b4dc0@NovaTheGreat>

I am reading the code of rasterio.cpp. In the code of IRasterIO, 

    for( iBufYOff = 0; iBufYOff < nBufYSize; iBufYOff++ )
    {
        int     iBufOffset, iSrcOffset;
        
        dfSrcY = (iBufYOff+0.5) * dfSrcYInc + nYOff;
        iSrcY = (int) dfSrcY;

        iBufOffset = iBufYOff * nLineSpace;

The problem is why there is a 0.5 here. Isn't iBufYOff=0  --> nYOff?

Sometimes i think the IRasterIO should turn its XOff YOff XSize YSize into double, which will make it more accurate when you are doing supersample and extract data by tiles. 

Best regards

Fu CHEN



From Kyler at lairds.com  Fri Nov 21 23:25:38 2003
From: Kyler at lairds.com (Kyler Laird)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] I think I need help with warping.
In-Reply-To: <3FBE78B7.7030204@pobox.com>
References: <20031121171308.GC18374@lairds.com> <3FBE78B7.7030204@pobox.com>
Message-ID: <20031122042538.GY24648@jowls>

On Fri, Nov 21, 2003 at 03:42:31PM -0500, Frank Warmerdam wrote:

[lots of good stuff I've been studying...]

>    % gdalwarp -srcnodata '206 41 33' at_north_rgb.tif mosaic.tif
>    % gdalwarp -srcnodata '8 107 8' at_south_rgb.tif mosaic.tif
> 
> This produced a pretty decent mosaic.  Some issues are:

I've never gotten gdalwarp to work.  I think I'd like to roll my own
but I don't see any of the transform functionality mentioned in the
Python interface.  Am I just overlooking it?

I think I'm getting a handle on everything else.

Thank you!

--kyler


From hi_ono2001 at ybb.ne.jp  Sun Nov 23 05:55:13 2003
From: hi_ono2001 at ybb.ne.jp (Hisaji Ono)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Not recognized bill form in Cygwin build
Message-ID: <003b01c3b1b0$458db0a0$818001db@webgis>

Hello.

 I've built latest gdal-cvs, and tried to run gdalinfo against "bil" format
file.

 But gdal didn't recognize it.

 Could you give me any hint about this?

 Regards.


From Kyler at lairds.com  Sun Nov 23 11:12:23 2003
From: Kyler at lairds.com (Kyler Laird)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Can I manipulate the palette?
Message-ID: <20031123161223.GB24648@jowls>

I see that I can create a ColorTable and I can set it as part of
ComputeMedianCutPCT(), but I haven't located a way to set individual
entries.  Is this something that's hidden on purpose?  Is there a clean
way to manipulate the palette?

Thank you.

--kyler


From siwlyfe at hotmail.com  Mon Nov 24 03:45:50 2003
From: siwlyfe at hotmail.com (=?gb2312?B?wu0guuqyqQ==?=)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Can you give me a hand?
Message-ID: <BAY9-F47YC98Bi89Qtp0000ba1f@hotmail.com>

Hello Mr VTP:
     I'm chinese student,and my EN. name is siwlyfe.Now I'm facing of the 
problem of got the format of Arc/info Binary Grid.Though I got one about a 
week ago on the 
web:http://gdal.velocet.ca/projects/aigrid/aigrid_format.html,I finally 
found that it sometimes was not very the same with the format of my grid 
data examples.Can you give me a hand?Please tell me where can I got the 
accurate discription of the format.Thanks a lot!
     Waiting for your reply,thank you!
                                                                    yours 
siwlyfe

_________________________________________________________________
 MSN Messenger:  http://messenger.msn.com/cn  


From warmerdam at pobox.com  Mon Nov 24 09:46:36 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Can I manipulate the palette?
In-Reply-To: <20031123161223.GB24648@jowls>
References: <20031123161223.GB24648@jowls>
Message-ID: <3FC219CC.3020208@pobox.com>

Kyler Laird wrote:
> I see that I can create a ColorTable and I can set it as part of
> ComputeMedianCutPCT(), but I haven't located a way to set individual
> entries.  Is this something that's hidden on purpose?  Is there a clean
> way to manipulate the palette?

Kyler,

The GDALComputeMedianCutPCT() produces a PCT that is good for a given RGB
image.  It doesn't provide any mechanism to "guide" the selection of colors
for the color table.  However, after the PCT is generated you can alter
it as you wish, adding, replacing or removing colors.

Hmm, actually, looking at the GDALColorTable methods there isn't really any
way to remove entries.  But in a pinch you could just create a new color
table and copy over only the entries you want to preserve.

The C level colortable functions are:

/* ==================================================================== */
/*      Color tables.                                                   */
/* ==================================================================== */
/** Color tuple */
typedef struct
{
     /*! gray, red, cyan or hue */
     short      c1;

     /*! green, magenta, or lightness */
     short      c2;

     /*! blue, yellow, or saturation */
     short      c3;

     /*! alpha or blackband */
     short      c4;
} GDALColorEntry;

GDALColorTableH CPL_DLL GDALCreateColorTable( GDALPaletteInterp );
void CPL_DLL            GDALDestroyColorTable( GDALColorTableH );
GDALColorTableH CPL_DLL GDALCloneColorTable( GDALColorTableH );
GDALPaletteInterp CPL_DLL GDALGetPaletteInterpretation( GDALColorTableH );
int CPL_DLL             GDALGetColorEntryCount( GDALColorTableH );
const GDALColorEntry CPL_DLL *GDALGetColorEntry( GDALColorTableH, int );
int CPL_DLL GDALGetColorEntryAsRGB( GDALColorTableH, int, GDALColorEntry *);
void CPL_DLL GDALSetColorEntry( GDALColorTableH, int, const GDALColorEntry * );


Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From Kyler at lairds.com  Mon Nov 24 09:56:17 2003
From: Kyler at lairds.com (Kyler Laird)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Can I manipulate the palette?
In-Reply-To: <3FC219CC.3020208@pobox.com>
References: <20031123161223.GB24648@jowls> <3FC219CC.3020208@pobox.com>
Message-ID: <20031124145617.GA17594@lairds.com>

On Mon, Nov 24, 2003 at 09:46:36AM -0500, Frank Warmerdam wrote:

> >I see that I can create a ColorTable and I can set it as part of
> >ComputeMedianCutPCT(), but I haven't located a way to set individual
> >entries.  Is this something that's hidden on purpose?  Is there a clean
> >way to manipulate the palette?
> 
> Kyler,
> 
> The GDALComputeMedianCutPCT() produces a PCT that is good for a given RGB
> image.  It doesn't provide any mechanism to "guide" the selection of colors
> for the color table.

I want to do much more than guide it.  I want to build the palette
from scratch.

> However, after the PCT is generated you can alter
> it as you wish, adding, replacing or removing colors.
> 
> Hmm, actually, looking at the GDALColorTable methods there isn't really any
> way to remove entries.  But in a pinch you could just create a new color
> table and copy over only the entries you want to preserve.
>
> The C level colortable functions are:

I'm doing this in Python.  Am I correct that there is no (clean)
way to manipulate the palette from Python?

My "solution" (kludge) is to use PIL to create a 1x1 image with
the desired palette and then open it with GDAL to grab the palette.
I should be able to use StringIO to encapsulate this into something
(subclass) that almost looks reasonable.  I was just hoping that
GDAL provided an interface already.

--kyler

From jmt at twilley.org  Mon Nov 24 14:31:06 2003
From: jmt at twilley.org (Jack Twilley)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] tigerpoly.py - how to use it?
Message-ID: <861xrxva11.fsf@duchess.twilley.org>

I am an extreme newbie to GDAL, so please be gentle.

I discovered pymod/samples/tigerpoly.py and tried to use it.

I downloaded the TIGER/Line 2002 data for Contra Costa County in
California and have the following files:

total 34580
drwxr-xr-x    2 jmt  jmt       512 Nov 23 23:39 .
drwxr-xr-x  103 jmt  jmt      8192 Nov 24 10:55 ..
-rw-r--r--    1 jmt  jmt  12345480 Nov 20  2002 TGR06013.RT1
-rw-r--r--    1 jmt  jmt   3426150 Nov 20  2002 TGR06013.RT2
-rw-r--r--    1 jmt  jmt    101700 Nov 20  2002 TGR06013.RT4
-rw-r--r--    1 jmt  jmt    777954 Nov 20  2002 TGR06013.RT5
-rw-r--r--    1 jmt  jmt    228930 Nov 20  2002 TGR06013.RT6
-rw-r--r--    1 jmt  jmt     37240 Nov 20  2002 TGR06013.RT7
-rw-r--r--    1 jmt  jmt     14668 Nov 20  2002 TGR06013.RT8
-rw-r--r--    1 jmt  jmt   3030116 Nov 20  2002 TGR06013.RTA
-rw-r--r--    1 jmt  jmt     30256 Nov 20  2002 TGR06013.RTC
-rw-r--r--    1 jmt  jmt   2050240 Nov 20  2002 TGR06013.RTH
-rw-r--r--    1 jmt  jmt   6924204 Nov 20  2002 TGR06013.RTI
-rw-r--r--    1 jmt  jmt    671771 Nov 20  2002 TGR06013.RTP
-rw-r--r--    1 jmt  jmt       312 Nov 20  2002 TGR06013.RTR
-rw-r--r--    1 jmt  jmt   2429810 Nov 20  2002 TGR06013.RTS
-rw-r--r--    1 jmt  jmt   1932903 Nov 20  2002 TGR06013.RTT
-rw-r--r--    1 jmt  jmt   1117088 Nov 20  2002 TGR06013.RTZ

When I run the tigerpoly.py script using input and output directories
for arguments, I get the following shapefile:

-rw-r--r--    1 jmt  jmt  4962200 Nov 23 23:41 out.dbf
-rw-r--r--    1 jmt  jmt  4475352 Nov 23 23:41 out.shp
-rw-r--r--    1 jmt  jmt   114444 Nov 23 23:41 out.shx

shpdump tells me that this shapefile is of type polygon and contains
14293 shapes.  When I examined the output with the rendering tool I
normally use for shapefiles, it appears to have all the possible
layers jammed together.  I see water polygons, land boundaries, major
roads, minor roads, water features, everything all together.

Is there a way to generate individual shapefiles for each layer
instead of one shapefile containing everything?  I read through the
script and didn't see any way to set options to only output a single
layer per file or anything.  If I'm missing something. please let me
know as this would be terribly useful.

Jack.
-- 
Jack Twilley
jmt at twilley dot org
http colon slash slash www dot twilley dot org slash tilde jmt slash
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 186 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031124/407c9c94/attachment.bin
From dron at ak4719.spb.edu  Mon Nov 24 15:18:57 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Not recognized bill form in Cygwin build
In-Reply-To: <003b01c3b1b0$458db0a0$818001db@webgis>
References: <003b01c3b1b0$458db0a0$818001db@webgis>
Message-ID: <20031124201857.GA19043@ak4719.spb.edu>

On Sun, Nov 23, 2003 at 07:55:13PM +0900, Hisaji Ono wrote:
>  I've built latest gdal-cvs, and tried to run gdalinfo against "bil"
>  format file. But gdal didn't recognize it.

Do you have an ESRI format? .bil itself just raw binary data file, all
supporting information contained in the .hdr and .prj files, which
should be located in the same directory as the .bil file.

					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From warmerdam at pobox.com  Mon Nov 24 15:57:50 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] tigerpoly.py - how to use it?
In-Reply-To: <861xrxva11.fsf@duchess.twilley.org>
References: <861xrxva11.fsf@duchess.twilley.org>
Message-ID: <3FC270CE.5050701@pobox.com>

Jack Twilley wrote:
> shpdump tells me that this shapefile is of type polygon and contains
> 14293 shapes.  When I examined the output with the rendering tool I
> normally use for shapefiles, it appears to have all the possible
> layers jammed together.  I see water polygons, land boundaries, major
> roads, minor roads, water features, everything all together.
> 
> Is there a way to generate individual shapefiles for each layer
> instead of one shapefile containing everything?  I read through the
> script and didn't see any way to set options to only output a single
> layer per file or anything.  If I'm missing something. please let me
> know as this would be terribly useful.

Jack,

I am somewhat embarrassed to admit I don't know enough about the meaning
of the various fields in the tiger dataset to really figure out which
boundaries are for things like water boundaries.  Basically, in TIGER/Line
all the lines are in one big heap, and if you want to split it into layers
you need to do so based on the various attributes on the edges and/or
polygons.

I have successfully work out country and stateboundaries before mostly by
only extracting edges for which the left and right county or state id were
different.

I would encourage you to download and review the TIGER/Line manual to
understand the data model better.  However, you might find it easier to
utilize one of the "predigested" tiger datasets from folks like ESRI
(shapefile format) or Manifold (in their own format).

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From jmt at twilley.org  Mon Nov 24 16:28:36 2003
From: jmt at twilley.org (Jack Twilley)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] tigerpoly.py - how to use it?
In-Reply-To: <3FC270CE.5050701@pobox.com> (Frank Warmerdam's message of
 "Mon, 24 Nov 2003 15:57:50 -0500")
References: <861xrxva11.fsf@duchess.twilley.org> <3FC270CE.5050701@pobox.com>
Message-ID: <86llq5tq0r.fsf@duchess.twilley.org>

>>>>> "Frank" == Frank Warmerdam <warmerdam@pobox.com> writes:

Jack> shpdump tells me that this shapefile is of type polygon and
Jack> contains 14293 shapes.  When I examined the output with the
Jack> rendering tool I normally use for shapefiles, it appears to have
Jack> all the possible layers jammed together.  I see water polygons,
Jack> land boundaries, major roads, minor roads, water features,
Jack> everything all together.  Is there a way to generate individual
Jack> shapefiles for each layer instead of one shapefile containing
Jack> everything?  I read through the script and didn't see any way to
Jack> set options to only output a single layer per file or anything.
Jack> If I'm missing something. please let me know as this would be
Jack> terribly useful.

Frank> Jack,

Frank> I am somewhat embarrassed to admit I don't know enough about
Frank> the meaning of the various fields in the tiger dataset to
Frank> really figure out which boundaries are for things like water
Frank> boundaries.  Basically, in TIGER/Line all the lines are in one
Frank> big heap, and if you want to split it into layers you need to
Frank> do so based on the various attributes on the edges and/or
Frank> polygons.

Okay.  So the sample script just connects all the dots without regard
to what they mean.  That's cool.

Frank> I have successfully work out country and stateboundaries before
Frank> mostly by only extracting edges for which the left and right
Frank> county or state id were different.

Frank> I would encourage you to download and review the TIGER/Line
Frank> manual to understand the data model better.  However, you might
Frank> find it easier to utilize one of the "predigested" tiger
Frank> datasets from folks like ESRI (shapefile format) or Manifold
Frank> (in their own format).

It's easier to download files from ESRI if only a few files are
desired.  It's pretty frustrating to get, say, all of California.

I'll look over the model and see if I can figure out how to do this.
I just wish someone else had done the hard part already. :-)

Jack.
-- 
Jack Twilley
jmt at twilley dot org
http colon slash slash www dot twilley dot org slash tilde jmt slash
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 186 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031124/0114af2c/attachment.bin
From fchen at ne.rsgs.ac.cn  Tue Nov 25 06:48:18 2003
From: fchen at ne.rsgs.ac.cn (Fu Chen)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] how to build with jp2kak in win32?
Message-ID: <HLENLPCAGDEHMNMNLIDJIEAHCAAA.fchen@ne.rsgs.ac.cn>

Hi!
in nmake.opt, there is 

# Uncommment if you have Frank's modified Kakadu build.
#KAKDIR =	D:\warmerda\jp2\kakadu

I have kakadu sdk, and build it by VisualC++. But where is Frank's modified Kakadu build? I couldn't find it in the source tree.
any idea?

From warmerdam at pobox.com  Tue Nov 25 09:28:14 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] how to build with jp2kak in win32?
In-Reply-To: <HLENLPCAGDEHMNMNLIDJIEAHCAAA.fchen@ne.rsgs.ac.cn>
References: <HLENLPCAGDEHMNMNLIDJIEAHCAAA.fchen@ne.rsgs.ac.cn>
Message-ID: <3FC366FE.5080904@pobox.com>

Fu Chen wrote:
> Hi!
> in nmake.opt, there is 
> 
> # Uncommment if you have Frank's modified Kakadu build.
> #KAKDIR =	D:\warmerda\jp2\kakadu
> 
> I have kakadu sdk, and build it by VisualC++. But where is Frank's modified Kakadu build? I couldn't find it in the source tree.
> any idea?

Fu Chen,

If you have Kakadu 4.0 or newer it doesn't require any special
modifications.  In Kakadu 3.x I had to hand modify Kakadu to
add support for reading and writing the JP2 box.

Hopefully you can just point this variable to your Kakadu dist
and uncomment.

PS. I have updated the comment in the nmake.opt file this morning.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From jluis at ualg.pt  Tue Nov 25 11:19:30 2003
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] code to guess the pixels and lines of a raw image
References: <00a401c3a84c$dabd8460$b76b4dc0@NovaTheGreat>
Message-ID: <3FC38112.A3568EDA@ualg.pt>


Fu Chen wrote:

> This is a small script to guess the pixels and lines of a raw image. I think photoshop use the same engine, but more efficient. I hope this code will be useful for some pals. Enjoy!

Fu,
I translated your code to matlab and than realized that it only works for gray scale images.
Well, at least with the example file I used (an RGBA raw file).
Andrey, does your code work with color raw images?

Thanks

J. Luis


From dron at ak4719.spb.edu  Tue Nov 25 11:28:48 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] code to guess the pixels and lines of a raw image
In-Reply-To: <3FC38112.A3568EDA@ualg.pt>
References: <00a401c3a84c$dabd8460$b76b4dc0@NovaTheGreat> <3FC38112.A3568EDA@ualg.pt>
Message-ID: <20031125162848.GA583@ak4719.spb.edu>

On Tue, Nov 25, 2003 at 04:19:30PM +0000, Joaquim Luis wrote:
> I translated your code to matlab and than realized that it only works
> for gray scale images. Well, at least with the example file I used (an
> RGBA raw file). Andrey, does your code work with color raw images?

Works for any data type (including floating point) and any number of
bands. But testing required, though, because I can't check any possible
cases. Also you should realize, that without information about number of
bands and header size it will give wrong results. For example, the width
of image will be reported as real_width*number_of_bands (in case of
pixel interlaced image). But if you even don't know exactly an image
geometry it still helps you to determine the one.

And, finally, the image should be a "good one" in sense of contents. For
example, if you have the white filled image with the one small black
letter in the corner --- it is not the case when the algorithm works :-)

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From w.blanken at geon.nl  Wed Nov 26 10:06:53 2003
From: w.blanken at geon.nl (Wim Blanken)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
Message-ID: <001c01c3b42e$f0896fa0$6400a8c0@BLANKEN>

Hello ListMembers,

I need a WINDOWS version of ogr2ogr including OCI (oracle spatial) support and ESRI Shapefile support.
I cannot compile the executable on windows myself. Can i get this binary from somewhere? 
I would be very gratefull.

Sincerely.

W.Blanken

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031126/0268bbc9/attachment.html
From TMitchell at lignum.com  Wed Nov 26 11:11:22 2003
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <001c01c3b42e$f0896fa0$6400a8c0@BLANKEN>
Message-ID: <OF75254FA6.28B17832-ON88256DEA.0058DA72-88256DEA.0058EE71@lignum.com>





Wim,
Does this one:
ftp://ftp.remotesensing.org/pub/gdal/gdal119.zip
not include the support you are looking for?  It will at least do the shape
files for you.
Let us know if you have trouble finding the utilities you need in this
package.

Tyler

gdal-dev-admin@remotesensing.org wrote on 11/26/2003 07:06:53 AM:

> Hello ListMembers,
>
> I need a WINDOWS version of ogr2ogr including OCI (oracle spatial)
> support and ESRI Shapefile support.
> I cannot compile the executable on windows myself. Can i get this
> binary from somewhere?
> I would be very gratefull.
>
> Sincerely.
>
> W.Blanken
>


From dem at acri-st.fr  Wed Nov 26 11:58:05 2003
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] OGR DGN compile error
Message-ID: <5.0.2.1.2.20031126175755.00aad488@mail.acri.fr>

Hi,


I've just updated my GDAL CVS sources and there is an error in the latests 
modifications on OGR DGN driver :

(Compile on Windows XP with MSVC++ 6.0) :

=> ogrdgnlayer.cpp(840) : error C2660: 'DGNCreateComplexHeaderFromGroup' : 
function does not take 4 parameters


ogrdgnlayer.cpp :
=============

         papsGroup[0] =
             DGNCreateComplexHeaderFromGroup( hDGN, nGroupType,
                                              iGeom, papsGroup + 1 );

dgnwrite.cpp :
===========

DGNElemCore *
DGNCreateComplexHeaderFromGroup( DGNHandle hDGN, int nType, int nSurfType,
                                  int nNumElems, DGNElemCore **papsElems )

{


We must add the nSurfType parameter to the call of 
DGNCreateComplexHeaderFromGroup...



Thanks in advance for fix ! :-)


Julien


From matt.wilkie at gov.yk.ca  Wed Nov 26 12:33:49 2003
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <OF75254FA6.28B17832-ON88256DEA.0058DA72-88256DEA.0058EE71@lignum.com>
References: <OF75254FA6.28B17832-ON88256DEA.0058DA72-88256DEA.0058EE71@lignum.com>
Message-ID: <3FC4E3FD.8010707@gov.yk.ca>

 >>I cannot compile the executable on windows myself. Can i get this
 >>binary from somewhere?
...
> Does this one:
> ftp://ftp.remotesensing.org/pub/gdal/gdal119.zip
> not include the support you are looking for?  

that's not a binary package, it still needs to be compiled.
I too would like to get a precompiled windows binary of 1.1.9 if there 
are any available.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------



From w.blanken at geon.nl  Wed Nov 26 12:49:54 2003
From: w.blanken at geon.nl (Wim Blanken)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
References: <OF75254FA6.28B17832-ON88256DEA.0058DA72-88256DEA.0058EE71@lignum.com> <3FC4E3FD.8010707@gov.yk.ca>
Message-ID: <002b01c3b445$b88bf930$6400a8c0@BLANKEN>

A precompiled version is included in the OpenEV distribution for sofar I
know.
But in that OpenEV distribution (1.6.2) the support for Oracle Spatial is
not included.
That's my problem.....

Sincerely

W. Blanken

----- Original Message -----
From: "Matt Wilkie" <matt.wilkie@gov.yk.ca>
To: <gdal-dev@remotesensing.org>
Sent: Wednesday, November 26, 2003 6:33 PM
Subject: Re: [Gdal-dev] windows ogr2ogr including OCI


> >>I cannot compile the executable on windows myself. Can i get this
>  >>binary from somewhere?
> ...
> > Does this one:
> > ftp://ftp.remotesensing.org/pub/gdal/gdal119.zip
> > not include the support you are looking for?
>
> that's not a binary package, it still needs to be compiled.
> I too would like to get a precompiled windows binary of 1.1.9 if there
> are any available.
>
> cheers,
>
> --
> matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> --------------------------------------------
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>
>


From cgarcia at cable.net.co  Wed Nov 26 14:19:35 2003
From: cgarcia at cable.net.co (CARLOS GARCIA)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <001c01c3b42e$f0896fa0$6400a8c0@BLANKEN>
Message-ID: <000001c3b452$3ab9d100$260001c0@CARLOSG>


 Wim, try this address
 
http://www.sigtech-co.com/gdal11_OCI.zip 

 
Carlos

-----Mensaje original-----
De: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] En nombre de Wim Blanken
Enviado el: Mi?rcoles, 26 de Noviembre de 2003 10:07 a.m.
Para: gdal-dev@remotesensing.org
Asunto: [Gdal-dev] windows ogr2ogr including OCI


Hello ListMembers,
 
I need a WINDOWS version of ogr2ogr including OCI (oracle spatial)
support and ESRI Shapefile support.
I cannot compile the executable on windows myself. Can i get this binary
from somewhere? 
I would be very gratefull.
 
Sincerely.
 
W.Blanken
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031126/788f4868/attachment.html
From matt.wilkie at gov.yk.ca  Wed Nov 26 14:59:27 2003
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <002b01c3b445$b88bf930$6400a8c0@BLANKEN>
References: <002b01c3b445$b88bf930$6400a8c0@BLANKEN>
Message-ID: <3FC5061F.1050402@gov.yk.ca>

Wim Blanken wrote:

> A precompiled version is included in the OpenEV distribution for sofar I
> know.

yes that's true but it's only gdal 1.1.8. I'm itching for v1.1.9 as it 
has a couple of features I want to play with.

> But in that OpenEV distribution (1.6.2) the support for Oracle Spatial
> is not included. That's my problem.....

Frank (or anybody who knows):

Is it possible to use cygwin to build a distributable win-binary? (e.g. 
can run on a machine that doesn't have cygwin installed)

I'm willing to through some time and a computer at it although I'm not a 
developer and it will take me some time to wade through. If you have an 
RTFM to throw my way I'll take a shot at it.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------



From dem at acri-st.fr  Wed Nov 26 11:35:16 2003
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] OGR DGN compile error
Message-ID: <5.0.2.1.2.20031126172812.00a726d8@mail.acri.fr>

Hi,


I've just updated my GDAL CVS sources and there is an error in the latests 
modifications on OGR DGN driver :

(Compile on Windows XP with MSVC++ 6.0) :

=> ogrdgnlayer.cpp(840) : error C2660: 'DGNCreateComplexHeaderFromGroup' : 
function does not take 4 parameters


ogrdgnlayer.cpp :
=============

         papsGroup[0] =
             DGNCreateComplexHeaderFromGroup( hDGN, nGroupType,
                                              iGeom, papsGroup + 1 );

dgnwrite.cpp :
===========

DGNElemCore *
DGNCreateComplexHeaderFromGroup( DGNHandle hDGN, int nType, int nSurfType,
                                  int nNumElems, DGNElemCore **papsElems )

{


We must add the nSurfType parameter to the call of 
DGNCreateComplexHeaderFromGroup...



Thanks in advance for fix ! :-)


Julien


From cgarcia at cable.net.co  Wed Nov 26 13:44:56 2003
From: cgarcia at cable.net.co (CARLOS GARCIA)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <001c01c3b42e$f0896fa0$6400a8c0@BLANKEN>
Message-ID: <000601c3b44d$63aa4310$260001c0@CARLOSG>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal11.zip
Type: application/x-zip-compressed
Size: 1745744 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031126/029b9156/gdal11.bin
From warmerdam at pobox.com  Thu Nov 27 09:19:33 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <3FC5061F.1050402@gov.yk.ca>
References: <002b01c3b445$b88bf930$6400a8c0@BLANKEN> <3FC5061F.1050402@gov.yk.ca>
Message-ID: <3FC607F5.30207@pobox.com>

Matt Wilkie wrote:
> Wim Blanken wrote:
> 
>> A precompiled version is included in the OpenEV distribution for sofar I
>> know.
> 
> 
> yes that's true but it's only gdal 1.1.8. I'm itching for v1.1.9 as it 
> has a couple of features I want to play with.

Folks,

Oracle support is not included in any existing prebuilt distribution
because it requires oracle libraries to go with it which are non-free.
OpenEV 1.6.2 is using a version of GDAL after 1.1.9.  I hope to cut an
OpenEV 1.6.3 with current versions of everything soon.

>> But in that OpenEV distribution (1.6.2) the support for Oracle Spatial
>> is not included. That's my problem.....
> 
> 
> Frank (or anybody who knows):
> 
> Is it possible to use cygwin to build a distributable win-binary? (e.g. 
> can run on a machine that doesn't have cygwin installed)
> 
> I'm willing to through some time and a computer at it although I'm not a 
> developer and it will take me some time to wade through. If you have an 
> RTFM to throw my way I'll take a shot at it.

I believe you can run Cygwin executables without the rest of cygwin as long
as you distribute one or two core cygwin DLLs with the .exe.  However, I
suspect it would be very difficult to do cygwin builds with some of the more
esoteric build options like oracle support.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Thu Nov 27 09:29:49 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] OGR DGN compile error
In-Reply-To: <5.0.2.1.2.20031126172812.00a726d8@mail.acri.fr>
References: <5.0.2.1.2.20031126172812.00a726d8@mail.acri.fr>
Message-ID: <3FC60A5D.5000004@pobox.com>

Julien Demaria wrote:
> Hi,
> 
> 
> I've just updated my GDAL CVS sources and there is an error in the 
> latests modifications on OGR DGN driver :
> 
> (Compile on Windows XP with MSVC++ 6.0) :
> 
> => ogrdgnlayer.cpp(840) : error C2660: 'DGNCreateComplexHeaderFromGroup' 
> : function does not take 4 parameters
> 
> 
> ogrdgnlayer.cpp :
> =============
> 
>         papsGroup[0] =
>             DGNCreateComplexHeaderFromGroup( hDGN, nGroupType,
>                                              iGeom, papsGroup + 1 );
> 
> dgnwrite.cpp :
> ===========
> 
> DGNElemCore *
> DGNCreateComplexHeaderFromGroup( DGNHandle hDGN, int nType, int nSurfType,
>                                  int nNumElems, DGNElemCore **papsElems )
> 
> {
> 
> 
> We must add the nSurfType parameter to the call of 
> DGNCreateComplexHeaderFromGroup...
> 
> 
> 
> Thanks in advance for fix ! :-)
> 
>

Fixed in CVS.  Sorry about that folks.

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From nhv at cape.com  Thu Nov 27 09:47:26 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <3FC607F5.30207@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAMEFPFJAA.nhv@cape.com>

Frank Warmerdam writes:
> 
> I believe you can run Cygwin executables without the rest of cygwin as long
> as you distribute one or two core cygwin DLLs with the .exe.  

note the Cygwin license requirements though before you distribute
rather then just have the end user get the Cygwin DLL's on their own

"""
In accordance with section 10 of the GPL, Red Hat permits programs whose 
sources are distributed under a license that complies with the Open Source 
definition to be linked with libcygwin.a without libcygwin.a itself causing the 
resulting program to be covered by the GNU GPL. 

This means that you can port an Open Source(tm) application to cygwin, and 
distribute that executable as if it didn't include a copy of libcygwin.a linked into 
it. Note that this does not apply to the cygwin DLL itself. If you distribute a 
(possibly modified) version of the DLL you must adhere to the terms of the GPL,
 i.e. you must provide sources for the cygwin DLL. 
"""

> However, I
> suspect it would be very difficult to do cygwin builds with some of the more
> esoteric build options like oracle support.

As long as there is a 'C' and not 'C++' interface there shouldn't be any
insurmountable problems linking with Cygwin.

Cheers

Norman

From dem at acri-st.fr  Thu Nov 27 09:47:02 2003
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <3FC607F5.30207@pobox.com>
References: <3FC5061F.1050402@gov.yk.ca>
 <002b01c3b445$b88bf930$6400a8c0@BLANKEN>
 <3FC5061F.1050402@gov.yk.ca>
Message-ID: <5.0.2.1.2.20031127153409.00a93970@mail.acri.fr>

>>Frank (or anybody who knows):
>>Is it possible to use cygwin to build a distributable win-binary? (e.g. 
>>can run on a machine that doesn't have cygwin installed)
>>I'm willing to through some time and a computer at it although I'm not a 
>>developer and it will take me some time to wade through. If you have an 
>>RTFM to throw my way I'll take a shot at it.
>
>I believe you can run Cygwin executables without the rest of cygwin as long
>as you distribute one or two core cygwin DLLs with the .exe.  However, I
>suspect it would be very difficult to do cygwin builds with some of the more
>esoteric build options like oracle support.

With Cygwin you can :

         - compile your program to use cygwin DLL (default) and If you want 
distribute your program you have only to bring the cygwin DLL with it ;

         - compile your program with the gcc -mno-cygwin 
("-mno-cygwin               Use the Mingw32 interface").
           In this case your final program use the windows system's 
MSVCRT.DLL and others instead the cygwin DLL.
           Note that in this mode you cannot use all cygwin features (for 
example dlopen functions that Windows doesn't provide (You should instead 
use the LoadLibrary interface of win32...)). Generally (my experience) it's 
more difficult to compile a unix software in this mode than the default 
mode because different linkage, missing symbols problems, ...
           => I easy compiled GDAL with cygwin DLL but it failed with 
-mno-cygwin when I tried...


Julien



From nhv at cape.com  Thu Nov 27 10:09:13 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <5.0.2.1.2.20031127153409.00a93970@mail.acri.fr>
Message-ID: <EKEJIKAILPONGGENMBGACEGBFJAA.nhv@cape.com>

Julien Demaria writes:
>
>            => I easy compiled GDAL with cygwin DLL but it failed with 
> -mno-cygwin when I tried...

I routinely compile GDAL with the MingW standalone compiler from
within a Cygwin shell.  AFAIK others are succesfully doing this from
within a MSYS shell.

The only thing I haven't managed to get working yet is Python support
but I haven't tried real hard because I do most of my command line work
in a Cygwin shell where I use a Cygwin compiled GDAL and Python.

Cheers

Norman 


From jjfoerch at earthlink.net  Thu Nov 27 10:09:18 2003
From: jjfoerch at earthlink.net (J Foerch)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] attachments
Message-ID: <oprzaxpsfgc8wrek@mail.earthlink.net>

Hi,
    Have some sympathy for those of us subscribers who have dialup 
connections and link to your huge binary files rather than attach them 
please.

Thanks,
John




From morissette at dmsolutions.ca  Thu Nov 27 10:11:20 2003
From: morissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] attachments
In-Reply-To: <oprzaxpsfgc8wrek@mail.earthlink.net>
References: <oprzaxpsfgc8wrek@mail.earthlink.net>
Message-ID: <3FC61418.8030107@dmsolutions.ca>

J Foerch wrote:
> Hi,
>    Have some sympathy for those of us subscribers who have dialup 
> connections and link to your huge binary files rather than attach them 
> please.
> 

... and since this list is managed using Mailman it should be possible 
to set a maximum size for attachments in the admin interface. I think 
the default is 40kb, so perhaps this feature just needs to be re-enabled.

Daniel
-- 
------------------------------------------------------------
  Daniel Morissette               morissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------


From warmerdam at pobox.com  Thu Nov 27 10:28:51 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] attachments
In-Reply-To: <3FC61418.8030107@dmsolutions.ca>
References: <oprzaxpsfgc8wrek@mail.earthlink.net> <3FC61418.8030107@dmsolutions.ca>
Message-ID: <3FC61833.1020109@pobox.com>

Daniel Morissette wrote:
> J Foerch wrote:
> 
>> Hi,
>>    Have some sympathy for those of us subscribers who have dialup 
>> connections and link to your huge binary files rather than attach them 
>> please.
>>
> 
> ... and since this list is managed using Mailman it should be possible 
> to set a maximum size for attachments in the admin interface. I think 
> the default is 40kb, so perhaps this feature just needs to be re-enabled.

Folks,

Sorry ... my fault.  By default email that is too large is bounced to the
administrator (me) for approval.  But so is any email from folks not
(apparently) subscribed to the list.  I get quite a bit of spam to the list
to discard (maybe 10 a day for this list alone), and 2-3 unsubscribed messages
that need to be forwarded.  So, I tend to get sloppy and not try to read the
little message indicating why the message is up for approval.  Instead I just
quickly scan it to see if it seems on topic (not spam), and if so approve it.

I will try to watch for big files more carefully, but it would certainly help
if people avoided sending them to the list in the first place.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From cgarcia at cable.net.co  Thu Nov 27 11:36:21 2003
From: cgarcia at cable.net.co (CARLOS GARCIA)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
In-Reply-To: <EKEJIKAILPONGGENMBGACEGBFJAA.nhv@cape.com>
Message-ID: <001101c3b504$975ff210$260001c0@CARLOSG>

Please use this http://www.sigtech-co.com/gdalOCI.zip

This was compiled with oci support. Note that the oracle client must be
installed prior to execute.

Good luck

Carlos

-----Mensaje original-----
De: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] En nombre de Norman Vine
Enviado el: Jueves, 27 de Noviembre de 2003 10:09 a.m.
Para: gdal-dev@remotesensing.org
Asunto: RE: [Gdal-dev] windows ogr2ogr including OCI


Julien Demaria writes:
>
>            => I easy compiled GDAL with cygwin DLL but it failed with
> -mno-cygwin when I tried...

I routinely compile GDAL with the MingW standalone compiler from within
a Cygwin shell.  AFAIK others are succesfully doing this from within a
MSYS shell.

The only thing I haven't managed to get working yet is Python support
but I haven't tried real hard because I do most of my command line work
in a Cygwin shell where I use a Cygwin compiled GDAL and Python.

Cheers

Norman 

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


From nfarah at hotmail.com  Fri Nov 28 11:31:26 2003
From: nfarah at hotmail.com (N. Farah)
Date: Wed Nov 21 11:48:59 2007
Subject: [Gdal-dev] Failure in opening a pci disk file
Message-ID: <BAY8-F92TrXtjr68AOI000213d4@hotmail.com>

Hi,

using pcidskdataset.cpp, the open operation failed when trying to fetch the 
number of bands of a .pix file. The returned number of bands was 0.  The pci 
disk file used was "contours.pix" from the remotesensing.org ftp site under 
gdal\data\pcidsk.

I downloaded the file twice in order to avoid any possible corruption of the 
file. Twice the opening operation failed. This occurs in this line: 
(poDS->nBands = CPLScanLong( szTemp + 376, 8 );)

Noureddine Farah

_________________________________________________________________
Protect your PC - get McAfee.com VirusScan Online  
http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963


From tj at atlantageek.com  Fri Nov 28 12:21:49 2003
From: tj at atlantageek.com (Tommie M. Jones)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] ogr2ogr issue with postgis
Message-ID: <Pine.BSF.4.44.0311281216570.98696-100000@psi.pair.com>

Hello,
I am trying to use ogr2ogr on postgres7.4 and postgis. It converts tiger
data to postgis. My command line looks like the following

/usr/local/gz-packages/openev_FW/bin/ogr2ogr -f PostgreSQL PG:dbname=billboard TGR13001 -lco LAUNDER=YES

I do a \dt and all the tables list.
However when I try and look at an individual table the following happens.

billboard=# select * from ZipPlus4
billboard-# ;
ERROR:  relation "zipplus4" does not exist
billboard=# \d zipplus4
Did not find any relation named "zipplus4".

However according to \dt it should be there. (See below)

billboard=# \dt
               List of relations
 Schema |        Name        | Type  |  Owner
--------+--------------------+-------+----------
 public | AltName            | table | postgres
 public | AreaLandmarks      | table | postgres
 public | CompleteChain      | table | postgres
 public | EntityNames        | table | postgres
 public | FeatureIds         | table | postgres
 public | IDHistory          | table | postgres
 public | Landmarks          | table | postgres
 public | OverUnder          | table | postgres
 public | PIP                | table | postgres
 public | PolyChainLink      | table | postgres
 public | Polygon            | table | postgres
 public | PolygonCorrections | table | postgres
 public | PolygonEconomic    | table | postgres
 public | TLIDRange          | table | postgres
 public | ZeroCellID         | table | postgres
 public | ZipCodes           | table | postgres
 public | ZipPlus4           | table | postgres
 public | geometry_columns   | table | postgres
 public | spatial_ref_sys    | table | postgres
(19 rows)

Any suggestions?


-- 
<a href="http://www.globalvista.org">Globalism, Economics, NGOs and the
global community</a>



From warmerdam at pobox.com  Fri Nov 28 12:00:04 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] Failure in opening a pci disk file
In-Reply-To: <BAY8-F92TrXtjr68AOI000213d4@hotmail.com>
References: <BAY8-F92TrXtjr68AOI000213d4@hotmail.com>
Message-ID: <3FC77F14.8080807@pobox.com>

N. Farah wrote:
> Hi,
> 
> using pcidskdataset.cpp, the open operation failed when trying to fetch 
> the number of bands of a .pix file. The returned number of bands was 0.  
> The pci disk file used was "contours.pix" from the remotesensing.org ftp 
> site under gdal\data\pcidsk.
> 
> I downloaded the file twice in order to avoid any possible corruption of 
> the file. Twice the opening operation failed. This occurs in this line: 
> (poDS->nBands = CPLScanLong( szTemp + 376, 8 );)

Noureddine,

To the best of my knowledge this file contains only contour vectors.  The
GDAL PCIDSK translator does not support reading vector (or any other auxilary
segment data except for the georeferencing segment).  So, I think things are
working properly.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From dron at ak4719.spb.edu  Fri Nov 28 13:31:37 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] Failure in opening a pci disk file
In-Reply-To: <3FC77F14.8080807@pobox.com>
References: <BAY8-F92TrXtjr68AOI000213d4@hotmail.com> <3FC77F14.8080807@pobox.com>
Message-ID: <20031128183137.GA28945@ak4719.spb.edu>

On Fri, Nov 28, 2003 at 12:00:04PM -0500, Frank Warmerdam wrote:
> >using pcidskdataset.cpp, the open operation failed when trying to
> >fetch the number of bands of a .pix file. The returned number of
> >bands was 0.  The pci disk file used was "contours.pix" from the
> >remotesensing.org ftp site under gdal\data\pcidsk.
> To the best of my knowledge this file contains only contour vectors.
> The GDAL PCIDSK translator does not support reading vector (or any
> other auxilary segment data except for the georeferencing segment).

This is right. I've just downloaded that file, it contains vectors
only.

					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From wim.blanken at planet.nl  Fri Nov 28 12:42:02 2003
From: wim.blanken at planet.nl (Wim Blanken (PI))
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] windows ogr2ogr including OCI
References: <001101c3b504$975ff210$260001c0@CARLOSG>
Message-ID: <001f01c3b5d6$ef49b600$6400a8c0@BLANKEN>

Carlos,

I tried your solution and it worked!! I'm creating shapefiles from oracle
spatial layers in a batch file to
use as flexible snapshots for mapserver. Thanx, otherwise I would have to
compile my own version
on cygwin o.i.d. and that sure would have taken me a week or so........

Wim

----- Original Message -----
From: "CARLOS GARCIA" <cgarcia@cable.net.co>
To: <gdal-dev@remotesensing.org>
Sent: Thursday, November 27, 2003 5:36 PM
Subject: RE: [Gdal-dev] windows ogr2ogr including OCI


> Please use this http://www.sigtech-co.com/gdalOCI.zip
>
> This was compiled with oci support. Note that the oracle client must be
> installed prior to execute.
>
> Good luck
>
> Carlos
>
> -----Mensaje original-----
> De: gdal-dev-admin@remotesensing.org
> [mailto:gdal-dev-admin@remotesensing.org] En nombre de Norman Vine
> Enviado el: Jueves, 27 de Noviembre de 2003 10:09 a.m.
> Para: gdal-dev@remotesensing.org
> Asunto: RE: [Gdal-dev] windows ogr2ogr including OCI
>
>
> Julien Demaria writes:
> >
> >            => I easy compiled GDAL with cygwin DLL but it failed with
> > -mno-cygwin when I tried...
>
> I routinely compile GDAL with the MingW standalone compiler from within
> a Cygwin shell.  AFAIK others are succesfully doing this from within a
> MSYS shell.
>
> The only thing I haven't managed to get working yet is Python support
> but I haven't tried real hard because I do most of my command line work
> in a Cygwin shell where I use a Cygwin compiled GDAL and Python.
>
> Cheers
>
> Norman
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>
>



From nfarah at hotmail.com  Fri Nov 28 13:39:33 2003
From: nfarah at hotmail.com (N. Farah)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] Failure in opening a pci disk file 
Message-ID: <BAY8-F62TAbAWFswl3t00018205@hotmail.com>

Ok Frank...An instance of the raster dataset is created and returned even if 
the dataset is a vector one.
Is this the desired behaviour ?
Once you have a instance of the raster dataset returned one may assume that 
this was a valid raster dataset. Posting an error or returning a null 
pointer might be an alternative for non raster data.

Returning an instance of a non raster dataset would make probably more sense 
(to me) if the data model of vector dataset was the same as the raster one. 
OGR is using a bit different model to handle data (data source and data 
layers instead of dataset and bands).

Best regards,

Noureddine Farah


Noureddine,

To the best of my knowledge this file contains only contour vectors.  The
GDAL PCIDSK translator does not support reading vector (or any other 
auxilary
segment data except for the georeferencing segment).  So, I think things are
working properly.

Best regards,

--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_________________________________________________________________
Add photos to your messages with MSN 8. Get 2 months FREE*.  
http://join.msn.com/?page=dept/features&pgmarket=en-ca&RU=http%3a%2f%2fjoin.msn.com%2f%3fpage%3dmisc%2fspecialoffers%26pgmarket%3den-ca


From warmerdam at pobox.com  Fri Nov 28 13:39:24 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] ogr2ogr issue with postgis
In-Reply-To: <Pine.BSF.4.44.0311281216570.98696-100000@psi.pair.com>
References: <Pine.BSF.4.44.0311281216570.98696-100000@psi.pair.com>
Message-ID: <3FC7965C.9010908@pobox.com>

Tommie M. Jones wrote:
> Hello,
> I am trying to use ogr2ogr on postgres7.4 and postgis. It converts tiger
> data to postgis. My command line looks like the following
> 
> /usr/local/gz-packages/openev_FW/bin/ogr2ogr -f PostgreSQL PG:dbname=billboard TGR13001 -lco LAUNDER=YES
> 
> I do a \dt and all the tables list.
> However when I try and look at an individual table the following happens.
> 
> billboard=# select * from ZipPlus4
> billboard-# ;
> ERROR:  relation "zipplus4" does not exist
> billboard=# \d zipplus4
> Did not find any relation named "zipplus4".

Tommie,

The problem is related to use of mixed case in table names.  You need to
quote mixed case table names.  I think something like:

  select * from "ZipPlus4";

I thought I had changed the code to "launder" table names as well as
field names.  Apparently I did not.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From wim.blanken at planet.nl  Fri Nov 28 12:45:03 2003
From: wim.blanken at planet.nl (Wim Blanken (PI))
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] is ogr2ogr returning errorcodes?
Message-ID: <002c01c3b5d7$5b727650$6400a8c0@BLANKEN>

Hello List,

A simple question. Is it possible to use ogr2ogr in a batch file and 
get an errorcode back that can be used to check if the conversion
was a success or not? 

Sincerely,

W.Blanken
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20031128/47aa93ee/attachment.html
From TMitchell at lignum.com  Fri Nov 28 14:08:07 2003
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] ogr2ogr issue with postgis
In-Reply-To: <3FC7965C.9010908@pobox.com>
Message-ID: <OFE0AC22DF.F1567DC8-ON88256DEC.00690CF9-88256DEC.00691CEE@lignum.com>





>I thought I had changed the code to "launder" table names as well as
>field names.  Apparently I did not.

I thought you added a parameter to ogr2ogr to allow the laundering as an
option but I can't seem to find it.

Tyler


                                                                           
             Frank Warmerdam                                               
             <warmerdam@pobox.                                             
             com>                                                       To 
             Sent by:                  gdal-dev@remotesensing.org          
             gdal-dev-admin@re                                          cc 
             motesensing.org                                               
                                                                    Fax to 
                                                                           
             11/28/2003 10:39                                      Subject 
             AM                        Re: [Gdal-dev] ogr2ogr issue with   
                                       postgis                             
                                                                           
             Please respond to                                             
             gdal-dev@remotese                                             
                 nsing.org                                                 
                                                                           
                                                                           




Tommie M. Jones wrote:
> Hello,
> I am trying to use ogr2ogr on postgres7.4 and postgis. It converts tiger
> data to postgis. My command line looks like the following
>
> /usr/local/gz-packages/openev_FW/bin/ogr2ogr -f PostgreSQL
PG:dbname=billboard TGR13001 -lco LAUNDER=YES
>
> I do a \dt and all the tables list.
> However when I try and look at an individual table the following happens.
>
> billboard=# select * from ZipPlus4
> billboard-# ;
> ERROR:  relation "zipplus4" does not exist
> billboard=# \d zipplus4
> Did not find any relation named "zipplus4".

Tommie,

The problem is related to use of mixed case in table names.  You need to
quote mixed case table names.  I think something like:

  select * from "ZipPlus4";

I thought I had changed the code to "launder" table names as well as
field names.  Apparently I did not.

Best regards,

--
---------------------------------------+--------------------------------------

I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



From warmerdam at pobox.com  Fri Nov 28 14:11:04 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] Failure in opening a pci disk file
In-Reply-To: <BAY8-F62TAbAWFswl3t00018205@hotmail.com>
References: <BAY8-F62TAbAWFswl3t00018205@hotmail.com>
Message-ID: <3FC79DC8.2060103@pobox.com>

N. Farah wrote:
> Ok Frank...An instance of the raster dataset is created and returned 
> even if the dataset is a vector one.
> Is this the desired behaviour ?
> Once you have a instance of the raster dataset returned one may assume 
> that this was a valid raster dataset. Posting an error or returning a 
> null pointer might be an alternative for non raster data.

Noureddine,

It is arguable whether it makes sense to successfully return a dataset
if there are no bands of raster data.  I don't mind what the PCIDSK
driver does now, but would agree that it would be helpful to the user if
it at least returned a warning if there were no bands.

Andrey, could you add that?

> Returning an instance of a non raster dataset would make probably more 
> sense (to me) if the data model of vector dataset was the same as the 
> raster one. OGR is using a bit different model to handle data (data 
> source and data layers instead of dataset and bands).

If we had support for PCIDSK vectors it would belong in OGR.  But it is
out of scope for the client who funded the PCIDSK development.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Fri Nov 28 14:30:23 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] is ogr2ogr returning errorcodes?
In-Reply-To: <002c01c3b5d7$5b727650$6400a8c0@BLANKEN>
References: <002c01c3b5d7$5b727650$6400a8c0@BLANKEN>
Message-ID: <3FC7A24F.8030102@pobox.com>

Wim Blanken (PI) wrote:
> Hello List,
>  
> A simple question. Is it possible to use ogr2ogr in a batch file and
> get an errorcode back that can be used to check if the conversion
> was a success or not?

Wim,

I tried to return non-zero exit codes from programs such as ogr2ogr in
case of error. Skimming through ogr2ogr.cpp I see that I just return exit
code 1 for all errors, and return 0 on success. So you can't really determine
what went wrong from the error code, but by testing for non-zero values
you can determine if some sort of error occured.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From dron at ak4719.spb.edu  Fri Nov 28 15:50:45 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] Failure in opening a pci disk file
In-Reply-To: <3FC79DC8.2060103@pobox.com>
References: <BAY8-F62TAbAWFswl3t00018205@hotmail.com> <3FC79DC8.2060103@pobox.com>
Message-ID: <20031128205045.GA11611@ak4719.spb.edu>

On Fri, Nov 28, 2003 at 02:11:04PM -0500, Frank Warmerdam wrote:
> It is arguable whether it makes sense to successfully return a dataset
> if there are no bands of raster data.  I don't mind what the PCIDSK
> driver does now, but would agree that it would be helpful to the user
> if it at least returned a warning if there were no bands.
> 
> Andrey, could you add that?

Ok, I have added warning.

Noureddine,

It is better to check the number of bands after opening the dataset to
ensure we have any raster data inside. I don't want to return NULL in
case of no bands, because it may be useful (at least for me :-) to get
other dataset parameters such as projection definition, coordinates,
descriptions etc.

					Regards,
					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From chris at fonnesbeck.org  Sat Nov 29 18:44:48 2003
From: chris at fonnesbeck.org (Christopher Fonnesbeck)
Date: Wed Nov 21 11:49:00 2007
Subject: [Gdal-dev] undefined python objects
Message-ID: <0471C3E3-22C6-11D8-950B-000A956FDAC0@fonnesbeck.org>

I am trying to compile GDAL on OSX with python support, but I get the 
following errors on building:

g++ -Wl,-bind_at_load  -o .libs/_gdalmodule.so -bundle  
.libs/gdal_wrap.o .libs/numpydataset.o .libs/gdalnumeric.o  
-L/usr/local/pgsql/lib /usr/local/lib/libdl.dylib 
/usr/local/lib/libpng.dylib ../.libs/libgdal.dylib 
/usr/local/lib/libodbc.dylib /usr/local/lib/libjpeg.dylib -lpng -lz -lm 
-ldl -lpq -L/usr/local/src/gdal/.libs
ld: Undefined symbols:
_PyArg_Parse
_PyArg_ParseTuple
_PyDict_New
_PyDict_Next
_PyDict_SetItem
_PyDict_Type
_PyErr_Clear
_PyErr_SetString
_PyEval_CallObjectWithKeywords
_PyExc_MemoryError
_PyExc_NameError
_PyExc_TypeError
_PyExc_ValueError
_PyFloat_AsDouble
_PyFloat_FromDouble
_PyInt_AsLong
_PyInt_FromLong
_PyInt_Type
_PyList_New
_PyList_SetItem
_PyList_Size
_PyList_Type
_PyModule_GetDict
_PyString_AsString
_PyString_FromString
_PyString_FromStringAndSize
_PyString_Type
_PyType_IsSubtype
_PyType_Type
_Py_BuildValue
_Py_InitModule4
__Py_NoneStruct
make[1]: *** [_gdalmodule.la] Error 1
make: *** [py-module] Error 2

The only advice I have seen so far is to compile without python 
support, but thats not really a solution. Python support is the only 
reason I am looking to use GDAL.

Thanks in advance,
--
Christopher J. Fonnesbeck ( c h r i s @ f o n n e s b e c k . o r g )
Georgia Cooperative Fish & Wildlife Research Unit, University of Georgia


