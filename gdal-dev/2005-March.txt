From doneywhite at yahoo.com  Tue Mar  1 08:06:30 2005
From: doneywhite at yahoo.com (doneywhite@yahoo.com)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Mail Authentication
Message-ID: <20050301120051.D79ACFA99A1@xserve.flids.com>

Encrypted message is available.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: message_gdal-dev.zip
Type: application/octet-stream
Size: 29834 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050301/0504b63f/message_gdal-dev.obj
From carlos.garcia at sigtech-co.com  Tue Mar  1 08:57:57 2005
From: carlos.garcia at sigtech-co.com (carlos.garcia@sigtech-co.com)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Mail Delivery (failure gdal-dev@remotesensing.org)
Message-ID: <20050301125219.711DCFA9C66@xserve.flids.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: audio/x-wav
Size: 29568 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050301/6106aa18/attachment.wav
From roger at beardandsandals.co.uk  Tue Mar  1 09:11:51 2005
From: roger at beardandsandals.co.uk (Roger James)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Problems with creating PNG files
Message-ID: <20050301141136.A92B4540C5@cmlapp11.siteprotect.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: redcross.bmp
Type: image/bmp
Size: 374 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050301/61975cc6/redcross.bmp
-------------- next part --------------
A non-text attachment was scrubbed...
Name: redcross.png
Type: image/png
Size: 482 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050301/61975cc6/redcross.png
From fwarmerdam at gmail.com  Tue Mar  1 09:19:24 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Problems with creating PNG files
In-Reply-To: <20050301141136.A92B4540C5@cmlapp11.siteprotect.com>
References: <20050301141136.A92B4540C5@cmlapp11.siteprotect.com>
Message-ID: <931f8ea90503010619545faf1a@mail.gmail.com>

On Tue, 1 Mar 2005 14:11:51 -0000, Roger James
<roger@beardandsandals.co.uk> wrote:
>  
> I cannot seem to get any sensible output out of the png driver when using
> create_copy 
> 
> I made the attached test bitmap and tried it with gdal_translate. The output
> png is broken. 
> 
> I am using a CVS source a few hours old and linking against libpng-1.2.6. 

Roger,

Your redcross.png is not a PNG file, it is a TIFF file.  You need to use 
the "-of PNG" switch on the commandline to select output in png format.
GDAL utilities will not automatically select a format based on the extension.
Instead, they just default to TIFF format. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From werchowyna at pf.pl  Tue Mar  1 10:40:21 2005
From: werchowyna at pf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] sterea not recognized by gdalwarp
Message-ID: <019701c51e77$64fa1660$43c61d3e@eustahiush>

Hi

I want to use the sterea projection with gdalwarp, but it doesn't recognize
the +proj=sterea as a valid option. What's the problem?

[pingwin@localhost etm+24_05_2001]$ gdalwarp -t_srs "+proj=sterea
+lat_0=51.67083333333333 +lon_0=16.67222222222222 +k=0.999800 +x_0=3703000.0
+y_0=5627000.0 +ellps=krass
+towgs84=33.4297,-146.5746,-76.2865,-0.35867,-0.05283,0.84354,-0.8407728
+units=m" p190r024_7p20010524_z33_nn80.tif 
u65_sterea_p190r024_7p20010524_z33_nn80.tif

ERROR 1: Translating source or target SRS failed:
+proj=sterea +lat_0=51.67083333333333 +lon_0=16.67222222222222 +k=0.999800
+x_0=3703000.0 +y_0=5627000.0 +ellps=krass
+towgs84=33.4297,-146.5746,-76.2865,-0.35867,-0.05283,0.84354,-0.8407728
+units=m

The "standard" +proj=stere it works ok. My cs2cs handles both stere and
sterea just ok.

PROJ4 is 4.4.9, built from source, GDAL is CVS-20050215.

Maciek


From route at cae.com  Tue Mar  1 11:01:03 2005
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] missing/wrong compiler option in nmake.opt 
Message-ID: <719A38AB7279D511B91900D0B7444A9E0DD1D3B0@caemsx03.cae.ca>

Hi,

the flag /MDd (Debug Multithread Dll) is missing in the OPTFLAGS for the
debug version in nmake.opt to compile on windows with VisualC++ for 1.25
in the daily build (20050301.zip) the flag should be /MDd and not /MD

HTH,

Stephane

From fwarmerdam at gmail.com  Tue Mar  1 12:17:32 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] missing/wrong compiler option in nmake.opt
In-Reply-To: <719A38AB7279D511B91900D0B7444A9E0DD1D3B0@caemsx03.cae.ca>
References: <719A38AB7279D511B91900D0B7444A9E0DD1D3B0@caemsx03.cae.ca>
Message-ID: <931f8ea905030109173bac87c0@mail.gmail.com>

On Tue, 1 Mar 2005 11:01:03 -0500, Stephane Routelous <route@cae.com> wrote:
> Hi,
> 
> the flag /MDd (Debug Multithread Dll) is missing in the OPTFLAGS for the
> debug version in nmake.opt to compile on windows with VisualC++ for 1.25
> in the daily build (20050301.zip) the flag should be /MDd and not /MD

Stephane, 

When I build debug versions of GDAL I always use the non-debug 
runtime library to avoid various complexities.  I realize that others may
not want to do this and will want to use /MDd, which is fine, but I
have set things up the way they are on purpose. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Tue Mar  1 12:27:25 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] sterea not recognized by gdalwarp
In-Reply-To: <019701c51e77$64fa1660$43c61d3e@eustahiush>
References: <019701c51e77$64fa1660$43c61d3e@eustahiush>
Message-ID: <931f8ea90503010927698d62cc@mail.gmail.com>

On Tue, 1 Mar 2005 16:40:21 +0100, Maciek Sieczka <werchowyna@pf.pl> wrote:
> Hi
> 
> I want to use the sterea projection with gdalwarp, but it doesn't recognize
> the +proj=sterea as a valid option. What's the problem?
> 
> [pingwin@localhost etm+24_05_2001]$ gdalwarp -t_srs "+proj=sterea
> +lat_0=51.67083333333333 +lon_0=16.67222222222222 +k=0.999800 +x_0=3703000.0
> +y_0=5627000.0 +ellps=krass
> +towgs84=33.4297,-146.5746,-76.2865,-0.35867,-0.05283,0.84354,-0.8407728
> +units=m" p190r024_7p20010524_z33_nn80.tif
> u65_sterea_p190r024_7p20010524_z33_nn80.tif

Maciek, 

The problem is that GDAL internally uses OGC Well Known Text
format for coordinate systems, even though at the low level it
uses PROJ.4 for transformations.  So when you give a PROJ.4
definition on the commandline it is internally transformed into
WKT format, and then when the transformer is initialized at a very
low level it is turned by into PROJ.4 format.  

This works OK for PROJ.4 projections and options that the
OGRSpatialReference class knows how to translate but not for
others.  

In this case, I have no WKT analog for sterea, and so it is
unusable from gdalwarp.  Sorry!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From roger at beardandsandals.co.uk  Tue Mar  1 13:26:43 2005
From: roger at beardandsandals.co.uk (Roger James)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Problems with creating PNG files
In-Reply-To: <931f8ea905030107592cb9d53e@mail.gmail.com>
Message-ID: <20050301182627.2F1875421E@cmlapp11.siteprotect.com>

Frank,

You got it in one. I was just double clicking and letting the default
windows picture and fax viewer open it. I have just tried opening the files
in Photoshop and they look fine!

I will see if I can get libpng-1.2.8 to build and see if that fixes it.

Roger

> Roger,
> 
> The file looks fine with me.  However, folks have encountered
> problems reading png files produced with modern libpng versions
> using the built-in windows support for png.  What are you using to
> check the png files?
> 
> If this is the problem, you will likely need to downgrade to an
> older libpng to retain compatibility with windows.  I don't understand
> what change caused this .. I have just seen the result.
> 
> If this turns out to be the issue for you as well, I would appreciate
> your summizing back to the list as a warning to others.
> 
> Best regards,
> --
> ---------------------------------------+----------------------------------
> ----
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent



From roger at beardandsandals.co.uk  Tue Mar  1 14:05:51 2005
From: roger at beardandsandals.co.uk (Roger James)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Problems with creating PNG files
In-Reply-To: <20050301182627.2F1875421E@cmlapp11.siteprotect.com>
Message-ID: <20050301190534.7EC4A54329@cmlapp11.siteprotect.com>



Frank,

Building against libpng-1.2.8 solves the problem.

It looks like windows "Picture and Fax Viewer" does not like 1.2.6. :-(

Caveat emptor.

Roger

> -----Original Message-----
> From: gdal-dev-bounces@xserve.flids.com [mailto:gdal-dev-
> bounces@xserve.flids.com] On Behalf Of Roger James
> Sent: 01 March 2005 18:27
> To: 'gdal-dev'
> Subject: RE: [Gdal-dev] Problems with creating PNG files
> 
> Frank,
> 
> You got it in one. I was just double clicking and letting the default
> windows picture and fax viewer open it. I have just tried opening the
> files
> in Photoshop and they look fine!
> 
> I will see if I can get libpng-1.2.8 to build and see if that fixes it.
> 
> Roger
> 



From fwarmerdam at gmail.com  Tue Mar  1 15:56:04 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Primary Sponsorship by ER Mapper
Message-ID: <931f8ea9050301125612e9e5a@mail.gmail.com>

Folks,

Over the last few months ER Mapper has been talking with me about
an option for them to provide some sponsorship for GDAL.   I am pleased
to announce that we have come to an agreement where they would 
provide regular monthly funding sufficient to cover approximately 3 
days worth of development on GDAL in return for their being listed as 
the primary sponsor of GDAL on the GDAL web site. 

There aren't any technical requirements attached to this sponsorship.
In particular I am still free to work with any companies that might be
considered competitors of ER Mapper and I intend to do so.  

I believe that a press release will be prepared at some point in the
near future in which ER Mapper can provide more detail on their
rationale for this sponsorship, but I believe it comes out of a corporate
support for the importance of openness and interoperability.  

For my part, I am very pleased with the open ended support allowing
me to spend more time focusing on core GDAL maintenance, and I
am also pleased with the association with ER Mapper - whose products
I admired even when I worked at PCI and they were a major competitor.
I have also been very pleased with their openness (in licensing, and
source) for the ECW/JPEG2000 SDK in recent years.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From neteler at itc.it  Tue Mar  1 16:02:05 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Re: (GRASSLIST:5937) Re: loading VMAP0 data with
	v.in.ogr?
In-Reply-To: <20050301141807.7d98ac88.hamish_nospam@yahoo.com>
References: <20050225185220.4203e3ad.hamish_nospam@yahoo.com>
	<20050228133428.GK5793@thuille.itc.it>
	<20050301125958.09a3c196.hamish_nospam@yahoo.com>
	<931f8ea9050228164740ef3582@mail.gmail.com>
	<20050301141807.7d98ac88.hamish_nospam@yahoo.com>
Message-ID: <20050301210205.GC528@thuille.itc.it>

On Tue, Mar 01, 2005 at 02:18:07PM +1300, Hamish wrote:
> > > Running it through the debugger shows this is as a SIGILL:
> > > 
> > > $ gdb `which ogrinfo`
> > > GNU gdb 6.3-debian
> > > [...]
> > > This GDB was configured as "i386-linux"...Using host libthread_db
> > > library "/lib/libthread_db.so.1".
> > > 
> > > (gdb) run gltp:/vrf/var/local/topodata/vmap0/v0sas/vmaplv0/sasaus
> > > 'watrcrsl@hydro(*)_line' Starting program: /usr/local/bin/ogrinfo
> > > gltp:/vrf/var/local/topodata/vmap0/v0sas/vmaplv0/sasaus
> > > 'watrcrsl@hydro(*)_line' [Thread debugging using libthread_db
> > > enabled] [New Thread 16384 (LWP 25147)]
> > 
> > Hamish,
> > 
> > There have been a number of bug fixes since 3.1.4 but no new
> > formal release.
> 
> 
> I'm recompiling OGDI and GDAL now.. bonehead mistake by me. The test
> system I am running it on is AMD not Intel and I used
> CFLAGS="-march=pentium4".
> 
> I'm pretty sure that will be it.. 
> 
> [time passes]
> 
> ..yup, ogrinfo works now.
> 
> 
> > I'll prepare a 3.1.5 tonight and then hopefully you can try with that
> > tomorrow. 
> 
> Having support for uppercase letters in the path name and dealing with
> files that end with a "." would be nice in a new release. :)

It took me three years to convert the VMAP0 data (trying again and again),
you are way faster :-)

In fact, the code now works well thanks to Frank.
And we found all the tricks...

Markus


From fwarmerdam at gmail.com  Tue Mar  1 23:24:45 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] GDAL 1.2.6 Beta3 Available / New Server
Message-ID: <931f8ea905030120242f48c1ae@mail.gmail.com>

Folks,

I have prepared a preliminary GDAL 1.2.6 release.  In fact, I went 
through a couple of earlier attempts today already (Beta1 and 2)
so we are already at beta3.  The beta is available from:

 http://www.gdal.org/dl

I would appreciate people trying this out, and reporting any problems
via bugzilla.  I am hoping to finalize the GDAL 1.2.6 release by late
this week or early next week at which point I will prepare a more 
complete release announcement.   In the meantime, I will include
the NEWS entries below. 

I would also note that (partly due to my sponship from ER Mapper)
I have finally rented a real dedicated server for www.gdal.org.  I 
have 1000GB/month of bandwidth available, and I would be happy
to host or mirror material for folks in related projects that have a need.

GDAL 1.2.6 - Overview of Changes
--------------------------------

gdal_translate: 
 - Added -sds switch to copy all subdatasets. 

gdalwarp: 
 - Added Thin Plate Spline support (-tps switch). 

GDALRasterBand:
 - Now uses two level block cache allowing efficient access to files
   with a very large number of tiles. 
 - Added support for YCbCr color space for raster band color interpretations.
 - Added AdviseRead() method - currently only used by ECW driver and OGDI 
   drivers. 

ILWIS Driver:
 - New driver for the raster format of the ILWIS software. 

ECW Driver:
 - Updated to use ECW SDK 3.1 (older ECW SDK no longer supported!)

ECWJP2 Driver:
 - Added JPEG2000 support driver based on ECW/JPEG2000 SDK with a variety
   of features. 

NITF Driver: 
 - Added support for reading *and* writing JPEG2000 compressed NITF files 
   using the ECW/JPEG2000 SDK. 
 - Added ICHIPB support. 

HDF Driver:
 - Add support for georeferencing from some additional metadata formats. 
 - Fixed bug with multi-band HDF-EOS datasets. 

MrSID Driver:
 - Driver can now be built as a plugin on win32. 
 - Split out MrSID 3.x SDK support - not readily buildable now. 
 - Implemented accelerated IO cases for MrSID 4.x SDK. 
 - Support for writing MrSID files added (improved?)

Imagine Driver: 
 - Fixed bug reading some large multiband Imagine files. 
 - Added support for writing compressed files. 

Win32 Builds:
 - Added versioning information to GDAL DLL.

L1B Driver:
 - Only return a reduced grid of control points. 

IDA (WinDisp4) Driver:
 - New read/write driver for the Image Display and Analysis raster format 
   used by WinDisp 4. 

GTiff Driver:
 - Added support for offset/scale being saved and loaded (special metadata). 

PNG Driver: 
 - Updated internal code for libpng to libpng 1.2.8.


OGR 1.2.6 - Overview of Changes
-------------------------------

OGRSFDriverRegistrar:
 - Added support for autoloading plugin drivers from ogr_<driver>.so. 

ogr.py:
 - Geometry, and Feature now take care of their own reference counting and
   will delete themselves when unreferenced.  Care must still be taken to
   unreference all features before destroying the corresponding 
   layer/datasource.
 - ogr.Feature fields can now be fetched and set directly as attributes. 
 - Geometry contructor can now take various formats (wkt, gml, and wkb). 
 - Added docstrings. 
 - Added better __str__ methods on several objects. 
 - Various other improvements. 

OGRLayer:
 - Re-wrote generic spatial search support to be faster in case of rectangular
   filters. 
 - Intersects() method now really uses GEOS.  This also affects all OGR 
   layer spatial filtering (with non-rectangular filters). 
 - Added SetNextByIndex() method on OGRLayer.  

OGRSpatialReference:
 - Automatically generate +towgs84 from EPSG tables when translating to
   PROJ.4 if available and TOWGS84 not specified in source WKT. 
 - Updated GML CRS translation to follow OGC 05-011 more closely.  Still
   incomplete but operational for some projections. 
 - Added support for FIPSZONE State Plane processing for old ESRI .prjs. 
 - Added Goode Homolosine support. 
 - Added GEOS (Geostationary Satellite) support.

OCI (Oracle) Driver:
 - Added GEOMETRY_NAME creation option to control the name of the field to
   hold the geometry.

PostGIS Driver:
 - Fixed some problems with truncation for integer and float list fields. 

Shapefile Driver: 
 - Added support for MapServer style spatial index (.qix). 

GML Driver: 
 - Improved support for 3L0 (GML 3 - Level 0 profile) reading and writing. 
   On read we can now use the .xsd instead of needing to build a .gfs file. 

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Jeroen.Ticheler at fao.org  Wed Mar  2 17:31:34 2005
From: Jeroen.Ticheler at fao.org (Jeroen Ticheler)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] merge 3 tiff files into RGB color composite geotiff
Message-ID: <3c72668cd800ae2ab3811143323d071e@fao.org>

Hi,

I wondered if there is a trick to convert three image files (geotiff), 
being red, NIR and MIR, into an RGB geotiff?

Or should I maybe try to convert three bands in an HDF into a geotiff?

Thanks,
Jeroen


From fwarmerdam at gmail.com  Wed Mar  2 17:58:04 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] merge 3 tiff files into RGB color composite geotiff
In-Reply-To: <3c72668cd800ae2ab3811143323d071e@fao.org>
References: <3c72668cd800ae2ab3811143323d071e@fao.org>
Message-ID: <931f8ea9050302145877361761@mail.gmail.com>

On Wed, 2 Mar 2005 23:31:34 +0100, Jeroen Ticheler
<Jeroen.Ticheler@fao.org> wrote:
> Hi,
> 
> I wondered if there is a trick to convert three image files (geotiff),
> being red, NIR and MIR, into an RGB geotiff?

Jeroen, 

As long as the red, NIR and MIR are  the same size and for the same
region you should be able to stack them with gdal_merge.py:

gdal_merge.py -seperate red.tif nir.tif mir.tif -o stack.tif

The -seperate flag means put each input into a seperate band.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jhay at icomtek.csir.co.za  Wed Mar  2 07:30:37 2005
From: jhay at icomtek.csir.co.za (John Hay)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] configure problem on FreeBSD
Message-ID: <20050302123037.GA62805@zibbi.icomtek.csir.co.za>

Hi,

I have tried both version 1.2.5 and 1.2.6b3 on FreeBSD and it looks
like the configure script is using a bash specific feature which
isn't available in the FreeBSD /bin/sh. It is the two lines:

if test ${MYSQL_VERSION:0:1} -ge 4 ; then
if test "${VERSION:0:1}" -lt 2 ; then

The FreeBSD /bin/sh does not know how to handle the ${variable:0:1}.

What about rather using a case statement for it? Something like:

####################
case ${MYSQL_VERSION} in
[0-3]*)		echo too old
		;;
*)		echo great that is new enough
		;;
esac
####################

PS. Yes I know I can install bash on FreeBSD, but that is yet one more
package needed. :-)

John
-- 
John Hay -- John.Hay@icomtek.csir.co.za / jhay@FreeBSD.org

From fwarmerdam at gmail.com  Wed Mar  2 23:41:19 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] configure problem on FreeBSD
In-Reply-To: <20050302123037.GA62805@zibbi.icomtek.csir.co.za>
References: <20050302123037.GA62805@zibbi.icomtek.csir.co.za>
Message-ID: <931f8ea905030220414f091ce4@mail.gmail.com>

On Wed, 2 Mar 2005 14:30:37 +0200, John Hay <jhay@icomtek.csir.co.za> wrote:
> Hi,
> 
> I have tried both version 1.2.5 and 1.2.6b3 on FreeBSD and it looks
> like the configure script is using a bash specific feature which
> isn't available in the FreeBSD /bin/sh. It is the two lines:
> 
> if test ${MYSQL_VERSION:0:1} -ge 4 ; then
> if test "${VERSION:0:1}" -lt 2 ; then
> 
> The FreeBSD /bin/sh does not know how to handle the ${variable:0:1}.
> 
> What about rather using a case statement for it? Something like:

John,

Patched as suggested, though it took a few tries to escape the [ and ] 
properly since they are spectial quotes to autoconf.  Test on Mysql 3
and 4. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Horst.Duester at bd.so.ch  Thu Mar  3 06:32:14 2005
From: Horst.Duester at bd.so.ch (=?ISO-8859-1?Q?D=FCster_Horst?=)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] OGR2OGR PG schema support
Message-ID: <5B025B1F39D6D4119F5700508BEEEC66F94D44@srsofaioi4546.ktso.ch>

Hallo

I want to insert an ESRI shape into a postgres schema. The documentation
doesn't give any suggestions how to do that. I tried 

ogr2ogr -f postgresql PG:... shape.shp -nln schema.table

but ogr2ogr responses with error 
FAILED: To find existing layer `schema.table' on output dataset

ogr Version 1.2.1

I would be appreciate about any hint.

With best regards

---------------------------------
?
Dr. Horst D?ster 
GIS-Koordinator /Amtschef Stv.

Kanton Solothurn?
Amt f?r Geoinformation
Abteilung SO!GIS Koordination
Werkhofstr. 65
CH-4509 Solothurn 

Tel.: ++41 (0)32 627 25 32 
Fax: ++41 (0)32 627 22 14

horst.duester@bd.so.ch 
www.sogis.so.ch


From fwarmerdam at gmail.com  Thu Mar  3 10:05:42 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] OGR2OGR PG schema support
In-Reply-To: <5B025B1F39D6D4119F5700508BEEEC66F94D44@srsofaioi4546.ktso.ch>
References: <5B025B1F39D6D4119F5700508BEEEC66F94D44@srsofaioi4546.ktso.ch>
Message-ID: <931f8ea9050303070559efd2c7@mail.gmail.com>

On Thu, 3 Mar 2005 12:32:14 +0100, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
> Hallo
> 
> I want to insert an ESRI shape into a postgres schema. The documentation
> doesn't give any suggestions how to do that. I tried
> 
> ogr2ogr -f postgresql PG:... shape.shp -nln schema.table
> 
> but ogr2ogr responses with error
> FAILED: To find existing layer `schema.table' on output dataset
> 
> ogr Version 1.2.1

Dr. D?ster,

OGR 1.2.1 is a bit old now.  The 1.2.5 (or beta 1.2.6) driver is somewhat
more capable.  However, it still does not have any explicit Schema support.
There is an open enhancement request about this at:

  http://bugzilla.remotesensing.org/show_bug.cgi?id=522

You might want to add yourself to the cc: list.  I don't know when I will get
to this though.  To be honest, I don't really understand how the schemas
work well. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From neteler at itc.it  Thu Mar  3 14:14:16 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] GRASS/GDAL plugin issue
Message-ID: <20050303191416.GA10555@thuille.itc.it>

Hi,

after recompiling GDAL from scratch, I no longer get the
GRASS plugin working. What I did:

- compiled GDAL
   ./configure \
    --without-grass \
    --without-libgrass \
    ...

- rm -f /usr/local/lib/gdal_GRASS.so

#building GRASS 6.0 plugin support
(
 cd frmts/grass/pkg/
 ./configure --with-grass=$HOME/grass60/dist.i686-pc-linux-gnu

 ln -sf ../*.cpp .
 make
 make install
 make clean
)

Now I have
ldd /usr/local/lib/gdal_GRASS.so
        linux-gate.so.1 =>  (0xffffe000)
        libgrass_I.so => /home/neteler/soft/60grass_cvsexp/dist.i686-pc-linux-gnu/lib/libgrass_I.so (0x4000a000)
        libgrass_vask.so => /home/neteler/soft/60grass_cvsexp/dist.i686-pc-linux-gnu/lib/libgrass_vask.so (0x4001a000)
...

But:
 gdalinfo /home/neteler/grassdata/utm32n/PERMANENT/cellhd/ebergoetzen.rgb
ERROR 4: `/home/neteler/grassdata/utm32n/PERMANENT/cellhd/ebergoetzen.rgb' not recognised as a supported file format.

GDALOpen failed - 4
`/home/neteler/grassdata/utm32n/PERMANENT/cellhd/ebergoetzen.rgb' not recognised as a supported file format.

Local problem or did anything change recently?
I tried on two different machines where things were working so far.

Thanks for any hint

 Markus


From fwarmerdam at gmail.com  Thu Mar  3 14:29:57 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] GRASS/GDAL plugin issue
In-Reply-To: <20050303191416.GA10555@thuille.itc.it>
References: <20050303191416.GA10555@thuille.itc.it>
Message-ID: <931f8ea90503031129225194dd@mail.gmail.com>

On Thu, 3 Mar 2005 20:14:16 +0100, Markus Neteler <neteler@itc.it> wrote:
...
> Local problem or did anything change recently?
> I tried on two different machines where things were working so far.

Markus,

Sorry, I recently changed how plugins are searched for at the request
of a user.  The default search location is now /usr/local/lib/gdal_plugins
instead of /usr/local/lib.  This is to reduce the change of the wrong files
being loaded as plugins. 

Try moving the gdal_GRASS.so you built. 

I would add that if you define CPL_DEBUG to ON you will get
reports to stderr as plugins are loaded.  This can be helpful to 
debug plugin issues. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From wlyons at prologic-inc.com  Thu Mar  3 16:01:04 2005
From: wlyons at prologic-inc.com (William Lyons)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Problem building overviews
Message-ID: <2DBB9F887DAA394FA75D98474EA5730DFAA342@vader.prologic-inc.com>

Frank and List,

 

I'm attempting to build overviews for a dataset containing a single band
with a color interp of palette index (a CADRG file)

When I use the AVERAGE option the map looks bad when scaled down beyond
a certain point.

But when I use the MODE option I get the following errors: 

 

ERROR 5: Access window out of range in RasterIO().  Requested

(0,768) of size 768x1 on raster of 768x768.

ERROR 5: Access window out of range in RasterIO().  Requested

(0,769) of size 768x1 on raster of 768x768.

ERROR 5: Access window out of range in RasterIO().  Requested

(0,770) of size 768x1 on raster of 768x768.

 

And these go on and on and on with what I'm assuming is the line index
incrementing (768, 769, 770, etc ).

 

I'm using a pretty old CVS snapshot.  So, my apologies if this has
already been addressed.

 

Thanks,

 

William Lyons

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050303/23005c65/attachment.html
From fwarmerdam at gmail.com  Thu Mar  3 16:32:01 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] Problem building overviews
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730DFAA342@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730DFAA342@vader.prologic-inc.com>
Message-ID: <931f8ea9050303133279c73384@mail.gmail.com>

On Thu, 3 Mar 2005 16:01:04 -0500, William Lyons
<wlyons@prologic-inc.com> wrote:
> I'm attempting to build overviews for a dataset containing a single band
> with a color interp of palette index (a CADRG file) 
> 
> When I use the AVERAGE option the map looks bad when scaled down beyond a
> certain point. 

William, 

In general paletted files should not be averaged for overviews. 
 
> But when I use the MODE option I get the following errors: 

MODE is not actually implemented as a downsampling type.  I 
should either remove it from the Usage message, or implement it. 
However, I can never decide which to do.

> ERROR 5: Access window out of range in RasterIO().  Requested 
> 
> (0,768) of size 768x1 on raster of 768x768. 
...
> I'm using a pretty old CVS snapshot.  So, my apologies if this has already
> been addressed. 

Hmm, the above are not expected.  I would encourage you to try 
"-r near" with current code (perhaps the beta) and see if the problem
still occurs.  If so, report it with details and I wll see what I can do. 

If you are using the CADRG data directly from OGDI and trying to build
overviews against an OGDI datasource, you might be well advised 
convert to GeoTIFF first. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Thu Mar  3 10:05:42 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] OGR2OGR PG schema support
Message-ID: <20050304064035.18717.qmail@jaguar.gov.yk.ca>

On Thu, 3 Mar 2005 12:32:14 +0100, D?ster Horst <Horst.Duester@bd.so.ch> wrote:
> Hallo
> 
> I want to insert an ESRI shape into a postgres schema. The documentation
> doesn't give any suggestions how to do that. I tried
> 
> ogr2ogr -f postgresql PG:... shape.shp -nln schema.table
> 
> but ogr2ogr responses with error
> FAILED: To find existing layer `schema.table' on output dataset
> 
> ogr Version 1.2.1

Dr. D?ster,

OGR 1.2.1 is a bit old now.  The 1.2.5 (or beta 1.2.6) driver is somewhat
more capable.  However, it still does not have any explicit Schema support.
There is an open enhancement request about this at:

  http://bugzilla.remotesensing.org/show_bug.cgi?id=522

You might want to add yourself to the cc: list.  I don't know when I will get
to this though.  To be honest, I don't really understand how the schemas
work well. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050303/246494a3/attachment.html
From fwarmerdam at gmail.com  Wed Mar  2 23:41:19 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] configure problem on FreeBSD
Message-ID: <20050304065532.4316.qmail@jaguar.gov.yk.ca>

On Wed, 2 Mar 2005 14:30:37 +0200, John Hay <jhay@icomtek.csir.co.za> wrote:
> Hi,
> 
> I have tried both version 1.2.5 and 1.2.6b3 on FreeBSD and it looks
> like the configure script is using a bash specific feature which
> isn't available in the FreeBSD /bin/sh. It is the two lines:
> 
> if test ${MYSQL_VERSION:0:1} -ge 4 ; then
> if test "${VERSION:0:1}" -lt 2 ; then
> 
> The FreeBSD /bin/sh does not know how to handle the ${variable:0:1}.
> 
> What about rather using a case statement for it? Something like:

John,

Patched as suggested, though it took a few tries to escape the [ and ] 
properly since they are spectial quotes to autoconf.  Test on Mysql 3
and 4. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050302/b9c28c5a/attachment.html
From Horst.Duester at bd.so.ch  Thu Mar  3 06:32:14 2005
From: Horst.Duester at bd.so.ch (=?iso-8859-1?Q?D=FCster_Horst?=)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] OGR2OGR PG schema support
Message-ID: <20050304070219.13634.qmail@jaguar.gov.yk.ca>

Hallo

I want to insert an ESRI shape into a postgres schema. The documentation
doesn't give any suggestions how to do that. I tried 

ogr2ogr -f postgresql PG:... shape.shp -nln schema.table

but ogr2ogr responses with error 
FAILED: To find existing layer `schema.table' on output dataset

ogr Version 1.2.1

I would be appreciate about any hint.

With best regards

---------------------------------
?
Dr. Horst D?ster 
GIS-Koordinator /Amtschef Stv.

Kanton Solothurn?
Amt f?r Geoinformation
Abteilung SO!GIS Koordination
Werkhofstr. 65
CH-4509 Solothurn 

Tel.: ++41 (0)32 627 25 32 
Fax: ++41 (0)32 627 22 14

horst.duester@bd.so.ch 
www.sogis.so.ch

_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050303/977b4d02/attachment.html
From ed at topozone.com  Fri Mar  4 10:49:21 2005
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] GDAL hanging on TIFF operation?
Message-ID: <4BF377919225F449BB097CB76FFE9BC81880FE@ptolemy.topozone.com>

Folks -

I'm a little puzzled by what seems a straightforward operation on
"ordinary" GeoTIFF images (some collar-clipped USGS DRG files).

I'm doing some performance testing on a set of 8-bit GeoTIFFs and I'm
using gdalwarp to convert to different formats/organizations.  But I
cannot figure out what's going on.  The files are correctly read by GDAL
as part of MapServer, but when I use the GDAL command-line utilities
gdalwarp and gdalinfo, they hang.

I've tried this with GDAL 1.2.5 and with the 1.2.6b3 code with the same
results.  I have no trouble with tiffinfo and listgeo (I'm building with
the external tiff and geotiff libraries) so I do not expect there's
anything wrong with those supporting libraries.  I get a few warning
messages (see below) that seem to be either expected (tiffinfo) or
chronic and harmless (incorrect count for field "DateTime").

The source files are 8-bit GeoTIFFs with LZW compression, organized as
one row/strip.  The tiffinfo and listgeo output is below - any ideas
would be appreciated.  Thanks!

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed@topozone.com
(978) 251-4242 


# tiffinfo O40100H8.tif
O40100H8.tif: Warning, incorrect count for field "DateTime" (23,
expecting 20); tag ignored.
TIFFReadDirectory: Warning, O40100H8.tif: unknown field with tag 33550
(0x830e) encountered.
TIFFReadDirectory: Warning, O40100H8.tif: unknown field with tag 33922
(0x8482) encountered.
TIFFReadDirectory: Warning, O40100H8.tif: unknown field with tag 34735
(0x87af) encountered.
TIFFReadDirectory: Warning, O40100H8.tif: unknown field with tag 34737
(0x87b1) encountered.
TIFF Directory at offset 0x20b9fa
  Subfile Type: multi-page document (2 = 0x2)
  Image Width: 4442 Image Length: 5786
  Resolution: 250, 250 pixels/inch
  Bits/Sample: 8
  Compression Scheme: LZW
  Photometric Interpretation: palette color (RGB from colormap)
  Image Description: "USGS GeoTIFF DRG 1:24000 Quad of Dickens NW."
  Orientation: row 0 top, col 0 lhs
  Samples/Pixel: 1
  Rows/Strip: 1
  Planar Configuration: single image plane
  Page Number: 0-1
  Color Map: (present)
  Software: TopoZone DRG Processing 1.1
  Tag 33550: 2.438400,2.438400,0.000000
  Tag 33922:
0.500000,0.500000,0.000000,331436.203920,4540683.787793,0.000000
  Tag 34735:
1,1,0,4,1024,0,1,1,1025,0,1,1,3072,0,1,26914,3073,-30799,25,0
  Tag 34737: UTM Zone 14 N with NAD83|

# listgeo O40100H8.tif
O40100H8.tif: Warning, incorrect count for field "DateTime" (23,
expecting 20); tag ignored.
Geotiff_Information:
   Version: 1
   Key_Revision: 1.0
   Tagged_Information:
      ModelTiepointTag (2,3):
         0.5              0.5              0                
         331436.204       4540683.79       0                
      ModelPixelScaleTag (1,3):
         2.4384           2.4384           0                
      End_Of_Tags.
   Keyed_Information:
      GTModelTypeGeoKey (Short,1): ModelTypeProjected
      GTRasterTypeGeoKey (Short,1): RasterPixelIsArea
      ProjectedCSTypeGeoKey (Short,1): PCS_NAD83_UTM_zone_14N
      PCSCitationGeoKey (Ascii,25): "UTM Zone 14 N with NAD83"
      End_Of_Keys.
   End_Of_Geotiff.

PCS = 26914 (NAD83 / UTM zone 14N)
Projection = 16014 (UTM zone 14N)
Projection Method: CT_TransverseMercator
   ProjNatOriginLatGeoKey: 0.000000 (  0d 0' 0.00"N)
   ProjNatOriginLongGeoKey: -99.000000 ( 99d 0' 0.00"W)
   ProjScaleAtNatOriginGeoKey: 0.999600
   ProjFalseEastingGeoKey: 500000.000000 m
   ProjFalseNorthingGeoKey: 0.000000 m
GCS: 4269/NAD83
Datum: 6269/North American Datum 1983
Ellipsoid: 7019/GRS 1980 (6378137.00,6356752.31)
Prime Meridian: 8901/Greenwich (0.000000/  0d 0' 0.00"E)
Projection Linear Units: 9001/metre (1.000000m)

Corner Coordinates:
Upper Left    (  331434.985, 4540685.007)
Lower Left    (  331434.985, 4526576.425)
Upper Right   (  342266.358, 4540685.007)
Lower Right   (  342266.358, 4526576.425)
Center        (  336850.671, 4533630.716)


From fwarmerdam at gmail.com  Fri Mar  4 11:03:31 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] GDAL hanging on TIFF operation?
In-Reply-To: <4BF377919225F449BB097CB76FFE9BC81880FE@ptolemy.topozone.com>
References: <4BF377919225F449BB097CB76FFE9BC81880FE@ptolemy.topozone.com>
Message-ID: <931f8ea905030408036b9c8408@mail.gmail.com>

On Fri, 4 Mar 2005 10:49:21 -0500, Ed McNierney <ed@topozone.com> wrote:
> Folks -
> 
> I'm a little puzzled by what seems a straightforward operation on
> "ordinary" GeoTIFF images (some collar-clipped USGS DRG files).
> 
> I'm doing some performance testing on a set of 8-bit GeoTIFFs and I'm
> using gdalwarp to convert to different formats/organizations.  But I
> cannot figure out what's going on.  The files are correctly read by GDAL
> as part of MapServer, but when I use the GDAL command-line utilities
> gdalwarp and gdalinfo, they hang.

Ed,

Sorry, I don't see any obvious reason for a problem.  I will note that
output to compressed TIFF from gdalwarp is not currently working.
It is possible the problem could manifest as a hang, though I haven't
seen that. 

If you can provide me with a file, and a commandline to reproduce the
problem I would be happy to look into it. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bartvde at xs4all.nl  Fri Mar  4 12:14:44 2005
From: bartvde at xs4all.nl (bartvde@xs4all.nl)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] building GDAL in Visual C++ Toolkit 2003
Message-ID: <8449.212.238.227.182.1109956484.squirrel@212.238.227.182>

Hi list,

I tried to compile GDAL using the free Visual C++ Toolkit 2003 in
combination with the Microsoft Platform SDK, and the .NET Framework SDK.

I ran into the following problem:

C:\projects\gdal-1.2.5\frmts\gtiff\libtiff\tiffio.h

tiffio.h uses <iostream.h> which is deprecated, I had to change it into
the following:

#if defined(c_plusplus) || defined(__cplusplus)
# include <iostream>
extern	TIFF* TIFFStreamOpen(const char*, std::ostream *);
extern	TIFF* TIFFStreamOpen(const char*, std::istream *);
#endif

Is there any reason not to use this in the standard GDAL distribution?

Best regards.
Bart


From fwarmerdam at gmail.com  Fri Mar  4 12:19:13 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] building GDAL in Visual C++ Toolkit 2003
In-Reply-To: <8449.212.238.227.182.1109956484.squirrel@212.238.227.182>
References: <8449.212.238.227.182.1109956484.squirrel@212.238.227.182>
Message-ID: <931f8ea9050304091910daa8b@mail.gmail.com>

On Fri, 4 Mar 2005 18:14:44 +0100 (CET), bartvde@xs4all.nl
<bartvde@xs4all.nl> wrote:
> Hi list,
> 
> I tried to compile GDAL using the free Visual C++ Toolkit 2003 in
> combination with the Microsoft Platform SDK, and the .NET Framework SDK.
> 
> I ran into the following problem:
> 
> C:\projects\gdal-1.2.5\frmts\gtiff\libtiff\tiffio.h
> 
> tiffio.h uses <iostream.h> which is deprecated, I had to change it into
> the following:
> 
> #if defined(c_plusplus) || defined(__cplusplus)
> # include <iostream>
> extern  TIFF* TIFFStreamOpen(const char*, std::ostream *);
> extern  TIFF* TIFFStreamOpen(const char*, std::istream *);
> #endif
> 
> Is there any reason not to use this in the standard GDAL distribution?

Bart,

I believe that Andrey will be fixing this upstream in libtiff.  Andrey,
could you address this issue, and update the GDAL libtiff
copy in the next few days so that we will stop seeing these issues
in GDAL 1.2.6? 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dron at ak4719.spb.edu  Fri Mar  4 14:27:24 2005
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] building GDAL in Visual C++ Toolkit 2003
In-Reply-To: <931f8ea9050304091910daa8b@mail.gmail.com>
References: <8449.212.238.227.182.1109956484.squirrel@212.238.227.182>
	<931f8ea9050304091910daa8b@mail.gmail.com>
Message-ID: <20050304192724.GA5487@ak4719.spb.edu>

On Fri, Mar 04, 2005 at 12:19:13PM -0500, Frank Warmerdam wrote:
> > I ran into the following problem:
> > 
> > C:\projects\gdal-1.2.5\frmts\gtiff\libtiff\tiffio.h
> > 
> > tiffio.h uses <iostream.h> which is deprecated, I had to change it into
> > the following:
> > 
> > #if defined(c_plusplus) || defined(__cplusplus)
> > # include <iostream>
> > extern  TIFF* TIFFStreamOpen(const char*, std::ostream *);
> > extern  TIFF* TIFFStreamOpen(const char*, std::istream *);
> > #endif
> > 
> > Is there any reason not to use this in the standard GDAL distribution?
> 
> I believe that Andrey will be fixing this upstream in libtiff.  Andrey,
> could you address this issue, and update the GDAL libtiff
> copy in the next few days so that we will stop seeing these issues
> in GDAL 1.2.6? 

The problem was fixed in the libtiff CVS sometimes ago. I shall
propagate the changes in the GDAL.

Regards,
Andrey


-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517

From hamish_nospam at yahoo.com  Fri Mar  4 22:24:58 2005
From: hamish_nospam at yahoo.com (Hamish)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] building GDAL in Visual C++ Toolkit 2003
In-Reply-To: <8449.212.238.227.182.1109956484.squirrel@212.238.227.182>
References: <8449.212.238.227.182.1109956484.squirrel@212.238.227.182>
Message-ID: <20050305162458.55870d7d.hamish_nospam@yahoo.com>

On Fri, 4 Mar 2005 18:14:44 +0100 (CET)
bartvde@xs4all.nl wrote:

> Hi list,
> 
> I tried to compile GDAL using the free Visual C++ Toolkit 2003 in
> combination with the Microsoft Platform SDK, and the .NET Framework
> SDK.
> 
> I ran into the following problem:
> 
> C:\projects\gdal-1.2.5\frmts\gtiff\libtiff\tiffio.h
> 
> tiffio.h uses <iostream.h> which is deprecated, I had to change it
> into the following:
> 
> #if defined(c_plusplus) || defined(__cplusplus)
> # include <iostream>
> extern	TIFF* TIFFStreamOpen(const char*, std::ostream *);
> extern	TIFF* TIFFStreamOpen(const char*, std::istream *);
> #endif
> 
> Is there any reason not to use this in the standard GDAL distribution?



general gotcha to be aware of:
  <iostream> is ok but <ostream> isn't always..

#include <ostream>   // will not compile with gcc <= 2.96


needs something like:

#if __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 1)
#include <ostream>
#else
#include <ostream.h>
#endif


see  http://grass.itc.it/pipermail/grass5/2004-November/015840.html



Hamish

From neteler at itc.it  Sat Mar  5 06:15:46 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] GRASS/GDAL plugin issue
In-Reply-To: <931f8ea90503031129225194dd@mail.gmail.com>
References: <20050303191416.GA10555@thuille.itc.it>
	<931f8ea90503031129225194dd@mail.gmail.com>
Message-ID: <20050305111545.GG16711@thuille.itc.it>

On Thu, Mar 03, 2005 at 02:29:57PM -0500, Frank Warmerdam wrote:
> On Thu, 3 Mar 2005 20:14:16 +0100, Markus Neteler <neteler@itc.it> wrote:
> ...
> > Local problem or did anything change recently?
> > I tried on two different machines where things were working so far.
> 
> Markus,
> 
> Sorry, I recently changed how plugins are searched for at the request
> of a user.  The default search location is now /usr/local/lib/gdal_plugins
> instead of /usr/local/lib.  This is to reduce the change of the wrong files
> being loaded as plugins. 

Ah, good to know.

 cd frmts/grass/pkg/
 ./configure --with-grass=$HOME/grass60/dist.i686-pc-linux-gnu \
   --with-autoload=/usr/local/lib/gdal_plugins
...
checking for gdal-config... /usr/local/bin/gdal-config
using /usr/local/lib/gdal_plugins as GDAL shared library autoload directory
checking for G_asprintf in -lgrass_gis... yes
...
 
> Try moving the gdal_GRASS.so you built. 

Unfortunately it doesn't help yet:

ls -l /usr/local/lib/gdal_plugins
-rwxr-xr-x  1 neteler neteler 36993 M?r  5 12:15 gdal_GRASS.so*

ldd /usr/local/lib/gdal_plugins/gdal_GRASS.so
        linux-gate.so.1 =>  (0xffffe000)
        libgrass_I.so => /usr/local/lib/libgrass_I.so (0x40020000)
        libgrass_vask.so => /usr/local/lib/libgrass_vask.so (0x40030000)
        libgrass_gmath.so => /usr/local/lib/libgrass_gmath.so (0x40036000)
        ...

export CPL_DEBUG=on
gdalinfo grassdata/utm32n/PERMANENT/cellhd/ebergoetzen.rgb
ERROR 4: `grassdata/utm32n/PERMANENT/cellhd/ebergoetzen.rgb' not recognised as a supported file format.
GDALOpen failed - 4
`grassdata/utm32n/PERMANENT/cellhd/ebergoetzen.rgb' not recognised as a supported file format.

GDAL: GDALDeregister_GTiff() called.

Sorry for no better news. A final trick seems to be missing.

Best regards

 Markus


From fwarmerdam at gmail.com  Sat Mar  5 11:40:23 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] GRASS/GDAL plugin issue
In-Reply-To: <20050305111545.GG16711@thuille.itc.it>
References: <20050303191416.GA10555@thuille.itc.it>
	<931f8ea90503031129225194dd@mail.gmail.com>
	<20050305111545.GG16711@thuille.itc.it>
Message-ID: <931f8ea905030508405f1c1d3f@mail.gmail.com>

On Sat, 5 Mar 2005 12:15:46 +0100, Markus Neteler <neteler@itc.it> wrote:

> Unfortunately it doesn't help yet:
> 
> ls -l /usr/local/lib/gdal_plugins
> -rwxr-xr-x  1 neteler neteler 36993 M?r  5 12:15 gdal_GRASS.so*
>

Markus,

Sorry for the hassle.  The directory is apparently 
/usr/local/lib/gdalplugins, not /usr/local/lib/gdal_plugins. 

It is documented deep in the api ref docs at:

  http://www.gdal.org/classGDALDriverManager.html#a8

However, I clearly need better user level plugin documentation.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dron at ak4719.spb.edu  Fri Mar  4 14:27:24 2005
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:34 2007
Subject: [Gdal-dev] building GDAL in Visual C++ Toolkit 2003
In-Reply-To: <931f8ea9050304091910daa8b@mail.gmail.com>
References: <8449.212.238.227.182.1109956484.squirrel@212.238.227.182>
	<931f8ea9050304091910daa8b@mail.gmail.com>
Message-ID: <20050304192724.GA5487@ak4719.spb.edu>

On Fri, Mar 04, 2005 at 12:19:13PM -0500, Frank Warmerdam wrote:
> > I ran into the following problem:
> > 
> > C:\projects\gdal-1.2.5\frmts\gtiff\libtiff\tiffio.h
> > 
> > tiffio.h uses <iostream.h> which is deprecated, I had to change it into
> > the following:
> > 
> > #if defined(c_plusplus) || defined(__cplusplus)
> > # include <iostream>
> > extern  TIFF* TIFFStreamOpen(const char*, std::ostream *);
> > extern  TIFF* TIFFStreamOpen(const char*, std::istream *);
> > #endif
> > 
> > Is there any reason not to use this in the standard GDAL distribution?
> 
> I believe that Andrey will be fixing this upstream in libtiff.  Andrey,
> could you address this issue, and update the GDAL libtiff
> copy in the next few days so that we will stop seeing these issues
> in GDAL 1.2.6? 

The problem was fixed in the libtiff CVS sometimes ago. I shall
propagate the changes in the GDAL.

Regards,
Andrey


-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517

From neteler at itc.it  Sun Mar  6 07:28:03 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdalinfo output: GTIFF vs HFA - UTM
Message-ID: <20050306122803.GA1518@thuille.itc.it>

Frank,

thanks for explaining the GRASS plugin changes, I should
have read the docs... Works smoothly now!

While exporting from GRASS to GeoTIFF and Erdas Imagine,
I came across a small difference:

gdal_translate -of GTiff -a_srs "EPSG:32632" grassdata/utm32n/PERMANENT/cellhd/ebergoetzen.rgb ebergoetzen_brovey_fusion_lsat7.tif
gdalinfo ebergoetzen_brovey_fusion_lsat7.tif | head  -25
Driver: GTiff/GeoTIFF
Size is 1734, 1536
Coordinate System is:
PROJCS["WGS 84 / UTM zone 32N",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.2572235629972,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",9],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32632"]]
Origin = (563331.000000,5722173.000000)
Pixel Size = (14.25000000,-14.25000000)
Corner Coordinates:
Upper Left  (  563331.000, 5722173.000) (  9d54'55.22"E, 51d38'49.15"N)
...

-> output ok

gdal_translate -of HFA -a_srs "EPSG:32632" grassdata/utm32n/PERMANENT/cellhd/ebergoetzen.rgb ebergoetzen_brovey_fusion_lsat7.img
gdalinfo ebergoetzen_brovey_fusion_lsat7.img | head -20
Driver: HFA/Erdas Imagine Images (.img)
Size is 1734, 1536
Coordinate System is:
PROJCS["UTM",
    GEOGCS["WGS_1984",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.2572235629972],
            TOWGS84[0,0,0,0,0,0,0]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",9],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["meters",1]]
Origin = (563331.000000,5722173.000000)
Pixel Size = (14.25000000,-14.25000000)
Corner Coordinates:
...

-> here the zone/hemisphere is not displayed. May I ask
you to add this to the HFA/Erdas driver? 

Thanks in advance

 Markus


From fwarmerdam at gmail.com  Sun Mar  6 14:44:45 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdalinfo output: GTIFF vs HFA - UTM
In-Reply-To: <20050306122803.GA1518@thuille.itc.it>
References: <20050306122803.GA1518@thuille.itc.it>
Message-ID: <931f8ea90503061144207697e@mail.gmail.com>

On Sun, 6 Mar 2005 13:28:03 +0100, Markus Neteler <neteler@itc.it> wrote:
> Frank,
> 
> thanks for explaining the GRASS plugin changes, I should
> have read the docs... Works smoothly now!

Markus, 

Well, I did specifically mislead you with my previous email, and
the only available documentation is buried deep in the C++ 
API reference docs, so I hardly expect users to find it there. 
 


> Coordinate System is:
> PROJCS["UTM",
...
> -> here the zone/hemisphere is not displayed. May I ask
> you to add this to the HFA/Erdas driver?

The PROJCS name string is, in theory arbitrary, and does not
affect the system processing of WKT definitions so it shouldn't
matter.  But it is a useful string for end users to see, so I'll look into
changing the HFA driver to insert a more appropriate name in the
UTM case. 

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From zhang at aero.und.edu  Sun Mar  6 18:10:43 2005
From: zhang at aero.und.edu (Xiaodong Zhang)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal_merge.py
Message-ID: <1110150643.422b8df3a2468@portal.aero.und.edu>

Hi,

I'm using gdal_merge.py to merge 3 gtiff images (MODIS) with exactly the same
spatial extents but each only cover different parts of the area. Each input
image (byte) has areas of no data of values 0.

gdal_merge.py -o out.tif -pct -v -co compress=packbits input1.tif input2.tif
input3.tif

I had expected the final image should be the "merge" of the three, taking data
from three images. But instead, the final image has the same data cover as the
last input image, input3.tif. 

I also tried -n nodata_value (as below), but it gave me an error message,
ImportError: No module named Numeric

gdal_merge.py -o out.tif -pct -v -n 0 -co compress=packbits input1.tif
input2.tif input3.tif

By the way, what is the algorithm used by gdal_merge.py? Is it possible to
specify an algorithm, say, take the maximum.

Many thanks
Xiaodong







From Jeroen.Ticheler at fao.org  Mon Mar  7 03:22:10 2005
From: Jeroen.Ticheler at fao.org (Jeroen Ticheler)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] merge 3 tiff files into RGB color composite geotiff
In-Reply-To: <931f8ea9050302145877361761@mail.gmail.com>
References: <3c72668cd800ae2ab3811143323d071e@fao.org>
	<931f8ea9050302145877361761@mail.gmail.com>
Message-ID: <07cc5976ed8b78f71db6ef7094b7d9dc@fao.org>

Hi Frank,
This worked great and I was able to see the output in OpenEV. However,  
I was not able to see the file in Gimp or any other graphical software  
I tried because they started complaining about unknown tags... This  
happened when working with MODIS data, while a similar test with ASTER  
data didn't give the errors and the Aster image would open in these  
programs. I assume there are some tags that geotiff supports bu confuse  
other software!? Is there a way to remove these (export to some kind of  
GeoTIFF minimum!?) so the images will open in (m)any graphics software?
Thanks again,
Jeroen

On 2 Mar 2005, at 23:58, Frank Warmerdam wrote:

> On Wed, 2 Mar 2005 23:31:34 +0100, Jeroen Ticheler
> <Jeroen.Ticheler@fao.org> wrote:
>> Hi,
>>
>> I wondered if there is a trick to convert three image files (geotiff),
>> being red, NIR and MIR, into an RGB geotiff?
>
> Jeroen,
>
> As long as the red, NIR and MIR are  the same size and for the same
> region you should be able to stack them with gdal_merge.py:
>
> gdal_merge.py -seperate red.tif nir.tif mir.tif -o stack.tif
>
> The -seperate flag means put each input into a seperate band.
>
> Best regards,
> --  
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent


From James.Goodwin at sea.co.uk  Mon Mar  7 09:05:24 2005
From: James.Goodwin at sea.co.uk (James Goodwin)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GDAL/ORG S-57 & S-63 encyption?
Message-ID: <s22c603c.045@mail.sea.co.uk>

Dear All,

I note that GDAL can load S-57 files and they may be displayed using fwtools.  The majority of commercially available S-57 charts are encypted using the S-63 format.

Is it possible to access S-63 encrypted S-57 files using GDAL?

Thanks,
James


________________________________________________________________________
This email, and any attachment, may contain information that is confidential and/or subject to copyright. The recipient of any email from SEA shall not forward any message or attachment to any third party without prior consent from SEA. Although SEA uses all reasonable endeavours to prevent the transmission of known viruses, SEA shall accept no liability for any damage to systems or loss of or corruption of data caused by any virus inadvertently transmitted. SEA reserves the right to monitor all incoming and outgoing email for any lawful purpose; this is clearly stated in the SEA policy - The Use of Computer and Telephony Equipment By Staff. The contents of this email do not give rise to any binding legal obligation upon SEA unless a separate confirmation is sent on headed stationery, either in hardcopy or by email, as an attachment. If an email is to create a binding obligation on SEA, through the use of an attachment, then this shall be clearly stated in the body text. Anyone dealing with SEA by email who objects to any of these terms should refer their concerns to the Business Systems Manager through the contact listed above.

From fwarmerdam at gmail.com  Mon Mar  7 09:21:10 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] merge 3 tiff files into RGB color composite geotiff
In-Reply-To: <07cc5976ed8b78f71db6ef7094b7d9dc@fao.org>
References: <3c72668cd800ae2ab3811143323d071e@fao.org>
	<931f8ea9050302145877361761@mail.gmail.com>
	<07cc5976ed8b78f71db6ef7094b7d9dc@fao.org>
Message-ID: <931f8ea905030706216c9b02fb@mail.gmail.com>

On Mon, 07 Mar 2005 09:22:10 +0100, Jeroen Ticheler
<Jeroen.Ticheler@fao.org> wrote:
> Hi Frank,
> This worked great and I was able to see the output in OpenEV. However,
> I was not able to see the file in Gimp or any other graphical software
> I tried because they started complaining about unknown tags... 

Jeroen, 

Generally speaking unknown tags should be treated as, at worst, a
warning by reading applications.   


> This
> happened when working with MODIS data, while a similar test with ASTER
> data didn't give the errors and the Aster image would open in these
> programs. I assume there are some tags that geotiff supports bu confuse
> other software!? Is there a way to remove these (export to some kind of
> GeoTIFF minimum!?) so the images will open in (m)any graphics software?
> Thanks again,
> Jeroen

You can use "tiffcp" to convert a GeoTIFF file into a plain TIFF file.  
eg. 

  tiffcp geotiff.tif plain_tif.tif

I have also, just this morning, added a new PROFILE creation option 
to the GeoTIFF driver.  If you use PROFILE=GeoTIFF it will only add
GeoTIFF tags, but none of the custom GDAL tags (for metadata, nodata,
etc).  If you use PROFILE=BASELINE it will create a file without even 
GeoTIFF tags. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From gillian.walter at atlantis-scientific.com  Mon Mar  7 09:30:56 2005
From: gillian.walter at atlantis-scientific.com (Gillian Walter)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] merge 3 tiff files into RGB color composite geotiff
In-Reply-To: <931f8ea905030706216c9b02fb@mail.gmail.com>
References: <3c72668cd800ae2ab3811143323d071e@fao.org>	<931f8ea9050302145877361761@mail.gmail.com>	<07cc5976ed8b78f71db6ef7094b7d9dc@fao.org>
	<931f8ea905030706216c9b02fb@mail.gmail.com>
Message-ID: <422C65A0.4050803@atlantis-scientific.com>

Hi,

Sometimes I've found that I have to use the option "INTERLEAVE=PIXEL" 
when creating an rgb tiff in order for other applications to be able to 
view it.  I don't know if that could be the problem here (I usually get 
tag warnings, but the image still comes up).

Gillian

Frank Warmerdam wrote:

>On Mon, 07 Mar 2005 09:22:10 +0100, Jeroen Ticheler
><Jeroen.Ticheler@fao.org> wrote:
>  
>
>>Hi Frank,
>>This worked great and I was able to see the output in OpenEV. However,
>>I was not able to see the file in Gimp or any other graphical software
>>I tried because they started complaining about unknown tags... 
>>    
>>
>
>Jeroen, 
>
>Generally speaking unknown tags should be treated as, at worst, a
>warning by reading applications.   
>
>
>  
>
>>This
>>happened when working with MODIS data, while a similar test with ASTER
>>data didn't give the errors and the Aster image would open in these
>>programs. I assume there are some tags that geotiff supports bu confuse
>>other software!? Is there a way to remove these (export to some kind of
>>GeoTIFF minimum!?) so the images will open in (m)any graphics software?
>>Thanks again,
>>Jeroen
>>    
>>
>
>You can use "tiffcp" to convert a GeoTIFF file into a plain TIFF file.  
>eg. 
>
>  tiffcp geotiff.tif plain_tif.tif
>
>I have also, just this morning, added a new PROFILE creation option 
>to the GeoTIFF driver.  If you use PROFILE=GeoTIFF it will only add
>GeoTIFF tags, but none of the custom GDAL tags (for metadata, nodata,
>etc).  If you use PROFILE=BASELINE it will create a file without even 
>GeoTIFF tags. 
>
>Best regards,
>  
>



From Jeroen.Ticheler at fao.org  Mon Mar  7 09:30:55 2005
From: Jeroen.Ticheler at fao.org (Jeroen Ticheler)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] merge 3 tiff files into RGB color composite geotiff
In-Reply-To: <931f8ea905030706216c9b02fb@mail.gmail.com>
References: <3c72668cd800ae2ab3811143323d071e@fao.org>
	<931f8ea9050302145877361761@mail.gmail.com>
	<07cc5976ed8b78f71db6ef7094b7d9dc@fao.org>
	<931f8ea905030706216c9b02fb@mail.gmail.com>
Message-ID: <8e329658b94eb26db02df3138f1ea810@fao.org>

Frank,
Thanks so much! And I do not even have to buy the next product upgrade!  
;-)
Will try the suggested processes, they seem just what I need!
Jeroen

On 7 Mar 2005, at 15:21, Frank Warmerdam wrote:

> On Mon, 07 Mar 2005 09:22:10 +0100, Jeroen Ticheler
> <Jeroen.Ticheler@fao.org> wrote:
>> Hi Frank,
>> This worked great and I was able to see the output in OpenEV. However,
>> I was not able to see the file in Gimp or any other graphical software
>> I tried because they started complaining about unknown tags...
>
> Jeroen,
>
> Generally speaking unknown tags should be treated as, at worst, a
> warning by reading applications.
>
>
>> This
>> happened when working with MODIS data, while a similar test with ASTER
>> data didn't give the errors and the Aster image would open in these
>> programs. I assume there are some tags that geotiff supports bu  
>> confuse
>> other software!? Is there a way to remove these (export to some kind  
>> of
>> GeoTIFF minimum!?) so the images will open in (m)any graphics  
>> software?
>> Thanks again,
>> Jeroen
>
> You can use "tiffcp" to convert a GeoTIFF file into a plain TIFF file.
> eg.
>
>   tiffcp geotiff.tif plain_tif.tif
>
> I have also, just this morning, added a new PROFILE creation option
> to the GeoTIFF driver.  If you use PROFILE=GeoTIFF it will only add
> GeoTIFF tags, but none of the custom GDAL tags (for metadata, nodata,
> etc).  If you use PROFILE=BASELINE it will create a file without even
> GeoTIFF tags.
>
> Best regards,
> --  
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent


From fwarmerdam at gmail.com  Mon Mar  7 09:31:54 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [FWTools] GDAL/ORG S-57 & S-63 encyption?
In-Reply-To: <s22c603c.044@mail.sea.co.uk>
References: <s22c603c.044@mail.sea.co.uk>
Message-ID: <931f8ea90503070631236518d8@mail.gmail.com>

On Mon, 07 Mar 2005 14:05:24 +0000, James Goodwin
<James.Goodwin@sea.co.uk> wrote:
> Dear All,
> 
> I note that GDAL can load S-57 files and they may be displayed using fwtools.  The majority of commercially available S-57 charts are encypted using the S-63 format.
> 
> Is it possible to access S-63 encrypted S-57 files using GDAL?

James, 

The short answer is no. 

I haven't seen the S-63 name before.  I do have a whack of
documents from Primar (dated 2000) on their encryption system.
Would you happen to know if this is the same thing?  Is S-63 a
form that Primar distributes data in? 

I did investigate the possibility of licensing Primar's toolkit for
accessing their datasets on behalf of a client; however, in the
end we decided against it because it was complicated, not
cross platform, and we were unlikely to be able to enforce the
usage limitations they required. 

Basically, if you receive encrypted data it is mainly because
the provider wants to limit your use of that data to very specific
situations.  Basically, to hardware navigation systems.  They don't
want you to be able to translate the data into other formats 
because then they lose control.  So, it is unlikely that I would be
able to implement S-63 support. 

That said, I would appreciate a few pointers to info on S-63.  Also,
I would encourage you to complain to your data provider about 
their efforts to make their data less useful to you.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From sylvain_duclos at yahoo.com  Mon Mar  7 10:05:33 2005
From: sylvain_duclos at yahoo.com (s duclos)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [FWTools] GDAL/ORG S-57 & S-63 encyption?
In-Reply-To: 6667
Message-ID: <20050307150533.81062.qmail@web30706.mail.mud.yahoo.com>

Hi Frank,

The info is at http://www.iho.shom.fr/
under publication/downloadlist

Here is a cut&paste of the S-63 section of that
page:

S-63 (Free)   	IHO Data Protection Scheme (Ed 1.0 Oct
2003)  	 
English
Franais
Espaol 	240

(Appendix 1) Test Data
(Appendix2) Software Kernel
S-63 Data Server Agreement
S-63 OEM Agreement
S-63 SA Certificate
S-63 Guidance Notes



Its DRM for ENC more or less


rgds,

Sylvain.


--- Frank Warmerdam <fwarmerdam@gmail.com> wrote:
> On Mon, 07 Mar 2005 14:05:24 +0000, James Goodwin
> <James.Goodwin@sea.co.uk> wrote:
> > Dear All,
> > 
> > I note that GDAL can load S-57 files and they may
> be displayed using fwtools.  The majority of
> commercially available S-57 charts are encypted
> using the S-63 format.
> > 
> > Is it possible to access S-63 encrypted S-57 files
> using GDAL?
> 
> James, 
> 
> The short answer is no. 
> 
> I haven't seen the S-63 name before.  I do have a
> whack of
> documents from Primar (dated 2000) on their
> encryption system.
> Would you happen to know if this is the same thing? 
> Is S-63 a
> form that Primar distributes data in? 
> 
> I did investigate the possibility of licensing
> Primar's toolkit for
> accessing their datasets on behalf of a client;
> however, in the
> end we decided against it because it was
> complicated, not
> cross platform, and we were unlikely to be able to
> enforce the
> usage limitations they required. 
> 
> Basically, if you receive encrypted data it is
> mainly because
> the provider wants to limit your use of that data to
> very specific
> situations.  Basically, to hardware navigation
> systems.  They don't
> want you to be able to translate the data into other
> formats 
> because then they lose control.  So, it is unlikely
> that I would be
> able to implement S-63 support. 
> 
> That said, I would appreciate a few pointers to info
> on S-63.  Also,
> I would encourage you to complain to your data
> provider about 
> their efforts to make their data less useful to you.
> 
> Best regards,
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev
> 

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

From fwarmerdam at gmail.com  Mon Mar  7 10:20:53 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal_merge.py
In-Reply-To: <1110150643.422b8df3a2468@portal.aero.und.edu>
References: <1110150643.422b8df3a2468@portal.aero.und.edu>
Message-ID: <931f8ea905030707204f508e95@mail.gmail.com>

On Sun,  6 Mar 2005 17:10:43 -0600, Xiaodong Zhang <zhang@aero.und.edu> wrote:
> Hi,
> 
> I'm using gdal_merge.py to merge 3 gtiff images (MODIS) with exactly the same
> spatial extents but each only cover different parts of the area. Each input
> image (byte) has areas of no data of values 0.
> 
> gdal_merge.py -o out.tif -pct -v -co compress=packbits input1.tif input2.tif
> input3.tif
> 
> I had expected the final image should be the "merge" of the three, taking data
> from three images. But instead, the final image has the same data cover as the
> last input image, input3.tif.
> 
> I also tried -n nodata_value (as below), but it gave me an error message,
> ImportError: No module named Numeric

Xiaodong,

At the risk of stating the obvious, if you are building your own GDAL,
you should install the Python Numeric package (http://numpy.sf.net I think)
if you want full capabilities. 

> gdal_merge.py -o out.tif -pct -v -n 0 -co compress=packbits input1.tif
> input2.tif input3.tif
> 
> By the way, what is the algorithm used by gdal_merge.py? Is it possible to
> specify an algorithm, say, take the maximum.

Normally gdal_merge.py just blats layer after layer overtop whatever it
has so far.  If you install Numeric I think you can accomplish what you
want using the -n 0 argument. 

The gdal_merge.py script is just a script, so you can easily modify it
yourself.  If you look at the raster_copy_with_nodata() method you will
see how it uses Numeric to chose what value to use.  If you study up
on Numeric (numpy) you should be able to modify this to do any number
of things, including taking the maximum of input pixel values. 

I would add that the FWTools builds of GDAL include Numeric. 

Finally, you can also accomplish your task using gdalwarp.  If your
images already "know" their nodata value it should be sufficient to
do something like:

gdalwarp src1.tif out.tif
gdalwarp src2.tif out.tif
gdalwarp src3.tif out.tif

If the nodata value isn't already well known in the source files, you will
need to specify it:

gdalwarp src1.tif out.tif
gdalwarp -srcnodata 0 src2.tif out.tif
gdalwarp -srcnodata 0 src3.tif out.tif

Finally, be wary of outputing to compressed TIFF files when doing
"update in place" opeations such as gdal_merge.py does.  This may
cause problems - especially for images too large to cache all in ram.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Mon Mar  7 10:31:09 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [FWTools] GDAL/ORG S-57 & S-63 encyption?
In-Reply-To: <20050307150533.81062.qmail@web30706.mail.mud.yahoo.com>
References: <20050307150533.81062.qmail@web30706.mail.mud.yahoo.com>
Message-ID: <931f8ea9050307073116027dc@mail.gmail.com>

On Mon, 7 Mar 2005 07:05:33 -0800 (PST), s duclos
<sylvain_duclos@yahoo.com> wrote:
> Hi Frank,
> 
> The info is at http://www.iho.shom.fr/
> under publication/downloadlist
> 
> Here is a cut&paste of the S-63 section of that
> page:
> 
> S-63 (Free)     IHO Data Protection Scheme (Ed 1.0 Oct
> 2003)
> English
> Fran?ais
> Espa?ol         240
> 
> (Appendix 1) Test Data
> (Appendix2) Software Kernel
> S-63 Data Server Agreement
> S-63 OEM Agreement
> S-63 SA Certificate
> S-63 Guidance Notes

Sylvain,

Thanks.   I see it is the Primar system I read about before, possibly
with some updates. 

James - if you read over the OEM agreement, you will see that to
be approved would require committing to securing the software
in question so that users cannot (practically) get at the underlying
S-57 data.  

They very specifically do *not* want applications like OGR having
access where our goal is to capture as much of data model as possible
and translate to other formats (or even back to unencrypted S-57 format). 

No real point in asking I would say. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jcavner at edac.unm.edu  Mon Mar  7 10:07:26 2005
From: jcavner at edac.unm.edu (Cavner, Jeff)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] undefined reference to `xercesc_2_5
Message-ID: <11614435747E07459B12D835E36630D62B2840@terra.unm.edu>

Apologies if this turns up in two postings, I tried once as a non-member now
as a member.  I am getting the following make errors on Redhat Enterprise
Advanced Server V.3 for gdal 1.2.5 and xerces 2.5

 

 

Thanks for any pointers or advice.  I have noticed people using the nm
command to root these kinds of things out, but am unsure of what I am
looking at, or how to proceed.  My Xerces install seems alright and has
worked for gdal-1.1.9.

 

 

 

 

../.libs/libgdal.so: undefined reference to
`xercesc_2_5::XMLPlatformUtils::Init

ialize(char const*, char const*, xercesc_2_5::PanicHandler*,
xercesc_2_5::Memory

Manager*)'

../.libs/libgdal.so: undefined reference to
`xercesc_2_5::SAX2XMLReaderImpl::SAX

2XMLReaderImpl(xercesc_2_5::MemoryManager*, xercesc_2_5::XMLGrammarPool*)'

../.libs/libgdal.so: undefined reference to `typeinfo for
xercesc_2_5::XMLExcept

ion'

../.libs/libgdal.so: undefined reference to `xercesc_2_5::XMemory::operator
dele

te(void*, xercesc_2_5::MemoryManager*)'

../.libs/libgdal.so: undefined reference to
`xercesc_2_5::XMLPlatformUtils::fgMe

moryManager'

../.libs/libgdal.so: undefined reference to `typeinfo for
xercesc_2_5::SAXParseE

xception'

../.libs/libgdal.so: undefined reference to
`xercesc_2_5::SAXParseException::~SA

XParseException()'

../.libs/libgdal.so: undefined reference to
`xercesc_2_5::SAXParseException::SAX

ParseException(xercesc_2_5::SAXParseException const&)'

../.libs/libgdal.so: undefined reference to
`xercesc_2_5::XMLString::transcode(c

har const*)'

../.libs/libgdal.so: undefined reference to
`xercesc_2_5::XMLUni::fgXercescDefau

ltLocale'

../.libs/libgdal.so: undefined reference to `xercesc_2_5::XMemory::operator
new(

unsigned int, xercesc_2_5::MemoryManager*)'

collect2: ld returned 1 exit status

make[1]: *** [ogrinfo] Error 1

make[1]: Leaving directory `/usr/local/src/gdal-1.2.5/ogr'

make: *** [ogr-apps] Error 2

 

Jeff Cavner

Earth Data Analysis Center

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050307/80d987e8/attachment.html
From fwarmerdam at gmail.com  Mon Mar  7 10:43:27 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] undefined reference to `xercesc_2_5
In-Reply-To: <11614435747E07459B12D835E36630D62B2840@terra.unm.edu>
References: <11614435747E07459B12D835E36630D62B2840@terra.unm.edu>
Message-ID: <931f8ea905030707435d43cd0c@mail.gmail.com>

On Mon, 7 Mar 2005 08:07:26 -0700, Cavner, Jeff <jcavner@edac.unm.edu> wrote:
> Thanks for any pointers or advice.  I have noticed people using the nm
> command to root these kinds of things out, but am unsure of what I am
> looking at, or how to proceed.  My Xerces install seems alright and has
> worked for gdal-1.1.9. 
> 
> ../.libs/libgdal.so: undefined reference to
> `xercesc_2_5::XMLPlatformUtils::Init 
> 
> ialize(char const*, char const*, xercesc_2_5::PanicHandler*,
> xercesc_2_5::Memory 
> 
> Manager*)' 
> 
> ../.libs/libgdal.so: undefined reference to
> `xercesc_2_5::SAX2XMLReaderImpl::SAX 
> 
> 2XMLReaderImpl(xercesc_2_5::MemoryManager*, xercesc_2_5::XMLGrammarPool*)' 
> 
> ../.libs/libgdal.so: undefined reference to `typeinfo for
> xercesc_2_5::XMLExcept 

Jeff,

I don't see any obvious reason you would be running into a problem.
I would suggest reposting with the link line, and a compile line from
the "gml" driver area of the build.  Basically, we want to verify that
you are linking against the same library that was used for include 
files when compile. 

If that looks ok, I am not sure what to suggest. 

BTW, I have recently build with Xerces 2.6 and the development
GDAL with no problem.  I also use Xerces 2.2 on another platform.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ed at topozone.com  Mon Mar  7 11:24:02 2005
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GDAL hanging on TIFF operation?
Message-ID: <4BF377919225F449BB097CB76FFE9BC8188118@ptolemy.topozone.com>

Frank et al. -

I seem to have done something strange with my build config to cause this
problem.  I have been building GDAL with external TIFF and GeoTIFF
libraries (mainly for rather old, historical reasons).  Although I did
nice clean rebuilds of everything, and things looked fine, there was
clearly some inappropriate interaction or bad build karma going on (the
GeoTIFF code was hanging trying to allocate 0 bytes to read a line from
the epsg_csv file.

Since my "historical" reasons aren't really relevant any more, I
reconfigured GDAL to use the internal libtiff and geotiff libraries, and
the problem went away.  I still need to investigate the problem so I
understand what went wrong, but this is clearly a user error.

Thanks for the help, Frank.

	- Ed

Ed McNierney
TopoZone.com

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] 
Sent: Friday, March 04, 2005 11:36 AM
To: Ed McNierney
Subject: Re: [Gdal-dev] GDAL hanging on TIFF operation?

On Fri, 4 Mar 2005 11:11:43 -0500, Ed McNierney <ed@topozone.com> wrote:
> The problem is a generic one, in that it's happened with every file I
> try.  The sample attached is O40100H8.tif and a simple:
> 
> gdalinfo O40100H8.tif
> 
> should reproduce the hang.  On my test system gdalinfo starts using
the
> CPU 100% and doesn't stop.
> 
> I just noticed that testing an old GDAL 1.1.9 on a different system
does
> NOT cause gdalinfo to hang.  Therefore, it's possible this is a
> configuration screwup on my end.  If you could just run the sample
> through your current gdalinfo and confirm whether it hangs or not,
that
> would be a big help.  Thanks!

From jcavner at edac.unm.edu  Mon Mar  7 11:28:46 2005
From: jcavner at edac.unm.edu (Cavner, Jeff)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] undefined reference to xerces:redux and clarification
Message-ID: <11614435747E07459B12D835E36630D62B2841@terra.unm.edu>

Frank,
 
Thanks for the suggestion.  I am redirecting my make to a text file, but am
unsure of what you mean my these lines, "link line, and a compile line from
the "gml" driver area of the build." That is, where or what to look for in
the make output.
 
Thanks,
Jeff
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050307/6190ea19/attachment.html
From jcavner at edac.unm.edu  Mon Mar  7 13:14:59 2005
From: jcavner at edac.unm.edu (Cavner, Jeff)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] undefined reference to xerces:resolved
Message-ID: <11614435747E07459B12D835E36630D62B2842@terra.unm.edu>

This issue seemed to resolve itself after re-configuring using - -
without-libtool, ala Franks suggestion.

 

Thanks

Jeff Cavner

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050307/8cbb2f54/attachment.html
From r.beck at m4com.de  Tue Mar  8 05:57:35 2005
From: r.beck at m4com.de (Reiner Beck)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] MEM -- In Memory Raster Datasets
Message-ID: <422D851F.9060708@m4com.de>

Hello List,

playing around with the In Memory Raster datasets I found a few issues:

- The example in the documentation reads "MEM::DATAPOINTER...", it 
should be "MEM:::DATAPOINTER...". One additional colon.
- DATATYPE keyword: The documentation states "Name of the data type, as 
returned by GDALGetDataTypeName() (eg. Byte, Int16)". This does not 
work. In "frmts/mem/memdataset.cpp" the integer value of the enumeration 
"GDALDataType" is used (i.e. "1" for Byte).
  The example should read 
"MEM:::DATAPOINTER=342343408,PIXELS=100,LINES=100,BANDS=3,DATATYPE=1,PIXELOFFSET=3,LINEOFFSET=300,BANDOFFSET=1".
- The constructor "MEMDataset::Open(...)" seems to leak the papszOptions 
as returned by "CSLTokenizeStringComplex()". It is not free'd in case of 
success with "CSLDestroy( papszOptions )".

Using gdal-1.2.6b3 which built fine on Suse 9.1, Kernel 2.6.5.

Best regards
Reiner Beck

From fwarmerdam at gmail.com  Tue Mar  8 11:32:22 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] MEM -- In Memory Raster Datasets
In-Reply-To: <422D851F.9060708@m4com.de>
References: <422D851F.9060708@m4com.de>
Message-ID: <931f8ea90503080832842666@mail.gmail.com>

On Tue, 08 Mar 2005 11:57:35 +0100, Reiner Beck <r.beck@m4com.de> wrote:
> Hello List,
> 
> playing around with the In Memory Raster datasets I found a few issues:
> 
> - The example in the documentation reads "MEM::DATAPOINTER...", it
> should be "MEM:::DATAPOINTER...". One additional colon.

Reiner, 

Fixed.

> - DATATYPE keyword: The documentation states "Name of the data type, as
> returned by GDALGetDataTypeName() (eg. Byte, Int16)". This does not
> work. In "frmts/mem/memdataset.cpp" the integer value of the enumeration
> "GDALDataType" is used (i.e. "1" for Byte).

I have fixed it so the name *or* the numeric values work. 

> - The constructor "MEMDataset::Open(...)" seems to leak the papszOptions
> as returned by "CSLTokenizeStringComplex()". It is not free'd in case of
> success with "CSLDestroy( papszOptions )".

Fixed. 

I have also written a minimist mem.py test script for the mem driver.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From carueda at ucdavis.edu  Tue Mar  8 20:37:47 2005
From: carueda at ucdavis.edu (Carlos A. Rueda)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] --with-hdf4=?
Message-ID: <d0lk11$2vo$1@sea.gmane.org>

[Apologies if this has been asked before]
I'm trying to ./configure --with-hdf4=ARG on a debian system.
The --help says:
   --with-hdf4=ARG       Include HDF4 support (ARG=path)
What path should be used? I donwloaded the HDF binary distribution
ftp://ftp.ncsa.uiuc.edu/HDF/HDF/HDF4.2r1/bin/linux/ and installed it
in such a way that I'm specifying ARG as the parent directory
under which the include/ and lib/ subdirectories are. However,
./configure complains with:

...
checking for FMEObjects... no
checking for SDreaddata in -lmfhdf... no
checking for SDreaddata in -lhdf4... no
checking for SDreaddata in -lmfhdf... no
checking for SDreaddata in -lmfhdf... no
configure: error: HDF4 support requested with arg /usr/local/hdf, but neither hdf4 nor mfhdf lib found

I notice that ARG/lib/ does not contain libmfhdf.a but does contain libhdf4.a.

Could someone provide some clarification?
Thanks!
carlos


From carueda at ucdavis.edu  Tue Mar  8 20:42:11 2005
From: carueda at ucdavis.edu (Carlos A. Rueda)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: --with-hdf4=?
In-Reply-To: <d0lk11$2vo$1@sea.gmane.org>
References: <d0lk11$2vo$1@sea.gmane.org>
Message-ID: <d0lk99$2vo$2@sea.gmane.org>

Sorry, my last sentence should read:

I notice that ARG/lib/ does contain libmfhdf.a but does NOT contain libhdf4.a.


Carlos A. Rueda wrote:
> [Apologies if this has been asked before]
> I'm trying to ./configure --with-hdf4=ARG on a debian system.
> The --help says:
>   --with-hdf4=ARG       Include HDF4 support (ARG=path)
> What path should be used? I donwloaded the HDF binary distribution
> ftp://ftp.ncsa.uiuc.edu/HDF/HDF/HDF4.2r1/bin/linux/ and installed it
> in such a way that I'm specifying ARG as the parent directory
> under which the include/ and lib/ subdirectories are. However,
> ./configure complains with:
> 
> ...
> checking for FMEObjects... no
> checking for SDreaddata in -lmfhdf... no
> checking for SDreaddata in -lhdf4... no
> checking for SDreaddata in -lmfhdf... no
> checking for SDreaddata in -lmfhdf... no
> configure: error: HDF4 support requested with arg /usr/local/hdf, but 
> neither hdf4 nor mfhdf lib found
> 
> I notice that ARG/lib/ does not contain libmfhdf.a but does contain 
> libhdf4.a.
> 
> Could someone provide some clarification?
> Thanks!
> carlos


From hamish_nospam at yahoo.com  Tue Mar  8 21:01:08 2005
From: hamish_nospam at yahoo.com (Hamish)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] --with-hdf4=?
In-Reply-To: <d0lk11$2vo$1@sea.gmane.org>
References: <d0lk11$2vo$1@sea.gmane.org>
Message-ID: <20050309150108.1628aad9.hamish_nospam@yahoo.com>

> [Apologies if this has been asked before]
> I'm trying to ./configure --with-hdf4=ARG on a debian system.
> The --help says:
>    --with-hdf4=ARG       Include HDF4 support (ARG=path)
> What path should be used? I donwloaded the HDF binary distribution
> ftp://ftp.ncsa.uiuc.edu/HDF/HDF/HDF4.2r1/bin/linux/ and installed it
> in such a way that I'm specifying ARG as the parent directory
> under which the include/ and lib/ subdirectories are. However,
> ./configure complains with:
> 
> ...
> checking for FMEObjects... no
> checking for SDreaddata in -lmfhdf... no
> checking for SDreaddata in -lhdf4... no
> checking for SDreaddata in -lmfhdf... no
> checking for SDreaddata in -lmfhdf... no
> configure: error: HDF4 support requested with arg /usr/local/hdf, but
> neither hdf4 nor mfhdf lib found
> 
> I notice that ARG/lib/ does not contain libmfhdf.a but does contain
> libhdf4.a.


Debian:

$ apt-file search libmfhdf.a
libhdf4g-dev: usr/lib/libmfhdf.a


install the "libhdf4g-dev" package.




Hamish

From wlyons at prologic-inc.com  Wed Mar  9 12:41:45 2005
From: wlyons at prologic-inc.com (William Lyons)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GDALClose vs delete
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D01056F90@vader.prologic-inc.com>

Frank and List,

 

The documentation for GDALClose() mention that it should be used for
data sets opened with GDALOpenShared().

And that C++ delete should be used for data sets opened with GDALOpen().

 

But, which should be used to close datasets that are the product of a
GDALCreate() or GDALCreateCopy() call?

 

Thanks,

 

William Lyons

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050309/9d4612fe/attachment.html
From fwarmerdam at gmail.com  Wed Mar  9 12:54:08 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GDALClose vs delete
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D01056F90@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730D01056F90@vader.prologic-inc.com>
Message-ID: <931f8ea90503090954425696c7@mail.gmail.com>

On Wed, 9 Mar 2005 12:41:45 -0500, William Lyons
<wlyons@prologic-inc.com> wrote:
>  
> Frank and List,  
> 
> The documentation for GDALClose() mention that it should be used for data
> sets opened with GDALOpenShared(). 
> 
> And that C++ delete should be used for data sets opened with GDALOpen(). 
> 
> But, which should be used to close datasets that are the product of a
> GDALCreate() or GDALCreateCopy() call? 

William, 

In theory a delete is fine for the results of GDALCreate() or
GDALCreateCopy().  However, you can also safely use
GDALClose() for all these, and I normally do.  The special
issue with GDALOpenShared() is that GDALClose() first
dereferences the dataset and then deletes it if the reference
count has dropped to zero.  

Also, in a windows build environment where different DLLs 
have different heaps, using delete outside the DLL in which 
the new took place can be very dangerous.  So I also avoid
use of delete for that reason. 

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From wlyons at prologic-inc.com  Wed Mar  9 13:19:49 2005
From: wlyons at prologic-inc.com (William Lyons)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GDALClose vs delete
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D01056FA2@vader.prologic-inc.com>

Frank,

Thanks, once again, for the speedy reply.

William Lyons

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] 
Sent: Wednesday, March 09, 2005 12:54 PM
To: William Lyons
Cc: gdal-dev@xserve.flids.com
Subject: Re: [Gdal-dev] GDALClose vs delete

On Wed, 9 Mar 2005 12:41:45 -0500, William Lyons
<wlyons@prologic-inc.com> wrote:
>  
> Frank and List,  
> 
> The documentation for GDALClose() mention that it should be used for
data
> sets opened with GDALOpenShared(). 
> 
> And that C++ delete should be used for data sets opened with
GDALOpen(). 
> 
> But, which should be used to close datasets that are the product of a
> GDALCreate() or GDALCreateCopy() call? 

William, 

In theory a delete is fine for the results of GDALCreate() or
GDALCreateCopy().  However, you can also safely use
GDALClose() for all these, and I normally do.  The special
issue with GDALOpenShared() is that GDALClose() first
dereferences the dataset and then deletes it if the reference
count has dropped to zero.  

Also, in a windows build environment where different DLLs 
have different heaps, using delete outside the DLL in which 
the new took place can be very dangerous.  So I also avoid
use of delete for that reason. 

Best regards,

-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From asimpson at i-55.com  Thu Mar 10 12:14:09 2005
From: asimpson at i-55.com (Simpson)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] tigerpoly.py GetLayerByName
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D01056FA2@vader.prologic-inc.com>
Message-ID: <NFBBKOADOLGDLPMAAHMDAELCDAAA.asimpson@i-55.com>

Greetings,

I am trying to run tigerpoly.py but keep getting:

 ./tigerpoly.py TGR06001.RT1 test.shp
Traceback (most recent call last):
  File "./tigerpoly.py", line 97, in ?
    poly_layer = ds.GetLayerByName( 'Polygon' )
AttributeError: DataSource instance has no attribute 'GetLayerByName'

Having not a clue about python, is this a data issue?


Using gdal-1.2.6b3 on Linux 2.4.20-20.8 

Thanks,
Drew.


From fwarmerdam at gmail.com  Thu Mar 10 12:21:17 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] tigerpoly.py GetLayerByName
In-Reply-To: <NFBBKOADOLGDLPMAAHMDAELCDAAA.asimpson@i-55.com>
References: <2DBB9F887DAA394FA75D98474EA5730D01056FA2@vader.prologic-inc.com>
	<NFBBKOADOLGDLPMAAHMDAELCDAAA.asimpson@i-55.com>
Message-ID: <931f8ea905031009215325e82c@mail.gmail.com>

On Thu, 10 Mar 2005 11:14:09 -0600, Simpson <asimpson@i-55.com> wrote:
> Greetings,
> 
> I am trying to run tigerpoly.py but keep getting:
> 
>  ./tigerpoly.py TGR06001.RT1 test.shp
> Traceback (most recent call last):
>   File "./tigerpoly.py", line 97, in ?
>     poly_layer = ds.GetLayerByName( 'Polygon' )
> AttributeError: DataSource instance has no attribute 'GetLayerByName'
> 
> Having not a clue about python, is this a data issue?
> 
> Using gdal-1.2.6b3 on Linux 2.4.20-20.8

Drew,

GetLayerByName() isn't a particularly recent addition. 
My guesses are:
 o You have quite old Python bindings for GDAL installed
    somewhere and they are getting used instead of the 
    new ones.  Try "locate gdal.py" and see if you get any
    surprising items.  Compare the found files to the gdal.py
    in the gdal-1.2.6b3/pymod directory.  Do they match/

 o "ds" is None because the open on the datasource failed. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From sevilla_lui at gva.es  Thu Mar 10 14:19:38 2005
From: sevilla_lui at gva.es (Luis W. Sevilla)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] FWTools and MrSid
Message-ID: <42309DCA.6090109@gva.es>

Hi,
    is there any plan to have MrSID support on FwTools, now than the 
have released his GeoDSDK free for windows and linux?

    Greetings

       Luis

-- 
  Luis W. Sevilla
  Equipo de desarrollo gvSIG
  Conselleria de Infraestructuras y Transporte
  Generalitat Valenciana
  Valencia - Spain
  http://www.gvsig.gva.es



From fwarmerdam at gmail.com  Thu Mar 10 14:27:49 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] FWTools and MrSid
In-Reply-To: <42309DCA.6090109@gva.es>
References: <42309DCA.6090109@gva.es>
Message-ID: <931f8ea9050310112782a8b50@mail.gmail.com>

On Thu, 10 Mar 2005 20:19:38 +0100, Luis W. Sevilla <sevilla_lui@gva.es> wrote:
> Hi,
>     is there any plan to have MrSID support on FwTools, now than the
> have released his GeoDSDK free for windows and linux?

Luis, 

Yes, it is my intention to have MrSID support available
as a check-off item in the windows installer.  It is a bit
unclear to me how to conform to all the current license
requirements for redistribution, but I understand 
Lizardtech is working on a somewhat clearer and
simpler license that should be soon available.  I 
am waiting for that. 

Note, that there are a variety of  requirements, such as
not exporting to "bad countries" like North Korea or 
Iraq that I need to adhere to in some way to 
distribute software with the MrSID SDK.  It is my
intention to have some sort of click-through agreement 
that is only displayed if the end user turns on MrSID 
support.  

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Thu Mar 10 15:45:40 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GDAL 1.2.6b5 - Release Candidate
Message-ID: <931f8ea9050310124569dda9de@mail.gmail.com>

Folks,

I have uploaded GDAL 1.2.6 Beta5 which I would like to consider
as a release candidate.  If no one sees any serious issues with
it I will post a final GDAL 1.2.6 release tomorrow. 


  http://www.gdal.org/dl/gdal-1.2.6b5.tar.gz
  http://www.gdal.org/dl/gdal126b5.zip

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From asimpson at i-55.com  Thu Mar 10 16:43:02 2005
From: asimpson at i-55.com (Simpson)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] tigerpoly.py GetLayerByName
In-Reply-To: <931f8ea905031009215325e82c@mail.gmail.com>
Message-ID: <NFBBKOADOLGDLPMAAHMDAELGDAAA.asimpson@i-55.com>

Frank,

Your first guess nailed it, whacky cross mounted file systems on different
machines...

Thanks,
Drew.

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com]
Sent: Thursday, March 10, 2005 11:21 AM
To: Simpson
Cc: gdal-dev@xserve.flids.com
Subject: Re: [Gdal-dev] tigerpoly.py GetLayerByName


On Thu, 10 Mar 2005 11:14:09 -0600, Simpson <asimpson@i-55.com> wrote:
> Greetings,
>
> I am trying to run tigerpoly.py but keep getting:
>
>  ./tigerpoly.py TGR06001.RT1 test.shp
> Traceback (most recent call last):
>   File "./tigerpoly.py", line 97, in ?
>     poly_layer = ds.GetLayerByName( 'Polygon' )
> AttributeError: DataSource instance has no attribute 'GetLayerByName'
>
> Having not a clue about python, is this a data issue?
>
> Using gdal-1.2.6b3 on Linux 2.4.20-20.8

Drew,

GetLayerByName() isn't a particularly recent addition.
My guesses are:
 o You have quite old Python bindings for GDAL installed
    somewhere and they are getting used instead of the
    new ones.  Try "locate gdal.py" and see if you get any
    surprising items.  Compare the found files to the gdal.py
    in the gdal-1.2.6b3/pymod directory.  Do they match/

 o "ds" is None because the open on the datasource failed.

Best regards,
--
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From neteler at itc.it  Thu Mar 10 17:03:41 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GRASS/GDAL plugin - floating point exception
Message-ID: <20050310220341.GA22303@thuille.itc.it>

Frank,

sorry to bother you again: after recompiling GRASS 6.1-CVS (yes, we
published GRASS 6.0.0 today) from scratch (no library changes!)
and a fresh GDAL from scratch, I again face new problems to use
the gdal_GRASS.so. When I remove the plugin, everything runs well,
when I compile/install the plugin, I get a Floating point exception.

In details:

# cleanup of /usr/local/lib/ from links to GRASS libraries.
# Then:

gdalinfo
ERROR 1: libgrass_I.so: cannot open shared object file: No such file or directory
ERROR 1: libgrass_I.so: cannot open shared object file: No such file or directory
Usage: gdalinfo [--help-general] [-mm] [-nogcp] [-nomd] datasetname
# -> GDAL works, but plugin not activated.
# ... which is no surprise, so I re-add some links to the GRASS libs:
cd /usr/local/lib
ln -s /home/neteler/grass60/dist.i686-pc-linux-gnu/lib/libgrass_*.so .
# only keep the general libs without version number:
rm -f libgrass_*6*

# test:
ldd libgrass_gproj.so
        linux-gate.so.1 =>  (0xffffe000)
        libgrass_gis.so => /usr/local/lib/libgrass_gis.so (0x40020000)
        libgrass_datetime.so => /usr/local/lib/libgrass_datetime.so (0x400a6000)
        libz.so.1 => /lib/libz.so.1 (0x400ae000)
        libproj.so.0 => /usr/local/lib/libproj.so.0 (0x400bf000)
        libgdal.so.1 => /usr/local/lib/libgdal.so.1 (0x400f4000)
        libc.so.6 => /lib/tls/libc.so.6 (0x4059a000)
        ...

# looks ok, but:

gdalinfo
Floating point exception


# reducing the links to GRASS libraries to a minimum:
rm -f libgrass_*
ln -s /home/neteler/grass60/dist.i686-pc-linux-gnu/lib/libgrass_I.so
gdalinfo
ERROR 1: libgrass_vask.so: cannot open shared object file: No such file or directory
ERROR 1: libgrass_vask.so: cannot open shared object file: No such file or directory
Usage: gdalinfo [--help-general] [-mm] [-nogcp] [-nomd] datasetname

# no surprise, so I link the minimum requirements:
ln -s /home/neteler/grass60/dist.i686-pc-linux-gnu/lib/libgrass_vask.so
ln -s /home/neteler/grass60/dist.i686-pc-linux-gnu/lib/libgrass_gmath.so
ln -s /home/neteler/grass60/dist.i686-pc-linux-gnu/lib/libgrass_gis.so
ln -s /home/neteler/grass60/dist.i686-pc-linux-gnu/lib/libgrass_datetime.so
ln -s /home/neteler/grass60/dist.i686-pc-linux-gnu/lib/libgrass_I.so

# again crash:
gdalinfo
Floating point exception


## now debugging:
gdb gdalinfo
GNU gdb 6.0-2mdk (Mandrake Linux)
(gdb) r
Starting program: /var/local/bin/gdalinfo

Program received signal SIGFPE, Arithmetic exception.
0x40009888 in _dl_allocate_static_tls (map=Variable "map" is not available.
) at dl-reloc.c:72
72      dl-reloc.c: No such file or directory.
        in dl-reloc.c
(gdb) bt
#0  0x40009888 in _dl_allocate_static_tls (map=Variable "map" is not available.
) at dl-reloc.c:72
#1  0x4000b5e4 in _dl_relocate_object (l=0x804d760, scope=0x804d8fc, lazy=1,
    consider_profiling=0) at dl-reloc.c:178
#2  0x408081dd in _dl_open () from /lib/tls/libc.so.6
#3  0x4000cb88 in _dl_catch_error (objname=Variable "objname" is not available.
) at dl-error.c:162
#4  0x40807e0f in _dl_open () from /lib/tls/libc.so.6
#5  0x4055d011 in dlopen () from /lib/libdl.so.2
#6  0x4000cb88 in _dl_catch_error (objname=Variable "objname" is not available.
) at dl-error.c:162
#7  0x4055d425 in dlerror () from /lib/libdl.so.2
#8  0x4055cfc3 in dlopen () from /lib/libdl.so.2
#9  0x4020ac9e in CPLGetSymbol (
    pszLibrary=0x40455080 "/usr/local/lib/gdalplugins/gdal_GRASS.so",
    pszSymbolName=0x804c0e0 "GDALRegister_GRASS") at cplgetsymbol.cpp:133
#10 0x401fe6de in GDALDriverManager::AutoLoadDrivers() ()
   from /usr/local/lib/libgdal.so.1
#11 0x400fe160 in GDALAllRegister () from /usr/local/lib/libgdal.so.1
#12 0x080497f9 in main (argc=1, argv=0xbffff604) at gdalinfo.c:178

ldd /usr/local/lib/gdalplugins/gdal_GRASS.so
        linux-gate.so.1 =>  (0xffffe000)
        libgrass_I.so => /usr/local/lib/libgrass_I.so (0x40020000)
        libgrass_vask.so => /usr/local/lib/libgrass_vask.so (0x40030000)
        libgrass_gmath.so => /usr/local/lib/libgrass_gmath.so (0x40036000)
       ...

This is a bit mysterious for me since it was working recently.
Have there been relevant changes in GDAL-CVS during the last 48h? 

Best regards

 Markus


From neteler at itc.it  Thu Mar 10 18:10:07 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: GRASS/GDAL plugin - floating point exception
In-Reply-To: <20050310220341.GA22303@thuille.itc.it>
References: <20050310220341.GA22303@thuille.itc.it>
Message-ID: <20050310231007.GA22514@thuille.itc.it>

On Thu, Mar 10, 2005 at 11:03:41PM +0100, Markus Neteler wrote:
> Frank,
> 
> sorry to bother you again: after recompiling GRASS 6.1-CVS (yes, we
> published GRASS 6.0.0 today) from scratch (no library changes!)
> and a fresh GDAL from scratch, I again face new problems to use
> the gdal_GRASS.so. When I remove the plugin, everything runs well,
> when I compile/install the plugin, I get a Floating point exception.
> 

A followup - I remember now the one change:
Today I have added systematic large file support (LFS) tests to
GRASS 6-CVS which is enabled by default. To be sure I just recompiled
with LFS disabled. Still the Floating point exception with
GDAL/GRASS plugin.

Any hint appreciated,
thanks

 Markus


From lorenzo.moretti at bologna.enea.it  Fri Mar 11 10:40:59 2005
From: lorenzo.moretti at bologna.enea.it (Lorenzo Moretti)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GDAL 1.2.6b5 - Release Candidate
In-Reply-To: <931f8ea9050310124569dda9de@mail.gmail.com>
References: <931f8ea9050310124569dda9de@mail.gmail.com>
Message-ID: <a06210202be576b2d6294@[192.107.62.86]>

Hi Frank

>Folks,
>
>I have uploaded GDAL 1.2.6 Beta5 which I would like to consider
>as a release candidate.  If no one sees any serious issues with
>it I will post a final GDAL 1.2.6 release tomorrow.
>
>
>   http://www.gdal.org/dl/gdal-1.2.6b5.tar.gz
>   http://www.gdal.org/dl/gdal126b5.zip
>
>Best regards,

In OS X works. I have seen a big improvment in MrSid ... It's fast.
Compliments.

My future Grass 6.0.0 for OS X will contain extra applications 
exclusive for GDAL: drag and drop to convert a raster or vector file, 
drag and drop for info, etc...

Thanks for your work

-- 
________________________________________________________________________
||      Lorenzo Moretti        e-mail: lorenzo.moretti@bologna.enea.it     
||/|/|  ENEA prot/idr          Web: http://wwwamb.bologna.enea.it/    
||   |  via Don Fiammelli, 2   FTP: ftp://ftpamb.bologna.enea.it/ (ris.)
~~~~~~  40128 BOLOGNA - ITALY  Ph: +39-0516098086  Fax: +39-0516098131
________________________________________________________________________

From uli.mueller at gmx.ch  Fri Mar 11 11:01:28 2005
From: uli.mueller at gmx.ch (uli mueller [geOps])
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: GDAL 1.2.6b5 - Release Candidate
In-Reply-To: <931f8ea9050310124569dda9de@mail.gmail.com>
References: <931f8ea9050310124569dda9de@mail.gmail.com>
Message-ID: <4231C0D8.1080306@gmx.ch>

Hi Frank

I installed GDAL1.2.6b5 with ECW-support on LINUX. However gdalinfo as 
well as gdal in a MapServer application hang when accessing ECW files.

gdalinfo produces the following output (before I have to CTRL-C):

Driver: ECW/ERMapper Compressed Wavelets
Size is 31000, 29000
Coordinate System is:
LOCAL_CS["LOCAL",
     UNIT["Meter",1]]
Origin = (3405500.000000,5327500.000000)
Pixel Size = (0.50000000,-0.50000000)
Corner Coordinates:
Upper Left  ( 3405500.000, 5327500.000)
Lower Left  ( 3405500.000, 5313000.000)
Upper Right ( 3421000.000, 5327500.000)
Lower Right ( 3421000.000, 5313000.000)
Center      ( 3413250.000, 5320250.000)
Band 1 Block=31000x1 Type=Byte, ColorInterp=Red
   Overviews: arbitrary
Band 2 Block=31000x1 Type=Byte, ColorInterp=Green
   Overviews: arbitrary
Band 3 Block=31000x1 Type=Byte, ColorInterp=Blue
   Overviews: arbitrary

The same image on my Windows system with precompiled FWTools caused no
problem.

Thanks for any help

Uli



and my configuration:

# gdal-config --version
1.2.6b5

# gdal-config --formats
gxf gtiff hfa aigrid aaigrid ceos ceos2 iso8211 xpm sdts raw dted mem
jdem envisat elas fit vrt usgsdem l1b nitf bmp pcidsk airsar rs2 ilwis
bsb ecw gif jpeg png

# gdal-config --dep-libs
-L/usr3/pkg4/OpenEV_FW_Tree/FWTools/lib -lgeos
-L/home/ulim/downloads/FWTools-linux-0.9.6/lib -lNCSEcw -ljpeg -lpng -lz
-lm -ldl

# gdal-config --libs
-L/usr/local/lib -lgdal

# gdal-config --cflags
-I/usr/local/include



-- 
geOps GeoInformatics
D-79100 Freiburg

From fwarmerdam at gmail.com  Fri Mar 11 12:11:13 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: GDAL 1.2.6b5 - Release Candidate
In-Reply-To: <4231C0D8.1080306@gmx.ch>
References: <931f8ea9050310124569dda9de@mail.gmail.com>
	<4231C0D8.1080306@gmx.ch>
Message-ID: <931f8ea90503110911c8985cb@mail.gmail.com>

On Fri, 11 Mar 2005 17:01:28 +0100, uli mueller [geOps]
<uli.mueller@gmx.ch> wrote:
> Hi Frank
> 
> I installed GDAL1.2.6b5 with ECW-support on LINUX. However gdalinfo as
> well as gdal in a MapServer application hang when accessing ECW files.
> 
> gdalinfo produces the following output (before I have to CTRL-C):

Uli, 

I have also been experiencing this intermittently since upgrading to the
Feb ECW SDK 3.1 SDK beta.  In the Jan beta I had fixed a race 
condition in the ECW SDK code.  I haven't had time to check if the fix
made it into the Feb beta or not.  I did see something in the ERMapper
SDK forums about them hunting for a locking issue so I was hoping 
a new beta might come out with a fix without my having to do any 
further work.  I would add that tracking down the earlier locking 
face condition was alot of work!  

So, I don't *think* the problem is GDAL itself, and with some luck it might
get fixed by ERMapper without further intervention on my part.  If not, I 
will definately follow up on it after I dig out of other (much overdue) work.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dylan at iici.no-ip.org  Fri Mar 11 18:46:09 2005
From: dylan at iici.no-ip.org (Dylan Beaudette)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Compilation problems on a Slack machine
Message-ID: <200503111546.09531.dylan@iici.no-ip.org>

Hi everyone,

GDAL 1.2.5 compiles fine on a couple of my Debian boxes - both PPC and x86.

However, on an x86 Slack box I am getting the some strange errors in the 
"make" step of compilation.

here are my configure options;
./configure --prefix=/usr --with-png=internal --with-jpeg=internal \
            --with-gif=internal --with-libtiff=internal \
            --with-geotiff=internal --with-libz=internal\
            --without-pg --without-ogdi --with-python \
     --with-threads=yes

and here are the error messages from make:
---------------------------error messages--------------------------------
dylan@atmweb:~/src/gdal-1.2.5$ make
(cd port; make)
make[1]: Entering directory `/home/dylan/src/gdal-1.2.5/port'
make[1]: Nothing to be done for `default'.
make[1]: Leaving directory `/home/dylan/src/gdal-1.2.5/port'
(cd gcore; make)
make[1]: Entering directory `/home/dylan/src/gdal-1.2.5/gcore'
g++ ? ? -c -o gdalopen.o gdalopen.cpp
In file included from gdal_priv.h:190,
? ? ? ? ? ? ? ? ?from gdalopen.cpp:94:
gdal.h:177:22: cpl_port.h: No such file or directory
gdal.h:178:23: cpl_error.h: No such file or directory
In file included from gdal_priv.h:190,
? ? ? ? ? ? ? ? ?from gdalopen.cpp:94:
gdal.h:200: syntax error before `typedef'
....
[more and more and more syntax errors]
-------------------------------------------------------------------------------

it looks like it is breaking after not being able to find two files:
cpl_port.h
cpl_error.h

however:
dylan@atmweb:~/src/gdal-1.2.5$ locate cpl_port
/home/dylan/src/gdal-1.2.5/port/cpl_port.h
....
and
....
dylan@atmweb:~/src/gdal-1.2.5$ locate cpl_error.
/home/dylan/src/gdal-1.2.5/port/cpl_error.h

...would suggest that these files do in fact exist... 

is there something wrong with the include path, or the way in which GCC on 
this machine is looking for header files?

this is an exact copy of the source tree on a working setup.

Any ideas would be appreciated!

-- 
Dylan Beaudette
Soils and Biogeochemistry Graduate Group
University of California at Davis
530.754.7341

From naumov at buffalo.edu  Fri Mar 11 17:19:49 2005
From: naumov at buffalo.edu (Aleksey Naumov)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal_translate with -gcp, gdaltindex
Message-ID: <200503112219.49746.naumov@buffalo.edu>

Dear Frank and developers,

Thank you for the great work on GDAL. The new 1.2.6 seems to work fine so far 
on my Fedora Core 2. 

I did encounter a couple of quirks lately with using gdal_translate and 
gdaltindex.

(1) There seems to be a problem with parsing of command arguments to 
gdal_translate when -gcp is used. The following:

gdal_translate -of GTiff -gcp 0 0 100 100 1.bmp 1.tif

just returns Usage: ..., but only when <src_dataset> name starts with a digit, 
like "1.bmp". If input dataset is changed to "a1.bmp" or there is another 
flag after "-gcp 0 0 100 100" then all is fine:

gdal_translate -of GTiff -gcp 0 0 100 100 a1.bmp 1.tif
gdal_translate -of GTiff -gcp 0 0 100 100 -co "TILED=YES" 1.bmp 1.tif


(2) Is there a minimum number of GCPs that can be added to an image? 
"gdal_translate" does not complain when only one GCP is given, however 
running "gdalinfo" on the output shows no GCPs in it. 

Perhaps it does not make sense to add just 1 GCP (since it is not enough to 
set up a transform later)? If so, this should be noted in the documentation, 
and "gdal_translate" should perhaps give a warning.


(3) A minor problem with "gdaltindex". Running:

gdaltindex index.shp *.tif

I get 

ERROR 4: Unable to open index.shp or index.SHP.

However, index.shp is generated and seems to be fine. 


Thank you,
Aleksey

-- 
Aleksey Naumov
Department of Geography
SUNY-Buffalo

From fwarmerdam at gmail.com  Fri Mar 11 23:15:40 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Compilation problems on a Slack machine
In-Reply-To: <200503111546.09531.dylan@iici.no-ip.org>
References: <200503111546.09531.dylan@iici.no-ip.org>
Message-ID: <931f8ea9050311201560a7f7d7@mail.gmail.com>

On Fri, 11 Mar 2005 15:46:09 -0800, Dylan Beaudette
<dylan@iici.no-ip.org> wrote:
> Hi everyone,
> 
> GDAL 1.2.5 compiles fine on a couple of my Debian boxes - both PPC and x86.
> 
> However, on an x86 Slack box I am getting the some strange errors in the
> "make" step of compilation.
> 
> here are my configure options;
> ./configure --prefix=/usr --with-png=internal --with-jpeg=internal \
>             --with-gif=internal --with-libtiff=internal \
>             --with-geotiff=internal --with-libz=internal\
>             --without-pg --without-ogdi --with-python \
>      --with-threads=yes
> 
> and here are the error messages from make:
> ---------------------------error messages--------------------------------
> dylan@atmweb:~/src/gdal-1.2.5$ make
> (cd port; make)
> make[1]: Entering directory `/home/dylan/src/gdal-1.2.5/port'
> make[1]: Nothing to be done for `default'.
> make[1]: Leaving directory `/home/dylan/src/gdal-1.2.5/port'
> (cd gcore; make)
> make[1]: Entering directory `/home/dylan/src/gdal-1.2.5/gcore'
> g++     -c -o gdalopen.o gdalopen.cpp
> In file included from gdal_priv.h:190,
>                  from gdalopen.cpp:94:
> gdal.h:177:22: cpl_port.h: No such file or directory
> gdal.h:178:23: cpl_error.h: No such file or directory
> In file included from gdal_priv.h:190,
>                  from gdalopen.cpp:94:
> gdal.h:200: syntax error before `typedef'

Dylan,

There was a problem with GDAL 1.2.5 with MySQL 3.0.  An 
aspect of it screws up the configure and results in the 
makefiles not be generated properly.

Either configure "--without-mysql" or work from the recent
GDAL 1.2.6b5 release. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From paul-grass at stjohnspoint.co.uk  Sun Mar 13 14:41:30 2005
From: paul-grass at stjohnspoint.co.uk (Paul Kelly)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [GRASSLIST:6144] r.proj and gdawarp give differernt
	results
In-Reply-To: <008301c52800$c7575e70$78d21d3e@eustahiush>
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
Message-ID: <Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>

Hello Maciek

On Sun, 13 Mar 2005, Maciek Sieczka wrote:

> The problem is that output of r.proj and gdalwarp is always different,
> although the projection parameters and resampling method used are identical
> in both approaches.
[...]
> In case presented here the shift is 14.25 m - resolution of ETM pan. Please
> see the attached screendumps. This phenomenon is not limited to the
> projections used in this example and occures in any resolution. Depending on
> the amount of rotation required during the reprojection, the rows interval,
> seperating the identically and differeretly reprojected parts of image,
> differs.
>
> Would it be a bug or a result of different reprojection algorithms?

Well they are different in the sense that (as far as I understand it) 
gdalwarp is a forward projection designed for projecting whole images 
where the image *is* the region of interest and you don't have prior 
knowledge of the boundary co-ordinates in the new co-ordinate system.

r.proj is more a backward projection where you have a region of interest 
in a new co-ordinate system and you want to take the portion of the image 
that overlaps with your new system and project it in there. So r.proj 
does a backward projection for every cell in the new region, and does an 
interpolation to find the most appropriate pixels in the original image 
to re-sample in there.

> Since these two methods differ which one is right or better?

It depends on whether you are converting a whole image to another 
projection for unknown future uses or sending it on to someone else (use 
gdalwarp), or are working on a GIS project covering a certain area and you 
need to project in data from a different source that covers the region you 
are working on (use r.proj).

There is plenty of detail in the r.proj man page on how it works but not 
so much in the gdalwarp page so I could be wrong with what I said about 
the forward projection. In particular, I'm not too sure at all how it 
decides what the grid layout in the projected image should be.

But maybe these ideas will put you on the right track to understanding the 
difference.

Paul



From jluis at ualg.pt  Sun Mar 13 17:23:01 2005
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdalinfo and GMT grids
In-Reply-To: <Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
	<Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
Message-ID: <20050313222301.jw68mt40g80oco04@wmail.ualg.pt>

Hi,

Regarding GMT grids, gdalinfo gives uncorrect results.

This creates a grid with a grid step of 1
grdmath -R-15/15/-15/15 -I1 = lixo.grd

Runing grdinfo tells us
lixo.grd: Title:
lixo.grd: Command: grdmath -R-15/15/-15/15 -I1 = lixo.grd
lixo.grd: Remark:
lixo.grd: Normal node registration used
lixo.grd: grdfile format # 0
lixo.grd: x_min: -15 x_max: 15 x_inc: 1 units: user_x_unit nx: 31
lixo.grd: y_min: -15 y_max: 15 y_inc: 1 units: user_y_unit ny: 31
lixo.grd: z_min: 0 z_max: 0 units: user_z_unit
lixo.grd: scale_factor: 1 add_offset: 0

However
gdalinfo says:

Driver: GMT/GMT NetCDF Grid Format
Size is 31, 31
Coordinate System is `'
Origin = (-15.000000,15.000000)
Pixel Size = (0.96774194,-0.96774194)
Corner Coordinates:
Upper Left  ( -15.0000000,  15.0000000)
Lower Left  ( -15.0000000, -15.0000000)
Upper Right (  15.0000000,  15.0000000)
Lower Right (  15.0000000, -15.0000000)
Center      (   0.0000000,   0.0000000)

Note how the "Pixel Size" differs from 1

But, if we generate the GMT grid this way (a "pixel registerd" grid)
grdmath -R-15/15/-15/15 -I1 -F = lixo.grd
than grdinfo reports

lixo.grd: Title:
lixo.grd: Command: grdmath -R-15/15/-15/15 -I1 -F = lixo.grd
lixo.grd: Remark:
lixo.grd: Pixel node registration used
lixo.grd: grdfile format # 0
lixo.grd: x_min: -15 x_max: 15 x_inc: 1 units: user_x_unit nx: 30
lixo.grd: y_min: -15 y_max: 15 y_inc: 1 units: user_y_unit ny: 30
lixo.grd: z_min: 0 z_max: 0 units: user_z_unit
lixo.grd: scale_factor: 1 add_offset: 0

and gdalinfo now gives the correct pixel size.

Driver: GMT/GMT NetCDF Grid Format
Size is 30, 30
Coordinate System is `'
Origin = (-15.000000,15.000000)
Pixel Size = (1.00000000,-1.00000000)
Corner Coordinates:
Upper Left  ( -15.0000000,  15.0000000)
Lower Left  ( -15.0000000, -15.0000000)
Upper Right (  15.0000000,  15.0000000)
Lower Right (  15.0000000, -15.0000000)
Center      (   0.0000000,   0.0000000)


What seams to be happening is that gdal assumes all grids have a "pixel
registration". And that is not allways true, in what ragards GMT grids, but it
is also
not true for example with GTOPO30 (or SRTM30) and SRTM 1-arc-sec or SRTM
3-arc-sec. The first are pixel registerd, but the seconds are grid registerd.

See http://gmt.soest.hawaii.edu/gmt/doc/html/GMT_Docs/node145.html
for a explanation on the difference between "grid" and "pixel" registrations.

Joaquim Luis


From fwarmerdam at gmail.com  Sun Mar 13 23:13:48 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [GRASSLIST:6144] r.proj and gdawarp give differernt
	results
In-Reply-To: <Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
	<Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
Message-ID: <931f8ea9050313201319742d28@mail.gmail.com>

On Sun, 13 Mar 2005 19:41:30 +0000 (GMT), Paul Kelly
<paul-grass@stjohnspoint.co.uk> wrote:
> r.proj is more a backward projection where you have a region of interest
> in a new co-ordinate system and you want to take the portion of the image
> that overlaps with your new system and project it in there. So r.proj
> does a backward projection for every cell in the new region, and does an
> interpolation to find the most appropriate pixels in the original image
> to re-sample in there.

Maciek / Paul, 

I would add that while gdalwarp uses "forward projection" to establish
the area of the output file in the default case, the actual image
sampling is done via "backward projection" much like r.proj.  

I don't know why the two results are different, but to know whether
it even makes sense to compare you would need to be very careful
in establishing that the two results are for exactly the same region
and resolution.   (Frank reviews the first email, and realizes that
the regions seem to be exact matches with the possible exception
of the odd "Rows: 16746 (16747)" for the output grass region). 

Second, you would want to review very carefully
whether there is anything different about the coordinate systems
that end up getting used.  If one is doing a modest datum shift, and
the other is not, that might well explain differences. 

Thirdly, I would suggest using the -et 0.0 switch with gdalwarp.
Without that, I believe that gdalwarp uses a linear approximation 
for the reprojection as long as the error does not appear to exceed
some fraction of a pixel.  With -et 0.0, gdalwarp will do a full
reprojection operation for each pixel. 

Beyond that, there are various sources of possible mathematical
error that could explain some differences.  However, the differences
in the example you provide do seem to be pretty widespread 
suggestion a substantial issue. 

I would suggest review the "Rows" issue in the GRASS output, 
try again with -et 0.0 and then see where you stand.  If the 
problem persists, then I would suggest reprojecting a grid, 
so that we could careful evaluate some points of difference.   If
you come to the conclusion that gdalwarp is in error, please don't
hesitate to file a bug with the input image, the output image you got
from gdalwarp, and one sample point (pixel) that you believe is in error. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Sun Mar 13 23:16:57 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdalinfo and GMT grids
In-Reply-To: <20050313222301.jw68mt40g80oco04@wmail.ualg.pt>
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
	<Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
	<20050313222301.jw68mt40g80oco04@wmail.ualg.pt>
Message-ID: <931f8ea905031320165efd51b1@mail.gmail.com>

On Sun, 13 Mar 2005 22:23:01 +0000, jluis@ualg.pt <jluis@ualg.pt> wrote:
> What seams to be happening is that gdal assumes all grids have a "pixel
> registration". And that is not allways true, in what ragards GMT grids, but it
> is also
> not true for example with GTOPO30 (or SRTM30) and SRTM 1-arc-sec or SRTM
> 3-arc-sec. The first are pixel registerd, but the seconds are grid registerd.
> 
> See http://gmt.soest.hawaii.edu/gmt/doc/html/GMT_Docs/node145.html
> for a explanation on the difference between "grid" and "pixel" registrations.

Joaquim, 

I believe your analysis is correct.  If you could file a bug against
GDAL with the grid registered file, and the doc link above I will
correct the problem. 

Best regards,
 -- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Sun Mar 13 23:48:51 2005
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdalinfo and GMT grids
In-Reply-To: <931f8ea905031320165efd51b1@mail.gmail.com>
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
	<Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
	<20050313222301.jw68mt40g80oco04@wmail.ualg.pt>
	<931f8ea905031320165efd51b1@mail.gmail.com>
Message-ID: <20050314044851.sqq6pfn2j484g48k@wmail.ualg.pt>

Quoting Frank Warmerdam <fwarmerdam@gmail.com>:

> On Sun, 13 Mar 2005 22:23:01 +0000, jluis@ualg.pt <jluis@ualg.pt> wrote:
>> What seams to be happening is that gdal assumes all grids have a "pixel
>> registration". And that is not allways true, in what ragards GMT 
>> grids, but it
>> is also
>> not true for example with GTOPO30 (or SRTM30) and SRTM 1-arc-sec or SRTM
>> 3-arc-sec. The first are pixel registerd, but the seconds are grid 
>> registerd.
>>
>> See http://gmt.soest.hawaii.edu/gmt/doc/html/GMT_Docs/node145.html
>> for a explanation on the difference between "grid" and "pixel" 
>> registrations.
>
> Joaquim,
>
> I believe your analysis is correct.  If you could file a bug against
> GDAL with the grid registered file, and the doc link above I will
> correct the problem.
>

Frank,
I did that in Bugzilla, but there was no possibility to attach a file.
Given that the example file I mentioned is very small, I'll send it
attached here

Thanks

Joaquim
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lixo.grd
Type: application/octet-stream
Size: 5208 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050314/7a87af4e/lixo.obj
From fwarmerdam at gmail.com  Sun Mar 13 23:50:24 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GDAL/OGR 1.2.6 Released
Message-ID: <931f8ea9050313205013857b08@mail.gmail.com>

Folks, 

I am pleased to announce the release of GDAL/OGR 1.2.6.  The new
release can be downloaded from:

  http://www.gdal.org/dl/gdal-1.2.6.tar.tz
  http://www.gdal.org/dl/gdal126.zip

Signficant improvements and changes in this release are mentioned
in the NEWS entries below. 


GDAL 1.2.6 - Overview of Changes
--------------------------------

gdal_translate: 
 - Added -sds switch to copy all subdatasets. 

gdalwarp: 
 - Added Thin Plate Spline support (-tps switch). 

GDALRasterBand:
 - Now uses two level block cache allowing efficient access to files
   with a very large number of tiles. 
 - Added support for YCbCr color space for raster band color interpretations.
 - Added AdviseRead() method - currently only used by ECW driver and OGDI 
   drivers. 

ILWIS Driver:
 - New driver for the raster format of the ILWIS software. 

ECW Driver:
 - Updated to use ECW SDK 3.1 (older ECW SDK no longer supported!)

ECWJP2 Driver:
 - Added JPEG2000 support driver based on ECW/JPEG2000 SDK with a variety
   of features. 

NITF Driver: 
 - Added support for reading *and* writing JPEG2000 compressed NITF files 
   using the ECW/JPEG2000 SDK. 
 - Added ICHIPB support. 

HDF Driver:
 - Add support for georeferencing from some additional metadata formats. 
 - Fixed bug with multi-band HDF-EOS datasets. 

MrSID Driver:
 - Driver can now be built as a plugin on win32. 
 - Split out MrSID 3.x SDK support - not readily buildable now. 
 - Implemented accelerated IO cases for MrSID 4.x SDK. 
 - Support for writing MrSID files added (improved?)

Imagine Driver: 
 - Fixed bug reading some large multiband Imagine files. 
 - Added support for writing compressed files. 

Win32 Builds:
 - Added versioning information to GDAL DLL.

L1B Driver:
 - Only return a reduced grid of control points. 

IDA (WinDisp4) Driver:
 - New read/write driver for the Image Display and Analysis raster format 
   used by WinDisp 4. 

NDF (NLAPS) Driver:
 - Added NDF/NLAPS read driver for version 1 and 2. 

MSG Driver: 
 - Added support for the Metosat Second Generation raw file format.

GTiff Driver:
 - Added support for offset/scale being saved and loaded (special metadata). 
 - Added Cylindrical Equal Area.
 - Added PROFILE creation option to limit extra tags.

PNG Driver: 
 - Updated internal code for libpng to libpng 1.2.8.


OGR 1.2.6 - Overview of Changes
-------------------------------

OGRSFDriverRegistrar:
 - Added support for autoloading plugin drivers from ogr_<driver>.so. 

ogr.py:
 - Geometry, and Feature now take care of their own reference counting and
   will delete themselves when unreferenced.  Care must still be taken to
   unreference all features before destroying the corresponding 
   layer/datasource.
 - ogr.Feature fields can now be fetched and set directly as attributes. 
 - Geometry contructor can now take various formats (wkt, gml, and wkb). 
 - Added docstrings. 
 - Added better __str__ methods on several objects. 
 - Various other improvements. 

OGRLayer:
 - Re-wrote generic spatial search support to be faster in case of rectangular
   filters. 
 - Intersects() method now really uses GEOS.  This also affects all OGR 
   layer spatial filtering (with non-rectangular filters). 
 - Added SetNextByIndex() method on OGRLayer.  

OGRSpatialReference:
 - Automatically generate +towgs84 from EPSG tables when translating to
   PROJ.4 if available and TOWGS84 not specified in source WKT. 
 - Updated GML CRS translation to follow OGC 05-011 more closely.  Still
   incomplete but operational for some projections. 
 - Added support for FIPSZONE State Plane processing for old ESRI .prjs. 
 - Added Goode Homolosine support. 
 - Added GEOS (Geostationary Satellite) support.

OCI (Oracle) Driver:
 - Added GEOMETRY_NAME creation option to control the name of the field to
   hold the geometry.

PostGIS Driver:
 - Fixed some problems with truncation for integer and float list fields. 

Shapefile Driver: 
 - Added support for MapServer style spatial index (.qix). 

GML Driver: 
 - Improved support for 3L0 (GML 3 - Level 0 profile) reading and writing. 
   On read we can now use the .xsd instead of needing to build a .gfs file. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From asger at jo-informatik.dk  Mon Mar 14 09:35:13 2005
From: asger at jo-informatik.dk (Asger Petersen)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Ogr2ogr shapefile to postgis precision problem
Message-ID: <6A0257B028DA47499B5A843683051A3603F30C@server01.jo-informatik.local>

Hi

I'm having some problems regarding attribute integer precision when
converting shapefiles to postgis tables.

I have a column named ("ID") which ArcGIS reports as "double(15,0)", and
it holds only positive integers with 15 digits (like: 12080000240330).
Ogr2ogr maps this column to "numeric(15)" in postgres, but the values it
actually puts into the table are negative and only 10 digits (like:
-1742763318).

I have tried using the precision=no, but this means that the column is
mapped into "int(4)" with the exact same values as before.

Using ogrInfo on the shapefile shows:
---
C:\...>ogrinfo -so jc.shp jc
INFO: Open of `jc.shp'
using driver `ESRI Shapefile' successful.

Layer name: jc
Geometry: Point
Feature Count: 32613
Extent: (677586.199764, 6179614.699984) - (725471.903228,
6225290.304144)
Layer SRS WKT:
PROJCS["ETRS_1989_UTM_Zone_32N",
    GEOGCS["GCS_ETRS_1989",
        DATUM["ETRS_1989",
            SPHEROID["GRS_1980",6378137.0,298.257222101]],
        PRIMEM["Greenwich",0.0],
        UNIT["Degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["False_Easting",500000.0],
    PARAMETER["False_Northing",0.0],
    PARAMETER["Central_Meridian",9.0],
    PARAMETER["Scale_Factor",0.9996],
    PARAMETER["Latitude_Of_Origin",0.0],
    UNIT["Meter",1.0]]
ID: Integer (15.0)
FEATTYP: Integer (4.0)
JNCTTYP: Integer (1.0)
ELEV: Integer (2.0)
---

Using ogrinfo to list the features shows:
---
OGRFeature(dnk20_________jc):192
  ID (Integer) = -1542382448
  FEATTYP (Integer) = 4120
  JNCTTYP (Integer) = 0
  ELEV (Integer) = 0
  POINT (693229.167 6217966.344)
---

Can anyone tell me what I am doing wrong, and how to get these values
correctly into postgres? 

Thanks in advance, and a good day to everyone

Asger Petersen

From fwarmerdam at gmail.com  Mon Mar 14 10:23:00 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Ogr2ogr shapefile to postgis precision problem
In-Reply-To: <6A0257B028DA47499B5A843683051A3603F30C@server01.jo-informatik.local>
References: <6A0257B028DA47499B5A843683051A3603F30C@server01.jo-informatik.local>
Message-ID: <931f8ea9050314072325ccbe22@mail.gmail.com>

On Mon, 14 Mar 2005 15:35:13 +0100, Asger Petersen
<asger@jo-informatik.dk> wrote:
> Hi
> 
> I'm having some problems regarding attribute integer precision when
> converting shapefiles to postgis tables.
> 
> I have a column named ("ID") which ArcGIS reports as "double(15,0)", and
> it holds only positive integers with 15 digits (like: 12080000240330).
> Ogr2ogr maps this column to "numeric(15)" in postgres, but the values it
> actually puts into the table are negative and only 10 digits (like:
> -1742763318).
...
> Can anyone tell me what I am doing wrong, and how to get these values
> correctly into postgres?

Asger, 

The problem is that you have an effectively integer field with values 
larger than can be held in a 32bit integer.  This is quite a painful 
case for OGR.  

I have just committed a small change that should allow the Shapefile
driver to treat fields wider than 10 digits with no decimal places as
type double instead of integer.  This should get the values into OGR
properly but I am not certain that the result wll make it into PostGIS
unscathed. 

Could you file a bug report with a sample dataset (hopefuly just a few
records) that demonstrates this problem? 

Finally, your safest bet would likely be to split the ID field into 
two fields in ArcGIS.  

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From koolhoven at itc.nl  Mon Mar 14 10:54:06 2005
From: koolhoven at itc.nl (Wim Koolhoven)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Using CreateCopy() with ENVI data
Message-ID: <36141C39871E4D4DAE92F79D18385436015D3344@itcnt14.itc.nl>

> Hi All,
> 
> In a specific project the client uses ENVI data with a program we
> wrote based on GDAL.
> 
> The input is read, processed and written to a new dataset. The new
> datasat is created with CreateCopy(). Unfortunately class names,
> colors and coordinate information get lost with CreateCopy(). 
> 
> Quick and dirty solution would be to copy the .hdr file our selves,
> but that makes our program dependent on ENVI. Any other ideas?
> 
> 
> Wim Koolhoven
> 
> 

From fwarmerdam at gmail.com  Mon Mar 14 11:19:11 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Using CreateCopy() with ENVI data
In-Reply-To: <36141C39871E4D4DAE92F79D18385436015D3344@itcnt14.itc.nl>
References: <36141C39871E4D4DAE92F79D18385436015D3344@itcnt14.itc.nl>
Message-ID: <931f8ea90503140819cde5d01@mail.gmail.com>

On Mon, 14 Mar 2005 16:54:06 +0100, Wim Koolhoven <koolhoven@itc.nl> wrote:
> > Hi All,
> >
> > In a specific project the client uses ENVI data with a program we
> > wrote based on GDAL.
> >
> > The input is read, processed and written to a new dataset. The new
> > datasat is created with CreateCopy(). Unfortunately class names,
> > colors and coordinate information get lost with CreateCopy().
> >
> > Quick and dirty solution would be to copy the .hdr file our selves,
> > but that makes our program dependent on ENVI. Any other ideas?

Wim,

Is the output also ENVI format?  The short answer is that the solution
would be to improve the ENVI driver to support all these objects you
want to preserve.  The ENVI driver was just hacked together as a quick
way of getting at imagery with ENVI headers, and is by no means feature
complete. 

I would add that a CreateCopy from ENVI to ENVI should preserve
the geotransform based on a very quick skim of the envi code.  If that
isn't happening it might be considered a bug.  The ENVI code is in
gdal/frmts/raw/envidataset.cpp if you are inclined to try and improve
it.  

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From koolhoven at itc.nl  Mon Mar 14 12:13:22 2005
From: koolhoven at itc.nl (Wim Koolhoven)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Using CreateCopy() with ENVI data
Message-ID: <36141C39871E4D4DAE92F79D18385436015D3360@itcnt14.itc.nl>


Frank,

Most users want same input format as output. 

A function ENVIDataset::Create() is defined, but
ENVIDataset::CreateCopy() seems not to be present. Is this a virtual
function which can just be created?

Can I implement the function that I only implement it for when the input
dataset is also ENVI and in all other cases call the default
implementation? I only have seen complete implementations.


regards,

Wim Koolhoven

 

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com]
Sent: maandag 14 maart 2005 17:19
To: Wim Koolhoven
Cc: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Using CreateCopy() with ENVI data

On Mon, 14 Mar 2005 16:54:06 +0100, Wim Koolhoven <koolhoven@itc.nl>
wrote:
> > Hi All,
> >
> > In a specific project the client uses ENVI data with a program we 
> > wrote based on GDAL.
> >
> > The input is read, processed and written to a new dataset. The new 
> > datasat is created with CreateCopy(). Unfortunately class names, 
> > colors and coordinate information get lost with CreateCopy().
> >
> > Quick and dirty solution would be to copy the .hdr file our selves, 
> > but that makes our program dependent on ENVI. Any other ideas?

Wim,

Is the output also ENVI format?  The short answer is that the solution
would be to improve the ENVI driver to support all these objects you
want to preserve.  The ENVI driver was just hacked together as a quick
way of getting at imagery with ENVI headers, and is by no means feature
complete. 

I would add that a CreateCopy from ENVI to ENVI should preserve the
geotransform based on a very quick skim of the envi code.  If that isn't
happening it might be considered a bug.  The ENVI code is in
gdal/frmts/raw/envidataset.cpp if you are inclined to try and improve
it.  

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From fwarmerdam at gmail.com  Mon Mar 14 13:18:50 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Using CreateCopy() with ENVI data
In-Reply-To: <36141C39871E4D4DAE92F79D18385436015D3360@itcnt14.itc.nl>
References: <36141C39871E4D4DAE92F79D18385436015D3360@itcnt14.itc.nl>
Message-ID: <931f8ea905031410184b3116a4@mail.gmail.com>

On Mon, 14 Mar 2005 18:13:22 +0100, Wim Koolhoven <koolhoven@itc.nl> wrote:
> 
> Frank,
> 
> Most users want same input format as output.
> 
> A function ENVIDataset::Create() is defined, but
> ENVIDataset::CreateCopy() seems not to be present. Is this a virtual
> function which can just be created?
> 
> Can I implement the function that I only implement it for when the input
> dataset is also ENVI and in all other cases call the default
> implementation? I only have seen complete implementations.

Wim,

If CreateCopy() is not defined there is a default internal implementation
which uses Create(), and then copies over the various kinds of data
items defined.  In cases where it is possible to implement Create() fully,
it is normally not expected to implement CreateCopy() though it is
possible to implement both.

I have not yet implemented a CreateCopy() that actually went "into" 
the source datasource to determine it's format to allow special operation.
I would like to discourage this approach.  But if you do want a CreateCopy
to work very smoothly for ENVI data you could have the read driver
return the whole ENVI header as a special metadata domain value. 
Then a CreateCopy() could actually query the source dataset for this
specific metadata item in a special domain to use as a template header.

But I think it would be better to just add conventional support in the
ENVI driver for as many items as possible (category names, etc) using
the normal GDAL data model. 

It really depends on your needs, and time available for implementation.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Mon Mar 14 13:25:24 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [GRASSLIST:6144] r.proj and gdawarp give differernt
	results
In-Reply-To: <008101c52893$011b3130$25d21d3e@eustahiush>
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
	<Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
	<931f8ea9050313201319742d28@mail.gmail.com>
	<008101c52893$011b3130$25d21d3e@eustahiush>
Message-ID: <931f8ea905031410258d358c5@mail.gmail.com>

On Mon, 14 Mar 2005 13:39:54 +0100, Maciek Sieczka <werchowyna@epf.pl> wrote:
>     6. both gdalwarp and r.proj product have the *same* number of columns,
>     rows and res but the extent and apperance are still somewhat different:

Maciek,

I think this is a very significant issue.  The difference in
georeferencing seems
to be only a small portion of a pixel, but this can frequently be significant.

To test I tried tracking back one pixel that was different in the two
warpers.  I
tracked back the center of a pixel from the GDAL warp output:

Output Location
---------------

Value: 82
Pixel/Line = 39.5, 138.5
Georef     = 337548.161466, 277562.731833



Input Location
--------------

cs2cs -f '%.6f' +init=epsg:2180 +to +init=epsg:32633

Georef: 622113.023072   5578151.357107

Pixel/Line: 36.054, 136.782

Value: 82

So, in this case the GDAL result seems to be proper, but the 
difference in georeferencing between the r.proj and gdalwarp
output images is approximately 1.28 meters or approximately 
0.08882 pixels which would account for the sampling coming
from the neighbouring pixel (which we see in the r.proj result).

I have not traced any other pixels.  My suggestion is that you
do what you need to do to get exactly the same georeferencing
in both output products and then compare the results.  If there is
still a difference then try tracking back some pixels to see why 
they differ (well - at least which is correct). 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bfraser at geoanalytic.com  Mon Mar 14 14:49:49 2005
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal with ECW JPEG 2000 SDK v3.1
Message-ID: <1d8201c528ce$fb6fcf70$160002c0@shark>

Frank,

   I've been trying to get gdal_translate to compress a 700gb tiff image to
ECW (on win2k).  This is greater than the 500gb limit imposed by the ECW SDK
prior to v3.0.  According to the ECW SDK v3.1 doc:

"If you wish to enable unlimited compression to the ECW or JPEG 2000 formats
(as permitted by the Public and Commercial Use License Agreements), you must
link your application with NCSEcwCu.lib instead of NCSEcwC.lib. "

So I linked gdal_translate with NCSEcwCu.lib and ran it to get the
following:

C:\gdal\gdal-1.2.6\apps>gdal_translate -of ECW  321fuse.tif 321fuse.ecw
Input file size is 17100, 15340
0.100 - done.
ERROR 4: `321fuse.ecw' does not exist in the file system,
and is not recognised as a supported dataset name.

But it works fine on images less than 500mb.  I compiled the
NCSSource_3.1rc1_18Feb05 version, but got the same result.

Have you tested gdal with the unlimited-compression ECW library?  Any other
things I need to do?

Thanks!
Brent Fraser


From fwarmerdam at gmail.com  Mon Mar 14 15:03:12 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: gdal with ECW JPEG 2000 SDK v3.1
In-Reply-To: <1d8201c528ce$fb6fcf70$160002c0@shark>
References: <1d8201c528ce$fb6fcf70$160002c0@shark>
Message-ID: <931f8ea9050314120316a91386@mail.gmail.com>

On Mon, 14 Mar 2005 12:49:49 -0700, Brent Fraser
<bfraser@geoanalytic.com> wrote:
> Frank,
> 
>    I've been trying to get gdal_translate to compress a 700gb tiff image to
> ECW (on win2k).  This is greater than the 500gb limit imposed by the ECW SDK
> prior to v3.0.  According to the ECW SDK v3.1 doc:
> 
> "If you wish to enable unlimited compression to the ECW or JPEG 2000 formats
> (as permitted by the Public and Commercial Use License Agreements), you must
> link your application with NCSEcwCu.lib instead of NCSEcwC.lib. "
> 
> So I linked gdal_translate with NCSEcwCu.lib and ran it to get the
> following:
> 
> C:\gdal\gdal-1.2.6\apps>gdal_translate -of ECW  321fuse.tif 321fuse.ecw
> Input file size is 17100, 15340
> 0.100 - done.
> ERROR 4: `321fuse.ecw' does not exist in the file system,
> and is not recognised as a supported dataset name.
> 
> But it works fine on images less than 500mb.  I compiled the
> NCSSource_3.1rc1_18Feb05 version, but got the same result.
> 
> Have you tested gdal with the unlimited-compression ECW library?  Any other
> things I need to do?

Brent,

There is a special call you need to make to disable the 500MB limit,
and I have not added that because I am not clear on the implications
for all GDAL use situations.  I'm afraid I am not even certain what the
call is.  You would need to hack it into the code yourself.  I think 
there is already a bug open in the GDAL bugzilla on this issue. 


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From werchowyna at epf.pl  Mon Mar 14 16:52:44 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [GRASSLIST:6160] Re: r.proj and gdawarp give
	differernt results
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
	<Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
	<931f8ea9050313201319742d28@mail.gmail.com>
	<008101c52893$011b3130$25d21d3e@eustahiush>
	<931f8ea905031410258d358c5@mail.gmail.com>
Message-ID: <012501c528e0$5981a0a0$65d21d3e@eustahiush>

Frank

I would be happy to assist you in sorting things out but but based on your
latest reply I don't understand what you want me to do. Please clear it out
to me.

Cheers
Maciek

P.S.
Not being online I usually answer with quite a delay.


From: "Frank Warmerdam" <fwarmerdam@gmail.com>
> On Mon, 14 Mar 2005 13:39:54 +0100, Maciek Sieczka <werchowyna@epf.pl>
> wrote:
>>     6. both gdalwarp and r.proj product have the *same* number of
>> columns,
>>     rows and res but the extent and apperance are still somewhat
>> different:
>
> Maciek,
>
> I think this is a very significant issue.  The difference in
> georeferencing seems
> to be only a small portion of a pixel, but this can frequently be
> significant.
>
> To test I tried tracking back one pixel that was different in the two
> warpers.  I
> tracked back the center of a pixel from the GDAL warp output:
>
> Output Location
> ---------------
>
> Value: 82
> Pixel/Line = 39.5, 138.5
> Georef     = 337548.161466, 277562.731833
>
>
>
> Input Location
> --------------
>
> cs2cs -f '%.6f' +init=epsg:2180 +to +init=epsg:32633
>
> Georef: 622113.023072   5578151.357107
>
> Pixel/Line: 36.054, 136.782
>
> Value: 82
>
> So, in this case the GDAL result seems to be proper, but the
> difference in georeferencing between the r.proj and gdalwarp
> output images is approximately 1.28 meters or approximately
> 0.08882 pixels which would account for the sampling coming
> from the neighbouring pixel (which we see in the r.proj result).
>
> I have not traced any other pixels.  My suggestion is that you
> do what you need to do to get exactly the same georeferencing
> in both output products and then compare the results.  If there is
> still a difference then try tracking back some pixels to see why
> they differ (well - at least which is correct).
>
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


From dylan at iici.no-ip.org  Mon Mar 14 19:45:26 2005
From: dylan at iici.no-ip.org (Dylan Beaudette)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] compilation problems on Slackware machine [update]
Message-ID: <200503141645.26388.dylan@iici.no-ip.org>

Hi,

Just grabbed the GDAL 1.2.6 source, and tried compiling it on this Slack 
machine that was having problems with 1.2.5...

here are the details;

1. compiler flags:
CHOST="i686-pc-linux-gnu"
CFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer"
CXXFLAGS="-march=pentium3 -O3 -pipe -fomit-frame-pointer"

2. configure options:
./configure --prefix=/usr --with-png=internal --with-jpeg=internal \
            --with-gif=internal --with-libtiff=internal \
            --with-geotiff=internal --with-libz=internal\
            --without-pg --without-ogdi --with-python \
     --with-threads=yes

3. Errors returned from 'make'
-------------------------------------
[...]
g++     -c -o thinplatespline.o thinplatespline.cpp
thinplatespline.cpp: In member function `int VizGeorefSpline2D::solve()':
thinplatespline.cpp:214: `FLT_MIN' undeclared (first use this function)
thinplatespline.cpp:214: (Each undeclared identifier is reported only once for
   each function it appears in.)
thinplatespline.cpp:214: `FLT_MAX' undeclared (first use this function)
make[1]: *** [thinplatespline.o] Error 1
make[1]: Leaving directory `/home/dylan/src/gdal-1.2.6/alg'
make: *** [core-target] Error 2
-------------------------------------

Any ideas...

Thanks in advance!

-- 
Dylan Beaudette
Soils and Biogeochemistry Graduate Group
University of California at Davis
530.754.7341

From fwarmerdam at gmail.com  Tue Mar 15 03:02:50 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] compilation problems on Slackware machine [update]
In-Reply-To: <200503141645.26388.dylan@iici.no-ip.org>
References: <200503141645.26388.dylan@iici.no-ip.org>
Message-ID: <931f8ea905031500021dca8360@mail.gmail.com>

On Mon, 14 Mar 2005 16:45:26 -0800, Dylan Beaudette
<dylan@iici.no-ip.org> wrote:
> 3. Errors returned from 'make'
> -------------------------------------
> [...]
> g++     -c -o thinplatespline.o thinplatespline.cpp
> thinplatespline.cpp: In member function `int VizGeorefSpline2D::solve()':
> thinplatespline.cpp:214: `FLT_MIN' undeclared (first use this function)
> thinplatespline.cpp:214: (Each undeclared identifier is reported only once for
>    each function it appears in.)
> thinplatespline.cpp:214: `FLT_MAX' undeclared (first use this function)
> make[1]: *** [thinplatespline.o] Error 1
> make[1]: Leaving directory `/home/dylan/src/gdal-1.2.6/alg'
> make: *** [core-target] Error 2
> -------------------------------------

Dylan, 

The thinplatespline.cpp file attempts to include either float.h or
values.h if they are available (as determined by configure). 
Does your gdal/port/cpl_config.h include #defines for 
HAVE_FLOAT_H and/or HAVE_VALUES_H? 

I have altered thinplatespline.cpp to include the following
optional definition after the attempt to include float.h and values.h:

#ifndef FLT_MAX
#  define FLT_MAX 1e+37
#  define FLT_MIN 1e-37
#endif

You can apply the same change to your local version. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bartvde at xs4all.nl  Tue Mar 15 10:56:36 2005
From: bartvde at xs4all.nl (bartvde@xs4all.nl)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] relative paths in nmake.opt
Message-ID: <6719.212.238.227.182.1110902196.squirrel@212.238.227.182>

Hi list,

relative paths e.g. for Xerces don't seem to work in the GDAL makefile. Is
this intended to work?

Best regards,
Bart


From acrux_it at libero.it  Tue Mar 15 11:08:47 2005
From: acrux_it at libero.it (acrux)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal-grass driver
Message-ID: <20050315170847.02e41b7d.acrux_it@libero.it>


hi,

but is gdal-grass-1.2.3 still need with grass-6.0 and gdal-1.2.5 ??

thanks,
Acrux
-- 
vesuvio | LinuxMachine 156116
powered by GNU/Linux Crux
 # GnuPG/PGP Key_ID: 0x378EECB8

From fwarmerdam at gmail.com  Tue Mar 15 11:12:19 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] relative paths in nmake.opt
In-Reply-To: <6719.212.238.227.182.1110902196.squirrel@212.238.227.182>
References: <6719.212.238.227.182.1110902196.squirrel@212.238.227.182>
Message-ID: <931f8ea90503150812534f2630@mail.gmail.com>

On Tue, 15 Mar 2005 16:56:36 +0100 (CET), bartvde@xs4all.nl
<bartvde@xs4all.nl> wrote:
> Hi list,
> 
> relative paths e.g. for Xerces don't seem to work in the GDAL makefile. Is
> this intended to work?

Bart,

Generally speaking you should not use relative paths in nmake.opt, 
or even unix configures.  The paths are generally used at various 
levels in the build tree and so things break down if the paths are
just relative to the root.   

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From acrux_it at libero.it  Tue Mar 15 11:12:41 2005
From: acrux_it at libero.it (acrux)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: gdal-grass driver
In-Reply-To: <20050315170847.02e41b7d.acrux_it@libero.it>
References: <20050315170847.02e41b7d.acrux_it@libero.it>
Message-ID: <20050315171241.6aedbd3a.acrux_it@libero.it>

On Tue, 15 Mar 2005 17:08:47 +0100
acrux <acrux_it@libero.it> wrote:

> 
> hi,
> 
> but is gdal-grass-1.2.3 still need with grass-6.0 and gdal-1.2.5 ??
> 

*grass-6.0 and gdal-1.2.6


From fwarmerdam at gmail.com  Tue Mar 15 11:13:15 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal-grass driver
In-Reply-To: <20050315170847.02e41b7d.acrux_it@libero.it>
References: <20050315170847.02e41b7d.acrux_it@libero.it>
Message-ID: <931f8ea905031508133ce8550@mail.gmail.com>

On Tue, 15 Mar 2005 17:08:47 +0100, acrux <acrux_it@libero.it> wrote:
> 
> hi,
> 
> but is gdal-grass-1.2.3 still need with grass-6.0 and gdal-1.2.5 ??

Acrux,

The gdal-grass-1.2.3 file is still the preferred way of building GRASS
as an external plugin with GDAL 1.2.5 (or GDAL 1.2.6).  

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From asimpson at i-55.com  Tue Mar 15 19:44:52 2005
From: asimpson at i-55.com (Simpson)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <931f8ea905031508133ce8550@mail.gmail.com>
Message-ID: <NFBBKOADOLGDLPMAAHMDGEOHDAAA.asimpson@i-55.com>

Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.



From zhang at aero.und.edu  Wed Mar 16 00:03:31 2005
From: zhang at aero.und.edu (Xiaodong Zhang)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] how to re-use a GDAL dataset name
Message-ID: <1110949411.4237be23ab11f@portal.aero.und.edu>

Greetings,

Trying to use one Gdal dataset name to open multiple images (one at a time).

int main() {
GDALDataset *dataset;
GDALALLRegister();
for(int i=0;i<num_of_images;i++){
    dataset = (GDALDataset *) GDALOpen(img_name(i),GA_ReadOnly);
    .......;
    delete dataset;
}

This is not working, the programs hangs.

Appreciate help. Thanks.

Xiaodong






From fwarmerdam at gmail.com  Wed Mar 16 00:16:25 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] how to re-use a GDAL dataset name
In-Reply-To: <1110949411.4237be23ab11f@portal.aero.und.edu>
References: <1110949411.4237be23ab11f@portal.aero.und.edu>
Message-ID: <931f8ea9050315211661eb18d8@mail.gmail.com>

On Tue, 15 Mar 2005 23:03:31 -0600, Xiaodong Zhang <zhang@aero.und.edu> wrote:
> Greetings,
> 
> Trying to use one Gdal dataset name to open multiple images (one at a time).
> 
> int main() {
> GDALDataset *dataset;
> GDALALLRegister();
> for(int i=0;i<num_of_images;i++){
>     dataset = (GDALDataset *) GDALOpen(img_name(i),GA_ReadOnly);
>     .......;
>     delete dataset;
> }
> 
> This is not working, the programs hangs.

Xiaodong,

This should work in general, so there must be some specifics
of your case that is causing an issue.  

I will caution you that deleting a dataset does not work
properly if you aren't using MSVCRT (or the .net equiv) on
Win32.  That is, if you have seperate heaps for each DLL and
the .exe you can't use delete in your main program.  Instead
use GDALClose(). 

But I am guessing there is some problem with the particular
format driver or data files you are working with that is causing
heap corruption or some other problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From koolhoven at itc.nl  Wed Mar 16 06:04:39 2005
From: koolhoven at itc.nl (Wim Koolhoven)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Using CreateCopy() with ENVI data
Message-ID: <36141C39871E4D4DAE92F79D18385436015D34C9@itcnt14.itc.nl>

Frank,

I updated the CreateCopy() in gdaldriver.cpp to include the copying of
category names.
And I updated the ENVI driver to write the category names and colors to
the header file. This required some refactoring of the ENVI driver.


regards,

Wim Koolhoven

From michele.sanges at otomelara.it  Wed Mar 16 07:48:04 2005
From: michele.sanges at otomelara.it (Michele Sanges)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GetProjectionRef() returns an empty string.
Message-ID: <42382B04.6040000@otomelara.it>

Hi all,

I'm testing my program by means the example map files available at 
ftp://ftp.remotesensing.org/gdal/data/.
I'm comparing the result string returned by the 
GDALDataset::GetProjectionRef() method, with the same information 
printed out by the OpenEV program, for any of these files.
I notice that for some file, for example "/aaigrid/095b_dem_90m.asc", 
the string printed out is the same; for other files, for example 
"/ceos/ottawa_patch.img", the OpenEV program prints the projetion string 
while my call to GetProjectionRef() method return an empty string (not 
NULL). Does someone can give me some suggestions?
Thanks.

Michele Sanges


From cspoerri at cavtel.net  Wed Mar 16 08:08:22 2005
From: cspoerri at cavtel.net (Christoph Spoerri)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] B&W tiffs
In-Reply-To: <42382B04.6040000@otomelara.it>
References: <42382B04.6040000@otomelara.it>
Message-ID: <200503160808.22704.cspoerri@cavtel.net>

Hi there,
one of my peer developers at my office has the following question regarding 
GDAL:

I have a 3-band color tiff file. Can I use the gdal library to convert it to 
one-bit 4 group b&w tiff? If yes, how can I implement it?

The problem we are facing is to create png and b&w tiffs from ArcMap layout 
through code (VB). The only other solution (we know if currently) is getting 
a license for ArcPress, yet this would be fairly expensive and would require 
additional CPU/memory resources. Does anybody know of any other possible 
solutions?

thanks,
Christoph

From richard.greenwood at gmail.com  Wed Mar 16 08:50:39 2005
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: B&W tiffs
References: <42382B04.6040000@otomelara.it>
	<200503160808.22704.cspoerri@cavtel.net>
Message-ID: <loom.20050316T144610-0@post.gmane.org>

Christoph Spoerri <cspoerri <at> cavtel.net> writes:

> 
> Hi there,
> one of my peer developers at my office has the following question regarding 
> GDAL:
> 
> I have a 3-band color tiff file. Can I use the gdal library to convert it to 
> one-bit 4 group b&w tiff? If yes, how can I implement it?
> 
> The problem we are facing is to create png and b&w tiffs from ArcMap layout 
> through code (VB). The only other solution (we know if currently) is getting 
> a license for ArcPress, yet this would be fairly expensive and would require 
> additional CPU/memory resources. Does anybody know of any other possible 
> solutions?
> 
> thanks,
> Christoph
> 

I would suggest ImageMagik
    http://www.imagemagick.org/
which is a command line tool. It will loose any geo-referencing information
saved in the tiff header, but you can save it before conversion and restore it
afterwards with gdal_translate.

Regards,
Richard Greenwood
richard.greenwood@gmail.com
 



From gillian.walter at atlantis-scientific.com  Wed Mar 16 09:06:33 2005
From: gillian.walter at atlantis-scientific.com (Gillian Walter)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] GetProjectionRef() returns an empty string.
In-Reply-To: <42382B04.6040000@otomelara.it>
References: <42382B04.6040000@otomelara.it>
Message-ID: <42383D69.4080703@atlantis-scientific.com>

Hi,

If an image is geocoded with ground control points rather than an affine 
transform (geotransform), you use GetGCPProjection() rather than 
GetProjectionRef() to get the projection string.  The ottawa patch 
probably uses gcps.

Gillian

Michele Sanges wrote:

> Hi all,
>
> I'm testing my program by means the example map files available at 
> ftp://ftp.remotesensing.org/gdal/data/.
> I'm comparing the result string returned by the 
> GDALDataset::GetProjectionRef() method, with the same information 
> printed out by the OpenEV program, for any of these files.
> I notice that for some file, for example "/aaigrid/095b_dem_90m.asc", 
> the string printed out is the same; for other files, for example 
> "/ceos/ottawa_patch.img", the OpenEV program prints the projetion 
> string while my call to GetProjectionRef() method return an empty 
> string (not NULL). Does someone can give me some suggestions?
> Thanks.
>
> Michele Sanges
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev




From fwarmerdam at gmail.com  Wed Mar 16 09:21:47 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] B&W tiffs
In-Reply-To: <200503160808.22704.cspoerri@cavtel.net>
References: <42382B04.6040000@otomelara.it>
	<200503160808.22704.cspoerri@cavtel.net>
Message-ID: <931f8ea90503160621d850e1a@mail.gmail.com>

On Wed, 16 Mar 2005 08:08:22 -0500, Christoph Spoerri
<cspoerri@cavtel.net> wrote:
> Hi there,
> one of my peer developers at my office has the following question regarding
> GDAL:
> 
> I have a 3-band color tiff file. Can I use the gdal library to convert it to
> one-bit 4 group b&w tiff? If yes, how can I implement it?
> 
> The problem we are facing is to create png and b&w tiffs from ArcMap layout
> through code (VB). The only other solution (we know if currently) is getting
> a license for ArcPress, yet this would be fairly expensive and would require
> additional CPU/memory resources. Does anybody know of any other possible
> solutions?

Christoph, 

I think Richard's suggestion of using ImageMagick (or a similar
application) is good.  GDAL does not support output of 1 bit 
images at this time, nor does it contain algorithms for going 
from RGB to 1bit. 

Alternatively, use GDAL to convert your image to greyscale, 
and then use the libtiff utilty program "tiffdither" to convert to
a 1 bit compressed TIFF file. 

Note, it will be hard to use gdal_translate to turn 1bit files
into 1bit geotiff files because it cannot output 1bit files.  But
you could easily get a world file to associate with the final
.tif file if needed.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kmelero at sanz.com  Wed Mar 16 10:00:55 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <NFBBKOADOLGDLPMAAHMDGEOHDAAA.asimpson@i-55.com>
Message-ID: <000601c52a38$f63068b0$0d02040a@MGCOMPAQ>


Drew,

Actually MrSID JP2 support is currently commented out.  This was because it
was conflicting with the Kakadu JP2 library and I was trying to figure this
out before turning it back on.  I would suggest using either Jasper or
Kakadu to support your requirements at the moment.

-Ken


---
Kenneth Melero
Director of Imagery Science
 
SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182
 
t 703.442.6630 x19
c 703.577.2333




-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
Sent: Tuesday, March 15, 2005 7:45 PM
To: gdal-dev@xserve.flids.com
Subject: [Gdal-dev] JP2 with MrSid


Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2 
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From asimpson at i-55.com  Wed Mar 16 10:20:32 2005
From: asimpson at i-55.com (Simpson)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <000601c52a38$f63068b0$0d02040a@MGCOMPAQ>
Message-ID: <NFBBKOADOLGDLPMAAHMDIEONDAAA.asimpson@i-55.com>

Ken,

Jasper is slow and Kakadu is cost prohibitive.
I guess I'll have to revert back to an earlier release, which is unfortunate
since the latest MrSid code rendering rate of sid files is outstanding.
Should I consider converting all jp2's to a more useable format, or is this
just a temporary condition.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:01 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



Drew,

Actually MrSID JP2 support is currently commented out.  This was because it
was conflicting with the Kakadu JP2 library and I was trying to figure this
out before turning it back on.  I would suggest using either Jasper or
Kakadu to support your requirements at the moment.

-Ken


---
Kenneth Melero
Director of Imagery Science

SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182

t 703.442.6630 x19
c 703.577.2333




-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
Sent: Tuesday, March 15, 2005 7:45 PM
To: gdal-dev@xserve.flids.com
Subject: [Gdal-dev] JP2 with MrSid


Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev



From kmelero at sanz.com  Wed Mar 16 10:21:22 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <NFBBKOADOLGDLPMAAHMDIEONDAAA.asimpson@i-55.com>
Message-ID: <001801c52a3b$d1598870$0d02040a@MGCOMPAQ>


This is temporary.  I can uncomment and resubmit to the CVS baseline but
would require you to compile your version of GDAL.  This should work.  It is
actually like 2 lines in the mrsiddataset.cpp file.  You can even try it
yourself.

-Ken



-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com] 
Sent: Wednesday, March 16, 2005 10:21 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


Ken,

Jasper is slow and Kakadu is cost prohibitive.
I guess I'll have to revert back to an earlier release, which is unfortunate
since the latest MrSid code rendering rate of sid files is outstanding.
Should I consider converting all jp2's to a more useable format, or is this
just a temporary condition.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:01 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



Drew,

Actually MrSID JP2 support is currently commented out.  This was because it
was conflicting with the Kakadu JP2 library and I was trying to figure this
out before turning it back on.  I would suggest using either Jasper or
Kakadu to support your requirements at the moment.

-Ken


---
Kenneth Melero
Director of Imagery Science

SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182

t 703.442.6630 x19
c 703.577.2333




-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
Sent: Tuesday, March 15, 2005 7:45 PM
To: gdal-dev@xserve.flids.com
Subject: [Gdal-dev] JP2 with MrSid


Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2 
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev



From asimpson at i-55.com  Wed Mar 16 10:30:42 2005
From: asimpson at i-55.com (Simpson)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <001801c52a3b$d1598870$0d02040a@MGCOMPAQ>
Message-ID: <NFBBKOADOLGDLPMAAHMDAEOODAAA.asimpson@i-55.com>

OK, I think I saw the lines your referring to, but if you would give me line
numbers, I'll try it on this end.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:21 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



This is temporary.  I can uncomment and resubmit to the CVS baseline but
would require you to compile your version of GDAL.  This should work.  It is
actually like 2 lines in the mrsiddataset.cpp file.  You can even try it
yourself.

-Ken



-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com]
Sent: Wednesday, March 16, 2005 10:21 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


Ken,

Jasper is slow and Kakadu is cost prohibitive.
I guess I'll have to revert back to an earlier release, which is unfortunate
since the latest MrSid code rendering rate of sid files is outstanding.
Should I consider converting all jp2's to a more useable format, or is this
just a temporary condition.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:01 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



Drew,

Actually MrSID JP2 support is currently commented out.  This was because it
was conflicting with the Kakadu JP2 library and I was trying to figure this
out before turning it back on.  I would suggest using either Jasper or
Kakadu to support your requirements at the moment.

-Ken


---
Kenneth Melero
Director of Imagery Science

SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182

t 703.442.6630 x19
c 703.577.2333




-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
Sent: Tuesday, March 15, 2005 7:45 PM
To: gdal-dev@xserve.flids.com
Subject: [Gdal-dev] JP2 with MrSid


Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev




From kmelero at sanz.com  Wed Mar 16 10:37:34 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <NFBBKOADOLGDLPMAAHMDAEOODAAA.asimpson@i-55.com>
Message-ID: <002c01c52a3e$1551f9c0$0d02040a@MGCOMPAQ>


It'll be lines 1050-1052 and 1101-1105.

You may also need to add the header:   "J2KImageReader.h"

Try that...

-Ken

-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com] 
Sent: Wednesday, March 16, 2005 10:31 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


OK, I think I saw the lines your referring to, but if you would give me line
numbers, I'll try it on this end.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:21 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



This is temporary.  I can uncomment and resubmit to the CVS baseline but
would require you to compile your version of GDAL.  This should work.  It is
actually like 2 lines in the mrsiddataset.cpp file.  You can even try it
yourself.

-Ken



-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com]
Sent: Wednesday, March 16, 2005 10:21 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


Ken,

Jasper is slow and Kakadu is cost prohibitive.
I guess I'll have to revert back to an earlier release, which is unfortunate
since the latest MrSid code rendering rate of sid files is outstanding.
Should I consider converting all jp2's to a more useable format, or is this
just a temporary condition.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:01 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



Drew,

Actually MrSID JP2 support is currently commented out.  This was because it
was conflicting with the Kakadu JP2 library and I was trying to figure this
out before turning it back on.  I would suggest using either Jasper or
Kakadu to support your requirements at the moment.

-Ken


---
Kenneth Melero
Director of Imagery Science

SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182

t 703.442.6630 x19
c 703.577.2333




-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
Sent: Tuesday, March 15, 2005 7:45 PM
To: gdal-dev@xserve.flids.com
Subject: [Gdal-dev] JP2 with MrSid


Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2 
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev




From asimpson at i-55.com  Wed Mar 16 11:21:59 2005
From: asimpson at i-55.com (Simpson)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <002c01c52a3e$1551f9c0$0d02040a@MGCOMPAQ>
Message-ID: <NFBBKOADOLGDLPMAAHMDKEOODAAA.asimpson@i-55.com>

That worked!  Back in action...

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:38 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



It'll be lines 1050-1052 and 1101-1105.

You may also need to add the header:   "J2KImageReader.h"

Try that...

-Ken

-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com]
Sent: Wednesday, March 16, 2005 10:31 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


OK, I think I saw the lines your referring to, but if you would give me line
numbers, I'll try it on this end.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:21 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



This is temporary.  I can uncomment and resubmit to the CVS baseline but
would require you to compile your version of GDAL.  This should work.  It is
actually like 2 lines in the mrsiddataset.cpp file.  You can even try it
yourself.

-Ken



-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com]
Sent: Wednesday, March 16, 2005 10:21 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


Ken,

Jasper is slow and Kakadu is cost prohibitive.
I guess I'll have to revert back to an earlier release, which is unfortunate
since the latest MrSid code rendering rate of sid files is outstanding.
Should I consider converting all jp2's to a more useable format, or is this
just a temporary condition.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:01 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



Drew,

Actually MrSID JP2 support is currently commented out.  This was because it
was conflicting with the Kakadu JP2 library and I was trying to figure this
out before turning it back on.  I would suggest using either Jasper or
Kakadu to support your requirements at the moment.

-Ken


---
Kenneth Melero
Director of Imagery Science

SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182

t 703.442.6630 x19
c 703.577.2333




-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
Sent: Tuesday, March 15, 2005 7:45 PM
To: gdal-dev@xserve.flids.com
Subject: [Gdal-dev] JP2 with MrSid


Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev





From kmelero at sanz.com  Wed Mar 16 11:23:18 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <NFBBKOADOLGDLPMAAHMDKEOODAAA.asimpson@i-55.com>
Message-ID: <004301c52a44$781c7200$0d02040a@MGCOMPAQ>


Great!!!

-Ken

-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com] 
Sent: Wednesday, March 16, 2005 11:22 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


That worked!  Back in action...

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:38 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



It'll be lines 1050-1052 and 1101-1105.

You may also need to add the header:   "J2KImageReader.h"

Try that...

-Ken

-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com]
Sent: Wednesday, March 16, 2005 10:31 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


OK, I think I saw the lines your referring to, but if you would give me line
numbers, I'll try it on this end.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:21 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



This is temporary.  I can uncomment and resubmit to the CVS baseline but
would require you to compile your version of GDAL.  This should work.  It is
actually like 2 lines in the mrsiddataset.cpp file.  You can even try it
yourself.

-Ken



-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com]
Sent: Wednesday, March 16, 2005 10:21 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


Ken,

Jasper is slow and Kakadu is cost prohibitive.
I guess I'll have to revert back to an earlier release, which is unfortunate
since the latest MrSid code rendering rate of sid files is outstanding.
Should I consider converting all jp2's to a more useable format, or is this
just a temporary condition.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:01 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



Drew,

Actually MrSID JP2 support is currently commented out.  This was because it
was conflicting with the Kakadu JP2 library and I was trying to figure this
out before turning it back on.  I would suggest using either Jasper or
Kakadu to support your requirements at the moment.

-Ken


---
Kenneth Melero
Director of Imagery Science

SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182

t 703.442.6630 x19
c 703.577.2333




-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
Sent: Tuesday, March 15, 2005 7:45 PM
To: gdal-dev@xserve.flids.com
Subject: [Gdal-dev] JP2 with MrSid


Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2 
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev





From MChapman at sanz.com  Wed Mar 16 12:10:48 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
Message-ID: <ED3A48B9840E594890A2BC172D11946501D00028@mailman.san.com>

FYI, 

I think MrSID JP2 actually uses Kakadu under the hood.  You might ask
LizardTech.

Martin

-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Kenneth Melero
Sent: Wednesday, March 16, 2005 9:23 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



Great!!!

-Ken

-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com] 
Sent: Wednesday, March 16, 2005 11:22 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


That worked!  Back in action...

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:38 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



It'll be lines 1050-1052 and 1101-1105.

You may also need to add the header:   "J2KImageReader.h"

Try that...

-Ken

-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com]
Sent: Wednesday, March 16, 2005 10:31 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


OK, I think I saw the lines your referring to, but if you would give me
line numbers, I'll try it on this end.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:21 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



This is temporary.  I can uncomment and resubmit to the CVS baseline but
would require you to compile your version of GDAL.  This should work.
It is actually like 2 lines in the mrsiddataset.cpp file.  You can even
try it yourself.

-Ken



-----Original Message-----
From: Simpson [mailto:asimpson@i-55.com]
Sent: Wednesday, March 16, 2005 10:21 AM
To: kmelero@sanz.com; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid


Ken,

Jasper is slow and Kakadu is cost prohibitive.
I guess I'll have to revert back to an earlier release, which is
unfortunate since the latest MrSid code rendering rate of sid files is
outstanding. Should I consider converting all jp2's to a more useable
format, or is this just a temporary condition.

Thanks,
Drew.

-----Original Message-----
From: Kenneth Melero [mailto:kmelero@sanz.com]
Sent: Wednesday, March 16, 2005 9:01 AM
To: 'Simpson'; gdal-dev@xserve.flids.com
Subject: RE: [Gdal-dev] JP2 with MrSid



Drew,

Actually MrSID JP2 support is currently commented out.  This was because
it was conflicting with the Kakadu JP2 library and I was trying to
figure this out before turning it back on.  I would suggest using either
Jasper or Kakadu to support your requirements at the moment.

-Ken


---
Kenneth Melero
Director of Imagery Science

SANZ Inc.
8245 Boone Blvd, Suite 800
Vienna, VA 22182

t 703.442.6630 x19
c 703.577.2333




-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
Sent: Tuesday, March 15, 2005 7:45 PM
To: gdal-dev@xserve.flids.com
Subject: [Gdal-dev] JP2 with MrSid


Greetings,

I installed the latest GDAL and MrSid, and am having trouble getting the
command line utilities to work with JP2 files.

#gdalinfo dq2807ne.jp2
> ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2
> GDALOpen failed - 1
> MrSIDDataset::Open(): Failed to open file dq2807ne.jp2

The file is from the dq2807.zip archive from
ftp://sjr.state.fl.us/2004_DOQQs/cir/

GDAL      --->  GDAL 1.2.6.0, released 2005/03/13

MRSID sdk --->  Geo_DSDK-4.0.10.720

OS        --->  Linux 2.4.20-20.8

Thanks for any suggestions,
Drew.


_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev




_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com
http://xserve.flids.com/mailman/listinfo/gdal-dev

From jdenisgiguere at fastmail.fm  Wed Mar 16 13:01:16 2005
From: jdenisgiguere at fastmail.fm (Jean-Denis Giguere)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] org: grass 6.0.0 vectors support
Message-ID: <4238746C.2040100@fastmail.fm>

Within grass 6.0.0, we can export and import vector formats using ogr. I 
would like to know why grass is not listed as an ogr supported format 
and avalaible within interface like ogr2ogr and mapserver ogr support ?

Greetings,

Jean-Denis

-- 
Jean-Denis Gigu?re
?tudiant en g?omatique
appliqu?e ? l'environnement
Stagiaire ? l'Agence de d?veloppement
de r?seaux locaux de services de sant?
et de services sociaux de l'Estrie
T?l. 829-3400 42008
Courriel. jdenisgiguere@fastmail.fm

From fwarmerdam at gmail.com  Wed Mar 16 13:11:56 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] org: grass 6.0.0 vectors support
In-Reply-To: <4238746C.2040100@fastmail.fm>
References: <4238746C.2040100@fastmail.fm>
Message-ID: <931f8ea9050316101156d15979@mail.gmail.com>

On Wed, 16 Mar 2005 13:01:16 -0500, Jean-Denis Giguere
<jdenisgiguere@fastmail.fm> wrote:
> Within grass 6.0.0, we can export and import vector formats using ogr. I
> would like to know why grass is not listed as an ogr supported format
> and avalaible within interface like ogr2ogr and mapserver ogr support ?

Jean-Denis, 

It is not listed as an OGR supported format because it is not
a format supported by OGR.

The v.in.ogr and v.out.ogr programs use the OGR API to
access non-GRASS vector formats, but use the GRASS 
API to read and write GRASS vector files.  

It is my hope to one day implement OGR vector support, 
but that is a fair effort in part because GRASS uses a 
topological vector model while OGR uses a simple features
model.  There are also the dependecy issues that have 
complicated use of the GDAL GRASS driver. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From sevilla_lui at gva.es  Wed Mar 16 13:33:24 2005
From: sevilla_lui at gva.es (Luis W. Sevilla)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] JP2 with MrSid
In-Reply-To: <ED3A48B9840E594890A2BC172D11946501D00028@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946501D00028@mailman.san.com>
Message-ID: <42387BF4.1060708@gva.es>

Using the jpeg200 support in ermapper ECW sdk wodn't be an alternative?
greetings
    Luis
Chapman, Martin wrote:

>FYI, 
>
>I think MrSID JP2 actually uses Kakadu under the hood.  You might ask
>LizardTech.
>
>Martin
>
>-----Original Message-----
>From: gdal-dev-bounces@xserve.flids.com
>[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Kenneth Melero
>Sent: Wednesday, March 16, 2005 9:23 AM
>To: 'Simpson'; gdal-dev@xserve.flids.com
>Subject: RE: [Gdal-dev] JP2 with MrSid
>
>
>
>Great!!!
>
>-Ken
>
>-----Original Message-----
>From: Simpson [mailto:asimpson@i-55.com] 
>Sent: Wednesday, March 16, 2005 11:22 AM
>To: kmelero@sanz.com; gdal-dev@xserve.flids.com
>Subject: RE: [Gdal-dev] JP2 with MrSid
>
>
>That worked!  Back in action...
>
>Thanks,
>Drew.
>
>-----Original Message-----
>From: Kenneth Melero [mailto:kmelero@sanz.com]
>Sent: Wednesday, March 16, 2005 9:38 AM
>To: 'Simpson'; gdal-dev@xserve.flids.com
>Subject: RE: [Gdal-dev] JP2 with MrSid
>
>
>
>It'll be lines 1050-1052 and 1101-1105.
>
>You may also need to add the header:   "J2KImageReader.h"
>
>Try that...
>
>-Ken
>
>-----Original Message-----
>From: Simpson [mailto:asimpson@i-55.com]
>Sent: Wednesday, March 16, 2005 10:31 AM
>To: kmelero@sanz.com; gdal-dev@xserve.flids.com
>Subject: RE: [Gdal-dev] JP2 with MrSid
>
>
>OK, I think I saw the lines your referring to, but if you would give me
>line numbers, I'll try it on this end.
>
>Thanks,
>Drew.
>
>-----Original Message-----
>From: Kenneth Melero [mailto:kmelero@sanz.com]
>Sent: Wednesday, March 16, 2005 9:21 AM
>To: 'Simpson'; gdal-dev@xserve.flids.com
>Subject: RE: [Gdal-dev] JP2 with MrSid
>
>
>
>This is temporary.  I can uncomment and resubmit to the CVS baseline but
>would require you to compile your version of GDAL.  This should work.
>It is actually like 2 lines in the mrsiddataset.cpp file.  You can even
>try it yourself.
>
>-Ken
>
>
>
>-----Original Message-----
>From: Simpson [mailto:asimpson@i-55.com]
>Sent: Wednesday, March 16, 2005 10:21 AM
>To: kmelero@sanz.com; gdal-dev@xserve.flids.com
>Subject: RE: [Gdal-dev] JP2 with MrSid
>
>
>Ken,
>
>Jasper is slow and Kakadu is cost prohibitive.
>I guess I'll have to revert back to an earlier release, which is
>unfortunate since the latest MrSid code rendering rate of sid files is
>outstanding. Should I consider converting all jp2's to a more useable
>format, or is this just a temporary condition.
>
>Thanks,
>Drew.
>
>-----Original Message-----
>From: Kenneth Melero [mailto:kmelero@sanz.com]
>Sent: Wednesday, March 16, 2005 9:01 AM
>To: 'Simpson'; gdal-dev@xserve.flids.com
>Subject: RE: [Gdal-dev] JP2 with MrSid
>
>
>
>Drew,
>
>Actually MrSID JP2 support is currently commented out.  This was because
>it was conflicting with the Kakadu JP2 library and I was trying to
>figure this out before turning it back on.  I would suggest using either
>Jasper or Kakadu to support your requirements at the moment.
>
>-Ken
>
>
>---
>Kenneth Melero
>Director of Imagery Science
>
>SANZ Inc.
>8245 Boone Blvd, Suite 800
>Vienna, VA 22182
>
>t 703.442.6630 x19
>c 703.577.2333
>
>
>
>
>-----Original Message-----
>From: gdal-dev-bounces@xserve.flids.com
>[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Simpson
>Sent: Tuesday, March 15, 2005 7:45 PM
>To: gdal-dev@xserve.flids.com
>Subject: [Gdal-dev] JP2 with MrSid
>
>
>Greetings,
>
>I installed the latest GDAL and MrSid, and am having trouble getting the
>command line utilities to work with JP2 files.
>
>#gdalinfo dq2807ne.jp2
>  
>
>>ERROR 1: MrSIDDataset::Open(): Failed to open file dq2807ne.jp2
>>GDALOpen failed - 1
>>MrSIDDataset::Open(): Failed to open file dq2807ne.jp2
>>    
>>
>
>The file is from the dq2807.zip archive from
>ftp://sjr.state.fl.us/2004_DOQQs/cir/
>
>GDAL      --->  GDAL 1.2.6.0, released 2005/03/13
>
>MRSID sdk --->  Geo_DSDK-4.0.10.720
>
>OS        --->  Linux 2.4.20-20.8
>
>Thanks for any suggestions,
>Drew.
>
>  
>
-- 
  Luis W. Sevilla
  Equipo de desarrollo gvSIG
  Conselleria de Infraestructuras y Transporte
  Generalitat Valenciana
  Valencia - Spain
  http://www.gvsig.gva.es



From rhysi at omnilink.com.au  Wed Mar 16 21:03:38 2005
From: rhysi at omnilink.com.au (Rhys Ickeringill)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] ogr2ogr and the MapInfo and PostGIS drivers
Message-ID: <004701c52a95$8ed42a50$1501a8c0@omnilink.com.au>

Hi List,

There seems to be no documentation defining the "format specific" data
source and layer creation options for the OGR MapInfo driver. Am I correct
in assuming there are none?

Hunting around in the OGR source (looking for the above) I also noted an
undocumented "-nlt" option for ogr2ogr that seems to allow me to do what I
need (create a PostGIS layer with a manually specified type). Should it not
be used? Is there an "official" way to do this?

Finally, does the MapInfo driver make use of index files (*.ind) created by
MapInfo Pro? Are there other ways to speed up MapServer's rendering of
layers which use the OGR MapInfo driver?

eg. I have the MapServer layer definition (irrelevant directives removed):

LAYER
    TYPE line
    CONNECTIONTYPE ogr
    CONNECTION roads.tab
    DATA "select * from roads where roadtype = 1"
END

Given that roads.tab is BIG, is there some way I can speed up the rendering
of this layer? Or is pre-splitting roads.tab into multiple files based on
the roadtype attribute going to be the best option?

TIA

Rhys


From fwarmerdam at gmail.com  Wed Mar 16 22:08:11 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] ogr2ogr and the MapInfo and PostGIS drivers
In-Reply-To: <004701c52a95$8ed42a50$1501a8c0@omnilink.com.au>
References: <004701c52a95$8ed42a50$1501a8c0@omnilink.com.au>
Message-ID: <931f8ea905031619082238905@mail.gmail.com>

On Thu, 17 Mar 2005 13:03:38 +1100, Rhys Ickeringill
<rhysi@omnilink.com.au> wrote:
> Hi List,
> 
> There seems to be no documentation defining the "format specific" data
> source and layer creation options for the OGR MapInfo driver. Am I correct
> in assuming there are none?

Rhys, 

The drv_mitab.html (http://www.gdal.org/ogr/drv_mitab.html) is the place
where all format specific creation options and issues should be discussed.
I am not aware of any creation options missing from that document, but 
there could easily be.  I see this document does not discuss the spatial
indexing for Mapinfo TAB files at all. 
 
> Hunting around in the OGR source (looking for the above) I also noted an
> undocumented "-nlt" option for ogr2ogr that seems to allow me to do what I
> need (create a PostGIS layer with a manually specified type). Should it not
> be used? Is there an "official" way to do this?

The -nlt is the correct way to fix a particular geometry type for a layer. 
I see it was properly described in the ogr2ogr usage message, but
not in the online documentation. I have added it.
 
> Finally, does the MapInfo driver make use of index files (*.ind) created by
> MapInfo Pro? Are there other ways to speed up MapServer's rendering of
> layers which use the OGR MapInfo driver?

Somwhat oddly, MITAB can read attribute indices, but OGR provides
no support for using them to accelerate attributes queries.  However, 
the OGR shapefile driver actually uses Mapinfo .ind format for attribute
indexing and does accelerate some queries using them.   In any event, 
the result is that attribute indexes are not utilized for mapinfo formats at
this time. 

I would add that mapinfo .tab spatial indexes are used to speed up
spatial filtering. 

> eg. I have the MapServer layer definition (irrelevant directives removed):
> 
> LAYER
>     TYPE line
>     CONNECTIONTYPE ogr
>     CONNECTION roads.tab
>     DATA "select * from roads where roadtype = 1"
> END
> 
> Given that roads.tab is BIG, is there some way I can speed up the rendering
> of this layer? Or is pre-splitting roads.tab into multiple files based on
> the roadtype attribute going to be the best option?

There can be very serious performance issues with use of 
OGR layers in MapServer (really just with query operations) 
when using the SQL statement style of DATA statement, so I 
generally discourage it in performance sensitive situations. 

In your case if performance is a problem, I would indeed suggest
you pre-extract the specific road types you want to render into 
seperate files ahead of time. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Thu Mar 17 01:59:26 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] VB6 Bindings for GDAL
Message-ID: <931f8ea905031622593f636f69@mail.gmail.com>

Folks,

On behalf of UN FAO I have completed a preliminary implementation
of Visual Basic 6 bindings for GDAL.   If anyone else is interested
in using these, feel free to contact me for details.  

The following is an example of a VB6 script that uses GDAL. 

Private Sub mnuCreate_Click()
    Dim SrcFilename As String, DstFilename As String
    Dim Drv As GDALDriver
    Dim SrcDS As GDALDataset, DstDS As GDALDataset
        
    SrcFilename = "BV02021.CA"
    DstFilename = "out_create.tif"
    
    Call GDALCore.GDALAllRegister
    Set SrcDS = GDAL.OpenDS(SrcFilename, GDAL.GA_ReadOnly)
    
    Set Drv = GDAL.GetDriverByName("GTiff")
    Set DstDS = Drv.Create(DstFilename, SrcDS.XSize, SrcDS.YSize, _
                           SrcDS.BandCount, GDAL.GDT_Byte, Nothing)
    If DstDS.IsValid() Then
        Print "Create Succeeded"
    Else
        Print "Create Failed: " & GDAL.GetLastErrorMsg()
    End If
    
    ' Copy geotransform
    Dim gt(6) As Double
    
    Call SrcDS.GetGeoTransform(gt)
    Call DstDS.SetGeoTransform(gt)
    
    ' Copy projection
    Call DstDS.SetProjection(SrcDS.GetProjection())
    
    ' Copy metadata.
    Call DstDS.SetMetadata(SrcDS.GetMetadata(""), "")
    
    ' Copy band info
    Dim Scanline() As Double
    ReDim Scanline(SrcDS.XSize) As Double
   
    For iBand = 1 To SrcDS.BandCount
        Dim SrcBand As GDALRasterBand, DstBand As GDALRasterBand
        
        Set SrcBand = SrcDS.GetRasterBand(iBand)
        Set DstBand = DstDS.GetRasterBand(iBand)
        
        Call DstBand.SetMetadata(SrcBand.GetMetadata(""), "")
        Call DstBand.SetOffset(SrcBand.GetOffset())
        Call DstBand.SetScale(SrcBand.GetScale())
        
        Dim NoDataValue As Double, Success As Long
        
        NoDataValue = SrcBand.GetNoDataValue(Success)
        If Success <> 0 Then
            Call DstBand.SetNoDataValue(NoDataValue)
        End If
        
        ' Copy band raster data.
        For iLine = 0 To SrcDS.YSize - 1
            Call SrcBand.RasterIO(GDAL.GF_Read, 0, iLine, SrcDS.XSize,
1, Scanline)
            Call DstBand.RasterIO(GDAL.GF_Write, 0, iLine,
SrcDS.XSize, 1, Scanline)
        Next iLine
    Next iBand
    
    Call DstDS.CloseDS
    Call SrcDS.CloseDS
    
    Print "Copy seems to have completed."
End Sub

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From tflynch at gmail.com  Thu Mar 17 02:13:08 2005
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal with ECW JPEG 2000 SDK v3.1
In-Reply-To: <1d8201c528ce$fb6fcf70$160002c0@shark>
References: <1d8201c528ce$fb6fcf70$160002c0@shark>
Message-ID: <c39b2a65050316231352c8942a@mail.gmail.com>

I previously responded to Brent off list on this topic, but for the
benefit of anyone else wishing to enable unlimited compression to ECW
and JPEG 2000 via GDAL and the ECW JPEG 2000 SDK, these are the
specific changes that are necessary in the GDAL source code (both are
calls to CNCSFile::SetKeySize):

1. Changes to ecwcreatecopy.cpp:

-----------------------------------------
CPLErr GDALECWCompressor::Initialize(
    const char *pszFilename, char **papszOptions,
    int nXSize, int nYSize, int nBands,
    GDALDataType eType,
    const char *pszWKT, double *padfGeoTransform,
    int bIsJPEG2000 )

{
    SetKeySize();
-----------------------------------------

2. Changes to ecwdataset.cpp:

-----------------------------------------

GDALDataset *ECWDataset::Open( GDALOpenInfo * poOpenInfo )

<snip>

/* -------------------------------------------------------------------- */
/*      Open the client interface.                                      */
/* -------------------------------------------------------------------- */
    if( poFileView == NULL )
    {
        poFileView = new CNCSFile();
        poFileView->SetKeySize();
-----------------------------------------

These two lines are needed in addition to linking with NCSEcwCu.lib
(or libNCSEcwCu.o if you're building the SDK from source on *NIX) for
unlimited compression.

-- 
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com

On Mon, 14 Mar 2005 12:49:49 -0700, Brent Fraser
<bfraser@geoanalytic.com> wrote:
> Frank,
> 
>    I've been trying to get gdal_translate to compress a 700gb tiff image to
> ECW (on win2k).  This is greater than the 500gb limit imposed by the ECW SDK
> prior to v3.0.  According to the ECW SDK v3.1 doc:
> 
> "If you wish to enable unlimited compression to the ECW or JPEG 2000 formats
> (as permitted by the Public and Commercial Use License Agreements), you must
> link your application with NCSEcwCu.lib instead of NCSEcwC.lib. "
> 
> So I linked gdal_translate with NCSEcwCu.lib and ran it to get the
> following:
> 
> C:\gdal\gdal-1.2.6\apps>gdal_translate -of ECW  321fuse.tif 321fuse.ecw
> Input file size is 17100, 15340
> 0.100 - done.
> ERROR 4: `321fuse.ecw' does not exist in the file system,
> and is not recognised as a supported dataset name.
> 
> But it works fine on images less than 500mb.  I compiled the
> NCSSource_3.1rc1_18Feb05 version, but got the same result.
> 
> Have you tested gdal with the unlimited-compression ECW library?  Any other
> things I need to do?
> 
> Thanks!
> Brent Fraser
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev
>

From RJoslyn at etg-sadi.com  Thu Mar 17 09:10:59 2005
From: RJoslyn at etg-sadi.com (Ray Joslyn)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] distribution of unlimited ecw/jp2 files
Message-ID: <0C6B93DDE9B0F447854E45B850C1109C01959D@etginc.etg.local>

With the creation of ecw or jp2 files using the gpl unlimited ecw
jpeg200 SDK license from ERMapper, is the distribution of these
compressed files acceptable under the agreement (either free or for
fee)?  Perhaps Tom could enlighten us here.


Thanks

Ray

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050317/60396285/attachment.html
From fwarmerdam at gmail.com  Thu Mar 17 09:38:28 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal with ECW JPEG 2000 SDK v3.1
In-Reply-To: <c39b2a65050316231352c8942a@mail.gmail.com>
References: <1d8201c528ce$fb6fcf70$160002c0@shark>
	<c39b2a65050316231352c8942a@mail.gmail.com>
Message-ID: <931f8ea905031706384dd31161@mail.gmail.com>

On Thu, 17 Mar 2005 15:13:08 +0800, Tom Lynch <tflynch@gmail.com> wrote:
> I previously responded to Brent off list on this topic, but for the
> benefit of anyone else wishing to enable unlimited compression to ECW
> and JPEG 2000 via GDAL and the ECW JPEG 2000 SDK, these are the
> specific changes that are necessary in the GDAL source code (both are
> calls to CNCSFile::SetKeySize):
> 
> 1. Changes to ecwcreatecopy.cpp:
> 
> -----------------------------------------
> CPLErr GDALECWCompressor::Initialize(
>     const char *pszFilename, char **papszOptions,
>     int nXSize, int nYSize, int nBands,
>     GDALDataType eType,
>     const char *pszWKT, double *padfGeoTransform,
>     int bIsJPEG2000 )
> 
> {
>     SetKeySize();

Folks, 

I have changed the GDAL code in CVS (but after the 1.2.6 release) 
so that this call is made if the ECW_LARGE_OK configuration option
is set to YES.  Configuration options can be set at the commandline
using the --config option (eg. --config ECW_LARGE_OK YES),
as environment variables or at the API level by calling 
CPLSetConfigOption().   Please only do this if you are complying
with the appropriate licensing requirements. 

> 2. Changes to ecwdataset.cpp:
> 
> -----------------------------------------
> 
> GDALDataset *ECWDataset::Open( GDALOpenInfo * poOpenInfo )
> 
> <snip>
> 
> /* -------------------------------------------------------------------- */
> /*      Open the client interface.                                      */
> /* -------------------------------------------------------------------- */
>     if( poFileView == NULL )
>     {
>         poFileView = new CNCSFile();
>         poFileView->SetKeySize();
> -----------------------------------------
> 
> These two lines are needed in addition to linking with NCSEcwCu.lib
> (or libNCSEcwCu.o if you're building the SDK from source on *NIX) for
> unlimited compression.

Tom - what does this do?  Is SetKeySize() needed to *read* large
ECW files? 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jed.kaplan at jrc.it  Thu Mar 17 10:48:50 2005
From: jed.kaplan at jrc.it (Jed O. Kaplan)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: Large file support on MacOS X
Message-ID: <f1207704837c86b2dcb7c68ab52308aa@jrc.it>

Hello,

I am using gdal 1.2.6 from CVS on Mac OS X (10.3).

I recently saw the discussion on large files on Gdal-dev and am having 
similar problems, trying to use gdal_translate to convert a ~15Gb 
raster file in Erdas large file format (.img+.ige) to another format.  
The gdal_translate fails about 10% into the job with the following 
error:

ERROR 3: Seek to 80000cad:80000cad on 0xa0009920 failed
invalid argument
ERROR 1: IReadBlock failed at X offset 990, Y offset 217
ERROR 1: GetBlockRef failed at X block offset 990, Y block offset 217

Has anyone managed to solve large file support for GDAL on MacOS X?

Thanks for your help.

Cheers,

Jed Kaplan

--

> [Gdal-dev] Large file support on MacOS X
> Jonathan Greenberg  usenet at estarcion.net
>  Mon Jan 24 11:20:13 EST 2005
>
> 	? 	Previous message: [Gdal-dev] Fwd: Warning again
> 	? 	 Next message: [Gdal-dev] Large file support on MacOS X
> 	? 	 Messages sorted by:  [ date ]  [ thread ]  [ subject ]  [ author ]
> Has anyone tried to get GDAL compiled under MacOS X and have it work 
> for
> large (> 4gb) files?  If so, what flags do I need to add to the 
> compiler to
> get it to work?
>
> --j
>


From pgao at esri.com  Thu Mar 17 12:48:50 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] NITF and colorinterp
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40479C2A5@zipwire.esri.com>

I have a NITF image that has the following
colorinterp:

Band 1 Block=640x480 Type=Byte, ColorInterp=YCbCr_Y
Band 2 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cb
Band 3 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cr

and GDALRasterBand::GetBlockRef(0,0) returns a null
block. Is this type of colorinterp supported?

Thanks,
Gao, Peng

From fwarmerdam at gmail.com  Thu Mar 17 14:01:03 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] NITF and colorinterp
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40479C2A5@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40479C2A5@zipwire.esri.com>
Message-ID: <931f8ea905031711011c85ede0@mail.gmail.com>

On Thu, 17 Mar 2005 09:48:50 -0800, Peng Gao <pgao@esri.com> wrote:
> I have a NITF image that has the following
> colorinterp:
> 
> Band 1 Block=640x480 Type=Byte, ColorInterp=YCbCr_Y
> Band 2 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cb
> Band 3 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cr
> 
> and GDALRasterBand::GetBlockRef(0,0) returns a null
> block. Is this type of colorinterp supported?

Peng, 

What compression type is in use?  Currently the GDAL NITF 
driver does not have any support for decompressing JPEG
compressed NITF files, and given that it is a YCbCr color
space, I suspect that is what you are running into. 

Some work was done recently to allow JPEG2000 images
in the YCbCr colorspace in NITF to be returned to the 
application still in the YCbCr color space.  I think this depends
on the CPL configuration option CONVERT_YCBCR_TO_RGB
being set to NO.  Othewise YCbCr images are automatically
converted to RGB internally.  

However, even in the (default) case where YCbCr images
are converted to RGB internally I *think* that the NITFDataset
will still return the YCbCr band types.  This is a bug, and if
you want it fixed please file a bug. 

Generally speaking, color space issues get murky with regard
to YCbCr and especially NITF.  Also, some differences may
be encountered depending on whether the ECW or Kakadu
based JPEG2000 readers are in use.  In fact, I don't know
what the JasPer and MrSID JPEG2000 interfaces do with
YCbCr files. 

Finally, when you ask "is this type of colorinterp supported", 
keep in mind that in adding support for YCbCr color mode, 
essentially all I did was prevent it from being reprocessed into
RGB internally in some cases.  GDAL provides no higher level
support for doing anything intelligent with YCbCr images.  It just
tries to return the data unchanged with the correct band color
interpretation information attached. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pgao at esri.com  Thu Mar 17 14:16:39 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] NITF and colorinterp
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40479C2A6@zipwire.esri.com>

Thanks Frank.

Converting to RGB is what I am hoping for. Seems like the null pixel block
is caused by compression. I can't find compression info. Here is
the dump from gdalinfo:

F:\ArcGIS>gdalinfo  house.ntf
Driver: NITF/National Imagery Transmission Format
Size is 640, 480
Coordinate System is `'
GCP Projection = GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,29
257223563,AUTHORITY["EPSG","7030"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG",
"6
6"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.01745329
25
9433,AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXIS["Long",EAST],AUTHORITY
["
SG","4326"]]
GCP[  0]: Id=UpperLeft, Info=
          (0,0) -> (-121.978,36.9569,0)
GCP[  1]: Id=UpperRight, Info=
          (640,0) -> (-121.961,36.905,0)
GCP[  2]: Id=LowerLeft, Info=
          (0,480) -> (-122.024,36.9356,0)
GCP[  3]: Id=LowerRight, Info=
          (640,480) -> (-122.014,36.9058,0)
Metadata:
  NITF_FHDR=NITF02.00
  NITF_CLEVEL=03
  NITF_STYPE=
  NITF_OSTAID=TCS
  NITF_FDT=11215408ZJun99
  NITF_FTITLE=
             U
  NITF_FSCLAS=U
  NITF_FSCODE=
  NITF_FSCTLH=
  NITF_FSREL=
  NITF_FSCAUT=
  NITF_FSCTLN=
  NITF_FSDWNG=
  NITF_FSCOP=
  NITF_FSCPYS=
  NITF_ENCRYP=0
  NITF_ONAME=
  NITF_OPHONE=
  NITF_IID1=0000000000
  NITF_IDATIM=11215408ZJun99
  NITF_TGTID=
  NITF_ITITLE=
  NITF_ISCLAS=U
  NITF_ISCODE=
  NITF_ISCTLH=NOFORN
  NITF_ISREL=
  NITF_ISCAUT=DOD S-5210.51 (M-1)
  NITF_ISCTLN=
  NITF_ISDWNG=999999
  NITF_ISORCE=12345678
  NITF_PVTYPE=INT
  NITF_IREP=YCbCr601
  NITF_ICAT=VIS
  NITF_ABPP=08
  NITF_PJUST=R
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  480.0)
Upper Right (  640.0,    0.0)
Lower Right (  640.0,  480.0)
Center      (  320.0,  240.0)
Band 1 Block=640x480 Type=Byte, ColorInterp=YCbCr_Y
Band 2 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cb
Band 3 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cr
 

> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com]
> Sent: Thursday, March 17, 2005 11:01 AM
> To: Peng Gao
> Cc: GDAL-dev list
> Subject: Re: [Gdal-dev] NITF and colorinterp
> 
> 
> On Thu, 17 Mar 2005 09:48:50 -0800, Peng Gao <pgao@esri.com> wrote:
> > I have a NITF image that has the following
> > colorinterp:
> > 
> > Band 1 Block=640x480 Type=Byte, ColorInterp=YCbCr_Y
> > Band 2 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cb
> > Band 3 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cr
> > 
> > and GDALRasterBand::GetBlockRef(0,0) returns a null
> > block. Is this type of colorinterp supported?
> 
> Peng, 
> 
> What compression type is in use?  Currently the GDAL NITF 
> driver does not have any support for decompressing JPEG
> compressed NITF files, and given that it is a YCbCr color
> space, I suspect that is what you are running into. 
> 
> Some work was done recently to allow JPEG2000 images
> in the YCbCr colorspace in NITF to be returned to the 
> application still in the YCbCr color space.  I think this depends
> on the CPL configuration option CONVERT_YCBCR_TO_RGB
> being set to NO.  Othewise YCbCr images are automatically
> converted to RGB internally.  
> 
> However, even in the (default) case where YCbCr images
> are converted to RGB internally I *think* that the NITFDataset
> will still return the YCbCr band types.  This is a bug, and if
> you want it fixed please file a bug. 
> 
> Generally speaking, color space issues get murky with regard
> to YCbCr and especially NITF.  Also, some differences may
> be encountered depending on whether the ECW or Kakadu
> based JPEG2000 readers are in use.  In fact, I don't know
> what the JasPer and MrSID JPEG2000 interfaces do with
> YCbCr files. 
> 
> Finally, when you ask "is this type of colorinterp supported", 
> keep in mind that in adding support for YCbCr color mode, 
> essentially all I did was prevent it from being reprocessed into
> RGB internally in some cases.  GDAL provides no higher level
> support for doing anything intelligent with YCbCr images.  It just
> tries to return the data unchanged with the correct band color
> interpretation information attached. 
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 

From fwarmerdam at gmail.com  Thu Mar 17 14:33:22 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] NITF and colorinterp
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40479C2A6@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40479C2A6@zipwire.esri.com>
Message-ID: <931f8ea9050317113315450f34@mail.gmail.com>

On Thu, 17 Mar 2005 11:16:39 -0800, Peng Gao <pgao@esri.com> wrote:
> Thanks Frank.
> 
> Converting to RGB is what I am hoping for. Seems like the null pixel block
> is caused by compression. I can't find compression info. Here is
> the dump from gdalinfo:

Peng,

Dang, I see the GDAL metadata does not include the compression
code.  I have committed a change to nitfdataset.cpp to include reporting
the IC and IMODE values as metadata.   If the file is JPEG compressed
you should see it as IC=C8. 

Also, do you not get any error message issued when you get NULL 
back from the GetBlock() call? When I issue "gdalinfo -mm test.ntf" 
on the commandline for a JPEG compressed file I get the following
message:

ERROR 6: Unsupported imagery compression format C3 in NITF library.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pgao at esri.com  Thu Mar 17 14:37:00 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] NITF and colorinterp
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40479C2A7@zipwire.esri.com>

I got the following for gdalinfo -mm

Band 1 Block=640x480 Type=Byte, ColorInterp=YCbCr_Y
  ERROR 6: Unsupported imagery compression format C3 in NITF library.
ERROR 1: IReadBlock failed at X offset 0, Y offset 0
  Computed Min/Max=0.000,0.000
Band 2 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cb
  ERROR 6: Unsupported imagery compression format C3 in NITF library.
ERROR 1: IReadBlock failed at X offset 0, Y offset 0
  Computed Min/Max=0.000,0.000
Band 3 Block=640x480 Type=Byte, ColorInterp=YCbCr_Cr
  ERROR 6: Unsupported imagery compression format C3 in NITF library.
ERROR 1: IReadBlock failed at X offset 0, Y offset 0
  Computed Min/Max=0.000,0.000

What's C3 compression?

> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com]
> Sent: Thursday, March 17, 2005 11:33 AM
> To: Peng Gao
> Cc: GDAL-dev list
> Subject: Re: [Gdal-dev] NITF and colorinterp
> 
> 
> On Thu, 17 Mar 2005 11:16:39 -0800, Peng Gao <pgao@esri.com> wrote:
> > Thanks Frank.
> > 
> > Converting to RGB is what I am hoping for. Seems like the 
> null pixel block
> > is caused by compression. I can't find compression info. Here is
> > the dump from gdalinfo:
> 
> Peng,
> 
> Dang, I see the GDAL metadata does not include the compression
> code.  I have committed a change to nitfdataset.cpp to 
> include reporting
> the IC and IMODE values as metadata.   If the file is JPEG compressed
> you should see it as IC=C8. 
> 
> Also, do you not get any error message issued when you get NULL 
> back from the GetBlock() call? When I issue "gdalinfo -mm test.ntf" 
> on the commandline for a JPEG compressed file I get the following
> message:
> 
> ERROR 6: Unsupported imagery compression format C3 in NITF library.
> 
> Best regards,
> --
> ---------------------------------------+----------------------
> ----------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 

From fwarmerdam at gmail.com  Thu Mar 17 14:38:08 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] NITF and colorinterp
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40479C2A7@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40479C2A7@zipwire.esri.com>
Message-ID: <931f8ea905031711386afa1e11@mail.gmail.com>

On Thu, 17 Mar 2005 11:37:00 -0800, Peng Gao <pgao@esri.com> wrote:
> I got the following for gdalinfo -mm
> 
> Band 1 Block=640x480 Type=Byte, ColorInterp=YCbCr_Y
>   ERROR 6: Unsupported imagery compression format C3 in NITF library.
> ERROR 1: IReadBlock failed at X offset 0, Y offset 0
>   Computed Min/Max=0.000,0.000

Peng, 

C3 is plain JPEG compression (as opposed to JPEG2000 which I think
is C8). 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From asimpson at i-55.com  Thu Mar 17 16:37:16 2005
From: asimpson at i-55.com (Simpson)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] ogr2ogr
In-Reply-To: <931f8ea905031711386afa1e11@mail.gmail.com>
Message-ID: <NFBBKOADOLGDLPMAAHMDGEABDBAA.asimpson@i-55.com>

Greetings,

I can't seem to get the hang of the -a_srs parameter of ogr2ogr.
I couldn't get the EPSG version to work at all, but did get WKT to work,
until I pointed it at a different PostGis server and now it is back to
creating tables with 32767 as the SRID instead of sought after 4269.

How/where does ogr2ogr validate and use the -a_srs parameter?

I am sure I am doing something wrong...

Thanks for any info,
Drew.



From fwarmerdam at gmail.com  Sat Mar 19 10:27:01 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [GRASSLIST:6160] Re: r.proj and gdawarp give
	differernt results
In-Reply-To: <00ef01c52c09$5dd44f50$20d21d3e@eustahiush>
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
	<Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
	<931f8ea9050313201319742d28@mail.gmail.com>
	<008101c52893$011b3130$25d21d3e@eustahiush>
	<931f8ea905031410258d358c5@mail.gmail.com>
	<012501c528e0$5981a0a0$65d21d3e@eustahiush>
	<931f8ea9050314141059ec0387@mail.gmail.com>
	<00ef01c52c09$5dd44f50$20d21d3e@eustahiush>
Message-ID: <931f8ea9050319072780e8746@mail.gmail.com>

Maciek,

I see the different in the warp results that you are mentioning.  I have
picked a particular pixel that differs in the two results and I have
"manually" processed it.  

The summary is that with my understanding of the coordinate system 
conversion taking place, gdalwarp appears to have done the right 
thing.  Either there is an issue in the rproj algorithm, or more likely 
there is a subtle difference in the actual reprojection operation taking 
place in rproj due to differences in coordinate system detail handling 
between gdal and GRASS.  

Particular points to watch for is whether there might be some
reason that r.proj is actually applying a datum shift.  It is also
possible that I kept insufficient precision in my calculations, though
it seems to me that I kept enough. 

The point in question (feel free to check my results!) is:

Output Location
---------------

Value:       98 (75 in rproj)
Pixel/Line = 20.5, 11.5
Georef     = 337276.125, 279378.375
long/lat   = 16d42'41.641"E  50d21'32.477"N  (proj -I +init=epsg:2180)


GCS Conversion
--------------
The Geographic Coordinate System for EPSG 2180 is EPSG 4258 which is 
GRS80 with no datum shift information (in GDAL).  The GCS for the source
file is WGS84 (EPSG 4326) which is based on a WGS84 ellipsoid and is for
the precision of PROJ.4 identical to EPSG 4258. 

SPHEROID["WGS 84",  6378137,298.257223563]
SPHEROID["GRS 1980",6378137,298.257222101]

warmerda@gdal2200[164]% cs2cs +init=epsg:4258 +to +init=epsg:4326
16d42'41.641"E  50d21'32.477"N                  (input)
16d42'41.641"E  50d21'32.477"N -0.000           (output)


Input Location
--------------

long/lat    = 16d42'41.641"E  50d21'32.477"N
Georef      = 621743.762, 5579950.040    (proj -f '%.3f' +init=epsg:32633)
Pixel/Line  = 10.14, 10.56

Value: 98    (pixel 9.5,10.5 is value 75)

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From werchowyna at epf.pl  Sat Mar 19 15:06:38 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Re: [GRASSLIST:6160] Re: r.proj and gdawarp give
	differernt results
References: <008301c52800$c7575e70$78d21d3e@eustahiush>
	<Pine.LNX.4.60.0503131934170.5129@agrippa.ukshells.co.uk>
	<931f8ea9050313201319742d28@mail.gmail.com>
	<008101c52893$011b3130$25d21d3e@eustahiush>
	<931f8ea905031410258d358c5@mail.gmail.com>
	<012501c528e0$5981a0a0$65d21d3e@eustahiush>
	<931f8ea9050314141059ec0387@mail.gmail.com>
	<00ef01c52c09$5dd44f50$20d21d3e@eustahiush>
	<931f8ea9050319072780e8746@mail.gmail.com>
Message-ID: <006701c52cbf$6eac79e0$4cd21d3e@eustahiush>

Frank

From: "Frank Warmerdam" <fwarmerdam@gmail.com>

> Maciek,
>
> I see the different in the warp results that you are mentioning.  I have
> picked a particular pixel that differs in the two results and I have
> "manually" processed it.
>
> The summary is that with my understanding of the coordinate system
> conversion taking place, gdalwarp appears to have done the right
> thing.  Either there is an issue in the rproj algorithm, or more likely
> there is a subtle difference in the actual reprojection operation taking
> place in rproj due to differences in coordinate system detail handling
> between gdal and GRASS.
>
> Particular points to watch for is whether there might be some
> reason that r.proj is actually applying a datum shift.

Sorry if I missunderstood. Do you mean that r.proj is applying a datum shift 
here? That would be strange because for GRS80 Grass assumes towgs84=0,0,0. 
Paul - ?.

> It is also
> possible that I kept insufficient precision in my calculations, though
> it seems to me that I kept enough.
>
> The point in question (feel free to check my results!) is:
>
> Output Location
> ---------------
>
> Value:       98 (75 in rproj)
> Pixel/Line = 20.5, 11.5
> Georef     = 337276.125, 279378.375
> long/lat   = 16d42'41.641"E  50d21'32.477"N  (proj -I +init=epsg:2180)
>
>
> GCS Conversion
> --------------
> The Geographic Coordinate System for EPSG 2180 is EPSG 4258 which is
> GRS80 with no datum shift information (in GDAL).  The GCS for the source
> file is WGS84 (EPSG 4326) which is based on a WGS84 ellipsoid and is for
> the precision of PROJ.4 identical to EPSG 4258.
>
> SPHEROID["WGS 84",  6378137,298.257223563]
> SPHEROID["GRS 1980",6378137,298.257222101]
>
> warmerda@gdal2200[164]% cs2cs +init=epsg:4258 +to +init=epsg:4326
> 16d42'41.641"E  50d21'32.477"N                  (input)
> 16d42'41.641"E  50d21'32.477"N -0.000           (output)
>
>
> Input Location
> --------------
>
> long/lat    = 16d42'41.641"E  50d21'32.477"N
> Georef      = 621743.762, 5579950.040    (proj -f '%.3f' +init=epsg:32633)
> Pixel/Line  = 10.14, 10.56
>
> Value: 98    (pixel 9.5,10.5 is value 75)

Maciek


From tflynch at gmail.com  Mon Mar 21 00:18:49 2005
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal with ECW JPEG 2000 SDK v3.1
In-Reply-To: <931f8ea905031706384dd31161@mail.gmail.com>
References: <1d8201c528ce$fb6fcf70$160002c0@shark>
	<c39b2a65050316231352c8942a@mail.gmail.com>
	<931f8ea905031706384dd31161@mail.gmail.com>
Message-ID: <c39b2a6505032021185deab692@mail.gmail.com>

On Thu, 17 Mar 2005 09:38:28 -0500, Frank Warmerdam
<fwarmerdam@gmail.com> wrote:
> Tom - what does this do?  Is SetKeySize() needed to *read* >large
> ECW files?

The call just zeros a mask value that is used in a conditional check
when a destination file is opened for write.  The call must be made
each time a compression occurs as the mask is reset during
initialisation of the compression.

The call exists to protect developers from inadvertently going outside
the licensing agreements on the compression side.

Just to clarify, the call only affects compression operations and
should never introduce a restriction on the allowable file size for
reading (which is practically unlimited under all license agreements
in any case).

-- 
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com

From naumov at buffalo.edu  Mon Mar 21 16:31:30 2005
From: naumov at buffalo.edu (naumov@buffalo.edu)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Problem with gdalwarp on Win XP
Message-ID: <1111440690.423f3d329226e@mail1.buffalo.edu>

Dear Frank and developers,

I am having a strange problem with gdalwarp on Win XP and 2000. I run 
gdalwarp and get a windows error ("gdalwarp.exe has encountered an 
error and needs to close"), however the output from gdalwarp seems fine.

Since the output seems ok, I would not mind this so much, except that I 
need to run gdalwarp in a script to process many images, and having to 
click on "Dont send" several hundred times is very annoying.

Has anyone seen this? Here is my system info (detailed problem 
description below)

Win XP(+SP2) or Win 2000
FWTools0.9.6 for windows (binary)

----
Details:


I add GCPs to an image (saving to another image) with gdal_translate, 
then run gdalwarp on it. An example input image for gdalwarp looks like:

> gdalinfo temp_gtif.tif
Driver: GTiff/GeoTIFF
Size is 320, 240
Coordinate System is `'
GCP Projection = GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID
["WGS84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY
["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433
],AUTHORITY["EPSG","4326"]]
GCP[  0]: Id=1, Info=
          (0,0) -> (363002,713814,0)
GCP[  1]: Id=2, Info=
          (320,0) -> (362876,714000,0)
GCP[  2]: Id=3, Info=
          (0,240) -> (363142,713908,0)
GCP[  3]: Id=4, Info=
          (320,240) -> (363016,714095,0)
GCP[  4]: Id=5, Info=
          (160,120) -> (363009,713954,0)
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  240.0)
Upper Right (  320.0,    0.0)
Lower Right (  320.0,  240.0)
Center      (  160.0,  120.0)
Band 1 Block=256x256 Type=Byte, ColorInterp=Red
Band 2 Block=256x256 Type=Byte, ColorInterp=Green
Band 3 Block=256x256 Type=Byte, ColorInterp=Blue

When I run the following gdalwarp command:
> gdalwarp -of GTiff -tr 1 1 -rb -co "TFW=YES" -dstnodata 0 
temp_gtif.tif temp_gtif2.tif

gdalwarp shows progress:
Creating output file that is 266P x 281L.
:0...10...20...30...40...50...60...70...80...90...100 - done.

but I get a popup saying "gdalwarp.exe has encountered a problem and 
needs to close. ...". There is an option to report this to MS and 
review the technical info, which looks like a binary dump (sorry I am 
out of my league here), however there is no way to copy it (short of 
using multiple screen shots). There is also a file attached to the bug 
info, which begins like:
<?xml version="1.0" encoding="UTF-16"?>
<DATABASE>
<EXE NAME="gdalwarp.exe" FILTER="GRABMI_FILTER_PRIVACY">
    <MATCHING_FILE NAME="adrg.dll" SIZE="36864" CHECKSUM="0xDA394CD7" 
MODULE_TYPE="WIN32" PE_CHECKSUM="0x0"

If you find it useful, I'd be glad to send the file, of course. 

Interestingly:
   - it happens with the same particular input files (with about half 
of them), and not with others
   - it seems to depend on the input and output file names; if I tweek 
the names, for example to make them shorter, than gdalwarp goes through 
w/o any problem. Not sure, however if this will hold when I process a 
thousand images in batch mode...

The problem does not exist on Linux (FC2, GDAL 1.2.6 from source); 
unfortunately at work I am absolutely stuck with Win :-((

I would really appreciate any insight into this, as I need to crunch 
quite a few images.

Thank you,

Aleksey

From fwarmerdam at gmail.com  Mon Mar 21 16:37:34 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Problem with gdalwarp on Win XP
In-Reply-To: <1111440690.423f3d329226e@mail1.buffalo.edu>
References: <1111440690.423f3d329226e@mail1.buffalo.edu>
Message-ID: <931f8ea905032113377bb239a1@mail.gmail.com>

On Mon, 21 Mar 2005 16:31:30 -0500, naumov@buffalo.edu
<naumov@buffalo.edu> wrote:
> but I get a popup saying "gdalwarp.exe has encountered a problem and
> needs to close. ...". 

Aleksey,

It would likely be best for you to submit a bug report via bugzilla with
a pointer to a file I can use to reproduce the problem and the exact
commandline arguments you used.    Nothing leaps to mind as likely 
to be at fault. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From rhysi at omnilink.com.au  Mon Mar 21 22:59:07 2005
From: rhysi at omnilink.com.au (Rhys Ickeringill)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] possible ogr2ogr memory leak
Message-ID: <006b01c52e93$7f527df0$1501a8c0@omnilink.com.au>

Hi all.

I'm not sure, but I think I may have found a memory leak in ogr2ogr or one
of its' I/O drivers. Since I can't post the dataset publically I'll have to
debug this myself, and so I'd just like to confirm the behaviour described
really is incorrect.

During conversion of a large (~1Gb / 3 million record) MapInfo TAB file,
memory usage peaked at around 0.5Gb. No coordinate system transformations
were requested. Unless I have an almost impossibly complex geometry, this
seems like abnormal behaviour to me. The command line was:

ogr2ogr -f postgreSQL -lco DIM=2 -nln Roads -nlt MULTIPOLYGON -select
"Road_Name,Road_Type" PG: "ROADS.TAB"

Do people agree that this sounds like abnormal behaviour? The only reason I
can think that this would be expected is if the MITAB driver deliberately
keeps records it has fetched loaded indefinately. Is this the case?

Thank you for your thoughts,

Rhys


From fwarmerdam at gmail.com  Mon Mar 21 23:22:28 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] possible ogr2ogr memory leak
In-Reply-To: <006b01c52e93$7f527df0$1501a8c0@omnilink.com.au>
References: <006b01c52e93$7f527df0$1501a8c0@omnilink.com.au>
Message-ID: <931f8ea9050321202241255764@mail.gmail.com>

On Tue, 22 Mar 2005 14:59:07 +1100, Rhys Ickeringill
<rhysi@omnilink.com.au> wrote:
> During conversion of a large (~1Gb / 3 million record) MapInfo TAB file,
> memory usage peaked at around 0.5Gb. No coordinate system transformations
> were requested. Unless I have an almost impossibly complex geometry, this
> seems like abnormal behaviour to me. 

Rhys, 

How are you determining memory usage?  Some operation systems will
count disk file pages as part of the memory footprint of an application if
they remain in RAM for a while.  So, I tend not to take reports of memory
leaks based on system monitors very seriously. 

> The command line was:
> 
> ogr2ogr -f postgreSQL -lco DIM=2 -nln Roads -nlt MULTIPOLYGON -select
> "Road_Name,Road_Type" PG: "ROADS.TAB"
> 
> Do people agree that this sounds like abnormal behaviour? The only reason I
> can think that this would be expected is if the MITAB driver deliberately
> keeps records it has fetched loaded indefinately. Is this the case?

I would not expect any serious memory leaks.  The actual memory footprint
may depend on a variety of factors. 

I tried converting some polygonal mapinfo data into shapefiles, and 
run ogr2ogr under the valgrind utility which provides detailed reports
of heap memory still in use at the end of the application and there were
no reports that looked like they would scale up with the number of 
features.  So if there is a problem, it might be due to the specific nature
of your mapinfo file, or more likely on the postgres driver side of things.
I didn't try valgrind on a load to postgres since I suspect memory leak
testing would get messy there. 

I would suggest you try a few experiments (mapinfo to shape, shape to
postgres, etc) in an effort to isolate the which driver is likely responsible.
Also, do what you can to rule unhelpful system memory monitors. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From michele.sanges at otomelara.it  Tue Mar 22 09:27:54 2005
From: michele.sanges at otomelara.it (Michele Sanges)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Lat/Lon to UTM conversion
Message-ID: <42402B6A.1030300@otomelara.it>

In order to convert a geographic coordinate (lat/lon - WGS84) to a projected coordinate (UTM - NAD83), I writted the following code:


> OGRSpatialReference oUTM;
> oUTM.SetWellKnownGeogCS( "NAD83" ); // the target reference system
> OGRCoordinateTransformation *poTransform=OGRCreateCoordinateTransformation(&m_oSRS, &oUTM); // m_oSRS is the source reference system (WGS84)
 > if (poTransform == NULL)
 > 	return;
 >			
 > poTransform->Transform( 1, pfXproj, pfYproj );
 > delete poTransform;

It don't works, the Transform function returns TRUE, but the coordinate (*pfXproj,*pfYproj) remain immutate.
Moreover, how can I find the UTM zone?

Thanks.
Michele



From fwarmerdam at gmail.com  Tue Mar 22 10:03:21 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Lat/Lon to UTM conversion
In-Reply-To: <42402B6A.1030300@otomelara.it>
References: <42402B6A.1030300@otomelara.it>
Message-ID: <931f8ea90503220703111e9b04@mail.gmail.com>

On Tue, 22 Mar 2005 15:27:54 +0100, Michele Sanges
<michele.sanges@otomelara.it> wrote:
> In order to convert a geographic coordinate (lat/lon - WGS84) to a projected coordinate (UTM - NAD83), I writted the following code:
> 
> > OGRSpatialReference oUTM;
> > oUTM.SetWellKnownGeogCS( "NAD83" ); // the target reference system
> > OGRCoordinateTransformation *poTransform=OGRCreateCoordinateTransformation(&m_oSRS, &oUTM); // m_oSRS is the source reference system (WGS84)
>  > if (poTransform == NULL)
>  >      return;
>  >
>  > poTransform->Transform( 1, pfXproj, pfYproj );
>  > delete poTransform;
> 
> It don't works, the Transform function returns TRUE, but the coordinate (*pfXproj,*pfYproj) remain immutate.
> Moreover, how can I find the UTM zone?

Michele, 

First of all, you haven't done anything to actually make oUTM 
a UTM definition.  So you are effectively just trying to convert
from m_oSRS (presumably WGS84) to NAD83 which to the system
are considered identical.   Hence, no change. 

I think you want something like:

   OGRSpatialReference oUTM
   
   oUTM.SetUTM( 11 );
   oUTM.SetWellKnownGeogCS( "NAD83" );

    ...

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From rsheykhet at sanz.com  Tue Mar 22 18:40:43 2005
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] WGS84 to NAD27 failed to load NAD27-83 correction file
Message-ID: <ED3A48B9840E594890A2BC172D11946502FA8469@mailman.san.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Sheykhet, Rostic.vcf
Type: text/x-vcard
Size: 204 bytes
Desc: Sheykhet, Rostic.vcf
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050322/231b3a5f/SheykhetRostic.vcf
From fwarmerdam at gmail.com  Tue Mar 22 18:49:16 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] WGS84 to NAD27 failed to load NAD27-83 correction file
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502FA8469@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502FA8469@mailman.san.com>
Message-ID: <931f8ea90503221549287b7f9f@mail.gmail.com>

On Tue, 22 Mar 2005 16:40:43 -0700, Sheykhet, Rostic <rsheykhet@sanz.com> wrote:
>  
> 
> Hi all, 
> 
> I am trying to convert a WGS84 query envelope to NAD27.  It works fine for
> smaller areas, but on an envelope larger than continental US, I get a
> "failed to load NAD27-83 correction file" error.  What am I doing wrong?  

Rostic, 

The problem is that there is no datum shift file for most parts of the
world, so some of the points cannot be datum shifted when you go
outside valid areas. 

If you don't mind hacking the code a bit, you could modify 
proj/src/pj_datums.c so that the definition of nad27 is

"nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat,@null"

This basically means if none of the grids are match the point
to shift, apply the "null" grid which does nothing. 

> Perhaps on a related note, is there a way to get an envelope/bounding box of
> a coordinate reference system? 

No, I'm afraid not. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Peter.Nagy at vexcel.com  Tue Mar 22 19:11:33 2005
From: Peter.Nagy at vexcel.com (Pete Nagy)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] dlls
Message-ID: <Pine.CYG.4.58.0503221706420.3264@Thwack>


Hi all ->

  Does anyone have any prebuilt windows binaries for gdal+bindings, using
python2.4?

  I tried the fwtools versions, but I get errors saying 'python22.dll' or
'python23.dll' cannot be found, or if I make them available, then they
conflict with my newer python.

  Thanks,

-> Pete

--------------------------------------------------------------------

====================================================================
Pete Nagy                                        tel: (303) 583-0248
Vexcel Corporation                               fax: (303) 583-0246
http://www.vexcel.com                           home: (303) 823-2336
====================================================================


From hamish_nospam at yahoo.com  Tue Mar 22 21:01:47 2005
From: hamish_nospam at yahoo.com (Hamish)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] Lat/Lon to UTM conversion
In-Reply-To: <42402B6A.1030300@otomelara.it>
References: <42402B6A.1030300@otomelara.it>
Message-ID: <20050323140147.6cad07d8.hamish_nospam@yahoo.com>

> Moreover, how can I find the UTM zone?


I just put online a little script to do this.

"utm_which_zone.sh"

http://grass.gdf-hannover.de/twiki/bin/view/GRASS/GrassAddOns


The core is written for Matlab but works with the Free-software Octave
as well. If octave is installed you can just run the script from the
bash prompt.


shell script wrapper by Markus Neteler, matlab code by me.
license: GPL


or do a Google image search for "utm" and you will get a number 
of world maps with the zones displayed.



regards,
Hamish

From lorenzo.moretti at bologna.enea.it  Wed Mar 23 11:01:32 2005
From: lorenzo.moretti at bologna.enea.it (Lorenzo Moretti)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] New apps to use GDAL in Mac OS X
Message-ID: <a06210204be67413306aa@[192.107.62.86]>

Hi all

I've built some new apps to manage GDAL in Mac OS X. These apps are 
included in Grass 6 for Mac OS X.

Download at: http://wwwamb.bologna.enea.it/forgrass/

The software is :
Grass 6 (Grass-OSX-6.0.0-1.dmg - 52.6 MB)
and it includes libraries (GDAL 1.2.6 with Grass support, PROJ, 
etc.), grass application vers. 6.0.0, docs, visual tutorial, links 
and Extra software

Grass 6 HAS A NEW AQUA INTERFACE (much more Mac OS X application). It 
contains 35 pages of visual tutorial and other 30 pages to know Grass 
6 and libraries.

Exclusive for Mac OS X is Extra folder that contains 10 small apps 
built with an incredible tool: OnMyCommand 
(http://free.abracode.com/cmworkshop/on_my_command.html). These apps 
enhance GIS Use on Mac OS X. Many of them use GDAL bin installed from 
Grass libraries.
Example: drag and drop to convert a vector file (shp to dgn or 
other), drag and drop to convert a raster format, drag and drop to 
view all informations about a geo raster file, etc. The use of GDAL 
is very easy now. It's possible to built easily own app: read the doc 
inside.

Bye

-- 
________________________________________________________________________
||      Lorenzo Moretti        e-mail: lorenzo.moretti@bologna.enea.it     
||/|/|  ENEA prot/idr          Web: http://wwwamb.bologna.enea.it/    
||   |  via Don Fiammelli, 2   FTP: ftp://ftpamb.bologna.enea.it/ (ris.)
~~~~~~  40128 BOLOGNA - ITALY  Ph: +39-0516098086  Fax: +39-0516098131
________________________________________________________________________

From rsheykhet at sanz.com  Wed Mar 23 11:13:35 2005
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] WGS84 to NAD27 failed to load NAD27-83 correction file
Message-ID: <ED3A48B9840E594890A2BC172D11946502FA853B@mailman.san.com>

Frank,

Thanks for your response.  I have recompiled proj4 (and gdal 1.2.6 just
in case) with the change.  I am still getting exact same error,
though...  Any pointers are appreciated.


Thanks

Rostic 

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] 
Sent: Tuesday, March 22, 2005 4:49 PM
To: Sheykhet, Rostic
Cc: gdal-dev@xserve.flids.com
Subject: Re: [Gdal-dev] WGS84 to NAD27 failed to load NAD27-83
correction file

On Tue, 22 Mar 2005 16:40:43 -0700, Sheykhet, Rostic
<rsheykhet@sanz.com> wrote:
>  
> 
> Hi all,
> 
> I am trying to convert a WGS84 query envelope to NAD27.  It works fine

> for smaller areas, but on an envelope larger than continental US, I 
> get a "failed to load NAD27-83 correction file" error.  What am I
doing wrong?

Rostic, 

The problem is that there is no datum shift file for most parts of the
world, so some of the points cannot be datum shifted when you go outside
valid areas. 

If you don't mind hacking the code a bit, you could modify
proj/src/pj_datums.c so that the definition of nad27 is

"nadgrids=@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat,@null"

This basically means if none of the grids are match the point to shift,
apply the "null" grid which does nothing. 

> Perhaps on a related note, is there a way to get an envelope/bounding 
> box of a coordinate reference system?

No, I'm afraid not. 

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fwarmerdam at gmail.com  Wed Mar 23 11:27:48 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] WGS84 to NAD27 failed to load NAD27-83 correction file
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502FA853B@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502FA853B@mailman.san.com>
Message-ID: <931f8ea905032308277c5b9bc7@mail.gmail.com>

On Wed, 23 Mar 2005 09:13:35 -0700, Sheykhet, Rostic <rsheykhet@sanz.com> wrote:
> Frank,
> 
> Thanks for your response.  I have recompiled proj4 (and gdal 1.2.6 just
> in case) with the change.  I am still getting exact same error,
> though...  Any pointers are appreciated.

Rostic,

Do you have the null file?  It was not distributed (or improperly
formatted or something) at one time.   I am attaching a binary
version suitable to drop into /usr/local/share/proj on little
endian systems gcc based systems (ie. linux). 

If you need it for windows or some other system let me know.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: null
Type: application/octet-stream
Size: 196 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050323/987bbf2d/null.obj
From dburken at comcast.net  Wed Mar 23 13:07:24 2005
From: dburken at comcast.net (David Burken)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal configure with external geotiff
Message-ID: <4241B05C.20005@comcast.net>

Hi Frank,

Configuring gdal with external geotiff (latest cvs) fails with:

checking for XTIFFClientOpen in -lgeotiff... no
configure: error: We require at least GeoTIFF 1.2.1. Consider using the 
one supplied with GDAL

I'm not sure why but the check in configure.in fails.  I just comment it 
out to use the latest geotiff:
AC_CHECK_LIB(geotiff,XTIFFClientOpen,GEOTIFF_SETTING=external,AC_MSG_ERROR([We 
require at least GeoTIFF 1.2.1. Consider using the one supplied with GDAL]))

Take care,
Dave


From fwarmerdam at gmail.com  Wed Mar 23 13:20:43 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] gdal configure with external geotiff
In-Reply-To: <4241B05C.20005@comcast.net>
References: <4241B05C.20005@comcast.net>
Message-ID: <931f8ea905032310205784946e@mail.gmail.com>

On Wed, 23 Mar 2005 13:07:24 -0500, David Burken <dburken@comcast.net> wrote:
> Hi Frank,
> 
> Configuring gdal with external geotiff (latest cvs) fails with:
> 
> checking for XTIFFClientOpen in -lgeotiff... no
> configure: error: We require at least GeoTIFF 1.2.1. Consider using the
> one supplied with GDAL
> 
> I'm not sure why but the check in configure.in fails.  I just comment it
> out to use the latest geotiff:
> AC_CHECK_LIB(geotiff,XTIFFClientOpen,GEOTIFF_SETTING=external,AC_MSG_ERROR([We
> require at least GeoTIFF 1.2.1. Consider using the one supplied with GDAL]))

Dave,

Any chance there is an old libgeotiff on your system?  Anything 
meaningful in the config.log about what fails?  I do configure to 
use external libgeotiff all the time and it normally works for me. 

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From fx.gamoy at mapxplore.com  Thu Mar 24 07:37:35 2005
From: fx.gamoy at mapxplore.com (FX GAMOY)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] ogr2ogr -f PostgreSQL for win32
Message-ID: <200503241237.35378.fx.gamoy@mapxplore.com>

Hello everybody

I use ogr2ogr in order to import Mapinfo files into postgresql

Today i need the same ogr2ogr with postgresql capabilities
I am not addict with win32 compil.
What is the best free compiler wich permit to compil mapserver or gdal etc... 
( don't want to buy visual C++)

Anybody now where i can download win32 binaries of gdal including postgresql 
capabilities??
thanks a lot
fx

From bartvde at xs4all.nl  Thu Mar 24 07:03:57 2005
From: bartvde at xs4all.nl (bartvde@xs4all.nl)
Date: Wed Nov 21 11:49:35 2007
Subject: [Gdal-dev] ogr2ogr -f PostgreSQL for win32
In-Reply-To: <200503241237.35378.fx.gamoy@mapxplore.com>
References: <200503241237.35378.fx.gamoy@mapxplore.com>
Message-ID: <18631.212.238.227.182.1111665837.squirrel@212.238.227.182>

Hi,

I would suggest using the FWTools distribution:

http://fwtools.maptools.org/

Best regards,
Bart

> Hello everybody
>
> I use ogr2ogr in order to import Mapinfo files into postgresql
>
> Today i need the same ogr2ogr with postgresql capabilities
> I am not addict with win32 compil.
> What is the best free compiler wich permit to compil mapserver or gdal
> etc...
> ( don't want to buy visual C++)
>
> Anybody now where i can download win32 binaries of gdal including
> postgresql
> capabilities??
> thanks a lot
> fx
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@xserve.flids.com
> http://xserve.flids.com/mailman/listinfo/gdal-dev
>



From fwarmerdam at gmail.com  Thu Mar 24 09:48:18 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] ogr2ogr -f PostgreSQL for win32
In-Reply-To: <200503241237.35378.fx.gamoy@mapxplore.com>
References: <200503241237.35378.fx.gamoy@mapxplore.com>
Message-ID: <931f8ea905032406484d13c8bd@mail.gmail.com>

On Thu, 24 Mar 2005 12:37:35 +0000, FX GAMOY <fx.gamoy@mapxplore.com> wrote:
> Hello everybody
> 
> I use ogr2ogr in order to import Mapinfo files into postgresql
> 
> Today i need the same ogr2ogr with postgresql capabilities
> I am not addict with win32 compil.
> What is the best free compiler wich permit to compil mapserver or gdal etc...
> ( don't want to buy visual C++)

FX,

Folks have had some success with the free Microsoft compiler as well
as the OpenWATCOM compiler and a few others.  But they are all likely
to give you quite a bit of heartache. 
 
> Anybody now where i can download win32 binaries of gdal including postgresql
> capabilities??

As Bart mentions, the FWTools 0.9.6 for win32 includes Postgis support 
though there might be some compatibility problems with it and the PostGIS 1.0. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dron at ak4719.spb.edu  Thu Mar 24 14:05:03 2005
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] ogr2ogr -f PostgreSQL for win32
In-Reply-To: <931f8ea905032406484d13c8bd@mail.gmail.com>
References: <200503241237.35378.fx.gamoy@mapxplore.com>
	<931f8ea905032406484d13c8bd@mail.gmail.com>
Message-ID: <20050324190503.GA12448@ak4719.spb.edu>

On Thu, Mar 24, 2005 at 09:48:18AM -0500, Frank Warmerdam wrote:
> Folks have had some success with the free Microsoft compiler as well
> as the OpenWATCOM compiler and a few others.  But they are all likely
> to give you quite a bit of heartache. 

I think the only problem with the free Visual C++ compiler is an absence
of nmake utility. But nmake from Watcom should work with Visual C++ more
or less good. Another option is a MinGW, but building under MinGW may be
broken sometimes...

Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517

From starged at videotron.ca  Thu Mar 24 22:41:17 2005
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] WMS Tool for OpenEV Beta release
Message-ID: <4243885D.4010202@videotron.ca>

Hi,

This is to announce the release of my (long awaited!) WMS Tool for OpenEV.
All the infos are here:
http://pages.infinit.net/starged/openev/wmstool/home.htm

This is a beta version as it still needs to be thoroughly tested before any "official" release 
can happen...

Thanks in advance to all testers.
--
Mario B.

From pgao at esri.com  Fri Mar 25 14:51:02 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Reading RPC
Message-ID: <491DC5F3D279CD4EB4B157DDD62237F40479C2DF@zipwire.esri.com>

If  I have an image with RPC (e.g. a NITF image from Space Imaging), how do
I read the RPC

information via GDAL? Is there a function similar to Set/GetGCPs() for RPC?

 

Thanks,

Gao, Peng

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20050325/57cb508f/attachment.html
From werchowyna at epf.pl  Sat Mar 26 06:28:45 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] no georef in Aster relative DEM
Message-ID: <043d01c531f8$0b69f130$18d21d3e@eustahiush>

Gentlemen

Gdal (1.2.5, 1.2.6) still doesn't recognize georeferencing in "Aster 
relative DEM" hdf files. Are there any chances it will be fixed?

C:\Program Files\FWTools0.9.6>gdalinfo 
C:\gisdane\polska\aster\aster_pl\ASTER_DEM20020412131959.hdf
Driver: HDF4Image/HDF4 Dataset
Size is 2589, 2483
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 2483.0)
Upper Right ( 2589.0,    0.0)
Lower Right ( 2589.0, 2483.0)
Center      ( 1294.5, 1241.5)
Band 1 Block=2589x1 Type=Float32, ColorInterp=Gray

Some older release of gdal supported georeferencing in relative Aster DEMs.

I reported this bug long time ago:
http://208.24.120.44/show_bug.cgi?id=671

Maciek 


From dron at ak4719.spb.edu  Mon Mar 28 13:51:25 2005
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] no georef in Aster relative DEM
In-Reply-To: <043d01c531f8$0b69f130$18d21d3e@eustahiush>
References: <043d01c531f8$0b69f130$18d21d3e@eustahiush>
Message-ID: <20050328185125.GA17242@ak4719.spb.edu>

On Sat, Mar 26, 2005 at 12:28:45PM +0100, Maciek Sieczka wrote:
> Gdal (1.2.5, 1.2.6) still doesn't recognize georeferencing in "Aster
> relative DEM" hdf files. Are there any chances it will be fixed?

Maciek,

Full support for HDF-EOS Swath products will be available soon.

Andrey


-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517

From fwarmerdam at gmail.com  Mon Mar 28 22:57:34 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] Reading RPC
In-Reply-To: <491DC5F3D279CD4EB4B157DDD62237F40479C2DF@zipwire.esri.com>
References: <491DC5F3D279CD4EB4B157DDD62237F40479C2DF@zipwire.esri.com>
Message-ID: <931f8ea90503281957408f44da@mail.gmail.com>

On Fri, 25 Mar 2005 11:51:02 -0800, Peng Gao <pgao@esri.com> wrote:
>  
>  
> 
> If  I have an image with RPC (e.g. a NITF image from Space Imaging), how do
> I read the RPC 
> 
> information via GDAL? Is there a function similar to Set/GetGCPs() for RPC? 

Peng,

The RPC information is transported as Metadata text.  You can use the
GDALExtractRPCInfo() function to extract the metadata and build it into
a GDALRPCInfo structure suitable for examination or use with the GDAL
RPC functions.

You could do something like this:

  char **papszMD;
  GDALRPCInfo sRPC;
   
  papszMD = GDALGetMetadata(hSrcDS,""); 
  if( GDALExtractRPCInfo( papszMD, &sRPC ) )
    printf( "Got RPC Info\n" );

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From oss-dev at rambler.ru  Tue Mar 29 01:46:54 2005
From: oss-dev at rambler.ru (Oleg Semykin)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] About OGR PG driver
Message-ID: <4248F9DE.7080900@rambler.ru>

Hi, Frank!

Why do you not use binary cursor for fetching features instead of simple 
one?

I'm test binary cursor, it works more faster...

Oleg.

From jluis at ualg.pt  Tue Mar 29 10:06:08 2005
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] FWtools and ogrinfo
In-Reply-To: <4248F9DE.7080900@rambler.ru>
References: <4248F9DE.7080900@rambler.ru>
Message-ID: <20050329160608.ufdrewkqskg0c8kk@wmail.ualg.pt>

Hi,

1. I installed the FWTools 0.96 (windows) but I get an error
saying
"procedure entry point ?Seel2CNCSJPCIOStream@@.... could not
be located in NCSEcw.dll"

2. I tried to read vmap0 with ogrinfo but I get an error with
"Unable to open datasource ..."
However, I compiled gdal with the OGDI driver (it appears reported)
If I do the same in the FWTools shell window it works. So I guess
the problem must be related with the compiling options of OGDI. I used this

TARGET = win32
OGDIDIR =	D:\programas\ogdi-3.1.4
OGDIVER =	31
OGDILIB =	$(OGDIDIR)\lib\$(TARGET)\ogdi$(OGDIVER).lib \
		$(OGDIDIR)\lib\$(TARGET)\zlib_ogdi$(OGDIVER).lib

Is there anything else that must be added?

BTW, I had to define the TARGET variable because it did not exist.

Thanks

Joaquim Luis




From fwarmerdam at gmail.com  Tue Mar 29 10:14:44 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] FWtools and ogrinfo
In-Reply-To: <20050329160608.ufdrewkqskg0c8kk@wmail.ualg.pt>
References: <4248F9DE.7080900@rambler.ru>
	<20050329160608.ufdrewkqskg0c8kk@wmail.ualg.pt>
Message-ID: <931f8ea905032907146939685b@mail.gmail.com>

On Tue, 29 Mar 2005 16:06:08 +0100, jluis@ualg.pt <jluis@ualg.pt> wrote:
> Hi,
> 
> 1. I installed the FWTools 0.96 (windows) but I get an error
> saying
> "procedure entry point ?Seel2CNCSJPCIOStream@@.... could not
> be located in NCSEcw.dll"

Joaquim, 

This generally means there is an older set of ECW DLLs in 
your windows\system32 directory and they are taking
precidence over the ones in FWTools\bin.  You could (temporarily)
remove your NCS DLLs from windows\system32 to correct this.
I hope to compile the ECW DLLs myself for win32 with a distinct
name in the future. 

> 2. I tried to read vmap0 with ogrinfo but I get an error with
> "Unable to open datasource ..."
> However, I compiled gdal with the OGDI driver (it appears reported)
> If I do the same in the FWTools shell window it works. So I guess
> the problem must be related with the compiling options of OGDI. I used this
> 
> TARGET = win32
> OGDIDIR =       D:\programas\ogdi-3.1.4
> OGDIVER =       31
> OGDILIB =       $(OGDIDIR)\lib\$(TARGET)\ogdi$(OGDIVER).lib \
>                 $(OGDIDIR)\lib\$(TARGET)\zlib_ogdi$(OGDIVER).lib
> 
> Is there anything else that must be added?
> 
> BTW, I had to define the TARGET variable because it did not exist.

I'm not sure why this isn't working for you.  Does OGDI show up in the
format list if you do "ogrinfo.exe --formats"?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Tue Mar 29 10:32:48 2005
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] FWtools and ogrinfo
In-Reply-To: <931f8ea905032907146939685b@mail.gmail.com>
References: <4248F9DE.7080900@rambler.ru>
	<20050329160608.ufdrewkqskg0c8kk@wmail.ualg.pt>
	<931f8ea905032907146939685b@mail.gmail.com>
Message-ID: <20050329163248.h1i4ivzdkcwowcwk@wmail.ualg.pt>


> This generally means there is an older set of ECW DLLs in
> your windows\system32 directory and they are taking
> precidence over the ones in FWTools\bin.  You could (temporarily)
> remove your NCS DLLs from windows\system32 to correct this.
> I hope to compile the ECW DLLs myself for win32 with a distinct
> name in the future.

Thanks. Indeed I compiled once ECW and had no idea that the DLLs were
still there.

>
>> 2. I tried to read vmap0 with ogrinfo but I get an error with
>> "Unable to open datasource ..."
>> However, I compiled gdal with the OGDI driver (it appears reported)
>> If I do the same in the FWTools shell window it works. So I guess
>> the problem must be related with the compiling options of OGDI. I used this
>>
>> TARGET = win32
>> OGDIDIR =       D:\programas\ogdi-3.1.4
>> OGDIVER =       31
>> OGDILIB =       $(OGDIDIR)\lib\$(TARGET)\ogdi$(OGDIVER).lib \
>>                 $(OGDIDIR)\lib\$(TARGET)\zlib_ogdi$(OGDIVER).lib
>>
>> Is there anything else that must be added?
>>
>> BTW, I had to define the TARGET variable because it did not exist.
>
> I'm not sure why this isn't working for you.  Does OGDI show up in the
> format list if you do "ogrinfo.exe --formats"?

Yes, and that's what puzzled me
D:\>ogrinfo --formats
Loaded OGR Format Drivers:
   -> "ESRI Shapefile" (read/write)
   -> "UK .NTF" (readonly)
   -> "SDTS" (readonly)
   -> "TIGER" (read/write)
   -> "S57" (read/write)
   -> "MapInfo File" (read/write)
   -> "DGN" (read/write)
   -> "VRT" (readonly)
   -> "AVCBin" (readonly)
   -> "REC" (readonly)
   -> "Memory" (read/write)
   -> "CSV" (read/write)
   -> "GML" (read/write)
   -> "ODBC" (read/write)
   -> "OGDI" (readonly)

Regards

Joaquim


From fwarmerdam at gmail.com  Tue Mar 29 11:04:40 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] FWtools and ogrinfo
In-Reply-To: <20050329163248.h1i4ivzdkcwowcwk@wmail.ualg.pt>
References: <4248F9DE.7080900@rambler.ru>
	<20050329160608.ufdrewkqskg0c8kk@wmail.ualg.pt>
	<931f8ea905032907146939685b@mail.gmail.com>
	<20050329163248.h1i4ivzdkcwowcwk@wmail.ualg.pt>
Message-ID: <931f8ea9050329080478e0bde6@mail.gmail.com>

On Tue, 29 Mar 2005 16:32:48 +0100, jluis@ualg.pt <jluis@ualg.pt> wrote:
> > I'm not sure why this isn't working for you.  Does OGDI show up in the
> > format list if you do "ogrinfo.exe --formats"?
> 
> Yes, and that's what puzzled me
> D:\>ogrinfo --formats

Joaquim,

Is the vrf.dll you created put in your path?  Ideally alongside
the ogdi31.dll?  

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jluis at ualg.pt  Tue Mar 29 11:14:00 2005
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] FWtools and ogrinfo
In-Reply-To: <931f8ea9050329080478e0bde6@mail.gmail.com>
References: <4248F9DE.7080900@rambler.ru>
	<20050329160608.ufdrewkqskg0c8kk@wmail.ualg.pt>
	<931f8ea905032907146939685b@mail.gmail.com>
	<20050329163248.h1i4ivzdkcwowcwk@wmail.ualg.pt>
	<931f8ea9050329080478e0bde6@mail.gmail.com>
Message-ID: <20050329171400.qlmmauk74wcockgo@wmail.ualg.pt>

> Joaquim,
>
> Is the vrf.dll you created put in your path?  Ideally alongside
> the ogdi31.dll?
>

No, it was not. In fact, when I first runed ogrinfo it complained about
missing dlls, so I copyied the ones it complained about (ogdi31.dll and
zlib_ogdi31.dll).
Now it works.
Thanks again

Joaquim


From kmelero at sanz.com  Tue Mar 29 12:54:58 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] no georef in Aster relative DEM
In-Reply-To: <20050328185125.GA17242@ak4719.spb.edu>
Message-ID: <003001c53488$6dde77e0$0d02040a@MGCOMPAQ>

Andrey,

Are you working on this support?  What is your timeframe?

Thanks!
-Ken

-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Andrey Kiselev
Sent: Monday, March 28, 2005 1:51 PM
To: gdal-dev@xserve.flids.com
Subject: Re: [Gdal-dev] no georef in Aster relative DEM


On Sat, Mar 26, 2005 at 12:28:45PM +0100, Maciek Sieczka wrote:
> Gdal (1.2.5, 1.2.6) still doesn't recognize georeferencing in "Aster 
> relative DEM" hdf files. Are there any chances it will be fixed?

Maciek,

Full support for HDF-EOS Swath products will be available soon.

Andrey


-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From armin.burger at gmx.net  Tue Mar 29 13:05:51 2005
From: armin.burger at gmx.net (Armin Burger)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] ECW with gdal_translate, temp files
Message-ID: <qvnu2ERJxrA8UCnnBGOdGm7Q5y0bIQWVMkg0Z8ANe0a@akmail>

Hello,

I compiled GDAL (daily build 20050329) with ECW support (binaries from gdal.org) under Linux. When I use gdal_translate to create an ECW or JP2 image, the conversion/compression seems to create temporary files: a directory with the name of the image and the extension .tmp under the root (/) partition and some files in it. My problem is that the '/' partition is too small to take all the temporary files, and the conversion crashes.

Does anybody know if there's a possibility specifying another temp directory for these files, e.g. by setting an environment variable? Or if not, by specifying the temp directory during compilation?

Thanks for any help.

Best regards, Armin

From fwarmerdam at gmail.com  Tue Mar 29 13:09:54 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] ECW with gdal_translate, temp files
In-Reply-To: <qvnu2ERJxrA8UCnnBGOdGm7Q5y0bIQWVMkg0Z8ANe0a@akmail>
References: <qvnu2ERJxrA8UCnnBGOdGm7Q5y0bIQWVMkg0Z8ANe0a@akmail>
Message-ID: <931f8ea9050329100933149eb2@mail.gmail.com>

On Tue, 29 Mar 2005 20:05:51 +0200, Armin Burger <armin.burger@gmx.net> wrote:
> Hello,
> 
> I compiled GDAL (daily build 20050329) with ECW support (binaries from gdal.org) under Linux. When I use gdal_translate to create an ECW or JP2 image, the conversion/compression seems to create temporary files: a directory with the name of the image and the extension .tmp under the root (/) partition and some files in it. My problem is that the '/' partition is too small to take all the temporary files, and the conversion crashes.
> 
> Does anybody know if there's a possibility specifying another temp directory for these files, e.g. by setting an environment variable? Or if not, by specifying the temp directory during compilation?

Armin, 

You can set the TMP environment variable to the path to a different
temporary directory.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dron at ak4719.spb.edu  Tue Mar 29 15:18:23 2005
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] no georef in Aster relative DEM
In-Reply-To: <003001c53488$6dde77e0$0d02040a@MGCOMPAQ>
References: <20050328185125.GA17242@ak4719.spb.edu>
	<003001c53488$6dde77e0$0d02040a@MGCOMPAQ>
Message-ID: <20050329201823.GB30199@ak4719.spb.edu>

On Tue, Mar 29, 2005 at 12:54:58PM -0500, Kenneth Melero wrote:
> Are you working on this support?  What is your timeframe?

Yes, I'm actively working on this problem. I think that the full support
for ASTER L1A, L1B, DEM and MODIS L1B will be implemented during this
week.

Regards,
Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517

From kmelero at sanz.com  Tue Mar 29 15:40:17 2005
From: kmelero at sanz.com (Kenneth Melero)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] no georef in Aster relative DEM
In-Reply-To: <20050329201823.GB30199@ak4719.spb.edu>
Message-ID: <002a01c5349f$87988010$0d02040a@MGCOMPAQ>


Thanks Andrey!  Please let us know when you commit it to the baseline.

-Ken


-----Original Message-----
From: gdal-dev-bounces@xserve.flids.com
[mailto:gdal-dev-bounces@xserve.flids.com] On Behalf Of Andrey Kiselev
Sent: Tuesday, March 29, 2005 3:18 PM
To: gdal-dev@xserve.flids.com
Subject: Re: [Gdal-dev] no georef in Aster relative DEM


On Tue, Mar 29, 2005 at 12:54:58PM -0500, Kenneth Melero wrote:
> Are you working on this support?  What is your timeframe?

Yes, I'm actively working on this problem. I think that the full support for
ASTER L1A, L1B, DEM and MODIS L1B will be implemented during this week.

Regards,
Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5970603  ICQ# 26871517
_______________________________________________
Gdal-dev mailing list
Gdal-dev@xserve.flids.com http://xserve.flids.com/mailman/listinfo/gdal-dev


From tflynch at gmail.com  Tue Mar 29 19:35:28 2005
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] ECW with gdal_translate, temp files
In-Reply-To: <931f8ea9050329100933149eb2@mail.gmail.com>
References: <qvnu2ERJxrA8UCnnBGOdGm7Q5y0bIQWVMkg0Z8ANe0a@akmail>
	<931f8ea9050329100933149eb2@mail.gmail.com>
Message-ID: <c39b2a6505032916354dae679f@mail.gmail.com>

On Tue, 29 Mar 2005 13:09:54 -0500, Frank Warmerdam
<fwarmerdam@gmail.com> wrote:
> On Tue, 29 Mar 2005 20:05:51 +0200, Armin Burger <armin.burger@gmx.net> wrote:
> > Hello,
> >
> > I compiled GDAL (daily build 20050329) with ECW support (binaries from gdal.org) under Linux. When I use gdal_translate to create an ECW or JP2 image, the conversion/compression seems to create temporary files: a directory with the name of the image and the extension .tmp under the root (/) partition and some files in it. My problem is that the '/' partition is too small to take all the temporary files, and the conversion crashes.
> >
> > Does anybody know if there's a possibility specifying another temp directory for these files, e.g. by setting an environment variable? Or if not, by specifying the temp directory during compilation?
> 
> Armin,
> 
> You can set the TMP environment variable to the path to a different
> temporary directory.
> 

Frank has it right.  The ECW JPEG 2000 SDK uses a call to
getenv("TMP") to determine an appropriate temporary output directory
on most UNIXish operating systems.  In the next distribution (which
will eventually be incorporated into GDAL) the temp output dir will
fall through more sensibly to "/tmp" in the event of the "TMP"
environment variable not being set.

Cheers

-- 
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com

From carueda at ucdavis.edu  Tue Mar 29 19:57:42 2005
From: carueda at ucdavis.edu (Carlos A. Rueda)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] SetOffset/SetScale methods missing in 1.2.6 for ENVI
	raster bands
Message-ID: <d2ctge$h7b$1@sea.gmane.org>

Hello,

I'm starting to use GDAL 1.2.6 and and see that some CreateCopy calls I
make on ENVI datasets have stopped to work as they did with GDAL 1.2.5.
I checked for pertinent changes in http://www.gdal.org/NEWS.html and on
this newsgroup but found nothing regarding possible reasons. Then I checked
the API documentation and noticed that there are new band operations
SetOffset, SetScale (which I'm not calling directly, btw) and then confirmed
with the 1.2.6 source code that they are not implemented for ENVI raster
bands, so these methods are inherited from GDALRasterBand which fail with
a CPLError. CreateCopy calls these new operations and that explains the
new behaviour.
I think this is a bug at least in 1.2.6 (I haven't checked the last cvs
snapshot). If not, how should I change my CreateCopy calls?

Many thanks
carlos


From michele.sanges at otomelara.it  Wed Mar 30 02:01:54 2005
From: michele.sanges at otomelara.it (Michele Sanges)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] UTM to MGRS.
Message-ID: <424A4EE2.3000708@otomelara.it>

Hi,

does OGR supports the coordinate transformation from the UTM system to MGRS (Military Grid Reference System) one?

Thanks.
Michele Sanges

From fwarmerdam at gmail.com  Wed Mar 30 09:49:21 2005
From: fwarmerdam at gmail.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] UTM to MGRS.
In-Reply-To: <424A4EE2.3000708@otomelara.it>
References: <424A4EE2.3000708@otomelara.it>
Message-ID: <931f8ea905033006497697eef6@mail.gmail.com>

On Wed, 30 Mar 2005 09:01:54 +0200, Michele Sanges
<michele.sanges@otomelara.it> wrote:
> Hi,
> 
> does OGR supports the coordinate transformation from the UTM system to MGRS (Military Grid Reference System) one?

Michele, 

Sorry, no OGR does not support MGRS.   It has been several months
since I did something with MGRS so my memory is a bit foggy on the
details, but I believe that MGRS coordinates interleave the X and Y
digits including some non-numeric prefixes to identify a grid square.
So it is hard to represent MGRS as a "coordinate system definition"
and a set of x/y points.   For that reason, I don't think it is really practical
to talk about having OGR support MGRS as a coordinate system. 

However, if you need to convert values to/from MGRS there is some
code for it buried in the NITF driver.  Try reviewing:

  gdal/frmts/nitf/mgrs.h

The MGRS code is derived from Geotrans. 

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From archer at eskimo.com  Wed Mar 30 10:25:43 2005
From: archer at eskimo.com (Curt, WE7U)
Date: Wed Nov 21 11:49:36 2007
Subject: [Gdal-dev] UTM to MGRS.
In-Reply-To: <931f8ea905033006497697eef6@mail.gmail.com>
References: <424A4EE2.3000708@otomelara.it>
	<931f8ea905033006497697eef6@mail.gmail.com>
Message-ID: <Pine.SUN.4.58.0503300717220.1267@eskimo.com>

On Wed, 30 Mar 2005, Frank Warmerdam wrote:

> Sorry, no OGR does not support MGRS.   It has been several months
> since I did something with MGRS so my memory is a bit foggy on the
> details, but I believe that MGRS coordinates interleave the X and Y
> digits including some non-numeric prefixes to identify a grid square.
> So it is hard to represent MGRS as a "coordinate system definition"
> and a set of x/y points.   For that reason, I don't think it is really practical
> to talk about having OGR support MGRS as a coordinate system.

Huh?  Think of MGRS as UTM but with different letters/numbers in
there.  That's all it is.

I implemented MGRS in a GPL'ed program within the last year or two.
We already had UTM in there, but I had to implement all of the
special zones in the Europe area and north of there that vary
between 3 degrees and 12 degrees, instead of the default 6 degrees
for everywhere else.  That grid turned out to be needed for some
countries' (and NATO's) UTM anyway.  I had to implement UPS as well
at that time (coordinate system used at the poles for UTM/UPS), as
that's also needed for MGRS.

So... MGRS is just like UTM, just a different number representation.

If you're working on a GPL'ed program I can point you to the code
and you can lift it directly.  Generic C code.  If it's a commercial
program, talk to me about it.  I wrote that part so I can license
that portion in other manners as well.

--
Curt, WE7U.   APRS Client Comparisons: http://www.eskimo.com/~archer
"Lotto:    A tax on people who are bad at math." -- unknown
"Windows:  Microsoft's tax on computer illiterates." -- WE7U
"The world DOES revolve around me:  I picked the coordinate system!"

