From rayg at daylongraphics.com  Tue Nov  1 00:00:11 2005
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] types common to raster/vector
In-Reply-To: <931f8ea90510311744y22dceeb3m774db662eea79d41@mail.gmail.com>
References: <4366AD54.8070307@daylongraphics.com>
	<931f8ea90510311744y22dceeb3m774db662eea79d41@mail.gmail.com>
Message-ID: <4366F65B.2090805@daylongraphics.com>

> I don't think that a distinct namespace would really help
> anyone very much though, unless I am missing something.

It's more or less semantic, although namespaces are a logical means to 
uniquely group related types, and if one had a module using mostly those 
types, it could do a "using namespace... " directive and then not have 
to say the namespace every time, which would give a little more 
readability. I figure if one goes and refactors those routines into a 
third area, may as well be in for the pound after the penny.

Ray

From moon_inwell at 163.com  Tue Nov  1 01:26:06 2005
From: moon_inwell at 163.com (lky)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] How can I get coordinate system and projection from
	shape files?
References: <002301c5ddf9$316b06a0$7ef9a8c0@lky>
	<931f8ea90510310703x2fa56c41paac301d4f0bde25@mail.gmail.com>
Message-ID: <001201c5dead$24ce1040$7ef9a8c0@lky>

Frank Warmerdam,

Thanks for your help.

I have understood how to get the coordinate system and projection from .prj file. But I have another question about this. Since I can get the coordinate system and projection from .prj file, I also can write these information to it. But I didn't find the support about this. Can you tell me how to write the files?

Best regards

Kunyang Li

----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam@pobox.com>
To: "lky" <moon_inwell@163.com>
Cc: "gdal ????" <gdal-dev@lists.maptools.org>
Sent: Monday, October 31, 2005 11:03 PM
Subject: Re: [Gdal-dev] How can I get coordinate system and projection from shape files?


> On 10/31/05, lky <moon_inwell@163.com> wrote:
>>
>> Hello,everyone:
>>
>> I'm a new learner of the gdal. During my study, I met some problems. I hope
>> I can find help here.
>>
>> I found these is one sentence "If a .prj files in old Arc/Info style or new
>> ESRI OGC WKT style is present, it will be read and used to associate a
>> projection with features." in \ogr\dev_shapefile.html.
>>
>> And I found there are some *.prj?files with the same name shapefile in
>> directory C:\arcgis\arcexe83\Reference Systems(The directory which I install
>> arcinfo).In the ArcMap, that the frame map file is *.mxt.
>>
>> I try to use the OGRSFDriverRegistrar::Open function to open these *.prj
>> files but I failed.
>>
>> So I have the following questions.
>>
>> 1. Who can explain the use of these *.prj files in this directory? Which
>> shapefiles do they support? Or they only support project mode for AcrMap?
> 
> Kunyang Li,
> 
> You should open the shapefile normally with OGRSFDriverRegistrar::Open()
> and then fetch the layers from the datasource.  To find the coordinate
> system of a layer you can call OGRLayer::GetSpatialRef() to get a handle
> to the corresponding OGRSpatialReference object.
> 
> This method will read it from a correspondingly named .prj file if it
> is present.
> 
>> 2. What is the relation with the *.prj and *mxt files?
> 
> I don't know anything about mxt files.
> 
>> 3. How can I read the coordinate system and projection from the *.prj files?
>> And whether this prj file support the coordinate system and projection for
>> the same name shapefile or for the shapefiles in the same directory?
> 
> OGR assumes a .prj file applies to the shapefile with the same
> base filename.  If there is no corresponding .prj file, then GetSpatialRef()
> will return NULL.
> 
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>


From warmerdam at pobox.com  Tue Nov  1 09:44:57 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] How can I get coordinate system and projection from
	shape files?
In-Reply-To: <001201c5dead$24ce1040$7ef9a8c0@lky>
References: <002301c5ddf9$316b06a0$7ef9a8c0@lky>
	<931f8ea90510310703x2fa56c41paac301d4f0bde25@mail.gmail.com>
	<001201c5dead$24ce1040$7ef9a8c0@lky>
Message-ID: <931f8ea90511010644p3f1c882cl75e1a99a20746949@mail.gmail.com>

On 11/1/05, lky <moon_inwell@163.com> wrote:
> Frank Warmerdam,
>
> Thanks for your help.
>
> I have understood how to get the coordinate system and projection from .prj file. But I have another question about this. Since I can get the coordinate system and projection from .prj file, I also can write these information to it. But I didn't find the support about this. Can you tell me how to write the files?


Kunyang Li,

The only way to write the projection to a shapefile layer
through OGR is to pass it at the point the layer is created.
That is, pass the appropriate OGRSpatialReference into the
OGRDataSource::CreateLayer() call.

If you really need to generate a .prj file for a shapefile later
you can do it manually.  To do that, setup an appropriate
OGRSpatialReference, then invoke morphToESRI() on it
to convert the format to match what ESRI software expects.
Then exportToWkt() and manually write the resulting string
to the .prj file yourself.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From James.Browne at liu.edu  Tue Nov  1 18:55:41 2005
From: James.Browne at liu.edu (James Browne)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Problem compiling Mapserver against GDAL with ECW sdk
	undefined references - Corrected
Message-ID: <D9F1E2EBB6EB2C4B9F92A72D2547AF4C1123A4@uc-exh-2.liunet.edu>

Hi all,

   Sorry to post this again, but I just discovered that the last attempt was altered before you saw it.

   Usually an undefined reference  is from a library path problem or version problem with header files. I think that I have double checked for these mistakes. GDAL command line utilities find the new ECW libraries and they seem to find each other. Trying gdal-config --libs returns the expected value, dalinfo reads ECW files, gdalwarp converts from ECW, and gdal-translate doesn't crash.

   But when I compile Mapserver 4.6.1 against GDAL 1.3.1 library that uses the latest source for ECW SDK 3.3, making sure to use the path to gdal-config, and even try adjusting mapserver's --prefix --libdir configure options, I still get the following errors (abbreviated from a long series)


/usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSDeleteFile'
/usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSGetTempFileName'
/usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSUtilInit'
/usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSRemoveDir'
/usr/bin/../lib/libNCSEcw.so: undefined reference to `CNCSEvent::Set()'
/usr/lib/libgdal.so: undefined reference to `CNCSThread::Resume()'
/usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSByteSwapRange64'
/usr/lib/libgdal.so: undefined reference to `CNCSThread::GetStats()'
/usr/lib/libgdal.so: undefined reference to `CNCSThread::GetPriority()'
...
etc.

   Does anyone have any ideas?

   Thanks again  
          Jim  

 


From mateusz at loskot.net  Tue Nov  1 21:43:30 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] OGR - Features Selection from Point or MultiPoint
Message-ID: <436827D2.7020001@loskot.net>

Hi,

AFAIK the only way to do spacial selection of features
is to define filter and pass it to the OGRLayer::SetSpatialFilter.
This is clear.
I wonder if is this possible to select features passing OGRPoint or 
OGRMultiPoint to the OGRLayer::SetSpatialFilter?

My aim is to be able to select i.e 1 polygin (passing OGRPoint) or >1 
polygons in relation: disjoint and not touched - completely separated
(here comes OGRMultiPoligon as filter).

My second question is: is there any way to modify spatial filter after 
it is defined?
What I'd like to achive is to select one feature (first SetSpatialFilter 
call) and after that select another featuer (second SetSpatialFilter 
call) then I have two features selected. Is this possible?

Cheers

-- 
Mateusz ?oskot
http://mateusz.loskot.net

From moon_inwell at 163.com  Wed Nov  2 08:21:22 2005
From: moon_inwell at 163.com (lky)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] How can I get coordinate system and projection from
	shape files?
References: <002301c5ddf9$316b06a0$7ef9a8c0@lky>
	<931f8ea90510310703x2fa56c41paac301d4f0bde25@mail.gmail.com>
	<001201c5dead$24ce1040$7ef9a8c0@lky>
	<931f8ea90511010644p3f1c882cl75e1a99a20746949@mail.gmail.com>
Message-ID: <001601c5dfb0$53cf9b80$7ef9a8c0@lky>

Frank Warmerdam:

Thanks for your bounteous help.

Using the methods you teld me, I have finished the program that I read the data from one shapefile ,and  wrote it to the other one after I transformed their coordinate. But there still some problems in the program. I can use the "transform" method to transform the obejct of class OGRMultiPolygon. But I can't give the coordinate system and projection which I order to the OGRDataSource pointer. 

Here, poSourceSRS is a pointer of the coordinate system and projection of the source data,and poTargetSRS is a pointer of the coordinate system and projection of the target data.I have tried two ways, but both failed.Firstly, I got the poSourceSRS by the OGRLayer::GetSpatialRef() method, but I can't change this pointer. Secondly I use the TargetSRS in the OGRDataSource::CreateLayer() method to specify the coordinate system and projection, I will get the result. But this is not useful in the shapefile. When I open the shapefile by ArcMap, the note pop up that is "Note: one or more layers is missing spatial reference information.  Data from these layers cannot be projected.".

Perhaps I can't let you clear my meaning because my poor English. I repeat it again.

I transform one data geometry by changing its coordinate system and projection. I have transform the geometry, but I don't know how to write the new coordinate system and projection to the .prj file.

Best Regards

Kunyang Li
----- Original Message ----- 
From: "Frank Warmerdam" <warmerdam@pobox.com>
To: "lky" <moon_inwell@163.com>
Cc: "gdal ????" <gdal-dev@lists.maptools.org>
Sent: Tuesday, November 01, 2005 10:44 PM
Subject: Re: [Gdal-dev] How can I get coordinate system and projection from shape files?


On 11/1/05, lky <moon_inwell@163.com> wrote:
> Frank Warmerdam,
>
> Thanks for your help.
>
> I have understood how to get the coordinate system and projection from .prj file. But I have another question about this. Since I can get the coordinate system and projection from .prj file, I also can write these information to it. But I didn't find the support about this. Can you tell me how to write the files?


Kunyang Li,

The only way to write the projection to a shapefile layer
through OGR is to pass it at the point the layer is created.
That is, pass the appropriate OGRSpatialReference into the
OGRDataSource::CreateLayer() call.

If you really need to generate a .prj file for a shapefile later
you can do it manually.  To do that, setup an appropriate
OGRSpatialReference, then invoke morphToESRI() on it
to convert the format to match what ESRI software expects.
Then exportToWkt() and manually write the resulting string
to the .prj file yourself.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Nov  2 09:30:11 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] How can I get coordinate system and projection from
	shape files?
In-Reply-To: <001601c5dfb0$53cf9b80$7ef9a8c0@lky>
References: <002301c5ddf9$316b06a0$7ef9a8c0@lky>
	<931f8ea90510310703x2fa56c41paac301d4f0bde25@mail.gmail.com>
	<001201c5dead$24ce1040$7ef9a8c0@lky>
	<931f8ea90511010644p3f1c882cl75e1a99a20746949@mail.gmail.com>
	<001601c5dfb0$53cf9b80$7ef9a8c0@lky>
Message-ID: <931f8ea90511020630m483fd4eao632b6ae9ef99f69d@mail.gmail.com>

On 11/2/05, lky <moon_inwell@163.com> wrote:
> Here, poSourceSRS is a pointer of the coordinate system and projection of the source data,and poTargetSRS is a pointer of the coordinate system and projection of the target data.I have tried two ways, but both failed.Firstly, I got the poSourceSRS by the OGRLayer::GetSpatialRef() method, but I can't change this pointer. Secondly I use the TargetSRS in the OGRDataSource::CreateLayer() method to specify the coordinate system and projection, I will get the result. But this is not useful in the shapefile. When I open the shapefile by ArcMap, the note pop up that is "Note: one or more layers is missing spatial reference information.  Data from these layers cannot be projected.".

Kunyang Li,

OK, how did you prepare poTargetSRS?  If you pass a pointer to a valid
coordinate system to CreateLayer() it should get written out as a .prj
file (after morphing to ESRI format).   Does a .prj file get written out?
Perhaps it is just incompatible with the ArcMap software in someway
I will need to correct.

BTW, what you want to do should also be easily accomplished
at the commandline with "ogr2ogr".

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Nov  2 10:28:25 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Problem compiling Mapserver against GDAL with ECW sdk
	undefined references - Corrected
In-Reply-To: <D9F1E2EBB6EB2C4B9F92A72D2547AF4C1123A4@uc-exh-2.liunet.edu>
References: <D9F1E2EBB6EB2C4B9F92A72D2547AF4C1123A4@uc-exh-2.liunet.edu>
Message-ID: <931f8ea90511020728r44145856gff0be2e685d7f699@mail.gmail.com>

On 11/1/05, James Browne <James.Browne@liu.edu> wrote:
> Hi all,
>
>    Sorry to post this again, but I just discovered that the last attempt was altered before you saw it.
>
>    Usually an undefined reference  is from a library path problem or version problem with header files. I think that I have double checked for these mistakes. GDAL command line utilities find the new ECW libraries and they seem to find each other. Trying gdal-config --libs returns the expected value, dalinfo reads ECW files, gdalwarp converts from ECW, and gdal-translate doesn't crash.
>
>    But when I compile Mapserver 4.6.1 against GDAL 1.3.1 library that uses the latest source for ECW SDK 3.3, making sure to use the path to gdal-config, and even try adjusting mapserver's --prefix --libdir configure options, I still get the following errors (abbreviated from a long series)
>
>
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSDeleteFile'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSGetTempFileName'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSUtilInit'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSRemoveDir'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `CNCSEvent::Set()'
> /usr/lib/libgdal.so: undefined reference to `CNCSThread::Resume()'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSByteSwapRange64'
> /usr/lib/libgdal.so: undefined reference to `CNCSThread::GetStats()'
> /usr/lib/libgdal.so: undefined reference to `CNCSThread::GetPriority()'
> ...
> etc.

Jim,

I don't see what platform you are on.

It looks like you will need to explicitely link against libNCSUtil.so
which is where these functions (at least some) are defined.

If you hand edit the MapServer Makefile, try adding -lNCSUtil
after -lgdal.  I find it odd that GDAL utilities work but MapServer
does not.  This might be because GDAL's build is picking up
dependency information about libNCSEcw.so from the libtool
created .la file while MapServer does not do this since it does
not use libtool.

I haven't run into this problem on Linux where I think the installed
libNCSEcw.so should have good built-in dependency information.
Perhaps you are on a non-linux platform?  MacOS X?   I have had
some weird problems with dependencies on MacOS X in the past.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rlcave3rd at yahoo.com  Wed Nov  2 10:33:19 2005
From: rlcave3rd at yahoo.com (Bob Cave)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] MapInfo Text Features in OGR
In-Reply-To: <931f8ea90510311252s5cd9fea8vad6cb90868d3052a@mail.gmail.com>
Message-ID: <20051102153319.55003.qmail@web54106.mail.yahoo.com>


--- Frank Warmerdam <warmerdam@pobox.com> wrote:

<clip>

> Read over the section on the LABEL tool in the most
> detail.
> 
>   http://www.gdal.org/ogr/ogr_feature_style.html
> 

Frank,

Thanks for the pointer.  That is exactly the
information I was looking for.

Looking at the Label Tool description, there is a
field called Anchor Position, which describes the
label's position relative to the point value.  That
section has a link to what I presume is an image
showing the values and what they mean, but the link is
broken.

Cheers,

Bob


		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

From warmerdam at pobox.com  Wed Nov  2 10:41:30 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] MapInfo Text Features in OGR
In-Reply-To: <20051102153319.55003.qmail@web54106.mail.yahoo.com>
References: <931f8ea90510311252s5cd9fea8vad6cb90868d3052a@mail.gmail.com>
	<20051102153319.55003.qmail@web54106.mail.yahoo.com>
Message-ID: <931f8ea90511020741o3dd03549y385dfd9b55bd784c@mail.gmail.com>

On 11/2/05, Bob Cave <rlcave3rd@yahoo.com> wrote:
> Frank,
>
> Thanks for the pointer.  That is exactly the
> information I was looking for.
>
> Looking at the Label Tool description, there is a
> field called Anchor Position, which describes the
> label's position relative to the point value.  That
> section has a link to what I presume is an image
> showing the values and what they mean, but the link is
> broken.

Bob,

I see what you mean, this should be corrected now.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Nov  2 11:00:00 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] OGR - Features Selection from Point or MultiPoint
In-Reply-To: <436827D2.7020001@loskot.net>
References: <436827D2.7020001@loskot.net>
Message-ID: <931f8ea90511020759p6cb317aekd8eda6ad0d43b618@mail.gmail.com>

On 11/1/05, Mateusz ?oskot <mateusz@loskot.net> wrote:
> Hi,
>
> AFAIK the only way to do spacial selection of features
> is to define filter and pass it to the OGRLayer::SetSpatialFilter.
> This is clear.
> I wonder if is this possible to select features passing OGRPoint or
> OGRMultiPoint to the OGRLayer::SetSpatialFilter?
>
> My aim is to be able to select i.e 1 polygin (passing OGRPoint) or >1
> polygons in relation: disjoint and not touched - completely separated
> (here comes OGRMultiPoligon as filter).
>
> My second question is: is there any way to modify spatial filter after
> it is defined?
> What I'd like to achive is to select one feature (first SetSpatialFilter
> call) and after that select another featuer (second SetSpatialFilter
> call) then I have two features selected. Is this possible?

Mateusz,

If GDAL/OGR is built with GEOS support, then
non-rectangular spatial filters will be tested against
read geometries using the GEOS Intersect operation.
So if you passed a multipoint, then any geometries
intersected by any of those points would be returned.

If you don't have GEOS built in, a bounding box for the
spatial filter will be derived, and any intersection with that
bounding box will be considered a positive hit.

You can modify the spatial filter by calling SetSpatialFilter()
again, but keep in mind this implicitly calls ResetReading().

There is no way to use SetSpatialFilter to do tests other
than Intersect().   If you need that you are better off to
use the spatial filtering to grossly filter the features, and
then perform exact tests with the appropriate methods after
reading the features.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From sewell at dramail.com  Wed Nov  2 11:19:02 2005
From: sewell at dramail.com (Ken Sewell)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] /cvs/maptools/cvsroot/gdal/pymod/ng
Message-ID: <Pine.LNX.4.61.0511021118010.17224@primary-server.dramail>


When doing a CVS update I get the following message:

cvs update: Updating pymod/ng
cvs update: cannot open directory /cvs/maptools/cvsroot/gdal/pymod/ng: No such file or directory
cvs update: skipping directory pymod/ng

Is this a CVS issue or something wrong with my copy?

Ken Sewell                   Defense Research Associates
Project Engineer             3915 Germany Lane, Suite 102
937-656-4899 x3004           Beavercreek, Ohio 45431-1608
sewell@dramail.com

From kruland at ku.edu  Wed Nov  2 11:26:57 2005
From: kruland at ku.edu (Kevin Ruland)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] /cvs/maptools/cvsroot/gdal/pymod/ng
In-Reply-To: <Pine.LNX.4.61.0511021118010.17224@primary-server.dramail>
References: <Pine.LNX.4.61.0511021118010.17224@primary-server.dramail>
Message-ID: <4368E8D1.4060904@ku.edu>

Ken,

You are updating a very old snapshot.  This directory had been removed
from the repository and the code placed instead in /gdal/swig/...  If
you have no local changes you might be best served by blowing away your
current workspace and cvs co a new copy.  If you have local changes you
need to preserve, then you might try:

cvs update -Pd

Which might get you past this problem.  If it doesn't, and you're brave
you can edit gdal/pymod/CVS/Entries and remove the line for 'ng'.  If
you're not that brave, then co a new copy into a new directory and
manually merge your changes into the new code base.

Kevin

Ken Sewell wrote:

>When doing a CVS update I get the following message:
>
>cvs update: Updating pymod/ng
>cvs update: cannot open directory /cvs/maptools/cvsroot/gdal/pymod/ng: No such file or directory
>cvs update: skipping directory pymod/ng
>
>Is this a CVS issue or something wrong with my copy?
>
>Ken Sewell                   Defense Research Associates
>Project Engineer             3915 Germany Lane, Suite 102
>937-656-4899 x3004           Beavercreek, Ohio 45431-1608
>sewell@dramail.com
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>  
>

From James.Browne at liu.edu  Wed Nov  2 15:30:19 2005
From: James.Browne at liu.edu (James Browne)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Problem compiling Mapserver against GDAL with ECW sdk
Message-ID: <D9F1E2EBB6EB2C4B9F92A72D2547AF4C1123A6@uc-exh-2.liunet.edu>

Frank,

   Thanks for the tip. It worked - partially. I am running a twin Zeon Debian Linux box. I may have messed something up while trying to get this to work over the past 4 months, but can't figure out what. Mapserver compiled, but when I use it, the resulting page reads:

Warning: dl(): Unable to load dynamic library '/usr/lib/php4/20020429/php_mapscript.so' - libNCSEcw.so: cannot open shared object file: No such file or directory in /var/www/envir_anal/enviro.php on line 8

Fatal error: Call to undefined function: ms_newmapobj() in /var/www/envir_anal/enviro.php on line 15




   If I create symbolic links from /usr/lib/libNCS... to /the respective /usr/local/lib/libNCS... files, I then get:

Warning: dl(): Unable to load dynamic library '/usr/lib/php4/20020429/php_mapscript.so' - /usr/lib/libNCSEcw.so: undefined symbol: _ZN10CNCSThread5SpawnEPvb in /var/www/envir_anal/enviro.php on line 8

Fatal error: Call to undefined function: ms_newmapobj() in /var/www/envir_anal/enviro.php on line 15



   It seems Mapserver expects the files in /usr/lib but still doesn't see inside them when there. Is there, or should there be, something like a -DUSE_ECW?

   These problems don't make sense to me either, if they did, it would be easy to fix. 


   Thanks again,

                   Jim


On 11/1/05, James Browne <James.Browne@liu.edu> wrote:
> Hi all,
>
>    Sorry to post this again, but I just discovered that the last attempt was altered before you saw it.
>
>    Usually an undefined reference  is from a library path problem or version problem with header files. I think that I have double checked for these mistakes. GDAL command line utilities find the new ECW libraries and they seem to find each other. Trying gdal-config --libs returns the expected value, dalinfo reads ECW files, gdalwarp converts from ECW, and gdal-translate doesn't crash.
>
>    But when I compile Mapserver 4.6.1 against GDAL 1.3.1 library that uses the latest source for ECW SDK 3.3, making sure to use the path to gdal-config, and even try adjusting mapserver's --prefix --libdir configure options, I still get the following errors (abbreviated from a long series)
>
>
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSDeleteFile'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSGetTempFileName'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSUtilInit'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSRemoveDir'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `CNCSEvent::Set()'
> /usr/lib/libgdal.so: undefined reference to `CNCSThread::Resume()'
> /usr/bin/../lib/libNCSEcw.so: undefined reference to `NCSByteSwapRange64'
> /usr/lib/libgdal.so: undefined reference to `CNCSThread::GetStats()'
> /usr/lib/libgdal.so: undefined reference to `CNCSThread::GetPriority()'
> ...
> etc.

Jim,

I don't see what platform you are on.

It looks like you will need to explicitely link against libNCSUtil.so
which is where these functions (at least some) are defined.

If you hand edit the MapServer Makefile, try adding -lNCSUtil
after -lgdal.  I find it odd that GDAL utilities work but MapServer
does not.  This might be because GDAL's build is picking up
dependency information about libNCSEcw.so from the libtool
created .la file while MapServer does not do this since it does
not use libtool.

I haven't run into this problem on Linux where I think the installed
libNCSEcw.so should have good built-in dependency information.
Perhaps you are on a non-linux platform?  MacOS X?   I have had
some weird problems with dependencies on MacOS X in the past.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 4721 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051102/65c6b98f/attachment.bin
From warmerdam at pobox.com  Wed Nov  2 16:30:19 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Problem compiling Mapserver against GDAL with ECW sdk
In-Reply-To: <D9F1E2EBB6EB2C4B9F92A72D2547AF4C1123A6@uc-exh-2.liunet.edu>
References: <D9F1E2EBB6EB2C4B9F92A72D2547AF4C1123A6@uc-exh-2.liunet.edu>
Message-ID: <931f8ea90511021330s2f3cf616x7ee56d63258b0b12@mail.gmail.com>

On 11/2/05, James Browne <James.Browne@liu.edu> wrote:
> Frank,
>
>    Thanks for the tip. It worked - partially. I am running a twin Zeon Debian Linux box. I may have messed something up while trying to get this to work over the past 4 months, but can't figure out what. Mapserver compiled, but when I use it, the resulting page reads:
>
> Warning: dl(): Unable to load dynamic library '/usr/lib/php4/20020429/php_mapscript.so' - libNCSEcw.so: cannot open shared object file: No such file or directory in /var/www/envir_anal/enviro.php on line 8
>
> Fatal error: Call to undefined function: ms_newmapobj() in /var/www/envir_anal/enviro.php on line 15
>
>
>
>
>    If I create symbolic links from /usr/lib/libNCS... to /the respective /usr/local/lib/libNCS... files, I then get:
>
> Warning: dl(): Unable to load dynamic library '/usr/lib/php4/20020429/php_mapscript.so' - /usr/lib/libNCSEcw.so: undefined symbol: _ZN10CNCSThread5SpawnEPvb in /var/www/envir_anal/enviro.php on line 8
>
> Fatal error: Call to undefined function: ms_newmapobj() in /var/www/envir_anal/enviro.php on line 15
>
>
>
>    It seems Mapserver expects the files in /usr/lib but still doesn't see inside them when there. Is there, or should there be, something like a -DUSE_ECW?
>
>    These problems don't make sense to me either, if they did, it would be easy to fix.

Jim,

I'm not too sure what to make of this.  Perhaps you should
try adding /usr/local/lib to the LD_LIBRARY_PATH environment
variable, or add the .so's in question to the ld.so.config file.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rsheykhet at sanz.com  Wed Nov  2 17:25:23 2005
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] ArcMap overview AUX files
Message-ID: <ED3A48B9840E594890A2BC172D11946504601BE5@mailman.san.com>

Hi all,

There appears to be a problem with using ArcMap-created .aux files as
overviews.
When I execute the sample test case below, I get an access violation on
Windows and a segfault on unix.
This problem has been verified with the
http://www.gdal.org/dl/data/gtiff/utm.tif file.
I am attaching the .aux file generated for the utm.tif so that this can
be tested without ArcMap.

Steps to reproduce: 
 1. Open the file for viewing in ArcMap (a utm.aux file should
automatically be created) and Close ArcMap.
    Or
 1a. Put the utm.aux file in the same directory with utm.tif
 2. Execute the test case below.
 3. Access violation or segmentation fault should result.

I am using GDAL 1.3.1.

Thanks,

Rostic

================================= Test Case Code
Begin========================================

// Open dataset1 and dataset2 on the same tiff file with the .aux file
present
// Close dataset2 and then close dataset1.  First destructor goes
through fine,
// but an Access Violation somewhere in 
// GDALDefaultOverviews::~GDALDefaultOverviews() (Line 103) results when
the
// second dataset destructor is called.

#include <gdal.h>
#include <gdal_priv.h>
#include <iostream>

using namespace std;

int main(int argc, char** argv) {
   if(argc != 2) {
      cerr << "Usage: " << argv[0] << " <file name to read>" << endl;
      return 1;
   }
   
   GDALAllRegister();

   GDALDataset *hDataset1 = (GDALDataset *)GDALOpen( argv[1],
GA_ReadOnly);


   if(!hDataset1) {
      cerr << "Could not open dataset 1: " << CPLGetLastErrorMsg() <<
endl;
      return 1;
   }


   GDALDataset *hDataset2 = (GDALDataset *)GDALOpen( argv[1],
GA_ReadOnly);
   if(!hDataset2) {
      cerr << "Could not open dataset 2: " << CPLGetLastErrorMsg() <<
endl;
      return 1;
   }
  delete hDataset2; // Also tried GDALClose(), did not make a
difference.
  delete hDataset1; // Also tried GDALClose(), did not make a
difference.
  return 0;
}
================================= Test Case Code
End========================================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: utm.aux
Type: application/octet-stream
Size: 5056 bytes
Desc: utm.aux
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051102/f3e8813f/utm.obj
From rwaterman at digitalglobe.com  Wed Nov  2 18:36:56 2005
From: rwaterman at digitalglobe.com (Robert Waterman)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] FW Tools file selection
Message-ID: <C1BF1C58F42A304A899E2933C220F48A04C280@COMAIL02.digitalglobe.com>

I am currently working with FWTools0.9.8.  I have built a couple of
tools to add to the OpenEV viewing environment.  It seems that the
version of gtk that this is built on does not support the multiple file
selection method in FileSelection nor does it support the class
ListStore.  Does v1.0.0a5 support these?  If not, is there a solution
which would allow me to implement these methods/classes?
Cheers,
Rob
 
Robert T. Waterman
Digital Mapping Analyst II
DigitalGlobe(r)
(303) 684-4330
rwaterman@digitalglobe.com
www.digitalglobe.com <http://www.digitalglobe.com/> 
 
The information contained in this message is intended only for the
person or entity to which it is addressed. It may contain DIGITALGLOBE
Proprietary or Confidential material. Any review, retransmission,
dissemination or other use of this information by persons or entities
other than the intended recipient is prohibited. If you received this
message in error, please contact the sender and delete or destroy this
message. Thank you.
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051102/bf9a1dce/attachment.html
From starged at videotron.ca  Wed Nov  2 19:00:04 2005
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] FW Tools file selection
In-Reply-To: <C1BF1C58F42A304A899E2933C220F48A04C280@COMAIL02.digitalglobe.com>
References: <C1BF1C58F42A304A899E2933C220F48A04C280@COMAIL02.digitalglobe.com>
Message-ID: <43695304.6030002@videotron.ca>

Hi Robert,

Robert Waterman wrote:
> I am currently working with FWTools0.9.8.  I have built a couple of
> tools to add to the OpenEV viewing environment.  It seems that the
> version of gtk that this is built on does not support the multiple file
> selection method in FileSelection nor does it support the class
> ListStore.  Does v1.0.0a5 support these?  If not, is there a solution
> which would allow me to implement these methods/classes?

You can use the FileDialog class (filedlg.py) for multiple selections.
You can see an example of how I use it in my custom gvviewwindow on my OpenEV tools page:

http://pages.infinit.net/starged/openev/index.htm

However, I don't know about the class ListStore...
As for that old gtk, we are stuck with it :)

BTW, This topic belongs more to the openev-discuss list
(https://lists.sourceforge.net/lists/listinfo/openev-discuss) :)

Cheers,
--
Mario B.

From warmerdam at pobox.com  Wed Nov  2 19:18:02 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] FW Tools file selection
In-Reply-To: <C1BF1C58F42A304A899E2933C220F48A04C280@COMAIL02.digitalglobe.com>
References: <C1BF1C58F42A304A899E2933C220F48A04C280@COMAIL02.digitalglobe.com>
Message-ID: <931f8ea90511021618t5af3d819h74a3831e037852bf@mail.gmail.com>

On 11/2/05, Robert Waterman <rwaterman@digitalglobe.com> wrote:
>
> I am currently working with FWTools0.9.8.  I have built a couple of tools to
> add to the OpenEV viewing environment.  It seems that the version of gtk
> that this is built on does not support the multiple file selection method in
> FileSelection nor does it support the class ListStore.  Does v1.0.0a5
> support these?  If not, is there a solution which would allow me to
> implement these methods/classes?

Robert,

I haven't changed the GTK version since starting the FWTools
releases. I would suggest you ask on the openev-discuss list
where others might have suggestions.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jorn at spacetec.no  Thu Nov  3 08:16:07 2005
From: jorn at spacetec.no (=?iso-8859-1?q?J=F8rn_Vegard_R=F8snes?=)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] CSV of Linestring
Message-ID: <200511031416.07028.jorn@spacetec.no>

Hi all,

I have no luck converting a CSV file of Linestrings to a shapefile.
Could someone give me some clues?

This is the CSV:

coor
LINESTRING (-233950.35 6518319.86,-213912.58 6338485.11)
LINESTRING (-222837.63 6329611.25,-222677.18 6329330.43)
LINESTRING (-222611.28 6329508.51,-222507.84 6329300.95)


This is the VRT:

<OGRVRTDataSource>
    <OGRVRTLayer name="internationals">
        <SrcDataSource 
relativeToVRT="0">/path_to/international_test.csv</SrcDataSource>
        <SrcLayer>international_test</SrcLayer>
        <GeometryType>wkbLineString</GeometryType>
        <GeometryField encoding="WKT" field="coor"/>
        <LayerSRS>epsg:32633</LayerSRS>
    </OGRVRTLayer>
</OGRVRTDataSource>

Error:
~/FWTools/bin_safe/ogr2ogr international international_test.vrt
ERROR 1: Failed to open datasource 
`/home/jorn/ogr_trials/international_test.csv'.
FAILURE:
Unable to open datasource `international_test.vrt' with the following drivers.
...
-> CSV
...

I'm using FWTools 0.9.9.
Thanks

Best Regards
Joern Vegard Roesnes

From warmerdam at pobox.com  Thu Nov  3 09:24:29 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] CSV of Linestring
In-Reply-To: <200511031416.07028.jorn@spacetec.no>
References: <200511031416.07028.jorn@spacetec.no>
Message-ID: <931f8ea90511030624s99b14dcgb084750b554fcdd7@mail.gmail.com>

On 11/3/05, J?rn Vegard R?snes <jorn@spacetec.no> wrote:
> Hi all,
>
> I have no luck converting a CSV file of Linestrings to a shapefile.
> Could someone give me some clues?
>
> This is the CSV:
>
> coor
> LINESTRING (-233950.35 6518319.86,-213912.58 6338485.11)
> LINESTRING (-222837.63 6329611.25,-222677.18 6329330.43)
> LINESTRING (-222611.28 6329508.51,-222507.84 6329300.95)

J?rn,

As it turns out, the OGR CSV driver does not consider the file
to be a .csv file if it does not have at least two fields.  Try
adding an "ID" field or something.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jorn at spacetec.no  Thu Nov  3 09:44:02 2005
From: jorn at spacetec.no (=?iso-8859-1?q?J=F8rn_Vegard_R=F8snes?=)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] CSV of Linestring
In-Reply-To: <931f8ea90511030624s99b14dcgb084750b554fcdd7@mail.gmail.com>
References: <200511031416.07028.jorn@spacetec.no>
	<931f8ea90511030624s99b14dcgb084750b554fcdd7@mail.gmail.com>
Message-ID: <200511031544.02633.jorn@spacetec.no>

Thanks, it seems to work.

On Thursday 03 November 2005 15:24, Frank Warmerdam wrote:
> On 11/3/05, J?rn Vegard R?snes <jorn@spacetec.no> wrote:
> > Hi all,
> >
> > I have no luck converting a CSV file of Linestrings to a shapefile.
> > Could someone give me some clues?
> >
> > This is the CSV:
> >
> > coor
> > LINESTRING (-233950.35 6518319.86,-213912.58 6338485.11)
> > LINESTRING (-222837.63 6329611.25,-222677.18 6329330.43)
> > LINESTRING (-222611.28 6329508.51,-222507.84 6329300.95)
>
> J?rn,
>
> As it turns out, the OGR CSV driver does not consider the file
> to be a .csv file if it does not have at least two fields.  Try
> adding an "ID" field or something.
>
> Best regards,
> --
>
> ---------------------------------------+-----------------------------------
>--- I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com light and sound - activate the windows |
> http://pobox.com/~warmerdam and watch the world go round - Rush    |
> Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Nov  3 10:24:07 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] ArcMap overview AUX files
In-Reply-To: <ED3A48B9840E594890A2BC172D11946504601BE5@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946504601BE5@mailman.san.com>
Message-ID: <931f8ea90511030724j2649192csc70a0e8265846d28@mail.gmail.com>

On 11/2/05, Sheykhet, Rostic <rsheykhet@sanz.com> wrote:
> Hi all,
>
> There appears to be a problem with using ArcMap-created .aux files as
> overviews.
> When I execute the sample test case below, I get an access violation on
> Windows and a segfault on unix.
> This problem has been verified with the
> http://www.gdal.org/dl/data/gtiff/utm.tif file.
> I am attaching the .aux file generated for the utm.tif so that this can
> be tested without ArcMap.

Rostic,

I have verified that this problem is corrected in CVS.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rsheykhet at sanz.com  Thu Nov  3 13:58:41 2005
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] ArcMap overview AUX files
Message-ID: <ED3A48B9840E594890A2BC172D11946504601F07@mailman.san.com>

Frank,

Are there any particular files that I can just patch the 1.3.1 release
with?

Thanks,

Rostic


-----Original Message-----
From: fwarmerdam@gmail.com [mailto:fwarmerdam@gmail.com] On Behalf Of
Frank Warmerdam
Sent: Thursday, November 03, 2005 8:24 AM
To: Sheykhet, Rostic
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] ArcMap overview AUX files

On 11/2/05, Sheykhet, Rostic <rsheykhet@sanz.com> wrote:
> Hi all,
>
> There appears to be a problem with using ArcMap-created .aux files as
> overviews.
> When I execute the sample test case below, I get an access violation
on
> Windows and a segfault on unix.
> This problem has been verified with the
> http://www.gdal.org/dl/data/gtiff/utm.tif file.
> I am attaching the .aux file generated for the utm.tif so that this
can
> be tested without ArcMap.

Rostic,

I have verified that this problem is corrected in CVS.

Best regards,
--
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Nov  3 14:42:18 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] ArcMap overview AUX files
In-Reply-To: <ED3A48B9840E594890A2BC172D11946504601F07@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946504601F07@mailman.san.com>
Message-ID: <931f8ea90511031142k1c5967c7v8da23760f02125bf@mail.gmail.com>

On 11/3/05, Sheykhet, Rostic <rsheykhet@sanz.com> wrote:
> Frank,
>
> Are there any particular files that I can just patch the 1.3.1 release
> with?

Rostic,

I'm not sure exactly.  There are potentially several files in
gdal/gcore and gdal/frmts/hfa that might have been touched as
part of this fix.  But I think if it is an issue, you should just update
to CVS-current.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From sharris at co.volusia.fl.us  Thu Nov  3 12:20:53 2005
From: sharris at co.volusia.fl.us (Sedrick Harris)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] DVF file
	format&In-Reply-To=3E83B147.40202@pobox.com
Message-ID: <s36a00b6.005@gwmta.co.volusia.fl.us>

Hello:

After reading your message, I tried to find a way to get a copy of Sony's PictureGear.  Where - How?  I went to Sony's "esupport" site - some support that was - and couldn't find a way to download the software.  When I tried to click the link for it (from Google lookup), it said, "...can't load - go to Sony esupport web...."

Any ideas or help would be greatly appreciated.

Sed



From carl.anderson at vadose.org  Thu Nov  3 21:43:11 2005
From: carl.anderson at vadose.org (Carl Anderson)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Re: [GRASS5] gdal 1.3.1 and Terra ASTER hdf files
In-Reply-To: <BF8FF960.1B777%michael.barton@asu.edu>
References: <BF8FF960.1B777%michael.barton@asu.edu>
Message-ID: <436ACABF.9000905@vadose.org>

Michael Barton wrote:

> I work with the GRASS GIS project and haven?t been able to import and 
> georeference Terra ASTER hdf files since gdal version 1.2.6. I 
> recently compiled and installed the most recent 1.3.1 (as of last 
> week) and it still produces errors (see below). As an update, I just 
> tried r.in.gdal from GRASS 6.1 cvs and it will not import the ASTER 
> files either. First it did not recognize the projection, so I set the 
> override projection flag. Then it won?t recognize a band number or 
> import all bands (default).
>
> So, back to my original question, what has changed since 1.2.6 that 
> keeps me from importing ASTER?s? Could this be fixed?
>
I'll try to relate what I understand. The GDAL 1.2.6 driver was limited 
and did not do a very good job with all of the information in HDF files. 
The old HDF sub driver was changed to newer driver to improve the 
overall quality. In 1.2.9? (certainly by 1.3.0) the driver was working 
well. The downside is that you cannot directly "read" projected data 
from a HDF and must gdalwarp L1A and L2A HDF files to a specific 
projection to get access to projected data. If you look at any ASTER HDF 
file you will see projected data mixed in with sensor calibration 
samples and other non geophysical data. I suspect that is the reason 
that a ASTER HDF appears unprojected through the GDAL drivers.


FWTools 1.0.0a4 == GDAL 1.3.1.0, FWTools 1.0.0a4, released 2005/10/15

/usr/local/FWTools-linux-1.0.0a4/bin_safe/gdalinfo 
AST_L1B_00306152005162314_06242005150609.hdf
...
PGEVERSION=06.00R00
PROCESSINGLEVELID=1B
MAPPROJECTIONNAME=Universal Transverse Mercator
Subdatasets:
SUBDATASET_1_NAME=HDF4_EOS:EOS_SWATH:"AST_L1B_00306152005162314_06242005150609.hdf":VNIR_Swath:ImageData1
SUBDATASET_1_DESC=[4200x4980] ImageData1 (8-bit unsigned integer)
SUBDATASET_2_NAME=HDF4_EOS:EOS_SWATH:"AST_L1B_00306152005162314_06242005150609.hdf":VNIR_Swath:ImageData2
SUBDATASET_2_DESC=[4200x4980] ImageData2 (8-bit unsigned integer)
...
Corner Coordinates:
Upper Left ( 0.0, 0.0)
Lower Left ( 0.0, 512.0)
Upper Right ( 512.0, 0.0)
Lower Right ( 512.0, 512.0)
Center ( 256.0, 256.0)




/usr/local/FWTools-linux-1.0.0a4/bin_safe/gdalwarp -t_srs EPSG:26916 
HDF4_EOS:EOS_SWATH:"AST_L1B_00306152005162314_06242005150609.hdf":VNIR_Swath:ImageData1 
-tps b.tif


/usr/local/FWTools-linux-1.0.0a4/bin_safe/gdalinfo b.tif
...
Upper Left ( 714191.497, 3718692.860) ( 84d41'31.09"W, 33d35'11.27"N)
...


You will need to warp each band from the HDF file before importing.

C.


> Thanks much
> Michael Barton
>
> ______________________________
> Michael Barton, Professor of Anthropology
> School of Human Evolution and Social Change
> Arizona State University
> Tempe, AZ 85287-2402
> USA
>
> voice: 480-965-6262; fax: 480-965-7671
> www: http://www.public.asu.edu/~cmbarton 
> <http://www.public.asu.edu/%7Ecmbarton>
>
>
>
> On Thu, Nov 03, 2005 at 09:02:00AM -0700, Michael Barton wrote:
>> I tried to import Terra ASTER hdf files using the latest gdalwarp and my
>> r.in.aster script last week, after compiling the latest version 
> (1.3.1) of
>> gdal. It still gives an error that gdal cannot read the projection 
> info in
>> the ASTER hdf's. This has been an issue since 1.2.7 (version 1.2.6 still
>> works fine on my Mac).
>>
>> I haven't tried r.in.gdal, but suspect that I'd have similar problems
>> (please correct me if wrong!).
>>
>> Is there a fix or workaround to this? All ASTERs are in WGS84, UTM
>> projection (the zone varies of course).
>>
>> Michael
>> ______________________________
>> Michael Barton, Professor of Anthropology
>> School of Human Evolution and Social Change
>> Arizona State University
>> Tempe, AZ 85287-2402
>> USA
>>
>> voice: 480-965-6262; fax: 480-965-7671
>> www: _http://www.public.asu.edu/~cmbarton 
> <http://www.public.asu.edu/%7Ecmbarton>
> _>
>>
>> > From: Hamish <_hamish_nospam@yahoo.com_>
>> > Date: Thu, 3 Nov 2005 14:44:44 +1300
>> > To: Jonathan Greenberg <_jgreenberg@arc.nasa.gov_>
>> > Cc: <_GRASSLIST@baylor.edu_>
>> > Subject: [GRASSLIST:8849] Re: HDF files?
>> >
>> >> Is there any way to get HDF files into GRASS? I saw there is an
>> >> r.in.hdf command, but Grass 6.0.1 on MacOS X is throwing and error
>> >> when I try it: command not found
>> >
>> > Use r.in.gdal, but GDAL must be built using the --with-hdf4 switch.
>> >
>> > _http://www.remotesensing.org/gdal/frmt_hdf4.html
> _> >
>> > try "gdal_translate --formats" and check for:
>> >
>> > HDF4 (ro): Hierarchical Data Format Release 4
>> > HDF4Image (rw+): HDF4 Dataset
>> >
>> >
>> > or just "gdalinfo <dataset>" and see if it understands the file(s).
>> >
>> >
>> > "r.in.gdal -f in=dummy out=dummy" will also list supported GDAL 
> formats.
>> > (often there will be about 50 of them)
>> >
>> >
>> >
>> > Hamish
>>



From moon_inwell at 163.com  Fri Nov  4 03:30:24 2005
From: moon_inwell at 163.com (lky)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] How can I get coordinate system and projection from
	shape files?
References: <002301c5ddf9$316b06a0$7ef9a8c0@lky>
	<931f8ea90510310703x2fa56c41paac301d4f0bde25@mail.gmail.com>
	<001201c5dead$24ce1040$7ef9a8c0@lky>
	<931f8ea90511010644p3f1c882cl75e1a99a20746949@mail.gmail.com>
Message-ID: <001701c5e11a$00f54340$7ef9a8c0@lky>

Frank Warmerdam,

Thanks for your help.

I met another question about coordinate system and projection.

I read the data from the shapefile by OGRSFDriverRegistrar::Open() method , then I transform the data by OGRCoordinateTransformation::Transform() method. But the coordinate system and projection of the OGRDataSource is not changed at all.

How can I change the spatial reference?

The following is my program.
/-----------------------------------------------------------------------------------------------------------------------------------------------------
 OGRDataSource*    poDS = OGRSFDriverRegistrar::Open(sourcefile,FALSE);                            //Open Source Data
 for (i=0;i<poDS->GetLayerCount();i++)
 {
  OGRLayer*                    poLayer = poDS->GetLayer(i);                                                                    //Open Layer
  OGRSpatialReference*    pSourceSRS = poLayer->GetSpatialRef();                                                   //Open Spatial Reference
  OGRSpatialReference*    pTargetSRS = pSourceSRS->Clone();                                                         //Define target  Spatial Reference
  pTargetSRS->SetProjCS("TM"); 
  pTargetSRS->SetTM(0,0,1,0,0);
  OGRCoordinateTransformation*    poCT = OGRCreateCoordinateTransformation(pSourceSRS,pTargetSRS);    //Create Coordiante Transform
  poLayer->ResetReading();
 OGRFeature      *poFeature;
  while ((poFeature = poLayer->GetNextFeature()) != NULL)                        //Open Feature
  {
   poGeometry = poFeature->GetGeometryRef();                                            //Open Geometry
   if (poGeometry !=NULL)   
   {
    if (wkbFlatten(poGeometry->getGeometryType()) == wkbPoint)                //point
    {
     OGRPoint *poPoint = (OGRPoint *) poGeometry;                                    //Get coordiante
     x = poPoint->getX();
     y = poPoint->getY();
     if (poCT == NULL || !poCT->Transform(1,&x,&y))                                //transform x,y
     {
      err = 3;   
      return NULL;   
    }
     poPoint->setX(x);                                                                                    //Set coordinate
     poPoint->setY(y);
    }//if
   OGRFeature::DestroyFeature(poFeature);                                                //deal feature
  }//while -- feature loop
 }//for -- layer loop
 return poDS;                                                                                                //return data source
------------------------------------------------------------------------------------------------------------------------------------------------/
Best regards,

Kunyang Li 


From jorn at spacetec.no  Fri Nov  4 05:33:30 2005
From: jorn at spacetec.no (=?iso-8859-1?q?J=F8rn_Vegard_R=F8snes?=)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] CSV of Linestring
In-Reply-To: <931f8ea90511030624s99b14dcgb084750b554fcdd7@mail.gmail.com>
References: <200511031416.07028.jorn@spacetec.no>
	<931f8ea90511030624s99b14dcgb084750b554fcdd7@mail.gmail.com>
Message-ID: <200511041133.30162.jorn@spacetec.no>

Hi all/Frank,

one probably small issue, the VRT driver seems to interpret my Linestrings as 
normal Strings

ogrinfo <shapefile>
<snip>
id: String (80.0)
LINESTRING: String (80.0)
OGRFeature(internationals):0
  id (String) = 1
  LINESTRING (String) = LINESTRING (1182671.21 7954218.71
<snip>

This is ogrinfo from a working Linestring shapefile:
OGRFeature(border):1
  FNODE_ (Real) =           3
  TNODE_ (Real) =           5
  LPOLY_ (Real) =           0
  RPOLY_ (Real) =           0
  LENGTH (Real) =      8365.013
  BORDER_ (Real) =           2
  BORDER_ID (Real) =         110
  LINESTRING (1078197.5 -1851469.5,1077982.5 -1851531.25,1077456.125 
-1851837.375,1076802.625 -1852318.0,1076262.5
 -1852786.25,1076109.875 -1853430.5,1076323.625 -1854017.625,1076828.625 
-1854581.125,1077860.625 -1854837.625,107
8835.5 -1854426.5,1079887.25 -1854060.25,1080611.875 -1853993.875)


My CSV file (some of):
id, LINESTRING
1, LINESTRING (1182671.21 7954218.71,1182923.04 7954570.63,1185138.41 
7957665.21,1187360.57 7960754.83,1188034.93
7961681.60)
 2, LINESTRING (1182671.21 7954218.71,1182671.21 7954218.71)

my VRT file:
<OGRVRTDataSource>
    <OGRVRTLayer name="internationals">
        <SrcDataSource 
relativeToVRT="0">/path/to/international.csv</SrcDataSource>
        <SrcLayer>international</SrcLayer>
        <GeometryType>wkbLineString</GeometryType>
        <GeometryField encoding="WKB" field="LINESTRING"/>
        <LayerSRS>epsg:32633</LayerSRS>
    </OGRVRTLayer>
</OGRVRTDataSource>

All ideas are welcome?
I've also tried different names for the WKB-field than "LINESTRING".

Best Regards
Joern

>
> J?rn,
>
> As it turns out, the OGR CSV driver does not consider the file
> to be a .csv file if it does not have at least two fields.  Try
> adding an "ID" field or something.
>
> Best regards,
> --
>
> ---------------------------------------+-----------------------------------
>--- I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com light and sound - activate the windows |
> http://pobox.com/~warmerdam and watch the world go round - Rush    |
> Geospatial Programmer for Rent

From jorn at spacetec.no  Fri Nov  4 06:53:16 2005
From: jorn at spacetec.no (=?iso-8859-1?q?J=F8rn_Vegard_R=F8snes?=)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] CSV of Linestring
In-Reply-To: <200511041133.30162.jorn@spacetec.no>
References: <200511031416.07028.jorn@spacetec.no>
	<931f8ea90511030624s99b14dcgb084750b554fcdd7@mail.gmail.com>
	<200511041133.30162.jorn@spacetec.no>
Message-ID: <200511041253.16329.jorn@spacetec.no>

On Friday 04 November 2005 11:33, J?rn Vegard R?snes wrote:
> Hi all/Frank,
>
> one probably small issue, the VRT driver seems to interpret my Linestrings
> as normal Strings

I found a posting from 23.June 2005 where Frank told someone to use wkt as 
field and put "" around the value in the CSV file, example:

id, wkt
1, "LINESTRING (1300164.14 8149416.58,1300164.14 8149416.58)"

Best Regards
Joern

From warmerdam at pobox.com  Fri Nov  4 09:54:12 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] CSV of Linestring
In-Reply-To: <200511041133.30162.jorn@spacetec.no>
References: <200511031416.07028.jorn@spacetec.no>
	<931f8ea90511030624s99b14dcgb084750b554fcdd7@mail.gmail.com>
	<200511041133.30162.jorn@spacetec.no>
Message-ID: <931f8ea90511040654xe593caam3ffed2d433367a76@mail.gmail.com>

On 11/4/05, J?rn Vegard R?snes <jorn@spacetec.no> wrote:
> Hi all/Frank,
>
> one probably small issue, the VRT driver seems to interpret my Linestrings as
> normal Strings
>
> ogrinfo <shapefile>
> <snip>
> id: String (80.0)
> LINESTRING: String (80.0)
> OGRFeature(internationals):0
>   id (String) = 1
>   LINESTRING (String) = LINESTRING (1182671.21 7954218.71
...
> my VRT file:
> <OGRVRTDataSource>
>     <OGRVRTLayer name="internationals">
>         <SrcDataSource
> relativeToVRT="0">/path/to/international.csv</SrcDataSource>
>         <SrcLayer>international</SrcLayer>
>         <GeometryType>wkbLineString</GeometryType>
>         <GeometryField encoding="WKB" field="LINESTRING"/>
>         <LayerSRS>epsg:32633</LayerSRS>
>     </OGRVRTLayer>
> </OGRVRTDataSource>
>
> All ideas are welcome?
> I've also tried different names for the WKB-field than "LINESTRING".

J?rn,

As I think you noted in your later email, you want encoding="WKT"
not encoding="WKB".  However, there is currently no way to stop the
geometry field from also coming through as a regular field in the
VRT output (I think).

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Fri Nov  4 10:30:59 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] How can I get coordinate system and projection from
	shape files?
In-Reply-To: <001701c5e11a$00f54340$7ef9a8c0@lky>
References: <002301c5ddf9$316b06a0$7ef9a8c0@lky>
	<931f8ea90510310703x2fa56c41paac301d4f0bde25@mail.gmail.com>
	<001201c5dead$24ce1040$7ef9a8c0@lky>
	<931f8ea90511010644p3f1c882cl75e1a99a20746949@mail.gmail.com>
	<001701c5e11a$00f54340$7ef9a8c0@lky>
Message-ID: <931f8ea90511040730wbb22961h1c99082c944ea381@mail.gmail.com>

On 11/4/05, lky <moon_inwell@163.com> wrote:
> I read the data from the shapefile by OGRSFDriverRegistrar::Open() method , then I transform the data by OGRCoordinateTransformation::Transform() method. But the coordinate system and projection of the OGRDataSource is not changed at all.

Kunyang Li,

You just transformed the point location, you didn't do anything to
change the coordinate system of the layer as a whole.   You also
didn't do anything to actually write the results back out to the original
layer (if that was your intention).   I'm not sure that in-place update is
even supported by the Shapefile driver.

> How can I change the spatial reference?

 o Create a new layer for the output.
 o Make sure you pass the altered OGRSpatialReference to the
    CreateLayer() call.
 o You might as well just call transform() on the geometry
    instead of extracting the point and transforming that.

Make sure you follow the translation example on the OGR page.
It is important to create create all the fields on the new layer
with CreateLayer(), and to make sure the feature get converted
from the old layer definition to the new layer definition (even
though they seem the same).

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jeff at propertykey.com  Fri Nov  4 17:09:58 2005
From: jeff at propertykey.com (Jeff Hoffmann)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] trouble converting units in raster images
Message-ID: <436BDC36.10304@propertykey.com>

I have a raster layer that is composed of a few hundred GeoTIFF files; 
all of the files are NAD83 / Alabama West, although some have the units 
set to meters, other are feet.  I'm trying to get them all to the same 
units, but I can't figure out how to do that.  I'm trying to do it with 
gdalwarp (with parameters "-s_srs '+init=epsg:26930 +units=ft' -t_srs 
'+init=epsg:26930'").  I'm using GDAL version 1.3.1.0.  The command 
changes the coordinate system information when I do a gdalinfo on the 
file, but the origin, pixel size, corner coordinates all stay the same 
numbers.  Is there something I'm not doing right?  It seems like it 
should be pretty straightforward.  Or is there some other way to 
accomplish this if it just won't work?

Here's the output of gdalinfo for the source image:
Driver: GTiff/GeoTIFF
Size is 11901, 11901
Coordinate System is:
PROJCS["NAD83 / Alabama West",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.2572221010042,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4269"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",30],
     PARAMETER["central_meridian",-87.5],
     PARAMETER["scale_factor",0.999933333],
     PARAMETER["false_easting",1968503.937007874],
     PARAMETER["false_northing",0],
     UNIT["foot",0.3048,
         AUTHORITY["EPSG","9002"]],
     AUTHORITY["EPSG","26930"]]
Origin = (2258137.650000,1143690.600000)
Pixel Size = (0.50000000,-0.50000000)
Metadata:
   AREA_OR_POINT=Area
   TIFFTAG_XRESOLUTION=0
   TIFFTAG_YRESOLUTION=0
   TIFFTAG_RESOLUTIONUNIT=1 (unitless)
Corner Coordinates:
Upper Left  ( 2258137.650, 1143690.600) ( 86d33'13.69"W, 33d 8'25.96"N)
Lower Left  ( 2258137.650, 1137740.100) ( 86d33'14.32"W, 33d 7'27.09"N)
Upper Right ( 2264088.150, 1143690.600) ( 86d32'3.72"W, 33d 8'25.42"N)
Lower Right ( 2264088.150, 1137740.100) ( 86d32'4.36"W, 33d 7'26.55"N)
Center      ( 2261112.900, 1140715.350) ( 86d32'39.02"W, 33d 7'56.25"N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Gray
   Overviews: 5950x5950, 2975x2975, 1487x1487, 743x743, 371x371, 
185x185, 92x92, 46x46

The gdalinfo for the resulting image is:
Driver: GTiff/GeoTIFF
Size is 11901, 11901
Coordinate System is:
PROJCS["NAD83 / Alabama West",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.2572221010042,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4269"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",30],
     PARAMETER["central_meridian",-87.5],
     PARAMETER["scale_factor",0.999933333],
     PARAMETER["false_easting",600000],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","26930"]]
Origin = (2258137.650000,1143690.600000)
Pixel Size = (0.50000000,-0.50000000)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  ( 2258137.650, 1143690.600) ( 68d30'8.16"W, 38d43'40.10"N)
Lower Left  ( 2258137.650, 1137740.100) ( 68d30'58.27"W, 38d40'37.64"N)
Upper Right ( 2264088.150, 1143690.600) ( 68d26'15.32"W, 38d43'0.73"N)
Lower Right ( 2264088.150, 1137740.100) ( 68d27'5.58"W, 38d39'58.34"N)
Center      ( 2261112.900, 1140715.350) ( 68d28'36.83"W, 38d41'49.22"N)
Band 1 Block=11901x1 Type=Byte, ColorInterp=Gray


-- 
Jeff Hoffmann
jeff@propertykey.com

From szekerest at gmail.com  Fri Nov  4 17:25:38 2005
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] OGR ODBC driver unable to read large text fields properly
Message-ID: <f3b73b7d0511041425i4d71df58u@mail.gmail.com>

Hi list,

It seems that the OGR ODBC driver does not handle large text fields
(like WKT) properly. The OGR driver loads the data by 511 byte chunks
but leaves the terminating zero byte in the buffer after reading the
next chunk. It causes that only the first 511 byte will be considered
as the field value have been read.

Could anyone help to fix this problem.


Tamas Szekeres


From jeff at propertykey.com  Fri Nov  4 18:07:21 2005
From: jeff at propertykey.com (Jeff Hoffmann)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] trouble converting units in raster images
In-Reply-To: <436BDC36.10304@propertykey.com>
References: <436BDC36.10304@propertykey.com>
Message-ID: <436BE9A9.6060301@propertykey.com>

Jeff Hoffmann wrote:
> I have a raster layer that is composed of a few hundred GeoTIFF files; 
> all of the files are NAD83 / Alabama West, although some have the units 
> set to meters, other are feet.  I'm trying to get them all to the same 
> units, but I can't figure out how to do that.  I'm trying to do it with 
> gdalwarp (with parameters "-s_srs '+init=epsg:26930 +units=ft' -t_srs 
> '+init=epsg:26930'").  I'm using GDAL version 1.3.1.0.  The command 
> changes the coordinate system information when I do a gdalinfo on the 
> file, but the origin, pixel size, corner coordinates all stay the same 
> numbers.  Is there something I'm not doing right?  It seems like it 
> should be pretty straightforward.  Or is there some other way to 
> accomplish this if it just won't work?

OK, I feel a little stupid now, but also a little confused.  To get this 
to work, I removed the "-s_srs '+init=epsg:26930 +units=ft'" and just 
used the "-t_srs '+init=epsg:26930'".  I don't know why that worked 
because the source SRS parameter should match what was in the file, but 
apparently something must be different.  That's not the confusing part, 
though.  I tried a bunch of different parameter combinations and 
sometimes I would delete the existing target file and sometimes I 
wouldn't.  It would just happily run if there was an existing target 
file (or at least it didn't give me an error) but the corner 
coordinates/pixel size always stayed the same even though the units 
changed (the coordinate system information did get updated from ft->m).

-- 
Jeff Hoffmann
jeff@propertykey.com

From warmerdam at pobox.com  Fri Nov  4 23:37:56 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] trouble converting units in raster images
In-Reply-To: <436BE9A9.6060301@propertykey.com>
References: <436BDC36.10304@propertykey.com> <436BE9A9.6060301@propertykey.com>
Message-ID: <931f8ea90511042037t4eb76dbfv23df3097ab949097@mail.gmail.com>

On 11/4/05, Jeff Hoffmann <jeff@propertykey.com> wrote:
> Jeff Hoffmann wrote:
> > I have a raster layer that is composed of a few hundred GeoTIFF files;
> > all of the files are NAD83 / Alabama West, although some have the units
> > set to meters, other are feet.  I'm trying to get them all to the same
> > units, but I can't figure out how to do that.  I'm trying to do it with
> > gdalwarp (with parameters "-s_srs '+init=epsg:26930 +units=ft' -t_srs
> > '+init=epsg:26930'").  I'm using GDAL version 1.3.1.0.  The command
> > changes the coordinate system information when I do a gdalinfo on the
> > file, but the origin, pixel size, corner coordinates all stay the same
> > numbers.  Is there something I'm not doing right?  It seems like it
> > should be pretty straightforward.  Or is there some other way to
> > accomplish this if it just won't work?
>
> OK, I feel a little stupid now, but also a little confused.  To get this
> to work, I removed the "-s_srs '+init=epsg:26930 +units=ft'" and just
> used the "-t_srs '+init=epsg:26930'".  I don't know why that worked
> because the source SRS parameter should match what was in the file, but
> apparently something must be different.  That's not the confusing part,
> though.  I tried a bunch of different parameter combinations and
> sometimes I would delete the existing target file and sometimes I
> wouldn't.  It would just happily run if there was an existing target
> file (or at least it didn't give me an error) but the corner
> coordinates/pixel size always stayed the same even though the units
> changed (the coordinate system information did get updated from ft->m).

Jeff,

I don't believe that '+init=epsg:26930 +units=ft' does what you
want with GDAL.  GDAL has it's own PROJ.4 coordinate system
parsing logic which would kick in for this case, but GDAL's PROJ.4
parsing is rather incomplete.

Amoung other things, it doesn't know about init files, but does
have a special case to expand EPSG projections for +init=epsg:###.
But in this case it ignores everything else and takes the EPSG
definition without modification.

What you can do is just use the full EPSG:26930, and replace
+units=m with +units=ft.

eg.
+proj=lcc +lat_1=37.93333333333333 +lat_2=36.73333333333333  
+lat_0=36.33333333333334 +lon_0=-85.75 +x_0=500000 +y_0=500000
+ellps=GRS80 +datum=NAD83 +units=ft

So, use that as -s_srs in your gdalwarp, and the normal
version as -t_srs.  That _should_ work.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From tzhai2002 at yahoo.com  Sat Nov  5 00:56:49 2005
From: tzhai2002 at yahoo.com (Bruce Bill)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] compile swig problem
Message-ID: <20051105055650.22073.qmail@web60419.mail.yahoo.com>

Hi, all,

 I am getting this error message when I compile
gdal-1.3.1, it happens when it starts to compile the
swig wrappers:

for dir in ; do (cd $dir; make build ); done
/bin/sh: syntax error at line 1: `;' unexpected
make: *** [build] Error 2

below is my configure command:

 ./configure  --prefix=$HOME \
 --with-libz=/usr/local/lib \
 --with-png=/usr/local/lib \
 --with-libtiff=/usr/local/lib \
 --with-jpeg=/usr/local/lib \
 --with-static-proj4=/usr/local/lib \
 --with-python=no \
 --with-perl=no \
 --with-ruby=no \
 --with-csharp=no \
 --with-php=no \
 --without-grass

my platform:
Machine hardware:   sun4u
OS version:         5.9
Processor type:     sparc
Hardware:           SUNW,Sun-Fire-V440
Sun Studio 10 compiler suite

 I searched high and lows, can't find anything
relevent. Please help!
Thanks a bundle.
 Tony




	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

From szekerest at gmail.com  Sat Nov  5 09:12:59 2005
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] RE: OGR ODBC driver unable to read large text fields
	properly
In-Reply-To: <f3b73b7d0511041425i4d71df58u@mail.gmail.com>
Message-ID: <436cbde9.2fa550a3.05de.4821@mx.gmail.com>

I have posted a bug report with a proposed solution at

http://bugzilla.remotesensing.org/show_bug.cgi?id=990


Tamas Szekeres


 

-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: Friday, November 04, 2005 11:26 PM
To: gdal-dev@lists.maptools.org
Subject: OGR ODBC driver unable to read large text fields properly

Hi list,

It seems that the OGR ODBC driver does not handle large text fields
(like WKT) properly. The OGR driver loads the data by 511 byte chunks
but leaves the terminating zero byte in the buffer after reading the
next chunk. It causes that only the first 511 byte will be considered
as the field value have been read.

Could anyone help to fix this problem.


Tamas Szekeres

-- 
No virus found in this incoming message.
Checked by AVG Free Edition.
Version: 7.1.362 / Virus Database: 267.12.8/161 - Release Date: 2005.11.03.
 

-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.362 / Virus Database: 267.12.8/161 - Release Date: 2005.11.03.
 


From bigfoot at main-task.com  Sat Nov  5 09:28:28 2005
From: bigfoot at main-task.com (=?ISO-8859-1?Q?Vladimir_Guzm=E1n?=)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] vector ilwis driver
Message-ID: <436CC18C.1040104@main-task.com>

Hello, list.

I'm sorry to disturb you, and I apologize if this is an off-topic question, but it is really important for me
to know if I can read Ilwis vector files through gdal.

Or if somebody knows something about this format, or where I can get information about it.

I appreciate any help.

Thanks a lot in advance,

-- 
Vladimir Ilich Guzm?n R.
------------------------
http://maintask.com


From warmerdam at pobox.com  Sat Nov  5 10:55:38 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] vector ilwis driver
In-Reply-To: <436CC18C.1040104@main-task.com>
References: <436CC18C.1040104@main-task.com>
Message-ID: <931f8ea90511050755g7cf7941bo29ad29c355abbf93@mail.gmail.com>

On 11/5/05, Vladimir Guzm?n <bigfoot@main-task.com> wrote:
> Hello, list.
>
> I'm sorry to disturb you, and I apologize if this is an off-topic question, but it is really important for me
> to know if I can read Ilwis vector files through gdal.
>
> Or if somebody knows something about this format, or where I can get information about it.

Vladimir,

My understanding is that we only have support for
ILWIS raster data, not vector data.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From tzhai2002 at yahoo.com  Sat Nov  5 12:05:55 2005
From: tzhai2002 at yahoo.com (Bruce Bill)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] compile swig problem
Message-ID: <20051105170555.70792.qmail@web60425.mail.yahoo.com>

Hi, list,
   as shown in my previous posting, I 've disabled all
the swig wrapper components (perl, php etc) by setting
--with- flag to no, somehow when make, it still
entering the swig directory to try to make build?!
   I just couldn't get around that syntax error
problem for the swig component, so I try to get rid of
it during the make process, how do I do that?
   Please help.
   Thanks


	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

From michael.barton at asu.edu  Thu Nov  3 19:29:04 2005
From: michael.barton at asu.edu (Michael Barton)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] gdal 1.3.1 and Terra ASTER hdf files
Message-ID: <BF8FF960.1B777%michael.barton@asu.edu>

I work with the GRASS GIS project and haven?t been able to import and
georeference Terra ASTER hdf files since gdal version 1.2.6. I recently
compiled and installed the most recent 1.3.1 (as of last week) and it still
produces errors (see below). As an update, I just tried r.in.gdal from GRASS
6.1 cvs and it will not import the ASTER files either. First it did not
recognize the projection, so I set the override projection flag. Then it
won?t recognize a band number or import all bands (default).

So, back to my original question, what has changed since 1.2.6 that keeps me
from importing ASTER?s? Could this be fixed?

Thanks much
Michael Barton

______________________________
Michael Barton, Professor of Anthropology
School of Human Evolution and Social Change
Arizona State University
Tempe, AZ  85287-2402
USA

voice: 480-965-6262; fax: 480-965-7671
www: http://www.public.asu.edu/~cmbarton



On Thu, Nov 03, 2005 at 09:02:00AM -0700, Michael Barton wrote:
> I tried to import Terra ASTER hdf files using the latest gdalwarp and my
> r.in.aster script last week, after compiling the latest version (1.3.1) of
> gdal. It still gives an error that gdal cannot read the projection info in
> the ASTER hdf's. This has been an issue since 1.2.7 (version 1.2.6 still
> works fine on my Mac).
> 
> I haven't tried r.in.gdal, but suspect that I'd have similar problems
> (please correct me if wrong!).
> 
> Is there a fix or workaround to this? All ASTERs are in WGS84, UTM
> projection (the zone varies of course).
> 
> Michael
> ______________________________
> Michael Barton, Professor of Anthropology
> School of Human Evolution and Social Change
> Arizona State University
> Tempe, AZ  85287-2402
> USA
> 
> voice: 480-965-6262; fax: 480-965-7671
> www: http://www.public.asu.edu/~cmbarton
> 
> 
> > From: Hamish <hamish_nospam@yahoo.com>
> > Date: Thu, 3 Nov 2005 14:44:44 +1300
> > To: Jonathan Greenberg <jgreenberg@arc.nasa.gov>
> > Cc: <GRASSLIST@baylor.edu>
> > Subject: [GRASSLIST:8849] Re: HDF files?
> > 
> >> Is there any way to get HDF files into GRASS?  I saw there is an
> >> r.in.hdf command, but Grass 6.0.1 on MacOS X is throwing and error
> >> when I try it: command not found
> > 
> > Use r.in.gdal, but GDAL must be built using the --with-hdf4 switch.
> > 
> > http://www.remotesensing.org/gdal/frmt_hdf4.html
> > 
> > try "gdal_translate --formats" and check for:
> > 
> >   HDF4 (ro): Hierarchical Data Format Release 4
> >   HDF4Image (rw+): HDF4 Dataset
> > 
> > 
> > or just "gdalinfo <dataset>" and see if it understands the file(s).
> > 
> > 
> > "r.in.gdal -f in=dummy out=dummy" will also list supported GDAL formats.
> > (often there will be about 50 of them)
> > 
> > 
> > 
> > Hamish
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051103/3ea0fe48/attachment.html
From michael.barton at asu.edu  Thu Nov  3 23:34:24 2005
From: michael.barton at asu.edu (Michael Barton)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Re: [GRASS5] gdal 1.3.1 and Terra ASTER hdf files
In-Reply-To: <436ACABF.9000905@vadose.org>
Message-ID: <BF9032E0.65BE%michael.barton@asu.edu>

Thanks for the information Carl.

> From: Carl Anderson <carl.anderson@vadose.org>
> Date: Thu, 03 Nov 2005 21:43:11 -0500
> To: Michael Barton <michael.barton@asu.edu>
> Cc: <gdal-dev@lists.maptools.org>, Hamish <hamish_nospam@yahoo.com>, GRASS
> Developer's List <grass5@grass.itc.it>
> Subject: Re: [GRASS5] gdal 1.3.1 and Terra ASTER hdf files
> 
> I'll try to relate what I understand. The GDAL 1.2.6 driver was limited
> and did not do a very good job with all of the information in HDF files.
> The old HDF sub driver was changed to newer driver to improve the
> overall quality. In 1.2.9? (certainly by 1.3.0) the driver was working
> well. The downside is that you cannot directly "read" projected data
> from a HDF and must gdalwarp L1A and L2A HDF files to a specific
> projection to get access to projected data.

Snip snip
 
> 
> You will need to warp each band from the HDF file before importing.
> 

So how do I do this? The r.in.aster script that I wrote for GRASS awhile
back essentially runs gdalwarp on each image band (one at a time) as
follows...

gdalwarp -t_srs "`g.proj -jf`" $srcfile $tempfile

It gets the target projection data from GRASS and doesn't specify the source
(i.e., ASTER) projection data. This seems to be what you are recommending.
However, gdalwarp still chokes on the ASTER source projection information.

Any suggestions? Running gdalinfo on an ASTER reveals projection
information. Is there some way to grep that info into a format that gdalwarp
would accept? Or is it a larger problem (i.e., that it ignores GCP's or
something).

Michael
__________________________________________
Michael Barton, Professor of Anthropology
School of Human Evolution and Social Change
Arizona State University
Tempe, AZ 85287-2402

phone: 480-965-6213
fax: 480-965-7671
www: http://www.public.asu.edu/~cmbarton



From warmerdam at pobox.com  Sun Nov  6 10:52:31 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] compile swig problem
In-Reply-To: <20051105170555.70792.qmail@web60425.mail.yahoo.com>
References: <20051105170555.70792.qmail@web60425.mail.yahoo.com>
Message-ID: <931f8ea90511060752g7ba5ce49v574b39df77a29075@mail.gmail.com>

On 11/5/05, Bruce Bill <tzhai2002@yahoo.com> wrote:
> Hi, list,
>    as shown in my previous posting, I 've disabled all
> the swig wrapper components (perl, php etc) by setting
> --with- flag to no, somehow when make, it still
> entering the swig directory to try to make build?!
>    I just couldn't get around that syntax error
> problem for the swig component, so I try to get rid of
> it during the make process, how do I do that?

Bruce,

I suspect the problem is that traditional /bin/sh (normally
used under Solaris) does not support an empty item list
in a for loop where as we don't run into this with bash on
linux platforms.

To work around this try editing gdal/GNUmakefile
and changing:

swig-target:
	(cd swig; $(MAKE) build)

to:
swig-target:

I would also appreciate it if you could file a bug on this in
bugzilla so we can ensure it is fixed for the 1.3.2 release.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From starged at videotron.ca  Sun Nov  6 18:22:12 2005
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] ANN: Fusion Tool major update
Message-ID: <436E9024.9020406@videotron.ca>

Hi all,

This is to announce a major revision of my fusion tool for OpenEV.
However, I don't really have time now to fully test it so I'm hoping
those interested in this tool will give it a real try out and report
any bug encountered :)

You can find it at the usual place:
http://pages.infinit.net/starged/openev/index.htm

Thanks for your attention.
--
Mario B.

From moon_inwell at 163.com  Mon Nov  7 02:50:33 2005
From: moon_inwell at 163.com (lky)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] How to copy a geometry without the spatial reference
	system ?
Message-ID: <000801c5e36f$ee851020$7ef9a8c0@lky>

Hello,every one

I want to copy a geometry without the spatial reference system orginal.

How can I do?

Thanks a lot.

Kunyang Li
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051107/150fff1a/attachment.html
From warmerdam at pobox.com  Mon Nov  7 08:33:22 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] How to copy a geometry without the spatial reference
	system ?
In-Reply-To: <000801c5e36f$ee851020$7ef9a8c0@lky>
References: <000801c5e36f$ee851020$7ef9a8c0@lky>
Message-ID: <931f8ea90511070533u662048d9wfa361406bcaa89e5@mail.gmail.com>

On 11/7/05, lky <moon_inwell@163.com> wrote:
>
> Hello,every one
>
> I want to copy a geometry without the spatial reference system orginal.
>
> How can I do?

Kunyang Li,

The Clone() method on a geometry can be used to make a copy
in memory.  It will also copy the spatial reference if the original
has one.  I'm not sure what you mean by copying "without the
spatial reference".  You can always call assignSpatialReference(NULL)
on the new geometry after cloning it from the original to clear the
spatialreference.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From mateusz at loskot.net  Mon Nov  7 12:04:24 2005
From: mateusz at loskot.net (Mateusz =?iso-8859-2?Q?=A3oskot?=)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Worldfile from SuperEdit + rotated images problems
Message-ID: <35660.127.0.0.1.1131383064.squirrel@loskot.net>

Hi,

I have problems with translating JPG+JGW file to GeoTIFF
using GDAL utilities from FWTools 1.0.0a5.

My problem was also discussed a little with DronK on #gdal on IRC.
Unfortunately, it still isn't stied.
After some reserach I suspect SuperEdit causing the problem it generates
broken (incompatible) worldfile - JGW and rotation components.
Here you can download my sample raster calibrated by SuperEdit in JPG/JGW
format:

http://mateusz.loskot.net/chwila/superedit-sample-data.zip

(it will be available for a few weeks).

IMO, the JGW file is broken or of non-standard structure.
Please note, the JPG file is rotated.
Accordint to worldfile format description I interpred this file as follows

0.00000000000000 - x-scale
0.84666666666667 - rotation
0.84666666666667 - --//--
0.00000000000000 - y-scale
594958.12740300002000 - Easting and
373303.90045100002000 - Northing of the upper left pixel

Coordinates are in Poland CS992 - EPSG:2180

First, is this file correct?
Second, I am sure rotation components are required because the file is
rotatio
but why no pixel scales are given?

And what is the result of translation to GeoTIFF with gdal_translate?

I run following command on pair of files sheet.jpg/sheet.jgw:

#########################################################
D:\temp\superedit-sample-data>gdal_translate -of GTiff -a_srs "EPSG:2180"
sheet.
jpg test.tif
Input file size is 2888, 2823
0...10...20...30...40...50...60...70...80...90...100 - done.
#########################################################

And here is what gdalinfo says:

#########################################################
D:\temp\superedit-sample-data>gdalinfo test.tif
Driver: GTiff/GeoTIFF
Size is 2888, 2823
Coordinate System is:
PROJCS["ETRS89 / Poland CS92",
    GEOGCS["ETRS89",
        DATUM["European_Terrestrial_Reference_System_1989",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6258"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4258"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",19],
    PARAMETER["scale_factor",0.9993],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",-5300000],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","2180"]]
GeoTransform =
  594957.7040696667, 0, 0.84666666666667
  373303.4771176667, 0.84666666666667, 0
Metadata:
  AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  594957.704,  373303.477) ( 20d21'36.33"E, 51d13'6.74"N)
Lower Left  (  597347.844,  373303.477) ( 20d23'39.54"E, 51d13'5.29"N)
Upper Right (  594957.704,  375748.650) ( 20d21'38.67"E, 51d14'25.90"N)
Lower Right (  597347.844,  375748.650) ( 20d23'41.93"E, 51d14'24.45"N)
Center      (  596152.774,  374526.064) ( 20d22'39.12"E, 51d13'45.60"N)
Band 1 Block=2888x2 Type=Byte, ColorInterp=Red
Band 2 Block=2888x2 Type=Byte, ColorInterp=Green
Band 3 Block=2888x2 Type=Byte, ColorInterp=Blue
#########################################################

I'm not able it it's correct or not. I only see definition of CS is correct.

And here comes the problem. When I open test.tif in ArcExplorer or QGIS I
don't see anything.
Raster is not displayed but also I get no error message.
So it seems GeoTIFF output is broken here.

Next, DronK suggested on #gdal that this sheet.jgw file is in wrong format
and I should
replace rotation with x/y-scale + there should be negative value in the
fourth field.
OK, I did it, and I have now JGW as follows:

0.84666666666667 - x-scale
0.00000000000000 - rotation
0.00000000000000 - --//--
-0.84666666666667 - y-scale
594958.12740300002000 - Easting and
373303.90045100002000 - Northing of the upper left pixel

Please note, this seems to not to be correct because my JPG is rotated (90
degrees clockwise).
But OK, I tried to translate it now:

#########################################################
D:\temp\superedit-sample-data>gdal_translate -of GTiff -a_srs "EPSG:2180"
sheet.
jpg test.tif
Input file size is 2888, 2823
0...10...20...30...40...50...60...70...80...90...100 - done.
#########################################################

And now gdal info says this:

#########################################################
D:\temp\superedit-sample-data>gdalinfo test.tif
Driver: GTiff/GeoTIFF
Size is 2888, 2823
Coordinate System is:
PROJCS["ETRS89 / Poland CS92",
    GEOGCS["ETRS89",
        DATUM["European_Terrestrial_Reference_System_1989",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6258"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4258"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",19],
    PARAMETER["scale_factor",0.9993],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",-5300000],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","2180"]]
Origin = (594957.704070,373304.323784)
Pixel Size = (0.84666667,-0.84666667)
Metadata:
  AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  594957.704,  373304.324) ( 20d21'36.33"E, 51d13'6.77"N)
Lower Left  (  594957.704,  370914.184) ( 20d21'34.06"E, 51d11'49.39"N)
Upper Right (  597402.877,  373304.324) ( 20d23'42.38"E, 51d13'5.28"N)
Lower Right (  597402.877,  370914.184) ( 20d23'40.04"E, 51d11'47.91"N)
Center      (  596180.291,  372109.254) ( 20d22'38.20"E, 51d12'27.34"N)
Band 1 Block=2888x2 Type=Byte, ColorInterp=Red
Band 2 Block=2888x2 Type=Byte, ColorInterp=Green
Band 3 Block=2888x2 Type=Byte, ColorInterp=Blue
#########################################################

Here I also see correct CS but there is one small difference:

1. In the first output snippet:

GeoTransform =
  594957.7040696667, 0, 0.84666666666667
  373303.4771176667, 0.84666666666667, 0

2. In the second output snippet:

Origin = (594957.704070,373304.323784)
Pixel Size = (0.84666667,-0.84666667)

In this case I'm not sure which one is correct but now test.tif image is
displayed
well (almost) in both applications, ArcExplorer and QGIS.
Here are some screenshots:
http://mateusz.loskot.net/chwila/arcexplorer-rotated-raster.jpg
http://mateusz.loskot.net/chwila/qgis-rotated-raster.jpg

But please note, in both apps the test.tif is displayed rotated.
I don't know if latest versions of ArcExplorer and QGIS support
rotated images with worldfile.

My questions are:
1. Is this worldfile (JGW) generated by SuperEdit correct?
2. If not, does anybody know what is this format used by SuperEdit?
3. Is there any way to rerotate rotated images so, then I could use 0.0
rotation components?

Thanks for your help
Cheers

-- 
Mateusz ?oskot
http://mateusz.loskot.net

From JAMES.E.HOPPER at saic.com  Mon Nov  7 12:15:10 2005
From: JAMES.E.HOPPER at saic.com (James E. Hopper)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] openEV
In-Reply-To: <200511071702.jA7H2bX4022422@duke.maptools.org>
References: <200511071702.jA7H2bX4022422@duke.maptools.org>
Message-ID: <E036BFF0-536D-41E6-97C6-D97669D147B8@saic.com>

Hi,
i was looking at this briefly last week to see how hard it would be  
to get running on os x.  it appears that it does not work with gtk  
2.x.  is this correct?

jim


From warmerdam at pobox.com  Mon Nov  7 12:54:00 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] openEV
In-Reply-To: <E036BFF0-536D-41E6-97C6-D97669D147B8@saic.com>
References: <200511071702.jA7H2bX4022422@duke.maptools.org>
	<E036BFF0-536D-41E6-97C6-D97669D147B8@saic.com>
Message-ID: <931f8ea90511070954g317152c7j8911023151304724@mail.gmail.com>

On 11/7/05, James E. Hopper <JAMES.E.HOPPER@saic.com> wrote:
> Hi,
> i was looking at this briefly last week to see how hard it would be
> to get running on os x.  it appears that it does not work with gtk
> 2.x.  is this correct?

Jim,

Zak James at DM Solutions has succeeded in getting OpenEV
to run on MacOS X using GTK 1.x; however, it wasn't all that
easy.  I tried myself and failed.

There is apparently a GTK 2.x port of OpenEV underway at
Vexcel, but I am not sure how close it is to working fully and
wide distribution.

This question really belongs on openev-discuss.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rsheykhet at sanz.com  Mon Nov  7 12:54:43 2005
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Proposed MrSid RasterIO() patch
Message-ID: <ED3A48B9840E594890A2BC172D11946504674371@mailman.san.com>

Hi All/Frank,

I think I've managed to track down the issue below.  It looks like 
the code was asking for a larger image chunk that was available at a
particular zoom level.  I am attaching a suggested patch.  I have tested
it on my system and it seems to work.  Instead of guessing what the
dimensions are at a particular zoom level by doing a division, the patch
code explicitly queries the LizardTech driver for the overview
dimensions and uses those to work out the scene of interest.

Thanks

Rostic


>> From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Sheykhet,
Rostic
>> Sent: Thursday, October 20, 2005 11:29 AM
>> To: Frank Warmerdam
>> Cc: gdal-dev@lists.maptools.org
>> Subject: RE: [Gdal-dev] JP2MrSID internal overviews problem
>>
>> Hi Frank,
>>
>> The previous issue has gone away, but a slightly different problem
still
>> occurs:
>>
>>	MrSIDRasterBand::IRasterIO(): Failed to load image.
>>	specified scene out of range of image [50014] >>
======================================================
>> GDAL Overview Band information from the debugger:			
>>	nBand	1	int
>>	nRasterXSize	94	int
>>	nRasterYSize	75	int
>>	eDataType	GDT_Byte	GDALDataType
>>	eAccess	GA_ReadOnly	GDALAccess
>>	nBlockXSize	94	int
>>	nBlockYSize	75	int
>>	nBlocksPerRow	0	int
>>	nBlocksPerColumn	0	int
>>	bSubBlockingActive	0	int
>>	nSubBlocksPerRow	0	int
>>	nSubBlocksPerColumn	0	int
>> +	papoBlocks	0x00000000	GDALRasterBlock * *
>>	nBlockReads	0	int
>>	bForceCachedIO	0	int
>> ====================================================

>> Again, I am accessing an overview directly and issuing a >>
RasterIO(GF_Read,0,0,94,75,buffer,119,95,GDT_Byte,0,0).
>> I would guess that the things of interest are 
>>	a) I am requesting the full extent of overview
>>       b) I am requesting a scaled version of the image

>> Thank you for your help.

>> Rostic
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mrsiddataset.patch
Type: application/octet-stream
Size: 4489 bytes
Desc: mrsiddataset.patch
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051107/a1536536/mrsiddataset.obj
From rayg at daylongraphics.com  Mon Nov  7 19:13:24 2005
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] GDAL Leveller driver supports Create()
Message-ID: <436FEDA4.5030808@daylongraphics.com>

The Leveller driver for GDAL now supports the dataset::Create() call, to 
write TER files as well as read.

http://www.daylongraphics.com/products/leveller/download/gdal_driver_lev.zip

Ray Gardener
Daylon Graphics Ltd.

From oss-dev at rambler.ru  Tue Nov  8 02:33:52 2005
From: oss-dev at rambler.ru (Oleg Semykin)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] OGR PGResultLayer definition reading error?
Message-ID: <437054E0.8050109@rambler.ru>

Hi, all!

When I use executeSQL() for fetching features from PostgreSQL, result 
layer have wrong feature definition
It can't determine a geometry column.

For example:
I am use:
 PostgreSQL 8.0
 POSTGIS="1.0.0" GEOS="2.1.1" PROJ="Rel. 4.4.9, 29 Oct 2004" USE_STATS 
DBPROC="0.3.0" RELPROC="0.3.0"

ogrinfo 'PG:dbname=db host=dbhost user=postgres' t_table_22 -so

returns:

INFO: Open of `PG:dbname=db host=dbhost user=postgres'
using driver `PostgreSQL' successful.

Layer name: t_table_22
Geometry: Multi Point
Feature Count: 13
Extent: (6421011.500000, 6621845.500000) - (6426622.000000, 6633781.000000)
Layer SRS WKT:
LOCAL_CS["Nonearth",
    UNIT["Meter",1.0]]
IDOBJ: Real (0.0)
order: Integer (0.0)
gid: Integer (0.0)
id_style: Integer (0.0)
id_type_object: Integer (0.0)

but:

ogrinfo -sql "select * from t_table_22" 'PG:dbname=db host=dbhost 
user=postgres' -so

returns:

INFO: Open of `PG:dbname=db host=dbhost user=postgres'
using driver `PostgreSQL' successful.

Layer name: sql_statement
Geometry: Unknown (any)
Feature Count: 13
Layer SRS WKT:
(unknown)
gid: Integer (0.0)
id_style: Integer (0.0)
id_type_object: Integer (0.0)
order: Integer (0.0)
IDOBJ: Real (0.0)

Geometry and SRS - unknown

Is it bug?


From moon_inwell at 163.com  Tue Nov  8 02:31:21 2005
From: moon_inwell at 163.com (lky)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] why I can't use the method CSVGetField()?
Message-ID: <002101c5e436$6b1b5f10$7ef9a8c0@lky>

Hello,everyone:
    I use the method to read ellipsoid data from "data\ellipsoid.csv".I include the "cpl_csv.h",but there are so many build error after I include the header file.
-------------------------------------------------------------------------------------------------------------------------------------------
dal.lib(cpl_csv.obj) : error LNK2005: _CSVFilename already defined in gdal_i.lib(gdal13.dll)
gdal.lib(cpl_csv.obj) : error LNK2005: _CSVFilename already defined in gdal_i.lib(gdal13.dll)
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >(class std::allocator<char> 
const &)" (??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV?$allocator@D@1@@Z) already defined in main.obj
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >(class std::basic_string<cha
r,struct std::char_traits<char>,class std::allocator<char> > const &)" (??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV01@@Z) already defined in main.obj
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >(char const *,class std::all
ocator<char> const &)" (??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@PBDABV?$allocator@D@1@@Z) already defined in main.obj
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: char const * __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::c_str(void)const " (?c_str@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBE
PBDXZ) already defined in main.obj
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> > & __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::operator=(clas
s std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> > const &)" (??4?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV01@ABV01@@Z) already defined in main.obj
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::~basic_string<char,struct std::char_traits<char>,class std::allocator<char> >(void)" (??1?$basic_string@
DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@XZ) already defined in main.obj
msvcprt.lib(MSVCP60.dll) : error LNK2005: "public: unsigned int __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::size(void)const " (?size@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEIX
Z) already defined in main.obj
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _fclose already defined in LIBCD.lib(fclose.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _sprintf already defined in LIBCD.lib(sprintf.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _strncpy already defined in LIBCD.lib(strncpy.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _atof already defined in LIBCD.lib(atof.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __snprintf already defined in LIBCD.lib(snprintf.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _fflush already defined in LIBCD.lib(fflush.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _calloc already defined in LIBCD.lib(dbgheap.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _malloc already defined in LIBCD.lib(dbgheap.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _realloc already defined in LIBCD.lib(dbgheap.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _free already defined in LIBCD.lib(dbgheap.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: __vsnprintf already defined in LIBCD.lib(vsnprint.obj)
MSVCRT.lib(MSVCRT.dll) : error LNK2005: _abort already defined in LIBCD.lib(abort.obj)
gdal.lib(cpl_csv.obj) : warning LNK4006: _CSVFilename already defined in gdal_i.lib(gdal13.dll); second definition ignored
msvcprt.lib(MSVCP60.dll) : warning LNK4006: "public: __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >(class std::allocator<char
> const &)" (??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV?$allocator@D@1@@Z) already defined in main.obj; second definition ignored
msvcprt.lib(MSVCP60.dll) : warning LNK4006: "public: __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >(class std::basic_string<c
har,struct std::char_traits<char>,class std::allocator<char> > const &)" (??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV01@@Z) already defined in main.obj; second definition ignored
msvcprt.lib(MSVCP60.dll) : warning LNK4006: "public: __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >(char const *,class std::a
llocator<char> const &)" (??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@PBDABV?$allocator@D@1@@Z) already defined in main.obj; second definition ignored
msvcprt.lib(MSVCP60.dll) : warning LNK4006: "public: char const * __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::c_str(void)const " (?c_str@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@Q
BEPBDXZ) already defined in main.obj; second definition ignored
msvcprt.lib(MSVCP60.dll) : warning LNK4006: "public: class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> > & __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::operator=(cl
ass std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> > const &)" (??4?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV01@ABV01@@Z) already defined in main.obj; second definition ignored
msvcprt.lib(MSVCP60.dll) : warning LNK4006: "public: __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::~basic_string<char,struct std::char_traits<char>,class std::allocator<char> >(void)" (??1?$basic_strin
g@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@XZ) already defined in main.obj; second definition ignored
msvcprt.lib(MSVCP60.dll) : warning LNK4006: "public: unsigned int __thiscall std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >::size(void)const " (?size@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBE
IXZ) already defined in main.obj; second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _fclose already defined in LIBCD.lib(fclose.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _sprintf already defined in LIBCD.lib(sprintf.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _strncpy already defined in LIBCD.lib(strncpy.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _atof already defined in LIBCD.lib(atof.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: __snprintf already defined in LIBCD.lib(snprintf.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _fflush already defined in LIBCD.lib(fflush.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _calloc already defined in LIBCD.lib(dbgheap.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _malloc already defined in LIBCD.lib(dbgheap.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _realloc already defined in LIBCD.lib(dbgheap.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _free already defined in LIBCD.lib(dbgheap.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: __vsnprintf already defined in LIBCD.lib(vsnprint.obj); second definition ignored
MSVCRT.lib(MSVCRT.dll) : warning LNK4006: _abort already defined in LIBCD.lib(abort.obj); second definition ignored
   Creating library Debug/gause.lib and object Debug/gause.exp
LINK : warning LNK4098: defaultlib "MSVCRT" conflicts with use of other libs; use /NODEFAULTLIB:library
Debug/gause.exe : fatal error LNK1169: one or more multiply defined symbols found
Error executing link.exe.
Creating browse info file...
--------------------------------------------------------------------------------------------------------------------------------------------

so I have two questions:
1.Why I can't use the method CSVGetField()?
2.If I want to read the ellipsoid data from "data\ellipsoid.csv", how I can do?

Thanks a lot

Kunyang Li
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051108/3db1943d/attachment.html
From andreas.fischer at kreis-unna.de  Tue Nov  8 07:01:30 2005
From: andreas.fischer at kreis-unna.de (Fischer, Andreas)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Translationproblem from PostGIS to MapInfo using ogr2ogr
Message-ID: <A45C4BB6E895D711BD5A002035847D4D6D52DC@ntku4.kru.int>

Dear list,
I'm using the ogr2ogr tool to convert PostGIS-data to MapInfo tab or
MIF-Files. The projection in the Database is EPSG:31463. The output-format
is supposed to be the same. 
So I did use the following command. (I used -dsco "FORMAT=MIF", because the
conversion to MapInfo tab did not work well and I could take a look at
parameters in the files)
ogr2ogr -f "MapInfo File" test "PG:dbname=geodaten user=user host=host
port=port" -sql "Select * from test_tabelle" -dsco "FORMAT=MIF" -nln mi_test
-a_srs "EPSG:31463" 

The result is not the one I expected, because MapInfo does not show the
expected projektion (GK, DHDN Zone3). Instead it shows Longitude/Latitude,
even thought the Coordinates are o.k..
So I took a look at the MIF-File and found the following line:
CoordSys Earth Projection 8, 104, "m", 9, 0, 1, 3500000, 0 Bounds(-30000000,
-15000000) (30000000, 15000000)
When I change this line to the following, the import of the MIF-File to
MapInfo worked fine. It has the right projection und the geometries of the
features are exact. This line is the same as in mapinfow.prj for this
projection and without Bounds-Clause the result was very precise
CoordSys Earth Projection 8, 1000, "m", 9, 0, 1, 3500000, 0

So does anyone know about the right parameters to give with ogr2ogr to get
the right line in the MIF-File? Or does anyone can help me otherwise to get
MapInfo-Files from PostGis-tables without manual work.
Thanks a lot
Greetings
Andreas Fischer


Kreis Unna
Dezernat III - Projektteam GIS
Platanenallee 16
59425 Unna

(02303) 27-2507
andreas.fischer@kreis-unna.de

From tzhai2002 at yahoo.com  Tue Nov  8 07:10:24 2005
From: tzhai2002 at yahoo.com (Bruce Bill)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] gdal --with-grass cannot find installed grass library
Message-ID: <20051108121024.43880.qmail@web60411.mail.yahoo.com>

Hi, dear group,
  I am down to the last step in the cyclic install of
grass-gdal. I am recompiling gdal --with-grass, but no
matter what I try, it just keeps saying no libraries
are found!
  I don't have system admin privil, so I installed
grass6.0.1 on a local account on this platform:
Machine hardware:   sun4u
OS version:         5.9
Processor type:     sparc
Hardware:           SUNW,Sun-Fire-V440

  the installed directory is
grass-6.0.1/dist.sparc-sun-solaris2.9/
  under my account root, with all the bin, lib,
include etc in there, but no matter what I set that
--with-grass flag to, it always just ends with:

so-and-so-directory is requested, but libraries not
found!

  What's the problem here? Please help.
  Thanks a million.


		
__________________________________ 
Yahoo! FareChase: Search multiple travel sites in one click.
http://farechase.yahoo.com

From warmerdam at pobox.com  Tue Nov  8 10:11:41 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Translationproblem from PostGIS to MapInfo using
	ogr2ogr
In-Reply-To: <A45C4BB6E895D711BD5A002035847D4D6D52DC@ntku4.kru.int>
References: <A45C4BB6E895D711BD5A002035847D4D6D52DC@ntku4.kru.int>
Message-ID: <931f8ea90511080711l5cbb4bp1fbe4d65a2c209f2@mail.gmail.com>

On 11/8/05, Fischer, Andreas <andreas.fischer@kreis-unna.de> wrote:
> Dear list,
> I'm using the ogr2ogr tool to convert PostGIS-data to MapInfo tab or
> MIF-Files. The projection in the Database is EPSG:31463. The output-format
> is supposed to be the same.
> So I did use the following command. (I used -dsco "FORMAT=MIF", because the
> conversion to MapInfo tab did not work well and I could take a look at
> parameters in the files)
> ogr2ogr -f "MapInfo File" test "PG:dbname=geodaten user=user host=host
> port=port" -sql "Select * from test_tabelle" -dsco "FORMAT=MIF" -nln mi_test
> -a_srs "EPSG:31463"
>
> The result is not the one I expected, because MapInfo does not show the
> expected projektion (GK, DHDN Zone3). Instead it shows Longitude/Latitude,
> even thought the Coordinates are o.k..
> So I took a look at the MIF-File and found the following line:
> CoordSys Earth Projection 8, 104, "m", 9, 0, 1, 3500000, 0 Bounds(-30000000,
> -15000000) (30000000, 15000000)
> When I change this line to the following, the import of the MIF-File to
> MapInfo worked fine. It has the right projection und the geometries of the
> features are exact. This line is the same as in mapinfow.prj for this
> projection and without Bounds-Clause the result was very precise
> CoordSys Earth Projection 8, 1000, "m", 9, 0, 1, 3500000, 0
>
> So does anyone know about the right parameters to give with ogr2ogr to get
> the right line in the MIF-File? Or does anyone can help me otherwise to get
> MapInfo-Files from PostGis-tables without manual work.

Andreas,

The original problem is because the expansion of EPSG:31463 is not
easily identified as being datum 1000 for mapinfo format.  The name does
not exactly match (it is called "DHDN_Potsdam_Rauenberg" in the
mitab_spatialref.cpp file), and there is no corresponding TOWGS84 entry
on the EPSG expansion.

I believe the code falls back to using WGS84 (datum 104) when a datum
cannot be identified.

The workaround for you would be to run ogrinfo on a fixed mif file.
Save the Well Known Text coordinate system description to a file,
perhaps called 31463.prj, then issue the future ogr2ogr commands
with the -a_srs 31463.prj commandline switch.

The MITAB code should recognise that 31463.prj corresponds to
datum 1000 and set the CoordSys properly.

I appologise for these problems, but the area of coordinate system
translation between systems is fraught with complexity and uncertainty.

PS. I don't know why "CoordSys Earth Projection 8, 104, "m", 9, 0, 1,
3500000, 0"
shows up in mapinfo as a geographic coordinate system.  It should still
be transverse mercator but with a datum of WGS84.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Nov  8 10:32:20 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] why I can't use the method CSVGetField()?
In-Reply-To: <002101c5e436$6b1b5f10$7ef9a8c0@lky>
References: <002101c5e436$6b1b5f10$7ef9a8c0@lky>
Message-ID: <931f8ea90511080732h20ca3592k49e4ce9323c4556c@mail.gmail.com>

On 11/8/05, lky <moon_inwell@163.com> wrote:
>
> Hello,everyone:
>     I use the method to read ellipsoid data from "data\ellipsoid.csv".I
> include the "cpl_csv.h",but there are so many build error after I include
> the header file.
...
> so I have two questions:
> 1.Why I can't use the method CSVGetField()?

Kunyang,

I see that CSVGetField was not declared to be exported from
the DLL (no CPL_DLL attribute).  I have corrected this in CVS.
If you change the cpl_csv.h to declare it as:


const char CPL_DLL *CSVGetField( const char *, const char *, const char *,
                                 CSVCompareCriteria, const char * );

And rebuild GDAL completely you might find you can use the method.

I don't know why you are getting some many other conflicts.

> 2.If I want to read the ellipsoid data from "data\ellipsoid.csv", how I can
> do?

I believe you could call CSVScanFile() to fetch batch the line
matching a given ellipsoid code in a single call.

eg.
char **fields = CSVScanFile( "ellipsoid.csv", 0, "7001", CC_ExactString );

Good luck,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Nov  8 10:36:26 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Re: OGR PGResultLayer definition reading error?
In-Reply-To: <437054E0.8050109@rambler.ru>
References: <437054E0.8050109@rambler.ru>
Message-ID: <931f8ea90511080736q2e6de177ld4fd999df2d1f65a@mail.gmail.com>

On 11/8/05, Oleg Semykin <oss-dev@rambler.ru> wrote:
> Hi, all!
>
> When I use executeSQL() for fetching features from PostgreSQL, result
> layer have wrong feature definition
> It can't determine a geometry column.
>
> For example:
> I am use:
>  PostgreSQL 8.0
>  POSTGIS="1.0.0" GEOS="2.1.1" PROJ="Rel. 4.4.9, 29 Oct 2004" USE_STATS
> DBPROC="0.3.0" RELPROC="0.3.0"
>
> ogrinfo 'PG:dbname=db host=dbhost user=postgres' t_table_22 -so
>
> returns:
>
> INFO: Open of `PG:dbname=db host=dbhost user=postgres'
> using driver `PostgreSQL' successful.
>
> Layer name: t_table_22
> Geometry: Multi Point
> Feature Count: 13
> Extent: (6421011.500000, 6621845.500000) - (6426622.000000, 6633781.000000)
> Layer SRS WKT:
> LOCAL_CS["Nonearth",
>     UNIT["Meter",1.0]]
> IDOBJ: Real (0.0)
> order: Integer (0.0)
> gid: Integer (0.0)
> id_style: Integer (0.0)
> id_type_object: Integer (0.0)
>
> but:
>
> ogrinfo -sql "select * from t_table_22" 'PG:dbname=db host=dbhost
> user=postgres' -so
>
> returns:
>
> INFO: Open of `PG:dbname=db host=dbhost user=postgres'
> using driver `PostgreSQL' successful.
>
> Layer name: sql_statement
> Geometry: Unknown (any)
> Feature Count: 13
> Layer SRS WKT:
> (unknown)
> gid: Integer (0.0)
> id_style: Integer (0.0)
> id_type_object: Integer (0.0)
> order: Integer (0.0)
> IDOBJ: Real (0.0)
>
> Geometry and SRS - unknown
>
> Is it bug?

Oleg,

OGR does not parse the SELECT statement, it just inspects
the rows that come back.  Based on that, there isn't enough
information to determine the SRS of the table or the geometry
type.  So things are working normally.

Now we could likely work out the SRS by inspecting the SRS
of the geometry of the first record but reading ahead to the first
record at ExecuteSQL() time could result in a high performance
cost (to restart for real reading), or complexity of code to preserve
the pre-read row for the first call to GetNextFeature().  It would also
be possible that the first row would have NULL geometry.

Does that make sense?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From halset at pvv.ntnu.no  Tue Nov  8 14:19:26 2005
From: halset at pvv.ntnu.no (Tore Halset)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Re: ECW JPEG 2000 Source SDK v3.3 (RC)
In-Reply-To: <FE810F3F-BFE0-48B4-9AD7-316E05DF631F@cfl.rr.com>
References: <s35e1e95.040@co5.dnr.state.mn.us>
	<FE810F3F-BFE0-48B4-9AD7-316E05DF631F@cfl.rr.com>
Message-ID: <81235B40-EF5F-4765-89E7-3F67395BF9AF@pvv.ntnu.no>

On Oct 25, 2005, at 20:36, Garrett Potts wrote:

> To build it on MACOSX 10.4.2 g++ version 4.0.0 I had to make one  
> small change in the file:

Yes, I got the same error on OS X 10.4.3. Thanks for the fix!

  - Tore.

>
> NCSSocket.cpp
>
>
>
> CNCSSocket::CNCSSocket(const int handle)
> : m_handle(handle), m_connected(true)
> {
>     //init();
>     struct sockaddr_in info;
> #if defined(POSIX) && !defined(HPUX)
> #    ifdef MACOSX
>     socklen_t tempSize = sizeof(struct sockaddr);
>     //int tempSize = sizeof(struct sockaddr);
> #    else
>     socklen_t tempSize = sizeof(struct sockaddr);
> #    endif
> #else
>     int tempSize = sizeof(struct sockaddr);
> #endif
>     getpeername(handle, (struct sockaddr*)&info, &tempSize);
>     m_connectedPort = info.sin_port;
>     //m_connectedTo = inet_ntoa(info.sin_addr);
>
> }
> #endif
>
>
> On my MAC I had to set int tempSize = sizeof(struct sockaddr);
>
> to
>
> socklen_temt pSize = sizeof(struct sockaddr);
>
>
> Has any one else had the same problem with 10.4.2?
>
>
> This was the only modification and it built.  Not tested with GDAL  
> yet though.
>
> Take care
>
> Garrettt
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From halset at pvv.ntnu.no  Tue Nov  8 14:42:28 2005
From: halset at pvv.ntnu.no (Tore Halset)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] [newbie] ogr projection or proj.4?
Message-ID: <134853AA-9E22-46F8-A6A5-284611DE3899@pvv.ntnu.no>

Hello.

I am creating a simple map viewer using gdal and ogr. I have also  
created another vector layer that does not use gdal or ogr.

I am currently using proj.4 for my projection class, but consider  
moving to ogr. I guess ogr projection are build upon proj.4. Will  
things be less complicated if I use ogr projection? And will I get  
more features that I might need? What do you gurus think?

  - Tore.

From warmerdam at pobox.com  Tue Nov  8 15:38:40 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] [newbie] ogr projection or proj.4?
In-Reply-To: <134853AA-9E22-46F8-A6A5-284611DE3899@pvv.ntnu.no>
References: <134853AA-9E22-46F8-A6A5-284611DE3899@pvv.ntnu.no>
Message-ID: <931f8ea90511081238t3314375k803d4e7178c9c169@mail.gmail.com>

On 11/8/05, Tore Halset <halset@pvv.ntnu.no> wrote:
> Hello.
>
> I am creating a simple map viewer using gdal and ogr. I have also
> created another vector layer that does not use gdal or ogr.
>
> I am currently using proj.4 for my projection class, but consider
> moving to ogr. I guess ogr projection are build upon proj.4. Will
> things be less complicated if I use ogr projection? And will I get
> more features that I might need? What do you gurus think?

Tore,

The major benefit of moving to the OGRCoordinateTransformation
and OGRSpatialReference instead of direct use of PROJ.4 is all
the options the OGRSpatialReference provides to translate
coordinate system between different formats.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From MChapman at sanz.com  Tue Nov  8 15:49:29 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Google Earth
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>

I just figured out that Google Earth (a.k.a. Keyhole) uses gdal and
proj.  That is pretty impressive.  Way to go Frank.

 

Martin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051108/0acf4ff7/attachment.html
From cfis at interserv.com  Tue Nov  8 16:25:34 2005
From: cfis at interserv.com (Charles F. I. Savage)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Compiling with VC++8
Message-ID: <437117CE.2060200@interserv.com>

Two minor changes are needed to compile gdal with VC++ 8 (ie., VC 2005).
The strstr method now returns either a char* or const char* depending
on the parameters sent to it.  See
http://msdn2.microsoft.com/en-us/library/z9da80kz.aspx for more info.

Patch is below, I'll apply unless someone says otherwise.

Charlie



cvs diff -u -- ogr\ogrsf_frmts\mitab\mitab_feature.cpp (in directory
C:\msys\src\gdal\)
Index: ogr/ogrsf_frmts/mitab/mitab_feature.cpp
===================================================================
RCS file:
/cvs/maptools/cvsroot/gdal/ogr/ogrsf_frmts/mitab/mitab_feature.cpp,v
retrieving revision 1.30
diff -u -r1.30 mitab_feature.cpp
--- ogr/ogrsf_frmts/mitab/mitab_feature.cpp	12 Oct 2005 19:19:32 -0000	1.30
+++ ogr/ogrsf_frmts/mitab/mitab_feature.cpp	8 Nov 2005 19:50:49 -0000
@@ -7549,12 +7549,12 @@
      if(pszPenName && strstr(pszPenName, "mapinfo-pen-") ||
         strstr(pszPenName, "ogr-pen-"))
      {
-        if((pszPenId = strstr(pszPenName, "mapinfo-pen-")))
+        if((pszPenId = (char*)strstr(pszPenName, "mapinfo-pen-")))
          {
              nPenId = atoi(pszPenId+12);
              SetPenPattern(nPenId);
          }
-        else if((pszPenId = strstr(pszPenName, "ogr-pen-")))
+        else if((pszPenId = (char*)strstr(pszPenName, "ogr-pen-")))
          {
              nPenId = atoi(pszPenId+8);
              if(nPenId == 0)

***** CVS exited normally with code 1 *****


-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 2781 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051108/89ec77db/smime.bin
From tbeckman at usgs.gov  Tue Nov  8 16:41:46 2005
From: tbeckman at usgs.gov (Tim Beckmann)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
Message-ID: <OFA8788334.F809C8CB-ON862570B3.0076FD90-862570B3.00772ECF@usgs.gov>

Does anyone know of a freely available Java library for reading ESRI 
shapefiles?  The gdal ogr and shapelib code has been great in the past, 
but now I have a need to read ESRI shapefiles directly from a Java applet.

Thanks
Tim

--------------------------------------------------------------------------
Tim Beckmann
Software Project Lead
Science Applications International Corporation (SAIC)
Contractor to the USGS/EROS
Sioux Falls, SD 57198
605-594-2521    Phone
605-594-6940    Fax
tbeckman@usgs.gov


From warmerdam at pobox.com  Tue Nov  8 16:59:04 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Compiling with VC++8
In-Reply-To: <437117CE.2060200@interserv.com>
References: <437117CE.2060200@interserv.com>
Message-ID: <931f8ea90511081359j7e2a89e0icf978b3fdc2c3b73@mail.gmail.com>

On 11/8/05, Charles F. I. Savage <cfis@interserv.com> wrote:
> Two minor changes are needed to compile gdal with VC++ 8 (ie., VC 2005).
> The strstr method now returns either a char* or const char* depending
> on the parameters sent to it.  See
> http://msdn2.microsoft.com/en-us/library/z9da80kz.aspx for more info.
>
> Patch is below, I'll apply unless someone says otherwise.

Charlie,

I'll apply it to the upstream MITAB source tree.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Nov  8 17:10:49 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
In-Reply-To: <OFA8788334.F809C8CB-ON862570B3.0076FD90-862570B3.00772ECF@usgs.gov>
References: <OFA8788334.F809C8CB-ON862570B3.0076FD90-862570B3.00772ECF@usgs.gov>
Message-ID: <931f8ea90511081410x73dbf593n90d5cc0e030e0a17@mail.gmail.com>

On 11/8/05, Tim Beckmann <tbeckman@usgs.gov> wrote:
> Does anyone know of a freely available Java library for reading ESRI
> shapefiles?  The gdal ogr and shapelib code has been great in the past,
> but now I have a need to read ESRI shapefiles directly from a Java applet.

Tim,

I would suggest you check GeoTools.  There are definately a number
of Shapefile implementations in Java out there though some may
not be easily seperable.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From MChapman at sanz.com  Tue Nov  8 17:18:24 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C180@mailman.san.com>

www.openmap.org has some shape file classes, although, if you get the
shape file white paper off of esri's website it's fairly straightforward
to parse the files directly.  You can see how they do it in openmap.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Tim Beckmann
Sent: Tuesday, November 08, 2005 2:42 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?

Does anyone know of a freely available Java library for reading ESRI 
shapefiles?  The gdal ogr and shapelib code has been great in the past, 
but now I have a need to read ESRI shapefiles directly from a Java
applet.

Thanks
Tim

------------------------------------------------------------------------
--
Tim Beckmann
Software Project Lead
Science Applications International Corporation (SAIC)
Contractor to the USGS/EROS
Sioux Falls, SD 57198
605-594-2521    Phone
605-594-6940    Fax
tbeckman@usgs.gov

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From ealpert at digitalglobe.com  Tue Nov  8 17:19:40 2005
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB23306BB2D@COMAIL01.digitalglobe.com>


I know you can do this with GeoTools but like all java you get a bunch
of stuff you don't need.

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Tim Beckmann
Sent: Tuesday, November 08, 2005 2:42 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?


Does anyone know of a freely available Java library for reading ESRI 
shapefiles?  The gdal ogr and shapelib code has been great in the past, 
but now I have a need to read ESRI shapefiles directly from a Java
applet.

Thanks
Tim

------------------------------------------------------------------------
--
Tim Beckmann
Software Project Lead
Science Applications International Corporation (SAIC) Contractor to the
USGS/EROS Sioux Falls, SD 57198
605-594-2521    Phone
605-594-6940    Fax
tbeckman@usgs.gov

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From Peter.Nagy at vexcel.com  Tue Nov  8 17:37:23 2005
From: Peter.Nagy at vexcel.com (Pete Nagy)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
In-Reply-To: <931f8ea90511081410x73dbf593n90d5cc0e030e0a17@mail.gmail.com>
References: <OFA8788334.F809C8CB-ON862570B3.0076FD90-862570B3.00772ECF@usgs.gov>
	<931f8ea90511081410x73dbf593n90d5cc0e030e0a17@mail.gmail.com>
Message-ID: <Pine.CYG.4.58.0511081533020.3704@Thwack>


I'd like to see gdal wrapped in java.  How hard would it be to swig it?
The python wrappers were initially created with an old version of swig,
right?

-> Pete

====================================================================
Pete Nagy                                        tel: (303) 583-0248
Vexcel Corporation                               fax: (303) 583-0246
http://www.vexcel.com                           home: (303) 823-2336
====================================================================


On Tue, 8 Nov 2005, Frank Warmerdam wrote:

> On 11/8/05, Tim Beckmann <tbeckman@usgs.gov> wrote:
> > Does anyone know of a freely available Java library for reading ESRI
> > shapefiles?  The gdal ogr and shapelib code has been great in the past,
> > but now I have a need to read ESRI shapefiles directly from a Java applet.
>
> Tim,
>
> I would suggest you check GeoTools.  There are definately a number
> of Shapefile implementations in Java out there though some may
> not be easily seperable.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>

From tbeckman at usgs.gov  Tue Nov  8 17:40:00 2005
From: tbeckman at usgs.gov (Tim Beckmann)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
In-Reply-To: <931f8ea90511081410x73dbf593n90d5cc0e030e0a17@mail.gmail.com>
Message-ID: <OF1687C9D2.3EE44888-ON862570B3.007C67EF-862570B3.007C8372@usgs.gov>

Thanks all for the quick responses.  I'll have to review the options to 
see which will work the best for our applet environment.

--------------------------------------------------------------------------
Tim Beckmann
Software Project Lead
Science Applications International Corporation (SAIC)
Contractor to the USGS/EROS
Sioux Falls, SD 57198
605-594-2521    Phone
605-594-6940    Fax
tbeckman@usgs.gov




Frank Warmerdam <warmerdam@pobox.com> 
Sent by: fwarmerdam@gmail.com
11/08/2005 04:10 PM

To
Tim Beckmann <tbeckman@usgs.gov>
cc
gdal-dev@lists.maptools.org
Subject
Re: [Gdal-dev] Java library for reading ESRI shapefiles?






On 11/8/05, Tim Beckmann <tbeckman@usgs.gov> wrote:
> Does anyone know of a freely available Java library for reading ESRI
> shapefiles?  The gdal ogr and shapelib code has been great in the past,
> but now I have a need to read ESRI shapefiles directly from a Java 
applet.

Tim,

I would suggest you check GeoTools.  There are definately a number
of Shapefile implementations in Java out there though some may
not be easily seperable.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From MChapman at sanz.com  Tue Nov  8 17:53:06 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C181@mailman.san.com>

It's possible in openmap to just extract the classes you need, although
that may violate the license agreement.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Ethan Alpert
Sent: Tuesday, November 08, 2005 3:20 PM
To: Tim Beckmann; gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Java library for reading ESRI shapefiles?


I know you can do this with GeoTools but like all java you get a bunch
of stuff you don't need.

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Tim Beckmann
Sent: Tuesday, November 08, 2005 2:42 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?


Does anyone know of a freely available Java library for reading ESRI 
shapefiles?  The gdal ogr and shapelib code has been great in the past, 
but now I have a need to read ESRI shapefiles directly from a Java
applet.

Thanks
Tim

------------------------------------------------------------------------
--
Tim Beckmann
Software Project Lead
Science Applications International Corporation (SAIC) Contractor to the
USGS/EROS Sioux Falls, SD 57198
605-594-2521    Phone
605-594-6940    Fax
tbeckman@usgs.gov

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Tue Nov  8 18:33:59 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
In-Reply-To: <Pine.CYG.4.58.0511081533020.3704@Thwack>
References: <OFA8788334.F809C8CB-ON862570B3.0076FD90-862570B3.00772ECF@usgs.gov>
	<931f8ea90511081410x73dbf593n90d5cc0e030e0a17@mail.gmail.com>
	<Pine.CYG.4.58.0511081533020.3704@Thwack>
Message-ID: <931f8ea90511081533g62110a52ua0c1197f5961b59d@mail.gmail.com>

On 11/8/05, Pete Nagy <Peter.Nagy@vexcel.com> wrote:
>
> I'd like to see gdal wrapped in java.  How hard would it be to swig it?
> The python wrappers were initially created with an old version of swig,
> right?

Peter,

The answer is that it is a fair amount of work to do a good
SWIG binding for GDAL and OGR.  There is the start of one
already under the gdal/swig tree, but it is quite incomplete.
In particular it needs typemaps and some other glue for various
things.

The Java works similarly to c# which I have also run into some
challenges with.

There is a manually prepared Java binding for GDAL prepared
by the gvSig team that is useful though it is still my hope to
prepare "official SWIG generated bindings" at some point.  It
would be helpful to have a Java SWIG Binding champion to
pursue those bindings.  The GDAL SWIG bindings that are
working well now (Ruby, Python and Perl) all have a champion
ensuring they are complete.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From sevilla_lui at gva.es  Tue Nov  8 19:35:35 2005
From: sevilla_lui at gva.es (Luis W. Sevilla)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Java library for reading ESRI shapefiles?
In-Reply-To: <931f8ea90511081533g62110a52ua0c1197f5961b59d@mail.gmail.com>
References: <OFA8788334.F809C8CB-ON862570B3.0076FD90-862570B3.00772ECF@usgs.gov>	<931f8ea90511081410x73dbf593n90d5cc0e030e0a17@mail.gmail.com>	<Pine.CYG.4.58.0511081533020.3704@Thwack>
	<931f8ea90511081533g62110a52ua0c1197f5961b59d@mail.gmail.com>
Message-ID: <43714457.5020503@gva.es>

Hi Frank, Peter,
Frank Warmerdam wrote:

>On 11/8/05, Pete Nagy <Peter.Nagy@vexcel.com> wrote:
>  
>
>>I'd like to see gdal wrapped in java.  How hard would it be to swig it?
>>The python wrappers were initially created with an old version of swig,
>>right?
>>    
>>
>
>Peter,
>
>The answer is that it is a fair amount of work to do a good
>SWIG binding for GDAL and OGR.  There is the start of one
>already under the gdal/swig tree, but it is quite incomplete.
>In particular it needs typemaps and some other glue for various
>things.
>
>The Java works similarly to c# which I have also run into some
>challenges with.
>
>There is a manually prepared Java binding for GDAL prepared
>by the gvSig team that is useful though it is still my hope to
>prepare "official SWIG generated bindings" at some point.  It
>would be helpful to have a Java SWIG Binding champion to
>pursue those bindings.  The GDAL SWIG bindings that are
>working well now (Ruby, Python and Perl) all have a champion
>ensuring they are complete.
>  
>
We're almost ready to do a try with some GDAL parts (gdalwarp and 
gdal_translate). If
it goes ok we'll continue until (hopely) finishing the job, but of 
course it will take time

Greetings

-- 
  Luis W. Sevilla
  Responsable de desarrollo gvSIG en la / gvSIG development Chief at
  Conselleria de Infraestructuras y Transporte
  Generalitat Valenciana
  Valencia - Spain
  http://www.gvsig.gva.es



From nbarker at rsinc.com  Wed Nov  9 04:01:36 2005
From: nbarker at rsinc.com (Norman Barker)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Google Earth
Message-ID: <B67A5FB7A8114B47A70517C9C0D102E80A2C63@bath.uk.rsinc.com>

 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Chapman, Martin
Sent: Tuesday, November 08, 2005 8:49 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Google Earth



I just figured out that Google Earth (a.k.a. Keyhole) uses gdal and proj.  That is pretty impressive.  Way to go Frank.

 

Martin
[Norman Barker] 

 

Hi Martin,

 

don't disbelieve you at all, but how did you work this out?  It would make an even more convincing argument to my bosses if I could show them Google Earth as an example!

 

Congrats to Frank.

 

Many thanks,

 

Norman 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051109/15a64ee0/attachment.html
From mateusz at loskot.net  Wed Nov  9 04:21:36 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:49:50 2007
Subject: [Gdal-dev] Google Earth
In-Reply-To: <B67A5FB7A8114B47A70517C9C0D102E80A2C63@bath.uk.rsinc.com>
References: <B67A5FB7A8114B47A70517C9C0D102E80A2C63@bath.uk.rsinc.com>
Message-ID: <4371BFA0.4060702@loskot.net>

Norman Barker wrote:
> 
>     -----Original Message in HTML format-----
>     *From:* gdal-dev-bounces@lists.maptools.org
>     [mailto:gdal-dev-bounces@lists.maptools.org]*On Behalf Of *Chapman,
>     Martin
>     *Sent:* Tuesday, November 08, 2005 8:49 PM
>     *To:* gdal-dev@lists.maptools.org
>     *Subject:* [Gdal-dev] Google Earth
> 
>     I just figured out that Google Earth (a.k.a. Keyhole) uses gdal and
>     proj.  That is pretty impressive.  Way to go Frank.
> 
>      
> 
>     Martin
>     [Norman Barker] 
> 
>      
> 
>     Hi Martin,
> 
>      
> 
>     don't disbelieve you at all, but how did you work this out?  It
>     would make an even more convincing argument to my bosses if I could
>     show them Google Earth as an example!
> 

Yes, good point. It could be helpful for me too.

>     Congrats to Frank.
> 

No discussion about that! Congrats!

Cheers

-- 
Mateusz ?oskot
http://mateusz.loskot.net

From peter.misovic at gmail.com  Wed Nov  9 04:45:07 2005
From: peter.misovic at gmail.com (Ing.Peter Misovic)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] 3D GML
Message-ID: <1880f8a70511090145l6f2d40e1g5236636af298cef3@mail.gmail.com>

Dear all,
I would like to please you for help. I'm going to build solution based
on Mapserver/postgis/grass/ogr/gdal. I need dynamically generate some
data. I like to use GML 3D files (autogenerated from db) for
displaying 3D cubes (hopefully in grass). My question is : Does GOR
support 3D GML file ?

Thank you all.

Peter Misovic


From andreas.fischer at kreis-unna.de  Wed Nov  9 06:42:14 2005
From: andreas.fischer at kreis-unna.de (Fischer, Andreas)
Date: Wed Nov 21 11:49:51 2007
Subject: AW: [Gdal-dev] Translationproblem from PostGIS to MapInfo using o
	gr2ogr
Message-ID: <A45C4BB6E895D711BD5A002035847D4D6D52DE@ntku4.kru.int>

Hallo Frank,
thank you very much for your response. I tryed out your workaround and the
CordSys line is now set "almost" properly. 
-> CoordSys Earth Projection 8, 1000, "m", 9, 0, 1, 3500000, 0 Bounds
(-30000000, -15000000) (30000000, 15000000)
Unfortunately there is still that setting of the Bounds, that causes an not
exact presentation of the geodata get out of PostGIS with ogr2ogr. (For
controll purposes I loaded up original MapInfo data in PostGIS, get them out
again with org2ogr and get them overlayed in MapInfo.) 
When I just drop this Bounds-Setting or replace it with the real Bounds of
my layer erything is fine. The real bounds are given by ogrinfo with
"Extent: (3389947.432059, 5695439.163816) - (3420229.640720,
5734664.510295)". This bounds cover all of my region I'm only working with.
So, is there a way to tell the ogr2ogr not to set the Bounds at all or set
the Bounds corresponding to the layer? Maybe within my 31463.prj-file that I
created? Here is the listing of that file:

PROJCS["unnamed",
    GEOGCS["unnamed",
        DATUM["MIF 1000",
            SPHEROID["Bessel 1841",6377397.155,299.1528128],
            TOWGS84[582,105,414,1.04,0.35,-3.08,8.3]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",9],
    PARAMETER["scale_factor",1],
    PARAMETER["false_easting",3500000],
    PARAMETER["false_northing",0],
    UNIT["Meter",1.0]]

Frank, thank you for your help so far
Greetings from Germany
Andreas


-----Urspr?ngliche Nachricht-----
Von: Frank Warmerdam [mailto:warmerdam@pobox.com]
Gesendet: Dienstag, 8. November 2005 16:12
An: Fischer, Andreas
Cc: gdal-dev@lists.maptools.org; mitab@yahoogroups.com
Betreff: Re: [Gdal-dev] Translationproblem from PostGIS to MapInfo using
ogr2ogr


On 11/8/05, Fischer, Andreas <andreas.fischer@kreis-unna.de> wrote:
> Dear list,
> I'm using the ogr2ogr tool to convert PostGIS-data to MapInfo tab or
> MIF-Files. The projection in the Database is EPSG:31463. The output-format
> is supposed to be the same.
> So I did use the following command. (I used -dsco "FORMAT=MIF", because
the
> conversion to MapInfo tab did not work well and I could take a look at
> parameters in the files)
> ogr2ogr -f "MapInfo File" test "PG:dbname=geodaten user=user host=host
> port=port" -sql "Select * from test_tabelle" -dsco "FORMAT=MIF" -nln
mi_test
> -a_srs "EPSG:31463"
>
> The result is not the one I expected, because MapInfo does not show the
> expected projektion (GK, DHDN Zone3). Instead it shows Longitude/Latitude,
> even thought the Coordinates are o.k..
> So I took a look at the MIF-File and found the following line:
> CoordSys Earth Projection 8, 104, "m", 9, 0, 1, 3500000, 0
Bounds(-30000000,
> -15000000) (30000000, 15000000)
> When I change this line to the following, the import of the MIF-File to
> MapInfo worked fine. It has the right projection und the geometries of the
> features are exact. This line is the same as in mapinfow.prj for this
> projection and without Bounds-Clause the result was very precise
> CoordSys Earth Projection 8, 1000, "m", 9, 0, 1, 3500000, 0
>
> So does anyone know about the right parameters to give with ogr2ogr to get
> the right line in the MIF-File? Or does anyone can help me otherwise to
get
> MapInfo-Files from PostGis-tables without manual work.

Andreas,

The original problem is because the expansion of EPSG:31463 is not
easily identified as being datum 1000 for mapinfo format.  The name does
not exactly match (it is called "DHDN_Potsdam_Rauenberg" in the
mitab_spatialref.cpp file), and there is no corresponding TOWGS84 entry
on the EPSG expansion.

I believe the code falls back to using WGS84 (datum 104) when a datum
cannot be identified.

The workaround for you would be to run ogrinfo on a fixed mif file.
Save the Well Known Text coordinate system description to a file,
perhaps called 31463.prj, then issue the future ogr2ogr commands
with the -a_srs 31463.prj commandline switch.

The MITAB code should recognise that 31463.prj corresponds to
datum 1000 and set the CoordSys properly.

I appologise for these problems, but the area of coordinate system
translation between systems is fraught with complexity and uncertainty.

PS. I don't know why "CoordSys Earth Projection 8, 104, "m", 9, 0, 1,
3500000, 0"
shows up in mapinfo as a geographic coordinate system.  It should still
be transverse mercator but with a datum of WGS84.

Best regards,
--
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From BEN at Syncera-ITSolutions.NL  Wed Nov  9 07:02:29 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] primary key on Virtual Spatial Data (ODBC)
Message-ID: <s371f377.076@SRV-POSTIX-DFT>

Hi list,

I am getting strange results out of a Mapserver query (which works fine on the same data in shapefile format using the Mapserver native shapefile connector), so my first guess was that OGR is unable to determine a primary key on the Virtual Spatial Data table.

I am using Microsoft Access ( not my choice :-) ) through ODBC and this is the result from ogrinfo:

D:\projects\gdal-1.3.1\ogr>ogrinfo D:\ms4w\apps\stragisweb\htdocs\sites\syngeoviewer\data\syngeo.ovf Pc6punten -summary
ERROR 4: Update access not supported for VRT datasources.
Had to open data source read-only.
INFO: Open of `D:\ms4w\apps\stragisweb\htdocs\sites\syngeoviewer\data\syngeo.ovf
'
using driver `VRT' successful.

Layer name: Pc6punten
Geometry: Point
Feature Count: 47058
Extent: (197025.668000, 495057.482000) - (210463.727000, 511348.566000)
Layer SRS WKT:
(unknown)
PC6: String (254.0)
X: Real (0.0)
Y: Real (0.0)
HUISNR: Integer (10.0)
OGR_FID: Integer (10.0)

I have even added an OGR_FID column as the primary key (it is defined as a primary key in Access).

Does anybody have an idea what could be going wrong? It would be helpful if ogrinfo could report in some way whether or not it could determine a primary key.

Btw I am using GDAL 1.3.1 in combination with Mapserver 4.8 beta1.

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl


From warmerdam at pobox.com  Wed Nov  9 09:22:36 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Google Earth
In-Reply-To: <4371BFA0.4060702@loskot.net>
References: <B67A5FB7A8114B47A70517C9C0D102E80A2C63@bath.uk.rsinc.com>
	<4371BFA0.4060702@loskot.net>
Message-ID: <931f8ea90511090622j5247026du65ef3700b0170fb1@mail.gmail.com>

On 11/9/05, Mateusz ?oskot <mateusz@loskot.net> wrote:
> Norman Barker wrote:
> >
> >     -----Original Message in HTML format-----
> >     *From:* gdal-dev-bounces@lists.maptools.org
> >     [mailto:gdal-dev-bounces@lists.maptools.org]*On Behalf Of *Chapman,
> >     Martin
> >     *Sent:* Tuesday, November 08, 2005 8:49 PM
> >     *To:* gdal-dev@lists.maptools.org
> >     *Subject:* [Gdal-dev] Google Earth
> >
> >     I just figured out that Google Earth (a.k.a. Keyhole) uses gdal and
> >     proj.  That is pretty impressive.  Way to go Frank.
> >
> >
> >
> >     Martin
> >     [Norman Barker]
> >
> >
> >
> >     Hi Martin,
> >
> >
> >
> >     don't disbelieve you at all, but how did you work this out?  It
> >     would make an even more convincing argument to my bosses if I could
> >     show them Google Earth as an example!
> >
>
> Yes, good point. It could be helpful for me too.

Folks,

I am curious why Martin thinks this too, but GDAL has
been used as part of the image processing chain at
Keyhole.  They funded alot of my early work on files larger
than 4GB.

However, it isn't clear to me how significant GDAL is at
Keyhole/Google.

The (weak?) connection between google maps and GDAL has
been my best attempt yet to convince my son I do something
interesting in the basement all day.  But even that seems to
have failed, as he just shrugged.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From tzhai2002 at yahoo.com  Wed Nov  9 12:02:27 2005
From: tzhai2002 at yahoo.com (Bruce Bill)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] gdal --with-grass cannot find installed grass library
Message-ID: <20051109170227.11927.qmail@web60417.mail.yahoo.com>

Dear group,
  as i posted in my previous posting, i was trying to
recompile gdal-1.3.1 on a sun box w/o admin priv to
have grass support, however, whatever I set the
--with-grass flag to, it just keep saying can't find
the libraries.

  Upon examining the configure script, I found it is
because (perhaps) that the script try to test this
variable:
$ac_cv_lib_grass_gis_G_asprintf
this is done even if grass is actually installed and
the path to libs are given, this is the one that
always leads to the assigning of 'no' to
'GRASS_SETTING' instead of 
'grass57+', I had to manually set it to 'grass57+' to
sort of make it pass that failure. 
   Please let me know by doing so, is it going to
cause trouble down the road?
   Also, I'm not clear as to --with-libgrass, if I
have the full version of grass6.0.1 installed, do I
need to set
  --with-grass=arg
  --with-libgrass=no (or do i leave it blank?)

   Please help!!!
   Thanks a bundle.


		
__________________________________ 
Start your day with Yahoo! - Make it your home page! 
http://www.yahoo.com/r/hs

From MChapman at sanz.com  Wed Nov  9 12:20:55 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Google Earth
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C188@mailman.san.com>

Norman,

 

I installed the application and looked at what dll's they put in their
install directory.  I can tell you that they are using gdal12, proj,
opengl, the opengl utiltity toolkit, qt, alchemy, xerces, opengl math
library, Microsoft win32 api, posix threads, and the windows media
library.  Those are the dll's that I could identify easily.  There
really wasn't too much more than that though.  

 

Best regards,

Martin

 

________________________________

From: Norman Barker [mailto:nbarker@rsinc.com] 
Sent: Wednesday, November 09, 2005 2:02 AM
To: Chapman, Martin; gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Google Earth

 

 

	-----Original Message-----
	From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Chapman, Martin
	Sent: Tuesday, November 08, 2005 8:49 PM
	To: gdal-dev@lists.maptools.org
	Subject: [Gdal-dev] Google Earth

	I just figured out that Google Earth (a.k.a. Keyhole) uses gdal
and proj.  That is pretty impressive.  Way to go Frank.

	 

	Martin
	[Norman Barker] 

	 

	Hi Martin,

	 

	don't disbelieve you at all, but how did you work this out?  It
would make an even more convincing argument to my bosses if I could show
them Google Earth as an example!

	 

	Congrats to Frank.

	 

	Many thanks,

	 

	Norman 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051109/719f243f/attachment.html
From MChapman at sanz.com  Wed Nov  9 12:21:26 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Google Earth
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C189@mailman.san.com>

Mateusz,

I installed the application and looked at what dll's they put in their install directory.  I can tell you that they are using gdal12, proj, opengl, the opengl utiltity toolkit, qt, alchemy, xerces, opengl math library, Microsoft win32 api, posix threads, and the windows media library.  Those are the dll's that I could identify easily.  There really wasn't too much more than that though.  

Best regards,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
Sent: Wednesday, November 09, 2005 2:22 AM
To: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Google Earth

Norman Barker wrote:
> 
>     -----Original Message in HTML format-----
>     *From:* gdal-dev-bounces@lists.maptools.org
>     [mailto:gdal-dev-bounces@lists.maptools.org]*On Behalf Of *Chapman,
>     Martin
>     *Sent:* Tuesday, November 08, 2005 8:49 PM
>     *To:* gdal-dev@lists.maptools.org
>     *Subject:* [Gdal-dev] Google Earth
> 
>     I just figured out that Google Earth (a.k.a. Keyhole) uses gdal and
>     proj.  That is pretty impressive.  Way to go Frank.
> 
>      
> 
>     Martin
>     [Norman Barker] 
> 
>      
> 
>     Hi Martin,
> 
>      
> 
>     don't disbelieve you at all, but how did you work this out?  It
>     would make an even more convincing argument to my bosses if I could
>     show them Google Earth as an example!
> 

Yes, good point. It could be helpful for me too.

>     Congrats to Frank.
> 

No discussion about that! Congrats!

Cheers

-- 
Mateusz ?oskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From MChapman at sanz.com  Wed Nov  9 12:22:45 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Google Earth
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C18A@mailman.san.com>

Frank,

I installed the application and looked at what dll's they put in their install directory.  I can tell you that they are using gdal12, proj, opengl, the opengl utiltity toolkit, qt, alchemy, xerces, opengl math library, Microsoft win32 api, posix threads, and the windows media library.  Those are the dll's that I could identify easily.  There really wasn't too much more than that though.  

Plus, what else are they going to use?  Is there anything better? ...nope.

Best regards,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank Warmerdam
Sent: Wednesday, November 09, 2005 7:23 AM
To: Mateusz ?oskot
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Google Earth

On 11/9/05, Mateusz ?oskot <mateusz@loskot.net> wrote:
> Norman Barker wrote:
> >
> >     -----Original Message in HTML format-----
> >     *From:* gdal-dev-bounces@lists.maptools.org
> >     [mailto:gdal-dev-bounces@lists.maptools.org]*On Behalf Of *Chapman,
> >     Martin
> >     *Sent:* Tuesday, November 08, 2005 8:49 PM
> >     *To:* gdal-dev@lists.maptools.org
> >     *Subject:* [Gdal-dev] Google Earth
> >
> >     I just figured out that Google Earth (a.k.a. Keyhole) uses gdal and
> >     proj.  That is pretty impressive.  Way to go Frank.
> >
> >
> >
> >     Martin
> >     [Norman Barker]
> >
> >
> >
> >     Hi Martin,
> >
> >
> >
> >     don't disbelieve you at all, but how did you work this out?  It
> >     would make an even more convincing argument to my bosses if I could
> >     show them Google Earth as an example!
> >
>
> Yes, good point. It could be helpful for me too.

Folks,

I am curious why Martin thinks this too, but GDAL has
been used as part of the image processing chain at
Keyhole.  They funded alot of my early work on files larger
than 4GB.

However, it isn't clear to me how significant GDAL is at
Keyhole/Google.

The (weak?) connection between google maps and GDAL has
been my best attempt yet to convince my son I do something
interesting in the basement all day.  But even that seems to
have failed, as he just shrugged.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From andy.canfield at gmail.com  Wed Nov  9 12:59:11 2005
From: andy.canfield at gmail.com (Andy Canfield)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Google Earth
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C189@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C189@mailman.san.com>
Message-ID: <7425d0870511090959ie772f01g8a80c63744b1991@mail.gmail.com>

I see the same also they are using libcurl. Wow that is a lot of open
source software in one app!

On 11/9/05, Chapman, Martin <MChapman@sanz.com> wrote:
> Mateusz,
>
> I installed the application and looked at what dll's they put in their install directory.  I can tell you that they are using gdal12, proj, opengl, the opengl utiltity toolkit, qt, alchemy, xerces, opengl math library, Microsoft win32 api, posix threads, and the windows media library.  Those are the dll's that I could identify easily.  There really wasn't too much more than that though.
>
> Best regards,
> Martin
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
> Sent: Wednesday, November 09, 2005 2:22 AM
> To: gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] Google Earth
>
> Norman Barker wrote:
> >
> >     -----Original Message in HTML format-----
> >     *From:* gdal-dev-bounces@lists.maptools.org
> >     [mailto:gdal-dev-bounces@lists.maptools.org]*On Behalf Of *Chapman,
> >     Martin
> >     *Sent:* Tuesday, November 08, 2005 8:49 PM
> >     *To:* gdal-dev@lists.maptools.org
> >     *Subject:* [Gdal-dev] Google Earth
> >
> >     I just figured out that Google Earth (a.k.a. Keyhole) uses gdal and
> >     proj.  That is pretty impressive.  Way to go Frank.
> >
> >
> >
> >     Martin
> >     [Norman Barker]
> >
> >
> >
> >     Hi Martin,
> >
> >
> >
> >     don't disbelieve you at all, but how did you work this out?  It
> >     would make an even more convincing argument to my bosses if I could
> >     show them Google Earth as an example!
> >
>
> Yes, good point. It could be helpful for me too.
>
> >     Congrats to Frank.
> >
>
> No discussion about that! Congrats!
>
> Cheers
>
> --
> Mateusz ?oskot
> http://mateusz.loskot.net
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From MChapman at sanz.com  Wed Nov  9 13:01:08 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Google Earth
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C18E@mailman.san.com>

Yes,

Google Earth and all their supporting libraries are a great testimate to the power of open source.

Martin

-----Original Message-----
From: Andy Canfield [mailto:andy.canfield@gmail.com] 
Sent: Wednesday, November 09, 2005 10:59 AM
To: Chapman, Martin
Cc: Mateusz Loskot; gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Google Earth

I see the same also they are using libcurl. Wow that is a lot of open
source software in one app!

On 11/9/05, Chapman, Martin <MChapman@sanz.com> wrote:
> Mateusz,
>
> I installed the application and looked at what dll's they put in their install directory.  I can tell you that they are using gdal12, proj, opengl, the opengl utiltity toolkit, qt, alchemy, xerces, opengl math library, Microsoft win32 api, posix threads, and the windows media library.  Those are the dll's that I could identify easily.  There really wasn't too much more than that though.
>
> Best regards,
> Martin
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
> Sent: Wednesday, November 09, 2005 2:22 AM
> To: gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] Google Earth
>
> Norman Barker wrote:
> >
> >     -----Original Message in HTML format-----
> >     *From:* gdal-dev-bounces@lists.maptools.org
> >     [mailto:gdal-dev-bounces@lists.maptools.org]*On Behalf Of *Chapman,
> >     Martin
> >     *Sent:* Tuesday, November 08, 2005 8:49 PM
> >     *To:* gdal-dev@lists.maptools.org
> >     *Subject:* [Gdal-dev] Google Earth
> >
> >     I just figured out that Google Earth (a.k.a. Keyhole) uses gdal and
> >     proj.  That is pretty impressive.  Way to go Frank.
> >
> >
> >
> >     Martin
> >     [Norman Barker]
> >
> >
> >
> >     Hi Martin,
> >
> >
> >
> >     don't disbelieve you at all, but how did you work this out?  It
> >     would make an even more convincing argument to my bosses if I could
> >     show them Google Earth as an example!
> >
>
> Yes, good point. It could be helpful for me too.
>
> >     Congrats to Frank.
> >
>
> No discussion about that! Congrats!
>
> Cheers
>
> --
> Mateusz ?oskot
> http://mateusz.loskot.net
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From tzhai2002 at yahoo.com  Wed Nov  9 13:54:03 2005
From: tzhai2002 at yahoo.com (Bruce Bill)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] gdal --with-grass cannot find installed grass library
	follow up errors
Message-ID: <20051109185403.38125.qmail@web60424.mail.yahoo.com>

Hi, Dear group
  I finally passed that grass libraries not found
error by hand set 
ac_cv_lib_grass_gis_G_asprintf=yes

which in turn allows
  GRASS_SETTING=grass57+

which in turn allows it to see the libraries,

but now when I make, it gives this error:
make[3]: Entering directory
`/home/danpatch/a/aggrass/gdal-1.3.1/ogr/ogrsf_frmts/grass'
/bin/sh ../../../libtool --mode=compile g++ -Wall  -O2
  -DUSE_CPL
-DGRASS_GISBASE=\"/home/danpatch/a/aggrass/grass-6.0.1\"
-I.. -I../..
-I/home/danpatch/a/aggrass/grass-6.0.1/include
-I../../../port -I../../../gcore -I../../../alg
-I../../../ogr -I../../../ogr/ogrsf_frmts
-I../../../port -I/usr/local/lib
-I/usr/local/lib/include -I/usr/local/lib/include
-I/usr/local/lib -I/usr/local/lib/include  -c -o
../o/ogrgrassdriver.o ogrgrassdriver.cpp
 g++ -Wall -O2 -DUSE_CPL
-DGRASS_GISBASE=\"/home/danpatch/a/aggrass/grass-6.0.1\"
-I.. -I../..
-I/home/danpatch/a/aggrass/grass-6.0.1/include
-I../../../port -I../../../gcore -I../../../alg
-I../../../ogr -I../../../ogr/ogrsf_frmts
-I../../../port -I/usr/local/lib
-I/usr/local/lib/include -I/usr/local/lib/include
-I/usr/local/lib -I/usr/local/lib/include -c
ogrgrassdriver.cpp  -fPIC -DPIC -o
../o/.libs/ogrgrassdriver.o
In file included from ogrgrassdriver.cpp:37:
ogrgrass.h:43:33: grass/gprojects.h: No such file or
directory
ogrgrass.h:44:27: grass/gis.h: No such file or
directory
ogrgrass.h:45:28: grass/dbmi.h: No such file or
directory
ogrgrass.h:46:28: grass/Vect.h: No such file or
directory
In file included from ogrgrassdriver.cpp:37:
ogrgrass.h:101: error: ISO C++ forbids declaration of
`dbString' with no type
ogrgrass.h:101: error: expected `;' before '*' token
ogrgrass.h:102: error: ISO C++ forbids declaration of
`dbDriver' with no type
ogrgrass.h:102: error: expected `;' before '*' token
ogrgrass.h:103: error: ISO C++ forbids declaration of
`dbCursor' with no type
ogrgrass.h:103: error: expected `;' before '*' token
ogrgrass.h:115: error: `dbTable' has not been declared
ogrgrass.h:115: error: ISO C++ forbids declaration of
`table' with no type
ogrgrass.h:161: error: field `map' has incomplete type
make[3]: *** [../o/ogrgrassdriver.o] Error 1
make[3]: Leaving directory
`/home/danpatch/a/aggrass/gdal-1.3.1/ogr/ogrsf_frmts/grass'
make[2]: *** [grass-target] Error 2
make[2]: Leaving directory
`/home/danpatch/a/aggrass/gdal-1.3.1/ogr/ogrsf_frmts'
make[1]: *** [sublibs] Error 2
make[1]: Leaving directory
`/home/danpatch/a/aggrass/gdal-1.3.1/ogr'
make: *** [ogr-target] Error 2

   Please help!!
   Thanks,



	
		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

From warmerdam at pobox.com  Wed Nov  9 14:08:43 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Google Earth
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C18A@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C18A@mailman.san.com>
Message-ID: <931f8ea90511091108x38db65fenb5040f2988c297df@mail.gmail.com>

On 11/9/05, Chapman, Martin <MChapman@sanz.com> wrote:
> Frank,
>
> I installed the application and looked at what dll's they put in their install directory.  I can tell you that they are using gdal12, proj, opengl, the opengl utiltity toolkit, qt, alchemy, xerces, opengl math library, Microsoft win32 api, posix threads, and the windows media library.  Those are the dll's that I could identify easily.  There really wasn't too much more than that though.

Martin,

Sweet!  I hadn't realized it was in use in the client app.   I will add
this on the list of packages using GDAL.

> Plus, what else are they going to use?  Is there anything better? ...nope.

In my highly biased opinion there is no other multi format geospatial
raster/vector read/write library out there that is closely comparible
to GDAL.

The closest comparisons I can think of essentially come
as part of a much larger system.  For instance PCI has GeoGateway
( my first baby :-) ), Safe has FMEObjects (stronger on the vector
side), and other major vendors also have multiformat libraries.  But
they don't usually license them standalone for other developers to
use.  Well, Safe does, but then several of the Safe drivers are
OGR derived so I claim a little ego-boo when they are used too. :-)

OK, time to reign in my swelled head, and get back to work.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From j.l.h.hartmann at uva.nl  Wed Nov  9 14:24:01 2005
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>
Message-ID: <43724CD1.60002@uva.nl>

Hi,

I am trying to warp Geotiffs from epsg:28992 (Dutch national grid) to 
EPSG4326 (lat-lon WGS84). The PROJ epsg-file gives "stere" as projection 
for 28992, but "sterea" gives a better approximation in this case (see 
http://bugzilla.remotesensing.org/show_bug.cgi?id=980). Also, a 
"towgs84" parameter is needed for transforming to WGS84. I can use the 
complete, correct PROJ-string in cs2cs, mapserver and postgis by 
replacing the values in the epsg file/spatial_ref_sys table, but for 
gdalwarp this does not work. When I give the complete PROJ-string in 
gdalwarp, e.g.

gdalwarp -s_srs "+proj=sterea +lat_0=52.15616055555555 
+lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000 
+ellps=bessel  +units=m 
+towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812 
+no_defs +to +proj=latlong +datum=WGS84" -t_srs input.tif output.tif

I get an error "Error 1: Translating source or target SRS failed." With 
"+proj=stere" everything works, but then the transformation is not exact.

Is there any way to get these parameters into gdalwarp?

Jan Hartmann
Department of Geography
University of Amsterdam

From warmerdam at pobox.com  Wed Nov  9 14:30:31 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] gdal --with-grass cannot find installed grass library
	follow up errors
In-Reply-To: <20051109185403.38125.qmail@web60424.mail.yahoo.com>
References: <20051109185403.38125.qmail@web60424.mail.yahoo.com>
Message-ID: <931f8ea90511091130u6c30a840j54ac67d2e40a6f85@mail.gmail.com>

On 11/9/05, Bruce Bill <tzhai2002@yahoo.com> wrote:
> -I/home/danpatch/a/aggrass/grass-6.0.1/include
>...
> In file included from ogrgrassdriver.cpp:37:
> ogrgrass.h:43:33: grass/gprojects.h: No such file or
> directory

Bill,

And do you have the include file gis.h in the directory
/home/danpatch/a/aggrass/grass-6.0.1/include/grass?

Is /home/danpatch/a/aggrass/grass-6.0.1 the
grass build tree or install tree?  GDAL needs an
installed tree.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From tzhai2002 at yahoo.com  Wed Nov  9 19:31:10 2005
From: tzhai2002 at yahoo.com (Bruce Bill)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] gdal_translate does not find 'grass'
Message-ID: <20051110003110.28792.qmail@web60412.mail.yahoo.com>

Dear group,
  I have installed gdal-1.3.1 --with-grass,
now, when I check it, i did:

gdal-config --formats

gxf gtiff hfa aigrid aaigrid ceos ceos2 iso8211 xpm
sdts raw dted mem jdem envisat elas fit vrt usgsdem
l1b nitf bmp pcidsk airsar rs2 ilwis rmf rik bsb gif
jpeg png pcraster grass

but when I did:

gdal_translate --formats

it doesn't report GRASS as one of the formats.

Please help and let me know what I need to do to get
it to recoganize GRASS.
  Thanks a lot!



		
__________________________________ 
Start your day with Yahoo! - Make it your home page! 
http://www.yahoo.com/r/hs

From jgreenberg at arc.nasa.gov  Wed Nov  9 21:54:45 2005
From: jgreenberg at arc.nasa.gov (Jonathan Greenberg)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Large file i/o under cygwin?
Message-ID: <200511100255.jAA2tZgW007337@duke.maptools.org>

I KNOW my XP machine can do large file i/o (I do it all the time in ENVI),
but I can't seem to figure out how to get gdal to compile using 64-bit i/o
under a cygwin install.  Is this possible?

--j

--

Jonathan A. Greenberg, PhD
NRC Research Associate
NASA Ames Research Center
MS 242-4
Moffett Field, CA 94035-1000
Office: 650-604-5896
Cell: 415-794-5043
AIM: jgrn307
MSN: jgrn307@hotmail.com




From warmerdam at pobox.com  Wed Nov  9 22:25:54 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] gdal_translate does not find 'grass'
In-Reply-To: <20051110003110.28792.qmail@web60412.mail.yahoo.com>
References: <20051110003110.28792.qmail@web60412.mail.yahoo.com>
Message-ID: <931f8ea90511091925g41bc9e72kba44ecb3efdb4fb3@mail.gmail.com>

On 11/9/05, Bruce Bill <tzhai2002@yahoo.com> wrote:
> Dear group,
>   I have installed gdal-1.3.1 --with-grass,
> now, when I check it, i did:
>
> gdal-config --formats
>
> gxf gtiff hfa aigrid aaigrid ceos ceos2 iso8211 xpm
> sdts raw dted mem jdem envisat elas fit vrt usgsdem
> l1b nitf bmp pcidsk airsar rs2 ilwis rmf rik bsb gif
> jpeg png pcraster grass
>
> but when I did:
>
> gdal_translate --formats
>
> it doesn't report GRASS as one of the formats.

Bruce,

This suggests to me you didn't do a clean recompile
and install with GRASS enabled.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From mark.huff at us.army.mil  Tue Nov  8 22:31:48 2005
From: mark.huff at us.army.mil (Huff, Mark MR)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] LIDAR/xyz/grid data to DTED
Message-ID: <1EC2C1ADF6C4A34487E0A13165A7E2BC0C8DD9A5@LeonB1Tarkin.wood.army.mil>

I need to convert LIDAR/XYZ/or arcinfo grid data to DTED format eloquently.
Does anyone know of a script/program etc already written to do this?  
V/R

L. Mark Huff
Physical Scientist
Terrain Visualization Center
199 East 4th St.Suite H
Ft. Leonard Wood, MO.
Ph 573-3291906
cell 417-718-4400

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051108/42798155/attachment.html
From warmerdam at pobox.com  Wed Nov  9 22:57:54 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <43724CD1.60002@uva.nl>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>
	<43724CD1.60002@uva.nl>
Message-ID: <931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>

On 11/9/05, Jan Hartmann <j.l.h.hartmann@uva.nl> wrote:
> Hi,
>
> I am trying to warp Geotiffs from epsg:28992 (Dutch national grid) to
> EPSG4326 (lat-lon WGS84). The PROJ epsg-file gives "stere" as projection
> for 28992, but "sterea" gives a better approximation in this case (see
> http://bugzilla.remotesensing.org/show_bug.cgi?id=980). Also, a
> "towgs84" parameter is needed for transforming to WGS84. I can use the
> complete, correct PROJ-string in cs2cs, mapserver and postgis by
> replacing the values in the epsg file/spatial_ref_sys table, but for
> gdalwarp this does not work. When I give the complete PROJ-string in
> gdalwarp, e.g.
>
> gdalwarp -s_srs "+proj=sterea +lat_0=52.15616055555555
> +lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000
> +ellps=bessel  +units=m
> +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812
> +no_defs +to +proj=latlong +datum=WGS84" -t_srs input.tif output.tif
>
> I get an error "Error 1: Translating source or target SRS failed." With
> "+proj=stere" everything works, but then the transformation is not exact.
>
> Is there any way to get these parameters into gdalwarp?

Jan,

The problem here is that gdalwarp is converting the PROJ.4
coordinate system definition into WKT internally, and then back
into PROJ.4 format before passing to PROJ.4 itself.   There is
no obvious formulation for sterea in WKT.

This particular problem (sterea) should be corrected by
making sterea the default translation of the WKT
projection name "OBLIQUE_STEREOGRAPHIC".

It doesn't fix the general problem that PROJ.4 arguments
to programs like gdalwarp aren't always preserved all the
way down to PROJ.4 itself.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jgreenberg at arc.nasa.gov  Wed Nov  9 23:12:42 2005
From: jgreenberg at arc.nasa.gov (Jonathan Greenberg)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] More questions about LFS in gdal
Message-ID: <200511100413.jAA4D7GU009680@duke.maptools.org>

Frank:

	The errors I'm getting after using the -with-unix-stdio-64=yes are
(cygwin doesn't have any decent copying pasting, so I'm abbreviating some of
this):

cpl_vsi_mem.cpp:396: error: invalid use of undefined type 'struct stat64'
cpl_vsi.h:211: error: forward declaration of 'struct stat64'
[more of the same errors at different lines]

I noticed in cpl_vsi.h you are not using stat.h, rather unistd.h -- not
knowing exactly what these do I'm a bit confused why the difference --
cygwin does contain two stat.h's (I've attached both to this email), and I
looked into it and stat.h contains a definition of stat64 (working, as far
as I can gather from the cygwin people).  Let me know what I can do to help
-- I'd like to get 64-bit file i/o on my win/cygwin setup as soon as
possible!

--j 

--

Jonathan A. Greenberg, PhD
NRC Research Associate
NASA Ames Research Center
MS 242-4
Moffett Field, CA 94035-1000
Office: 650-604-5896
Cell: 415-794-5043
AIM: jgrn307
MSN: jgrn307@hotmail.com

-------------- next part --------------
A non-text attachment was scrubbed...
Name: stat.h
Type: application/octet-stream
Size: 4359 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051109/08663956/stat.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: stat.h
Type: application/octet-stream
Size: 1889 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051109/08663956/stat-0001.obj
From warmerdam at pobox.com  Wed Nov  9 23:14:52 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>
	<43724CD1.60002@uva.nl>
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>
Message-ID: <931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>

On 11/9/05, Frank Warmerdam <warmerdam@pobox.com> wrote:
> > gdalwarp -s_srs "+proj=sterea +lat_0=52.15616055555555
> > +lon_0=5.38763888888889 +k=0.999908 +x_0=155000 +y_0=463000
> > +ellps=bessel  +units=m
> > +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812
> > +no_defs +to +proj=latlong +datum=WGS84" -t_srs input.tif output.tif
> >
> > I get an error "Error 1: Translating source or target SRS failed." With
> > "+proj=stere" everything works, but then the transformation is not exact.
> >
> > Is there any way to get these parameters into gdalwarp?

Jan,

I have just committed the changes for bug 980.   If you
were to build from CVS you should get proj=sterea now.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Nov  9 23:28:02 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] LIDAR/xyz/grid data to DTED
In-Reply-To: <1EC2C1ADF6C4A34487E0A13165A7E2BC0C8DD9A5@LeonB1Tarkin.wood.army.mil>
References: <1EC2C1ADF6C4A34487E0A13165A7E2BC0C8DD9A5@LeonB1Tarkin.wood.army.mil>
Message-ID: <931f8ea90511092028k2b90d798te21f36d672e57a57@mail.gmail.com>

On 11/8/05, Huff, Mark MR <mark.huff@us.army.mil> wrote:
>
>
> I need to convert LIDAR/XYZ/or arcinfo grid data to DTED format eloquently.
> Does anyone know of a script/program etc already written to do this?

Mark,

You can use gdal_translate to write DTED files, but
you will need to preprocess the input into a single cell
at one of the required resolutions.   So to produce a
Level 1 cell you need to ensure it is appropriately
formatted as 1201 x 1201 and on the correct 1degree
cell boundaries.  This can be tricky, but can be accomplished
with gdalwarp.

Arcinfo grids as input should be fine.  XYZ ascii files
will require some sort of script to process.  I'm not sure
exactly what format LIDAR is in.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From t.laue at web.de  Thu Nov 10 03:42:04 2005
From: t.laue at web.de (t.laue@web.de)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] [newbie] Reading of large TIF files
Message-ID: <437315EC.11950.2B6B5B@localhost>

Dear all,

I am currently developing a small application using Qt 4 and C++ for handling and 
evaluating large aerial images given in TIF / TIFF format. I am using GDAL for image 
input. I am working with image overviews and image tiles for providing a good zoom 
and pan performance. 

At the moment GDALRasterBand::RasterIO is being used for accessing overview levels 
and reading small image patchs because I did not find a way how to read from single 
overview levels using GDALDataset::RasterIO. Everything is working fine as long as I 
am utilising gray value images with one raster band.

In the case of RGB images I can employ a loop for retrieving the data of all three raster 
bands from the same overview level resulting in three buffers which contain the data. I 
would like to display the color image at the screen but I have no idea how to combine 
them again.

Is there a way to create a new dataset for adding the data read from different bands? Is 
it possible to use GDALDataset to access single overview levels? Do I have to use 
another method independent of GDAL to bring the three buffers together in order to 
recreate a RGB image patch? Is anyone working with Qt 4 and GDAL? 

I am very thankful for every hint and idea.

Best regards

Thomas
 

From mateusz at loskot.net  Thu Nov 10 03:52:54 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Worldfile from SuperEdit + rotated images problems
In-Reply-To: <35660.127.0.0.1.1131383064.squirrel@loskot.net>
References: <35660.127.0.0.1.1131383064.squirrel@loskot.net>
Message-ID: <43730A66.6080108@loskot.net>

Mateusz ?oskot wrote:
> Hi,
> 
> I have problems with translating JPG+JGW file to GeoTIFF
> using GDAL utilities from FWTools 1.0.0a5.
> [...]

Please, forgive me I'm a bit annoying but this is really crucial for me.
Second, I think GDAL hackers would know what is going wrong with this 
rotation issue.

I'd be very very thankful for any help.

Cheers

-- 
Mateusz ?oskot
http://mateusz.loskot.net

From tim at linfiniti.com  Thu Nov 10 04:32:24 2005
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] [newbie] Reading of large TIF files
In-Reply-To: <437315EC.11950.2B6B5B@localhost>
References: <437315EC.11950.2B6B5B@localhost>
Message-ID: <E6C03609-7E26-40F9-8978-2369EAD94659@linfiniti.com>

Hi

Take a look at qgsrasterlayer.cpp in the QGIS (http://qgis.org)  
source code. We have already solved this problem.

Essentially, assign each of the three bands pixels to a different  
variable, then create a qcolor using each as the r,g,b values. Then  
simply paint your pixel using that qcolor.

OT I would be intersested to chat to you to see if a) the application  
you are working on is open source and b) you would be interested in  
combining efforts with QGIS.

Best Regards

Tim

On 10 Nov 2005, at 08:42, t.laue@web.de wrote:

> Dear all,
>
> I am currently developing a small application using Qt 4 and C++  
> for handling and
> evaluating large aerial images given in TIF / TIFF format. I am  
> using GDAL for image
> input. I am working with image overviews and image tiles for  
> providing a good zoom
> and pan performance.
>
> At the moment GDALRasterBand::RasterIO is being used for accessing  
> overview levels
> and reading small image patchs because I did not find a way how to  
> read from single
> overview levels using GDALDataset::RasterIO. Everything is working  
> fine as long as I
> am utilising gray value images with one raster band.
>
> In the case of RGB images I can employ a loop for retrieving the  
> data of all three raster
> bands from the same overview level resulting in three buffers which  
> contain the data. I
> would like to display the color image at the screen but I have no  
> idea how to combine
> them again.
>
> Is there a way to create a new dataset for adding the data read  
> from different bands? Is
> it possible to use GDALDataset to access single overview levels? Do  
> I have to use
> another method independent of GDAL to bring the three buffers  
> together in order to
> recreate a RGB image patch? Is anyone working with Qt 4 and GDAL?
>
> I am very thankful for every hint and idea.
>
> Best regards
>
> Thomas
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

Tim Sutton (tim at linfiniti.com)

Visit http://qgis.org for a great open source GIS application
Skype : timlinux
Jabber : timlinux@jabber.org
MSN : tim_bdworld@msn.com





From andreas.fischer at kreis-unna.de  Thu Nov 10 04:40:48 2005
From: andreas.fischer at kreis-unna.de (Fischer, Andreas)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] ogr2ogr and MapInfo
Message-ID: <A45C4BB6E895D711BD5A002035847D4D6D52E0@ntku4.kru.int>

Dear list,
I still did some experiences getting PostGIS-data to MapInfo MIF-files.
Everything works well whenn (!)  I drop the Bounds-Clause in the MIF-File
before importing it to MapInfo. Now I'd like to know if there is a
possibility to avoid ogr2ogr writing this clause at the end for the CoordSys
line. To get a MIF-file imported this clause is not nessesary and dropping
this clause increases the precision of my data. Now I have to drop this
clause manualy after creating the MIF-file and therefore I can't get the
conversion done automatically.

In the documentation to the different formats I found the following:

"We should fix the driver at some point to set valid default bounds for each
projection, but for the time being, the MapInfo driver sets the following
default bounds when a new layer is created: For a file in
- LAT/LON (geographic) coordinates: BOUNDS (-180, -90) (180, 90) 
- For any other projection: BOUNDS (-30000000, -15000000) (30000000,
15000000) "

And that is what it does with my MIF-File. The line looks as follows:
"CoordSys Earth Projection 8, 104, "m", 9, 0, 1, 3500000, 0
Bounds(-30000000, -15000000) (30000000, 15000000)"

Does this mean that this functionality is fixed in the source code of the
programm? May this be changed by myself or has anyone another idea to
workaround this problem? Conversion would be perfect than!
Thank you for your help!

Regards
Andreas Fischer

Kreis Unna
Dezernat III - Projektteam GIS
Platanenallee 16
59425 Unna

(02303) 27-2507
andreas.fischer@kreis-unna.de



From fclaudel at csir.co.za  Thu Nov 10 07:08:48 2005
From: fclaudel at csir.co.za (Frederic Claudel)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] position : automated image processing, SA
Message-ID: <s3735487.050@cs-emo.csir.co.za>

Hi list,

this is to advertise for a research position about "automated image processing chains", at the CSIR - Meraka Institute, Tshwane (Pretoria), South Africa.
the position is available from January 2006. The duration is minimum one year, preferably three years.

AIMS:
- research image processing techniques for remote sensing data sets (aerial, satellite)
- implement adaptable, self-describing automatic image/vector processes
- evaluate domain needs/queries automatically and construct relevant data flows
- use standards and unify the processes (OGC services, ISO), in the context of the Sensor Web Enablement
- assess image quality
- integrate with other geographic information 
- build on top of existing open source software (OSSIM, GDAL, POSTGIS, GEOTOOLS, GEOSERVER, MAPSERVER)

SKILLS NEEDED:
- at least 2 years of experience in image processing
- applied mathematics : feature detection and matching, optimization, geometry, statistics
- remote sensing skills : geometric/radiometric image correction, photogrammetry, geography basics
- good knowledge of OGC specifications is a plus
- object oriented software design, C++  (Java and Python)
note: preference will be given to experienced OSSIM developers.

CONTEXT:
-the researcher will be integrated into a team of remote sensing and image processing specialists
-he will answer information needs from the scientific, industrial and governmental communities
-he will have a priviledged access to satellite data sources
-he will participate in scientific projects within the Meraka Institute and the CSIR (Council for Scientific and Industrial Research)

so if you're ready for an african experience, please send your motivations (with a CV) to Mr. Andrew Terhorst : aterhorst -at- csir -dot- co -dot- za

regards,
Frederic Claudel
Meraka Institute - CSIR



-- 
This message is subject to the CSIR's copyright, terms and conditions and
e-mail legal notice. Views expressed herein do not necessarily represent the
views of the CSIR.
 
CSIR E-mail Legal Notice
http://mail.csir.co.za/CSIR_eMail_Legal_Notice.html 
 
CSIR Copyright, Terms and Conditions
http://mail.csir.co.za/CSIR_Copyright.html 
 
For electronic copies of the CSIR Copyright, Terms and Conditions and the CSIR
Legal Notice send a blank message with REQUEST LEGAL in the subject line to
HelpDesk@csir.co.za.


This message has been scanned for viruses and dangerous content by MailScanner, 
and is believed to be clean.  MailScanner thanks Transtec Computers for their support.



From eric.doenges at gmx.net  Thu Nov 10 07:54:03 2005
From: eric.doenges at gmx.net (=?ISO-8859-1?Q?Eric_D=F6nges?=)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Q
In-Reply-To: <E6C03609-7E26-40F9-8978-2369EAD94659@linfiniti.com>
References: <437315EC.11950.2B6B5B@localhost>
	<E6C03609-7E26-40F9-8978-2369EAD94659@linfiniti.com>
Message-ID: <B58A276C-D77E-4BF2-BDE3-376583CFFD59@gmx.net>


Am 10.11.2005 um 10:32 schrieb Tim Sutton:

> Hi
>
> Take a look at qgsrasterlayer.cpp in the QGIS (http://qgis.org)  
> source code. We have already solved this problem.
>
> Essentially, assign each of the three bands pixels to a different  
> variable, then create a qcolor using each as the r,g,b values. Then  
> simply paint your pixel using that qcolor.
>
> OT I would be intersested to chat to you to see if a) the  
> application you are working on is open source and b) you would be  
> interested in combining efforts with QGIS.
>
> Best Regards
>
> Tim
>
> On 10 Nov 2005, at 08:42, t.laue@web.de wrote:
>
>> Dear all,
>>
>> I am currently developing a small application using Qt 4 and C++  
>> for handling and
>> evaluating large aerial images given in TIF / TIFF format. I am  
>> using GDAL for image
>> input. I am working with image overviews and image tiles for  
>> providing a good zoom
>> and pan performance.
>>
>> At the moment GDALRasterBand::RasterIO is being used for accessing  
>> overview levels
>> and reading small image patchs because I did not find a way how to  
>> read from single
>> overview levels using GDALDataset::RasterIO. Everything is working  
>> fine as long as I
>> am utilising gray value images with one raster band.
>>
>> In the case of RGB images I can employ a loop for retrieving the  
>> data of all three raster
>> bands from the same overview level resulting in three buffers  
>> which contain the data. I
>> would like to display the color image at the screen but I have no  
>> idea how to combine
>> them again.
>>
>> Is there a way to create a new dataset for adding the data read  
>> from different bands? Is
>> it possible to use GDALDataset to access single overview levels?  
>> Do I have to use
>> another method independent of GDAL to bring the three buffers  
>> together in order to
>> recreate a RGB image patch? Is anyone working with Qt 4 and GDAL?

While RasterIO doesn't let you specify which overview to use  
directly, I believe it
automatically calculates the most appropriate overview to use based  
on the source and
destination image sizes you specify to RasterIO. The big advantage of  
using RasterIO
is that you can have RasterIO worry about creating packed pixel  
formats from the color
bands, which should be a lot faster than the method Tim suggests  
above. This is how I
do it:

// Now, copy the raster data from the dataset.
if (CE_None != GDALDatasetRasterIO(_dataset, GF_Read,
                                    x, y, (int)ceilf(rect.size.width),
                                    (int)ceilf(rect.size.height),
                                    data, width, height, GDT_Byte,  
bands,
				   &_bandMap[bandStart],
				   bytesPerPixel, bytesPerRow, 1))
{
	NSLog(@"problem with GDALDatasetRasterIO");
         goto done;
}

'data' is the pointer to the memory area that should hold the ARGB32  
data, 'bands' is
the number of bands in the dataset, and '_bandMap' holds an array of  
the indexes of the
bands in the correct order, which is alpha, red, green and blue for  
my application.
The 'bandStart' parameter is used to handle cases were the dataset  
doesn't have an
Alpha channel, in which case it is 1 instead of 0 (this allows me to  
simplify the code
that generates the _bandMap). bytesPerPixel is 4. Read the RasterIO  
documentation
for more details.

Disclaimer: I've never worked with QT before, so the above may be  
totally useless to
you.

With kind regards,
Eric


From warmerdam at pobox.com  Thu Nov 10 09:28:06 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] ogr2ogr and MapInfo
In-Reply-To: <A45C4BB6E895D711BD5A002035847D4D6D52E0@ntku4.kru.int>
References: <A45C4BB6E895D711BD5A002035847D4D6D52E0@ntku4.kru.int>
Message-ID: <931f8ea90511100628x1e9af85esc89ea3e1cf095774@mail.gmail.com>

On 11/10/05, Fischer, Andreas <andreas.fischer@kreis-unna.de> wrote:
> Dear list,
> I still did some experiences getting PostGIS-data to MapInfo MIF-files.
> Everything works well whenn (!)  I drop the Bounds-Clause in the MIF-File
> before importing it to MapInfo. Now I'd like to know if there is a
> possibility to avoid ogr2ogr writing this clause at the end for the CoordSys
> line. To get a MIF-file imported this clause is not nessesary and dropping
> this clause increases the precision of my data. Now I have to drop this
> clause manualy after creating the MIF-file and therefore I can't get the
> conversion done automatically.
>
> In the documentation to the different formats I found the following:
>
> "We should fix the driver at some point to set valid default bounds for each
> projection, but for the time being, the MapInfo driver sets the following
> default bounds when a new layer is created: For a file in
> - LAT/LON (geographic) coordinates: BOUNDS (-180, -90) (180, 90)
> - For any other projection: BOUNDS (-30000000, -15000000) (30000000,
> 15000000) "
>
> And that is what it does with my MIF-File. The line looks as follows:
> "CoordSys Earth Projection 8, 104, "m", 9, 0, 1, 3500000, 0
> Bounds(-30000000, -15000000) (30000000, 15000000)"
>
> Does this mean that this functionality is fixed in the source code of the
> programm? May this be changed by myself or has anyone another idea to
> workaround this problem? Conversion would be perfect than!
> Thank you for your help!

Andreas,

I would have no objection to adding a layer creation option
which would disable the bounds.  Do you have any idea
why the bounds are causing the import into mapinfo to fail?
Does your data fall outside the indicated bounds?

Re-reading your message I get the impression that dropping
it just improves the precision the data is imported with in
MapInfo, is that right?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Nov 10 09:32:27 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] [newbie] Reading of large TIF files
In-Reply-To: <437315EC.11950.2B6B5B@localhost>
References: <437315EC.11950.2B6B5B@localhost>
Message-ID: <931f8ea90511100632v55aec50dg87c5774a855848a2@mail.gmail.com>

On 11/10/05, t.laue@web.de <t.laue@web.de> wrote:
> At the moment GDALRasterBand::RasterIO is being used for accessing overview levels
> and reading small image patchs because I did not find a way how to read from single
> overview levels using GDALDataset::RasterIO. Everything is working fine as long as I
> am utilising gray value images with one raster band.
>
> In the case of RGB images I can employ a loop for retrieving the data of all three raster
> bands from the same overview level resulting in three buffers which contain the data. I
> would like to display the color image at the screen but I have no idea how to combine
> them again.
>
> Is there a way to create a new dataset for adding the data read from different bands? Is
> it possible to use GDALDataset to access single overview levels? Do I have to use
> another method independent of GDAL to bring the three buffers together in order to
> recreate a RGB image patch? Is anyone working with Qt 4 and GDAL?

Thomas,

You can fetch "overview bands" from a band using the
GDALRasterBand::GetOverview() method.  GDALRasterBand::GetOverviewCount()
will indicate how many are available.

However, as someone else noted, you don't normally need to explicitly
reference the overviews as GDAL will use the most appropriate overview
or the base band depending on the level of downsampling implicit in
your RasterIO() request.

Also, you can fetch all desired bands in one pass using the
GDALDataset::RasterIO() method.  For some formats this
will be faster while for others it just does a rasterio on each band,
reorganizing the data into a mixed band.

I'll leave the Qt issues to Tim.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From schut at sarvision.nl  Thu Nov 10 09:38:23 2005
From: schut at sarvision.nl (Vincent Schut)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] vrt & overviews
Message-ID: <op.sz0399bnxn96lv@localhost>

[Sorry if this message appears twice, I accidentally sent it using my  
other mail account which is not subscribe to the list...]

Hi all,

before I start generating overviews for all of my SRTM data, the following
question: when the sourcebands of a VRT file have overviews, will these
overviews be used when accessing the VRT file? E.g. I have one VRT file
which mosaics all my SRTM data tiles and which I use to cut and/or warp
the pieces of elevation data that I need. Does it make sense to generate
overviews for each tile, so these will be used when resampling the vrt
file (like using gdal_translate to cut a piece of srtm at a much lower
resolution)?

Regards,
Vincent.

From blazkurnik at gmail.com  Thu Nov 10 09:36:43 2005
From: blazkurnik at gmail.com (=?WINDOWS-1252?Q?bla=9E_kurnik?=)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] hdf5 and gdal
Message-ID: <e309e0bc0511100636i286cf1b4x1d71f61547119a0f@mail.gmail.com>

Dear Developers and others

I have a problem how to read hdf5 in grass6 using gdal 1.3.1
I wrote
r.in.gdal -o input=HDF5:"sat.h5":TemperaturePrecision output=aa

where sat.h5 is hdf5 file and TemperaturePrecision is dataset
Massage of the error is :

szFilenname sat.h5
Segmentation fault


The same error is when i use gdal_translate as

gdal_translate -sds -of AAIGrid -co "TILED=YES" HIRPROF_v582v2.he5 sat.ascii


If anyone can help me I would be very happy

Greatings

Blaz Kurnik
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051110/d5c57551/attachment.html
From j.l.h.hartmann at uva.nl  Thu Nov 10 10:30:16 2005
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>	
	<43724CD1.60002@uva.nl>	
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>
	<931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>
Message-ID: <43736788.7020700@uva.nl>

Frank Warmerdam wrote:
> 
> Jan,
> 
> I have just committed the changes for bug 980.   If you
> were to build from CVS you should get proj=sterea now.
> 

I built from CVS (version 1.3.1.0) and gdalwarp now accepts "sterea" as 
projection. However, the resulting raster is exactly the same as with 
"stere". Also, adding the "towgs" parameter doesn't change anything in 
both cases. The five calls:

+proj=stere
+proj=sterea
+proj=stere +towgs84=..
+proj=sterea +towgs84=..
+init=epsg:28992

produce exactly the same output.

Jan

From warmerdam at pobox.com  Thu Nov 10 10:33:20 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] vrt & overviews
In-Reply-To: <op.sz0399bnxn96lv@localhost>
References: <op.sz0399bnxn96lv@localhost>
Message-ID: <931f8ea90511100733q4b8bc6c7hd5e2c8d8e17e13af@mail.gmail.com>

On 11/10/05, Vincent Schut <schut@sarvision.nl> wrote:
> [Sorry if this message appears twice, I accidentally sent it using my
> other mail account which is not subscribe to the list...]

Vincent,

I rejected the other copy, but did enable that account to post directly
to the list in the future.

> before I start generating overviews for all of my SRTM data, the following
> question: when the sourcebands of a VRT file have overviews, will these
> overviews be used when accessing the VRT file? E.g. I have one VRT file
> which mosaics all my SRTM data tiles and which I use to cut and/or warp
> the pieces of elevation data that I need. Does it make sense to generate
> overviews for each tile, so these will be used when resampling the vrt
> file (like using gdal_translate to cut a piece of srtm at a much lower
> resolution)?

The VRTSourcedRasterBand type of VRT will indeed take advantage of
underlying file overviews if present.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From andreas.fischer at kreis-unna.de  Thu Nov 10 10:40:28 2005
From: andreas.fischer at kreis-unna.de (Fischer, Andreas)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] ogr2ogr and MapInfo
Message-ID: <A45C4BB6E895D711BD5A002035847D4D6D52E1@ntku4.kru.int>

Hi Frank,
thanks for continue talking about this problem! 
Yes, that's right. Dropping the Bounds-Clause in the MIF-File "only"
improves the precision of the imported data (the MapInfo-Relation). I think
it is because of the wide range given in the Bounds of (-30000000,
-15000000) (30000000, 15000000). The range is much wider than the range
covered by the projection EPSG:31463 (Gauss Krueger - DHDN, Zone 3). Further
this projection does not know negativ values. I think this Clause simply
doesn't fit this projection very well, even though at first sight
erverything looks almost o.k.. Overlaying both data in different colors show
both colors at some points. This should not be possible, when the data
really match. So when you zoom in very deep you will discover that the
original data of MapInfo and the
"GetIntoPostGis-GetOutofPostGisIntoMIF-GetIntoMapInfoImported Data" don't
really match. And after I compared the coordinates, the differences I can
see make sense. The coordinates of equal points are not the same anymore! It
is only a couple of cm but it is not the same, as it should be since data
haven't got changed on purpose.
In the HELP-texts of MapBasic I found a hint on the Bounds-Clause, that
seems to point in the same direction:
"In a Create Map statement, you can increase the precision of the
coordinates in the map by specifying narrower Bounds."
That are my asumptions on this problem. When importing the data from MIF
without Bounds-Clause, you get exactly the same data and coordinates. I just
tried it out again before writing this.
So a layer creation option to disable the bounds would solve this problem
:-)
Best regards
Andreas Fischer

-----Urspr?ngliche Nachricht-----
Von: Frank Warmerdam [mailto:warmerdam@pobox.com]
Gesendet: Donnerstag, 10. November 2005 15:28
An: Fischer, Andreas
Cc: Gdal-dev@lists.maptools.org
Betreff: Re: [Gdal-dev] ogr2ogr and MapInfo


On 11/10/05, Fischer, Andreas <andreas.fischer@kreis-unna.de> wrote:
> Dear list,
> I still did some experiences getting PostGIS-data to MapInfo MIF-files.
> Everything works well whenn (!)  I drop the Bounds-Clause in the MIF-File
> before importing it to MapInfo. Now I'd like to know if there is a
> possibility to avoid ogr2ogr writing this clause at the end for the
CoordSys
> line. To get a MIF-file imported this clause is not nessesary and dropping
> this clause increases the precision of my data. Now I have to drop this
> clause manualy after creating the MIF-file and therefore I can't get the
> conversion done automatically.
>
> In the documentation to the different formats I found the following:
>
> "We should fix the driver at some point to set valid default bounds for
each
> projection, but for the time being, the MapInfo driver sets the following
> default bounds when a new layer is created: For a file in
> - LAT/LON (geographic) coordinates: BOUNDS (-180, -90) (180, 90)
> - For any other projection: BOUNDS (-30000000, -15000000) (30000000,
> 15000000) "
>
> And that is what it does with my MIF-File. The line looks as follows:
> "CoordSys Earth Projection 8, 104, "m", 9, 0, 1, 3500000, 0
> Bounds(-30000000, -15000000) (30000000, 15000000)"
>
> Does this mean that this functionality is fixed in the source code of the
> programm? May this be changed by myself or has anyone another idea to
> workaround this problem? Conversion would be perfect than!
> Thank you for your help!

Andreas,

I would have no objection to adding a layer creation option
which would disable the bounds.  Do you have any idea
why the bounds are causing the import into mapinfo to fail?
Does your data fall outside the indicated bounds?

Re-reading your message I get the impression that dropping
it just improves the precision the data is imported with in
MapInfo, is that right?

Best regards,
--
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Nov 10 10:44:58 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <437368BC.90102@uva.nl>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>
	<43724CD1.60002@uva.nl>
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>
	<931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>
	<437368BC.90102@uva.nl>
Message-ID: <931f8ea90511100744kb362599r21797a6eb3ee8422@mail.gmail.com>

On 11/10/05, Jan Hartmann <j.l.h.hartmann@uva.nl> wrote:
> I built from CVS (version 1.3.1.0) and gdalwarp now accepts "sterea" as
> projection. However, the resulting raster is exactly the same as with
> "stere". Also, adding the "towgs" parameter doesn't change anything in
> both cases. The five calls:
>
> +proj=stere
> +proj=sterea
> +proj=stere +towgs84=..
> +proj=sterea +towgs84=..
> +init=epsg:28992
>
> produce exactly the same output.

Jan,

If I do "testepsg +init=28992" I now get a length report
including:

PROJ.4 rendering of [+init=epsg:28992] = +proj=sterea
+lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.999908
+x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs

Could you cd into gdal/ogr, do "make testepsg" and see if
you get the same results?  Also you might try:

 ident libgdal.so | grep srs_proj4

and verify you see:

warmerda@gdal2200[498]% ident libgdal.so | grep srs_proj4
     $Id: ogr_srs_proj4.cpp,v 1.58 2005/11/10 04:12:40 fwarmerdam Exp $

BTW, proj=stere on the commandline will now get mapped to
proj=sterea internally.  proj=stere* now maps to WKT definition
"Oblique_Stereographic" which in turn maps back to "proj=sterea".

Until there is some accepted other WKT name for the USGS
oblique stereographic, I don't really have a way of differentiating the
methods.  As noted before PROJ.4 strings on the GDAL commandline
will not necessary appear the same by the point they are passed to
PROJ.4.

I have taken the liberty of redirecting this back to gdal-dev since
I think some of the issues are broadly important.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From potts at cfl.rr.com  Thu Nov 10 10:47:41 2005
From: potts at cfl.rr.com (Garrett Potts)
Date: Wed Nov 21 11:49:51 2007
Subject: Fwd: [Gdal-dev] Re: ECW JPEG 2000 Source SDK v3.3 (RC)
References: <B780F8C7-FD85-4F4B-B9A3-0D538326639B@cfl.rr.com>
Message-ID: <247061AB-646A-476D-BC81-E2BA46F3D279@cfl.rr.com>

Hello All:

I meant for this to also go to the GDAL list.  I keep experiencing  
core dumps when enabling the ecw driver on the MAC.  I was wondering  
if anyone else is having the same problems?


Take care

Garrett

Begin forwarded message:

> From: Garrett Potts <potts@cfl.rr.com>
> Date: November 9, 2005 7:24:14 AM EST
> To: Tom Lynch <tflynch@gmail.com>
> Cc: gdal-dev <gdal-dev@remotesensing.org>
> Subject: Re: [Gdal-dev] Re: ECW JPEG 2000 Source SDK v3.3 (RC)
>
> Hello Tom:
>
> No problem.  I'll send anything your way if I find anything.    
> Also,  have you guys been seeing core dumps when using on the  
> MACOSX through GDAL?  Has anyone on the list have MACS they are  
> running with the ecw/jp2 support built in?
>
> Take care all
>
>
> Garrett
> On Nov 8, 2005, at 7:35 PM, Tom Lynch wrote:
>
>> On 10/26/05, Garrett Potts <potts@cfl.rr.com> wrote:
>>> On my MAC I had to set int tempSize = sizeof(struct sockaddr);
>>>
>>> to
>>>
>>> socklen_temt pSize = sizeof(struct sockaddr);
>>>
>>
>> Thanks for this modification, Garrett.  I'll see it gets folded into
>> the source over here.
>>
>> I'm also looking at some of the other queries that we've seen since
>> RC1 went out.
>>
>> Regards,
>>
>> --
>> Tom Lynch
>> Development, ER Mapper
>> Phone:      +61 8 93882900
>> Fax:        +61 8 93882901
>> Email:      tom.lynch@ermapper.com
>> Web:        http://www.ermapper.com
>> Forums:     http://forum.ermapper.com
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051110/8b83ad6e/attachment.html
From warmerdam at pobox.com  Thu Nov 10 10:58:17 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] ogr2ogr and MapInfo
In-Reply-To: <A45C4BB6E895D711BD5A002035847D4D6D52E1@ntku4.kru.int>
References: <A45C4BB6E895D711BD5A002035847D4D6D52E1@ntku4.kru.int>
Message-ID: <931f8ea90511100758g3459d375pafd50cc923370ea5@mail.gmail.com>

On 11/10/05, Fischer, Andreas <andreas.fischer@kreis-unna.de> wrote:
> Hi Frank,
> thanks for continue talking about this problem!
> Yes, that's right. Dropping the Bounds-Clause in the MIF-File "only"
> improves the precision of the imported data (the MapInfo-Relation).

Andreas,

OK, perhaps my "only" was a bit off, it's just that at first I thought
things were completely broken.

...
> So a layer creation option to disable the bounds would solve this problem
> :-)

OK, could you file this request in the MITAB bugzilla.  I
am hoping from some feedback from Daniel before the change
is implemented.

  http://bugzilla.maptools.org/enter_bug.cgi?product=MITAB

You should assign it directly to my email address or at least add me
to the cc list so I see it.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Nov 10 10:59:50 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] hdf5 and gdal
In-Reply-To: <e309e0bc0511100636i286cf1b4x1d71f61547119a0f@mail.gmail.com>
References: <e309e0bc0511100636i286cf1b4x1d71f61547119a0f@mail.gmail.com>
Message-ID: <931f8ea90511100759q44be9215q24922e8a312092b5@mail.gmail.com>

On 11/10/05, bla? kurnik <blazkurnik@gmail.com> wrote:
> Dear Developers and others
>
>  I have a problem how to read hdf5 in grass6 using gdal 1.3.1
>  I wrote
>  r.in.gdal -o input=HDF5:"sat.h5":TemperaturePrecision output=aa
>
>  where sat.h5 is hdf5 file and TemperaturePrecision is dataset
>  Massage of the error is :
>
>  szFilenname sat.h5
>  Segmentation fault
>
>
>  The same error is when i use gdal_translate as
>
>  gdal_translate -sds -of AAIGrid -co "TILED=YES" HIRPROF_v582v2.he5
> sat.ascii

Blaz,

Could you file a bug in bugzilla on this, including information
on how to get HIRPROF_v582v2.he5?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Nov 10 11:34:54 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Worldfile from SuperEdit + rotated images problems
In-Reply-To: <35660.127.0.0.1.1131383064.squirrel@loskot.net>
References: <35660.127.0.0.1.1131383064.squirrel@loskot.net>
Message-ID: <931f8ea90511100834ueb2ad37g1eacf1b919eb17a4@mail.gmail.com>

On 11/7/05, Mateusz ?oskot <mateusz@loskot.net> wrote:
> 0.00000000000000 - x-scale
> 0.84666666666667 - rotation
> 0.84666666666667 - --//--
> 0.00000000000000 - y-scale
> 594958.12740300002000 - Easting and
> 373303.90045100002000 - Northing of the upper left pixel

Mateusz,

The above would seem to imply that the "top left" corner
of the raw TIFF file is the south-west corner, is that correct?

> And here comes the problem. When I open test.tif in ArcExplorer or QGIS I
> don't see anything.
> Raster is not displayed but also I get no error message.
> So it seems GeoTIFF output is broken here.

Many applications do not support GeoTIFF files that are not
north-up.  QGIS uses GDAL to read the image, but may still not
support files with non-zero rotational coefficients.  You would need
to contact the QGIS team to deal with that.

I can't speak for ArcGIS.

You might want to try loading it in OpenEV which I know
supports rotated images properly.  It should change it to
north up on the fly.

But if you want to "apply the rotation" or more accurately to
"unrotate" the image you can use gdalwarp.

eg.

gdalwarp test.tif test_unrotated.tif

> Here I also see correct CS but there is one small difference:
>
> 1. In the first output snippet:
>
> GeoTransform =
>   594957.7040696667, 0, 0.84666666666667
>   373303.4771176667, 0.84666666666667, 0
>
> 2. In the second output snippet:
>
> Origin = (594957.704070,373304.323784)
> Pixel Size = (0.84666667,-0.84666667)
>
> In this case I'm not sure which one is correct but now test.tif image is
> displayed
> well (almost) in both applications, ArcExplorer and QGIS.
> Here are some screenshots:
> http://mateusz.loskot.net/chwila/arcexplorer-rotated-raster.jpg
> http://mateusz.loskot.net/chwila/qgis-rotated-raster.jpg
>
> But please note, in both apps the test.tif is displayed rotated.
> I don't know if latest versions of ArcExplorer and QGIS support
> rotated images with worldfile.

OK, this verifies that both images just don't supported rotated images
since this image you have produced is not (georeferenced) as being
rotated.

The reason you see different ways of reporting the geotransform in
gdalinfo is that for simple northup images it simply reports the
top left corner and the pixel size ... what most people are used to see.
If the image has non-zero rotation coefficients then it reports the
full internal geotransform though it is often harder for a user to
interprete.

> My questions are:
> 1. Is this worldfile (JGW) generated by SuperEdit correct?

I presume so, though it is hard for me know.

> 2. If not, does anybody know what is this format used by SuperEdit?
> 3. Is there any way to rerotate rotated images so, then I could use 0.0
> rotation components?

My suggestion is gdalwarp'ing the image with the existing world file.
But of course lots of image editing tools will provide 90 degree rotations.
Photoshop, Gimp, ImageMagick, etc.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From j.l.h.hartmann at uva.nl  Thu Nov 10 11:34:55 2005
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <931f8ea90511100744kb362599r21797a6eb3ee8422@mail.gmail.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>	
	<43724CD1.60002@uva.nl>	
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>	
	<931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>	
	<437368BC.90102@uva.nl>
	<931f8ea90511100744kb362599r21797a6eb3ee8422@mail.gmail.com>
Message-ID: <437376AF.1050106@uva.nl>

Frank Warmerdam wrote:
> If I do "testepsg +init=28992" I now get a length report
> including:
> 
> PROJ.4 rendering of [+init=epsg:28992] = +proj=sterea
> +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.999908
> +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs
> 
> Could you cd into gdal/ogr, do "make testepsg" and see if
> you get the same results?  Also you might try:
> 
>  ident libgdal.so | grep srs_proj4
> 
> and verify you see:
> 
> warmerda@gdal2200[498]% ident libgdal.so | grep srs_proj4
>      $Id: ogr_srs_proj4.cpp,v 1.58 2005/11/10 04:12:40 fwarmerdam Exp $
>

I get both! Does this mean that I always get the "sterea" projection, 
even when I ask for "stere"  and that the "towgs" parameter is never 
used, not with epsg:28992 and not when explicitly added?

Jan



From warmerdam at pobox.com  Thu Nov 10 11:40:02 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <437376AF.1050106@uva.nl>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>
	<43724CD1.60002@uva.nl>
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>
	<931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>
	<437368BC.90102@uva.nl>
	<931f8ea90511100744kb362599r21797a6eb3ee8422@mail.gmail.com>
	<437376AF.1050106@uva.nl>
Message-ID: <931f8ea90511100840p1db40e50q953529164da039a7@mail.gmail.com>

On 11/10/05, Jan Hartmann <j.l.h.hartmann@uva.nl> wrote:
> I get both! Does this mean that I always get the "sterea" projection,
> even when I ask for "stere"  and that the "towgs" parameter is never
> used, not with epsg:28992 and not when explicitly added?

Jan,

OK, that means that internally use are using sterea.  So if you want
to compare stere results, you will need to use an old copy of GDAL.

The GDAL logic for parsing +init=epsg:nnn ignores any other
input in your proj definitions.  "overrides" are not allowed.

This is another manifestation of GDAL having it's own PROJ.4
parser and having to processing PROJ.4 into WKT before going
back to PROJ.4.  But if you grab the epsg:28992 definition from
the epsg init file, and put it all on the commandline (adjusted
as needed) you should be able to do some comparisons of
different towgs84 values.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From woklist at kyngchaos.com  Thu Nov 10 11:52:02 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Re: ECW JPEG 2000 Source SDK v3.3 (RC)
In-Reply-To: <247061AB-646A-476D-BC81-E2BA46F3D279@cfl.rr.com>
References: <B780F8C7-FD85-4F4B-B9A3-0D538326639B@cfl.rr.com>
	<247061AB-646A-476D-BC81-E2BA46F3D279@cfl.rr.com>
Message-ID: <CD739C78-67B5-4135-B39A-724DFCD6F73F@kyngchaos.com>

Not a core dump, but I'm getting a trace trap thing:

Sumomo:~ williamk$ gdal_translate -of JP2ECW s24141.tif testold.jp2
Input file size is 4357, 8343
0.Trace/BPT trap


I don't think GDAL is having a problem reading the file (saved from  
Photoshop) - I used the same file to time test the JasPer JP2 output,  
so it must be ECW.  I have ECW (3.3RC1) built the old way thru  
configure, with the multiple libraries.  ER left out the qmake- 
generated makefile for the dynamic libecwj2 in this release, so I  
couldn't try that (maybe that's one of those 'other queries' Tom  
Lynch mentioned).

Mac OS 10.4.3 on a PowerBook G4.

And I just added ECW to my GIS Libs package... :(


On Nov 10, 2005, at 9:47 AM, Garrett Potts wrote:

> Hello All:
>
> I meant for this to also go to the GDAL list.  I keep experiencing  
> core dumps when enabling the ecw driver on the MAC.  I was  
> wondering if anyone else is having the same problems?
>
>
> Take care
>
> Garrett
>
> Begin forwarded message:
>
>> From: Garrett Potts <potts@cfl.rr.com>
>> Date: November 9, 2005 7:24:14 AM EST
>> To: Tom Lynch <tflynch@gmail.com>
>> Cc: gdal-dev <gdal-dev@remotesensing.org>
>> Subject: Re: [Gdal-dev] Re: ECW JPEG 2000 Source SDK v3.3 (RC)
>>
>> Hello Tom:
>>
>> No problem.  I'll send anything your way if I find anything.    
>> Also,  have you guys been seeing core dumps when using on the  
>> MACOSX through GDAL?  Has anyone on the list have MACS they are  
>> running with the ecw/jp2 support built in?
>>
>> Take care all
>>
>>
>> Garrett
>> On Nov 8, 2005, at 7:35 PM, Tom Lynch wrote:
>>
>>> On 10/26/05, Garrett Potts <potts@cfl.rr.com> wrote:
>>>> On my MAC I had to set int tempSize = sizeof(struct sockaddr);
>>>>
>>>> to
>>>>
>>>> socklen_temt pSize = sizeof(struct sockaddr);
>>>>
>>>
>>> Thanks for this modification, Garrett.  I'll see it gets folded into
>>> the source over here.
>>>
>>> I'm also looking at some of the other queries that we've seen since
>>> RC1 went out.
>>>
>>> Regards,
>>>
>>> --
>>> Tom Lynch
>>> Development, ER Mapper
>>> Phone:      +61 8 93882900
>>> Fax:        +61 8 93882901
>>> Email:      tom.lynch@ermapper.com
>>> Web:        http://www.ermapper.com
>>> Forums:     http://forum.ermapper.com
>>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

Earth: "Mostly harmless"

- revised entry in the HitchHiker's Guide to the Galaxy


From j.l.h.hartmann at uva.nl  Thu Nov 10 12:04:06 2005
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <931f8ea90511100840p1db40e50q953529164da039a7@mail.gmail.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>	
	<43724CD1.60002@uva.nl>	
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>	
	<931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>	
	<437368BC.90102@uva.nl>	
	<931f8ea90511100744kb362599r21797a6eb3ee8422@mail.gmail.com>	
	<437376AF.1050106@uva.nl>
	<931f8ea90511100840p1db40e50q953529164da039a7@mail.gmail.com>
Message-ID: <43737D86.9020509@uva.nl>

Frank Warmerdam wrote:
> 
> The GDAL logic for parsing +init=epsg:nnn ignores any other
> input in your proj definitions.  "overrides" are not allowed.
> 
> This is another manifestation of GDAL having it's own PROJ.4
> parser and having to processing PROJ.4 into WKT before going
> back to PROJ.4.  But if you grab the epsg:28992 definition from
> the epsg init file, and put it all on the commandline (adjusted
> as needed) you should be able to do some comparisons of
> different towgs84 values.

Frank,

No, I'm sorry, I wrote out the complete PROJ-definitions without any 
"init", but adding, changing or leaving out +towgs84=... didn't make any 
difference. The same proj-strings with cs2cs showed the expected 
differences. Doesn't GDAL pick up +towgs84?

jan

From potts at cfl.rr.com  Thu Nov 10 12:05:24 2005
From: potts at cfl.rr.com (Garrett Potts)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Re: ECW JPEG 2000 Source SDK v3.3 (RC)
In-Reply-To: <CD739C78-67B5-4135-B39A-724DFCD6F73F@kyngchaos.com>
References: <B780F8C7-FD85-4F4B-B9A3-0D538326639B@cfl.rr.com>
	<247061AB-646A-476D-BC81-E2BA46F3D279@cfl.rr.com>
	<CD739C78-67B5-4135-B39A-724DFCD6F73F@kyngchaos.com>
Message-ID: <807986BB-0F15-43C3-A728-4829B304F055@cfl.rr.com>

Hello All:

Thank you for the responses.  It makes me a little more confident  
that its not just my machine.


I am using the ./configure also.  did a make install of the ecwjp2  
libraries.  I then did a ./configure --with-ecw=yes in gdal and it  
built all the way as well.  I wonder if it's the static libecwj2 that  
is causing an issue.  I don't see why.  But I have had problems in  
the past when a library was static versus dynamic.


Take care

Garrett


On Nov 10, 2005, at 11:52 AM, William Kyngesburye wrote:

> Not a core dump, but I'm getting a trace trap thing:
>
> Sumomo:~ williamk$ gdal_translate -of JP2ECW s24141.tif testold.jp2
> Input file size is 4357, 8343
> 0.Trace/BPT trap
>
>
> I don't think GDAL is having a problem reading the file (saved from  
> Photoshop) - I used the same file to time test the JasPer JP2  
> output, so it must be ECW.  I have ECW (3.3RC1) built the old way  
> thru configure, with the multiple libraries.  ER left out the qmake- 
> generated makefile for the dynamic libecwj2 in this release, so I  
> couldn't try that (maybe that's one of those 'other queries' Tom  
> Lynch mentioned).
>
> Mac OS 10.4.3 on a PowerBook G4.
>
> And I just added ECW to my GIS Libs package... :(
>
>
> On Nov 10, 2005, at 9:47 AM, Garrett Potts wrote:
>
>> Hello All:
>>
>> I meant for this to also go to the GDAL list.  I keep experiencing  
>> core dumps when enabling the ecw driver on the MAC.  I was  
>> wondering if anyone else is having the same problems?
>>
>>
>> Take care
>>
>> Garrett
>>
>> Begin forwarded message:
>>
>>> From: Garrett Potts <potts@cfl.rr.com>
>>> Date: November 9, 2005 7:24:14 AM EST
>>> To: Tom Lynch <tflynch@gmail.com>
>>> Cc: gdal-dev <gdal-dev@remotesensing.org>
>>> Subject: Re: [Gdal-dev] Re: ECW JPEG 2000 Source SDK v3.3 (RC)
>>>
>>> Hello Tom:
>>>
>>> No problem.  I'll send anything your way if I find anything.    
>>> Also,  have you guys been seeing core dumps when using on the  
>>> MACOSX through GDAL?  Has anyone on the list have MACS they are  
>>> running with the ecw/jp2 support built in?
>>>
>>> Take care all
>>>
>>>
>>> Garrett
>>> On Nov 8, 2005, at 7:35 PM, Tom Lynch wrote:
>>>
>>>> On 10/26/05, Garrett Potts <potts@cfl.rr.com> wrote:
>>>>> On my MAC I had to set int tempSize = sizeof(struct sockaddr);
>>>>>
>>>>> to
>>>>>
>>>>> socklen_temt pSize = sizeof(struct sockaddr);
>>>>>
>>>>
>>>> Thanks for this modification, Garrett.  I'll see it gets folded  
>>>> into
>>>> the source over here.
>>>>
>>>> I'm also looking at some of the other queries that we've seen since
>>>> RC1 went out.
>>>>
>>>> Regards,
>>>>
>>>> --
>>>> Tom Lynch
>>>> Development, ER Mapper
>>>> Phone:      +61 8 93882900
>>>> Fax:        +61 8 93882901
>>>> Email:      tom.lynch@ermapper.com
>>>> Web:        http://www.ermapper.com
>>>> Forums:     http://forum.ermapper.com
>>>
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
> -----
> William Kyngesburye <kyngchaos@kyngchaos.com>
> http://www.kyngchaos.com/
>
> Earth: "Mostly harmless"
>
> - revised entry in the HitchHiker's Guide to the Galaxy
>


From mateusz at loskot.net  Thu Nov 10 12:44:55 2005
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Worldfile from SuperEdit + rotated images problems
In-Reply-To: <931f8ea90511100834ueb2ad37g1eacf1b919eb17a4@mail.gmail.com>
References: <35660.127.0.0.1.1131383064.squirrel@loskot.net>
	<931f8ea90511100834ueb2ad37g1eacf1b919eb17a4@mail.gmail.com>
Message-ID: <43738717.6040207@loskot.net>

Frank Warmerdam wrote:
> On 11/7/05, Mateusz ?oskot <mateusz@loskot.net> wrote:
> 
>>0.00000000000000 - x-scale
>>0.84666666666667 - rotation
>>0.84666666666667 - --//--
>>0.00000000000000 - y-scale
>>594958.12740300002000 - Easting and
>>373303.90045100002000 - Northing of the upper left pixel
> 
> 
> Mateusz,
> 
> The above would seem to imply that the "top left" corner
> of the raw TIFF file is the south-west corner, is that correct?
> 

Frank,
Thank you very much for your replay.
Yes, the top-left corner - in Poland CS92 - in south-west corner.


>>And here comes the problem. When I open test.tif in ArcExplorer or QGIS I
>>don't see anything.
>>Raster is not displayed but also I get no error message.
>>So it seems GeoTIFF output is broken here.
> 
> 
> Many applications do not support GeoTIFF files that are not
> north-up. 

Yes, I've had that in mind. Well, almost ;-)

 > QGIS uses GDAL to read the image, but may still not
> support files with non-zero rotational coefficients.  You would need
> to contact the QGIS team to deal with that.

Sure, I'll do it.

> I can't speak for ArcGIS.

My colleague uses ArcGIS 9 and it supports rotated images well.
But if I open my JPG/JGW test file it works well. Then, I use 
gdal_translate to translate this JPG/JGW to GeoTIFF and then ArcGIS 
displayes that new GeoTIFF not-rotated, but JPG is displayed correctly.


> You might want to try loading it in OpenEV which I know
> supports rotated images properly.

I'll try to do it tomorrow. Thanks.

 > It should change it to north up on the fly.
> 
> But if you want to "apply the rotation" or more accurately to
> "unrotate" the image you can use gdalwarp.
> 
> eg.
> 
> gdalwarp test.tif test_unrotated.tif

That's great, I've not idea I can use gdalwarp to "unrotate" images.
I'll test it tomorrow.

>>My questions are:
>>1. Is this worldfile (JGW) generated by SuperEdit correct?
> 
> 
> I presume so, though it is hard for me know.

I understand it.

>>2. If not, does anybody know what is this format used by SuperEdit?
>>3. Is there any way to rerotate rotated images so, then I could use 0.0
>>rotation components?
> 
> 
> My suggestion is gdalwarp'ing the image with the existing world file.
> But of course lots of image editing tools will provide 90 degree rotations.
> Photoshop, Gimp, ImageMagick, etc.

OK, as I said above, I'll test to gdalwarp my image.

Thanks Frank for your help.
I believe you don't mind I'll post on the list about results tomorrow.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Thu Nov 10 13:45:35 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <43737D86.9020509@uva.nl>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>
	<43724CD1.60002@uva.nl>
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>
	<931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>
	<437368BC.90102@uva.nl>
	<931f8ea90511100744kb362599r21797a6eb3ee8422@mail.gmail.com>
	<437376AF.1050106@uva.nl>
	<931f8ea90511100840p1db40e50q953529164da039a7@mail.gmail.com>
	<43737D86.9020509@uva.nl>
Message-ID: <931f8ea90511101045s58946949j6c6d39b35d7b2489@mail.gmail.com>

On 11/10/05, Jan Hartmann <j.l.h.hartmann@uva.nl> wrote:
> Frank,
>
> No, I'm sorry, I wrote out the complete PROJ-definitions without any
> "init", but adding, changing or leaving out +towgs84=... didn't make any
> difference. The same proj-strings with cs2cs showed the expected
> differences. Doesn't GDAL pick up +towgs84?

Jan,

Yes, it should.  Could you perhaps try processing these
through "testepsg"?  If you give it a PROJ.4 coordinate
system as input it should report various representations,
including what it looks like after going to WKT and then
back to PROJ.4.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jgreenberg at arc.nasa.gov  Thu Nov 10 14:43:06 2005
From: jgreenberg at arc.nasa.gov (Jonathan Greenberg)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Compilation problems
Message-ID: <BF98E2CA.8D83%jgreenberg@arc.nasa.gov>

I can't seem to get gdal 1.3.1 compiled on macos x:

/usr/bin/install -c -p -m 644 ChangeLog LICENSE NEWS
/sw/src/fink.build/root-gdal-1.3.1-1/sw/share/doc/gdal/
install: LICENSE: No such file or directory
### execution of /usr/bin/install failed, exit code 71
Removing build lock...
/sw/bin/dpkg-lockwait -r fink-buildlock-gdal-1.3.1-1
(Reading database ... 73237 files and directories currently installed.)
Removing fink-buildlock-gdal-1.3.1-1 ...
Failed: phase installing: gdal-1.3.1-1 failed

Thoughts?

--j

-- 
Jonathan A. Greenberg, PhD
NRC Research Associate
NASA Ames Research Center
MS 242-4
Moffett Field, CA 94035-1000
Office: 650-604-5896
Cell: 415-794-5043
AIM: jgrn307
MSN: jgrn307@hotmail.com



From woklist at kyngchaos.com  Thu Nov 10 15:10:24 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Re: ECW JPEG 2000 Source SDK v3.3 (RC)
In-Reply-To: <807986BB-0F15-43C3-A728-4829B304F055@cfl.rr.com>
References: <B780F8C7-FD85-4F4B-B9A3-0D538326639B@cfl.rr.com>
	<247061AB-646A-476D-BC81-E2BA46F3D279@cfl.rr.com>
	<CD739C78-67B5-4135-B39A-724DFCD6F73F@kyngchaos.com>
	<807986BB-0F15-43C3-A728-4829B304F055@cfl.rr.com>
Message-ID: <4471BCD7-8F24-4B29-8A76-25752AD9E5E5@kyngchaos.com>

Oh, yeah - after installing the ECW libraries, I deleted the  
libecwj2.a static library.  The way it's setup, GDAL's configure  
checks for the NCS dynamic libraries by looking for the .so files,  
and then libecwj2.a, so on Mac OS X even if you have the NCS dynamic  
libs installed it will fail to find them and use the static library.   
That's why I also fiddle with the GDAL configure so it looks for  
dylib's instead of so's, and finds the NCS dylib libraries.


On Nov 10, 2005, at 11:05 AM, Garrett Potts wrote:

> Hello All:
>
> Thank you for the responses.  It makes me a little more confident  
> that its not just my machine.
>
>
> I am using the ./configure also.  did a make install of the ecwjp2  
> libraries.  I then did a ./configure --with-ecw=yes in gdal and it  
> built all the way as well.  I wonder if it's the static libecwj2  
> that is causing an issue.  I don't see why.  But I have had  
> problems in the past when a library was static versus dynamic.
>

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

[Trillian]  What are you supposed to do WITH a maniacally depressed  
robot?

[Marvin]  You think you have problems?  What are you supposed to do  
if you ARE a maniacally depressed robot?  No, don't try and answer,  
I'm 50,000 times more intelligent than you and even I don't know the  
answer...

- HitchHiker's Guide to the Galaxy


From warmerdam at pobox.com  Thu Nov 10 15:35:30 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Compilation problems
In-Reply-To: <BF98E2CA.8D83%jgreenberg@arc.nasa.gov>
References: <BF98E2CA.8D83%jgreenberg@arc.nasa.gov>
Message-ID: <931f8ea90511101235o5da83061n319924a721b1a3d@mail.gmail.com>

On 11/10/05, Jonathan Greenberg <jgreenberg@arc.nasa.gov> wrote:
> I can't seem to get gdal 1.3.1 compiled on macos x:
>
> /usr/bin/install -c -p -m 644 ChangeLog LICENSE NEWS
> /sw/src/fink.build/root-gdal-1.3.1-1/sw/share/doc/gdal/
> install: LICENSE: No such file or directory
> ### execution of /usr/bin/install failed, exit code 71
> Removing build lock...
> /sw/bin/dpkg-lockwait -r fink-buildlock-gdal-1.3.1-1
> (Reading database ... 73237 files and directories currently installed.)
> Removing fink-buildlock-gdal-1.3.1-1 ...
> Failed: phase installing: gdal-1.3.1-1 failed

Jonathan,

GDAL doesn't normally ship with a LICENSE file.  I suspect
the fink package maintainers did something wonky in this
regard and that is what is failing for you.   I don't think it
really is something us upstream folks could help with.

Perhaps you could add an empty LICENSE file in the original
source tar file fink builds from?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From j.l.h.hartmann at uva.nl  Thu Nov 10 15:54:39 2005
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <931f8ea90511101045s58946949j6c6d39b35d7b2489@mail.gmail.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>	
	<43724CD1.60002@uva.nl>	
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>	
	<931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>	
	<437368BC.90102@uva.nl>	
	<931f8ea90511100744kb362599r21797a6eb3ee8422@mail.gmail.com>	
	<437376AF.1050106@uva.nl>	
	<931f8ea90511100840p1db40e50q953529164da039a7@mail.gmail.com>	
	<43737D86.9020509@uva.nl>
	<931f8ea90511101045s58946949j6c6d39b35d7b2489@mail.gmail.com>
Message-ID: <4373B38F.80503@uva.nl>

Frank Warmerdam wrote:
> 
> Yes, it should.  Could you perhaps try processing these
> through "testepsg"?  If you give it a PROJ.4 coordinate
> system as input it should report various representations,
> including what it looks like after going to WKT and then
> back to PROJ.4.
> 

You are right for "testepsg":

- testepsg "+proj=sterea ..."

and

- testepsg "+proj=sterea +towgs84=..."

gives the correct output for the generated proj-strings. The towgs 
parameter is present in the second case. "testepsg -t" with a test 
coordinate gives correct different results in both cases.

However,

- gdalwarp -s_srs "+proj=sterea..." -t_srs "+proj=longlat..."

and

- gdalwarp -s_srs "+proj=sterea +towgs84=..." -t_srs "+proj=longlat..."

results in two identical output files, both without the towgs84 transform.

Jan

From warmerdam at pobox.com  Thu Nov 10 16:00:40 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] sterea projection
In-Reply-To: <4373B38F.80503@uva.nl>
References: <ED3A48B9840E594890A2BC172D11946502F9C17E@mailman.san.com>
	<931f8ea90511091957q1dc67f2ehaf31c8f315837019@mail.gmail.com>
	<931f8ea90511092014n340888adqdbe0527dfc39a74c@mail.gmail.com>
	<437368BC.90102@uva.nl>
	<931f8ea90511100744kb362599r21797a6eb3ee8422@mail.gmail.com>
	<437376AF.1050106@uva.nl>
	<931f8ea90511100840p1db40e50q953529164da039a7@mail.gmail.com>
	<43737D86.9020509@uva.nl>
	<931f8ea90511101045s58946949j6c6d39b35d7b2489@mail.gmail.com>
	<4373B38F.80503@uva.nl>
Message-ID: <931f8ea90511101300h64cb8953yf3e63db24c90f42e@mail.gmail.com>

On 11/10/05, Jan Hartmann <j.l.h.hartmann@uva.nl> wrote:
> Frank Warmerdam wrote:
> >
> > Yes, it should.  Could you perhaps try processing these
> > through "testepsg"?  If you give it a PROJ.4 coordinate
> > system as input it should report various representations,
> > including what it looks like after going to WKT and then
> > back to PROJ.4.
> >
>
> You are right for "testepsg":
>
> - testepsg "+proj=sterea ..."
>
> and
>
> - testepsg "+proj=sterea +towgs84=..."
>
> gives the correct output for the generated proj-strings. The towgs
> parameter is present in the second case. "testepsg -t" with a test
> coordinate gives correct different results in both cases.
>
> However,
>
> - gdalwarp -s_srs "+proj=sterea..." -t_srs "+proj=longlat..."
>
> and
>
> - gdalwarp -s_srs "+proj=sterea +towgs84=..." -t_srs "+proj=longlat..."
>
> results in two identical output files, both without the towgs84 transform.

Jan,

OK, that is weird.  Could you submit a bugzilla entry with
exact commands, and an input file that demonstrates the problem?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From anasu at wmdata.com  Thu Nov 10 11:15:07 2005
From: anasu at wmdata.com (Karlgren Anders)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] OGR and Oracle Spatial
Message-ID: <60B2ED4AE1658D49B262213E92B0A2B2C80B7F@WMRI000167.corp.wmdata.net>

Hi, I'm about build an extension to ESRI ArcView 9+ that makes it

possible to read and write Oracle Spatial data in a seamless way. I've

been looking at the OGR documentation to figure out if all Oracle

Spatial geometry types are supported through OGR and it seems like CURVE

is not supported. Does anyone know about this or if there are other

limitations when accessing Oracle Spatial through OGR.

 

/Anders

 

 

                                                                    

WM-data Sverige AB                

Anders Karlgren
Pelle Bergs backe 3
Box 1938, 791 19 Falun

www.wmdata.se <http://www.wmdata.se/> 

 

anders.karlgren@wmdata.com                                 "The secret
of life is to constantly grow"
Tel: 023-841 47, 0702-965055
Fax: 023 84 186

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051110/58048694/attachment.html
From jgreenberg at arc.nasa.gov  Thu Nov 10 17:30:07 2005
From: jgreenberg at arc.nasa.gov (Jonathan Greenberg)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Different compiler problem
Message-ID: <BF9909EF.8E0C%jgreenberg@arc.nasa.gov>

With this config call:

./configure --prefix=/sw --with-local=/sw --without-python
--with-geotiff=internal --with-hdf4=no --without-ogdi --without-pg
--without-mysql --with-geos --with-static-proj4=/sw --with-threads
--with-libtiff=/sw --with-geotiff=internal --with-jpeg=/sw --with-gif=/sw
--with-png=/sw

I'm getting this failure:

 g++-3.3 -DHAVE_MITAB -Wall -Os -I/sw/include -I../port -I../gcore -I../alg
-I../ogr -I../ogr/ogrsf_frmts -Os -I/sw/include -I/sw/include -I/sw/include
-I../port -I/sw -I/sw/include -I/sw -I/sw/include -I/sw/include -I/sw
-I/sw/include -c gdalopeninfo.cpp  -fno-common -DPIC -o .libs/gdalopeninfo.o
In file included from gdal_priv.h:256,
                 from gdalopeninfo.cpp:40:
gdal.h:155: error: syntax error before `(' token
gdal.h:156: error: syntax error before `(' token
gdal.h:157: error: syntax error before `(' token
gdal.h:158: error: syntax error before `(' token
gdal.h:159: error: syntax error before `(' token
gdal.h:239: error: parse error before `*' token
gdal.h:240: error: syntax error before `(' token
gdal.h:241: error: syntax error before `(' token
gdal.h:242: error: syntax error before `(' token
gdal.h:243: error: syntax error before `(' token
gdal.h:245: error: syntax error before `(' token
gdal.h:269: error: syntax error before `(' token
gdal.h:271: error: syntax error before `(' token
gdal.h:275: error: syntax error before `(' token
gdal.h:279: error: syntax error before `(' token
gdal.h:280: error: syntax error before `(' token
gdal.h:281: error: syntax error before `(' token
gdal.h:283: error: syntax error before `(' token
gdal.h:284: error: syntax error before `(' token
gdal.h:285: error: syntax error before `(' token
gdal.h:286: error: syntax error before `(' token
gdal.h:287: error: syntax error before `(' token
gdal.h:288: error: syntax error before `(' token
gdal.h:289: error: syntax error before `(' token
gdal.h:292: error: syntax error before `(' token
gdal.h:293: error: syntax error before `(' token
gdal.h:294: error: syntax error before `(' token
gdal.h:295: error: syntax error before `(' token
gdal.h:325: error: syntax error before `(' token
gdal.h:326: error: syntax error before `(' token
gdal.h:327: error: syntax error before `(' token
gdal.h:330: error: syntax error before `(' token
gdal.h:333: error: syntax error before `(' token
gdal.h:335: error: syntax error before `(' token
gdal.h:342: error: syntax error before `(' token
gdal.h:343: error: syntax error before `(' token
gdal.h:346: error: syntax error before `(' token
gdal.h:348: error: syntax error before `(' token
gdal.h:350: error: syntax error before `(' token
gdal.h:351: error: syntax error before `(' token
gdal.h:357: error: syntax error before `(' token
gdal.h:358: error: syntax error before `(' token
gdal.h:359: error: syntax error before `(' token
gdal.h:360: error: syntax error before `(' token
gdal.h:361: error: syntax error before `(' token
gdal.h:362: error: syntax error before `(' token
gdal.h:364: error: syntax error before `(' token
gdal.h:367: error: syntax error before `(' token
gdal.h:374: error: syntax error before `(' token
gdal.h:379: error: syntax error before `(' token
gdal.h:380: error: syntax error before `(' token
gdal.h:381: error: syntax error before `(' token
gdal.h:382: error: syntax error before `(' token
gdal.h:384: error: syntax error before `(' token
gdal.h:385: error: syntax error before `(' token
gdal.h:386: error: syntax error before `(' token
gdal.h:387: error: syntax error before `(' token
gdal.h:390: error: syntax error before `(' token
gdal.h:391: error: syntax error before `(' token
gdal.h:392: error: syntax error before `(' token
gdal.h:395: error: syntax error before `(' token
gdal.h:397: error: syntax error before `(' token
gdal.h:398: error: syntax error before `(' token
gdal.h:399: error: syntax error before `(' token
gdal.h:405: error: syntax error before `(' token
gdal.h:407: error: syntax error before `(' token
gdal.h:409: error: syntax error before `(' token
gdal.h:414: error: syntax error before `(' token
gdal.h:418: error: syntax error before `(' token
gdal.h:419: error: syntax error before `(' token
gdal.h:420: error: syntax error before `(' token
gdal.h:421: error: syntax error before `(' token
gdal.h:422: error: syntax error before `(' token
gdal.h:423: error: syntax error before `(' token
gdal.h:424: error: syntax error before `(' token
gdal.h:425: error: syntax error before `(' token
gdal.h:428: error: syntax error before `(' token
gdal.h:430: error: syntax error before `(' token
gdal.h:431: error: syntax error before `(' token
gdal.h:432: error: syntax error before `(' token
gdal.h:433: error: syntax error before `(' token
gdal.h:434: error: syntax error before `(' token
gdal.h:435: error: syntax error before `(' token
gdal.h:436: error: syntax error before `(' token
gdal.h:437: error: syntax error before `(' token
gdal.h:438: error: syntax error before `(' token
gdal.h:439: error: syntax error before `(' token
gdal.h:440: error: syntax error before `(' token
gdal.h:441: error: syntax error before `(' token
gdal.h:442: error: syntax error before `(' token
gdal.h:445: error: syntax error before `(' token
gdal.h:446: error: syntax error before `(' token
gdal.h:447: error: syntax error before `(' token
gdal.h:448: error: syntax error before `(' token
gdal.h:449: error: syntax error before `(' token
gdal.h:451: error: syntax error before `(' token
gdal.h:453: error: syntax error before `(' token
gdal.h:454: error: syntax error before `(' token
gdal.h:460: error: syntax error before `(' token
gdal.h:466: error: syntax error before `(' token
gdal.h:470: error: syntax error before `(' token
gdal.h:472: error: syntax error before `(' token
gdal.h:473: error: syntax error before `(' token
gdal.h:476: error: syntax error before `(' token
gdal.h:483: error: type specifier omitted for parameter `GDALProgressFunc'
gdal.h:483: error: parse error before `,' token
gdal.h:486: error: syntax error before `(' token
gdal.h:488: error: syntax error before `(' token
gdal.h:494: error: syntax error before `(' token
gdal.h:496: error: syntax error before `(' token
gdal.h:499: error: syntax error before `(' token
gdal.h:503: error: syntax error before `(' token
gdal.h:506: error: syntax error before `(' token
gdal.h:509: error: syntax error before `(' token
gdal.h:513: error: syntax error before `(' token
gdal.h:514: error: syntax error before `(' token
gdal.h:515: error: syntax error before `(' token
gdal.h:517: error: syntax error before `(' token
gdal.h:544: error: syntax error before `(' token
gdal.h:565: error: syntax error before `(' token
gdal.h:566: error: syntax error before `(' token
gdal.h:567: error: syntax error before `(' token
gdal.h:568: error: syntax error before `(' token
gdal.h:569: error: syntax error before `(' token
gdal.h:570: error: syntax error before `(' token
gdal.h:571: error: syntax error before `(' token
gdal.h:572: error: syntax error before `(' token
gdal.h:607: error: syntax error before `(' token
gdal.h:608: error: syntax error before `(' token
gdal.h:611: error: syntax error before `(' token
gdal.h:613: error: syntax error before `(' token
gdal.h:615: error: syntax error before `(' token
gdal.h:617: error: syntax error before `(' token
gdal.h:620: error: syntax error before `(' token
gdal.h:622: error: syntax error before `(' token
gdal.h:624: error: syntax error before `(' token
gdal.h:626: error: syntax error before `(' token
gdal.h:628: error: syntax error before `(' token
gdal.h:631: error: syntax error before `(' token
gdal.h:633: error: syntax error before `(' token
gdal.h:635: error: syntax error before `(' token
gdal.h:637: error: syntax error before `(' token
gdal.h:639: error: syntax error before `(' token
gdal.h:643: error: syntax error before `(' token
gdal.h:645: error: syntax error before `(' token
gdal.h:647: error: syntax error before `(' token
gdal.h:649: error: syntax error before `(' token
gdal.h:652: error: syntax error before `(' token
gdal.h:658: error: syntax error before `(' token
gdal.h:659: error: syntax error before `(' token
gdal.h:660: error: syntax error before `(' token
gdal.h:661: error: syntax error before `(' token
In file included from gdalopeninfo.cpp:40:
gdal_priv.h:282: error: 'CPLString' is used as a type, but is not defined as
a 
   type.
gdal_priv.h:332: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:332: error: parse error before `,' token
gdal_priv.h:344: error: `CPL_STDCALL' is neither function nor member
function; 
   cannot be declared friend
gdal_priv.h:344: error: parse error before `(' token
gdal_priv.h:345: error: `CPL_STDCALL' is neither function nor member
function; 
   cannot be declared friend
gdal_priv.h:345: error: declaration of `void*GDALDataset::CPL_STDCALL'
gdal_priv.h:344: error: conflicts with previous declaration `
   void*GDALDataset::CPL_STDCALL'
gdal_priv.h:345: error: parse error before `(' token
gdal_priv.h:370: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:431: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:345: error: duplicate member `GDALDataset::CPL_STDCALL'
gdal_priv.h:623: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:632: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:637: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:705: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:705: error: parse error before `,' token
gdal_priv.h:724: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:724: error: parse error before `,' token
gdal_priv.h:785: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:785: error: parse error before `,' token
gdal_priv.h:792: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:792: error: parse error before `,' token
gdal_priv.h:799: error: type specifier omitted for parameter
`GDALProgressFunc'
gdal_priv.h:799: error: parse error before `,' token
gdal_priv.h:804: error: type specifier omitted for parameter
`GDALProgressFunc'
make[1]: *** [gdalopeninfo.o] Error 1
make: *** [core-target] Error 2
### execution of /var/tmp/tmp.1.Rcn0Jn failed, exit code 2
Removing build lock...
/sw/bin/dpkg-lockwait -r fink-buildlock-gdal-1.3.1-1
(Reading database ... 70736 files and directories currently installed.)
Removing fink-buildlock-gdal-1.3.1-1 ...
Failed: phase compiling: gdal-1.3.1-1 failed

-- 
Jonathan A. Greenberg, PhD
NRC Research Associate
NASA Ames Research Center
MS 242-4
Moffett Field, CA 94035-1000
Office: 650-604-5896
Cell: 415-794-5043
AIM: jgrn307
MSN: jgrn307@hotmail.com



From ealpert at digitalglobe.com  Thu Nov 10 17:39:19 2005
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] OGR and Oracle Spatial
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB23306BB39@COMAIL01.digitalglobe.com>

as for other limitations I've found that ogr doesn't read date's...I
must always use Oracle's TO_CHAR() when extracting dates.
 
-e

	-----Original Message-----
	From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Karlgren
Anders
	Sent: Thursday, November 10, 2005 9:15 AM
	To: gdal-dev@lists.maptools.org
	Subject: [Gdal-dev] OGR and Oracle Spatial
	
	

	Hi, I'm about build an extension to ESRI ArcView 9+ that makes
it

	possible to read and write Oracle Spatial data in a seamless
way. I've

	been looking at the OGR documentation to figure out if all
Oracle

	Spatial geometry types are supported through OGR and it seems
like CURVE

	is not supported. Does anyone know about this or if there are
other

	limitations when accessing Oracle Spatial through OGR.

	 

	/Anders

	 

	 

	


	WM-data Sverige AB                

	Anders Karlgren
	Pelle Bergs backe 3
	Box 1938, 791 19 Falun

	www.wmdata.se <http://www.wmdata.se/> 

	 

	anders.karlgren@wmdata.com                                 "The
secret of life is to constantly grow"
	Tel: 023-841 47, 0702-965055
	Fax: 023 84 186

	 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051110/886b581a/attachment.html
From warmerdam at pobox.com  Thu Nov 10 18:05:41 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Different compiler problem
In-Reply-To: <BF9909EF.8E0C%jgreenberg@arc.nasa.gov>
References: <BF9909EF.8E0C%jgreenberg@arc.nasa.gov>
Message-ID: <931f8ea90511101505l1e0a4db2yca587f883f911855@mail.gmail.com>

On 11/10/05, Jonathan Greenberg <jgreenberg@arc.nasa.gov> wrote:
> With this config call:
>
> ./configure --prefix=/sw --with-local=/sw --without-python
> --with-geotiff=internal --with-hdf4=no --without-ogdi --without-pg
> --without-mysql --with-geos --with-static-proj4=/sw --with-threads
> --with-libtiff=/sw --with-geotiff=internal --with-jpeg=/sw --with-gif=/sw
> --with-png=/sw
>
> I'm getting this failure:
>
>  g++-3.3 -DHAVE_MITAB -Wall -Os -I/sw/include -I../port -I../gcore -I../alg
> -I../ogr -I../ogr/ogrsf_frmts -Os -I/sw/include -I/sw/include -I/sw/include
> -I../port -I/sw -I/sw/include -I/sw -I/sw/include -I/sw/include -I/sw
> -I/sw/include -c gdalopeninfo.cpp  -fno-common -DPIC -o .libs/gdalopeninfo.o
> In file included from gdal_priv.h:256,
>                  from gdalopeninfo.cpp:40:
> gdal.h:155: error: syntax error before `(' token
>

Jonathan,

I see the first include is -I/sw/include, so if there are any old
gdal inclue files there they will override the local GDAL include
files, screwing things up in the fashion you have encountered.
I have made a considerable effort to ensure that GDAL always
gives precidence to local include files.

I'm not sure what has resulted in -I/sw/include getting shoved in
the front in this case.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From ealpert at digitalglobe.com  Thu Nov 10 18:31:31 2005
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] OGR Open question perl SWIG
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB23306BB3C@COMAIL01.digitalglobe.com>

I'm calling ogr::Open() and it's exiting because some VIEW I don't even
use does not exist when it calls OCIDescribeAny...
 
Anyhow ogr2ogr seems to not exit and does it's thing....Is there some
way I can configure ogr from perl SWIG to not exit?
 
Thanks,
 
-ethan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051110/a8d03ff9/attachment.html
From jgreenberg at arc.nasa.gov  Thu Nov 10 18:38:08 2005
From: jgreenberg at arc.nasa.gov (Jonathan Greenberg)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Different compiler problem
In-Reply-To: <931f8ea90511101505l1e0a4db2yca587f883f911855@mail.gmail.com>
Message-ID: <BF9919E0.8E1D%jgreenberg@arc.nasa.gov>

Excellent, Mr. Smithers -- I had to manually remove gdal 1.2.6 from fink
first, then the install went flawlessly...

--j


On 11/10/05 3:05 PM, "Frank Warmerdam" <warmerdam@pobox.com> wrote:

> On 11/10/05, Jonathan Greenberg <jgreenberg@arc.nasa.gov> wrote:
>> With this config call:
>> 
>> ./configure --prefix=/sw --with-local=/sw --without-python
>> --with-geotiff=internal --with-hdf4=no --without-ogdi --without-pg
>> --without-mysql --with-geos --with-static-proj4=/sw --with-threads
>> --with-libtiff=/sw --with-geotiff=internal --with-jpeg=/sw --with-gif=/sw
>> --with-png=/sw
>> 
>> I'm getting this failure:
>> 
>>  g++-3.3 -DHAVE_MITAB -Wall -Os -I/sw/include -I../port -I../gcore -I../alg
>> -I../ogr -I../ogr/ogrsf_frmts -Os -I/sw/include -I/sw/include -I/sw/include
>> -I../port -I/sw -I/sw/include -I/sw -I/sw/include -I/sw/include -I/sw
>> -I/sw/include -c gdalopeninfo.cpp  -fno-common -DPIC -o .libs/gdalopeninfo.o
>> In file included from gdal_priv.h:256,
>>                  from gdalopeninfo.cpp:40:
>> gdal.h:155: error: syntax error before `(' token
>> 
> 
> Jonathan,
> 
> I see the first include is -I/sw/include, so if there are any old
> gdal inclue files there they will override the local GDAL include
> files, screwing things up in the fashion you have encountered.
> I have made a considerable effort to ensure that GDAL always
> gives precidence to local include files.
> 
> I'm not sure what has resulted in -I/sw/include getting shoved in
> the front in this case.
> 
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent


-- 
Jonathan A. Greenberg, PhD
NRC Research Associate
NASA Ames Research Center
MS 242-4
Moffett Field, CA 94035-1000
Office: 650-604-5896
Cell: 415-794-5043
AIM: jgrn307
MSN: jgrn307@hotmail.com



From ealpert at digitalglobe.com  Thu Nov 10 18:56:31 2005
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] OGR Open question perl SWIG
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB23306BB3E@COMAIL01.digitalglobe.com>

Well I tried calling DontUseExceptions() but my code is still exiting in
the ogr::Open() call
 
-e

	-----Original Message-----
	From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Ethan Alpert
	Sent: Thursday, November 10, 2005 4:32 PM
	To: gdal-dev@lists.maptools.org
	Subject: [Gdal-dev] OGR Open question perl SWIG
	
	
	I'm calling ogr::Open() and it's exiting because some VIEW I
don't even use does not exist when it calls OCIDescribeAny...
	 
	Anyhow ogr2ogr seems to not exit and does it's thing....Is there
some way I can configure ogr from perl SWIG to not exit?
	 
	Thanks,
	 
	-ethan

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051110/86be4502/attachment.html
From ari.jolma at tkk.fi  Fri Nov 11 02:39:51 2005
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] OGR Open question perl SWIG
In-Reply-To: <8B319E5A30FF4A48BE7EEAAF609DB23306BB3C@COMAIL01.digitalglobe.com>
References: <8B319E5A30FF4A48BE7EEAAF609DB23306BB3C@COMAIL01.digitalglobe.com>
Message-ID: <43744AC7.2050006@tkk.fi>

Ethan Alpert wrote:

> I'm calling ogr::Open() and it's exiting because some VIEW I don't 
> even use does not exist when it calls OCIDescribeAny...


:) sorry, that doesn't tell me anything. Maybe you have some drivers 
installed that I do not? But even then I do not understand... what is 
VIEW (something SQL/in a database? are you opening a database 
datasource?) What's OCIDescribeAny?

The first argument to ogr::Open is a directory or, in the case of 
databases, something else and the second is 0 or 1 depending if you want 
to open readonly or r/w.

>  
> Anyhow ogr2ogr seems to not exit and does it's thing....Is there some 
> way I can configure ogr from perl SWIG to not exit?


I've written so far small apps with ogr (perl module) which change the 
SRS of a vector data layer, open and dump a vector layer, or create a 
completely new vector layers, and those are working ok. Could you please 
post the whole code?

Ari

>  
> Thanks,
>  
> -ethan
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From k.dejong at geo.uu.nl  Fri Nov 11 04:26:33 2005
From: k.dejong at geo.uu.nl (Kor de Jong)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Use of individual drivers
Message-ID: <200511111026.33651.k.dejong@geo.uu.nl>

Dear list,

I am developing a library for the input and output of multi dimensional data. 
Currently supported dimensions are:
- scenarios
- (Monte Carlo) samples
- cumulative probabilities
- time
- space
The goal of the library is to relieve the user from the details of how the 
data is stored (table, raster, file, memory, dbms, ...) and what conventions 
each format uses to store the data in each dimension.

My question relates ofcourse to the raster data which is stored in files and 
for which I use GDAL to do the input and output. Currently the GDAL 
functionality with all its own drivers, is layered in one driver in my 
library, which enables me to do this:

// Let gdal find out the format of dem.map.
GDALRasterDriver* driver = new GDALRasterDriver();
Raster* raster = driver->open("dem.map");

This works, but I am looking for a way to use each GDAL driver individually. 
Each driver should correspond to one file format, like this:

int driverId = ...; // GDAL file format driver id, could also be the name.
GDALRasterDriver* driver = new GDALRasterDriver(driverId);
Raster* raster = driver->open("dem.map");

This way I can maintain a mapping of rasters and drivers used to read or write 
the data. Also GDAL doesn't need to search through its list of drivers each 
time new data is read. (As a hack I could store the id of the GDAL driver 
used to read the data the first time it is tried, but this conflicts with the 
overall design of my library in which GDALRasterDriver is just one of the 
drivers.)

My first idea was to copy the few lines of code in the GDALOpen function in 
gdaldataset.cpp and use the GDAL drivers directly instead of calling GDALOpen 
for example. This could work if the procted poDriver member of GDALDataset 
was public or if my function, like GDALOpen, was declared a friend of 
GDALDataset. I guess for good reasons both will not happen so I wonder what 
my alternatives are.

In short, is it possible to get around the high level GDAL functions and use 
the individual GDAL drivers directly? If not, does the design of GDAL allow 
it to be changed to allow such use?

Thanks for any suggestions you might have.

Best regards,
Kor

-- 
Kor de Jong, k.dejong@geo.uu.nl
Fysische Geografie, Geowetenschappen, Universiteit Utrecht



From bartvde at xs4all.nl  Fri Nov 11 06:24:25 2005
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] ogr2ogr question
Message-ID: <43747F69.1050801@xs4all.nl>

Hi list,

I am using ogr2ogr as a tool to load data into Oracle Spatial and I want 
to do this in batch.

Did anybody ever experience that the ogr2ogr command does not finish 
(i.e. give back focus to the DOS prompt), although all features are 
already in the database and the spatial index has been created? I had to 
terminate the batch job myself. The table has almost a million records. 
A smaller table worked without any problems. What could be the problem?

Thanks in advance.

Best regards,
Bart

From aykutkocak at superonline.com  Fri Nov 11 08:24:02 2005
From: aykutkocak at superonline.com (=?ISO-8859-9?Q?Aykut_KO=C7AK?=)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] newbie question : OGR Polygon extracting problem...
Message-ID: <43749B72.6080802@superonline.com>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051111/a96f5788/attachment.html
From bartvde at xs4all.nl  Fri Nov 11 08:28:53 2005
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] [solved] Re: ogr2ogr question
In-Reply-To: <43747F69.1050801@xs4all.nl>
References: <43747F69.1050801@xs4all.nl>
Message-ID: <43749C95.5050603@xs4all.nl>

The second time I tried it comes back normally. I was probably too 
impatient at the time, and the spatial index creation probably took 
quite long :-)

Sorry for the confusion.

Best regards,
Bart

Bart van den Eijnden wrote:

> Hi list,
>
> I am using ogr2ogr as a tool to load data into Oracle Spatial and I 
> want to do this in batch.
>
> Did anybody ever experience that the ogr2ogr command does not finish 
> (i.e. give back focus to the DOS prompt), although all features are 
> already in the database and the spatial index has been created? I had 
> to terminate the batch job myself. The table has almost a million 
> records. A smaller table worked without any problems. What could be 
> the problem?
>
> Thanks in advance.
>
> Best regards,
> Bart
>


From ealpert at digitalglobe.com  Fri Nov 11 09:15:19 2005
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] OGR Open question perl SWIG
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB233072FF3@COMAIL01.digitalglobe.com>

I'm sorry I did not mention I'm connecting to Oracle. A VIEW is a database concept.
 
Anyhow the reason I present this as a perl SWIG interface question is I can extract data from the same database using the same ExectueSQL using ogr2ogr without problem. However with the perl SWIG interface my code exits immediately on calling ogr::Open(). I do not think this is a driver issue but how the perl swig interface handles the exception that is thrown when OCIDescribeAny (an oracle API function in the oracle driver). I tried calling OGR's DontUseExpceptions() but ogr::Open() still exits. So the question is what does the utility ogr2ogr do that is different than ogr::Open when trying to connect to the same database? Secondly is there a way I can make it not exit on errors but trap them.
 
Sorry for not being more clear.
 
-e

________________________________

From: Ari Jolma [mailto:ari.jolma@tkk.fi]
Sent: Fri 11/11/2005 12:39 AM
To: Ethan Alpert
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] OGR Open question perl SWIG



Ethan Alpert wrote:

> I'm calling ogr::Open() and it's exiting because some VIEW I don't
> even use does not exist when it calls OCIDescribeAny...


:) sorry, that doesn't tell me anything. Maybe you have some drivers
installed that I do not? But even then I do not understand... what is
VIEW (something SQL/in a database? are you opening a database
datasource?) What's OCIDescribeAny?

The first argument to ogr::Open is a directory or, in the case of
databases, something else and the second is 0 or 1 depending if you want
to open readonly or r/w.

> 
> Anyhow ogr2ogr seems to not exit and does it's thing....Is there some
> way I can configure ogr from perl SWIG to not exit?


I've written so far small apps with ogr (perl module) which change the
SRS of a vector data layer, open and dump a vector layer, or create a
completely new vector layers, and those are working ok. Could you please
post the whole code?

Ari

> 
> Thanks,
> 
> -ethan
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>


--
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051111/8f4d468c/attachment.html
From jmcm at euskalnet.net  Fri Nov 11 09:25:17 2005
From: jmcm at euskalnet.net (Juan Mari Celihueta)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
Message-ID: <4374A9CD.40801@euskalnet.net>

Hi all:

I'm triyng to compile gdal 1.3.1 in Solaris 8 but I get an error in the 
make process. I use GNU Make 3.80 and that is the process I follow:

$ LD_LIBRARY_PATH=/usr/local/lib
$ export LD_LIBRARY_PATH
$ ./configure --with-png=internal --with-jpeg=internal 
--with-geotiff=internal --with-libtiff=internal

That's ok, then I execute the make process:

$ make

and after several minutes of compilation process I get the next error 
message:

ld: fatal: relocations remain against allocatable but non-writable sections
collect2: ld returned 1 exit status
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory `/home1/MAPSERVER/gdal-1.3.1'
make: *** [check-lib] Error 2

I would be very glad if someone could help me.

Thanks.

Juan M.




From pgao at esri.com  Fri Nov 11 09:29:36 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Reading JPEG2000 JPC and J2K
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20160E2F3@firewire.esri.com>

I got some images with .jpc and .j2k extensions. Is there any way I can
read them 
using GDAL?
I renamed them to .jp2, and it didn't work. I am using Kakadu codec.

Gao, Peng

 


From pgao at esri.com  Fri Nov 11 09:47:45 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20160E2F5@firewire.esri.com>


> -----Original Message-----
> From: Peng Gao 
> Sent: Friday, November 11, 2005 6:30 AM
> To: gdal-dev@lists.maptools.org
> Subject: Reading JPEG2000 JPC and J2K
> 
> I got some images with .jpc and .j2k extensions. Is there any 
> way I can read them using GDAL?
> I renamed them to .jp2, and it didn't work. I am using Kakadu codec.
> 
> Gao, Peng
> 

I read the doc on JP2KAK driver again, and it should support JPC. The
problem could be the image I have. Attached is a problem jpc image.

Gao, Peng
-------------- next part --------------
A non-text attachment was scrubbed...
Name: input.jpc
Type: application/octet-stream
Size: 6410 bytes
Desc: input.jpc
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051111/31b6ff95/input.obj
From kruland at ku.edu  Fri Nov 11 09:55:12 2005
From: kruland at ku.edu (Kevin Ruland)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] OGR Open question perl SWIG
In-Reply-To: <8B319E5A30FF4A48BE7EEAAF609DB233072FF3@COMAIL01.digitalglobe.com>
References: <8B319E5A30FF4A48BE7EEAAF609DB233072FF3@COMAIL01.digitalglobe.com>
Message-ID: <4374B0D0.3060201@ku.edu>

Ethan,

Can you post the Open statement from the Perl script and the command
line for ogr2ogr that you are using?

The exit that you might be experiencing is buried waaay deep in the
gdal/ogr library itself (in the CPL stuff).  It is actually an abort()
in the CPLErrorV() method which is executed for any fatal error.  Are
you getting any messages from CPL?  Any fatal error message should be
printend to console.

I suspect the problem is something to do with quoting differences
between C and Perl.

Kevin

Ethan Alpert wrote:

> I'm sorry I did not mention I'm connecting to Oracle. A VIEW is a
> database concept.
>  
> Anyhow the reason I present this as a perl SWIG interface question is
> I can extract data from the same database using the same ExectueSQL
> using ogr2ogr without problem. However with the perl SWIG interface my
> code exits immediately on calling ogr::Open(). I do not think this is
> a driver issue but how the perl swig interface handles the exception
> that is thrown when OCIDescribeAny (an oracle API function in the
> oracle driver). I tried calling OGR's DontUseExpceptions() but
> ogr::Open() still exits. So the question is what does the utility
> ogr2ogr do that is different than ogr::Open when trying to connect to
> the same database? Secondly is there a way I can make it not exit on
> errors but trap them.
>  
> Sorry for not being more clear.
>  
> -e
>
> ------------------------------------------------------------------------
> *From:* Ari Jolma [mailto:ari.jolma@tkk.fi]
> *Sent:* Fri 11/11/2005 12:39 AM
> *To:* Ethan Alpert
> *Cc:* gdal-dev@lists.maptools.org
> *Subject:* Re: [Gdal-dev] OGR Open question perl SWIG
>
> Ethan Alpert wrote:
>
> > I'm calling ogr::Open() and it's exiting because some VIEW I don't
> > even use does not exist when it calls OCIDescribeAny...
>
>
> :) sorry, that doesn't tell me anything. Maybe you have some drivers
> installed that I do not? But even then I do not understand... what is
> VIEW (something SQL/in a database? are you opening a database
> datasource?) What's OCIDescribeAny?
>
> The first argument to ogr::Open is a directory or, in the case of
> databases, something else and the second is 0 or 1 depending if you want
> to open readonly or r/w.
>
> > 
> > Anyhow ogr2ogr seems to not exit and does it's thing....Is there some
> > way I can configure ogr from perl SWIG to not exit?
>
>
> I've written so far small apps with ogr (perl module) which change the
> SRS of a vector data layer, open and dump a vector layer, or create a
> completely new vector layers, and those are working ok. Could you please
> post the whole code?
>
> Ari
>
> > 
> > Thanks,
> > 
> > -ethan
> >
> >------------------------------------------------------------------------
> >
> >_______________________________________________
> >Gdal-dev mailing list
> >Gdal-dev@lists.maptools.org
> >http://lists.maptools.org/mailman/listinfo/gdal-dev
> >
>
>
> --
> Prof. Ari Jolma
> Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
> Teknillinen Korkeakoulu / Helsinki University of Technology
> POBox 1200, 02015 TKK, Finland
> Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma
> <http://www.tkk.fi/%7Ejolma>
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>

From warmerdam at pobox.com  Fri Nov 11 09:58:06 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Use of individual drivers
In-Reply-To: <200511111026.33651.k.dejong@geo.uu.nl>
References: <200511111026.33651.k.dejong@geo.uu.nl>
Message-ID: <931f8ea90511110658n6a51ce80r83410a22b4931fba@mail.gmail.com>

On 11/11/05, Kor de Jong <k.dejong@geo.uu.nl> wrote:
> This works, but I am looking for a way to use each GDAL driver individually.
> Each driver should correspond to one file format, like this:
>
> int driverId = ...; // GDAL file format driver id, could also be the name.
> GDALRasterDriver* driver = new GDALRasterDriver(driverId);
> Raster* raster = driver->open("dem.map");
>
> This way I can maintain a mapping of rasters and drivers used to read or write
> the data. Also GDAL doesn't need to search through its list of drivers each
> time new data is read. (As a hack I could store the id of the GDAL driver
> used to read the data the first time it is tried, but this conflicts with the
> overall design of my library in which GDALRasterDriver is just one of the
> drivers.)
>
> My first idea was to copy the few lines of code in the GDALOpen function in
> gdaldataset.cpp and use the GDAL drivers directly instead of calling GDALOpen
> for example. This could work if the procted poDriver member of GDALDataset
> was public or if my function, like GDALOpen, was declared a friend of
> GDALDataset. I guess for good reasons both will not happen so I wonder what
> my alternatives are.
>
> In short, is it possible to get around the high level GDAL functions and use
> the individual GDAL drivers directly? If not, does the design of GDAL allow
> it to be changed to allow such use?

Kor,

I can imagine a couple solutions.

1) I could implement a GDALOpenWithDriver() with an
   extra argument that is the driver that should be used (as
   opposed to scanling the GDALDriverManager list).

2) You could manipulate the GDALDriverManager ensuring
    that only the one driver at a time is registered.  That way
    only that driver would be used by GDALOpen().

If (2) is fine for you, then no core changes are required.  If not,
then I would be willing to implement option 1, which I have
occationally wished existed for other reasons.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Fri Nov 11 10:05:48 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] newbie question : OGR Polygon extracting problem...
In-Reply-To: <43749B72.6080802@superonline.com>
References: <43749B72.6080802@superonline.com>
Message-ID: <931f8ea90511110705y47bd8df7rb1a5be012958a5ec@mail.gmail.com>

On 11/11/05, Aykut KO?AK <aykutkocak@superonline.com> wrote:
>  Dear all,
>
>  since couple of days I am learning how to use OGR library adn gat some
> problems about Polygons and MultiPolygons. I have searched the list's
> archive and found some replies to similar questions  (
> http://lists.maptools.org/pipermail/gdal-dev/2004-February/002095.html,
> http://lists.maptools.org/pipermail/gdal-dev/2004-May/002713.html)
> which did not solve my problem yet. So, I have added my experiment source
> code in C and I will be very glad if somebody help me about my mistakes with
> in the code.

Aykut,

The program looks reasonably sound.  I made the
following changes and was able get a good dump.  Note
that the first geometry is index "0".

warmerda@gdal2200[45]% diff test1.c test1.c_original
121c121
<         if (iGeometryCount > 0) {
---
>         if (iTotalPoint > 0) {
124c124
<         for ( iGeometry=0;iGeometry<iGeometryCount;iGeometry++) {
---
>         for ( iGeometry=1;iGeometry<iGeometryCount;iGeometry++) {

I would also note that there are container geometry types,
like multipolygon that your approach won't work for.  You
pretty much need a sub-function that can recurse for walking
down the geometry tree.  Otherwise you won't be able to
handle all the geometry types.  But what you have will
report simple point, line and polygon objects properly.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From nbarker at rsinc.com  Fri Nov 11 10:14:55 2005
From: nbarker at rsinc.com (Norman Barker)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K
Message-ID: <B67A5FB7A8114B47A70517C9C0D102E80A2C7B@bath.uk.rsinc.com>



-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Peng Gao
Sent: Friday, November 11, 2005 2:48 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K



> -----Original Message-----
> From: Peng Gao 
> Sent: Friday, November 11, 2005 6:30 AM
> To: gdal-dev@lists.maptools.org
> Subject: Reading JPEG2000 JPC and J2K
> 
> I got some images with .jpc and .j2k extensions. Is there any 
> way I can read them using GDAL?
> I renamed them to .jp2, and it didn't work. I am using Kakadu codec.
> 
> Gao, Peng
> 

I read the doc on JP2KAK driver again, and it should support JPC. The
problem could be the image I have. Attached is a problem jpc image.

Gao, Peng

Hi,

I have just tried this with gdalinfo and got

Driver: JP2KAK/JPEG-2000 (based on Kakadu)
Size is 70, 46
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,   46.0)
Upper Right (   70.0,    0.0)
Lower Right (   70.0,   46.0)
Center      (   35.0,   23.0)
Band 1 Block=70x46 Type=Byte, ColorInterp=Red
Band 2 Block=70x46 Type=Byte, ColorInterp=Green
Band 3 Block=70x46 Type=Byte, ColorInterp=Blue

try 

gdalinfo --formats

and see if you have got a JPEG2000 driver.

The image is a rose.

Norman




From warmerdam at pobox.com  Fri Nov 11 10:59:35 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K
In-Reply-To: <54808B311D66EB4E9CF4647B0DE707C20160E2F5@firewire.esri.com>
References: <54808B311D66EB4E9CF4647B0DE707C20160E2F5@firewire.esri.com>
Message-ID: <931f8ea90511110759y50d3bc3eha6548723e983bc6@mail.gmail.com>

On 11/11/05, Peng Gao <pgao@esri.com> wrote:
> I read the doc on JP2KAK driver again, and it should support JPC. The
> problem could be the image I have. Attached is a problem jpc image.

Peng,

I would add the file seemed to work fine for me with the JP2ECW
driver and the JasPer driver.  So I think we will need to do some
additional work to isolate why it isn't working for you.

However, I'm taking off early for the weekend (another trip moving to
http://home.gdal.org/~warmerda/newhouse/ ) so I can't do anything
today.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From MChapman at sanz.com  Fri Nov 11 13:05:25 2005
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C1A6@mailman.san.com>

Gao,

You can use the MrSID driver, Kakadu or Jasper.  I would recommend
MrSID.  You need to download the MrSID DSDK from Lizardtech for reading
and you need to get the ESDK for read/write.  To get the ESDK you will
have to go through the clearance process first I believe.  The MrSID
driver reads J2k and MrSID.  ECW can also read the new jpeg formats but
I don't know if that is enabled through GDAL yet.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Peng Gao
Sent: Friday, November 11, 2005 7:48 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K


> -----Original Message-----
> From: Peng Gao 
> Sent: Friday, November 11, 2005 6:30 AM
> To: gdal-dev@lists.maptools.org
> Subject: Reading JPEG2000 JPC and J2K
> 
> I got some images with .jpc and .j2k extensions. Is there any 
> way I can read them using GDAL?
> I renamed them to .jp2, and it didn't work. I am using Kakadu codec.
> 
> Gao, Peng
> 

I read the doc on JP2KAK driver again, and it should support JPC. The
problem could be the image I have. Attached is a problem jpc image.

Gao, Peng


From pgao at esri.com  Fri Nov 11 13:52:50 2005
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20160E2F9@firewire.esri.com>

Thanks all for the info.

I messed up with my small sample images by renaming them to .jp2 from
.jpc, .j2c, and etc, 
to work around
an extension checking problem in my system. It seems that JP2KAK driver
uses the extension name to switch to different modes. I properly fixed
the extension name checking problem, and now all three of my sample
images
are displaying with their original extension.

But I also have lots of more JPC images. Those are DOQQ images. The
following is
the info of one of them. The info looks alright, and but GDAL failed to
read it,
in CPLErr JP2KAKRasterBand::IReadBlock( int nBlockXOff, int nBlockYOff,
...),
with an execption, Microsoft C++ exception:
kdu_cpl_error_message::JP2KAKException @ 0x0012d3a0,
on the first block (0, 0).


C:\GDAL>bld\bin\gdalinfo C:\Data\apu04_2ft_sea46122f8.jpc
Driver: JP2KAK/JPEG-2000 (based on Kakadu)
Size is 15720, 22818
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,22818.0)
Upper Right (15720.0,    0.0)
Lower Right (15720.0,22818.0)
Center      ( 7860.0,11409.0)
Band 1 Block=512x128 Type=Byte, ColorInterp=Red
  Overviews: 7860x11409, 3930x5705, 1965x2853, 983x1427, 492x714,
246x357, 123x1
79
Band 2 Block=512x128 Type=Byte, ColorInterp=Green
  Overviews: 7860x11409, 3930x5705, 1965x2853, 983x1427, 492x714,
246x357, 123x1
79
Band 3 Block=512x128 Type=Byte, ColorInterp=Blue
  Overviews: 7860x11409, 3930x5705, 1965x2853, 983x1427, 492x714,
246x357, 123x1
79

C:\GDAL>


> -----Original Message-----
> From: Chapman, Martin [mailto:MChapman@sanz.com] 
> Sent: Friday, November 11, 2005 10:05 AM
> To: Peng Gao; gdal-dev@lists.maptools.org
> Subject: RE: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K
> 
> Gao,
> 
> You can use the MrSID driver, Kakadu or Jasper.  I would 
> recommend MrSID.  You need to download the MrSID DSDK from 
> Lizardtech for reading and you need to get the ESDK for 
> read/write.  To get the ESDK you will have to go through the 
> clearance process first I believe.  The MrSID driver reads 
> J2k and MrSID.  ECW can also read the new jpeg formats but I 
> don't know if that is enabled through GDAL yet.
> 
> Martin
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Peng Gao
> Sent: Friday, November 11, 2005 7:48 AM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K
> 
> 
> > -----Original Message-----
> > From: Peng Gao
> > Sent: Friday, November 11, 2005 6:30 AM
> > To: gdal-dev@lists.maptools.org
> > Subject: Reading JPEG2000 JPC and J2K
> > 
> > I got some images with .jpc and .j2k extensions. Is there any way I 
> > can read them using GDAL?
> > I renamed them to .jp2, and it didn't work. I am using Kakadu codec.
> > 
> > Gao, Peng
> > 
> 
> I read the doc on JP2KAK driver again, and it should support 
> JPC. The problem could be the image I have. Attached is a 
> problem jpc image.
> 
> Gao, Peng
> 


From k.dejong at geo.uu.nl  Fri Nov 11 14:10:43 2005
From: k.dejong at geo.uu.nl (Kor de Jong)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Use of individual drivers
In-Reply-To: <931f8ea90511110658n6a51ce80r83410a22b4931fba@mail.gmail.com>
References: <200511111026.33651.k.dejong@geo.uu.nl>
	<931f8ea90511110658n6a51ce80r83410a22b4931fba@mail.gmail.com>
Message-ID: <200511112010.43749.k.dejong@geo.uu.nl>

Hi Frank,

Op vrijdag 11 november 2005 15:58, schreef Frank Warmerdam:
> On 11/11/05, Kor de Jong <k.dejong@geo.uu.nl> wrote:
> > In short, is it possible to get around the high level GDAL functions and
> > use the individual GDAL drivers directly? If not, does the design of GDAL
> > allow it to be changed to allow such use?
>
> I can imagine a couple solutions.
>
> 1) I could implement a GDALOpenWithDriver() with an
>    extra argument that is the driver that should be used (as
>    opposed to scanling the GDALDriverManager list).

This would be a pretty clean solution I guess, also because GDALOpen can use 
this function too.

> 2) You could manipulate the GDALDriverManager ensuring
>     that only the one driver at a time is registered.  That way
>     only that driver would be used by GDALOpen().

Yes, I think I can get this to work. It is a bit of a hassle to manipulate the 
manager for each format driver, but if I have to I will do it like this.

> If (2) is fine for you, then no core changes are required.  If not,
> then I would be willing to implement option 1, which I have
> occationally wished existed for other reasons.

Given your last remark I opt for (1) and I am willing to help ofcourse. As far 
as I can see this would mean creating a new function whose body is similar to 
GDALOpen, except for the looping over all drivers and making this function a 
friend of GDALDataset.

Thanks for your help Frank.

Kor

-- 
Kor de Jong, k.dejong@geo.uu.nl
Fysische Geografie, Geowetenschappen, Universiteit Utrecht


From tim at linfiniti.com  Fri Nov 11 20:11:39 2005
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Q
In-Reply-To: <B58A276C-D77E-4BF2-BDE3-376583CFFD59@gmx.net>
References: <437315EC.11950.2B6B5B@localhost>
	<E6C03609-7E26-40F9-8978-2369EAD94659@linfiniti.com>
	<B58A276C-D77E-4BF2-BDE3-376583CFFD59@gmx.net>
Message-ID: <BE00E9F9-7153-46FC-9973-79DF042F7D4E@linfiniti.com>

Hi

On 10 Nov 2005, at 12:54, Eric D?nges wrote:

>
> Am 10.11.2005 um 10:32 schrieb Tim Sutton:
>
>> Hi
>>
>> Take a look at qgsrasterlayer.cpp in the QGIS (http://qgis.org)  
>> source code. We have already solved this problem.
>>
>> Essentially, assign each of the three bands pixels to a different  
>> variable, then create a qcolor using each as the r,g,b values.  
>> Then simply paint your pixel using that qcolor.
>>
>> OT I would be intersested to chat to you to see if a) the  
>> application you are working on is open source and b) you would be  
>> interested in combining efforts with QGIS.
>>
>> Best Regards
>>
>> Tim
>>
>> On 10 Nov 2005, at 08:42, t.laue@web.de wrote:
>>
>>> Dear all,
>>>
>>> I am currently developing a small application using Qt 4 and C++  
>>> for handling and
>>> evaluating large aerial images given in TIF / TIFF format. I am  
>>> using GDAL for image
>>> input. I am working with image overviews and image tiles for  
>>> providing a good zoom
>>> and pan performance.
>>>
>>> At the moment GDALRasterBand::RasterIO is being used for  
>>> accessing overview levels
>>> and reading small image patchs because I did not find a way how  
>>> to read from single
>>> overview levels using GDALDataset::RasterIO. Everything is  
>>> working fine as long as I
>>> am utilising gray value images with one raster band.
>>>
>>> In the case of RGB images I can employ a loop for retrieving the  
>>> data of all three raster
>>> bands from the same overview level resulting in three buffers  
>>> which contain the data. I
>>> would like to display the color image at the screen but I have no  
>>> idea how to combine
>>> them again.
>>>
>>> Is there a way to create a new dataset for adding the data read  
>>> from different bands? Is
>>> it possible to use GDALDataset to access single overview levels?  
>>> Do I have to use
>>> another method independent of GDAL to bring the three buffers  
>>> together in order to
>>> recreate a RGB image patch? Is anyone working with Qt 4 and GDAL?
>
> While RasterIO doesn't let you specify which overview to use  
> directly, I believe it
> automatically calculates the most appropriate overview to use based  
> on the source and
> destination image sizes you specify to RasterIO. The big advantage  
> of using RasterIO
> is that you can have RasterIO worry about creating packed pixel  
> formats from the color
> bands, which should be a lot faster than the method Tim suggests  
> above. This is how I
> do it:
>
> // Now, copy the raster data from the dataset.
> if (CE_None != GDALDatasetRasterIO(_dataset, GF_Read,
>                                    x, y, (int)ceilf(rect.size.width),
>                                    (int)ceilf(rect.size.height),
>                                    data, width, height, GDT_Byte,  
> bands,
> 				   &_bandMap[bandStart],
> 				   bytesPerPixel, bytesPerRow, 1))
> {
> 	NSLog(@"problem with GDALDatasetRasterIO");
>         goto done;
> }
>
> 'data' is the pointer to the memory area that should hold the  
> ARGB32 data, 'bands' is
> the number of bands in the dataset, and '_bandMap' holds an array  
> of the indexes of the
> bands in the correct order, which is alpha, red, green and blue for  
> my application.
> The 'bandStart' parameter is used to handle cases were the dataset  
> doesn't have an
> Alpha channel, in which case it is 1 instead of 0 (this allows me  
> to simplify the code
> that generates the _bandMap). bytesPerPixel is 4. Read the RasterIO  
> documentation
> for more details.
>
> Disclaimer: I've never worked with QT before, so the above may be  
> totally useless to
> you.
>

This is indeed interesting. Perhaps we can use this approach to make  
QGIS raster rendering even faster. I just need to check out to make  
qpainter accept a raw data block as populated by your routine.

That said raster rendering in QGIS is already pretty faster, though  
of course if cant harm to make it even faster eh? :-)

Many thanks for this tip!

Regards

Tim

> With kind regards,
> Eric
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

Tim Sutton (tim at linfiniti.com)

Visit http://qgis.org for a great open source GIS application
Skype : timlinux
Jabber : timlinux@jabber.org
MSN : tim_bdworld@msn.com






From peter.misovic at gmail.com  Sat Nov 12 06:20:35 2005
From: peter.misovic at gmail.com (Ing.Peter Misovic)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] (no subject)
Message-ID: <1880f8a70511120320u2b8f827ah4e993623eca04a9a@mail.gmail.com>

Hi ,
I downloaded last cvs version of GDAL and I have following problem
during make install step :

make[1]: Entering directory
`/home/misovic/download/gis/gdal-cvs-2005.11.11/swig'
for dir in php ; do (cd $dir; make install ); done
make[2]: Entering directory
`/home/misovic/download/gis/gdal-cvs-2005.11.11/swig/php'
swig -Wall -I../include -I../include/php -I../.. -c++ -php -o
gdal_wrap.cpp gdal.i
/usr/share/swig/1.3.24/php4/utils.i:1: Warning(202): Could not
evaluate '$1_dim0'
/usr/share/swig/1.3.24/php4/utils.i:1: Warning(202): Error: 'Syntax error'
../include/cpl.i:78: Warning(501): Overloaded declaration ignored. 
CPLPushErrorHandler(CPLErrorHandler)
../include/cpl.i:46: Warning(501): Previous declaration is
PushErrorHandler(char const *)
../include/MajorObject.i:54: Warning(501): Overloaded declaration
ignored.  GDALMajorObjectShadow::SetMetadata(char *,char const *)
../include/MajorObject.i:46: Warning(501): Previous declaration is
GDALMajorObjectShadow::SetMetadata(char **,char const *)
g++ -I../../port -I../../gcore -I../../alg -I../../ogr `php-config
--includes` -fpic -c gdal_wrap.cpp
gdal_wrap.cpp: In function `void _wrap_GCPsToGeoTransform(int, zval*,
zval*, int)':
gdal_wrap.cpp:3984: error: `t_output_helper' undeclared (first use
this function)
gdal_wrap.cpp:3984: error: (Each undeclared identifier is reported
only once for each function it appears in.)
gdal_wrap.cpp: In function `void _wrap_Dataset_GetGeoTransform(int,
zval*, zval*, int)':
gdal_wrap.cpp:4317: error: `t_output_helper' undeclared (first use
this function)
gdal_wrap.cpp: In function `void _wrap_Dataset_BuildOverviews(int,
zval*, zval*, int)':
gdal_wrap.cpp:4415: error: `force4' undeclared (first use this function)
gdal_wrap.cpp:4417: error: `$arg' undeclared (first use this function)
gdal_wrap.cpp:4420: error: `intr4' undeclared (first use this function)
gdal_wrap.cpp: In function `void _wrap_Dataset_WriteRaster(int, zval*,
zval*, int)':
gdal_wrap.cpp:4791: error: `force8' undeclared (first use this function)
gdal_wrap.cpp:4796: error: `intr8' undeclared (first use this function)
gdal_wrap.cpp:4801: error: `force9' undeclared (first use this function)
gdal_wrap.cpp:4806: error: `intr9' undeclared (first use this function)
gdal_wrap.cpp:4811: error: `force10' undeclared (first use this function)
gdal_wrap.cpp:4816: error: `intr10' undeclared (first use this function)
gdal_wrap.cpp:4821: error: `force12' undeclared (first use this function)
gdal_wrap.cpp:4823: error: `$arg' undeclared (first use this function)
gdal_wrap.cpp:4826: error: `intr12' undeclared (first use this function)
gdal_wrap.cpp: In function `void _wrap_Band_ComputeRasterMinMax(int,
zval*, zval*, int)':
gdal_wrap.cpp:5455: error: `t_output_helper' undeclared (first use
this function)
make[2]: *** [gdal_wrap.o] Error 1
make[2]: Leaving directory
`/home/misovic/download/gis/gdal-cvs-2005.11.11/swig/php'
make[1]: *** [install] Error 2
make[1]: Leaving directory `/home/misovic/download/gis/gdal-cvs-2005.11.11/swig'
make: *** [install-actions] Error 2



Would you be so kind to give me some support or help to solve this
install error ?

Thank you.
Peter


From steve at asklater.com  Sat Nov 12 09:53:23 2005
From: steve at asklater.com (SteveC)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Warping an ecw
Message-ID: <20051112145322.GD18076@asklater.com>

Hi

I'm trying to transform an ecw but always get errors. Any help/pointers
appreciated.

I get

$ gdalwarp -tr 0.001 0.001 -t_srs "epsg:4326" -of GTiff foo.ecw foo.tiff
Creating output file that is 784P x 648L.
:0.ERROR 1: NCScbmReadViewLineBIL failed.

$ gdalwarp -t_srs "epsg:4326" -te 0 50 10 60  -ts 30 30 -of GTiff foo.ecw foo.tiff
Creating output file that is 30P x 30L.
:0..10..20...33..40...50...61..ERROR 1: NCScbmReadViewLineBIL failed.

$ gdal-config --version
1.3.1

$ uname -a
Linux fang 2.6.13 #2 Mon Oct 24 23:36:45 BST 2005 i686 GNU/Linux

$ proj --version
Rel. 4.4.9, 29 Oct 2004

$ gdalinfo foo.ecw 
Driver: ECW/ERMapper Compressed Wavelets
Size is 262000, 340500
Coordinate System is:
PROJCS["TMOSGB",
    GEOGCS["ORDNANCE SURVEY 1936",
        DATUM["OSGB36",
            SPHEROID["AIRY",6377563.396,299.3249646]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",49],
    PARAMETER["central_meridian",-1.999999999999966],
    PARAMETER["scale_factor",0.999601272],
    PARAMETER["false_easting",-100000],
    PARAMETER["false_northing",400000],
    UNIT["Meter",1]]
Origin = (132000.000000,691001.000000)
Pixel Size = (2.00000000,-2.00000000)
Corner Coordinates:
Upper Left  (  132000.000,  691001.000) (  1d20'53.45"E, 51d34'10.52"N)
Lower Left  (  132000.000,   10001.000) (  0d58'2.29"E, 45d27'6.44"N)
Upper Right (  656000.000,  691001.000) (  8d48'56.20"E, 51d 6'54.75"N)
Lower Right (  656000.000,   10001.000) (  7d36'26.35"E, 45d 5'3.75"N)
Center      (  394000.000,  350501.000) (  4d40'17.19"E, 48d21'39.14"N)
Band 1 Block=262000x1 Type=Byte, ColorInterp=Red
  Overviews: arbitrary
Band 2 Block=262000x1 Type=Byte, ColorInterp=Green
  Overviews: arbitrary
Band 3 Block=262000x1 Type=Byte, ColorInterp=Blue
  Overviews: arbitrary



From iotc at 3i.co.za  Sun Nov 13 10:59:29 2005
From: iotc at 3i.co.za (Rob Cairns)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] ECW JPEG 2000 Source SDK v3.3 (RC)
Message-ID: <01C5E86B.3B6FBB10.iotc@3i.co.za>

I have been trying to build gdal-1.3.1 with the new ecw/jpeg2000 SDK (3.3 
RC1) and MrSid on Windows XP. It compiles OK - after a minor change in the 
frmts/ecw makefile to point to the correct include directory. MrSid works 
very well, but trying a simple test app like gdalinfo on an ecw file causes 
problems. It asks for the ermapper dlls if absent, but crashes on GDALOpen. 

If I try linking to the libecwj2 library, I get an error message about 
NCSecwInitInternal and NCSecwShutdownInternal from gdal. If I add these to 
the libecwj2.def list (not sure this is correct?) the message disappears 
and gdal compiles, but the end result is the same.

I wonder if anyone else has experienced this problem on Windows and has 
managed to solve it? I am using the new Windows Platform SDK (April 2005).

With thanks in advance - Rob

From cees at pcraster.nl  Sun Nov 13 16:23:20 2005
From: cees at pcraster.nl (Cees Wesseling)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] writing of EHdr maps
Message-ID: <4377AEC8.2090909@pcraster.nl>

Hi,

I noticed that the creation of EHdr is quite incomplete at the moment.
And I saw that Frank noticed this also somehere in last June. Is there 
anyone maybe working on this or having some code lying around? In any 
case I will try see if I am able to add stuff like ULXMAP, ULYMAP, YDIM, 
YDIM and maybe the .stx file.

Cheers, Cees
-- 
Cees Wesseling
PCRaster Environmental Software


From tflynch at gmail.com  Sun Nov 13 19:54:18 2005
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Reading JPEG2000 JPC and J2K
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C1A6@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C1A6@mailman.san.com>
Message-ID: <c39b2a650511131654n5a3c172aj94dddf9b197feccf@mail.gmail.com>

On 11/12/05, Chapman, Martin <MChapman@sanz.com> wrote:
> You can use the MrSID driver, Kakadu or Jasper.  I would recommend
> MrSID.  You need to download the MrSID DSDK from Lizardtech for reading
> and you need to get the ESDK for read/write.  To get the ESDK you will
> have to go through the clearance process first I believe.  The MrSID
> driver reads J2k and MrSID.  ECW can also read the new jpeg formats but
> I don't know if that is enabled through GDAL yet.

Gao,

The GDAL JP2ECW driver based on the ECW JPEG 2000 SDK should also read
raw jpc, j2k codestreams automatically - e.g. result of gdalinfo on
some of the conformance data:

Driver: JP2ECW/ERMapper JPEG2000
Size is 128, 128
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  128.0)
Upper Right (  128.0,    0.0)
Lower Right (  128.0,  128.0)
Center      (   64.0,   64.0)
Band 1 Block=128x1 Type=Byte, ColorInterp=Undefined
  Overviews: arbitrary

Hope this helps.

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From tflynch at gmail.com  Sun Nov 13 20:12:34 2005
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] ECW JPEG 2000 Source SDK v3.3 (RC)
In-Reply-To: <01C5E86B.3B6FBB10.iotc@3i.co.za>
References: <01C5E86B.3B6FBB10.iotc@3i.co.za>
Message-ID: <c39b2a650511131712qdd24a47x22ffb05570965afb@mail.gmail.com>

On 11/13/05, Rob Cairns <iotc@3i.co.za> wrote:
<snip>
> If I try linking to the libecwj2 library, I get an error message about
> NCSecwInitInternal and NCSecwShutdownInternal from gdal. If I add these to
> the libecwj2.def list (not sure this is correct?) the message disappears
> and gdal compiles, but the end result is the same.

Rob, Garrett, Steve et al. (and Frank)

It looks like the current wrap of the ECW JPEG 2000 SDK source code
needs some attention.  I've logged your reports of apparent problems
(and my 'other queries' ;-) and will work on fixing them ASAP.

cheers

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From BEN at Syncera-ITSolutions.NL  Mon Nov 14 04:26:41 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Re: primary key on Virtual Spatial Data (ODBC)
Message-ID: <s378666e.033@SRV-POSTIX-DFT>

After some debugging I found out that the Microsoft Access ODBC driver does not support the SQLPrimaryKeys function which is used to determine the primary key.

[Microsoft][ODBC Driver Manager] Driver does not support this function

So, anyway, time to convince some people to switch to a decent database .....

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl
-------------- next part --------------
An embedded message was scrubbed...
From: "Bart van den Eijnden" <BEN@Syncera-ITSolutions.NL>
Subject: primary key on Virtual Spatial Data (ODBC)
Date: Wed, 09 Nov 2005 13:02:29 +0100
Size: 1816
Url: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051114/b626b0d1/attachment.mht
From uwe.schmitz at lverma.nrw.de  Mon Nov 14 04:34:58 2005
From: uwe.schmitz at lverma.nrw.de (uwe.schmitz@lverma.nrw.de)
Date: Wed Nov 21 11:49:51 2007
Subject: AW: [Gdal-dev] Having problems with gdaladdo
Message-ID: <C900396522B3C142AA9A7F5AFEE11CB30A8B25@slva01lvnt23.lverma.nrw.de>

Frank,

> 
> CPLErr GTiffDataset::FlushBlockBuf()
> 
> {
>     int		nBlockBufSize;
>     CPLErr      eErr = CE_None;
> 
>     if( nLoadedBlock < 0 || !bLoadedBlockDirty )
>         return CE_None;
> 
>     SetDirectory();   <-- add this line
> 
>     if( TIFFIsTiled(hTIFF) )
>         nBlockBufSize = TIFFTileSize( hTIFF );
>     else
>         nBlockBufSize = TIFFStripSize( hTIFF );
> 

just recently I hit the same problem. After applying
the patch and doing a

gdaladdo -r average x.tif 2 4 8 16 32

only the first three overviews are correct. The fourth
and fifth are black (checked with irfan view and
tiffsplit).

I must mention that this only occurs if the
planar configuration tag is "single image plane".
With "seperate image planes" all overviews are
ok.

Thanks in advance
Uwe
---------------------------------------------------------
... Uwe Schmitz  Landesvermessungsamt Nordrhein-Westfalen
... Muffendorfer Str. 19 - 21              D - 53177 Bonn
... E-mail:       uwe.schmitzNO@SPAMlverma.nrw.de
... Internet:     http://www.lverma.nrw.de
 


From br at forstware.de  Mon Nov 14 05:03:28 2005
From: br at forstware.de (Bjoern Ruff)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Changing color values
Message-ID: <200511141000.jAEA0UmG011729@forstw.forstware.de>

Hello,

is there a tool giving a easy way to change single colors in an image?
E.g.: Change all black pixels to white.

Thanks,
Bjoern


From jmcm at euskalnet.net  Mon Nov 14 05:22:50 2005
From: jmcm at euskalnet.net (Juan Mari Celihueta)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <20051111145644.29831.qmail@web60422.mail.yahoo.com>
References: <20051111145644.29831.qmail@web60422.mail.yahoo.com>
Message-ID: <4378657A.8060706@euskalnet.net>

I continue with the same problem. I added the prefix you indicated, and 
I also tried as root, but I get exactly the same error message.

I hope someone can help me.

Juan M.

Bruce Bill escribi?:

>Seems you don't have system administrator's privilige.
>If you are not root, then you have to put the
>installation under your own account, try add
>  --prefix=/home1/MAPSERVER 
>to your configure command line options.
>
>  hope this helps.
>
>--- Juan Mari Celihueta <jmcm@euskalnet.net> wrote:
>
>  
>
>>Hi all:
>>
>>I'm triyng to compile gdal 1.3.1 in Solaris 8 but I
>>get an error in the 
>>make process. I use GNU Make 3.80 and that is the
>>process I follow:
>>
>>$ LD_LIBRARY_PATH=/usr/local/lib
>>$ export LD_LIBRARY_PATH
>>$ ./configure --with-png=internal
>>--with-jpeg=internal 
>>--with-geotiff=internal --with-libtiff=internal
>>
>>That's ok, then I execute the make process:
>>
>>$ make
>>
>>and after several minutes of compilation process I
>>get the next error 
>>message:
>>
>>ld: fatal: relocations remain against allocatable
>>but non-writable sections
>>collect2: ld returned 1 exit status
>>make[1]: *** [libgdal.la] Error 1
>>make[1]: Leaving directory
>>`/home1/MAPSERVER/gdal-1.3.1'
>>make: *** [check-lib] Error 2
>>
>>I would be very glad if someone could help me.
>>
>>Thanks.
>>
>>Juan M.
>>
>>
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>    
>>
>
>
>
>	
>		
>__________________________________ 
>Yahoo! Mail - PC Magazine Editors' Choice 2005 
>http://mail.yahoo.com
>
>  
>


From koolhoven at itc.nl  Mon Nov 14 09:54:30 2005
From: koolhoven at itc.nl (Wim Koolhoven)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] vector ilwis driver
Message-ID: <36141C39871E4D4DAE92F79D18385436027991BF@itcnt14.itc.nl>

Vladimir,

Best way to go at the moment is probably to use the ILWIS export to shapefile. GDAL does support shapefiles.
When need is large enough we may implement a GDAL driver for ILWIS point, segment and/or polygon maps. At the moment such plans do not exist.
For more information about ILWIS look at our website: www.itc.nl/ilwis


regards,

Wim Koolhoven
 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Vladimir Guzm?n
Sent: zaterdag 5 november 2005 15:28
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] vector ilwis driver

Hello, list.

I'm sorry to disturb you, and I apologize if this is an off-topic question, but it is really important for me to know if I can read Ilwis vector files through gdal.

Or if somebody knows something about this format, or where I can get information about it.

I appreciate any help.

Thanks a lot in advance,

--
Vladimir Ilich Guzm?n R.
------------------------
http://maintask.com

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Mon Nov 14 10:07:15 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] (no subject)
In-Reply-To: <1880f8a70511120320u2b8f827ah4e993623eca04a9a@mail.gmail.com>
References: <1880f8a70511120320u2b8f827ah4e993623eca04a9a@mail.gmail.com>
Message-ID: <931f8ea90511140707g1825aac3g9bc5510e98316b95@mail.gmail.com>

On 11/12/05, Ing.Peter Misovic <peter.misovic@gmail.com> wrote:
> Hi ,
> I downloaded last cvs version of GDAL and I have following problem
> during make install step :
>
> make[1]: Entering directory
> `/home/misovic/download/gis/gdal-cvs-2005.11.11/swig'
> for dir in php ; do (cd $dir; make install ); done
> make[2]: Entering directory
> `/home/misovic/download/gis/gdal-cvs-2005.11.11/swig/php'
> swig -Wall -I../include -I../include/php -I../.. -c++ -php -o
> gdal_wrap.cpp gdal.i

Peter,

I don't think the PHP swig wrappers are supportted yet.  Unless
you are interested into fleshing them out you might be best
avoiding them.

It would also be helpful to put something like "PHP SWIG Build Problem"
in your subject line so that folks involved in the swig work would know to
pay attention.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Nov 14 10:19:44 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Warping an ecw
In-Reply-To: <20051112145322.GD18076@asklater.com>
References: <20051112145322.GD18076@asklater.com>
Message-ID: <931f8ea90511140719s1d034c2dnf47d0a3855eaa515@mail.gmail.com>

On 11/12/05, SteveC <steve@asklater.com> wrote:
> Hi
>
> I'm trying to transform an ecw but always get errors. Any help/pointers
> appreciated.
>
> I get
>
> $ gdalwarp -tr 0.001 0.001 -t_srs "epsg:4326" -of GTiff foo.ecw foo.tiff
> Creating output file that is 784P x 648L.
> :0.ERROR 1: NCScbmReadViewLineBIL failed.
>
> $ gdalwarp -t_srs "epsg:4326" -te 0 50 10 60  -ts 30 30 -of GTiff foo.ecw foo.tiff
> Creating output file that is 30P x 30L.
> :0..10..20...33..40...50...61..ERROR 1: NCScbmReadViewLineBIL failed.
>
> $ gdal-config --version
> 1.3.1

Steve,

I'm not sure what is going wrong.  What version of the ECW SDK are
you using?  I will warn you that even if this works, it will be very slow
since the warper will always load the source chunks at full resolution.
I gather you are wanting to use gdalwarp to dramatically downsample
the data?

You might want to try something like "gdalinfo -mm foo.ecw".
This should force one read pass over the whole file computing
the min and max.  If this fails, then we can suspect there is
something wrong with the file, or with the ECW SDK in
simple access situations.  If that works fine, then it may be
something more complex.

I have submitted a bug report to ERMapper where I had crashes in
the ECW SDK when doing many small windowed reads on a large
file.  I haven't heard back if they were able to reproduce it.   You
might be running into something similar.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Nov 14 10:25:11 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] writing of EHdr maps
In-Reply-To: <4377AEC8.2090909@pcraster.nl>
References: <4377AEC8.2090909@pcraster.nl>
Message-ID: <931f8ea90511140725k6a53d65dv3ec0c0dd00a267e6@mail.gmail.com>

On 11/13/05, Cees Wesseling <cees@pcraster.nl> wrote:
> Hi,
>
> I noticed that the creation of EHdr is quite incomplete at the moment.
> And I saw that Frank noticed this also somehere in last June. Is there
> anyone maybe working on this or having some code lying around? In any
> case I will try see if I am able to add stuff like ULXMAP, ULYMAP, YDIM,
> YDIM and maybe the .stx file.

Cees,

I am planning to substantially improve the EHdr driver in the coming weeks.
But if you want to start it sooner, just let me know what you do.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Nov 14 10:27:22 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] RE: Reading JPEG2000 JPC and J2K
In-Reply-To: <54808B311D66EB4E9CF4647B0DE707C20160E2F9@firewire.esri.com>
References: <AcXm6nmRIQ+Ru5/GTo2KLC3AAO73jAAAHfbQ>
	<54808B311D66EB4E9CF4647B0DE707C20160E2F9@firewire.esri.com>
Message-ID: <931f8ea90511140727v12f9672dm7fc9066ab4690bd8@mail.gmail.com>

On 11/11/05, Peng Gao <pgao@esri.com> wrote:
> Thanks all for the info.
>
> I messed up with my small sample images by renaming them to .jp2 from
> .jpc, .j2c, and etc,
> to work around
> an extension checking problem in my system. It seems that JP2KAK driver
> uses the extension name to switch to different modes. I properly fixed
> the extension name checking problem, and now all three of my sample
> images
> are displaying with their original extension.

Peng Gao,

Ah yes, some of the logic for raw compression schemes is based on
the extension since the headers aren't too easy to recognise automatically
(and safely).

> But I also have lots of more JPC images. Those are DOQQ images. The
> following is
> the info of one of them. The info looks alright, and but GDAL failed to
> read it,
> in CPLErr JP2KAKRasterBand::IReadBlock( int nBlockXOff, int nBlockYOff,
> ...),
> with an execption, Microsoft C++ exception:
> kdu_cpl_error_message::JP2KAKException @ 0x0012d3a0,
> on the first block (0, 0).

You might need to make one of these available for me to dig into it.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Nov 14 12:20:04 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <4378657A.8060706@euskalnet.net>
References: <20051111145644.29831.qmail@web60422.mail.yahoo.com>
	<4378657A.8060706@euskalnet.net>
Message-ID: <931f8ea90511140920y5cef14b7w754e425f7be2e6ea@mail.gmail.com>

On 11/14/05, Juan Mari Celihueta <jmcm@euskalnet.net> wrote:
> I continue with the same problem. I added the prefix you indicated, and
> I also tried as root, but I get exactly the same error message.
>
> I hope someone can help me.

Juan,

It seems you are running into some funky problem with
the linker and/or libtool's handling of shared libraries.  I
have no idea how to fix things.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Nov 14 12:22:41 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Changing color values
In-Reply-To: <200511141000.jAEA0UmG011729@forstw.forstware.de>
References: <200511141000.jAEA0UmG011729@forstw.forstware.de>
Message-ID: <931f8ea90511140922o3cc282b7pb3708dd8d1a0245b@mail.gmail.com>

On 11/14/05, Bjoern Ruff <br@forstware.de> wrote:
> Hello,
>
> is there a tool giving a easy way to change single colors in an image?
> E.g.: Change all black pixels to white.

Bjoern,

Do you just want to change a color in a paletted applied to
a one band image, or are you wanting to change the
underlying value of the pixels?

Changing palettes can be accomplished by translating to VRT
format, manually editing the .vrt file, and then translating back to
the original format.

Modifying particular pixel values can be accomplished
with the gdal/pymod/samples/val_repl.py python script
as long as you have Python support built for GDAL.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From craig.miller at spatialminds.com  Mon Nov 14 13:15:24 2005
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Arc Binary Coverages
Message-ID: <000d01c5e947$635b8820$8a01a8c0@vaio>

Is there a reason why the Arc Binary Coverage driver uses the Coverage
directory instead of the Workspace that is traditionally used in Arc/Info?

 

E.g. I would have expected to pass a directory to the workspace like
/data/county and receive back a list of coverages in that workspace such as:

 

Lakes - Type:Polygon

Lakes - Type:Point (Polygon Labels)

Lakes - Type:Linestring (Polygon boundary with line topology built)

Roads - Type:Linestring

Etc.

 

Instead it asks for a path to the coverage /data/county/lakes and returns
layers named things such as ARC.

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051114/2285e738/attachment.html
From craig.miller at spatialminds.com  Mon Nov 14 13:54:16 2005
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Sorry about HTML mail
Message-ID: <000001c5e94c$d161a1b0$8a01a8c0@vaio>

I apologize for sending my last two e-mails out as HTML.  I just switched
laptops, and forgot to change my mail settings.  It should be fixed now.

--Craig





From warmerdam at pobox.com  Mon Nov 14 16:50:17 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <000d01c5e947$635b8820$8a01a8c0@vaio>
References: <000d01c5e947$635b8820$8a01a8c0@vaio>
Message-ID: <931f8ea90511141350s6ef7020bg79bbb92bd36e67dc@mail.gmail.com>

On 11/14/05, Craig Miller <craig.miller@spatialminds.com> wrote:
>
>
>
> Is there a reason why the Arc Binary Coverage driver uses the Coverage
> directory instead of the Workspace that is traditionally used in Arc/Info?

Craig,

I think part of the problem is that neither Daniel or I were Arc/Info users
so we weren't familiar with normal techniques.   Of course, it isn't
a forgone conclusion that we would have treated a workspace as
a datasource even then, but we might have.

Best regards,

> E.g. I would have expected to pass a directory to the workspace like
> /data/county and receive back a list of coverages in that workspace such as:
>
>
>
> Lakes ? Type:Polygon
>
> Lakes ? Type:Point (Polygon Labels)
>
> Lakes ? Type:Linestring (Polygon boundary with line topology built)
>
> Roads ? Type:Linestring
>
> Etc.
>
>
>
> Instead it asks for a path to the coverage /data/county/lakes and returns
> layers named things such as ARC.
>
>
>
>
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From perrygeo at gmail.com  Mon Nov 14 17:52:05 2005
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:49:51 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <000d01c5e947$635b8820$8a01a8c0@vaio>
References: <000d01c5e947$635b8820$8a01a8c0@vaio>
Message-ID: <5383fa5e0511141452t3c63cf0dx5fd32f636e1556d0@mail.gmail.com>

Craig,

  There are good reasons to treat the coverage, rather than the
workspace, as the dataset. The biggest reason is that a coverage
contains multiple data layers (tics,lines, centroids, polygons or
points, etc). In addition ArcInfo's regions data model allows you to
store many spatially-related layers within a single coverage.

If the workspace were the dataset and the coverage were the layer,
there would be no way to get at the region layers (or tics, or any of
the other supporting spatial data) within the coverage.

I happen to work with regions occasionally so I'm very thankful for
the way OGR handles ArcInfo Coverages! ;-)

matt

On 11/14/05, Craig Miller <craig.miller@spatialminds.com> wrote:
>
>
>
> Is there a reason why the Arc Binary Coverage driver uses the Coverage
> directory instead of the Workspace that is traditionally used in Arc/Info?
>
>
>
> E.g. I would have expected to pass a directory to the workspace like
> /data/county and receive back a list of coverages in that workspace such as:
>
>
>
> Lakes ? Type:Polygon
>
> Lakes ? Type:Point (Polygon Labels)
>
> Lakes ? Type:Linestring (Polygon boundary with line topology built)
>
> Roads ? Type:Linestring
>
> Etc.
>
>
>
> Instead it asks for a path to the coverage /data/county/lakes and returns
> layers named things such as ARC.
>
>
>
>
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net


From craig.miller at spatialminds.com  Mon Nov 14 18:29:04 2005
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <5383fa5e0511141452t3c63cf0dx5fd32f636e1556d0@mail.gmail.com>
Message-ID: <002301c5e973$339c9da0$0501a8c0@vaio>

Matt,

A coverage contains one data layer, along with different types of topology.
These would all continue to be accessible if the Workspace was considered
the datasource.  They would all have the same name, but a different type
attribute.  Perhaps we would have to append something to the coverage name
to make it clear since OGIS (and as a result OGR) doesn't support as many
types as the Arc Coverage model, but rather maps some of the types to a
simple feature.  A name such as <layer> <type> would work.  For example,
"Streams (ARC)".  This appears to be more intuitive, informative, unique,
and closer to the true name of the coverage that always using "ARC".

The workspace is also where the attribute database is stored and it contains
information such as Librarian data and Image Catalog data.  Right now, there
is no way to add support for Librarian to the driver (which is actually
where I started looking at this).

I was thinking that regions will continue to be supported with a name such
as <layername> - <region> <type>.  For example "Streams -
Lake_Wenatchee_Basin (region)"

I'm still pretty confident that the two data models map perfectly onto each
other with exception to the fact that OGIS/OGR have smaller set of supported
layer types.  Naming conventions seems like an easy way to work around this
and still preserve the simple features nature of the OGR library.

--Craig


-----Original Message-----
From: Matthew Perry [mailto:perrygeo@gmail.com] 
Sent: Monday, November 14, 2005 2:52 PM
To: Craig Miller
Cc: Gdal-Dev
Subject: Re: [Gdal-dev] Arc Binary Coverages

Craig,

  There are good reasons to treat the coverage, rather than the workspace,
as the dataset. The biggest reason is that a coverage contains multiple data
layers (tics,lines, centroids, polygons or points, etc). In addition
ArcInfo's regions data model allows you to store many spatially-related
layers within a single coverage.

If the workspace were the dataset and the coverage were the layer, there
would be no way to get at the region layers (or tics, or any of the other
supporting spatial data) within the coverage.

I happen to work with regions occasionally so I'm very thankful for the way
OGR handles ArcInfo Coverages! ;-)

matt

On 11/14/05, Craig Miller <craig.miller@spatialminds.com> wrote:
>
>
>
> Is there a reason why the Arc Binary Coverage driver uses the Coverage 
> directory instead of the Workspace that is traditionally used in Arc/Info?
>
>
>
> E.g. I would have expected to pass a directory to the workspace like 
> /data/county and receive back a list of coverages in that workspace such
as:
>
>
>
> Lakes - Type:Polygon
>
> Lakes - Type:Point (Polygon Labels)
>
> Lakes - Type:Linestring (Polygon boundary with line topology built)
>
> Roads - Type:Linestring
>
> Etc.
>
>
>
> Instead it asks for a path to the coverage /data/county/lakes and 
> returns layers named things such as ARC.
>
>
>
>
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net



From peter.misovic at gmail.com  Tue Nov 15 04:10:10 2005
From: peter.misovic at gmail.com (Ing.Peter Misovic)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] (no subject)
In-Reply-To: <931f8ea90511140707g1825aac3g9bc5510e98316b95@mail.gmail.com>
References: <1880f8a70511120320u2b8f827ah4e993623eca04a9a@mail.gmail.com>
	<931f8ea90511140707g1825aac3g9bc5510e98316b95@mail.gmail.com>
Message-ID: <1880f8a70511150110i32a92ee5yc47f09a79bf9ba12@mail.gmail.com>

Hallo Frank
I'm really sorry for my non-subject email. I was faster than I would
be good. So I'm sorry :( Should I write it again for swig involved?

I remove --with-php and everything is ok.


Peter


On 11/14/05, Frank Warmerdam <warmerdam@pobox.com> wrote:
> On 11/12/05, Ing.Peter Misovic <peter.misovic@gmail.com> wrote:
> > Hi ,
> > I downloaded last cvs version of GDAL and I have following problem
> > during make install step :
> >
> > make[1]: Entering directory
> > `/home/misovic/download/gis/gdal-cvs-2005.11.11/swig'
> > for dir in php ; do (cd $dir; make install ); done
> > make[2]: Entering directory
> > `/home/misovic/download/gis/gdal-cvs-2005.11.11/swig/php'
> > swig -Wall -I../include -I../include/php -I../.. -c++ -php -o
> > gdal_wrap.cpp gdal.i
>
> Peter,
>
> I don't think the PHP swig wrappers are supportted yet.  Unless
> you are interested into fleshing them out you might be best
> avoiding them.
>
> It would also be helpful to put something like "PHP SWIG Build Problem"
> in your subject line so that folks involved in the swig work would know to
> pay attention.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>


From davidmck at austin.rr.com  Tue Nov 15 08:24:03 2005
From: davidmck at austin.rr.com (David McKenzie)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Warping an ecw
References: <20051112145322.GD18076@asklater.com>
	<931f8ea90511140719s1d034c2dnf47d0a3855eaa515@mail.gmail.com>
Message-ID: <003c01c5e9e7$ddcec540$6501a8c0@black>

Hi Folks,

Frank Warmerdam wrote:
> ....
> I have submitted a bug report to ERMapper where I had crashes in
> the ECW SDK when doing many small windowed reads on a large
> file.  I haven't heard back if they were able to reproduce it.   You
> might be running into something similar.
> ...

I had been intending to report a similar problem I encountered with ECW SDK
v3.3 RC1 (and possibly an earlier version). GDAL's RasterIO() fails on the
second band when reading multiple bands in succession -- but only if the
window width is *larger* than 4000 pixels. I found that I could resolve the
problem by initializing a variable, m_nNextLine, in function
CNCSJP2FileView::SetView(). In file NCSJP2FileView.cpp (line 940) you might
try replacing

if (m_pECWFileView) {
CNCSError Error;

with

if (m_pECWFileView) {
m_nNextLine = 0;
CNCSError Error;

Without this fix, CNCSJP2FileView::ReadLineBIL() inevitably returns
NCSECW_READ_FAILED with at least two large images I've experimented with.

--David


From steve at asklater.com  Tue Nov 15 08:38:57 2005
From: steve at asklater.com (SteveC)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Warping an ecw
In-Reply-To: <931f8ea90511140719s1d034c2dnf47d0a3855eaa515@mail.gmail.com>
References: <20051112145322.GD18076@asklater.com>
	<931f8ea90511140719s1d034c2dnf47d0a3855eaa515@mail.gmail.com>
Message-ID: <20051115133857.GL8030@asklater.com>

* @ 14/11/05 03:19:44 PM warmerdam@pobox.com wrote:
> On 11/12/05, SteveC <steve@asklater.com> wrote:
> > Hi
> >
> > I'm trying to transform an ecw but always get errors. Any help/pointers
> > appreciated.
> >
> > I get
> >
> > $ gdalwarp -tr 0.001 0.001 -t_srs "epsg:4326" -of GTiff foo.ecw foo.tiff
> > Creating output file that is 784P x 648L.
> > :0.ERROR 1: NCScbmReadViewLineBIL failed.
> >
> > $ gdalwarp -t_srs "epsg:4326" -te 0 50 10 60  -ts 30 30 -of GTiff foo.ecw foo.tiff
> > Creating output file that is 30P x 30L.
> > :0..10..20...33..40...50...61..ERROR 1: NCScbmReadViewLineBIL failed.
> >
> > $ gdal-config --version
> > 1.3.1
> 
> Steve,
> 
> I'm not sure what is going wrong.  What version of the ECW SDK are
> you using?  I will warn you that even if this works, it will be very slow

libecwj2-3.3

That cool?

> since the warper will always load the source chunks at full resolution.
> I gather you are wanting to use gdalwarp to dramatically downsample
> the data?
> 
> You might want to try something like "gdalinfo -mm foo.ecw".
> This should force one read pass over the whole file computing
> the min and max.  If this fails, then we can suspect there is
> something wrong with the file, or with the ECW SDK in
> simple access situations.  If that works fine, then it may be
> something more complex.

It failesd :-(

Lots of lines like

ERROR 1: TryWinRasterIO() failed for blocked scanline.
ERROR 1: IReadBlock failed at X offset 0, Y offset 25043

> I have submitted a bug report to ERMapper where I had crashes in
> the ECW SDK when doing many small windowed reads on a large
> file.  I haven't heard back if they were able to reproduce it.   You
> might be running into something similar.

Oh dear. I'd hoped this would be easy :-)

have fun,

SteveC steve@asklater.com http://www.asklater.com/steve/

From iotc at 3i.co.za  Tue Nov 15 10:46:13 2005
From: iotc at 3i.co.za (Rob Cairns)
Date: Wed Nov 21 11:49:52 2007
Subject: [gdal-dev] ecw jpeg 2000 source sdk v3.3 (rc)
Message-ID: <01C5E9FB.B61DDA40.iotc@3i.co.za>

OK I think the problems solved. I added some extra settings in the 
makefile.vc in the frmts/ecw directory and somehow that seemed to do the 
trick. Don't know which one worked or why (or whether it's just the time of 
the month). The result is a very smooth build of gdal-1.3.1 with ER 
Mapper's libecwj2-3.3 on Windows XP with no problems so far.

The flags are:

EXTRAFLAGS = 	-I$(ECWDIR)\Source\include -DFRMT_ecw -DNO_X86_MMI /DWIN32 /D 
"NDEBUG" /D "_WINDOWS" /D "UNICODE" /D "_UNICODE" /D "_USRDLL" /D 
"NCS_BUILD_WITH_COM" /D "_ATL_STATIC_REGISTRY" /D "_ATL_MIN_CRT" /D 
"_WINDLL" /FD /GS


Regards Rob

From warmerdam at pobox.com  Tue Nov 15 09:25:14 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [gdal-dev] ecw jpeg 2000 source sdk v3.3 (rc)
In-Reply-To: <01C5E9FB.B61DDA40.iotc@3i.co.za>
References: <01C5E9FB.B61DDA40.iotc@3i.co.za>
Message-ID: <931f8ea90511150625g21657e6cp5655038e1d69ce4c@mail.gmail.com>

On 11/15/05, Rob Cairns <iotc@3i.co.za> wrote:
> OK I think the problems solved. I added some extra settings in the
> makefile.vc in the frmts/ecw directory and somehow that seemed to do the
> trick. Don't know which one worked or why (or whether it's just the time of
> the month). The result is a very smooth build of gdal-1.3.1 with ER
> Mapper's libecwj2-3.3 on Windows XP with no problems so far.
>
> The flags are:
>
> EXTRAFLAGS =    -I$(ECWDIR)\Source\include -DFRMT_ecw -DNO_X86_MMI /DWIN32 /D
> "NDEBUG" /D "_WINDOWS" /D "UNICODE" /D "_UNICODE" /D "_USRDLL" /D
> "NCS_BUILD_WITH_COM" /D "_ATL_STATIC_REGISTRY" /D "_ATL_MIN_CRT" /D
> "_WINDLL" /FD /GS

Rob,

This makes sense.  I am still working with an old hacked version
of the ECW library on win32 that I built with vc6.  Perhaps I should
update to a standard configuration too, and update the makefiles
in CVS accordingly.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From BEN at Syncera-ITSolutions.NL  Tue Nov 15 10:26:37 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] shifted objects in shapefiles
Message-ID: <s37a0c42.072@SRV-POSTIX-DFT>

Hi list,

first of all, I am not very familiar with shapefile internals, so please ignore my possible ignorance .... and ofcourse excuse the fact that this is a bit off-topic.

We have a problem with shifted geo-objects in shapefiles, the geometry which is associated with a certain records is the wrong one, so things are shifted.

Is there any way to restore this? Or are things lost?

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl



From ed at topozone.com  Tue Nov 15 11:05:38 2005
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] shifted objects in shapefiles
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD5AB@ptolemy.topozone.com>

Bart -

How do you know they're shifted?  Shapefiles do not store projection
information (it has to be provided externally) and your symptom sounds
(at first glance) to be a projection/datum problem.

You can use shpdump to dump the coordinates of the objects in the
shapefile to examine them manually.  I would first check the projection
info for the shapefile (you can use ogrinfo).

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Bart van den
Eijnden
Sent: Tuesday, November 15, 2005 10:27 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] shifted objects in shapefiles

Hi list,

first of all, I am not very familiar with shapefile internals, so please
ignore my possible ignorance .... and ofcourse excuse the fact that this
is a bit off-topic.

We have a problem with shifted geo-objects in shapefiles, the geometry
which is associated with a certain records is the wrong one, so things
are shifted.

Is there any way to restore this? Or are things lost?

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From BEN at Syncera-ITSolutions.NL  Tue Nov 15 11:08:39 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] shifted objects in shapefiles
Message-ID: <s37a1625.048@SRV-POSTIX-DFT>

Hi Ed,

sorry for the confusion, with "shifted" I meant that the shape object of dbf record X seems to be at position X+1, as an example.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl

>>> "Ed McNierney" <ed@topozone.com> 15-11-2005 17:05:38 >>>
Bart -

How do you know they're shifted?  Shapefiles do not store projection
information (it has to be provided externally) and your symptom sounds
(at first glance) to be a projection/datum problem.

You can use shpdump to dump the coordinates of the objects in the
shapefile to examine them manually.  I would first check the projection
info for the shapefile (you can use ogrinfo).

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org 
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Bart van den
Eijnden
Sent: Tuesday, November 15, 2005 10:27 AM
To: gdal-dev@lists.maptools.org 
Subject: [Gdal-dev] shifted objects in shapefiles

Hi list,

first of all, I am not very familiar with shapefile internals, so please
ignore my possible ignorance .... and ofcourse excuse the fact that this
is a bit off-topic.

We have a problem with shifted geo-objects in shapefiles, the geometry
which is associated with a certain records is the wrong one, so things
are shifted.

Is there any way to restore this? Or are things lost?

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl 


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev



From ed at topozone.com  Tue Nov 15 11:19:15 2005
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] shifted objects in shapefiles
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD5AC@ptolemy.topozone.com>

Bart -

Thank - then disregard my advice <g>.  That sounds like a problem in the
creation of the shapefile, or in editing it.

Since you say you're not very familiar with shapefile internals, here's
the one-paragraph tutorial.  A shapefile is three files - .shp, .shx,
and .dbf.  All three files need to stay in sync with each other.  The
.shp file is essentially just a set of coordinates (with a little header
on it).  You can think of it as a long list of X,Y pairs.  Each object
may be represented by 1 pair or by many pairs.  The .shx file is the
index for the .shp file, and it is just a list of pointers into the .shp
file.  The first entry in the .shx file is the index (offset) of the
first coordinate for the first object in the .shp file.  The second
entry in the .shx file is the index of the first coordinate for the
second object in the .shp file.  .shp polygons always close by repeating
the first vertex, so a triangle has four coordinate entries.  If you had
a shapefile with one triangle and one square in it, the .shp file would
have 9 entries in it (4 coordinate pairs for the triangle, 5 for the
square) and the .shx file would have two entries in it - one for each
object.  The first entry in the .shx file would point to coordinate pair
#1 in the .shp file, and the second entry would point to coordinate pair
#5 in the .shp file.  The .dbf file will have the same number of records
as the .shx file, in a one-to-one relationship.  The fifth record in the
.dbf file is the attribute data for the fifth object in the .shx file.
There must be exactly the same number of records in the .shx file and in
the .dbf file.

So - your problem sounds like an extra record got added at the front of
the .dbf file, or one record got deleted at the front of the .shx file,
or something along those lines.  You should use shpdump and dbfdump to
check that there is exactly the same number of records in the .shx and
.dbf files.  Then check on what you know about the source of these
shapefiles.  Some applications are more tolerant of defective shapefiles
than others.  This sounds, however, like a post-creation editing step
causing the problem.  There are many applications that can read/edit
.dbf files as simple database tables, so it is certainly possible for
something to happen to the .dbf file to cause it to get out of sync with
the .shx file.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com

-----Original Message-----
From: Bart van den Eijnden [mailto:BEN@Syncera-ITSolutions.NL] 
Sent: Tuesday, November 15, 2005 11:09 AM
To: gdal-dev@lists.maptools.org; Ed McNierney
Subject: RE: [Gdal-dev] shifted objects in shapefiles

Hi Ed,

sorry for the confusion, with "shifted" I meant that the shape object of
dbf record X seems to be at position X+1, as an example.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl

>>> "Ed McNierney" <ed@topozone.com> 15-11-2005 17:05:38 >>>
Bart -

How do you know they're shifted?  Shapefiles do not store projection
information (it has to be provided externally) and your symptom sounds
(at first glance) to be a projection/datum problem.

You can use shpdump to dump the coordinates of the objects in the
shapefile to examine them manually.  I would first check the projection
info for the shapefile (you can use ogrinfo).

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Bart van den
Eijnden
Sent: Tuesday, November 15, 2005 10:27 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] shifted objects in shapefiles

Hi list,

first of all, I am not very familiar with shapefile internals, so please
ignore my possible ignorance .... and ofcourse excuse the fact that this
is a bit off-topic.

We have a problem with shifted geo-objects in shapefiles, the geometry
which is associated with a certain records is the wrong one, so things
are shifted.

Is there any way to restore this? Or are things lost?

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl 


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev



From sgillies at frii.com  Tue Nov 15 11:36:27 2005
From: sgillies at frii.com (Sean Gillies)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] shifted objects in shapefiles
In-Reply-To: <s37a1625.048@SRV-POSTIX-DFT>
References: <s37a1625.048@SRV-POSTIX-DFT>
Message-ID: <8F3C399B-E2BB-4142-A4B8-E06914F00D51@frii.com>

Bart,

Any chance that the shapefile's dbf has been edited by hand? Is it  
missing a header row? Anomalous row added by accident?

Sean

On Nov 15, 2005, at 9:08 AM, Bart van den Eijnden wrote:

> Hi Ed,
>
> sorry for the confusion, with "shifted" I meant that the shape  
> object of dbf record X seems to be at position X+1, as an example.
>
> Best regards,
> Bart
>
> Bart van den Eijnden
> Syncera IT Solutions
> Postbus 270
> 2600 AG  DELFT
>


---
Sean Gillies
sgillies at frii dot com
http://zcologia.com/news




From BEN at Syncera-ITSolutions.NL  Tue Nov 15 11:43:38 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] shifted objects in shapefiles
Message-ID: <s37a1e55.095@SRV-POSTIX-DFT>

I checked with shpdump and dbfdump, both files have 1629 records.

The files have been edited using MapObjects, so there is continuous editing going on in these files.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl

>>> Sean Gillies <sgillies@frii.com> 15-11-2005 17:36 >>>
Bart,

Any chance that the shapefile's dbf has been edited by hand? Is it  
missing a header row? Anomalous row added by accident?

Sean

On Nov 15, 2005, at 9:08 AM, Bart van den Eijnden wrote:

> Hi Ed,
>
> sorry for the confusion, with "shifted" I meant that the shape  
> object of dbf record X seems to be at position X+1, as an example.
>
> Best regards,
> Bart
>
> Bart van den Eijnden
> Syncera IT Solutions
> Postbus 270
> 2600 AG  DELFT
>


---
Sean Gillies
sgillies at frii dot com
http://zcologia.com/news 






From ed at topozone.com  Tue Nov 15 12:06:14 2005
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] shifted objects in shapefiles
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD5AE@ptolemy.topozone.com>

Bart -

Sean and I are both distinguishing between editing of the shapefiles (as
MapObjects would do) and editing of the .dbf files (which you could do
in Excel, or any low-end database program).  A shapefile editor is less
likely to do strange things.

If you have the same number of records, then there must be another
problem at the other end.  If I read your description right, the
attributes in the first record of the .dbf file should go with the
second record in the .shx/.shp file.  If that's the case, and the number
of records is the same, then the last record in the .dbf file shouldn't
have any .shx record to match it.  What's in the last record?

     - Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Bart van den
Eijnden
Sent: Tuesday, November 15, 2005 11:44 AM
To: sgillies@frii.com
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] shifted objects in shapefiles

I checked with shpdump and dbfdump, both files have 1629 records.

The files have been edited using MapObjects, so there is continuous
editing going on in these files.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl

>>> Sean Gillies <sgillies@frii.com> 15-11-2005 17:36 >>>
Bart,

Any chance that the shapefile's dbf has been edited by hand? Is it
missing a header row? Anomalous row added by accident?

Sean

On Nov 15, 2005, at 9:08 AM, Bart van den Eijnden wrote:

> Hi Ed,
>
> sorry for the confusion, with "shifted" I meant that the shape object 
> of dbf record X seems to be at position X+1, as an example.
>
> Best regards,
> Bart
>
> Bart van den Eijnden
> Syncera IT Solutions
> Postbus 270
> 2600 AG  DELFT
>


---
Sean Gillies
sgillies at frii dot com
http://zcologia.com/news 





_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From matt.wilkie at gov.yk.ca  Tue Nov 15 14:05:59 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <002301c5e973$339c9da0$0501a8c0@vaio>
References: <002301c5e973$339c9da0$0501a8c0@vaio>
Message-ID: <437A3197.1000403@gov.yk.ca>

Hi all,

Speaking as a user, I'd be delighted to have ArcLibrarian support, 
though regions are more important, for us that is.

The ./info directory is shared for all coverages and grids in the 
workspace, I would think that treating the workspace as the master data 
container would lead to less problems in the long run -- because then 
the mental (and application) model will more closely align with the source.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From ricardd at mathstat.dal.ca  Tue Nov 15 14:49:49 2005
From: ricardd at mathstat.dal.ca (ricardd@mathstat.dal.ca)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Generating a geotiff from netcdf with gdal_translate
Message-ID: <15176.142.176.61.245.1132084189.squirrel@142.176.61.245>

Hello gdal-dev,
I'm very new to gdal so please cope with my ignorance.

I have a netcdf file of bathymetry that I use in GMT. I'd like to generate
a geotiff version of the same data. There was an earlier posting on this
list that suggested that gdal_translate can do this. However, I keep
getting a segmentation fault when I invoke the command:

> gdal_translate -a_srs 'EPSG:4326' bathymetry.grd outfile.tif

Could the gurus point out what's wrong with the above? Am I missing some
configuration to get gdal and netcdf to talk to each other?

I'm running GDAL 1.2.6.0 and netcdf 3.5.0-7.1 on Ubuntu breezy.
Cheers,

Dan



From cees at pcraster.nl  Tue Nov 15 15:23:07 2005
From: cees at pcraster.nl (Cees Wesseling)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] notes on EHdr 
In-Reply-To: <931f8ea90511140725k6a53d65dv3ec0c0dd00a267e6@mail.gmail.com>
References: <4377AEC8.2090909@pcraster.nl>
	<931f8ea90511140725k6a53d65dv3ec0c0dd00a267e6@mail.gmail.com>
Message-ID: <437A43AB.30502@pcraster.nl>

Some Notes on EHdr driver

Frank,
I put my notes on the dev list. Maybe other can comment on the point I 
make here.
Regards,
Cees

1) types of the cell

There seems to be a difference in the common practice of using data that 
can be read/write with the EHdr driver and the documentation as present on
http://downloads.esri.com/support/whitepapers/other_/eximgav.pdf
and
http://www1.gsi.go.jp/geowww/globalmap-gsi/gtopo30/README.html
Both do only mention integers, leaving the signed-ness unspecified and 
do not mention floats.
Common practice seems however to do:
NBITS    GDT
8        GDT_Byte
16       GDT_Int16
32       GDT_Float32
64       GDT_Float64

The current GDAL driver seems to support common practice.

To add to the confusion I have seen applications looking for the keyword 
LSBFIRST and MSBFIRST to determine the type is actually float. But that 
stems from the ESRI .flt format for binary grids

I do not know how common 32 bits integers are in these format. But if so 
there is a danger there in confusion. Since some application simply 
assumes a float if they see NBITS 32.

Maybe that ambiguity should be solved with an option whether the driver 
must support floats yes or no. Or refactor into 2 drivers with a common 
code base, one with support the other not.

To create unambiguous data and support more types even, we could 
introduce a new keyword CELLTYPE. The documentation leaves room for 
adding keyword since they are recognized or treated as comments.
We could use the names as defined in C99 stdint.h: int8,int16,int32,int64,
uint8,..,uint64 and of course float and double

2) Missing keywords on creation
XDIM
YDIM
ULXMAP
ULYMAP
CELLSIZE (not in the docs but common practice)
NODATA (not in the docs but common practice)

3) Statistic file
Applications are also using the file (.stx) to store the min and max of 
floats as in: band no 1 (the only band) has min 0.0 and max 3.4
1 0.0 3.4

4) some GDAL docs fixes
formats_list.html
  EHdr  Create No -> Yes
frmt_various.html#EHdr:
"GDAL supports the ESRI .hdr labelling format for reading raw raster data
(often referred to as ESRI BIL format) for read-only access."
"Eight, sixteen and thirty-two bit integer raster data types are supported "
Not true it can currently create GDT_Byte, GDT_Float32, GDT_UInt16, 
GDT_Int16
the url to GTOPO30 is out of date, must read:
  http://www1.gsi.go.jp/geowww/globalmap-gsi/gtopo30/README.html




-- 
Cees Wesseling
PCRaster Environmental Software
van Swindenstraat 97
3514 XP Utrecht
The Netherlands
Tel. 0031-(0)30-238012-4 (-5 Fax)

From Matthew.Foster at noaa.gov  Tue Nov 15 15:52:00 2005
From: Matthew.Foster at noaa.gov (Matt Foster)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Generating a geotiff from netcdf with gdal_translate
In-Reply-To: <15176.142.176.61.245.1132084189.squirrel@142.176.61.245>
References: <15176.142.176.61.245.1132084189.squirrel@142.176.61.245>
Message-ID: <437A4A70.2060002@noaa.gov>

Dan,

I have a *little* experience using gdal_translate on netCDF.  I would 
highly recommend upgrading your gdal.  I had problems with seg faults on 
version 1.3.0, and had to pull the source from CVS to alleviate the 
problem.  Perhaps the 1.3.1 release would do OK for you.

Matt


ricardd@mathstat.dal.ca wrote:

>Hello gdal-dev,
>I'm very new to gdal so please cope with my ignorance.
>
>I have a netcdf file of bathymetry that I use in GMT. I'd like to generate
>a geotiff version of the same data. There was an earlier posting on this
>list that suggested that gdal_translate can do this. However, I keep
>getting a segmentation fault when I invoke the command:
>
>  
>
>>gdal_translate -a_srs 'EPSG:4326' bathymetry.grd outfile.tif
>>    
>>
>
>Could the gurus point out what's wrong with the above? Am I missing some
>configuration to get gdal and netcdf to talk to each other?
>
>I'm running GDAL 1.2.6.0 and netcdf 3.5.0-7.1 on Ubuntu breezy.
>Cheers,
>
>Dan
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>  
>

-- 
"Well, I screwed it up real good, didn't I?"
-- Richard M. Nixon


From rsignell at usgs.gov  Tue Nov 15 16:24:25 2005
From: rsignell at usgs.gov (Rich Signell)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Generating a geotiff from netcdf with gdal_translate
In-Reply-To: <15176.142.176.61.245.1132084189.squirrel@142.176.61.245>
References: <15176.142.176.61.245.1132084189.squirrel@142.176.61.245>
Message-ID: <437A5209.4060406@usgs.gov>

Dan,

Converting GMT grid to Geotif works fine for me, even with GDAL 1.2.6

-Rich

[rsignell@ricsigdtlx nonc]$ gdal_translate --version
GDAL 1.2.6.0, released 2005/03/13


[rsignell@ricsigdtlx nonc]$ gdal_translate -a_srs 'EPSG:4326' 
gom15.grd samp.tif
Input file size is 2041, 1561
0...10...20...30...40...50...60...70...80...90...100 - done.


[rsignell@ricsigdtlx nonc]$ grdinfo gom15.grd
gom15.grd: Title: surface
gom15.grd: Command: surface gom15.xyz -R/-71.5/-63/39.5/46/ 
-Ggom.grd -C0.1 -A0.73 -I0.25m -T0.35 -V
gom15.grd: Remark:
gom15.grd: Normal node registration used
gom15.grd: grdfile format # 0
gom15.grd: x_min: -71.5 x_max: -63 x_inc: 0.00416667 units: 
user_x_unit nx: 2041
gom15.grd: y_min: 39.5 y_max: 46 y_inc: 0.00416667 units: 
user_y_unit ny: 1561
gom15.grd: z_min: -5194.7 z_max: 1872.88 units: user_z_unit
gom15.grd: scale_factor: 1 add_offset: 0

[rsignell@ricsigdtlx nonc]$ gdalinfo samp.tif
Driver: GTiff/GeoTIFF
Size is 2041, 1561
Coordinate System is:
GEOGCS["WGS 84",
     DATUM["WGS_1984",
         SPHEROID["WGS 84",6378137,298.2572235629972,
             AUTHORITY["EPSG","7030"]],
         AUTHORITY["EPSG","6326"]],
     PRIMEM["Greenwich",0],
     UNIT["degree",0.0174532925199433],
     AUTHORITY["EPSG","4326"]]
Origin = (-71.500000,46.000000)
Pixel Size = (0.00416463,-0.00416400)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  ( -71.5000000,  46.0000000) ( 71d30'0.00"W, 46d 0'0.00"N)
Lower Left  ( -71.5000000,  39.5000000) ( 71d30'0.00"W, 39d30'0.00"N)
Upper Right ( -63.0000000,  46.0000000) ( 63d 0'0.00"W, 46d 0'0.00"N)
Lower Right ( -63.0000000,  39.5000000) ( 63d 0'0.00"W, 39d30'0.00"N)
Center      ( -67.2500000,  42.7500000) ( 67d15'0.00"W, 42d45'0.00"N)
Band 1 Block=2041x1 Type=Float32, ColorInterp=Gray


ricardd@mathstat.dal.ca wrote:
> Hello gdal-dev,
> I'm very new to gdal so please cope with my ignorance.
> 
> I have a netcdf file of bathymetry that I use in GMT. I'd like to generate
> a geotiff version of the same data. There was an earlier posting on this
> list that suggested that gdal_translate can do this. However, I keep
> getting a segmentation fault when I invoke the command:
> 
> 
>>gdal_translate -a_srs 'EPSG:4326' bathymetry.grd outfile.tif
> 
> 
> Could the gurus point out what's wrong with the above? Am I missing some
> configuration to get gdal and netcdf to talk to each other?
> 
> I'm running GDAL 1.2.6.0 and netcdf 3.5.0-7.1 on Ubuntu breezy.
> Cheers,
> 
> Dan
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

-- 
Richard P. Signell
U.S. Geological Survey       Phone: (508) 457-2229
384 Woods Hole Road          Fax:   (508) 457-2310
Woods Hole, MA  02543-1598

From jluis at ualg.pt  Tue Nov 15 17:47:02 2005
From: jluis at ualg.pt (jluis)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Generating a geotiff from netcdf with gdal_translate
In-Reply-To: <437A5209.4060406@usgs.gov>
References: <15176.142.176.61.245.1132084189.squirrel@142.176.61.245>
	<437A5209.4060406@usgs.gov>
Message-ID: <437A6566.3000609@ualg.pt>

Hi,

When using GMT grids remember that GDAL does not treat correctly GMT grids with grid
registraction

> Dan,
> 
> Converting GMT grid to Geotif works fine for me, even with GDAL 1.2.6
> 
> -Rich
> 
> [rsignell@ricsigdtlx nonc]$ gdal_translate --version
> GDAL 1.2.6.0, released 2005/03/13
> 
> 

> gom15.grd: x_min: -71.5 x_max: -63 x_inc: 0.00416667 units: user_x_unit 
> nx: 2041
> gom15.grd: y_min: 39.5 y_max: 46 y_inc: 0.00416667 units: user_y_unit 
> ny: 1561


> Pixel Size = (0.00416463,-0.00416400)

Notice how x_inc & y_inc difer from Pixel size

I reported that before but the bug (796 in Bugzilla) is still open

J. Luis

From chrisg at biology.usu.edu  Tue Nov 15 18:20:03 2005
From: chrisg at biology.usu.edu (Chris Garrard)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Error compiling on Solaris 10 with GeoExpress SDK
Message-ID: <B89F79C2B2CCFD4D9183A60092A975361D7D9B@bioserver.biology.usu.edu>

Hello,

I'm trying to compile GDAL 1.3.1 on Solaris 10.  It works great until I
try and compile in the GeoExpress SDK.  The LizardTech downloads page
says it works with Solaris 8 and 9 and gcc 3.2.3.  I'm using gcc 3.4.4.
Has anyone else tried this, or know if the problem is with my compiler
version or the OS version?

Here is the error I'm getting:

g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so -L/opt/csw/src
/opt/csw/lib/libproj.so -L/opt/csw/extras/Geo_DSDK-5.0.6.955/lib/Release
-L/opt/csw/extras/Geo_DSDK-5.0.6.955/3rd-party/lib/Release -lltidsdk
-lpthread -lltikdu /opt/csw/lib/libjasper.so -ljpeg -lrt -ldl
-L/opt/csw/lib -L/opt/csw/mysql4/lib/mysql
/opt/csw/mysql4/lib/mysql/libmysqlclient.so -lz -lposix4 -lc -lgen
-lsocket -lnsl -lssl -lcrypto -Wl,-R -Wl,/opt/csw/lib -Wl,-R
-Wl,/opt/csw/mysql4/lib/mysql
Undefined                       first referenced
 symbol                             in file
std::__default_alloc_template<true, 0>::deallocate(void*, unsigned
int)../.libs/libgdal.so
std::basic_string<char, std::char_traits<char>, std::allocator<char>
>::_M_check(unsigned int) const../.libs/libgdal.so
std::basic_string<char, std::char_traits<char>, std::allocator<char>
>::_S_empty_rep_storage../.libs/libgdal.so
std::allocator<char>::allocate(unsigned int, void
const*)../.libs/libgdal.so
std::__default_alloc_template<true, 0>::allocate(unsigned
int)../.libs/libgdal.so
std::basic_string<char, std::char_traits<char>, std::allocator<char>
>::_Rep::_S_create(unsigned int, std::allocator<char>
const&)../.libs/libgdal.so
ld: fatal: Symbol referencing errors. No output written to .libs/ogrinfo
collect2: ld returned 1 exit status
gmake[1]: *** [ogrinfo] Error 1
gmake[1]: Leaving directory `/opt/csw/extras/gdal-1.3.1/ogr'
gmake: *** [ogr-apps] Error 2

Thanks,
Chris


From warmerdam at pobox.com  Tue Nov 15 18:56:01 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Error compiling on Solaris 10 with GeoExpress SDK
In-Reply-To: <B89F79C2B2CCFD4D9183A60092A975361D7D9B@bioserver.biology.usu.edu>
References: <B89F79C2B2CCFD4D9183A60092A975361D7D9B@bioserver.biology.usu.edu>
Message-ID: <931f8ea90511151556of6d19d5m84f3449cc7b84100@mail.gmail.com>

On 11/15/05, Chris Garrard <chrisg@biology.usu.edu> wrote:
> Hello,
>
> I'm trying to compile GDAL 1.3.1 on Solaris 10.  It works great until I
> try and compile in the GeoExpress SDK.  The LizardTech downloads page
> says it works with Solaris 8 and 9 and gcc 3.2.3.  I'm using gcc 3.4.4.
> Has anyone else tried this, or know if the problem is with my compiler
> version or the OS version?
>
> Here is the error I'm getting:
>
> g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so -L/opt/csw/src
> /opt/csw/lib/libproj.so -L/opt/csw/extras/Geo_DSDK-5.0.6.955/lib/Release
> -L/opt/csw/extras/Geo_DSDK-5.0.6.955/3rd-party/lib/Release -lltidsdk
> -lpthread -lltikdu /opt/csw/lib/libjasper.so -ljpeg -lrt -ldl
> -L/opt/csw/lib -L/opt/csw/mysql4/lib/mysql
> /opt/csw/mysql4/lib/mysql/libmysqlclient.so -lz -lposix4 -lc -lgen
> -lsocket -lnsl -lssl -lcrypto -Wl,-R -Wl,/opt/csw/lib -Wl,-R
> -Wl,/opt/csw/mysql4/lib/mysql
> Undefined                       first referenced
>  symbol                             in file
> std::__default_alloc_template<true, 0>::deallocate(void*, unsigned
> int)../.libs/libgdal.so
> std::basic_string<char, std::char_traits<char>, std::allocator<char>
> >::_M_check(unsigned int) const../.libs/libgdal.so
> std::basic_string<char, std::char_traits<char>, std::allocator<char>
> >::_S_empty_rep_storage../.libs/libgdal.so
> std::allocator<char>::allocate(unsigned int, void
> const*)../.libs/libgdal.so
> std::__default_alloc_template<true, 0>::allocate(unsigned
> int)../.libs/libgdal.so
> std::basic_string<char, std::char_traits<char>, std::allocator<char>
> >::_Rep::_S_create(unsigned int, std::allocator<char>
> const&)../.libs/libgdal.so
> ld: fatal: Symbol referencing errors. No output written to .libs/ogrinfo
> collect2: ld returned 1 exit status
> gmake[1]: *** [ogrinfo] Error 1
> gmake[1]: Leaving directory `/opt/csw/extras/gdal-1.3.1/ogr'
> gmake: *** [ogr-apps] Error 2

Chris,

This is a common issue with the GeoExpress SDK.  You
either need to compile with a very close version of the compiler
(ie. gcc 3.2.x) or you need for force linking against multiple
c++ support libraries.  Try searching back for posts from Bill
Binko on how to do this in the gdal-dev mailing list archive.

I always just make sure I use the "right" version of the compiler,
even when I have to build it from source (a bit of a hassle).

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rsheykhet at sanz.com  Tue Nov 15 19:17:53 2005
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Error compiling on Solaris 10 with GeoExpress SDK
Message-ID: <ED3A48B9840E594890A2BC172D1194650474E973@mailman.san.com>

Chris, 


At least on Linux, there were separate DSDK builds for different GCC
compiler versions.  Make sure that you've downloaded the right one.  I
do not have a login on the site so I cannot verify that the "right"
version is available for download.  You might have to ask them to post
one.

Rostic


-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Chris Garrard
Sent: Tuesday, November 15, 2005 4:20 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Error compiling on Solaris 10 with GeoExpress SDK

Hello,

I'm trying to compile GDAL 1.3.1 on Solaris 10.  It works great until I
try and compile in the GeoExpress SDK.  The LizardTech downloads page
says it works with Solaris 8 and 9 and gcc 3.2.3.  I'm using gcc 3.4.4.
Has anyone else tried this, or know if the problem is with my compiler
version or the OS version?

Here is the error I'm getting:

g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so -L/opt/csw/src
/opt/csw/lib/libproj.so -L/opt/csw/extras/Geo_DSDK-5.0.6.955/lib/Release
-L/opt/csw/extras/Geo_DSDK-5.0.6.955/3rd-party/lib/Release -lltidsdk
-lpthread -lltikdu /opt/csw/lib/libjasper.so -ljpeg -lrt -ldl
-L/opt/csw/lib -L/opt/csw/mysql4/lib/mysql
/opt/csw/mysql4/lib/mysql/libmysqlclient.so -lz -lposix4 -lc -lgen
-lsocket -lnsl -lssl -lcrypto -Wl,-R -Wl,/opt/csw/lib -Wl,-R
-Wl,/opt/csw/mysql4/lib/mysql
Undefined                       first referenced
 symbol                             in file
std::__default_alloc_template<true, 0>::deallocate(void*, unsigned
int)../.libs/libgdal.so
std::basic_string<char, std::char_traits<char>, std::allocator<char>
>::_M_check(unsigned int) const../.libs/libgdal.so
std::basic_string<char, std::char_traits<char>, std::allocator<char>
>::_S_empty_rep_storage../.libs/libgdal.so
std::allocator<char>::allocate(unsigned int, void
const*)../.libs/libgdal.so
std::__default_alloc_template<true, 0>::allocate(unsigned
int)../.libs/libgdal.so
std::basic_string<char, std::char_traits<char>, std::allocator<char>
>::_Rep::_S_create(unsigned int, std::allocator<char>
const&)../.libs/libgdal.so
ld: fatal: Symbol referencing errors. No output written to .libs/ogrinfo
collect2: ld returned 1 exit status
gmake[1]: *** [ogrinfo] Error 1
gmake[1]: Leaving directory `/opt/csw/extras/gdal-1.3.1/ogr'
gmake: *** [ogr-apps] Error 2

Thanks,
Chris

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From jmcm at euskalnet.net  Wed Nov 16 01:14:34 2005
From: jmcm at euskalnet.net (Juan Mari Celihueta)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <931f8ea90511140920y5cef14b7w754e425f7be2e6ea@mail.gmail.com>
References: <20051111145644.29831.qmail@web60422.mail.yahoo.com>
	<4378657A.8060706@euskalnet.net>
	<931f8ea90511140920y5cef14b7w754e425f7be2e6ea@mail.gmail.com>
Message-ID: <437ACE4A.3070307@euskalnet.net>

So, nobody had problems compiling gdal 1.3.1 under Solaris 8? Is gdal 
1.3.1 tested under this platform?

Regards.

Juan M.

Frank Warmerdam escribi?:

>On 11/14/05, Juan Mari Celihueta <jmcm@euskalnet.net> wrote:
>  
>
>>I continue with the same problem. I added the prefix you indicated, and
>>I also tried as root, but I get exactly the same error message.
>>
>>I hope someone can help me.
>>    
>>
>
>Juan,
>
>It seems you are running into some funky problem with
>the linker and/or libtool's handling of shared libraries.  I
>have no idea how to fix things.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>  
>


From tflynch at gmail.com  Wed Nov 16 01:37:03 2005
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Warping an ecw
In-Reply-To: <003c01c5e9e7$ddcec540$6501a8c0@black>
References: <20051112145322.GD18076@asklater.com>
	<931f8ea90511140719s1d034c2dnf47d0a3855eaa515@mail.gmail.com>
	<003c01c5e9e7$ddcec540$6501a8c0@black>
Message-ID: <c39b2a650511152237m758e741ev48bf000d41129125@mail.gmail.com>

On 11/15/05, David McKenzie <davidmck@austin.rr.com> wrote:
<snip>
> I had been intending to report a similar problem I encountered with ECW SDK
> v3.3 RC1 (and possibly an earlier version). GDAL's RasterIO() fails on the
> second band when reading multiple bands in succession -- but only if the
> window width is *larger* than 4000 pixels. I found that I could resolve the
> problem by initializing a variable, m_nNextLine, in function
> CNCSJP2FileView::SetView(). In file NCSJP2FileView.cpp (line 940) you might
> try replacing
<snip>

Hi David, Frank and Steve,

I've made a note of the problem you're reporting and your suggested
patch David.  It looks as if it may be related to the 4000x4000
limitation imposed on cachable view size.  I will attempt to reproduce
it and add it to the open bug list if I can.

David, if you can forward me additional information about your
operating environment it would be much appreciated.

Incidentally I was able to repeat the problem that Frank found and
have been looking for a fix, but I don't believe this is a symptom of
the same issue.

cheers

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From ari.jolma at tkk.fi  Wed Nov 16 02:43:21 2005
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <002301c5e973$339c9da0$0501a8c0@vaio>
References: <002301c5e973$339c9da0$0501a8c0@vaio>
Message-ID: <437AE319.8030603@tkk.fi>

Seems like the obvious solution is to write a new driver: "Arc/Info 
Binary Coverage B"?

I have very little experience with a/i binary coverages. Is there any 
way (even non-ogr but non a/i) to read librarian and image catalog data now?

Ari

Craig Miller kirjoitti:

>Matt,
>
>A coverage contains one data layer, along with different types of topology.
>These would all continue to be accessible if the Workspace was considered
>the datasource.  They would all have the same name, but a different type
>attribute.  Perhaps we would have to append something to the coverage name
>to make it clear since OGIS (and as a result OGR) doesn't support as many
>types as the Arc Coverage model, but rather maps some of the types to a
>simple feature.  A name such as <layer> <type> would work.  For example,
>"Streams (ARC)".  This appears to be more intuitive, informative, unique,
>and closer to the true name of the coverage that always using "ARC".
>
>The workspace is also where the attribute database is stored and it contains
>information such as Librarian data and Image Catalog data.  Right now, there
>is no way to add support for Librarian to the driver (which is actually
>where I started looking at this).
>
>I was thinking that regions will continue to be supported with a name such
>as <layername> - <region> <type>.  For example "Streams -
>Lake_Wenatchee_Basin (region)"
>
>I'm still pretty confident that the two data models map perfectly onto each
>other with exception to the fact that OGIS/OGR have smaller set of supported
>layer types.  Naming conventions seems like an easy way to work around this
>and still preserve the simple features nature of the OGR library.
>
>--Craig
>
>
>-----Original Message-----
>From: Matthew Perry [mailto:perrygeo@gmail.com] 
>Sent: Monday, November 14, 2005 2:52 PM
>To: Craig Miller
>Cc: Gdal-Dev
>Subject: Re: [Gdal-dev] Arc Binary Coverages
>
>Craig,
>
>  There are good reasons to treat the coverage, rather than the workspace,
>as the dataset. The biggest reason is that a coverage contains multiple data
>layers (tics,lines, centroids, polygons or points, etc). In addition
>ArcInfo's regions data model allows you to store many spatially-related
>layers within a single coverage.
>
>If the workspace were the dataset and the coverage were the layer, there
>would be no way to get at the region layers (or tics, or any of the other
>supporting spatial data) within the coverage.
>
>I happen to work with regions occasionally so I'm very thankful for the way
>OGR handles ArcInfo Coverages! ;-)
>
>matt
>
>On 11/14/05, Craig Miller <craig.miller@spatialminds.com> wrote:
>  
>
>>
>>Is there a reason why the Arc Binary Coverage driver uses the Coverage 
>>directory instead of the Workspace that is traditionally used in Arc/Info?
>>
>>
>>
>>E.g. I would have expected to pass a directory to the workspace like 
>>/data/county and receive back a list of coverages in that workspace such
>>    
>>
>as:
>  
>
>>
>>Lakes - Type:Polygon
>>
>>Lakes - Type:Point (Polygon Labels)
>>
>>Lakes - Type:Linestring (Polygon boundary with line topology built)
>>
>>Roads - Type:Linestring
>>
>>Etc.
>>
>>
>>
>>Instead it asks for a path to the coverage /data/county/lakes and 
>>returns layers named things such as ARC.
>>
>>
>>
>>
>>
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>
>>    
>>
>
>
>--
>Matt Perry
>perrygeo@gmail.com
>http://www.perrygeo.net
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>  
>


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From craig.miller at spatialminds.com  Wed Nov 16 03:51:20 2005
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <437AE319.8030603@tkk.fi>
Message-ID: <001301c5ea8a$ea411f50$0401a8c0@vaio>

 I'm not sure about librarian, but image catalog data is stored in the info
database.  Infolib allows you to work with info databases directly and has
been around since around 1990.  I'm not sure of the status of it these days
though.

--Craig


-----Original Message-----
From: Ari Jolma [mailto:ari.jolma@tkk.fi] 
Sent: Tuesday, November 15, 2005 11:43 PM
To: Craig Miller
Cc: 'Matthew Perry'; 'Gdal-Dev'
Subject: Re: [Gdal-dev] Arc Binary Coverages

Seems like the obvious solution is to write a new driver: "Arc/Info Binary
Coverage B"?

I have very little experience with a/i binary coverages. Is there any way
(even non-ogr but non a/i) to read librarian and image catalog data now?

Ari

Craig Miller kirjoitti:

>Matt,
>
>A coverage contains one data layer, along with different types of topology.
>These would all continue to be accessible if the Workspace was 
>considered the datasource.  They would all have the same name, but a 
>different type attribute.  Perhaps we would have to append something to 
>the coverage name to make it clear since OGIS (and as a result OGR) 
>doesn't support as many types as the Arc Coverage model, but rather 
>maps some of the types to a simple feature.  A name such as <layer> 
><type> would work.  For example, "Streams (ARC)".  This appears to be 
>more intuitive, informative, unique, and closer to the true name of the
coverage that always using "ARC".
>
>The workspace is also where the attribute database is stored and it 
>contains information such as Librarian data and Image Catalog data.  
>Right now, there is no way to add support for Librarian to the driver 
>(which is actually where I started looking at this).
>
>I was thinking that regions will continue to be supported with a name 
>such as <layername> - <region> <type>.  For example "Streams - 
>Lake_Wenatchee_Basin (region)"
>
>I'm still pretty confident that the two data models map perfectly onto 
>each other with exception to the fact that OGIS/OGR have smaller set of 
>supported layer types.  Naming conventions seems like an easy way to 
>work around this and still preserve the simple features nature of the OGR
library.
>
>--Craig
>
>
>-----Original Message-----
>From: Matthew Perry [mailto:perrygeo@gmail.com]
>Sent: Monday, November 14, 2005 2:52 PM
>To: Craig Miller
>Cc: Gdal-Dev
>Subject: Re: [Gdal-dev] Arc Binary Coverages
>
>Craig,
>
>  There are good reasons to treat the coverage, rather than the 
>workspace, as the dataset. The biggest reason is that a coverage 
>contains multiple data layers (tics,lines, centroids, polygons or 
>points, etc). In addition ArcInfo's regions data model allows you to 
>store many spatially-related layers within a single coverage.
>
>If the workspace were the dataset and the coverage were the layer, 
>there would be no way to get at the region layers (or tics, or any of 
>the other supporting spatial data) within the coverage.
>
>I happen to work with regions occasionally so I'm very thankful for the 
>way OGR handles ArcInfo Coverages! ;-)
>
>matt
>
>On 11/14/05, Craig Miller <craig.miller@spatialminds.com> wrote:
>  
>
>>
>>Is there a reason why the Arc Binary Coverage driver uses the Coverage 
>>directory instead of the Workspace that is traditionally used in Arc/Info?
>>
>>
>>
>>E.g. I would have expected to pass a directory to the workspace like 
>>/data/county and receive back a list of coverages in that workspace 
>>such
>>    
>>
>as:
>  
>
>>
>>Lakes - Type:Polygon
>>
>>Lakes - Type:Point (Polygon Labels)
>>
>>Lakes - Type:Linestring (Polygon boundary with line topology built)
>>
>>Roads - Type:Linestring
>>
>>Etc.
>>
>>
>>
>>Instead it asks for a path to the coverage /data/county/lakes and 
>>returns layers named things such as ARC.
>>
>>
>>
>>
>>
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>
>>    
>>
>
>
>--
>Matt Perry
>perrygeo@gmail.com
>http://www.perrygeo.net
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>  
>


--
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics Teknillinen
Korkeakoulu / Helsinki University of Technology POBox 1200, 02015 TKK,
Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma




From Martin.Spott at mgras.net  Wed Nov 16 04:46:10 2005
From: Martin.Spott at mgras.net (Martin Spott)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Error compiling on Solaris 10 with GeoExpress SDK
References: <B89F79C2B2CCFD4D9183A60092A975361D7D9B@bioserver.biology.usu.edu>
Message-ID: <dlev52$14cu$1@osprey.mgras.de>

"Chris Garrard" wrote:

> g++ ogrinfo.o -o .libs/ogrinfo  ../.libs/libgdal.so -L/opt/csw/src
> /opt/csw/lib/libproj.so -L/opt/csw/extras/Geo_DSDK-5.0.6.955/lib/Release
> -L/opt/csw/extras/Geo_DSDK-5.0.6.955/3rd-party/lib/Release -lltidsdk
> -lpthread -lltikdu /opt/csw/lib/libjasper.so -ljpeg -lrt -ldl
> -L/opt/csw/lib -L/opt/csw/mysql4/lib/mysql
> /opt/csw/mysql4/lib/mysql/libmysqlclient.so -lz -lposix4 -lc -lgen
> -lsocket -lnsl -lssl -lcrypto -Wl,-R -Wl,/opt/csw/lib -Wl,-R
> -Wl,/opt/csw/mysql4/lib/mysql
> Undefined                       first referenced
>  symbol                             in file
> std::__default_alloc_template<true, 0>::deallocate(void*, unsigned int	../.libs/libgdal.so
[....]

Please add  -lstdc++  to the linker command line and try again.

Regards,
	Martin.
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------

From ari.jolma at tkk.fi  Wed Nov 16 07:29:18 2005
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <001301c5ea8a$ea411f50$0401a8c0@vaio>
References: <001301c5ea8a$ea411f50$0401a8c0@vaio>
Message-ID: <437B261E.8020500@tkk.fi>

Craig Miller kirjoitti:

> I'm not sure about librarian, but image catalog data is stored in the info
>database.  Infolib allows you to work with info databases directly and has
>been around since around 1990.  I'm not sure of the status of it these days
>though.
>  
>

I found this: http://www.epa.gov/Region10/dbf2info.html#contents by 
this: 
http://www.intevation.de/pipermail/freegis-list/2001-February/000268.html 
but the links to the actual software are dead. Is the image catalog data 
vital somehow? In some info-dirs of our data I see a lot of *.nit and 
*.dat files but some of those are read by ogr?

Ari

>--Craig
>
>
>-----Original Message-----
>From: Ari Jolma [mailto:ari.jolma@tkk.fi] 
>Sent: Tuesday, November 15, 2005 11:43 PM
>To: Craig Miller
>Cc: 'Matthew Perry'; 'Gdal-Dev'
>Subject: Re: [Gdal-dev] Arc Binary Coverages
>
>Seems like the obvious solution is to write a new driver: "Arc/Info Binary
>Coverage B"?
>
>I have very little experience with a/i binary coverages. Is there any way
>(even non-ogr but non a/i) to read librarian and image catalog data now?
>
>Ari
>
>Craig Miller kirjoitti:
>
>  
>
>>Matt,
>>
>>A coverage contains one data layer, along with different types of topology.
>>These would all continue to be accessible if the Workspace was 
>>considered the datasource.  They would all have the same name, but a 
>>different type attribute.  Perhaps we would have to append something to 
>>the coverage name to make it clear since OGIS (and as a result OGR) 
>>doesn't support as many types as the Arc Coverage model, but rather 
>>maps some of the types to a simple feature.  A name such as <layer> 
>><type> would work.  For example, "Streams (ARC)".  This appears to be 
>>more intuitive, informative, unique, and closer to the true name of the
>>    
>>
>coverage that always using "ARC".
>  
>
>>The workspace is also where the attribute database is stored and it 
>>contains information such as Librarian data and Image Catalog data.  
>>Right now, there is no way to add support for Librarian to the driver 
>>(which is actually where I started looking at this).
>>
>>I was thinking that regions will continue to be supported with a name 
>>such as <layername> - <region> <type>.  For example "Streams - 
>>Lake_Wenatchee_Basin (region)"
>>
>>I'm still pretty confident that the two data models map perfectly onto 
>>each other with exception to the fact that OGIS/OGR have smaller set of 
>>supported layer types.  Naming conventions seems like an easy way to 
>>work around this and still preserve the simple features nature of the OGR
>>    
>>
>library.
>  
>
>>--Craig
>>
>>
>>-----Original Message-----
>>From: Matthew Perry [mailto:perrygeo@gmail.com]
>>Sent: Monday, November 14, 2005 2:52 PM
>>To: Craig Miller
>>Cc: Gdal-Dev
>>Subject: Re: [Gdal-dev] Arc Binary Coverages
>>
>>Craig,
>>
>> There are good reasons to treat the coverage, rather than the 
>>workspace, as the dataset. The biggest reason is that a coverage 
>>contains multiple data layers (tics,lines, centroids, polygons or 
>>points, etc). In addition ArcInfo's regions data model allows you to 
>>store many spatially-related layers within a single coverage.
>>
>>If the workspace were the dataset and the coverage were the layer, 
>>there would be no way to get at the region layers (or tics, or any of 
>>the other supporting spatial data) within the coverage.
>>
>>I happen to work with regions occasionally so I'm very thankful for the 
>>way OGR handles ArcInfo Coverages! ;-)
>>
>>matt
>>
>>On 11/14/05, Craig Miller <craig.miller@spatialminds.com> wrote:
>> 
>>
>>    
>>
>>>Is there a reason why the Arc Binary Coverage driver uses the Coverage 
>>>directory instead of the Workspace that is traditionally used in Arc/Info?
>>>
>>>
>>>
>>>E.g. I would have expected to pass a directory to the workspace like 
>>>/data/county and receive back a list of coverages in that workspace 
>>>such
>>>   
>>>
>>>      
>>>
>>as:
>> 
>>
>>    
>>
>>>Lakes - Type:Polygon
>>>
>>>Lakes - Type:Point (Polygon Labels)
>>>
>>>Lakes - Type:Linestring (Polygon boundary with line topology built)
>>>
>>>Roads - Type:Linestring
>>>
>>>Etc.
>>>
>>>
>>>
>>>Instead it asks for a path to the coverage /data/county/lakes and 
>>>returns layers named things such as ARC.
>>>
>>>
>>>
>>>
>>>
>>>
>>>_______________________________________________
>>>Gdal-dev mailing list
>>>Gdal-dev@lists.maptools.org
>>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>>>
>>>
>>>   
>>>
>>>      
>>>
>>--
>>Matt Perry
>>perrygeo@gmail.com
>>http://www.perrygeo.net
>>
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>> 
>>
>>    
>>
>
>
>--
>Prof. Ari Jolma
>Kartografia ja Geoinformatiikka / Cartography and Geoinformatics Teknillinen
>Korkeakoulu / Helsinki University of Technology POBox 1200, 02015 TKK,
>Finland
>Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma
>
>
>
>  
>


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From neteler at itc.it  Wed Nov 16 07:49:21 2005
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <437B261E.8020500@tkk.fi>
References: <001301c5ea8a$ea411f50$0401a8c0@vaio> <437B261E.8020500@tkk.fi>
Message-ID: <20051116124921.GE31148@thuille.itc.it>

On Wed, Nov 16, 2005 at 02:29:18PM +0200, Ari Jolma wrote:
> Craig Miller kirjoitti:
> 
> >I'm not sure about librarian, but image catalog data is stored in the info
> >database.  Infolib allows you to work with info databases directly and has
> >been around since around 1990.  I'm not sure of the status of it these days
> >though.
> > 
> >
> 
> I found this: http://www.epa.gov/Region10/dbf2info.html#contents by 
> this: 
> http://www.intevation.de/pipermail/freegis-list/2001-February/000268.html 
> but the links to the actual software are dead.


You may try this:

http://web.archive.org/web/20020802025730/http://www.epa.gov/r10earth/dbf2info.html

In the archive the link to " The full source release is available in compressed"
works (gzip doesn't).

Markus


> Is the image catalog data 
> vital somehow? In some info-dirs of our data I see a lot of *.nit and 
> *.dat files but some of those are read by ogr?
> 
> Ari
> 
> >--Craig
> >
> >
> >-----Original Message-----
> >From: Ari Jolma [mailto:ari.jolma@tkk.fi] 
> >Sent: Tuesday, November 15, 2005 11:43 PM
> >To: Craig Miller
> >Cc: 'Matthew Perry'; 'Gdal-Dev'
> >Subject: Re: [Gdal-dev] Arc Binary Coverages
> >
> >Seems like the obvious solution is to write a new driver: "Arc/Info Binary
> >Coverage B"?
> >
> >I have very little experience with a/i binary coverages. Is there any way
> >(even non-ogr but non a/i) to read librarian and image catalog data now?
> >
> >Ari
> >
> >Craig Miller kirjoitti:
> >
> > 
> >
> >>Matt,
> >>
> >>A coverage contains one data layer, along with different types of 
> >>topology.
> >>These would all continue to be accessible if the Workspace was 
> >>considered the datasource.  They would all have the same name, but a 
> >>different type attribute.  Perhaps we would have to append something to 
> >>the coverage name to make it clear since OGIS (and as a result OGR) 
> >>doesn't support as many types as the Arc Coverage model, but rather 
> >>maps some of the types to a simple feature.  A name such as <layer> 
> >><type> would work.  For example, "Streams (ARC)".  This appears to be 
> >>more intuitive, informative, unique, and closer to the true name of the
> >>   
> >>
> >coverage that always using "ARC".
> > 
> >
> >>The workspace is also where the attribute database is stored and it 
> >>contains information such as Librarian data and Image Catalog data.  
> >>Right now, there is no way to add support for Librarian to the driver 
> >>(which is actually where I started looking at this).
> >>
> >>I was thinking that regions will continue to be supported with a name 
> >>such as <layername> - <region> <type>.  For example "Streams - 
> >>Lake_Wenatchee_Basin (region)"
> >>
> >>I'm still pretty confident that the two data models map perfectly onto 
> >>each other with exception to the fact that OGIS/OGR have smaller set of 
> >>supported layer types.  Naming conventions seems like an easy way to 
> >>work around this and still preserve the simple features nature of the OGR
> >>   
> >>
> >library.
> > 
> >
> >>--Craig
> >>
> >>
> >>-----Original Message-----
> >>From: Matthew Perry [mailto:perrygeo@gmail.com]
> >>Sent: Monday, November 14, 2005 2:52 PM
> >>To: Craig Miller
> >>Cc: Gdal-Dev
> >>Subject: Re: [Gdal-dev] Arc Binary Coverages
> >>
> >>Craig,
> >>
> >>There are good reasons to treat the coverage, rather than the 
> >>workspace, as the dataset. The biggest reason is that a coverage 
> >>contains multiple data layers (tics,lines, centroids, polygons or 
> >>points, etc). In addition ArcInfo's regions data model allows you to 
> >>store many spatially-related layers within a single coverage.
> >>
> >>If the workspace were the dataset and the coverage were the layer, 
> >>there would be no way to get at the region layers (or tics, or any of 
> >>the other supporting spatial data) within the coverage.
> >>
> >>I happen to work with regions occasionally so I'm very thankful for the 
> >>way OGR handles ArcInfo Coverages! ;-)
> >>
> >>matt
> >>
> >>On 11/14/05, Craig Miller <craig.miller@spatialminds.com> wrote:
> >>
> >>
> >>   
> >>
> >>>Is there a reason why the Arc Binary Coverage driver uses the Coverage 
> >>>directory instead of the Workspace that is traditionally used in 
> >>>Arc/Info?
> >>>
> >>>
> >>>
> >>>E.g. I would have expected to pass a directory to the workspace like 
> >>>/data/county and receive back a list of coverages in that workspace 
> >>>such
> >>>  
> >>>
> >>>     
> >>>
> >>as:
> >>
> >>
> >>   
> >>
> >>>Lakes - Type:Polygon
> >>>
> >>>Lakes - Type:Point (Polygon Labels)
> >>>
> >>>Lakes - Type:Linestring (Polygon boundary with line topology built)
> >>>
> >>>Roads - Type:Linestring
> >>>
> >>>Etc.
> >>>
> >>>
> >>>
> >>>Instead it asks for a path to the coverage /data/county/lakes and 
> >>>returns layers named things such as ARC.
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>_______________________________________________
> >>>Gdal-dev mailing list
> >>>Gdal-dev@lists.maptools.org
> >>>http://lists.maptools.org/mailman/listinfo/gdal-dev
> >>>
> >>>
> >>>  
> >>>
> >>>     
> >>>
> >>--
> >>Matt Perry
> >>perrygeo@gmail.com
> >>http://www.perrygeo.net
> >>
> >>
> >>_______________________________________________
> >>Gdal-dev mailing list
> >>Gdal-dev@lists.maptools.org
> >>http://lists.maptools.org/mailman/listinfo/gdal-dev
> >>
> >>
> >>   
> >>
> >
> >
> >--
> >Prof. Ari Jolma
> >Kartografia ja Geoinformatiikka / Cartography and Geoinformatics 
> >Teknillinen
> >Korkeakoulu / Helsinki University of Technology POBox 1200, 02015 TKK,
> >Finland
> >Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma
> >
> >
> >
> > 
> >
> 
> 
> -- 
> Prof. Ari Jolma
> Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
> Teknillinen Korkeakoulu / Helsinki University of Technology
> POBox 1200, 02015 TKK, Finland
> Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma
> 
> 

-- 
Markus Neteler     <neteler itc it>       http://mpa.itc.it
ITC-irst -  Centro per la Ricerca Scientifica e Tecnologica
MPBA - Predictive Models for Biol. & Environ. Data Analysis
Via Sommarive, 18        -       38050 Povo (Trento), Italy

From sholl at gmx.net  Wed Nov 16 07:51:53 2005
From: sholl at gmx.net (Stephan Holl)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
Message-ID: <20051116135153.242e4445@localhost>

Dear List,

I am trying to force OGR to read layer-information out of
oracle-spatial on a remote maschine.
With reference to the oracle-specific site[1] I tried the given example
and adopted to my needs, but it did not work.

ogrinfo -ro OCI:user/pw@192.168.1.199
Unable to open datasource `OCI' with the following drivers.
[...]

which gave me an error. When I am on the localhost-maschine, where
oracle is installed, everything works nicely and I get the list of
layers.

Since I am no oracle-guru (first installation) I am wondering if I need
to configure oracle to accept conncetions from within the internal
network and from other maschines. Perhaps someone can give me a hint
where to look at.

TIA for any pointers.

Best
	Stephan


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051116/c6fb8354/signature.bin
From BEN at Syncera-ITSolutions.NL  Wed Nov 16 08:20:05 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
Message-ID: <s37b401b.085@SRV-POSTIX-DFT>

Hi Stephan,

AFAIK Oracle accepts connections from within the same network by default. Is port 1521 not blocked by a firewall by any chance? Can you telnet to it? I had problems with the Windows XP firewall when trying to connect to an Oracle database in my internal network.

If you have a full Oracle client installed, there is a utility called tnsping which you can use to try and ping the database server.

Otherwise, try and use a tnsnames.ora file. Make sure you have the environment variable TNS_ADMIN set to the directory in which the tnsnames.ora file resides. You then connect using user/pwd@tnsname.

Example tnsnames.ora file:

PORCL =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = P0676)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = PORCL)
    )
  )

Hope this helps.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl
>>> Stephan Holl <sholl@gmx.net> 11/16/05 1:51 PM >>>
Dear List,

I am trying to force OGR to read layer-information out of
oracle-spatial on a remote maschine.
With reference to the oracle-specific site[1] I tried the given example
and adopted to my needs, but it did not work.

ogrinfo -ro OCI:user/pw@192.168.1.199
Unable to open datasource `OCI' with the following drivers.
[...]

which gave me an error. When I am on the localhost-maschine, where
oracle is installed, everything works nicely and I get the list of
layers.

Since I am no oracle-guru (first installation) I am wondering if I need
to configure oracle to accept conncetions from within the internal
network and from other maschines. Perhaps someone can give me a hint
where to look at.

TIA for any pointers.

Best
	Stephan





From warmerdam at pobox.com  Wed Nov 16 09:16:00 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <437ACE4A.3070307@euskalnet.net>
References: <20051111145644.29831.qmail@web60422.mail.yahoo.com>
	<4378657A.8060706@euskalnet.net>
	<931f8ea90511140920y5cef14b7w754e425f7be2e6ea@mail.gmail.com>
	<437ACE4A.3070307@euskalnet.net>
Message-ID: <931f8ea90511160616s2fe13aacj1632b01423d5b2@mail.gmail.com>

On 11/16/05, Juan Mari Celihueta <jmcm@euskalnet.net> wrote:
> So, nobody had problems compiling gdal 1.3.1 under Solaris 8? Is gdal
> 1.3.1 tested under this platform?

Juan,

I do not test on Solaris before releases as I have no
access.  In any event, problems on Solaris are often
related to "bash" dependencies in the configure scripts
of GDAL, or ideosyncracies in the way the build toolchain
is setup on the system.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From sholl at gmx.net  Wed Nov 16 09:26:29 2005
From: sholl at gmx.net (Stephan Holl)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
In-Reply-To: <s37b401b.084@SRV-POSTIX-DFT>
References: <s37b401b.084@SRV-POSTIX-DFT>
Message-ID: <20051116152629.48ecade1@localhost>

Hello Bart, 

On Wed, 16 Nov 2005 14:20:05 +0100 "Bart van den Eijnden"
<BEN@Syncera-ITSolutions.NL> wrote:

> Hi Stephan,
> 
> AFAIK Oracle accepts connections from within the same network by
> default. Is port 1521 not blocked by a firewall by any chance? Can
> you telnet to it? I had problems with the Windows XP firewall when
> trying to connect to an Oracle database in my internal network.

I can telnet to the oracle-port 1521. Everything should be OK.
 
> If you have a full Oracle client installed, there is a utility called
> tnsping which you can use to try and ping the database server.

No I do not have the full client installed. Perhaps I should grab them
from oracle and retry.

> 
> Otherwise, try and use a tnsnames.ora file. Make sure you have the
> environment variable TNS_ADMIN set to the directory in which the
> tnsnames.ora file resides. You then connect using user/pwd@tnsname.
> 
> Example tnsnames.ora file:
> 
> PORCL =
>   (DESCRIPTION =
>     (ADDRESS_LIST =
>       (ADDRESS = (PROTOCOL = TCP)(HOST = P0676)(PORT = 1521))
>     )
>     (CONNECT_DATA =
>       (SERVER = DEDICATED)
>       (SERVICE_NAME = PORCL)
>     )
>   )

OK, thanks for the pointer, but still no luck.
export TNS_ADMIN=/home/holl/software/oracle
cat /home/holl/software/oracle/tnsnames.ora
ORACLESP =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.1.4)(PORT =
1521)) )
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = oraclesp)
    )
  )

ogrinfo OCI:user/pw@oraclesp
FAILURE:
Unable to open datasource `OCI:user/pw@oraclesp' with the
following drivers. -> ESRI Shapefile
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> MapInfo File
  -> DGN
  -> VRT
  -> AVCBin
  -> REC
  -> Memory
  -> CSV
  -> GML
  -> SQLite
  -> ODBC
  -> PGeo
  -> OGDI
  -> PostgreSQL
  -> OCI
  -> GRASS

?!

Best
	Stephan

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051116/b4df49be/signature.bin
From warmerdam at pobox.com  Wed Nov 16 09:27:21 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
In-Reply-To: <20051116135153.242e4445@localhost>
References: <20051116135153.242e4445@localhost>
Message-ID: <931f8ea90511160627o5e76f469w7c7031ca207502c3@mail.gmail.com>

On 11/16/05, Stephan Holl <sholl@gmx.net> wrote:
> Dear List,
>
> I am trying to force OGR to read layer-information out of
> oracle-spatial on a remote maschine.
> With reference to the oracle-specific site[1] I tried the given example
> and adopted to my needs, but it did not work.
>
> ogrinfo -ro OCI:user/pw@192.168.1.199
> Unable to open datasource `OCI' with the following drivers.
> [...]
>
> which gave me an error. When I am on the localhost-maschine, where
> oracle is installed, everything works nicely and I get the list of
> layers.
>
> Since I am no oracle-guru (first installation) I am wondering if I need
> to configure oracle to accept conncetions from within the internal
> network and from other maschines. Perhaps someone can give me a hint
> where to look at.

Stepan,

At the risk of stating the obvious, are you confident that your
OGR build includes Oracle support?  This can be checked with
"ogrinfo --formats" which should list OCI.

I haven't done much with cross machine oracle access, so
I have no comments on that.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From BEN at Syncera-ITSolutions.NL  Wed Nov 16 09:37:07 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
Message-ID: <s37b522c.002@SRV-POSTIX-DFT>

Are you able to connect with sqlplus?

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl
>>> Stephan Holl <sholl@gmx.net> 11/16/05 3:26 PM >>>
Hello Bart, 

On Wed, 16 Nov 2005 14:20:05 +0100 "Bart van den Eijnden"
<BEN@Syncera-ITSolutions.NL> wrote:

> Hi Stephan,
> 
> AFAIK Oracle accepts connections from within the same network by
> default. Is port 1521 not blocked by a firewall by any chance? Can
> you telnet to it? I had problems with the Windows XP firewall when
> trying to connect to an Oracle database in my internal network.

I can telnet to the oracle-port 1521. Everything should be OK.
 
> If you have a full Oracle client installed, there is a utility called
> tnsping which you can use to try and ping the database server.

No I do not have the full client installed. Perhaps I should grab them
from oracle and retry.

> 
> Otherwise, try and use a tnsnames.ora file. Make sure you have the
> environment variable TNS_ADMIN set to the directory in which the
> tnsnames.ora file resides. You then connect using user/pwd@tnsname.
> 
> Example tnsnames.ora file:
> 
> PORCL =
>   (DESCRIPTION =
>     (ADDRESS_LIST =
>       (ADDRESS = (PROTOCOL = TCP)(HOST = P0676)(PORT = 1521))
>     )
>     (CONNECT_DATA =
>       (SERVER = DEDICATED)
>       (SERVICE_NAME = PORCL)
>     )
>   )

OK, thanks for the pointer, but still no luck.
export TNS_ADMIN=/home/holl/software/oracle
cat /home/holl/software/oracle/tnsnames.ora
ORACLESP =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.1.4)(PORT =
1521)) )
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = oraclesp)
    )
  )

ogrinfo OCI:user/pw@oraclesp
FAILURE:
Unable to open datasource `OCI:user/pw@oraclesp' with the
following drivers. -> ESRI Shapefile
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> MapInfo File
  -> DGN
  -> VRT
  -> AVCBin
  -> REC
  -> Memory
  -> CSV
  -> GML
  -> SQLite
  -> ODBC
  -> PGeo
  -> OGDI
  -> PostgreSQL
  -> OCI
  -> GRASS

?!

Best
	Stephan




From davidmck at austin.rr.com  Wed Nov 16 09:42:26 2005
From: davidmck at austin.rr.com (David McKenzie)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Warping an ecw
References: <20051112145322.GD18076@asklater.com>
	<931f8ea90511140719s1d034c2dnf47d0a3855eaa515@mail.gmail.com>
	<003c01c5e9e7$ddcec540$6501a8c0@black>
	<c39b2a650511152237m758e741ev48bf000d41129125@mail.gmail.com>
Message-ID: <002901c5eabb$f97d75a0$6501a8c0@black>

Hi Tom,

Tom Lynch wrote:
>
> I've made a note of the problem you're reporting and your suggested
> patch David.  It looks as if it may be related to the 4000x4000
> limitation imposed on cachable view size.  I will attempt to reproduce
> it and add it to the open bug list if I can.
>
> David, if you can forward me additional information about your
> operating environment it would be much appreciated.
> ...

Basically I'm using the project file, libecwj2_win32_net_static.vcproj 
supplied with the SDK, to create libecwj2S.lib that I statically link to my 
Windows-based viewer program. The library is accessed via the GDAL (approx 
v1.3.1) function, ECWRasterBand::IRasterIO(), in ecwdataset.cpp. When 
reading a band, CNCSJP2FileView::SetView() is called once (with the width 
being relevant here) followed by successive calls to ReadLineBIL() to read 
pixel rows. You'll see that only when width>4000 (m_bTiledView==true) is the 
variable m_nNextLine incremented for each row. The problem is that when 
ReadLineBIL() is first called for the *second* band, m_nNextLine is not zero 
and a check of its range at the start of the function fails.

This is surely a problem introduced in the latest SDK version since it would 
apparently break many programs that process large chunks of data, including 
utilities like gdal_translate and gdalwarp. In case it helps to see what's 
affected, I've uploaded two small ECW files, one 3386x132x3 and the other 
4120x132x3:

http://www.utexas.edu/tmm/sponsored_sites/tss/Walls/temp/test_narrow.ecw
http://www.utexas.edu/tmm/sponsored_sites/tss/Walls/temp/test_wide.ecw

Thanks for the quick reply.

--David 


From assefa at dmsolutions.ca  Wed Nov 16 10:17:32 2005
From: assefa at dmsolutions.ca (Yewondwossen Assefa)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] myql build on windows problem
Message-ID: <437B4D8C.8000502@dmsolutions.ca>

Hi There,

  I was trying to build the OGR mysql extension using MS Visual .net 
2003. I am getting errors that I am not able to correct. Does someone 
had these errors previuosly and know what the problem might be.

Thanks :

Here is my configuation :
   - gdal 1.3.1
   - mysql 4.1.7

Here is the what I get :

  D:\projects\gdal-1.3.1\ogr\ogrsf_frmts>cd mysql   && nmake /NOLOGO /f 
makefile.vc   && cd ..
	cl /nologo /MD /GX /Zi /Fd..\..\..\gdal.pdb -I..\..\..\port 
-I..\..\..\ogr -I..\..\..\gcore  -I..\..\..\alg -I.. -I..\.. 
-Id:\projects\mysql-4.1.7\include /c ogrmysqllayer.cpp
ogrmysqllayer.cpp
d:\projects\gdal-1.3.1\port\cpl_config.h(37) : warning C4005: 
'HAVE_FLOAT_H' : macro redefinition
         d:\projects\mysql-4.1.7\include\config-win.h(287) : see 
previous definition of 'HAVE_FLOAT_H'
C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\xutility(168) : error C2766: explicit specialization; 
'std::iterator_traits<std::_Bool>' has already been defined
C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\xutility(335) : error C2084: function 
'std::_Scalar_ptr_iterator_tag std::_Ptr_cat(std::_Bool *,std::_Bool *)' 
already has a body
         C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\xutility(245) : see previous definition of '_Ptr_cat'
C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\xutility(341) : error C2084: function 
'std::_Scalar_ptr_iterator_tag std::_Ptr_cat(const std::_Bool 
*,std::_Bool *)' already has a body
         C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\xutility(251) : see previous definition of '_Ptr_cat'
C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(228) : error C2535: 
'std::basic_ostream<_Elem,_Traits>::_Myt 
&std::basic_ostream<_Elem,_Traits>::operator <<(std::_Bool)' : member 
function already defined or declared
         C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(154) : see declaration of 
'std::basic_ostream<_Elem,_Traits>::operator`<<''
         C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(545) : see reference to class template 
instantiation 'std::basic_ostream<_Elem,_Traits>' being compiled
C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(228) : error C2535: 
'std::basic_ostream<_Elem,_Traits>::_Myt 
&std::basic_ostream<_Elem,_Traits>::operator <<(std::_Bool)' : member 
function already defined or declared
         with
         [
             _Elem=wchar_t,
             _Traits=std::char_traits<wchar_t>
         ]
         C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(154) : see declaration of 
'std::basic_ostream<_Elem,_Traits>::operator`<<''
         with
         [
             _Elem=wchar_t,
             _Traits=std::char_traits<wchar_t>
         ]
         C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(561) : see reference to class template 
instantiation 'std::basic_ostream<_Elem,_Traits>' being compiled
         with
         [
             _Elem=wchar_t,
             _Traits=std::char_traits<wchar_t>
         ]
C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(228) : error C2535: 
'std::basic_ostream<_Elem,_Traits>::_Myt 
&std::basic_ostream<_Elem,_Traits>::operator <<(std::_Bool)' : member 
function already defined or declared
         with
         [
             _Elem=char,
             _Traits=std::char_traits<char>
         ]
         C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(154) : see declaration of 
'std::basic_ostream<_Elem,_Traits>::operator`<<''
         with
         [
             _Elem=char,
             _Traits=std::char_traits<char>
         ]
         C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(603) : see reference to class template 
instantiation 'std::basic_ostream<_Elem,_Traits>' being compiled
         with
         [
             _Elem=char,
             _Traits=std::char_traits<char>
         ]
C:\Program Files\Microsoft Visual Studio .NET 
2003\Vc7\include\ostream(604) : fatal error C1903: unable to recover 
from previous error(s); stopping compilation


-- 
----------------------------------------------------------------
Assefa Yewondwossen
Software Analyst

Email: assefa@dmsolutions.ca
http://www.dmsolutions.ca/

Phone: (613) 565-5056 (ext 14)
Fax:   (613) 565-0925
----------------------------------------------------------------


From sholl at gmx.net  Wed Nov 16 10:25:04 2005
From: sholl at gmx.net (Stephan Holl)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
In-Reply-To: <s37b522c.001@SRV-POSTIX-DFT>
References: <s37b522c.001@SRV-POSTIX-DFT>
Message-ID: <20051116162504.0944cb91@localhost>

Hello Bart, 

On Wed, 16 Nov 2005 15:37:07 +0100 "Bart van den Eijnden"
<BEN@Syncera-ITSolutions.NL> wrote:

> Are you able to connect with sqlplus?
> 

Yes, using the instant.client packages which I recently installed.

holl@bim:~/instantclient10_1 > ./sqlplus holl@ORACLESP

SQL*Plus: Release 10.1.0.4.0 - Production on Wed Nov 16 16:13:39 2005

Copyright (c) 1982, 2005, Oracle.  All rights reserved.

Enter password:

Connected to:
Oracle Database 10g Enterprise Edition Release 10.1.0.3.0 - Production
With the Partitioning, OLAP and Data Mining options

SQL> quit
Disconnected from Oracle Database 10g Enterprise Edition Release
10.1.0.3.0 - Production With the Partitioning, OLAP and Data Mining
options holl@bim:~/instantclient10_1 >

So OGR should work the same, but actually it does not....

mhhh.

Best regards,

	Stephan
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051116/d7092867/signature.bin
From Ken.Boss at dnr.state.mn.us  Wed Nov 16 10:30:27 2005
From: Ken.Boss at dnr.state.mn.us (Ken Boss)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
Message-ID: <s37afc62.017@co5.dnr.state.mn.us>

>>> Juan Mari Celihueta <jmcm@euskalnet.net> 11/16/2005 12:14:34 AM >>>
>So, nobody had problems compiling gdal 1.3.1 under Solaris 8? Is gdal 
>1.3.1 tested under this platform?
>
>Regards.
>
>Juan M.

Juan--

I had similar problems in the past.  I don't recall the details now, but I did find that changing from a mixed gnu/Solaris build environment to a strictly gnu environment (gcc, gnu make, gnu binutils) resolved the problems.  At the time I made the switch there were unresolved bugs in more recent versions of the binutils on Solaris, so it was necessary to use an older release (2.14) - don't know if that's changed or not.

HTH,

--Ken



From rsignell at usgs.gov  Wed Nov 16 11:13:18 2005
From: rsignell at usgs.gov (Rich Signell)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] problem merging 1 second data with gdal_merge.py
Message-ID: <437B5A9E.3080306@usgs.gov>

Gdal-folk,

I'm having trouble using gday_merge.py to merge blocks of 1 sec 
data obtained as Geotiff from a WMS server.

I have a 1 degree x 0.5 degree region
lon=[-75.0 -74.0], lat=[43.5 44.0] that I want to cover, but 
unfortunately that's too much for the WMS to handle.

So I made requests for two blocks with ranges
[-75.0 -74.5]  [43.5 44.0]
[-74.5 -74.0]  [43.5 44.0]
and requested each image block to be 1800 x 1800 points (since 
this DEM data is Area based).

I check each .tif with gdalinfo, and everything looks good:

$gdalinfo ad01.tif

Driver: GTiff/GeoTIFF
Size is 1800, 1800
...
Pixel Size = (0.00027778,-0.00027778)
Metadata:
   AREA_OR_POINT=Area
   TIFFTAG_SOFTWARE=SGI's Image Format Library/1.2
Corner Coordinates:
Upper Left  ( -75.0000000,  44.0000000)
Lower Left  ( -75.0000000,  43.5000000)
Upper Right ( -74.5000000,  44.0000000)
Lower Right ( -74.5000000,  43.5000000)
Band 1 Block=1800x1 Type=Float32, ColorInterp=Gray

$gdalinfo ad02.tif
...
Upper Left  ( -74.5000000,  44.0000000)
Lower Left  ( -74.5000000,  43.5000000)
Upper Right ( -74.0000000,  44.0000000)
Lower Right ( -74.0000000,  43.5000000)
Band 1 Block=1800x1 Type=Float32, ColorInterp=Gray

But when I merge them:

$gdal_merge.py -o merged.tif ad01.tif ad02.tif

I get:

$gdal_info merged.tif
Driver: GTiff/GeoTIFF
Size is 3599, 1800
...
Origin = (-75.000000,44.000000)
Pixel Size = (0.00027778,-0.00027778)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  ( -75.0000000,  44.0000000)
Lower Left  ( -75.0000000,  43.5000000)
Upper Right ( -74.0002778,  44.0000000)
Lower Right ( -74.0002778,  43.5000000)
Band 1 Block=3599x1 Type=Float32, ColorInterp=Gray

So the resulting tif is NOT 3600x1800, but 3599x1800, and the 
limits are now 1 pixel smaller in the merged direction (do not 
extend to -74 as did the original).

Is this a "area" vs. "point" registration problem in the 
gdal_merge.py logic, or (more likely) have I made some silly mistake?

Thanks,
Rich

-- 
Richard P. Signell
U.S. Geological Survey       Phone: (508) 457-2229
384 Woods Hole Road          Fax:   (508) 457-2310
Woods Hole, MA  02543-1598

From ealpert at digitalglobe.com  Wed Nov 16 11:27:35 2005
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB23306BB52@COMAIL01.digitalglobe.com>



Do an ldd `which ogrinfo`

You should have the Oracle libraries libclntsh.so.x.x and libwtcx.so
linked in if not then there was a problem building ogr note the 'x' is
the version number. I still use 9.0 but can connect to 10g fine.

Also make sure your tnsnames.ora file is correct.

-e

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Stephan Holl
Sent: Wednesday, November 16, 2005 5:52 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Oracle-bindings


Dear List,

I am trying to force OGR to read layer-information out of oracle-spatial
on a remote maschine. With reference to the oracle-specific site[1] I
tried the given example and adopted to my needs, but it did not work.

ogrinfo -ro OCI:user/pw@192.168.1.199
Unable to open datasource `OCI' with the following drivers. [...]

which gave me an error. When I am on the localhost-maschine, where
oracle is installed, everything works nicely and I get the list of
layers.

Since I am no oracle-guru (first installation) I am wondering if I need
to configure oracle to accept conncetions from within the internal
network and from other maschines. Perhaps someone can give me a hint
where to look at.

TIA for any pointers.

Best
	Stephan




From warmerdam at pobox.com  Wed Nov 16 11:51:52 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] problem merging 1 second data with gdal_merge.py
In-Reply-To: <437B5A9E.3080306@usgs.gov>
References: <437B5A9E.3080306@usgs.gov>
Message-ID: <931f8ea90511160851u237c99a8geb806c5510504d61@mail.gmail.com>

On 11/16/05, Rich Signell <rsignell@usgs.gov> wrote:
> So I made requests for two blocks with ranges
> [-75.0 -74.5]  [43.5 44.0]
> [-74.5 -74.0]  [43.5 44.0]
> and requested each image block to be 1800 x 1800 points (since
> this DEM data is Area based).

Rich,

Could you make the two tiles available for me to grab, so I
can try this out?  I suspect it is a roundoff issue in gdal_merge.py.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From matt.wilkie at gov.yk.ca  Wed Nov 16 12:58:17 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <001301c5ea8a$ea411f50$0401a8c0@vaio>
References: <001301c5ea8a$ea411f50$0401a8c0@vaio>
Message-ID: <437B7339.5000702@gov.yk.ca>

Craig Miller wrote:
>  I'm not sure about librarian, but image catalog data is stored in the info
> database.  

Librarian data, or rather the librarian catalog & index to the actual 
data, is a workspace named "database" containing:

* a polygon index cover, akin to what you get from gdaltindex, 
containing the path to each tile workspace and a [P]resent [N]ot-present 
flag for each layer
* a template cover for each layer in the library. The templates have no 
geometry, just the attribute structure and definition. All tiles are 
guaranteed to match the templates (well, unless you create the library 
through the backdoor, but that is a whole other story).

I'd can provide more details and an example for anyone interested in 
pursuing this.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From matt.wilkie at gov.yk.ca  Wed Nov 16 13:02:55 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <20051116124921.GE31148@thuille.itc.it>
References: <001301c5ea8a$ea411f50$0401a8c0@vaio> <437B261E.8020500@tkk.fi>
	<20051116124921.GE31148@thuille.itc.it>
Message-ID: <437B744F.1090109@gov.yk.ca>

>> I found this: http://www.epa.gov/Region10/dbf2info.html#contents by 
>> this: 
>> http://www.intevation.de/pipermail/freegis-list/2001-February/000268.html 
>> but the links to the actual software are dead.
> 
> 
> You may try this:
> 
> http://web.archive.org/web/20020802025730/http://www.epa.gov/r10earth/dbf2info.html
> 
> In the archive the link to " The full source release is available in compressed"
> works (gzip doesn't).

I have windows binaries and the source code for infolib 5.7 should the 
web archive version prove incomplete or something. Which brings up 
another question: is there some code library or catalog where abandoned 
projects like infolib can be placed for future generations?


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From warmerdam at pobox.com  Wed Nov 16 13:31:53 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] problem merging 1 second data with gdal_merge.py
In-Reply-To: <437B7574.3060904@usgs.gov>
References: <437B5A9E.3080306@usgs.gov>
	<931f8ea90511160851u237c99a8geb806c5510504d61@mail.gmail.com>
	<437B7574.3060904@usgs.gov>
Message-ID: <931f8ea90511161031t223561fbhc7ba578fefa75af2@mail.gmail.com>

Rich,

It seems the problem was roundoff related in
the initial computation of the output file size.

If you re-fetch the file it should have a round off fix.

  http://www.gdal.org/srctree/pymod/gdal_merge.py

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From ricardd at mathstat.dal.ca  Wed Nov 16 15:20:24 2005
From: ricardd at mathstat.dal.ca (ricardd@mathstat.dal.ca)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Generating a geotiff from netcdf with gdal_translate
In-Reply-To: <437A4A70.2060002@noaa.gov>
References: <15176.142.176.61.245.1132084189.squirrel@142.176.61.245>
	<437A4A70.2060002@noaa.gov>
Message-ID: <11071.142.176.61.245.1132172424.squirrel@142.176.61.245>

Hello all,
I built version 1.3.1.0 from source and it fixed my problem.

Thanks for the suggestions.

Dan

>
> ricardd@mathstat.dal.ca wrote:
>
>>Hello gdal-dev,
>>I'm very new to gdal so please cope with my ignorance.
>>
>>I have a netcdf file of bathymetry that I use in GMT. I'd like to
>> generate
>>a geotiff version of the same data. There was an earlier posting on this
>>list that suggested that gdal_translate can do this. However, I keep
>>getting a segmentation fault when I invoke the command:
>>
>>
>>
>>>gdal_translate -a_srs 'EPSG:4326' bathymetry.grd outfile.tif
>>>
>>>
>>
>>Could the gurus point out what's wrong with the above? Am I missing some
>>configuration to get gdal and netcdf to talk to each other?
>>
>>I'm running GDAL 1.2.6.0 and netcdf 3.5.0-7.1 on Ubuntu breezy.
>>Cheers,
>>
>>Dan
>>
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>
>>
>
> --
> "Well, I screwed it up real good, didn't I?"
> -- Richard M. Nixon
>



From tim at linfiniti.com  Wed Nov 16 20:03:00 2005
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] GRASS Raster crashes
Message-ID: <437BD6C4.9090709@linfiniti.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi

One of our users is experiencing problems when trying to open two GRASS
datasets simultaneaously. The prblems seems to happen on the gdal side
judging from the stacktrace below. Does this ring any bells for anyone?

I tested on my system using gdal 1.2.6 but I believe it gave the same
problem when using gdal 1.3.x

Many thanks

Tim Sutton

#0  0xb6e56bb7 in xdrmem_create () from /lib/tls/i686/cmov/libc.so.6
(gdb) bt
#0  0xb6e56bb7 in xdrmem_create () from /lib/tls/i686/cmov/libc.so.6
#1  0xb6e56a5d in xdr_float () from /lib/tls/i686/cmov/libc.so.6
#2  0xb56c9bde in G_get_projinfo () from /usr/lib/grass/lib/libgrass_gis.so
#3  0xb56c9d8a in G_get_projinfo () from /usr/lib/grass/lib/libgrass_gis.so
#4  0xb56ca2e5 in G_get_projinfo () from /usr/lib/grass/lib/libgrass_gis.so
#5  0xb56caa52 in G_get_projinfo () from /usr/lib/grass/lib/libgrass_gis.so
#6  0xb56cac9a in G_get_f_raster_row () from
/usr/lib/grass/lib/libgrass_gis.so
#7  0xb538a628 in GRASSRasterBand::IRasterIO () from /usr/lib/gdal_GRASS.so
#8  0xb755b03c in GDALRasterBand::RasterIO () from /usr/lib/libgdal.so.1
#9  0xb70d20f6 in QgsRasterLayer::readData (this=0x86be858,
gdalBand=0x86b64e0,
    viewPort=0x8705018) at qgsrasterlayer.cpp:4444

- --
Tim Sutton (tim at linfiniti.com)

Visit http://qgis.org for a great open source GIS application
Skype : timlinux
Jabber : timlinux@jabber.org
MSN : tim_bdworld@msn.com
ICQ : 245485851
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (GNU/Linux)

iD8DBQFDe9bEWvXTJUo0BDoRAuY+AJ9Rfc/DVHUOJs5xsgCgE4zJB3qINgCeIK/D
8G5DAOdgQdKqpf8XihivYuw=
=RG32
-----END PGP SIGNATURE-----

From sholl at gmx.net  Thu Nov 17 05:12:00 2005
From: sholl at gmx.net (Stephan Holl)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
In-Reply-To: <8B319E5A30FF4A48BE7EEAAF609DB23306BB52@COMAIL01.digitalglobe.com>
References: <8B319E5A30FF4A48BE7EEAAF609DB23306BB52@COMAIL01.digitalglobe.com>
Message-ID: <20051117111200.5d77c528@localhost>

Hello Ethan, 

On Wed, 16 Nov 2005 09:27:35 -0700 "Ethan Alpert"
<ealpert@digitalglobe.com> wrote:

> 
> 
> Do an ldd `which ogrinfo`
> 
> You should have the Oracle libraries libclntsh.so.x.x and libwtcx.so
> linked in if not then there was a problem building ogr note the 'x' is
> the version number. I still use 9.0 but can connect to 10g fine.

I do have libclntsh.so.x.x on my system, but when looking into the
instantclient-dir libwtcx.so is not there. Also a ldd on the ogrinfo
does only show up the libclntsh.so.x.x library.
holl@berlin:~> ldd /usr/local/bin/ogrinfo
        linux-gate.so.1 =>  (0xffffe000)
        libgdal.so.1 => /usr/local/lib/libgdal.so.1 (0x4003c000)
        libgeos.so.2 => /usr/local/lib/libgeos.so.2 (0x404a4000)
        libclntsh.so.10.1 => /projekte/oracle/db/lib/libclntsh.so.10.1
        libnnz10.so => /projekte/oracle/db/lib/libnnz10.so
[...]
holl@berlin:~> 

/projekte/oracle/db/oui/lib/linux/libwtc9.so is available in my
server-installation-dir, but not in my client-folders.

Could that be a problem?

holl@berlin:~> ogrinfo --formats
Loaded OGR Format Drivers:
  -> "GRASS" (readonly)
  -> "ESRI Shapefile" (read/write)
  -> "UK .NTF" (readonly)
  -> "SDTS" (readonly)
  -> "TIGER" (read/write)
  -> "S57" (read/write)
  -> "MapInfo File" (read/write)
  -> "DGN" (read/write)
  -> "VRT" (readonly)
  -> "AVCBin" (readonly)
  -> "REC" (readonly)
  -> "Memory" (read/write)
  -> "CSV" (read/write)
  -> "GML" (read/write)
  -> "ODBC" (read/write)
  -> "PGeo" (readonly)
  -> "PostgreSQL" (read/write)
  -> "OCI" (read/write)
holl@berlin:~> 

so everything seems to be OK.

> 
> Also make sure your tnsnames.ora file is correct.

Double checked now, since the sqlplus-utility uses the same file and
can connect to the instance defined in there smoothly.
?!

Thanks for other hints

Stephan

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051117/cda5b8e4/signature.bin
From jmcm at euskalnet.net  Thu Nov 17 08:28:21 2005
From: jmcm at euskalnet.net (Juan Mari Celihueta)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <20051116163814.20288.qmail@web60411.mail.yahoo.com>
References: <20051116163814.20288.qmail@web60411.mail.yahoo.com>
Message-ID: <437C8575.6040608@euskalnet.net>

Hi, I have partially solved the compilation problems under Solaris 8, 
but now I have found another one.

First, the problem that I had was related to the 'ld' command:

ld: fatal: relocations remain against allocatable but non-writable sections
collect2: ld returned 1 exit status
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory `/home1/MAPSERVER/gdal-1.3.1'
make: *** [check-lib] Error 2

That was because 'make' used a wrong 'ld' although I had GNU ld in the 
'PATH' variable (I guessed it seeing the ./configure process). I solved 
it renaming the wrong 'ld'.

Second, the new compilation problem: During the compilation process, 
after several minutes of hard process, I get the next error message:

(...)
.libs/libgdal.lax/libjasper.a/pgx_enc.o 
.libs/libgdal.lax/libjasper.a/pnm_cod.o 
.libs/libgdal.lax/libjasper.a/pnm_dec.o 
.libs/libgdal.lax/libjasper.a/pnm_enc.o 
.libs/libgdal.lax/libjasper.a/ras_cod.o 
.libs/libgdal.lax/libjasper.a/ras_dec.o 
.libs/libgdal.lax/libjasper.a/ras_enc.o
ranlib .libs/libgdal.a
rm -fr .libs/libgdal.lax
creating libgdal.la
(cd .libs && rm -f libgdal.la && ln -s ../libgdal.la libgdal.la)
make[1]: Leaving directory `/home1/MAPSERVER/SRC/gdal-1.3.1'
(cd swig; make build)
make[1]: Entering directory `/home1/MAPSERVER/SRC/gdal-1.3.1/swig'
for dir in ; do (cd $dir; make build ); done
/bin/sh: syntax error at line 1: `;' unexpected
make[1]: *** [build] Error 2
make[1]: Leaving directory `/home1/MAPSERVER/SRC/gdal-1.3.1/swig'
make: *** [swig-target] Error 2

I use GNU Make 3.80 and GNU ld 2.11.2 under Solaris 8.

I would be glad if somone could tell me something.

Thanks.

Juan M.

Bruce Bill escribi?:

> Please post you error message again, including the configure options 
> you used. Let's see if we can help you with your problem.
> I 've installed gdal1.3.1 on our solaris, I don't have system admin 
> privilege, yet I was able to install it successfully.
> Best,
>
> */Juan Mari Celihueta <jmcm@euskalnet.net>/* wrote:
>
>     So, nobody had problems compiling gdal 1.3.1 under Solaris 8? Is gdal
>     1.3.1 tested under this platform?
>
>     Regards.
>
>     Juan M.
>
>     Frank Warmerdam escribi?:
>
>     >On 11/14/05, Juan Mari Celihueta wrote:
>     >
>     >
>     >>I continue with the same problem. I added the prefix you
>     indicated, and
>     >>I also tried as root, but I get exactly the same error message.
>     >>
>     >>I hope someone can help me.
>     >>
>     >>
>     >
>     >Juan,
>     >
>     >It seems you are running into some funky problem with
>     >the linker and/or libtool's handling of shared libraries. I
>     >have no idea how to fix things.
>     >
>     >Best regards,
>     >--
>


From warmerdam at pobox.com  Thu Nov 17 09:11:34 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <437C8575.6040608@euskalnet.net>
References: <20051116163814.20288.qmail@web60411.mail.yahoo.com>
	<437C8575.6040608@euskalnet.net>
Message-ID: <931f8ea90511170611k3ddc1f62h5149bb1d5ec8a9e5@mail.gmail.com>

On 11/17/05, Juan Mari Celihueta <jmcm@euskalnet.net> wrote:
> (cd swig; make build)
> make[1]: Entering directory `/home1/MAPSERVER/SRC/gdal-1.3.1/swig'
> for dir in ; do (cd $dir; make build ); done
> /bin/sh: syntax error at line 1: `;' unexpected
> make[1]: *** [build] Error 2
> make[1]: Leaving directory `/home1/MAPSERVER/SRC/gdal-1.3.1/swig'
> make: *** [swig-target] Error 2

Juan,

This is a problem with using /bin/sh instead of /bin/bash, well
really I should say the problem is that a "bashism" slipped into the
makefile.

To work around this manually edit gdal/GNUmakefile and change:

swig-target:
	(cd swig; $(MAKE) build)

to:

swig-target:

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From Doug_Newcomb at fws.gov  Thu Nov 17 09:23:17 2005
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Arc Binary Coverages
In-Reply-To: <437B744F.1090109@gov.yk.ca>
Message-ID: <OF431603EE.9123DB9A-ON852570BC.004EE8E4-852570BC.004F095E@fws.gov>



>I have windows binaries and the source code for infolib 5.7 should the
>web archive version prove incomplete or something. Which brings up
>another question: is there some code library or catalog where abandoned
>projects like infolib can be placed for future generations?


Perhaps the folks at maptools.org could be persuaded to be a repository.

Doug

Doug Newcomb
USFWS
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb@fws.gov
---------------------------------------------------------------------------------------------------------

The opinions I express are my own and are not representative of the
official policy of the U.S.Fish and Wildlife Service or Dept. of Interior.
I left my signature file in /dev/null


                                                                           
             Matt Wilkie                                                   
             <matt.wilkie@gov.                                             
             yk.ca>                                                     To 
             Sent by:                  Ari Jolma <ari.jolma@tkk.fi>,       
             gdal-dev-bounces@         "'Gdal-Dev'"                        
             lists.maptools.or         <gdal-dev@lists.maptools.org>       
             g                                                          cc 
                                                                           
                                                                   Subject 
             11/16/2005 01:02          Re: [Gdal-dev] Arc Binary Coverages 
             PM                                                            
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           






--
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev



From ealpert at digitalglobe.com  Thu Nov 17 14:02:55 2005
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Oracle-bindings
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB23306BB58@COMAIL01.digitalglobe.com>



Something just ocurred to me try putting "'s around the connect
string...ie

ogrinfo -ro "OCI:usr/pw@192.168.1.199"

That's how I always do it. 

-e

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Stephan Holl
Sent: Wednesday, November 16, 2005 5:52 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Oracle-bindings


Dear List,

I am trying to force OGR to read layer-information out of oracle-spatial
on a remote maschine. With reference to the oracle-specific site[1] I
tried the given example and adopted to my needs, but it did not work.

ogrinfo -ro OCI:user/pw@192.168.1.199
Unable to open datasource `OCI' with the following drivers. [...]

which gave me an error. When I am on the localhost-maschine, where
oracle is installed, everything works nicely and I get the list of
layers.

Since I am no oracle-guru (first installation) I am wondering if I need
to configure oracle to accept conncetions from within the internal
network and from other maschines. Perhaps someone can give me a hint
where to look at.

TIA for any pointers.

Best
	Stephan




From sholl at gmx.net  Fri Nov 18 05:29:17 2005
From: sholl at gmx.net (Stephan Holl)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] SOLVED: Oracle-bindings
In-Reply-To: <8B319E5A30FF4A48BE7EEAAF609DB23306BB5B@COMAIL01.digitalglobe.com>
References: <8B319E5A30FF4A48BE7EEAAF609DB23306BB5B@COMAIL01.digitalglobe.com>
Message-ID: <20051118112917.08defcc8@localhost>

Hello Ethan, all,

On Thu, 17 Nov 2005 14:11:53 -0700 "Ethan Alpert"
<ealpert@digitalglobe.com> wrote:

> 
> 
> I don't know maybe you can check the configure output. If it needed
> more libs you'd think it wouldn't have compiled or ldd would've had a
> (not found) next to a library in the list of libs linked in.

I copied the whole folder of the instant client again and now,
everything is working... strange. The libs were exactly the same.

So when compiling the bindings, the standard-client with the
header-files is needed.

When using the resulting binary-package at another maschine, the
instant-client-libs are sufficient, as long as the whole folder is used
and the appropriate tnsnames.ora is exported in TNS_ADMIN.

Sorry for any confusion.

Best
	Stephan

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051118/00a36947/signature.bin
From jmcm at euskalnet.net  Fri Nov 18 07:02:27 2005
From: jmcm at euskalnet.net (Juan Mari Celihueta)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <931f8ea90511170611k3ddc1f62h5149bb1d5ec8a9e5@mail.gmail.com>
References: <20051116163814.20288.qmail@web60411.mail.yahoo.com>
	<437C8575.6040608@euskalnet.net>
	<931f8ea90511170611k3ddc1f62h5149bb1d5ec8a9e5@mail.gmail.com>
Message-ID: <437DC2D3.4070906@euskalnet.net>

Hi Frank,

I did what you told me and te 'make' compilation process was well.

Then I entered as root and did the instalation process:

# make install

And after a few seconds the process stopped, getting the next set of 
error messages:

GNUmakefile:44: warning: overriding commands for target `libgdal.la'
GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
GNUmakefile:44: warning: overriding commands for target `libgdal.la'
GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
make[2]: swig: Command not found
make[2]: *** [gdal_wrap.cpp] Error 127
make[2]: swig: Command not found
make[2]: *** [gdal_wrap.cpp] Error 127
/bin/sh: syntax error at line 1: `;' unexpected
make[1]: *** [install] Error 2
make: *** [install-actions] Error 2

I guess that it's because of the lack of the 'swig' compilation.

Best regards,

Juan.

------------------------------------------------------------
I set the wheels in motion
turn up all the machines
activate the programs
and run behind the scene
Rush
(I'm also a Rush fan :-D )

Frank Warmerdam escribi?:

>On 11/17/05, Juan Mari Celihueta <jmcm@euskalnet.net> wrote:
>  
>
>>(cd swig; make build)
>>make[1]: Entering directory `/home1/MAPSERVER/SRC/gdal-1.3.1/swig'
>>for dir in ; do (cd $dir; make build ); done
>>/bin/sh: syntax error at line 1: `;' unexpected
>>make[1]: *** [build] Error 2
>>make[1]: Leaving directory `/home1/MAPSERVER/SRC/gdal-1.3.1/swig'
>>make: *** [swig-target] Error 2
>>    
>>
>
>Juan,
>
>This is a problem with using /bin/sh instead of /bin/bash, well
>really I should say the problem is that a "bashism" slipped into the
>makefile.
>
>To work around this manually edit gdal/GNUmakefile and change:
>
>swig-target:
>	(cd swig; $(MAKE) build)
>
>to:
>
>swig-target:
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>  
>


From bartvde at xs4all.nl  Fri Nov 18 09:07:13 2005
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] OCI driver and precision
Message-ID: <437DE011.9060901@xs4all.nl>

Hi list,

just reporting something back to the list for future reference.

When trying to insert a shapefile into Oracle using ogr2ogr I got:

ERROR 1: ORA-01438: value larger than specified precision allowed for 
this column in OCIStmtExecute

and no data would got inserted.

I could solve this by using the PRECISION layer create option, i.e. -LCO 
PRECISION=NO

Best regards,
Bart

From warmerdam at pobox.com  Fri Nov 18 09:59:43 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <437DC2D3.4070906@euskalnet.net>
References: <20051116163814.20288.qmail@web60411.mail.yahoo.com>
	<437C8575.6040608@euskalnet.net>
	<931f8ea90511170611k3ddc1f62h5149bb1d5ec8a9e5@mail.gmail.com>
	<437DC2D3.4070906@euskalnet.net>
Message-ID: <931f8ea90511180659k75e73e03j8f652bdd3914d33d@mail.gmail.com>

On 11/18/05, Juan Mari Celihueta <jmcm@euskalnet.net> wrote:
> Hi Frank,
>
> I did what you told me and te 'make' compilation process was well.
>
> Then I entered as root and did the instalation process:
>
> # make install
>
> And after a few seconds the process stopped, getting the next set of
> error messages:
>
> GNUmakefile:44: warning: overriding commands for target `libgdal.la'
> GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
> GNUmakefile:44: warning: overriding commands for target `libgdal.la'
> GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
> make[2]: swig: Command not found
> make[2]: *** [gdal_wrap.cpp] Error 127
> make[2]: swig: Command not found
> make[2]: *** [gdal_wrap.cpp] Error 127
> /bin/sh: syntax error at line 1: `;' unexpected
> make[1]: *** [install] Error 2
> make: *** [install-actions] Error 2
>
> I guess that it's because of the lack of the 'swig' compilation.

Juan,

Sorry about this.  If you search through the GNUmakefile,
you should find a target called "install-actions".  One of the
lines after it will be "(cd swig; $(MAKE) install)".  Just
delete that line.

I think I'm going to have to issue a GDAL 1.3.2 pretty soon
so not too many others run into this problem.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jmcm at euskalnet.net  Fri Nov 18 12:07:48 2005
From: jmcm at euskalnet.net (Juan Mari Celihueta)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Gdal compilation problems in Solaris 8
In-Reply-To: <931f8ea90511180659k75e73e03j8f652bdd3914d33d@mail.gmail.com>
References: <20051116163814.20288.qmail@web60411.mail.yahoo.com>
	<437C8575.6040608@euskalnet.net>
	<931f8ea90511170611k3ddc1f62h5149bb1d5ec8a9e5@mail.gmail.com>
	<437DC2D3.4070906@euskalnet.net>
	<931f8ea90511180659k75e73e03j8f652bdd3914d33d@mail.gmail.com>
Message-ID: <437E0A64.6060803@euskalnet.net>

Hi Frank,

Thank you for the answer. I guessed it and I have deleted all the lines 
related with 'cd swig' in the GNUmakefile, and finally the compilation 
and installation under Solaris 8 was ok. Anyway it would be great if the 
next version had solved this problems.

Many thanks and best regards.

Juan M.

Frank Warmerdam escribi?:

>On 11/18/05, Juan Mari Celihueta <jmcm@euskalnet.net> wrote:
>  
>
>>Hi Frank,
>>
>>I did what you told me and te 'make' compilation process was well.
>>
>>Then I entered as root and did the instalation process:
>>
>># make install
>>
>>And after a few seconds the process stopped, getting the next set of
>>error messages:
>>
>>GNUmakefile:44: warning: overriding commands for target `libgdal.la'
>>GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
>>GNUmakefile:44: warning: overriding commands for target `libgdal.la'
>>GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
>>make[2]: swig: Command not found
>>make[2]: *** [gdal_wrap.cpp] Error 127
>>make[2]: swig: Command not found
>>make[2]: *** [gdal_wrap.cpp] Error 127
>>/bin/sh: syntax error at line 1: `;' unexpected
>>make[1]: *** [install] Error 2
>>make: *** [install-actions] Error 2
>>
>>I guess that it's because of the lack of the 'swig' compilation.
>>    
>>
>
>Juan,
>
>Sorry about this.  If you search through the GNUmakefile,
>you should find a target called "install-actions".  One of the
>lines after it will be "(cd swig; $(MAKE) install)".  Just
>delete that line.
>
>I think I'm going to have to issue a GDAL 1.3.2 pretty soon
>so not too many others run into this problem.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>  
>


From woklist at kyngchaos.com  Fri Nov 18 14:37:11 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] private gdal functions?
Message-ID: <3E80E5A3-936A-473D-9ADD-152A00B7F795@kyngchaos.com>

Someone ran into a problem with my binary packages for Mac OS X.   
They were using some stuff from tif_memio.h, which looks to me like  
some private GDAL stuff to me.  From GDAL 1.3.0 to 1.3.1 it looks  
like these were dropped from the binary library (stripped?).

Are these really private functions that they shouldn't depend on  
being available?  Didn't something change in the API or the build  
options that they are not in v1.3.1?


-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those  
least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy


From rsignell at usgs.gov  Fri Nov 18 14:44:08 2005
From: rsignell at usgs.gov (Rich Signell)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] GMT & GDAL Geotiff grid registration
Message-ID: <437E2F08.9040900@usgs.gov>

GDAL-folk,

I think I'm seeing an issue with grid registration when I convert 
grids from GMT to Geotiff using GDAL:  GMT can be either PIXEL or 
LINE registered, but GDAL always produces PIXEL-registered images 
from GMT files.

The result is that the geotiff created from my GMT grid via:

   gdal_translate -a_srs EPSG:32618 rich.grd rich.tif

has the wrong grid spacing.

GMT's grdinfo reports the correct 5 m spacing:

[rsignell@ricsigdtlx seth]$ grdinfo rich.grd
rich.grd: Title: surface
rich.grd: Command: surface rich_5m.xyz 
-R/683500/684500/4565000/4566000/ -Grich.grd -C0.1 -I5 -T0.2 -V
rich.grd: Remark:
rich.grd: Normal node registration used
rich.grd: grdfile format # 0
rich.grd: x_min: 683500.0 x_max: 684500.0 x_inc: 5.0 units: 
user_x_unit nx: 201
rich.grd: y_min: 4565000.0 y_max: 4566000.0 y_inc: 5.0 units: 
user_y_unit ny: 201
rich.grd: z_min: 3.1 z_max: 17.0 units: user_z_unit
rich.grd: scale_factor: 1.0 add_offset: 0.0


while gdalinfo reports incorrect grid spacing, because it 
incorrectly assumed PIXEL==AREA registration:

gdalinfo rich.tif
[rsignell@ricsigdtlx seth]$ gdalinfo rich.tif
Driver: GTiff/GeoTIFF
Size is 201, 201
Coordinate System is:
PROJCS["WGS 84 / UTM zone 18N",
...
Origin = (683500.000000,4566000.000000)
Pixel Size = (4.97512438,-4.97512438)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  683500.000, 4566000.000)
Lower Left  (  683500.000, 4565000.000)
Upper Right (  684500.000, 4566000.000)
Lower Right (  684500.000, 4565000.000)
Center      (  684000.000, 4565500.000)
Band 1 Block=201x10 Type=Float32, ColorInterp=Gray


Perhaps I've missed a GDAL option somewhere, but I did at least 
try to look!

In case this is really a missing feature, the PIXEL vs. LINE 
registration of a GMT file is really easy to check.  You just read 
the "node_offset" attribute of the grid variable.

If node_offset=0, it's LINE
If node_offset=1, it's PIXEL

[rsignell@ricsigdtlx seth]$ ncdump -h rich.grd
netcdf rich {
dimensions:
         side = 2 ;
         xysize = 40401 ;
variables:
         double x_range(side) ;
                 x_range:units = "user_x_unit" ;
         double y_range(side) ;
                 y_range:units = "user_y_unit" ;
         double z_range(side) ;
                 z_range:units = "user_z_unit" ;
         double spacing(side) ;
         int dimension(side) ;
         float z(xysize) ;
                 z:scale_factor = 1. ;
                 z:add_offset = 0. ;
                 z:node_offset = 0 ;

// global attributes:
                 :title = "surface" ;
                 :source = "surface rich_5m.xyz 
-R/683500/684500/4565000/4566000/ -Grich.grd -C0.1 -I5 -T0.2 -V" ;
}

I'm working around this for now using the "-a_ullr" option on 
gdal_translate to specify different bounds:

gdal_translate -a_ullr 683497.5 4566002.5 684502.5 4564997.5 
-a_srs EPSG:32618 rich.grd rich3.tif

[rsignell@ricsigdtlx seth]$ gdalinfo rich3.tif
Driver: GTiff/GeoTIFF
Size is 201, 201
Coordinate System is:
...
Origin = (683497.500000,4566002.500000)
Pixel Size = (5.00000000,-5.00000000)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  683497.500, 4566002.500)
Lower Left  (  683497.500, 4564997.500)
Upper Right (  684502.500, 4566002.500)
Lower Right (  684502.500, 4564997.500)
Center      (  684000.000, 4565500.000)
Band 1 Block=201x10 Type=Float32, ColorInterp=Gray

but obviously it would be nice to have a *slightly* more elegant 
solution.


Thanks,
Rich

P.S. I'm using GDAL 1.3.1.0, FWTools 1.0.0a7, released 2005/11/10
-- 
Richard P. Signell
U.S. Geological Survey       Phone: (508) 457-2229
384 Woods Hole Road          Fax:   (508) 457-2310
Woods Hole, MA  02543-1598

From warmerdam at pobox.com  Fri Nov 18 14:49:00 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Re: private gdal functions?
In-Reply-To: <3E80E5A3-936A-473D-9ADD-152A00B7F795@kyngchaos.com>
References: <3E80E5A3-936A-473D-9ADD-152A00B7F795@kyngchaos.com>
Message-ID: <931f8ea90511181149q7f3d5ef6k5ed7280eba59e2fc@mail.gmail.com>

On 11/18/05, William Kyngesburye <woklist@kyngchaos.com> wrote:
> Someone ran into a problem with my binary packages for Mac OS X.
> They were using some stuff from tif_memio.h, which looks to me like
> some private GDAL stuff to me.  From GDAL 1.3.0 to 1.3.1 it looks
> like these were dropped from the binary library (stripped?).
>
> Are these really private functions that they shouldn't depend on
> being available?  Didn't something change in the API or the build
> options that they are not in v1.3.1?

William,

The TIFF memio stuff was not intended to be public.  There
is now a public mechanism to accomplish TIFF IO to an in
memory buffer.

  http://www.gdal.org/cpl__vsi_8h.html#de6f5d790c7eabeae5b25f8ad4540503

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Fri Nov 18 15:12:38 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] GMT & GDAL Geotiff grid registration
In-Reply-To: <437E2F08.9040900@usgs.gov>
References: <437E2F08.9040900@usgs.gov>
Message-ID: <931f8ea90511181212k2f61392bu1f3c3631d9478c2e@mail.gmail.com>

On 11/18/05, Rich Signell <rsignell@usgs.gov> wrote:
> In case this is really a missing feature, the PIXEL vs. LINE
> registration of a GMT file is really easy to check.  You just read
> the "node_offset" attribute of the grid variable.
>
> If node_offset=0, it's LINE
> If node_offset=1, it's PIXEL

Rich,

You are suggesting the node_offset on the "z"
variable should be examined to determine if the x and
y locations are relative to the top left corner of the pixel or
the center?  Why the terminology of "LINE" vs. "PIXEL"?

If you can provide the file in question, I'll see what I can do.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jluis at ualg.pt  Fri Nov 18 15:37:29 2005
From: jluis at ualg.pt (jluis)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] GMT & GDAL Geotiff grid registration
In-Reply-To: <931f8ea90511181212k2f61392bu1f3c3631d9478c2e@mail.gmail.com>
References: <437E2F08.9040900@usgs.gov>
	<931f8ea90511181212k2f61392bu1f3c3631d9478c2e@mail.gmail.com>
Message-ID: <437E3B89.4090309@ualg.pt>

Frank Warmerdam wrote:
> On 11/18/05, Rich Signell <rsignell@usgs.gov> wrote:
> 
>>In case this is really a missing feature, the PIXEL vs. LINE
>>registration of a GMT file is really easy to check.  You just read
>>the "node_offset" attribute of the grid variable.
>>
>>If node_offset=0, it's LINE
>>If node_offset=1, it's PIXEL
> 
> 
> Rich,
> 
> You are suggesting the node_offset on the "z"
> variable should be examined to determine if the x and
> y locations are relative to the top left corner of the pixel or
> the center?  Why the terminology of "LINE" vs. "PIXEL"?
> 
> If you can provide the file in question, I'll see what I can do.
> 

Frank,
I (re)mentioned this issue 3 days ago. Please revisit bug 796 in Bugzilla
(which is still open)


J. Luis

From rsignell at usgs.gov  Fri Nov 18 15:48:04 2005
From: rsignell at usgs.gov (Rich Signell)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] GMT & GDAL Geotiff grid registration
In-Reply-To: <931f8ea90511181212k2f61392bu1f3c3631d9478c2e@mail.gmail.com>
References: <437E2F08.9040900@usgs.gov>
	<931f8ea90511181212k2f61392bu1f3c3631d9478c2e@mail.gmail.com>
Message-ID: <437E3E04.9030508@usgs.gov>


Frank Warmerdam wrote:

 > Why the terminology of "LINE" vs. "PIXEL"?

Frank,

Only because "LINE"/"PIXEL" is the terminology GMT uses.
(while "POINT"/"AREA" is the terminology GeoTIFF uses)

LINE is the same as POINT
PIXEL is the same as AREA

I'll stick with "Area" and "Point" terminology here, since GeoTIFF 
is more universal that GMT.

> You are suggesting the node_offset on the "z"
> variable should be examined to determine if the x and
> y locations are relative to the top left corner of the pixel or
> the center?  

Yes.  The question is what to do with that information, I guess.

Since GeoTIFF can be specified as  "Area" or "Point", one approach 
would be to write the appropriate value for the GeoTIFF based on 
the "node_offset" attribute on the "z" variable.

But if applications that deal with GeoTIFF are always expecting 
"Area" and don't generally handle "Point", then it may better to 
just expand the range by 1/2 a grid cell when "Point" GMT grd 
files are found.

I've place examples of "Point" and "Area" GMT grd files at:

http://stellwagen.er.usgs.gov/rps/share/point.grd
http://stellwagen.er.usgs.gov/rps/share/area.grd

They are EPSG:32618, just in case that's useful.

-- 
Richard P. Signell
U.S. Geological Survey       Phone: (508) 457-2229
384 Woods Hole Road          Fax:   (508) 457-2310
Woods Hole, MA  02543-1598

From warmerdam at pobox.com  Fri Nov 18 16:07:20 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] GMT & GDAL Geotiff grid registration
In-Reply-To: <437E3E04.9030508@usgs.gov>
References: <437E2F08.9040900@usgs.gov>
	<931f8ea90511181212k2f61392bu1f3c3631d9478c2e@mail.gmail.com>
	<437E3E04.9030508@usgs.gov>
Message-ID: <931f8ea90511181307v4a8b1527lde032e2727a02cbe@mail.gmail.com>

On 11/18/05, Rich Signell <rsignell@usgs.gov> wrote:
> Yes.  The question is what to do with that information, I guess.
>
> Since GeoTIFF can be specified as  "Area" or "Point", one approach
> would be to write the appropriate value for the GeoTIFF based on
> the "node_offset" attribute on the "z" variable.

Rich / J. Luis,

Whether a GeoTIFF indicates the data is point or area
related, the georeferencing information always deals with
it as an area.  The (0,0) location is the top left corner of
the top left pixel area.   The point/area distinction is only
kept as metadata.  In GDAL pixels are always georeferenced
as "area", and so for GMT we just need to recognise the case
where the georeferencing has to be offset.

I have grabbed the files and will try to adjust them and update
Bug 796 which J. Luis is correct in pointing out I have ignored for
a long time.   I think I jumped on the topic this time mainly
because I had a vague sense that it had come up recently.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From bartvde at xs4all.nl  Sat Nov 19 11:24:01 2005
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] compiling with Visual Studio 2005 Beta 2 (VC 8)
Message-ID: <437F51A1.4070205@xs4all.nl>

Hi list,

I am trying to get GDAL compiled with Visual Studio 2005 Beta 2 (VC 8), 
but am running into errors. Did anybody successfully compile in that 
environment?

I have attached the stderr and stdout output as tgz files. Thanks in 
advance.

Best regards,
Bart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: stderr.tgz
Type: application/x-compressed
Size: 568 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051119/8773e893/stderr.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: stdout.tgz
Type: application/x-compressed
Size: 10744 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051119/8773e893/stdout.bin
From bartvde at xs4all.nl  Sat Nov 19 11:26:48 2005
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Re: compiling with Visual Studio 2005 Beta 2 (VC 8)
In-Reply-To: <437F51A1.4070205@xs4all.nl>
References: <437F51A1.4070205@xs4all.nl>
Message-ID: <437F5248.3020605@xs4all.nl>

I forgot to mention, the compile seems to fail mainly on mitab:

mitab_feature.cpp(6480) : error C2440: '=' : cannot convert from 'const 
char *' to 'char *'
        Conversion loses qualifiers
mitab_feature.cpp(6485) : error C2440: '=' : cannot convert from 'const 
char *' to 'char *'
        Conversion loses qualifiers

Best regards,
Bart

Bart van den Eijnden wrote:

> Hi list,
>
> I am trying to get GDAL compiled with Visual Studio 2005 Beta 2 (VC 
> 8), but am running into errors. Did anybody successfully compile in 
> that environment?
>
> I have attached the stderr and stdout output as tgz files. Thanks in 
> advance.
>
> Best regards,
> Bart



From warmerdam at pobox.com  Sat Nov 19 12:11:41 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Re: compiling with Visual Studio 2005 Beta 2 (VC 8)
In-Reply-To: <437F5248.3020605@xs4all.nl>
References: <437F51A1.4070205@xs4all.nl> <437F5248.3020605@xs4all.nl>
Message-ID: <931f8ea90511190911m5e87dfa1q1b32da073545f8d1@mail.gmail.com>

On 11/19/05, Bart van den Eijnden <bartvde@xs4all.nl> wrote:
> I forgot to mention, the compile seems to fail mainly on mitab:
>
> mitab_feature.cpp(6480) : error C2440: '=' : cannot convert from 'const
> char *' to 'char *'
>         Conversion loses qualifiers
> mitab_feature.cpp(6485) : error C2440: '=' : cannot convert from 'const
> char *' to 'char *'
>         Conversion loses qualifiers

Bart,

This can be easiliy corrected with a cast, but the line number
doesn't match the current source.  Was this with 1.3.1?  Could
you try a nightly snapshot and point out the errors?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From bartvde at xs4all.nl  Sat Nov 19 13:05:13 2005
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Re: compiling with Visual Studio 2005 Beta 2 (VC 8)
In-Reply-To: <931f8ea90511190911m5e87dfa1q1b32da073545f8d1@mail.gmail.com>
References: <437F51A1.4070205@xs4all.nl> <437F5248.3020605@xs4all.nl>
	<931f8ea90511190911m5e87dfa1q1b32da073545f8d1@mail.gmail.com>
Message-ID: <437F6959.8060507@xs4all.nl>

Hi Frank,

this was 1.3.1 indeed. I just tried the last nightly and it builds fine.

Best regards,
Bart

Frank Warmerdam wrote:

>On 11/19/05, Bart van den Eijnden <bartvde@xs4all.nl> wrote:
>  
>
>>I forgot to mention, the compile seems to fail mainly on mitab:
>>
>>mitab_feature.cpp(6480) : error C2440: '=' : cannot convert from 'const
>>char *' to 'char *'
>>        Conversion loses qualifiers
>>mitab_feature.cpp(6485) : error C2440: '=' : cannot convert from 'const
>>char *' to 'char *'
>>        Conversion loses qualifiers
>>    
>>
>
>Bart,
>
>This can be easiliy corrected with a cast, but the line number
>doesn't match the current source.  Was this with 1.3.1?  Could
>you try a nightly snapshot and point out the errors?
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
>
>  
>


From nharding at extendthereach.com  Sat Nov 19 16:36:52 2005
From: nharding at extendthereach.com (Ned Harding)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Re: compiling with Visual Studio 2005 Beta 2 (VC 8
	)
Message-ID: <EA3A32572CDE7143B39BC2ADF0511552012D9612@rocky.extendthereach.com>

This was an easy one...  pszPenColor needed to be const char *, not char *.
I'm not sure I have the latest source so here's the diff:

Index: ../../OGR/gdal/ogr/ogrsf_frmts/mitab/mitab_feature.cpp
===================================================================
--- ../../OGR/gdal/ogr/ogrsf_frmts/mitab/mitab_feature.cpp	(revision
11380)
+++ ../../OGR/gdal/ogr/ogrsf_frmts/mitab/mitab_feature.cpp	(working
copy)
@@ -6420,7 +6420,7 @@
     const char *pszPenColor;
 
     int   nPenId;
-    char* pszPenId;
+    const char* pszPenId;
 
     // Use the Style Manager to retreive all the information we need.
     OGRStyleMgr *poStyleMgr = new OGRStyleMgr(NULL);
 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank Warmerdam
Sent: Saturday, November 19, 2005 10:12 AM
To: Bart van den Eijnden
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Re: compiling with Visual Studio 2005 Beta 2 (VC 8)

On 11/19/05, Bart van den Eijnden <bartvde@xs4all.nl> wrote:
> I forgot to mention, the compile seems to fail mainly on mitab:
>
> mitab_feature.cpp(6480) : error C2440: '=' : cannot convert from 
> 'const char *' to 'char *'
>         Conversion loses qualifiers
> mitab_feature.cpp(6485) : error C2440: '=' : cannot convert from 
> 'const char *' to 'char *'
>         Conversion loses qualifiers

Bart,

This can be easiliy corrected with a cast, but the line number doesn't match
the current source.  Was this with 1.3.1?  Could you try a nightly snapshot
and point out the errors?

Best regards,
--
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051119/c707f61f/attachment.html
From baba.yoshihiko at gmail.com  Sat Nov 19 21:28:07 2005
From: baba.yoshihiko at gmail.com (BABA Yoshihiko)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] gdal-grass plugin
In-Reply-To: <DC4ADF07-76BA-49B2-8DB8-8A2AF5A4CD1B@kyngchaos.com>
References: <931f8ea90510190840gd5081cele1bfc5608e828f81@mail.gmail.com>
	<20051019154901.GH2809@thuille.itc.it>
	<931f8ea90510190853g3b7a4d54gdacd4cdead39dc20@mail.gmail.com>
	<087AD91F-208A-4132-B46E-AF72AC56D692@kyngchaos.com>
	<931f8ea90510251212t1276c7e0h404324c7bc6d2047@mail.gmail.com>
	<DC4ADF07-76BA-49B2-8DB8-8A2AF5A4CD1B@kyngchaos.com>
Message-ID: <ba6f52040511191828p25b1b546w@mail.gmail.com>

Hi all,

2005/10/26, William Kyngesburye <woklist@kyngchaos.com>:
> You mean:
>
> http://www.gdal.org/dl/gdal-grass-1.3.1.1.tar.gz


gdal-grass-1.3.1.1 is not mirrored (at least in
dl.maptools.org/dl/gdal), although 1.3.1 is mirrored.

--
BABA Yoshihiko
http://homepage.mac.com/babayoshihiko


From Jed.Kaplan at ips.unibe.ch  Sun Nov 20 09:12:04 2005
From: Jed.Kaplan at ips.unibe.ch (Jed O. Kaplan)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Lambert to Swiss Obl projection error?
Message-ID: <D08433E7-8340-491A-A4AF-FA97369FF57D@ips.unibe.ch>

Hello all,

I am using the latest CVS versions of GDAL and PROJ4 on Mac OS X 10.4

I am trying to warp a small 100x100 raster in a Lambert Azimuthal  
projection to the Swiss Obl. Mercator projection. gdal_warp runs  
successfully, but the output raster is wrong - the grid seems shifted  
to the north by ca. 20km (a simple shift of the grid does not solve  
the problem, however).  You can see the problem if you compare the  
calculated center lon and lat of the input and output rasters - these  
center points should be approximately the same, but are shifted ca.  
00:12' to the north in the output grid.

The relevant output from gdalinfo and the gdal_warp command line, as  
well as the WKT file I use to define the Swiss projection are copied  
below.

Could this be a bug in GDAL, or possibly in PROJ4? Thank you for any  
advice you may be able to give me!

Cheers,

Jed Kaplan

--

jkaplan@kootenay:~/Documents/science_projects/vivaldi/BioClim_SR >  
gdalinfo terrain.tif
Driver: GTiff/GeoTIFF
Size is 100, 100
Coordinate System is:
PROJCS["Lambert Azimuthal Equal Area",
     GEOGCS["unnamed",
         DATUM["unknown",
             SPHEROID["unnamed",6370997,0]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Lambert_Azimuthal_Equal_Area"],
     PARAMETER["latitude_of_center",46.8],
     PARAMETER["longitude_of_center",8.2],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (114914.109000,-17980.043000)
Pixel Size = (250.00000000,-250.00000000)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  114914.109,  -17980.043) (  9d42'18.00"E, 46d37'42.29"N)
Lower Left  (  114914.109,  -42980.043) (  9d41'55.60"E, 46d24'13.08"N)
Upper Right (  139914.109,  -17980.043) ( 10d 1'56.36"E, 46d37'25.12"N)
Lower Right (  139914.109,  -42980.043) ( 10d 1'29.10"E, 46d23'55.99"N)
Center      (  127414.109,  -30480.043) (  9d51'54.75"E, 46d30'49.54"N)
Band 1 Block=100x20 Type=Float32, ColorInterp=Gray

jkaplan@kootenay:~/Documents/science_projects/vivaldi/BioClim_SR >  
gdalwarp -t_srs swiss.wkt -rb terrain.tif terrain-sw.tif
Creating output file that is 101P x 101L.
:0...10...20...30...40...50...60...70...80...90...100 - done.

jkaplan@kootenay:~/Documents/science_projects/vivaldi/BioClim_SR >  
gdalinfo terrain-sw.tif
Driver: GTiff/GeoTIFF
Size is 101, 101
Coordinate System is:
PROJCS["Swiss. Obl. Mercator",
     GEOGCS["bessel",
         DATUM["CH1903",
             SPHEROID["Bessel 1841",6377397.155,299.1528128000008,
                 AUTHORITY["EPSG","7004"]],
             AUTHORITY["EPSG","6149"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Hotine_Oblique_Mercator"],
     PARAMETER["latitude_of_center",46.95240555555556],
     PARAMETER["longitude_of_center",7.439583333333333],
     PARAMETER["azimuth",90],
     PARAMETER["rectified_grid_angle",90],
     PARAMETER["scale_factor",1],
     PARAMETER["false_easting",600000],
     PARAMETER["false_northing",200000],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (772925.084811,188209.083260)
Pixel Size = (249.84685851,-249.84685851)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  772925.085,  188209.083) (  9d42'22.99"E, 46d49'25.83"N)
Lower Left  (  772925.085,  162974.551) (  9d41'48.72"E, 46d35'48.88"N)
Upper Right (  798159.618,  188209.083) ( 10d 2'13.02"E, 46d49'0.48"N)
Lower Right (  798159.618,  162974.551) ( 10d 1'33.75"E, 46d35'23.64"N)
Center      (  785542.351,  175591.817) (  9d51'59.62"E, 46d42'25.14"N)
Band 1 Block=101x20 Type=Float32, ColorInterp=Gray

jkaplan@kootenay:~/Documents/science_projects/vivaldi/BioClim_SR >  
more swiss.wkt
PROJCS["Swiss. Obl. Mercator",
     GEOGCS["bessel",
         DATUM["CH1903",
             SPHEROID["bessel",6377397.155,299.1528128],
             TOWGS84[674.374,15.056,405.346,0,0,0,0]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Hotine_Oblique_Mercator"],
     PARAMETER["latitude_of_center",46.95240555555556],
     PARAMETER["longitude_of_center",7.439583333333333],
     PARAMETER["azimuth",90],
     PARAMETER["rectified_grid_angle",90],
     PARAMETER["scale_factor",1],
     PARAMETER["false_easting",600000],
     PARAMETER["false_northing",200000],
     UNIT["metre",1]]


From sab at isis.vpac.org  Sun Nov 20 18:10:28 2005
From: sab at isis.vpac.org (Shoaib Burq (VPAC))
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Hardware for serving lot's of Raster
Message-ID: <Pine.LNX.4.63.0511210936290.6456@isis.vpac.org>

Hi,

I am in the process of spec'ing out some hardware for serving ~500GB of 
hi-res bathymetry data via mapserver. Having never done this before I am 
looking for some guidance regarding what to look for in the hardware 
design. I might be using ka-map and precache the tiles; Updates are not 
very frequent.

Obvious concerns are:
1. Performance,
2. Security,
3. Backup,
4. Portability (if we ever need to change the server's location),
5. Cost (we have a relatively healthy budget)

I had a read of the documentation from UCL's ICEDS project but besides 
stating the use of RAID it says little else.

Thanks for any suggestions.

chrs
Shoaib Burq

From BEN at Syncera-ITSolutions.NL  Mon Nov 21 04:43:51 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] WKB
Message-ID: <s381a4f1.030@SRV-POSTIX-DFT>

Hi list,

I am trying to connect OGR through ODBC to a WKB database. The WKB database was created using TatukGIS (www.tatukgis.com).

I am getting the following error back from OGR:

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest
ERROR 1: No column definitions found for table 'bis_loc_FEA', layer not usable.
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

This is the record in the GEOMETRY_COLUMNS table (in XML format):

<main>
  <DATA_RECORD>
    <F_TABLE_NAME>bis_loc_FEA</F_TABLE_NAME>
    <F_GEOMETRY_COLUMN>GID</F_GEOMETRY_COLUMN>
    <G_TABLE_NAME>bis_loc</G_TABLE_NAME>
    <STORAGE_TYPE>1</STORAGE_TYPE>
    <GEOMETRY_TYPE>11</GEOMETRY_TYPE>
    <COORD_DIMENSION>2</COORD_DIMENSION>
    <MAX_PPR>0</MAX_PPR>
    <SRID>1</SRID>
  </DATA_RECORD>
</main>

The tables are defined as:

CREATE TABLE BIS_LOC
(
  GID           NUMBER(9)                       NOT NULL,
  XMIN          FLOAT(126),
  YMIN          FLOAT(126),
  XMAX          FLOAT(126),
  YMAX          FLOAT(126),
  WKB_GEOMETRY  BLOB
)

CREATE TABLE BIS_LOC_FEA
(
  GID        NUMBER(9)                          NOT NULL,
  LOC_CODE   VARCHAR2(11 BYTE),
  XCOORD     NUMBER(9),
  YCOORD     NUMBER(9),
  TAB_LABEL  VARCHAR2(5 BYTE)
)

What could be the problem? Thanks in advance. It seems TatukGIS does not write SRS info, but that does not seem to be the cause of the above error.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl



From BEN at Syncera-ITSolutions.NL  Mon Nov 21 05:21:51 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] WKB
Message-ID: <s381add9.023@SRV-POSTIX-DFT>

Okay, I am one step further, it seemed to be caused by the wrong case in the F_TABLE_NAME and G_TABLE_NAME fields.

But now ogrinfo does not report any geometries, it just reports the attributes from the  F_TABLE_NAME table.Why is this?

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest BIS_LOC_FEA  -summary
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

Layer name: BIS_LOC_FEA
Geometry: Unknown (any)
Feature Count: 3444
Layer SRS WKT:
(unknown)
LOC_CODE: String (11.0)
XCOORD: Real (9.0)
YCOORD: Real (9.0)
TAB_LABEL: String (5.0)


OGRFeature(BIS_LOC_FEA):508
  LOC_CODE (String) = AA060700163
  XCOORD (Real) =     78898
  YCOORD (Real) =    444712
  TAB_LABEL (String) = (null)

OGRFeature(BIS_LOC_FEA):509
  LOC_CODE (String) = AA060700165
  XCOORD (Real) =     78720
  YCOORD (Real) =    444737
  TAB_LABEL (String) = (null)

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl

>>> "Bart van den Eijnden" <BEN@syncera-itsolutions.nl> 11/21/2005 10:43 AM >>>
Hi list,

I am trying to connect OGR through ODBC to a WKB database. The WKB database was created using TatukGIS (www.tatukgis.com).

I am getting the following error back from OGR:

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest
ERROR 1: No column definitions found for table 'bis_loc_FEA', layer not usable.
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

This is the record in the GEOMETRY_COLUMNS table (in XML format):

<main>
  <DATA_RECORD>
    <F_TABLE_NAME>bis_loc_FEA</F_TABLE_NAME>
    <F_GEOMETRY_COLUMN>GID</F_GEOMETRY_COLUMN>
    <G_TABLE_NAME>bis_loc</G_TABLE_NAME>
    <STORAGE_TYPE>1</STORAGE_TYPE>
    <GEOMETRY_TYPE>11</GEOMETRY_TYPE>
    <COORD_DIMENSION>2</COORD_DIMENSION>
    <MAX_PPR>0</MAX_PPR>
    <SRID>1</SRID>
  </DATA_RECORD>
</main>

The tables are defined as:

CREATE TABLE BIS_LOC
(
  GID           NUMBER(9)                       NOT NULL,
  XMIN          FLOAT(126),
  YMIN          FLOAT(126),
  XMAX          FLOAT(126),
  YMAX          FLOAT(126),
  WKB_GEOMETRY  BLOB
)

CREATE TABLE BIS_LOC_FEA
(
  GID        NUMBER(9)                          NOT NULL,
  LOC_CODE   VARCHAR2(11 BYTE),
  XCOORD     NUMBER(9),
  YCOORD     NUMBER(9),
  TAB_LABEL  VARCHAR2(5 BYTE)
)

What could be the problem? Thanks in advance. It seems TatukGIS does not write SRS info, but that does not seem to be the cause of the above error.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl 


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev



From BEN at Syncera-ITSolutions.NL  Mon Nov 21 08:24:28 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] WKB
Message-ID: <s381d8aa.048@SRV-POSTIX-DFT>

Hi list,

I have done a bit more analysis but have been unable to solve this unfortunately.

1) creating a view with all the columns does not make a difference, still no geometry is read (only XMIN, XMAX etc.)
2) properly filling the SRS table and column does not make any difference.

I have attached an example BLOB field, maybe somebody could judge from this what is going wrong.

I tried with CPL_DEBUG ON but could not get any useful messages out of ogrinfo. Btw my data is (multi) polygon data.

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest
ODBC: EstablishSession(tatukgistest,synfonie,synfonie)
ODBC: SQLConnect(tatukgistest)
ODBC: GetColumn() - m_nColCount=500
OGR: OGROpen(ODBC:synfonie/synfonie@tatukgistest) succeeded (00825D00).
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.
1: BIS_LOC_FEA
ODBC: SQLDisconnect()

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest BIS_LOC_FEA
 -summary
ODBC: EstablishSession(tatukgistest,synfonie,synfonie)
ODBC: SQLConnect(tatukgistest)
ODBC: GetColumn() - m_nColCount=500
OGR: OGROpen(ODBC:synfonie/synfonie@tatukgistest) succeeded (008274E8).
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

Layer name: BIS_LOC_FEA
Geometry: Unknown (any)
Feature Count: 3444
Layer SRS WKT:
(unknown)
LOC_CODE: String (11.0)
XCOORD: Real (9.0)
YCOORD: Real (9.0)
TAB_LABEL: String (5.0)
ODBC: 6888 features read on layer 'BIS_LOC_FEA'.
ODBC: SQLDisconnect()

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl

>>> "Bart van den Eijnden" <BEN@syncera-itsolutions.nl> 11/21/2005 11:21 AM >>>
Okay, I am one step further, it seemed to be caused by the wrong case in the F_TABLE_NAME and G_TABLE_NAME fields.

But now ogrinfo does not report any geometries, it just reports the attributes from the  F_TABLE_NAME table.Why is this?

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest BIS_LOC_FEA  -summary
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

Layer name: BIS_LOC_FEA
Geometry: Unknown (any)
Feature Count: 3444
Layer SRS WKT:
(unknown)
LOC_CODE: String (11.0)
XCOORD: Real (9.0)
YCOORD: Real (9.0)
TAB_LABEL: String (5.0)


OGRFeature(BIS_LOC_FEA):508
  LOC_CODE (String) = AA060700163
  XCOORD (Real) =     78898
  YCOORD (Real) =    444712
  TAB_LABEL (String) = (null)

OGRFeature(BIS_LOC_FEA):509
  LOC_CODE (String) = AA060700165
  XCOORD (Real) =     78720
  YCOORD (Real) =    444737
  TAB_LABEL (String) = (null)

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl 

>>> "Bart van den Eijnden" <BEN@syncera-itsolutions.nl> 11/21/2005 10:43 AM >>>
Hi list,

I am trying to connect OGR through ODBC to a WKB database. The WKB database was created using TatukGIS (www.tatukgis.com).

I am getting the following error back from OGR:

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest
ERROR 1: No column definitions found for table 'bis_loc_FEA', layer not usable.
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

This is the record in the GEOMETRY_COLUMNS table (in XML format):

<main>
  <DATA_RECORD>
    <F_TABLE_NAME>bis_loc_FEA</F_TABLE_NAME>
    <F_GEOMETRY_COLUMN>GID</F_GEOMETRY_COLUMN>
    <G_TABLE_NAME>bis_loc</G_TABLE_NAME>
    <STORAGE_TYPE>1</STORAGE_TYPE>
    <GEOMETRY_TYPE>11</GEOMETRY_TYPE>
    <COORD_DIMENSION>2</COORD_DIMENSION>
    <MAX_PPR>0</MAX_PPR>
    <SRID>1</SRID>
  </DATA_RECORD>
</main>

The tables are defined as:

CREATE TABLE BIS_LOC
(
  GID           NUMBER(9)                       NOT NULL,
  XMIN          FLOAT(126),
  YMIN          FLOAT(126),
  XMAX          FLOAT(126),
  YMAX          FLOAT(126),
  WKB_GEOMETRY  BLOB
)

CREATE TABLE BIS_LOC_FEA
(
  GID        NUMBER(9)                          NOT NULL,
  LOC_CODE   VARCHAR2(11 BYTE),
  XCOORD     NUMBER(9),
  YCOORD     NUMBER(9),
  TAB_LABEL  VARCHAR2(5 BYTE)
)

What could be the problem? Thanks in advance. It seems TatukGIS does not write SRS info, but that does not seem to be the cause of the above error.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl 


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev 


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev
-------------- next part --------------
A non-text attachment was scrubbed...
Name: blob
Type: application/octet-stream
Size: 613 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051121/b712b1e5/blob.obj
From warmerdam at pobox.com  Mon Nov 21 12:03:01 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] WKB
In-Reply-To: <s381a4f1.030@SRV-POSTIX-DFT>
References: <s381a4f1.030@SRV-POSTIX-DFT>
Message-ID: <931f8ea90511210903y11b2af17u8a73e14305b93d5f@mail.gmail.com>

On 11/21/05, Bart van den Eijnden <BEN@syncera-itsolutions.nl> wrote:
> Hi list,
>
> I am trying to connect OGR through ODBC to a WKB database. The WKB database was created using TatukGIS (www.tatukgis.com).
>
> I am getting the following error back from OGR:
>
> C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest
> ERROR 1: No column definitions found for table 'bis_loc_FEA', layer not usable.
> INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
> using driver `ODBC' successful.
>
> This is the record in the GEOMETRY_COLUMNS table (in XML format):
>
> <main>
>   <DATA_RECORD>
>     <F_TABLE_NAME>bis_loc_FEA</F_TABLE_NAME>
>     <F_GEOMETRY_COLUMN>GID</F_GEOMETRY_COLUMN>

Bart,

OGR's ODBC driver looks at F_TABLE_NAME and F_GEOMETRY_COLUMN.

However, GID isn't really the geometry column in BIS_LOC_FEA, instead
it is just the key into the other table to fetch the geometry.  OGR's ODBC
driver does not support this form of relationship.

> CREATE TABLE BIS_LOC_FEA
> (
>   GID        NUMBER(9)                          NOT NULL,
>   LOC_CODE   VARCHAR2(11 BYTE),
>   XCOORD     NUMBER(9),
>   YCOORD     NUMBER(9),
>   TAB_LABEL  VARCHAR2(5 BYTE)
> )
>
> What could be the problem? Thanks in advance. It seems TatukGIS does not write SRS info, but that does not seem to be the cause of the above error.

I have recently learned that the form that TatukGIS is
emitting things into the database is one of the approaches
defined in the OpenGIS Simple Features Specification.
However, OGR's ODBC driver just expects the geometry
column to the name of the geometry column right in the
feature table itself.

Another client has run into something similar, and on their
behalf I implemented support for WKB in ODBC (likely
not in FWTools 0.9.9 by the way, I suggest to upgrade to
1.0.0a8).  They then created a view that joined the feature
table and the geometry table and then referenced that view
explicitly.

Eg.

ogrinfo -ro ODBC:synfonie/synfonie@tatukgistest,BIS_LOC_VIEW(WKB_GEOMETRY)

The above syntax instructs OGR to use the "table" BIS_LOC_VIEW
which can actually be a view.  And it uses the column WKB_GEOMETRY
as the geometry, which after the join on GID should be the WKB blob
column.

By the way, if you don't really need the feature stuff you could skip
the view and get at the geometry like:

ogrinfo -ro ODBC:synfonie/synfonie@tatukgistest,BIS_LOC(WKB_GEOMETRY)

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From szekerest at gmail.com  Mon Nov 21 14:39:52 2005
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] FW: GDAL & Proj4 proposed file locations
Message-ID: <4382226c.5445f2b6.184b.ffff8dea@mx.gmail.com>

 

Hi list!

 

Could anyone explain how GDAL handles file locations when using projections
definition .csv files, and what is the proposed location of them in windows
environment? I would be interested in the supposed locations of the proj4
definition files as well. (I would avoid using of environment variables.)

 

 

 

Thanks,

 

Tamas Szekeres


--
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.362 / Virus Database: 267.13.4/176 - Release Date: 2005.11.20.



-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.362 / Virus Database: 267.13.4/176 - Release Date: 2005.11.20.
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051121/a004c5c4/attachment.html
From rayg at daylongraphics.com  Mon Nov 21 15:36:56 2005
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] FW: GDAL & Proj4 proposed file locations
In-Reply-To: <4382226c.5445f2b6.184b.ffff8dea@mx.gmail.com>
References: <4382226c.5445f2b6.184b.ffff8dea@mx.gmail.com>
Message-ID: <43822FE8.900@daylongraphics.com>

PROJ_LIB and GDAL_DATA envvars are normally used.

At runtime, use pj_set_finder() and CPLSetConfigOption("GDAL_DATA", 
....) to override the default envvars for the data directory locations.

Ray



Tamas Szekeres wrote:
>  
> 
> Hi list!
> 
>  
> 
> Could anyone explain how GDAL handles file locations when using 
> projections definition .csv files, and what is the proposed location of 
> them in windows environment? I would be interested in the supposed 
> locations of the proj4 definition files as well. (I would avoid using of 
> environment variables.)
> 
>  
> 
>  
> 
>  
> 
> Thanks,
> 
>  
> 
> Tamas Szekeres
> 
> 
> --
> No virus found in this outgoing message.
> Checked by AVG Free Edition.
> Version: 7.1.362 / Virus Database: 267.13.4/176 - Release Date: 2005.11.20.
> 
> 
> --
> No virus found in this outgoing message.
> Checked by AVG Free Edition.
> Version: 7.1.362 / Virus Database: 267.13.4/176 - Release Date: 2005.11.20.
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

From BEN at Syncera-ITSolutions.NL  Tue Nov 22 02:16:54 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] WKB
Message-ID: <s382d3fe.023@SRV-POSTIX-DFT>

Hi Frank,

thanks. Creating the view and upgrading to fwtools 1.0a8 works.

OGRFeature(V_BIS_LOC):123
  GID (Real) =       124
  LOC_CODE (String) = AA055500227
  XCOORD (Real) =     75417
  YCOORD (Real) =    441540
  TAB_LABEL (String) = (null)
  XMIN (Real) = 75220
  YMIN (Real) = 441177
  XMAX (Real) = 75491
  YMAX (Real) = 441739
  POLYGON ((75343.505499999999 441636.88299999997,75381.4035 441712.02549999999,
75434.329500000007 441739.46899999998,75440.864000000001 441683.27549999999,7547
4.1875 441540.17800000001,75491.176500000001 441340.234,75343.505499999999 44163
6.88299999997),(75275.550499999998 441480.06400000001,75368.988500000007 441299.
72249999997,75274.896999999997 441177.53450000001,75252.680999999997 441199.7505
0000002,75256.601500000004 441214.12550000002,75253.334499999997 441241.56849999
999,75241.573000000004 441265.09149999998,75231.118499999997 441282.08049999998,
75220.664000000004 441296.45549999998,75227.198000000004 441318.01799999998,7522
7.851500000004 441359.18300000002,75238.959499999997 441397.08100000001,75275.55
0499999998 441480.06400000001))

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl

>>> Frank Warmerdam <warmerdam@pobox.com> 11/21/2005 6:03 PM >>>
On 11/21/05, Bart van den Eijnden <BEN@syncera-itsolutions.nl> wrote:
> Hi list,
>
> I am trying to connect OGR through ODBC to a WKB database. The WKB database was created using TatukGIS (www.tatukgis.com).
>
> I am getting the following error back from OGR:
>
> C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest
> ERROR 1: No column definitions found for table 'bis_loc_FEA', layer not usable.
> INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
> using driver `ODBC' successful.
>
> This is the record in the GEOMETRY_COLUMNS table (in XML format):
>
> <main>
>   <DATA_RECORD>
>     <F_TABLE_NAME>bis_loc_FEA</F_TABLE_NAME>
>     <F_GEOMETRY_COLUMN>GID</F_GEOMETRY_COLUMN>

Bart,

OGR's ODBC driver looks at F_TABLE_NAME and F_GEOMETRY_COLUMN.

However, GID isn't really the geometry column in BIS_LOC_FEA, instead
it is just the key into the other table to fetch the geometry.  OGR's ODBC
driver does not support this form of relationship.

> CREATE TABLE BIS_LOC_FEA
> (
>   GID        NUMBER(9)                          NOT NULL,
>   LOC_CODE   VARCHAR2(11 BYTE),
>   XCOORD     NUMBER(9),
>   YCOORD     NUMBER(9),
>   TAB_LABEL  VARCHAR2(5 BYTE)
> )
>
> What could be the problem? Thanks in advance. It seems TatukGIS does not write SRS info, but that does not seem to be the cause of the above error.

I have recently learned that the form that TatukGIS is
emitting things into the database is one of the approaches
defined in the OpenGIS Simple Features Specification.
However, OGR's ODBC driver just expects the geometry
column to the name of the geometry column right in the
feature table itself.

Another client has run into something similar, and on their
behalf I implemented support for WKB in ODBC (likely
not in FWTools 0.9.9 by the way, I suggest to upgrade to
1.0.0a8).  They then created a view that joined the feature
table and the geometry table and then referenced that view
explicitly.

Eg.

ogrinfo -ro ODBC:synfonie/synfonie@tatukgistest,BIS_LOC_VIEW(WKB_GEOMETRY)

The above syntax instructs OGR to use the "table" BIS_LOC_VIEW
which can actually be a view.  And it uses the column WKB_GEOMETRY
as the geometry, which after the join on GID should be the WKB blob
column.

By the way, if you don't really need the feature stuff you could skip
the view and get at the geometry like:

ogrinfo -ro ODBC:synfonie/synfonie@tatukgistest,BIS_LOC(WKB_GEOMETRY)

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com 
light and sound - activate the windows | http://pobox.com/~warmerdam 
and watch the world go round - Rush    | Geospatial Programmer for Rent


From BEN at Syncera-ITSolutions.NL  Tue Nov 22 03:38:27 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] WKB
Message-ID: <s382e71d.085@SRV-POSTIX-DFT>

Hi Frank,

one last question, was this done after GDAL 1.3.1? Using your fwtools Mapserver binaries I can display the layer, but not using DM Solutions' binaries (Mapserver 4.6.1 combined with GDAL 1.3.1 from maptools.org). Or were there changes in Mapserver for this after 4.6.1?

If this was done after GDAL 1.3.1, will there be a GDAL 1.3.2 release just before the final Mapserver 4.8 release?

Best regards.
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl

>>> "Bart van den Eijnden" <BEN@syncera-itsolutions.nl> 11/21/2005 2:24:28 PM >>>
Hi list,

I have done a bit more analysis but have been unable to solve this unfortunately.

1) creating a view with all the columns does not make a difference, still no geometry is read (only XMIN, XMAX etc.)
2) properly filling the SRS table and column does not make any difference.

I have attached an example BLOB field, maybe somebody could judge from this what is going wrong.

I tried with CPL_DEBUG ON but could not get any useful messages out of ogrinfo. Btw my data is (multi) polygon data.

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest
ODBC: EstablishSession(tatukgistest,synfonie,synfonie)
ODBC: SQLConnect(tatukgistest)
ODBC: GetColumn() - m_nColCount=500
OGR: OGROpen(ODBC:synfonie/synfonie@tatukgistest) succeeded (00825D00).
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.
1: BIS_LOC_FEA
ODBC: SQLDisconnect()

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest BIS_LOC_FEA
 -summary
ODBC: EstablishSession(tatukgistest,synfonie,synfonie)
ODBC: SQLConnect(tatukgistest)
ODBC: GetColumn() - m_nColCount=500
OGR: OGROpen(ODBC:synfonie/synfonie@tatukgistest) succeeded (008274E8).
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

Layer name: BIS_LOC_FEA
Geometry: Unknown (any)
Feature Count: 3444
Layer SRS WKT:
(unknown)
LOC_CODE: String (11.0)
XCOORD: Real (9.0)
YCOORD: Real (9.0)
TAB_LABEL: String (5.0)
ODBC: 6888 features read on layer 'BIS_LOC_FEA'.
ODBC: SQLDisconnect()

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl 

>>> "Bart van den Eijnden" <BEN@syncera-itsolutions.nl> 11/21/2005 11:21 AM >>>
Okay, I am one step further, it seemed to be caused by the wrong case in the F_TABLE_NAME and G_TABLE_NAME fields.

But now ogrinfo does not report any geometries, it just reports the attributes from the  F_TABLE_NAME table.Why is this?

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest BIS_LOC_FEA  -summary
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

Layer name: BIS_LOC_FEA
Geometry: Unknown (any)
Feature Count: 3444
Layer SRS WKT:
(unknown)
LOC_CODE: String (11.0)
XCOORD: Real (9.0)
YCOORD: Real (9.0)
TAB_LABEL: String (5.0)


OGRFeature(BIS_LOC_FEA):508
  LOC_CODE (String) = AA060700163
  XCOORD (Real) =     78898
  YCOORD (Real) =    444712
  TAB_LABEL (String) = (null)

OGRFeature(BIS_LOC_FEA):509
  LOC_CODE (String) = AA060700165
  XCOORD (Real) =     78720
  YCOORD (Real) =    444737
  TAB_LABEL (String) = (null)

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl 

>>> "Bart van den Eijnden" <BEN@syncera-itsolutions.nl> 11/21/2005 10:43 AM >>>
Hi list,

I am trying to connect OGR through ODBC to a WKB database. The WKB database was created using TatukGIS (www.tatukgis.com).

I am getting the following error back from OGR:

C:\Programs\FWTools0.9.9>ogrinfo ODBC:synfonie/synfonie@tatukgistest
ERROR 1: No column definitions found for table 'bis_loc_FEA', layer not usable.
INFO: Open of `ODBC:synfonie/synfonie@tatukgistest'
using driver `ODBC' successful.

This is the record in the GEOMETRY_COLUMNS table (in XML format):

<main>
  <DATA_RECORD>
    <F_TABLE_NAME>bis_loc_FEA</F_TABLE_NAME>
    <F_GEOMETRY_COLUMN>GID</F_GEOMETRY_COLUMN>
    <G_TABLE_NAME>bis_loc</G_TABLE_NAME>
    <STORAGE_TYPE>1</STORAGE_TYPE>
    <GEOMETRY_TYPE>11</GEOMETRY_TYPE>
    <COORD_DIMENSION>2</COORD_DIMENSION>
    <MAX_PPR>0</MAX_PPR>
    <SRID>1</SRID>
  </DATA_RECORD>
</main>

The tables are defined as:

CREATE TABLE BIS_LOC
(
  GID           NUMBER(9)                       NOT NULL,
  XMIN          FLOAT(126),
  YMIN          FLOAT(126),
  XMAX          FLOAT(126),
  YMAX          FLOAT(126),
  WKB_GEOMETRY  BLOB
)

CREATE TABLE BIS_LOC_FEA
(
  GID        NUMBER(9)                          NOT NULL,
  LOC_CODE   VARCHAR2(11 BYTE),
  XCOORD     NUMBER(9),
  YCOORD     NUMBER(9),
  TAB_LABEL  VARCHAR2(5 BYTE)
)

What could be the problem? Thanks in advance. It seems TatukGIS does not write SRS info, but that does not seem to be the cause of the above error.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl 


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev 


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev


From BEN at Syncera-ITSolutions.NL  Tue Nov 22 04:03:24 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] specifying FID in connection string
Message-ID: <s382ecef.043@SRV-POSTIX-DFT>

Hi list,

there seem to be occassional problems with the detection of a primary key using ODBC, I have experienced it using Access and now Oracle. Would it be an idea to be able to optionally specify the FID column in the connection string? I think that would solve a lot of issues.

Using my Oracle view I now get:

OGR_ODBC: Table V_BIS_LOC has no identified FID column.

I also tried using the geometry table by itself, and still no FID column could be recognized. Then I tried specifying a primary key constraint on the view with Oracle SQL, but still no FID recognition.

What do people think about this? For my applications it is quite crucial that a primary key is recognized, since otherwise Mapserver queries won't run reliably.

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl



From alperd at ce.metu.edu.tr  Tue Nov 22 06:29:27 2005
From: alperd at ce.metu.edu.tr (=?iso-8859-9?Q?Alper_Din=E7er?=)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Suggestion about project on Pocket PC
Message-ID: <004f01c5ef57$ff18b650$15647a90@alperdincer>

Hi,

 

I am a new member, I have a master thesis about showing satellite images
with road index on pocket pc with local data. 

 

I choose the .Net compact Framework (CF) platform with C#. I have started
the project 2 months ago, but I still don't have idea about how to do the
project. Let me explaing the gaps of my project. The satellite images are
approximately 2 - 10 MB JPEGs. The problem is image size are too big for
pocket PCs. 

 

First I thought about tiling the image like google maps or Ka-map, but it is
very hard to implement on .NET CF without using a mapping server.

 

Then I searched for reading some part of images, I found JPEG2000 has a
property of Region of Interest (ROI), but I didn't find a library or API for
.NET CF. 

 

Now let me ask my questions :

 

1-       Which type of image (TIFF, JPEG vs) you are suggesting to use in
project?

2-       Is there any image type that we can read the interested part
without loading it to the memory?

3-       Is there anybody porting GDAL to .NET CF?

 

 

Alper Din?er

Research Assistant

Geodesy and Photogrammetry Division

Civil Engineering Deparment, METU  

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051122/d78dfd78/attachment.html
From ivan.mjartan at geovap.cz  Tue Nov 22 06:30:29 2005
From: ivan.mjartan at geovap.cz (Ivan Mjartan)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] compile swig problem on windows 
Message-ID: <000e01c5ef58$24b417b0$1a01a8c0@PC24>

Hi there,

I am trying compile swig wraper of gdal for C# on windows. 

But I am still not successful

I have downloaded gdal source and unpack it and than I have followed instruction from manual. 

I have set the location of my SWIG installation in nmake.opt, then a I ran 

nmake /f makefile.vc

everything build fine but swig stuff not what I am doing wrong ?

thanks for reply Ivan 





 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051122/f69fb855/attachment.html
From warmerdam at pobox.com  Tue Nov 22 09:26:06 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Suggestion about project on Pocket PC
In-Reply-To: <004f01c5ef57$ff18b650$15647a90@alperdincer>
References: <004f01c5ef57$ff18b650$15647a90@alperdincer>
Message-ID: <931f8ea90511220626x51edd8e1n42a23dad598e635f@mail.gmail.com>

On 11/22/05, Alper Din?er <alperd@ce.metu.edu.tr> wrote:
> I am a new member, I have a master thesis about showing satellite images
> with road index on pocket pc with local data.
>
> I choose the .Net compact Framework (CF) platform with C#. I have started
> the project 2 months ago, but I still don't have idea about how to do the
> project. Let me explaing the gaps of my project. The satellite images are
> approximately 2 ? 10 MB JPEGs. The problem is image size are too big for
> pocket PCs.
>
> First I thought about tiling the image like google maps or Ka-map, but it is
> very hard to implement on .NET CF without using a mapping server.
>
> Then I searched for reading some part of images, I found JPEG2000 has a
> property of Region of Interest (ROI), but I didn't find a library or API for
> .NET CF.
>
> Now let me ask my questions :
>
> 1-       Which type of image (TIFF, JPEG vs) you are suggesting to use in
> project?

Alper,

It will depend on a variety of factors, but I would think that
using JPEG, but pre-processed into appropriate sized chunks
(and possible with overview layers) would be the easiest approach.
I am assuming you can preprocess your data off the pocket pc,
and then distribute the "optimized" imagery to handheld.

> 2-       Is there any image type that we can read the interested part
> without loading it to the memory?

Various uncompressed formats will support this.  You can also
do this with formats like ECW, JPEG2000 and MrSID as long
as you can get libraries for your platform that support the formats.
The significant advantage of ECW/JP2/SID for your situtation would
be better compression for a desired quality level.

> 3-       Is there anybody porting GDAL to .NET CF?

There is an effort underway to build selected parts of GDAL
under WinCE *and* there is an effort to provide .net bindings
to GDAL that would hopefully port.  However, if you need is just
to display preprocessed RGB images I think GDAL would be
overkill (and perhaps pretty heavy for platform).

Note, the GDAL tools might be very helpful for processing
your images into tiles and overviews on a desktop or server
system before distributing to the pocket pc.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Nov 22 09:33:13 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] specifying FID in connection string
In-Reply-To: <s382ecef.043@SRV-POSTIX-DFT>
References: <s382ecef.043@SRV-POSTIX-DFT>
Message-ID: <931f8ea90511220633h4ba5a16jf6974823fb18259a@mail.gmail.com>

On 11/22/05, Bart van den Eijnden <BEN@syncera-itsolutions.nl> wrote:
> Hi list,
>
> there seem to be occassional problems with the detection of a primary key using ODBC, I have experienced it using Access and now Oracle. Would it be an idea to be able to optionally specify the FID column in the connection string? I think that would solve a lot of issues.
>
> Using my Oracle view I now get:
>
> OGR_ODBC: Table V_BIS_LOC has no identified FID column.
>
> I also tried using the geometry table by itself, and still no FID column could be recognized. Then I tried specifying a primary key constraint on the view with Oracle SQL, but still no FID recognition.
>
> What do people think about this? For my applications it is quite crucial that a primary key is recognized, since otherwise Mapserver queries won't run reliably.

Bart,

A few days ago I added a mechanism to specify the name of
the FID column using the ODBC_OGR_FID configuration variable.

So, in a mapfile you could put:

CONFIG "ODBC_OGR_FID" "ID"

However, this is a global setting, not layer specific.  If this
won't do the trick, let me know and I will add a way to specify
the FID along with the tablename in the datasource name.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From charles.wivell at dnr.state.mn.us  Tue Nov 22 11:17:54 2005
From: charles.wivell at dnr.state.mn.us (Charles Wivell)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] Suggestion about project on Pocket PC
Message-ID: <s382f070.041@co5.dnr.state.mn.us>

Hi all;

I'm writing something like that for the MN DNR (where I work). We do a lot of spot (analog) photography where we need a pilot and a camera operator. What I'm writing uses a BlueTooth GPS to provide location information to the pilot's Pocket PC and the camera operator's Pocket PC. The Pilot's display just shows graphically how to get to the photocenters (in 3D). The camera operator's display shows the photocenters on top of satellite imagery (Landsat). Hopefully, in the future we'll go to digital cameras, then the Pocket PC can automatically fire the cameras.

I'm using embedded VC++ 4.0 to do it. I'm still working on the Pilot's display (almost done), but I have a pretty good idea how to do the operator's display too. I plan on using GeoTiff images loaded onto a SD card (1GB). This card can hold many Landsat images (or a large mosaic), especially since you only care about the VNIR bands. It is pretty easy to hack together a GeoTiff reader (see the GeoTiff spec) to read the part of the image you want into a memory buffer(if the image is not compressed). Once there, you can pretty much do what you want to it.... You can use the GDI or GDI+ libraries to quickly display the image.

In the GeoTiff header there is a file offset to the image data, format of the data (BIP or BSQ) and all the projection information. Using this information you can set your file offset pointer to the data you want to read. I took the USGS GCTP and converted the projections I needed in to C++, so that I can convert from projection parameters to lat/lon or from lat/lon to projection parameters.

Frankly, I only use GDAL to read image data from icky file formats into my memory buffers and then using my own stuff, I do what I need to do and then use GDAL to write the image data out to icky file formats.

As far as vector stuff, my only experience was when I was at EROS and we used the World Vector Shoreline data as a reference to automatically correct AVHRR data and to overlay it onto the AVHRR data. The WVS data was just a list of lat/lons with a flag to indicate whether the point connects to the last point or not.

Hope that helps....?

Chuck Wivell
MN DNR Grand Rapids MN

>>> Frank Warmerdam <warmerdam@pobox.com> 11/22/05 8:26 AM >>>
On 11/22/05, Alper Din?er <alperd@ce.metu.edu.tr> wrote:
> I am a new member, I have a master thesis about showing satellite images
> with road index on pocket pc with local data.
>
> I choose the .Net compact Framework (CF) platform with C#. I have started
> the project 2 months ago, but I still don't have idea about how to do the
> project. Let me explaing the gaps of my project. The satellite images are
> approximately 2 * 10 MB JPEGs. The problem is image size are too big for
> pocket PCs.
>
> First I thought about tiling the image like google maps or Ka-map, but it is
> very hard to implement on .NET CF without using a mapping server.
>
> Then I searched for reading some part of images, I found JPEG2000 has a
> property of Region of Interest (ROI), but I didn't find a library or API for
> .NET CF.
>
> Now let me ask my questions :
>
> 1-       Which type of image (TIFF, JPEG vs) you are suggesting to use in
> project?

Alper,

It will depend on a variety of factors, but I would think that
using JPEG, but pre-processed into appropriate sized chunks
(and possible with overview layers) would be the easiest approach.
I am assuming you can preprocess your data off the pocket pc,
and then distribute the "optimized" imagery to handheld.

> 2-       Is there any image type that we can read the interested part
> without loading it to the memory?

Various uncompressed formats will support this.  You can also
do this with formats like ECW, JPEG2000 and MrSID as long
as you can get libraries for your platform that support the formats.
The significant advantage of ECW/JP2/SID for your situtation would
be better compression for a desired quality level.

> 3-       Is there anybody porting GDAL to .NET CF?

There is an effort underway to build selected parts of GDAL
under WinCE *and* there is an effort to provide .net bindings
to GDAL that would hopefully port.  However, if you need is just
to display preprocessed RGB images I think GDAL would be
overkill (and perhaps pretty heavy for platform).

Note, the GDAL tools might be very helpful for processing
your images into tiles and overviews on a desktop or server
system before distributing to the pocket pc.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com 
light and sound - activate the windows | http://pobox.com/~warmerdam 
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org 
http://lists.maptools.org/mailman/listinfo/gdal-dev


From sureshjunk at gmail.com  Tue Nov 22 13:39:56 2005
From: sureshjunk at gmail.com (Junk Suresh)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] GDAL_Translate "too large to fit in tag" Problem
Message-ID: <910ffe30511221039q4a24a2cdi7ed04e416a0a5a71@mail.gmail.com>

Hello Group,

I'm having some problem converting modis MOD09A1datasets into GeoTiff.
The command I'm running is

gdal_translate.exe -sds
"C:\MODISASC\unzipped\MOD09A1.A2000153.fn_bwghanzi.004.2003020051319.hdf"
C:\MODISASC\MOD09A1_A2000153_fn_bwghanzi_tif

The problem is that the Tif images are created but the projection
information is missing. It puts a dummy 0,0 value for the Easting and
Northing. The error message I get is " Lost metadata writing to GeoTIFF ...
too large to fit in tag".

Any ideas as to why this error is popping out. I was able to successfully
convert another MOD09A1 data set at a different location, this one was
correctly georeferenced. When i did a gdalinfo on the files it turns out the
file with the problem has a slightly different LOCALGRANULEID (this one is
spread over two lines)

LOCALGRANULEID=/ss1/ftp/incoming/subsets/TERRA/MOD_SS.&
MOD09A1.A2000153.fn_bwghanzi.004.2003020051319.hdf

The file with no problem has
LOCALGRANULEID=MOD_SS.MOD09A1.A2000145.fn_czbilykr.004.2003017145533.hdf

Could this be a the reason why the tag doesn't fit.

Please help me figure this one.

Any help would be greatly appreciated.

Many thanks

Suresh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051122/dbdd0a15/attachment.html
From szekerest at gmail.com  Tue Nov 22 14:06:54 2005
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] compile swig problem on windows 
In-Reply-To: <000e01c5ef58$24b417b0$1a01a8c0@PC24>
Message-ID: <43836c2c.01c5034c.78d7.ffff9418@mx.gmail.com>

Ivan,

 

Please check if the problem described in

 

HYPERLINK
"http://bugzilla.remotesensing.org/show_bug.cgi?id=949"http://bugzilla.remot
esensing.org/show_bug.cgi?id=949

 

applies to your problem.

 

 

Tamas

 

 

   _____  

From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Ivan Mjartan
Sent: Tuesday, November 22, 2005 12:30 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] compile swig problem on windows 

 

Hi there,

 

I am trying compile swig wraper of gdal for C# on windows. 

 

But I am still not successful

 

I have downloaded gdal source and unpack it and than I have followed
instruction from manual. 

 

I have set the location of my SWIG installation in nmake.opt, then a I ran 

 

nmake /f makefile.vc

 

everything build fine but swig stuff not what I am doing wrong ?

 

thanks for reply Ivan 

 

 

 

 

 

 


--
No virus found in this incoming message.
Checked by AVG Free Edition.
Version: 7.1.362 / Virus Database: 267.13.5/178 - Release Date: 2005.11.22.



-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.362 / Virus Database: 267.13.5/178 - Release Date: 2005.11.22.
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051122/44b5f255/attachment.html
From assefa at dmsolutions.ca  Tue Nov 22 15:25:40 2005
From: assefa at dmsolutions.ca (Yewondwossen Assefa)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] ECW build questions on Windows
Message-ID: <43837EC4.6040800@dmsolutions.ca>

Hi there,

  To build gdal with ECW on windows, I tried to use the sdk windows 
binaries provided at ermapper. The problem I had was that the sdk 
provided does not have all the header files necessary to build with gdal 
(I was missing to start with NCSJP2File.h).  These header files are 
available if I download a package with the source code. The "anoying" 
thing is that the package of source code and the pacage of binaries are 
not the same version (at least I could not locate one on the ain 
download page).
  My question is that how do people usually do this on wondows ? Is the 
only choice builing the package locally ?

Thanks

-- 
----------------------------------------------------------------
Assefa Yewondwossen
Software Analyst

Email: assefa@dmsolutions.ca
http://www.dmsolutions.ca/

Phone: (613) 565-5056 (ext 14)
Fax:   (613) 565-0925
----------------------------------------------------------------



From warmerdam at pobox.com  Tue Nov 22 18:37:50 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] GDAL_Translate "too large to fit in tag" Problem
In-Reply-To: <910ffe30511221039q4a24a2cdi7ed04e416a0a5a71@mail.gmail.com>
References: <910ffe30511221039q4a24a2cdi7ed04e416a0a5a71@mail.gmail.com>
Message-ID: <931f8ea90511221537j632d16f0ra9b2be424ef3bc5b@mail.gmail.com>

On 11/22/05, Junk Suresh <sureshjunk@gmail.com> wrote:
> Hello Group,
>
>   I'm having some problem converting  modis MOD09A1datasets into GeoTiff.
>  The command I'm running is
>
>  gdal_translate.exe -sds
> "C:\MODISASC\unzipped\MOD09A1.A2000153.fn_bwghanzi.004.2003020051319.hdf"
> C:\MODISASC\MOD09A1_A2000153_fn_bwghanzi_tif
>
>  The problem is that the Tif images are created but the projection
> information is missing. It puts a dummy 0,0 value for the Easting and
> Northing. The error message I get is " Lost metadata writing to GeoTIFF ...
> too large to fit in tag".
>
>  Any ideas as to why this error is popping out. I was able to successfully
> convert another MOD09A1 data set at a different location, this one was
> correctly georeferenced. When i did a gdalinfo on the files it turns out the
> file with the problem has a slightly different LOCALGRANULEID (this one is
> spread over two lines)

Junk Suresh,

I think the problem is that the file has too many GCPs to
be written to the tag in the GeoTIFF file.  One possible
solution is to rectify the image with gdalwarp before
writing to GeoTIFF.   But you can also feel free to file
this as a bug.  I ought to do something about it.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Nov 22 18:48:23 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] ECW build questions on Windows
In-Reply-To: <43837EC4.6040800@dmsolutions.ca>
References: <43837EC4.6040800@dmsolutions.ca>
Message-ID: <931f8ea90511221548w6645e65dk77e93ab6e3bb85ea@mail.gmail.com>

On 11/22/05, Yewondwossen Assefa <assefa@dmsolutions.ca> wrote:
> Hi there,
>
>   To build gdal with ECW on windows, I tried to use the sdk windows
> binaries provided at ermapper. The problem I had was that the sdk
> provided does not have all the header files necessary to build with gdal
> (I was missing to start with NCSJP2File.h).  These header files are
> available if I download a package with the source code. The "anoying"
> thing is that the package of source code and the pacage of binaries are
> not the same version (at least I could not locate one on the ain
> download page).
>   My question is that how do people usually do this on wondows ? Is the
> only choice builing the package locally ?

Assefa,

Put this way, I think you will need to try building the
ECW SDK from source.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From West.Card at cte.aecom.com  Tue Nov 22 13:10:31 2005
From: West.Card at cte.aecom.com (Card, West)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] VB6 problems gdal_fw.dll reference
Message-ID: <DF26486293FCA742B9B91016E0B65100477551@usla1ex4.na.aecomnet.com>

I am trying to use your lib's within VB6  but I am unable to get
anything to work.  I tried the VB6 test program but for some reason VB
states that it can't create a reference to the gdal_fw.dll.  Is there
some reason for this that I am missing?

 

West L. Card

Admin Assistant.

T 509.535.5454 F 509.535.5725



CTE 140 S. Arthur St.

Suite 500

Spokane, Washington 99202

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051122/f2c57bd8/attachment.html
From werchowyna at epf.pl  Wed Nov 23 05:03:15 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] pronounce gdal, proj
Message-ID: <1132740195.27417.13.camel@localhost.localdomain>

Frank, All,

How do I pronounce PROJ in English? In few days I will have to speak
English about PROJ.4 and GDAL for the first time. Regarding Gdal, I read
it should be like "goodle", is that true?

Cheers,
Maciek


--------------------
W polskim Internecie s setki milionw stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/


From matt.wilkie at gov.yk.ca  Wed Nov 23 10:45:52 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] pronounce gdal, proj]
Message-ID: <43848EB0.9080303@gov.yk.ca>

Maciek Sieczka wrote:
> Frank, All,
> 
> How do I pronounce PROJ in English? In few days I will have to speak
> English about PROJ.4 and GDAL for the first time. Regarding Gdal, I read
> it should be like "goodle", is that true?

personally I say "proj" and "jee-dal". Frank says something like
"guhdal". One time when speaking to him on the phone I was confused for
some time, trying to figure out why kept bringing "google" into the
conversation. :)

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From adidassneakers at yahoo.com  Wed Nov 23 10:47:38 2005
From: adidassneakers at yahoo.com (Matthew Roberson)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] problem with config...
Message-ID: <20051123154738.86722.qmail@web80806.mail.yahoo.com>

Hello,

I am attempting to compile gdal-1.3.1 on OS X 10.4.2. 
I am getting an error when I run config and I am
hoping somebody can help me figure out how to resolve
the problem.  

The error is:

checking for XTIFFClientOpen in -lgeotiff... no
configure: error: We require at least GeoTIFF 1.2.1.
Consider using the one supplied with GDAL

At the end of this message I have include the config
statement I used and the output it generated.  I would
greatly appreciate any help anyone can offer.

Thanks,

Matt

Matthew-Robersons-Computer:/dls/gdal-1.3.1
matthewroberson$ cd ..     
Matthew-Robersons-Computer:/dls matthewroberson$ tar
-zxf gdal-1.3.1.tar.gzMatthew-Robersons-Computer:/dls
matthewroberson$ cd
gdal-1.3.1Matthew-Robersons-Computer:/dls/gdal-1.3.1
matthewroberson$ ./configure
--mandir=/usr/local/share/man --without-python
--with-threads --with-static-proj4=/usr/local
--with-libtiff=/usr/local --with-geotiff=/usr/local
--with-jpeg=/usr/local --with-gif=/usr/local
--with-png=/usr/local --with-jasper=/usr/local
--with-pg=/usr/local/pgsql/bin/pg_config
--with-mysql=/usr/local/mysql/bin/mysql_config
--with-netcdf=/dls/netcdf-3.6.0-p1/src
--with-hdf4=/dls/HDF4.2r1/hdf4.2r1-darwin
--with-ogdi=/usr/local
--with-geos=/usr/local/bin/geos-config
checking build system type...
powerpc-apple-darwin8.3.0
checking host system type... powerpc-apple-darwin8.3.0
checking target system type...
powerpc-apple-darwin8.3.0
checking for gcc... gcc
checking for C compiler default output file name...
a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler...
yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none
needed
checking for g++... g++
checking whether we are using the GNU C++ compiler...
yes
checking whether g++ accepts -g... yes
checking for a sed that does not truncate output...
/usr/bin/sed
checking for egrep... grep -E
checking for ld used by gcc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... no
checking for /usr/bin/ld option to reload object
files... -r
checking for BSD-compatible nm... /usr/bin/nm -p
checking whether ln -s works... yes
checking how to recognise dependent libraries...
pass_all
checking how to run the C preprocessor... gcc -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking how to run the C++ preprocessor... g++ -E
checking for g77... no
checking for f77... no
checking for xlf... no
checking for frt... no
checking for pgf77... no
checking for fort77... no
checking for fl32... no
checking for af77... no
checking for f90... no
checking for xlf90... no
checking for pgf90... no
checking for epcf90... no
checking for f95... no
checking for fort... no
checking for xlf95... no
checking for ifc... no
checking for efc... no
checking for pgf95... no
checking for lf95... no
checking for gfortran... no
checking whether we are using the GNU Fortran 77
compiler... no
checking whether  accepts -g... no
checking the maximum length of command line
arguments... 65536
checking command to parse /usr/bin/nm -p output from
gcc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if gcc static flag  works... yes
checking if gcc supports -fno-rtti -fno-exceptions...
no
checking for gcc option to produce PIC... -fno-common
checking if gcc PIC flag -fno-common works... yes
checking if gcc supports -c -o file.o... yes
checking whether the gcc linker (/usr/bin/ld) supports
shared libraries... yes
checking dynamic linker characteristics... darwin8.3.0
dyld
checking how to hardcode library paths into
programs... immediate
checking whether stripping libraries is possible...
yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... yes
configure: creating libtool
appending configuration tag "CXX" to libtool
checking for ld used by g++... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... no
checking whether the g++ linker (/usr/bin/ld) supports
shared libraries... yes
checking for g++ option to produce PIC... -fno-common
checking if g++ PIC flag -fno-common works... yes
checking if g++ supports -c -o file.o... yes
checking whether the g++ linker (/usr/bin/ld) supports
shared libraries... yes
checking dynamic linker characteristics... darwin8.3.0
dyld
checking how to hardcode library paths into
programs... immediate
checking whether stripping libraries is possible...
yes
appending configuration tag "F77" to libtool
checking for dlopen in -ldl... yes
checking for nanosleep in -lrt... no
checking for ANSI C header files... (cached) yes
checking assert.h usability... yes
checking assert.h presence... yes
checking for assert.h... yes
checking fcntl.h usability... yes
checking fcntl.h presence... yes
checking for fcntl.h... yes
checking for unistd.h... (cached) yes
checking dbmalloc.h usability... no
checking dbmalloc.h presence... no
checking for dbmalloc.h... no
checking for dlfcn.h... (cached) yes
checking for stdint.h... (cached) yes
checking limits.h usability... yes
checking limits.h presence... yes
checking for limits.h... yes
checking locale.h usability... yes
checking locale.h presence... yes
checking for locale.h... yes
checking values.h usability... no
checking values.h presence... no
checking for values.h... no
checking float.h usability... yes
checking float.h presence... yes
checking for float.h... yes
checking whether byte ordering is bigendian... yes
checking for 64bit integer type... long long
checking for 64bit file io... yes
checking for int... yes
checking size of int... 4
checking for long... yes
checking size of long... 4
checking for int8... no
checking for int16... no
checking for int32... no
checking native cpu bit order... msb2lsb
checking for vprintf... yes
checking for _doprnt... no
checking for vsnprintf... yes
checking for snprintf... yes
checking for atoll... yes
checking for gmtime_r... yes
checking for localtime_r... yes
checking for setlocale... yes
checking for local include/lib path... none
checking for pthread_create in -lpthread... yes
checking for deflateInit_ in -lz... yes
using pre-installed libz
checking for PostgreSQL... yes
checking for G_gisinit_2 in -lgrass5... no
checking for ffopen in -lcfitsio... no
libcfitsio not found - FITS support disabled
checking for Mopen in -lcsf... no
checking csf.h usability... no
checking csf.h presence... no
checking for csf.h... no
using internal csf code.
using libnetcdf from /dls/netcdf-3.6.0-p1/src.
using libpng from /usr/local.
using libtiff from /usr/local.
checking for XTIFFClientOpen in -lgeotiff... no
configure: error: We require at least GeoTIFF 1.2.1.
Consider using the one supplied with GDAL
Matthew-Robersons-Computer:/dls/gdal-1.3.1
matthewroberson$ 

From warmerdam at pobox.com  Wed Nov 23 11:13:07 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] pronounce gdal, proj
In-Reply-To: <1132740195.27417.13.camel@localhost.localdomain>
References: <1132740195.27417.13.camel@localhost.localdomain>
Message-ID: <931f8ea90511230813i6a5acdbfh3d52ee64886198e3@mail.gmail.com>

On 11/23/05, Maciek Sieczka <werchowyna@epf.pl> wrote:
> Frank, All,
>
> How do I pronounce PROJ in English? In few days I will have to speak
> English about PROJ.4 and GDAL for the first time. Regarding Gdal, I read
> it should be like "goodle", is that true?

Maciek,

I pronounce it "goodle".  I had originally thought to call it the
"Geospatial Object Oriented Data Abstraction Library" (GOODAL)
to make the right sound obvious, but I was too lazy to type GOODAL
all the time, so I dropped the OO part.   Some folks might say I
dropped it from more than the name. :-)

Most folks pronounce the library "gee-dal" which is ok too but not
my preference.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Nov 23 11:15:35 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] problem with config...
In-Reply-To: <20051123154738.86722.qmail@web80806.mail.yahoo.com>
References: <20051123154738.86722.qmail@web80806.mail.yahoo.com>
Message-ID: <931f8ea90511230815l1bf55fa4r67ebab283c125db7@mail.gmail.com>

On 11/23/05, Matthew Roberson <adidassneakers@yahoo.com> wrote:
> Hello,
>
> I am attempting to compile gdal-1.3.1 on OS X 10.4.2.
> I am getting an error when I run config and I am
> hoping somebody can help me figure out how to resolve
> the problem.
>
> The error is:
>
> checking for XTIFFClientOpen in -lgeotiff... no
> configure: error: We require at least GeoTIFF 1.2.1.
> Consider using the one supplied with GDAL

Matthew,

You might want to look in config.log to see if there are clues
to why the test for XTIFFClientOpen failed.  I assume you do
have a recent copy of libgeotiff?

If you have no compelling need to use an external libgeotiff
and libtiff, you can just drop the configure switches for these
and let GDAL use its internal copy.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rsignell at usgs.gov  Wed Nov 23 11:16:12 2005
From: rsignell at usgs.gov (Rich Signell)
Date: Wed Nov 21 11:49:52 2007
Subject: [Gdal-dev] pronounce gdal, proj]
In-Reply-To: <43848EB0.9080303@gov.yk.ca>
References: <43848EB0.9080303@gov.yk.ca>
Message-ID: <438495CC.90605@usgs.gov>

Just to chime in:

The only way I've ever heard GDAL pronounced is
"JEE-DAL", pronounced to rhyme with "Hal".

And PROJ is always pronounced to rhyme with "Lodge".
Gerry Evenden, the creator of Proj, was here at the USGS in Woods 
Hole when I signed on, and that's how we always pronounce it.

-Rich


Matt Wilkie wrote:
> Maciek Sieczka wrote:
> 
>> Frank, All,
>>
>> How do I pronounce PROJ in English? In few days I will have to speak
>> English about PROJ.4 and GDAL for the first time. Regarding Gdal, I read
>> it should be like "goodle", is that true?
> 
> 
> personally I say "proj" and "jee-dal". Frank says something like
> "guhdal". One time when speaking to him on the phone I was confused for
> some time, trying to figure out why kept bringing "google" into the
> conversation. :)
> 
> cheers,
> 

-- 
Richard P. Signell
U.S. Geological Survey       Phone: (508) 457-2229
384 Woods Hole Road          Fax:   (508) 457-2310
Woods Hole, MA  02543-1598

From warmerdam at pobox.com  Wed Nov 23 11:27:47 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] VB6 problems gdal_fw.dll reference
In-Reply-To: <DF26486293FCA742B9B91016E0B65100477551@usla1ex4.na.aecomnet.com>
References: <DF26486293FCA742B9B91016E0B65100477551@usla1ex4.na.aecomnet.com>
Message-ID: <931f8ea90511230827r1f7b49acv3a327f2880ddbf94@mail.gmail.com>

On 11/22/05, Card, West <West.Card@cte.aecom.com> wrote:
>
>
>
> I am trying to use your lib's within VB6  but I am unable to get anything to
> work.  I tried the VB6 test program but for some reason VB states that it
> can't create a reference to the gdal_fw.dll.  Is there some reason for this
> that I am missing?

West,

My approach to dealing with this is to edit the starting
directory of the VB6 icon to be the FWTools directory.
That ensures that the gdal_fw.dll and all related DLLs
are found without any problem.

Another approach might be to dump all DLLs from the
FWTools\bin directory into windows\system32, but I
abhor doing that, so I'm not encouraging it.

I am not exactly sure how this is supposed to be addressed
in a "proper" VB6 app depending on external DLLs.  Note
it isn't enough to include the specific paths to the gdal_fw.dll
in the vb6 declarations, because gdal_fw.dll in turn depends
on alot of DLLs.

PS. I have cc:ed the gdal-vb6-appdev list in case there is
better advice there.  That would be the best place to discuss
VB6 issues.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From woklist at kyngchaos.com  Wed Nov 23 12:37:35 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] problem with config...
In-Reply-To: <20051123154738.86722.qmail@web80806.mail.yahoo.com>
References: <20051123154738.86722.qmail@web80806.mail.yahoo.com>
Message-ID: <099696BF-E1B0-42FC-9069-B462D8E07E01@kyngchaos.com>

Matt, the trailing slash thing didn't work?

 From your previous email, the thing the log said it couldn't find  
was netcdf, which had the trailing slash and led me in that  
direction.  Another look at your config line and I think I really  
have it this time: when I say in my instructions to drag the install  
folder of netcdf, I mean the folder where the lib, include and src  
subfolders are, not the src folder itself.  That's probably why it  
can't find netcdf.

On Nov 23, 2005, at 9:47 AM, Matthew Roberson wrote:

> Hello,
>
> I am attempting to compile gdal-1.3.1 on OS X 10.4.2.
> I am getting an error when I run config and I am
> hoping somebody can help me figure out how to resolve
> the problem.
>
> The error is:
>
> checking for XTIFFClientOpen in -lgeotiff... no
> configure: error: We require at least GeoTIFF 1.2.1.
> Consider using the one supplied with GDAL
>
> At the end of this message I have include the config
> statement I used and the output it generated.  I would
> greatly appreciate any help anyone can offer.
>

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

Theory of the Universe

There is a theory which states that if ever anyone discovers exactly  
what the universe is for and why it is here, it will instantly  
disappear and be replaced by something even more bizarrely  
inexplicable.  There is another theory which states that this has  
already happened.

-Hitchhiker's Guide to the Galaxy 2nd season intro


From mateusz at loskot.net  Wed Nov 23 12:47:19 2005
From: mateusz at loskot.net (Mateusz =?iso-8859-2?Q?=A3oskot?=)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] pronounce gdal, proj
In-Reply-To: <1132740195.27417.13.camel@localhost.localdomain>
References: <1132740195.27417.13.camel@localhost.localdomain>
Message-ID: <35134.127.0.0.1.1132768039.squirrel@loskot.net>

On Wed, Listopad 23, 2005 11:03 am, Maciek Sieczka napisa?(a):
> Frank, All,
>
> How do I pronounce PROJ in English? In few days I will have to speak
> English about PROJ.4 and GDAL for the first time. Regarding Gdal, I read
> it should be like "goodle", is that true?
>

Maciek, hehe, it seems you have got interesting material about the
evolution of GDAL name and pronouncement variations what could be funny
for the end of your speech :-)

BTW, let me ask you, where you'll have this speech? On a conference?

Good Luck!

-- 
Mateusz ?oskot
http://mateusz.loskot.net

From buckmasterjunior at yahoo.com  Wed Nov 23 13:46:07 2005
From: buckmasterjunior at yahoo.com (Gerald Buckmaster)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] VB6 problems gdal_fw.dll reference
In-Reply-To: <DF26486293FCA742B9B91016E0B65100477551@usla1ex4.na.aecomnet.com>
Message-ID: <20051123184607.21993.qmail@web33507.mail.mud.yahoo.com>

  West,
   
  You are seeing a portion of this reply twice, as I neglected to reply back everyone the first time.
   
  I had the same problem about a month ago.  If I recall right, adding the path to gdal_fw.dll to the system variable 'PATH' and restarting VB6 seemed to do the trick.
   
  There still exists the problem everytime you upgrade FWTools, you would need to change your PATH to reflect the location of gdal_fw.dll. 
   
  This "need" leads to a number of possible "fixes". 
   
  One might be a modification to Frank's installation script - is it possible to find and replace an existing FWTools entry in the system variable PATH automatically in the FWTools installation script?
   
  Another "fix" might be implementing a installation strategy that preserves a generic directory, i.e. FWTools vice FWTools1.0.0a3.  You would still have a need to set PATH, but it would only need to be accomplished once.  Of course an uninstall would need to remove the entry as well.
   
  Another "fix" could be to determine which GDAL libraries are critical to your VB6 app and implement a custom installation of GDAL...though this could be a configuration nightmare if done without a thorough plan, and MIT licensing may preclude a "partial" installation.  
   
  What do you think Frank?  Are you using MSI for FWTools installation?
   
  Buck
   
  BTW - I recently started a Yahoo! group called gdal-vb6-appdev.  Not very many members, but it might be good to share VB6-gdal programming tricks and tips there.
  http://groups.yahoo.com/group/gdal-vb6-appdev/


"Card, West" <West.Card@cte.aecom.com> wrote:
        st1\:*{behavior:url(#default#ieooui) }                I am trying to use your lib?s within VB6  but I am unable to get anything to work.  I tried the VB6 test program but for some reason VB states that it can?t create a reference to the gdal_fw.dll.  Is there some reason for this that I am missing?
   
  West L. Card
  Admin Assistant.
  T 509.535.5454 F 509.535.5725


  CTE 140 S. Arthur St.
  Suite 500
  Spokane, Washington 99202
   

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev



Gerald Buckmaster
EAC Society Member# 3086
Ebay Store: American Copper Coins
United States Air Force Retired
		
---------------------------------
 Yahoo! FareChase - Search multiple travel sites in one click.  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051123/0cea86c2/attachment.html
From warmerdam at pobox.com  Wed Nov 23 14:46:04 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [gdal-vb6-appdev] Re: [Gdal-dev] VB6 problems gdal_fw.dll
	reference
In-Reply-To: <20051123184607.21993.qmail@web33507.mail.mud.yahoo.com>
References: <DF26486293FCA742B9B91016E0B65100477551@usla1ex4.na.aecomnet.com>
	<20051123184607.21993.qmail@web33507.mail.mud.yahoo.com>
Message-ID: <931f8ea90511231146h506fd06u30d801ce9b61f432@mail.gmail.com>

On 11/23/05, Gerald Buckmaster <buckmasterjunior@yahoo.com> wrote:
> One might be a modification to Frank's installation script - is it possible
> to find and replace an existing FWTools entry in the system variable PATH
> automatically in the FWTools installation script?

Gerald,

I specifically avoid updating PATH to avoid having FWTools conflict
with other packages with shared components on the system.  However,
you might well want to setup a "GDAL_BIN" directory somewhere, point
your PATH to include it, and when you want to upgrade to a newer
FWTools just copy all DLLs from FWTools\bin to it.

> Another "fix" might be implementing a installation strategy that preserves a
> generic directory, i.e. FWTools vice FWTools1.0.0a3.  You would still have a
> need to set PATH, but it would only need to be accomplished once.  Of course
> an uninstall would need to remove the entry as well.

I think you can pick an install directory, so you could always remove the
version info from the install path at install time.  If you do this, it is
best to uninstall the previous version before installing over it, though
this isn't strictly necessary.  It just avoid having old icons around with
confusing version information.

> Another "fix" could be to determine which GDAL libraries are critical to
> your VB6 app and implement a custom installation of GDAL...though this could
> be a configuration nightmare if done without a thorough plan, and MIT
> licensing may preclude a "partial" installation.

This is fine as far as I know.

> What do you think Frank?  Are you using MSI for FWTools installation?

I don't use MSI, I use "NSIS" for the installer stuff.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From werchowyna at epf.pl  Wed Nov 23 15:02:49 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] pronounce gdal, proj
In-Reply-To: <35134.127.0.0.1.1132768039.squirrel@loskot.net>
References: <1132740195.27417.13.camel@localhost.localdomain>
	<35134.127.0.0.1.1132768039.squirrel@loskot.net>
Message-ID: <1132776169.850.25.camel@localhost.localdomain>

Hi,

First of all - thanks to all who helped me to sort out the
pronunciation! Cheers!

On ?ro, 2005-11-23 at 18:47 +0100, Mateusz ?oskot wrote:
> On Wed, Listopad 23, 2005 11:03 am, Maciek Sieczka napisa?(a):
> > Frank, All,
> >
> > How do I pronounce PROJ in English? In few days I will have to speak
> > English about PROJ.4 and GDAL for the first time. Regarding Gdal, I read
> > it should be like "goodle", is that true?
> >
> 
> Maciek, hehe, it seems you have got interesting material about the
> evolution of GDAL name and pronouncement variations what could be funny
> for the end of your speech :-)

True :). However, whole my English speach might be funny enough
alone ;).

> BTW, let me ask you, where you'll have this speech? On a conference?
There is a project at the institute of meteorology at the Uni of
Wroclaw which I'm involved in. A part of my job is an introduction into
coordinate system handling in Grass, geodata reprojection etc. And I
need to do it in English as there will be several non-Poles.

BTW, that's the main reason there is no open Grass workshop this year at
meteo like every year :(. This year it is striclty focused on using
Grass for the mentioned project.

Maciek


--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/


From werchowyna at epf.pl  Wed Nov 23 15:03:16 2005
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] pronounce gdal, proj
In-Reply-To: <35134.127.0.0.1.1132768039.squirrel@loskot.net>
References: <1132740195.27417.13.camel@localhost.localdomain>
	<35134.127.0.0.1.1132768039.squirrel@loskot.net>
Message-ID: <1132776196.850.27.camel@localhost.localdomain>

Hi,

First of all - thanks to all who helped me to sort out the
pronunciation! Cheers!

On ?ro, 2005-11-23 at 18:47 +0100, Mateusz ?oskot wrote:
> On Wed, Listopad 23, 2005 11:03 am, Maciek Sieczka napisa?(a):
> > Frank, All,
> >
> > How do I pronounce PROJ in English? In few days I will have to speak
> > English about PROJ.4 and GDAL for the first time. Regarding Gdal, I read
> > it should be like "goodle", is that true?
> >
> 
> Maciek, hehe, it seems you have got interesting material about the
> evolution of GDAL name and pronouncement variations what could be funny
> for the end of your speech :-)

True :). However, whole my English speach might be funny enough
alone ;).

> BTW, let me ask you, where you'll have this speech? On a conference?
There is a project at the institute of meteorology at the Uni of
Wroclaw which I'm involved in. A part of my job is an introduction into
coordinate system handling in Grass, geodata reprojection etc. And I
need to do it in English as there will be several non-Poles.

BTW, that's the main reason there is no open Grass workshop this year at
meteo like every year :(. This year it is striclty focused on using
Grass for the mentioned project.

Maciek


--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.epf.pl/


From mateusz at loskot.net  Wed Nov 23 15:45:08 2005
From: mateusz at loskot.net (Mateusz =?iso-8859-2?Q?=A3oskot?=)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] pronounce gdal, proj
In-Reply-To: <1132776169.850.25.camel@localhost.localdomain>
References: <1132740195.27417.13.camel@localhost.localdomain> 
	<35134.127.0.0.1.1132768039.squirrel@loskot.net>
	<1132776169.850.25.camel@localhost.localdomain>
Message-ID: <51243.127.0.0.1.1132778708.squirrel@loskot.net>

On Wed, Listopad 23, 2005 9:02 pm, Maciek Sieczka napisa?(a):
> On ?ro, 2005-11-23 at 18:47 +0100, Mateusz ?oskot wrote:
>>
>> Maciek, hehe, it seems you have got interesting material about the
>> evolution of GDAL name and pronouncement variations what could be funny
>> for the end of your speech :-)
>
> True :). However, whole my English speach might be funny enough
> alone ;).

I'm sure you'll do it well.

>> BTW, let me ask you, where you'll have this speech? On a conference?
>
> There is a project at the institute of meteorology at the Uni of
> Wroclaw which I'm involved in. A part of my job is an introduction into
> coordinate system handling in Grass, geodata reprojection etc. And I
> need to do it in English as there will be several non-Poles.

Nice, interesting.

>
> BTW, that's the main reason there is no open Grass workshop this year at
> meteo like every year :(.

Yes, I was wondering why we don't have GRASS meeting this year.
I deduced founds problems etc. I hope we will meet next year, may be in
next spring. Good Luck!

-- 
Mateusz ?oskot
http://mateusz.loskot.net

From sieczka at biol.uni.wroc.pl  Wed Nov 23 04:33:37 2005
From: sieczka at biol.uni.wroc.pl (sieczka@biol.uni.wroc.pl)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] pronounce gdal, proj
Message-ID: <1132738417.27417.11.camel@localhost.localdomain>

Frank, All,

How do I pronounce PROJ in English? In few days I will have to speak
English about PROJ.4 and GDAL for the first time. Regarding Gdal, I read
it should be like "goodle", is that true?

Cheers,
Maciek


From fx.gamoy at mapxplore.com  Thu Nov 24 08:39:07 2005
From: fx.gamoy at mapxplore.com (FX GAMOY)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] compiling gdal with ECW capabilities
Message-ID: <200511241439.07816.fx.gamoy@mapxplore.com>

Hello everybody

i ve successfully compiled ecw sdk 3.3 package on my amd64 box (gentoo 
distrib) and installed the librairy and source code on /usr/local

When i try to configure gdal --with-ecw=/usr/local , gdal is not able to see 
the ECW librairy.

I ve read some posts talking about this but i can't understand the solution..

"I think the include files need to be in /usr/local/include. ?I think
the issue is that some include files were not normally considered
public but are needed by GDAL. ?As a workaround I would
suggest copying /usr/local/Source/include/* to /usr/local/include.
Did you unpack your ECW SDK right in /usr/local? ?That seems
pretty messy"

i did the copy of my home/source/libecwj2/include/* into /usr/local/include
all the libNCSE* are in /usr/local/lib
but gdal don't see those files...
Do i have to copy all the directory libecwj2-3.3 in usr/local and get
/usr/local/libecwj2-3.3/* ???

I think i ve missed something... :-)

thanks 
best regards
fx


From bigfoot at main-task.com  Thu Nov 24 12:59:01 2005
From: bigfoot at main-task.com (=?ISO-8859-1?Q?Vladimir_Guzm=E1n?=)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] compiling gdal with ECW capabilities
In-Reply-To: <200511241439.07816.fx.gamoy@mapxplore.com>
References: <200511241439.07816.fx.gamoy@mapxplore.com>
Message-ID: <4385FF65.9070709@main-task.com>

fx:
I had some problems compiling gdal under amd64 too.
The way I 'fixed' it was manually editing the configure file, and 
looking for the line which was causing the problem.
Next, almost always, the trick was to change the references to 
/usr/local/lib or /usr/lib to /usr/local/lib64 or /usr/lib64.

Hope that helps,

Vladimir Ilich Guzm?n R.
------------------------
http://maintask.com 



FX GAMOY escribi?:

>Hello everybody
>
>i ve successfully compiled ecw sdk 3.3 package on my amd64 box (gentoo 
>distrib) and installed the librairy and source code on /usr/local
>
>When i try to configure gdal --with-ecw=/usr/local , gdal is not able to see 
>the ECW librairy.
>
>I ve read some posts talking about this but i can't understand the solution..
>
>"I think the include files need to be in /usr/local/include.  I think
>the issue is that some include files were not normally considered
>public but are needed by GDAL.  As a workaround I would
>suggest copying /usr/local/Source/include/* to /usr/local/include.
>Did you unpack your ECW SDK right in /usr/local?  That seems
>pretty messy"
>
>i did the copy of my home/source/libecwj2/include/* into /usr/local/include
>all the libNCSE* are in /usr/local/lib
>but gdal don't see those files...
>Do i have to copy all the directory libecwj2-3.3 in usr/local and get
>/usr/local/libecwj2-3.3/*  ??
>
>I think i ve missed something... :-)
>
>thanks 
>best regards
>fx
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
>  
>

From matt.wilkie at gov.yk.ca  Fri Nov 25 12:59:28 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] gdaladdo to jpeg compressed tif?
Message-ID: <43875100.9040301@gov.yk.ca>

Hello there,

Should I be able to add overviews to a jpeg compressed tif? I have a 
batchfile I created a month ago which does:

    for /d %%a in (0* 1*) do (
      gdal_translate  %%a\dem_sh %outdir%\shade_%%a.tif -co "compress=jpeg"
      gdaladdo %outdir%\shade_%%a.tif 2 4 8 16
     )

however now when I run it, I get errors like this:

    gdaladdo -r average shade_095.tif 2 4 8 16
    0...10...20...30...40...50...60...70..
    Assertion failed:  sp->cinfo.comm.is_decompressor,
    file tif_jpeg.c, line 675

    This application has requested the Runtime to terminate it
    in an unusual way.
    Please contact the application's support team for more information.

So either I never actually test the code above or the version I'm using 
  is broken (GDAL 1.3.1.0, FWTools 1.0.0a6, released 2005/11/03).


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From warmerdam at pobox.com  Fri Nov 25 13:38:02 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] gdaladdo to jpeg compressed tif?
In-Reply-To: <43875100.9040301@gov.yk.ca>
References: <43875100.9040301@gov.yk.ca>
Message-ID: <931f8ea90511251038vf546a22ke10a54e1d4866d8@mail.gmail.com>

On 11/25/05, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:
> Hello there,
>
> Should I be able to add overviews to a jpeg compressed tif? I have a
> batchfile I created a month ago which does:
>
>     for /d %%a in (0* 1*) do (
>       gdal_translate  %%a\dem_sh %outdir%\shade_%%a.tif -co "compress=jpeg"
>       gdaladdo %outdir%\shade_%%a.tif 2 4 8 16
>      )
>
> however now when I run it, I get errors like this:
>
>     gdaladdo -r average shade_095.tif 2 4 8 16
>     0...10...20...30...40...50...60...70..
>     Assertion failed:  sp->cinfo.comm.is_decompressor,
>     file tif_jpeg.c, line 675
>
>     This application has requested the Runtime to terminate it
>     in an unusual way.
>     Please contact the application's support team for more information.
>
> So either I never actually test the code above or the version I'm using
>   is broken (GDAL 1.3.1.0, FWTools 1.0.0a6, released 2005/11/03).

Matt,

I thought this worked for RGB JPEG data.  But I know it is broken
for YCbCr JPEG data in TIFF (the more common format).  Can
you provide one of the files for me to examine?

I have a client paying me to fixup overview building in YCbCr color
model JPEG compressed TIFF files over the next week so this is
a good time for me to collect samples.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Fri Nov 25 14:06:00 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] SDE Implementation
Message-ID: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>

Howard,

I have now have the essentials of the read-only SDE vector driver
complete.  This includes:
 o Getting list of layers (tables) from registration info
 o Support for the attribute field types supported by mapsde.c,
    including date, and blob.
 o Support for fast GetFeature() fetching the row by rowid.
 o Support for fast spatial extents from layerinfo.
 o Support for relatively fast feature counting using a fetch
    of only the feature ids.
 o Support for fast spatial query using spatial constraints on stream.
 o Support for fast attribute filtering using queryinfo where clause.
 o Support for reading coordinate system (from layerinfo).
 o Support for point, line and polygon geometries (2d or 3d).
 o I avoid fetching the layerinfo unless needed.  Normally just for
    layers that are actively queried rather than all layers in the
    datasource.
 o Configuration logic on unix (similar to MapServer config options).

Still needed:
 o Support for multi-point, multi-line and multi-polygon geometries.
 o Support for esoteric field types (XML, etc).
 o Logic to pass layers names, shape column, and fid column in the
    datasource names.
 o Build support on windows.
 o Review annotation and "cad' data objects for possible support.

Testing needed:
 o With no coordref.
 o Odd field types (blob, date, etc).
 o Tables with no geometry?
 o Tables with multiple geometry columns.
 o datasources with no registration info (SDE for Coverages).
 o test with 3D layers.
 o test with measured layers (measures to be ignored).

All in all the SDE API is pretty straight forward, and this has
been a surprisingly pleasant activity.  Of course, in large part
that is due to your providing a setup server, and providing
me with good documentation.

If you are feeling ambitious, feel free to try building and
testing things a bit.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From craig.miller at spatialminds.com  Fri Nov 25 14:10:32 2005
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Free OGRGeometry?
Message-ID: <000901c5f1f3$e8391850$0401a8c0@vaio>

I'm trying to set a spatial filter, but am having difficulty determining how
I am supposed to create and free OGRGeometry correctly.  In ogr2ogr the
spatial filter doesn't appear to be freed.  In my code, this is causing a
memory leak.  What is the best way to allocate/deallocate OGRGeometry?

In ogr2ogr it done like this:

// inside of main()
// Declared
OGRGeometry *poSpatialFilter = NULL;

// Initialized
OGRLinearRing  oRing;

oRing.addPoint( atof(papszArgv[iArg+1]), atof(papszArgv[iArg+2]) );
oRing.addPoint( atof(papszArgv[iArg+1]), atof(papszArgv[iArg+4]) );
oRing.addPoint( atof(papszArgv[iArg+3]), atof(papszArgv[iArg+4]) );
oRing.addPoint( atof(papszArgv[iArg+3]), atof(papszArgv[iArg+2]) );
oRing.addPoint( atof(papszArgv[iArg+1]), atof(papszArgv[iArg+2]) );

poSpatialFilter = new OGRPolygon();
((OGRPolygon *) poSpatialFilter)->addRing( &oRing );

// Used
if( poSpatialFilter != NULL )
	poLayer->SetSpatialFilter( poSpatialFilter );

// Freed?







From matt.wilkie at gov.yk.ca  Fri Nov 25 14:32:40 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] assign nodata to existing tif?
Message-ID: <438766D8.8060704@gov.yk.ca>

Hello,

How do I define the nodata value in an existing geotiff?

I've created some mosaicks with gdal_merge, which doesn't assign nodata, 
and now I want to tell those mosaicks which value is nodata (so that 
when I gdal_translate them with jpeg compression the nodata values are 
excluded from the resampling).

thanks!

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From warmerdam at pobox.com  Fri Nov 25 14:38:53 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Free OGRGeometry?
In-Reply-To: <000901c5f1f3$e8391850$0401a8c0@vaio>
References: <000901c5f1f3$e8391850$0401a8c0@vaio>
Message-ID: <931f8ea90511251138l18262898nbe2b651d412d99bc@mail.gmail.com>

On 11/25/05, Craig Miller <craig.miller@spatialminds.com> wrote:
> I'm trying to set a spatial filter, but am having difficulty determining how
> I am supposed to create and free OGRGeometry correctly.  In ogr2ogr the
> spatial filter doesn't appear to be freed.  In my code, this is causing a
> memory leak.  What is the best way to allocate/deallocate OGRGeometry?
>
> In ogr2ogr it done like this:
>
> // inside of main()
> // Declared
> OGRGeometry *poSpatialFilter = NULL;
>
> // Initialized
> OGRLinearRing  oRing;
>
> oRing.addPoint( atof(papszArgv[iArg+1]), atof(papszArgv[iArg+2]) );
> oRing.addPoint( atof(papszArgv[iArg+1]), atof(papszArgv[iArg+4]) );
> oRing.addPoint( atof(papszArgv[iArg+3]), atof(papszArgv[iArg+4]) );
> oRing.addPoint( atof(papszArgv[iArg+3]), atof(papszArgv[iArg+2]) );
> oRing.addPoint( atof(papszArgv[iArg+1]), atof(papszArgv[iArg+2]) );
>
> poSpatialFilter = new OGRPolygon();
> ((OGRPolygon *) poSpatialFilter)->addRing( &oRing );
>
> // Used
> if( poSpatialFilter != NULL )
>         poLayer->SetSpatialFilter( poSpatialFilter );
>
> // Freed?

Craig,

The most direct way is "delete poSpatialFilter;" after
the SetSpatialFilter() call.  The SetSpatialFilter() method
will copy the geometry it is passed.  You could also just
put the OGRPolygon on the stack.

Finally, there is now a SetSpatialFilterRect() method on the
OGRLayer that looks like:

    virtual void        SetSpatialFilterRect( double dfMinX, double dfMinY,
                                              double dfMaxX, double dfMaxY );

Along with simplicity, the other advantage of calling this method is
that it will be certain to recognise the special case for a bounding
rectangle query (as opposed to a more complex polygon intersection).

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From matt.wilkie at gov.yk.ca  Fri Nov 25 14:48:58 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] SDE Implementation
In-Reply-To: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>
References: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>
Message-ID: <43876AAA.9050202@gov.yk.ca>

Frank Warmerdam wrote:
> Howard,
> 
> I have now have the essentials of the read-only SDE vector driver
> complete.  

woohoo!

> All in all the SDE API is pretty straight forward, and this has
> been a surprisingly pleasant activity.  Of course, in large part
> that is due to your providing a setup server, and providing
> me with good documentation.

Howard , many thank you's to you for providing this support!

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From warmerdam at pobox.com  Fri Nov 25 14:58:01 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] assign nodata to existing tif?
In-Reply-To: <438766D8.8060704@gov.yk.ca>
References: <438766D8.8060704@gov.yk.ca>
Message-ID: <931f8ea90511251158i282ccc09h2c4c5110903e6aea@mail.gmail.com>

On 11/25/05, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:
> Hello,
>
> How do I define the nodata value in an existing geotiff?
>
> I've created some mosaicks with gdal_merge, which doesn't assign nodata,
> and now I want to tell those mosaicks which value is nodata (so that
> when I gdal_translate them with jpeg compression the nodata values are
> excluded from the resampling).

Matt,

You can use the -a_nodata switch to gdal_translate to treat
a particular value as nodata.  However, this doesn't normally
affect the nearest neighbour resampling done by gdal_translate.
Perhaps you mean for the CDED writer, which is pretty special
in this regard?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From assefa at dmsolutions.ca  Fri Nov 25 15:16:24 2005
From: assefa at dmsolutions.ca (Yewondwossen Assefa)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] SDE Implementation
In-Reply-To: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>
References: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>
Message-ID: <43877118.2090705@dmsolutions.ca>

  This info maybe of interest to the list.


  Are the capabilities more or less similar between the mapserver 
implemenation and the OGR one ?

Thanks,

Frank Warmerdam wrote:
> Howard,
> 
> I have now have the essentials of the read-only SDE vector driver
> complete.  This includes:
>  o Getting list of layers (tables) from registration info
>  o Support for the attribute field types supported by mapsde.c,
>     including date, and blob.
>  o Support for fast GetFeature() fetching the row by rowid.
>  o Support for fast spatial extents from layerinfo.
>  o Support for relatively fast feature counting using a fetch
>     of only the feature ids.
>  o Support for fast spatial query using spatial constraints on stream.
>  o Support for fast attribute filtering using queryinfo where clause.
>  o Support for reading coordinate system (from layerinfo).
>  o Support for point, line and polygon geometries (2d or 3d).
>  o I avoid fetching the layerinfo unless needed.  Normally just for
>     layers that are actively queried rather than all layers in the
>     datasource.
>  o Configuration logic on unix (similar to MapServer config options).
> 
> Still needed:
>  o Support for multi-point, multi-line and multi-polygon geometries.
>  o Support for esoteric field types (XML, etc).
>  o Logic to pass layers names, shape column, and fid column in the
>     datasource names.
>  o Build support on windows.
>  o Review annotation and "cad' data objects for possible support.
> 
> Testing needed:
>  o With no coordref.
>  o Odd field types (blob, date, etc).
>  o Tables with no geometry?
>  o Tables with multiple geometry columns.
>  o datasources with no registration info (SDE for Coverages).
>  o test with 3D layers.
>  o test with measured layers (measures to be ignored).
> 
> All in all the SDE API is pretty straight forward, and this has
> been a surprisingly pleasant activity.  Of course, in large part
> that is due to your providing a setup server, and providing
> me with good documentation.
> 
> If you are feeling ambitious, feel free to try building and
> testing things a bit.
> 
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


-- 
----------------------------------------------------------------
Assefa Yewondwossen
Software Analyst

Email: assefa@dmsolutions.ca
http://www.dmsolutions.ca/

Phone: (613) 565-5056 (ext 14)
Fax:   (613) 565-0925
----------------------------------------------------------------



From warmerdam at pobox.com  Fri Nov 25 15:26:40 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] SDE Implementation
In-Reply-To: <43877118.2090705@dmsolutions.ca>
References: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>
	<43877118.2090705@dmsolutions.ca>
Message-ID: <931f8ea90511251226l544e5eb9w93e4a22aba918ad2@mail.gmail.com>

On 11/25/05, Yewondwossen Assefa <assefa@dmsolutions.ca> wrote:
>   This info maybe of interest to the list.
>
>
>   Are the capabilities more or less similar between the mapserver
> implemenation and the OGR one ?

Assefa,

The capabilities are similar to the direct SDE support in
MapServer.  I can't currently think of any significant
advantage to using SDE through OGR instead of SDE
directly in MapServer.   I would add the mapsde.c
code was a very useful guide to me in my implementation.

The OGR SDE support is mostly useful in the context of
translating to ther formats, or other OGR based applications.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From craig.miller at spatialminds.com  Fri Nov 25 16:19:54 2005
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Free OGRGeometry?
In-Reply-To: <931f8ea90511251259k5216680cj25eebcabcf65e27a@mail.gmail.com>
Message-ID: <001301c5f205$fae5a740$0401a8c0@vaio>

Thanks for the reply Frank.  It was very helpful.  :-)

I didn't notice the geometry factory before.  I switched to using it for
both creation and deletion and the heap errors are gone.

The code is living inside a class that handles the cacheing of OGR data.
The new code (for people searching the archives) looks like:


// Member variable declared in header
OGRGeometry *m_pSpatialFilter;

// Inside my classes SetSpatialFilter method
// Later, there will be other SetSpatialFilter methods that allow users to
specify
// filters by regions (which is why there is an OGRGeometry* as a member
variable
void CGeoLayer::SetSpatialFilter(double dMinX, double dMinY, double dMaxX,
double dMaxY)
{
	if (m_pSpatialFilter != NULL)
	{
		delete m_pSpatialFilter;
	}

	OGRLinearRing  oRing;

    oRing.addPoint( dMinX, dMinY );
    oRing.addPoint( dMinX, dMaxY );
    oRing.addPoint( dMaxX, dMaxY );
    oRing.addPoint( dMaxX, dMinY);
    oRing.addPoint( dMinX, dMinY);

    m_pSpatialFilter = OGRGeometryFactory::createGeometry( wkbPolygon);
    ((OGRPolygon *) m_pSpatialFilter)->addRing( &oRing );

	UpdateFeatureCache();
}

// Inside Empty() method called by destructor
if (m_pSpatialFilter != NULL)
{
	OGRGeometryFactory::destroyGeometry( m_pSpatialFilter);
	m_pSpatialFilter = NULL;
}



-----Original Message-----
From: fwarmerdam@gmail.com [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
Warmerdam
Sent: Friday, November 25, 2005 1:00 PM
To: Craig Miller
Subject: Re: [Gdal-dev] Free OGRGeometry?

On 11/25/05, Craig Miller <craig.miller@spatialminds.com> wrote:
> I should have mentioned that using delete (under windows) is causing 
> an unhandled exception.  I thought that there might be a special CPL* 
> routine that has to be used to prevent this from happening.
>
> I'm using a rect now, but in the future I hope to allow other 
> geometric elements to be used to filter the geometry (like an 
> ecological region, county, etc).

Craig,

I imagine your mainline is not build with /MD, but GDAL13.DLL is.
In that case GDAL uses the MSVCRT heap but your application uses its own
private heap. This can result in all sorts of problems.

Since you did the "new OGRPolygon" in your own code, I would have thought
doing the delete there would also be ok, but perhaps not.

There is also an OGRGeometryFactory::destroyGeometry( OGRGeometry *) method
you can use to destroy a geometry within the GDAL DLL.  This is often useful
if you need to destroy a geometry created by GDAL.

Of course, your exception could be due to some other heap corruption issue.
It is hard to know.

Best regards,
--
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From matt.wilkie at gov.yk.ca  Fri Nov 25 17:02:37 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] assign nodata to existing tif?
In-Reply-To: <931f8ea90511251158i282ccc09h2c4c5110903e6aea@mail.gmail.com>
References: <438766D8.8060704@gov.yk.ca>
	<931f8ea90511251158i282ccc09h2c4c5110903e6aea@mail.gmail.com>
Message-ID: <438789FD.7050607@gov.yk.ca>

Hi Frank,

> You can use the -a_nodata switch to gdal_translate to treat
> a particular value as nodata.  However, this doesn't normally
> affect the nearest neighbour resampling done by gdal_translate.
> Perhaps you mean for the CDED writer, which is pretty special
> in this regard?

No this is not cded. I'm mosaicking together shaded relief images (256 
colour gray scale arcinfo grids) using gdal_merge and then jpeg 
compressing the mosaick. When I do that I get edge resampling. Using 
-a_nodata has no effect.

   gdal_merge -o no-comp.tif -n 255 {list of grids}
   gdal_translate no-comp.tif jpeg.tif -co "compress=jpeg" -a_nodata 255

To test I also tried translating a single source grid, with and without 
-a_nodata, and replicated the edge effect. Screen shot attached.


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal-jpeg-edge-resampling.png
Type: image/png
Size: 7673 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051125/24961b78/gdal-jpeg-edge-resampling.png
From warmerdam at pobox.com  Fri Nov 25 17:08:34 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] assign nodata to existing tif?
In-Reply-To: <438789FD.7050607@gov.yk.ca>
References: <438766D8.8060704@gov.yk.ca>
	<931f8ea90511251158i282ccc09h2c4c5110903e6aea@mail.gmail.com>
	<438789FD.7050607@gov.yk.ca>
Message-ID: <931f8ea90511251408i4b40380cs176ed56e338f0e76@mail.gmail.com>

On 11/25/05, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:
> No this is not cded. I'm mosaicking together shaded relief images (256
> colour gray scale arcinfo grids) using gdal_merge and then jpeg
> compressing the mosaick. When I do that I get edge resampling. Using
> -a_nodata has no effect.
>
>    gdal_merge -o no-comp.tif -n 255 {list of grids}
>    gdal_translate no-comp.tif jpeg.tif -co "compress=jpeg" -a_nodata 255
>
> To test I also tried translating a single source grid, with and without
> -a_nodata, and replicated the edge effect. Screen shot attached.

Matt,

JPEG format has no concept of nodata values, and has no
way to avoid including some pixels in the local compression
blocks.  If you want decent edges, I think JPEG is the
wrong format.  You might find that PNG compresses
well if the images look like the sample.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From awaxman at speakeasy.net  Fri Nov 25 18:56:10 2005
From: awaxman at speakeasy.net (awaxman@speakeasy.net)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Getting started with GDAL and Perl on Win32
Message-ID: <W6292712204240931132962970@webmail2>

Hi all,
As the subject line states I am trying to use the perl bindings to gdal on a win32 box.  I am having trouble getting the perl bindings built.  Does the makefile.pl make win32 compatible makefiles?  I try nmake /f Makefile_gdal and I error out (stout included after the message)  Any help would be appreciated.
Thanks,
Andy


C:\gdal-1.3.1\swig\perl>nmake /f makefile_gdal

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

        cl -c -I../../gcore -I../../alg -I../../ogr -I../../port -nologo -O1 -MD -Zi -DNDEBUG -DWIN32 -D_CONSOLE -DNO_STRICT -DHAVE_DES_FCRYPT -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -DPERL_MSVCRT_READFIX -O1 -MD -Zi -DNDEBUG    -DVERSION=\"0.10\"  -DXS_VERSION=\"0.10\"  -IC:\Perl\lib\CORE gdal_wrap.cpp gdal_wrap.cpp
C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(177) : error C2059: syntax error : '
('
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(191) : see reference to class template instantiation 'std::basic_streambuf<_E,_Tr>' being compiled
C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(177) : error C2143: syntax error : missing ',' before '->'
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(191) : see reference to class template instantiation 'std::basic_streambuf<_E,_Tr>' being compiled
C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(177) : error C2501: 'Perl_IStdIO_ptr' : missing storage-class or type specifiers
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(191) : see reference to class template instantiation 'std::basic_streambuf<_E,_Tr>' being compiled
C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(177) : error C2059: syntax error : '->'
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(191) : see reference to class template instantiation 'std::basic_streambuf<_E,_Tr>' being compiled
C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(191) : fatal error C1903: unable to recover from previous error(s); stopping compilation
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\streambuf(191) : see reference to class template instantiation 'std::basic_streambuf<_E,_Tr>' being compiled
NMAKE : fatal error U1077: 'cl' : return code '0x2'
Stop.








From hobu at iastate.edu  Fri Nov 25 21:12:57 2005
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Re: SDE Implementation
In-Reply-To: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>
References: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>
Message-ID: <p06200702bfad72b1330f@[192.168.11.4]>

>
>Still needed:
>  o Support for multi-point, multi-line and multi-polygon geometries.
>  o Support for esoteric field types (XML, etc).

There might be a nice opportunity for linkage with PAM and SDE's XML 
layer metadata stuff.

>  o Logic to pass layers names, shape column, and fid column in the
>     datasource names.
>  o Build support on windows.
>  o Review annotation and "cad' data objects for possible support.

CAD and annotation types in SDE are essentially blobs, I think.  It 
is up to the client to know how to decipher and use them.

>
>Testing needed:
>  o With no coordref.

I don't think it is possible to load a layer into SDE without a 
defined coordinate system.  SDE needs a coordinate system that sets 
up its 2^32-1 coordinate space (they call this the x/y domain)

>  o Odd field types (blob, date, etc).
>  o Tables with no geometry?

Is the ExecuteSQL() method supported by the OGR SDE driver?  People 
will need to be careful about running SQL commands with the SDE 
driver because the SQL will be passed on directly to the database 
behind the SDE (Informix, Oracle, or MS SQL).  The SQL variants 
aren't exactly the same on all three of these databases.

>o Tables with multiple geometry columns.

I'm not sure if multiple geometry columns are possible in SDE.  I 
know that Arc* clients don't support it, and the layerinfo mechanisms 
would be very broken if there were multiple shape columns.  If you 
really want to make SDE go haywire, point it at an Oracle table with 
Oracle spatial geometries and multiple geometry columns ;)


>  o datasources with no registration info (SDE for Coverages).

Thankfully there aren't too many installations of this out there anymore...

>  o test with 3D layers.
>  o test with measured layers (measures to be ignored).
>
>All in all the SDE API is pretty straight forward, and this has
>been a surprisingly pleasant activity.

Will this make SDE raster support an easy toss in? :)


>If you are feeling ambitious, feel free to try building and
>testing things a bit.

I will take care of setting up the Windows makefiles and building it 
out on Windows early next week.

>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent


From aykutkocak at superonline.com  Sat Nov 26 14:36:08 2005
From: aykutkocak at superonline.com (=?ISO-8859-9?Q?Aykut_KO=C7AK?=)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] computing distance in meters between geometries?
Message-ID: <4388B928.8080505@superonline.com>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051126/b22e4fc6/attachment.html
From aykutkocak at superonline.com  Sat Nov 26 16:16:24 2005
From: aykutkocak at superonline.com (=?ISO-8859-9?Q?Aykut_KO=C7AK?=)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] computing distance in meters between geometries?
In-Reply-To: <003b01c5f2c5$7842a5c0$0401a8c0@vaio>
References: <003b01c5f2c5$7842a5c0$0401a8c0@vaio>
Message-ID: <4388D0A8.6000709@superonline.com>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051126/04b7fdba/attachment.html
From covariance at shaw.ca  Sun Nov 27 23:48:35 2005
From: covariance at shaw.ca (Bob Bruce - Programmer)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Problem Windowing a part of a Shape File - can you help?
In-Reply-To: <6b1b416b652b.6b652b6b1b41@shaw.ca>
Message-ID: <000901c5f3d6$fe83ab40$6401a8c0@cs41617>

I have just started using the OGR tools and ran into a snag and am hoping
that someone can help:

I am trying window out a section of the National Road Network that I have
projected into UTM with the command:

ogr2ogr -f "ESRI Shapefile" -lco SHPT=ARC -splat 646350 5553100 654900
5561500  selkirk_roads.shp ROADSEG_UTM14.shp

and create a new output shape file called selkirk_roads

this doesn't work and ogr2ogr keeps prompting me with its options.

if I remove the -splat with the coordinates then this works fine but I don't
get my window extracted. What do I need to do to get the data within a
geographical area extracted?

thanks,
		Bob Bruce, Winnipeg, Manitoba


From BEN at Syncera-ITSolutions.NL  Mon Nov 28 05:33:06 2005
From: BEN at Syncera-ITSolutions.NL (Bart van den Eijnden)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] WKB and mixed geometries
Message-ID: <s38aeafb.062@SRV-POSTIX-DFT>

Hi list,

I am wondering if mixed geometries are supported in the ODBC WKB driver. I am doubting what is the best option, storing points and polygons in the same WKB table, or in separate tables. I also want to use this with Mapserver, so I also have to think of limitations in that department.

AFAIK there are 2 options for mixing:
1. use a Geometry Collection
2. use a separate record for the point and polygon, but in the same table

Does OGR support 1. and/or 2.? Is there a way to filter according to the geometry type on the fly so I can use it with Mapserver?

What would be my best bet to do in this situation?

Thanks in advance.

Best regards,
Bart

Bart van den Eijnden
Syncera IT Solutions
Postbus 270
2600 AG  DELFT

tel.nr.: 015-7512436
email: BEN@Syncera-ITSolutions.nl


From support at geoimage.fr  Mon Nov 28 11:05:16 2005
From: support at geoimage.fr (Fabien Dachicourt)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] missing function to destroy properly OGRStyleTool ?
References: <s38aeafb.062@SRV-POSTIX-DFT>
Message-ID: <030501c5f435$86463800$3301a8c0@ANKARA>

Hi,
i'm using styles with OGR to display geometries.

for a given feature, i get OGRStyleTool objects from style manager with "GetPart", then i delete them on my own.
My problem is i'm wondering if i can delete on my own these OGRStyleTool while they are created inside a gdal/ogr function (GetPart).

I know that many problems appear when the "new" is done inside gdal/ogr library, whereas the "delete" is done outside (the best example is OGRGeometry for which we have to use OGRGeometryFactory to create and destroy geometries).

My question is : how can i delete properly these OGRStyleTools ?


This is my source code :

poStyleMgr->GetStyleString(poFeature);

   for (int i = 0; i < poStyleMgr->GetPartCount(); i++)
   {
       OGRStyleTool* poStyleTool = poStyleMgr->GetPart(i);

       if (poStyleTool)
       {
            switch(poStyleTool->GetType())
            //process....

            delete poStyleTool;
        }
    }

Thanks in advance,
Fabien
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051128/0a959267/attachment.html
From ealpert at digitalglobe.com  Mon Nov 28 11:10:36 2005
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Problem Windowing a part of a Shape File - can you
	help?
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB23306BB83@COMAIL01.digitalglobe.com>



2 things. First the option is -spat not -splat. Second I'm pretty sure
that ogr will give you everything that intersects that -spat option but
it won't "clip" (window) the data.

-e

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Bob Bruce -
Programmer
Sent: Sunday, November 27, 2005 9:49 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Problem Windowing a part of a Shape File - can you
help?


I have just started using the OGR tools and ran into a snag and am
hoping that someone can help:

I am trying window out a section of the National Road Network that I
have projected into UTM with the command:

ogr2ogr -f "ESRI Shapefile" -lco SHPT=ARC -splat 646350 5553100 654900
5561500  selkirk_roads.shp ROADSEG_UTM14.shp

and create a new output shape file called selkirk_roads

this doesn't work and ogr2ogr keeps prompting me with its options.

if I remove the -splat with the coordinates then this works fine but I
don't get my window extracted. What do I need to do to get the data
within a geographical area extracted?

thanks,
		Bob Bruce, Winnipeg, Manitoba

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From raphaela_saling at caramail.com  Mon Nov 28 10:28:42 2005
From: raphaela_saling at caramail.com (=?ISO-8859-1?Q? Rapha=EBla=20Saling?=)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Building GDAL with ecw on Mandriva2006
Message-ID: <181904727015650@lycos-europe.com>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051128/c1f9a526/attachment.html
From fx.gamoy at geomatika.fr  Mon Nov 28 13:56:08 2005
From: fx.gamoy at geomatika.fr (FX GAMOY)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] compiling gdal with ECW capabilities
In-Reply-To: <4385FF65.9070709@main-task.com>
References: <200511241439.07816.fx.gamoy@mapxplore.com>
	<4385FF65.9070709@main-task.com>
Message-ID: <200511281956.08944.fx.gamoy@geomatika.fr>

hello Vladimir,
thanks for your post,

but my problem is that i cannot run ./configure --with-ecw=/usr/local

configure return :
checking for libNCSEcw.so or libecwj2... configure: error: not found 
in /usr/local/lib or /usr/local/bin.
and
the file libNCSEcw.so is in /usr/local/lib
i dont' know  why configure don't see it

best regards
fx


Le Jeudi 24 Novembre 2005 18:59, Vladimir Guzm?n a ?crit?:
> fx:
> I had some problems compiling gdal under amd64 too.
> The way I 'fixed' it was manually editing the configure file, and
> looking for the line which was causing the problem.
> Next, almost always, the trick was to change the references to
> /usr/local/lib or /usr/lib to /usr/local/lib64 or /usr/lib64.
>
> Hope that helps,
>
> Vladimir Ilich Guzm?n R.
> ------------------------
> http://maintask.com
>
> FX GAMOY escribi?:
> >Hello everybody
> >
> >i ve successfully compiled ecw sdk 3.3 package on my amd64 box (gentoo
> >distrib) and installed the librairy and source code on /usr/local
> >
> >When i try to configure gdal --with-ecw=/usr/local , gdal is not able to
> > see the ECW librairy.
> >
> >I ve read some posts talking about this but i can't understand the
> > solution..
> >
> >"I think the include files need to be in /usr/local/include.  I think
> >the issue is that some include files were not normally considered
> >public but are needed by GDAL.  As a workaround I would
> >suggest copying /usr/local/Source/include/* to /usr/local/include.
> >Did you unpack your ECW SDK right in /usr/local?  That seems
> >pretty messy"
> >
> >i did the copy of my home/source/libecwj2/include/* into
> > /usr/local/include all the libNCSE* are in /usr/local/lib
> >but gdal don't see those files...
> >Do i have to copy all the directory libecwj2-3.3 in usr/local and get
> >/usr/local/libecwj2-3.3/*  ??
> >
> >I think i ve missed something... :-)
> >
> >thanks
> >best regards
> >fx
> >
> >_______________________________________________
> >Gdal-dev mailing list
> >Gdal-dev@lists.maptools.org
> >http://lists.maptools.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

-- 
FX GAMOY
06 87 39 32 03
--
G?omatika
Technopole de la C?te Basque
Pavillon Izarbel
64210 BIDART
--
http://www.geomatika.fr/
http://www.pagesbasques.com/


From hobu at iastate.edu  Mon Nov 28 17:04:17 2005
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Re: SDE Implementation
In-Reply-To: <p06200702bfad72b1330f@[192.168.11.4]>
References: <931f8ea90511251106h4db8d859m97fec6ff4ca3330a@mail.gmail.com>
	<p06200702bfad72b1330f@[192.168.11.4]>
Message-ID: <6.2.3.4.2.20051128160223.0344f3a0@hobu.mail.iastate.edu>


>
>>If you are feeling ambitious, feel free to try building and
>>testing things a bit.
>
>I will take care of setting up the Windows makefiles and building it 
>out on Windows early next week.

Frank,

I added the stuff necessary to nmake.opt and other windows makefiles 
to be able to build this on Windows.  It builds well and seems to be working.

Howard 


From craig.miller at spatialminds.com  Mon Nov 28 21:41:02 2005
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Geodatabase Driver:  Layer type vs layer content
Message-ID: <000501c5f48e$57c922e0$8a01a8c0@vaio>

I'm using the Geodatabase driver to import data into PostGIS.  I've only
done a few tests, but it appears that the underlying driver always reports a
layer as being a point/line/poly layer even if it also contains multipoint,
multiline, multipoly data.  I haven't tried with 2.5D data yet.

Has anyone else seen this?

--Craig



From sab at isis.vpac.org  Mon Nov 28 23:30:07 2005
From: sab at isis.vpac.org (Shoaib Burq (VPAC))
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] gdal_translate error with big file
Message-ID: <Pine.LNX.4.63.0511291513450.18126@isis.vpac.org>

Hi

Trying a coversion from ArcInfo ascii to GeoTiff with internal tiling. 
This is to understand internal tiling better.

The file size is 6.1GB

Currently running FWTools on winXP:
$ gdalinfo --version
GDAL 1.3.1.0, FWTools 1.0.0a6, released 2005/11/03

Upon running the gdal_translate to convert the ascii grids to GeoTiff we
encountered the following error:

$ gdal_translate -co "TFW=YES" -co "TILED=YES" -of GTiff SeafloorElevation
.asc SeafloorElevation_tiled.tif
Input file size is 34799, 29478
0...10...20...30.ERROR 3: Cant seek to offset -1 in input file to read 
data.
ERROR 1: IReadBlock failed at X offset 0, Y offset 9789
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 9789

Works fine using ArcGISs ArcToolBox ASCIItoGRID utility.

Gdalinfo is happy to read the ascii file too:
C:\data>gdalinfo SeafloorElevation.asc
Driver: AAIGrid/Arc/Info ASCII Grid
Size is 34799, 29478
Coordinate System is `'
Origin = (246331.250000,5749620.750000)
Pixel Size = (0.50000000,-0.50000000)
Corner Coordinates:
Upper Left  (  246331.250, 5749620.750)
Lower Left  (  246331.250, 5734881.750)
Upper Right (  263730.750, 5749620.750)
Lower Right (  263730.750, 5734881.750)
Center      (  255031.000, 5742251.250)
Band 1 Block=34799x1 Type=Int16, ColorInterp=Undefined
   NoData Value=-9999

Is this a "big file" support issue? if so how do I get around it?

Thanks for the help
chrs
Shoaib Burq
--

From ivan.mjartan at geovap.cz  Tue Nov 29 09:24:54 2005
From: ivan.mjartan at geovap.cz (Ivan Mjartan)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] CreateCopy into buffer
Message-ID: <000a01c5f4f0$aae12f60$1a01a8c0@PC24>

Hi list,

I am writing function in C++ witch on input get large raster and return small sub window of the input raster in BitMap (*.BMP file). The sub window is never larger then 1000*1000px.

 

The code looks like:

 

hDriver = GetGDALDriverManager()->GetDriverByName("BMP");

 

hDataset = GDALOpenShared( pszSrcFilename, GA_ReadOnly );

       

poVDS = new VRTDataset(xsize, ysize);

 

nBandCount = GDALGetRasterCount( hDataset );

    

 

for( i = 0; i < nBandCount; i++ )

{

    VRTSourcedRasterBand   *poVRTBand;

    GDALRasterBand  *poSrcBand;

    GDALDataType    eBandType;

             

    poSrcBand = ((GDALDataset *)hDataset)->GetRasterBand(i+1);

    eBandType = poSrcBand->GetRasterDataType();

       

    poVDS->AddBand( eBandType, NULL );

    poVRTBand = (VRTSourcedRasterBand *) poVDS->GetRasterBand( i+1 );

             

    poVRTBand->AddSimpleSource( poSrcBand,x, y, xsize, ysize,0, 0, xsize, ysize );

 

    poVRTBand->CopyCommonInfoFrom( poSrcBand );

}

       

 

hOutDS = GDALCreateCopy( hDriver,"c:\\CsharpTest\\temp\\cut.bmp", (GDALDatasetH) poVDS,FALSE, NULL, NULL, NULL );

 

 

Than I am calling this function from C# .Net application and I need result (in example case cut.bmp) in byte array. 

 

It is possible use CreateCopy with out disk writing operation and return result in byte array?

 

 

 thanks ivan 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20051129/715b3f80/attachment.html
From woklist at kyngchaos.com  Tue Nov 29 17:59:19 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL changes affecting GRASS?
Message-ID: <22131C87-6676-4925-B1F2-DD4423EB11D3@kyngchaos.com>

I've been having a problem with GRASS lately, and it seems to be  
related to GDAL.  I have a GRASS bug open for it: #3585.  Noone has  
provided any help so far.

The key trigger combination is: GDAL 1.3.1 (and 1.3.0, possibly the  
beta), GRASS 6.0/6.1, and built with GCC 3.3 on Mac OS 10.3.  There  
is no problem building with GCC 4 on Mac OS 10.4, or with GCC 3.3 and  
GDAL 1.2.6.  Or if I build GRASS without GDAL.  Yes, the GCC 3.3 and  
GCC 4 builds each have their dependencies built with the  
corresponding GCC version.

The problem is that I get bus errors in a few module - specifically,  
simple general commands such as g.remove, g.rename and g.copy (but  
not others, like g.list).


So, the question for GDAL - what changed from 1.2.6 to 1.3.x that  
might affect GRASS this way and only for GCC 3.3-built.

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin



From warmerdam at pobox.com  Tue Nov 29 19:55:15 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL changes affecting GRASS?
In-Reply-To: <22131C87-6676-4925-B1F2-DD4423EB11D3@kyngchaos.com>
References: <22131C87-6676-4925-B1F2-DD4423EB11D3@kyngchaos.com>
Message-ID: <931f8ea90511291655td8a29e7r43651a4cabfff13c@mail.gmail.com>

On 11/29/05, William Kyngesburye <woklist@kyngchaos.com> wrote:
> I've been having a problem with GRASS lately, and it seems to be
> related to GDAL.  I have a GRASS bug open for it: #3585.  Noone has
> provided any help so far.
>
> The key trigger combination is: GDAL 1.3.1 (and 1.3.0, possibly the
> beta), GRASS 6.0/6.1, and built with GCC 3.3 on Mac OS 10.3.  There
> is no problem building with GCC 4 on Mac OS 10.4, or with GCC 3.3 and
> GDAL 1.2.6.  Or if I build GRASS without GDAL.  Yes, the GCC 3.3 and
> GCC 4 builds each have their dependencies built with the
> corresponding GCC version.
>
> The problem is that I get bus errors in a few module - specifically,
> simple general commands such as g.remove, g.rename and g.copy (but
> not others, like g.list).
>
>
> So, the question for GDAL - what changed from 1.2.6 to 1.3.x that
> might affect GRASS this way and only for GCC 3.3-built.

William,

I can't think of any obvious reason for this.  I think you will need
to dig deeper before we can do anything about this.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From woklist at kyngchaos.com  Tue Nov 29 20:25:03 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL changes affecting GRASS?
In-Reply-To: <931f8ea90511291655td8a29e7r43651a4cabfff13c@mail.gmail.com>
References: <22131C87-6676-4925-B1F2-DD4423EB11D3@kyngchaos.com>
	<931f8ea90511291655td8a29e7r43651a4cabfff13c@mail.gmail.com>
Message-ID: <4E227A83-92DC-4299-84B5-61E5F0BE8851@kyngchaos.com>

Other things that changed around the same time (I didn't notice it  
until later, so I can't be absolutely sure when it went wrong):

- switched from JasPer to UUID JasPer

- Largefile support (that's when I started using GDAL CVS - end of  
July.  Unfortunately I didin't keep a snapshot of that source to test  
it now)

- Xerces added

- HDF5 added

- GEOS updated


I can do some more testing - leave those and others out, barebones  
GDAL (I considered that today).  I'll see what happens.


On Nov 29, 2005, at 6:55 PM, Frank Warmerdam wrote:

> On 11/29/05, William Kyngesburye <woklist@kyngchaos.com> wrote:
>> I've been having a problem with GRASS lately, and it seems to be
>> related to GDAL.  I have a GRASS bug open for it: #3585.  Noone has
>> provided any help so far.
>>
>> The key trigger combination is: GDAL 1.3.1 (and 1.3.0, possibly the
>> beta), GRASS 6.0/6.1, and built with GCC 3.3 on Mac OS 10.3.  There
>> is no problem building with GCC 4 on Mac OS 10.4, or with GCC 3.3 and
>> GDAL 1.2.6.  Or if I build GRASS without GDAL.  Yes, the GCC 3.3 and
>> GCC 4 builds each have their dependencies built with the
>> corresponding GCC version.
>>
>> The problem is that I get bus errors in a few module - specifically,
>> simple general commands such as g.remove, g.rename and g.copy (but
>> not others, like g.list).
>>
>>
>> So, the question for GDAL - what changed from 1.2.6 to 1.3.x that
>> might affect GRASS this way and only for GCC 3.3-built.
>
> William,
>
> I can't think of any obvious reason for this.  I think you will need
> to dig deeper before we can do anything about this.
>

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin


From sab at isis.vpac.org  Tue Nov 29 23:54:17 2005
From: sab at isis.vpac.org (Shoaib Burq (VPAC))
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GRASS support 
Message-ID: <Pine.LNX.4.63.0511301427130.24007@isis.vpac.org>

Hi

While compiling GRASS it seems to want gdal installed. While building GDAL 
with GRASS support requires GRASS. Am I right? Seems to be a circular 
dependency. Do I install GDAL without GRASS, then install GRASS and then 
rebuild GDAL telling it where GRASS is?

Shoaib Burq

From sab at isis.vpac.org  Tue Nov 29 23:57:14 2005
From: sab at isis.vpac.org (Shoaib Burq (VPAC))
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] Re: GRASS support 
In-Reply-To: <Pine.LNX.4.63.0511301427130.24007@isis.vpac.org>
References: <Pine.LNX.4.63.0511301427130.24007@isis.vpac.org>
Message-ID: <Pine.LNX.4.63.0511301555450.7199@isis.vpac.org>

> While compiling GRASS it seems to want gdal installed. While building GDAL 
> with GRASS support requires GRASS. Am I right? Seems to be a circular 
> dependency. Do I install GDAL without GRASS, then install GRASS and then 
> rebuild GDAL telling it where GRASS is?

Thanks, just found this:
http://grass.gdf-hannover.de/twiki/bin/view/GRASS/GrassQgisGdalOgrPlugin

From woklist at kyngchaos.com  Wed Nov 30 12:01:44 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL changes affecting GRASS?
In-Reply-To: <931f8ea90511291655td8a29e7r43651a4cabfff13c@mail.gmail.com>
References: <22131C87-6676-4925-B1F2-DD4423EB11D3@kyngchaos.com>
	<931f8ea90511291655td8a29e7r43651a4cabfff13c@mail.gmail.com>
Message-ID: <9C6DC1B1-F59A-437F-A665-95DF2E57CD9F@kyngchaos.com>

As I was testing leaving out various options, I found (re-found, it  
just never was a big deal before) a configure bug: --with-geotiff=/ 
path/to/geotiff/base does not work by itself.  In my situation, I  
isolate groups of libraries into separate, non-standard locations,  
for my installer packages, so I need the --with options to work.   
There are graphicslibs and gislibs.

It isn't adding the with path to the test for some reason.  It  
usually works for two reasons:

- due to your config logic, the config tests accumulate previous LIBS  
in successive tests, instead of isolating each test with only the  
necessary libs for the test.  So, by the time it gets to geotiff, it  
has /usr/local/gislibs/lib in LIBS (because of cfitsio).

- due to the behaviour of Apple's linker (or is it normal?), all the - 
L options get lumped together before it attempts to find the  
libraries.  So even tho -L/usr/local/gislibs/lib might appear after - 
lgeotiff, it still finds /usr/local/gislibs/lib/libgeotiff.dylib.

So, leaving out cfitsio, the only other gislib before geotiff in  
configure, it doesn't find geotiff.

Looking at the configure logic for geotiff, it seems to be  
backwards.  What I see (generalized, ignoring the internal tests):

if with=yes [which means look for geotiff in default locations]
   test for geotiff using the 'with' value for -L + current LIBS
   (LIBS="-lgeotiff -L$with_geotiff/lib $LIBS)
else [look for it in user pecified location]
   test for goetiff using default locations + current LIBS
   (LIBS="-lgeotiff $LIBS)


-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy


From warmerdam at pobox.com  Wed Nov 30 12:07:28 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL changes affecting GRASS?
In-Reply-To: <9C6DC1B1-F59A-437F-A665-95DF2E57CD9F@kyngchaos.com>
References: <22131C87-6676-4925-B1F2-DD4423EB11D3@kyngchaos.com>
	<931f8ea90511291655td8a29e7r43651a4cabfff13c@mail.gmail.com>
	<9C6DC1B1-F59A-437F-A665-95DF2E57CD9F@kyngchaos.com>
Message-ID: <931f8ea90511300907r7a9d355cpb8f1563b35298062@mail.gmail.com>

On 11/30/05, William Kyngesburye <woklist@kyngchaos.com> wrote:
> Looking at the configure logic for geotiff, it seems to be
> backwards.  What I see (generalized, ignoring the internal tests):
>
> if with=yes [which means look for geotiff in default locations]
>    test for geotiff using the 'with' value for -L + current LIBS
>    (LIBS="-lgeotiff -L$with_geotiff/lib $LIBS)
> else [look for it in user pecified location]
>    test for goetiff using default locations + current LIBS
>    (LIBS="-lgeotiff $LIBS)

William,

I believe you are correct.  Can you turn this into a
proposed patch to fix the problem?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Nov 30 12:16:25 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL/OGR and the MapServer Foundation
Message-ID: <931f8ea90511300916p6e174f46y3d9738afee31db32@mail.gmail.com>

Folks,

Some of you may be familiar with the announcement of
a foundation to support UMN MapServer (now possibly
known as MapServer Cheetah), and a newly opensourced
web mapping technology from Autodesk.

I have participated in the rocky discussions of this foundation,
partly with an eye on possibly having GDAL/OGR become
part of this foundation.

It isn't exactly clear what that would involve, but amoung
other things, it would give some sort of institutional setting
for GDAL/OGR.  It might include setting up a technical
steering committee for GDAL/OGR, something like that
for MapServer:

  http://ms.gis.umn.edu/development/rfc/ms-rfc-1/

I am not planning on making any firm decision on such a
thing for a couple months at least, but I would like to give
the GDAL/OGR community a chance to state what they
think, and how they might like to see such a thing work.

Some of my clients have expressed a concern about the
ability of the current GDAL project to "scale up".  I would
see this as a step in that direction.  Thing would be
handled less by fiat by me, and it would given organizations
using GDAL/OGR (in some case competitors) a mechanism
to cooperate in support of GDAL/OGR.

I would add that Autodesk has also open sourced their
FDO (Feature Data Objects) library.  This is roughly
analygous to OGR (or OGR+GDAL since it also does
raster).  FDO provides a sort of database like view of
vector feature data and rasters.  It is a multi-format
architecture where providers can be implemented for
lots of formats, including databases.   It is also part of
the foundation, and might be of interest to some folks
who are using OGR.

I am doing some work on implementing a GDAL based
raster provider for FDO.  Other cross-fertilization efforts
are likely to follow over time.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From woklist at kyngchaos.com  Wed Nov 30 12:50:51 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL changes affecting GRASS?
In-Reply-To: <931f8ea90511300907r7a9d355cpb8f1563b35298062@mail.gmail.com>
References: <22131C87-6676-4925-B1F2-DD4423EB11D3@kyngchaos.com>
	<931f8ea90511291655td8a29e7r43651a4cabfff13c@mail.gmail.com>
	<9C6DC1B1-F59A-437F-A665-95DF2E57CD9F@kyngchaos.com>
	<931f8ea90511300907r7a9d355cpb8f1563b35298062@mail.gmail.com>
Message-ID: <09DCA121-1154-4448-B2F8-E7B3C15AB6EB@kyngchaos.com>

I can hack configure, but I've never messed around with the autotools  
stuff (configure.in I guess).

It _looks_ like, to me, in configure.in, it should be something like  
this: remove -L$with_geotiff/lib from AC_CHECK_LIB on line 553 (the  
check for geotiff in default locations) and add it to AC_CHECK_LIB on  
line 575.

Another oddity: after it finds the user-specified geotiff, it does an  
additional check for libgeotiff.a in the same location and without  
the /lib added to it.  But without the /lib should never succeed,  
should it, since it already found it in /lib?

   if test -r $with_geotiff/libgeotiff.a ; then
     LIBS="-L$with_geotiff -lgeotiff $LIBS"
     EXTRA_INCLUDES="-I$with_geotiff $EXTRA_INCLUDES"
   else
     LIBS="-L$with_geotiff/lib -lgeotiff $LIBS"
     EXTRA_INCLUDES="-I$with_geotiff/include $EXTRA_INCLUDES"
   fi

should be simply:

   LIBS="-L$with_geotiff/lib -lgeotiff $LIBS"
   EXTRA_INCLUDES="-I$with_geotiff/include $EXTRA_INCLUDES"

?


On Nov 30, 2005, at 11:07 AM, Frank Warmerdam wrote:

> On 11/30/05, William Kyngesburye <woklist@kyngchaos.com> wrote:
>> Looking at the configure logic for geotiff, it seems to be
>> backwards.  What I see (generalized, ignoring the internal tests):
>>
>> if with=yes [which means look for geotiff in default locations]
>>    test for geotiff using the 'with' value for -L + current LIBS
>>    (LIBS="-lgeotiff -L$with_geotiff/lib $LIBS)
>> else [look for it in user pecified location]
>>    test for goetiff using default locations + current LIBS
>>    (LIBS="-lgeotiff $LIBS)
>
> William,
>
> I believe you are correct.  Can you turn this into a
> proposed patch to fix the problem?
>

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
fighting, and all for things that the beasts of the jungle would not  
deign to possess - money to purchase the effeminate pleasures of  
weaklings.  And yet withal bound down by silly customs that make them  
slaves to their unhappy lot while firm in the belief that they be the  
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan


From matt.wilkie at gov.yk.ca  Wed Nov 30 15:56:30 2005
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL/OGR and the MapServer Foundation
In-Reply-To: <931f8ea90511300916p6e174f46y3d9738afee31db32@mail.gmail.com>
References: <931f8ea90511300916p6e174f46y3d9738afee31db32@mail.gmail.com>
Message-ID: <438E11FE.8080804@gov.yk.ca>

I think the Mapserver Foundation is a very exiting development and I 
wish everyone involved the best experience and clear communication now 
and into the future. I have no opinions to offer on whether gdal should 
be a part of the foundation or not, save that Frank has shown exemplary 
leadership for a long time and that I trust his judgement in this matter 
completely.

That said, I can foresee some distinct advantages to being a member 
project. One of those being that it would be easier for people like me 
in organisations like mine to fund further development. It is difficult 
to sell to management on "buying" gdal functionality from some guy in 
his basement. Still possible though! Thanks to an enlightened 
surpervisor we now have the cded format in gdal. :)

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From andy.canfield at gmail.com  Wed Nov 30 16:15:56 2005
From: andy.canfield at gmail.com (Andy Canfield)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL/OGR and the MapServer Foundation
In-Reply-To: <438E11FE.8080804@gov.yk.ca>
References: <931f8ea90511300916p6e174f46y3d9738afee31db32@mail.gmail.com>
	<438E11FE.8080804@gov.yk.ca>
Message-ID: <7425d0870511301315t4806aca3l800c72200bb6d2f9@mail.gmail.com>

Would Autodesk contribute the ability to read/write the DWG format in
all it's many incompatible versions to OGR without having to buy
something from them? If they did that, that alone would make it worth
it. GDAL/OGR is Frank's opus and he has never done anyting unwise with
it so as long as he supports doing this then I see no reason why not
to do this. However if Autodesk inserts their FDO code into GDAL/OGR
under any license that would allow them to later come back and make
portions of the library usable only with some sort of contract with
Autodesk then I would be completely against that. Using the Foundation
as a steering and standards body for GDAL/OGR sounds like a good idea
up front to me though if no shenanigans from Autodesk occur.

On 11/30/05, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:
> I think the Mapserver Foundation is a very exiting development and I
> wish everyone involved the best experience and clear communication now
> and into the future. I have no opinions to offer on whether gdal should
> be a part of the foundation or not, save that Frank has shown exemplary
> leadership for a long time and that I trust his judgement in this matter
> completely.
>
> That said, I can foresee some distinct advantages to being a member
> project. One of those being that it would be easier for people like me
> in organisations like mine to fund further development. It is difficult
> to sell to management on "buying" gdal functionality from some guy in
> his basement. Still possible though! Thanks to an enlightened
> surpervisor we now have the cded format in gdal. :)
>
> cheers,
>
> --
> matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From warmerdam at pobox.com  Wed Nov 30 16:45:12 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL/OGR and the MapServer Foundation
In-Reply-To: <7425d0870511301315t4806aca3l800c72200bb6d2f9@mail.gmail.com>
References: <931f8ea90511300916p6e174f46y3d9738afee31db32@mail.gmail.com>
	<438E11FE.8080804@gov.yk.ca>
	<7425d0870511301315t4806aca3l800c72200bb6d2f9@mail.gmail.com>
Message-ID: <931f8ea90511301345n25199143sa49ea62daceb05f7@mail.gmail.com>

On 11/30/05, Andy Canfield <andy.canfield@gmail.com> wrote:
> Would Autodesk contribute the ability to read/write the DWG format in
> all it's many incompatible versions to OGR without having to buy
> something from them?

Andy,

My understanding is that Autodesk only has one way of reading
and working with DXF/DWG files, and it basically drags the
entire AutoCAD core along with it.  So, no, they won't likely
be providing DWG/DXF support.  I would add it isn't their
foundation.  It would hopefully be "our" foundation though they
would be members too.  I don't forsee a move to join the
foundation as being very specifically related to Autodesk.

> If they did that, that alone would make it worth
> it. GDAL/OGR is Frank's opus and he has never done anyting unwise with
> it so as long as he supports doing this then I see no reason why not
> to do this. However if Autodesk inserts their FDO code into GDAL/OGR
> under any license that would allow them to later come back and make
> portions of the library usable only with some sort of contract with
> Autodesk then I would be completely against that.

FDO is released under the LGPL.  While I am happy to include some
sort of FDO bridge, I'm not keen on having LGPL code directly in
the default GDAL/OGR builds.  One role of the foundation would
(presumably) be to help ensure the code base is "license clean".

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From woklist at kyngchaos.com  Wed Nov 30 16:46:10 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL changes affecting GRASS?
In-Reply-To: <4E227A83-92DC-4299-84B5-61E5F0BE8851@kyngchaos.com>
References: <22131C87-6676-4925-B1F2-DD4423EB11D3@kyngchaos.com>
	<931f8ea90511291655td8a29e7r43651a4cabfff13c@mail.gmail.com>
	<4E227A83-92DC-4299-84B5-61E5F0BE8851@kyngchaos.com>
Message-ID: <2E5DBFC7-25CD-459D-A0A2-9E9C483C648E@kyngchaos.com>

I got a bare GDAL built - I eventually got down to just the basic  
graphics libraries up thru geotiff (gif, jpeg, png, tiff, geotiff).   
But after failures down to this level, I rebuilt GRASS, then it  
worked.  Odd.

So, went too far.  Now the tedious task of incrementally adding to  
GDAL and rebuilding GRASS each time to find the culprit.  Joy ^_^


On Nov 29, 2005, at 7:25 PM, William Kyngesburye wrote:

> Other things that changed around the same time (I didn't notice it  
> until later, so I can't be absolutely sure when it went wrong):
>
> - switched from JasPer to UUID JasPer
>
> - Largefile support (that's when I started using GDAL CVS - end of  
> July.  Unfortunately I didin't keep a snapshot of that source to  
> test it now)
>
> - Xerces added
>
> - HDF5 added
>
> - GEOS updated
>
>
> I can do some more testing - leave those and others out, barebones  
> GDAL (I considered that today).  I'll see what happens.

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

First Pogril: Why is life like sticking your head in a bucket filled  
with hyena offal?
Second Pogril: I don't know.  Why IS life like sticking your head in  
a bucket filled with hyena offal?
First Pogril: I don't know either.  Wretched, isn't it?

-HitchHiker's Guide to the Galaxy


From andy.canfield at gmail.com  Wed Nov 30 17:02:59 2005
From: andy.canfield at gmail.com (Andy Canfield)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] GDAL/OGR and the MapServer Foundation
In-Reply-To: <931f8ea90511301345n25199143sa49ea62daceb05f7@mail.gmail.com>
References: <931f8ea90511300916p6e174f46y3d9738afee31db32@mail.gmail.com>
	<438E11FE.8080804@gov.yk.ca>
	<7425d0870511301315t4806aca3l800c72200bb6d2f9@mail.gmail.com>
	<931f8ea90511301345n25199143sa49ea62daceb05f7@mail.gmail.com>
Message-ID: <7425d0870511301402j68a2516cpf6fd2f70b05b8c25@mail.gmail.com>

Oh well it was worth a shot on the dwg stuff. However I think the
Foundation would be a very good thing as you have described it. It
would allow developers to do what they do best ( develop ) and keep
the code license clean allowing work to continue quickly rather than
have folks worrying about if they are going to get called into court
because something they worked on is now a part of a law suite. It
would also be nice to have an organizing and governing body attached
to the project to handle all those things that developers generally (
or at least I do ) hate worrying about. It would also give a public
face to the code which would also be very nice. I see a lot of pluses
and I really don't see any minuses as Frank has described how his idea
of it works. Does somebody else out there see something I am not
seeing or does everyone else see this as a really good thing as well?

On 11/30/05, Frank Warmerdam <warmerdam@pobox.com> wrote:
> On 11/30/05, Andy Canfield <andy.canfield@gmail.com> wrote:
> > Would Autodesk contribute the ability to read/write the DWG format in
> > all it's many incompatible versions to OGR without having to buy
> > something from them?
>
> Andy,
>
> My understanding is that Autodesk only has one way of reading
> and working with DXF/DWG files, and it basically drags the
> entire AutoCAD core along with it.  So, no, they won't likely
> be providing DWG/DXF support.  I would add it isn't their
> foundation.  It would hopefully be "our" foundation though they
> would be members too.  I don't forsee a move to join the
> foundation as being very specifically related to Autodesk.
>
> > If they did that, that alone would make it worth
> > it. GDAL/OGR is Frank's opus and he has never done anyting unwise with
> > it so as long as he supports doing this then I see no reason why not
> > to do this. However if Autodesk inserts their FDO code into GDAL/OGR
> > under any license that would allow them to later come back and make
> > portions of the library usable only with some sort of contract with
> > Autodesk then I would be completely against that.
>
> FDO is released under the LGPL.  While I am happy to include some
> sort of FDO bridge, I'm not keen on having LGPL code directly in
> the default GDAL/OGR builds.  One role of the foundation would
> (presumably) be to help ensure the code base is "license clean".
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>


From aaronr at z-pulley.com  Tue Nov 29 00:02:44 2005
From: aaronr at z-pulley.com (Aaron Racicot)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] gdal_translate error with big file
In-Reply-To: <Pine.LNX.4.63.0511291513450.18126@isis.vpac.org>
Message-ID: <20051129050045.0FB0B3640B5@smtp.easystreet.com>

Not 100% sure, but I believe the max file size for a Tiff/GeoTiff is 4GB due
to 32 bit offsets.  Your error would seem to confirm that.

Aaron

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Shoaib Burq (VPAC)
Sent: Monday, November 28, 2005 8:30 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] gdal_translate error with big file

Hi

Trying a coversion from ArcInfo ascii to GeoTiff with internal tiling. 
This is to understand internal tiling better.

The file size is 6.1GB

Currently running FWTools on winXP:
$ gdalinfo --version
GDAL 1.3.1.0, FWTools 1.0.0a6, released 2005/11/03

Upon running the gdal_translate to convert the ascii grids to GeoTiff we
encountered the following error:

$ gdal_translate -co "TFW=YES" -co "TILED=YES" -of GTiff SeafloorElevation
.asc SeafloorElevation_tiled.tif
Input file size is 34799, 29478
0...10...20...30.ERROR 3: Cant seek to offset -1 in input file to read 
data.
ERROR 1: IReadBlock failed at X offset 0, Y offset 9789
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 9789

Works fine using ArcGISs ArcToolBox ASCIItoGRID utility.

Gdalinfo is happy to read the ascii file too:
C:\data>gdalinfo SeafloorElevation.asc
Driver: AAIGrid/Arc/Info ASCII Grid
Size is 34799, 29478
Coordinate System is `'
Origin = (246331.250000,5749620.750000)
Pixel Size = (0.50000000,-0.50000000)
Corner Coordinates:
Upper Left  (  246331.250, 5749620.750)
Lower Left  (  246331.250, 5734881.750)
Upper Right (  263730.750, 5749620.750)
Lower Right (  263730.750, 5734881.750)
Center      (  255031.000, 5742251.250)
Band 1 Block=34799x1 Type=Int16, ColorInterp=Undefined
   NoData Value=-9999

Is this a "big file" support issue? if so how do I get around it?

Thanks for the help
chrs
Shoaib Burq
--
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From thomasemge at gmail.com  Tue Nov 29 01:20:30 2005
From: thomasemge at gmail.com (Thomas Emge)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] SWIG bindings for C#
Message-ID: <262c45fb0511282220m24d6e789qae95d78a3ae3800c@mail.gmail.com>

Hi,

I am interested in learning more about the SWIG bindings for C#.

What material should I start to read? I figure that the SWIG
documentation itself is one thing, but what other sources in relation
to GDAL should I read? How do find out about the current status of the
bindings?

Thanks,

Thomas Emge


From warmerdam at pobox.com  Wed Nov 30 18:58:31 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] gdal_translate error with big file
In-Reply-To: <20051129050045.0FB0B3640B5@smtp.easystreet.com>
References: <Pine.LNX.4.63.0511291513450.18126@isis.vpac.org>
	<20051129050045.0FB0B3640B5@smtp.easystreet.com>
Message-ID: <931f8ea90511301558ge68c003vc355ba4d8dae95f7@mail.gmail.com>

On 11/29/05, Aaron Racicot <aaronr@z-pulley.com> wrote:
> Not 100% sure, but I believe the max file size for a Tiff/GeoTiff is 4GB due
> to 32 bit offsets.  Your error would seem to confirm that.

Shoaib,

The problem is likely that the AAIGRID driver uses the small
file API to read ascii grid files.  I don't see any obvious reason
this couldn't be altered to use the large file API.  I'll try and
implement this tonight.  However, I'm not in a position where
I can produce a new FWTools release for windows for
several weeks so it likely won't help you.

As Aaron notes, there is also a 4GB limit on GeoTIFF size
which might become a problem even with the grid reading
working.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Nov 30 19:05:42 2005
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] SWIG bindings for C#
In-Reply-To: <262c45fb0511282220m24d6e789qae95d78a3ae3800c@mail.gmail.com>
References: <262c45fb0511282220m24d6e789qae95d78a3ae3800c@mail.gmail.com>
Message-ID: <931f8ea90511301605wa502af2k2bc616cc5b37f377@mail.gmail.com>

On 11/29/05, Thomas Emge <thomasemge@gmail.com> wrote:
> Hi,
>
> I am interested in learning more about the SWIG bindings for C#.
>
> What material should I start to read? I figure that the SWIG
> documentation itself is one thing, but what other sources in relation
> to GDAL should I read? How do find out about the current status of the
> bindings?

Thomas,

I don't think there is a status report other than one I sent to the
list a few months ago.  Since then, I imagine some changes
have been made in the core that might have broken what I
did have working.

Basically, some of the basics were working.  I could open files,
query them for some kinds of information.  But that that returned
arrays of data were still problematic.

I would suggest trying to build it and asking here or in #gdal
on irc about the problems you encounter.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From woklist at kyngchaos.com  Wed Nov 30 19:09:27 2005
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:53 2007
Subject: [Gdal-dev] gdal_translate error with big file
In-Reply-To: <20051129050045.0FB0B3640B5@smtp.easystreet.com>
References: <20051129050045.0FB0B3640B5@smtp.easystreet.com>
Message-ID: <D80FB7EC-0926-474A-9298-B504F4BC3680@kyngchaos.com>

I ran into this problem with reading large TIFFs generated in  
Photoshop.  Photoshop writes a TIFF with a single strip.  Yet the  
strip size within libtiff uses a *signed* 32 bit integer, tsize_t, I  
think because it needs to return some error condition.  So I can't  
read >2GB TIFFs created in Photoshop.

A lot of other functions within libtiff use signed 32 bit integers,  
so it can still run into >2GB problems, even if the "largefile"  
support is built into it.  It would need a major rewrite to fix this.


Although, the error I see from Shoaib's output tells me it's having  
trouble READing past 2GB from the asc source.  ~30% of 6GB ~= 2GB :  
Cant seek to offset -1 in input file to read.  gdalinfo will 'read'  
it since it's just looking at the header, nowhere near past 2GB.

On Nov 28, 2005, at 11:02 PM, Aaron Racicot wrote:

> Not 100% sure, but I believe the max file size for a Tiff/GeoTiff  
> is 4GB due
> to 32 bit offsets.  Your error would seem to confirm that.
>
> Aaron
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Shoaib  
> Burq (VPAC)
> Sent: Monday, November 28, 2005 8:30 PM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] gdal_translate error with big file
>
> Hi
>
> Trying a coversion from ArcInfo ascii to GeoTiff with internal tiling.
> This is to understand internal tiling better.
>
> The file size is 6.1GB
>
> Currently running FWTools on winXP:
> $ gdalinfo --version
> GDAL 1.3.1.0, FWTools 1.0.0a6, released 2005/11/03
>
> Upon running the gdal_translate to convert the ascii grids to  
> GeoTiff we
> encountered the following error:
>
> $ gdal_translate -co "TFW=YES" -co "TILED=YES" -of GTiff  
> SeafloorElevation
> .asc SeafloorElevation_tiled.tif
> Input file size is 34799, 29478
> 0...10...20...30.ERROR 3: Cant seek to offset -1 in input file to read
> data.
> ERROR 1: IReadBlock failed at X offset 0, Y offset 9789
> ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 9789
>
> Works fine using ArcGISs ArcToolBox ASCIItoGRID utility.
>
> Gdalinfo is happy to read the ascii file too:
> C:\data>gdalinfo SeafloorElevation.asc
> Driver: AAIGrid/Arc/Info ASCII Grid
> Size is 34799, 29478
> Coordinate System is `'
> Origin = (246331.250000,5749620.750000)
> Pixel Size = (0.50000000,-0.50000000)
> Corner Coordinates:
> Upper Left  (  246331.250, 5749620.750)
> Lower Left  (  246331.250, 5734881.750)
> Upper Right (  263730.750, 5749620.750)
> Lower Right (  263730.750, 5734881.750)
> Center      (  255031.000, 5742251.250)
> Band 1 Block=34799x1 Type=Int16, ColorInterp=Undefined
>    NoData Value=-9999
>
> Is this a "big file" support issue? if so how do I get around it?
>
> Thanks for the help
> chrs
> Shoaib Burq

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

First Pogril: Why is life like sticking your head in a bucket filled  
with hyena offal?
Second Pogril: I don't know.  Why IS life like sticking your head in  
a bucket filled with hyena offal?
First Pogril: I don't know either.  Wretched, isn't it?

-HitchHiker's Guide to the Galaxy


