From Marian.Hadri at rib-software.com  Mon Jun  2 01:22:43 2025
From: Marian.Hadri at rib-software.com (=?iso-8859-1?Q?Mari=E1n_Hadri?=)
Date: Mon, 2 Jun 2025 08:22:43 +0000
Subject: [gdal-dev] Wrong results during translate input.tif file to
 output.xyz file with gdal_translate.exe
Message-ID: <PAVPR01MB103225FEC570C22A6ADE465BEAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>

Hallo,

I write the same once more, there was a problem with link to my example .

I installed gdal 3.10.2 with gdal_translate.exe as well. I tried to translate the file "input.tif" to the file "output.xyz".
When I did it with ... gdal_translate.exe -of XYZ "input.tif" "output.xyz", I got the file output.xyz which contains
a lot of z-coordinates, like "-3.4028230607370965e+38", which is nonsense, because when I opened this input.tif
file with QGIS, the z-coordinates were in the range "643.2 - 925.2". Could you take a look at this, where is the problem ?
Here is the link with file, which is causing the problems ... https://d.rib-software.com/iTWOI_civil/gdaltmp/input.tif

Thanks in advance, Marian Hadri




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250602/1ea4c9ef/attachment.htm>

From j1 at jimenezshaw.com  Mon Jun  2 01:25:31 2025
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Mon, 2 Jun 2025 10:25:31 +0200
Subject: [gdal-dev] Wrong results during translate input.tif file to
 output.xyz file with gdal_translate.exe
In-Reply-To: <PAVPR01MB103225FEC570C22A6ADE465BEAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
References: <PAVPR01MB103225FEC570C22A6ADE465BEAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
Message-ID: <CADRrdKu2f1n1b=rEYP4ew+84gm8mAG7CgS0KGWmMVsr3T2U9aw@mail.gmail.com>

I still get a 404 response.

On Mon, 2 Jun 2025, 10:23 Mari?n Hadri via gdal-dev, <
gdal-dev at lists.osgeo.org> wrote:

> Hallo,
>
> I write the same once more, there was a problem with link to my example .
>
> I installed gdal 3.10.2 with gdal_translate.exe as well. I tried to
> translate the file "input.tif" to the file "output.xyz".
> When I did it with ... gdal_translate.exe -of XYZ "input.tif" "output.xyz",
> I got the file output.xyz which contains
> a lot of z-coordinates, like "-3.4028230607370965e+38", which is nonsense,
> because when I opened this input.tif
> file with QGIS, the z-coordinates were in the range "643.2 - 925.2". Could
> you take a look at this, where is the problem ?
> Here is the link with file, which is causing the problems ...
> https://d.rib-software.com/iTWOI_civil/gdaltmp/input.tif
>
> Thanks in advance, Marian Hadri
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250602/b95f72f2/attachment.htm>

From Marian.Hadri at rib-software.com  Mon Jun  2 01:37:40 2025
From: Marian.Hadri at rib-software.com (=?iso-8859-1?Q?Mari=E1n_Hadri?=)
Date: Mon, 2 Jun 2025 08:37:40 +0000
Subject: [gdal-dev] WG: Wrong results during translate input.tif file to
 output.xyz file with gdal_translate.exe
In-Reply-To: <PAVPR01MB10322A3C00F24EDB3327092FCAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
References: <PAVPR01MB103225FEC570C22A6ADE465BEAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
 <CADRrdKu2f1n1b=rEYP4ew+84gm8mAG7CgS0KGWmMVsr3T2U9aw@mail.gmail.com>
 <48499498-3770-4078-90d7-69df32361922.a21746e6-f41a-4c75-8352-8c032b712c3f.e3006e70-376b-4537-b40a-eec2d1e5bd80@emailsignatures365.codetwo.com>
 <PAVPR01MB10322A3C00F24EDB3327092FCAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
Message-ID: <PAVPR01MB103227ED118496F4C75C9D972AE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>

Hallo,

excuse me, this is the correct link ...

https://d.rib-software.com/iTWO_civil/gdaltmp/input.tif

Best regards, Marian Hadri





















Mari?n Hadri  Developer


E-Mail  Marian.Hadri at rib-software.com


Telefon  +49(711)7873-339


[cid:blue-line_d40935b2-037b-4887-8d74-19a11bd1363f.png]


RIB Software GmbH | Epplestra?e 225, Haus 2, 70567 Stuttgart, Germany

Sitz Stuttgart. Amtsgericht Stuttgart HRB 783426. Gesch?ftsf?hrer: Ren? Wolf, Tobias Hamacher.




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250602/4382bc8a/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: blue-line_d40935b2-037b-4887-8d74-19a11bd1363f.png
Type: image/png
Size: 137 bytes
Desc: blue-line_d40935b2-037b-4887-8d74-19a11bd1363f.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250602/4382bc8a/attachment-0001.png>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Jun  2 01:56:50 2025
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 2 Jun 2025 08:56:50 +0000
Subject: [gdal-dev] WG: Wrong results during translate input.tif file to
 output.xyz file with gdal_translate.exe
In-Reply-To: <PAVPR01MB103227ED118496F4C75C9D972AE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
References: <PAVPR01MB103225FEC570C22A6ADE465BEAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
 <CADRrdKu2f1n1b=rEYP4ew+84gm8mAG7CgS0KGWmMVsr3T2U9aw@mail.gmail.com>
 <48499498-3770-4078-90d7-69df32361922.a21746e6-f41a-4c75-8352-8c032b712c3f.e3006e70-376b-4537-b40a-eec2d1e5bd80@emailsignatures365.codetwo.com>
 <PAVPR01MB10322A3C00F24EDB3327092FCAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
 <PAVPR01MB103227ED118496F4C75C9D972AE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
Message-ID: <DB9PR09MB6887AA935A358683F8919904FD62A@DB9PR09MB6887.eurprd09.prod.outlook.com>

Hi,

Run:
gdalinfo input.tif -stats

See among other information:
...
Band 1 Block=1905x1 Type=Float32, ColorInterp=Gray
  Minimum=643.147, Maximum=927.145, Mean=735.006, StdDev=69.669
  NoData Value=-3.402823e+38
  Metadata:
    STATISTICS_MINIMUM=643.14666748047
    STATISTICS_MAXIMUM=927.14501953125
    STATISTICS_MEAN=735.00611216951
    STATISTICS_STDDEV=69.669350319879
    STATISTICS_VALID_PERCENT=48.23

It means that 100-48.23=51.77 percent of the pixels are nodata, and nodata pixels have a value -3.402823e+38.

You must just tell in your next processing steps that your .xyz file contain also nodata values, just like the original data.

-Jukka Rahkonen-



________________________________________
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> k?ytt?j?n Mari?n Hadri via gdal-dev <gdal-dev at lists.osgeo.org> puolesta
L?hetetty: Maanantai 2. kes?kuuta 2025 11.37
Vastaanottaja: Javier Jimenez Shaw <j1 at jimenezshaw.com>; gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] WG: Wrong results during translate input.tif file to output.xyz file with gdal_translate.exe

Hallo,?excuse me, this is the correct link ...https://d.rib-software.com/iTWO_civil/gdaltmp/input.tifBest regards, Marian HadriMari?n Hadri??DeveloperE-Mail??Marian.Hadri at rib-software.comTelefon??+49(711)7873-339[X]RIB Software GmbH |?Epplestra?e 225, Haus 2,?70567?Stuttgart, GermanySitz Stuttgart. Amtsgericht Stuttgart HRB 783426. Gesch?ftsf?hrer: Ren? Wolf, Tobias Hamacher. 

From dpr.1980 at gmail.com  Mon Jun  2 02:09:32 2025
From: dpr.1980 at gmail.com (Daniel Perez Rodriguez)
Date: Mon, 2 Jun 2025 11:09:32 +0200
Subject: [gdal-dev] Linking issue in Windows
Message-ID: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>

Good morning everyone.

My name is Daniel (first message here) from Spain so I hope I can explain
my problem properly.

I am working in a C++ project, using gdal in Windows and getting it from
vcpkg, using cmake and Visual Studio 2022.
>From the last days, after an update of my development machine I am having a
blocking issue compiling the project, to be a bit more precise: a linking
issue.  Here is my configuration and at the end I will put the errors:

*DEVELOPMENT ENVIRONMENT:*
Microsoft Visual Studio Professional 2022 Version 17.13.6
VisualStudio.17.Release/17.13.6+35931.197
Microsoft .NET Framework Version 4.8.09032

Installed Version: Professional

Microsoft Visual C++ 2022

ASP.NET and Web Tools   17.13.124.35287
Azure App Service Tools v3.0.0   17.13.124.35287

C# Tools   4.13.0-3.25167.3+73eff2b5de2ad38ec602c0a9e82f9125fb85992b
C# components used in the IDE. Depending on your project type and settings,
a different version of the compiler may be used.

GitHub Copilot   17.13.444.19527
GitHub Copilot is an AI pair programmer that helps you write code faster
and with less work.

Linux Core Dump Debugging   1.0.9.35825
Enables debugging of Linux core dumps.

Microsoft JVM Debugger   1.0
Provides support for connecting the Visual Studio debugger to JDWP
compatible Java Virtual Machines

NuGet Package Manager   6.13.2
NuGet Package Manager in Visual Studio. For more information about NuGet,
visit https://docs.nuget.org/

Qt Visual Studio Tools   3.3.1.1
This official Qt Group extension, Qt Visual Studio Tools, integrates Qt
development tools into Microsoft Visual Studio 2022, enabling developers to
use their familiar Windows environment without worrying about Qt-related
build steps or tools.

SonarQube for Visual Studio   8.16.0.12791
SonarQube for Visual Studio is an extension to your favorite IDE that
provides on-the-fly feedback to developers on new bugs and quality issues
injected into their code.

TypeScript Tools   17.0.31211.2001
TypeScript Tools for Microsoft Visual Studio

Visual Basic Tools
4.13.0-3.25167.3+73eff2b5de2ad38ec602c0a9e82f9125fb85992b
Visual Basic components used in the IDE. Depending on your project type and
settings, a different version of the compiler may be used.

Visual C++ for Linux Development   1.0.9.35825
Visual C++ for Linux Development

Visual Studio IntelliCode   2.2
AI-assisted development for Visual Studio.

*VCPKG.JSON* (special attention please to gdal and proj entries)
{
"version": "0.0.0",
"builtin-baseline": "6f29f12e82a8293156836ad81cc9bf5af41fe836",
"dependencies": [
{"name": "boost-date-time", "version>=": "1.86.0"},
{"name": "boost-fiber", "version>=": "1.86.0"},
{"name": "boost-filesystem", "version>=": "1.86.0"},
{"name": "boost-geometry", "version>=": "1.86.0"},
{"name": "boost-headers", "version>=": "1.86.0"},
{"name": "boost-iostreams", "version>=": "1.86.0"},
{"name": "boost-property-tree", "version>=": "1.86.0"},
{"name": "boost-regex", "version>=": "1.86.0"},

* {"name": "gdal", "version>=": "3.10.0", "default-features": false},*
{"name": "gtest", "version>=": "1.15.2"},
{"name": "libgeotiff", "version>=": "1.7.3"},
{"name": "lodepng", "version>=": "2021-12-04"},
{"name": "nlohmann-json", "version>=": "3.11.3"},

* {"name": "proj", "version>=": "9.5.1", "default-features": false},*
{"name": "rapidxml", "version>=": "1.13#7"},
{"name": "shapelib", "version>=": "1.6.1"},
{"name": "sqlite3", "version>=": "3.48.0"},
{"name": "units", "version>=": "2.3.3"},
{"name": "zlib", "version>=": "1.3.1"}
]
}

*ERROR OUTPUT:*

44>   Creating library C:/Users/*****/Release/project.lib and object
C:/Users/*****/Release/project.exp
44>proj.lib(vgridshift.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>proj.lib(oputils.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>proj.lib(concatenatedoperation.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>proj.lib(coordinateoperationfactory.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>proj.lib(datum.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>proj.lib(crs.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>proj.lib(singleoperation.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>proj.lib(internal.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>proj.lib(io.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>proj.lib(factory.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>gdal.lib(ogrdxf_leader.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>proj.lib(4D_api.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>proj.lib(c_api.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>proj.lib(grids.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>gdal.lib(parsexsd.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>gdal.lib(ogrpgdumplayer.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(ogrjsonfgwritelayer.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(ogrdxf_dimension.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(cbandinterleavedchannel.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(asciitiledir.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(binarytiledir.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(gmlreader.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>gdal.lib(cpcidskblockfile.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(ogrwaspdatasource.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(ogrgmldatasource.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(ogrgeojsonutils.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(envidataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(cpl_vsil_abstract_archive.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(gdalargumentparser.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(gtiffsplitbitmapband.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(pdfcreatecopy.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(marfa_dataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(mrfdrivercore.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(zarr_v2_group.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(vrtderivedrasterband.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(pcidskcreate.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(pdsdrivercore.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(ogr_srs_erm.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(gdalpamproxydb.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(ogrcurvecollection.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(gdalsubdatasetinfo.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(gtiffdataset_read.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(cpl_vsi_mem.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(cpl_vsil_gzip.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(ogrgeometrycollection.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(ogrutils.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>gdal.lib(mrf_util.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>gdal.lib(deriveddataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(stacitdataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(snaptiffdriver.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(vicardataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(gribdataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(esric_dataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(safedataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(cplstring.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>gdal.lib(ogrspatialreference.cpp.obj) : error LNK2001: unresolved
external symbol __std_search_1
44>gdal.lib(pdsdataset.cpp.obj) : error LNK2001: unresolved external symbol
__std_search_1
44>gdal.lib(pds4dataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_search_1
44>gdal.lib(marfa_dataset.cpp.obj) : error LNK2019: unresolved external
symbol __std_find_last_of_trivial_pos_1 referenced in function "enum CPLErr
__cdecl GDAL_MRF::Init_Raster(struct GDAL_MRF::ILImage &,class
GDAL_MRF::MRFDataset *,struct CPLXMLNode *)" (?Init_Raster at GDAL_MRF
@@YA?AW4CPLErr@@AEAUILImage at 1@PEAVMRFDataset at 1@PEAUCPLXMLNode@@@Z)
44>proj.lib(filemanager.cpp.obj) : error LNK2001: unresolved external
symbol __std_find_last_of_trivial_pos_1
44>gdal.lib(ilwisdataset.cpp.obj) : error LNK2001: unresolved external
symbol __std_find_last_of_trivial_pos_1
44>gdal.lib(grddataset.cpp.obj) : error LNK2001: unresolved external symbol
__std_find_last_of_trivial_pos_1
44>gdal.lib(mrf_util.cpp.obj) : error LNK2001: unresolved external symbol
__std_find_last_of_trivial_pos_1
44>gdal.lib(pcidskcreate.cpp.obj) : error LNK2001: unresolved external
symbol __std_find_last_of_trivial_pos_1
44>gdal.lib(vrtderivedrasterband.cpp.obj) : error LNK2019: unresolved
external symbol __std_find_end_1 referenced in function "char const *
__cdecl std::_Find_end_vectorized<char const ,char const >(char const *
const,char const * const,char const * const,unsigned __int64)"
(??$_Find_end_vectorized@$$CBD$$CBD at std@@YAPEBDQEBD00_K at Z)
44>gdal.lib(gdal_mdreader.cpp.obj) : error LNK2001: unresolved external
symbol __std_find_end_1
44>gdal.lib(ogrdxflayer.cpp.obj) : error LNK2001: unresolved external
symbol __std_find_end_1
44>proj.lib(coordinateoperationfactory.cpp.obj) : error LNK2001: unresolved
external symbol __std_find_end_1
44>gdal.lib(ogropenfilegdblayer_write.cpp.obj) : error LNK2019: unresolved
external symbol __std_search_2 referenced in function "wchar_t const *
__cdecl std::_Search_vectorized<wchar_t const ,wchar_t const >(wchar_t
const * const,wchar_t const * const,wchar_t const * const,unsigned
__int64)" (??$_Search_vectorized@$$CB_W$$CB_W at std@@YAPEB_WQEB_W00_K at Z)
44>gdal.lib(gnmgraph.cpp.obj) : error LNK2019: unresolved external symbol
__std_remove_8 referenced in function "__int64 * __cdecl
std::_Remove_vectorized<__int64,__int64>(__int64 * const,__int64 *
const,__int64)" (??$_Remove_vectorized at _J_J@std@@YAPEA_JQEA_J0_J at Z)
44>C:/Users/*****/Release/project.exe : fatal error LNK1120: 5 unresolved
externals
--

Libraries coming from VCPKG and the ones from the project are correctly
built but the final linkage fails.

So any hint about where these "error LNK2001: unresolved external symbol
__std_search_1" came from ?

Thanks in advance !

PS: sorry if this is not the correct channel to communicate these doubts
and correct me in that case.
PPS: don't hesitate for any further information if you need it.


*Daniel P?rez Rodr?guez*
*daniteleco.github.io <http://daniteleco.github.io>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250602/f997572e/attachment-0001.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Jun  2 02:36:32 2025
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 2 Jun 2025 09:36:32 +0000
Subject: [gdal-dev] WG: Wrong results during translate input.tif file to
 output.xyz file with gdal_translate.exe
In-Reply-To: <DB9PR09MB6887AA935A358683F8919904FD62A@DB9PR09MB6887.eurprd09.prod.outlook.com>
References: <PAVPR01MB103225FEC570C22A6ADE465BEAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
 <CADRrdKu2f1n1b=rEYP4ew+84gm8mAG7CgS0KGWmMVsr3T2U9aw@mail.gmail.com>
 <48499498-3770-4078-90d7-69df32361922.a21746e6-f41a-4c75-8352-8c032b712c3f.e3006e70-376b-4537-b40a-eec2d1e5bd80@emailsignatures365.codetwo.com>
 <PAVPR01MB10322A3C00F24EDB3327092FCAE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
 <PAVPR01MB103227ED118496F4C75C9D972AE62A@PAVPR01MB10322.eurprd01.prod.exchangelabs.com>
 <DB9PR09MB6887AA935A358683F8919904FD62A@DB9PR09MB6887.eurprd09.prod.outlook.com>
Message-ID: <DB9PR09MB68870D124EBE0673A61DD5E4FD62A@DB9PR09MB6887.eurprd09.prod.outlook.com>

Hi,

Supplementing my previous answer:
If you do not like seeing z values -3.402823e+38 in the output xyz file, you can change them into your favorite value by using gdalwarp instead of gdal_translate. For example if you'd prefer 0 as nodata, run

gdalwarp -of XYZ -dstnodata 0 input.tif output.xyz

Corresponding documentation https://gdal.org/en/stable/programs/gdalwarp.html#cmdoption-gdalwarp-dstnodata

I guess that the following part may be difficult to understand if you are not yet so experienced with the concept of nodata

"New files will be initialized to this value and if possible the nodata value will be recorded in the output file. Use a value of None to ensure that nodata is not defined."

With nodata there are things to do:
-If the pixel does not carry any real information, store some predefined value for the pixel to tell that there is nothing interesting there.
- If the file format allows, store the nodata value into metadata "In this file, value [ ] means nodata and corresponding pixels do not carry any information".

In the sentense "New files will be initialized to this value" mean the first point, and "if possible the nodata value will be recorded in the output file" deals with the latter point, the metadata thing. You have already seen that GeoTIFF supports storing the nodata value into the metadata. The simple XYZ format does not support metadata and user must know by some other means what value stands for nodata.

-Jukka Rahkonen-

________________________________________
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> k?ytt?j?n Rahkonen Jukka via gdal-dev <gdal-dev at lists.osgeo.org> puolesta
L?hetetty: Maanantai 2. kes?kuuta 2025 11.56
Vastaanottaja: Javier Jimenez Shaw <j1 at jimenezshaw.com>; gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>; Mari?n Hadri <Marian.Hadri at rib-software.com>
Aihe: Re: [gdal-dev] WG: Wrong results during translate input.tif file to output.xyz file with gdal_translate.exe


Hi,

Run:
gdalinfo input.tif -stats

See among other information:
...
Band 1 Block=1905x1 Type=Float32, ColorInterp=Gray
  Minimum=643.147, Maximum=927.145, Mean=735.006, StdDev=69.669
  NoData Value=-3.402823e+38
  Metadata:
    STATISTICS_MINIMUM=643.14666748047
    STATISTICS_MAXIMUM=927.14501953125
    STATISTICS_MEAN=735.00611216951
    STATISTICS_STDDEV=69.669350319879
    STATISTICS_VALID_PERCENT=48.23

It means that 100-48.23=51.77 percent of the pixels are nodata, and nodata pixels have a value -3.402823e+38.

You must just tell in your next processing steps that your .xyz file contain also nodata values, just like the original data.

-Jukka Rahkonen-



________________________________________
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> k?ytt?j?n Mari?n Hadri via gdal-dev <gdal-dev at lists.osgeo.org> puolesta
L?hetetty: Maanantai 2. kes?kuuta 2025 11.37
Vastaanottaja: Javier Jimenez Shaw <j1 at jimenezshaw.com>; gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] WG: Wrong results during translate input.tif file to output.xyz file with gdal_translate.exe

Hallo, excuse me, this is the correct link ...https://d.rib-software.com/iTWO_civil/gdaltmp/input.tifBest regards, Marian HadriMari?n Hadri  DeveloperE-Mail  Marian.Hadri at rib-software.comTelefon  +49(711)7873-339[X]RIB Software GmbH | Epplestra?e 225, Haus 2, 70567 Stuttgart, GermanySitz Stuttgart. Amtsgericht Stuttgart HRB 783426. Gesch?ftsf?hrer: Ren? Wolf, Tobias Hamacher.
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev



From andrew.bell.ia at gmail.com  Mon Jun  2 07:01:30 2025
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Mon, 2 Jun 2025 10:01:30 -0400
Subject: [gdal-dev] Linking issue in Windows
In-Reply-To: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>
References: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>
Message-ID: <CACJ51z04guWd=RmR214HgNX1Nt3Pg0UEbE-bSw8ziMEPfiAV5w@mail.gmail.com>

Hi Daniel,

Symbols that start with "__" are reserved for system libraries. It appears
that you're not linking the C++ standard library or are linking with an
incompatible version. GDAL requires C++17 support.


On Mon, Jun 2, 2025 at 5:25?AM Daniel Perez Rodriguez via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> Good morning everyone.
>
> My name is Daniel (first message here) from Spain so I hope I can explain
> my problem properly.
>
> I am working in a C++ project, using gdal in Windows and getting it from
> vcpkg, using cmake and Visual Studio 2022.
> From the last days, after an update of my development machine I am having
> a blocking issue compiling the project, to be a bit more precise: a linking
> issue.  Here is my configuration and at the end I will put the errors:
>
> *DEVELOPMENT ENVIRONMENT:*
> Microsoft Visual Studio Professional 2022 Version 17.13.6
> VisualStudio.17.Release/17.13.6+35931.197
> Microsoft .NET Framework Version 4.8.09032
>
> Installed Version: Professional
>
> Microsoft Visual C++ 2022
>
> ASP.NET and Web Tools   17.13.124.35287
> Azure App Service Tools v3.0.0   17.13.124.35287
>
> C# Tools   4.13.0-3.25167.3+73eff2b5de2ad38ec602c0a9e82f9125fb85992b
> C# components used in the IDE. Depending on your project type and
> settings, a different version of the compiler may be used.
>
> GitHub Copilot   17.13.444.19527
> GitHub Copilot is an AI pair programmer that helps you write code faster
> and with less work.
>
> Linux Core Dump Debugging   1.0.9.35825
> Enables debugging of Linux core dumps.
>
> Microsoft JVM Debugger   1.0
> Provides support for connecting the Visual Studio debugger to JDWP
> compatible Java Virtual Machines
>
> NuGet Package Manager   6.13.2
> NuGet Package Manager in Visual Studio. For more information about NuGet,
> visit https://docs.nuget.org/
>
> Qt Visual Studio Tools   3.3.1.1
> This official Qt Group extension, Qt Visual Studio Tools, integrates Qt
> development tools into Microsoft Visual Studio 2022, enabling developers to
> use their familiar Windows environment without worrying about Qt-related
> build steps or tools.
>
> SonarQube for Visual Studio   8.16.0.12791
> SonarQube for Visual Studio is an extension to your favorite IDE that
> provides on-the-fly feedback to developers on new bugs and quality issues
> injected into their code.
>
> TypeScript Tools   17.0.31211.2001
> TypeScript Tools for Microsoft Visual Studio
>
> Visual Basic Tools
> 4.13.0-3.25167.3+73eff2b5de2ad38ec602c0a9e82f9125fb85992b
> Visual Basic components used in the IDE. Depending on your project type
> and settings, a different version of the compiler may be used.
>
> Visual C++ for Linux Development   1.0.9.35825
> Visual C++ for Linux Development
>
> Visual Studio IntelliCode   2.2
> AI-assisted development for Visual Studio.
>
> *VCPKG.JSON* (special attention please to gdal and proj entries)
> {
> "version": "0.0.0",
> "builtin-baseline": "6f29f12e82a8293156836ad81cc9bf5af41fe836",
> "dependencies": [
> {"name": "boost-date-time", "version>=": "1.86.0"},
> {"name": "boost-fiber", "version>=": "1.86.0"},
> {"name": "boost-filesystem", "version>=": "1.86.0"},
> {"name": "boost-geometry", "version>=": "1.86.0"},
> {"name": "boost-headers", "version>=": "1.86.0"},
> {"name": "boost-iostreams", "version>=": "1.86.0"},
> {"name": "boost-property-tree", "version>=": "1.86.0"},
> {"name": "boost-regex", "version>=": "1.86.0"},
>
> * {"name": "gdal", "version>=": "3.10.0", "default-features": false},*
> {"name": "gtest", "version>=": "1.15.2"},
> {"name": "libgeotiff", "version>=": "1.7.3"},
> {"name": "lodepng", "version>=": "2021-12-04"},
> {"name": "nlohmann-json", "version>=": "3.11.3"},
>
> * {"name": "proj", "version>=": "9.5.1", "default-features": false},*
> {"name": "rapidxml", "version>=": "1.13#7"},
> {"name": "shapelib", "version>=": "1.6.1"},
> {"name": "sqlite3", "version>=": "3.48.0"},
> {"name": "units", "version>=": "2.3.3"},
> {"name": "zlib", "version>=": "1.3.1"}
> ]
> }
>
> *ERROR OUTPUT:*
>
> 44>   Creating library C:/Users/*****/Release/project.lib and object
> C:/Users/*****/Release/project.exp
> 44>proj.lib(vgridshift.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>proj.lib(oputils.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(concatenatedoperation.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>proj.lib(coordinateoperationfactory.cpp.obj) : error LNK2001:
> unresolved external symbol __std_search_1
> 44>proj.lib(datum.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(crs.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(singleoperation.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>proj.lib(internal.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(io.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(factory.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(ogrdxf_leader.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>proj.lib(4D_api.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(c_api.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(grids.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(parsexsd.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(ogrpgdumplayer.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrjsonfgwritelayer.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(ogrdxf_dimension.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(cbandinterleavedchannel.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(asciitiledir.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(binarytiledir.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(gmlreader.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(cpcidskblockfile.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrwaspdatasource.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(ogrgmldatasource.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrgeojsonutils.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(envidataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(cpl_vsil_abstract_archive.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(gdalargumentparser.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(gtiffsplitbitmapband.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(pdfcreatecopy.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(marfa_dataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(mrfdrivercore.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(zarr_v2_group.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(vrtderivedrasterband.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(pcidskcreate.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(pdsdrivercore.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogr_srs_erm.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(gdalpamproxydb.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrcurvecollection.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(gdalsubdatasetinfo.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(gtiffdataset_read.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(cpl_vsi_mem.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(cpl_vsil_gzip.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrgeometrycollection.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(ogrutils.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(mrf_util.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(deriveddataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(stacitdataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(snaptiffdriver.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(vicardataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(gribdataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(esric_dataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(safedataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(cplstring.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(ogrspatialreference.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(pdsdataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(pds4dataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(marfa_dataset.cpp.obj) : error LNK2019: unresolved external
> symbol __std_find_last_of_trivial_pos_1 referenced in function "enum CPLErr
> __cdecl GDAL_MRF::Init_Raster(struct GDAL_MRF::ILImage &,class
> GDAL_MRF::MRFDataset *,struct CPLXMLNode *)" (?Init_Raster at GDAL_MRF
> @@YA?AW4CPLErr@@AEAUILImage at 1@PEAVMRFDataset at 1@PEAUCPLXMLNode@@@Z)
> 44>proj.lib(filemanager.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_last_of_trivial_pos_1
> 44>gdal.lib(ilwisdataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_last_of_trivial_pos_1
> 44>gdal.lib(grddataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_last_of_trivial_pos_1
> 44>gdal.lib(mrf_util.cpp.obj) : error LNK2001: unresolved external symbol
> __std_find_last_of_trivial_pos_1
> 44>gdal.lib(pcidskcreate.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_last_of_trivial_pos_1
> 44>gdal.lib(vrtderivedrasterband.cpp.obj) : error LNK2019: unresolved
> external symbol __std_find_end_1 referenced in function "char const *
> __cdecl std::_Find_end_vectorized<char const ,char const >(char const *
> const,char const * const,char const * const,unsigned __int64)"
> (??$_Find_end_vectorized@$$CBD$$CBD at std@@YAPEBDQEBD00_K at Z)
> 44>gdal.lib(gdal_mdreader.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_end_1
> 44>gdal.lib(ogrdxflayer.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_end_1
> 44>proj.lib(coordinateoperationfactory.cpp.obj) : error LNK2001:
> unresolved external symbol __std_find_end_1
> 44>gdal.lib(ogropenfilegdblayer_write.cpp.obj) : error LNK2019: unresolved
> external symbol __std_search_2 referenced in function "wchar_t const *
> __cdecl std::_Search_vectorized<wchar_t const ,wchar_t const >(wchar_t
> const * const,wchar_t const * const,wchar_t const * const,unsigned
> __int64)" (??$_Search_vectorized@$$CB_W$$CB_W at std@@YAPEB_WQEB_W00_K at Z)
> 44>gdal.lib(gnmgraph.cpp.obj) : error LNK2019: unresolved external symbol
> __std_remove_8 referenced in function "__int64 * __cdecl
> std::_Remove_vectorized<__int64,__int64>(__int64 * const,__int64 *
> const,__int64)" (??$_Remove_vectorized at _J_J@std@@YAPEA_JQEA_J0_J at Z)
> 44>C:/Users/*****/Release/project.exe : fatal error LNK1120: 5 unresolved
> externals
> --
>
> Libraries coming from VCPKG and the ones from the project are correctly
> built but the final linkage fails.
>
> So any hint about where these "error LNK2001: unresolved external symbol
> __std_search_1" came from ?
>
> Thanks in advance !
>
> PS: sorry if this is not the correct channel to communicate these doubts
> and correct me in that case.
> PPS: don't hesitate for any further information if you need it.
>
>
> *Daniel P?rez Rodr?guez*
> *daniteleco.github.io <http://daniteleco.github.io>*
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250602/208b69b9/attachment-0001.htm>

From a.pau at creaf.cat  Mon Jun  2 07:46:45 2025
From: a.pau at creaf.cat (Abel Pau)
Date: Mon, 2 Jun 2025 14:46:45 +0000
Subject: [gdal-dev] Linking issue in Windows
In-Reply-To: <CACJ51z04guWd=RmR214HgNX1Nt3Pg0UEbE-bSw8ziMEPfiAV5w@mail.gmail.com>
References: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>
 <CACJ51z04guWd=RmR214HgNX1Nt3Pg0UEbE-bSw8ziMEPfiAV5w@mail.gmail.com>
Message-ID: <PAXPR07MB7775D428331B3261AB9BDF0AFA62A@PAXPR07MB7775.eurprd07.prod.outlook.com>

Daniel,
when I want to compile from windows using vcpkg I do:

cd d:\Github\gdal <-- whereever you have the gdal code
cmake -B build -S . -DCMAKE_TOOLCHAIN_FILE=C:/dev/vcpkg/vcpkg/scripts/buildsystems/vcpkg.cmake -DCMAKE_BUILD_TYPE=Debug
cmake --build build --config Debug

and make sure your environment variable PROJ_DATA is pointing to C:\dev\vcpkg\vcpkg\buildtrees\proj\x64-windows-dbg\data
(perhaps there are other things)

I hope it helps.


________________________________
De: gdal-dev <gdal-dev-bounces at lists.osgeo.org> de part de Andrew Bell via gdal-dev <gdal-dev at lists.osgeo.org>
Enviat el: dilluns, 2 de juny de 2025 16:01
Per a: Daniel Perez Rodriguez <dpr.1980 at gmail.com>
A/c: gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Tema: Re: [gdal-dev] Linking issue in Windows

Hi Daniel,

Symbols that start with "__" are reserved for system libraries. It appears that you're not linking the C++ standard library or are linking with an incompatible version. GDAL requires C++17 support.


On Mon, Jun 2, 2025 at 5:25?AM Daniel Perez Rodriguez via gdal-dev <gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>> wrote:
Good morning everyone.

My name is Daniel (first message here) from Spain so I hope I can explain my problem properly.

I am working in a C++ project, using gdal in Windows and getting it from vcpkg, using cmake and Visual Studio 2022.
From the last days, after an update of my development machine I am having a blocking issue compiling the project, to be a bit more precise: a linking issue.  Here is my configuration and at the end I will put the errors:

DEVELOPMENT ENVIRONMENT:
Microsoft Visual Studio Professional 2022 Version 17.13.6
VisualStudio.17.Release/17.13.6+35931.197
Microsoft .NET Framework Version 4.8.09032

Installed Version: Professional

Microsoft Visual C++ 2022

ASP.NET<http://ASP.NET> and Web Tools   17.13.124.35287
Azure App Service Tools v3.0.0   17.13.124.35287

C# Tools   4.13.0-3.25167.3+73eff2b5de2ad38ec602c0a9e82f9125fb85992b
C# components used in the IDE. Depending on your project type and settings, a different version of the compiler may be used.

GitHub Copilot   17.13.444.19527
GitHub Copilot is an AI pair programmer that helps you write code faster and with less work.

Linux Core Dump Debugging   1.0.9.35825
Enables debugging of Linux core dumps.

Microsoft JVM Debugger   1.0
Provides support for connecting the Visual Studio debugger to JDWP compatible Java Virtual Machines

NuGet Package Manager   6.13.2
NuGet Package Manager in Visual Studio. For more information about NuGet, visit https://docs.nuget.org/

Qt Visual Studio Tools   3.3.1.1
This official Qt Group extension, Qt Visual Studio Tools, integrates Qt development tools into Microsoft Visual Studio 2022, enabling developers to use their familiar Windows environment without worrying about Qt-related build steps or tools.

SonarQube for Visual Studio   8.16.0.12791
SonarQube for Visual Studio is an extension to your favorite IDE that provides on-the-fly feedback to developers on new bugs and quality issues injected into their code.

TypeScript Tools   17.0.31211.2001
TypeScript Tools for Microsoft Visual Studio

Visual Basic Tools   4.13.0-3.25167.3+73eff2b5de2ad38ec602c0a9e82f9125fb85992b
Visual Basic components used in the IDE. Depending on your project type and settings, a different version of the compiler may be used.

Visual C++ for Linux Development   1.0.9.35825
Visual C++ for Linux Development

Visual Studio IntelliCode   2.2
AI-assisted development for Visual Studio.

VCPKG.JSON (special attention please to gdal and proj entries)
{
"version": "0.0.0",
"builtin-baseline": "6f29f12e82a8293156836ad81cc9bf5af41fe836",
"dependencies": [
{"name": "boost-date-time", "version>=": "1.86.0"},
{"name": "boost-fiber", "version>=": "1.86.0"},
{"name": "boost-filesystem", "version>=": "1.86.0"},
{"name": "boost-geometry", "version>=": "1.86.0"},
{"name": "boost-headers", "version>=": "1.86.0"},
{"name": "boost-iostreams", "version>=": "1.86.0"},
{"name": "boost-property-tree", "version>=": "1.86.0"},
{"name": "boost-regex", "version>=": "1.86.0"},
{"name": "gdal", "version>=": "3.10.0", "default-features": false},
{"name": "gtest", "version>=": "1.15.2"},
{"name": "libgeotiff", "version>=": "1.7.3"},
{"name": "lodepng", "version>=": "2021-12-04"},
{"name": "nlohmann-json", "version>=": "3.11.3"},
{"name": "proj", "version>=": "9.5.1", "default-features": false},
{"name": "rapidxml", "version>=": "1.13#7"},
{"name": "shapelib", "version>=": "1.6.1"},
{"name": "sqlite3", "version>=": "3.48.0"},
{"name": "units", "version>=": "2.3.3"},
{"name": "zlib", "version>=": "1.3.1"}
]
}

ERROR OUTPUT:

44>   Creating library C:/Users/*****/Release/project.lib and object C:/Users/*****/Release/project.exp
44>proj.lib(vgridshift.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(oputils.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(concatenatedoperation.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(coordinateoperationfactory.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(datum.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(crs.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(singleoperation.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(internal.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(io.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(factory.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrdxf_leader.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(4D_api.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(c_api.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>proj.lib(grids.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(parsexsd.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrpgdumplayer.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrjsonfgwritelayer.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrdxf_dimension.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(cbandinterleavedchannel.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(asciitiledir.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(binarytiledir.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(gmlreader.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(cpcidskblockfile.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrwaspdatasource.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrgmldatasource.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrgeojsonutils.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(envidataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(cpl_vsil_abstract_archive.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(gdalargumentparser.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(gtiffsplitbitmapband.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(pdfcreatecopy.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(marfa_dataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(mrfdrivercore.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(zarr_v2_group.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(vrtderivedrasterband.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(pcidskcreate.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(pdsdrivercore.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogr_srs_erm.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(gdalpamproxydb.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrcurvecollection.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(gdalsubdatasetinfo.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(gtiffdataset_read.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(cpl_vsi_mem.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(cpl_vsil_gzip.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrgeometrycollection.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrutils.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(mrf_util.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(deriveddataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(stacitdataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(snaptiffdriver.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(vicardataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(gribdataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(esric_dataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(safedataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(cplstring.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(ogrspatialreference.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(pdsdataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(pds4dataset.cpp.obj) : error LNK2001: unresolved external symbol __std_search_1
44>gdal.lib(marfa_dataset.cpp.obj) : error LNK2019: unresolved external symbol __std_find_last_of_trivial_pos_1 referenced in function "enum CPLErr __cdecl GDAL_MRF::Init_Raster(struct GDAL_MRF::ILImage &,class GDAL_MRF::MRFDataset *,struct CPLXMLNode *)" (?Init_Raster at GDAL_MRF@@YA?AW4CPLErr@@AEAUILImage at 1@PEAVMRFDataset at 1@PEAUCPLXMLNode@@@Z)
44>proj.lib(filemanager.cpp.obj) : error LNK2001: unresolved external symbol __std_find_last_of_trivial_pos_1
44>gdal.lib(ilwisdataset.cpp.obj) : error LNK2001: unresolved external symbol __std_find_last_of_trivial_pos_1
44>gdal.lib(grddataset.cpp.obj) : error LNK2001: unresolved external symbol __std_find_last_of_trivial_pos_1
44>gdal.lib(mrf_util.cpp.obj) : error LNK2001: unresolved external symbol __std_find_last_of_trivial_pos_1
44>gdal.lib(pcidskcreate.cpp.obj) : error LNK2001: unresolved external symbol __std_find_last_of_trivial_pos_1
44>gdal.lib(vrtderivedrasterband.cpp.obj) : error LNK2019: unresolved external symbol __std_find_end_1 referenced in function "char const * __cdecl std::_Find_end_vectorized<char const ,char const >(char const * const,char const * const,char const * const,unsigned __int64)" (??$_Find_end_vectorized@$$CBD$$CBD at std@@YAPEBDQEBD00_K at Z)
44>gdal.lib(gdal_mdreader.cpp.obj) : error LNK2001: unresolved external symbol __std_find_end_1
44>gdal.lib(ogrdxflayer.cpp.obj) : error LNK2001: unresolved external symbol __std_find_end_1
44>proj.lib(coordinateoperationfactory.cpp.obj) : error LNK2001: unresolved external symbol __std_find_end_1
44>gdal.lib(ogropenfilegdblayer_write.cpp.obj) : error LNK2019: unresolved external symbol __std_search_2 referenced in function "wchar_t const * __cdecl std::_Search_vectorized<wchar_t const ,wchar_t const >(wchar_t const * const,wchar_t const * const,wchar_t const * const,unsigned __int64)" (??$_Search_vectorized@$$CB_W$$CB_W at std@@YAPEB_WQEB_W00_K at Z)
44>gdal.lib(gnmgraph.cpp.obj) : error LNK2019: unresolved external symbol __std_remove_8 referenced in function "__int64 * __cdecl std::_Remove_vectorized<__int64,__int64>(__int64 * const,__int64 * const,__int64)" (??$_Remove_vectorized at _J_J@std@@YAPEA_JQEA_J0_J at Z)
44>C:/Users/*****/Release/project.exe : fatal error LNK1120: 5 unresolved externals
--

Libraries coming from VCPKG and the ones from the project are correctly built but the final linkage fails.

So any hint about where these "error LNK2001: unresolved external symbol __std_search_1" came from ?

Thanks in advance !

PS: sorry if this is not the correct channel to communicate these doubts and correct me in that case.
PPS: don't hesitate for any further information if you need it.


Daniel P?rez Rodr?guez
daniteleco.github.io<http://daniteleco.github.io>
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev


--
Andrew Bell
andrew.bell.ia at gmail.com<mailto:andrew.bell.ia at gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250602/f513333d/attachment-0001.htm>

From public at postholer.com  Tue Jun  3 22:00:35 2025
From: public at postholer.com (Scott)
Date: Tue, 3 Jun 2025 22:00:35 -0700
Subject: [gdal-dev] gdal CLI issues
In-Reply-To: <PAXPR07MB7775D428331B3261AB9BDF0AFA62A@PAXPR07MB7775.eurprd07.prod.outlook.com>
References: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>
 <CACJ51z04guWd=RmR214HgNX1Nt3Pg0UEbE-bSw8ziMEPfiAV5w@mail.gmail.com>
 <PAXPR07MB7775D428331B3261AB9BDF0AFA62A@PAXPR07MB7775.eurprd07.prod.outlook.com>
Message-ID: <ec26ced3-25ad-49c9-8832-1433d1c2120d@postholer.com>

GDAL 3.11.0 built from source. Debian 12, bash version: 5.2.15(1)-release:

For every gdal cli command I use, it ends with this message:

Unexpected exception: std::get: wrong index for variant

Also, I cannot get --format=json to work with any vector format. It 
works with raster. It's also the default and doesn't work when omitted. 
Here are some commands I've been using that DON'T work:

gdal info --format=json -i file.gpkg
gdal vector info --format=json -i file.gpkg
gdal info --format=json --input=file.fgb
gdal vector info --format=json --input=file.fgb

If I change the format to 'text' or use 'raster' with a raster file, it 
works fine. ogrinfo works fine also:

ogrinfo -json file.gpkg


Thank you!!!

From jukka.rahkonen at maanmittauslaitos.fi  Wed Jun  4 01:03:59 2025
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Wed, 4 Jun 2025 08:03:59 +0000
Subject: [gdal-dev] gdal CLI issues
In-Reply-To: <ec26ced3-25ad-49c9-8832-1433d1c2120d@postholer.com>
References: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>
 <CACJ51z04guWd=RmR214HgNX1Nt3Pg0UEbE-bSw8ziMEPfiAV5w@mail.gmail.com>
 <PAXPR07MB7775D428331B3261AB9BDF0AFA62A@PAXPR07MB7775.eurprd07.prod.outlook.com>
 <ec26ced3-25ad-49c9-8832-1433d1c2120d@postholer.com>
Message-ID: <DB9PR09MB68875B39A81C7FD5B3E8B47EFD6CA@DB9PR09MB6887.eurprd09.prod.outlook.com>

Hi,

Maybe the right question is why your build yielded a non-working CLI. If you want to test the new gdal CLI tools meanwhile, you can try conda. However, when I just tried to install GDAL on my Windows machine with
conda install -c conda-forge gdal
it does not work due to missing "MSVCP140D.dll"

I think that the "D" there stands for "debug". Does it mean that the conda build is done in a wrong way or what?

-Jukka Rahkonen-






________________________________________
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> k?ytt?j?n Scott via gdal-dev <gdal-dev at lists.osgeo.org> puolesta
L?hetetty: Keskiviikko 4. kes?kuuta 2025 8.00
Vastaanottaja: gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] gdal CLI issues


GDAL 3.11.0 built from source. Debian 12, bash version: 5.2.15(1)-release:

For every gdal cli command I use, it ends with this message:

Unexpected exception: std::get: wrong index for variant

Also, I cannot get --format=json to work with any vector format. It
works with raster. It's also the default and doesn't work when omitted.
Here are some commands I've been using that DON'T work:

gdal info --format=json -i file.gpkg
gdal vector info --format=json -i file.gpkg
gdal info --format=json --input=file.fgb
gdal vector info --format=json --input=file.fgb

If I change the format to 'text' or use 'raster' with a raster file, it
works fine. ogrinfo works fine also:

ogrinfo -json file.gpkg


Thank you!!!
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev



From even.rouault at spatialys.com  Wed Jun  4 07:20:13 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 4 Jun 2025 16:20:13 +0200
Subject: [gdal-dev] GDAL CLI Modernization Webinar June 3rd at 1400 UTC
In-Reply-To: <4EBF95F5-8CC2-4E01-83D3-CBA8B8393055@hobu.co>
References: <4EBF95F5-8CC2-4E01-83D3-CBA8B8393055@hobu.co>
Message-ID: <f8ebc4d4-da25-4a48-bb2a-d56899453790@spatialys.com>

Hi

The webinar took place yesterday. We have had up to 265 attendees. For 
those who couldn't attend, you'll find the following artifacts:

- slide deck, augmented with the content of the Q&A session during the 
webinar: 
https://download.osgeo.org/gdal/presentations/GDAL%20CLI%20Modernization.pdf

- recording of the webinar video: 
https://www.youtube.com/watch?v=ZKdrYm3TiBU

Thanks to the other co-panelists for the great work done and to the 
attendees.

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250604/1a251ad1/attachment.htm>

From public at postholer.com  Wed Jun  4 09:43:13 2025
From: public at postholer.com (Scott)
Date: Wed, 4 Jun 2025 09:43:13 -0700
Subject: [gdal-dev] gdal CLI issues
In-Reply-To: <DB9PR09MB68875B39A81C7FD5B3E8B47EFD6CA@DB9PR09MB6887.eurprd09.prod.outlook.com>
References: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>
 <CACJ51z04guWd=RmR214HgNX1Nt3Pg0UEbE-bSw8ziMEPfiAV5w@mail.gmail.com>
 <PAXPR07MB7775D428331B3261AB9BDF0AFA62A@PAXPR07MB7775.eurprd07.prod.outlook.com>
 <ec26ced3-25ad-49c9-8832-1433d1c2120d@postholer.com>
 <DB9PR09MB68875B39A81C7FD5B3E8B47EFD6CA@DB9PR09MB6887.eurprd09.prod.outlook.com>
Message-ID: <c7270b5b-c704-4d77-8c36-b00787e4e432@postholer.com>

You were right Jukka, it was my build.

All is well and having fun with CLI.

On 6/4/25 01:03, Rahkonen Jukka wrote:
> Hi,
> 
> Maybe the right question is why your build yielded a non-working CLI. If you want to test the new gdal CLI tools meanwhile, you can try conda. However, when I just tried to install GDAL on my Windows machine with
> conda install -c conda-forge gdal
> it does not work due to missing "MSVCP140D.dll"
> 
> I think that the "D" there stands for "debug". Does it mean that the conda build is done in a wrong way or what?
> 
> -Jukka Rahkonen-
> 
> 
> 
> 
> 
> 
> ________________________________________
> L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> k?ytt?j?n Scott via gdal-dev <gdal-dev at lists.osgeo.org> puolesta
> L?hetetty: Keskiviikko 4. kes?kuuta 2025 8.00
> Vastaanottaja: gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
> Aihe: [gdal-dev] gdal CLI issues
> 
> 
> GDAL 3.11.0 built from source. Debian 12, bash version: 5.2.15(1)-release:
> 
> For every gdal cli command I use, it ends with this message:
> 
> Unexpected exception: std::get: wrong index for variant
> 
> Also, I cannot get --format=json to work with any vector format. It
> works with raster. It's also the default and doesn't work when omitted.
> Here are some commands I've been using that DON'T work:
> 
> gdal info --format=json -i file.gpkg
> gdal vector info --format=json -i file.gpkg
> gdal info --format=json --input=file.fgb
> gdal vector info --format=json --input=file.fgb
> 
> If I change the format to 'text' or use 'raster' with a raster file, it
> works fine. ogrinfo works fine also:
> 
> ogrinfo -json file.gpkg
> 
> 
> Thank you!!!
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 


From howard at hobu.co  Wed Jun  4 10:30:21 2025
From: howard at hobu.co (Howard Butler)
Date: Wed, 4 Jun 2025 12:30:21 -0500
Subject: [gdal-dev] gdal CLI issues
In-Reply-To: <DB9PR09MB68875B39A81C7FD5B3E8B47EFD6CA@DB9PR09MB6887.eurprd09.prod.outlook.com>
References: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>
 <CACJ51z04guWd=RmR214HgNX1Nt3Pg0UEbE-bSw8ziMEPfiAV5w@mail.gmail.com>
 <PAXPR07MB7775D428331B3261AB9BDF0AFA62A@PAXPR07MB7775.eurprd07.prod.outlook.com>
 <ec26ced3-25ad-49c9-8832-1433d1c2120d@postholer.com>
 <DB9PR09MB68875B39A81C7FD5B3E8B47EFD6CA@DB9PR09MB6887.eurprd09.prod.outlook.com>
Message-ID: <FB5CD5EC-D507-44AC-935E-C33D5D321B6C@hobu.co>



> On Jun 4, 2025, at 3:03?AM, Rahkonen Jukka via gdal-dev <gdal-dev at lists.osgeo.org> wrote:
> 
> However, when I just tried to install GDAL on my Windows machine with
> conda install -c conda-forge gdal
> it does not work due to missing "MSVCP140D.dll"

Something must have swept up Debug. That's not intentional. 

https://github.com/conda-forge/gdal-feedstock/issues/1096
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250604/23888c6f/attachment.htm>

From dpr.1980 at gmail.com  Fri Jun  6 08:02:04 2025
From: dpr.1980 at gmail.com (Daniel Perez Rodriguez)
Date: Fri, 6 Jun 2025 17:02:04 +0200
Subject: [gdal-dev] Linking issue in Windows
In-Reply-To: <PAXPR07MB7775D428331B3261AB9BDF0AFA62A@PAXPR07MB7775.eurprd07.prod.outlook.com>
References: <CAHXtG76LQ=CJjeZ3ZJUyT4oXbpTsFMRwiAzTcPSSJvV2qkgxjA@mail.gmail.com>
 <CACJ51z04guWd=RmR214HgNX1Nt3Pg0UEbE-bSw8ziMEPfiAV5w@mail.gmail.com>
 <PAXPR07MB7775D428331B3261AB9BDF0AFA62A@PAXPR07MB7775.eurprd07.prod.outlook.com>
Message-ID: <CAHXtG75ANGA64ATpBFNO5FSCdds2Ly-Y-gM5OnQfpUWwAwkA6Q@mail.gmail.com>

Thanks to everybody and specially to Andrew and Abel.

I will try to get some advance into this and I will share my advances in
case it is helpful for anyone else.

Regards !

El lun, 2 jun 2025 a las 16:46, Abel Pau (<a.pau at creaf.cat>) escribi?:

> Daniel,
> when I want to compile from windows using vcpkg I do:
>
> cd d:\Github\gdal <-- whereever you have the gdal code
> cmake -B build -S .
> -DCMAKE_TOOLCHAIN_FILE=C:/dev/vcpkg/vcpkg/scripts/buildsystems/vcpkg.cmake
> -DCMAKE_BUILD_TYPE=Debug
> cmake --build build --config Debug
>
> and make sure your environment variable PROJ_DATA is pointing to
> C:\dev\vcpkg\vcpkg\buildtrees\proj\x64-windows-dbg\data
> (perhaps there are other things)
>
> I hope it helps.
>
>
> ------------------------------
> *De:* gdal-dev <gdal-dev-bounces at lists.osgeo.org> de part de Andrew Bell
> via gdal-dev <gdal-dev at lists.osgeo.org>
> *Enviat el:* dilluns, 2 de juny de 2025 16:01
> *Per a:* Daniel Perez Rodriguez <dpr.1980 at gmail.com>
> *A/c:* gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
> *Tema:* Re: [gdal-dev] Linking issue in Windows
>
> Hi Daniel,
>
> Symbols that start with "__" are reserved for system libraries. It appears
> that you're not linking the C++ standard library or are linking with an
> incompatible version. GDAL requires C++17 support.
>
>
> On Mon, Jun 2, 2025 at 5:25?AM Daniel Perez Rodriguez via gdal-dev <
> gdal-dev at lists.osgeo.org> wrote:
>
> Good morning everyone.
>
> My name is Daniel (first message here) from Spain so I hope I can explain
> my problem properly.
>
> I am working in a C++ project, using gdal in Windows and getting it from
> vcpkg, using cmake and Visual Studio 2022.
> From the last days, after an update of my development machine I am having
> a blocking issue compiling the project, to be a bit more precise: a linking
> issue.  Here is my configuration and at the end I will put the errors:
>
> *DEVELOPMENT ENVIRONMENT:*
> Microsoft Visual Studio Professional 2022 Version 17.13.6
> VisualStudio.17.Release/17.13.6+35931.197
> Microsoft .NET Framework Version 4.8.09032
>
> Installed Version: Professional
>
> Microsoft Visual C++ 2022
>
> ASP.NET and Web Tools   17.13.124.35287
> Azure App Service Tools v3.0.0   17.13.124.35287
>
> C# Tools   4.13.0-3.25167.3+73eff2b5de2ad38ec602c0a9e82f9125fb85992b
> C# components used in the IDE. Depending on your project type and
> settings, a different version of the compiler may be used.
>
> GitHub Copilot   17.13.444.19527
> GitHub Copilot is an AI pair programmer that helps you write code faster
> and with less work.
>
> Linux Core Dump Debugging   1.0.9.35825
> Enables debugging of Linux core dumps.
>
> Microsoft JVM Debugger   1.0
> Provides support for connecting the Visual Studio debugger to JDWP
> compatible Java Virtual Machines
>
> NuGet Package Manager   6.13.2
> NuGet Package Manager in Visual Studio. For more information about NuGet,
> visit https://docs.nuget.org/
>
> Qt Visual Studio Tools   3.3.1.1
> This official Qt Group extension, Qt Visual Studio Tools, integrates Qt
> development tools into Microsoft Visual Studio 2022, enabling developers to
> use their familiar Windows environment without worrying about Qt-related
> build steps or tools.
>
> SonarQube for Visual Studio   8.16.0.12791
> SonarQube for Visual Studio is an extension to your favorite IDE that
> provides on-the-fly feedback to developers on new bugs and quality issues
> injected into their code.
>
> TypeScript Tools   17.0.31211.2001
> TypeScript Tools for Microsoft Visual Studio
>
> Visual Basic Tools
> 4.13.0-3.25167.3+73eff2b5de2ad38ec602c0a9e82f9125fb85992b
> Visual Basic components used in the IDE. Depending on your project type
> and settings, a different version of the compiler may be used.
>
> Visual C++ for Linux Development   1.0.9.35825
> Visual C++ for Linux Development
>
> Visual Studio IntelliCode   2.2
> AI-assisted development for Visual Studio.
>
> *VCPKG.JSON* (special attention please to gdal and proj entries)
> {
> "version": "0.0.0",
> "builtin-baseline": "6f29f12e82a8293156836ad81cc9bf5af41fe836",
> "dependencies": [
> {"name": "boost-date-time", "version>=": "1.86.0"},
> {"name": "boost-fiber", "version>=": "1.86.0"},
> {"name": "boost-filesystem", "version>=": "1.86.0"},
> {"name": "boost-geometry", "version>=": "1.86.0"},
> {"name": "boost-headers", "version>=": "1.86.0"},
> {"name": "boost-iostreams", "version>=": "1.86.0"},
> {"name": "boost-property-tree", "version>=": "1.86.0"},
> {"name": "boost-regex", "version>=": "1.86.0"},
>
> *{"name": "gdal", "version>=": "3.10.0", "default-features": false}, *{"name":
> "gtest", "version>=": "1.15.2"},
> {"name": "libgeotiff", "version>=": "1.7.3"},
> {"name": "lodepng", "version>=": "2021-12-04"},
> {"name": "nlohmann-json", "version>=": "3.11.3"},
>
> *{"name": "proj", "version>=": "9.5.1", "default-features": false}, *{"name":
> "rapidxml", "version>=": "1.13#7"},
> {"name": "shapelib", "version>=": "1.6.1"},
> {"name": "sqlite3", "version>=": "3.48.0"},
> {"name": "units", "version>=": "2.3.3"},
> {"name": "zlib", "version>=": "1.3.1"}
> ]
> }
>
> *ERROR OUTPUT:*
>
> 44>   Creating library C:/Users/*****/Release/project.lib and object
> C:/Users/*****/Release/project.exp
> 44>proj.lib(vgridshift.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>proj.lib(oputils.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(concatenatedoperation.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>proj.lib(coordinateoperationfactory.cpp.obj) : error LNK2001:
> unresolved external symbol __std_search_1
> 44>proj.lib(datum.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(crs.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(singleoperation.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>proj.lib(internal.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(io.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(factory.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(ogrdxf_leader.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>proj.lib(4D_api.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(c_api.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>proj.lib(grids.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(parsexsd.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(ogrpgdumplayer.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrjsonfgwritelayer.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(ogrdxf_dimension.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(cbandinterleavedchannel.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(asciitiledir.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(binarytiledir.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(gmlreader.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(cpcidskblockfile.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrwaspdatasource.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(ogrgmldatasource.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrgeojsonutils.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(envidataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(cpl_vsil_abstract_archive.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(gdalargumentparser.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(gtiffsplitbitmapband.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(pdfcreatecopy.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(marfa_dataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(mrfdrivercore.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(zarr_v2_group.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(vrtderivedrasterband.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(pcidskcreate.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(pdsdrivercore.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogr_srs_erm.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(gdalpamproxydb.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrcurvecollection.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(gdalsubdatasetinfo.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(gtiffdataset_read.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(cpl_vsi_mem.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(cpl_vsil_gzip.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(ogrgeometrycollection.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(ogrutils.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(mrf_util.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(deriveddataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(stacitdataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(snaptiffdriver.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(vicardataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(gribdataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(esric_dataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(safedataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(cplstring.cpp.obj) : error LNK2001: unresolved external symbol
> __std_search_1
> 44>gdal.lib(ogrspatialreference.cpp.obj) : error LNK2001: unresolved
> external symbol __std_search_1
> 44>gdal.lib(pdsdataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(pds4dataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_search_1
> 44>gdal.lib(marfa_dataset.cpp.obj) : error LNK2019: unresolved external
> symbol __std_find_last_of_trivial_pos_1 referenced in function "enum CPLErr
> __cdecl GDAL_MRF::Init_Raster(struct GDAL_MRF::ILImage &,class
> GDAL_MRF::MRFDataset *,struct CPLXMLNode *)" (?Init_Raster at GDAL_MRF
> @@YA?AW4CPLErr@@AEAUILImage at 1@PEAVMRFDataset at 1@PEAUCPLXMLNode@@@Z)
> 44>proj.lib(filemanager.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_last_of_trivial_pos_1
> 44>gdal.lib(ilwisdataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_last_of_trivial_pos_1
> 44>gdal.lib(grddataset.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_last_of_trivial_pos_1
> 44>gdal.lib(mrf_util.cpp.obj) : error LNK2001: unresolved external symbol
> __std_find_last_of_trivial_pos_1
> 44>gdal.lib(pcidskcreate.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_last_of_trivial_pos_1
> 44>gdal.lib(vrtderivedrasterband.cpp.obj) : error LNK2019: unresolved
> external symbol __std_find_end_1 referenced in function "char const *
> __cdecl std::_Find_end_vectorized<char const ,char const >(char const *
> const,char const * const,char const * const,unsigned __int64)"
> (??$_Find_end_vectorized@$$CBD$$CBD at std@@YAPEBDQEBD00_K at Z)
> 44>gdal.lib(gdal_mdreader.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_end_1
> 44>gdal.lib(ogrdxflayer.cpp.obj) : error LNK2001: unresolved external
> symbol __std_find_end_1
> 44>proj.lib(coordinateoperationfactory.cpp.obj) : error LNK2001:
> unresolved external symbol __std_find_end_1
> 44>gdal.lib(ogropenfilegdblayer_write.cpp.obj) : error LNK2019: unresolved
> external symbol __std_search_2 referenced in function "wchar_t const *
> __cdecl std::_Search_vectorized<wchar_t const ,wchar_t const >(wchar_t
> const * const,wchar_t const * const,wchar_t const * const,unsigned
> __int64)" (??$_Search_vectorized@$$CB_W$$CB_W at std@@YAPEB_WQEB_W00_K at Z)
> 44>gdal.lib(gnmgraph.cpp.obj) : error LNK2019: unresolved external symbol
> __std_remove_8 referenced in function "__int64 * __cdecl
> std::_Remove_vectorized<__int64,__int64>(__int64 * const,__int64 *
> const,__int64)" (??$_Remove_vectorized at _J_J@std@@YAPEA_JQEA_J0_J at Z)
> 44>C:/Users/*****/Release/project.exe : fatal error LNK1120: 5 unresolved
> externals
> --
>
> Libraries coming from VCPKG and the ones from the project are correctly
> built but the final linkage fails.
>
> So any hint about where these "error LNK2001: unresolved external symbol
> __std_search_1" came from ?
>
> Thanks in advance !
>
> PS: sorry if this is not the correct channel to communicate these doubts
> and correct me in that case.
> PPS: don't hesitate for any further information if you need it.
>
>
> *Daniel P?rez Rodr?guez*
> *daniteleco.github.io <http://daniteleco.github.io>*
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> --
> Andrew Bell
> andrew.bell.ia at gmail.com
>


-- 

*Daniel P?rez Rodr?guez*
*(+34) 659 49 89 31*
*daniteleco.github.io <http://daniteleco.github.io>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250606/81e13df5/attachment-0001.htm>

From rykovd at gmail.com  Sat Jun  7 04:58:00 2025
From: rykovd at gmail.com (Denis Rykov)
Date: Sat, 7 Jun 2025 13:58:00 +0200
Subject: [gdal-dev] vat.dbf is not listed by gdalinfo
Message-ID: <CAJbvKNp_+QA+uidw-OTUKL4aNkbbjA3L+8043oy1bC7b+Cbtog@mail.gmail.com>

Hi,

When a GeoTIFF has an associated auxiliary *.aux.xml file, running gdalinfo
lists both the TIFF and the XML file:

$ gdalinfo test.tif
Driver: GTiff/GeoTIFF
Files: test.tif
       test.tif.aux.xml

However, if there's a *.vat.dbf file, gdalinfo includes the RAT information
in the output, but the .vat.dbf file itself doesn't appear in the "Files"
section. Why is that?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250607/94d74ab6/attachment.htm>

From even.rouault at spatialys.com  Sat Jun  7 10:09:11 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 7 Jun 2025 19:09:11 +0200
Subject: [gdal-dev] vat.dbf is not listed by gdalinfo
In-Reply-To: <CAJbvKNp_+QA+uidw-OTUKL4aNkbbjA3L+8043oy1bC7b+Cbtog@mail.gmail.com>
References: <CAJbvKNp_+QA+uidw-OTUKL4aNkbbjA3L+8043oy1bC7b+Cbtog@mail.gmail.com>
Message-ID: <0578df66-9591-490b-a6fa-278890fc69a3@spatialys.com>

Now fixed

Le 07/06/2025 ? 13:58, Denis Rykov via gdal-dev a ?crit?:
>
> Hi,
>
> When a GeoTIFF has an associated auxiliary |*.aux.xml| file, running 
> |gdalinfo| lists both the TIFF and the XML file:
>
> |$ gdalinfo test.tif Driver: GTiff/GeoTIFF Files: test.tif 
> test.tif.aux.xml |
>
> However, if there's a |*.vat.dbf| file, |gdalinfo| includes the RAT 
> information in the output, but the |.vat.dbf| file itself doesn't 
> appear in the "Files" section. Why is that?
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250607/fd1a0c63/attachment.htm>

From rykovd at gmail.com  Sat Jun  7 12:26:03 2025
From: rykovd at gmail.com (Denis Rykov)
Date: Sat, 7 Jun 2025 21:26:03 +0200
Subject: [gdal-dev] vat.dbf is not listed by gdalinfo
In-Reply-To: <0578df66-9591-490b-a6fa-278890fc69a3@spatialys.com>
References: <CAJbvKNp_+QA+uidw-OTUKL4aNkbbjA3L+8043oy1bC7b+Cbtog@mail.gmail.com>
 <0578df66-9591-490b-a6fa-278890fc69a3@spatialys.com>
Message-ID: <CAJbvKNqm3ye1h_rMz_cL=yUZO9EgAGkQHbH-SxLA+iKRc91Ozg@mail.gmail.com>

Thank you!

On Sat, Jun 7, 2025, 7:09?PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Now fixed
> Le 07/06/2025 ? 13:58, Denis Rykov via gdal-dev a ?crit :
>
> Hi,
>
> When a GeoTIFF has an associated auxiliary *.aux.xml file, running
> gdalinfo lists both the TIFF and the XML file:
>
> $ gdalinfo test.tif
> Driver: GTiff/GeoTIFF
> Files: test.tif
>        test.tif.aux.xml
>
> However, if there's a *.vat.dbf file, gdalinfo includes the RAT
> information in the output, but the .vat.dbf file itself doesn't appear in
> the "Files" section. Why is that?
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250607/e7c0ad17/attachment.htm>

From patrik.sylve at t-kartor.com  Wed Jun 11 05:51:48 2025
From: patrik.sylve at t-kartor.com (Patrik Sylve)
Date: Wed, 11 Jun 2025 12:51:48 +0000
Subject: [gdal-dev] [PROPOSAL] Add CADRG write support via RPFTOC/NITF
 drivers
Message-ID: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>

Hi,

We are exploring the possibility of adding write support for CADRG format in GDAL and would appreciate some community feedback before starting implementation.

There is currently no open-source workflow for creating CADRG. GDAL can already read CADRG via RPFTOC/NITF drivers, so extending that work feels like a good next step.


Short background on CADRG format:

CADRG is a Raster Product Format (RPF) that consists of a TOC file referencing data frames. Each data frame is stored as a National Imagery Transmission Format (NITF) message.

GDAL currently supports:

* Reading CADRG (a.toc) via the RPFTOC driver
* Reading individual CADRG frames via the NITF driver
* Writing NITF images, both without and with JPEG compression


To implement a CADRG writer, we could extend the existing NITF and RPFTOC drivers:

NITF:
* Implement Vector Quantisation compression
* Add option to set Frame size
** A CADRG frame must be 1536x1536 pixels, so output would be tiled
* Add option to set CADRG scale

RPFTOC:
* Extend with 'write' mode
** Internally call NITF driver to generate CADRG compliant data frames
** Generate a .toc file per MIL-STD-2411

Example usage, create a CADRG from a TIF-file:

gdal_translate input.tif ./RPF \
????-of RPFTOC \
 ????-co "PRODUCT=CADRG" \
????# NITF file header options
????-co "FTITLE=My CADRG Product" \
????-co "FSCLAS=U" \
?????????...

Output:
??? RPF/
???? a.toc
???? frames/
????? 00AVL01C.TL6
????? 00AVM01C.TL6



Drivers:
* https://gdal.org/en/stable/drivers/raster/rpftoc.html
* https://gdal.org/en/stable/drivers/raster/nitf.html

Standards:
* CADRG: http://everyspec.com/MIL-PRF/MIL-PRF-080000-99999/MIL-PRF-89038_25371/
* RPF: http://everyspec.com/MIL-STD/MIL-STD-2000-2999/MIL-STD-2411_6903/


Would this be a welcomed addition? Any thoughts or feedback is appreciated.



Best regards / V?nliga h?lsningar


Patrik Sylve

Software Developer


E: patrik.sylve at t-kartor.com


www.t-kartor.com<http://www.t-kartor.com/>


[cid:465b82b6-444d-4563-8536-8b9cd3b0e8df]

This e-mail is private and confidential between the sender and the addressee. In the event of misdirection, the recipient

is prohibited from using, copying or disseminating it or any information in it. Please notify the above of any such misdirection.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/747a23f0/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Outlook-fzlqfxva.png
Type: image/png
Size: 39667 bytes
Desc: Outlook-fzlqfxva.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/747a23f0/attachment-0001.png>

From even.rouault at spatialys.com  Wed Jun 11 07:19:43 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 11 Jun 2025 16:19:43 +0200
Subject: [gdal-dev] [PROPOSAL] Add CADRG write support via RPFTOC/NITF
 drivers
In-Reply-To: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
References: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
Message-ID: <6646d75b-b183-4c05-aa3e-0048851afd4f@spatialys.com>

Hi Patrick,


It feels a bit strange that write support for CADRG is needed in 2025, 
but besides that, your proposal sounds solid as far as I remember the 
details of those formats. I guess the most interesting part will be 
write support for vector quantization to figure out the VQ LUT that 
minimize loss. Hopefully there is literature on the subject.


Even


Le 11/06/2025 ? 14:51, Patrik Sylve via gdal-dev a ?crit?:
> Hi,
>
> We are exploring the possibility of adding write support for CADRG 
> format in GDAL and would appreciate some community feedback before 
> starting implementation.
>
> There is currently no open-source workflow for creating CADRG. GDAL 
> can already read CADRG via RPFTOC/NITF drivers, so extending that work 
> feels like a good next step.
>
>
> Short background on CADRG format:
>
> CADRG is a Raster Product Format (RPF) that consists of a TOC file 
> referencing data frames. Each data frame is stored as a National 
> Imagery Transmission Format (NITF) message.
>
> GDAL currently supports:
>
> *?Reading CADRG (a.toc) via the RPFTOC driver
> *?Reading individual CADRG frames via the NITF driver
> *?Writing NITF images, both without and with JPEG compression
>
>
> To implement a CADRG writer, we could extend the existing NITF and 
> RPFTOC drivers:
>
> NITF:
> *?Implement Vector Quantisation compression
> *?Add option to set Frame size
> ** A CADRG frame must be 1536x1536 pixels, so output would be tiled
> *?Add option to set CADRG scale
>
> RPFTOC:
> *?Extend with 'write' mode
> ** Internally call NITF driver to generate CADRG compliant data frames
> ** Generate a .toc file per MIL-STD-2411
>
> Example usage, create a CADRG from a TIF-file:
>
> gdal_translate input.tif ./RPF \
> ????-of RPFTOC \
> ?????-co "PRODUCT=CADRG" \
> *????# NITF file header options*
> ????-co "FTITLE=My CADRG Product" \
> ????-co "FSCLAS=U" \
> ?????????...
>
> Output:
> ??? RPF/
> ?????a.toc
> ?????frames/
> ??????00AVL01C.TL6
> ??????00AVM01C.TL6
>
>
>
> Drivers:
> * https://gdal.org/en/stable/drivers/raster/rpftoc.html
> * https://gdal.org/en/stable/drivers/raster/nitf.html
>
> Standards:
> *?CADRG: 
> http://everyspec.com/MIL-PRF/MIL-PRF-080000-99999/MIL-PRF-89038_25371/
> *?RPF: http://everyspec.com/MIL-STD/MIL-STD-2000-2999/MIL-STD-2411_6903/
>
>
> Would this be a welcomed addition? Any thoughts or feedback is 
> appreciated.
>
>
> Best regards / V?nliga h?lsningar
>
>
> *Patrik Sylve*
>
> Software Developer
>
> *
> *
>
> *E:***patrik.sylve at t-kartor.com
>
>
> www.t-kartor.com <http://www.t-kartor.com/>
>
>
> /This e-mail is private and confidential between the sender and the 
> addressee. In the event of misdirection, the recipient/
>
> /is prohibited from using, copying or disseminating it or any 
> information in it. Please notify the above of any such misdirection./
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/76ca3f8f/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Outlook-fzlqfxva.png
Type: image/png
Size: 39667 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/76ca3f8f/attachment-0001.png>

From warmerdam at pobox.com  Wed Jun 11 07:26:52 2025
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 11 Jun 2025 10:26:52 -0400
Subject: [gdal-dev] [PROPOSAL] Add CADRG write support via RPFTOC/NITF
 drivers
In-Reply-To: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
References: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
Message-ID: <CA+YzLBea2YVvfhAafYfVdh1sKyALRgWkLjEdbrO3TpS4Xqds9g@mail.gmail.com>

Patrik,

I have no objection to such a proposal, but in my experience with specific
NITF based product profiles it is often not worth trying to support
completely based on write support built into the GDAL drivers themselves.
For producing NCDRD compliant NITF files our approach at Planet has been to
produce many of the auxilary segments (TREs and DESs) in python code
ourselves and then pass via the GDAL NITF TRE= and DES= creation options.
We did of course have to have some core header field construction logic
supported in the NITF driver, and JPEG2000 write support.

Anyways, depending on how complex you find your CADRG driver write support
gets, you might want to consider doing parts of the work externally ---
ideally as an example python or similar script that could be shared, and
customized with others without having to implement full generalized write
support within the drivers themselves.

Like Even I was surprised to see CADRG creation capability was still
relevant in 2025.

I am curious if there are many folks out there with an interest in
NCDRD compliant NITF production (and also SNIP production -- an upcoming
project).  I'm wondering if it would be worth a blog post, or perhaps a
presentation at FOSS4G one day.  I will offer I am happy to chat with folks
going through similar projects.

Best regards,
Frank

On Wed, Jun 11, 2025 at 8:52?AM Patrik Sylve via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> Hi,
>
> We are exploring the possibility of adding write support for CADRG format
> in GDAL and would appreciate some community feedback before starting
> implementation.
>
> There is currently no open-source workflow for creating CADRG. GDAL can
> already read CADRG via RPFTOC/NITF drivers, so extending that work feels
> like a good next step.
>
>
> Short background on CADRG format:
>
> CADRG is a Raster Product Format (RPF) that consists of a TOC file
> referencing data frames. Each data frame is stored as a National Imagery
> Transmission Format (NITF) message.
>
> GDAL currently supports:
>
> * Reading CADRG (a.toc) via the RPFTOC driver
> * Reading individual CADRG frames via the NITF driver
> * Writing NITF images, both without and with JPEG compression
>
>
> To implement a CADRG writer, we could extend the existing NITF and RPFTOC
> drivers:
>
> NITF:
> * Implement Vector Quantisation compression
> * Add option to set Frame size
> ** A CADRG frame must be 1536x1536 pixels, so output would be tiled
> * Add option to set CADRG scale
>
> RPFTOC:
> * Extend with 'write' mode
> ** Internally call NITF driver to generate CADRG compliant data frames
> ** Generate a .toc file per MIL-STD-2411
>
> Example usage, create a CADRG from a TIF-file:
>
> gdal_translate input.tif ./RPF \
> -of RPFTOC \
>   -co "PRODUCT=CADRG" \
> * # NITF file header options*
> -co "FTITLE=My CADRG Product" \
> -co "FSCLAS=U" \
> ...
>
> Output:
> ??? RPF/
> ???? a.toc
> ???? frames/
> ????? 00AVL01C.TL6
> ????? 00AVM01C.TL6
>
>
>
> Drivers:
> * https://gdal.org/en/stable/drivers/raster/rpftoc.html
> * https://gdal.org/en/stable/drivers/raster/nitf.html
>
> Standards:
> * CADRG:
> http://everyspec.com/MIL-PRF/MIL-PRF-080000-99999/MIL-PRF-89038_25371/
> * RPF: http://everyspec.com/MIL-STD/MIL-STD-2000-2999/MIL-STD-2411_6903/
>
>
> Would this be a welcomed addition? Any thoughts or feedback is appreciated.
>
>
> Best regards / V?nliga h?lsningar
>
> *Patrik Sylve*
>
> Software Developer
>
>
> *E:* patrik.sylve at t-kartor.com
>
>
> www.t-kartor.com
>
>
> *This e-mail is private and confidential between the sender and the
> addressee. In the event of misdirection, the recipient*
>
> *is prohibited from using, copying or disseminating it or any information
> in it. Please notify the above of any such misdirection.*
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | USA: +1 650-701-7823
<http://voice.google.com/calls?a=nc,%2B16507017823>
and watch the world go round - Rush    | CAN: +1 343-550-9984
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/bd1fa4fc/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Outlook-fzlqfxva.png
Type: image/png
Size: 39667 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/bd1fa4fc/attachment-0001.png>

From michael.smith.erdc at gmail.com  Wed Jun 11 09:13:02 2025
From: michael.smith.erdc at gmail.com (Michael Smith)
Date: Wed, 11 Jun 2025 09:13:02 -0700
Subject: [gdal-dev] [PROPOSAL] Add CADRG write support via RPFTOC/NITF
 drivers
In-Reply-To: <CA+YzLBea2YVvfhAafYfVdh1sKyALRgWkLjEdbrO3TpS4Xqds9g@mail.gmail.com>
References: <CA+YzLBea2YVvfhAafYfVdh1sKyALRgWkLjEdbrO3TpS4Xqds9g@mail.gmail.com>
Message-ID: <B77B2736-7938-45B3-97A9-E23F17C2E0BE@gmail.com>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/2fee6a7c/attachment.htm>

From bellengj at gmail.com  Wed Jun 11 10:42:43 2025
From: bellengj at gmail.com (Jim Bellenger)
Date: Wed, 11 Jun 2025 12:42:43 -0500
Subject: [gdal-dev] [PROPOSAL] Add CADRG write support via RPFTOC/NITF
 drivers
In-Reply-To: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
References: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
Message-ID: <CAGtt-46fKyNA9vxdN0mheMGjy=-mp7pki4JmMZ2id7TZoMtekg@mail.gmail.com>

When I worked for NGA, I had software that took an input GeoTIFF image and
output the RPF files.  A separate program was used to create the a.toc file.

The process is not trivial. The vector quantization compression is not
simple.

At one time, ERDAS took the RPF code and incorporated it into their
software.

I retired several years ago, and I am not sure what happened to the
software.

On Wed, Jun 11, 2025 at 7:52?AM Patrik Sylve via gdal-dev <
gdal-dev at lists.osgeo.org> wrote:

> Hi,
>
> We are exploring the possibility of adding write support for CADRG format
> in GDAL and would appreciate some community feedback before starting
> implementation.
>
> There is currently no open-source workflow for creating CADRG. GDAL can
> already read CADRG via RPFTOC/NITF drivers, so extending that work feels
> like a good next step.
>
>
> Short background on CADRG format:
>
> CADRG is a Raster Product Format (RPF) that consists of a TOC file
> referencing data frames. Each data frame is stored as a National Imagery
> Transmission Format (NITF) message.
>
> GDAL currently supports:
>
> * Reading CADRG (a.toc) via the RPFTOC driver
> * Reading individual CADRG frames via the NITF driver
> * Writing NITF images, both without and with JPEG compression
>
>
> To implement a CADRG writer, we could extend the existing NITF and RPFTOC
> drivers:
>
> NITF:
> * Implement Vector Quantisation compression
> * Add option to set Frame size
> ** A CADRG frame must be 1536x1536 pixels, so output would be tiled
> * Add option to set CADRG scale
>
> RPFTOC:
> * Extend with 'write' mode
> ** Internally call NITF driver to generate CADRG compliant data frames
> ** Generate a .toc file per MIL-STD-2411
>
> Example usage, create a CADRG from a TIF-file:
>
> gdal_translate input.tif ./RPF \
> -of RPFTOC \
>   -co "PRODUCT=CADRG" \
> * # NITF file header options*
> -co "FTITLE=My CADRG Product" \
> -co "FSCLAS=U" \
> ...
>
> Output:
> ??? RPF/
> ???? a.toc
> ???? frames/
> ????? 00AVL01C.TL6
> ????? 00AVM01C.TL6
>
>
>
> Drivers:
> * https://gdal.org/en/stable/drivers/raster/rpftoc.html
> * https://gdal.org/en/stable/drivers/raster/nitf.html
>
> Standards:
> * CADRG:
> http://everyspec.com/MIL-PRF/MIL-PRF-080000-99999/MIL-PRF-89038_25371/
> * RPF: http://everyspec.com/MIL-STD/MIL-STD-2000-2999/MIL-STD-2411_6903/
>
>
> Would this be a welcomed addition? Any thoughts or feedback is appreciated.
>
>
> Best regards / V?nliga h?lsningar
>
> *Patrik Sylve*
>
> Software Developer
>
>
> *E:* patrik.sylve at t-kartor.com
>
>
> www.t-kartor.com
>
>
> *This e-mail is private and confidential between the sender and the
> addressee. In the event of misdirection, the recipient*
>
> *is prohibited from using, copying or disseminating it or any information
> in it. Please notify the above of any such misdirection.*
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/f06dac85/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Outlook-fzlqfxva.png
Type: image/png
Size: 39667 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250611/f06dac85/attachment-0001.png>

From n_larsson at yahoo.com  Wed Jun 11 12:10:54 2025
From: n_larsson at yahoo.com (Nicklas Larsson)
Date: Wed, 11 Jun 2025 21:10:54 +0200
Subject: [gdal-dev] GDAL-GRASS GIS driver 1.0.4 release candidate released
References: <891383E3-D841-4F06-ACF3-6BFB1B1849E3.ref@yahoo.com>
Message-ID: <891383E3-D841-4F06-ACF3-6BFB1B1849E3@yahoo.com>

The GDAL-GRASS driver 1.0.4rc1 release provides improvements
and fixes with respect to the release 1.0.3.

Highlights:

- Add compatibility with GDAL 3.11 (RFC 107)

https://github.com/OSGeo/gdal-grass/releases/tag/1.0.4rc1


The release can be downloaded from:

https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4rc1.tar.gz (335.9 KiB)
https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4rc1.tar.xz (248.9 KiB)

https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4rc1.tar.gz.md5
https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4rc1.tar.gz.sha256
https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4rc1.tar.xz.md5
https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4rc1.tar.xz.sha256


From patrik.sylve at t-kartor.com  Thu Jun 12 01:47:43 2025
From: patrik.sylve at t-kartor.com (Patrik Sylve)
Date: Thu, 12 Jun 2025 08:47:43 +0000
Subject: [gdal-dev] [PROPOSAL] Add CADRG write support via RPFTOC/NITF
 drivers
In-Reply-To: <CA+YzLBea2YVvfhAafYfVdh1sKyALRgWkLjEdbrO3TpS4Xqds9g@mail.gmail.com>
References: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
 <CA+YzLBea2YVvfhAafYfVdh1sKyALRgWkLjEdbrO3TpS4Xqds9g@mail.gmail.com>
Message-ID: <GV3P280MB05151B14A8A6D14FBA6300ABB374A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>

Thank you all for the inputs!
Our use cases are also within defense applications, so the format is indeed still in active use.

Frank,  good point. I'll definitely keep that in mind. Some scripting approach sounds like a reasonable approach if it turns out to be too tedious to get full support working directly in the driver.

As for VQ-compression, yes, this will be an interesting challenge. I came across this paper referenced in the CADRG standard, looks like promising reading https://apps.dtic.mil/sti/tr/pdf/ADA283396.pdf.

Thanks again, I'll keep the list updated as things progress

Best regards / V?nliga h?lsningar

Patrik Sylve
Software Developer
E:?patrik.sylve at t-kartor.com
www.t-kartor.com

________________________________________
From:?Frank Warmerdam <warmerdam at pobox.com>
Sent:?Wednesday, June 11, 2025 16:26
To:?Patrik Sylve <patrik.sylve at t-kartor.com>
Cc:?gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Subject:?Re: [gdal-dev] [PROPOSAL] Add CADRG write support via RPFTOC/NITF drivers
?
You don't often get email from warmerdam at pobox.com. Learn why this is important
Patrik,

I have no objection to such a proposal, but in my experience with specific NITF based product profiles it is often not worth trying to support completely based on write support built into the GDAL drivers themselves.? For producing NCDRD compliant?NITF files our approach at Planet has been to produce many of the auxilary?segments (TREs and DESs) in python code ourselves and then pass via the GDAL NITF TRE= and DES= creation options.? We did of course have to have some core header field construction logic supported in the NITF driver, and JPEG2000 write support.?

Anyways, depending on how complex you find your CADRG driver write support gets, you might want to consider doing parts of the work externally --- ideally as an example python or similar script that could be shared, and customized with others without having to implement full generalized write support within the drivers themselves.?

Like Even I was surprised to see CADRG creation capability was still relevant in 2025.?

I am curious if there are many folks out there with an interest in NCDRD?compliant?NITF production (and also SNIP production -- an upcoming project).? I'm wondering if it would be worth a blog post, or perhaps a presentation at FOSS4G one day.? I will offer I am happy to chat with folks going through similar projects.

Best regards,
Frank


--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up ? | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | USA: +1 650-701-7823
and watch the world go round - Rush ? ?| CAN: +1 343-550-9984

From bradh at frogmouth.net  Thu Jun 12 03:39:42 2025
From: bradh at frogmouth.net (Brad Hards)
Date: Thu, 12 Jun 2025 20:39:42 +1000
Subject: [gdal-dev] [PROPOSAL] Add CADRG write support via RPFTOC/NITF
 drivers
In-Reply-To: <GV3P280MB05151B14A8A6D14FBA6300ABB374A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
References: <GV3P280MB05157D48ED864230199FCD5EB375A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
 <CA+YzLBea2YVvfhAafYfVdh1sKyALRgWkLjEdbrO3TpS4Xqds9g@mail.gmail.com>
 <GV3P280MB05151B14A8A6D14FBA6300ABB374A@GV3P280MB0515.SWEP280.PROD.OUTLOOK.COM>
Message-ID: <3050419.e9J7NaK4W3@audax>

On Thursday, 12 June 2025 6:47:43 PM AEST Patrik Sylve via gdal-dev wrote:
> Thank you all for the inputs!
> Our use cases are also within defense applications, so the format is indeed
> still in active use.

I also have some interest in the format. Its important in aviation since it 
has fast, and bounded, decode time. That makes it suitable for high assurance 
systems like moving maps on primary flight displays.

> Frank,  good point. I'll definitely keep that in mind. Some scripting
> approach sounds like a reasonable approach if it turns out to be too
> tedious to get full support working directly in the driver.

I think the TOC part will probably need to be in GDAL. Note that there are 
really two formats in one - the RPF part and the NITF part, and they 
physically overlap in the file. Its a messy format in that respect. Against 
that, the tiles are always the same size, and the offsets are therefore 
essentially constant.

> As for VQ-compression, yes, this will be an interesting challenge. I came
> across this paper referenced in the CADRG standard, looks like promising
> reading https://apps.dtic.mil/sti/tr/pdf/ADA283396.pdf.

I assume you already have MIL-STD-2411, -2411-1 etc, plus the VQ standard.
 See https://nsgreg.nga.mil/ntb.jsp if not.

I would also suggest the Southard paper - https://apps.dtic.mil/sti/tr/pdf/
ADA250707.pdf - which is referenced in Nancy Markuson's analysis paper.

There is a recommendation for unsharp filtering. I think that is a good idea, 
but should only be applied to CADRG, not to CIB...

It would also be worth considering options like constant colour palette. There 
is a limited (216) number of colours in the LUT, but if you do each image tile 
separately, the seamlines can be really obvious.

The VQ part would probably be best in a separate library. 

Brad






From norman.barker at gmail.com  Wed Jun 18 08:45:05 2025
From: norman.barker at gmail.com (Norman Barker)
Date: Wed, 18 Jun 2025 10:45:05 -0500
Subject: [gdal-dev] Out of tree drivers
Message-ID: <CAN_Dn-HjMVuycpL9cMHXkY9cWTr2xSk0Pj52pzQN3n=bMh6JiQ@mail.gmail.com>

Hi,

Now GDAL supports plugins, are there any out of tree open source drivers? I
am looking for a template for a driver I am working on. Particularly around
how to update the drivers.ini. If not then I will write one.

Many thanks,

Norman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250618/16d43d4c/attachment.htm>

From even.rouault at spatialys.com  Wed Jun 18 08:49:37 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 18 Jun 2025 17:49:37 +0200
Subject: [gdal-dev] Out of tree drivers
In-Reply-To: <CAN_Dn-HjMVuycpL9cMHXkY9cWTr2xSk0Pj52pzQN3n=bMh6JiQ@mail.gmail.com>
References: <CAN_Dn-HjMVuycpL9cMHXkY9cWTr2xSk0Pj52pzQN3n=bMh6JiQ@mail.gmail.com>
Message-ID: <8935a4a4-5c95-40d1-9f6e-75a294449255@spatialys.com>

Norman,
> Now GDAL supports plugins,

It has supported them since its early beginnings. The recent 
improvements were for faster loading of in-tree drivers built as plugins

> are there any out of tree open source drivers?

https://github.com/OSGeo/gdal-grass

> I am looking for a template for a driver I am working on.

There's nothing specific for out-of-tree drivers. They are just regular 
drivers.

> Particularly around how to update the drivers.ini. If not then I will 
> write one.

For out-of-tree drivers you don't update drivers.ini. Out-of-tree 
drivers are registered before in-tree drivers

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250618/d906da75/attachment.htm>

From n_larsson at yahoo.com  Thu Jun 19 04:44:23 2025
From: n_larsson at yahoo.com (Nicklas Larsson)
Date: Thu, 19 Jun 2025 13:44:23 +0200
Subject: [gdal-dev] GDAL-GRASS GIS driver 1.0.4 released
References: <6B567435-AFC3-45E5-98BC-E014029DC798.ref@yahoo.com>
Message-ID: <6B567435-AFC3-45E5-98BC-E014029DC798@yahoo.com>

The GDAL-GRASS GIS driver version 1.0.4 is released!

The GDAL-GRASS driver 1.0.4 release provides some improvements and
fixes with respect to the release 1.0.3. Most importantly it fixes
compatibility with GDAL 3.11.

Highlights:

- Add compatibility with GDAL 3.11 (RFC 107)


Full Changelog available at:
https://github.com/OSGeo/gdal-grass/releases/tag/1.0.4

The release can be downloaded from:

https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4.tar.gz (335.8 KiB)
https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4.tar.gz.md5
https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4.tar.gz.sha256

https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4.tar.xz (247.2 KiB)
https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4.tar.xz.md5
https://download.osgeo.org/gdal-grass/gdal-grass-1.0.4.tar.xz.sha256


From s.n.g at gmx.com  Thu Jun 19 23:58:08 2025
From: s.n.g at gmx.com (Stephane Goldstein)
Date: Fri, 20 Jun 2025 14:58:08 +0800
Subject: [gdal-dev] gdal 3.11 autocompletion in zsh
Message-ID: <CAC8kFhiRFP+=-WFQdEgfbbYtruAidzRASEn3S3OD1Aqrbsk7HQ@mail.gmail.com>

I?m running zsh on Arch Linux and I can?t get the new autocompletions for
gdal 3.11 working.
I added the below to my .zshrc. Any help is appreciated.

autoload -U bashcompinit; bashcompinitsource
/usr/share/bash-completion/completions/gdal
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250620/671e0d40/attachment.htm>

From n_larsson at yahoo.com  Fri Jun 20 00:56:05 2025
From: n_larsson at yahoo.com (Nicklas Larsson)
Date: Fri, 20 Jun 2025 09:56:05 +0200
Subject: [gdal-dev] Note on Xerces
References: <3A47261B-88FC-4C7C-889C-8ADFC3CACFEA.ref@yahoo.com>
Message-ID: <3A47261B-88FC-4C7C-889C-8ADFC3CACFEA@yahoo.com>

Hi,


I just want to give a heads up on discussions related to Xerces, which
in the future might affect (the availability) the GDAL drivers
depending on named library.

The maintainer of Xerces noted in November last year:

  "I'd strongly advise pulling or at least deprecating (don't know the
  official process) all the Macports relying on Xerces, they're all at
  risk using this code or Xalan. I am the last maintainer left, I don't
  support the Mac for my own software anymore, and once I'm fully off
  Xerces in a few years, I seriously doubt it has a future unless
  somethiing changes." [1]

Indeed, unless something happens regarding future maintenance of
Xerces, the following drivers might be in the risk zone:

- "INTERLIS 1" and "INTERLIS 2" drivers
- GMLAS - Geography Markup Language (GML) driven by application schemas
- NAS - ALKIS

Maybe expat or libxml2 can be used as replacement?

Best regards,
Nicklas



[1] https://issues.apache.org/jira/browse/XERCESC-2257?focusedCommentId=17898273&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17898273


From even.rouault at spatialys.com  Fri Jun 20 01:48:07 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 20 Jun 2025 10:48:07 +0200
Subject: [gdal-dev] Note on Xerces
In-Reply-To: <3A47261B-88FC-4C7C-889C-8ADFC3CACFEA@yahoo.com>
References: <3A47261B-88FC-4C7C-889C-8ADFC3CACFEA.ref@yahoo.com>
 <3A47261B-88FC-4C7C-889C-8ADFC3CACFEA@yahoo.com>
Message-ID: <822db145-f466-4368-a6d4-a6dd80319bea@spatialys.com>

Hi Nicklas,

Thanks for the head up. yes I'm aware that almost nobody maintains 
Xerces-C anymore.? Regarding the Interlis & NAS drivers, they could 
certainly be moved to using expat instead (with some effort...). The 
GMLAS driver cannot however. It strongly relies on unique capabilities 
of Xerces-C related to exposing the content of XML schemas which are 
essential to the GMLAS driver, and I'm not aware of any open source 
replacement for that. The driver is now used by recent QGIS versions too 
for complex feature support for WFS. If Xerces-C was going to be 
removed, I guess we'd have to vendor it within the GDAL source tree

Even

Le 20/06/2025 ? 09:56, Nicklas Larsson via gdal-dev a ?crit?:
> Hi,
>
>
> I just want to give a heads up on discussions related to Xerces, which
> in the future might affect (the availability) the GDAL drivers
> depending on named library.
>
> The maintainer of Xerces noted in November last year:
>
>    "I'd strongly advise pulling or at least deprecating (don't know the
>    official process) all the Macports relying on Xerces, they're all at
>    risk using this code or Xalan. I am the last maintainer left, I don't
>    support the Mac for my own software anymore, and once I'm fully off
>    Xerces in a few years, I seriously doubt it has a future unless
>    somethiing changes." [1]
>
> Indeed, unless something happens regarding future maintenance of
> Xerces, the following drivers might be in the risk zone:
>
> - "INTERLIS 1" and "INTERLIS 2" drivers
> - GMLAS - Geography Markup Language (GML) driven by application schemas
> - NAS - ALKIS
>
> Maybe expat or libxml2 can be used as replacement?
>
> Best regards,
> Nicklas
>
>
>
> [1] https://issues.apache.org/jira/browse/XERCESC-2257?focusedCommentId=17898273&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17898273
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From j1 at jimenezshaw.com  Fri Jun 20 03:06:36 2025
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Fri, 20 Jun 2025 12:06:36 +0200
Subject: [gdal-dev] Buffer in geodetic space
Message-ID: <CADRrdKs97ZYkH2ySpL2Wh2NfNZav=zNpXfTjXkJZUbvK-pyiLg@mail.gmail.com>

Hi

Yesterday I read an article in a newspaper with an image showing distances
from a country that was not considering that the Earth is spheric. It is
not the first time; it will not be the last one. As we all (should) know,
measuring large distances (thousands of kilometers) in projected
coordinates is wrong.

Is there any way to do it properly in GDAL or QGIS? What I mean is that the
distance (in meters) for a buffer (or parallel line) is measured along
greatest circles perpendicular to the source geometry.

If not, should we implement it somewhere? (GDAL, QGIS, somewhere else)
I guess that we need PROJ for that algorithm to compute the distance along
a great circle.

Thanks
Javier

PS trying in QGIS, I see it uses ST_Buffer from an sqlite query. But it is
not what I am talking about. That is the "wrong" solution for large
distances.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250620/d341575b/attachment.htm>

From miaschu at gmx.de  Fri Jun 20 03:31:07 2025
From: miaschu at gmx.de (Schumacher, Mia)
Date: Fri, 20 Jun 2025 12:31:07 +0200
Subject: [gdal-dev] Buffer in geodetic space
In-Reply-To: <CADRrdKs97ZYkH2ySpL2Wh2NfNZav=zNpXfTjXkJZUbvK-pyiLg@mail.gmail.com>
References: <CADRrdKs97ZYkH2ySpL2Wh2NfNZav=zNpXfTjXkJZUbvK-pyiLg@mail.gmail.com>
Message-ID: <3aa0c28e-eef5-44ec-90f6-767d53bb4d33@gmx.de>

Hi Javier,

there is a QGIS plugin called 'Beeline' that measures great circle 
distances: https://plugins.qgis.org/plugins/Beeline/

Hope that helps?

Cheers,
Mia

On 20.06.25 12:06, Javier Jimenez Shaw via gdal-dev wrote:
> Hi
>
> Yesterday I read an article in a newspaper with an image showing 
> distances from a country that was not considering that the Earth is 
> spheric. It is not the first time; it will not be the last one. As we 
> all (should) know, measuring large distances (thousands of kilometers) 
> in projected coordinates is wrong.
>
> Is there any way to do it properly in GDAL or QGIS? What I mean is 
> that the distance (in meters) for a buffer (or parallel line) is 
> measured along greatest circles perpendicular to the source geometry.
>
> If not, should we implement it somewhere? (GDAL, QGIS, somewhere else)
> I guess that we need PROJ for that algorithm to compute the distance 
> along a great circle.
>
> Thanks
> Javier
>
> PS trying in QGIS, I see it uses ST_Buffer from an sqlite query. But 
> it is not what I am talking about. That is the "wrong" solution for 
> large distances.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250620/d026a791/attachment-0001.htm>

From even.rouault at spatialys.com  Fri Jun 20 04:26:49 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 20 Jun 2025 13:26:49 +0200
Subject: [gdal-dev] gdal 3.11 autocompletion in zsh
In-Reply-To: <CAC8kFhiRFP+=-WFQdEgfbbYtruAidzRASEn3S3OD1Aqrbsk7HQ@mail.gmail.com>
References: <CAC8kFhiRFP+=-WFQdEgfbbYtruAidzRASEn3S3OD1Aqrbsk7HQ@mail.gmail.com>
Message-ID: <9663c52c-e66e-4665-8c4e-a36b27bd2f30@spatialys.com>

Hi,

I've queued fixes to make it work: https://github.com/OSGeo/gdal/pull/12615

Even

Le 20/06/2025 ? 08:58, Stephane Goldstein via gdal-dev a ?crit?:
>
> I?m running zsh on Arch Linux and I can?t get the new autocompletions 
> for gdal 3.11 working.
> I added the below to my |.zshrc|. Any help is appreciated.
>
> |autoload -U bashcompinit; bashcompinit source 
> /usr/share/bash-completion/completions/gdal|
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250620/6ea1fc97/attachment.htm>

From jluis at ualg.pt  Fri Jun 20 04:31:42 2025
From: jluis at ualg.pt (=?utf-8?B?Sm9hcXVpbSBNYW51ZWwgRnJlaXJlIEx1w61z?=)
Date: Fri, 20 Jun 2025 11:31:42 +0000
Subject: [gdal-dev] Buffer in geodetic space
In-Reply-To: <3aa0c28e-eef5-44ec-90f6-767d53bb4d33@gmx.de>
References: <CADRrdKs97ZYkH2ySpL2Wh2NfNZav=zNpXfTjXkJZUbvK-pyiLg@mail.gmail.com>
 <3aa0c28e-eef5-44ec-90f6-767d53bb4d33@gmx.de>
Message-ID: <AM6PR04MB644089781440E4BBABFAED5AA67CA@AM6PR04MB6440.eurprd04.prod.outlook.com>

Hi,

See this example on how I do that in Julia. At the bottom it?s GDAL functions that are being used.

https://www.generic-mapping-tools.org/GMTjl_doc/examples/misc/buffer/#example_2628794262856115982

Joaquim

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Schumacher, Mia via gdal-dev
Sent: Friday, June 20, 2025 11:31 AM
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Buffer in geodetic space


Hi Javier,

there is a QGIS plugin called 'Beeline' that measures great circle distances: https://plugins.qgis.org/plugins/Beeline/

Hope that helps?

Cheers,
Mia
On 20.06.25 12:06, Javier Jimenez Shaw via gdal-dev wrote:
Hi

Yesterday I read an article in a newspaper with an image showing distances from a country that was not considering that the Earth is spheric. It is not the first time; it will not be the last one. As we all (should) know, measuring large distances (thousands of kilometers) in projected coordinates is wrong.

Is there any way to do it properly in GDAL or QGIS? What I mean is that the distance (in meters) for a buffer (or parallel line) is measured along greatest circles perpendicular to the source geometry.

If not, should we implement it somewhere? (GDAL, QGIS, somewhere else)
I guess that we need PROJ for that algorithm to compute the distance along a great circle.

Thanks
Javier

PS trying in QGIS, I see it uses ST_Buffer from an sqlite query. But it is not what I am talking about. That is the "wrong" solution for large distances.




_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250620/df2e0cfe/attachment.htm>

From rykovd at gmail.com  Sat Jun 21 14:25:18 2025
From: rykovd at gmail.com (Denis Rykov)
Date: Sat, 21 Jun 2025 23:25:18 +0200
Subject: [gdal-dev] Inconsistent noDataValue formatting in gdalinfo output
Message-ID: <CAJbvKNqrP1wzhSV3DGpXSoZM-mypyee0P_+as9CDJ6vSAUhrBA@mail.gmail.com>

Hi! I just noticed that gdalinfo reports the NoData value as 255.0 in JSON
output, but as 255 in the default text output. Why is there a difference?

$ gdalinfo -json 8812.tif | jq '.bands[0]["noDataValue"]'
255.0

$ gdalinfo 8812.tif
...
Band 1 Block=256x256 Type=Byte, ColorInterp=Gray
  NoData Value=255
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250621/91f6a8c6/attachment.htm>

From rykovd at gmail.com  Sat Jun 21 14:42:26 2025
From: rykovd at gmail.com (Denis Rykov)
Date: Sat, 21 Jun 2025 23:42:26 +0200
Subject: [gdal-dev] RAT appears at root level in gdalinfo json
Message-ID: <CAJbvKNrW+c7sQVsmmw+cBaaSqpe94eRVBivjgBRuD0h6O1Gyuw@mail.gmail.com>

If I?m not mistaken, each band can have its own RAT (Raster Attribute
Table). However, in the gdalinfo JSON output, the "rat" key appears at the
root level, not within the individual "bands". It seems there's no
indication of which band the RAT belongs to. Am I missing something?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250621/05db3623/attachment.htm>

From rykovd at gmail.com  Sat Jun 21 14:49:00 2025
From: rykovd at gmail.com (Denis Rykov)
Date: Sat, 21 Jun 2025 23:49:00 +0200
Subject: [gdal-dev] Redundant band number in gdalinfo json
Message-ID: <CAJbvKNr+2DRR1iEy8y-q2mNg2_nuCDt-YjB_OgVovxfS5+=SAA@mail.gmail.com>

What?s the purpose of including the band number in the gdalinfo JSON
output? Since the "bands" key is a list, the band number is already implied
by the index. Doesn?t this make the explicit band number redundant?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250621/3a0ca7c9/attachment.htm>

From rykovd at gmail.com  Sat Jun 21 15:14:51 2025
From: rykovd at gmail.com (Denis Rykov)
Date: Sun, 22 Jun 2025 00:14:51 +0200
Subject: [gdal-dev] gdalinfo -stats on Int64 raster: confusing warning
Message-ID: <CAJbvKNrmUGjiASxE+UCixtgf7v_vXyR=Ph4YkktJ6i-Fng7c4Q@mail.gmail.com>

When I run gdalinfo with -stats options on an Int64 raster, I get the
following warning:

$ gdalinfo -json -stats zzz.tif
Warning 1: GetNoDataValue() returns an approximate value of the true nodata
value = 9223372036854775807. Use GetNoDataValueAsInt64() instead

As an end user, what am I actually supposed to do with this warning?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250622/9d1a3822/attachment.htm>

From even.rouault at spatialys.com  Sat Jun 21 15:27:22 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 22 Jun 2025 00:27:22 +0200
Subject: [gdal-dev] gdalinfo -stats on Int64 raster: confusing warning
In-Reply-To: <CAJbvKNrmUGjiASxE+UCixtgf7v_vXyR=Ph4YkktJ6i-Fng7c4Q@mail.gmail.com>
References: <CAJbvKNrmUGjiASxE+UCixtgf7v_vXyR=Ph4YkktJ6i-Fng7c4Q@mail.gmail.com>
Message-ID: <90cdb064-f0b3-4cc6-bf41-36d41f86681e@spatialys.com>

Answering your 4 emails at once:

> What?s the purpose of including the band number in the |gdalinfo| JSON 
> output? Since the |"bands"| key is a list, the band number is already 
> implied by the index. Doesn?t this make the explicit band number 
> redundant?

Kind of, but not really. Given that JSON based indexing is 0-based, but 
GDAL band indexing in the GDAL API is 1-based, it is not useless to 
recall that 1-based index IMHO

NoData JSON value fix: https://github.com/OSGeo/gdal/pull/12625

RAT JSON fix: https://github.com/OSGeo/gdal/pull/12627

> When I run |gdalinfo| with |-stats| options on an |Int64| raster, I 
> get the following warning:
>
> $ gdalinfo -json -stats zzz.tif
> Warning 1: GetNoDataValue() returns an approximate value of the true 
> nodata value = 9223372036854775807. Use GetNoDataValueAsInt64() instead
>
> As an end user, what am I actually supposed to do with this warning?
>
Submit a pull request to fix statistics computation to not use double 
for Int64/UInt64 data types, or file an issue about that.

Note: I believe we have ~ 2k subcribers to the mailing list. Please try 
to group together your questions and/or use github issues when appropriate

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250622/8d984ac1/attachment.htm>

From rykovd at gmail.com  Sat Jun 21 15:33:44 2025
From: rykovd at gmail.com (Denis Rykov)
Date: Sun, 22 Jun 2025 00:33:44 +0200
Subject: [gdal-dev] gdalinfo -stats on Int64 raster: confusing warning
In-Reply-To: <90cdb064-f0b3-4cc6-bf41-36d41f86681e@spatialys.com>
References: <CAJbvKNrmUGjiASxE+UCixtgf7v_vXyR=Ph4YkktJ6i-Fng7c4Q@mail.gmail.com>
 <90cdb064-f0b3-4cc6-bf41-36d41f86681e@spatialys.com>
Message-ID: <CAJbvKNo5gh_++HOFEr1rCespgVFto-twkMtxbHrsVN6s0KoWQw@mail.gmail.com>

Thanks so much for the super quick fixes, amazing work!

And sorry for the noise. I often hesitate to open an issue when I'm not
sure it's really a bug, so the mailing list felt like a safer place to ask.

On Sun, Jun 22, 2025 at 12:27?AM Even Rouault <even.rouault at spatialys.com>
wrote:

> Answering your 4 emails at once:
>
> What?s the purpose of including the band number in the gdalinfo JSON
> output? Since the "bands" key is a list, the band number is already
> implied by the index. Doesn?t this make the explicit band number redundant?
>
> Kind of, but not really. Given that JSON based indexing is 0-based, but
> GDAL band indexing in the GDAL API is 1-based, it is not useless to recall
> that 1-based index IMHO
>
> NoData JSON value fix: https://github.com/OSGeo/gdal/pull/12625
>
> RAT JSON fix: https://github.com/OSGeo/gdal/pull/12627
>
> When I run gdalinfo with -stats options on an Int64 raster, I get the
> following warning:
>
> $ gdalinfo -json -stats zzz.tif
> Warning 1: GetNoDataValue() returns an approximate value of the true
> nodata value = 9223372036854775807. Use GetNoDataValueAsInt64() instead
>
> As an end user, what am I actually supposed to do with this warning?
>
> Submit a pull request to fix statistics computation to not use double for
> Int64/UInt64 data types, or file an issue about that.
>
> Note: I believe we have ~ 2k subcribers to the mailing list. Please try to
> group together your questions and/or use github issues when appropriate
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250622/8a9e3086/attachment.htm>

From andrew at aitchison.me.uk  Sun Jun 22 12:32:02 2025
From: andrew at aitchison.me.uk (Andrew C Aitchison)
Date: Sun, 22 Jun 2025 20:32:02 +0100 (BST)
Subject: [gdal-dev] Out of tree drivers
In-Reply-To: <CAN_Dn-HjMVuycpL9cMHXkY9cWTr2xSk0Pj52pzQN3n=bMh6JiQ@mail.gmail.com>
References: <CAN_Dn-HjMVuycpL9cMHXkY9cWTr2xSk0Pj52pzQN3n=bMh6JiQ@mail.gmail.com>
Message-ID: <ab1d3405-03e7-dc2f-b982-e276382b40df@aitchison.me.uk>

On Wed, 18 Jun 2025, Norman Barker via gdal-dev wrote:

> Now GDAL supports plugins, are there any out of tree open source
> drivers? I am looking for a template for a driver I am working
> on. Particularly around how to update the drivers.ini. If not then I
> will write one.

I have a driver at
   https://github.com/andrew-aitchison/gdal/tree/master
but I wouldn't say it was in a shape to copy.

My main issue is, how do I get github to install (the chosen version
of) gdal to build on top of, for all platforms ?  Until then, it is a
complete fork, although you can build it as a plugin.

I imagine that building a plugin is beyond most of my driver's
potential users and the gdal ABI changes sufficiently that a plugin is
only good for a single 0.1 release ...


I look forward to seeing what you do.

-- 
Andrew C. Aitchison                      Kendal, UK
                    andrew at aitchison.me.uk

From even.rouault at spatialys.com  Tue Jun 24 05:49:02 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 24 Jun 2025 14:49:02 +0200
Subject: [gdal-dev] GDAL 3.11.1 release candidate available
Message-ID: <73d48d92-94c8-460e-b749-d44ff6aded6f@spatialys.com>

Hi,

I have prepared a GDAL/OGR 3.11.1 release candidate.

Pick up an archive among the following ones (by ascending size):

 ? https://download.osgeo.org/gdal/3.11.1/gdal-3.11.1rc1.tar.xz
 ? https://download.osgeo.org/gdal/3.11.1/gdal-3.11.1rc1.tar.gz
 ? https://download.osgeo.org/gdal/3.11.1/gdal3111rc1.zip

A snapshot of the gdalautotest suite is also available:

https://download.osgeo.org/gdal/3.11.1/gdalautotest-3.11.1rc1.tar.gz
https://download.osgeo.org/gdal/3.11.1/gdalautotest-3.11.1rc1.zip

The NEWS file is here:

 ? https://github.com/OSGeo/gdal/blob/v3.11.1RC1/NEWS.md

Best regards,

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From jluis at ualg.pt  Tue Jun 24 07:33:52 2025
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Tue, 24 Jun 2025 14:33:52 +0000
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
Message-ID: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>

Hi,

Im trying to read files like
https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz

in my Julia wrapper. The point is that, although I'm kind off succeeding, the hole operation is very slow.
What I'm doing (code not committed yet so can't post a link) is to read like this

layer = getlayer(dataset, 0)
for f in layer
               for k = 1: Gdal.nfield(f)
                              Gdal.getfield(f, k-1)
...

This works but it's extremely slow because each "getfield" takes about 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That amounts to > 10 sec.

I've searched but couldn't find a way to read the entire file at once (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) and return it as a single string array that I could parse later.

Is that possible?

Thanks

Joaquim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/5bd26729/attachment.htm>

From even.rouault at spatialys.com  Tue Jun 24 08:01:22 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 24 Jun 2025 17:01:22 +0200
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
In-Reply-To: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
References: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
Message-ID: <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>

Hi,

I don't know anything about Julia but I'd suspect that there must be 
something particularly slow in the way it interacts with C. For 
comparison,? "time python3 
swig/python/gdal-utils/osgeo_utils/samples/ogrinfo.py 
/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz 
-al > /dev/null" that does essentially your loop, and also prints on 
stdout, runs in 1.5 seconds (compared to native ogrinfo that runs in 0.7 
s). Perhaps you could write a Julia wrapper to get all fields of feature 
at once and return whatever dictionary or equivalent data structure is 
idiomatic (and efficient )in Julia ? Also are you sure your Julia 
wrapper is built with optimization enabled?

Even

Le 24/06/2025 ? 16:33, Joaquim Manuel Freire Lu?s via gdal-dev a ?crit?:
>
> Hi,
>
> Im trying to read files like
>
> https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz
>
> in my Julia wrapper. The point is that, although I?m kind off 
> succeeding, the hole operation is very slow.
>
> What I?m doing (code not committed yet so can?t post a link) is to 
> read like this
>
> layer = getlayer(dataset, 0)
>
> for f in layer
>
> ?????????????? for k = 1: Gdal.nfield(f)
>
> Gdal.getfield(f, k-1)
>
> ?
>
> This works but it?s extremely slow because each ?getfield? takes about 
> 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That 
> amounts to > 10 sec.
>
> I?ve searched but couldn?t find a way to read the entire file at once 
> (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) 
> and return it as a single string array that I could parse later.
>
> Is that possible?
>
> Thanks
>
> Joaquim
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/6f02c92f/attachment.htm>

From schnetter at gmail.com  Tue Jun 24 09:21:15 2025
From: schnetter at gmail.com (Erik Schnetter)
Date: Tue, 24 Jun 2025 12:21:15 -0400
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
In-Reply-To: <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>
References: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>
Message-ID: <2F5343AF-C65B-4C67-AD6B-C764A25E3405@gmail.com>

The Julia wrapper (ArchGDAL.jl) for `getfield` calls `OGR_FD_GetFieldDefn` and several related function (to get the type of the field etc.). Are these possibly expensive operations in GDAL?

Any C function in GDAL can easily be called from Julia. Which C function would get all fields at once? I assume that e.g. `OGR_F_GetFieldAsDoubleList` would not work; this would be for values that are themselves lists?

The Julia code for `getfield` spends quite a bit of work to find out the type of the field. This includes a bit of reference counting, allocating small structures on the heap, registering finalizers for them etc. This could be avoided by adding a Julia wrapper that calls `getfield` repeatedly (even from Julia, calling C has no overhead by itself) for a range of integers. This would avoid the additional overhead having to do with handling types, and the Julia/GDAL reference counting. Even, is that what you had in mind?

-erik

> On Jun 24, 2025, at 11:01, Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org> wrote:
> 
> Hi,
> 
> I don't know anything about Julia but I'd suspect that there must be something particularly slow in the way it interacts with C. For comparison,  "time python3 swig/python/gdal-utils/osgeo_utils/samples/ogrinfo.py  /vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz  -al > /dev/null" that does essentially your loop, and also prints on stdout, runs in 1.5 seconds (compared to native ogrinfo that runs in 0.7 s). Perhaps you could write a Julia wrapper to get all fields of feature at once and return whatever dictionary or equivalent data structure is idiomatic (and efficient )in Julia ? Also are you sure your Julia wrapper is built with optimization enabled?
> 
> Even
> 
> Le 24/06/2025 ? 16:33, Joaquim Manuel Freire Lu?s via gdal-dev a ?crit :
>> Hi,
>>  
>> Im trying to read files like 
>> https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz
>>  
>> in my Julia wrapper. The point is that, although I?m kind off succeeding, the hole operation is very slow.
>> What I?m doing (code not committed yet so can?t post a link) is to read like this
>>  
>> layer = getlayer(dataset, 0)
>> for f in layer
>>                for k = 1: Gdal.nfield(f)
>>                               Gdal.getfield(f, k-1)
>> ?
>>  
>> This works but it?s extremely slow because each ?getfield? takes about 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That amounts to > 10 sec.
>>  
>> I?ve searched but couldn?t find a way to read the entire file at once (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) and return it as a single string array that I could parse later.
>>  
>> Is that possible? 
>>  
>> Thanks
>>  
>> Joaquim
>> 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> -- 
> http://www.spatialys.com <http://www.spatialys.com/>
> My software is free, but my time generally not.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/2146d02e/attachment-0001.htm>

From jluis at ualg.pt  Tue Jun 24 09:33:23 2025
From: jluis at ualg.pt (=?utf-8?B?Sm9hcXVpbSBNYW51ZWwgRnJlaXJlIEx1w61z?=)
Date: Tue, 24 Jun 2025 16:33:23 +0000
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
In-Reply-To: <2F5343AF-C65B-4C67-AD6B-C764A25E3405@gmail.com>
References: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>
 <2F5343AF-C65B-4C67-AD6B-C764A25E3405@gmail.com>
Message-ID: <AM6PR04MB64402AF20A837E991DFFD091A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>

To complement what Eric said, here?s the ?getfield? function (This code was taken from ArchGDAL so we are talking of the same thing)

https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L2161

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Erik Schnetter via gdal-dev
Sent: Tuesday, June 24, 2025 5:21 PM
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

The Julia wrapper (ArchGDAL.jl) for `getfield` calls `OGR_FD_GetFieldDefn` and several related function (to get the type of the field etc.). Are these possibly expensive operations in GDAL?

Any C function in GDAL can easily be called from Julia. Which C function would get all fields at once? I assume that e.g. `OGR_F_GetFieldAsDoubleList` would not work; this would be for values that are themselves lists?

The Julia code for `getfield` spends quite a bit of work to find out the type of the field. This includes a bit of reference counting, allocating small structures on the heap, registering finalizers for them etc. This could be avoided by adding a Julia wrapper that calls `getfield` repeatedly (even from Julia, calling C has no overhead by itself) for a range of integers. This would avoid the additional overhead having to do with handling types, and the Julia/GDAL reference counting. Even, is that what you had in mind?

-erik

On Jun 24, 2025, at 11:01, Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>> wrote:


Hi,

I don't know anything about Julia but I'd suspect that there must be something particularly slow in the way it interacts with C. For comparison,  "time python3 swig/python/gdal-utils/osgeo_utils/samples/ogrinfo.py  /vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz  -al > /dev/null" that does essentially your loop, and also prints on stdout, runs in 1.5 seconds (compared to native ogrinfo that runs in 0.7 s). Perhaps you could write a Julia wrapper to get all fields of feature at once and return whatever dictionary or equivalent data structure is idiomatic (and efficient )in Julia ? Also are you sure your Julia wrapper is built with optimization enabled?

Even
Le 24/06/2025 ? 16:33, Joaquim Manuel Freire Lu?s via gdal-dev a ?crit :
Hi,

Im trying to read files like
https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz

in my Julia wrapper. The point is that, although I?m kind off succeeding, the hole operation is very slow.
What I?m doing (code not committed yet so can?t post a link) is to read like this

layer = getlayer(dataset, 0)
for f in layer
               for k = 1: Gdal.nfield(f)
                              Gdal.getfield(f, k-1)
?

This works but it?s extremely slow because each ?getfield? takes about 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That amounts to > 10 sec.

I?ve searched but couldn?t find a way to read the entire file at once (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) and return it as a single string array that I could parse later.

Is that possible?

Thanks

Joaquim



_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev

--

http://www.spatialys.com<http://www.spatialys.com/>

My software is free, but my time generally not.
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/0a1ae22b/attachment-0001.htm>

From jluis at ualg.pt  Tue Jun 24 09:52:08 2025
From: jluis at ualg.pt (=?utf-8?B?Sm9hcXVpbSBNYW51ZWwgRnJlaXJlIEx1w61z?=)
Date: Tue, 24 Jun 2025 16:52:08 +0000
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
In-Reply-To: <AM6PR04MB64402AF20A837E991DFFD091A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
References: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>
 <2F5343AF-C65B-4C67-AD6B-C764A25E3405@gmail.com>
 <AM6PR04MB64402AF20A837E991DFFD091A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
Message-ID: <AM6PR04MB64404B0F7A01512D73EB83C1A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>

Erik, BINGO.

Since, in this case, I know that the field type is string, if I replace the calls to getfield(?) to

OGR_F_GetFieldAsString(f.ptr, k)

I get these timings (on a local file)

julia> @time gdalread("/vsigzip/C:/TMP/.meteostat/cache/hourly/2025/08554.csv.gz");
  0.046272 seconds (56.04 k allocations: 1.751 MiB)

and, for a remote one

julia> @time gdalread("/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz");
  1.191215 seconds (113.43 k allocations: 3.537 MiB)


From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Joaquim Manuel Freire Lu?s via gdal-dev
Sent: Tuesday, June 24, 2025 5:33 PM
To: Erik Schnetter <schnetter at gmail.com>; gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

To complement what Eric said, here?s the ?getfield? function (This code was taken from ArchGDAL so we are talking of the same thing)

https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L2161

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Erik Schnetter via gdal-dev
Sent: Tuesday, June 24, 2025 5:21 PM
To: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

The Julia wrapper (ArchGDAL.jl) for `getfield` calls `OGR_FD_GetFieldDefn` and several related function (to get the type of the field etc.). Are these possibly expensive operations in GDAL?

Any C function in GDAL can easily be called from Julia. Which C function would get all fields at once? I assume that e.g. `OGR_F_GetFieldAsDoubleList` would not work; this would be for values that are themselves lists?

The Julia code for `getfield` spends quite a bit of work to find out the type of the field. This includes a bit of reference counting, allocating small structures on the heap, registering finalizers for them etc. This could be avoided by adding a Julia wrapper that calls `getfield` repeatedly (even from Julia, calling C has no overhead by itself) for a range of integers. This would avoid the additional overhead having to do with handling types, and the Julia/GDAL reference counting. Even, is that what you had in mind?

-erik

On Jun 24, 2025, at 11:01, Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>> wrote:


Hi,

I don't know anything about Julia but I'd suspect that there must be something particularly slow in the way it interacts with C. For comparison,  "time python3 swig/python/gdal-utils/osgeo_utils/samples/ogrinfo.py  /vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz  -al > /dev/null" that does essentially your loop, and also prints on stdout, runs in 1.5 seconds (compared to native ogrinfo that runs in 0.7 s). Perhaps you could write a Julia wrapper to get all fields of feature at once and return whatever dictionary or equivalent data structure is idiomatic (and efficient )in Julia ? Also are you sure your Julia wrapper is built with optimization enabled?

Even
Le 24/06/2025 ? 16:33, Joaquim Manuel Freire Lu?s via gdal-dev a ?crit :
Hi,

Im trying to read files like
https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz

in my Julia wrapper. The point is that, although I?m kind off succeeding, the hole operation is very slow.
What I?m doing (code not committed yet so can?t post a link) is to read like this

layer = getlayer(dataset, 0)
for f in layer
               for k = 1: Gdal.nfield(f)
                              Gdal.getfield(f, k-1)
?

This works but it?s extremely slow because each ?getfield? takes about 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That amounts to > 10 sec.

I?ve searched but couldn?t find a way to read the entire file at once (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) and return it as a single string array that I could parse later.

Is that possible?

Thanks

Joaquim


_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev

--

http://www.spatialys.com<http://www.spatialys.com/>

My software is free, but my time generally not.
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/4c2a3e97/attachment-0001.htm>

From jluis at ualg.pt  Tue Jun 24 10:18:41 2025
From: jluis at ualg.pt (=?utf-8?B?Sm9hcXVpbSBNYW51ZWwgRnJlaXJlIEx1w61z?=)
Date: Tue, 24 Jun 2025 17:18:41 +0000
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
In-Reply-To: <AM6PR04MB64404B0F7A01512D73EB83C1A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
References: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>
 <2F5343AF-C65B-4C67-AD6B-C764A25E3405@gmail.com>
 <AM6PR04MB64402AF20A837E991DFFD091A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <AM6PR04MB64404B0F7A01512D73EB83C1A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
Message-ID: <DB8PR04MB64414FC7FBC3612C0365415EA678A@DB8PR04MB6441.eurprd04.prod.outlook.com>

Even

In case you are spending any time on this, please do not. It this time I?m persuaded that this is a Juia wrapper(s) issue but have no time to investigating it much more right now.

From: Joaquim Manuel Freire Lu?s <jluis at ualg.pt>
Sent: Tuesday, June 24, 2025 5:52 PM
To: Joaquim Manuel Freire Lu?s <jluis at ualg.pt>; Erik Schnetter <schnetter at gmail.com>; gdal-dev at lists.osgeo.org
Subject: RE: [gdal-dev] Read a /vsigzip/ csv.gz all at once

Erik, BINGO.

Since, in this case, I know that the field type is string, if I replace the calls to getfield(?) to

OGR_F_GetFieldAsString(f.ptr, k)

I get these timings (on a local file)

julia> @time gdalread("/vsigzip/C:/TMP/.meteostat/cache/hourly/2025/08554.csv.gz");
  0.046272 seconds (56.04 k allocations: 1.751 MiB)

and, for a remote one

julia> @time gdalread("/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz");
  1.191215 seconds (113.43 k allocations: 3.537 MiB)


From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Joaquim Manuel Freire Lu?s via gdal-dev
Sent: Tuesday, June 24, 2025 5:33 PM
To: Erik Schnetter <schnetter at gmail.com<mailto:schnetter at gmail.com>>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

To complement what Eric said, here?s the ?getfield? function (This code was taken from ArchGDAL so we are talking of the same thing)

https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L2161

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Erik Schnetter via gdal-dev
Sent: Tuesday, June 24, 2025 5:21 PM
To: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

The Julia wrapper (ArchGDAL.jl) for `getfield` calls `OGR_FD_GetFieldDefn` and several related function (to get the type of the field etc.). Are these possibly expensive operations in GDAL?

Any C function in GDAL can easily be called from Julia. Which C function would get all fields at once? I assume that e.g. `OGR_F_GetFieldAsDoubleList` would not work; this would be for values that are themselves lists?

The Julia code for `getfield` spends quite a bit of work to find out the type of the field. This includes a bit of reference counting, allocating small structures on the heap, registering finalizers for them etc. This could be avoided by adding a Julia wrapper that calls `getfield` repeatedly (even from Julia, calling C has no overhead by itself) for a range of integers. This would avoid the additional overhead having to do with handling types, and the Julia/GDAL reference counting. Even, is that what you had in mind?

-erik

On Jun 24, 2025, at 11:01, Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>> wrote:


Hi,

I don't know anything about Julia but I'd suspect that there must be something particularly slow in the way it interacts with C. For comparison,  "time python3 swig/python/gdal-utils/osgeo_utils/samples/ogrinfo.py  /vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz  -al > /dev/null" that does essentially your loop, and also prints on stdout, runs in 1.5 seconds (compared to native ogrinfo that runs in 0.7 s). Perhaps you could write a Julia wrapper to get all fields of feature at once and return whatever dictionary or equivalent data structure is idiomatic (and efficient )in Julia ? Also are you sure your Julia wrapper is built with optimization enabled?

Even
Le 24/06/2025 ? 16:33, Joaquim Manuel Freire Lu?s via gdal-dev a ?crit :
Hi,

Im trying to read files like
https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz

in my Julia wrapper. The point is that, although I?m kind off succeeding, the hole operation is very slow.
What I?m doing (code not committed yet so can?t post a link) is to read like this

layer = getlayer(dataset, 0)
for f in layer
               for k = 1: Gdal.nfield(f)
                              Gdal.getfield(f, k-1)
?

This works but it?s extremely slow because each ?getfield? takes about 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That amounts to > 10 sec.

I?ve searched but couldn?t find a way to read the entire file at once (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) and return it as a single string array that I could parse later.

Is that possible?

Thanks

Joaquim


_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev

--

http://www.spatialys.com<http://www.spatialys.com/>

My software is free, but my time generally not.
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/acc12962/attachment-0001.htm>

From jluis at ualg.pt  Tue Jun 24 13:28:11 2025
From: jluis at ualg.pt (=?utf-8?B?Sm9hcXVpbSBNYW51ZWwgRnJlaXJlIEx1w61z?=)
Date: Tue, 24 Jun 2025 20:28:11 +0000
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
In-Reply-To: <DB8PR04MB64414FC7FBC3612C0365415EA678A@DB8PR04MB6441.eurprd04.prod.outlook.com>
References: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>
 <2F5343AF-C65B-4C67-AD6B-C764A25E3405@gmail.com>
 <AM6PR04MB64402AF20A837E991DFFD091A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <AM6PR04MB64404B0F7A01512D73EB83C1A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <DB8PR04MB64414FC7FBC3612C0365415EA678A@DB8PR04MB6441.eurprd04.prod.outlook.com>
Message-ID: <DB8PR04MB644156344D2AE39DF5FADBF7A678A@DB8PR04MB6441.eurprd04.prod.outlook.com>

To finish this. The problem was in the GMT.jl wrapper.
Short history.

  1.  Julia 1.9 started to crash with some GMT.jl tests
  2.  Opened an issue (https://github.com/JuliaLang/julia/issues/47003) but got little-to-none help
  3.  Found a patch for the situation (that seemed innocuous)

https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L1953

but that patch ended up causing this extreme slowdown. Since Julia doesn?t crash anymore, I removed that patch and now

julia> @time gdalread("/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz");
  1.007115 seconds (130.95 k allocations: 3.804 MiB)

Thanks for the discussion that helped a lot figuring out the problem.

Joaquim

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Joaquim Manuel Freire Lu?s via gdal-dev
Sent: Tuesday, June 24, 2025 6:19 PM
To: Erik Schnetter <schnetter at gmail.com>; gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

Even

In case you are spending any time on this, please do not. It this time I?m persuaded that this is a Juia wrapper(s) issue but have no time to investigating it much more right now.

From: Joaquim Manuel Freire Lu?s <jluis at ualg.pt<mailto:jluis at ualg.pt>>
Sent: Tuesday, June 24, 2025 5:52 PM
To: Joaquim Manuel Freire Lu?s <jluis at ualg.pt<mailto:jluis at ualg.pt>>; Erik Schnetter <schnetter at gmail.com<mailto:schnetter at gmail.com>>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: RE: [gdal-dev] Read a /vsigzip/ csv.gz all at once

Erik, BINGO.

Since, in this case, I know that the field type is string, if I replace the calls to getfield(?) to

OGR_F_GetFieldAsString(f.ptr, k)

I get these timings (on a local file)

julia> @time gdalread("/vsigzip/C:/TMP/.meteostat/cache/hourly/2025/08554.csv.gz");
  0.046272 seconds (56.04 k allocations: 1.751 MiB)

and, for a remote one

julia> @time gdalread("/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz");
  1.191215 seconds (113.43 k allocations: 3.537 MiB)


From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Joaquim Manuel Freire Lu?s via gdal-dev
Sent: Tuesday, June 24, 2025 5:33 PM
To: Erik Schnetter <schnetter at gmail.com<mailto:schnetter at gmail.com>>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

To complement what Eric said, here?s the ?getfield? function (This code was taken from ArchGDAL so we are talking of the same thing)

https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L2161

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Erik Schnetter via gdal-dev
Sent: Tuesday, June 24, 2025 5:21 PM
To: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

The Julia wrapper (ArchGDAL.jl) for `getfield` calls `OGR_FD_GetFieldDefn` and several related function (to get the type of the field etc.). Are these possibly expensive operations in GDAL?

Any C function in GDAL can easily be called from Julia. Which C function would get all fields at once? I assume that e.g. `OGR_F_GetFieldAsDoubleList` would not work; this would be for values that are themselves lists?

The Julia code for `getfield` spends quite a bit of work to find out the type of the field. This includes a bit of reference counting, allocating small structures on the heap, registering finalizers for them etc. This could be avoided by adding a Julia wrapper that calls `getfield` repeatedly (even from Julia, calling C has no overhead by itself) for a range of integers. This would avoid the additional overhead having to do with handling types, and the Julia/GDAL reference counting. Even, is that what you had in mind?

-erik

On Jun 24, 2025, at 11:01, Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>> wrote:


Hi,

I don't know anything about Julia but I'd suspect that there must be something particularly slow in the way it interacts with C. For comparison,  "time python3 swig/python/gdal-utils/osgeo_utils/samples/ogrinfo.py  /vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz  -al > /dev/null" that does essentially your loop, and also prints on stdout, runs in 1.5 seconds (compared to native ogrinfo that runs in 0.7 s). Perhaps you could write a Julia wrapper to get all fields of feature at once and return whatever dictionary or equivalent data structure is idiomatic (and efficient )in Julia ? Also are you sure your Julia wrapper is built with optimization enabled?

Even
Le 24/06/2025 ? 16:33, Joaquim Manuel Freire Lu?s via gdal-dev a ?crit :
Hi,

Im trying to read files like
https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz

in my Julia wrapper. The point is that, although I?m kind off succeeding, the hole operation is very slow.
What I?m doing (code not committed yet so can?t post a link) is to read like this

layer = getlayer(dataset, 0)
for f in layer
               for k = 1: Gdal.nfield(f)
                              Gdal.getfield(f, k-1)
?

This works but it?s extremely slow because each ?getfield? takes about 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That amounts to > 10 sec.

I?ve searched but couldn?t find a way to read the entire file at once (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) and return it as a single string array that I could parse later.

Is that possible?

Thanks

Joaquim


_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev

--

http://www.spatialys.com<http://www.spatialys.com/>

My software is free, but my time generally not.
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/f0c9c1f7/attachment-0001.htm>

From schnetter at gmail.com  Tue Jun 24 13:32:26 2025
From: schnetter at gmail.com (Erik Schnetter)
Date: Tue, 24 Jun 2025 16:32:26 -0400
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
In-Reply-To: <DB8PR04MB644156344D2AE39DF5FADBF7A678A@DB8PR04MB6441.eurprd04.prod.outlook.com>
References: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>
 <2F5343AF-C65B-4C67-AD6B-C764A25E3405@gmail.com>
 <AM6PR04MB64402AF20A837E991DFFD091A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <AM6PR04MB64404B0F7A01512D73EB83C1A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <DB8PR04MB64414FC7FBC3612C0365415EA678A@DB8PR04MB6441.eurprd04.prod.outlook.com>
 <DB8PR04MB644156344D2AE39DF5FADBF7A678A@DB8PR04MB6441.eurprd04.prod.outlook.com>
Message-ID: <13232CE9-9434-4836-87F6-BE76F278DFBC@gmail.com>

Joaquim

Thanks for the notice. I was getting very worried that the many small allocations (a few per value) and finalizers were somehow incredibly expensive. Apparently they do have a cost, but just a reasonable one.

-erik

> On Jun 24, 2025, at 16:28, Joaquim Manuel Freire Lu?s <jluis at ualg.pt> wrote:
> 
> To finish this. The problem was in the GMT.jl wrapper.
> Short history.
> Julia 1.9 started to crash with some GMT.jl tests
> Opened an issue (https://github.com/JuliaLang/julia/issues/47003) but got little-to-none help
> Found a patch for the situation (that seemed innocuous)
> https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L1953
>  
> but that patch ended up causing this extreme slowdown. Since Julia doesn?t crash anymore, I removed that patch and now
>  
> julia> @time gdalread("/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz");
>   1.007115 seconds (130.95 k allocations: 3.804 MiB)
>  
> Thanks for the discussion that helped a lot figuring out the problem.
>  
> Joaquim
>  
> From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of Joaquim Manuel Freire Lu?s via gdal-dev
> Sent: Tuesday, June 24, 2025 6:19 PM
> To: Erik Schnetter <schnetter at gmail.com>; gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once
>  
> Even
>  
> In case you are spending any time on this, please do not. It this time I?m persuaded that this is a Juia wrapper(s) issue but have no time to investigating it much more right now.
>  
> From: Joaquim Manuel Freire Lu?s <jluis at ualg.pt <mailto:jluis at ualg.pt>>
> Sent: Tuesday, June 24, 2025 5:52 PM
> To: Joaquim Manuel Freire Lu?s <jluis at ualg.pt <mailto:jluis at ualg.pt>>; Erik Schnetter <schnetter at gmail.com <mailto:schnetter at gmail.com>>; gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> Subject: RE: [gdal-dev] Read a /vsigzip/ csv.gz all at once
>  
> Erik, BINGO.
>  
> Since, in this case, I know that the field type is string, if I replace the calls to getfield(?) to
>  
> OGR_F_GetFieldAsString(f.ptr, k)
>  
> I get these timings (on a local file)
>  
> julia> @time gdalread("/vsigzip/C:/TMP/.meteostat/cache/hourly/2025/08554.csv.gz");
>   0.046272 seconds (56.04 k allocations: 1.751 MiB)
>  
> and, for a remote one
>  
> julia> @time gdalread("/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz");
>   1.191215 seconds (113.43 k allocations: 3.537 MiB)
>  
>  
> From: gdal-dev <gdal-dev-bounces at lists.osgeo.org <mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Joaquim Manuel Freire Lu?s via gdal-dev
> Sent: Tuesday, June 24, 2025 5:33 PM
> To: Erik Schnetter <schnetter at gmail.com <mailto:schnetter at gmail.com>>; gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once
>  
> To complement what Eric said, here?s the ?getfield? function (This code was taken from ArchGDAL so we are talking of the same thing)
>  
> https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L2161
>  
> From: gdal-dev <gdal-dev-bounces at lists.osgeo.org <mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Erik Schnetter via gdal-dev
> Sent: Tuesday, June 24, 2025 5:21 PM
> To: gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once
>  
> The Julia wrapper (ArchGDAL.jl) for `getfield` calls `OGR_FD_GetFieldDefn` and several related function (to get the type of the field etc.). Are these possibly expensive operations in GDAL?
>  
> Any C function in GDAL can easily be called from Julia. Which C function would get all fields at once? I assume that e.g. `OGR_F_GetFieldAsDoubleList` would not work; this would be for values that are themselves lists?
>  
> The Julia code for `getfield` spends quite a bit of work to find out the type of the field. This includes a bit of reference counting, allocating small structures on the heap, registering finalizers for them etc. This could be avoided by adding a Julia wrapper that calls `getfield` repeatedly (even from Julia, calling C has no overhead by itself) for a range of integers. This would avoid the additional overhead having to do with handling types, and the Julia/GDAL reference counting. Even, is that what you had in mind?
>  
> -erik
>  
> On Jun 24, 2025, at 11:01, Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>> wrote:
>  
> Hi,
> 
> I don't know anything about Julia but I'd suspect that there must be something particularly slow in the way it interacts with C. For comparison,  "time python3 swig/python/gdal-utils/osgeo_utils/samples/ogrinfo.py  /vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz  -al > /dev/null" that does essentially your loop, and also prints on stdout, runs in 1.5 seconds (compared to native ogrinfo that runs in 0.7 s). Perhaps you could write a Julia wrapper to get all fields of feature at once and return whatever dictionary or equivalent data structure is idiomatic (and efficient )in Julia ? Also are you sure your Julia wrapper is built with optimization enabled?
> 
> Even
> 
> Le 24/06/2025 ? 16:33, Joaquim Manuel Freire Lu?s via gdal-dev a ?crit :
> Hi,
>  
> Im trying to read files like 
> https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz
>  
> in my Julia wrapper. The point is that, although I?m kind off succeeding, the hole operation is very slow.
> What I?m doing (code not committed yet so can?t post a link) is to read like this
>  
> layer = getlayer(dataset, 0)
> for f in layer
>                for k = 1: Gdal.nfield(f)
>                               Gdal.getfield(f, k-1)
> ?
>  
> This works but it?s extremely slow because each ?getfield? takes about 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That amounts to > 10 sec.
>  
> I?ve searched but couldn?t find a way to read the entire file at once (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) and return it as a single string array that I could parse later.
>  
> Is that possible? 
>  
> Thanks
>  
> Joaquim
>  
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> -- 
> http://www.spatialys.com <http://www.spatialys.com/>
> My software is free, but my time generally not.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/51eb0493/attachment-0001.htm>

From jluis at ualg.pt  Tue Jun 24 13:39:03 2025
From: jluis at ualg.pt (=?utf-8?B?Sm9hcXVpbSBNYW51ZWwgRnJlaXJlIEx1w61z?=)
Date: Tue, 24 Jun 2025 20:39:03 +0000
Subject: [gdal-dev] Read a /vsigzip/ csv.gz all at once
In-Reply-To: <13232CE9-9434-4836-87F6-BE76F278DFBC@gmail.com>
References: <AM6PR04MB6440E6D2A5A0C9EE48B5B050A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <d83969e8-bb38-4372-85f1-58119855d4db@spatialys.com>
 <2F5343AF-C65B-4C67-AD6B-C764A25E3405@gmail.com>
 <AM6PR04MB64402AF20A837E991DFFD091A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <AM6PR04MB64404B0F7A01512D73EB83C1A678A@AM6PR04MB6440.eurprd04.prod.outlook.com>
 <DB8PR04MB64414FC7FBC3612C0365415EA678A@DB8PR04MB6441.eurprd04.prod.outlook.com>
 <DB8PR04MB644156344D2AE39DF5FADBF7A678A@DB8PR04MB6441.eurprd04.prod.outlook.com>
 <13232CE9-9434-4836-87F6-BE76F278DFBC@gmail.com>
Message-ID: <DB8PR04MB6441CAC334092AD23DDF7703A678A@DB8PR04MB6441.eurprd04.prod.outlook.com>

Good to see other Julia users around ?


From: Erik Schnetter <schnetter at gmail.com>
Sent: Tuesday, June 24, 2025 9:32 PM
To: Joaquim Manuel Freire Lu?s <jluis at ualg.pt>
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

Joaquim

Thanks for the notice. I was getting very worried that the many small allocations (a few per value) and finalizers were somehow incredibly expensive. Apparently they do have a cost, but just a reasonable one.

-erik


On Jun 24, 2025, at 16:28, Joaquim Manuel Freire Lu?s <jluis at ualg.pt<mailto:jluis at ualg.pt>> wrote:

To finish this. The problem was in the GMT.jl wrapper.
Short history.

  1.  Julia 1.9 started to crash with some GMT.jl tests
  2.  Opened an issue (https://github.com/JuliaLang/julia/issues/47003) but got little-to-none help
  3.  Found a patch for the situation (that seemed innocuous)
https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L1953

but that patch ended up causing this extreme slowdown. Since Julia doesn?t crash anymore, I removed that patch and now

julia> @time gdalread("/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz");
  1.007115 seconds (130.95 k allocations: 3.804 MiB)

Thanks for the discussion that helped a lot figuring out the problem.

Joaquim

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Joaquim Manuel Freire Lu?s via gdal-dev
Sent: Tuesday, June 24, 2025 6:19 PM
To: Erik Schnetter <schnetter at gmail.com<mailto:schnetter at gmail.com>>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

Even

In case you are spending any time on this, please do not. It this time I?m persuaded that this is a Juia wrapper(s) issue but have no time to investigating it much more right now.

From: Joaquim Manuel Freire Lu?s <jluis at ualg.pt<mailto:jluis at ualg.pt>>
Sent: Tuesday, June 24, 2025 5:52 PM
To: Joaquim Manuel Freire Lu?s <jluis at ualg.pt<mailto:jluis at ualg.pt>>; Erik Schnetter <schnetter at gmail.com<mailto:schnetter at gmail.com>>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: RE: [gdal-dev] Read a /vsigzip/ csv.gz all at once

Erik, BINGO.

Since, in this case, I know that the field type is string, if I replace the calls to getfield(?) to

OGR_F_GetFieldAsString(f.ptr, k)

I get these timings (on a local file)

julia> @time gdalread("/vsigzip/C:/TMP/.meteostat/cache/hourly/2025/08554.csv.gz");
  0.046272 seconds (56.04 k allocations: 1.751 MiB)

and, for a remote one

julia> @time gdalread("/vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz");
  1.191215 seconds (113.43 k allocations: 3.537 MiB)


From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Joaquim Manuel Freire Lu?s via gdal-dev
Sent: Tuesday, June 24, 2025 5:33 PM
To: Erik Schnetter <schnetter at gmail.com<mailto:schnetter at gmail.com>>; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

To complement what Eric said, here?s the ?getfield? function (This code was taken from ArchGDAL so we are talking of the same thing)

https://github.com/GenericMappingTools/GMT.jl/blob/master/src/gdal.jl#L2161

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of Erik Schnetter via gdal-dev
Sent: Tuesday, June 24, 2025 5:21 PM
To: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Read a /vsigzip/ csv.gz all at once

The Julia wrapper (ArchGDAL.jl) for `getfield` calls `OGR_FD_GetFieldDefn` and several related function (to get the type of the field etc.). Are these possibly expensive operations in GDAL?

Any C function in GDAL can easily be called from Julia. Which C function would get all fields at once? I assume that e.g. `OGR_F_GetFieldAsDoubleList` would not work; this would be for values that are themselves lists?

The Julia code for `getfield` spends quite a bit of work to find out the type of the field. This includes a bit of reference counting, allocating small structures on the heap, registering finalizers for them etc. This could be avoided by adding a Julia wrapper that calls `getfield` repeatedly (even from Julia, calling C has no overhead by itself) for a range of integers. This would avoid the additional overhead having to do with handling types, and the Julia/GDAL reference counting. Even, is that what you had in mind?

-erik

On Jun 24, 2025, at 11:01, Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>> wrote:


Hi,

I don't know anything about Julia but I'd suspect that there must be something particularly slow in the way it interacts with C. For comparison,  "time python3 swig/python/gdal-utils/osgeo_utils/samples/ogrinfo.py  /vsigzip//vsicurl/https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz  -al > /dev/null" that does essentially your loop, and also prints on stdout, runs in 1.5 seconds (compared to native ogrinfo that runs in 0.7 s). Perhaps you could write a Julia wrapper to get all fields of feature at once and return whatever dictionary or equivalent data structure is idiomatic (and efficient )in Julia ? Also are you sure your Julia wrapper is built with optimization enabled?

Even
Le 24/06/2025 ? 16:33, Joaquim Manuel Freire Lu?s via gdal-dev a ?crit :
Hi,

Im trying to read files like
https://bulk.meteostat.net/v2/hourly/2022/08554.csv.gz

in my Julia wrapper. The point is that, although I?m kind off succeeding, the hole operation is very slow.
What I?m doing (code not committed yet so can?t post a link) is to read like this

layer = getlayer(dataset, 0)
for f in layer
               for k = 1: Gdal.nfield(f)
                              Gdal.getfield(f, k-1)
?

This works but it?s extremely slow because each ?getfield? takes about 1e-4 seconds and the file has ~8 k rows, each with 13 fields. That amounts to > 10 sec.

I?ve searched but couldn?t find a way to read the entire file at once (which takes 1e-2 seconds if I read it, locally, with a gzip wrapper) and return it as a single string array that I could parse later.

Is that possible?

Thanks

Joaquim


_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

https://lists.osgeo.org/mailman/listinfo/gdal-dev

--

http://www.spatialys.com<http://www.spatialys.com/>

My software is free, but my time generally not.
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250624/c8e0ffb1/attachment-0001.htm>

From even.rouault at spatialys.com  Wed Jun 25 09:17:12 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 25 Jun 2025 18:17:12 +0200
Subject: [gdal-dev] 3.11.1 RC2 is available (was Re: GDAL 3.11.1 release
 candidate available)
In-Reply-To: <73d48d92-94c8-460e-b749-d44ff6aded6f@spatialys.com>
References: <73d48d92-94c8-460e-b749-d44ff6aded6f@spatialys.com>
Message-ID: <fd52dc7e-1e8c-4ee6-8cc8-7335b5efaa84@spatialys.com>

Hi,

here's a RC2 mostly to fix a small memory leak in some excutions of 
gdalinfo -json that went into RC1, and with some extra bonus while we are it

Sources:
 ?- https://download.osgeo.org/gdal/3.11.1/gdal-3.11.1rc2.tar.xz
 ?- https://download.osgeo.org/gdal/3.11.1/gdal-3.11.1rc2.tar.gz
 ?- https://download.osgeo.org/gdal/3.11.1/gdal3111rc2.zip

Autotest:
- https://download.osgeo.org/gdal/3.11.1/gdalautotest-3.11.1rc2.tar.gz
- https://download.osgeo.org/gdal/3.11.1/gdalautotest-3.11.1rc2.zip

NEWS file: https://github.com/OSGeo/gdal/blob/v3.11.1RC2/NEWS.md

Changes since RC1:
* gdalinfo -json: fix memleak for non-georeferenced images (introduced 
in 3.11.0RC1)
* Arrow/Parquet: fix wrong casts in ReadFeature() that cause UBSAN to 
complain
* Python bindings: fix build with latest SWIG master (4.4.0dev)
* ADBC: do not try to open in update mode
* Parquet: better error message with libarrow <= 18 when file cannot be 
opened
* VRT pixel function: do not crash when 'expression' pixel function 
argument is missing (ossfuzz #427499233)

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From scott at agi.com  Thu Jun 26 07:03:54 2025
From: scott at agi.com (Reynolds, Scott)
Date: Thu, 26 Jun 2025 14:03:54 +0000
Subject: [gdal-dev] ERDAS ECW/JPEG2000 SDK 6.1
Message-ID: <BN2P110MB1432F11E4848C1F8CC46E3CEA57AA@BN2P110MB1432.NAMP110.PROD.OUTLOOK.COM>

I understand the ERDAS will be releasing version 6.1 of the ECW/JPEG2000 SDK "soon" which eliminates size limitations for licensees of the write capability.  Are you aware of this and if so do you have an idea when it could become available in GDAL?

Thanks,
Scott
Disclaimer

The information contained in this electronic message and any attachments to this message are intended only for the individual(s) addressed in the message and may contain proprietary and confidential information. If you are not the intended recipient, you should not disseminate, distribute or copy this e-mail. Please notify the sender and delete this message. WARNING: Computer viruses can be transmitted via email. The recipient should scan this email before opening it. The company accepts no liability for any damage caused by any virus transmitted by this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250626/b8da8abb/attachment.htm>

From even.rouault at spatialys.com  Thu Jun 26 07:32:38 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 26 Jun 2025 16:32:38 +0200
Subject: [gdal-dev] ERDAS ECW/JPEG2000 SDK 6.1
In-Reply-To: <BN2P110MB1432F11E4848C1F8CC46E3CEA57AA@BN2P110MB1432.NAMP110.PROD.OUTLOOK.COM>
References: <BN2P110MB1432F11E4848C1F8CC46E3CEA57AA@BN2P110MB1432.NAMP110.PROD.OUTLOOK.COM>
Message-ID: <a19e6751-d16d-4e29-a597-1709b52b5276@spatialys.com>

There's a pull request at https://github.com/OSGeo/gdal/pull/11593 that 
should bring support for 6.0 SDK and is waiting for its release

Le 26/06/2025 ? 16:03, Reynolds, Scott via gdal-dev a ?crit?:
>
> I understand the ERDAS will be releasing version 6.1 of the 
> ECW/JPEG2000 SDK ?soon? which eliminates size limitations for 
> licensees of the write capability.? Are you aware of this and if so do 
> you have an idea when it could become available in GDAL?
>
> Thanks,
>
> Scott
>
> Disclaimer
>
> The information contained in this electronic message and any 
> attachments to this message are intended only for the individual(s) 
> addressed in the message and may contain proprietary and confidential 
> information. If you are not the intended recipient, you should not 
> disseminate, distribute or copy this e-mail. Please notify the sender 
> and delete this message. WARNING: Computer viruses can be transmitted 
> via email. The recipient should scan this email before opening it. The 
> company accepts no liability for any damage caused by any virus 
> transmitted by this email.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250626/6c0761d8/attachment.htm>

From Michael.Smith at erdc.dren.mil  Thu Jun 26 13:57:45 2025
From: Michael.Smith at erdc.dren.mil (Smith, Michael ERDC-RDE-CRREL-NH CIV)
Date: Thu, 26 Jun 2025 20:57:45 +0000
Subject: [gdal-dev] Odd date conversion from geojson file in OGR - rounding
 up to invalid value
Message-ID: <FC709D6E-3131-4C2E-8147-9F786E5DA287@erdc.dren.mil>

I have a geojson file that has a date field that is:
"AOI_TASKING_DATE_END": "2025-11-30T23:59:59.999999Z",

Gdal vector info is reporting this as:
  AOI_TASKING_DATE_END (DateTime) = 2025/11/30 23:59:60+00

Is this a gdal bug that is rounding the date up to an invalid value? Is there a way to control this?


--
Michael Smith
RSGIS Center ? ERDC CRREL NH
US Army Corps

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250626/a70b01a3/attachment.htm>

From even.rouault at spatialys.com  Thu Jun 26 14:25:49 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 26 Jun 2025 23:25:49 +0200
Subject: [gdal-dev] Odd date conversion from geojson file in OGR -
 rounding up to invalid value
In-Reply-To: <FC709D6E-3131-4C2E-8147-9F786E5DA287@erdc.dren.mil>
References: <FC709D6E-3131-4C2E-8147-9F786E5DA287@erdc.dren.mil>
Message-ID: <6fa42916-425a-4e41-af6a-4dc036bb7320@spatialys.com>

Fixed per https://github.com/OSGeo/gdal/pull/12658

Le 26/06/2025 ? 22:57, Smith, Michael ERDC-RDE-CRREL-NH CIV via gdal-dev 
a ?crit?:
>
> I have a geojson file that has a date field that is:
>
> "AOI_TASKING_DATE_END": "2025-11-30T23:59:59.999999Z",
>
> Gdal vector info is reporting this as:
>
> ? AOI_TASKING_DATE_END (DateTime) = 2025/11/30 23:59:60+00
>
> Is this a gdal bug that is rounding the date up to an invalid value? 
> Is there a way to control this?
>
> -- 
>
> Michael Smith
>
> RSGIS Center ? ERDC CRREL NH
>
> US Army Corps
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250626/d8a2c611/attachment.htm>

From andrew at aitchison.me.uk  Thu Jun 26 15:58:46 2025
From: andrew at aitchison.me.uk (Andrew C Aitchison)
Date: Thu, 26 Jun 2025 23:58:46 +0100 (BST)
Subject: [gdal-dev] Odd date conversion from geojson file in OGR -
 rounding up to invalid value
In-Reply-To: <FC709D6E-3131-4C2E-8147-9F786E5DA287@erdc.dren.mil>
References: <FC709D6E-3131-4C2E-8147-9F786E5DA287@erdc.dren.mil>
Message-ID: <78891e9d-86bb-ab95-2904-6d608648196d@aitchison.me.uk>

On Thu, 26 Jun 2025, Smith, Michael ERDC-RDE-CRREL-NH CIV via gdal-dev wrote:

> I have a geojson file that has a date field that is:
> "AOI_TASKING_DATE_END": "2025-11-30T23:59:59.999999Z",
>
> Gdal vector info is reporting this as:
>  AOI_TASKING_DATE_END (DateTime) = 2025/11/30 23:59:60+00
>
> Is this a gdal bug that is rounding the date up to an invalid value? Is there a way to control this?

I believe that there is an agreement to discontinue leap-seconds by 2035,
but the last second of any month *can* be 23:59:60 UTC !
(In practice all leap seconds so far have been June or December)

-- 
Andrew C. Aitchison                      Kendal, UK
                    andrew at aitchison.me.uk

From even.rouault at spatialys.com  Thu Jun 26 16:05:52 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 27 Jun 2025 01:05:52 +0200
Subject: [gdal-dev] Odd date conversion from geojson file in OGR -
 rounding up to invalid value
In-Reply-To: <78891e9d-86bb-ab95-2904-6d608648196d@aitchison.me.uk>
References: <FC709D6E-3131-4C2E-8147-9F786E5DA287@erdc.dren.mil>
 <78891e9d-86bb-ab95-2904-6d608648196d@aitchison.me.uk>
Message-ID: <4801c7ff-2d0a-4970-848c-97337e0ff8e4@spatialys.com>


Le 27/06/2025 ? 00:58, Andrew C Aitchison via gdal-dev a ?crit?:
> On Thu, 26 Jun 2025, Smith, Michael ERDC-RDE-CRREL-NH CIV via gdal-dev 
> wrote:
>
>> I have a geojson file that has a date field that is:
>> "AOI_TASKING_DATE_END": "2025-11-30T23:59:59.999999Z",
>>
>> Gdal vector info is reporting this as:
>> ?AOI_TASKING_DATE_END (DateTime) = 2025/11/30 23:59:60+00
>>
>> Is this a gdal bug that is rounding the date up to an invalid value? 
>> Is there a way to control this?
>
> I believe that there is an agreement to discontinue leap-seconds by 2035,
> but the last second of any month *can* be 23:59:60 UTC !
> (In practice all leap seconds so far have been June or December)
yeah, GDAL (at least that part) should handle leap seconds.? The fix I 
did was just to round 59.999xxxx to 59.999 instead of 60.0, as the 
59.999xxx is a clear indication of "whatever value is just before 
midnight". If the value of seconds is 60.something, this tweak will not 
trigger (someone nitpicking will probably notice that 60.999999 will be 
rounded as 61.000000. Let as an exercice for contributers to address 
that extreme unlikely use case :-))

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From even.rouault at spatialys.com  Fri Jun 27 02:00:44 2025
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 27 Jun 2025 11:00:44 +0200
Subject: [gdal-dev] Motion: approve GDAL 3.11.1RC2 as final release
Message-ID: <3aa96fe2-a5e2-4a1e-a136-f4063850276c@spatialys.com>

Hi,

starting with my +1

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From szekerest at gmail.com  Fri Jun 27 02:08:53 2025
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri, 27 Jun 2025 11:08:53 +0200
Subject: [gdal-dev] Motion: approve GDAL 3.11.1RC2 as final release
In-Reply-To: <3aa96fe2-a5e2-4a1e-a136-f4063850276c@spatialys.com>
References: <3aa96fe2-a5e2-4a1e-a136-f4063850276c@spatialys.com>
Message-ID: <CACALY+RRWPHmpssC=UQ8fMidupfkhaw-EVVcmiSRQmqz=rxdMQ@mail.gmail.com>

+1 Tamas

Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org> ezt ?rta (id?pont:
2025. j?n. 27., P, 11:01):

> Hi,
>
> starting with my +1
>
> Even
>
> --
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20250627/fa26bb7c/attachment.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Fri Jun 27 02:17:28 2025
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Fri, 27 Jun 2025 09:17:28 +0000
Subject: [gdal-dev] Motion: approve GDAL 3.11.1RC2 as final release
In-Reply-To: <3aa96fe2-a5e2-4a1e-a136-f4063850276c@spatialys.com>
References: <3aa96fe2-a5e2-4a1e-a136-f4063850276c@spatialys.com>
Message-ID: <DB9PR09MB6887F33424515A14538202E2FD45A@DB9PR09MB6887.eurprd09.prod.outlook.com>

+1

-Jukka Rahkonen-


________________________________________
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> k?ytt?j?n Even Rouault via gdal-dev <gdal-dev at lists.osgeo.org> puolesta
L?hetetty: Perjantai 27. kes?kuuta 2025 12.00
Vastaanottaja: gdal-dev at lists.osgeo.org <gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] Motion: approve GDAL 3.11.1RC2 as final release


Hi,

starting with my +1

Even

--
http://www.spatialys.com/
My software is free, but my time generally not.

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev



From michael.smith.erdc at gmail.com  Fri Jun 27 02:37:01 2025
From: michael.smith.erdc at gmail.com (Michael Smith)
Date: Fri, 27 Jun 2025 05:37:01 -0400
Subject: [gdal-dev] Motion: approve GDAL 3.11.1RC2 as final release
In-Reply-To: <3aa96fe2-a5e2-4a1e-a136-f4063850276c@spatialys.com>
References: <3aa96fe2-a5e2-4a1e-a136-f4063850276c@spatialys.com>
Message-ID: <6AD8D488-90C4-4D56-84F6-58E197C0B70B@gmail.com>

+1

Mike

-- 

Michael Smith 
RSGIS Center ? ERDC CRREL NH 
US Army Corps 





?On 6/27/25, 5:16 AM, "gdal-dev on behalf of Even Rouault via gdal-dev" <gdal-dev-bounces at lists.osgeo.org <mailto:gdal-dev-bounces at lists.osgeo.org> on behalf of gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>> wrote:


Hi,


starting with my +1


Even


-- 
http://www.spatialys.com <http://www.spatialys.com>
My software is free, but my time generally not.


_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev <https://lists.osgeo.org/mailman/listinfo/gdal-dev>





