From jukka.rahkonen at mmmtike.fi  Thu Oct  1 04:25:45 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Oct  1 04:26:13 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
Message-ID: <loom.20091001T095950-579@post.gmane.org>

Hi,

I am combining some GIS data where each layer is divided to around thousand
separare shapefiles by mapsheets. Now I would like to store all the 35000
shapefiles to something that is more easy to handle. At first pushing each layer
to own Spatialite database feeled perfect, but I have problems with one layer
which has rather lot of data. Appending shapefiles one by one to Spatialite
database gets too slow after the database file has reached a size of around 6
gigabytes. Up till 3-4 gigabyte file size appending data to Spatialite is pretty
fast and because it is a database I guess I will use that for small layers.  But
what might be the fastest vector format that ogr supports to collect the big
layer (thousand shapefiles with total size of about 10 gigabytes) together?  I
would prefer some file based format because data goes to long-time storage, but
I can use Oracle or PostGIS in between if it is faster to do the conversion in
two steps.  What is recommended? Shapefiles, MapInfo tab, Oracle, PostGIS or
something else?

-Jukka Rahkonen-

From craig.leat at gmail.com  Thu Oct  1 05:50:02 2009
From: craig.leat at gmail.com (Craig Leat)
Date: Thu Oct  1 05:50:05 2009
Subject: [gdal-dev] Performance issues with gdal vrt
Message-ID: <1fef7d9b0910010250k235763a3k2f240d79b7797119@mail.gmail.com>

Hi list

Craig Leat:
> I need to investigate further, but I am suspecting that this issue may
> be specific to the MrSid format.

I have tested further and can report as follows:
1. I have 24 MrSid files with overview levels 2 4 8 16 32 64 128
2. I can point QGIS to the directory and load all these sid tiles very
quickly (IOW nearly instantaneously). I mean the tile names appear in
the legend and the full extent of the tiles appears on the map canvas.
3. I have built a vrt file containing these 24 sid tiles and loading
the vrt into QGIS takes 23 minutes.
4. I converted the sid files to GeoTiff and created external overviews
with the same levels.
5. I can point QGIS to the directory of tiffs and I'm able to load the
collection very quickly.
6. I have built a vrt for the tiffs and I can load this vrt very quickly.

I clearly have a problem working with MrSid tiles and vrt mosaics. I
am happy to open a ticket, but I don't think I can provide any more
useful information beyond the following:
1. MrSid SDK v7.0.0 built with gcc 4.1
2. gdal 1.6.1 built with gcc 4.3.3 (note the compiler version mismatch)
3. The sid and tiff tiles reside on the same physical device
4. I tested with other sid files from different suppliers and the
behaviour is similar.

I'm going to avoid the vrt format for the time being, but if a
developer is interested in investigating further you are welcome to
contact me.

Regards

Craig
From P.Halls at york.ac.uk  Thu Oct  1 07:15:10 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu Oct  1 07:15:15 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <loom.20091001T095950-579@post.gmane.org>
References: <loom.20091001T095950-579@post.gmane.org>
Message-ID: <4AC48F3E.9000909@york.ac.uk>

Jukka,

     it depends upon what your desired result is.  If you just want to replicate 
maps, the answer might differ from seeking to work with the information 
contained within the maps.  Either way, if your data is going to exceed 6GB, you 
probably ought to be looking to one of the DBMS solutions, PostGRES (underlying 
PostGIS) or Oracle.  That would give an added benefit that your data are 
accessible from a wide variety of tools.

Best wishes,

Peter

Jukka Rahkonen wrote:
> Hi,
> 
> I am combining some GIS data where each layer is divided to around thousand
> separare shapefiles by mapsheets. Now I would like to store all the 35000
> shapefiles to something that is more easy to handle. At first pushing each layer
> to own Spatialite database feeled perfect, but I have problems with one layer
> which has rather lot of data. Appending shapefiles one by one to Spatialite
> database gets too slow after the database file has reached a size of around 6
> gigabytes. Up till 3-4 gigabyte file size appending data to Spatialite is pretty
> fast and because it is a database I guess I will use that for small layers.  But
> what might be the fastest vector format that ogr supports to collect the big
> layer (thousand shapefiles with total size of about 10 gigabytes) together?  I
> would prefer some file based format because data goes to long-time storage, but
> I can use Oracle or PostGIS in between if it is faster to do the conversion in
> two steps.  What is recommended? Shapefiles, MapInfo tab, Oracle, PostGIS or
> something else?
> 
> -Jukka Rahkonen-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From chrisemberson at hotmail.com  Thu Oct  1 07:41:32 2009
From: chrisemberson at hotmail.com (Chris Emberson)
Date: Thu Oct  1 07:43:33 2009
Subject: [gdal-dev] Re: GDAL 1.7.0 download?
In-Reply-To: <4AC24D53.8050809@gmx.eu>
References: <BLU145-W12331831E0179D0090C03EA3D50@phx.gbl>
	<4AC23351.9060506@gmx.eu> <1254243848.4ac23e087afd2@imp.free.fr>
Message-ID: <BLU145-W3315C6042F5DB2E0B083EAA3D30@phx.gbl>


Thanks for the reply.
Do you have any idea when 1.7.0 will be released?
Or can you advise the procedure for backporting?



> Date: Tue, 29 Sep 2009 20:09:23 +0200
> From: peifer@gmx.eu
> To: even.rouault@mines-paris.org
> CC: chrisemberson@hotmail.com; gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Re: GDAL 1.7.0 download?
> 
> You are right. Now I remember that some time ago, I made an extra effort 
> to get hold of this useful utility...
> 
> Hermann
> 
> Even Rouault wrote:
> > Selon Hermann Peifer <peifer@gmx.eu>:
> >
> > Well, the documentation is correct. gdaldem will be officially included in
> > to-be-released GDAL 1.7.0.
> > http://trac.osgeo.org/gdal/browser/branches/1.6/gdal/apps doesn't show any sign
> > of it...
> >
> > I guess you have backported it yourself or someone did it for you. The source
> > code should indeed compile fine against any GDAL version.
> >
> >   
> >> Chris Emberson wrote:
> >>     
> >>> Hi,
> >>>
> >>> Am trying to use gdaldem but it says this is only available with GDAL
> >>>       
> >> 1.7.0,
> >>     
> >>> "Tools to analyze and visualize DEMs. (since GDAL 1.7.0)"
> >>>       
> >> As far as I can see, the documentation is not correct in this case.
> >>
> >> $ gdaldem  --version|head -1
> >> GDAL 1.6.2, released 2009/07/31
> >>
> >> Hermann
> >>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >>     
> >
> >   
 		 	   		  
_________________________________________________________________
With Windows Live, you can organise, edit, and share your photos.
http://clk.atdmt.com/UKM/go/134665338/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091001/d8b09c15/attachment.html
From mateusz at loskot.net  Thu Oct  1 07:47:07 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Oct  1 07:47:13 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <4AC32162.505@loskot.net>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
	<4AC32162.505@loskot.net>
Message-ID: <4AC496BB.6070005@loskot.net>

Mateusz Loskot wrote:
> Paul Meems wrote:
>> GDAL is compiling great, except when using libecwj2.dll. Because I can
>> 't compile the libecwj2 library for Win-64Bit.
>> In some of the header files is stated when compiling to a 64-Bit
>> version raise an error.
> 
> What errors?
> 
> It's said to say, but code of libecwj is well-known [1] of its poor
> quality and making troubles with recent compilers. Patches have been
> ignored, so we have to deal with what we are given.

I admit I shall not do bad-mouthing, but I shall act instead.
Here is some that perhaps will help users to get over some problems:

http://trac.osgeo.org/gdal/ticket/3162

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From peifer at gmx.eu  Thu Oct  1 10:20:13 2009
From: peifer at gmx.eu (Hermann Peifer)
Date: Thu Oct  1 10:20:17 2009
Subject: [gdal-dev] Re: GDAL 1.7.0 download?
In-Reply-To: <BLU145-W3315C6042F5DB2E0B083EAA3D30@phx.gbl>
References: <BLU145-W12331831E0179D0090C03EA3D50@phx.gbl>	<4AC23351.9060506@gmx.eu>
	<1254243848.4ac23e087afd2@imp.free.fr>
	<BLU145-W3315C6042F5DB2E0B083EAA3D30@phx.gbl>
Message-ID: <4AC4BA9D.40200@gmx.eu>

Chris Emberson wrote:
> Thanks for the reply.
> Do you have any idea when 1.7.0 will be released?
> Or can you advise the procedure for backporting?
> 

IIRC, I didn't do anything special, just:

svn checkout http://svn.osgeo.org/gdal/trunk/gdal gdal

cd gdal

./configure

make

cd $HOME/bin

ln -s path/to/gdal/apps/gdaldem

Hermann
From szekerest at gmail.com  Thu Oct  1 10:40:09 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Oct  1 10:40:22 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <4AC496BB.6070005@loskot.net>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
	<4AC32162.505@loskot.net> <4AC496BB.6070005@loskot.net>
Message-ID: <f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>

Mateusz,

I don't remember if I had to patch ecw this way to compile on Win64.

I've uploaded the package I'm using which compiles well with VS2008
http://vbkto.dyndns.org/tests/libecwj2-3.3-VC9.rar

Just open the solution file in Source\NCSBuildQmake and rebuild.

You could diff it to your version to identify the possible changes
that I don't recall correctly.

Best regards,

Tamas



2009/10/1 Mateusz Loskot <mateusz@loskot.net>:
> Mateusz Loskot wrote:
>> Paul Meems wrote:
>>> GDAL is compiling great, except when using libecwj2.dll. Because I can
>>> 't compile the libecwj2 library for Win-64Bit.
>>> In some of the header files is stated when compiling to a 64-Bit
>>> version raise an error.
>>
>> What errors?
>>
>> It's said to say, but code of libecwj is well-known [1] of its poor
>> quality and making troubles with recent compilers. Patches have been
>> ignored, so we have to deal with what we are given.
>
> I admit I shall not do bad-mouthing, but I shall act instead.
> Here is some that perhaps will help users to get over some problems:
>
> http://trac.osgeo.org/gdal/ticket/3162
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
> Charter Member of OSGeo, http://osgeo.org
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From mateusz at loskot.net  Thu Oct  1 10:47:05 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Oct  1 10:47:11 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>	
	<4AC32162.505@loskot.net> <4AC496BB.6070005@loskot.net>
	<f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>
Message-ID: <4AC4C0E9.6030803@loskot.net>

Tamas Szekeres wrote:
> Mateusz,
> 
> I don't remember if I had to patch ecw this way to compile on Win64.

The problem does not seem to be related to 32 vs 64-bit.
It is related to scope-less Windows API macros as identified here:

http://lists.osgeo.org/pipermail/gdal-dev/2009-July/021393.html

Anyway, following the procedure documented in SDK.pdf of building
libecwj2-3.3 on Windows, it is not possible to compile this library
using Visual C++ 9.0.

> I've uploaded the package I'm using which compiles well with VS2008
> http://vbkto.dyndns.org/tests/libecwj2-3.3-VC9.rar

A side note, I'm not sure it's legal to publish this source code.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From szekerest at gmail.com  Thu Oct  1 10:54:51 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Oct  1 10:54:53 2009
Subject: [gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <4AC4C0E9.6030803@loskot.net>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
	<4AC32162.505@loskot.net> <4AC496BB.6070005@loskot.net>
	<f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>
	<4AC4C0E9.6030803@loskot.net>
Message-ID: <f3b73b7d0910010754i68aa463i5d225876fd2171db@mail.gmail.com>

2009/10/1 Mateusz Loskot <mateusz@loskot.net>:

>
> A side note, I'm not sure it's legal to publish this source code.
>

I don't intend to publish that, just for tracking this issue down, it
will be removed soon.

Best regards,

Tamas
From yilmaz.arslanoglu at gmail.com  Thu Oct  1 12:54:04 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Thu Oct  1 12:54:06 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
Message-ID: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>

Hi;

I am trying to build and install the GDAL library on Windows XP
using the following commands:

   nmake /f makefile.vc
   nmake /f makefile.vc install
   nmake /f makefile.vc devinstall

In order to build with GEOS support, I uncommented the lines
in the "nmake.opt" as follows:

GEOS_DIR=C:\geos-3.1.1
GEOS_CFLAGS = -I$(GEOS_DIR)/capi -I$(GEOS_DIR)/source/headers -DHAVE_GEOS
GEOS_LIB     = $(GEOS_DIR)/source/geos_c_i.lib

However, I still get the same .dll and .lib files as if no GEOS
support was turned on
(the sizes are exactly the same). When I try to call
"OGRGeometry::Contains()" method,
I also get the error:

"ERROR 6: GEOS support not enabled."

What could be wrong?

2) I was also wondering whether OGR library provides a kind of nearest
neighbour finding facilities?
   If not, does anybody know any library that could be integrated with
OGR for this purpose?
   I plan to use it to find the n nearest sounding points (SOUNDG)
given a point, to make a prediction
   about its depth.

3) Finally, is there any facility in OGR for querying a layer such that
    it will only return the features on it, which contain a given
point as parameter?
    Because I could not come up with an SQL statement to perform this task.
    Actually I was planning to use this on the DEPARE (depth area) layer on
    an S-57 file to find the depth area polygon that covers the given point.

     Any idea or references about these issues would greatly be appreciated.

Best regards,
Yilmaz
From warmerdam at pobox.com  Thu Oct  1 13:00:32 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct  1 13:00:32 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
In-Reply-To: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
References: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
Message-ID: <4AC4E030.5010100@pobox.com>

Yilmaz Arslanoglu wrote:
> Hi;
> 
> I am trying to build and install the GDAL library on Windows XP
> using the following commands:
> 
>    nmake /f makefile.vc
>    nmake /f makefile.vc install
>    nmake /f makefile.vc devinstall
> 
> In order to build with GEOS support, I uncommented the lines
> in the "nmake.opt" as follows:
> 
> GEOS_DIR=C:\geos-3.1.1
> GEOS_CFLAGS = -I$(GEOS_DIR)/capi -I$(GEOS_DIR)/source/headers -DHAVE_GEOS
> GEOS_LIB     = $(GEOS_DIR)/source/geos_c_i.lib
> 
> However, I still get the same .dll and .lib files as if no GEOS
> support was turned on

Yilmaz,

Make sure you do a "nmake /f makefile.vc clean" after any change to
the nmake.opt file.  The makefiles are not setup to force a full
rebuild on changes to the nmake.opt file or sub-makefiles.

> 2) I was also wondering whether OGR library provides a kind of nearest
> neighbour finding facilities?
>    If not, does anybody know any library that could be integrated with
> OGR for this purpose?
>    I plan to use it to find the n nearest sounding points (SOUNDG)
> given a point, to make a prediction
>    about its depth.

Nothing comes to mind to address this.

> 3) Finally, is there any facility in OGR for querying a layer such that
>     it will only return the features on it, which contain a given
> point as parameter?
>     Because I could not come up with an SQL statement to perform this task.
>     Actually I was planning to use this on the DEPARE (depth area) layer on
>     an S-57 file to find the depth area polygon that covers the given point.

If you specify a point to OGRLayer::SetSpatialFilter() you should only
get back features that intersect that point.  Without GEOS you would get
any feature whose bounding box contained that point but with GEOS the
test should be more precise.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From iotc2000 at gmail.com  Thu Oct  1 13:46:31 2009
From: iotc2000 at gmail.com (iotc)
Date: Thu Oct  1 13:46:34 2009
Subject: [Gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <f3b73b7d0910010754i68aa463i5d225876fd2171db@mail.gmail.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
	<4AC32162.505@loskot.net> <4AC496BB.6070005@loskot.net>
	<f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>
	<4AC4C0E9.6030803@loskot.net>
	<f3b73b7d0910010754i68aa463i5d225876fd2171db@mail.gmail.com>
Message-ID: <1254419191623-3750840.post@n2.nabble.com>


Hi Tamas and Mateusz

Your time on helping us much appreciated. I am working with Paul in the
MapWindow team and I implemented the macro fix to libecwj2 a few months ago
(by strange coincidence I also chose NCS_ as the prefix).

libecwj2.dll compiles fine in VS2008 in WIN32, but we are experiencing
difficulties in making a x64 build. The main problem is that one of the key
developers in MapWindow has moved on and the rest of us are not very clued
up in C++. 

The error that Paul refers to occurs in lcms.h ("Little cms") in a call to
the __asm keyword (Inline Assembler). I think that that could be fixed quite
easily. However, we simply don't know what other changes need to be made to
libecwj2 for a safe x64 build.

Tamas - would it be possible to post that library again for a short time? -
did you make #ifdef(WIN32) changes anywhere, and are there any special
compilation flags that we need to change in VS2008?

Best Regards
Rob

P.S. When I contacted Mark Sheridan of ERDAS in June about the legality of
my changes, he hinted that development on the libecwj2 SDK is continuing but
it would not be available as before. He wrote:
"The older public 3.3 SDK is known to build with VS 2005, not sure about
2008, as we never ported that version internally. We do have a much newer
version available to licensees with support for VS 2005/2008 in 32 and 64
bit, as well as other enhancements like improved caching, GML in JP2 support
and JP2 opacity channels"
-- 
View this message in context: http://n2.nabble.com/Looking-for-libecwj2-dll-Win-64Bit-version-tp3741096p3750840.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From yilmaz.arslanoglu at gmail.com  Thu Oct  1 13:55:39 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Thu Oct  1 13:55:43 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
In-Reply-To: <4AC4E030.5010100@pobox.com>
References: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
	<4AC4E030.5010100@pobox.com>
Message-ID: <150158ad0910011055t39b18843v80a20963002fd27e@mail.gmail.com>

Hi Frank;

> Make sure you do a "nmake /f makefile.vc clean" after any change to

Thank you very much, actually I should have already thought this before :)
Now it runs quite OK.

> If you specify a point to OGRLayer::SetSpatialFilter() you should only
> get back features that intersect that point.

Then do you have an idea how the "intersect" would behave between
a line string and a point? (I would expect TRUE if the point lies on
any of the line string legs,
FALSE otherwise) I'm asking since DEPARE layer may also contain line
string features besides
polygon features. (or shouldn't this happen at all?)

On Thu, Oct 1, 2009 at 7:00 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Yilmaz Arslanoglu wrote:
>>
>> Hi;
>>
>> I am trying to build and install the GDAL library on Windows XP
>> using the following commands:
>>
>> ? nmake /f makefile.vc
>> ? nmake /f makefile.vc install
>> ? nmake /f makefile.vc devinstall
>>
>> In order to build with GEOS support, I uncommented the lines
>> in the "nmake.opt" as follows:
>>
>> GEOS_DIR=C:\geos-3.1.1
>> GEOS_CFLAGS = -I$(GEOS_DIR)/capi -I$(GEOS_DIR)/source/headers -DHAVE_GEOS
>> GEOS_LIB ? ? = $(GEOS_DIR)/source/geos_c_i.lib
>>
>> However, I still get the same .dll and .lib files as if no GEOS
>> support was turned on
>
> Yilmaz,
>
> Make sure you do a "nmake /f makefile.vc clean" after any change to
> the nmake.opt file. ?The makefiles are not setup to force a full
> rebuild on changes to the nmake.opt file or sub-makefiles.
>
>> 2) I was also wondering whether OGR library provides a kind of nearest
>> neighbour finding facilities?
>> ? If not, does anybody know any library that could be integrated with
>> OGR for this purpose?
>> ? I plan to use it to find the n nearest sounding points (SOUNDG)
>> given a point, to make a prediction
>> ? about its depth.
>
> Nothing comes to mind to address this.
>
>> 3) Finally, is there any facility in OGR for querying a layer such that
>> ? ?it will only return the features on it, which contain a given
>> point as parameter?
>> ? ?Because I could not come up with an SQL statement to perform this task.
>> ? ?Actually I was planning to use this on the DEPARE (depth area) layer on
>> ? ?an S-57 file to find the depth area polygon that covers the given
>> point.
>
> If you specify a point to OGRLayer::SetSpatialFilter() you should only
> get back features that intersect that point. ?Without GEOS you would get
> any feature whose bounding box contained that point but with GEOS the
> test should be more precise.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
>
From warmerdam at pobox.com  Thu Oct  1 14:05:51 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct  1 14:05:48 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
In-Reply-To: <150158ad0910011055t39b18843v80a20963002fd27e@mail.gmail.com>
References: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
	<4AC4E030.5010100@pobox.com>
	<150158ad0910011055t39b18843v80a20963002fd27e@mail.gmail.com>
Message-ID: <4AC4EF7F.1070404@pobox.com>

Yilmaz Arslanoglu wrote:
>> If you specify a point to OGRLayer::SetSpatialFilter() you should only
>> get back features that intersect that point.
> 
> Then do you have an idea how the "intersect" would behave between
> a line string and a point? (I would expect TRUE if the point lies on
> any of the line string legs,
> FALSE otherwise) I'm asking since DEPARE layer may also contain line
> string features besides
> polygon features. (or shouldn't this happen at all?)

Yilmaz,

It will depend on how GEOS handles this, but I would generally expect it
to be difficult to define a point on a linestring except at nodes.  If you
have a good sense of your precision needs, it might make sense to set the
spatial filter as a very small rectangle around the point of interest.

Best regards
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bontepaarden at gmail.com  Thu Oct  1 15:14:53 2009
From: bontepaarden at gmail.com (Paul Meems)
Date: Thu Oct  1 15:14:58 2009
Subject: [Gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <1254419191623-3750840.post@n2.nabble.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
	<4AC32162.505@loskot.net> <4AC496BB.6070005@loskot.net>
	<f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>
	<4AC4C0E9.6030803@loskot.net>
	<f3b73b7d0910010754i68aa463i5d225876fd2171db@mail.gmail.com>
	<1254419191623-3750840.post@n2.nabble.com>
Message-ID: <870e056a0910011214x5ba09456o7e21fed852fabf9@mail.gmail.com>

Tamas, Mateusz and Rob,

Thanks for all your help.
It seems I can now successfully build to 64Bit.
In my first attempt I replaced Win32 with Win64 in the Preprocessor
Definitions.
That gave me the "unknown machine type will require custom 64 bit variables"
error.
When I restored Win32 I got the __asm keyword (Inline Assembler) error Rob
is talking about.
Now I added Win64 to the Preprocessor Definitions, so having both Win32 and
Win64 and it compiles OK.
My Preprocessor Definitions for Release|x64 is now:
QT_NO_DEBUG;NDEBUG;_WINDOWS;UNICODE;WIN32;WIN64;_MBCS;_UNICODE;LIBECWJ2;QT_DLL
I can't say I understand, but that's is my lack of understanding C++ ;) but
it works.
I haven't checked if it is a true 64Bit dll, because I don't know how to ;)

I'll now try and compile GDAL to 64Bit with this dll.

--
Paul


2009/10/1 iotc <iotc2000@gmail.com>

>
> Hi Tamas and Mateusz
>
> Your time on helping us much appreciated. I am working with Paul in the
> MapWindow team and I implemented the macro fix to libecwj2 a few months ago
> (by strange coincidence I also chose NCS_ as the prefix).
>
> libecwj2.dll compiles fine in VS2008 in WIN32, but we are experiencing
> difficulties in making a x64 build. The main problem is that one of the key
> developers in MapWindow has moved on and the rest of us are not very clued
> up in C++.
>
> The error that Paul refers to occurs in lcms.h ("Little cms") in a call to
> the __asm keyword (Inline Assembler). I think that that could be fixed
> quite
> easily. However, we simply don't know what other changes need to be made to
> libecwj2 for a safe x64 build.
>
> Tamas - would it be possible to post that library again for a short time? -
> did you make #ifdef(WIN32) changes anywhere, and are there any special
> compilation flags that we need to change in VS2008?
>
> Best Regards
> Rob
>
> P.S. When I contacted Mark Sheridan of ERDAS in June about the legality of
> my changes, he hinted that development on the libecwj2 SDK is continuing
> but
> it would not be available as before. He wrote:
> "The older public 3.3 SDK is known to build with VS 2005, not sure about
> 2008, as we never ported that version internally. We do have a much newer
> version available to licensees with support for VS 2005/2008 in 32 and 64
> bit, as well as other enhancements like improved caching, GML in JP2
> support
> and JP2 opacity channels"
> --
> View this message in context:
> http://n2.nabble.com/Looking-for-libecwj2-dll-Win-64Bit-version-tp3741096p3750840.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091001/bfbd29a5/attachment-0001.html
From szekerest at gmail.com  Thu Oct  1 15:45:28 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Oct  1 15:45:30 2009
Subject: [Gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <870e056a0910011214x5ba09456o7e21fed852fabf9@mail.gmail.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
	<4AC32162.505@loskot.net> <4AC496BB.6070005@loskot.net>
	<f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>
	<4AC4C0E9.6030803@loskot.net>
	<f3b73b7d0910010754i68aa463i5d225876fd2171db@mail.gmail.com>
	<1254419191623-3750840.post@n2.nabble.com>
	<870e056a0910011214x5ba09456o7e21fed852fabf9@mail.gmail.com>
Message-ID: <f3b73b7d0910011245i53364b6di7907f4fa7c084650@mail.gmail.com>

Hi Paul,

I'm using pretty much the same preproc definitions
WIN64;WIN32;NDEBUG;_WINDOWS;_USRDLL;UNICODE;_MBCS;LIBECWJ2;QT_DLL;_CRT_SECURE_NO_DEPRECATE;_CRT_NONSTDC_NO_DEPRECATE

However I'm not sure exactly what else have been done in order to get
it to run smoothly. As far as I remember we've got access violations
with GDAL autotests on Win64 but it has also been fixed (I've probably
added a note on this in my source code 'Modified by Tamas Szekeres' or
something like this)

Currently there's no outstanding issues I have in my mind with this
version and I've already used ECW data in my Win64 applications, but
let me know if you find anything.
The ready to use binaries and libs are also available for testing at
the location mentioned before (http://vbkto.dyndns.org/sdk/)


Best regards,

Tamas



2009/10/1 Paul Meems <bontepaarden@gmail.com>:
> Tamas, Mateusz and Rob,
>
> Thanks for all your help.
> It seems I can now successfully build to 64Bit.
> In my first attempt I replaced Win32 with Win64 in the Preprocessor
> Definitions.
> That gave me the "unknown machine type will require custom 64 bit variables"
> error.
> When I restored Win32 I got the __asm keyword (Inline Assembler) error Rob
> is talking about.
> Now I added Win64 to the Preprocessor Definitions, so having both Win32 and
> Win64 and it compiles OK.
> My Preprocessor Definitions for Release|x64 is now:
> QT_NO_DEBUG;NDEBUG;_WINDOWS;UNICODE;WIN32;WIN64;_MBCS;_UNICODE;LIBECWJ2;QT_DLL
> I can't say I understand, but that's is my lack of understanding C++ ;) but
> it works.
> I haven't checked if it is a true 64Bit dll, because I don't know how to ;)
>
> I'll now try and compile GDAL to 64Bit with this dll.
>
> --
> Paul
>
>
> 2009/10/1 iotc <iotc2000@gmail.com>
>>
>> Hi Tamas and Mateusz
>>
>> Your time on helping us much appreciated. I am working with Paul in the
>> MapWindow team and I implemented the macro fix to libecwj2 a few months
>> ago
>> (by strange coincidence I also chose NCS_ as the prefix).
>>
>> libecwj2.dll compiles fine in VS2008 in WIN32, but we are experiencing
>> difficulties in making a x64 build. The main problem is that one of the
>> key
>> developers in MapWindow has moved on and the rest of us are not very clued
>> up in C++.
>>
>> The error that Paul refers to occurs in lcms.h ("Little cms") in a call to
>> the __asm keyword (Inline Assembler). I think that that could be fixed
>> quite
>> easily. However, we simply don't know what other changes need to be made
>> to
>> libecwj2 for a safe x64 build.
>>
>> Tamas - would it be possible to post that library again for a short time?
>> -
>> did you make #ifdef(WIN32) changes anywhere, and are there any special
>> compilation flags that we need to change in VS2008?
>>
>> Best Regards
>> Rob
>>
>> P.S. When I contacted Mark Sheridan of ERDAS in June about the legality of
>> my changes, he hinted that development on the libecwj2 SDK is continuing
>> but
>> it would not be available as before. He wrote:
>> "The older public 3.3 SDK is known to build with VS 2005, not sure about
>> 2008, as we never ported that version internally. We do have a much newer
>> version available to licensees with support for VS 2005/2008 in 32 and 64
>> bit, as well as other enhancements like improved caching, GML in JP2
>> support
>> and JP2 opacity channels"
>> --
>> View this message in context:
>> http://n2.nabble.com/Looking-for-libecwj2-dll-Win-64Bit-version-tp3741096p3750840.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From dan0225 at sbcglobal.net  Thu Oct  1 21:09:20 2009
From: dan0225 at sbcglobal.net (orbiter_postmuch)
Date: Thu Oct  1 21:09:22 2009
Subject: [Gdal-dev] GDAL "ignores" explicitly defined nodata value
In-Reply-To: <1254046546218-3720196.post@n2.nabble.com>
References: <1254046546218-3720196.post@n2.nabble.com>
Message-ID: <1254445760747-3753058.post@n2.nabble.com>


Bump to avoid the issue from remaining unsolved.

-----
Using 1.6.0 on Vista. All answers must be in DOS batch file format.
-- 
View this message in context: http://n2.nabble.com/GDAL-ignores-explicitly-defined-nodata-value-tp3720196p3753058.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From P.Halls at york.ac.uk  Fri Oct  2 02:24:21 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Fri Oct  2 02:24:29 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
In-Reply-To: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
References: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
Message-ID: <4AC59C95.4010908@york.ac.uk>

Yilmaz,

    I'll leave the GEOS / Windows compilation bit to those who know!  However, I 
can help on the nearest neighbour issue as I have done some research in this 
area.  To do it properly is non-trivial: indeed, it is effectively a Dirichlet / 
Voronoi tessellation problem.  For an outline and some bibliography see
Halls, P.J, Bulling, M., White, P.C.L., Garland, L., Harris, S., 2001, Dirichlet 
neighbours: revisiting Dirichlet tessellation for neighbourhood analysis, 
Computers, Environment and Urban Systems (CEUS) 25 pp105-117.
This is based on Robin Sibson and Peter Green's 'Natural Neighbours' algorithm, 
Green, P., & Sibson, R, 1978, Computing Dirichlet tessellations in the plane; 
Computer Journal 21 pp168-173.
This approach appears to be one of the fastest and most reliable algorithms for 
computing a Dirichlet Tessellation.  Once you have that tessellation, the 
neighbours of each point are easy to identify - indeed, they 'fall out' of the 
structure used by the Green and Sibson algorithm.

    My software is written in Simula (the 'original' object programming 
language), using the CIM Open Source Simula cross-compiler from the University 
of Oslo and the OGR library via c calls.  My 'neighbours' program computes for 
each point in a dataset the set of 'natural neighbours' for each point, 
identifies that which is nearest and reports the distances and angles to each 
neighbour.  CIM is written in c and cross compiles into c.  I use the Cygwin 
interface on Windows and the gcc compilers: I cannot comment on building CIM in 
Visual Studio.  However, should you wish, I would be willing to supply you with 
my source.

Best wishes,

Peter

Yilmaz Arslanoglu wrote:
> Hi;
> 
> I am trying to build and install the GDAL library on Windows XP
> using the following commands:
> 
>    nmake /f makefile.vc
>    nmake /f makefile.vc install
>    nmake /f makefile.vc devinstall
> 
> In order to build with GEOS support, I uncommented the lines
> in the "nmake.opt" as follows:
> 
> GEOS_DIR=C:\geos-3.1.1
> GEOS_CFLAGS = -I$(GEOS_DIR)/capi -I$(GEOS_DIR)/source/headers -DHAVE_GEOS
> GEOS_LIB     = $(GEOS_DIR)/source/geos_c_i.lib
> 
> However, I still get the same .dll and .lib files as if no GEOS
> support was turned on
> (the sizes are exactly the same). When I try to call
> "OGRGeometry::Contains()" method,
> I also get the error:
> 
> "ERROR 6: GEOS support not enabled."
> 
> What could be wrong?
> 
> 2) I was also wondering whether OGR library provides a kind of nearest
> neighbour finding facilities?
>    If not, does anybody know any library that could be integrated with
> OGR for this purpose?
>    I plan to use it to find the n nearest sounding points (SOUNDG)
> given a point, to make a prediction
>    about its depth.
> 
> 3) Finally, is there any facility in OGR for querying a layer such that
>     it will only return the features on it, which contain a given
> point as parameter?
>     Because I could not come up with an SQL statement to perform this task.
>     Actually I was planning to use this on the DEPARE (depth area) layer on
>     an S-57 file to find the depth area polygon that covers the given point.
> 
>      Any idea or references about these issues would greatly be appreciated.
> 
> Best regards,
> Yilmaz
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From spbhasker at gmail.com  Fri Oct  2 03:14:55 2009
From: spbhasker at gmail.com (spbhasker bachi)
Date: Fri Oct  2 03:15:19 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
In-Reply-To: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
References: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
Message-ID: <2b5309940910020014w5541cc6es9bdfd6caea39745e@mail.gmail.com>

hi.

which version of vc++ are you using..
coz if u are using vc++ 6.0 you need to make some changes in some codes.

also do study the nmake.opt file & check i all the paths are set properly.

hope this helps..

bhasker

On Thu, Oct 1, 2009 at 10:24 PM, Yilmaz Arslanoglu <
yilmaz.arslanoglu@gmail.com> wrote:

> Hi;
>
> I am trying to build and install the GDAL library on Windows XP
> using the following commands:
>
>   nmake /f makefile.vc
>   nmake /f makefile.vc install
>   nmake /f makefile.vc devinstall
>
> In order to build with GEOS support, I uncommented the lines
> in the "nmake.opt" as follows:
>
> GEOS_DIR=C:\geos-3.1.1
> GEOS_CFLAGS = -I$(GEOS_DIR)/capi -I$(GEOS_DIR)/source/headers -DHAVE_GEOS
> GEOS_LIB     = $(GEOS_DIR)/source/geos_c_i.lib
>
> However, I still get the same .dll and .lib files as if no GEOS
> support was turned on
> (the sizes are exactly the same). When I try to call
> "OGRGeometry::Contains()" method,
> I also get the error:
>
> "ERROR 6: GEOS support not enabled."
>
> What could be wrong?
>
> 2) I was also wondering whether OGR library provides a kind of nearest
> neighbour finding facilities?
>   If not, does anybody know any library that could be integrated with
> OGR for this purpose?
>   I plan to use it to find the n nearest sounding points (SOUNDG)
> given a point, to make a prediction
>   about its depth.
>
> 3) Finally, is there any facility in OGR for querying a layer such that
>    it will only return the features on it, which contain a given
> point as parameter?
>    Because I could not come up with an SQL statement to perform this task.
>    Actually I was planning to use this on the DEPARE (depth area) layer on
>    an S-57 file to find the depth area polygon that covers the given point.
>
>     Any idea or references about these issues would greatly be appreciated.
>
> Best regards,
> Yilmaz
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091002/ef7f900c/attachment.html
From yilmaz.arslanoglu at gmail.com  Fri Oct  2 04:05:30 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Fri Oct  2 04:05:34 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
In-Reply-To: <2b5309940910020014w5541cc6es9bdfd6caea39745e@mail.gmail.com>
References: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
	<2b5309940910020014w5541cc6es9bdfd6caea39745e@mail.gmail.com>
Message-ID: <150158ad0910020105i6f6c7078kb19f37f341467e64@mail.gmail.com>

Hi Bhasker;

I use Visual Studio 2008, but actually the problem was
forgetting to make a complete clean before building it with
the modified options. So as Frank said, it will be nice
to call "nmake /f makefile.vc clean" before the build.

Regards,
Yilmaz

On Fri, Oct 2, 2009 at 9:14 AM, spbhasker bachi <spbhasker@gmail.com> wrote:
> hi.
> which version of vc++ are you using..
> coz if u are using vc++ 6.0 you need to make some changes in some codes.
> also do study the nmake.opt file & check i all the paths are set properly.
> hope this helps..
> bhasker
>
> On Thu, Oct 1, 2009 at 10:24 PM, Yilmaz Arslanoglu
> <yilmaz.arslanoglu@gmail.com> wrote:
>>
>> Hi;
>>
>> I am trying to build and install the GDAL library on Windows XP
>> using the following commands:
>>
>> ? nmake /f makefile.vc
>> ? nmake /f makefile.vc install
>> ? nmake /f makefile.vc devinstall
>>
>> In order to build with GEOS support, I uncommented the lines
>> in the "nmake.opt" as follows:
>>
>> GEOS_DIR=C:\geos-3.1.1
>> GEOS_CFLAGS = -I$(GEOS_DIR)/capi -I$(GEOS_DIR)/source/headers -DHAVE_GEOS
>> GEOS_LIB ? ? = $(GEOS_DIR)/source/geos_c_i.lib
>>
>> However, I still get the same .dll and .lib files as if no GEOS
>> support was turned on
>> (the sizes are exactly the same). When I try to call
>> "OGRGeometry::Contains()" method,
>> I also get the error:
>>
>> "ERROR 6: GEOS support not enabled."
>>
>> What could be wrong?
>>
>> 2) I was also wondering whether OGR library provides a kind of nearest
>> neighbour finding facilities?
>> ? If not, does anybody know any library that could be integrated with
>> OGR for this purpose?
>> ? I plan to use it to find the n nearest sounding points (SOUNDG)
>> given a point, to make a prediction
>> ? about its depth.
>>
>> 3) Finally, is there any facility in OGR for querying a layer such that
>> ? ?it will only return the features on it, which contain a given
>> point as parameter?
>> ? ?Because I could not come up with an SQL statement to perform this task.
>> ? ?Actually I was planning to use this on the DEPARE (depth area) layer on
>> ? ?an S-57 file to find the depth area polygon that covers the given
>> point.
>>
>> ? ? Any idea or references about these issues would greatly be
>> appreciated.
>>
>> Best regards,
>> Yilmaz
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
From yilmaz.arslanoglu at gmail.com  Fri Oct  2 04:50:56 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Fri Oct  2 04:50:59 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
In-Reply-To: <4AC59C95.4010908@york.ac.uk>
References: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
	<4AC59C95.4010908@york.ac.uk>
Message-ID: <150158ad0910020150n525cfe62gea97f1639f53de9b@mail.gmail.com>

Hi Peter;

Thank you very much for the references. Actually I was considering too
to utilize
the Natural Neighbours concept, not only for nearest neighbour
identification, but also for
interpolating the values attributed to spatial points. I guess this
time a dynamic version of needs to be implemented,
since one needs to adapt the tesellation with the newly inserted query
point at eachnew query.
(assume that I have a set of points with their associated depth
values, and I use this set as
a source of querying new points with unknown depth)

Actually if it is not a problem for you, I would be pleased to see the
code to get a better
understanding about the algorithms involved.

Best regards,
Yilmaz

On Fri, Oct 2, 2009 at 8:24 AM, Peter J Halls <P.Halls@york.ac.uk> wrote:
> Yilmaz,
>
> ? I'll leave the GEOS / Windows compilation bit to those who know! ?However,
> I can help on the nearest neighbour issue as I have done some research in
> this area. ?To do it properly is non-trivial: indeed, it is effectively a
> Dirichlet / Voronoi tessellation problem. ?For an outline and some
> bibliography see
> Halls, P.J, Bulling, M., White, P.C.L., Garland, L., Harris, S., 2001,
> Dirichlet neighbours: revisiting Dirichlet tessellation for neighbourhood
> analysis, Computers, Environment and Urban Systems (CEUS) 25 pp105-117.
> This is based on Robin Sibson and Peter Green's 'Natural Neighbours'
> algorithm, Green, P., & Sibson, R, 1978, Computing Dirichlet tessellations
> in the plane; Computer Journal 21 pp168-173.
> This approach appears to be one of the fastest and most reliable algorithms
> for computing a Dirichlet Tessellation. ?Once you have that tessellation,
> the neighbours of each point are easy to identify - indeed, they 'fall out'
> of the structure used by the Green and Sibson algorithm.
>
> ? My software is written in Simula (the 'original' object programming
> language), using the CIM Open Source Simula cross-compiler from the
> University of Oslo and the OGR library via c calls. ?My 'neighbours' program
> computes for each point in a dataset the set of 'natural neighbours' for
> each point, identifies that which is nearest and reports the distances and
> angles to each neighbour. ?CIM is written in c and cross compiles into c. ?I
> use the Cygwin interface on Windows and the gcc compilers: I cannot comment
> on building CIM in Visual Studio. ?However, should you wish, I would be
> willing to supply you with my source.
>
> Best wishes,
>
> Peter
>
> Yilmaz Arslanoglu wrote:
>>
>> Hi;
>>
>> I am trying to build and install the GDAL library on Windows XP
>> using the following commands:
>>
>> ? nmake /f makefile.vc
>> ? nmake /f makefile.vc install
>> ? nmake /f makefile.vc devinstall
>>
>> In order to build with GEOS support, I uncommented the lines
>> in the "nmake.opt" as follows:
>>
>> GEOS_DIR=C:\geos-3.1.1
>> GEOS_CFLAGS = -I$(GEOS_DIR)/capi -I$(GEOS_DIR)/source/headers -DHAVE_GEOS
>> GEOS_LIB ? ? = $(GEOS_DIR)/source/geos_c_i.lib
>>
>> However, I still get the same .dll and .lib files as if no GEOS
>> support was turned on
>> (the sizes are exactly the same). When I try to call
>> "OGRGeometry::Contains()" method,
>> I also get the error:
>>
>> "ERROR 6: GEOS support not enabled."
>>
>> What could be wrong?
>>
>> 2) I was also wondering whether OGR library provides a kind of nearest
>> neighbour finding facilities?
>> ? If not, does anybody know any library that could be integrated with
>> OGR for this purpose?
>> ? I plan to use it to find the n nearest sounding points (SOUNDG)
>> given a point, to make a prediction
>> ? about its depth.
>>
>> 3) Finally, is there any facility in OGR for querying a layer such that
>> ? ?it will only return the features on it, which contain a given
>> point as parameter?
>> ? ?Because I could not come up with an SQL statement to perform this task.
>> ? ?Actually I was planning to use this on the DEPARE (depth area) layer on
>> ? ?an S-57 file to find the depth area polygon that covers the given
>> point.
>>
>> ? ? Any idea or references about these issues would greatly be
>> appreciated.
>>
>> Best regards,
>> Yilmaz
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
> --------------------------------------------------------------------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 433806 ? ? Fax: 01904 433740
> Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
> This message has the status of a private and personal communication
> --------------------------------------------------------------------------------
>
From chrisemberson at hotmail.com  Fri Oct  2 12:16:10 2009
From: chrisemberson at hotmail.com (Chris Emberson)
Date: Fri Oct  2 12:16:12 2009
Subject: [gdal-dev] Anti-Aliasing
In-Reply-To: <20091002085102.6A36A12A9248@lists.osgeo.org>
References: <20091002085102.6A36A12A9248@lists.osgeo.org>
Message-ID: <BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>


I am looking for an anti-aliasing function to smooth out the pixellated effect between raster values. I have tried the various interpolation methods with gdalwarp and have also increased the resolution of the raster to try and minimise the effect, to no avail.
Is this a function to be added soon?

Thanks,
Chris
 		 	   		  
_________________________________________________________________
Share your photos with Windows Live Photos ? Free.
http://clk.atdmt.com/UKM/go/134665338/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091002/2c7d62db/attachment.html
From Chris.Barker at noaa.gov  Fri Oct  2 12:20:56 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Oct  2 12:20:32 2009
Subject: [gdal-dev] compiling GDAL with GEOS on Windows
In-Reply-To: <150158ad0910020150n525cfe62gea97f1639f53de9b@mail.gmail.com>
References: <150158ad0910010954n168d7bden8293193ad8e2197c@mail.gmail.com>
	<4AC59C95.4010908@york.ac.uk>
	<150158ad0910020150n525cfe62gea97f1639f53de9b@mail.gmail.com>
Message-ID: <4AC62868.5070307@noaa.gov>

Yilmaz Arslanoglu wrote:
> I was considering too
> to utilize
> the Natural Neighbours concept, not only for nearest neighbour
> identification, but also for
> interpolating the values attributed to spatial points.

If you google for "triangulation" and "Delaunay" you'll find lots of 
references and code.

One good one to take a look at is Jonathan Shewchuk's "triangle"

http://www.cs.cmu.edu/~quake/triangle.html

It is fast, robust, and pretty easy to use -- it is a command line 
program, and can also be compiled as a library. I think it will do 
linear interpolation of values to new points for you.

It may have licensing issues -- it one of those annoying "free for 
academic use" clauses, but no standard open source license.

You also may want to take a look at ucar's ntagrid:

http://ngwww.ucar.edu/ngmath/natgrid/intro.html

> since one needs to adapt the tesellation with the newly inserted query
> point at eachnew query.

I don't think Triangle has an API for that, but it does dynamically add 
points itself when you ask it to create a "quality" triangulation, so 
you may be able to hook into that.

As I think about it, though, I'm not sure you need to do that. If you 
are linearly interpolation among your known points (that is, fitting a 
plane to the thre points of the traingle that your new point is in), you 
don't need to include an added point when doing the next one -- yes it 
might be a natural neighbor of a future point, but it will lie on teh 
same plane, so it won't change the result. If you do a fancier 
interpolation, it may make a difference.

As it happens, I need to do something very similar soon, so I'd love to 
hear what you come up with.

-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From iotc2000 at gmail.com  Fri Oct  2 14:01:16 2009
From: iotc2000 at gmail.com (iotc)
Date: Fri Oct  2 14:01:18 2009
Subject: [Gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <1254428322486-3751689.post@n2.nabble.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
	<4AC32162.505@loskot.net> <4AC496BB.6070005@loskot.net>
	<f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>
	<4AC4C0E9.6030803@loskot.net>
	<f3b73b7d0910010754i68aa463i5d225876fd2171db@mail.gmail.com>
	<1254419191623-3750840.post@n2.nabble.com>
	<1254428322486-3751689.post@n2.nabble.com>
Message-ID: <1254506476350-3756855.post@n2.nabble.com>


Mateusz and Tamas - I've got it working now too, thanks to your help, and the
suggested posts clarify a lot of issues.

I also had a quick look at these articles at
http://extended64.com/forums/p/2222/98187.aspx . It was quite sobering -
libecwjp2 and our own ocx seems littered with x64-porting pitfalls like

sprintf(buf, "%p", pointer);
Use of magic numbers like 0x7fffffff
Bit shifting operations 
Indexing in arrays with the usage of square brackets 

For now I think we'd better label our x64 build very experimental.

Your help is much appreciated!
Rob
-- 
View this message in context: http://n2.nabble.com/Looking-for-libecwj2-dll-Win-64Bit-version-tp3741096p3756855.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From seth at pricepages.org  Fri Oct  2 13:36:24 2009
From: seth at pricepages.org (Seth Price)
Date: Fri Oct  2 14:05:55 2009
Subject: [gdal-dev] Anti-Aliasing
In-Reply-To: <BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>
References: <20091002085102.6A36A12A9248@lists.osgeo.org>
	<BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>
Message-ID: <59473.129.123.22.14.1254504984.squirrel@pricepages.org>

Could you give an example of the problem? Anti-aliasing generally only
applies when you are going from vector line drawings to rasterized images.

If I was trying to smooth things I would first look at cubic or bilinear.
Any other resampling may enhance any noise in your image.
~Seth

On Fri, October 2, 2009 11:16 am, Chris Emberson wrote:
>
> I am looking for an anti-aliasing function to smooth out the pixellated
> effect between raster values. I have tried the various interpolation
> methods with gdalwarp and have also increased the resolution of the raster
> to try and minimise the effect, to no avail.
> Is this a function to be added soon?
>
> Thanks,
> Chris
>
> _________________________________________________________________
> Share your photos with Windows Live Photos ? Free.
> http://clk.atdmt.com/UKM/go/134665338/direct/01/_______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From szekerest at gmail.com  Fri Oct  2 16:49:41 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Oct  2 16:49:44 2009
Subject: [Gdal-dev] Looking for libecwj2.dll Win-64Bit version
In-Reply-To: <1254506476350-3756855.post@n2.nabble.com>
References: <870e056a0909300007gb5cdcd9t8dde7dc5cc989c0f@mail.gmail.com>
	<4AC32162.505@loskot.net> <4AC496BB.6070005@loskot.net>
	<f3b73b7d0910010740y5ef045aax329d416aeac83d8a@mail.gmail.com>
	<4AC4C0E9.6030803@loskot.net>
	<f3b73b7d0910010754i68aa463i5d225876fd2171db@mail.gmail.com>
	<1254419191623-3750840.post@n2.nabble.com>
	<1254428322486-3751689.post@n2.nabble.com>
	<1254506476350-3756855.post@n2.nabble.com>
Message-ID: <f3b73b7d0910021349yee9629bv3134ca03750f57b1@mail.gmail.com>

2009/10/2 iotc <iotc2000@gmail.com>:
>
> For now I think we'd better label our x64 build very experimental.
>

I think you don't require to mark the whole stuff as experimental just
because of the ECW driver itself. I guess you'll probably compile ECW
as a plugin and deploy those files separately and mark that package as
experimental. You would also have another good reason to do so,
because the licensing concept of the ECW SDK is a moving target ;-)


Best regards,

Tamas
From yilmaz.arslanoglu at gmail.com  Sat Oct  3 11:42:13 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Sat Oct  3 11:42:16 2009
Subject: [gdal-dev] Re: compiling GDAL with GEOS on Windows
Message-ID: <150158ad0910030842l10bf8d9ev6e4747bf1eb4eb0c@mail.gmail.com>

Yes Chris, the first one ( "triangle" ) has licensing problems,
and "natgrid" only comes with the NCL. I downloaded NCL source,
but it says that it can only be compiled for Unix environment.

Actually, Dave F. Watson's original code (which natgrid is actually based upon)
seems to do what I need, but all links to the source are inaccessible.
Do you have any
idea how to access this original code? I hope its license is also appropriate.

>As it happens, I need to do something very similar soon, so I'd love to
>hear what you come up with.

Sure, I'd be pleased to share results that I obtain and the solutions
that I hopefully
come up with.

Best regards,
Yilmaz
From simonf at simonf.com  Sun Oct  4 18:58:28 2009
From: simonf at simonf.com (Simon (Vsevolod) Ilyushchenko)
Date: Sun Oct  4 19:04:57 2009
Subject: [gdal-dev] Incorrect blank raster example in the FAQ?
Message-ID: <8c23faa70910041558l7f729131nf63303d06767ff02@mail.gmail.com>

Hi,

I'm new to gdal, so I could be very wrong about this.

When I tried to follow the example in
http://trac.osgeo.org/gdal/wiki/FAQRaster#HowcanIcreateablankrasterbasedonavectorfilesextentsforusewithgdal_rasterize
to generate a blank geotiff based on a shapefile, I got incorrect
results. Here's what I had to change to generate the correct geotiff.

Instead of:

raster_transform = [src_extent[0], px, 0.0, src_extent[3], 0.0, -px]

I used:

x_scale = (src_extent[1] - src_extent[0]) / tiff_width
y_scale = (src_extent[3] - src_extent[2]) / tiff_height
raster_transform = [src_extent[0], x_scale, 0.0, src_extent[3], 0.0, -y_scale]

I'm not using the px variable at all.

Should the answer be changed, or am I misunderstanding something?

Thanks,
Simon
From craig.leat at gmail.com  Mon Oct  5 05:09:56 2009
From: craig.leat at gmail.com (Craig Leat)
Date: Mon Oct  5 05:09:59 2009
Subject: [gdal-dev] Performance issues with gdal vrt
In-Reply-To: <1fef7d9b0910010250k235763a3k2f240d79b7797119@mail.gmail.com>
References: <1fef7d9b0910010250k235763a3k2f240d79b7797119@mail.gmail.com>
Message-ID: <1fef7d9b0910050209j66271714obef282f18e3698dd@mail.gmail.com>

Hi,

I have filed a new ticket for this:
http://trac.osgeo.org/gdal/ticket/3165

A summary of my tests with gdalinfo -mm
Processing 9 .sid files via a .vrt takes 2h:47m
Processing 9 .sid files directly takes 0h:57m
Processing 24 .tif files via a .vrt takes 0h:27m
Processing 24 .tif files directly takes 0h:9m
Working via a .vrt is approximately three times slower than working
with the tiles directly and working with .sid files is much slower
than .tif files.

Regards,

Craig
From chrisemberson at hotmail.com  Mon Oct  5 06:29:33 2009
From: chrisemberson at hotmail.com (Chris Emberson)
Date: Mon Oct  5 06:29:36 2009
Subject: [gdal-dev] Anti-Aliasing
In-Reply-To: <59473.129.123.22.14.1254504984.squirrel@pricepages.org>
References: <20091002085102.6A36A12A9248@lists.osgeo.org>
	<BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>
Message-ID: <BLU145-W387E927AD3E8EFE0FED7FA3CF0@phx.gbl>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: difference.JPG
Type: image/jpeg
Size: 6001 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091005/d0c1ca11/difference.jpe
From chaitanya.ch at gmail.com  Mon Oct  5 07:16:55 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Oct  5 07:16:58 2009
Subject: [gdal-dev] Anti-Aliasing
In-Reply-To: <BLU145-W387E927AD3E8EFE0FED7FA3CF0@phx.gbl>
References: <20091002085102.6A36A12A9248@lists.osgeo.org>
	<BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>
	<59473.129.123.22.14.1254504984.squirrel@pricepages.org>
	<BLU145-W387E927AD3E8EFE0FED7FA3CF0@phx.gbl>
Message-ID: <eb502d880910050416x59dc6effn250548a3b087718a@mail.gmail.com>

Chris,

The images look like they have a colour table instead of RGB bands.
Also, they seem to be converted from vector to raster. Correct me if I
am wrong.

Anti aliasing images with colour tables is a little more involved and
depends on the type of result required. Can you provide the source for
these images?

One method would be to convert the image into RGB, apply bilinear or
any other interpolation method, and convert it back to the colour
table from RGB. If the source is a vector, we can smooth the shapes by
using curves in place of straight lines.

On Mon, Oct 5, 2009 at 3:59 PM, Chris Emberson
<chrisemberson@hotmail.com> wrote:
> Seth,
>
> Thanks for the reply. The attached image hopefully will clarify the problem
> I am having. On the left of the image is the output I would like (I have
> produced this using a GIS). On the right is the output using mapnik and
> gdal. The problem is the pixellated effect between the raster values on the
> RHS.
>
> The GIS isn't that great as far as batch processing is concerned, hence why
> I am trying to use the GDAL utilities that ship with mapnik. The option in
> the GIS that produces the desired effect is "anti-aliasing (bilinear
> interpolation)", but it appears as though there is a more sophisticated
> smoothing algorithm being employed? I have tried running the various
> interpolation techniques with gdalwarp but none of them produce a crisp
> output. I have tried also increasing the resolution of the raster by 5x
> (both width and height) using "gdal_translate" and? "-outsize 500% 500%"
> this doesn't help either.
>
> Any suggestions gratefully received,
>
> Chris
>
>
>
>
>> Date: Fri, 2 Oct 2009 12:36:24 -0500
>> Subject: Re: [gdal-dev] Anti-Aliasing
>> From: seth@pricepages.org
>> To: chrisemberson@hotmail.com
>> CC: gdal-dev@lists.osgeo.org
>>
>> Could you give an example of the problem? Anti-aliasing generally only
>> applies when you are going from vector line drawings to rasterized images.
>>
>> If I was trying to smooth things I would first look at cubic or bilinear.
>> Any other resampling may enhance any noise in your image.
>> ~Seth
>>
>> On Fri, October 2, 2009 11:16 am, Chris Emberson wrote:
>> >
>> > I am looking for an anti-aliasing function to smooth out the pixellated
>> > effect between raster values. I have tried the various interpolation
>> > methods with gdalwarp and have also increased the resolution of the
>> > raster
>> > to try and minimise the effect, to no avail.
>> > Is this a function to be added soon?
>> >
>> > Thanks,
>> > Chris
>> >
>> > _________________________________________________________________
>> > Share your photos with Windows Live Photos ? Free.
>> >
>> > http://clk.atdmt.com/UKM/go/134665338/direct/01/_______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
> ________________________________
> New! Receive and respond to mail from other email accounts from within
> Hotmail Find out how.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
From chrisemberson at hotmail.com  Mon Oct  5 10:43:47 2009
From: chrisemberson at hotmail.com (Chris Emberson)
Date: Mon Oct  5 10:43:49 2009
Subject: [gdal-dev] Anti-Aliasing
In-Reply-To: <eb502d880910050416x59dc6effn250548a3b087718a@mail.gmail.com>
References: <20091002085102.6A36A12A9248@lists.osgeo.org>
	<BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>
Message-ID: <BLU145-W362131AB5798E57BC15855A3CF0@phx.gbl>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: bilinear.JPG
Type: image/jpeg
Size: 1839 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091005/3ff3f1cd/bilinear-0001.jpe
From nowak at xpam.de  Mon Oct  5 11:03:04 2009
From: nowak at xpam.de (Adam Nowacki)
Date: Mon Oct  5 11:21:51 2009
Subject: [gdal-dev] Anti-Aliasing
In-Reply-To: <BLU145-W362131AB5798E57BC15855A3CF0@phx.gbl>
References: <20091002085102.6A36A12A9248@lists.osgeo.org>	<BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>
	<BLU145-W362131AB5798E57BC15855A3CF0@phx.gbl>
Message-ID: <4ACA0AA8.4010808@xpam.de>

Chris Emberson wrote:
> The rasters do have colour tables applied, that are expressed using RGB 
> values, using gdaldem:
> 75%    107    0    0
> 50%    196    109    27
> 25%    247    195    72
> 0%    252    233    109
> nv    0    0    0 0
> 
> They are not derived from vector data however. I am unsure of your 
> requirement in terms of the source of the raster data. All of the pixel 
> values have been created and either fall between the values of 1-4 or 
> contain no data.
> 
> The commands I am running on the files are:
> gdal_translate -of GTiff -co "TILED=YES" -b 1 -b 1 -b 1 fileA.asc fileB.tif

Upsample fileB.tif here:
gdalwarp -r bilinear -ts newwidth newheight fileB.tif fileB2.tif
Where newwidth and newheight are a few times larger than original.

> gdaldem color-relief fileB.tif rgb.txt fileC.tif -alpha
> gdalwarp -s_srs EPSG:27700 -t_srs EPSG:900913 -r bilinear fileC.tif 
> fileD.tif
> 
> an example of how the bilinear is working (fileD.tif) can be seen in the 
> attached file. I have tried running running the gdalwarp command above 
> prior to gdaldem but this makes little difference.
> 
> TIA,
> Chris
> 
> 
> 
>  > Date: Mon, 5 Oct 2009 16:46:55 +0530
>  > Subject: Re: [gdal-dev] Anti-Aliasing
>  > From: chaitanya.ch@gmail.com
>  > To: chrisemberson@hotmail.com
>  > CC: seth@pricepages.org; gdal-dev@lists.osgeo.org
>  >
>  > Chris,
>  >
>  > The images look like they have a colour table instead of RGB bands.
>  > Also, they seem to be converted from vector to raster. Correct me if I
>  > am wrong.
>  >
>  > Anti aliasing images with colour tables is a little more involved and
>  > depends on the type of result required. Can you provide the source for
>  > these images?
>  >
>  > One method would be to convert the image into RGB, apply bilinear or
>  > any other interpolation method, and convert it back to the colour
>  > table from RGB. If the source is a vector, we can smooth the shapes by
>  > using curves in place of straight lines.
>  >
>  > On Mon, Oct 5, 2009 at 3:59 PM, Chris Emberson
>  > <chrisemberson@hotmail.com> wrote:
>  > > Seth,
>  > >
>  > > Thanks for the reply. The attached image hopefully will clarify the 
> problem
>  > > I am having. On the left of the image is the output I would like (I 
> have
>  > > produced this using a GIS). On the right is the output using mapnik and
>  > > gdal. The problem is the pixellated effect between the raster 
> values on the
>  > > RHS.
>  > >
>  > > The GIS isn't that great as far as batch processing is concerned, 
> hence why
>  > > I am trying to use the GDAL utilities that ship with mapnik. The 
> option in
>  > > the GIS that produces the desired effect is "anti-aliasing (bilinear
>  > > interpolation)", but it appears as though there is a more sophisticated
>  > > smoothing algorithm being employed? I have tried running the various
>  > > interpolation techniques with gdalwarp but none of them produce a crisp
>  > > output. I have tried also increasing the resolution of the raster by 5x
>  > > (both width and height) using "gdal_translate" and  "-outsize 500% 
> 500%"
>  > > this doesn't help either.
>  > >
>  > > Any suggestions gratefully received,
>  > >
>  > > Chris
>  > >
>  > >
>  > >
>  > >
>  > >> Date: Fri, 2 Oct 2009 12:36:24 -0500
>  > >> Subject: Re: [gdal-dev] Anti-Aliasing
>  > >> From: seth@pricepages.org
>  > >> To: chrisemberson@hotmail.com
>  > >> CC: gdal-dev@lists.osgeo.org
>  > >>
>  > >> Could you give an example of the problem? Anti-aliasing generally only
>  > >> applies when you are going from vector line drawings to rasterized 
> images.
>  > >>
>  > >> If I was trying to smooth things I would first look at cubic or 
> bilinear.
>  > >> Any other resampling may enhance any noise in your image.
>  > >> ~Seth
>  > >>
>  > >> On Fri, October 2, 2009 11:16 am, Chris Emberson wrote:
>  > >> >
>  > >> > I am looking for an anti-aliasing function to smooth out the 
> pixellated
>  > >> > effect between raster values. I have tried the various interpolation
>  > >> > methods with gdalwarp and have also increased the resolution of the
>  > >> > raster
>  > >> > to try and minimise the effect, to no avail.
>  > >> > Is this a function to be added soon?
>  > >> >
>  > >> > Thanks,
>  > >> > Chris
>  > >> >
>  > >> > _________________________________________________________________
>  > >> > Share your photos with Windows Live Photos ? Free.
>  > >> >
>  > >> > 
> http://clk.atdmt.com/UKM/go/134665338/direct/01/_______________________________________________
>  > >> > gdal-dev mailing list
>  > >> > gdal-dev@lists.osgeo.org
>  > >> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  > >>
>  > >>
>  > >
>  > > ________________________________
>  > > New! Receive and respond to mail from other email accounts from within
>  > > Hotmail Find out how.
>  > > _______________________________________________
>  > > gdal-dev mailing list
>  > > gdal-dev@lists.osgeo.org
>  > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  > >
>  >
>  >
>  >
>  > --
>  > Best regards,
>  > Chaitanya kumar CH.
> 
> ------------------------------------------------------------------------
> Add other email accounts to Hotmail in 3 easy steps. Find out how. 
> <http://clk.atdmt.com/UKM/go/167688463/direct/01/>
> ------------------------------------------------------------------------
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From derrick.hoffman at ultra-prologic.com  Mon Oct  5 11:53:38 2009
From: derrick.hoffman at ultra-prologic.com (Derrick Hoffman)
Date: Mon Oct  5 11:56:13 2009
Subject: [gdal-dev] Getting a wkt projection string
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D097C1D82@vader.prologic-inc.com>

Hello all:

 

I have a projection file that looks like this:

 

Projection    UTM

Zone          18

Datum         NAD83

Spheroid      GRS80

Units         METERS

Zunits        NO

Parameters    

_


 

 

How can I read this file in and convert it to a wkt projection string
that I can use GDALCreateReprojectionTransformer

 With?

 

Thank you :-)

 

Derrick Hoffman

Software Engineer

Pro Logic Inc.

304 333-2680 x 322

derrick.hoffman@ultra-prologic.com

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091005/671cdaa0/attachment-0001.html
From markus.reinhold at uni-jena.de  Mon Oct  5 11:39:43 2009
From: markus.reinhold at uni-jena.de (Markus Reinhold)
Date: Mon Oct  5 12:04:35 2009
Subject: [gdal-dev] Re: Incorrect blank raster example in the FAQ?
In-Reply-To: <20091005144351.22BC3E0164B@lists.osgeo.org>
References: <20091005144351.22BC3E0164B@lists.osgeo.org>
Message-ID: <4ACA133F.5010505@uni-jena.de>

Hej Simon,

> Instead of:
> 
> raster_transform = [src_extent[0], px, 0.0, src_extent[3], 0.0, -px]
> 
> I used:
> 
> x_scale = (src_extent[1] - src_extent[0]) / tiff_width
> y_scale = (src_extent[3] - src_extent[2]) / tiff_height
> raster_transform = [src_extent[0], x_scale, 0.0, src_extent[3], 0.0, -y_scale]
> 
> I'm not using the px variable at all.

There's a note on the given FAQ page <http://tinyurl.com/y9qmxsq> 
stating that a user should adjust the px variable to meet her desired 
raster resolution and dimensions. That's exactly what you've done with 
your calculations above. You've set the desired height and width of your 
result (somewhere) beforehand and calculated the corresponding raster 
resolution according to the spatial extent of the input shapefile. That 
is a fair solution, even though you may end up with a raster dataset not 
having square pixels. Which is fine, but not very common.
Calculating the size of the dataset using the desired pixel size is IMHO 
a much more frequently used concept. It could look like the following 
snippet:

# setting pixel resolution
px = 0.5

# calculating raster size from extent and desired pixel size
# using math.ceil to make it a little bit bigger than actually necessary
# equations are just transformed versions of your ones
tiff_width = int(math.ceil(abs(src_extent[0] - src_extent[1]) / px))
tiff_height = int(math.ceil(abs(src_extent[3] - src_extent[2]) / px))

# creating new raster layer
raster = gdal.GetDriverByName('GTiff')
dst_ds = raster.Create(tiff, tiff_width, tiff_height, 1, gdal.GDT_Byte)

# creating raster geo transform based on upper left corner and desired pixel
resolution
# now using a consistent pixel resolution
raster_transform = [src_extent[0], px, 0.0, src_extent[3], 0.0, - px]

I hope this will help to answer your question.
Regards,
Markus

-- 

********************************************************
Dipl.-Kartograph Markus Reinhold

Chair of Geoinformatics, Geohydrology and Modeling
Friedrich-Schiller-University Jena
L?bdergraben 32
D - 07743 Jena
Germany

Phone.: (+49)(0)3641 / 9 488 65
E-Mail: markus.reinhold@uni-jena.de
********************************************************

From chrisemberson at hotmail.com  Mon Oct  5 12:11:39 2009
From: chrisemberson at hotmail.com (Chris Emberson)
Date: Mon Oct  5 12:11:41 2009
Subject: [gdal-dev] Anti-Aliasing
In-Reply-To: <4ACA0AA8.4010808@xpam.de>
References: <20091002085102.6A36A12A9248@lists.osgeo.org>
	<BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>
	<BLU145-W362131AB5798E57BC15855A3CF0@phx.gbl>
	<4ACA0AA8.4010808@xpam.de>
Message-ID: <BLU145-W18B7086BAC77A78669024A3CF0@phx.gbl>


Thanks for the reply. This does improve the output (cubicspline works best), but still not great. So I increased the raster size by 10x and end up with an output of 500mb in size, which is difficult to work with.

Any other suggestions gratefully received.


> Date: Mon, 5 Oct 2009 17:03:04 +0200
> From: nowak@xpam.de
> To: chrisemberson@hotmail.com
> CC: chaitanya.ch@gmail.com; gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Anti-Aliasing
> 
> Chris Emberson wrote:
> > The rasters do have colour tables applied, that are expressed using RGB 
> > values, using gdaldem:
> > 75%    107    0    0
> > 50%    196    109    27
> > 25%    247    195    72
> > 0%    252    233    109
> > nv    0    0    0 0
> > 
> > They are not derived from vector data however. I am unsure of your 
> > requirement in terms of the source of the raster data. All of the pixel 
> > values have been created and either fall between the values of 1-4 or 
> > contain no data.
> > 
> > The commands I am running on the files are:
> > gdal_translate -of GTiff -co "TILED=YES" -b 1 -b 1 -b 1 fileA.asc fileB.tif
> 
> Upsample fileB.tif here:
> gdalwarp -r bilinear -ts newwidth newheight fileB.tif fileB2.tif
> Where newwidth and newheight are a few times larger than original.
> 
> > gdaldem color-relief fileB.tif rgb.txt fileC.tif -alpha
> > gdalwarp -s_srs EPSG:27700 -t_srs EPSG:900913 -r bilinear fileC.tif 
> > fileD.tif
> > 
> > an example of how the bilinear is working (fileD.tif) can be seen in the 
> > attached file. I have tried running running the gdalwarp command above 
> > prior to gdaldem but this makes little difference.
> > 
> > TIA,
> > Chris
> > 
> > 
> > 
> >  > Date: Mon, 5 Oct 2009 16:46:55 +0530
> >  > Subject: Re: [gdal-dev] Anti-Aliasing
> >  > From: chaitanya.ch@gmail.com
> >  > To: chrisemberson@hotmail.com
> >  > CC: seth@pricepages.org; gdal-dev@lists.osgeo.org
> >  >
> >  > Chris,
> >  >
> >  > The images look like they have a colour table instead of RGB bands.
> >  > Also, they seem to be converted from vector to raster. Correct me if I
> >  > am wrong.
> >  >
> >  > Anti aliasing images with colour tables is a little more involved and
> >  > depends on the type of result required. Can you provide the source for
> >  > these images?
> >  >
> >  > One method would be to convert the image into RGB, apply bilinear or
> >  > any other interpolation method, and convert it back to the colour
> >  > table from RGB. If the source is a vector, we can smooth the shapes by
> >  > using curves in place of straight lines.
> >  >
> >  > On Mon, Oct 5, 2009 at 3:59 PM, Chris Emberson
> >  > <chrisemberson@hotmail.com> wrote:
> >  > > Seth,
> >  > >
> >  > > Thanks for the reply. The attached image hopefully will clarify the 
> > problem
> >  > > I am having. On the left of the image is the output I would like (I 
> > have
> >  > > produced this using a GIS). On the right is the output using mapnik and
> >  > > gdal. The problem is the pixellated effect between the raster 
> > values on the
> >  > > RHS.
> >  > >
> >  > > The GIS isn't that great as far as batch processing is concerned, 
> > hence why
> >  > > I am trying to use the GDAL utilities that ship with mapnik. The 
> > option in
> >  > > the GIS that produces the desired effect is "anti-aliasing (bilinear
> >  > > interpolation)", but it appears as though there is a more sophisticated
> >  > > smoothing algorithm being employed? I have tried running the various
> >  > > interpolation techniques with gdalwarp but none of them produce a crisp
> >  > > output. I have tried also increasing the resolution of the raster by 5x
> >  > > (both width and height) using "gdal_translate" and  "-outsize 500% 
> > 500%"
> >  > > this doesn't help either.
> >  > >
> >  > > Any suggestions gratefully received,
> >  > >
> >  > > Chris
> >  > >
> >  > >
> >  > >
> >  > >
> >  > >> Date: Fri, 2 Oct 2009 12:36:24 -0500
> >  > >> Subject: Re: [gdal-dev] Anti-Aliasing
> >  > >> From: seth@pricepages.org
> >  > >> To: chrisemberson@hotmail.com
> >  > >> CC: gdal-dev@lists.osgeo.org
> >  > >>
> >  > >> Could you give an example of the problem? Anti-aliasing generally only
> >  > >> applies when you are going from vector line drawings to rasterized 
> > images.
> >  > >>
> >  > >> If I was trying to smooth things I would first look at cubic or 
> > bilinear.
> >  > >> Any other resampling may enhance any noise in your image.
> >  > >> ~Seth
> >  > >>
> >  > >> On Fri, October 2, 2009 11:16 am, Chris Emberson wrote:
> >  > >> >
> >  > >> > I am looking for an anti-aliasing function to smooth out the 
> > pixellated
> >  > >> > effect between raster values. I have tried the various interpolation
> >  > >> > methods with gdalwarp and have also increased the resolution of the
> >  > >> > raster
> >  > >> > to try and minimise the effect, to no avail.
> >  > >> > Is this a function to be added soon?
> >  > >> >
> >  > >> > Thanks,
> >  > >> > Chris
> >  > >> >
> >  > >> > _________________________________________________________________
> >  > >> > Share your photos with Windows Live Photos ? Free.
> >  > >> >
> >  > >> > 
> > http://clk.atdmt.com/UKM/go/134665338/direct/01/_______________________________________________
> >  > >> > gdal-dev mailing list
> >  > >> > gdal-dev@lists.osgeo.org
> >  > >> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >  > >>
> >  > >>
> >  > >
> >  > > ________________________________
> >  > > New! Receive and respond to mail from other email accounts from within
> >  > > Hotmail Find out how.
> >  > > _______________________________________________
> >  > > gdal-dev mailing list
> >  > > gdal-dev@lists.osgeo.org
> >  > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >  > >
> >  >
> >  >
> >  >
> >  > --
> >  > Best regards,
> >  > Chaitanya kumar CH.
> > 
> > ------------------------------------------------------------------------
> > Add other email accounts to Hotmail in 3 easy steps. Find out how. 
> > <http://clk.atdmt.com/UKM/go/167688463/direct/01/>
> > ------------------------------------------------------------------------
> > 
> > 
> > ------------------------------------------------------------------------
> > 
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
 		 	   		  
_________________________________________________________________
Use Hotmail to send and receive mail from your different email accounts.
http://clk.atdmt.com/UKM/go/167688463/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091005/bc183826/attachment.html
From Chris.Barker at noaa.gov  Mon Oct  5 12:49:01 2009
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon Oct  5 12:48:26 2009
Subject: [gdal-dev] Anti-Aliasing
In-Reply-To: <BLU145-W362131AB5798E57BC15855A3CF0@phx.gbl>
References: <20091002085102.6A36A12A9248@lists.osgeo.org>
	<BLU145-W31C950948F0C61D3B2CA84A3D20@phx.gbl>
	<BLU145-W362131AB5798E57BC15855A3CF0@phx.gbl>
Message-ID: <4ACA237D.50802@noaa.gov>

Chris Emberson wrote:
> The rasters do have colour tables applied, that are expressed using RGB 
> values, using gdaldem:
> 75%    107    0    0
> 50%    196    109    27
> 25%    247    195    72
> 0%    252    233    109
> nv    0    0    0 0
> 
> They are not derived from vector data however. I am unsure of your 
> requirement in terms of the source of the raster data. All of the pixel 
> values have been created and either fall between the values of 1-4 or 
> contain no data.

This is your problem -- gdal only does nearest-neighbor when working 
with palleted images -- you can't get a smoother result without adding 
the in-between colors.

I think recent versions of GDAL had some code added to convert to RBG.

untested, but using gdal_translate, with the "-expand rgb" flag may do 
it. Then use gdalwarp on the resulting image.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From even.rouault at mines-paris.org  Mon Oct  5 14:18:13 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct  5 14:18:16 2009
Subject: [gdal-dev] Incorrect blank raster example in the FAQ?
In-Reply-To: <8c23faa70910041558l7f729131nf63303d06767ff02@mail.gmail.com>
References: <8c23faa70910041558l7f729131nf63303d06767ff02@mail.gmail.com>
Message-ID: <1254766693.4aca38652a0b2@imp.free.fr>

Selon "Simon (Vsevolod) Ilyushchenko" <simonf@simonf.com>:

Yes, your proposal is better and deals with non-square pixel. So I've changed
the wiki page accordingly. Thanks!

> Hi,
>
> I'm new to gdal, so I could be very wrong about this.
>
> When I tried to follow the example in
>
http://trac.osgeo.org/gdal/wiki/FAQRaster#HowcanIcreateablankrasterbasedonavectorfilesextentsforusewithgdal_rasterize
> to generate a blank geotiff based on a shapefile, I got incorrect
> results. Here's what I had to change to generate the correct geotiff.
>
> Instead of:
>
> raster_transform = [src_extent[0], px, 0.0, src_extent[3], 0.0, -px]
>
> I used:
>
> x_scale = (src_extent[1] - src_extent[0]) / tiff_width
> y_scale = (src_extent[3] - src_extent[2]) / tiff_height
> raster_transform = [src_extent[0], x_scale, 0.0, src_extent[3], 0.0,
> -y_scale]
>
> I'm not using the px variable at all.
>
> Should the answer be changed, or am I misunderstanding something?
>
> Thanks,
> Simon
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From da at donnellandallred.com  Mon Oct  5 15:48:46 2009
From: da at donnellandallred.com (David Anderson)
Date: Mon Oct  5 16:02:22 2009
Subject: [gdal-dev] Getting a wkt projection string
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D097C1D82@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730D097C1D82@vader.prologic-inc.com>
Message-ID: <96EB34DF9A4D98499087BB0C701AC0FE0F5464@pe2800.office.local>

You should be able to do this pretty easily.  See
http://www.gdal.org/ogr/osr_tutorial.html for some help.  Once you've
set your coordinate system, use exportToWkt
<http://www.gdal.org/ogr/classOGRSpatialReference.html#596b8e527d66a5054
408159f0006fdac>  this to get it out as wkt.

 

David Anderson, P.E.

Donnell & Allred, Inc.

908 Big Horn Ave

P.O. Box 638

Worland, WY  82401

307-347-8276

307-347-8277 fax

da@donnellandallred.com

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Derrick Hoffman
Sent: Monday, October 05, 2009 9:54 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Getting a wkt projection string

 

Hello all:

 

I have a projection file that looks like this:

 

Projection    UTM

Zone          18

Datum         NAD83

Spheroid      GRS80

Units         METERS

Zunits        NO

Parameters    

_


 

 

How can I read this file in and convert it to a wkt projection string
that I can use GDALCreateReprojectionTransformer

 With?

 

Thank you J

 

Derrick Hoffman

Software Engineer

Pro Logic Inc.

304 333-2680 x 322

derrick.hoffman@ultra-prologic.com

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091005/2253b82c/attachment-0001.html
From markus.reinhold at uni-jena.de  Mon Oct  5 17:39:58 2009
From: markus.reinhold at uni-jena.de (leaffan)
Date: Mon Oct  5 17:40:00 2009
Subject: [Gdal-dev] Incorrect blank raster example in the FAQ?
In-Reply-To: <1254766693.4aca38652a0b2@imp.free.fr>
References: <8c23faa70910041558l7f729131nf63303d06767ff02@mail.gmail.com>
	<1254766693.4aca38652a0b2@imp.free.fr>
Message-ID: <1254778798608-3771824.post@n2.nabble.com>


Hej again,


Even Rouault wrote:
> 
> Selon "Simon (Vsevolod) Ilyushchenko" <simonf@simonf.com>:
> 
> Yes, your proposal is better and deals with non-square pixel. So I've
> changed
> the wiki page accordingly. Thanks!
> 

the consideration of non-squared pixels could have been easily be included
in the previous wiki example as well. All one would have had to do is
changing it the following way:

# setting pixel resolution (for example)
xres = 0.5
yres = 0.75

# calculating resulting raster size from extent and desired pixel size
# using math.ceil to make it a little bit bigger than actually necessary
tiff_width = int(math.ceil(abs(src_extent[0] - src_extent[1]) / xres))
tiff_height = int(math.ceil(abs(src_extent[3] - src_extent[2]) / yres))

# creating new raster layer
raster = gdal.GetDriverByName('GTiff')
dst_ds = raster.Create(tiff, tiff_width, tiff_height, 1, gdal.GDT_Byte)

# creating raster geo transform based on upper left corner and desired pixel
# resolution and assigning it to raster dataset
# now dealing with non-squared pixels
raster_transform = [src_extent[0], xres, 0.0, src_extent[3], 0.0, -yres]
dst_ds.SetGeoTransform(raster_transform)

I still beg to differ to that defining the dimensions of the resulting
raster dataset is the setting to be primarily adjusted when converting
vector to raster data. Aliasing and the general *accuracy* of the raster
representation are first and foremost influenced by the pixel resolution,
which in turns determines the size of my resulting dataset. When doing
vector to raster conversions in the past, I have never thought of how large
my result needs to be, but always questioned myself how to define the pixel
resolution to i.e. avoid nasty aliasing effects on diagonal lines.
But that's just my experience and opinion of course.
Regards,
Markus

-- 

********************************************************
Dipl.-Kartograph Markus Reinhold

Chair of Geoinformatics, Geohydrology and Modeling
Friedrich-Schiller-University Jena
L?bdergraben 32
D - 07743 Jena
Germany

Phone.: (+49)(0)3641 / 9 488 65
E-Mail: markus.reinhold@uni-jena.de
********************************************************

-- 
View this message in context: http://n2.nabble.com/Incorrect-blank-raster-example-in-the-FAQ-tp3765775p3771824.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Mon Oct  5 18:10:09 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct  5 18:10:12 2009
Subject: [Gdal-dev] Incorrect blank raster example in the FAQ?
In-Reply-To: <1254778798608-3771824.post@n2.nabble.com>
References: <8c23faa70910041558l7f729131nf63303d06767ff02@mail.gmail.com>
	<1254766693.4aca38652a0b2@imp.free.fr>
	<1254778798608-3771824.post@n2.nabble.com>
Message-ID: <1254780609.4aca6ec1e6cc8@imp.free.fr>

Selon leaffan <markus.reinhold@uni-jena.de>:

I actually missed your first post before changing the example, but your
arguments make sense. You're free to improve the page with your variant also :
it's a wiki !

Dimensions, spatial extent and resolutions are all linked between them, so there
are different point of views possible like the various gdalwarp options show :
-tr to set the resolution, or -ts to set the output size.

>
> Hej again,
>
>
> Even Rouault wrote:
> >
> > Selon "Simon (Vsevolod) Ilyushchenko" <simonf@simonf.com>:
> >
> > Yes, your proposal is better and deals with non-square pixel. So I've
> > changed
> > the wiki page accordingly. Thanks!
> >
>
> the consideration of non-squared pixels could have been easily be included
> in the previous wiki example as well. All one would have had to do is
> changing it the following way:
>
> # setting pixel resolution (for example)
> xres = 0.5
> yres = 0.75
>
> # calculating resulting raster size from extent and desired pixel size
> # using math.ceil to make it a little bit bigger than actually necessary
> tiff_width = int(math.ceil(abs(src_extent[0] - src_extent[1]) / xres))
> tiff_height = int(math.ceil(abs(src_extent[3] - src_extent[2]) / yres))
>
> # creating new raster layer
> raster = gdal.GetDriverByName('GTiff')
> dst_ds = raster.Create(tiff, tiff_width, tiff_height, 1, gdal.GDT_Byte)
>
> # creating raster geo transform based on upper left corner and desired pixel
> # resolution and assigning it to raster dataset
> # now dealing with non-squared pixels
> raster_transform = [src_extent[0], xres, 0.0, src_extent[3], 0.0, -yres]
> dst_ds.SetGeoTransform(raster_transform)
>
> I still beg to differ to that defining the dimensions of the resulting
> raster dataset is the setting to be primarily adjusted when converting
> vector to raster data. Aliasing and the general *accuracy* of the raster
> representation are first and foremost influenced by the pixel resolution,
> which in turns determines the size of my resulting dataset. When doing
> vector to raster conversions in the past, I have never thought of how large
> my result needs to be, but always questioned myself how to define the pixel
> resolution to i.e. avoid nasty aliasing effects on diagonal lines.
> But that's just my experience and opinion of course.
> Regards,
> Markus
>
> --
>
> ********************************************************
> Dipl.-Kartograph Markus Reinhold
>
> Chair of Geoinformatics, Geohydrology and Modeling
> Friedrich-Schiller-University Jena
> L??bdergraben 32
> D - 07743 Jena
> Germany
>
> Phone.: (+49)(0)3641 / 9 488 65
> E-Mail: markus.reinhold@uni-jena.de
> ********************************************************
>
> --
> View this message in context:
>
http://n2.nabble.com/Incorrect-blank-raster-example-in-the-FAQ-tp3765775p3771824.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From simon at spatialdbadvisor.com  Tue Oct  6 02:22:02 2009
From: simon at spatialdbadvisor.com (Simon Greener)
Date: Tue Oct  6 02:23:38 2009
Subject: [gdal-dev] ogr2ogr MapInfo Tab + Styling
In-Reply-To: <op.u01vdcb1zbn0g9@spdba>
References: <op.u01oydgyzbn0g9@spdba>
	<F32AFE55E96AE743AC9BAB63C69D812D20333C@regisdc01.perth.regis.local>
	<op.u01vdcb1zbn0g9@spdba>
Message-ID: <op.u1c7y0idzbn0g9@spdba>

Folks, after much hassles and pain it came down to version.

I was running OGR/GDAL version 1.5: after I upgraded to 1.6.2 the styling started to work.

I wish to publicly thank Dale Harris for having spent quite a bit of time with me nutting this one out.

regards
Simon
On Wed, 30 Sep 2009 13:16:14 +1000, Simon Greener <simon@spatialdbadvisor.com> wrote:

> Dale,
>
> Thanks for taking the time to respond.
>
>> Try this symbol definition. I vaguely remember having this issue and I used this symbol to fix it.
>>
>> 'SYMBOL(a:0,c:#ff0000,s:6pt,id:"mapinfo-sym-34.ogr-sym-4")'
>>
>> so
>>
>> create or replace view vw_australian_cities
>> as
>> select rownum as rid,
>>         a.abbr as abbreviation,
>>         a.city_name,
>>         a.geom.Get_WKB() as geom,
>>         CAST('SYMBOL(a:0,c:#ff0000,s:6pt,id:"mapinfo-sym-34.ogr-sym-4")' as varchar2(255)) as OGR_STYLE
>>    from australian_cities a;
>
> I tried this but it didn't work. I also tried putting a comma ',' instead of a full stop '.'  between the mapinfo-sym34 and ogr-sym-4 but that didn't work either.
>
> If you can remember more clearly what you did to get it work I would appreciate it.
>
> regards
> SImon


-- 
SpatialDB Advice and Design, Solutions Architecture and Programming,
Oracle Database 10g Administrator Certified Associate; Oracle Database 10g SQL Certified Professional
Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME, Radius Topology and Studio Specialist.
39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
Website: www.spatialdbadvisor.com
   Email: simon@spatialdbadvisor.com
   Voice: +61 362 396397
Mobile: +61 418 396391
Skype: sggreener
Longitude: 147.20515 (147? 12' 18" E)
Latitude: -43.01530 (43? 00' 55" S)
GeoHash: r22em9r98wg
NAC:W80CK 7SWP3
From warmerdam at pobox.com  Tue Oct  6 22:41:22 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct  6 22:41:36 2009
Subject: [gdal-dev] Re: FW: Annotations from S-57 Files
In-Reply-To: <269101ca46a0$b9928760$2cb79620$@com>
References: <269101ca46a0$b9928760$2cb79620$@com>
Message-ID: <4ACBFFD2.6030804@pobox.com>

Michael Childs wrote:
  > I am using the S57Reader class to read in S-57 data files and a user has
> reported that while applications like SeeMyEnc show annotation points 
> with text, I cannot seem to find any returned features that include 
> those annotations. There is a sample data file at 
> http://www.globalmapper.com/Incoming/1I5LQQJ4.zip which has an 
> annotation that is not coming in as a point feature (see screenshot at 
> http://www.globalmapper.com/Incoming/SeeMyENC_DuckLake.jpg).

Mike,

I have inspected the file, and if I run ogrinfo on it with debug I see:

  S57: Unable to find definition for OBJL=22001
  S57: Unable to find definition for OBJL=22010

It appears it has two S-57 object classes that don't appear in the
specification (or at least the older specification I worked from).

I see there is a layer called "Generic" which seems to have these objects
but without extended object attributes like the text.  I assume these include
your annotation objects.

I would suggest you dig into the S-57/ENC specifications and look for updated
object catalogs and use them to extend gdal/data/s57objectclasses.csv to
include these new classes.  If you can feed these back into GDAL as a ticket
and patch that would be fantastic.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From randyqiuxy at hotmail.com  Wed Oct  7 01:24:37 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Wed Oct  7 01:24:41 2009
Subject: [gdal-dev] ogrinfo ends its work as soon as it starts
Message-ID: <BLU137-DS1CA7AA875D7849730B5C2C3CD0@phx.gbl>

Hi list,

I want to get all fields and their corresponding values of a feature by
using function:"OGRFeature::GetFieldAsString()". Then, I got 

RCID 7

PRIM 1

GRUP 2

OBJL 9

RVER 1

AGEN 550

FIND 143752687

FIDS 2738

LNAM 022608917DEF0AB2

LNAM_REFS (1:022608917DD60AB2)

...

But I fail to retrieve feature's attribute field. For instance, when I got a
"WRECKS" which was indicated by "OBJL = 159", I should be able to get its
attribute field like

CATWRK = .

QUASOU = .

WATLEV = .

Under Mr Chaitanya's guidance, I set environment variable OGR_S57_OPTIONS =
"RETURN_LINKAGES=ON,RETURN_PRIMITIVE=ON,RETURN_REFS=ON", but it doesn't work
very well and I still got nothing relevant attribute field info.

Therefore, I doubt there is something wrong with my ENC file and want to use
"ogrinfo.exe" for testing. However, the window disappear as soon as it
appear when I dblclick it and so does some other application like
gdalwarp.exe.

Anyone could give me suggestion?

Best Regards,

Randy

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091007/fafe2f25/attachment.html
From Jukka.Rahkonen at mmmtike.fi  Wed Oct  7 02:48:20 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Wed Oct  7 02:48:23 2009
Subject: [gdal-dev] Re: Fastest vector format for combining shapefiles
Message-ID: <CC197224AC75CE4DB23F739B16891B86018795F5@tikka.haapa.mmm.fi>

Jukka Rahkonen writes:

> 
> Hi,
> 
> I am combining some GIS data where each layer is divided to around
thousand
> separare shapefiles by mapsheets. Now I would like to store all the
35000
> shapefiles to something that is more easy to handle. At first pushing
each layer
> to own Spatialite database feeled perfect, but I have problems with
one layer
> which has rather lot of data. Appending shapefiles one by one to
Spatialite
> database gets too slow after the database file has reached a size of
around 6
> gigabytes. Up till 3-4 gigabyte file size appending data to Spatialite
is pretty
> fast and because it is a database I guess I will use that for small
layers.  But
> what might be the fastest vector format that ogr supports to collect
the big
> layer (thousand shapefiles with total size of about 10 gigabytes)
together?  I
> would prefer some file based format because data goes to long-time
storage, but
> I can use Oracle or PostGIS in between if it is faster to do the
conversion in
> two steps.  What is recommended? Shapefiles, MapInfo tab, Oracle,
PostGIS or
> something else?

I can tell now that shapefile format is not suitable at all. The shp
part can 
obviously not go over 2 GB limit because after that ogr2ogr throws 
these error messages:
ERROR 1: Error in psSHP->sHooks.FSeek() or fwrite() writing object to
.shp file.  

Dbf seems not to have such size limit because it grew up till 32
gigabytes.
I will try MapInfo tab before I believe that it is just best to keep the
1000
shapefiles or upload them all to PostGIS.

-Jukka-
From no-reply at neogeo-online.net  Wed Oct  7 03:05:58 2009
From: no-reply at neogeo-online.net (Guillaume Sueur)
Date: Wed Oct  7 03:06:04 2009
Subject: [gdal-dev] Re: Fastest vector format for combining shapefiles
In-Reply-To: <CC197224AC75CE4DB23F739B16891B86018795F5@tikka.haapa.mmm.fi>
References: <CC197224AC75CE4DB23F739B16891B86018795F5@tikka.haapa.mmm.fi>
Message-ID: <1254899158.5080.8.camel@guillaume-desktop>

Hi,

Interesting topic !
The most efficient way is the one which will fit your needs the best.
Forget the OneShape idea, but I think you can either have a database
approach (either PostGIS or Oracle) or a file approach (your thousands
of shapefiles).
It depends on what you have to do with data and how you will retrieve
it. If you plan to do attribute queries, classifications and filtering,
go for a database, as it is a database job to extract data fastly.
If you display/draw/use at once all the content of your data, the file
approach will be the best. Note that you can optimize Shapefiles by
creating a spatial index on them (shptree command) and a global index of
your set (with ogrtindex, look
here :http://mapserver.org/optimization/tileindex.html). It will be much
easier to handle with such a global file pointing to your various files.
You can even index that one with shptree too. 
But it can be hard to manage when your data gets updated...

My 2 cents,

Guillaume

Le mercredi 07 octobre 2009 ? 09:48 +0300, Rahkonen Jukka a ?crit :
> Jukka Rahkonen writes:
> 
> > 
> > Hi,
> > 
> > I am combining some GIS data where each layer is divided to around
> thousand
> > separare shapefiles by mapsheets. Now I would like to store all the
> 35000
> > shapefiles to something that is more easy to handle. At first pushing
> each layer
> > to own Spatialite database feeled perfect, but I have problems with
> one layer
> > which has rather lot of data. Appending shapefiles one by one to
> Spatialite
> > database gets too slow after the database file has reached a size of
> around 6
> > gigabytes. Up till 3-4 gigabyte file size appending data to Spatialite
> is pretty
> > fast and because it is a database I guess I will use that for small
> layers.  But
> > what might be the fastest vector format that ogr supports to collect
> the big
> > layer (thousand shapefiles with total size of about 10 gigabytes)
> together?  I
> > would prefer some file based format because data goes to long-time
> storage, but
> > I can use Oracle or PostGIS in between if it is faster to do the
> conversion in
> > two steps.  What is recommended? Shapefiles, MapInfo tab, Oracle,
> PostGIS or
> > something else?
> 
> I can tell now that shapefile format is not suitable at all. The shp
> part can 
> obviously not go over 2 GB limit because after that ogr2ogr throws 
> these error messages:
> ERROR 1: Error in psSHP->sHooks.FSeek() or fwrite() writing object to
> .shp file.  
> 
> Dbf seems not to have such size limit because it grew up till 32
> gigabytes.
> I will try MapInfo tab before I believe that it is just best to keep the
> 1000
> shapefiles or upload them all to PostGIS.
> 
> -Jukka-
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

From Jukka.Rahkonen at mmmtike.fi  Wed Oct  7 04:09:37 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Wed Oct  7 04:09:40 2009
Subject: VS: [gdal-dev] Re: Fastest vector format for combining shapefiles
In-Reply-To: <1254899158.5080.8.camel@guillaume-desktop>
References: <CC197224AC75CE4DB23F739B16891B86018795F5@tikka.haapa.mmm.fi>
	<1254899158.5080.8.camel@guillaume-desktop>
Message-ID: <CC197224AC75CE4DB23F739B16891B86018795FB@tikka.haapa.mmm.fi>

Hi,

Maybe I need to clarify a bit my aim. This is huge dataset with hundreds of layers and we do not use actively all of them.  The layers we need we will insert to Oracle database but it is a managed, hosted production system and it is far too expensive to use it as a backyard storage shed.  What I need is a handy storege where I can easily take out the layers I need. A possibility to use a spatial window for the excerpt would be a nice benefit. Up till 4-6 gigabytes file size Spatialite seems to be about optimal solution.  It is a real database that supports queries but still all the data is stored in a one transferable file. It is much more complicated with, let's say Oracle or PostGIS, you can't just write the database on a CD or DVD and send it for your customer.

Most probably I will split the big layer to two or three chunks and write them to separate Spatialite files.

-Jukka-

Guillaume Sueur wrote:

> 
> Hi,
> 
> Interesting topic !
> The most efficient way is the one which will fit your needs the best.
> Forget the OneShape idea, but I think you can either have a 
> database approach (either PostGIS or Oracle) or a file 
> approach (your thousands of shapefiles).
> It depends on what you have to do with data and how you will 
> retrieve it. If you plan to do attribute queries, 
> classifications and filtering, go for a database, as it is a 
> database job to extract data fastly.
> If you display/draw/use at once all the content of your data, 
> the file approach will be the best. Note that you can 
> optimize Shapefiles by creating a spatial index on them 
> (shptree command) and a global index of your set (with 
> ogrtindex, look here 
> :http://mapserver.org/optimization/tileindex.html). It will 
> be much easier to handle with such a global file pointing to 
> your various files.
> You can even index that one with shptree too. 
> But it can be hard to manage when your data gets updated...
> 
> My 2 cents,
> 
> Guillaume
> 
> Le mercredi 07 octobre 2009 ? 09:48 +0300, Rahkonen Jukka a ?crit :
> > Jukka Rahkonen writes:
> > 
> > > 
> > > Hi,
> > > 
> > > I am combining some GIS data where each layer is divided to around
> > thousand
> > > separare shapefiles by mapsheets. Now I would like to 
> store all the
> > 35000
> > > shapefiles to something that is more easy to handle. At first 
> > > pushing
> > each layer
> > > to own Spatialite database feeled perfect, but I have 
> problems with
> > one layer
> > > which has rather lot of data. Appending shapefiles one by one to
> > Spatialite
> > > database gets too slow after the database file has 
> reached a size of
> > around 6
> > > gigabytes. Up till 3-4 gigabyte file size appending data to 
> > > Spatialite
> > is pretty
> > > fast and because it is a database I guess I will use that 
> for small
> > layers.  But
> > > what might be the fastest vector format that ogr supports 
> to collect
> > the big
> > > layer (thousand shapefiles with total size of about 10 gigabytes)
> > together?  I
> > > would prefer some file based format because data goes to long-time
> > storage, but
> > > I can use Oracle or PostGIS in between if it is faster to do the
> > conversion in
> > > two steps.  What is recommended? Shapefiles, MapInfo tab, Oracle,
> > PostGIS or
> > > something else?
> > 
> > I can tell now that shapefile format is not suitable at 
> all. The shp 
> > part can obviously not go over 2 GB limit because after 
> that ogr2ogr 
> > throws these error messages:
> > ERROR 1: Error in psSHP->sHooks.FSeek() or fwrite() writing 
> object to 
> > .shp file.
> > 
> > Dbf seems not to have such size limit because it grew up till 32 
> > gigabytes.
> > I will try MapInfo tab before I believe that it is just 
> best to keep 
> > the 1000 shapefiles or upload them all to PostGIS.
> > 
> > -Jukka-
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > 
> 
> 
From P.Halls at york.ac.uk  Wed Oct  7 04:18:13 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Wed Oct  7 04:18:17 2009
Subject: VS: [gdal-dev] Re: Fastest vector format for combining shapefiles
In-Reply-To: <CC197224AC75CE4DB23F739B16891B86018795FB@tikka.haapa.mmm.fi>
References: <CC197224AC75CE4DB23F739B16891B86018795F5@tikka.haapa.mmm.fi>	<1254899158.5080.8.camel@guillaume-desktop>
	<CC197224AC75CE4DB23F739B16891B86018795FB@tikka.haapa.mmm.fi>
Message-ID: <4ACC4EC5.8080308@york.ac.uk>

Perhaps, although not yet supported by GDAL because publication of the format is 
not due until 2010, the new ESRI File geodatabase might be something to explore. 
  This is limited only be any operating system restrictions on size and appears 
to be replacing the shapefile in due course.  However, I would worry about 
storing the sort of volumes of data you describe in these sort of formats 
because the size involved will always introduce manipulation issues.

If you need to be able to 'dump' chunks of your data holdings for customers, do 
these have to be on physical media?  For example, in Oracle (and probably 
PostGIS) you could create a view specific to the customer and then use a web 
service to deliver the data to the customer.  Maybe that is something to ponder.

Best wishes,

Peter

Rahkonen Jukka wrote:
> Hi,
> 
> Maybe I need to clarify a bit my aim. This is huge dataset with hundreds of layers and we do not use actively all of them.  The layers we need we will insert to Oracle database but it is a managed, hosted production system and it is far too expensive to use it as a backyard storage shed.  What I need is a handy storege where I can easily take out the layers I need. A possibility to use a spatial window for the excerpt would be a nice benefit. Up till 4-6 gigabytes file size Spatialite seems to be about optimal solution.  It is a real database that supports queries but still all the data is stored in a one transferable file. It is much more complicated with, let's say Oracle or PostGIS, you can't just write the database on a CD or DVD and send it for your customer.
> 
> Most probably I will split the big layer to two or three chunks and write them to separate Spatialite files.
> 
> -Jukka-
> 
> Guillaume Sueur wrote:
> 
>> Hi,
>>
>> Interesting topic !
>> The most efficient way is the one which will fit your needs the best.
>> Forget the OneShape idea, but I think you can either have a 
>> database approach (either PostGIS or Oracle) or a file 
>> approach (your thousands of shapefiles).
>> It depends on what you have to do with data and how you will 
>> retrieve it. If you plan to do attribute queries, 
>> classifications and filtering, go for a database, as it is a 
>> database job to extract data fastly.
>> If you display/draw/use at once all the content of your data, 
>> the file approach will be the best. Note that you can 
>> optimize Shapefiles by creating a spatial index on them 
>> (shptree command) and a global index of your set (with 
>> ogrtindex, look here 
>> :http://mapserver.org/optimization/tileindex.html). It will 
>> be much easier to handle with such a global file pointing to 
>> your various files.
>> You can even index that one with shptree too. 
>> But it can be hard to manage when your data gets updated...
>>
>> My 2 cents,
>>
>> Guillaume
>>
>> Le mercredi 07 octobre 2009 ? 09:48 +0300, Rahkonen Jukka a ?crit :
>>> Jukka Rahkonen writes:
>>>
>>>> Hi,
>>>>
>>>> I am combining some GIS data where each layer is divided to around
>>> thousand
>>>> separare shapefiles by mapsheets. Now I would like to 
>> store all the
>>> 35000
>>>> shapefiles to something that is more easy to handle. At first 
>>>> pushing
>>> each layer
>>>> to own Spatialite database feeled perfect, but I have 
>> problems with
>>> one layer
>>>> which has rather lot of data. Appending shapefiles one by one to
>>> Spatialite
>>>> database gets too slow after the database file has 
>> reached a size of
>>> around 6
>>>> gigabytes. Up till 3-4 gigabyte file size appending data to 
>>>> Spatialite
>>> is pretty
>>>> fast and because it is a database I guess I will use that 
>> for small
>>> layers.  But
>>>> what might be the fastest vector format that ogr supports 
>> to collect
>>> the big
>>>> layer (thousand shapefiles with total size of about 10 gigabytes)
>>> together?  I
>>>> would prefer some file based format because data goes to long-time
>>> storage, but
>>>> I can use Oracle or PostGIS in between if it is faster to do the
>>> conversion in
>>>> two steps.  What is recommended? Shapefiles, MapInfo tab, Oracle,
>>> PostGIS or
>>>> something else?
>>> I can tell now that shapefile format is not suitable at 
>> all. The shp 
>>> part can obviously not go over 2 GB limit because after 
>> that ogr2ogr 
>>> throws these error messages:
>>> ERROR 1: Error in psSHP->sHooks.FSeek() or fwrite() writing 
>> object to 
>>> .shp file.
>>>
>>> Dbf seems not to have such size limit because it grew up till 32 
>>> gigabytes.
>>> I will try MapInfo tab before I believe that it is just 
>> best to keep 
>>> the 1000 shapefiles or upload them all to PostGIS.
>>>
>>> -Jukka-
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From julien.michel at c-s.fr  Wed Oct  7 04:49:31 2009
From: julien.michel at c-s.fr (Julien Michel)
Date: Wed Oct  7 05:30:17 2009
Subject: [gdal-dev] Envi driver and complex dataset
Message-ID: <4ACC561B.908@c-s.fr>

Dear Gdal developpers,

Yesterday I was trying to read my favourite radar dataset, consisting in
a raw file along with an ENVI style header with gdal 1.6.2. I was very 
confident since it was working perfectly fine with earlier version of gdal.

But this time, I only managed to get this error message from gdalinfo:

ERROR 1: The file does not have a value for the data type
that is recognised by the GDAL ENVI driver.

So I took a glimpse at my header file, which is using 6 as a data type,
the right data type code for my complex dataset.

I took a walk into gdal source code in order to try to spot the error
and I came up with these lines (frmts/raw/envidataset.cpp:1791):

/*  Removed JBP, ITT-VIS 11/29/2007.  Complex data does not display
properly in the ArcGIS application so we are removing it from the
supported types list. This is a bit of a big hammer as it may remove
functionality from some direct GDAL users, but this data is extremely
problematic from an ArcGIS standpoint.   */
/*          case 6:
             eType = GDT_CFloat32;
             break;

             case 9:
             eType = GDT_CFloat64;
             break;
*/

So this is it. No wonder why I can not use my dataset anymore. I must 
say that I'm very surprised that every gdal users looses a valuable (SAR 
users will agree for sure) supported dataset types just to accomodate 
one software which is not able to display complex data.

Is it possible to do something to get these types back to working properly?

Best regards,

Julien
-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Julien MICHEL - Ing?nieur d'?tudes - Traitement d'images
CS Syst?mes d'Information - Division ESPACE
D?partement Information G?ographique & Image
T?l?phone : +33 561 17 64 27
Email : julien.michel@c-s.fr

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From jukka.rahkonen at mmmtike.fi  Wed Oct  7 10:19:55 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed Oct  7 10:20:23 2009
Subject: [gdal-dev] Re: Fastest vector format for combining shapefiles
References: <loom.20091001T095950-579@post.gmane.org>
Message-ID: <loom.20091007T161522-348@post.gmane.org>

Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi> writes:

> What is recommended? Shapefiles, MapInfo tab, Oracle, PostGIS or
> something else?
> 

Ogr2ogr writes data out to MapInfo tab format quite fast. Unfortunately I do not
believe that the result will be usable at all. This time the attribute file
(.dat) stopped growing in size at 2 GB. Ogr2ogr continues running without any
error message and .id and .map files are still growing.

-Jukka-

From chaitanya.ch at gmail.com  Wed Oct  7 11:00:50 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Oct  7 11:00:55 2009
Subject: [gdal-dev] ogrinfo ends its work as soon as it starts
In-Reply-To: <BLU137-DS1CA7AA875D7849730B5C2C3CD0@phx.gbl>
References: <BLU137-DS1CA7AA875D7849730B5C2C3CD0@phx.gbl>
Message-ID: <eb502d880910070800y5f338633ka956f2217a13af05@mail.gmail.com>

Randy,

>
> Therefore, I doubt there is something wrong with my ENC file and want to use
> ?ogrinfo.exe? for testing. However, the window disappear as soon as it
> appear when I dblclick it and so does some other application like
> gdalwarp.exe.
>

These applications are best run from command line instead of using the
icons. Run the programs from the command line using the options
described at http://gdal.org/ogr_utilities.html

-- 
Best regards,
Chaitanya kumar CH.
From warmerdam at pobox.com  Wed Oct  7 11:30:37 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  7 11:30:43 2009
Subject: [gdal-dev] Envi driver and complex dataset
In-Reply-To: <4ACC561B.908@c-s.fr>
References: <4ACC561B.908@c-s.fr>
Message-ID: <4ACCB41D.5090003@pobox.com>

Julien Michel wrote:
> Dear Gdal developpers,
> 
> Yesterday I was trying to read my favourite radar dataset, consisting in
> a raw file along with an ENVI style header with gdal 1.6.2. I was very 
> confident since it was working perfectly fine with earlier version of gdal.
> 
> But this time, I only managed to get this error message from gdalinfo:
> 
> ERROR 1: The file does not have a value for the data type
> that is recognised by the GDAL ENVI driver.
> 
> So I took a glimpse at my header file, which is using 6 as a data type,
> the right data type code for my complex dataset.
> 
> I took a walk into gdal source code in order to try to spot the error
> and I came up with these lines (frmts/raw/envidataset.cpp:1791):
> 
> /*  Removed JBP, ITT-VIS 11/29/2007.  Complex data does not display
> properly in the ArcGIS application so we are removing it from the
> supported types list. This is a bit of a big hammer as it may remove
> functionality from some direct GDAL users, but this data is extremely
> problematic from an ArcGIS standpoint.   */
> /*          case 6:
>             eType = GDT_CFloat32;
>             break;
> 
>             case 9:
>             eType = GDT_CFloat64;
>             break;
> */
> 
> So this is it. No wonder why I can not use my dataset anymore. I must 
> say that I'm very surprised that every gdal users looses a valuable (SAR 
> users will agree for sure) supported dataset types just to accomodate 
> one software which is not able to display complex data.
> 
> Is it possible to do something to get these types back to working properly?

Julien,

I have also seen this note and was someone surprised.

Please file a ticket and we can look at having it re-enabled in trunk.
ArcGIS 9.4 will not be affected and hopefully after that work can be done
within ArcGIS to treat such data adequately or this can be made specific
to ArcGIS builds.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Oct  7 12:14:50 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  7 12:14:56 2009
Subject: [gdal-dev] Re: Fastest vector format for combining shapefiles
In-Reply-To: <CC197224AC75CE4DB23F739B16891B86018795F5@tikka.haapa.mmm.fi>
References: <CC197224AC75CE4DB23F739B16891B86018795F5@tikka.haapa.mmm.fi>
Message-ID: <4ACCBE7A.6090806@pobox.com>

Rahkonen Jukka wrote:
> I can tell now that shapefile format is not suitable at all. The shp
> part can 
> obviously not go over 2 GB limit because after that ogr2ogr throws 
> these error messages:
> ERROR 1: Error in psSHP->sHooks.FSeek() or fwrite() writing object to
> .shp file.  

Jukka,

Hmm, not the most appropriate error report.  If you file a ticket, I
or Chaitanya can try and improve this.

> Dbf seems not to have such size limit because it grew up till 32
> gigabytes.
> I will try MapInfo tab before I believe that it is just best to keep the
> 1000
> shapefiles or upload them all to PostGIS.

The .shp format explicitly uses 32bit offsets and so cannot
practically go over 8GB (it actually uses 32bit offsets to
16bit words) and I would not trust compatability over 4GB.

The dbf format does not have any offsets in it, so it can be
arbitrarily large, and recently shapelib and GDAL/OGR were updated
to handle this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From reinaldo at geodesign.com.br  Wed Oct  7 12:33:34 2009
From: reinaldo at geodesign.com.br (Reinaldo escada Chohfi)
Date: Wed Oct  7 12:33:38 2009
Subject: [gdal-dev] Output MapInfo File with CoordSys Information
In-Reply-To: <a0a649b2f73632e739b372f87245e8eb.squirrel@webmail.geodesign.com.br>
References: <c93d2733c516dead177a181008e205e3.squirrel@webmail.geodesign.com.br>
	<4AB98EA8.1040809@pobox.com>
	<a0a649b2f73632e739b372f87245e8eb.squirrel@webmail.geodesign.com.br>
Message-ID: <6deb6c42534526965b07ee0b86b1d268.squirrel@webmail.geodesign.com.br>




Hi Frank & List



I?tested the program below but it does not out put the .tab or
.mif/.mid with the coordinate system.? It is always non-earth.?
Could you please check it against your gdal/ogr?installation to see
if something went??wrong during my compilation of gdal 1.6.2?



Thanks a lot,



Reinaldo



*******************************

#include "gdal.h"

#include "ogr_spatialref.h"

#include "ogrsf_frmts.h"

#include "stdio.h"

double Lat[3], Lon[3];

int n=0;?char *pszWKT = NULL;

void main()

{

?OGRSpatialReference oSRS;

//?oSRS.SetWellKnownGeogCS( "EPSG:4326" );

?oSRS.importFromMICoordSys( "CoordSys Earth Projection 1,
104" );

?const char *pszDriverName = "MapInfo File" ;

?OGRSFDriver *poDriver;

??? OGRRegisterAll();

??? poDriver =
OGRSFDriverRegistrar::GetRegistrar()->GetDriverByName(

???????????????
pszDriverName );

??? if( poDriver == NULL )

??? {

??????? printf( "%s driver not
available.\n", pszDriverName );

??????? exit( 1 );

??? }

?OGRDataSource *poDS;

?poDS = poDriver->CreateDataSource( "c:/test01.mif",
NULL );

//?poDS = poDriver->CreateDataSource( "c:/test01.tab",
NULL );

??? if( poDS == NULL )

??? {

??????? printf( "Creation of
output file failed.\n" );

??????? exit( 1 );

??? }

??? OGRLayer *poLayer;

??? poLayer = poDS->CreateLayer( "test01",
NULL, wkbPoint, NULL );

??? if( poLayer == NULL )

??? {

??????? printf( "Layer creation
failed.\n" );

??????? exit( 1 );

??? }

?OGRFieldDefn oField0( "NAME1", OFTString );

?OGRFieldDefn oField1( "NAME2", OFTString );

?oField0.SetWidth(32);

??? oField1.SetWidth(32);

?if( poLayer->CreateField( &oField0 ) != OGRERR_NONE )

??? {

??????? printf( "Creating Name
field failed.\n" );

??????? exit( 1 );

??? }

?if( poLayer->CreateField( &oField1 ) != OGRERR_NONE )

??? {

??????? printf( "Creating Name
field failed.\n" );

??????? exit( 1 );

??? }



*******************************

.mif output:



Version 300

Charset "Neutral"

Delimiter ","

Columns 2

? NAME1 Char(32)

? NAME2 Char(32)

Data

Point -45.13975272 -22.69426671

??? Symbol (35,0,12)

Point -45.86066928 -23.21117775

??? Symbol (35,0,12)

Point -44.33023872 -22.68505859375

??? Symbol (35,0,12)



************************************

.mid output:



"TEST01","TEST02"

"TEST01","TEST02"

"TEST01","TEST02"



>> Reinaldo escada Chohfi wrote: 

> 

>>> Hello List, 

> 

>>> 

> 

>>> I am still trying to get a x,y (lon/Lat) point file in
MapInfo 

> format 

> 

>>> with 

> 

>>> coordinate information. 

> 

>>> 

> 

>>> I get the correct MapInfo files out (.tab or .mif) with the
x,y 

> points 

> 

>>> and 

> 

>>> attributes, but without the CoordSys information. 

> 

>>> The output file is always Non-Earth. 

> 

>>> 

> 

>>> I've tried everything: 

> 

>>> 

> 

>>> OGRSpatialReference oSRS; 

> 

>>> oSRS.SetWellKnownGeogCS("EPSG:4326"); 

> 

>>> oSRS.importFromMICoordSys( "CoordSys Earth Projection 1,


> 104" ); 

> 

>>> 

> 

>>> 

> 

>>> Could someone PLEASE let me know what to do? 

> 

>> 

> 

>> Reinaldo, 

> 

>> 

> 

>> I just tried: 

> 

>> 

> 

>> ogr2ogr -skipfailures -f "MapInfo File" out.mif 

> GB4X0000.000 TUNNEL 

> 

>> 

> 

>> and this produced a mapinfo mid/mif fileset with "CoordSys
Earth 

> 

> 

>> Projection 1, 104" as the coord sys line. I also tested a
small 

> 

> 

>> program: 

> 

>> 

> 

>> 

> 

>> #include "gdal.h" 

> 

>> #include "ogr_spatialref.h" 

> 

>> 

> 

>> int main() 

> 

>> 

> 

>> { 

> 

>> OGRSpatialReference oSRS; 

> 

>> 

> 

>> oSRS.importFromMICoordSys( "CoordSys Earth Projection 1, 

> 104" ); 

> 

>> } 

> 

>> 

> 

>> and it appeared to correctly parse the Coordsys into a WGS84 srs.


> 

>> 

> 

>> I even tried: 

> 

>> 

> 

>> ogr2ogr -a_srs wgs84.wkt -skipfailures -f "MapInfo
File" 

> out.mif 

> 

>> data/s57/GB4X0000.000 TUNNEL 

> 

>> 

> 

>> with wgs84.wkt holding: 

> 

>> 

> 

>> 

>
GEOGCS["unnamed",DATUM["WGS_1984",SPHEROID["WGS


> 

> 

>> 

>
84",6378137,298.257223563],TOWGS84[0,0,0,-0,-0,-0,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]


> 

> 

>> 

> 

>> and things seemed to work. 

> 

>> 

> 

>> Can you provide a more complete example that is failing for you?


> 

>> 

> 

>> Best regards, 

> 

>> -- 

> 

>> 

>
---------------------------------------+--------------------------------------


> 

> 

>> I set the clouds in motion - turn up | Frank Warmerdam, 

> 

>> warmerdam@pobox.com 

> 

>> light and sound - activate the windows |
http://pobox.com/~warmerdam 

> 

> 

>> and watch the world go round - Rush | Geospatial Programmer for
Rent 

> 

> 

>> 

> 

>> 

> 

> ? 

> 

?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091007/9f18740e/attachment.html
From warmerdam at pobox.com  Wed Oct  7 12:58:38 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  7 12:58:47 2009
Subject: [gdal-dev] Re: Fastest vector format for combining shapefiles
In-Reply-To: <4ACCBE7A.6090806@pobox.com>
References: <CC197224AC75CE4DB23F739B16891B86018795F5@tikka.haapa.mmm.fi>
	<4ACCBE7A.6090806@pobox.com>
Message-ID: <4ACCC8BE.1070201@pobox.com>

Frank Warmerdam wrote:
> Rahkonen Jukka wrote:
>> I can tell now that shapefile format is not suitable at all. The shp
>> part can obviously not go over 2 GB limit because after that ogr2ogr 
>> throws these error messages:
>> ERROR 1: Error in psSHP->sHooks.FSeek() or fwrite() writing object to
>> .shp file.  
> 
> Jukka,
> 
> Hmm, not the most appropriate error report.  If you file a ticket, I
> or Chaitanya can try and improve this.

Jukka,

I meant to write "Hmm, perhaps most appropriate as an error report."

Sorry for my garbled message.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From CBurris at ci.tacoma.wa.us  Wed Oct  7 15:48:23 2009
From: CBurris at ci.tacoma.wa.us (Burris, Celeste Suliin)
Date: Wed Oct  7 16:14:33 2009
Subject: [gdal-dev] CSharp Example of ImportFromESRI?
Message-ID: <D4BBC2C72D193045BC78317C7EC66CA115C5D1B0A9@mbtpu.Tacoma.lcl>

I am having difficulty programming in the spatial reference for a shape file I have built. The Spatial Refererence is NAD_1983_HARN_StatePlane_Washington_South_FIPS_4602_Feet, which is our shop standard.  The rest of the program is working, but this one part eludes me.  I have numerous examples of .prj files, and if I just copy one to the shape area, it works, but I would like to do it programmatically.

The prototype says it is string, but when I try to use a string, it complains "Value of type 'String' cannot be converted to '1-dimensional array of String'.", so I'm stuck. Does anyone have an example in Csharp which does this? The projection doesn't matter - I'm just confused on the coding.

Celeste Suliin Burris
Sr. Computer Programmer
Tacoma Fire Department
Phone: 253-591-2053
Email:  CBurris@ci.tacoma.wa.us



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091007/622626aa/attachment.html
From szekerest at gmail.com  Wed Oct  7 17:00:41 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Oct  7 17:07:42 2009
Subject: [gdal-dev] CSharp Example of ImportFromESRI?
In-Reply-To: <D4BBC2C72D193045BC78317C7EC66CA115C5D1B0A9@mbtpu.Tacoma.lcl>
References: <D4BBC2C72D193045BC78317C7EC66CA115C5D1B0A9@mbtpu.Tacoma.lcl>
Message-ID: <f3b73b7d0910071400p202c24d3l68f7b01052d0e3c2@mail.gmail.com>

2009/10/7 Burris, Celeste Suliin <CBurris@ci.tacoma.wa.us>

>  I am having difficulty programming in the spatial reference for a shape
> file I have built. The Spatial Refererence is
> NAD_1983_HARN_StatePlane_Washington_South_FIPS_4602_Feet, which is our shop
> standard.  The rest of the program is working, but this one part eludes me.
> I have numerous examples of .prj files, and if I just copy one to the shape
> area, it works, but I would like to do it programmatically.
>
> The prototype says it is string, but when I try to use a string, it
> complains ?Value of type 'String' cannot be converted to '1-dimensional
> array of String'.?, so I?m stuck. Does anyone have an example in Csharp
> which does this? The projection doesn?t matter ? I?m just confused on the
> coding.
>


Hi,

With the current version, the prototype looks like this:

public int ImportFromESRI(string[] ppszInput)

which should take a string array.

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091007/bad1b407/attachment-0001.html
From matt.wilkie at gov.yk.ca  Wed Oct  7 18:46:08 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Oct  7 19:01:19 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <loom.20091001T095950-579@post.gmane.org>
References: <loom.20091001T095950-579@post.gmane.org>
Message-ID: <4ACD1A30.1090305@gov.yk.ca>

>
> I am combining some GIS data where each layer is divided to around thousand
> separare shapefiles by mapsheets. 
We are in the same boat. For the moment I'm exploring the approach of 
aggregrating map sheets, creating super tiles, until we approach the 2gb 
shapefile limit. I've not found a good method for predicting when we'll 
hit that limit though so it's error prone with a lot of repeats.

Looking forward, the as-yet unreleased file geodatabase API/spec would 
be a solution. ESRI has said they will do so, but it's been several 
years since they first announced it and when it is finally is released 
there is no guarantee it will be under license terms open source 
projects can use. This isn't to say it will be unusable either, we just 
don't know.

I've been reading about Binary XML, which has an open source library 
published by Cuberwerx, http://www.cubewerx.com/bxml. They say it is a 
drop in replacement for XML. Perhaps binary gml would be a good format 
for >2gb data packages? How much work would it be to add this to 
gdal/ogr? I invite developers to submit price estimates to me. I don't 
have an active project assigned to this or a budget, but I can't get one 
without an idea of what to ask for either.

best regards,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
-------------------------------------------- 

From schut at sarvision.nl  Thu Oct  8 02:34:20 2009
From: schut at sarvision.nl (Vincent Schut)
Date: Thu Oct  8 02:44:12 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <4ACD1A30.1090305@gov.yk.ca>
References: <loom.20091001T095950-579@post.gmane.org>
	<4ACD1A30.1090305@gov.yk.ca>
Message-ID: <4ACD87EC.5050805@sarvision.nl>

Matt Wilkie wrote:
>>
>> I am combining some GIS data where each layer is divided to around 
>> thousand
>> separare shapefiles by mapsheets. 
> We are in the same boat. For the moment I'm exploring the approach of 
> aggregrating map sheets, creating super tiles, until we approach the 
> 2gb shapefile limit. I've not found a good method for predicting when 
> we'll hit that limit though so it's error prone with a lot of repeats.
>
> Looking forward, the as-yet unreleased file geodatabase API/spec would 
> be a solution. ESRI has said they will do so, but it's been several 
> years since they first announced it and when it is finally is released 
> there is no guarantee it will be under license terms open source 
> projects can use. This isn't to say it will be unusable either, we 
> just don't know.
>
> I've been reading about Binary XML, which has an open source library 
> published by Cuberwerx, http://www.cubewerx.com/bxml. They say it is a 
> drop in replacement for XML. Perhaps binary gml would be a good format 
> for >2gb data packages? How much work would it be to add this to 
> gdal/ogr? I invite developers to submit price estimates to me. I don't 
> have an active project assigned to this or a budget, but I can't get 
> one without an idea of what to ask for either.
Folks,

I'm by no way a vector expert, but for this kind of stuff I'd go the 
postgis way, at least for intermediate storage. You won't have any 2GB 
limit on vector db size, have reasonable fast rw access to the data, and 
will be able to do spatial operations on the db directly. Once you've go 
all your data in the db the way you want it, you can export to any ogr 
supported vector format.
For a platform independent way of distributing vector files that are 
 >2GB, I'd check out spatialite; however, I don't know in what shape 
ogr's support for real spatialite db's is, so you'd have to do some 
research here. Note that, once 32bit windows OS come in sight, this 
might put a barrier at 2GB no matter what vector file format you use, 
though I'm not sure about that either. I try not to use windows if 
possible :-)

just my 2 cents...
Vincent.
>
> best regards,
>
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jluis at ualg.pt  Thu Oct  8 09:28:31 2009
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu Oct  8 09:28:37 2009
Subject: [gdal-dev] gdaldem Roughness description
Message-ID: <4ACDE8FF.8080505@ualg.pt>

Hi,

At least in my understanding the gdaldem manual's description for the 
Roughness is misleading. It states

"Roughness is the the largest inter-cell difference of a central pixel 
and its surrounding cell, as defined in Wilson et al (2007, Marine 
Geodesy 30:3-35)."

 From that I understood that R = MAX(Zi-Zcentral) where Zi runs over all 
pixels in the rectangular neighborhood.
However, what the code computes (correctly according to the paper it 
refers to) is
R = Zmax - Zmin
that is also known as the range filter in image processing.

Joaquim Luis

From matt.wilkie at gov.yk.ca  Thu Oct  8 13:30:52 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Oct  8 13:30:58 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <4ACD87EC.5050805@sarvision.nl>
References: <loom.20091001T095950-579@post.gmane.org>	<4ACD1A30.1090305@gov.yk.ca>
	<4ACD87EC.5050805@sarvision.nl>
Message-ID: <4ACE21CC.5010105@gov.yk.ca>

> I'm by no way a vector expert, but for this kind of stuff I'd go the 
> postgis way, at least for intermediate storage. 

I've thought of this but have shied away from it because of the overhead 
of installing postgis etc. just to get started. Time to get over my 
shyness perhaps :)

cheers,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From matt.wilkie at gov.yk.ca  Thu Oct  8 13:40:07 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Oct  8 13:40:13 2009
Subject: [gdal-dev] how to batch rgb2pct
In-Reply-To: <4EFF8BB964547748A07CA32961810C04157FB28F@SOM-TEAQASMAIL1.som.w2k.state.me.us>
References: <4EFF8BB964547748A07CA32961810C04157FB28F@SOM-TEAQASMAIL1.som.w2k.state.me.us>
Message-ID: <4ACE23F7.1040501@gov.yk.ca>

Hi Micheal,

rgb2pct is a batch file, so when used inside another batch it must be 
"called" in order for control to return to the initiator:

   call rgb2pct v:\historic_topos\rects\w\arnold-pond-w.tif 
v:\historic_topos\8bits\w\arnold-pond-w.tif
   call rgb2pct v:\historic_topos\rects\w\attean-w.tif 
v:\historic_topos\8bits\w\attean-w.tif
   call rgb2pct v:\historic_topos\rects\w\baker-lake-w.tif 
v:\historic_topos\8bits\w\baker-lake-w.tif
 
If I may extend your script a little:

   @echo off
   for %%f in (arnold-pond-w.tif, attean-w.tif, baker-lake-w.tif) do (
      call rgb2pct v:\historic_topos\rects\w\%%f 
v:\historic_topos\8bits\w\%%f
       )

or interactively from the command line:

  pushd v:\historic_topos\rects\w\
  for %f in (*.tif) do rgb2pct %f ..\..\8bits\w\%f
  popd


More info at http://ss64.com/nt/call.html

cheers,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
-------------------------------------------- 



Smith, Michael wrote:
> I have a .bat file which I'm trying to run, here are a few lines:
>  
> rgb2pct v:\historic_topos\rects\w\arnold-pond-w.tif 
> v:\historic_topos\8bits\w\arnold-pond-w.tif
> rgb2pct v:\historic_topos\rects\w\attean-w.tif 
> v:\historic_topos\8bits\w\attean-w.tif
> rgb2pct v:\historic_topos\rects\w\baker-lake-w.tif 
> v:\historic_topos\8bits\w\baker-lake-w.tif
>  
> When I run the .bat it runs the first line and then just stops, 
> returning to the windows command prompt.  I can copy/paste other lines 
> into the command prompt and they work fine.  How do I get it to 
> process the next line(s)?
>
> **********
> Michael Smith
> State GIS Manager
> Maine Office of GIS
>
>  
From Klaus.Noekel at gmx.de  Tue Oct  6 15:10:33 2009
From: Klaus.Noekel at gmx.de (Klaus Noekel)
Date: Thu Oct  8 15:09:55 2009
Subject: [gdal-dev] GDAL Python bindings: coordinate transformation does not
	work
Message-ID: <4ACB9629.50806@gmx.de>


Hi,

I have just installed GDAL 1.6.1.win32-py2.6 on a Win XP system and set
up the GDAL directory properly (bin directory in PATH, env variable
points to data).
Scripts for coordinate transformation like that below do not crash, but
just seem not to do anything, i.e. the data remain unchanged instead of
being reprojected. Can anybody tell me what I am doing wrong?
Here is the sample script:

import osgeo.ogr as ogr
import osgeo.osr as osr

# CREATE WKT STRING OF POINT COORDS
sample = (' 776041.000', ' 3386618.000')
x = sample[0]
y = sample[1]
wkt = 'POINT(%s %s)' % (x, y)

# CREATE PROJECTION OBJECTS
utm16N = osr.SpatialReference ()
utm16N.ImportFromEPSG(26916)
wgs84 = osr.SpatialReference()
wgs84.ImportFromEPSG(4326)

# CREATE OGR POINT OBJECT, ASSIGN PROJECTION, REPROJECT
point = ogr.CreateGeometryFromWkt(wkt)
point.AssignSpatialReference(utm16N)
point.TransformTo(wgs84)

print wkt
print point

The output is
POINT( 776041.000  3386618.000)
POINT (776041 3386618)
where I had expected lat/long instead for point.

Thanks a lot!
Klaus

From hobu.inc at gmail.com  Thu Oct  8 15:11:03 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Oct  8 15:13:46 2009
Subject: [gdal-dev] GDAL Python bindings: coordinate transformation does
	not work
In-Reply-To: <4ACB9629.50806@gmx.de>
References: <4ACB9629.50806@gmx.de>
Message-ID: <BB596D40-1E1C-418A-A3C8-2B1072416D70@gmail.com>


On Oct 6, 2009, at 2:10 PM, Klaus Noekel wrote:

>
> Hi,
>
> I have just installed GDAL 1.6.1.win32-py2.6 on a Win XP system and  
> set
> up the GDAL directory properly (bin directory in PATH, env variable
> points to data).
> Scripts for coordinate transformation like that below do not crash,  
> but
> just seem not to do anything, i.e. the data remain unchanged instead  
> of
> being reprojected. Can anybody tell me what I am doing wrong?
>
> The output is
> POINT( 776041.000  3386618.000)
> POINT (776041 3386618)
> where I had expected lat/long instead for point.
>
> Thanks a lot!
> Klaus

Klaus,

I get the following for output on my OSX box:

> POINT( 776041.000  3386618.000)
> POINT (-84.121611219545073 30.5802861582041)
>

I suspect the TransformTo is failing because the GDAL_DATA are not  
being found.

Howard

From hobu.inc at gmail.com  Thu Oct  8 15:24:27 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Oct  8 15:27:11 2009
Subject: [gdal-dev] GDAL Python bindings: coordinate transformation does
	not work
In-Reply-To: <4ACB9933.60905@gmx.de>
References: <4ACB9629.50806@gmx.de>
	<BB596D40-1E1C-418A-A3C8-2B1072416D70@gmail.com>
	<4ACB9933.60905@gmx.de>
Message-ID: <701B1A9C-C413-492B-A7BC-6D6378D2E45A@gmail.com>

OSGeo4W should have a suitable proj.dll

Please reply to the list so others may benefit from the exchange.

Howard

On Oct 6, 2009, at 2:23 PM, Klaus Noekel wrote:

> Hi Howard,
>
> thanks for checking this so quickly. It still fails on my PC, and  
> the env variable definitely point to the correct location.
>
> However, running in a DOS box I now see the error message
> ERROR 6: Unable to load PROJ.4 library (proj.dll), creation of
> OGRCoordinateTransformation failed.
>
> Is there another dependency that I was not aware of? Where would I  
> find a matching PROJ.4 and where do I put it?
>
> Cheers,
> Klaus
>
> Howard Butler schrieb:
>> On Oct 6, 2009, at 2:10 PM, Klaus Noekel wrote:
>>>
>>> Hi,
>>>
>>> I have just installed GDAL 1.6.1.win32-py2.6 on a Win XP system  
>>> and set
>>> up the GDAL directory properly (bin directory in PATH, env variable
>>> points to data).
>>> Scripts for coordinate transformation like that below do not  
>>> crash, but
>>> just seem not to do anything, i.e. the data remain unchanged  
>>> instead of
>>> being reprojected. Can anybody tell me what I am doing wrong?
>>>
>>> The output is
>>> POINT( 776041.000  3386618.000)
>>> POINT (776041 3386618)
>>> where I had expected lat/long instead for point.
>>>
>>> Thanks a lot!
>>> Klaus
>> Klaus,
>> I get the following for output on my OSX box:
>>> POINT( 776041.000  3386618.000)
>>> POINT (-84.121611219545073 30.5802861582041)
>>>
>> I suspect the TransformTo is failing because the GDAL_DATA are not  
>> being found.
>> Howard
>

From Klaus.Noekel at gmx.de  Tue Oct  6 15:45:58 2009
From: Klaus.Noekel at gmx.de (Klaus Noekel)
Date: Thu Oct  8 15:45:12 2009
Subject: [Fwd: Re: [gdal-dev] GDAL Python bindings: coordinate transformation
	does not work]
Message-ID: <4ACB9E76.30506@gmx.de>

A further test revealed that the PROJ.4 DLL was missing on my system. 
After downloading the current version included in OSGeo4W, and putting 
it in the gdalwin32-1.6\bin directory, I now get the correct results.

Thanks a lot, Howard!

Klaus

-------- Original-Nachricht --------
Betreff: Re: [gdal-dev] GDAL Python bindings: coordinate transformation 
does not work
Datum: Thu, 8 Oct 2009 14:11:03 -0500
Von: Howard Butler <hobu.inc@gmail.com>
An: Klaus Noekel <Klaus.Noekel@gmx.de>
CC: gdal-dev@lists.osgeo.org
Referenzen: <4ACB9629.50806@gmx.de>


On Oct 6, 2009, at 2:10 PM, Klaus Noekel wrote:

>
> Hi,
>
> I have just installed GDAL 1.6.1.win32-py2.6 on a Win XP system and  
> set
> up the GDAL directory properly (bin directory in PATH, env variable
> points to data).
> Scripts for coordinate transformation like that below do not crash,  
> but
> just seem not to do anything, i.e. the data remain unchanged instead  
> of
> being reprojected. Can anybody tell me what I am doing wrong?
>
> The output is
> POINT( 776041.000  3386618.000)
> POINT (776041 3386618)
> where I had expected lat/long instead for point.
>
> Thanks a lot!
> Klaus

Klaus,

I get the following for output on my OSX box:

> POINT( 776041.000  3386618.000)
> POINT (-84.121611219545073 30.5802861582041)
>

I suspect the TransformTo is failing because the GDAL_DATA are not
being found.

Howard

From jukka.rahkonen at mmmtike.fi  Thu Oct  8 17:37:09 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Oct  8 17:37:38 2009
Subject: [gdal-dev] OGC_FID vs. OGR_FID
Message-ID: <loom.20091008T233401-603@post.gmane.org>

Hi,

Ogr2ogr seems to create field named ogc_fid with PostGIS driver but ogr_fid with
Oracle OCI driver.  Is this intentional?  Probably not a big trouble for anybody.

-Jukka Rahkonen-

From warmerdam at pobox.com  Thu Oct  8 19:55:28 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct  8 19:55:21 2009
Subject: [gdal-dev] OGC_FID vs. OGR_FID
In-Reply-To: <loom.20091008T233401-603@post.gmane.org>
References: <loom.20091008T233401-603@post.gmane.org>
Message-ID: <4ACE7BF0.2060809@pobox.com>

Jukka Rahkonen wrote:
> Hi,
> 
> Ogr2ogr seems to create field named ogc_fid with PostGIS driver but ogr_fid with
> Oracle OCI driver.  Is this intentional?  Probably not a big trouble for anybody.

Jukka,

I believe by the time I was implementing the Oracle driver I realized naming
the fid "ogc_fid was presumptuous so I used a name that was ogr oriented.
I might have changed the postgres driver, except that this would likely have
been disruptive for existing users.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mike at globalmapper.com  Fri Oct  9 01:46:44 2009
From: mike at globalmapper.com (Michael Childs)
Date: Fri Oct  9 01:46:51 2009
Subject: [gdal-dev] RE: FW: Annotations from S-57 Files
In-Reply-To: <4ACBFFD2.6030804@pobox.com>
References: <269101ca46a0$b9928760$2cb79620$@com> <4ACBFFD2.6030804@pobox.com>
Message-ID: <006901ca48a3$e46a6ed0$ad3f4c70$@com>

Frank,

While I wasn't able to find the OBJL=22001 and OBJL=22010 objects formally
defined anywhere, I was able to back out their meaning using SeeMyEnc and
some debugging in GDAL. Basically I found that 22001 is an "Annotation"
point and 22010 is a "Traffic Line". 

I added the following 2 lines at the end of the gpapszS57Classes definition
in s57tables.h. I wasn't sure of the attributes to use, is this correct
(note that it seems to work fine)?

"22001,Annotation,ANNOTA,ALTNAM;NOBJNM;OBJNAM;STATUS;,INFORM;NINFOM;NTXTDS;P
ICREP;SCAMAX;SCAMIN;TXTDSC;,RECDAT;RECIND;SORDAT;SORIND;,G,Point;Area;",
"22010,Traffic
Line,TRFLNE,CATTSS;DATEND;DATSTA;STATUS;,INFORM;NINFOM;NTXTDS;SCAMAX;SCAMIN;
TXTDSC;,RECDAT;RECIND;SORDAT;SORIND;,G,Line;",

Likewise I added one new attribute (22076) which is an alternate name
(ALTNAM). There were several other unrecognized attributes, but they seemed
to carry some application-specific z-level detail. Perhaps these are custom
attributes? Anyway I added the following line to gpapszS57attributes for the
useful attribute carrying the names:

"22076,Alternate Name,ALTNAM,S,F",

Are these changes ok? I don't use the CSV files directly, but I'm guessing
that perhaps the s57tables.h file is auto-generated from those or something,
right?

Thanks,

Mike
Global Mapper Support
support@globalmapper.com

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Tuesday, October 06, 2009 8:41 PM
To: Michael Childs
Cc: gdal-dev
Subject: Re: FW: Annotations from S-57 Files

Michael Childs wrote:
  > I am using the S57Reader class to read in S-57 data files and a user has
> reported that while applications like SeeMyEnc show annotation points 
> with text, I cannot seem to find any returned features that include 
> those annotations. There is a sample data file at 
> http://www.globalmapper.com/Incoming/1I5LQQJ4.zip which has an 
> annotation that is not coming in as a point feature (see screenshot at 
> http://www.globalmapper.com/Incoming/SeeMyENC_DuckLake.jpg).

Mike,

I have inspected the file, and if I run ogrinfo on it with debug I see:

  S57: Unable to find definition for OBJL=22001
  S57: Unable to find definition for OBJL=22010

It appears it has two S-57 object classes that don't appear in the
specification (or at least the older specification I worked from).

I see there is a layer called "Generic" which seems to have these objects
but without extended object attributes like the text.  I assume these
include
your annotation objects.

I would suggest you dig into the S-57/ENC specifications and look for
updated
object catalogs and use them to extend gdal/data/s57objectclasses.csv to
include these new classes.  If you can feed these back into GDAL as a ticket
and patch that would be fantastic.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From peder at axensten.se  Fri Oct  9 04:20:30 2009
From: peder at axensten.se (Peder Axensten)
Date: Fri Oct  9 04:20:34 2009
Subject: [gdal-dev] Doing segment-wise statistics
Message-ID: <15D22EEB-CAFF-45DE-BF65-5D53D59BF7FC@axensten.se>

Go'day,

I'd like to do some segment-wise statistics (mean, standard deviation,  
etc.) on rasters.
The segments will be defined by polygons in a shapefile.
I need to do this in a Python script, so anything without a GUI is fine.

Is there a solution I can use?

If not, I'd appreciate any suggestions or ideas on how I can implement  
it myself. The obvious way I see, is to rasterize the segmentation and  
work through all pixel pairs (segment-id/value). Are there better ways?

Best regards,

Peder Axensten
Research engineer

Swedish University of Agricultural Sciences
Forest Resource Management
Remote Sensing Laboratory
Skogmarksgr?nd
se-90183 Ume?
Sweden

Phone: +46-90-786.8500
http://www.srh.slu.se/rsl

From jgomezdans at gmail.com  Fri Oct  9 06:45:42 2009
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Fri Oct  9 06:45:46 2009
Subject: [gdal-dev] Doing segment-wise statistics
In-Reply-To: <15D22EEB-CAFF-45DE-BF65-5D53D59BF7FC@axensten.se>
References: <15D22EEB-CAFF-45DE-BF65-5D53D59BF7FC@axensten.se>
Message-ID: <91d218430910090345g6f71886dn82b043212c17a667@mail.gmail.com>

Hiya,

2009/10/9 Peder Axensten <peder@axensten.se>

> I'd like to do some segment-wise statistics (mean, standard deviation,
> etc.) on rasters.
> The segments will be defined by polygons in a shapefile.
> I need to do this in a Python script, so anything without a GUI is fine.
>
> Is there a solution I can use?
>

This is similar to what you want to do:
<http://sites.google.com/site/spatialpython/zonal-statistics>

Cheers,
Jose
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091009/ac33ce29/attachment.html
From rigal at rapideye.de  Fri Oct  9 06:41:28 2009
From: rigal at rapideye.de (Matthieu Rigal)
Date: Fri Oct  9 07:12:42 2009
Subject: [gdal-dev] Python-OGR not looping over more than 500 PGSQL features
Message-ID: <200910091241.29178.rigal@rapideye.de>

Hi people,

I recently discovered a strange behaviour which was not happening before, I 
think...
I'm using Python 2.5 with GDAL/OGR 1.6 and PGsql 8.3 on Linux.

I am reading a table containing 858 features with several columns and 
geometry.
I first do a SELECT on the table and the GetFeatureCount tells me 858 lines 
are being readen.
Then I am looping on the OGR object Feature by feature, to make some 
calculation and I send an UPDATE for this particular line through another OGR 
object.
I have a counter after every UPDATE.

Whereas it should go through all the 858 features, it stops after having gone 
through 500 features, my counter at the end shows 500 and looking to the 
database, it clearly stops after 500.
I've done a test on a second database and it also stopped at 500...

Is there some recently introduced limitations on OGR side ? I have searched 
all the website without finding something about it... May it come from some 
Python memory limitation ( I doubt) ? Or from some PGSQL server limitation (I 
doubt also because 858 features are returned at the beginning ?

Thanks for your help,
Best Regards,
Matthieu Rigal

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany
 
Follow us on Twitter! www.twitter.com/rapideye_ag
 
Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: 
Juergen Breitkopf 
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified
 
*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
 
The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From chaitanya.ch at gmail.com  Fri Oct  9 09:21:05 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Oct  9 09:21:08 2009
Subject: [gdal-dev] Python-OGR not looping over more than 500 PGSQL 
	features
In-Reply-To: <200910091241.29178.rigal@rapideye.de>
References: <200910091241.29178.rigal@rapideye.de>
Message-ID: <eb502d880910090621o7a2f5835k726ee288f553bdb7@mail.gmail.com>

Matthieu,

GetFeatureCount in postgres driver is implemented with the COUNT()
function. ( http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/pg/ogrpgtablelayer.cpp#L1895
) So it was never returning more than 500 features. IMHO, the number
500 looks like an intentional limitation, probably set on the server
connection.

On Fri, Oct 9, 2009 at 4:11 PM, Matthieu Rigal <rigal@rapideye.de> wrote:
> Hi people,
>
> I recently discovered a strange behaviour which was not happening before, I
> think...
> I'm using Python 2.5 with GDAL/OGR 1.6 and PGsql 8.3 on Linux.
>
> I am reading a table containing 858 features with several columns and
> geometry.
> I first do a SELECT on the table and the GetFeatureCount tells me 858 lines
> are being readen.
> Then I am looping on the OGR object Feature by feature, to make some
> calculation and I send an UPDATE for this particular line through another OGR
> object.
> I have a counter after every UPDATE.
>
> Whereas it should go through all the 858 features, it stops after having gone
> through 500 features, my counter at the end shows 500 and looking to the
> database, it clearly stops after 500.
> I've done a test on a second database and it also stopped at 500...
>
> Is there some recently introduced limitations on OGR side ? I have searched
> all the website without finding something about it... May it come from some
> Python memory limitation ( I doubt) ? Or from some PGSQL server limitation (I
> doubt also because 858 features are returned at the beginning ?
>
> Thanks for your help,
> Best Regards,
> Matthieu Rigal
>
> RapidEye AG
> Molkenmarkt 30
> 14776 Brandenburg an der Havel
> Germany
>
> Follow us on Twitter! www.twitter.com/rapideye_ag
>
> Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
> Management Board/Vorstand: Wolfgang G. Biedermann
> Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates:
> Juergen Breitkopf
> Commercial Register/Handelsregister Potsdam HRB 17 796
> Tax Number/Steuernummer: 048/100/00053
> VAT-Ident-Number/Ust.-ID: DE 199331235
> DIN EN ISO 9001 certified
>
> *************************************************************************
> Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
> Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
> E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
> Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
> die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
>
> The information in this e-mail is intended for the named recipients
> only. It may contain privileged and confidential information. If you
> have received this communication in error, any use, copying or
> dissemination of its contents is strictly prohibited. Please erase all
> copies of the message along with any included attachments and notify
> RapidEye AG or the sender immediately by telephone at the number
> indicated on this page.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Best regards,
-- 
Chaitanya kumar CH.
From rigal at rapideye.de  Fri Oct  9 09:49:35 2009
From: rigal at rapideye.de (Matthieu Rigal)
Date: Fri Oct  9 09:49:51 2009
Subject: [gdal-dev] Python-OGR not looping over more than 500 PGSQL
	features
In-Reply-To: <eb502d880910090621o7a2f5835k726ee288f553bdb7@mail.gmail.com>
References: <200910091241.29178.rigal@rapideye.de>
	<eb502d880910090621o7a2f5835k726ee288f553bdb7@mail.gmail.com>
Message-ID: <200910091549.35845.rigal@rapideye.de>

Chaitanya,

I looked into the log files and could see the following lines :
2009-10-09 15:23:56 CEST lua_db lua_admin STATEMENT: ?FETCH 500 in 
OGRPGResultLayerReader
2009-10-09 15:23:56 CEST lua_db lua_admin STATEMENT: ?CLOSE 
OGRPGResultLayerReader

So it is OGR which is requesting only 500 features.
I may understand the problems to not have a limit but shouldn't there be some 
kind of a loop to be able to go automatically through all the features ?
If not, this should be mentioned on the PG driver page, isn't it ?

And furthermore, I never noticed this behaviour when previously working with 
older GDAL versions. Was I blind or did something changed ?

Best regards,
Matthieu


On Friday 09 October 2009 15:21:05 Chaitanya kumar CH wrote:
> Matthieu,
>
> GetFeatureCount in postgres driver is implemented with the COUNT()
> function. (
> http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/pg/ogrpgtable
>layer.cpp#L1895 ) So it was never returning more than 500 features. IMHO,
> the number 500 looks like an intentional limitation, probably set on the
> server connection.
>
> On Fri, Oct 9, 2009 at 4:11 PM, Matthieu Rigal <rigal@rapideye.de> wrote:
> > Hi people,
> >
> > I recently discovered a strange behaviour which was not happening before,
> > I think...
> > I'm using Python 2.5 with GDAL/OGR 1.6 and PGsql 8.3 on Linux.
> >
> > I am reading a table containing 858 features with several columns and
> > geometry.
> > I first do a SELECT on the table and the GetFeatureCount tells me 858
> > lines are being readen.
> > Then I am looping on the OGR object Feature by feature, to make some
> > calculation and I send an UPDATE for this particular line through another
> > OGR object.
> > I have a counter after every UPDATE.
> >
> > Whereas it should go through all the 858 features, it stops after having
> > gone through 500 features, my counter at the end shows 500 and looking to
> > the database, it clearly stops after 500.
> > I've done a test on a second database and it also stopped at 500...
> >
> > Is there some recently introduced limitations on OGR side ? I have
> > searched all the website without finding something about it... May it
> > come from some Python memory limitation ( I doubt) ? Or from some PGSQL
> > server limitation (I doubt also because 858 features are returned at the
> > beginning ?
> >
> > Thanks for your help,
> > Best Regards,
> > Matthieu Rigal
> >

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany
 
Follow us on Twitter! www.twitter.com/rapideye_ag
 
Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: 
Juergen Breitkopf 
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified
 
*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
 
The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From chaitanya.ch at gmail.com  Fri Oct  9 10:19:02 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Oct  9 10:19:05 2009
Subject: [gdal-dev] Python-OGR not looping over more than 500 PGSQL 
	features
In-Reply-To: <200910091549.35845.rigal@rapideye.de>
References: <200910091241.29178.rigal@rapideye.de>
	<eb502d880910090621o7a2f5835k726ee288f553bdb7@mail.gmail.com>
	<200910091549.35845.rigal@rapideye.de>
Message-ID: <eb502d880910090719i2a69470fh8ad118b250537f59@mail.gmail.com>

Matthieu,

I looked at the OGR's pg driver code. It is retrieving the data 500
records at a time using cursors. Can you provide some more lines from
the log files, before and after the given two lines?

In the mean time here is a quick and dirty solution. Recompile gdal
after setting CURSOR_PAGE to some value greater than the records in
your tables. http://trac.osgeo.org/gdal/browser/branches/1.6/gdal/ogr/ogrsf_frmts/pg/ogrpglayer.cpp#L68


On Fri, Oct 9, 2009 at 7:19 PM, Matthieu Rigal <rigal@rapideye.de> wrote:
> Chaitanya,
>
> I looked into the log files and could see the following lines :
> 2009-10-09 15:23:56 CEST lua_db lua_admin STATEMENT: ?FETCH 500 in
> OGRPGResultLayerReader
> 2009-10-09 15:23:56 CEST lua_db lua_admin STATEMENT: ?CLOSE
> OGRPGResultLayerReader
>
> So it is OGR which is requesting only 500 features.
> I may understand the problems to not have a limit but shouldn't there be some
> kind of a loop to be able to go automatically through all the features ?
> If not, this should be mentioned on the PG driver page, isn't it ?
>
> And furthermore, I never noticed this behaviour when previously working with
> older GDAL versions. Was I blind or did something changed ?
>
> Best regards,
> Matthieu
>
>
> On Friday 09 October 2009 15:21:05 Chaitanya kumar CH wrote:
>> Matthieu,
>>
>> GetFeatureCount in postgres driver is implemented with the COUNT()
>> function. (
>> http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/pg/ogrpgtable
>>layer.cpp#L1895 ) So it was never returning more than 500 features. IMHO,
>> the number 500 looks like an intentional limitation, probably set on the
>> server connection.
>>
>> On Fri, Oct 9, 2009 at 4:11 PM, Matthieu Rigal <rigal@rapideye.de> wrote:
>> > Hi people,
>> >
>> > I recently discovered a strange behaviour which was not happening before,
>> > I think...
>> > I'm using Python 2.5 with GDAL/OGR 1.6 and PGsql 8.3 on Linux.
>> >
>> > I am reading a table containing 858 features with several columns and
>> > geometry.
>> > I first do a SELECT on the table and the GetFeatureCount tells me 858
>> > lines are being readen.
>> > Then I am looping on the OGR object Feature by feature, to make some
>> > calculation and I send an UPDATE for this particular line through another
>> > OGR object.
>> > I have a counter after every UPDATE.
>> >
>> > Whereas it should go through all the 858 features, it stops after having
>> > gone through 500 features, my counter at the end shows 500 and looking to
>> > the database, it clearly stops after 500.
>> > I've done a test on a second database and it also stopped at 500...
>> >
>> > Is there some recently introduced limitations on OGR side ? I have
>> > searched all the website without finding something about it... May it
>> > come from some Python memory limitation ( I doubt) ? Or from some PGSQL
>> > server limitation (I doubt also because 858 features are returned at the
>> > beginning ?
>> >
>> > Thanks for your help,
>> > Best Regards,
>> > Matthieu Rigal
>> >
>
> RapidEye AG
> Molkenmarkt 30
> 14776 Brandenburg an der Havel
> Germany
>
> Follow us on Twitter! www.twitter.com/rapideye_ag
>
> Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
> Management Board/Vorstand: Wolfgang G. Biedermann
> Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates:
> Juergen Breitkopf
> Commercial Register/Handelsregister Potsdam HRB 17 796
> Tax Number/Steuernummer: 048/100/00053
> VAT-Ident-Number/Ust.-ID: DE 199331235
> DIN EN ISO 9001 certified
>
> *************************************************************************
> Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
> Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
> E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
> Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
> die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
>
> The information in this e-mail is intended for the named recipients
> only. It may contain privileged and confidential information. If you
> have received this communication in error, any use, copying or
> dissemination of its contents is strictly prohibited. Please erase all
> copies of the message along with any included attachments and notify
> RapidEye AG or the sender immediately by telephone at the number
> indicated on this page.
>



-- 
Best regards,
Chaitanya kumar CH.
From matt.wilkie at gov.yk.ca  Fri Oct  9 12:25:34 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri Oct  9 12:25:40 2009
Subject: [gdal-dev] ANN: Apt commandline installer for OSGeo4W now at v0.0-2
Message-ID: <4ACF63FE.9030508@gov.yk.ca>

Hello World,

Apt.py v0.0-2, the command line osgeo4w installer, is now available. It
can  be found under Commandline Utilities in the GUI setup.exe installer 
or from svn.
    http://download.osgeo.org/osgeo4w/               "OSGeo4W Installer"
    http://trac.osgeo.org/osgeo4w/browser/trunk/apt  "apt.py"

First time use from within a CMD shell where python is available and 
osgeo4w is not installed:

    set OSGEO4W_ROOT=C:\OSGeo4W	(or wherever)

    python apt.py setup		(create install.db, fetch setup.ini)
    python apt.py install msvcrt	(minimal skeleton osgeo4w install)

After that or on a system where osgeo4w has already been installed:

    apt update		(fetch up-to-date setup.ini)
    apt install xxx 	(install package 'xxx', e.g. gdal)
    apt new		(show possible upgrades)
    apt list		(show installed packages)
    apt available	(show installation candidates)
    apt remove xxx	(uninstall package 'xxx')


For a completely virgin system (no osgeo4w, no python) see
http://code.google.com/p/maphew/wiki/OsgeoFromScratch


Changes since v0-0.1:

     * much better package removal (though still misses .tmpl files in
./bin and start menu shortcuts)
     * new command "apt available" shows packages which could be
installed (previously one had to know the name already)
     * download percentage counter no longer reports >100% recieved


Apt.py and setup.exe use the same install database and procedures
(though not code). One can switch between them at will depending on the
needs of the moment. Configure setup.exe's cache directory to
C:\Osgeo4W\var\cache\setup to avoid duplicating downloads. I would of
course expect problems were both to run at the same time.

I've been using apt.py without significant issues for over a year,
nevertheless I still consider this alpha software. This is my first real
   software development project and I've no training whatsoever. The only
reason it works at all is because the original author, Jan
Nieuwenhuizen, knew what he was doing when he wrote cyg-apt for cygwin.

The biggest functional problem is that uninstall is not yet
comprehensive. There is little error trapping and not enough feedback on
commands. For example "apt remove" just silently exits back to the shell
prompt when it should respond with a usage message ("apt remove
[package_name]"), at the least.

Feedback is welcome, especially on programming advice! Please use the
o4w trac for logging bugs.

Enjoy!

-- 
matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------
From packalen at cs.joensuu.fi  Fri Oct  9 14:16:55 2009
From: packalen at cs.joensuu.fi (Petteri Packalen)
Date: Fri Oct  9 14:28:27 2009
Subject: [gdal-dev] Doing segment-wise statistics
In-Reply-To: <15D22EEB-CAFF-45DE-BF65-5D53D59BF7FC@axensten.se>
References: <15D22EEB-CAFF-45DE-BF65-5D53D59BF7FC@axensten.se>
Message-ID: <Pine.GSO.4.64.0910092114370.19514@cs.joensuu.fi>

> I'd like to do some segment-wise statistics (mean, standard deviation, etc.) 
> on rasters.
> The segments will be defined by polygons in a shapefile.
> I need to do this in a Python script, so anything without a GUI is fine.
>
> Is there a solution I can use?
>
> If not, I'd appreciate any suggestions or ideas on how I can implement it 
> myself. The obvious way I see, is to rasterize the segmentation and work 
> through all pixel pairs (segment-id/value). Are there better ways?

See: http://starspan.casil.ucdavis.edu/doku/doku.php?id=start

Best regards,
Petteri

From even.rouault at mines-paris.org  Fri Oct  9 14:40:22 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Oct  9 14:40:25 2009
Subject: [gdal-dev] Python-OGR not looping over more than 500 PGSQL
	features
In-Reply-To: <200910091241.29178.rigal@rapideye.de>
References: <200910091241.29178.rigal@rapideye.de>
Message-ID: <1255113622.4acf8396a2ada@imp.free.fr>

Selon Matthieu Rigal <rigal@rapideye.de>:

Matthieu,

I've been able to reproduce the behaviour you've observed by running the
following snippet :

>>>
import ogr

ds = ogr.Open('PG:dbname=autotest')
lyr = ds.GetLayerByName('testhuge')
feat = lyr.GetNextFeature()
count = 0
while feat is not None:
    count = count + 1
    feat.DumpReadable()
    ds.ExecuteSQL("UPDATE testhuge SET test = '%s' WHERE test = '%s'" % (
feat.GetField(0),feat.GetField(0) ))
    feat = lyr.GetNextFeature()

print 'count = %d' % count
<<<

The counter effectively stops at 500. This is the case with GDAL trunk, but also
with OSGEO4W's GDAL/OGR 1.5.4, so if it is a regression, it is against an older
version.

Let me try to explain that behaviour. To improve reading performance, we try to
minimize the number of round-trips to the server, so we read features by chunks
of 500. This is done by the following sequence:

BEGIN;
DECLARE OGRPGLayerReader CURSOR FOR SELECT * FROM testhuge;
FETCH 500 IN OGRPGLayerReader;

at that point we have the first 500 features in RAM, so we'll issue the next
'FETCH 500 IN...' only after 500 GetNextFeature() calls.

Now, as you add a ExecuteSQL() in the loop, we execute the SQL in a new
transaction. If one is already opened at that point, it is closed before. So you
have now the following sequence

COMMIT; # Close existing active transaction
BEGIN;
UPDATE testhuge SET test = '1' WHERE test = '1';
COMMIT;

So the OGRPGLayerReader cursor is now in a defunc state, and when issuing the
next 'FETCH 500 IN OGRPGLayerReader;' the server returns an error and
GetNextFeature() returns in trun NULL. End of loop, end of game.

There's a workaround though. If I've well understood your test case (updating a
feature that you've just read), you could probably replace the ExecuteSQL by a
SetFeature() call after updating the fields needed. In trunk, SetFeature() is
implemented by UPDATE and I could test that it does not stop the current
transaction opened by GetNextFeature() (the effect of this is that the updates
will only be commited to storage at the end of the read loop). In 1.6 branch and
earlier, a DELETE and an INSERT are done, so I'm not sure how they deal with
transactions. At first sight, this looks like it would work too, although a bit
less efficient.

I'm not sure how we can improve the situation more generally. Perhaps, we could
try not to force closing existing transaction when executing a SQL UPDATE or
DELETE (SELECT is another story as we open a new cursor) ? No idea what the
other consequences / side-effects could be.

I'd also note that there are many other things you cannot do. For that above
reasons, you cannot interleaving reading 2 layers like this as the
lyr2.GetNextFeature() will begin by COMMIT'ing the transaction opened by
lyr1.GetNextFeature()

ds = ogr.Open('PG:dbname=autotest')
lyr1 = ds.GetLayerByName('testhuge')
lyr2 = ds.GetLayerByName('testhuge')
feat1 = lyr1.GetNextFeature()
feat2 = lyr2.GetNextFeature()
count = 0
while feat1 is not None and feat2 is not None:
    count = count + 1
    feat1.DumpReadable()
    feat2.DumpReadable()
    feat1 = lyr1.GetNextFeature()
    feat2 = lyr2.GetNextFeature()

There's probably place for improvements in the management of transactions in the
driver but this looks like pretty tricky to implement reliably.

Best regards,

Even


> Hi people,
>
> I recently discovered a strange behaviour which was not happening before, I
> think...
> I'm using Python 2.5 with GDAL/OGR 1.6 and PGsql 8.3 on Linux.
>
> I am reading a table containing 858 features with several columns and
> geometry.
> I first do a SELECT on the table and the GetFeatureCount tells me 858 lines
> are being readen.
> Then I am looping on the OGR object Feature by feature, to make some
> calculation and I send an UPDATE for this particular line through another OGR
> object.
> I have a counter after every UPDATE.
>
> Whereas it should go through all the 858 features, it stops after having gone
> through 500 features, my counter at the end shows 500 and looking to the
> database, it clearly stops after 500.
> I've done a test on a second database and it also stopped at 500...
>
> Is there some recently introduced limitations on OGR side ? I have searched
> all the website without finding something about it... May it come from some
> Python memory limitation ( I doubt) ? Or from some PGSQL server limitation (I
> doubt also because 858 features are returned at the beginning ?
>
> Thanks for your help,
> Best Regards,
> Matthieu Rigal
>
> RapidEye AG
> Molkenmarkt 30
> 14776 Brandenburg an der Havel
> Germany
>
> Follow us on Twitter! www.twitter.com/rapideye_ag
>
> Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
> Management Board/Vorstand: Wolfgang G. Biedermann
> Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates:
> Juergen Breitkopf
> Commercial Register/Handelsregister Potsdam HRB 17 796
> Tax Number/Steuernummer: 048/100/00053
> VAT-Ident-Number/Ust.-ID: DE 199331235
> DIN EN ISO 9001 certified
>
> *************************************************************************
> Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
> Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
> E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
> Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
> die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
>
> The information in this e-mail is intended for the named recipients
> only. It may contain privileged and confidential information. If you
> have received this communication in error, any use, copying or
> dissemination of its contents is strictly prohibited. Please erase all
> copies of the message along with any included attachments and notify
> RapidEye AG or the sender immediately by telephone at the number
> indicated on this page.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From even.rouault at mines-paris.org  Fri Oct  9 14:46:55 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Oct  9 14:46:57 2009
Subject: [gdal-dev] Python-OGR not looping over more than 500 PGSQL
	features
In-Reply-To: <1255113622.4acf8396a2ada@imp.free.fr>
References: <200910091241.29178.rigal@rapideye.de>
	<1255113622.4acf8396a2ada@imp.free.fr>
Message-ID: <1255114015.4acf851fa13d2@imp.free.fr>

Selon Even Rouault <even.rouault@mines-paris.org>:

Hmm, of course, read lyr2 = ds.GetLayerByName('testhuge2') in the last snippet.

> Selon Matthieu Rigal <rigal@rapideye.de>:
>
> Matthieu,
>
> I've been able to reproduce the behaviour you've observed by running the
> following snippet :
>
> >>>
> import ogr
>
> ds = ogr.Open('PG:dbname=autotest')
> lyr = ds.GetLayerByName('testhuge')
> feat = lyr.GetNextFeature()
> count = 0
> while feat is not None:
>     count = count + 1
>     feat.DumpReadable()
>     ds.ExecuteSQL("UPDATE testhuge SET test = '%s' WHERE test = '%s'" % (
> feat.GetField(0),feat.GetField(0) ))
>     feat = lyr.GetNextFeature()
>
> print 'count = %d' % count
> <<<
>
> The counter effectively stops at 500. This is the case with GDAL trunk, but
> also
> with OSGEO4W's GDAL/OGR 1.5.4, so if it is a regression, it is against an
> older
> version.
>
> Let me try to explain that behaviour. To improve reading performance, we try
> to
> minimize the number of round-trips to the server, so we read features by
> chunks
> of 500. This is done by the following sequence:
>
> BEGIN;
> DECLARE OGRPGLayerReader CURSOR FOR SELECT * FROM testhuge;
> FETCH 500 IN OGRPGLayerReader;
>
> at that point we have the first 500 features in RAM, so we'll issue the next
> 'FETCH 500 IN...' only after 500 GetNextFeature() calls.
>
> Now, as you add a ExecuteSQL() in the loop, we execute the SQL in a new
> transaction. If one is already opened at that point, it is closed before. So
> you
> have now the following sequence
>
> COMMIT; # Close existing active transaction
> BEGIN;
> UPDATE testhuge SET test = '1' WHERE test = '1';
> COMMIT;
>
> So the OGRPGLayerReader cursor is now in a defunc state, and when issuing the
> next 'FETCH 500 IN OGRPGLayerReader;' the server returns an error and
> GetNextFeature() returns in trun NULL. End of loop, end of game.
>
> There's a workaround though. If I've well understood your test case (updating
> a
> feature that you've just read), you could probably replace the ExecuteSQL by
> a
> SetFeature() call after updating the fields needed. In trunk, SetFeature() is
> implemented by UPDATE and I could test that it does not stop the current
> transaction opened by GetNextFeature() (the effect of this is that the
> updates
> will only be commited to storage at the end of the read loop). In 1.6 branch
> and
> earlier, a DELETE and an INSERT are done, so I'm not sure how they deal with
> transactions. At first sight, this looks like it would work too, although a
> bit
> less efficient.
>
> I'm not sure how we can improve the situation more generally. Perhaps, we
> could
> try not to force closing existing transaction when executing a SQL UPDATE or
> DELETE (SELECT is another story as we open a new cursor) ? No idea what the
> other consequences / side-effects could be.
>
> I'd also note that there are many other things you cannot do. For that above
> reasons, you cannot interleaving reading 2 layers like this as the
> lyr2.GetNextFeature() will begin by COMMIT'ing the transaction opened by
> lyr1.GetNextFeature()
>
> ds = ogr.Open('PG:dbname=autotest')
> lyr1 = ds.GetLayerByName('testhuge')
> lyr2 = ds.GetLayerByName('testhuge')
> feat1 = lyr1.GetNextFeature()
> feat2 = lyr2.GetNextFeature()
> count = 0
> while feat1 is not None and feat2 is not None:
>     count = count + 1
>     feat1.DumpReadable()
>     feat2.DumpReadable()
>     feat1 = lyr1.GetNextFeature()
>     feat2 = lyr2.GetNextFeature()
>
> There's probably place for improvements in the management of transactions in
> the
> driver but this looks like pretty tricky to implement reliably.
>
> Best regards,
>
> Even
>
>
> > Hi people,
> >
> > I recently discovered a strange behaviour which was not happening before, I
> > think...
> > I'm using Python 2.5 with GDAL/OGR 1.6 and PGsql 8.3 on Linux.
> >
> > I am reading a table containing 858 features with several columns and
> > geometry.
> > I first do a SELECT on the table and the GetFeatureCount tells me 858 lines
> > are being readen.
> > Then I am looping on the OGR object Feature by feature, to make some
> > calculation and I send an UPDATE for this particular line through another
> OGR
> > object.
> > I have a counter after every UPDATE.
> >
> > Whereas it should go through all the 858 features, it stops after having
> gone
> > through 500 features, my counter at the end shows 500 and looking to the
> > database, it clearly stops after 500.
> > I've done a test on a second database and it also stopped at 500...
> >
> > Is there some recently introduced limitations on OGR side ? I have searched
> > all the website without finding something about it... May it come from some
> > Python memory limitation ( I doubt) ? Or from some PGSQL server limitation
> (I
> > doubt also because 858 features are returned at the beginning ?
> >
> > Thanks for your help,
> > Best Regards,
> > Matthieu Rigal
> >
> > RapidEye AG
> > Molkenmarkt 30
> > 14776 Brandenburg an der Havel
> > Germany
> >
> > Follow us on Twitter! www.twitter.com/rapideye_ag
> >
> > Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
> > Management Board/Vorstand: Wolfgang G. Biedermann
> > Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates:
> > Juergen Breitkopf
> > Commercial Register/Handelsregister Potsdam HRB 17 796
> > Tax Number/Steuernummer: 048/100/00053
> > VAT-Ident-Number/Ust.-ID: DE 199331235
> > DIN EN ISO 9001 certified
> >
> > *************************************************************************
> > Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
> > Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
> > E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
> > Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
> > die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
> >
> > The information in this e-mail is intended for the named recipients
> > only. It may contain privileged and confidential information. If you
> > have received this communication in error, any use, copying or
> > dissemination of its contents is strictly prohibited. Please erase all
> > copies of the message along with any included attachments and notify
> > RapidEye AG or the sender immediately by telephone at the number
> > indicated on this page.
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From simon at spatialdbadvisor.com  Fri Oct  9 19:20:00 2009
From: simon at spatialdbadvisor.com (Simon Greener)
Date: Fri Oct  9 19:21:42 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <4ACD87EC.5050805@sarvision.nl>
References: <loom.20091001T095950-579@post.gmane.org>
	<4ACD1A30.1090305@gov.yk.ca> <4ACD87EC.5050805@sarvision.nl>
Message-ID: <op.u1j23mhtzbn0g9@spdba>

The need for a new vector file format has been discussed many times with no action initiated by the open source community on what to do.

> ESRI has said they will do so, but it's been several
> years since they first announced it and when it is finally is released
> there is no guarantee it will be under license terms open source
> projects can use. This isn't to say it will be unusable either, we
> just don't know.

Ahhh, isn't it wonderful waiting for the "crumbs that will fall from the master's table"!

And, "to wait" is part and parcel of being an ESRI-centric customer or user: strange that open source people are willing to do the same.
(Well, at least you aren't paying for the privilege of using the stuff.)

Why won't ESRI release an FDO (an Open Source open access API) provider for FGDBs rather than their own API? (I can find no reference to ESRI offering to do so for any of its formats.) Sounds like API lock-in is a design goal for the FGDB API!

Don't forget that a FGDB is full of ESRI concepts (not OGC or SQL/MM or those promoted by any other standards body) - more lock-in if it becomes the much hoped for replacement for shapefiles. And, what's more, we know nothing about what will be in the API. Where is the community engagement? Will we end up with an API via which we cannot (four examples will suffice):

1. Properly design (cf CASE tool) an FGDB (cf ESRI $$ extensions to Visio);
2. Create an FGDB from scratch;
3. Write data or create important objects (ie versions);
4. Create FGDB spatial and attribute indexes or even use them via the API (cf shapefile indexing);

These are points which have grounding in past ESRI practices. All done deliberately so you have to have a copy of ArcGIS to construct, design and get the best out of a fully specified FGDB?

And then, when there are serious bugs, you have to wait for 18 months for a fix while in the Open Source community you could get one in a matter of days or weeks?

Seriously, though, isn't open source about taking control of one's destiny and being a part of a truly open, collaborative, process and not waiting for the bully in the playground to tell you what you can and can't do, or who really isn't interested in your deadlines and real needs? Many times in my long GIS career I've had conversations with the 'true believers' over in Redlands. One was like this: "When will you support an Oracle Sdo_Geometry circle object in ArcSDE?". Reply: "Circles in GIS? We don't think you need them....".

The fixated concentration of the GIS community on physical file formats feels very much like a 1960s form of data management and computing. Logical separation from physical implementation, normalise for edit/denormalise for performance, logical separation from physical implementation, normalise for edit/denormalise for performance, logical..... oops the record is broken ....

The only reason I ever hear for physical file formats is "we need to do this for performance reasons"..... but this usually masks a lot of other reasons and assumptions (like it is "quicker and easier" that soon morphs into a management nightmare).....

cynically
Simon
-- 
SpatialDB Advice and Design, Solutions Architecture and Programming,
Oracle Database 10g Administrator Certified Associate; Oracle Database 10g SQL Certified Professional
Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME, Radius Topology and Studio Specialist.
39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
Website: www.spatialdbadvisor.com
    Email: simon@spatialdbadvisor.com
    Voice: +61 362 396397
Mobile: +61 418 396391
Skype: sggreener
Longitude: 147.20515 (147? 12' 18" E)
Latitude: -43.01530 (43? 00' 55" S)
GeoHash: r22em9r98wg
NAC:W80CK 7SWP3
From John.C.Cartwright at noaa.gov  Fri Oct  9 18:24:27 2009
From: John.C.Cartwright at noaa.gov (John Cartwright)
Date: Fri Oct  9 19:24:28 2009
Subject: [gdal-dev] compiling hdf5 support into gdal-1.6.2
Message-ID: <4ACFB81B.9090503@noaa.gov>

Hello All,

I'm trying to compile in hdf5 support by specifying
"--with-hdf5=/usr/local/contrib" to the configure script.  The hdf 5
libraries are located in /usr/local/contrib/lib.  However, configure
tells me:

configure: error: HDF5 support requested with arg /usr/local/contrib,
but no hdf5 lib found

I've tried both "--with-hdf5=/usr/local/contrib" and
"--with-hdf5=/usr/local/contrib/lib" w/o success. /usr/local/contrib
contains:
libhdf5.a
libhdf5_hl.a
libhdf5_hl.la
libhdf5_hl.so
libhdf5_hl.so.6
libhdf5_hl.so.6.0.2
libhdf5.la
libhdf5.settings
libhdf5.so
libhdf5.so.6
libhdf5.so.6.0.2

Can someone help me w/ the proper syntax for this option?

Thanks!

--john


From warmerdam at pobox.com  Fri Oct  9 20:19:16 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct  9 20:19:07 2009
Subject: [gdal-dev] compiling hdf5 support into gdal-1.6.2
In-Reply-To: <4ACFB81B.9090503@noaa.gov>
References: <4ACFB81B.9090503@noaa.gov>
Message-ID: <4ACFD304.4000002@pobox.com>

John Cartwright wrote:
> Hello All,
> 
> I'm trying to compile in hdf5 support by specifying
> "--with-hdf5=/usr/local/contrib" to the configure script.  The hdf 5
> libraries are located in /usr/local/contrib/lib.  However, configure
> tells me:
> 
> configure: error: HDF5 support requested with arg /usr/local/contrib,
> but no hdf5 lib found
> 
> I've tried both "--with-hdf5=/usr/local/contrib" and
> "--with-hdf5=/usr/local/contrib/lib" w/o success. /usr/local/contrib

John,

Search your config.log file for stuff about hdf5.  In my case where it
worked I see something like:

configure:23094: checking for H5Fopen in -lhdf5
configure:23129: gcc -o conftest -fPIC  -g -DDEBUG  -L/wrk/home/warmerda/gdal 
-L/wrk/home/warmerda/bld/lib conftest.c -lhdf5 -lhdf5 -L/usr/lib 
-L/wrk/home/warmerda/pkg/HDF4.2r1/NewHDF/lib -lmfhdf -ldf 
-L/wrk/home/warmerda/bld/lib -lgeotiff -L/wrk/home/warmerda/bld/lib -ltiff 
-lnetcdf -lpq -L/media/hda1/usr/local/pgsql/lib -lpq -lpthread -lm -lrt -ldl 
-lhdf5 >&5
configure:23135: $? = 0
configure:23153: result: yes

Often you will see clues to why the test link failed.  I used
--with-hdf5=/usr for stuff in /usr/lib.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From alan.hale at BTCLICK.COM  Sat Oct 10 01:52:58 2009
From: alan.hale at BTCLICK.COM (Alan Hale)
Date: Sat Oct 10 01:53:00 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
Message-ID: <1255153978850-3798702.post@n2.nabble.com>


Hello

I'm attempting to install gdal-1.6.2 but when I try to "make" I get the
error:

/usr/local/src/gdal-1.6.2/frmts/o/aaigriddataset.o: No such file or
directory

On a guess, I tried ./configure --without-AAIGrid but this did not help.

Any advice please? Many tahnks

Alan Hale
-- 
View this message in context: http://n2.nabble.com/Missing-aaigriddataset-o-on-make-tp3798702p3798702.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Sat Oct 10 08:44:57 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Oct 10 08:45:01 2009
Subject: [gdal-dev] Python bindings
Message-ID: <eb502d880910100544m680daa28n707ec521fc5c8c94@mail.gmail.com>

Hi,

I am having trouble running GDAL's Python bindings. I compiled the trunk
with the option --with-python. Below is some output from my command line. I
am running this on a newly installed system. It has only 2.6 version of
Python and python-setuptools.

----------------------------------
ubuntu@ubuntu:~/gdal/2270/trunk/gdal$ export PYTHONPATH=/usr/local/
ubuntu@ubuntu:~/gdal/2270/trunk/gdal$ python
Python 2.6.2 (release26-maint, Apr 19 2009, 01:58:18)
[GCC 4.3.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> from osgeo import gdal
Traceback (most recent call last):
 File "<stdin>", line 1, in <module>
 File
"/usr/local/lib/python2.6/dist-packages/GDAL-1.6.0-py2.6-linux-x86_64.egg/osgeo/__init__.py",
line 4, in <module>
   import _gdal
ImportError: libgdal.so.1: cannot open shared object file: No such file or
directory
>>> import gdal
Traceback (most recent call last):
 File "<stdin>", line 1, in <module>
 File
"/usr/local/lib/python2.6/dist-packages/GDAL-1.6.0-py2.6-linux-x86_64.egg/gdal.py",
line 2, in <module>
   from osgeo.gdal import deprecation_warn
 File
"/usr/local/lib/python2.6/dist-packages/GDAL-1.6.0-py2.6-linux-x86_64.egg/osgeo/__init__.py",
line 4, in <module>
   import _gdal
ImportError: libgdal.so.1: cannot open shared object file: No such file or
directory
>>>
ubuntu@ubuntu:~/gdal/2270/trunk/gdal$ ls /usr/local/lib/
libgdal.a  libgdal.la  libgdal.so  libgdal.so.1  libgdal.so.1.13.0
python2.6
ubuntu@ubuntu:~/gdal/2270/trunk/gdal$
----------------------------------

Thank you.
-- 
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091010/1934f84e/attachment.html
From chaitanya.ch at gmail.com  Sat Oct 10 08:53:11 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Oct 10 08:53:13 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <1255153978850-3798702.post@n2.nabble.com>
References: <1255153978850-3798702.post@n2.nabble.com>
Message-ID: <eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>

Alan,

Do you have write permissions

On Sat, Oct 10, 2009 at 5:52 AM, Alan Hale <alan.hale@btclick.com> wrote:

>
> Hello
>
> I'm attempting to install gdal-1.6.2 but when I try to "make" I get the
> error:
>
> /usr/local/src/gdal-1.6.2/frmts/o/aaigriddataset.o: No such file or
> directory
>
> On a guess, I tried ./configure --without-AAIGrid but this did not help.
>
> Any advice please? Many tahnks
>
> Alan Hale
> --
> View this message in context:
> http://n2.nabble.com/Missing-aaigriddataset-o-on-make-tp3798702p3798702.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091010/3c41e818/attachment.html
From chaitanya.ch at gmail.com  Sat Oct 10 08:55:38 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat Oct 10 08:55:41 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>
References: <1255153978850-3798702.post@n2.nabble.com>
	<eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>
Message-ID: <eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>

Alan,

Sorry for the previous mail. I hit the send button by accident.

Is the file aaigriddataset.o actually missing? I guess this error occured
during linking. Could you confirm that?

On Sat, Oct 10, 2009 at 12:53 PM, Chaitanya kumar CH <chaitanya.ch@gmail.com
> wrote:

> Alan,
>
> Do you have write permissions
>
> On Sat, Oct 10, 2009 at 5:52 AM, Alan Hale <alan.hale@btclick.com> wrote:
>
>>
>> Hello
>>
>> I'm attempting to install gdal-1.6.2 but when I try to "make" I get the
>> error:
>>
>> /usr/local/src/gdal-1.6.2/frmts/o/aaigriddataset.o: No such file or
>> directory
>>
>> On a guess, I tried ./configure --without-AAIGrid but this did not help.
>>
>> Any advice please? Many tahnks
>>
>> Alan Hale
>> --
>> View this message in context:
>> http://n2.nabble.com/Missing-aaigriddataset-o-on-make-tp3798702p3798702.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>



-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091010/1f82ddf5/attachment.html
From warmerdam at pobox.com  Sat Oct 10 09:13:47 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Oct 10 09:13:32 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <1255153978850-3798702.post@n2.nabble.com>
References: <1255153978850-3798702.post@n2.nabble.com>
Message-ID: <4AD0888B.9010707@pobox.com>

Alan Hale wrote:
> Hello
> 
> I'm attempting to install gdal-1.6.2 but when I try to "make" I get the
> error:
> 
> /usr/local/src/gdal-1.6.2/frmts/o/aaigriddataset.o: No such file or
> directory
> 
> On a guess, I tried ./configure --without-AAIGrid but this did not help.

Alan,

I would need more context to diagnose the problem.  What happens if you
cd into gdal/frmts/aaigrid and do "make install-obj"?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From alan.hale at btclick.com  Sat Oct 10 09:37:13 2009
From: alan.hale at btclick.com (Alan Hale)
Date: Sat Oct 10 09:36:13 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>
References: <1255153978850-3798702.post@n2.nabble.com>	
	<eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>
	<eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>
Message-ID: <4AD08E09.9010807@btclick.com>

Chaitanya

The file "aaigriddataset.o" is missing, but there is a file 
"aaigriddataset.lo".

Thank you for the reply.

Regards

Alan Hale




Chaitanya kumar CH wrote:
> Alan,
>
> Sorry for the previous mail. I hit the send button by accident.
>
> Is the file aaigriddataset.o actually missing? I guess this error 
> occured during linking. Could you confirm that?
>
> On Sat, Oct 10, 2009 at 12:53 PM, Chaitanya kumar CH <chaitanya.ch 
> <http://chaitanya.ch>@gmail.com <http://gmail.com>> wrote:
>
>     Alan,
>
>     Do you have write permissions
>
>     On Sat, Oct 10, 2009 at 5:52 AM, Alan Hale <alan.hale@btclick.com
>     <mailto:alan.hale@btclick.com>> wrote:
>
>
>         Hello
>
>         I'm attempting to install gdal-1.6.2 but when I try to "make"
>         I get the
>         error:
>
>         /usr/local/src/gdal-1.6.2/frmts/o/aaigriddataset.o: No such
>         file or
>         directory
>
>         On a guess, I tried ./configure --without-AAIGrid but this did
>         not help.
>
>         Any advice please? Many tahnks
>
>         Alan Hale
>         --
>         View this message in context:
>         http://n2.nabble.com/Missing-aaigriddataset-o-on-make-tp3798702p3798702.html
>         Sent from the GDAL - Dev mailing list archive at Nabble.com.
>         _______________________________________________
>         gdal-dev mailing list
>         gdal-dev@lists.osgeo.org <mailto:gdal-dev@lists.osgeo.org>
>         http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
>     -- 
>     Best regards,
>     Chaitanya kumar CH.
>
>
>
>
> -- 
> Best regards,
> Chaitanya kumar CH.



__________ Information from ESET Smart Security, version of virus signature database 4495 (20091010) __________

The message was checked by ESET Smart Security.

http://www.eset.com


From alan.hale at btclick.com  Sat Oct 10 09:51:04 2009
From: alan.hale at btclick.com (Alan Hale)
Date: Sat Oct 10 09:49:04 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>
References: <1255153978850-3798702.post@n2.nabble.com>	
	<eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>
	<eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>
Message-ID: <4AD09148.9050702@btclick.com>

Sorry - just to clarify - aaigriddataset.o is missing from 
/gdal-1.6.2/frmts/o/ (the path indicated in the error message) but it IS 
present directly under /gdal-1.6.2/frmts/aaigrid/

Frank - to answer your question - doing make install-obj in that latter 
directory gives a response "nothing to be done" - which I guess is what 
you would expect!

There was previous to this error an error relating to linking :

libtool : link : unable to infer tagged configuration
libtool  link : specify a tag with '--tag'

I got past this by adding '--tag=CXX' to the line 
"LIBTOOL_LINK=$(LIBTOOL) --mode=link" though I confess again that was 
only a guess based on a Google search on the error.

Many thanks

Alan Hale



Chaitanya kumar CH wrote:
> Alan,
>
> Sorry for the previous mail. I hit the send button by accident.
>
> Is the file aaigriddataset.o actually missing? I guess this error 
> occured during linking. Could you confirm that?
>
> On Sat, Oct 10, 2009 at 12:53 PM, Chaitanya kumar CH <chaitanya.ch 
> <http://chaitanya.ch>@gmail.com <http://gmail.com>> wrote:
>
>     Alan,
>
>     Do you have write permissions
>
>     On Sat, Oct 10, 2009 at 5:52 AM, Alan Hale <alan.hale@btclick.com
>     <mailto:alan.hale@btclick.com>> wrote:
>
>
>         Hello
>
>         I'm attempting to install gdal-1.6.2 but when I try to "make"
>         I get the
>         error:
>
>         /usr/local/src/gdal-1.6.2/frmts/o/aaigriddataset.o: No such
>         file or
>         directory
>
>         On a guess, I tried ./configure --without-AAIGrid but this did
>         not help.
>
>         Any advice please? Many tahnks
>
>         Alan Hale
>         --
>         View this message in context:
>         http://n2.nabble.com/Missing-aaigriddataset-o-on-make-tp3798702p3798702.html
>         Sent from the GDAL - Dev mailing list archive at Nabble.com.
>         _______________________________________________
>         gdal-dev mailing list
>         gdal-dev@lists.osgeo.org <mailto:gdal-dev@lists.osgeo.org>
>         http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
>     -- 
>     Best regards,
>     Chaitanya kumar CH.
>
>
>
>
> -- 
> Best regards,
> Chaitanya kumar CH.



__________ Information from ESET Smart Security, version of virus signature database 4495 (20091010) __________

The message was checked by ESET Smart Security.

http://www.eset.com


From alan.hale at btclick.com  Sat Oct 10 09:56:00 2009
From: alan.hale at btclick.com (Alan Hale)
Date: Sat Oct 10 09:55:00 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <4AD09148.9050702@btclick.com>
References: <1255153978850-3798702.post@n2.nabble.com>		<eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>	<eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>
	<4AD09148.9050702@btclick.com>
Message-ID: <4AD09270.2030008@btclick.com>

Just one more thing - I notice that 
/gdal-1.6.2/frmts/aaigrid/aaigriddataset.o is owned by root, whereas all 
the other files under the gdal directory are owned by a regular user, 
which seems odd (I have been running all commands as su however).

Alan


__________ Information from ESET Smart Security, version of virus signature database 4495 (20091010) __________

The message was checked by ESET Smart Security.

http://www.eset.com


From alan.hale at btclick.com  Sat Oct 10 10:01:38 2009
From: alan.hale at btclick.com (Alan Hale)
Date: Sat Oct 10 09:59:36 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <4AD09270.2030008@btclick.com>
References: <1255153978850-3798702.post@n2.nabble.com>		<eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>	<eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>	<4AD09148.9050702@btclick.com>
	<4AD09270.2030008@btclick.com>
Message-ID: <4AD093C2.7070109@btclick.com>

Whoops - not true - all the .o and .lo files seem to be owned by root.

Alan Hale wrote:
> Just one more thing - I notice that 
> /gdal-1.6.2/frmts/aaigrid/aaigriddataset.o is owned by root, whereas 
> all the other files under the gdal directory are owned by a regular 
> user, which seems odd (I have been running all commands as su however).
>
> Alan
>
>
> __________ Information from ESET Smart Security, version of virus 
> signature database 4495 (20091010) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> __________ Information from ESET Smart Security, version of virus 
> signature database 4495 (20091010) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>
>



__________ Information from ESET Smart Security, version of virus signature database 4495 (20091010) __________

The message was checked by ESET Smart Security.

http://www.eset.com


From randyqiuxy at hotmail.com  Sun Oct 11 02:25:03 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Sun Oct 11 02:25:04 2009
Subject: [gdal-dev] different result of ogrinfo between GDAL/OGR and FWTools
Message-ID: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>

Hi list,

I find the ogrinfo which GDAL/OGR source code produced cannot get all
fields(such as attribute fields) of a feature(s_57), while the ogrinfo in
fwtools can make it.

Anyone knows its reason?

Thanks in advance!

Best regards,

Randy

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091011/1909d186/attachment.html
From chaitanya.ch at gmail.com  Sun Oct 11 03:14:44 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sun Oct 11 03:14:48 2009
Subject: [gdal-dev] different result of ogrinfo between GDAL/OGR and 
	FWTools
In-Reply-To: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>
References: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>
Message-ID: <eb502d880910110014u3e090a96o828809cb17689e8d@mail.gmail.com>

Randy,

Perchance, the versions were different. Try the --version option.

On Sun, Oct 11, 2009 at 11:55 AM, Randy <randyqiuxy@hotmail.com> wrote:

>  Hi list,
>
> I find the ogrinfo which GDAL/OGR source code produced cannot get all
> fields(such as attribute fields) of a feature(s_57), while the ogrinfo in
> fwtools can make it.
>
> Anyone knows its reason?
>
> Thanks in advance!
>
> Best regards,
>
> Randy
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091011/7590b721/attachment.html
From randyqiuxy at hotmail.com  Sun Oct 11 04:55:45 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Sun Oct 11 04:55:48 2009
Subject: =?utf-8?Q?=E7=AD=94=E5=A4=8D:_Re:_=5Bgdal-dev=5D_different_res?=
	=?utf-8?Q?ult_of_ogrinfo_between_GDAL/OGR_?= =?utf-8?Q?and_	FWTools?=
In-Reply-To: <eb502d880910110014u3e090a96o828809cb17689e8d@mail.gmail.com>
References: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>
	<eb502d880910110014u3e090a96o828809cb17689e8d@mail.gmail.com>
Message-ID: <BLU137-DS10D93DB0B1C94701296D0C3C90@phx.gbl>

Chaitanya?

Thanks you, Chaitanya! 

To be frank, I don?t  understand what  you mean. Could you give me some more explicit guidance and where I should change the version option? I use the latest stable GDAL/OGR release version-1.6.2 and FWTools-2.4.5, but ogrinfos from them result in different results. And what I get from my own application based on OGR equal with what ogrinfo of GDAL/OGR get. However, it lost something comparing with FWTools?s ogrinfo.

Besides that, I find the environment variable ?OGR_S57_OPTIONS? doesn?t work and the result didn?t change after I set the variable and restart my PC.

Anyone knows why?

Thanks again!!

Best regards,

Randy

 

???: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com] 
????: 2009?10?11? 15:15
???: Randy
??: GDAL/OGR mailing list
??: [?? Probable Spam] Re: [gdal-dev] different result of ogrinfo between GDAL/OGR and FWTools

 

Randy,

Perchance, the versions were different. Try the --version option.

On Sun, Oct 11, 2009 at 11:55 AM, Randy <randyqiuxy@hotmail.com> wrote:

Hi list,

I find the ogrinfo which GDAL/OGR source code produced cannot get all fields(such as attribute fields) of a feature(s_57), while the ogrinfo in fwtools can make it.

Anyone knows its reason?

Thanks in advance!

Best regards,

Randy


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev




-- 
Best regards,
Chaitanya kumar CH.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091011/df2fca70/attachment.html
From alan.hale at btclick.com  Sun Oct 11 06:25:11 2009
From: alan.hale at btclick.com (Alan Hale)
Date: Sun Oct 11 06:23:10 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <4AD09148.9050702@btclick.com>
References: <1255153978850-3798702.post@n2.nabble.com>		<eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>	<eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>
	<4AD09148.9050702@btclick.com>
Message-ID: <4AD1B287.9020804@btclick.com>

I just tried copying aaigriddataset.o from  /frmts/aaigrid/ to /frmts/o/ 
and doing a "make" again. This time it is reporting not finding 
/adrgdataset.o/ under /frmts/o/. I suspect this could go on and on! Is 
anyone able to explain what is going wrong?

Many thanks.

Alan


Alan Hale wrote:
> Sorry - just to clarify - aaigriddataset.o is missing from 
> /gdal-1.6.2/frmts/o/ (the path indicated in the error message) but it 
> IS present directly under /gdal-1.6.2/frmts/aaigrid/
>
> Frank - to answer your question - doing make install-obj in that 
> latter directory gives a response "nothing to be done" - which I guess 
> is what you would expect!
>
> There was previous to this error an error relating to linking :
>
> libtool : link : unable to infer tagged configuration
> libtool  link : specify a tag with '--tag'
>
> I got past this by adding '--tag=CXX' to the line 
> "LIBTOOL_LINK=$(LIBTOOL) --mode=link" though I confess again that was 
> only a guess based on a Google search on the error.
>
> Many thanks
>
> Alan Hale
>
>
>
> Chaitanya kumar CH wrote:
>> Alan,
>>
>> Sorry for the previous mail. I hit the send button by accident.
>>
>> Is the file aaigriddataset.o actually missing? I guess this error 
>> occured during linking. Could you confirm that?
>>
>> On Sat, Oct 10, 2009 at 12:53 PM, Chaitanya kumar CH <chaitanya.ch 
>> <http://chaitanya.ch>@gmail.com <http://gmail.com>> wrote:
>>
>>     Alan,
>>
>>     Do you have write permissions
>>
>>     On Sat, Oct 10, 2009 at 5:52 AM, Alan Hale <alan.hale@btclick.com
>>     <mailto:alan.hale@btclick.com>> wrote:
>>
>>
>>         Hello
>>
>>         I'm attempting to install gdal-1.6.2 but when I try to "make"
>>         I get the
>>         error:
>>
>>         /usr/local/src/gdal-1.6.2/frmts/o/aaigriddataset.o: No such
>>         file or
>>         directory
>>
>>         On a guess, I tried ./configure --without-AAIGrid but this did
>>         not help.
>>
>>         Any advice please? Many tahnks
>>
>>         Alan Hale
>>         --
>>         View this message in context:
>>         
>> http://n2.nabble.com/Missing-aaigriddataset-o-on-make-tp3798702p3798702.html 
>>
>>         Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>         _______________________________________________
>>         gdal-dev mailing list
>>         gdal-dev@lists.osgeo.org <mailto:gdal-dev@lists.osgeo.org>
>>         http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>>
>>     --     Best regards,
>>     Chaitanya kumar CH.
>>
>>
>>
>>
>> -- 
>> Best regards,
>> Chaitanya kumar CH.
>
>
>
> __________ Information from ESET Smart Security, version of virus 
> signature database 4495 (20091010) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> __________ Information from ESET Smart Security, version of virus 
> signature database 4495 (20091010) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>
>



__________ Information from ESET Smart Security, version of virus signature database 4496 (20091010) __________

The message was checked by ESET Smart Security.

http://www.eset.com


From jukka.rahkonen at mmmtike.fi  Sun Oct 11 06:27:07 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun Oct 11 06:27:34 2009
Subject: =?utf-8?b?562U5aSNOg==?= Re: [gdal-dev] different result of
	ogrinfo between GDAL/OGR =?utf-8?b?PT91dGYtOD9RP2FuZF8JRldUb29scz89?=
References: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>
	<eb502d880910110014u3e090a96o828809cb17689e8d@mail.gmail.com>
	<BLU137-DS10D93DB0B1C94701296D0C3C90@phx.gbl>
Message-ID: <loom.20091011T122239-585@post.gmane.org>

Randy <randyqiuxy <at> hotmail.com> writes:
 
> Chaitanya?
> 
> Thanks
> you, Chaitanya! 
> 
> To be
> frank, I don?t ?understand what ?you mean. Could you give me some more explicit
> guidance and where I should change the version option? I use the latest stable
GDAL/OGR

Hi,

Meaning was to check first if gdal versions are same by giving
ogrinfo --version
GDAL 1.7.0dev, FWTools 2.4.2, released 2009/06/24

Version cannot be changed from command line.  
If gdal versions are the same then reason for different result must be somewhere
deeper.

-Jukka Rahkonen-

From mateusz at loskot.net  Sun Oct 11 08:43:22 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sun Oct 11 08:43:30 2009
Subject: [gdal-dev] different result of ogrinfo between GDAL/OGR and
	FWTools
In-Reply-To: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>
References: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>
Message-ID: <4AD1D2EA.5030608@loskot.net>

Randy wrote:
> Hi list,
> 
> I find the ogrinfo which GDAL/OGR source code

Which version? There are number of versions of GDAL thus number of
versions of ogrinfo.

> produced cannot get all fields(such as attribute fields) of a
> feature(s_57), while the ogrinfo in fwtools can make it.

If you have problem with any particular command and its results,
it is almost mandatory to provide example of commands and their results
so everybody can see how the problem leaks.
Otherwise, it's not really possible to help.

> Anyone knows its reason?

No reason, unless you provide more precise information

http://catb.org/~esr/faqs/smart-questions.html#beprecise

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From warmerdam at pobox.com  Sun Oct 11 09:37:53 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Oct 11 09:38:07 2009
Subject: [Gdal-dev] Missing aaigriddataset.o on make
In-Reply-To: <4AD1B287.9020804@btclick.com>
References: <1255153978850-3798702.post@n2.nabble.com>	
	<eb502d880910100553l7ef66547p11e4f6c8affe9fb4@mail.gmail.com>
	<eb502d880910100555y3d207578o474be06b95259cb1@mail.gmail.com>
	<4AD09148.9050702@btclick.com> <4AD1B287.9020804@btclick.com>
Message-ID: <4AD1DFB1.9060401@pobox.com>

Alan Hale wrote:
>> There was previous to this error an error relating to linking :
>>
>> libtool : link : unable to infer tagged configuration
>> libtool  link : specify a tag with '--tag'
>>
>> I got past this by adding '--tag=CXX' to the line 
>> "LIBTOOL_LINK=$(LIBTOOL) --mode=link" though I confess again that was 
>> only a guess based on a Google search on the error.

Alan,

I think this is the core of your problem and the solution was incorrect.
I do not know why you are encountering this problem.

I hesitate to keep guessing at the issue with incomplete information.  Are
you sure there isn't anything else unusual you might have done?  Perhaps
you should start from a fresh clean tree?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From yilmaz.arslanoglu at gmail.com  Sun Oct 11 09:53:19 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Sun Oct 11 09:53:20 2009
Subject: [gdal-dev] randyqiuxy@hotmail.com
Message-ID: <150158ad0910110653g137de17l55ee28f9094c4f61@mail.gmail.com>

Hi Randy;

Did you check that you set the GDAL_DATA configuration correctly?

If it is the case, then here is the previous answer from Frank:

"This might be accomplished by setting the GDAL_DATA configuration
variable either via the environment or the CPLSetConfigOption()
function.  Were you using ogrinfo from an environment like
OSGeo4W or FWTools that sets up the environment carefully?"

And my question was:
---------------------------------

Hello everybody;

First of all, I would like to say that I am quite new in S-57 format
and GDAL/OGR libraries.

As a starting point, I downloaded the source codes and built the whole
GDAL library on my computer,
using the "nmake" of Visual Studio 2008.

Now:

poDS = OGRSFDriverRegistrar::Open( "US5LA24M.000", FALSE );
for (int i = 0; i < poDS->GetLayerCount(); i++)
   printf("layer %d: %s\n", i, poDS->GetLayer(i)->GetLayerDefn()->GetName());

When I try to list the layer names of a datasource with the code snippet above,
I get the following result:

layer 0: DSID
layer 1: Point
layer 2: Line
layer 3: Area
layer 4: Meta

However, the utility application "ogrinfo" gives a quite different
result as follows:
(when run with command  "ogrinfo US5LA24M.000" )

1: DSID (None)
2: ACHARE
3: BCNLAT (Point)
4: BCNSPP (Point)
5: BUISGL
...
...
...
49: M_QUAL (Polygon)
50: C_ASSO (None)

I examined the source code of "ogrinfo" under the "gdal-1.6.2\apps\"
directory, however,
I could not find a difference in terms of listing the layers in the dataset.

What could be the problem, is there a point that I'm missing?
From randyqiuxy at hotmail.com  Sun Oct 11 09:53:48 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Sun Oct 11 09:53:46 2009
Subject: =?gb2312?B?tPC4tDogUmU6IFtnZGFsLWRldl0gZGlmZmVyZW50IHJlc3VsdCBvZg==?=
	=?gb2312?B?IG9ncmluZm8gYmV0d2VlbiBHREFML09HUiBhbmQgRldUb29scw==?=
In-Reply-To: <4AD1D2EA.5030608@loskot.net>
References: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>
	<4AD1D2EA.5030608@loskot.net>
Message-ID: <BLU137-DS422A957F932749E0D7B31C3C90@phx.gbl>

Mateusz,
Thank you and Jukka!
We know there is a ogrinfo application in GDAL/OGR after building GDAL =
from
source on windows and also the FWTools has one too.
When I use ogrinfo of FWTools by command line"ogrinfo -ro -al -q =
mys_57file.
000 |more", what I got was as follows(just some part of it):

Layer name: BCNSPP
OGRFeature<BCNSPP>:6
RCID <Integer>=3D7
PRIM<Integer>=3D1
GRUP<Integer>=3D2
OBJL<Integer>=3D9
RVER<Integer>=3D1
AGEN<Integer>=3D550
FIDN<Integer>=3D2738
LNAM<String>=3D022608917DEF0AB2
LNAM_REFS<StringList>=3D<1: 022608917DEF0AB2>
LNAME_RIND<IntegerList>=3D<1:2>
BCNSHP <Integer>=3D<NULL>
CATSPM<String>=3D27
COLOUR<String>=3D
COLPAT<String>=3D<NULL>
CONDTN<Integer>=3D<NULL>
CONRAD<Integer>=3D<NULL>
CONVIS<Integer>=3D<NULL>
DATEND<Integer>=3D<NULL>
DATSTA<Integer>=3D<NULL>
....
POINT<-177.639010000000001 68.3285500000007>

Then I use the ogrinfo from GDAL/OGR, the following was what I could =
got:
Layer name: Point
OGRFeature<Point>:6
RCID <Integer>=3D7
PRIM<Integer>=3D1
GRUP<Integer>=3D2
OBJL<Integer>=3D9
RVER<Integer>=3D1
AGEN<Integer>=3D550
FIDN<Integer>=3D2738
LNAM<String>=3D022608917DEF0AB2
LNAM_REFS<StringList>=3D<1: 022608917DEF0AB2>
LNAME_RIND<IntegerList>=3D<1:2>
POINT<-177.639010000000001 68.3285500000007>

Yes, maybe you've see the last one lost a feature's attribute subfield =
like
CATSPM. And when I retrieve feature's fields in my own application, I
couldn=A1=AFt get attributes' fields either.
Thanks for your care about my problem and thanks in advance!
Best Regards,
Randy
-----=D3=CA=BC=FE=D4=AD=BC=FE-----
=B7=A2=BC=FE=C8=CB: Mateusz Loskot [mailto:mateusz@loskot.net]=20
=B7=A2=CB=CD=CA=B1=BC=E4: 2009=C4=EA10=D4=C211=C8=D5 20:43
=CA=D5=BC=FE=C8=CB: Randy
=B3=AD=CB=CD: GDAL/OGR mailing list
=D6=F7=CC=E2: [?? Probable Spam] Re: [gdal-dev] different result of =
ogrinfo between
GDAL/OGR and FWTools

Randy wrote:
> Hi list,
>=20
> I find the ogrinfo which GDAL/OGR source code

Which version? There are number of versions of GDAL thus number of
versions of ogrinfo.

> produced cannot get all fields(such as attribute fields) of a
> feature(s_57), while the ogrinfo in fwtools can make it.

If you have problem with any particular command and its results,
it is almost mandatory to provide example of commands and their results
so everybody can see how the problem leaks.
Otherwise, it's not really possible to help.

> Anyone knows its reason?

No reason, unless you provide more precise information

http://catb.org/~esr/faqs/smart-questions.html#beprecise

Best regards,
--=20
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org

From yilmaz.arslanoglu at gmail.com  Sun Oct 11 09:57:14 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Sun Oct 11 09:57:17 2009
Subject: [gdal-dev] Re: randyqiuxy@hotmail.com
In-Reply-To: <150158ad0910110653g137de17l55ee28f9094c4f61@mail.gmail.com>
References: <150158ad0910110653g137de17l55ee28f9094c4f61@mail.gmail.com>
Message-ID: <150158ad0910110657x1c010b5ep722c7178efa8e34c@mail.gmail.com>

I'm very sorry, I made a wrong copy-paste in the subject field I think :)

On Sun, Oct 11, 2009 at 3:53 PM, Yilmaz Arslanoglu
<yilmaz.arslanoglu@gmail.com> wrote:
> Hi Randy;
>
> Did you check that you set the GDAL_DATA configuration correctly?
>
> If it is the case, then here is the previous answer from Frank:
>
> "This might be accomplished by setting the GDAL_DATA configuration
> variable either via the environment or the CPLSetConfigOption()
> function. ?Were you using ogrinfo from an environment like
> OSGeo4W or FWTools that sets up the environment carefully?"
>
> And my question was:
> ---------------------------------
>
> Hello everybody;
>
> First of all, I would like to say that I am quite new in S-57 format
> and GDAL/OGR libraries.
>
> As a starting point, I downloaded the source codes and built the whole
> GDAL library on my computer,
> using the "nmake" of Visual Studio 2008.
>
> Now:
>
> poDS = OGRSFDriverRegistrar::Open( "US5LA24M.000", FALSE );
> for (int i = 0; i < poDS->GetLayerCount(); i++)
> ? printf("layer %d: %s\n", i, poDS->GetLayer(i)->GetLayerDefn()->GetName());
>
> When I try to list the layer names of a datasource with the code snippet above,
> I get the following result:
>
> layer 0: DSID
> layer 1: Point
> layer 2: Line
> layer 3: Area
> layer 4: Meta
>
> However, the utility application "ogrinfo" gives a quite different
> result as follows:
> (when run with command ?"ogrinfo US5LA24M.000" )
>
> 1: DSID (None)
> 2: ACHARE
> 3: BCNLAT (Point)
> 4: BCNSPP (Point)
> 5: BUISGL
> ...
> ...
> ...
> 49: M_QUAL (Polygon)
> 50: C_ASSO (None)
>
> I examined the source code of "ogrinfo" under the "gdal-1.6.2\apps\"
> directory, however,
> I could not find a difference in terms of listing the layers in the dataset.
>
> What could be the problem, is there a point that I'm missing?
>
From yilmaz.arslanoglu at gmail.com  Sun Oct 11 09:59:01 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Sun Oct 11 09:59:04 2009
Subject: [gdal-dev] different result of ogrinfo between GDAL/OGR and FWTools
Message-ID: <150158ad0910110659x5af7438djc2f5b28840f7d23f@mail.gmail.com>

Hi Randy;

Did you check that you set the GDAL_DATA configuration correctly?

If it is the case, then here is the previous answer from Frank:

"This might be accomplished by setting the GDAL_DATA configuration
variable either via the environment or the CPLSetConfigOption()
function. ?Were you using ogrinfo from an environment like
OSGeo4W or FWTools that sets up the environment carefully?"

And my question was:
---------------------------------

Hello everybody;

First of all, I would like to say that I am quite new in S-57 format
and GDAL/OGR libraries.

As a starting point, I downloaded the source codes and built the whole
GDAL library on my computer,
using the "nmake" of Visual Studio 2008.

Now:

poDS = OGRSFDriverRegistrar::Open( "US5LA24M.000", FALSE );
for (int i = 0; i < poDS->GetLayerCount(); i++)
? printf("layer %d: %s\n", i, poDS->GetLayer(i)->GetLayerDefn()->GetName());

When I try to list the layer names of a datasource with the code snippet above,
I get the following result:

layer 0: DSID
layer 1: Point
layer 2: Line
layer 3: Area
layer 4: Meta

However, the utility application "ogrinfo" gives a quite different
result as follows:
(when run with command ?"ogrinfo US5LA24M.000" )

1: DSID (None)
2: ACHARE
3: BCNLAT (Point)
4: BCNSPP (Point)
5: BUISGL
...
...
...
49: M_QUAL (Polygon)
50: C_ASSO (None)

I examined the source code of "ogrinfo" under the "gdal-1.6.2\apps\"
directory, however,
I could not find a difference in terms of listing the layers in the dataset.

What could be the problem, is there a point that I'm missing?
From mateusz at loskot.net  Sun Oct 11 13:24:28 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sun Oct 11 13:24:34 2009
Subject: =?UTF-8?B?562U5aSNOiBSZTogW2dkYWwtZGV2XSBkaWZmZXJlbnQgcmVzdWw=?=
	=?UTF-8?B?dCBvZiBvZ3JpbmZvIGJldHdlZW4gR0RBTC9PR1IgYW5kIEZXVG9vbHM=?=
In-Reply-To: <BLU137-DS422A957F932749E0D7B31C3C90@phx.gbl>
References: <BLU137-DS545AE7C2EF92020494B5AC3C90@phx.gbl>
	<4AD1D2EA.5030608@loskot.net>
	<BLU137-DS422A957F932749E0D7B31C3C90@phx.gbl>
Message-ID: <4AD214CC.30607@loskot.net>

Randy wrote:
> Mateusz,
> Thank you and Jukka!
> We know there is a ogrinfo application in GDAL/OGR after building GDAL from
> source on windows and also the FWTools has one too.
> When I use ogrinfo of FWTools by command line"ogrinfo -ro -al -q mys_57file.
> 000 |more", what I got was as follows(just some part of it):
> 
> Layer name: BCNSPP
> OGRFeature<BCNSPP>:6
> RCID <Integer>=7
> PRIM<Integer>=1
> GRUP<Integer>=2
> OBJL<Integer>=9
> RVER<Integer>=1
> AGEN<Integer>=550
> FIDN<Integer>=2738
> LNAM<String>=022608917DEF0AB2
> LNAM_REFS<StringList>=<1: 022608917DEF0AB2>
> LNAME_RIND<IntegerList>=<1:2>
> BCNSHP <Integer>=<NULL>
> CATSPM<String>=27
> COLOUR<String>=
> COLPAT<String>=<NULL>
> CONDTN<Integer>=<NULL>
> CONRAD<Integer>=<NULL>
> CONVIS<Integer>=<NULL>
> DATEND<Integer>=<NULL>
> DATSTA<Integer>=<NULL>
> ....
> POINT<-177.639010000000001 68.3285500000007>
> 
> Then I use the ogrinfo from GDAL/OGR, the following was what I could got:
> Layer name: Point
> OGRFeature<Point>:6
> RCID <Integer>=7
> PRIM<Integer>=1
> GRUP<Integer>=2
> OBJL<Integer>=9
> RVER<Integer>=1
> AGEN<Integer>=550
> FIDN<Integer>=2738
> LNAM<String>=022608917DEF0AB2
> LNAM_REFS<StringList>=<1: 022608917DEF0AB2>
> LNAME_RIND<IntegerList>=<1:2>
> POINT<-177.639010000000001 68.3285500000007>
> 
> Yes, maybe you've see the last one lost a feature's attribute subfield like
> CATSPM. And when I retrieve feature's fields in my own application, I
> couldn?t get attributes' fields either.

I'm confused, I don't recognise this output and its formatting.
The ogrinfo output looks like this:

OGRFeature(TrackLog):463
  LATITUDE (Real) =      52.2347283333
  LONGITUDE (Real) =      21.0829150000
  ALTITUDE (Real) =         162.500
  EASTING (Real) =          21.083
  NORTHING (Real) =          52.235
  UTCDATE (Date) = 2008/02/14
  UTCTIME (String) = 001121
  SOG (Real) =    4.9
  COG (Real) = 273.6
  MAG_VAR (Real) =   0.0
  SATS_USED (Integer) = 5
  HPE (Real) = (null)
  VPE (Real) = (null)
  EPE (Real) = (null)
  HDOP (Real) =    1.7
  VDOP (Real) =    2.9
  PDOP (Real) =    3.4
  QUALITY (Integer) = 1
  DIFF_AGE (Real) = (null)
  DIFF_ID (Integer) = (null)
  DEPTH (Real) =     0.0
  DEPTH_OFF (Real) =   0.0
  WATERTEMP (Real) =   0.0
  POINT (21.082915000000003 52.234728333333337 162.5)


Note the round brackets not <>, lower case (null) not upper case <NULL>,
equal sign with spaces around, etc.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From schut at sarvision.nl  Mon Oct 12 03:20:57 2009
From: schut at sarvision.nl (Vincent Schut)
Date: Mon Oct 12 03:21:01 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <4ACE21CC.5010105@gov.yk.ca>
References: <loom.20091001T095950-579@post.gmane.org>	<4ACD1A30.1090305@gov.yk.ca>	<4ACD87EC.5050805@sarvision.nl>
	<4ACE21CC.5010105@gov.yk.ca>
Message-ID: <4AD2D8D9.2050402@sarvision.nl>

Matt Wilkie wrote:
>> I'm by no way a vector expert, but for this kind of stuff I'd go the 
>> postgis way, at least for intermediate storage. 
>
> I've thought of this but have shied away from it because of the 
> overhead of installing postgis etc. just to get started. Time to get 
> over my shyness perhaps :)
Often there's a certain tradeoff between time spent to do things right 
from the start, and time spent to fix things later or do them the hard 
way, because you're stuck in some inflexible toolchain... :-)
>
> cheers,
>
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nicoletti at consorzio-innova.it  Mon Oct 12 04:16:24 2009
From: nicoletti at consorzio-innova.it (Marco Nicoletti)
Date: Mon Oct 12 04:16:26 2009
Subject: [Gdal-dev] osgeo.osr: WGS84 to UTM/UPS coordinate conversion -
	howtodo?
Message-ID: <1255335384321-3806702.post@n2.nabble.com>


Dear all,

I got some problems in using the osgeo.osr library to convert from WGS84
(lat,lon) coordinates to UTM/UPS carthographic projection.

>From UTM (zone=33, for example) to WGS84 it seems easy:
>> wgs84 = osr.SpatialReference()
>> wgs84.SetWellKnownCS('WSG84')
>> utm = osr.SpatialReference()
>> utm.SetUTM(33)
>> conv_wgs2utm = osr.CoordinateConversion(wgs84, utm)
>>conv_wgs2utm.TransformPoint(lon, lat)

It seems to work; now I miss:
1) from UPS to WGS84
2) from WGS84 to UTM/UPS (reusing the code I wrote, I could create a
convertitor in the 
other direction - conv_utm2wgs =  osr.CoordinateConversion(utm, wgs84); but
I need to specify the 
UTM zone before - actually I should not have the UTM zone before converting!
)

Do you have some example code I can use???

Thanks so much!

Marco Nicoletti
-- 
View this message in context: http://n2.nabble.com/osgeo-osr-WGS84-to-UTM-UPS-coordinate-conversion-howtodo-tp3806702p3806702.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From nicoletti at consorzio-innova.it  Mon Oct 12 04:43:07 2009
From: nicoletti at consorzio-innova.it (Marco Nicoletti)
Date: Mon Oct 12 04:43:09 2009
Subject: [Gdal-dev] osgeo.osr: WGS84 to UTM/UPS coordinate conversion -
	howtodo?
In-Reply-To: <1255335384321-3806702.post@n2.nabble.com>
References: <1255335384321-3806702.post@n2.nabble.com>
Message-ID: <1255336987154-3806774.post@n2.nabble.com>


Ok,

about the WSG84 to UTM, I can fin the UTM Zone easily:
>>from osgeo import osr
>>def UTMZone(lon, lat):
>>return int((lon + 180) / 6) + 1 

The problems are:
1) from WGS84 to UPS
2) from UPS to WSG84

How to do it?

Thanks!


Marco Nicoletti wrote:
> 
> Dear all,
> 
> I got some problems in using the osgeo.osr library to convert from WGS84
> (lat,lon) coordinates to UTM/UPS carthographic projection.
> 
> From UTM (zone=33, for example) to WGS84 it seems easy:
>>> wgs84 = osr.SpatialReference()
>>> wgs84.SetWellKnownCS('WSG84')
>>> utm = osr.SpatialReference()
>>> utm.SetUTM(33)
>>> conv_wgs2utm = osr.CoordinateConversion(wgs84, utm)
>>>conv_wgs2utm.TransformPoint(lon, lat)
> 
> It seems to work; now I miss:
> 1) from UPS to WGS84
> 2) from WGS84 to UTM/UPS (reusing the code I wrote, I could create a
> convertitor in the 
> other direction - conv_utm2wgs =  osr.CoordinateConversion(utm, wgs84);
> but I need to specify the 
> UTM zone before - actually I should not have the UTM zone before
> converting! )
> 
> Do you have some example code I can use???
> 
> Thanks so much!
> 
> Marco Nicoletti
> 

-- 
View this message in context: http://n2.nabble.com/osgeo-osr-WGS84-to-UTM-UPS-coordinate-conversion-howtodo-tp3806702p3806774.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From randyqiuxy at hotmail.com  Mon Oct 12 07:23:15 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Mon Oct 12 07:23:12 2009
Subject: =?utf-8?Q?=E7=AD=94=E5=A4=8D:_=5Bgdal-dev=5D_different_result_?=
	=?utf-8?Q?of_ogrinfo_between_GDAL/OGR_and_?= =?utf-8?Q?FWTools?=
In-Reply-To: <150158ad0910110659x5af7438djc2f5b28840f7d23f@mail.gmail.com>
References: <150158ad0910110659x5af7438djc2f5b28840f7d23f@mail.gmail.com>
Message-ID: <BLU137-DS728D462F1B81E36E46C8DC3C80@phx.gbl>

Hi Yilmaz,
Thank you very much!!
Now, my application and ogrinfo from GDAL/OGR works well after setting GDAL_DATA environment variable and changing the version.
Frank is right, the question should be needed in FAQ. I think this is my fault and I'm sorry to disturb everyone.
And I want to say "Thank you!" to Frank?Mateusz?Chaitanya and Jukka.
-----????-----
???: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] ?? Yilmaz Arslanoglu
????: 2009?10?11? 21:59
???: gdal-dev@lists.osgeo.org
??: [?? Probable Spam] [gdal-dev] different result of ogrinfo between GDAL/OGR and FWTools

Hi Randy;

Did you check that you set the GDAL_DATA configuration correctly?

If it is the case, then here is the previous answer from Frank:

"This might be accomplished by setting the GDAL_DATA configuration
variable either via the environment or the CPLSetConfigOption()
function.  Were you using ogrinfo from an environment like
OSGeo4W or FWTools that sets up the environment carefully?"

And my question was:
---------------------------------

Hello everybody;

First of all, I would like to say that I am quite new in S-57 format
and GDAL/OGR libraries.

As a starting point, I downloaded the source codes and built the whole
GDAL library on my computer,
using the "nmake" of Visual Studio 2008.

Now:

poDS = OGRSFDriverRegistrar::Open( "US5LA24M.000", FALSE );
for (int i = 0; i < poDS->GetLayerCount(); i++)
  printf("layer %d: %s\n", i, poDS->GetLayer(i)->GetLayerDefn()->GetName());

When I try to list the layer names of a datasource with the code snippet above,
I get the following result:

layer 0: DSID
layer 1: Point
layer 2: Line
layer 3: Area
layer 4: Meta

However, the utility application "ogrinfo" gives a quite different
result as follows:
(when run with command  "ogrinfo US5LA24M.000" )

1: DSID (None)
2: ACHARE
3: BCNLAT (Point)
4: BCNSPP (Point)
5: BUISGL
...
...
...
49: M_QUAL (Polygon)
50: C_ASSO (None)

I examined the source code of "ogrinfo" under the "gdal-1.6.2\apps\"
directory, however,
I could not find a difference in terms of listing the layers in the dataset.

What could be the problem, is there a point that I'm missing?
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From schroete at iup.physik.uni-bremen.de  Mon Oct 12 08:38:12 2009
From: schroete at iup.physik.uni-bremen.de (Heiko =?iso-8859-1?q?Schr=F6ter?=)
Date: Mon Oct 12 08:47:24 2009
Subject: [gdal-dev] gdalwarp t_srs '+ortho +lat_0=90' projection problem
Message-ID: <200910121438.13296.schroete@iup.physik.uni-bremen.de>

Hello gdal list,

reprojecting raster images from epsg:4326 -> '+ortho +lat_0=90 lon_0=0' results in a not closed image, missing about 5-6?. (.i.e Pacman like)
Reproducable for '+lon_0=90,180 and 270'.

Now shifting 'lon_0=6/-6' resolves the issue and the map is closed.
Reproducable for every 'lon_0=84/96...'
Editing and fine tuning the .wld file won't resolve the issue.
The problem is reproducable with any image.

The wmap_work.gif image ca be downloaded here (185k):
http://iup.physik.uni-bremen.de/~schroete/wmap_work.gif

I need to display the closed images with viewprot from 'lon_0=0/90/270'.
What am i missing or doing wrong ?

Regards
Heiko



Commands used:
$ gdalwarp --version
GDAL 1.6.0, released 2008/12/04

$ gdalwarp -of GTiff -s_srs 'epsg:4326' -t_srs '+proj=ortho +lon_0=0 +lat_0=90' wmap_work.gif wmap_out.gif

The wmap_work.wld file:
0.1495016
0
0
-0.1495016
-180
90

$ gdalinfo wmap_work.gif | head -n 15
Driver: GIF/Graphics Interchange Format (.gif)
Files: wmap_work.gif
Size is 2408, 1208
Coordinate System is `'
Origin = (-180.074750800000004,90.074750800000004)
Pixel Size = (0.149501600000000,-0.149501600000000)
Corner Coordinates:
Upper Left  (-180.0747508,  90.0747508)
Lower Left  (-180.0747508, -90.5231820)
Upper Right ( 179.9251020,  90.0747508)
Lower Right ( 179.9251020, -90.5231820)
Center      (  -0.0748244,  -0.2242156)
Band 1 Block=2408x1 Type=Byte, ColorInterp=Palette
  NoData Value=126
  Metadata:
From bontepaarden at gmail.com  Mon Oct 12 09:01:25 2009
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon Oct 12 09:01:28 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <op.u1j23mhtzbn0g9@spdba>
References: <loom.20091001T095950-579@post.gmane.org>
	<4ACD1A30.1090305@gov.yk.ca> <4ACD87EC.5050805@sarvision.nl>
	<op.u1j23mhtzbn0g9@spdba>
Message-ID: <870e056a0910120601v6d915fe5i51ca93ecff5a791a@mail.gmail.com>

Simon,

I agree a long way with you.
But how about a solution?
I think enough smart people are involved in OSGeo, it should be possible to
get them together and create a fully Open-Source fast vector format.
I'm not one of those but I'm willing to help with the requirements,
implementation and testing.
Along with some fund raising it could work.
Are you willing to put money where your mouth is and take the lead on this?
You can count me in.

Regards,

Paul Meems
Bontepaarden.nl
The Netherlands
Core developer of MapWindow GIS


2009/10/10 Simon Greener <simon@spatialdbadvisor.com>

> The need for a new vector file format has been discussed many times with no
> action initiated by the open source community on what to do.
>
>  ESRI has said they will do so, but it's been several
>> years since they first announced it and when it is finally is released
>> there is no guarantee it will be under license terms open source
>> projects can use. This isn't to say it will be unusable either, we
>> just don't know.
>>
>
> Ahhh, isn't it wonderful waiting for the "crumbs that will fall from the
> master's table"!
>
> And, "to wait" is part and parcel of being an ESRI-centric customer or
> user: strange that open source people are willing to do the same.
> (Well, at least you aren't paying for the privilege of using the stuff.)
>
> Why won't ESRI release an FDO (an Open Source open access API) provider for
> FGDBs rather than their own API? (I can find no reference to ESRI offering
> to do so for any of its formats.) Sounds like API lock-in is a design goal
> for the FGDB API!
>
> Don't forget that a FGDB is full of ESRI concepts (not OGC or SQL/MM or
> those promoted by any other standards body) - more lock-in if it becomes the
> much hoped for replacement for shapefiles. And, what's more, we know nothing
> about what will be in the API. Where is the community engagement? Will we
> end up with an API via which we cannot (four examples will suffice):
>
> 1. Properly design (cf CASE tool) an FGDB (cf ESRI $$ extensions to Visio);
> 2. Create an FGDB from scratch;
> 3. Write data or create important objects (ie versions);
> 4. Create FGDB spatial and attribute indexes or even use them via the API
> (cf shapefile indexing);
>
> These are points which have grounding in past ESRI practices. All done
> deliberately so you have to have a copy of ArcGIS to construct, design and
> get the best out of a fully specified FGDB?
>
> And then, when there are serious bugs, you have to wait for 18 months for a
> fix while in the Open Source community you could get one in a matter of days
> or weeks?
>
> Seriously, though, isn't open source about taking control of one's destiny
> and being a part of a truly open, collaborative, process and not waiting for
> the bully in the playground to tell you what you can and can't do, or who
> really isn't interested in your deadlines and real needs? Many times in my
> long GIS career I've had conversations with the 'true believers' over in
> Redlands. One was like this: "When will you support an Oracle Sdo_Geometry
> circle object in ArcSDE?". Reply: "Circles in GIS? We don't think you need
> them....".
>
> The fixated concentration of the GIS community on physical file formats
> feels very much like a 1960s form of data management and computing. Logical
> separation from physical implementation, normalise for edit/denormalise for
> performance, logical separation from physical implementation, normalise for
> edit/denormalise for performance, logical..... oops the record is broken
> ....
>
> The only reason I ever hear for physical file formats is "we need to do
> this for performance reasons"..... but this usually masks a lot of other
> reasons and assumptions (like it is "quicker and easier" that soon morphs
> into a management nightmare).....
>
> cynically
> Simon
> --
> SpatialDB Advice and Design, Solutions Architecture and Programming,
> Oracle Database 10g Administrator Certified Associate; Oracle Database 10g
> SQL Certified Professional
> Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME,
> Radius Topology and Studio Specialist.
> 39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
> Website: www.spatialdbadvisor.com
>   Email: simon@spatialdbadvisor.com
>   Voice: +61 362 396397
> Mobile: +61 418 396391
> Skype: sggreener
> Longitude: 147.20515 (147? 12' 18" E)
> Latitude: -43.01530 (43? 00' 55" S)
> GeoHash: r22em9r98wg
> NAC:W80CK 7SWP3
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091012/a1812503/attachment-0001.html
From schroete at iup.physik.uni-bremen.de  Mon Oct 12 10:39:17 2009
From: schroete at iup.physik.uni-bremen.de (Heiko =?iso-8859-1?q?Schr=F6ter?=)
Date: Mon Oct 12 10:39:39 2009
Subject: [gdal-dev] gdalwarp t_srs '+ortho +lat_0=90' projection problem
In-Reply-To: <4AD334CB.1000304@ualg.pt>
References: <200910121438.13296.schroete@iup.physik.uni-bremen.de>
	<4AD334CB.1000304@ualg.pt>
Message-ID: <200910121639.18312.schroete@iup.physik.uni-bremen.de>

Am Montag 12 Oktober 2009 15:53:15 schrieben Sie:

Joaquim,

thanks very much for your reply.

Just found that using '-wo' can cure the thing (a bit).
The calculus goes soemthing like:

SOURCE_EXTRA=5.5*Pixel_X/degrees_span_of_map
(degrees_span = Your wanted map in deegres)
The 5.5 [degrees] are just an visual estimation of the gap width.
i.e. wmap_work.gif = 2408 Pixel in X Dir.
So: SOURCE_EXTRA = 5.5*2408/360=36.78

gdalwarp  -s_srs 'epsg:4326' -t_srs '+proj=ortho +lon_0=0 +lat_0=90' -ts 500 500 -wo SOURCE_EXTRA=(35...40) IN.gif OUT.gif

When playing with this setting say from 35 to 40 you will notice that the gap closes in and vanishes when SOURCE_EXTRA > 37.
Unfortunatly the whole thing is a bit dependend on the lat_0 setting.
But for me it is a good starter to have a work around.

A clear bugfix would be prefered of course.

heiko



> Heiko,
> 
> It could be worst. Try for instance
> 
> gdalwarp -of GTiff -s_srs epsg:4326 -t_srs +proj=sinu wmap_work.gif 
> wmap_out.tiff
> 
> I think this is the same as in this 2 years old bug report
> 
> http://trac.osgeo.org/gdal/ticket/2305
> 
> Joaquim Luis
> 
> > Hello gdal list,
> >
> > reprojecting raster images from epsg:4326 -> '+ortho +lat_0=90 lon_0=0' results in a not closed image, missing about 5-6?. (.i.e Pacman like)
> > Reproducable for '+lon_0=90,180 and 270'.
> >
> > Now shifting 'lon_0=6/-6' resolves the issue and the map is closed.
> > Reproducable for every 'lon_0=84/96...'
> > Editing and fine tuning the .wld file won't resolve the issue.
> > The problem is reproducable with any image.
> >
> > The wmap_work.gif image ca be downloaded here (185k):
> > http://iup.physik.uni-bremen.de/~schroete/wmap_work.gif
> >
> > I need to display the closed images with viewprot from 'lon_0=0/90/270'.
> > What am i missing or doing wrong ?
> >
> > Regards
> > Heiko
> >
> >
> >
> > Commands used:
> > $ gdalwarp --version
> > GDAL 1.6.0, released 2008/12/04
> >
> > $ gdalwarp -of GTiff -s_srs 'epsg:4326' -t_srs '+proj=ortho +lon_0=0 +lat_0=90' wmap_work.gif wmap_out.gif
> >
> > The wmap_work.wld file:
> > 0.1495016
> > 0
> > 0
> > -0.1495016
> > -180
> > 90
> >
> > $ gdalinfo wmap_work.gif | head -n 15
> > Driver: GIF/Graphics Interchange Format (.gif)
> > Files: wmap_work.gif
> > Size is 2408, 1208
> > Coordinate System is `'
> > Origin = (-180.074750800000004,90.074750800000004)
> > Pixel Size = (0.149501600000000,-0.149501600000000)
> > Corner Coordinates:
> > Upper Left  (-180.0747508,  90.0747508)
> > Lower Left  (-180.0747508, -90.5231820)
> > Upper Right ( 179.9251020,  90.0747508)
> > Lower Right ( 179.9251020, -90.5231820)
> > Center      (  -0.0748244,  -0.2242156)
> > Band 1 Block=2408x1 Type=Byte, ColorInterp=Palette
> >   NoData Value=126
> >   Metadata:
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> >   
> 

-- 
-----------------------------------------------------------------------
!!! NEUE TELEPHONNUMMER !!!
!!! NEW PHONE NUMBER !!!

Dipl.-Ing. Heiko Schr?ter
Institute of Environmental Physics (IUP)    phone: ++49-(0)421-218-62092
Institute of Remote Sensing (IFE)           fax:   ++49-(0)421-218-4555
University of Bremen (FB1)
P.O. Box 330440               email:  schroete@iup.physik.uni-bremen.de
Otto-Hahn-Allee 1           
28359 Bremen                
Germany
-----------------------------------------------------------------------
From guillaume.huby.lists at gmail.com  Mon Oct 12 11:42:18 2009
From: guillaume.huby.lists at gmail.com (guillaume huby)
Date: Mon Oct 12 11:42:21 2009
Subject: [gdal-dev] building perl swig with MingW
Message-ID: <ddc797c30910120842x6cd54f54x7ef6b6804bd1b5be@mail.gmail.com>

Hello,

I experience some troubles building perl bindings on MingW.
Here is my config :

Windows XP;
MingW 5.1.6 + MSys;
Gdal1.6.2 sources from website;
ActivePerl 5.10;

I successfully built gdal library using MingW. Then I build perl bindings :

perl Makefile.pl -> everything looks fine;
dmake -> no error message;
dmake test -> error message :
<PerlPath>\bin\perl.exe "-MExtUtils::Command::MM" "-e" "test_harness(0,
'blib\lib', 'blib\arch')" t/*.t
t/gdal....
#   Failed test 'use Geo::GDAL;'
#   at t/gdal.t line 2.
#     Tried to use 'Geo::GDAL'.
#     Error:  Can't load
'<Gdal_source_path>\swig\perl\blib\arch/auto/Geo/OGR/OGR.dll' for module
Geo::OGR: load_file: Access to this memory location is not valid at
<PerlPath>/lib/DynaLoader.pm line 202.
#  at <Gdal_source_path>\swig\perl\blib\lib/Geo/OGR.pm line 12
# Compilation failed in require at
<Gdal_source_path>\swig\perl\blib\lib/Geo/GDAL.pm line 571.
# BEGIN failed--compilation aborted at t/gdal.t line 2.
# Compilation failed in require at (eval 3) line 2.
# BEGIN failed--compilation aborted at (eval 3) line 2.
Name "swig_runtime_data::type_pointer3" used only once: possible typo at
<PerlPath>/lib/DynaLoader.pm line 225.
Undefined subroutine &Geo::GDAL::GetDriver called at t/gdal.t line 57.
# Looks like you failed 1 test of 1.

The "<Gdal_source_path>\swig\perl\blib\arch/auto/Geo/OGR/OGR.dll" file
successfully pass dependency walker test.

Does anyone has an idea of what went wrong ? Did I missed something
somewhere ?

Thanks for replies !

Regards,
Guillaume.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091012/62f31ba9/attachment.html
From mongoose_riki at mail.ru  Mon Oct 12 11:44:59 2009
From: mongoose_riki at mail.ru (Riki Tiki)
Date: Mon Oct 12 11:45:02 2009
Subject: [gdal-dev] where is gdal.h
Message-ID: <E1MxN51-0006pG-00.mongoose_riki-mail-ru@f261.mail.ru>


hi all,

i wanted to write the following program in C (which i took from gdal.org)

////////////////////////////////////////////////////////////
#include "gdal.h"

int main()
{
    GDALDatasetH  hDataset;

    GDALAllRegister();

    hDataset = GDALOpen( pszFilename, GA_ReadOnly );
    if( hDataset == NULL )
    {
        ...;
    }
}

////////////////////////////////////////////////////////////

where can i get the gdal.h? thanks a lot!


From mongoose_riki at mail.ru  Mon Oct 12 17:21:16 2009
From: mongoose_riki at mail.ru (Riki Tiki)
Date: Mon Oct 12 17:21:19 2009
Subject: [gdal-dev] gdal.h: No such file or directory
Message-ID: <E1MxSKS-0000db-00.mongoose_riki-mail-ru@f189.mail.ru>

Hi,

I am using bloodshed dev-C++...

I have written only this

//////////////////////////////////////
#include <stdio.h>
#include <stdlib.h>
#include <gdal.h>

int main(int argc, char *argv[])
{ 
  system("PAUSE");	
  return 0;
}
/////////////////////////////////////

Before compiling it i have installed the FWTools2.4.5,
all header files are located in 

C:\Program Files\FWTools2.4.5\include

/////////////////////////////////////
Now before compiling and running above program
i have added to the 

Tools->Compiler Options->Directories->Libraries

the above path of the fwtools' include folder...

////////////////////////////////////////

when i compile and run it... it says the following:
C:\...\main.c gdal.h: No such file or directory. 
C:\...\Makefile.win [Build Error]  [main.o] Error 1 


can you help me to solve the problem? 

thanks a lot in advance.


 
From mateusz at loskot.net  Mon Oct 12 18:56:11 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Oct 12 18:56:17 2009
Subject: [gdal-dev] gdal.h: No such file or directory
In-Reply-To: <E1MxSKS-0000db-00.mongoose_riki-mail-ru@f189.mail.ru>
References: <E1MxSKS-0000db-00.mongoose_riki-mail-ru@f189.mail.ru>
Message-ID: <4AD3B40B.3030306@loskot.net>

Riki Tiki wrote:
> Hi,
> 
> I am using bloodshed dev-C++...
> [...]
> when i compile and run it... it says the following:
> C:\...\main.c gdal.h: No such file or directory. 
> C:\...\Makefile.win [Build Error]  [main.o] Error 1 
> 
> can you help me to solve the problem? 

I have never used this IDE myself, but it looks like your
problem is related to problems with configuration of bloodshed dev-C++
so this question belongs to  bloodshed dev-C++  list

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mpetach at formationenv.com  Tue Oct 13 00:03:45 2009
From: mpetach at formationenv.com (Marty Petach)
Date: Tue Oct 13 00:04:54 2009
Subject: [gdal-dev] query raster values by xy-location
Message-ID: <15D1063563E4E94CBAD24B99C86DA0E6026CC3B200@OXFORM.formationeviron.local>

Bryan, (or others with such a program):

I am very interested in the python script you mention that includes interpolation.  Have you posted it to the list? (I checked through the end of the thread and did not find it - apologies if already posted).

Many Thanks!
-Marty Petach

>>
>> gdal-dev] query raster values by xy-location
>> Bryan Keith bryan at ideotrope.org
>> Mon Sep 29 16:10:24 EDT 2008
>> * Previous message: [gdal-dev] query raster values by xy-location
>> * Next message: [gdal-dev] query raster values by xy-location
>> * Messages sorted by: [ date ] [ thread ] [ subject ] [ author ]
>> ________________________________________
>> Attached is some python code you can use to return the value at a cell
>> given an xy.  It does not interpolate.  I have a different function for
>> that if that's what you want.
>>
>> Bryan
>>
>> > Hi,
>> >
>> > 2008/9/26 <Andruit at gmx.de>
>> >
>> >>
>> >> I have an ESRI ascii raster and would like to get the raster values at
>> >> defined x y locations. ...


From P.Halls at york.ac.uk  Tue Oct 13 02:12:33 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Tue Oct 13 02:12:46 2009
Subject: [gdal-dev] gdal.h: No such file or directory
In-Reply-To: <E1MxSKS-0000db-00.mongoose_riki-mail-ru@f189.mail.ru>
References: <E1MxSKS-0000db-00.mongoose_riki-mail-ru@f189.mail.ru>
Message-ID: <4AD41A51.5080603@york.ac.uk>

Should it not be #include "gdal.h"?  The <> construct is used for system 
includes, whereas gdal.h counts as a user include, to be found in the include 
path.  But I admit my c to be a little rusty ...  Peter

Riki Tiki wrote:
> Hi,
> 
> I am using bloodshed dev-C++...
> 
> I have written only this
> 
> //////////////////////////////////////
> #include <stdio.h>
> #include <stdlib.h>
> #include <gdal.h>
> 
> int main(int argc, char *argv[])
> { 
>   system("PAUSE");	
>   return 0;
> }
> /////////////////////////////////////
> 
> Before compiling it i have installed the FWTools2.4.5,
> all header files are located in 
> 
> C:\Program Files\FWTools2.4.5\include
> 
> /////////////////////////////////////
> Now before compiling and running above program
> i have added to the 
> 
> Tools->Compiler Options->Directories->Libraries
> 
> the above path of the fwtools' include folder...
> 
> ////////////////////////////////////////
> 
> when i compile and run it... it says the following:
> C:\...\main.c gdal.h: No such file or directory. 
> C:\...\Makefile.win [Build Error]  [main.o] Error 1 
> 
> 
> can you help me to solve the problem? 
> 
> thanks a lot in advance.
> 
> 
>  
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From gispowerfan at gmail.com  Tue Oct 13 04:13:08 2009
From: gispowerfan at gmail.com (gispowerfan)
Date: Tue Oct 13 04:13:06 2009
Subject: [gdal-dev] where I can find linear quadtree sourecode?
Message-ID: <200910131613065311926@gmail.com>

HI,

         I know that gdal has quadtree source code in cpl directory, can anyone know where I can find the linear quadtrees code?
 thanks in advance!



2009-10-13 



gispowerfan 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091013/885077af/attachment.html
From jukka.rahkonen at mmmtike.fi  Tue Oct 13 06:48:29 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Oct 13 06:48:59 2009
Subject: [gdal-dev] OCI driver and -lco OVERWRITE=yes
Message-ID: <loom.20091013T121620-565@post.gmane.org>

Hi,

I tried to follow the example from http://gdal.org/ogr/drv_oci.html but but -lco
OVERWRITE=yes does not overwrite anything for me. I have to drop the table
manually first. It is not about user rights, I can drop the table as the same
user from SQL*Plus. I quess that OVERWRITE=yes should drop the table and indexes
and delete the corresponding line from USER_SDO_GEOM_METADATA. However, ogr2ogr
with this option gives me just:

FAILED: Layer test already exists, and -append not specified.
        Consider using -append, or -overwrite.
ERROR 1: Terminating translation prematurely after failed
translation of layer test

I did consider using -overwrite, but it is not supported with OCI driver.
Ogr2ogr message:
 ERROR 6: DeleteLayer() not supported by this data source.
DeleteLayer() failed when overwrite requested.
No surprise, I bet that because of this there is the -lco OVERWRITE=yes option.
But is fails as well.

Ogr2ogr I am using comes from MS4W 2.2.8.

One question about OCI-driver: Is is possible to give the name of the spatial
index that will be created? I have succeeded in giving the tablespace for index
with INDEX_PARAMETERS but index name is not a parameter in Oracle CREATE INDEX,
it is given before the parameters.

-Jukka Rahkonen-

From P.Halls at york.ac.uk  Tue Oct 13 07:26:59 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Tue Oct 13 07:29:03 2009
Subject: [gdal-dev] OCI driver and -lco OVERWRITE=yes
In-Reply-To: <loom.20091013T121620-565@post.gmane.org>
References: <loom.20091013T121620-565@post.gmane.org>
Message-ID: <4AD46403.6080902@york.ac.uk>

Jukka,

    several things here and, I think, they may stem from the Oracle OCI API, 
rather than the OGR OCI Driver.

    Firstly, drop table does not remove the index(es): these have to be dropped 
explicitly.  Secondly, there is no automatic handling of SDO_GEOM_METADATA: 
again, this must be handled explicitly: the OCI API provides no assistance.

    Thirdly, so far as I am aware, Oracle names indexes internally.

    Fourthly, so far as I am aware, the OGR -lco append and overwrite options 
enable access to the user's tablespace, rather than to create a new tablespace 
(which I do not think is supported in the API).  I had not thought of trying to 
do a delete through OGR, mainly as I use SQL Developer on a regular basis and 
just do table management there.

Best wishes,

Peter

Jukka Rahkonen wrote:
> Hi,
> 
> I tried to follow the example from http://gdal.org/ogr/drv_oci.html but but -lco
> OVERWRITE=yes does not overwrite anything for me. I have to drop the table
> manually first. It is not about user rights, I can drop the table as the same
> user from SQL*Plus. I quess that OVERWRITE=yes should drop the table and indexes
> and delete the corresponding line from USER_SDO_GEOM_METADATA. However, ogr2ogr
> with this option gives me just:
> 
> FAILED: Layer test already exists, and -append not specified.
>         Consider using -append, or -overwrite.
> ERROR 1: Terminating translation prematurely after failed
> translation of layer test
> 
> I did consider using -overwrite, but it is not supported with OCI driver.
> Ogr2ogr message:
>  ERROR 6: DeleteLayer() not supported by this data source.
> DeleteLayer() failed when overwrite requested.
> No surprise, I bet that because of this there is the -lco OVERWRITE=yes option.
> But is fails as well.
> 
> Ogr2ogr I am using comes from MS4W 2.2.8.
> 
> One question about OCI-driver: Is is possible to give the name of the spatial
> index that will be created? I have succeeded in giving the tablespace for index
> with INDEX_PARAMETERS but index name is not a parameter in Oracle CREATE INDEX,
> it is given before the parameters.
> 
> -Jukka Rahkonen-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From Jukka.Rahkonen at mmmtike.fi  Tue Oct 13 08:26:58 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Tue Oct 13 08:27:02 2009
Subject: [gdal-dev] OCI driver and -lco OVERWRITE=yes
In-Reply-To: <4AD46403.6080902@york.ac.uk>
References: <loom.20091013T121620-565@post.gmane.org>
	<4AD46403.6080902@york.ac.uk>
Message-ID: <CC197224AC75CE4DB23F739B16891B8601879631@tikka.haapa.mmm.fi>

Hi,

Peter J Halls wrote:
> 
> Jukka,
> 
>     several things here and, I think, they may stem from the 
> Oracle OCI API, rather than the OGR OCI Driver.
> 
>     Firstly, drop table does not remove the index(es): these 
> have to be dropped explicitly.

Really? I made some experiments with SQL*Plus and dropping my spatial
table seems to drop spatial index as well.

>  Secondly, there is no 
> automatic handling of SDO_GEOM_METADATA: 
> again, this must be handled explicitly: the OCI API provides 
> no assistance.

That's true. But if ogr2ogr is going to overwrite some table it should
do delete+insert or alternatively update to SDO_GEOM_METADATA as well or
the result may be unusable. Now it seems to try always with INSERT.

>     Thirdly, so far as I am aware, Oracle names indexes internally.

Sure indexes can, and must be named, like:
CREATE INDEX "TEST_SP" 
ON "TEST"("GEOM") INDEXTYPE IS 
MDSYS.SPATIAL_INDEX PARAMETERS (' TABLESPACE="SP_INDEX"  
LAYER_GTYPE="POINT"')

Ogr2ogr OCI driver seems to give index name for table "TABLE" as
"TABLEI". Our standard is to use TABLE_SP.

>     Fourthly, so far as I am aware, the OGR -lco append and 
> overwrite options enable access to the user's tablespace, 
> rather than to create a new tablespace (which I do not think 
> is supported in the API).  I had not thought of trying to do 
> a delete through OGR, mainly as I use SQL Developer on a 
> regular basis and just do table management there.

I was not trying to create new tablespace, just to use an existing one
that is reserved for indexes. And it works, I can pass tablespace for
spatial index by giving it with ogr2ogr "INDEX_PARAMETERS".  Data goes
always into the ogr2ogr users tablespace and that's OK.

I am dropping tables manually as well, but because ogr2ogr OCI driver
help was advertising that it can overwrite Oracle tables I just had to
try it. It did not work for me and I wonder if I did something wrong or
if OVERWRITE=yes just does not work. In the latter case it might be good
to remove it from driver help.

The correct work flow with OCI driver, if old table should be
overwritten, seems to be:
- drop table "TABLE"
- delete from USER_SDO_GEOM_METADATA where table_name='TABLE'
- run ogr2ogr

-Jukka-

 
> Best wishes,
> 
> Peter
> 
> Jukka Rahkonen wrote:
> > Hi,
> > 
> > I tried to follow the example from http://gdal.org/ogr/drv_oci.html 
> > but but -lco OVERWRITE=yes does not overwrite anything for 
> me. I have 
> > to drop the table manually first. It is not about user 
> rights, I can 
> > drop the table as the same user from SQL*Plus. I quess that 
> > OVERWRITE=yes should drop the table and indexes and delete the 
> > corresponding line from USER_SDO_GEOM_METADATA. However, 
> ogr2ogr with this option gives me just:
> > 
> > FAILED: Layer test already exists, and -append not specified.
> >         Consider using -append, or -overwrite.
> > ERROR 1: Terminating translation prematurely after failed 
> translation 
> > of layer test
> > 
> > I did consider using -overwrite, but it is not supported 
> with OCI driver.
> > Ogr2ogr message:
> >  ERROR 6: DeleteLayer() not supported by this data source.
> > DeleteLayer() failed when overwrite requested.
> > No surprise, I bet that because of this there is the -lco 
> OVERWRITE=yes option.
> > But is fails as well.
> > 
> > Ogr2ogr I am using comes from MS4W 2.2.8.
> > 
> > One question about OCI-driver: Is is possible to give the 
> name of the 
> > spatial index that will be created? I have succeeded in giving the 
> > tablespace for index with INDEX_PARAMETERS but index name is not a 
> > parameter in Oracle CREATE INDEX, it is given before the parameters.
> > 
> > -Jukka Rahkonen-
> > 
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> --
> --------------------------------------------------------------
> ------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 433806     Fax: 01904 433740
> Snail mail: Computing Service, University of York, 
> Heslington, York YO10 5DD This message has the status of a 
> private and personal communication
> --------------------------------------------------------------
> ------------------
> 
From P.Halls at york.ac.uk  Tue Oct 13 08:59:56 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Tue Oct 13 09:00:06 2009
Subject: [gdal-dev] OCI driver and -lco OVERWRITE=yes
In-Reply-To: <CC197224AC75CE4DB23F739B16891B8601879631@tikka.haapa.mmm.fi>
References: <loom.20091013T121620-565@post.gmane.org>
	<4AD46403.6080902@york.ac.uk>
	<CC197224AC75CE4DB23F739B16891B8601879631@tikka.haapa.mmm.fi>
Message-ID: <4AD479CC.1080006@york.ac.uk>

Jukka,

Rahkonen Jukka wrote:

%< Snip


> 
> The correct work flow with OCI driver, if old table should be
> overwritten, seems to be:
> - drop table "TABLE"
> - delete from USER_SDO_GEOM_METADATA where table_name='TABLE'
> - run ogr2ogr

Agreed - indeed, substitute ogr2ogr for any program using the OGR library.  I do 
not use ogr2ogr so much as use the ogr library as io for my work in novel 
spatial analysis methodology ...

In SQL, one could do a purge and retain the schema - maybe that is what 
overwrite is intended to do, but I do not remember seeing any such code in the 
oci driver; it would have to rewrite the SDO_GEOM_METADATA entry and there is a 
warning somewhere in either the code or the documentation that this is not done.

Whilst on the topic, are you specifying the SRS/SRID?  This is an area that 
apparently changed between Oracle 8 & 9 and I have currently given up on this in 
OGR because only the SDO_GEOM_METADATA entry seems to get set and not the table 
and object entries - I found setting SRS in OGR generated a set of ORA errors 
concerning inconsistent SRS settings.  I suspect (but do not know) that OGR's 
oci was built around the Oracle 8 requirements: I meant to wade through the code 
to try to be sure, but it is currently too low a priority.  I fear this area is 
a minefield, as I have on the wall a notice from ESRI concerning a need to 
delete and rebuild the spatial index around any SRS/SRID manipulation.

> 
> -Jukka-

Best wishes,

Peter

--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From Jukka.Rahkonen at mmmtike.fi  Tue Oct 13 09:14:20 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Tue Oct 13 09:14:22 2009
Subject: [gdal-dev] OCI driver and -lco OVERWRITE=yes
In-Reply-To: <4AD479CC.1080006@york.ac.uk>
References: <loom.20091013T121620-565@post.gmane.org>
	<4AD46403.6080902@york.ac.uk>
	<CC197224AC75CE4DB23F739B16891B8601879631@tikka.haapa.mmm.fi>
	<4AD479CC.1080006@york.ac.uk>
Message-ID: <CC197224AC75CE4DB23F739B16891B8601879634@tikka.haapa.mmm.fi>

Hi,

Peter J Halls wrote:

> Jukka,
> 
> 
> Whilst on the topic, are you specifying the SRS/SRID?  This 
> is an area that apparently changed between Oracle 8 & 9 and I 
> have currently given up on this in OGR because only the 
> SDO_GEOM_METADATA entry seems to get set and not the table 
> and object entries - I found setting SRS in OGR generated a 
> set of ORA errors concerning inconsistent SRS settings.  I 
> suspect (but do not know) that OGR's oci was built around the 
> Oracle 8 requirements: I meant to wade through the code to 
> try to be sure, but it is currently too low a priority.  I 
> fear this area is a minefield, as I have on the wall a notice 
> from ESRI concerning a need to delete and rebuild the spatial 
> index around any SRS/SRID manipulation.

We have just begun to use SRID because we started with Oracle 7 and 8
which supported only those odd Oracle SRID values. Therefore we just
left it as NULL. But now it looks like EPSG values work ok. For me
ogr2ogr/OCI inserts SRID values also into the Oracle geometries, not
only to the metadata table. Here is a fresh example:
GEOLOC(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO,
SDO_ORDINATES)
------------------------------------------------------------------------
--
SDO_GEOMETRY(2003, 2393, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 1), 
SDO_ORDINATE_ARRAY(3237421,17, 6761066,05, 3237838,08, 6761346,68,
3237797,71, 6761417,89, 32380

-Jukka- 

> Best wishes,
> 
> Peter
From yilmaz.arslanoglu at gmail.com  Tue Oct 13 10:18:10 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Tue Oct 13 10:18:13 2009
Subject: [gdal-dev] efficient querying of land and depth areas
Message-ID: <150158ad0910130718l816c21budbaf8b3b33018196@mail.gmail.com>

Hello everybody;

I am using the OGR library to extract depth and land areas from
an ENC file (S-57 format).

What I want to do is to query whether a given point is on land
or is on a depth area. For this purpose, I have to call OGRGeometry::Intersects
or OGRGeometry::Contains functions for every polygon feature on one of
these layers.
(similarly, setting the point by  SetSpatialFilter on one of these
layers also does the job)

I tried these and they work quite OK, but unfortunately quite
inefficient at the same time.
Is there anybody who can offer any tips or references about efficient querying?

Best regards,
Yilmaz
From warmerdam at pobox.com  Tue Oct 13 10:31:45 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 13 10:37:41 2009
Subject: [gdal-dev] efficient querying of land and depth areas
In-Reply-To: <150158ad0910130718l816c21budbaf8b3b33018196@mail.gmail.com>
References: <150158ad0910130718l816c21budbaf8b3b33018196@mail.gmail.com>
Message-ID: <4AD48F51.5070009@pobox.com>

Yilmaz Arslanoglu wrote:
> Hello everybody;
> 
> I am using the OGR library to extract depth and land areas from
> an ENC file (S-57 format).
> 
> What I want to do is to query whether a given point is on land
> or is on a depth area. For this purpose, I have to call OGRGeometry::Intersects
> or OGRGeometry::Contains functions for every polygon feature on one of
> these layers.
> (similarly, setting the point by  SetSpatialFilter on one of these
> layers also does the job)
> 
> I tried these and they work quite OK, but unfortunately quite
> inefficient at the same time.
> Is there anybody who can offer any tips or references about efficient querying?

Yilmaz,

If things devolve into GEOS tests for all polygons it is going to be very
slow.  You might be able to make some progress with pretests against geometry
bounding rectangles which can avoid the conversion to GEOS format.

Generally speaking if the performance of this operation is important to you,
you should consider doing something fairly special.  You might be able to use
GEOS at the C++ level and tie into methods to build it's internal spatial
indexing for a geometry set and then reuse it for subsequent point in polygon
tests.

Another approach would be to rasterize the land or sea polygons into a raster
of some appropriate density for the accuracy you want, and then use that to
test points.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Tue Oct 13 13:06:21 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Oct 13 13:06:24 2009
Subject: [gdal-dev] where I can find linear quadtree sourecode?
In-Reply-To: <200910131613065311926@gmail.com>
References: <200910131613065311926@gmail.com>
Message-ID: <1255453581.4ad4b38d97f20@imp.free.fr>

Selon gispowerfan <gispowerfan@gmail.com>:

There : http://trac.osgeo.org/gdal/browser/trunk/gdal/port cpl_quad_tree.cpp &
.h

> HI,
>
>          I know that gdal has quadtree source code in cpl directory, can
> anyone know where I can find the linear quadtrees code?
>  thanks in advance!
>
>
>
> 2009-10-13
>
>
>
> gispowerfan
>


From mateusz at loskot.net  Tue Oct 13 17:31:37 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Oct 13 17:31:48 2009
Subject: [gdal-dev] gdal.h: No such file or directory
In-Reply-To: <4AD41A51.5080603@york.ac.uk>
References: <E1MxSKS-0000db-00.mongoose_riki-mail-ru@f189.mail.ru>
	<4AD41A51.5080603@york.ac.uk>
Message-ID: <4AD4F1B9.40805@loskot.net>

Peter J Halls wrote:
> Should it not be #include "gdal.h"?  The <> construct is used for
> system includes, whereas gdal.h counts as a user include, to be found
> in the include path.  But I admit my c to be a little rusty ...
> Peter

Actually, there is no difference. For reference in case of doubt
with the bloodshed dev-c++, here is what ISO C++ says in 16.2


1 A #include directive shall identify a header or source file that can
  be processed by the implementation.

2 A preprocessing directive of the form

 # include <h-char-sequence> new-line

searches a sequence of implementation-defined places for a header
identified uniquely by the specified sequence between the < and >
delimiters, and causes the replacement of that directive by the entire
contents of the header. How the places are specified or the header
identified is implementation-defined.

3 A preprocessing directive of the form

 # include "q-char-sequence" new-line

causes the replacement of that directive by the entire contents of the
source file identified by the specified sequence between the "
delimiters. The named source file is searched for in an
implementation-defined manner. If this search is not supported, or if
the search fails, the directive is reprocessed as if it read

 # include <h-char-sequence> new-line

with the identical contained sequence (including > characters, if any)
from the original directive.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From wadegasior at gmail.com  Tue Oct 13 23:39:58 2009
From: wadegasior at gmail.com (Wade Gasior)
Date: Tue Oct 13 23:40:01 2009
Subject: [gdal-dev] Querying NED data by lat/lng
Message-ID: <ab125b8f0910132039q2e5e8508jb9e78a5e5b7eee7@mail.gmail.com>

Hello... I am looking for an example or explanation of how to query data
from the USGS Seamless Server (in ARC Grid or GridFloat format) for
elevation values by lat and lng.

Thank you for any direction that you can provide.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091013/7c2435ba/attachment.html
From P.Halls at york.ac.uk  Wed Oct 14 02:22:02 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Wed Oct 14 02:22:15 2009
Subject: [gdal-dev] gdal.h: No such file or directory
In-Reply-To: <4AD4F1B9.40805@loskot.net>
References: <E1MxSKS-0000db-00.mongoose_riki-mail-ru@f189.mail.ru>
	<4AD41A51.5080603@york.ac.uk> <4AD4F1B9.40805@loskot.net>
Message-ID: <4AD56E0A.5070404@york.ac.uk>

Mateusz,

    the extract from the standard does not say there is no difference: it says 
that this is implementation dependent - that implementors are free to 
differentiate if they wish and, indeed, that the #include "   " form is 
optional.  I do not use bloodshed nor msvc so would not pretend to represent 
these, however many Unix implementations certainly differentiate as I described. 
  Such differentiation is clearly within the standard as this is 'implementation 
dependent'.

    Sadly, the upshot of all this is that there is no hard and fast rule.  If 
one form does not work, try the other or (better) look it up in the compiler 
manual (assuming there is such a thing).

    It is also worth remembering that there may be an equivalent of the UNIX 
INCLUDE_PATH environment variable which may modify the built in behaviour and, 
equally, as this is an implementation dependent thing, there may not.

Best wishes,

Peter

Mateusz Loskot wrote:
> Peter J Halls wrote:
>> Should it not be #include "gdal.h"?  The <> construct is used for
>> system includes, whereas gdal.h counts as a user include, to be found
>> in the include path.  But I admit my c to be a little rusty ...
>> Peter
> 
> Actually, there is no difference. For reference in case of doubt
> with the bloodshed dev-c++, here is what ISO C++ says in 16.2
> 
> 
> 1 A #include directive shall identify a header or source file that can
>   be processed by the implementation.
> 
> 2 A preprocessing directive of the form
> 
>  # include <h-char-sequence> new-line
> 
> searches a sequence of implementation-defined places for a header
> identified uniquely by the specified sequence between the < and >
> delimiters, and causes the replacement of that directive by the entire
> contents of the header. How the places are specified or the header
> identified is implementation-defined.
> 
> 3 A preprocessing directive of the form
> 
>  # include "q-char-sequence" new-line
> 
> causes the replacement of that directive by the entire contents of the
> source file identified by the specified sequence between the "
> delimiters. The named source file is searched for in an
> implementation-defined manner. If this search is not supported, or if
> the search fails, the directive is reprocessed as if it read
> 
>  # include <h-char-sequence> new-line
> 
> with the identical contained sequence (including > characters, if any)
> from the original directive.
> 
> Best regards,

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From jorge.arevalo at gmail.com  Wed Oct 14 04:56:52 2009
From: jorge.arevalo at gmail.com (=?UTF-8?Q?Jorge_Ar=C3=A9valo?=)
Date: Wed Oct 14 04:57:14 2009
Subject: [gdal-dev] WKT Raster driver in trunk
Message-ID: <cb4457700910140156s182184bas9478a2da6fab086@mail.gmail.com>

Hello,

I've recently added the WKT Raster driver to GDAL trunk. You can find
documentation about this driver here:
http://trac.osgeo.org/gdal/wiki/frmts_wtkraster.html

I strongly appreciate any comment or suggestion.

Best regards,
Jorge
From sgirvin at gmail.com  Wed Oct 14 05:38:51 2009
From: sgirvin at gmail.com (Seth Girvin)
Date: Wed Oct 14 05:39:14 2009
Subject: [gdal-dev] GeoTiff Class Cell Counts
Message-ID: <4AD59C2B.8000107@gmail.com>

Hi,

I have just started using the GDAL functions through the .NET wrapper 
written by Tamas Szekeres.

I can get statistics on my GeoTIFF which is great, but I need to get the 
count of pixels in each class in the raster.
Ideally I want to get the count by a range e.g. 123787 cells between 0 - 
0.25, 3242353 cells between 0.25-0.5. Would I need to read through all 
cells individually? I can't seem to find a way to do this using GDAL 
command line tools, so I'm not sure what function name I should be 
looking out for.
Any help much appreciated.

Seth
From jgomezdans at gmail.com  Wed Oct 14 05:48:05 2009
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Wed Oct 14 05:48:09 2009
Subject: [gdal-dev] GeoTiff Class Cell Counts
In-Reply-To: <4AD59C2B.8000107@gmail.com>
References: <4AD59C2B.8000107@gmail.com>
Message-ID: <91d218430910140248w5e3d0b6dj41992c8a8372bd9c@mail.gmail.com>

Hi,

2009/10/14 Seth Girvin <sgirvin@gmail.com>

> I can get statistics on my GeoTIFF which is great, but I need to get the
> count of pixels in each class in the raster.
> Ideally I want to get the count by a range e.g. 123787 cells between 0 -
> 0.25, 3242353 cells between 0.25-0.5. Would I need to read through all cells
> individually? I can't seem to find a way to do this using GDAL command line
> tools, so I'm not sure what function name I should be looking out for.
>

I know nothing about the C# bindings, but using the python bindings, you can
get a histogram, and change its bin buckets around to your satisfaction:
g = gdal.Open(my_fname)
b = g.GetRasterBand(1)
h = b.GetHistogram()


J
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091014/30625726/attachment.html
From massimodisasha at yahoo.it  Wed Oct 14 06:02:28 2009
From: massimodisasha at yahoo.it (Massimo Di Stefano)
Date: Wed Oct 14 06:09:35 2009
Subject: [gdal-dev] grass lib not found :  gdal-grass plug-in (grass-7.0)
Message-ID: <5DAA1768-909D-4A66-9F96-50989AE35048@yahoo.it>

Hi All.

I'm tring to build the gdal-grass plug-in (i'm using gdal from svn)
on a debian sid machine,

i had this problem :


geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$ ./ 
configure --with-gdal=/usr/local/bin/gdal-config --with-grass=/usr/ 
local/grass-7.0.svn/
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking for ranlib... ranlib
checking for g++ -shared ... yes
user supplied gdal-config (/usr/local/bin/gdal-config)
using /usr/local/lib/gdalplugins as GDAL shared library autoload  
directory
checking for G_asprintf in -lgrass_gis... no
checking for G_putenv in -lgrass_gis... no
configure: error: --with-grass=/usr/local/grass-7.0.svn/ requested,  
but libraries not found!  Perhaps you need to set LD_LIBRARY_PATH to  
include /usr/local/grass-7.0.svn//lib?
geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$ ./ 
configure --with-gdal=/usr/local/bin/gdal-config --with-grass=/usr/ 
local/grass-7.0.svn
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking for ranlib... ranlib
checking for g++ -shared ... yes
user supplied gdal-config (/usr/local/bin/gdal-config)
using /usr/local/lib/gdalplugins as GDAL shared library autoload  
directory
checking for G_asprintf in -lgrass_gis... no
checking for G_putenv in -lgrass_gis... no
configure: error: --with-grass=/usr/local/grass-7.0.svn requested, but  
libraries not found!  Perhaps you need to set LD_LIBRARY_PATH to  
include /usr/local/grass-7.0.svn/lib?
geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$

i have  :

cat /etc/ld.so.conf.d/grass.conf
/usr/local/grass-7.0.svn/lib


have you any clue on how to fix the gdal-grass build ?

thanks!

Massimo.
From bclay at ball.com  Wed Oct 14 11:58:49 2009
From: bclay at ball.com (Clay, Bruce)
Date: Wed Oct 14 12:03:21 2009
Subject: [gdal-dev] double delay getting feature count
Message-ID: <C482FF98AE985A47B8C982FD429C9E34027EBD7B@daytonmsg2k3.AERO.BALL.COM>

I have tried several different arrangements trying to get the feature
count from a user selection and I am getting a delay two times for each
query.

 

My current arrangement is

 

OGRLayer *queryLayer = dataSource->ExecuteSQL(fullQueryString, NULL,
"generic");

 

if (queryLayer != NULL)

{

      queryLayer->ResetReading();

      OGRFeature *feature = queryLayer->GetNextFeature();

 

      int numFeatures = queryLayer->GetFeatureCount();

 

. . .Display progress meter then loop reading the features from Oracle

 

 

 

 

I have tried putting the call to GetFeatureCount first and there is no
apparent difference.

 

I am reading data from an Oracle database and using GDAL version 1.6.2
on Windows XP

 

The call to ExecuteSql returns right away but the call to the first
GetNextFeature and the call to GetFeatureCount both have a long delay
depending on the size of the dataset.

 

I need the feature count to use in a progress popup window to let the
user know what is happening.

 

Is there a way to only pay for the query time once and still get the
feature count?

 

 

Bruce




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091014/0ad13a8a/attachment.html
From gregcoats at mac.com  Wed Oct 14 12:40:19 2009
From: gregcoats at mac.com (Greg Coats)
Date: Wed Oct 14 12:42:18 2009
Subject: [gdal-dev] gdalbuildvrt save relative paths
Message-ID: <358B3EEA-369C-4A2C-B441-67E85938DCB5@mac.com>

I develop on one computer, and then deploy on other computers. For  
example, I develop on a desktop computer with many external hard  
drives, and then deploy on a notebook computer with only an internal  
hard drive. Additionally, I develop using a desktop computer's  
external hard drives, and then deploy on a DVD-ROM. In both cases, the  
absolute path to the files changes, but the relative path to the files  
is unchanged. This works well with QGIS 1.3.0 because QGIS supports  
saving relative paths. The gdalbuildvrt man page is at http://www.gdal.org/gdalbuildvrt.html
How does one specify that gdalbuildvrt save relative paths, rather  
than absolute paths?
Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091014/e61c5783/attachment.html
From jef at norbit.de  Wed Oct 14 12:59:10 2009
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed Oct 14 12:59:25 2009
Subject: [gdal-dev] gdalbuildvrt save relative paths
In-Reply-To: <358B3EEA-369C-4A2C-B441-67E85938DCB5@mac.com>
References: <358B3EEA-369C-4A2C-B441-67E85938DCB5@mac.com>
Message-ID: <20091014165910.GA12754@norbit.de>

Hi Greg,

On Wed, 14. Oct 2009 at 12:40:19 -0400, Greg Coats wrote:
>    How does one specify that gdalbuildvrt save relative paths, rather than
>    absolute paths?

Looks like that isn't supported directly yet.  But I'd try:

cd /PATH/TO/THE/VRT/
gdalbuildvrt foo.vrt ../RELATIVE/PATH/TO/THE/DATASOURCES/*.tif
perl -i.bak -pe 's/relativeToVRT="0"/relativeToVRT="1"/' foo.vrt


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From neteler at osgeo.org  Wed Oct 14 13:09:26 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Oct 14 13:09:50 2009
Subject: [gdal-dev] grass lib not found : gdal-grass plug-in (grass-7.0)
In-Reply-To: <5DAA1768-909D-4A66-9F96-50989AE35048@yahoo.it>
References: <5DAA1768-909D-4A66-9F96-50989AE35048@yahoo.it>
Message-ID: <86782b610910141009ldf8b8et4687f4cfdc31718a@mail.gmail.com>

On Wed, Oct 14, 2009 at 12:02 PM, Massimo Di Stefano
<massimodisasha@yahoo.it> wrote:
> Hi All.
>
> I'm tring to build the gdal-grass plug-in (i'm using gdal from svn)
> on a debian sid machine,
>
> i had this problem :
>
>
> geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$ ./configure
> --with-gdal=/usr/local/bin/gdal-config
> --with-grass=/usr/local/grass-7.0.svn/
...
> configure: error: --with-grass=/usr/local/grass-7.0.svn requested, but
> libraries not found! ?Perhaps you need to set LD_LIBRARY_PATH to include
> /usr/local/grass-7.0.svn/lib?
> geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$
>
> i have ?:
>
> cat /etc/ld.so.conf.d/grass.conf
> /usr/local/grass-7.0.svn/lib
>
>
> have you any clue on how to fix the gdal-grass build ?

Yes, see the patch in
http://trac.osgeo.org/gdal/ticket/2953

Markus
From even.rouault at mines-paris.org  Wed Oct 14 14:17:33 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Oct 14 14:17:37 2009
Subject: [gdal-dev] gdalbuildvrt save relative paths
In-Reply-To: <20091014165910.GA12754@norbit.de>
References: <358B3EEA-369C-4A2C-B441-67E85938DCB5@mac.com>
	<20091014165910.GA12754@norbit.de>
Message-ID: <1255544253.4ad615bdef881@imp.free.fr>

Selon "J?rgen E. Fischer" <jef@norbit.de>:

Greg,

you were not enough specific to understand what when wrong for you. I'd expect
an example of the exact gdalbuildvrt command line and the current directory from
where you tried it, like J?rgen did.

Indeed in J?rgen's example, GDAL was not behaving optimally. I've fixed that in
trunk r17818.

So the behaviour is now :

1) cd /PATH/TO/THE/VRT/
gdalbuildvrt foo.vrt RELATIVE/PATH/TO/ANY/GDAL/RASTER

returns a vrt with <SourceFilename
relativeToVRT="1">RELATIVE/PATH/TO/ANY/GDAL/RASTER</SourceFilename>

Before r17818, it only worked if RELATIVE/PATH/TO/ANY/GDAL/RASTER was a filename
in the same directory as foo.vrt

2) cd /ANYWHERE/YOU/WANT

gdalbuildvrt /A/B/C/foo.vrt /A/B/C/PATH/TO/ANY/GDAL/RASTER

returns a vrt with <SourceFilename
relativeToVRT="1">PATH/TO/ANY/GDAL/RASTER</SourceFilename>

(Behaviour of 2) is unchanged by r17818)

3) cd /PATH/TO/THE/VRT/
gdalbuildvrt foo.vrt ABSOLUTE/PATH/TO/ANY/GDAL/RASTER

returns a vrt with <SourceFilename
relativeToVRT="0">ABSOLUTE/PATH/TO/ANY/GDAL/RASTER</SourceFilename>

(Behaviour of 3) is unchanged by r17818)

Even


> Hi Greg,
>
> On Wed, 14. Oct 2009 at 12:40:19 -0400, Greg Coats wrote:
> >    How does one specify that gdalbuildvrt save relative paths, rather than
> >    absolute paths?
>
> Looks like that isn't supported directly yet.  But I'd try:
>
> cd /PATH/TO/THE/VRT/
> gdalbuildvrt foo.vrt ../RELATIVE/PATH/TO/THE/DATASOURCES/*.tif
> perl -i.bak -pe 's/relativeToVRT="0"/relativeToVRT="1"/' foo.vrt
>
>
> J?rgen
>
> --
> J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
> Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
> Software Engineer         D-26506 Norden               http://www.norbit.de
>
> --
> norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
> Rheinstrasse 13, 26506 Norden
> GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From even.rouault at mines-paris.org  Wed Oct 14 14:28:45 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Oct 14 14:28:47 2009
Subject: [gdal-dev] gdalbuildvrt save relative paths
In-Reply-To: <66965323-6975-488F-9792-D110C5BEC9A4@mac.com>
References: <358B3EEA-369C-4A2C-B441-67E85938DCB5@mac.com>
	<20091014165910.GA12754@norbit.de>
	<1255544253.4ad615bdef881@imp.free.fr>
	<66965323-6975-488F-9792-D110C5BEC9A4@mac.com>
Message-ID: <1255544925.4ad6185d06da5@imp.free.fr>

Selon Greg Coats <gregcoats@mac.com>:

> Thanks for that info.
> What is the date of the r17818 code?

10 minutes ago : http://trac.osgeo.org/gdal/changeset/17818

>
> On Oct 14, 2009, at 2:17 PM, Even Rouault wrote:
>
> > I've fixed that in trunk r17818.
>
>


From chaitanya.ch at gmail.com  Wed Oct 14 14:34:09 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Oct 14 14:34:12 2009
Subject: [gdal-dev] double delay getting feature count
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34027EBD7B@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34027EBD7B@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <eb502d880910141134u2438ea58h8be15b424da53df3@mail.gmail.com>

Bruce,

The GetFeatureCount function gets the value with an SQL query to the data
server. The bottleneck may be at the connection.

On Wed, Oct 14, 2009 at 9:28 PM, Clay, Bruce <bclay@ball.com> wrote:

>  I have tried several different arrangements trying to get the feature
> count from a user selection and I am getting a delay two times for each
> query.
>
>
>
> My current arrangement is
>
>
>
> OGRLayer *queryLayer = dataSource->ExecuteSQL(fullQueryString, NULL,
> "generic");
>
>
>
> if (queryLayer != NULL)
>
> {
>
>       queryLayer->ResetReading();
>
>       OGRFeature *feature = queryLayer->GetNextFeature();
>
>
>
>       int numFeatures = queryLayer->GetFeatureCount();
>
>
>
> . . .Display progress meter then loop reading the features from Oracle
>
>
>
>
>
>
>
>
>
> I have tried putting the call to GetFeatureCount first and there is no
> apparent difference.
>
>
>
> I am reading data from an Oracle database and using GDAL version 1.6.2 on
> Windows XP
>
>
>
> The call to ExecuteSql returns right away but the call to the first
> GetNextFeature and the call to GetFeatureCount both have a long delay
> depending on the size of the dataset.
>
>
>
> I need the feature count to use in a progress popup window to let the user
> know what is happening.
>
>
>
> Is there a way to only pay for the query time once and still get the
> feature count?
>
>
>
>
>
> Bruce
>
> This message and any enclosures are intended only for the addressee.  Please
> notify the sender by email if you are not the intended recipient.  If you are
> not the intended recipient, you may not use, copy, disclose, or distribute this
> message or its contents or enclosures to any other person and any such actions
> may be unlawful.  Ball reserves the right to monitor and review all messages
> and enclosures sent to or from this email address.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091015/60166c98/attachment-0001.html
From massimodisasha at yahoo.it  Wed Oct 14 15:37:04 2009
From: massimodisasha at yahoo.it (Massimo Di Stefano)
Date: Wed Oct 14 15:37:34 2009
Subject: [gdal-dev] grass lib not found : gdal-grass plug-in (grass-7.0)
In-Reply-To: <86782b610910141009ldf8b8et4687f4cfdc31718a@mail.gmail.com>
References: <5DAA1768-909D-4A66-9F96-50989AE35048@yahoo.it>
	<86782b610910141009ldf8b8et4687f4cfdc31718a@mail.gmail.com>
Message-ID: <069C6E85-F96F-4EA7-8CD8-6135F2C6091E@yahoo.it>

Thanks Markus,

i tried to apply the patch, but it fails on the actually gdal-trunk  
(revision :  Revision: 17810  )

i'm tring to see how to apply the patch manually .. but it is 6000  
lines :'(

this the log tring to apply the patch :


geofem@geofem:/usr/local/src/gdal$ patch -p0 < /home/geofem/Downloads/ 
gdal_grass7_plugin.diff
patching file frmts/grass/pkg/configure.in
Hunk #2 succeeded at 152 (offset 9 lines).
patching file frmts/grass/pkg/configure
Hunk #62 FAILED at 3395.
Hunk #65 FAILED at 3446.
Hunk #67 FAILED at 3534.
Hunk #68 succeeded at 3630 (offset 78 lines).
Hunk #69 succeeded at 3694 (offset 78 lines).
Hunk #70 succeeded at 3712 (offset 78 lines).
Hunk #71 succeeded at 3793 (offset 78 lines).
Hunk #72 succeeded at 3854 (offset 78 lines).
Hunk #73 succeeded at 3978 (offset 78 lines).
Hunk #74 succeeded at 4008 (offset 78 lines).
Hunk #75 succeeded at 4023 (offset 78 lines).
Hunk #76 succeeded at 4136 (offset 78 lines).
patch: **** malformed patch at line 5577: @@ -3895,7 +4587,9 @@

geofem@geofem:/usr/local/src/gdal$

Have you any ideas?
idea .. (but i guess it is totally wrong)
can i download gdal-grass plug-in from the gdal-revision you applied  
the patch
and use it on the actual gdal trunk?

thanks for any suggestion!

Massimo.

il giorno 14/ott/09, alle ore 19:09, Markus Neteler ha scritto:

> On Wed, Oct 14, 2009 at 12:02 PM, Massimo Di Stefano
> <massimodisasha@yahoo.it> wrote:
>> Hi All.
>>
>> I'm tring to build the gdal-grass plug-in (i'm using gdal from svn)
>> on a debian sid machine,
>>
>> i had this problem :
>>
>>
>> geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$ ./ 
>> configure
>> --with-gdal=/usr/local/bin/gdal-config
>> --with-grass=/usr/local/grass-7.0.svn/
> ...
>> configure: error: --with-grass=/usr/local/grass-7.0.svn requested,  
>> but
>> libraries not found!  Perhaps you need to set LD_LIBRARY_PATH to  
>> include
>> /usr/local/grass-7.0.svn/lib?
>> geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$
>>
>> i have  :
>>
>> cat /etc/ld.so.conf.d/grass.conf
>> /usr/local/grass-7.0.svn/lib
>>
>>
>> have you any clue on how to fix the gdal-grass build ?
>
> Yes, see the patch in
> http://trac.osgeo.org/gdal/ticket/2953
>
> Markus

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091014/b2842a52/attachment.html
From bclay at ball.com  Wed Oct 14 15:42:44 2009
From: bclay at ball.com (Clay, Bruce)
Date: Wed Oct 14 15:48:32 2009
Subject: [gdal-dev] double delay getting feature count
In-Reply-To: <eb502d880910141134u2438ea58h8be15b424da53df3@mail.gmail.com>
References: <C482FF98AE985A47B8C982FD429C9E34027EBD7B@daytonmsg2k3.AERO.BALL.COM>
	<eb502d880910141134u2438ea58h8be15b424da53df3@mail.gmail.com>
Message-ID: <C482FF98AE985A47B8C982FD429C9E34027EBD7E@daytonmsg2k3.AERO.BALL.COM>

Chaitany:

 

Thanks for your reply.

 

  I would expect to get one delay due to the connection time but I did
not expect one for both the GetFeatureCount and the GetNextFeature.
Both of those calls are on the same layer variable.  I originally had
the GetFeatureCount before the ResetReading.  That gave the same delay.
As it turned out the code show below actually had 3 delays.  One for the
GetNextFeature outside the loop, one for the GetFeatureCount and another
one for the first encounter of the GetNextFeature at the bottom of the
loop.  Apparently the GetFeatureCount is leaving the feature pointer at
the bottom of the loop and we have to take time to move back to the top.

 

I would step into the code but I can't get Visual Studio to dig down
into gdal16.dll for some reason even though it was built as a debug
library.

 

 

Bruce

________________________________

From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com] 
Sent: Wednesday, October 14, 2009 2:34 PM
To: Clay, Bruce
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] double delay getting feature count

 

Bruce,

The GetFeatureCount function gets the value with an SQL query to the
data server. The bottleneck may be at the connection.

On Wed, Oct 14, 2009 at 9:28 PM, Clay, Bruce <bclay@ball.com> wrote:

I have tried several different arrangements trying to get the feature
count from a user selection and I am getting a delay two times for each
query.

 

My current arrangement is

 

OGRLayer *queryLayer = dataSource->ExecuteSQL(fullQueryString, NULL,
"generic");

 

if (queryLayer != NULL)

{

      queryLayer->ResetReading();

      OGRFeature *feature = queryLayer->GetNextFeature();

 

      int numFeatures = queryLayer->GetFeatureCount();

 

. . .Display progress meter then loop reading the features from Oracle

 

 

 

 

I have tried putting the call to GetFeatureCount first and there is no
apparent difference.

 

I am reading data from an Oracle database and using GDAL version 1.6.2
on Windows XP

 

The call to ExecuteSql returns right away but the call to the first
GetNextFeature and the call to GetFeatureCount both have a long delay
depending on the size of the dataset.

 

I need the feature count to use in a progress popup window to let the
user know what is happening.

 

Is there a way to only pay for the query time once and still get the
feature count?

 

 

Bruce

This message and any enclosures are intended only for the addressee.
Please  
notify the sender by email if you are not the intended recipient.  If
you are  
not the intended recipient, you may not use, copy, disclose, or
distribute this  
message or its contents or enclosures to any other person and any such
actions  
may be unlawful.  Ball reserves the right to monitor and review all
messages  
and enclosures sent to or from this email address.


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev




-- 
Best regards,
Chaitanya kumar CH.




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091014/ed75fb04/attachment-0001.html
From massimodisasha at yahoo.it  Wed Oct 14 16:05:27 2009
From: massimodisasha at yahoo.it (Massimo Di Stefano)
Date: Wed Oct 14 16:05:56 2009
Subject: Fwd: [gdal-dev] grass lib not found : gdal-grass plug-in (grass-7.0)
References: <069C6E85-F96F-4EA7-8CD8-6135F2C6091E@yahoo.it>
Message-ID: <FA104272-B46A-4B6F-A556-40D1541452ED@yahoo.it>

Hi All.

from a gdal-dev list+irc discussion,


the old patch  no longer work on the up-to date gdal trunk.

the old patch was applied in the trunk plus modification to have the  
gdal-grass plug-in
working on grass version < 7 and = 7.

but that sophistication has been broken by a recent change in grass.

probably the reason of the current failure is the addition/removal of  
one of the grass lib,
have a "grass-config" script would help certainly to avoid this kind  
of failure each time a new lib will be added/removed.



thanks for any interest in this direction.

regards,
Massimo.

Inizio messaggio inoltrato:

> Da: Massimo Di Stefano <massimodisasha@yahoo.it>
> Data: 14 ottobre 2009 21:37:04 GMT+02:00
> A: Markus Neteler <neteler@osgeo.org>
> Cc: gdal-dev@lists.osgeo.org
> Oggetto: Re: [gdal-dev] grass lib not found : gdal-grass plug-in  
> (grass-7.0)
>
> Thanks Markus,
>
> i tried to apply the patch, but it fails on the actually gdal-trunk  
> (revision :  Revision: 17810  )
>
> i'm tring to see how to apply the patch manually .. but it is 6000  
> lines :'(
>
> this the log tring to apply the patch :
>
>
> geofem@geofem:/usr/local/src/gdal$ patch -p0 < /home/geofem/ 
> Downloads/gdal_grass7_plugin.diff
> patching file frmts/grass/pkg/configure.in
> Hunk #2 succeeded at 152 (offset 9 lines).
> patching file frmts/grass/pkg/configure
> Hunk #62 FAILED at 3395.
> Hunk #65 FAILED at 3446.
> Hunk #67 FAILED at 3534.
> Hunk #68 succeeded at 3630 (offset 78 lines).
> Hunk #69 succeeded at 3694 (offset 78 lines).
> Hunk #70 succeeded at 3712 (offset 78 lines).
> Hunk #71 succeeded at 3793 (offset 78 lines).
> Hunk #72 succeeded at 3854 (offset 78 lines).
> Hunk #73 succeeded at 3978 (offset 78 lines).
> Hunk #74 succeeded at 4008 (offset 78 lines).
> Hunk #75 succeeded at 4023 (offset 78 lines).
> Hunk #76 succeeded at 4136 (offset 78 lines).
> patch: **** malformed patch at line 5577: @@ -3895,7 +4587,9 @@
>
> geofem@geofem:/usr/local/src/gdal$
>
> Have you any ideas?
> idea .. (but i guess it is totally wrong)
> can i download gdal-grass plug-in from the gdal-revision you applied  
> the patch
> and use it on the actual gdal trunk?
>
> thanks for any suggestion!
>
> Massimo.
>
> il giorno 14/ott/09, alle ore 19:09, Markus Neteler ha scritto:
>
>> On Wed, Oct 14, 2009 at 12:02 PM, Massimo Di Stefano
>> <massimodisasha@yahoo.it> wrote:
>>> Hi All.
>>>
>>> I'm tring to build the gdal-grass plug-in (i'm using gdal from svn)
>>> on a debian sid machine,
>>>
>>> i had this problem :
>>>
>>>
>>> geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$ ./ 
>>> configure
>>> --with-gdal=/usr/local/bin/gdal-config
>>> --with-grass=/usr/local/grass-7.0.svn/
>> ...
>>> configure: error: --with-grass=/usr/local/grass-7.0.svn requested,  
>>> but
>>> libraries not found!  Perhaps you need to set LD_LIBRARY_PATH to  
>>> include
>>> /usr/local/grass-7.0.svn/lib?
>>> geofem@geofem:/usr/local/src/gdal/frmts/grass/gdal-grass-1.7.0$
>>>
>>> i have  :
>>>
>>> cat /etc/ld.so.conf.d/grass.conf
>>> /usr/local/grass-7.0.svn/lib
>>>
>>>
>>> have you any clue on how to fix the gdal-grass build ?
>>
>> Yes, see the patch in
>> http://trac.osgeo.org/gdal/ticket/2953
>>
>> Markus
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091014/2ebdf401/attachment.html
From yjacolin at free.fr  Wed Oct 14 16:07:01 2009
From: yjacolin at free.fr (Yves Jacolin (free))
Date: Wed Oct 14 16:07:11 2009
Subject: [gdal-dev] French translation of the gdal doc
Message-ID: <200910142207.01356.yjacolin@free.fr>

Hello,

I translated the french translation one year ago and keep it up to date until 
now. However I have now too much things to work on and I would like to close 
my website [1]. I would also like improve contribution from other person.

What could be the best solution to migrate the french documentation? I think 
two solutions:
1. migrate to http://georezo.net/wiki (I am a moderator, web administrator and 
work in the board of the legal association).
2. migrate into gdal svn.

Both have positive and negative things. Data will be easier to migrate in the 
GeoRezo's wiki as it is the same engine, it could be easy to get some help 
from francophone community. GDAL svn is a great location for the 
documentation as the english one is already there but could be more difficult 
to get contribution from francophone user.

What do you (GDAL PSC and community) think about this?

Thanks,

Y.
PS : I will always help to update the french documentation ;) as the hardest 
part is done.
[1] http://softlibre.gloobe.org
-- 
Yves Jacolin
-------------
"Donner la libert?? aux individus ne suffit pas, il faut aussi leur donner du
pouvoir, de la puissance d'agir." M Gauchet

"Give freedom to people is not enough, we also have to give them the power 
to use this freedom, to act". M Gauchet
-------------
http://yjacolin.gloobe.org
http://softlibre.gloobe.org
From matt.wilkie at gov.yk.ca  Wed Oct 14 16:10:35 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Oct 14 16:10:40 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <op.u1j23mhtzbn0g9@spdba>
References: <loom.20091001T095950-579@post.gmane.org>	<4ACD1A30.1090305@gov.yk.ca>
	<4ACD87EC.5050805@sarvision.nl> <op.u1j23mhtzbn0g9@spdba>
Message-ID: <4AD6303B.1000200@gov.yk.ca>

Simon, it's clear you have a great deal of experience in this area. If 
it were up to you to chart out a course for an open source spatial 
vector format that trancends the current limitations of shape, gml, etc. 
what would you advise? Perhaps all that is missing is an architectural 
plan.
> The only reason I ever hear for physical file formats is "we need to do this for performance reasons

Personally I like physical files because they accessible and portable. I 
don't have to install, configure and run an application just to get to 
the point of reading it. Neither do I have to export to an intermediate 
state to transfer to another machine or medium and then import on the 
other end. Maybe this is more properly a limitation of the readily 
available tools than the storage format though.

best regards,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
-------------------------------------------- 



Simon Greener wrote:
> The need for a new vector file format has been discussed many times with no action initiated by the open source community on what to do.
>
>   
>> ESRI has said they will do so, but it's been several
>> years since they first announced it and when it is finally is released
>> there is no guarantee it will be under license terms open source
>> projects can use. This isn't to say it will be unusable either, we
>> just don't know.
>>     
>
> Ahhh, isn't it wonderful waiting for the "crumbs that will fall from the master's table"!
>
> And, "to wait" is part and parcel of being an ESRI-centric customer or user: strange that open source people are willing to do the same.
> (Well, at least you aren't paying for the privilege of using the stuff.)
>
> Why won't ESRI release an FDO (an Open Source open access API) provider for FGDBs rather than their own API? (I can find no reference to ESRI offering to do so for any of its formats.) Sounds like API lock-in is a design goal for the FGDB API!
>
> Don't forget that a FGDB is full of ESRI concepts (not OGC or SQL/MM or those promoted by any other standards body) - more lock-in if it becomes the much hoped for replacement for shapefiles. And, what's more, we know nothing about what will be in the API. Where is the community engagement? Will we end up with an API via which we cannot (four examples will suffice):
>
> 1. Properly design (cf CASE tool) an FGDB (cf ESRI $$ extensions to Visio);
> 2. Create an FGDB from scratch;
> 3. Write data or create important objects (ie versions);
> 4. Create FGDB spatial and attribute indexes or even use them via the API (cf shapefile indexing);
>
> These are points which have grounding in past ESRI practices. All done deliberately so you have to have a copy of ArcGIS to construct, design and get the best out of a fully specified FGDB?
>
> And then, when there are serious bugs, you have to wait for 18 months for a fix while in the Open Source community you could get one in a matter of days or weeks?
>
> Seriously, though, isn't open source about taking control of one's destiny and being a part of a truly open, collaborative, process and not waiting for the bully in the playground to tell you what you can and can't do, or who really isn't interested in your deadlines and real needs? Many times in my long GIS career I've had conversations with the 'true believers' over in Redlands. One was like this: "When will you support an Oracle Sdo_Geometry circle object in ArcSDE?". Reply: "Circles in GIS? We don't think you need them....".
>
> The fixated concentration of the GIS community on physical file formats feels very much like a 1960s form of data management and computing. Logical separation from physical implementation, normalise for edit/denormalise for performance, logical separation from physical implementation, normalise for edit/denormalise for performance, logical..... oops the record is broken ....
>
> The only reason I ever hear for physical file formats is "we need to do this for performance reasons"..... but this usually masks a lot of other reasons and assumptions (like it is "quicker and easier" that soon morphs into a management nightmare).....
>
> cynically
> Simon
>   
From chaitanya.ch at gmail.com  Wed Oct 14 17:02:08 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Oct 14 17:02:11 2009
Subject: [gdal-dev] double delay getting feature count
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34027EBD7E@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34027EBD7B@daytonmsg2k3.AERO.BALL.COM>
	<eb502d880910141134u2438ea58h8be15b424da53df3@mail.gmail.com>
	<C482FF98AE985A47B8C982FD429C9E34027EBD7E@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <eb502d880910141402w6c3aee68q3916fae554cceef9@mail.gmail.com>

Bruce,

You can take a look at the GDAL/OGR's Oracle driver code at
http://trac.osgeo.org/gdal/browser/branches/1.6/gdal/ogr/ogrsf_frmts/oci
Take a look at the implementation of the function at
http://trac.osgeo.org/gdal/browser/branches/1.6/gdal/ogr/ogrsf_frmts/oci/ogrocitablelayer.cpp#L1189

Unless you are using a filter for that layer, it is executing another SQL
command.

On Thu, Oct 15, 2009 at 1:12 AM, Clay, Bruce <bclay@ball.com> wrote:

>  Chaitany:
>
>
>
> Thanks for your reply.
>
>
>
>   I would expect to get one delay due to the connection time but I did not
> expect one for both the GetFeatureCount and the GetNextFeature.  Both of
> those calls are on the same layer variable.  I originally had the
> GetFeatureCount before the ResetReading.  That gave the same delay. As it
> turned out the code show below actually had 3 delays.  One for the
> GetNextFeature outside the loop, one for the GetFeatureCount and another one
> for the first encounter of the GetNextFeature at the bottom of the loop.
> Apparently the GetFeatureCount is leaving the feature pointer at the bottom
> of the loop and we have to take time to move back to the top.
>
>
>
> I would step into the code but I can?t get Visual Studio to dig down into
> gdal16.dll for some reason even though it was built as a debug library.
>
>
>
>
>
> Bruce
>  ------------------------------
>
> *From:* Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
> *Sent:* Wednesday, October 14, 2009 2:34 PM
> *To:* Clay, Bruce
> *Cc:* gdal-dev@lists.osgeo.org
> *Subject:* Re: [gdal-dev] double delay getting feature count
>
>
>
> Bruce,
>
> The GetFeatureCount function gets the value with an SQL query to the data
> server. The bottleneck may be at the connection.
>
> On Wed, Oct 14, 2009 at 9:28 PM, Clay, Bruce <bclay@ball.com> wrote:
>
> I have tried several different arrangements trying to get the feature count
> from a user selection and I am getting a delay two times for each query.
>
>
>
> My current arrangement is
>
>
>
> OGRLayer *queryLayer = dataSource->ExecuteSQL(fullQueryString, NULL,
> "generic");
>
>
>
> if (queryLayer != NULL)
>
> {
>
>       queryLayer->ResetReading();
>
>       OGRFeature *feature = queryLayer->GetNextFeature();
>
>
>
>       int numFeatures = queryLayer->GetFeatureCount();
>
>
>
> . . .Display progress meter then loop reading the features from Oracle
>
>
>
>
>
>
>
>
>
> I have tried putting the call to GetFeatureCount first and there is no
> apparent difference.
>
>
>
> I am reading data from an Oracle database and using GDAL version 1.6.2 on
> Windows XP
>
>
>
> The call to ExecuteSql returns right away but the call to the first
> GetNextFeature and the call to GetFeatureCount both have a long delay
> depending on the size of the dataset.
>
>
>
> I need the feature count to use in a progress popup window to let the user
> know what is happening.
>
>
>
> Is there a way to only pay for the query time once and still get the
> feature count?
>
>
>
>
>
> Bruce
>
> This message and any enclosures are intended only for the addressee.  Please
>
> notify the sender by email if you are not the intended recipient.  If you are
>
> not the intended recipient, you may not use, copy, disclose, or distribute this
>
> message or its contents or enclosures to any other person and any such actions
>
> may be unlawful.  Ball reserves the right to monitor and review all messages
>
> and enclosures sent to or from this email address.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> This message and any enclosures are intended only for the addressee.  Please
> notify the sender by email if you are not the intended recipient.  If you are
> not the intended recipient, you may not use, copy, disclose, or distribute this
> message or its contents or enclosures to any other person and any such actions
> may be unlawful.  Ball reserves the right to monitor and review all messages
> and enclosures sent to or from this email address.
>
>


-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091015/39eee133/attachment-0001.html
From simon at spatialdbadvisor.com  Thu Oct 15 01:33:13 2009
From: simon at spatialdbadvisor.com (Simon Greener)
Date: Thu Oct 15 01:35:12 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <4AD6303B.1000200@gov.yk.ca>
References: <loom.20091001T095950-579@post.gmane.org>
	<4ACD1A30.1090305@gov.yk.ca> <4ACD87EC.5050805@sarvision.nl>
	<op.u1j23mhtzbn0g9@spdba> <4AD6303B.1000200@gov.yk.ca>
Message-ID: <op.u1ttpnkyzbn0g9@spdba>

Before ever I would advise anything I would want to see the open source GIS community clearly define that it is that it wants in a new physical file format.

Here is a discussion on the question of new open vector format that occurred two years ago (note that most of the discussion is technical - about possible solutions without defining the problem): http://www.mail-archive.com/discuss@lists.osgeo.org/msg01285.html

There is, of course, the desire to correct the problems in the old shapefile format (multiple files, no official spatial index, spatial reference external to main spatial file, column name and data type limitations in the DBase file format, limits to physical file size etc) but should the new format include render information? Also, elucidating user need could expose conflicting requirements that are difficult to resolve in a single physical file format. For example, the need to be able to store a very large dataset may conflict with the desire to have a high-performance access. What about clean interop with the IT world? (IMHO we have failed as a spatial community to embrace IT data access APIs ODBC/JDBC/OLEDB etc for the spatial data formats we have created, promoted and used.) From my perspective I can't see that the community needs new bespoke formats as there has already been so much work out there in general computing that we can re-use or extend hence any new format ca
 n be  
brought to market quickly.

Not the answer you wanted Matt but I have so little involvement in the open source community that I am not the one to "drive" this issue to completion.

regards
Simon
On Thu, 15 Oct 2009 07:10:35 +1100, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:

> Simon, it's clear you have a great deal of experience in this area. If
> it were up to you to chart out a course for an open source spatial
> vector format that trancends the current limitations of shape, gml, etc.
> what would you advise? Perhaps all that is missing is an architectural
> plan.
>> The only reason I ever hear for physical file formats is "we need to do this for performance reasons
>
> Personally I like physical files because they accessible and portable. I
> don't have to install, configure and run an application just to get to
> the point of reading it. Neither do I have to export to an intermediate
> state to transfer to another machine or medium and then import on the
> other end. Maybe this is more properly a limitation of the readily
> available tools than the storage format though.
>
> best regards,
>
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
>
>
> Simon Greener wrote:
>> The need for a new vector file format has been discussed many times with no action initiated by the open source community on what to do.
>>
>>
>>> ESRI has said they will do so, but it's been several
>>> years since they first announced it and when it is finally is released
>>> there is no guarantee it will be under license terms open source
>>> projects can use. This isn't to say it will be unusable either, we
>>> just don't know.
>>>
>>
>> Ahhh, isn't it wonderful waiting for the "crumbs that will fall from the master's table"!
>>
>> And, "to wait" is part and parcel of being an ESRI-centric customer or user: strange that open source people are willing to do the same.
>> (Well, at least you aren't paying for the privilege of using the stuff.)
>>
>> Why won't ESRI release an FDO (an Open Source open access API) provider for FGDBs rather than their own API? (I can find no reference to ESRI offering to do so for any of its formats.) Sounds like API lock-in is a design goal for the FGDB API!
>>
>> Don't forget that a FGDB is full of ESRI concepts (not OGC or SQL/MM or those promoted by any other standards body) - more lock-in if it becomes the much hoped for replacement for shapefiles. And, what's more, we know nothing about what will be in the API. Where is the community engagement? Will we end up with an API via which we cannot (four examples will suffice):
>>
>> 1. Properly design (cf CASE tool) an FGDB (cf ESRI $$ extensions to Visio);
>> 2. Create an FGDB from scratch;
>> 3. Write data or create important objects (ie versions);
>> 4. Create FGDB spatial and attribute indexes or even use them via the API (cf shapefile indexing);
>>
>> These are points which have grounding in past ESRI practices. All done deliberately so you have to have a copy of ArcGIS to construct, design and get the best out of a fully specified FGDB?
>>
>> And then, when there are serious bugs, you have to wait for 18 months for a fix while in the Open Source community you could get one in a matter of days or weeks?
>>
>> Seriously, though, isn't open source about taking control of one's destiny and being a part of a truly open, collaborative, process and not waiting for the bully in the playground to tell you what you can and can't do, or who really isn't interested in your deadlines and real needs? Many times in my long GIS career I've had conversations with the 'true believers' over in Redlands. One was like this: "When will you support an Oracle Sdo_Geometry circle object in ArcSDE?". Reply: "Circles in GIS? We don't think you need them....".
>>
>> The fixated concentration of the GIS community on physical file formats feels very much like a 1960s form of data management and computing. Logical separation from physical implementation, normalise for edit/denormalise for performance, logical separation from physical implementation, normalise for edit/denormalise for performance, logical..... oops the record is broken ....
>>
>> The only reason I ever hear for physical file formats is "we need to do this for performance reasons"..... but this usually masks a lot of other reasons and assumptions (like it is "quicker and easier" that soon morphs into a management nightmare).....
>>
>> cynically
>> Simon
>>
>


-- 
SpatialDB Advice and Design, Solutions Architecture and Programming,
Oracle Database 10g Administrator Certified Associate; Oracle Database 10g SQL Certified Professional
Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME, Radius Topology and Studio Specialist.
39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
Website: www.spatialdbadvisor.com
   Email: simon@spatialdbadvisor.com
   Voice: +61 362 396397
Mobile: +61 418 396391
Skype: sggreener
Longitude: 147.20515 (147? 12' 18" E)
Latitude: -43.01530 (43? 00' 55" S)
GeoHash: r22em9r98wg
NAC:W80CK 7SWP3
From peder at axensten.se  Thu Oct 15 02:36:06 2009
From: peder at axensten.se (Peder Axensten)
Date: Thu Oct 15 02:38:39 2009
Subject: [gdal-dev] dtm file format
Message-ID: <9AD5016A-9FDB-4A37-BA00-6944FE90CC3D@axensten.se>

Hi!

I have trouble finding something that can read a dtm file (generated  
in Inpho Match-T DEM/DSM Generator). Does anyone know how to resolve  
this? i would like to convert it to geotiff or anything that gdal then  
can pick up.

Best regards,

Peder Axensten
Research engineer

Swedish University of Agricultural Sciences
Forest Resource Management
Remote Sensing Laboratory
Skogmarksgr?nd
se-90183 Ume?
Sweden

Phone: +46-90-786.8500
http://www.srh.slu.se/rsl

From vvvjjj0 at yahoo.co.in  Thu Oct 15 04:00:30 2009
From: vvvjjj0 at yahoo.co.in (vvv jjj)
Date: Thu Oct 15 04:08:00 2009
Subject: [gdal-dev] Change Resampling method
Message-ID: <38533.52785.qm@web95105.mail.in2.yahoo.com>

Hi

I'm trying to read raster file (simple Tiff) raster data using RasterIO and display the raster data without creating another dataset. By default GDAL uses nearest neighbor resampling algorithm. I would like to use other resampling methods (lanscoz). I do not need to write in a new file (no hDstDS object is present) as I just need to display the resample data. Is it possible to change the resampling method without creating another dataset to read the raster data.

Pls let me know if I missed anything or posted in a wrong form, as I'm new to GDAL.
Thanks in Advance.

Regards
Viswanath 



      Now, send attachments up to 25MB with Yahoo! India Mail. Learn how. http://in.overview.mail.yahoo.com/photos
From chaitanya.ch at gmail.com  Thu Oct 15 08:06:34 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Oct 15 08:06:36 2009
Subject: [gdal-dev] Change Resampling method
In-Reply-To: <38533.52785.qm@web95105.mail.in2.yahoo.com>
References: <38533.52785.qm@web95105.mail.in2.yahoo.com>
Message-ID: <eb502d880910150506j5c6baaa5h8a74bbbb4558ebca@mail.gmail.com>

Viswanath,

RastorIO doesn't do any resampling. RasterIO doesn't have an argument like
hDstDS. I think the resampling is occuring during reprojection or some other
process.

On Thu, Oct 15, 2009 at 1:30 PM, vvv jjj <vvvjjj0@yahoo.co.in> wrote:

> Hi
>
> I'm trying to read raster file (simple Tiff) raster data using RasterIO and
> display the raster data without creating another dataset. By default GDAL
> uses nearest neighbor resampling algorithm. I would like to use other
> resampling methods (lanscoz). I do not need to write in a new file (no
> hDstDS object is present) as I just need to display the resample data. Is it
> possible to change the resampling method without creating another dataset to
> read the raster data.
>
> Pls let me know if I missed anything or posted in a wrong form, as I'm new
> to GDAL.
> Thanks in Advance.
>
> Regards
> Viswanath
>
>
>
>      Now, send attachments up to 25MB with Yahoo! India Mail. Learn how.
> http://in.overview.mail.yahoo.com/photos
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091015/4e3b8f90/attachment.html
From juanrapoport at suremptec.com.ar  Thu Oct 15 10:09:36 2009
From: juanrapoport at suremptec.com.ar (Juan Rapoport)
Date: Thu Oct 15 10:09:39 2009
Subject: [gdal-dev] GetFileList doesn't return the list of files associated
Message-ID: <a1f4c60b0910150709t71672275ya11e92a55992235f@mail.gmail.com>

Hello,

I'm trying to use the GetFileList() function with a FAST-L7A image; it's
supposed to return a list with the files associated with the dataset, but it
only returns the administrative file (the _HRF.FST file). How can I get the
complete list o files?

Thanks

-- 
Juan Rapoport
SUR Emprendimientos Tecnol?gicos

Ing. Huergo 1189 (C1007AOL)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 5811-4552   ext. 107
juanrapoport@suremptec.com.ar
www.suremptec.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091015/3756f893/attachment.html
From warmerdam at pobox.com  Thu Oct 15 10:31:46 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 15 10:31:54 2009
Subject: [gdal-dev] Change Resampling method
In-Reply-To: <38533.52785.qm@web95105.mail.in2.yahoo.com>
References: <38533.52785.qm@web95105.mail.in2.yahoo.com>
Message-ID: <4AD73252.1090703@pobox.com>

vvv jjj wrote:
> Hi
> 
> I'm trying to read raster file (simple Tiff) raster data using RasterIO and
> display the raster data without creating another dataset. By default GDAL
> uses nearest neighbor resampling algorithm. I would like to use other
> resampling methods (lanscoz). I do not need to write in a new file (no
> hDstDS object is present) as I just need to display the resample data. Is it
> possible to change the resampling method without creating another dataset to
> read the raster data.

Viswanath,

The RasterIO() method offers no mechanism to control the resampling.  The
only way to get advanced resampling options is to use the warp api in
which case you would need a destination dataset even if it is just a
memory buffer wrapped as a dataset (using the MEM driver for instance).

This gets rather involved!

Alternatively you could read the data at full resolution and apply the
resampling yourself.

> Pls let me know if I missed anything or posted in a wrong form, as I'm new
> to GDAL. Thanks in Advance.

This is the right place, and welcome.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From atubar at 126.com  Thu Oct 15 10:48:55 2009
From: atubar at 126.com (atubar)
Date: Thu Oct 15 11:19:14 2009
Subject: [gdal-dev] how to test the creation and deletion capability of ogr?
Message-ID: <18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>

Hi, 

I want to take a test about the capability of creation and deletion for all supported formats of ogr .

The code like below,  The parameter "const char" are copied from api doc. But all flag return a value of 0, why ?   

  int flag;

  flag=poDriver->TestCapability("ODrCCreateDataSource");
  if(flag==TRUE)
   cout<<endl<<"  --Supported Creation. "<<endl;
  flag=poDriver->TestCapability("ODrCDeleteDataSource");
  if(flag==TRUE)
   cout<<endl<<"  --Supported Deletion. "<<endl;

Many funcions need const char * params, is there a list of these values ?


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091015/e028ace0/attachment-0001.html
From gregcoats at mac.com  Thu Oct 15 11:35:42 2009
From: gregcoats at mac.com (Greg Coats)
Date: Thu Oct 15 11:36:29 2009
Subject: [gdal-dev] Change Resampling method
In-Reply-To: <38533.52785.qm@web95105.mail.in2.yahoo.com>
References: <38533.52785.qm@web95105.mail.in2.yahoo.com>
Message-ID: <E131C05C-2325-480A-9426-E54A8EBCC2E1@mac.com>

Your reference to lanscoz is likely referring to Lanczos resampling
http://en.wikipedia.org/wiki/Lanczos_resampling
The gdalwarp man page shows that it supports 5 resampling methods:  
near, bilinear, cubic, cubicspline, lanczos.
http://www.gdal.org/gdalwarp.html
Greg

On Oct 15, 2009, at 4:00 AM, vvv jjj wrote:

> I would like to use other resampling methods (lanscoz).
From vvvjjj0 at yahoo.co.in  Thu Oct 15 11:47:41 2009
From: vvvjjj0 at yahoo.co.in (vvv jjj)
Date: Thu Oct 15 11:47:45 2009
Subject: [gdal-dev] Change Resampling method
In-Reply-To: <4AD73252.1090703@pobox.com>
Message-ID: <739478.65826.qm@web95111.mail.in2.yahoo.com>


Dear Frank

Thanks for the swift response.

Viswanath.

--- On Thu, 15/10/09, Frank Warmerdam <warmerdam@pobox.com> wrote:

> From: Frank Warmerdam <warmerdam@pobox.com>
> Subject: Re: [gdal-dev] Change Resampling method
> To: "vvv jjj" <vvvjjj0@yahoo.co.in>
> Cc: gdal-dev@lists.osgeo.org
> Date: Thursday, 15 October, 2009, 8:01 PM
> vvv jjj wrote:
> > Hi
> > 
> > I'm trying to read raster file (simple Tiff) raster
> data using RasterIO and
> > display the raster data without creating another
> dataset. By default GDAL
> > uses nearest neighbor resampling algorithm. I would
> like to use other
> > resampling methods (lanscoz). I do not need to write
> in a new file (no
> > hDstDS object is present) as I just need to display
> the resample data. Is it
> > possible to change the resampling method without
> creating another dataset to
> > read the raster data.
> 
> Viswanath,
> 
> The RasterIO() method offers no mechanism to control the
> resampling.? The
> only way to get advanced resampling options is to use the
> warp api in
> which case you would need a destination dataset even if it
> is just a
> memory buffer wrapped as a dataset (using the MEM driver
> for instance).
> 
> This gets rather involved!
> 
> Alternatively you could read the data at full resolution
> and apply the
> resampling yourself.
> 
> > Pls let me know if I missed anything or posted in a
> wrong form, as I'm new
> > to GDAL. Thanks in Advance.
> 
> This is the right place, and welcome.
> 
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up???|
> Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush? ? |
> Geospatial Programmer for Rent
> 
> 


      Now, send attachments up to 25MB with Yahoo! India Mail. Learn how. http://in.overview.mail.yahoo.com/photos
From chaitanya.ch at gmail.com  Thu Oct 15 13:13:08 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Oct 15 13:13:11 2009
Subject: [gdal-dev] how to test the creation and deletion capability of 
	ogr?
In-Reply-To: <18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
References: <18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
Message-ID: <eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>

atubar,

Here is a sample.
http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/ogr2ogr.cpp#L401
The preferred #define macro forms are used here. (
http://www.gdal.org/ogr/classOGRSFDriver.html#6c37cb7552902cd27cd6d4b904d7c744
)

As per your problem, perhaps the drivers you tested did indeed not support
creation and deletion. Which drivers were they?

2009/10/15 atubar <atubar@126.com>

> Hi,
>
> I want to take a test about the capability of creation and deletion for
> all supported formats of ogr .
>
> The code like below,  The parameter "const char" are copied from api doc.
> But all flag return a value of 0, why ?
>
>   int flag;
>
>   flag=poDriver->TestCapability("ODrCCreateDataSource");
>   if(flag==TRUE)
>    cout<<endl<<"  --Supported Creation. "<<endl;
>   flag=poDriver->TestCapability("ODrCDeleteDataSource");
>   if(flag==TRUE)
>    cout<<endl<<"  --Supported Deletion. "<<endl;
>
> Many funcions need const char * params, is there a list of these values ?
>
>
>
>
> ------------------------------
> ???????????3D???????????????<http://allyes.nie.163.com/main/adfclick?db=afanie&bid=1256,612,23&cid=146,4,1&sid=1353&show=ignore&url=http://tx2.163.com/fab.html>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091015/fe159dc9/attachment.html
From Shawn.Gong at drdc-rddc.gc.ca  Thu Oct 15 13:28:55 2009
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Thu Oct 15 13:43:59 2009
Subject: [gdal-dev] with-kakadu error
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E26EB6F@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

I received Kakadu v6_2_1-00984N.zip and tried to build it on 64-bit
Linux.
Kakadu make went smoothly. 
libkdu.a, libkdu_a62R.so, etc were generated in
kakadu-v6_2_1-00984N/lib/Linux-x86-64-gcc/

Then I added
"--with-kakadu=/home/sgong/build_openev2/kakadu-6_2_1-00984N" in Gdal
config. I got the following error:
libtool: link: rm -fr  .libs/libgdal.la.lnkscript
libtool: link: creating GNU ld script: .libs/libgdal.la.lnkscript
libtool: link: g++ -shared -nostdlib
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crti.o
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtbeginS.o
.libs/libgdal.la.lnkscript  -Wl,-rpath
-Wl,/home/sgong/build_openev2/install/lib -Wl,-rpath
-Wl,/home/sgong/build_openev2/install/lib -lsqlite3
-L/home/sgong/build_openev2/install/lib
/home/sgong/build_openev2/install/lib/libhdf5.so -lmfhdf -ldf
/home/sgong/build_openev2/install/lib/libsz.so
-L/home/sgong/build_openev2/install -ljpeg
/home/sgong/build_openev2/install/lib/libnetcdf.a -lz -lrt -ldl
-L/home/sgong/build_openev2/kakadu-6_2_1-00984N/lib -lkdu
-L/usr/lib/gcc/x86_64-redhat-linux/4.1.2
-L/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64
-L/lib/../lib64 -L/usr/lib/../lib64 -lstdc++ -lm -lc -lgcc_s
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtendS.o
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crtn.o
-Wl,-soname -Wl,libgdal.so.1 -o .libs/libgdal.so.1.13.2
/usr/bin/ld:
/home/sgong/build_openev2/kakadu-6_2_1-00984N/apps/make/args.o:
relocation R_X86_64_32 against `a local symbol' can not be used when
making a shared object; recompile with -fPIC
/home/sgong/build_openev2/kakadu-6_2_1-00984N/apps/make/args.o: could
not read symbols: Bad value
collect2: ld returned 1 exit status
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory
`/home/sgong/build_openev2/gdal-svn-stable-2009.09.04'


I did compile both Kakadu and Gdal with -fPIC. Why am I getting this
error?

thanks,
Shawn



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091015/be67a06c/attachment.html
From even.rouault at mines-paris.org  Thu Oct 15 13:50:33 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct 15 13:50:35 2009
Subject: [gdal-dev] how to test the creation and deletion capability of
	ogr?
In-Reply-To: <eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
References: <18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
Message-ID: <1255629033.4ad760e9af1ef@imp.free.fr>

Selon Chaitanya kumar CH <chaitanya.ch@gmail.com>:

Atubar

As Chaintanya says and the doc recommands it, you must use the macro and not
string values directly. For one good reason : #define ODrCCreateDataSource
expands to "CreateDataSource"... So "ODrCCreateDataSource" is an invalid input
for OGRSFDriver::TestCapability().

You're also mentionning functions that take strings as arguments but you don't
know which values are valid. Could you be more explicit about which functions ?
Generally the doc should make it clear about the expected meaning / accepted
values. But things can always be improved ;-)

Even

> atubar,
>
> Here is a sample.
> http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/ogr2ogr.cpp#L401
> The preferred #define macro forms are used here. (
> http://www.gdal.org/ogr/classOGRSFDriver.html#6c37cb7552902cd27cd6d4b904d7c744
> )
>
> As per your problem, perhaps the drivers you tested did indeed not support
> creation and deletion. Which drivers were they?
>
> 2009/10/15 atubar <atubar@126.com>
>
> > Hi,
> >
> > I want to take a test about the capability of creation and deletion for
> > all supported formats of ogr .
> >
> > The code like below,  The parameter "const char" are copied from api doc.
> > But all flag return a value of 0, why ?
> >
> >   int flag;
> >
> >   flag=poDriver->TestCapability("ODrCCreateDataSource");
> >   if(flag==TRUE)
> >    cout<<endl<<"  --Supported Creation. "<<endl;
> >   flag=poDriver->TestCapability("ODrCDeleteDataSource");
> >   if(flag==TRUE)
> >    cout<<endl<<"  --Supported Deletion. "<<endl;
> >
> > Many funcions need const char * params, is there a list of these values ?
> >
> >
> >
> >
> > ------------------------------
> >
> ??????????
??????????????????
???3D???????????????????????????????
????????
????<http://allyes.nie.163.com/main/adfclick?db=afanie&bid=1256,612,23&cid=146,4,1&sid=1353&show=ignore&url=http://tx2.163.com/fab.html>
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>


From even.rouault at mines-paris.org  Thu Oct 15 14:51:04 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct 15 14:51:08 2009
Subject: [gdal-dev] GetFileList doesn't return the list of files associated
In-Reply-To: <a1f4c60b0910150709t71672275ya11e92a55992235f@mail.gmail.com>
References: <a1f4c60b0910150709t71672275ya11e92a55992235f@mail.gmail.com>
Message-ID: <1255632664.4ad76f18d6c8c@imp.free.fr>

Selon Juan Rapoport <juanrapoport@suremptec.com.ar>:

Juan,

GetFileList() is a relatively new feature in GDAL long history, so not all
drivers implement it : the default implementation just returns the name of the
main file passed to GDALOpen. I've just changed the FAST driver to return the
filenames of the bands. Done in trunk in
http://trac.osgeo.org/gdal/changeset/17830

Best regards,
Even

> Hello,
>
> I'm trying to use the GetFileList() function with a FAST-L7A image; it's
> supposed to return a list with the files associated with the dataset, but it
> only returns the administrative file (the _HRF.FST file). How can I get the
> complete list o files?
>
> Thanks
>
> --
> Juan Rapoport
> SUR Emprendimientos Tecnol?gicos
>
> Ing. Huergo 1189 (C1007AOL)
> Ciudad de Buenos Aires, Argentina
> Tel. +54 (11) 5811-4552   ext. 107
> juanrapoport@suremptec.com.ar
> www.suremptec.com
>


From juanrapoport at suremptec.com.ar  Thu Oct 15 15:12:21 2009
From: juanrapoport at suremptec.com.ar (Juan Rapoport)
Date: Thu Oct 15 15:12:24 2009
Subject: [gdal-dev] GetFileList doesn't return the list of files 
	associated
In-Reply-To: <1255632664.4ad76f18d6c8c@imp.free.fr>
References: <a1f4c60b0910150709t71672275ya11e92a55992235f@mail.gmail.com>
	<1255632664.4ad76f18d6c8c@imp.free.fr>
Message-ID: <a1f4c60b0910151212m6654eab7i37ec2e070900c67@mail.gmail.com>

Even,

Thanks for the solution!

Regards,
Juan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091015/464bfb5e/attachment.html
From warmerdam at pobox.com  Thu Oct 15 15:38:29 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 15 15:38:37 2009
Subject: [gdal-dev] GeoTiff Class Cell Counts
In-Reply-To: <4AD59C2B.8000107@gmail.com>
References: <4AD59C2B.8000107@gmail.com>
Message-ID: <4AD77A35.2080509@pobox.com>

Seth Girvin wrote:
> Hi,
> 
> I have just started using the GDAL functions through the .NET wrapper 
> written by Tamas Szekeres.
> 
> I can get statistics on my GeoTIFF which is great, but I need to get the 
> count of pixels in each class in the raster.
> Ideally I want to get the count by a range e.g. 123787 cells between 0 - 
> 0.25, 3242353 cells between 0.25-0.5. Would I need to read through all 
> cells individually? I can't seem to find a way to do this using GDAL 
> command line tools, so I'm not sure what function name I should be 
> looking out for.

Seth,

You can generate a histogram with the GDAL API and you can control the
bucket extents as long as they are equal width.

The python script histrep.py demonstrates using this, but the function
should also be accessable from C#.

   http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/histrep.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From atubar at 126.com  Fri Oct 16 11:31:33 2009
From: atubar at 126.com (atubar)
Date: Fri Oct 16 12:02:07 2009
Subject: [gdal-dev] how to test the creation and deletion capability
	of  ogr?
In-Reply-To: <1255629033.4ad760e9af1ef@imp.free.fr>
References: <1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
Message-ID: <22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>

Thanks for your help, I modify those params and get right return values now.
 
As I want to write a function, which can automatically return a rusult, that whether the input raster file has a set of subdataset.
I use a metadata item of "subdataset", and this value is known from another program but not api doc.
 
By generally reading the api doc, and as a freshman, I find it hard to get exact value of those const char params and options.
 
Do you have a good idea?




?2009-10-16?01:50:33?"Even?Rouault"?<even.rouault@mines-paris.org>????
>Selon?Chaitanya?kumar?CH?<chaitanya.ch@gmail.com>:
>
>Atubar
>
>As?Chaintanya?says?and?the?doc?recommands?it,?you?must?use?the?macro?and?not
>string?values?directly.?For?one?good?reason?:?#define?ODrCCreateDataSource
>expands?to?"CreateDataSource"...?So?"ODrCCreateDataSource"?is?an?invalid?input
>for?OGRSFDriver::TestCapability().
>
>You're?also?mentionning?functions?that?take?strings?as?arguments?but?you?don't
>know?which?values?are?valid.?Could?you?be?more?explicit?about?which?functions??
>Generally?the?doc?should?make?it?clear?about?the?expected?meaning?/?accepted
>values.?But?things?can?always?be?improved?;-)
>
>Even
>
>>?atubar,
>>
>>?Here?is?a?sample.
>>?http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/ogr2ogr.cpp#L401
>>?The?preferred?#define?macro?forms?are?used?here.?(
>>?http://www.gdal.org/ogr/classOGRSFDriver.html#6c37cb7552902cd27cd6d4b904d7c744
>>?)
>>
>>?As?per?your?problem,?perhaps?the?drivers?you?tested?did?indeed?not?support
>>?creation?and?deletion.?Which?drivers?were?they?
>>
>>?2009/10/15?atubar?<atubar@126.com>
>>
>>?>?Hi,
>>?>
>>?>?I?want?to?take?a?test?about?the?capability?of?creation?and?deletion?for
>>?>?all?supported?formats?of?ogr?.
>>?>
>>?>?The?code?like?below,??The?parameter?"const?char"?are?copied?from?api?doc.
>>?>?But?all?flag?return?a?value?of?0,?why??
>>?>
>>?>???int?flag;
>>?>
>>?>???flag=poDriver->TestCapability("ODrCCreateDataSource");
>>?>???if(flag==TRUE)
>>?>????cout<<endl<<"??--Supported?Creation.?"<<endl;
>>?>???flag=poDriver->TestCapability("ODrCDeleteDataSource");
>>?>???if(flag==TRUE)
>>?>????cout<<endl<<"??--Supported?Deletion.?"<<endl;
>>?>
>>?>?Many?funcions?need?const?char?*?params,?is?there?a?list?of?these?values??
>>?>
>>?>
>>?>
>>?>
>>?>?------------------------------
>>?>
>>???????????
??????????????????
>???3D???????????????????????????????
????????
????<http://allyes.nie.163.com/main/adfclick?db=afanie&bid=1256,612,23&cid=146,4,1&sid=1353&show=ignore&url=http://tx2.163.com/fab.html>
>>?>?_______________________________________________
>>?>?gdal-dev?mailing?list
>>?>?gdal-dev@lists.osgeo.org
>>?>?http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>?>
>>
>>
>>
>>?--
>>?Best?regards,
>>?Chaitanya?kumar?CH.
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091016/f63c91c3/attachment.html
From even.rouault at mines-paris.org  Fri Oct 16 12:54:21 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Oct 16 12:54:30 2009
Subject: [gdal-dev] how to test the creation and deletion capability of
	ogr?
In-Reply-To: <22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
References: <1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
	<22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
Message-ID: <1255712061.4ad8a53db9f24@imp.free.fr>

Selon atubar <atubar@126.com>:

> Thanks for your help, I modify those params and get right return values now.
>
> As I want to write a function, which can automatically return a rusult, that
> whether the input raster file has a set of subdataset.
> I use a metadata item of "subdataset", and this value is known from another
> program but not api doc.

I'm not sure what your question is. You can find documentation about subdatasets
here : http://gdal.org/gdal_datamodel.html . and here to extract metadata :
http://gdal.org/classGDALMajorObject.html#8ce3bf5795bbebfe9bc643e2152bb360

>
> By generally reading the api doc, and as a freshman, I find it hard to get
> exact value of those const char params and options.
>
> Do you have a good idea?

Could you be more explicit about what is not clear and quote the actual function
names ? Otherwise nobody can really help you or improve the doc. Studying the
source code of GDAL/OGR utilities is also often a great source of knowledge
about how to use the API : http://trac.osgeo.org/gdal/browser/trunk/gdal/apps

>
>
>
>
> ???2009-10-16? 01:50:33???"Even? Rouault"? <even.rouault@mines-paris.org>?
?????????
> >Selon? Chaitanya? kumar? CH? <chaitanya.ch@gmail.com>:
> >
> >Atubar
> >
> >As? Chaintanya? says? and? the? doc? recommands? it,? you? must? use? the?
macro? and? not
> >string? values? directly.? For? one? good? reason? :? #define?
ODrCCreateDataSource
> >expands? to? "CreateDataSource"...? So? "ODrCCreateDataSource"? is? an?
invalid? input
> >for? OGRSFDriver::TestCapability().
> >
> >You're? also? mentionning? functions? that? take? strings? as? arguments?
but? you? don't
> >know? which? values? are? valid.? Could? you? be? more? explicit? about?
which? functions? ?
> >Generally? the? doc? should? make? it? clear? about? the? expected? meaning?
/? accepted
> >values.? But? things? can? always? be? improved? ;-)
> >
> >Even
> >
> >>? atubar,
> >>
> >>? Here? is? a? sample.
> >>? http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/ogr2ogr.cpp#L401
> >>? The? preferred? #define? macro? forms? are? used? here.? (
> >>?
http://www.gdal.org/ogr/classOGRSFDriver.html#6c37cb7552902cd27cd6d4b904d7c744
> >>? )
> >>
> >>? As? per? your? problem,? perhaps? the? drivers? you? tested? did? indeed?
not? support
> >>? creation? and? deletion.? Which? drivers? were? they?
> >>
> >>? 2009/10/15? atubar? <atubar@126.com>
> >>
> >>? >? Hi,
> >>? >
> >>? >? I? want? to? take? a? test? about? the? capability? of? creation? and?
deletion? for
> >>? >? all? supported? formats? of? ogr? .
> >>? >
> >>? >? The? code? like? below,? ? The? parameter? "const? char"? are? copied?
from? api? doc.
> >>? >? But? all? flag? return? a? value? of? 0,? why? ?
> >>? >
> >>? >? ? ? int? flag;
> >>? >
> >>? >? ? ? flag=poDriver->TestCapability("ODrCCreateDataSource");
> >>? >? ? ? if(flag==TRUE)
> >>? >? ? ? ? cout<<endl<<"? ? --Supported? Creation.? "<<endl;
> >>? >? ? ? flag=poDriver->TestCapability("ODrCDeleteDataSource");
> >>? >? ? ? if(flag==TRUE)
> >>? >? ? ? ? cout<<endl<<"? ? --Supported? Deletion.? "<<endl;
> >>? >
> >>? >? Many? funcions? need? const? char? *? params,? is? there? a? list? of?
these? values? ?
> >>? >
> >>? >
> >>? >
> >>? >
> >>? >? ------------------------------
> >>? >
> >>? ?????????????????????
????????????????????????????????????
>
>??????3D???????????????????????????????????????????????????????????????
?????????????????
????????<http://allyes.nie.163.com/main/adfclick?db=afanie&bid=1256,612,23&cid=146,4,1&sid=1353&show=ignore&url=http://tx2.163.com/fab.html>
> >>? >? _______________________________________________
> >>? >? gdal-dev? mailing? list
> >>? >? gdal-dev@lists.osgeo.org
> >>? >? http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>? >
> >>
> >>
> >>
> >>? --
> >>? Best? regards,
> >>? Chaitanya? kumar? CH.
> >>
> >
> >
>


From matt.wilkie at gov.yk.ca  Fri Oct 16 14:26:31 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri Oct 16 14:26:38 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <op.u1ttpnkyzbn0g9@spdba>
References: <loom.20091001T095950-579@post.gmane.org>
	<4ACD1A30.1090305@gov.yk.ca> <4ACD87EC.5050805@sarvision.nl>
	<op.u1j23mhtzbn0g9@spdba> <4AD6303B.1000200@gov.yk.ca>
	<op.u1ttpnkyzbn0g9@spdba>
Message-ID: <4AD8BAD7.1050805@gov.yk.ca>

> Before ever I would advise anything I would want to see the open
> source GIS community clearly define that it is that it wants in a
> new physical file format.

In my experience the open source community rarely, if ever, defines a 
thing before creating it. What usually happens is that somebody (whether 
an individual or small group) builds somethings that works, or almost 
works, and to the extent it responds to business or functional needs a 
community coalesces around it. The define first approach seems to 
inevitably tend towards "standards wanking" as someone in the thread you 
posted said. And thanks for the pouinter. It made interesting reading 
and likely largely covers the ground this thread might, should it continue.

best regards,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From mseanhills at villagis.com  Fri Oct 16 15:18:38 2009
From: mseanhills at villagis.com (Sean Hills)
Date: Fri Oct 16 15:18:40 2009
Subject: [gdal-dev] Parallel Processing
Message-ID: <d3957af00910161218q4d54dfb5n17e7d65a00645484@mail.gmail.com>

Hello list,
I am trying to find information about using fwtools (specifically the
gdal_retile tool) in a cluster computing environment running beowulf or
condor or, utilizing GPU processing with the CUDA programming tools for the
Tesla or other stream processing video card.  If you are aware of any
helpful resources, I would appreciate a push in the right direction.

Thanks
-- 
Sean Hills
VillaGIS, Inc.
www.villagis.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091016/f72d01b9/attachment.html
From pcreso at pcreso.com  Fri Oct 16 17:15:45 2009
From: pcreso at pcreso.com (pcreso@pcreso.com)
Date: Fri Oct 16 17:22:29 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
Message-ID: <74718.18668.qm@web33206.mail.mud.yahoo.com>

I guess another possibility would be to approach contacts in the OGC, whose business is essentially all about open standards in the wider GIS arena.

Members of OGC who have links to FOSS/OSGEO that I'm aware of include Autodesk, Lisasoft & TOPP, & some national bodies such as LINZ.


Brent Wood


--- On Sat, 10/17/09, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:

> From: Matt Wilkie <matt.wilkie@gov.yk.ca>
> Subject: Re: [gdal-dev] Fastest vector format for combining shapefiles
> To: "Simon Greener" <simon@spatialdbadvisor.com>
> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> Date: Saturday, October 17, 2009, 7:26 AM
> > Before ever I would advise
> anything I would want to see the open
> > source GIS community clearly define that it is that it
> wants in a
> > new physical file format.
>
> In my experience the open source community rarely, if ever,
> defines a thing before creating it. What usually happens is
> that somebody (whether an individual or small group) builds
> somethings that works, or almost works, and to the extent it
> responds to business or functional needs a community
> coalesces around it. The define first approach seems to
> inevitably tend towards "standards wanking" as someone in
> the thread you posted said. And thanks for the pouinter. It
> made interesting reading and likely largely covers the
> ground this thread might, should it continue.
>
> best regards,
>
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From atubar at 126.com  Sat Oct 17 00:08:46 2009
From: atubar at 126.com (atubar)
Date: Sat Oct 17 00:39:48 2009
Subject: [gdal-dev] how to test the creation and deletion
	capability of  ogr?
In-Reply-To: <1255712061.4ad8a53db9f24@imp.free.fr>
References: <1255712061.4ad8a53db9f24@imp.free.fr>
	<1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
	<22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
Message-ID: <29958080.76371255752526019.JavaMail.coremail@bj126app58.126.com>

Thanks for your guide, and I will read all api doc more carefully.
And I wonder that is there a list of metadata domain now konwn such as subdataset ? 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091017/71d60e5b/attachment.html
From even.rouault at mines-paris.org  Sat Oct 17 03:52:03 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Oct 17 03:52:06 2009
Subject: [gdal-dev] how to test the creation and deletion capability
	of ogr?
In-Reply-To: <29958080.76371255752526019.JavaMail.coremail@bj126app58.126.com>
References: <1255712061.4ad8a53db9f24@imp.free.fr>
	<1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
	<22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
	<29958080.76371255752526019.JavaMail.coremail@bj126app58.126.com>
Message-ID: <1255765923.4ad977a3e3ad4@imp.free.fr>

Selon atubar <atubar@126.com>:

> Thanks for your guide, and I will read all api doc more carefully.
> And I wonder that is there a list of metadata domain now konwn such as
> subdataset ?

No, to the best of my knowledge, there is no reference list of all metadata
domains that exist. Neither there is a way of listing which ones are "active"
for a given open dataset. The commonly used technique is just to try to get
metadata from a list of interest domains and see if there is actually metadata
in it.

They are some general purpose metadata domains shared by several GDAL drivers,
but a few are also very driver specific.

Metadata domains shared by at least 2 different drivers :
* "" : default metadata domain. Used by most drivers
* "IMAGE_STRUCTURE" : Used by many drivers
* "SUBDATASETS" : Used by ADRG, GTiff, HDF4, NITF, RPFTOC, OGDI, Rasterlite and
RS2 drivers
* "GEOLOCATION" : Used by L1B and HDF4 drivers. See
http://trac.osgeo.org/gdal/wiki/rfc4_geolocate for details
* "RPC" : Used by GTiff, NITF, ENVI, TIL and VRT drivers. See
http://trac.osgeo.org/gdal/wiki/rfc22_rpc for details
* "IMD" : Used by GTiff, TIL and VRT.

A quick and non exhaustive search in GDAL source shows that a few other metadata
domains are used by specific drivers :
* "ORACLE" : Used by GeoRaster driver
* "CAMERA_MODEL", "XFORMS" and "HFA" : Used by HFA driver
* "CGM", "TEXT" and "TRE" : Used by NITF driver. See
http://gdal.org/frmt_nitf_advanced.html
* "PCISYS" : Used by PCIDSK driver. Seems to be only used for internal purpose
at band level.
From landa.martin at gmail.com  Sat Oct 17 04:58:07 2009
From: landa.martin at gmail.com (Martin Landa)
Date: Sat Oct 17 04:58:10 2009
Subject: [gdal-dev] fid column info missing
Message-ID: <f8fe65c40910170158g23d8c5d8u2ca833178112abb@mail.gmail.com>

Hi,

I wonder how to get information about connection between geometry and
attributes when OGRLayer::GetFIDColumn() returns "". For the
shapefiles I have tested GetFIDColumn() returned always "". How to
link attributes if this information is missing?

Thanks in advance, Martin

PS: Using GDAL/OGR 1.6.0

-- 
Martin Landa <landa.martin gmail.com> * http://gama.fsv.cvut.cz/~landa
From even.rouault at mines-paris.org  Sat Oct 17 05:24:33 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Oct 17 05:24:35 2009
Subject: [gdal-dev] fid column info missing
In-Reply-To: <f8fe65c40910170158g23d8c5d8u2ca833178112abb@mail.gmail.com>
References: <f8fe65c40910170158g23d8c5d8u2ca833178112abb@mail.gmail.com>
Message-ID: <1255771473.4ad98d51801e6@imp.free.fr>

Selon Martin Landa <landa.martin@gmail.com>:

> Hi,
>
> I wonder how to get information about connection between geometry and
> attributes when OGRLayer::GetFIDColumn() returns "". For the
> shapefiles I have tested GetFIDColumn() returned always "". How to
> link attributes if this information is missing?

Martin,

I'm not sure to understand what you mean with "connection between geometry and
 attributes". The OGRFeature concept is precisely containing both, so you don't
need to do anything special.

For shapefiles, it is expected that GetFIDColumn() returns "", as the FID for a
shape feature is just a sequence number incremented each time the driver reads a
new "row" in the .shp and the .dbf files. OGR uses no column in the .dbf to get
the FID.

You'll probably also find here answers to your questions about the
GetFIDColumn() method : http://trac.osgeo.org/gdal/ticket/2694

Best regards,

Even

From landa.martin at gmail.com  Sat Oct 17 05:31:48 2009
From: landa.martin at gmail.com (Martin Landa)
Date: Sat Oct 17 05:31:50 2009
Subject: [gdal-dev] fid column info missing
In-Reply-To: <1255771473.4ad98d51801e6@imp.free.fr>
References: <f8fe65c40910170158g23d8c5d8u2ca833178112abb@mail.gmail.com>
	<1255771473.4ad98d51801e6@imp.free.fr>
Message-ID: <f8fe65c40910170231h267bacc7x67f7bd8c2865445d@mail.gmail.com>

Hi,

2009/10/17 Even Rouault <even.rouault@mines-paris.org>:

> I'm not sure to understand what you mean with "connection between geometry and
> ?attributes". The OGRFeature concept is precisely containing both, so you don't
> need to do anything special.

sorry, I meant information about key column or better to say feature
id and record in the attribute table. There are formats which handles
this information (GRASS vector format).

> For shapefiles, it is expected that GetFIDColumn() returns "", as the FID for a
> shape feature is just a sequence number incremented each time the driver reads a
> new "row" in the .shp and the .dbf files. OGR uses no column in the .dbf to get
> the FID.

I see, thanks for clarification!

> You'll probably also find here answers to your questions about the
> GetFIDColumn() method : http://trac.osgeo.org/gdal/ticket/2694

Thanks, Martin

-- 
Martin Landa <landa.martin gmail.com> * http://gama.fsv.cvut.cz/~landa
From jeff.hamann at forestinformatics.com  Sat Oct 17 11:10:46 2009
From: jeff.hamann at forestinformatics.com (Jeff Hamann)
Date: Sat Oct 17 11:10:50 2009
Subject: [gdal-dev] can't access e00 file using gdal...
Message-ID: <3F56DAED-C839-489B-BB60-3C624DE6082E@forestinformatics.com>

I'm not sure why this is not working, and I'm having a little trouble  
getting a satisfactory answer on the web.

$ gdalinfo lewis_dem30.e00
ERROR 4: `lewis_dem30.e00' not recognised as a supported file format.

gdalinfo failed - unable to open 'lewis_dem30.e00'.

The file looks like this:

$ head lewis_dem30.e00
EXP  0 /AM/PROCESS/DATASERVICES/LEWIS_DIR/LEWIS_DEM30.E00
GRD  2
       4860      1539 1-0.21474836470000E+10
  0.10435500000000E+03 0.10435500000000E+03
  0.91924128086325E+06 0.38480838058312E+06
  0.14264065808632E+07 0.54541072558312E+06
    -2147483647   -2147483647   -2147483647   -2147483647   -2147483647
    -2147483647   -2147483647   -2147483647   -2147483647   -2147483647
    -2147483647   -2147483647   -2147483647   -2147483647   -2147483647
    -2147483647   -2147483647   -2147483647   -2147483647   -2147483647
$

Any hints? What kind of file is this, really? I'm trying to ingest it  
using r.in.gdal from within GRASS. I'm really trying to get a state- 
wide dem. Is there a better source?

Thanks,
Jeff.

Jeff Hamann, PhD
PO Box 1421
Corvallis, Oregon 97339-1421
541-754-2457
jeff.hamann[at]forestinformatics[dot]com
http://www.forestinformatics.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091017/ba6ebafd/attachment.html
From randre at gmail.com  Sat Oct 17 16:42:47 2009
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Sat Oct 17 16:49:03 2009
Subject: [gdal-dev] Python bindings
In-Reply-To: <eb502d880910100544m680daa28n707ec521fc5c8c94@mail.gmail.com>
References: <eb502d880910100544m680daa28n707ec521fc5c8c94@mail.gmail.com>
Message-ID: <9c2015090910171342g6a8d86e6j67a3c09e6ca2a7d8@mail.gmail.com>

Had a similar problem in the past that I resolved like this:

$ gdalinfo --formats
gdalinfo: error while loading shared libraries: libgdal.so.1: cannot
open shared object file: No such file or directory

--> Is the lib acessible outside of gdal?
$ /sbin/ldconfig -p | grep gdal

-->nuffin...  Let's try adding the path to libgdal.so.1 in /etc/ld.so.conf

$ find /usr -name libgdal.so.1
/usr/local/lib/libgdal.so.1

$ sudo vi /etc/ld.so.conf
--> add
/usr/local/lib

$ ldconfig

$ /sbin/ldconfig -p | grep gdal
	libgdal.so.1 (libc6) => /usr/local/lib/libgdal.so.1
	libgdal.so (libc6) => /usr/local/lib/libgdal.so
---------------------------

On Sat, Oct 10, 2009 at 5:44 AM, Chaitanya kumar CH
<chaitanya.ch@gmail.com> wrote:
> Hi,
>
> I am having trouble running GDAL's Python bindings. I compiled the trunk
> with the option --with-python. Below is some output from my command line. I
> am running this on a newly installed system. It has only 2.6 version of
> Python and python-setuptools.
>
> ----------------------------------
> ubuntu@ubuntu:~/gdal/2270/trunk/gdal$ export PYTHONPATH=/usr/local/
> ubuntu@ubuntu:~/gdal/2270/trunk/gdal$ python
> Python 2.6.2 (release26-maint, Apr 19 2009, 01:58:18)
> [GCC 4.3.3] on linux2
> Type "help", "copyright", "credits" or "license" for more information.
>>>> from osgeo import gdal
> Traceback (most recent call last):
> ?File "<stdin>", line 1, in <module>
> ?File
> "/usr/local/lib/python2.6/dist-packages/GDAL-1.6.0-py2.6-linux-x86_64.egg/osgeo/__init__.py",
> line 4, in <module>
> ? ?import _gdal
> ImportError: libgdal.so.1: cannot open shared object file: No such file or
> directory
>>>> import gdal
> Traceback (most recent call last):
> ?File "<stdin>", line 1, in <module>
> ?File
> "/usr/local/lib/python2.6/dist-packages/GDAL-1.6.0-py2.6-linux-x86_64.egg/gdal.py",
> line 2, in <module>
> ? ?from osgeo.gdal import deprecation_warn
> ?File
> "/usr/local/lib/python2.6/dist-packages/GDAL-1.6.0-py2.6-linux-x86_64.egg/osgeo/__init__.py",
> line 4, in <module>
> ? ?import _gdal
> ImportError: libgdal.so.1: cannot open shared object file: No such file or
> directory
>>>>
> ubuntu@ubuntu:~/gdal/2270/trunk/gdal$ ls /usr/local/lib/
> libgdal.a? libgdal.la? libgdal.so? libgdal.so.1? libgdal.so.1.13.0
> python2.6
> ubuntu@ubuntu:~/gdal/2270/trunk/gdal$
> ----------------------------------
>
> Thank you.
> --
> Chaitanya kumar CH.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From yilmaz.arslanoglu at gmail.com  Sat Oct 17 17:03:48 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Sat Oct 17 17:03:51 2009
Subject: [gdal-dev] opening an S-57 dataset directory
Message-ID: <150158ad0910171403p1a48f148oaf12c9bc1dca133@mail.gmail.com>

Hello everybody;

I was just wondering whether there is a specific directory structure
that needs to be followed
in order to open an S-57 file collection by giving a single directory
path, instead of a file with a .000 extension.

I'm asking because, according to the following statement from OGR IHO
S-57 (ENC) Driver
documentation, we would be able to pass a directory name.

>> An S-57 dataset can be a directory (in which case all S-57 files in the directory are selected),
>> an S-57 catalog file (in which case all files referred to from the catalog are selected) or an individual S-57 data file.

However, when I try to open with a directory name using
"OGRSFDriverRegistrar::Open", I get an error.

As another question:

>> S-57 update files contain information on how to update a distributed S-57 base data file.
>> The base files normally have the extension .000 while the update files have extensions like .001, .002 and so on.
>> The S-57 reader will normally read and apply all updates files to the in memory version of the base file on the fly.
>> The feature data provided to the application therefore includes all the updates.

So how OGR decides to look for the extension files? Because as far as
I can see, ENC catalogues may come
with different directory structures, where in some of them all update
files accompany the original one in the same directory,
however they may also come in another directory in some others.

Best regards,
Yilmaz
From warmerdam at pobox.com  Sat Oct 17 22:49:23 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Oct 17 22:49:41 2009
Subject: [gdal-dev] opening an S-57 dataset directory
In-Reply-To: <150158ad0910171403p1a48f148oaf12c9bc1dca133@mail.gmail.com>
References: <150158ad0910171403p1a48f148oaf12c9bc1dca133@mail.gmail.com>
Message-ID: <4ADA8233.7050609@pobox.com>

Yilmaz Arslanoglu wrote:
> Hello everybody;
> 
> I was just wondering whether there is a specific directory structure
> that needs to be followed
> in order to open an S-57 file collection by giving a single directory
> path, instead of a file with a .000 extension.
> 
> I'm asking because, according to the following statement from OGR IHO
> S-57 (ENC) Driver
> documentation, we would be able to pass a directory name.
> 
>>> An S-57 dataset can be a directory (in which case all S-57 files in the directory are selected),
>>> an S-57 catalog file (in which case all files referred to from the catalog are selected) or an individual S-57 data file.

Yilmaz,

On review of the code it appears the documentation is wrong and
multiple file access was never fully implemented.  I have updated
the documentation accordingly.

> However, when I try to open with a directory name using
> "OGRSFDriverRegistrar::Open", I get an error.
> 
> As another question:
> 
>>> S-57 update files contain information on how to update a distributed S-57 base data file.
>>> The base files normally have the extension .000 while the update files have extensions like .001, .002 and so on.
>>> The S-57 reader will normally read and apply all updates files to the in memory version of the base file on the fly.
>>> The feature data provided to the application therefore includes all the updates.
> 
> So how OGR decides to look for the extension files? Because as far as
> I can see, ENC catalogues may come
> with different directory structures, where in some of them all update
> files accompany the original one in the same directory,
> however they may also come in another directory in some others.

The driver will only find update files if they are in the same directory
as the .000 file, have names like .001, etc and a shared basename.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mrxonx at hotmail.com  Sat Oct 17 23:26:53 2009
From: mrxonx at hotmail.com (gdal user)
Date: Sat Oct 17 23:34:05 2009
Subject: [gdal-dev] opening an S-57 dataset directory
In-Reply-To: <4ADA8233.7050609@pobox.com>
References: <150158ad0910171403p1a48f148oaf12c9bc1dca133@mail.gmail.com>
	<4ADA8233.7050609@pobox.com>
Message-ID: <4ADA8AFD.9060702@hotmail.com>

I think there is a bit more there than that. The driver (at least the
older version we use) will also deal with the multi-level style Primar
format systems.


Frank Warmerdam wrote:
>
> The driver will only find update files if they are in the same directory
> as the .000 file, have names like .001, etc and a shared basename.
>
> Best regards,

From randyqiuxy at hotmail.com  Sun Oct 18 02:22:02 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Sun Oct 18 02:23:07 2009
Subject: [gdal-dev] charge for IHO ECDIS Presentation Library(digital
	version, a CD-ROM)
Message-ID: <BAY123-DS50A37A05D114806BF6B45C3C20@phx.gbl>

Hi list,

Exactly, this question should not be here since it isnt about the
GDAL/OGR. However, I know there are people here who has made displaying
ENCs. And my question is: Is it necessary for me to charge for a IHO ECDIS
Presentation Library CD-ROM? 

I mean there are something like look-up tablesCIE2RGB procedure, etc.
which are necessary for displaying ENCs, and anything else which can replace
the CD-ROM? If not, how can I buy it and who I should contact with?

Thanks a lot for your suggestion!

Best regards,

Randy

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091018/7eb1328b/attachment.html
From andrew.loughhead at gmail.com  Sun Oct 18 05:55:22 2009
From: andrew.loughhead at gmail.com (Andrew Loughhead)
Date: Sun Oct 18 05:55:34 2009
Subject: [gdal-dev] can't access e00 file using gdal...
In-Reply-To: <3F56DAED-C839-489B-BB60-3C624DE6082E@forestinformatics.com>
References: <3F56DAED-C839-489B-BB60-3C624DE6082E@forestinformatics.com>
Message-ID: <4ADAE60A.8010300@gmail.com>

Jeff Hamann wrote:

> Any hints? What kind of file is this, really? 

Its an "export" file from ArcGIS Workstation.  At the "Arc" command
prompt, its generated with the "export" command.  The export command can
export both vector and raster data, but I think its rarely used for
raster data, because the GRIDFLOAT and GRIDASCII formats are much more
straightforward, and I think ran massively faster too.

In one of those ArcInfo ironies, the "export" command produces data 
which can only be read by ArcInfo.

It looks like OGR has some support for vector data in e00 files, but 
that GDAL does not support the raster variant.

In a pinch you could probably convert the .e00 to an ASCIIGRID / 
GRIDASCII file by chopping out the data portion and constructing an 
appropriate header.  Note that the -2147483647 values in your file will 
be nodata.  Or maybe the source of the data could supply a GRIDASCII 
file.  GDAL driver for that is AAIGrid.  Just extract the actual pixel 
values to another text file, and at the top of that file put:

nrows XXX
ncols XXX
xllcorner XXX
yllcorner XXX
cellsize XXX
nodata_value -2147483647

replacing XXX with appropriate values.  That will only work if the pixel 
values in the file are in an appropriate order - I think top to bottom, 
left to right, but might be wrong.

hth
Andrew.


From atubar at 126.com  Sun Oct 18 09:11:10 2009
From: atubar at 126.com (atubar)
Date: Sun Oct 18 09:11:19 2009
Subject: [gdal-dev] how to test the creation and deletion
	capability of  ogr?
In-Reply-To: <1255765923.4ad977a3e3ad4@imp.free.fr>
References: <1255765923.4ad977a3e3ad4@imp.free.fr>
	<1255712061.4ad8a53db9f24@imp.free.fr>
	<1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
	<22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
	<29958080.76371255752526019.JavaMail.coremail@bj126app58.126.com>
Message-ID: <23107841.412871255871470839.JavaMail.coremail@bj126app28.126.com>

Hi, your explanation is so exhaustive, nothing better than thank you once more.
Maybe the last one question on this topic, is "SUBDATASETS" also shared by Gtiff? 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091018/a062b5d5/attachment.html
From mateusz at loskot.net  Sun Oct 18 10:29:49 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sun Oct 18 10:29:58 2009
Subject: [gdal-dev] gdal.h: No such file or directory
In-Reply-To: <4AD56E0A.5070404@york.ac.uk>
References: <E1MxSKS-0000db-00.mongoose_riki-mail-ru@f189.mail.ru>
	<4AD41A51.5080603@york.ac.uk> <4AD4F1B9.40805@loskot.net>
	<4AD56E0A.5070404@york.ac.uk>
Message-ID: <4ADB265D.2000907@loskot.net>

Peter J Halls wrote:
> Mateusz,
> 
> the extract from the standard does not say there is no difference: it
>  says that this is implementation dependent - that implementors are 
> free to differentiate if they wish and, indeed, that the #include " "
> form is optional.

Peter,

There is no difference in the effect and the "implementation defined
part" means:
- quoted version to first look for a header in current directory of
source file that contains the #include "" directive and if fails,
in most cases, tries to search in compiler known paths.
- <> version triggers searching to start in so called standard paths
known by compiler, paths specified with -I option or INCLUDE environment
variable and eventually try current directory of a source file
containing #include directive.

Meaning, the actual difference is only in order in which locations are
tried.

The standard gives some room of customisation to allow C++
implementations to provide headers in special way - they may not even
exist as regular files in file system, then <> notation has special meaning.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From even.rouault at mines-paris.org  Sun Oct 18 12:30:49 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Oct 18 12:30:52 2009
Subject: [gdal-dev] how to test the creation and deletion
	capability of ogr?
In-Reply-To: <23107841.412871255871470839.JavaMail.coremail@bj126app28.126.com>
References: <1255765923.4ad977a3e3ad4@imp.free.fr>
	<1255712061.4ad8a53db9f24@imp.free.fr>
	<1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
	<22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
	<29958080.76371255752526019.JavaMail.coremail@bj126app58.126.com>
	<23107841.412871255871470839.JavaMail.coremail@bj126app28.126.com>
Message-ID: <1255883449.4adb42b994db8@imp.free.fr>

Selon atubar <atubar@126.com>:

> Hi, your explanation is so exhaustive, nothing better than thank you once
> more.
> Maybe the last one question on this topic, is "SUBDATASETS" also shared by
> Gtiff?

--> The answer was in my previous email ;-)

From warmerdam at pobox.com  Sun Oct 18 12:47:08 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Oct 18 12:47:22 2009
Subject: [gdal-dev] opening an S-57 dataset directory
In-Reply-To: <4ADA8AFD.9060702@hotmail.com>
References: <150158ad0910171403p1a48f148oaf12c9bc1dca133@mail.gmail.com>
	<4ADA8233.7050609@pobox.com> <4ADA8AFD.9060702@hotmail.com>
Message-ID: <4ADB468C.8050009@pobox.com>

gdal user wrote:
> I think there is a bit more there than that. The driver (at least the
> older version we use) will also deal with the multi-level style Primar
> format systems.
...
> Frank Warmerdam wrote:
>> The driver will only find update files if they are in the same directory
>> as the .000 file, have names like .001, etc and a shared basename.
>>
>> Best regards,

Mr. Xonx,

Can you give more information on this?  Do you mean specifically with regard
to finding update files, or with regard to supporting directories of S-57
files?

What version are you using?  How are the Primar datasets organized?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mrxonx at hotmail.com  Sun Oct 18 22:37:45 2009
From: mrxonx at hotmail.com (gdal user)
Date: Sun Oct 18 22:37:02 2009
Subject: [gdal-dev] opening an S-57 dataset directory
In-Reply-To: <4ADB468C.8050009@pobox.com>
References: <150158ad0910171403p1a48f148oaf12c9bc1dca133@mail.gmail.com>	<4ADA8233.7050609@pobox.com>
	<4ADA8AFD.9060702@hotmail.com> <4ADB468C.8050009@pobox.com>
Message-ID: <4ADBD0F9.5040104@hotmail.com>

Frank,

I am just reading the code in s57reader.cpp.

It does look like there is code there to search directories in Primar
format. Look right after the line that reads: "else // file is store on
Primar generated cd".

--Mike

Frank Warmerdam wrote:
>
> Mr. Xonx,
>
> Can you give more information on this?  Do you mean specifically with
> regard
> to finding update files, or with regard to supporting directories of S-57
> files?
>
> What version are you using?  How are the Primar datasets organized?
>
> Best regards,

From warmerdam at pobox.com  Sun Oct 18 22:50:54 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Oct 18 22:51:03 2009
Subject: [gdal-dev] opening an S-57 dataset directory
In-Reply-To: <4ADBD0F9.5040104@hotmail.com>
References: <150158ad0910171403p1a48f148oaf12c9bc1dca133@mail.gmail.com>
	<4ADA8233.7050609@pobox.com> <4ADA8AFD.9060702@hotmail.com>
	<4ADB468C.8050009@pobox.com> <4ADBD0F9.5040104@hotmail.com>
Message-ID: <4ADBD40E.7020209@pobox.com>

gdal user wrote:
> Frank,
> 
> I am just reading the code in s57reader.cpp.
> 
> It does look like there is code there to search directories in Primar
> format. Look right after the line that reads: "else // file is store on
> Primar generated cd".

Mike,

Good point.  That looks like code added by someone other than me.  I'm not
sure of the details of how it works.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From simon at spatialdbadvisor.com  Sun Oct 18 23:01:52 2009
From: simon at spatialdbadvisor.com (Simon Greener)
Date: Sun Oct 18 23:03:57 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <4AD8BAD7.1050805@gov.yk.ca>
References: <loom.20091001T095950-579@post.gmane.org>
	<4ACD1A30.1090305@gov.yk.ca> <4ACD87EC.5050805@sarvision.nl>
	<op.u1j23mhtzbn0g9@spdba> <4AD6303B.1000200@gov.yk.ca>
	<op.u1ttpnkyzbn0g9@spdba> <4AD8BAD7.1050805@gov.yk.ca>
Message-ID: <op.u101deh9zbn0g9@spdba>

Matt,

(Sorry for the duplicate email, I initially replied only to you and not the list.)

> In my experience the open source community rarely, if ever, defines a
> thing before creating it. What usually happens is that somebody (whether
> an individual or small group) builds somethings that works, or almost
> works, and to the extent it responds to business or functional needs a
> community coalesces around it. The define first approach seems to
> inevitably tend towards "standards wanking" as someone in the thread you
> posted said. And thanks for the pouinter. It made interesting reading
> and likely largely covers the ground this thread might, should it continue.

That's pretty damning don't you think?

OK. We need to replace shapefiles with a physical file format that does not have a lot
of the restrictions of shapefiles, is open source, flexible, standards compliant, etc etc.

In my view I think SQLite/Spatialite has all the running for the replacement for a shapefile.
The code is very stable; it is fast; it allows for very large tables to be created and populated; it is
acceptable to and by the IT community; its type system, while interesting and flexible, allows for
all that is stored in a DBase file (with, frankly, better quality control through constraints) including
dates:

DROP   TABLE test;

CREATE TABLE test (
   the_date text,
   mydate   date,
   CONSTRAINT CK_mydate CHECK ( mydate > date('2009-10-01') )
);

insert into test (the_date,mydate) values('2009-09-17',date('2009-09-01'));

Generates "SQL error: constraint failed".

insert into test (the_date,mydate) values('2009-10-17',date('now'));

select date(the_date) as the_date, mydate from test;

the_date	mydate
2009-10-17	2009-10-17

The idea that you can ship data with constrained columns is a massive step in the direction of exchanging quality data.
Why would you avoid doing so?

It has already been extended to support spatial data including RTree indexing using code from the existing open source library.

If you don't want to use ODBC/JDBC etc to access the data then you can use the C source code
and access the data (and RTree index) directly from the file.

What else is there to do for its adoption as the new shapefile for the open source community? Perhaps the spatialite code needs
to be incubated at OSGeo?

regards
Simon
--
SpatialDB Advice and Design, Solutions Architecture and Programming,
Oracle Database 10g Administrator Certified Associate; Oracle Database 10g SQL Certified Professional
Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME, Radius Topology and Studio Specialist.
39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
Website: www.spatialdbadvisor.com
   Email: simon@spatialdbadvisor.com
   Voice: +61 362 396397
Mobile: +61 418 396391
Skype: sggreener
Longitude: 147.20515 (147? 12' 18" E)
Latitude: -43.01530 (43? 00' 55" S)
GeoHash: r22em9r98wg
NAC:W80CK 7SWP3
From Chris.Barker at noaa.gov  Sun Oct 18 23:42:36 2009
From: Chris.Barker at noaa.gov (Chris Barker)
Date: Sun Oct 18 23:42:37 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <op.u101deh9zbn0g9@spdba>
References: <loom.20091001T095950-579@post.gmane.org>
	<4ACD1A30.1090305@gov.yk.ca> <4ACD87EC.5050805@sarvision.nl>
	<op.u1j23mhtzbn0g9@spdba> <4AD6303B.1000200@gov.yk.ca>
	<op.u1ttpnkyzbn0g9@spdba> <4AD8BAD7.1050805@gov.yk.ca>
	<op.u101deh9zbn0g9@spdba>
Message-ID: <4ADBE02C.6010809@noaa.gov>

Simon Greener wrote:
> What else is there to do for its adoption as the new shapefile for the 
> open source community?

I heard someone say once that a specification isn't a standard unless 
there is more than one implementation (preferably more). Is there any 
other way to read or write a spatialite file than sqlite itself?

It's also not a standard without a specification -- is there one (other 
than the source code, which, of course is the only truly accurate 
specification).

Also -- do ESRI tools read or write it? Like it or not, they are the 
elephant in the room. My ESRI-using colleagues want to distribute data 
in the ESRI geodatabase format -- I don't like that, as I don't use ESRI 
tools, but I can't suggest an alternative that won't work for them.

Sigh.

-Chris

-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From atubar at 126.com  Mon Oct 19 07:57:24 2009
From: atubar at 126.com (atubar)
Date: Mon Oct 19 07:57:32 2009
Subject: [gdal-dev] how to test the creation and deletion
	capability of  ogr?
In-Reply-To: <1255883449.4adb42b994db8@imp.free.fr>
References: <1255883449.4adb42b994db8@imp.free.fr>
	<1255765923.4ad977a3e3ad4@imp.free.fr>
	<1255712061.4ad8a53db9f24@imp.free.fr>
	<1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
	<22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
	<29958080.76371255752526019.JavaMail.coremail@bj126app58.126.com>
	<23107841.412871255871470839.JavaMail.coremail@bj126app28.126.com>
Message-ID: <1064394.410301255953444019.JavaMail.coremail@bj126app41.126.com>

Here is my local code and result, is there something wrong?
 
char ** SUBDATASETS = GDALGetMetadata( (GDALDatasetH)m_pSrcDataset, "SUBDATASETS" );

After anterior code, for GTiff dataset, it return a NULL result.
So I am puzzled that whether  SUBDATASETS shared for GTiff?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/2abac60b/attachment.html
From atubar at 126.com  Mon Oct 19 07:49:40 2009
From: atubar at 126.com (atubar)
Date: Mon Oct 19 08:21:18 2009
Subject: [gdal-dev] Is proj.4 lib necessary for Reprojection and
	Transformation?
Message-ID: <841521.408071255952980146.JavaMail.coremail@bj126app41.126.com>


After Reading API doc, I find it clear that GEOS lib is necessary for spatial analysis.
And what about Proj? Does Gdal need supports from Proj lib for Reprojection and Transformation?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/c56e0b75/attachment.html
From Doug_Newcomb at fws.gov  Mon Oct 19 08:59:17 2009
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Mon Oct 19 08:59:50 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <4ADBE02C.6010809@noaa.gov>
Message-ID: <OF4189FD73.EEF35652-ON85257654.00461D13-85257654.00475890@fws.gov>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: graycol.gif
Type: image/gif
Size: 105 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/8ca0995f/graycol-0001.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pic10555.gif
Type: image/gif
Size: 1255 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/8ca0995f/pic10555-0001.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ecblank.gif
Type: image/gif
Size: 45 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/8ca0995f/ecblank-0001.gif
From hobu.inc at gmail.com  Mon Oct 19 09:09:02 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Oct 19 09:12:06 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <OF4189FD73.EEF35652-ON85257654.00461D13-85257654.00475890@fws.gov>
References: <OF4189FD73.EEF35652-ON85257654.00461D13-85257654.00475890@fws.gov>
Message-ID: <41350CFD-3BCC-43CD-819C-FC144F61A8FF@gmail.com>


On Oct 19, 2009, at 7:59 AM, Doug_Newcomb@fws.gov wrote:

> I'm confused, I thought spatialite support was being added to ogr in  
> 1.7 . http://www.gdal.org/ogr/drv_sqlite.html
>
> As to ESRI, I asked at the last DOI meeting prior to the ESRI  
> conference this year about spatialite support and they said they had  
> no plans to support it.


> Of course, they used to say the same thing about postgresql/postgis  
> and if spatialite is implimented in ogr it will probably be included  
> down the road.

I don't know that ESRI uses OGR (vector), though I do know they are a  
GDAL (raster) user.  ESRI will probably on support spatialite if some  
big government agency mandates it in order for them to fulfill a  
contract.  There's no incentive for them to take on a competing format  
to their lock-in strategy (multiple kinds of a "file geodatabase").   
PostGIS/PostgreSQL doesn't compete with their lock-in (which is  
ArcSDE), and slightly tweaks one of their competitors (Oracle), so I  
think that move makes sense in that context.

Howard
From DCarreira at edia.pt  Mon Oct 19 10:04:33 2009
From: DCarreira at edia.pt (Duarte Carreira)
Date: Mon Oct 19 10:30:11 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <OF4189FD73.EEF35652-ON85257654.00461D13-85257654.00475890@fws.gov>
References: <4ADBE02C.6010809@noaa.gov>,
	<OF4189FD73.EEF35652-ON85257654.00461D13-85257654.00475890@fws.gov>
Message-ID: <A8D08CD1C4D9AB4B8FBBE3B5D3B009281831EBEC09@beja012.edia.pt>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: graycol.gif
Type: image/gif
Size: 105 bytes
Desc: graycol.gif
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/a597f7c2/graycol.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ecblank.gif
Type: image/gif
Size: 45 bytes
Desc: ecblank.gif
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/a597f7c2/ecblank.gif
From pedrojoseruiz at gmail.com  Mon Oct 19 11:38:44 2009
From: pedrojoseruiz at gmail.com (Pedro Ruiz)
Date: Mon Oct 19 11:38:46 2009
Subject: [gdal-dev] compile ogr2ogr
Message-ID: <5a045a480910190838i4484e0fbv6c7e7069cd8965cc@mail.gmail.com>

Hello, can someone help me with my problem?
I have information stored in format Oracle Spatial and need to generate a
shapefile.
I have ogr2ogr, but I have to compile it with the bookshop OCI.dll someone
can do like this??

Thank you very much... Pedro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/bec63b3f/attachment.html
From martin.raspaud at smhi.se  Mon Oct 19 11:33:00 2009
From: martin.raspaud at smhi.se (Raspaud Martin)
Date: Mon Oct 19 12:00:33 2009
Subject: [gdal-dev] Date tag in geotiff files
Message-ID: <783F32138ED65D4A9CF016980481B6BF01CB5757@CORRE.ad.smhi.se>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: martin_raspaud.vcf
Type: text/x-vcard
Size: 260 bytes
Desc: martin_raspaud.vcf
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/0fca9f32/martin_raspaud.vcf
From ivan.lucena at pmldnet.com  Mon Oct 19 12:47:22 2009
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan?=)
Date: Mon Oct 19 12:47:25 2009
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gRGF0ZSB0YWcgaW4gZ2VvdGlmZiBmaWxlcw==?=
Message-ID: <20091019164722.32472.qmail@s466.sureserver.com>

Martin,

An easy-dirt way is just add Metadata Items to it. That is how I am doing:

    output_dst.SetMetadataItem('STARTDATE',     start_date.isoformat(), '')
    output_dst.SetMetadataItem('STARTTIME',     start_time.isoformat(), '')

That would work as long as you are the same guy who writes the piece of code that read that data (stored on 
GDAL auxiliary XML files, not on TIFF tags by the way).

Would be nice if we could use a standard Metadata schema.

Regards,

Ivan

>  -------Original Message-------
>  From: Raspaud Martin <martin.raspaud@smhi.se>
>  Subject: [gdal-dev] Date tag in geotiff files
>  Sent: Oct 19 '09 10:33
>  
>  Hi,
>  
>  I'm currently working with satellite images, and for this I use GDAL's
>  python interface.
>  
>  I would like to add a date in the metadata of the geotiff files I use. I
>  looked around the gdal website, but I couldn't find anything about this.
>  Is there a way to do this from gdal ? Should I use exif metadata ? Any
>  other way ?
>  
>  Thanks,
>  
>  Martin
>  
>  --------------------
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: compose.php?to=gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Mon Oct 19 13:21:23 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct 19 13:21:26 2009
Subject: [gdal-dev] Date tag in geotiff files
In-Reply-To: <20091019164722.32472.qmail@s466.sureserver.com>
References: <20091019164722.32472.qmail@s466.sureserver.com>
Message-ID: <1255972883.4adca0139fcf7@imp.free.fr>

Selon Ivan <ivan.lucena@pmldnet.com>:

There's a standard TIFF tag that GDAL can read & write : 'TIFFTAG_DATETIME'. See
http://www.awaresystems.be/imaging/tiff/tifftags/datetime.html for the spec.
This should be interoperable with non GDAL based software.

> Martin,
>
> An easy-dirt way is just add Metadata Items to it. That is how I am doing:
>
>     output_dst.SetMetadataItem('STARTDATE',     start_date.isoformat(), '')
>     output_dst.SetMetadataItem('STARTTIME',     start_time.isoformat(), '')
>
> That would work as long as you are the same guy who writes the piece of code
> that read that data (stored on
> GDAL auxiliary XML files, not on TIFF tags by the way).
>
> Would be nice if we could use a standard Metadata schema.
>
> Regards,
>
> Ivan
>
> >  -------Original Message-------
> >  From: Raspaud Martin <martin.raspaud@smhi.se>
> >  Subject: [gdal-dev] Date tag in geotiff files
> >  Sent: Oct 19 '09 10:33
> >
> >  Hi,
> >
> >  I'm currently working with satellite images, and for this I use GDAL's
> >  python interface.
> >
> >  I would like to add a date in the metadata of the geotiff files I use. I
> >  looked around the gdal website, but I couldn't find anything about this.
> >  Is there a way to do this from gdal ? Should I use exif metadata ? Any
> >  other way ?
> >
> >  Thanks,
> >
> >  Martin
> >
> >  --------------------
> >  _______________________________________________
> >  gdal-dev mailing list
> >  [LINK: compose.php?to=gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
> >  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
> >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From even.rouault at mines-paris.org  Mon Oct 19 13:27:44 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct 19 13:27:52 2009
Subject: [gdal-dev] how to test the creation and deletion
	capability of ogr?
In-Reply-To: <1064394.410301255953444019.JavaMail.coremail@bj126app41.126.com>
References: <1255883449.4adb42b994db8@imp.free.fr>
	<1255765923.4ad977a3e3ad4@imp.free.fr>
	<1255712061.4ad8a53db9f24@imp.free.fr>
	<1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
	<22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
	<29958080.76371255752526019.JavaMail.coremail@bj126app58.126.com>
	<23107841.412871255871470839.JavaMail.coremail@bj126app28.126.com>
	<1064394.410301255953444019.JavaMail.coremail@bj126app41.126.com>
Message-ID: <1255973264.4adca190d8062@imp.free.fr>

Selon atubar <atubar@126.com>:

> Here is my local code and result, is there something wrong?

No, its's fine.

>
> char ** SUBDATASETS = GDALGetMetadata( (GDALDatasetH)m_pSrcDataset,
> "SUBDATASETS" );
>
> After anterior code, for GTiff dataset, it return a NULL result.
> So I am puzzled that whether  SUBDATASETS shared for GTiff?

For the vast majority of TIFF files, getting NULL is indeed the expected result.
GDAL will only expose data in the SUBDATASETS domain if you have several IFD
(Image File Directory) in the TIFF, and if they are not pyramids or transparency
masks.



From even.rouault at mines-paris.org  Mon Oct 19 13:44:10 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct 19 13:44:13 2009
Subject: [gdal-dev] Is proj.4 lib necessary for Reprojection and
	Transformation?
In-Reply-To: <841521.408071255952980146.JavaMail.coremail@bj126app41.126.com>
References: <841521.408071255952980146.JavaMail.coremail@bj126app41.126.com>
Message-ID: <1255974250.4adca56a90820@imp.free.fr>

Selon atubar <atubar@126.com>:

>
> After Reading API doc, I find it clear that GEOS lib is necessary for spatial
> analysis.
> And what about Proj? Does Gdal need supports from Proj lib for Reprojection
> and Transformation?
>

Yes, coordinate transformation and reprojection require PROJ.4 to be available
at runtime. I've just clarified that in the
http://gdal.org/ogr/classOGRCoordinateTransformation.html page.
From yilmaz.arslanoglu at gmail.com  Mon Oct 19 13:45:33 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Mon Oct 19 13:45:35 2009
Subject: [gdal-dev] opening an S-57 dataset directory
In-Reply-To: <4ADA8233.7050609@pobox.com>
References: <150158ad0910171403p1a48f148oaf12c9bc1dca133@mail.gmail.com>
	<4ADA8233.7050609@pobox.com>
Message-ID: <150158ad0910191045w6cd4d235mb77a073c486073d5@mail.gmail.com>

Ok Frank, thank you very much for the answer.

Actually, under the "gdal/frmts/iso8211" directory,
I found the class called "DDFModule" which can open
both individual ENC files (*.000) and ENC catalogue files (*.031)

Now I use this class to open the catalogue file, get the paths of all relevant
files that I need (according to their coverage, since catalogue file
contains this information also),
and only open these files as OGR datasets.

However, if there is no catalogue file, I recursively search the given
directory,
and I need to open (load as OGR dataset) all ENC files that are found, in order
to check their coverages.

Is there a way to check the file coverage without loading the file?
(since I'm dealing with around a hunred of them, this operation takes minutes)


On Sun, Oct 18, 2009 at 4:49 AM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Yilmaz Arslanoglu wrote:
>>
>> Hello everybody;
>>
>> I was just wondering whether there is a specific directory structure
>> that needs to be followed
>> in order to open an S-57 file collection by giving a single directory
>> path, instead of a file with a .000 extension.
>>
>> I'm asking because, according to the following statement from OGR IHO
>> S-57 (ENC) Driver
>> documentation, we would be able to pass a directory name.
>>
>>>> An S-57 dataset can be a directory (in which case all S-57 files in the
>>>> directory are selected),
>>>> an S-57 catalog file (in which case all files referred to from the
>>>> catalog are selected) or an individual S-57 data file.
>
> Yilmaz,
>
> On review of the code it appears the documentation is wrong and
> multiple file access was never fully implemented. ?I have updated
> the documentation accordingly.
>
>> However, when I try to open with a directory name using
>> "OGRSFDriverRegistrar::Open", I get an error.
>>
>> As another question:
>>
>>>> S-57 update files contain information on how to update a distributed
>>>> S-57 base data file.
>>>> The base files normally have the extension .000 while the update files
>>>> have extensions like .001, .002 and so on.
>>>> The S-57 reader will normally read and apply all updates files to the in
>>>> memory version of the base file on the fly.
>>>> The feature data provided to the application therefore includes all the
>>>> updates.
>>
>> So how OGR decides to look for the extension files? Because as far as
>> I can see, ENC catalogues may come
>> with different directory structures, where in some of them all update
>> files accompany the original one in the same directory,
>> however they may also come in another directory in some others.
>
> The driver will only find update files if they are in the same directory
> as the .000 file, have names like .001, etc and a shared basename.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
>
From anaumov at gmail.com  Mon Oct 19 15:20:28 2009
From: anaumov at gmail.com (Aleksey Naumov)
Date: Mon Oct 19 15:26:42 2009
Subject: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
Message-ID: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>

Dear GDAL users,

My apologies if this is a repeated question, I searched the mail acrhives
and found a few discussions on this subject, but no resolution, AFAIK. I may
have overlooked a good thread, would appreciate a link.

My problem is being able to do scripting with GDAL using Python 2.5 (this
version is important because of integration/compatibility with a number of
other packages, mainly IPython), and I need to be able to do it on Windows.
I attempted a few approaches, but could not figure out how to get all the
pieces to work together:
   - FWTools 2.4.5; however it comes with Python 2.3, an older version
   - OSGEO4W
      - Went through the Express setup and chose GDAL (+ GRASS, QGIS).It
installed Python 2.5.2; however on "import gdal" I get error "No module
named gdal".
      - I looked through the Advanced setup and tried it a few times with
various options related to GDAL, however was not able to get it to work. Are
there specific options that should be enabled to make GDAL/Python scripting
possible in OSGEO4W?
   - Tried to "easy_install gdal", this finds GDAL 1.6.1 and puts a suitable
*.egg into C:\Python25\Lib\site-packages. But when I try to "import gdal" I
get the error stating that gdal16.dll was not found.

Is there a way to achieve this on Windows? Do I need to compile GDAL on my
windows box; if so, should I be using Cygwin or try to download MS VC++?

Thank you

Aleksey
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/758e8351/attachment.html
From Shawn.Gong at drdc-rddc.gc.ca  Mon Oct 19 16:09:53 2009
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Mon Oct 19 16:09:56 2009
Subject: [gdal-dev] jp2kak include error on Windows
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E26EB85@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

I have Kakadu 6.21 (non-commercial license) on C:\build2\kakadu\v6_2_1\
Kakadu libraries are generated using coresys_2008.sln and
kdu_managed_2008.sln

I am using the followings for jp2kak 
Compiler: MS VS 9.0 (2008)
Gdal: gdal-svn-stable-2009.08.03

http://trac.osgeo.org/gdal/wiki/JP2KAK states:
	In GDAL/OGR trunk (1.7dev) I have substantially updated the
makefile.vc and nmake.opt entries for Kakadu support. Now it should be
sufficient to update the nmake.opt entries appropriately for your local
tree: 
	# Uncommment if you have Kakadu 6.0 or newer
	KAKDIR = 	\warmerda\pkg\kakadu-6.2.1
	KAKLIB =	$(KAKDIR)\lib_x86\kdu_v62R.lib
	KAKSRC =	$(KAKDIR)\v6_2_1-00256N

I have checked nmake.opt from the latest Gdal 1.6.2 and overnight stable
release, none of them has the above 3 lines. They all have 
"# Uncommment if you have Kakadu 4.0 or newer" and one more line: 
"#KAKDIR =	D:\warmerda\jp2\kakadu"

I tried to imitate by adding:
KAKDIR =	C:\build2\kakadu\v6_2_1
KAKLIB =	C:\build2\kakadu\lib_x86\kdu_v62R.lib
KAKSRC =	C:\build2\kakadu\v6_2_1
but getting error at 
C:\build2\gdal\frmts>cd jp2kak   && nmake /nologo /f makefile.vc   && cd
..
        cl /nologo /MD /EHsc /Ox /W3 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore  -I..\..\alg -I..\..\ogr\ogrsf_frmts
-IC:\build2\kakadu\v6_2_1\managed\all_includes /DKDU_PENTIUM_MS
VC /GX -DOGR_ENABLED  /c jp2kakdataset.cpp
cl : Command line warning D9035 : option 'GX' has been deprecated and
will be removed in a future release
cl : Command line warning D9036 : use 'EHsc' instead of 'GX'
jp2kakdataset.cpp
jp2kakdataset.cpp(34) : fatal error C1083: Cannot open include file:
'jp2_local.h': No such file or directory
NMAKE : fatal error U1077: '"c:\Program Files\Microsoft Visual Studio
9.0\VC\BIN\cl.EXE"' : return code '0x2'
Stop.

The compiler cannot find the 'jp2_local.h' which is in
C:\build2\kakadu\v6_2_1\managed\all_includes.
I then changed KAKDIR =	C:\build2\kakadu\v6_2_1\managed\all_includes,
and still got the same error

What are the correct Gdal jp2kak settings on Windows?  Is there an
KAK_INCLUDE?


thanks,
Shawn


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/90c8b78e/attachment-0001.html
From Shawn.Gong at drdc-rddc.gc.ca  Mon Oct 19 16:38:13 2009
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Mon Oct 19 16:38:15 2009
Subject: [gdal-dev] jp2kak setting error on Windows
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E26EB85@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <DF1471B5C308B346BF5A2AEA00C5615E26EB85@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E26EB86@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi Frank and list,

I copied all the Kakadu *.h files that jp2kakdataset.cpp refers to its
local directory.
Now the "cannot find jp2_local.h" error is gone and I got the error:
C:\build2\gdal\frmts>cd jp2kak   && nmake /nologo /f makefile.vc   && cd
..
        cl /nologo /MD /EHsc /Ox /W3 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_N
O_DEPRECATE /DNDEBUG -I..\..\port -I..\..\ogr -I..\..\gcore  -I..\..\alg
-I..\..
\ogr\ogrsf_frmts -IC:\build2\kakadu KAKLIB =
C:\build2\kakadu\lib_x86\kdu_v62
R.lib /DKDU_PENTIUM_MSVC /GX -DOGR_ENABLED  /c jp2kakdataset.cpp
...  ...
copy C:\build2\kakadu KAKLIB =
C:\build2\kakadu\lib_x86\kdu_v62R.lib\*.obj ..\o
The syntax of the command is incorrect.
NMAKE : fatal error U1077: 'copy' : return code '0x1'


My Kakadu parameters in gdal nmake.opt is wrong. Would someone help?

thanks,
Shawn

PS
The posts that I sent out don't show on my Gdal mails. Would someone
please confirm that you can see this?


_____________________________________________
From: Gong, Shawn (Contractor) 
Sent: Monday, October 19, 2009 4:10 PM
To: gdal-dev@lists.osgeo.org
Subject: jp2kak include error on Windows

hi list,

I have Kakadu 6.21 (non-commercial license) on C:\build2\kakadu\v6_2_1\
Kakadu libraries are generated using coresys_2008.sln and
kdu_managed_2008.sln

I am using the followings for jp2kak 
Compiler: MS VS 9.0 (2008)
Gdal: gdal-svn-stable-2009.08.03

http://trac.osgeo.org/gdal/wiki/JP2KAK states:
	In GDAL/OGR trunk (1.7dev) I have substantially updated the
makefile.vc and nmake.opt entries for Kakadu support. Now it should be
sufficient to update the nmake.opt entries appropriately for your local
tree: 
	# Uncommment if you have Kakadu 6.0 or newer
	KAKDIR = 	\warmerda\pkg\kakadu-6.2.1
	KAKLIB =	$(KAKDIR)\lib_x86\kdu_v62R.lib
	KAKSRC =	$(KAKDIR)\v6_2_1-00256N

I have checked nmake.opt from the latest Gdal 1.6.2 and overnight stable
release, none of them has the above 3 lines. They all have 
"# Uncommment if you have Kakadu 4.0 or newer" and one more line: 
"#KAKDIR =	D:\warmerda\jp2\kakadu"

I tried to imitate by adding:
KAKDIR =	C:\build2\kakadu\v6_2_1
KAKLIB =	C:\build2\kakadu\lib_x86\kdu_v62R.lib
KAKSRC =	C:\build2\kakadu\v6_2_1
but getting error at 
C:\build2\gdal\frmts>cd jp2kak   && nmake /nologo /f makefile.vc   && cd
..
        cl /nologo /MD /EHsc /Ox /W3 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore  -I..\..\alg -I..\..\ogr\ogrsf_frmts
-IC:\build2\kakadu\v6_2_1\managed\all_includes /DKDU_PENTIUM_MS
VC /GX -DOGR_ENABLED  /c jp2kakdataset.cpp
cl : Command line warning D9035 : option 'GX' has been deprecated and
will be removed in a future release
cl : Command line warning D9036 : use 'EHsc' instead of 'GX'
jp2kakdataset.cpp
jp2kakdataset.cpp(34) : fatal error C1083: Cannot open include file:
'jp2_local.h': No such file or directory
NMAKE : fatal error U1077: '"c:\Program Files\Microsoft Visual Studio
9.0\VC\BIN\cl.EXE"' : return code '0x2'
Stop.

The compiler cannot find the 'jp2_local.h' which is in
C:\build2\kakadu\v6_2_1\managed\all_includes.
I then changed KAKDIR =	C:\build2\kakadu\v6_2_1\managed\all_includes,
and still got the same error

What are the correct Gdal jp2kak settings on Windows?  Is there an
KAK_INCLUDE?


thanks,
Shawn


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091019/c693382a/attachment.html
From randre at gmail.com  Mon Oct 19 18:16:51 2009
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Mon Oct 19 18:16:54 2009
Subject: [gdal-dev] Need some ideas for mosaic'ing raster data that spans
	the dateline
Message-ID: <9c2015090910191516l6905d713uca3068ec0e0c5ac6@mail.gmail.com>

I need to create a colored raster that shows data intensity over
Russia.  My data is in 2 pieces, one on each side of the dateline, and
in WGS84 projection.  What I would like to do is create a shifted
lat/lon projection, such that when both pieces are stuck together, all
of russia can be represented.  I'm pretty sure I can get everything to
line up correctly in GIMP to create a mosaic, but I'm drawing a blank
as to how I can define the shifted projection.  I'd like to use the
projection in Mapserver afterwards for display too.

Can someone send me a thumbnail sketch of how to do this, preferrably
with some proj parameters, please?

Thanks,

Roger
From yassefa at dmsolutions.ca  Mon Oct 19 19:15:26 2009
From: yassefa at dmsolutions.ca (Yewondwossen Assefa)
Date: Mon Oct 19 19:15:33 2009
Subject: [gdal-dev] Another Join issue with OGR/ODBC
Message-ID: <4ADCF30E.8040103@dmsolutions.ca>

Hi all,

I am into some issues when trying to do a  join using a shape file as a 
primary table and an ODBC (sql server 2005) connection as the secondary 
table.
 
The issue has to do with the schema name.

The following query (with a schema name: imsv7) works as expected:
  - ogrinfo ODBC:sa/ttt@my_db -sql "SELECT * FROM imsv7.COMPSMN WHERE 
COMPKEY=23533"
 
This same query without a schema does not work  (which is what  I expected):
    - ogrinfo ODBC:sa/ttt@my_db -sql "SELECT * FROM COMPSMN WHERE 
COMPKEY=23533"

My issue is that I need to give the schema name when doing a join but 
don't see how I can do that. Here is the  join statement:

  - ogrinfo f:/msapps/ttt/sqlserver/Sewer_Manholes_20090818.shp -sql 
"SELECT *  FROM Sewer_Manholes_20090818 shp LEFT JOIN 
'ODBC:sa/ttt@my_db'.COMPSMN ON shp.COMPKEY = COMPSMN.COMPKEY  where 
COMPKEY = 23533"


The ODBC part of this join ends up being translated into an sql select 
statement without a schema and It fails.
I did not see a way to specify the schema in any part of the join statement.

Is there some thing that I am missing?

Thanks

best regards,

 

-- 
----------------------------------------------------------------
Assefa Yewondwossen           
Software Analyst   

Email: assefa@dmsolutions.ca    
http://www.dmsolutions.ca/

Phone: (613) 565-5056 (ext 14)
Fax:   (613) 565-0925
----------------------------------------------------------------


From atubar at 126.com  Mon Oct 19 21:32:18 2009
From: atubar at 126.com (atubar)
Date: Mon Oct 19 21:32:24 2009
Subject: [gdal-dev] how to test the creation and deletion
	capability of  ogr?
In-Reply-To: <1255973264.4adca190d8062@imp.free.fr>
References: <1255973264.4adca190d8062@imp.free.fr>
	<1255883449.4adb42b994db8@imp.free.fr>
	<1255765923.4ad977a3e3ad4@imp.free.fr>
	<1255712061.4ad8a53db9f24@imp.free.fr>
	<1255629033.4ad760e9af1ef@imp.free.fr>
	<18620512.458131255618135534.JavaMail.coremail@bj126app22.126.com>
	<eb502d880910151013w6c9abef6t433439e6353d2c4d@mail.gmail.com>
	<22266631.923591255707093636.JavaMail.coremail@bj126app28.126.com>
	<29958080.76371255752526019.JavaMail.coremail@bj126app58.126.com>
	<23107841.412871255871470839.JavaMail.coremail@bj126app28.126.com>
	<1064394.410301255953444019.JavaMail.coremail@bj126app41.126.com>
Message-ID: <22148160.548831256002338008.JavaMail.coremail@bj126app101.126.com>

Hi, Thank you once more.
As you said, it seems that GeoTiff and HDF also have subdatasets.
So, I wonder that is there any character which can differ HDF from other formats?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/9852745f/attachment-0001.html
From atubar at 126.com  Mon Oct 19 21:27:28 2009
From: atubar at 126.com (atubar)
Date: Mon Oct 19 21:57:54 2009
Subject: [gdal-dev] Is proj.4 lib necessary for Reprojection and
	Transformation?
In-Reply-To: <1255974250.4adca56a90820@imp.free.fr>
References: <1255974250.4adca56a90820@imp.free.fr>
	<841521.408071255952980146.JavaMail.coremail@bj126app41.126.com>
Message-ID: <3959070.545301256002048181.JavaMail.coremail@bj126app101.126.com>

Thank you.
And what about those pvevious versions, such as from 1.6.0 to 1.6.2?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/45fcbb7e/attachment.html
From ivan.lucena at pmldnet.com  Mon Oct 19 22:49:39 2009
From: ivan.lucena at pmldnet.com (Ivan)
Date: Mon Oct 19 22:49:46 2009
Subject: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
References: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
Message-ID: <4ADD2543.8040007@pmldnet.com>

Aleksey

Installing GDAL + Python 2.5 + "GDAL Python bindings" through the advanced settings usually works 
pretty easy.

And the you should be able to launch the OSGeo4W Shell and access it, example:

   C:\OSGeo4W> Python
   >>> from osgeo import gdal
   >>> gdal.VersionInfo()
   '1520'
   >>>

Notice that OSGeo4W install its own Python 2.5 distribution. So if you have a previous installation 
of Python 2.5, that is not going to access the GDAL bindings.

Regards,

Ivan


Aleksey Naumov wrote:
> Dear GDAL users,
> 
> My apologies if this is a repeated question, I searched the mail 
> acrhives and found a few discussions on this subject, but no resolution, 
> AFAIK. I may have overlooked a good thread, would appreciate a link.
> 
> My problem is being able to do scripting with GDAL using Python 2.5 
> (this version is important because of integration/compatibility with a 
> number of other packages, mainly IPython), and I need to be able to do 
> it on Windows. I attempted a few approaches, but could not figure out 
> how to get all the pieces to work together:
>    - FWTools 2.4.5; however it comes with Python 2.3, an older version
>    - OSGEO4W
>       - Went through the Express setup and chose GDAL (+ GRASS, QGIS).It 
> installed Python 2.5.2; however on "import gdal" I get error "No module 
> named gdal".
>       - I looked through the Advanced setup and tried it a few times 
> with various options related to GDAL, however was not able to get it to 
> work. Are there specific options that should be enabled to make 
> GDAL/Python scripting possible in OSGEO4W?
>    - Tried to "easy_install gdal", this finds GDAL 1.6.1 and puts a 
> suitable *.egg into C:\Python25\Lib\site-packages. But when I try to 
> "import gdal" I get the error stating that gdal16.dll was not found.
> 
> Is there a way to achieve this on Windows? Do I need to compile GDAL on 
> my windows box; if so, should I be using Cygwin or try to download MS VC++?
> 
> Thank you
> 
> Aleksey
> 
> 
> 
> 
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From markus.reinhold at uni-jena.de  Mon Oct 19 23:01:04 2009
From: markus.reinhold at uni-jena.de (Markus Reinhold)
Date: Mon Oct 19 23:01:06 2009
Subject: [Gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
References: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
Message-ID: <1256007664454-3856494.post@n2.nabble.com>


Hej,


Aleksey Naumov-2 wrote:
> 
> My problem is being able to do scripting with GDAL using Python 2.5 (this
> version is important because of integration/compatibility with a number of
> other packages, mainly IPython), and I need to be able to do it on
> Windows.
> I attempted a few approaches, but could not figure out how to get all the
> pieces to work together:
> 

first things first: It is definitely possible to use the GDAL Python 1.6
bindings on Python 2.5 under Windows, cause 
http://www.box.net/shared/pp82vkdp8j that's what I'm running over here  as
well. Now I can't give a detailed installation instruction as it was a
piecewise work, but following is what I can recall:
1) I'm using the installer from OSGeo4W to setup my geospatial toolbox.
Using the advanced installation process the packages I'm considering
important are python, gdal (or gdal16), gdal-python (or gdal16-python),
python-numpy and python-win32. The latter two I'm not sure how essential
they really are, I have them installed in any way.
2) To use version 1.6 of GDAL it is necessary to a) install the
corresponding packages (see above) and b) switch to the 1.6 environment
using gdal16.bat under osgeo4w\bin\gdal16.bat. However this works for the
OSGeo4W shell only and is not applied system-wide. See 
http://n2.nabble.com/Python-1-6-bindings-under-Windows-td3337254.html my
conversation with the list on this matter  a few weeks ago. I've adjusted
the %PYTHONPATH% to
*C:\OSGeo4W\apps\gdal-16\pymod;C:\OSGeo4W\apps\Python25\Lib* on my system to
use gdal16 system-wide.
3) A minor thing. When importing the bindings I use *from osgeo import gdal*
instead of *import gdal*. However that does not seem to be your problem as
the latter alternative should give you a deprecation warning but not refuse
to work altogether.
4) The Python version of OSGeo4W is the default one on my system. It works
fine, I only had a few problems when installing third-party extensions that
need correct registry settings for the installation. Have a look a 
http://effbot.org/zone/python-register.htm this script  (and especially the
last comment) on how to fix this problem.
That's all what I can think of now. Maybe there's something you can look at
to find a solution for your problems.
Regards,
Markus


-----
-- 

********************************************************
Dipl.-Kartograph Markus Reinhold

Chair of Geoinformatics, Geohydrology and Modeling
Friedrich-Schiller-University Jena
L?bdergraben 32
D - 07743 Jena
Germany

Phone.: (+49)(0)3641 / 9 488 65
E-Mail: markus.reinhold@uni-jena.de
********************************************************
-- 
View this message in context: http://n2.nabble.com/GDAL-scripting-with-Python-2-5-on-windows-tp3851288p3856494.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From sgirvin at gmail.com  Tue Oct 20 05:05:31 2009
From: sgirvin at gmail.com (Seth G)
Date: Tue Oct 20 05:05:43 2009
Subject: [gdal-dev] GDAL Sieve Script
Message-ID: <4ADD7D5B.6000205@gmail.com>

Hi,

I have been looking at the http://www.gdal.org/gdal_sieve.html script, 
and it almost meets my requirements.
However rather than replacing small pixel areas with neighbouring 
values, I'd like to set all these pixels to a "no data" or 0 value.

I guess I could use the script as it is, and then run a raster analysis 
to find the difference between the two grids to create a mask, but just 
wondering if there was another way.
I need to remove areas of land that are not economically viable to plant 
bioenergy crops as they are too small.

Thanks for any help.

Seth

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/ca582819/attachment.html
From amanda.m.henneke at boeing.com  Tue Oct 20 09:02:39 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Tue Oct 20 09:02:42 2009
Subject: [gdal-dev] TransformPoint returning Infinity
Message-ID: <D901C7FDFE03E042B41317116B98302964BD417CEC@XCH-MW-05V.mw.nos.boeing.com>

Hello all-

I've been running into a problem where I'm trying to transform points into UTM NAD83 and occasionally (does not seem to be repeatable, more random) the TransformPoint method returns Infinity for the x and y coordinate.  Just for your info, the coordinate system I'm converting from is UTM NAD27.  Anyone else seen this?  I've included my code below...am I doing something wrong or is there some sort of an issue with the TransformPont method?

// Get the input layer's spatial reference information
OSGeo.OSR.SpatialReference sr = lyrOriginal.GetSpatialRef();
string sSpRefWKT = "";

// If this is a valid spatial reference, then export the data to a string and return it
if (Validator.IsValid_SpatialRef(sr))
{
        sr.ExportToPrettyWkt(out sSpRefWKT, 1);
}
sr.Dispose();

OSGeo.OSR.SpatialReference srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);
OSGeo.OSR.SpatialReference srNew = new OSGeo.OSR.SpatialReference("");

srNew.SetUTM(11, 1);
srNew.SetWellKnownGeogCS("NAD83");

ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);

double[] dLnSegPt1 = { dX1, dY1 };
ctTransform.TransformPoint(dLnSegPt1);

Thanks,
Amanda

Amanda M. Henneke



When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.


From warmerdam at pobox.com  Tue Oct 20 10:35:59 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 20 10:36:17 2009
Subject: [gdal-dev] TransformPoint returning Infinity
In-Reply-To: <D901C7FDFE03E042B41317116B98302964BD417CEC@XCH-MW-05V.mw.nos.boeing.com>
References: <D901C7FDFE03E042B41317116B98302964BD417CEC@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <4ADDCACF.7030007@pobox.com>

Henneke, Amanda M wrote:
> Hello all-
> 
> I've been running into a problem where I'm trying to transform points into UTM NAD83 and occasionally (does not seem to be repeatable, more random) the TransformPoint method returns Infinity for the x and y coordinate.  Just for your info, the coordinate system I'm converting from is UTM NAD27.  Anyone else seen this?  I've included my code below...am I doing something wrong or is there some sort of an issue with the TransformPont method?
> 
> // Get the input layer's spatial reference information
> OSGeo.OSR.SpatialReference sr = lyrOriginal.GetSpatialRef();
> string sSpRefWKT = "";
> 
> // If this is a valid spatial reference, then export the data to a string and return it
> if (Validator.IsValid_SpatialRef(sr))
> {
>         sr.ExportToPrettyWkt(out sSpRefWKT, 1);
> }
> sr.Dispose();
> 
> OSGeo.OSR.SpatialReference srOld = new OSGeo.OSR.SpatialReference(sSpRefParams);
> OSGeo.OSR.SpatialReference srNew = new OSGeo.OSR.SpatialReference("");
> 
> srNew.SetUTM(11, 1);
> srNew.SetWellKnownGeogCS("NAD83");
> 
> ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);
> 
> double[] dLnSegPt1 = { dX1, dY1 };
> ctTransform.TransformPoint(dLnSegPt1);
>   

Amanda,

TransformPoint() takes a three entry array, try it with:

   double [] dLnSegPt1 = { dX1, dY1, 0.0 };
   ctTransform.TransformPoint(dLnSegPt1);

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From craig.miller at spatialminds.com  Tue Oct 20 10:47:27 2009
From: craig.miller at spatialminds.com (Craig Miller)
Date: Tue Oct 20 10:48:22 2009
Subject: [gdal-dev] GDAL Sieve Script
In-Reply-To: <4ADD7D5B.6000205@gmail.com>
References: <4ADD7D5B.6000205@gmail.com>
Message-ID: <BAY120-DS5F4ADC4B73FEC8E306442F9C00@phx.gbl>

At this point it sounds like you are getting squarely into raster
geoprocessing.  Unless you need to do it standalone for some reason, you
might consider using GRASS or QGis with the GRASS extensions as GRASS is a
fantastic raster analysis package.

 

Craig

 

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Seth G
Sent: Tuesday, October 20, 2009 2:06 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] GDAL Sieve Script

 

Hi, 

I have been looking at the http://www.gdal.org/gdal_sieve.html script, and
it almost meets my requirements. 
However rather than replacing small pixel areas with neighbouring values,
I'd like to set all these pixels to a "no data" or 0 value. 

I guess I could use the script as it is, and then run a raster analysis to
find the difference between the two grids to create a mask, but just
wondering if there was another way. 
I need to remove areas of land that are not economically viable to plant
bioenergy crops as they are too small. 

Thanks for any help. 

Seth 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/02be798e/attachment-0001.html
From amanda.m.henneke at boeing.com  Tue Oct 20 11:02:37 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Tue Oct 20 11:02:41 2009
Subject: [gdal-dev] TransformPoint returning Infinity
In-Reply-To: <4ADDCACF.7030007@pobox.com>
References: <D901C7FDFE03E042B41317116B98302964BD417CEC@XCH-MW-05V.mw.nos.boeing.com>
	<4ADDCACF.7030007@pobox.com>
Message-ID: <D901C7FDFE03E042B41317116B98302964BD417DE1@XCH-MW-05V.mw.nos.boeing.com>

Thanks Frank!  Don't I feel dumb now!  Although, I'm glad it was that simple! 


Amanda M. Henneke


 
When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Tuesday, October 20, 2009 9:36 AM
To: Henneke, Amanda M
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] TransformPoint returning Infinity

Henneke, Amanda M wrote:
> Hello all-
> 
> I've been running into a problem where I'm trying to transform points into UTM NAD83 and occasionally (does not seem to be repeatable, more random) the TransformPoint method returns Infinity for the x and y coordinate.  Just for your info, the coordinate system I'm converting from is UTM NAD27.  Anyone else seen this?  I've included my code below...am I doing something wrong or is there some sort of an issue with the TransformPont method?
> 
> // Get the input layer's spatial reference information 
> OSGeo.OSR.SpatialReference sr = lyrOriginal.GetSpatialRef(); string 
> sSpRefWKT = "";
> 
> // If this is a valid spatial reference, then export the data to a 
> string and return it if (Validator.IsValid_SpatialRef(sr))
> {
>         sr.ExportToPrettyWkt(out sSpRefWKT, 1); } sr.Dispose();
> 
> OSGeo.OSR.SpatialReference srOld = new 
> OSGeo.OSR.SpatialReference(sSpRefParams);
> OSGeo.OSR.SpatialReference srNew = new OSGeo.OSR.SpatialReference("");
> 
> srNew.SetUTM(11, 1);
> srNew.SetWellKnownGeogCS("NAD83");
> 
> ctTransform = new OSGeo.OSR.CoordinateTransformation(srOld, srNew);
> 
> double[] dLnSegPt1 = { dX1, dY1 };
> ctTransform.TransformPoint(dLnSegPt1);
>   

Amanda,

TransformPoint() takes a three entry array, try it with:

   double [] dLnSegPt1 = { dX1, dY1, 0.0 };
   ctTransform.TransformPoint(dLnSegPt1);

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From matt.wilkie at gov.yk.ca  Tue Oct 20 12:25:14 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Oct 20 12:25:18 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <41350CFD-3BCC-43CD-819C-FC144F61A8FF@gmail.com>
References: <OF4189FD73.EEF35652-ON85257654.00461D13-85257654.00475890@fws.gov>
	<41350CFD-3BCC-43CD-819C-FC144F61A8FF@gmail.com>
Message-ID: <4ADDE46A.6080503@gov.yk.ca>

 >> I'm confused, I thought spatialite support was being added to ogr in
 >> 1.7 . http://www.gdal.org/ogr/drv_sqlite.html

I didn't know that, this is good news.

 >> As to ESRI, I asked at the last DOI meeting prior to the ESRI
 >> conference this year about spatialite support and they said they had
 >> no plans to support it.

Well I for one will open a request with ESRI tech support to add a 
driver for it - after I prove to myself that spatial-lite will work 
satisfactorily in-house of course.

cheers,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------
From matt.wilkie at gov.yk.ca  Tue Oct 20 12:33:07 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Oct 20 12:33:11 2009
Subject: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
References: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
Message-ID: <4ADDE643.4090701@gov.yk.ca>

Hi Aleksey,

With osgeo4w as Ivan noted you need to install the gdal-python package. 
O4w doesn't register it's python on the windows registry, so unless you 
run your .py script from inside the o4w shell it won't find the right 
python either.

There are a number of python scripts in C:\Osgeo4w\bin\ which you can 
use as a model for your own to get started.

cheers,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
-------------------------------------------- 



Aleksey Naumov wrote:
> Dear GDAL users,
>
> My apologies if this is a repeated question, I searched the mail 
> acrhives and found a few discussions on this subject, but no 
> resolution, AFAIK. I may have overlooked a good thread, would 
> appreciate a link.
>
> My problem is being able to do scripting with GDAL using Python 2.5 
> (this version is important because of integration/compatibility with a 
> number of other packages, mainly IPython), and I need to be able to do 
> it on Windows. I attempted a few approaches, but could not figure out 
> how to get all the pieces to work together:
>    - FWTools 2.4.5; however it comes with Python 2.3, an older version
>    - OSGEO4W
>       - Went through the Express setup and chose GDAL (+ GRASS, 
> QGIS).It installed Python 2.5.2; however on "import gdal" I get error 
> "No module named gdal".
>       - I looked through the Advanced setup and tried it a few times 
> with various options related to GDAL, however was not able to get it 
> to work. Are there specific options that should be enabled to make 
> GDAL/Python scripting possible in OSGEO4W?
>    - Tried to "easy_install gdal", this finds GDAL 1.6.1 and puts a 
> suitable *.egg into C:\Python25\Lib\site-packages. But when I try to 
> "import gdal" I get the error stating that gdal16.dll was not found.
>
> Is there a way to achieve this on Windows? Do I need to compile GDAL 
> on my windows box; if so, should I be using Cygwin or try to download 
> MS VC++?
>
> Thank you
>
> Aleksey
>
>
>
>
>
>
>
From matt.wilkie at gov.yk.ca  Tue Oct 20 12:49:21 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Oct 20 12:49:26 2009
Subject: [Gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <1256007664454-3856494.post@n2.nabble.com>
References: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
	<1256007664454-3856494.post@n2.nabble.com>
Message-ID: <4ADDEA11.8010000@gov.yk.ca>

Thanks for the effbot pointer Markus. I've been thinking for ahwile now 
that I'd like to register the gdal python as the system default for 2.5 
but didn't have a recipe and was mapping out a plan to work out some 
sort of regedit batch file trickery. Now there is a much cleaner route :)
http://trac.osgeo.org/osgeo4w/ticket/114

cheers,


matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------



Markus Reinhold wrote:
>  Hej,
>
>
>  Aleksey Naumov-2 wrote:
> > My problem is being able to do scripting with GDAL using Python 2.5
> > (this version is important because of integration/compatibility
> > with a number of other packages, mainly IPython), and I need to be
> > able to do it on Windows. I attempted a few approaches, but could
> > not figure out how to get all the pieces to work together:
> >
>
>  first things first: It is definitely possible to use the GDAL Python
>  1.6 bindings on Python 2.5 under Windows, cause
>  http://www.box.net/shared/pp82vkdp8j that's what I'm running over
>  here  as well. Now I can't give a detailed installation instruction
>  as it was a piecewise work, but following is what I can recall: 1)
>  I'm using the installer from OSGeo4W to setup my geospatial toolbox.
>  Using the advanced installation process the packages I'm considering
>  important are python, gdal (or gdal16), gdal-python (or
>  gdal16-python), python-numpy and python-win32. The latter two I'm not
>  sure how essential they really are, I have them installed in any way.
>  2) To use version 1.6 of GDAL it is necessary to a) install the
>  corresponding packages (see above) and b) switch to the 1.6
>  environment using gdal16.bat under osgeo4w\bin\gdal16.bat. However
>  this works for the OSGeo4W shell only and is not applied system-wide.
>  See
>  http://n2.nabble.com/Python-1-6-bindings-under-Windows-td3337254.html
>  my conversation with the list on this matter  a few weeks ago. I've
>  adjusted the %PYTHONPATH% to
>  *C:\OSGeo4W\apps\gdal-16\pymod;C:\OSGeo4W\apps\Python25\Lib* on my
>  system to use gdal16 system-wide. 3) A minor thing. When importing
>  the bindings I use *from osgeo import gdal* instead of *import gdal*.
>  However that does not seem to be your problem as the latter
>  alternative should give you a deprecation warning but not refuse to
>  work altogether. 4) The Python version of OSGeo4W is the default one
>  on my system. It works fine, I only had a few problems when
>  installing third-party extensions that need correct registry settings
>  for the installation. Have a look a
>  http://effbot.org/zone/python-register.htm this script  (and
>  especially the last comment) on how to fix this problem. That's all
>  what I can think of now. Maybe there's something you can look at to
>  find a solution for your problems. Regards, Markus
>
>
>  -----
From kpribadi at rscusa.com  Tue Oct 20 14:18:57 2009
From: kpribadi at rscusa.com (Kris Pribadi)
Date: Tue Oct 20 14:17:08 2009
Subject: [gdal-dev] ECW projection data using Dataset.GetProjectionRef()
Message-ID: <26A788810F651C4281D7C9919FBE616377096B@sbs1.sbs.local>

Hi:

 

I am a new GDAL user using C#.

 

I am using C# implementation of GDAL from FW_Tools. I am trying to write
a C# program similar to gdalinfo to extract the metadata from raster
files. It is working fine with GeoTiff files, but having problem reading
ECW metadata file. The spatial projection  "_projectionWKT" info returns
"null". However, when I use gdalinfo, it prints out the ECW file
coordinate system as WGS_84, which is correct. Does gdalinfo assume
"WGS_84" if GetProjectionRef() is null? How does it get the projection
info from ECW file? 

 

I appreciate any help or suggestions.

 

Thanks

Kris

 

This is the fields definition:

  OSGeo.GDAL.Dataset _ds;

        SpatialReference _srs;

        SpatialProjectionInfo _projectionInfo;

 

 

This is my program:

 

                OSGeo.GDAL.Gdal.AllRegister(); //Register drivers.

                OSGeo.OGR.Ogr.RegisterAll();

 

                _ds = OSGeo.GDAL.Gdal.Open(Filename,
OSGeo.GDAL.Access.GA_ReadOnly); //Open dataset from files

 

 

                if (_ds == null)

                {

                    throw new Exception("The files could not be
loaded");

                }

 

                //TODO May fail if wrong file type?

                _ds.GetGeoTransform(_dbGeoTrans);

 

                //TODO projectionWKT may be null if no info from the
file.

                //THIS RETURNS NULL FOR "ECW" FILES

                _projectionWKT = _ds.GetProjectionRef();

 

                Console.WriteLine("Projection WKT: " + _projectionWKT);

 

                //Get Spatial Information  

                _projectionInfo = new
SpatialProjectionInfo(projectionWKT); 

                bool _IsGeopgraphic = _projectionInfo.IsGeographic;

                bool _IsProjected = _projectionInfo.IsProjected;

                _srs = _projectionInfo.SpatialReference;

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/382b2398/attachment.html
From amanda.m.henneke at boeing.com  Tue Oct 20 14:21:29 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Tue Oct 20 14:21:35 2009
Subject: [gdal-dev] RE: ECW projection data using Dataset.GetProjectionRef()
In-Reply-To: <26A788810F651C4281D7C9919FBE616377096B@sbs1.sbs.local>
References: <26A788810F651C4281D7C9919FBE616377096B@sbs1.sbs.local>
Message-ID: <D901C7FDFE03E042B41317116B98302964BD417F17@XCH-MW-05V.mw.nos.boeing.com>

Hi Kris-

You wouldn't by any chance have opened these geotiffs in ERDAS Imagine have you?  Are there .aux or .rrd files associated with these images?

Thanks,
Amanda

Amanda M. Henneke

When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir

  Please consider the environment before printing this e-mail.



________________________________
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Kris Pribadi
Sent: Tuesday, October 20, 2009 1:19 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] ECW projection data using Dataset.GetProjectionRef()

Hi:

I am a new GDAL user using C#.

I am using C# implementation of GDAL from FW_Tools. I am trying to write a C# program similar to gdalinfo to extract the metadata from raster files. It is working fine with GeoTiff files, but having problem reading ECW metadata file. The spatial projection  "_projectionWKT" info returns "null". However, when I use gdalinfo, it prints out the ECW file coordinate system as WGS_84, which is correct. Does gdalinfo assume "WGS_84" if GetProjectionRef() is null? How does it get the projection info from ECW file?

I appreciate any help or suggestions.

Thanks
Kris

This is the fields definition:
  OSGeo.GDAL.Dataset _ds;
        SpatialReference _srs;
        SpatialProjectionInfo _projectionInfo;


This is my program:

                OSGeo.GDAL.Gdal.AllRegister(); //Register drivers.
                OSGeo.OGR.Ogr.RegisterAll();

                _ds = OSGeo.GDAL.Gdal.Open(Filename, OSGeo.GDAL.Access.GA_ReadOnly); //Open dataset from files


                if (_ds == null)
                {
                    throw new Exception("The files could not be loaded");
                }

                //TODO May fail if wrong file type?
                _ds.GetGeoTransform(_dbGeoTrans);

                //TODO projectionWKT may be null if no info from the file.
                //THIS RETURNS NULL FOR "ECW" FILES
                _projectionWKT = _ds.GetProjectionRef();

                Console.WriteLine("Projection WKT: " + _projectionWKT);

                //Get Spatial Information
                _projectionInfo = new SpatialProjectionInfo(projectionWKT);
                bool _IsGeopgraphic = _projectionInfo.IsGeographic;
                bool _IsProjected = _projectionInfo.IsProjected;
                _srs = _projectionInfo.SpatialReference;


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/9c018fde/attachment-0001.html
From szekerest at gmail.com  Tue Oct 20 14:49:55 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Oct 20 14:49:58 2009
Subject: [gdal-dev] ECW projection data using Dataset.GetProjectionRef()
In-Reply-To: <26A788810F651C4281D7C9919FBE616377096B@sbs1.sbs.local>
References: <26A788810F651C4281D7C9919FBE616377096B@sbs1.sbs.local>
Message-ID: <f3b73b7d0910201149x6b286d20n70e03d3c44b0524e@mail.gmail.com>

Kris,

I guess you should make some of the GDAL support files (like ecw_cs.wkt)
available to load by the driver. You should either set up the GDAL_DATA
environment variable to point to the location of the file, or just copy the
file into your directory from where the executable is running.


Best regards,

Tamas


2009/10/20 Kris Pribadi <kpribadi@rscusa.com>

>  Hi:
>
>
>
> I am a new GDAL user using C#.
>
>
>
> I am using C# implementation of GDAL from FW_Tools. I am trying to write a
> C# program similar to gdalinfo to extract the metadata from raster files.
> It is working fine with GeoTiff files, but having problem reading ECW
> metadata file. The spatial projection  ?_projectionWKT? info returns
> ?null?. However, when I use gdalinfo, it prints out the ECW file coordinate
> system as WGS_84, which is correct. Does gdalinfo assume ?WGS_84? if
> GetProjectionRef() is null? How does it get the projection info from ECW
> file?
>
>
>
> I appreciate any help or suggestions.
>
>
>
> Thanks
>
> Kris
>
>
>
> This is the fields definition:
>
>   OSGeo.GDAL.Dataset _ds;
>
>         SpatialReference _srs;
>
>         SpatialProjectionInfo _projectionInfo;
>
>
>
>
>
> This is my program:
>
>
>
>                 OSGeo.GDAL.Gdal.AllRegister(); //Register drivers.
>
>                 OSGeo.OGR.Ogr.RegisterAll();
>
>
>
>                 _ds = OSGeo.GDAL.Gdal.Open(Filename, OSGeo.GDAL.Access.GA_ReadOnly);
> //Open dataset from files
>
>
>
>
>
>                 if (_ds == null)
>
>                 {
>
>                     throw new Exception("The files could not be loaded");
>
>                 }
>
>
>
>                 //TODO May fail if wrong file type?
>
>                 _ds.GetGeoTransform(_dbGeoTrans);
>
>
>
>                 //TODO projectionWKT may be null if no info from the file.
>
>                 //THIS RETURNS NULL FOR ?ECW? FILES
>
>                 _projectionWKT = _ds.GetProjectionRef();
>
>
>
>                 Console.WriteLine("Projection WKT: " + _projectionWKT);
>
>
>
>                 //Get Spatial Information
>
>                 _projectionInfo = new SpatialProjectionInfo(projectionWKT);
>
>
>                 bool _IsGeopgraphic = _projectionInfo.IsGeographic;
>
>                 bool _IsProjected = _projectionInfo.IsProjected;
>
>                 _srs = _projectionInfo.SpatialReference;
>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/d2da3c75/attachment.html
From SGONG at mdacorporation.com  Tue Oct 20 17:09:46 2009
From: SGONG at mdacorporation.com (Shawn GONG)
Date: Tue Oct 20 17:12:07 2009
Subject: [gdal-dev] JP2KAK parameters on Gdal windows build
Message-ID: <5F76F80A436C1146A7C04C6F844026FB06104526@VMXYVR2.ds.mda.ca>

hi list,

I need help to set JP2KAK parameters in Gdal 1.6.2 nmake.opt on Windows.

I have unzipped Kakadu 6.21 (non-commercial license) on C:\build2\kakadu\v6_2_1.  I ran MS VisualStudio 2008 using coresys_2008.sln and kdu_managed_2008.sln. *.dll are generated in bin_x86\ and *.lib are in lib_x86\, *.obj are in v6_generated_x86\

I am using the followings for JP2KAK
Compiler: MS VS 9.0 (2008)
Gdal: gdal-svn-stable-2009.08.03 or 1.6.2

In nmake.opt, there is only one parameter for JP2KAK:
# Uncommment if you have Kakadu 4.0 or newer
#KAKDIR =	D:\warmerda\jp2\kakadu

On the contrary, http://trac.osgeo.org/gdal/wiki/JP2KAK states:
  In GDAL/OGR trunk (1.7dev) I have substantially updated the makefile.vc and 
  nmake.opt entries for Kakadu support. Now it should be sufficient to update the 
  nmake.opt entries appropriately for your local tree: 
  # Uncommment if you have Kakadu 6.0 or newer
  KAKDIR = 	\warmerda\pkg\kakadu-6.2.1
  KAKLIB =	$(KAKDIR)\lib_x86\kdu_v62R.lib
  KAKSRC =	$(KAKDIR)\v6_2_1-00256N

My problem is that I have newer Kakadu 6.2.1. How should I set KAKDIR and KAKLIB in Gdal 1.6.2 or recent overnight stable version? 

I have tried to use the above KAKDIR and KAKLIB. Here are errors:
1) jp2kakdataset.cpp couldn?t find kdu_*.h files. I copied the *.h files onto gdal\frmts\jp2kak\ and it is good now.

2) nmake failed to copy Kakadu *.obj to gdal\frmts\o\. I copied C:\build2\kakadu\v6_generated_x86\coresys\release\*.obj to gdal\frmts\o 
I got:
   Creating library gdal_i.lib and object gdal_i.exp
jp2kakdataset.obj : error LNK2001: unresolved external symbol "public: virtual void __thiscall jp2_family_src::open(class kdu_cache *)" (?open@jp2_family_src@@UAEXPAVkdu_cache@@@Z)
jp2kakdataset.obj : error LNK2001: unresolved external symbol "public: virtual void __thiscall jp2_family_src::open(class kdu_compressed_source *)" (?open@jp2_family_src@@UAEXPAVkdu_compressed_source@@@Z)
jp2kakdataset.obj : error LNK2001: unresolved external symbol "public: virtual void __thiscall jp2_family_src::open(char const *,bool)" (?open@jp2_family_src@@UAEXPBD_N@Z)
jp2kakdataset.obj : error LNK2001: unresolved external symbol "public: virtual void __thiscall jp2_family_src::close(void)" (?close@jp2_family_src@@UAEXXZ)jp2kakdataset.obj : error LNK2019: unresolved external symbol "public: void __thiscall jp2_family_tgt::close(void)" (?close@jp2_family_tgt@@QAEXXZ) referenced in function "public: virtual __thiscall jp2_family_tgt::~jp2_family_tgt(void)" (??1jp2_family_tgt@@UAE@XZ)


thanks,

Shawn


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/ea852cef/attachment.html
From kpribadi at rscusa.com  Tue Oct 20 17:41:13 2009
From: kpribadi at rscusa.com (Kris Pribadi)
Date: Tue Oct 20 17:41:03 2009
Subject: [gdal-dev] ECW projection data using Dataset.GetProjectionRef()
In-Reply-To: <f3b73b7d0910201149x6b286d20n70e03d3c44b0524e@mail.gmail.com>
References: <26A788810F651C4281D7C9919FBE616377096B@sbs1.sbs.local>
	<f3b73b7d0910201149x6b286d20n70e03d3c44b0524e@mail.gmail.com>
Message-ID: <26A788810F651C4281D7C9919FBE6163770984@sbs1.sbs.local>

Tamas:

 

This works!

 

I set GDAL_DATA environment variable before calling GDAL in my C#
program using:

 

 Environment.SetEnvironmentVariable("GDAL_DATA", path + "\\data");

 

Where path is the FWTools folder location.  

Now I can read ECW projection WKT value.

 

Thanks.

 

Kris

 

From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: Tuesday, October 20, 2009 11:50 AM
To: Kris Pribadi
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] ECW projection data using
Dataset.GetProjectionRef()

 

Kris,

I guess you should make some of the GDAL support files (like ecw_cs.wkt)
available to load by the driver. You should either set up the GDAL_DATA
environment variable to point to the location of the file, or just copy
the file into your directory from where the executable is running.


Best regards,

Tamas



2009/10/20 Kris Pribadi <kpribadi@rscusa.com>

Hi:

 

I am a new GDAL user using C#.

 

I am using C# implementation of GDAL from FW_Tools. I am trying to write
a C# program similar to gdalinfo to extract the metadata from raster
files. It is working fine with GeoTiff files, but having problem reading
ECW metadata file. The spatial projection  "_projectionWKT" info returns
"null". However, when I use gdalinfo, it prints out the ECW file
coordinate system as WGS_84, which is correct. Does gdalinfo assume
"WGS_84" if GetProjectionRef() is null? How does it get the projection
info from ECW file? 

 

I appreciate any help or suggestions.

 

Thanks

Kris

 

This is the fields definition:

  OSGeo.GDAL.Dataset _ds;

        SpatialReference _srs;

        SpatialProjectionInfo _projectionInfo;

 

 

This is my program:

 

                OSGeo.GDAL.Gdal.AllRegister(); //Register drivers.

                OSGeo.OGR.Ogr.RegisterAll();

 

                _ds = OSGeo.GDAL.Gdal.Open(Filename,
OSGeo.GDAL.Access.GA_ReadOnly); //Open dataset from files

 

 

                if (_ds == null)

                {

                    throw new Exception("The files could not be
loaded");

                }

 

                //TODO May fail if wrong file type?

                _ds.GetGeoTransform(_dbGeoTrans);

 

                //TODO projectionWKT may be null if no info from the
file.

                //THIS RETURNS NULL FOR "ECW" FILES

                _projectionWKT = _ds.GetProjectionRef();

 

                Console.WriteLine("Projection WKT: " + _projectionWKT);

 

                //Get Spatial Information  

                _projectionInfo = new
SpatialProjectionInfo(projectionWKT); 

                bool _IsGeopgraphic = _projectionInfo.IsGeographic;

                bool _IsProjected = _projectionInfo.IsProjected;

                _srs = _projectionInfo.SpatialReference;

 

 


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/c44ca377/attachment-0001.html
From gregcoats at mac.com  Tue Oct 20 22:29:01 2009
From: gregcoats at mac.com (Greg Coats)
Date: Tue Oct 20 22:29:18 2009
Subject: [gdal-dev] JP2KAK updated jp2kakdataset.cpp eliminates 15 gcc warnings
Message-ID: <83993E99-9061-4018-B434-3979F8F5FB41@mac.com>

Compiling GDAL version 1.6.2's Kakadu based JPEG2000 support in frmts/ 
jp2kak/jp2kakdataset.cpp with gcc version 4.2.1 yields from the "Set  
some user-overridable parameters." section the following warning 15  
times jp2kakdataset.cpp:2472: warning: deprecated conversion from  
string constant to ?char*?. A small syntax change eliminates these  
warnings. You can download an updated jp2kakdataset.cpp that does not  
yield these compiler warnings from http://homepage.mac.com/gregcoats/jp2.html
Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091020/f30aeec2/attachment.html
From P.Halls at york.ac.uk  Wed Oct 21 02:06:42 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Wed Oct 21 02:06:53 2009
Subject: [gdal-dev] Fastest vector format for combining shapefiles
In-Reply-To: <4ADDE46A.6080503@gov.yk.ca>
References: <OF4189FD73.EEF35652-ON85257654.00461D13-85257654.00475890@fws.gov>	<41350CFD-3BCC-43CD-819C-FC144F61A8FF@gmail.com>
	<4ADDE46A.6080503@gov.yk.ca>
Message-ID: <4ADEA4F2.70608@york.ac.uk>

Whilst the ESRI comment is currently strictly true, spatialite is now supported 
by FME (as of the current release of earlier this year), so ESRI support may 
come in the Data Interoperability extension (which is FME) in due course - 
perhaps when 9.4 is released next year.

Peter

Matt Wilkie wrote:
>  >> I'm confused, I thought spatialite support was being added to ogr in
>  >> 1.7 . http://www.gdal.org/ogr/drv_sqlite.html
> 
> I didn't know that, this is good news.
> 
>  >> As to ESRI, I asked at the last DOI meeting prior to the ESRI
>  >> conference this year about spatialite support and they said they had
>  >> no plans to support it.
> 
> Well I for one will open a request with ESRI tech support to add a 
> driver for it - after I prove to myself that spatial-lite will work 
> satisfactorily in-house of course.
> 
> cheers,
> 
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From ivan.lucena at pmldnet.com  Wed Oct 21 09:06:56 2009
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan?=)
Date: Wed Oct 21 09:06:57 2009
Subject: [gdal-dev] Building from the trunk, error realted to WKTRASTER
Message-ID: <20091021130656.14145.qmail@s466.sureserver.com>

I tried to build from GDAL trunk and got an dependency error on wktraster driver.

After removing it from frmts/makefile.vc the build and install worked all right.

--- makefile.vc	(revision 17859)
+++ makefile.vc	(working copy)
@@ -12,7 +12,7 @@
 		-DFRMT_jaxapalsar -DFRMT_ers -DFRMT_ingr -DFRMT_dimap \
 		-DFRMT_gff -DFRMT_terragen -DFRMT_gsg -DFRMT_cosar -DFRMT_pds \
 		-DFRMT_adrg -DFRMT_coasp -DFRMT_tsx -DFRMT_blx -DFRMT_til \
-		-DFRMT_r -DFRMT_wktraster
+		-DFRMT_r

Regards.
From alfreale74 at gmail.com  Wed Oct 21 09:52:53 2009
From: alfreale74 at gmail.com (alfreale)
Date: Wed Oct 21 09:52:55 2009
Subject: [Gdal-dev] gdal-1.6.2 compile fail (mpi.h)
Message-ID: <1256133173074-3865413.post@n2.nabble.com>


Hi,

I try to compile gdal with hdf5 support, but the compile fail:


In file included from /usr/include/hdf5.h:24,
                 from hdf5dataset.cpp:34:
/usr/include/H5public.h:57:20: error: mpi.h: No such file or directory
In file included from /usr/include/hdf5.h:46,
                 from hdf5dataset.cpp:34:
/usr/include/H5FDmpi.h:66: error: expected identifier before '*' token
/usr/include/H5FDmpi.h:66: error: 'MPI_Comm' declared as function returning
a function
In file included from /usr/include/H5FDmpi.h:71,
                 from /usr/include/hdf5.h:46,
                 from hdf5dataset.cpp:34:
/usr/include/H5FDmpio.h:50: error: 'MPI_Comm' has not been declared
/usr/include/H5FDmpio.h:50: error: 'MPI_Info' has not been declared
/usr/include/H5FDmpio.h:51: error: 'MPI_Comm' has not been declared
/usr/include/H5FDmpio.h:52: error: 'MPI_Info' has not been declared
In file included from /usr/include/H5FDmpi.h:72,
                 from /usr/include/hdf5.h:46,
                 from hdf5dataset.cpp:34:
/usr/include/H5FDmpiposix.h:46: error: 'MPI_Comm' has not been declared
/usr/include/H5FDmpiposix.h:47: error: 'MPI_Comm' has not been declared
In file included from /usr/include/hdf5.h:46,
                 from hdf5dataset.cpp:34:
/usr/include/H5FDmpi.h:99: error: 'MPI_Offset' was not declared in this
scope
/usr/include/H5FDmpi.h:100: error: 'MPI_Offset' has not been declared
/usr/include/H5FDmpi.h:101: error: 'MPI_Comm' was not declared in this scope
/usr/include/H5FDmpi.h:101: error: 'MPI_Info' was not declared in this scope
/usr/include/H5FDmpi.h:102: error: 'MPI_Comm' was not declared in this scope
/usr/include/H5FDmpi.h:102: error: 'comm_new' was not declared in this scope
/usr/include/H5FDmpi.h:102: error: 'MPI_Info' was not declared in this scope
/usr/include/H5FDmpi.h:102: error: 'info_new' was not declared in this scope
/usr/include/H5FDmpi.h:102: error: initializer expression list treated as
compound expression
/usr/include/H5FDmpi.h:103: error: 'MPI_Comm' was not declared in this scope
/usr/include/H5FDmpi.h:103: error: 'comm' was not declared in this scope
/usr/include/H5FDmpi.h:103: error: 'MPI_Info' was not declared in this scope
/usr/include/H5FDmpi.h:103: error: 'info' was not declared in this scope
/usr/include/H5FDmpi.h:103: error: initializer expression list treated as
compound expression
/usr/include/H5FDmpi.h:108: error: 'MPI_Datatype' has not been declared
/usr/include/H5FDmpi.h:109: error: 'MPI_Datatype' has not been declared
/usr/include/H5FDmpi.h:115: error: 'MPI_Comm' does not name a type
make[2]: *** [../o/hdf5dataset.lo] Error 1
make[2]: Leaving directory
`/home/alfredo/archivio/GRASS_INSTALL/gdal-1.6.2/frmts/hdf5'
make[1]: *** [hdf5-install-obj] Error 2
make[1]: Leaving directory
`/home/alfredo/archivio/GRASS_INSTALL/gdal-1.6.2/frmts'
make: *** [frmts-target] Error 2

-- 
View this message in context: http://n2.nabble.com/gdal-1-6-2-compile-fail-mpi-h-tp3865413p3865413.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Wed Oct 21 10:43:22 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Oct 21 10:43:25 2009
Subject: [Gdal-dev] gdal-1.6.2 compile fail (mpi.h)
In-Reply-To: <1256133173074-3865413.post@n2.nabble.com>
References: <1256133173074-3865413.post@n2.nabble.com>
Message-ID: <eb502d880910210743h21681fbeqb3c4cbac0a35481e@mail.gmail.com>

alfreale,

Looks like this problem is related to hdf5 and mpi. IMHO you should check
your mpi and hdf5 packages.

On Wed, Oct 21, 2009 at 7:22 PM, alfreale <alfreale74@gmail.com> wrote:

>
> Hi,
>
> I try to compile gdal with hdf5 support, but the compile fail:
>
>
> In file included from /usr/include/hdf5.h:24,
>                 from hdf5dataset.cpp:34:
> /usr/include/H5public.h:57:20: error: mpi.h: No such file or directory
> In file included from /usr/include/hdf5.h:46,
>                 from hdf5dataset.cpp:34:
> /usr/include/H5FDmpi.h:66: error: expected identifier before '*' token
> /usr/include/H5FDmpi.h:66: error: 'MPI_Comm' declared as function returning
> a function
> In file included from /usr/include/H5FDmpi.h:71,
>                 from /usr/include/hdf5.h:46,
>                 from hdf5dataset.cpp:34:
> /usr/include/H5FDmpio.h:50: error: 'MPI_Comm' has not been declared
> /usr/include/H5FDmpio.h:50: error: 'MPI_Info' has not been declared
> /usr/include/H5FDmpio.h:51: error: 'MPI_Comm' has not been declared
> /usr/include/H5FDmpio.h:52: error: 'MPI_Info' has not been declared
> In file included from /usr/include/H5FDmpi.h:72,
>                 from /usr/include/hdf5.h:46,
>                 from hdf5dataset.cpp:34:
> /usr/include/H5FDmpiposix.h:46: error: 'MPI_Comm' has not been declared
> /usr/include/H5FDmpiposix.h:47: error: 'MPI_Comm' has not been declared
> In file included from /usr/include/hdf5.h:46,
>                 from hdf5dataset.cpp:34:
> /usr/include/H5FDmpi.h:99: error: 'MPI_Offset' was not declared in this
> scope
> /usr/include/H5FDmpi.h:100: error: 'MPI_Offset' has not been declared
> /usr/include/H5FDmpi.h:101: error: 'MPI_Comm' was not declared in this
> scope
> /usr/include/H5FDmpi.h:101: error: 'MPI_Info' was not declared in this
> scope
> /usr/include/H5FDmpi.h:102: error: 'MPI_Comm' was not declared in this
> scope
> /usr/include/H5FDmpi.h:102: error: 'comm_new' was not declared in this
> scope
> /usr/include/H5FDmpi.h:102: error: 'MPI_Info' was not declared in this
> scope
> /usr/include/H5FDmpi.h:102: error: 'info_new' was not declared in this
> scope
> /usr/include/H5FDmpi.h:102: error: initializer expression list treated as
> compound expression
> /usr/include/H5FDmpi.h:103: error: 'MPI_Comm' was not declared in this
> scope
> /usr/include/H5FDmpi.h:103: error: 'comm' was not declared in this scope
> /usr/include/H5FDmpi.h:103: error: 'MPI_Info' was not declared in this
> scope
> /usr/include/H5FDmpi.h:103: error: 'info' was not declared in this scope
> /usr/include/H5FDmpi.h:103: error: initializer expression list treated as
> compound expression
> /usr/include/H5FDmpi.h:108: error: 'MPI_Datatype' has not been declared
> /usr/include/H5FDmpi.h:109: error: 'MPI_Datatype' has not been declared
> /usr/include/H5FDmpi.h:115: error: 'MPI_Comm' does not name a type
> make[2]: *** [../o/hdf5dataset.lo] Error 1
> make[2]: Leaving directory
> `/home/alfredo/archivio/GRASS_INSTALL/gdal-1.6.2/frmts/hdf5'
> make[1]: *** [hdf5-install-obj] Error 2
> make[1]: Leaving directory
> `/home/alfredo/archivio/GRASS_INSTALL/gdal-1.6.2/frmts'
> make: *** [frmts-target] Error 2
>
> --
> View this message in context:
> http://n2.nabble.com/gdal-1-6-2-compile-fail-mpi-h-tp3865413p3865413.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091021/5d5362cb/attachment.html
From fabrice.lallauret at external.thalesgroup.com  Wed Oct 21 11:17:42 2009
From: fabrice.lallauret at external.thalesgroup.com (Fabrice LALLAURET - PSV)
Date: Wed Oct 21 11:21:03 2009
Subject: [gdal-dev] gdalbuilvrt problem 
Message-ID: <4ADF2616.9000201@external.thalesgroup.com>

I try to use gdalbuilvrt  with images having different resolutions. I 
use it with argument -resolution highest and I find (I think) a bug.

The highest resolution is set with these lines of code in gdalbuildvrt.cpp :

                else if (resolutionStrategy == HIGHEST_RESOLUTION)
                {
                    we_res = MIN(we_res, 
psDatasetProperties[i].adfGeoTransform[GEOTRSFRM_WE_RES]);
                    ns_res = MIN(ns_res, 
psDatasetProperties[i].adfGeoTransform[GEOTRSFRM_NS_RES]);
                }
and MIN macro if define as :

../port/cpl_port.h:# define MIN(a,b) ((a<b) ? a : b)

But if resolution is negative MIN(-15,-1) is -15 not -1. I am right ?

Regards

From even.rouault at mines-paris.org  Wed Oct 21 12:43:53 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Oct 21 12:44:00 2009
Subject: [gdal-dev] gdalbuilvrt problem 
In-Reply-To: <4ADF2616.9000201@external.thalesgroup.com>
References: <4ADF2616.9000201@external.thalesgroup.com>
Message-ID: <1256143433.4adf3a492853c@imp.free.fr>

Selon Fabrice LALLAURET - PSV <fabrice.lallauret@external.thalesgroup.com>:

> I try to use gdalbuilvrt  with images having different resolutions. I
> use it with argument -resolution highest and I find (I think) a bug.
>
> The highest resolution is set with these lines of code in gdalbuildvrt.cpp :
>
>                 else if (resolutionStrategy == HIGHEST_RESOLUTION)
>                 {
>                     we_res = MIN(we_res,
> psDatasetProperties[i].adfGeoTransform[GEOTRSFRM_WE_RES]);
>                     ns_res = MIN(ns_res,
> psDatasetProperties[i].adfGeoTransform[GEOTRSFRM_NS_RES]);
>                 }
> and MIN macro if define as :
>
> ../port/cpl_port.h:# define MIN(a,b) ((a<b) ? a : b)
>
> But if resolution is negative MIN(-15,-1) is -15 not -1. I am right ?

Good catch. Fixed by ticket http://trac.osgeo.org/gdal/ticket/3198

>
> Regards
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From warmerdam at pobox.com  Wed Oct 21 12:46:40 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 21 12:46:57 2009
Subject: [gdal-dev] Another Join issue with OGR/ODBC
In-Reply-To: <4ADCF30E.8040103@dmsolutions.ca>
References: <4ADCF30E.8040103@dmsolutions.ca>
Message-ID: <4ADF3AF0.3080404@pobox.com>

Yewondwossen Assefa wrote:
> Hi all,
> 
> I am into some issues when trying to do a  join using a shape file as a 
> primary table and an ODBC (sql server 2005) connection as the secondary 
> table.
> 
> The issue has to do with the schema name.
> 
> The following query (with a schema name: imsv7) works as expected:
>  - ogrinfo ODBC:sa/ttt@my_db -sql "SELECT * FROM imsv7.COMPSMN WHERE 
> COMPKEY=23533"
> 
> This same query without a schema does not work  (which is what  I 
> expected):
>    - ogrinfo ODBC:sa/ttt@my_db -sql "SELECT * FROM COMPSMN WHERE 
> COMPKEY=23533"
> 
> My issue is that I need to give the schema name when doing a join but 
> don't see how I can do that. Here is the  join statement:
> 
>  - ogrinfo f:/msapps/ttt/sqlserver/Sewer_Manholes_20090818.shp -sql 
> "SELECT *  FROM Sewer_Manholes_20090818 shp LEFT JOIN 
> 'ODBC:sa/ttt@my_db'.COMPSMN ON shp.COMPKEY = COMPSMN.COMPKEY  where 
> COMPKEY = 23533"

Assefa,

The core problem is that when you open the ODBC datasource directly,
your SQL gets sent to SQLServer but when you open the shapefile, the
SQL gets parsed and processed by OGR which knows nothing about schemas
and can only operate on features from the joined datasource that appears
as regular layers on it.

So, when you do "ogrinfo ODBC:sa/tt@my_db" do you see a layer corresponding
to imsv7?  If not, you cannot join to it properly.

It *might* be possible to include imsv7.compsmn as a table name in the
ODBC datasource name.  Something like:

   ODBC:sa/tt@my_db:imsv7.compsmn

If this works this table should be translated into a layer you can join
to.

In theory you could also wrap the ODBC datasource in a VRT datasource
using <SrcSQL> to ensure that the compsmn features end up as proper
features in a proper layer but I'm generally nervous about adding
this many layers of complexity, and it is essentially sure that if
you do this the join performance will be terrible.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Wed Oct 21 12:48:57 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Oct 21 12:49:03 2009
Subject: [gdal-dev] Building from the trunk, error realted to WKTRASTER
In-Reply-To: <20091021130656.14145.qmail@s466.sureserver.com>
References: <20091021130656.14145.qmail@s466.sureserver.com>
Message-ID: <1256143737.4adf3b7981679@imp.free.fr>

Selon Ivan <ivan.lucena@pmldnet.com>:

Yes, I had seen that too and fixed it a few days ago but forgot to commit it
apparently. Done in r17860 by testing the availability of PG headers.

> I tried to build from GDAL trunk and got an dependency error on wktraster
> driver.
>
> After removing it from frmts/makefile.vc the build and install worked all
> right.
>
> --- makefile.vc	(revision 17859)
> +++ makefile.vc	(working copy)
> @@ -12,7 +12,7 @@
>  		-DFRMT_jaxapalsar -DFRMT_ers -DFRMT_ingr -DFRMT_dimap \
>  		-DFRMT_gff -DFRMT_terragen -DFRMT_gsg -DFRMT_cosar -DFRMT_pds \
>  		-DFRMT_adrg -DFRMT_coasp -DFRMT_tsx -DFRMT_blx -DFRMT_til \
> -		-DFRMT_r -DFRMT_wktraster
> +		-DFRMT_r
>
> Regards.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From anaumov at gmail.com  Wed Oct 21 13:06:08 2009
From: anaumov at gmail.com (Aleksey Naumov)
Date: Wed Oct 21 13:06:12 2009
Subject: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <4ADD2543.8040007@pmldnet.com>
References: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
	<4ADD2543.8040007@pmldnet.com>
Message-ID: <1fc68840910211006x5847510er6da7b9b4c30edcb2@mail.gmail.com>

Ivan,

Thank you, this works. I must have overlooked the gdal-python bindings
package in the Advanced settings on my last try.

Comparing to FWTools, I get a sense that the OSGeo4W GDAL/Python bundle is
pretty complete. At least it has all the usual GDAL utility programs and
python scripts.

One thing I am currently missing in OSGeo4W GDAL is support for ECW and
MrSID -- is it available? I've installed the gdal-ecw and gdal-mrsid
packages, but it seems I am missing the DLLs. E.g. when I try "gdalinfo
--formats" I get complaints:
ERROR 1: Can't load requested DLL:
C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_ECW_JP2ECW.dll
126: The specified module could not be found.

ERROR 1: Can't load requested DLL:
C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_MrSID.dll
126: The specified module could not be found.

Have tried this with both gdal-* and gdal16-* packages. And remembered to
run gdal16.bat to activate the GDAL 1.6 environment. However, can't get ECW
and MrSID support.

I suspect this is due to licensing issues. Do I need to install support for
these formats separately?

Thank you,

Aleksey



On Mon, Oct 19, 2009 at 10:49 PM, Ivan <ivan.lucena@pmldnet.com> wrote:

> Aleksey
>
> Installing GDAL + Python 2.5 + "GDAL Python bindings" through the advanced
> settings usually works pretty easy.
>
> And the you should be able to launch the OSGeo4W Shell and access it,
> example:
>
>  C:\OSGeo4W> Python
>  >>> from osgeo import gdal
>  >>> gdal.VersionInfo()
>  '1520'
>  >>>
>
> Notice that OSGeo4W install its own Python 2.5 distribution. So if you have
> a previous installation of Python 2.5, that is not going to access the GDAL
> bindings.
>
> Regards,
>
> Ivan
>
>
> Aleksey Naumov wrote:
>
>> Dear GDAL users,
>>
>> My apologies if this is a repeated question, I searched the mail acrhives
>> and found a few discussions on this subject, but no resolution, AFAIK. I may
>> have overlooked a good thread, would appreciate a link.
>>
>> My problem is being able to do scripting with GDAL using Python 2.5 (this
>> version is important because of integration/compatibility with a number of
>> other packages, mainly IPython), and I need to be able to do it on Windows.
>> I attempted a few approaches, but could not figure out how to get all the
>> pieces to work together:
>>   - FWTools 2.4.5; however it comes with Python 2.3, an older version
>>   - OSGEO4W
>>      - Went through the Express setup and chose GDAL (+ GRASS, QGIS).It
>> installed Python 2.5.2; however on "import gdal" I get error "No module
>> named gdal".
>>      - I looked through the Advanced setup and tried it a few times with
>> various options related to GDAL, however was not able to get it to work. Are
>> there specific options that should be enabled to make GDAL/Python scripting
>> possible in OSGEO4W?
>>   - Tried to "easy_install gdal", this finds GDAL 1.6.1 and puts a
>> suitable *.egg into C:\Python25\Lib\site-packages. But when I try to "import
>> gdal" I get the error stating that gdal16.dll was not found.
>>
>> Is there a way to achieve this on Windows? Do I need to compile GDAL on my
>> windows box; if so, should I be using Cygwin or try to download MS VC++?
>>
>> Thank you
>>
>> Aleksey
>>
>>
>>
>>
>>
>>
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091021/e477c6d7/attachment.html
From anaumov at gmail.com  Wed Oct 21 13:12:58 2009
From: anaumov at gmail.com (Aleksey Naumov)
Date: Wed Oct 21 13:13:00 2009
Subject: [Gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <1256007664454-3856494.post@n2.nabble.com>
References: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
	<1256007664454-3856494.post@n2.nabble.com>
Message-ID: <1fc68840910211012g677eb114xbb129909ccb1485a@mail.gmail.com>

Markus,

Thank you for your detailed help and reference to the previous discussion on
switching to the GDAL 1.6 environment (gdal16.bat). I mostly got OSGeo4W to
work for me, thanks to comment from Ivan, just have some issues with ECW and
MrSID support.

Thanks for the pointer to use "from osgeo import gdal" instead of "import
gdal". you are right, that was not my problem (the problem was, in fact,
missing gdal-python bindings package), but it is good to know, I fixed my
scripts to use the "osgeo" namespace.

I probably will not venture into setting the OSGeo4W python to be the
default on my system (have to careful with ESRI products and some other
things), but thank you for the pointers. I'll look at them for info.

Take care,

Aleksey


On Mon, Oct 19, 2009 at 11:01 PM, Markus Reinhold <
markus.reinhold@uni-jena.de> wrote:

>
> Hej,
>
>
> Aleksey Naumov-2 wrote:
> >
> > My problem is being able to do scripting with GDAL using Python 2.5 (this
> > version is important because of integration/compatibility with a number
> of
> > other packages, mainly IPython), and I need to be able to do it on
> > Windows.
> > I attempted a few approaches, but could not figure out how to get all the
> > pieces to work together:
> >
>
> first things first: It is definitely possible to use the GDAL Python 1.6
> bindings on Python 2.5 under Windows, cause
> http://www.box.net/shared/pp82vkdp8j that's what I'm running over here  as
> well. Now I can't give a detailed installation instruction as it was a
> piecewise work, but following is what I can recall:
> 1) I'm using the installer from OSGeo4W to setup my geospatial toolbox.
> Using the advanced installation process the packages I'm considering
> important are python, gdal (or gdal16), gdal-python (or gdal16-python),
> python-numpy and python-win32. The latter two I'm not sure how essential
> they really are, I have them installed in any way.
> 2) To use version 1.6 of GDAL it is necessary to a) install the
> corresponding packages (see above) and b) switch to the 1.6 environment
> using gdal16.bat under osgeo4w\bin\gdal16.bat. However this works for the
> OSGeo4W shell only and is not applied system-wide. See
> http://n2.nabble.com/Python-1-6-bindings-under-Windows-td3337254.html my
> conversation with the list on this matter  a few weeks ago. I've adjusted
> the %PYTHONPATH% to
> *C:\OSGeo4W\apps\gdal-16\pymod;C:\OSGeo4W\apps\Python25\Lib* on my system
> to
> use gdal16 system-wide.
> 3) A minor thing. When importing the bindings I use *from osgeo import
> gdal*
> instead of *import gdal*. However that does not seem to be your problem as
> the latter alternative should give you a deprecation warning but not refuse
> to work altogether.
> 4) The Python version of OSGeo4W is the default one on my system. It works
> fine, I only had a few problems when installing third-party extensions that
> need correct registry settings for the installation. Have a look a
> http://effbot.org/zone/python-register.htm this script  (and especially
> the
> last comment) on how to fix this problem.
> That's all what I can think of now. Maybe there's something you can look at
> to find a solution for your problems.
> Regards,
> Markus
>
>
> -----
> --
>
> ********************************************************
> Dipl.-Kartograph Markus Reinhold
>
> Chair of Geoinformatics, Geohydrology and Modeling
> Friedrich-Schiller-University Jena
> L?bdergraben 32
> D - 07743 Jena
> Germany
>
> Phone.: (+49)(0)3641 / 9 488 65
> E-Mail: markus.reinhold@uni-jena.de
> ********************************************************
> --
> View this message in context:
> http://n2.nabble.com/GDAL-scripting-with-Python-2-5-on-windows-tp3851288p3856494.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091021/4683321c/attachment-0001.html
From anaumov at gmail.com  Wed Oct 21 13:14:48 2009
From: anaumov at gmail.com (Aleksey Naumov)
Date: Wed Oct 21 13:14:51 2009
Subject: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <4ADDE643.4090701@gov.yk.ca>
References: <1fc68840910191220s735831c5t7dd772f4ca9a40b7@mail.gmail.com>
	<4ADDE643.4090701@gov.yk.ca>
Message-ID: <1fc68840910211014l2238aad8rc3f36f2f102203d0@mail.gmail.com>

Matt,

Thank you, installing gdal-python fixed my problem. I just have to figure
out how to deal with ECW ad MrSID formats in OSGeo4W...

Best regards,
Aleksey

On Tue, Oct 20, 2009 at 12:33 PM, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:

> Hi Aleksey,
>
> With osgeo4w as Ivan noted you need to install the gdal-python package. O4w
> doesn't register it's python on the windows registry, so unless you run your
> .py script from inside the o4w shell it won't find the right python either.
>
> There are a number of python scripts in C:\Osgeo4w\bin\ which you can use
> as a model for your own to get started.
>
> cheers,
>
> matt wilkie
> --------------------------------------------
> Geomatics Analyst
> Information Management and Technology
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
>
> Aleksey Naumov wrote:
>
>> Dear GDAL users,
>>
>> My apologies if this is a repeated question, I searched the mail acrhives
>> and found a few discussions on this subject, but no resolution, AFAIK. I may
>> have overlooked a good thread, would appreciate a link.
>>
>> My problem is being able to do scripting with GDAL using Python 2.5 (this
>> version is important because of integration/compatibility with a number of
>> other packages, mainly IPython), and I need to be able to do it on Windows.
>> I attempted a few approaches, but could not figure out how to get all the
>> pieces to work together:
>>   - FWTools 2.4.5; however it comes with Python 2.3, an older version
>>   - OSGEO4W
>>      - Went through the Express setup and chose GDAL (+ GRASS, QGIS).It
>> installed Python 2.5.2; however on "import gdal" I get error "No module
>> named gdal".
>>      - I looked through the Advanced setup and tried it a few times with
>> various options related to GDAL, however was not able to get it to work. Are
>> there specific options that should be enabled to make GDAL/Python scripting
>> possible in OSGEO4W?
>>   - Tried to "easy_install gdal", this finds GDAL 1.6.1 and puts a
>> suitable *.egg into C:\Python25\Lib\site-packages. But when I try to "import
>> gdal" I get the error stating that gdal16.dll was not found.
>>
>> Is there a way to achieve this on Windows? Do I need to compile GDAL on my
>> windows box; if so, should I be using Cygwin or try to download MS VC++?
>>
>> Thank you
>>
>> Aleksey
>>
>>
>>
>>
>>
>>
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091021/8aae4ea6/attachment.html
From ivan.lucena at pmldnet.com  Wed Oct 21 13:46:43 2009
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan?=)
Date: Wed Oct 21 13:46:44 2009
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gR0RBTCBzY3JpcHRpbmcgd2l0aCBQeXRob24gMi41IChvbiB3aW5kb3dzKQ==?=
Message-ID: <20091021174643.5981.qmail@s466.sureserver.com>

Aleksey,

>  Thank you, this works. I must have overlooked the gdal-python bindings
>  package in the Advanced settings on my last try.

Welcome.

>  One thing I am currently missing in OSGeo4W GDAL is support for ECW and
>  MrSID -- is it available? I've installed the gdal-ecw and gdal-mrsid
>  packages, but it seems I am missing the DLLs. E.g. when I try "gdalinfo
>  --formats" I get complaints:
>  ERROR 1: Can't load requested DLL:
>  C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_ECW_JP2ECW.dll
>  126: The specified module could not be found.
>  
>  ERROR 1: Can't load requested DLL:
>  C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_MrSID.dll
>  126: The specified module could not be found.
>  
>  Have tried this with both gdal-* and gdal16-* packages. And remembered to
>  run gdal16.bat to activate the GDAL 1.6 environment. However, can't get
>  ECW and MrSID support.
>  
>  I suspect this is due to licensing issues. Do I need to install support
>  for these formats separately?

Yes, you need to get the SDKs from Erdas and Lizartech.

See the GDAL supported format list for information: 

http://www.gdal.org/formats_list.html

Best regards,

Ivan


>  
>  Thank you,
>  
>  Aleksey
>  
>  
>  On Mon, Oct 19, 2009 at 10:49 PM, Ivan <[LINK:
>  mailto:ivan.lucena@pmldnet.com] ivan.lucena@pmldnet.com> wrote:
>  Aleksey
>  
>  Installing GDAL + Python 2.5 + "GDAL Python bindings" through the
>  advanced settings usually works pretty easy.
>  
>  And the you should be able to launch the OSGeo4W Shell and access it,
>  example:
>  
>   C:\OSGeo4W> Python
>   >>> from osgeo import gdal
>   >>> gdal.VersionInfo()
>   '1520'
>   >>>
>  
>  Notice that OSGeo4W install its own Python 2.5 distribution. So if you
>  have a previous installation of Python 2.5, that is not going to access the
>  GDAL bindings.
>  
>  Regards,
>  
>  Ivan
>  
>  
>  Aleksey Naumov wrote:
>  
>  
>  Dear GDAL users,
>  
>  My apologies if this is a repeated question, I searched the mail acrhives
>  and found a few discussions on this subject, but no resolution, AFAIK. I
>  may have overlooked a good thread, would appreciate a link.
>  
>  My problem is being able to do scripting with GDAL using Python 2.5 (this
>  version is important because of integration/compatibility with a number of
>  other packages, mainly IPython), and I need to be able to do it on Windows.
>  I attempted a few approaches, but could not figure out how to get all the
>  pieces to work together:
>    - FWTools 2.4.5; however it comes with Python 2.3, an older version
>    - OSGEO4W
>       - Went through the Express setup and chose GDAL (+ GRASS,
>  QGIS).It installed Python 2.5.2; however on "import gdal" I get error "No
>  module named gdal".
>       - I looked through the Advanced setup and tried it a few times
>  with various options related to GDAL, however was not able to get it to
>  work. Are there specific options that should be enabled to make GDAL/Python
>  scripting possible in OSGEO4W?
>    - Tried to "easy_install gdal", this finds GDAL 1.6.1 and puts a
>  suitable *.egg into C:\Python25\Lib\site-packages. But when I try to
>  "import gdal" I get the error stating that gdal16.dll was not found.
>  
>  Is there a way to achieve this on Windows? Do I need to compile GDAL on
>  my windows box; if so, should I be using Cygwin or try to download MS VC++?
>  
>  Thank you
>  
>  Aleksey
>  
>  
>  ------------------------------------------------------------------------
>  
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: mailto:gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Wed Oct 21 13:56:31 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 21 13:56:53 2009
Subject: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <20091021174643.5981.qmail@s466.sureserver.com>
References: <20091021174643.5981.qmail@s466.sureserver.com>
Message-ID: <4ADF4B4F.6000607@pobox.com>

Ivan wrote:
> Aleksey,
> 
>>  Thank you, this works. I must have overlooked the gdal-python bindings
>>  package in the Advanced settings on my last try.
> 
> Welcome.
> 
>>  One thing I am currently missing in OSGeo4W GDAL is support for ECW and
>>  MrSID -- is it available? I've installed the gdal-ecw and gdal-mrsid
>>  packages, but it seems I am missing the DLLs. E.g. when I try "gdalinfo
>>  --formats" I get complaints:
>>  ERROR 1: Can't load requested DLL:
>>  C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_ECW_JP2ECW.dll
>>  126: The specified module could not be found.
>>  
>>  ERROR 1: Can't load requested DLL:
>>  C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_MrSID.dll
>>  126: The specified module could not be found.
>>  
>>  Have tried this with both gdal-* and gdal16-* packages. And remembered to
>>  run gdal16.bat to activate the GDAL 1.6 environment. However, can't get
>>  ECW and MrSID support.
>>  
>>  I suspect this is due to licensing issues. Do I need to install support
>>  for these formats separately?
> 
> Yes, you need to get the SDKs from Erdas and Lizartech.
> 
> See the GDAL supported format list for information: 
> 
> http://www.gdal.org/formats_list.html

Aleksey,

I would add that the OSGeo4W package pages for these packages have
additional details:

   http://trac.osgeo.org/osgeo4w/wiki/pkg-gdal-mrsid
   http://trac.osgeo.org/osgeo4w/wiki/pkg-gdal-ecw

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan.lucena at pmldnet.com  Wed Oct 21 14:01:06 2009
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan?=)
Date: Wed Oct 21 14:01:09 2009
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gQnVpbGRpbmcgZnJvbSB0aGUgdHJ1bmssIGVycm9yIHJlbGF0ZWQgdG8gV0tUUkFTVEVS?=
Message-ID: <20091021180107.11488.qmail@s466.sureserver.com>

D'accord. That driver should be optional.

>  -------Original Message-------
>  From: Even Rouault <even.rouault@mines-paris.org>
>  Subject: Re: [gdal-dev] Building from the trunk, error realted to WKTRASTER
>  Sent: Oct 21 '09 11:48
>  
>  Selon Ivan <ivan.lucena@pmldnet.com>:
>  
>  Yes, I had seen that too and fixed it a few days ago but forgot to commit it
>  apparently. Done in r17860 by testing the availability of PG headers.
>  
>  > I tried to build from GDAL trunk and got an dependency error on wktraster
>  > driver.
>  >
>  > After removing it from frmts/makefile.vc the build and install worked all
>  > right.
>  >
>  > --- makefile.vc	 (revision 17859)
>  > +++ makefile.vc	 (working copy)
>  > @@ -12,7 +12,7 @@
>  >??	 	 -DFRMT_jaxapalsar -DFRMT_ers -DFRMT_ingr -DFRMT_dimap \
>  >??	 	 -DFRMT_gff -DFRMT_terragen -DFRMT_gsg -DFRMT_cosar -DFRMT_pds \
>  >??	 	 -DFRMT_adrg -DFRMT_coasp -DFRMT_tsx -DFRMT_blx -DFRMT_til \
>  > -	 	 -DFRMT_r -DFRMT_wktraster
>  > +	 	 -DFRMT_r
>  >
>  > Regards.
>  > _______________________________________________
>  > gdal-dev mailing list
>  > gdal-dev@lists.osgeo.org
>  > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  >
>  
>  
>  
From ivan.lucena at pmldnet.com  Wed Oct 21 14:06:24 2009
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan?=)
Date: Wed Oct 21 14:06:27 2009
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gR0RBTCBzY3JpcHRpbmcgd2l0aCBQeXRob24gMi41IChvbiB3aW5kb3dzKQ==?=
Message-ID: <20091021180624.24912.qmail@s466.sureserver.com>

Frank,

By the way, about this bold text *This DSDK is not free software, you should contact LizardTech to obtain it (see 
link at end of this page).* on http://www.gdal.org/frmt_mrsid.html Is that current? I believe that LizardTech 
changed the terms of that DSDK license. Did they?

Regards,

Ivan


>  -------Original Message-------
>  From: Frank Warmerdam <warmerdam@pobox.com>
>  Subject: Re: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
>  Sent: Oct 21 '09 12:56
>  
>  Ivan wrote:
>  > Aleksey,
>  >
>  >>??Thank you, this works. I must have overlooked the gdal-python bindings
>  >>??package in the Advanced settings on my last try.
>  >
>  > Welcome.
>  >
>  >>??One thing I am currently missing in OSGeo4W GDAL is support for ECW and
>  >>??MrSID -- is it available? I've installed the gdal-ecw and gdal-mrsid
>  >>??packages, but it seems I am missing the DLLs. E.g. when I try "gdalinfo
>  >>??--formats" I get complaints:
>  >>??ERROR 1: Can't load requested DLL:
>  >>??C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_ECW_JP2ECW.dll
>  >>??126: The specified module could not be found.
>  >>??
>  >>??ERROR 1: Can't load requested DLL:
>  >>??C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_MrSID.dll
>  >>??126: The specified module could not be found.
>  >>??
>  >>??Have tried this with both gdal-* and gdal16-* packages. And remembered to
>  >>??run gdal16.bat to activate the GDAL 1.6 environment. However, can't get
>  >>??ECW and MrSID support.
>  >>??
>  >>??I suspect this is due to licensing issues. Do I need to install support
>  >>??for these formats separately?
>  >
>  > Yes, you need to get the SDKs from Erdas and Lizartech.
>  >
>  > See the GDAL supported format list for information:
>  >
>  > http://www.gdal.org/formats_list.html
>  
>  Aleksey,
>  
>  I would add that the OSGeo4W package pages for these packages have
>  additional details:
>  
>  ?? http://trac.osgeo.org/osgeo4w/wiki/pkg-gdal-mrsid
>  ?? http://trac.osgeo.org/osgeo4w/wiki/pkg-gdal-ecw
>  
>  Best regards,
>  --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush????| Geospatial Programmer for Rent
>  
>  
From warmerdam at pobox.com  Wed Oct 21 14:18:13 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 21 14:18:36 2009
Subject: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <20091021180624.24912.qmail@s466.sureserver.com>
References: <20091021180624.24912.qmail@s466.sureserver.com>
Message-ID: <4ADF5065.5000609@pobox.com>

Ivan wrote:
> Frank,
> 
> By the way, about this bold text *This DSDK is not free software, you should contact LizardTech to obtain it (see 
> link at end of this page).* on http://www.gdal.org/frmt_mrsid.html Is that current? I believe that LizardTech 
> changed the terms of that DSDK license. Did they?

Ivan,

It is still not free software (in the open source sense).  There has
been change to the license terms, and I'm more comfortable redistributing
it now (as is done for OSGeo4W now for instance), but the comment appears
to be still true.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From randre at gmail.com  Wed Oct 21 14:47:01 2009
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Wed Oct 21 14:47:03 2009
Subject: [gdal-dev] open source tool
In-Reply-To: <E1Mggz7-0002tG-00.mongoose_riki-mail-ru@f5.mail.ru>
References: <E1Mggz7-0002tG-00.mongoose_riki-mail-ru@f5.mail.ru>
Message-ID: <9c2015090910211147ye6b9439sdf84959f263ab6c0@mail.gmail.com>

This could be done with GRASS, I think.  First extract the LAS file
into an ASCII x,y,z file.  Then load into GRASS with r.in.xyz. Then
use one of the v.delaunay or v.voronoi GRASS modules.

Roger
--

2009/8/27 Riki Tiki <mongoose_riki@mail.ru>:
> hi,
>
> do you know any tools available for the conversion of LAS (LIDAR data) into Voronoi diagrams or TIN (triangular irregular networks)? thanks a lot!
>
> or anyone can suggest how to do it in arcgis for example?
>
> thanks
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From neteler at osgeo.org  Wed Oct 21 14:50:25 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Oct 21 14:50:48 2009
Subject: [gdal-dev] open source tool
In-Reply-To: <9c2015090910211147ye6b9439sdf84959f263ab6c0@mail.gmail.com>
References: <E1Mggz7-0002tG-00.mongoose_riki-mail-ru@f5.mail.ru> 
	<9c2015090910211147ye6b9439sdf84959f263ab6c0@mail.gmail.com>
Message-ID: <86782b610910211150v6fc4b291h4feec12e15ca87a@mail.gmail.com>

On Wed, Oct 21, 2009 at 8:47 PM, Roger Andr? <randre@gmail.com> wrote:
> This could be done with GRASS, I think. ?First extract the LAS file
> into an ASCII x,y,z file. ?Then load into GRASS with r.in.xyz. Then
> use one of the v.delaunay or v.voronoi GRASS modules.

Yes, see:
http://grass.osgeo.org/wiki/LIDAR

Markus
From yassefa at dmsolutions.ca  Wed Oct 21 15:30:26 2009
From: yassefa at dmsolutions.ca (Yewondwossen Assefa)
Date: Wed Oct 21 15:30:34 2009
Subject: [gdal-dev] Another Join issue with OGR/ODBC
In-Reply-To: <4ADF3AF0.3080404@pobox.com>
References: <4ADCF30E.8040103@dmsolutions.ca> <4ADF3AF0.3080404@pobox.com>
Message-ID: <4ADF6152.1000405@dmsolutions.ca>

Frank Warmerdam wrote:
> Yewondwossen Assefa wrote:
>> Hi all,
>>
>> I am into some issues when trying to do a  join using a shape file as 
>> a primary table and an ODBC (sql server 2005) connection as the 
>> secondary table.
>>
>> The issue has to do with the schema name.
>>
>> The following query (with a schema name: imsv7) works as expected:
>>  - ogrinfo ODBC:sa/ttt@my_db -sql "SELECT * FROM imsv7.COMPSMN WHERE 
>> COMPKEY=23533"
>>
>> This same query without a schema does not work  (which is what  I 
>> expected):
>>    - ogrinfo ODBC:sa/ttt@my_db -sql "SELECT * FROM COMPSMN WHERE 
>> COMPKEY=23533"
>>
>> My issue is that I need to give the schema name when doing a join but 
>> don't see how I can do that. Here is the  join statement:
>>
>>  - ogrinfo f:/msapps/ttt/sqlserver/Sewer_Manholes_20090818.shp -sql 
>> "SELECT *  FROM Sewer_Manholes_20090818 shp LEFT JOIN 
>> 'ODBC:sa/ttt@my_db'.COMPSMN ON shp.COMPKEY = COMPSMN.COMPKEY  where 
>> COMPKEY = 23533"
>
> Assefa,
>
> The core problem is that when you open the ODBC datasource directly,
> your SQL gets sent to SQLServer but when you open the shapefile, the
> SQL gets parsed and processed by OGR which knows nothing about schemas
> and can only operate on features from the joined datasource that appears
> as regular layers on it.
>
> So, when you do "ogrinfo ODBC:sa/tt@my_db" do you see a layer 
> corresponding
> to imsv7?  If not, you cannot join to it properly.
>
I do not see any thing refering to imsv7. I only see COMPSMN as part of 
the layer lists.
> It *might* be possible to include imsv7.compsmn as a table name in the
> ODBC datasource name.  Something like:
>
>   ODBC:sa/tt@my_db:imsv7.compsmn
>
> If this works this table should be translated into a layer you can join
> to.
>
 I have tried to add the schema and layer name but was not successful in 
getting a proper join.
> In theory you could also wrap the ODBC datasource in a VRT datasource
> using <SrcSQL> to ensure that the compsmn features end up as proper
> features in a proper layer but I'm generally nervous about adding
> this many layers of complexity, and it is essentially sure that if
> you do this the join performance will be terrible.
>
 I understand that:. I initially tested with vrt layer  but the join 
took extremely long time (3-4 minutes with ogrinfo, indexed on the join 
key) on about 3000 features in the shape and the 2700 in the database.

Thanks a lot for taking the time  to look into this.
> Best regards,


-- 
----------------------------------------------------------------
Assefa Yewondwossen           
Software Analyst   

Email: assefa@dmsolutions.ca    
http://www.dmsolutions.ca/

Phone: (613) 565-5056 (ext 14)
Fax:   (613) 565-0925
----------------------------------------------------------------


From ksshannon at gmail.com  Wed Oct 21 15:54:02 2009
From: ksshannon at gmail.com (Kyle Shannon)
Date: Wed Oct 21 15:54:25 2009
Subject: [gdal-dev] HFA CreateCopy() not setting no data value
Message-ID: <c28f2e140910211254k19685d16redd5fd4bc3f9fb18@mail.gmail.com>

Hello All,
I am using python bindings to read a srtm data and create new hfa files.  If
I do not explicitly set the no data value for the band, it is not copied
over to the new dataset.  I am getting .aux files with the NoDataValue tag,
but the value is not copied to the dataset itself.  I checked the code for
CreateCopy() and did not find any call to SetNoDataValue().  Is there some
reason why the HFA driver doesn't do this?

Regards,

# ===================
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)646-6577
kshannon@fs.fed.us
ksshannon@gmail.com
# ===================
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091021/75aed5df/attachment.html
From anaumov at gmail.com  Wed Oct 21 18:14:46 2009
From: anaumov at gmail.com (Aleksey Naumov)
Date: Wed Oct 21 18:14:49 2009
Subject: [gdal-dev] GDAL scripting with Python 2.5 (on windows)
In-Reply-To: <4ADF4B4F.6000607@pobox.com>
References: <20091021174643.5981.qmail@s466.sureserver.com>
	<4ADF4B4F.6000607@pobox.com>
Message-ID: <1fc68840910211514g2549528ei1ed74b3b952f0390@mail.gmail.com>

On Wed, Oct 21, 2009 at 1:56 PM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Ivan wrote:
>
>> Aleksey,
>>
>>   Thank you, this works. I must have overlooked the gdal-python bindings
>>>  package in the Advanced settings on my last try.
>>>
>>
>> Welcome.
>>
>>   One thing I am currently missing in OSGeo4W GDAL is support for ECW and
>>>  MrSID -- is it available? I've installed the gdal-ecw and gdal-mrsid
>>>  packages, but it seems I am missing the DLLs. E.g. when I try "gdalinfo
>>>  --formats" I get complaints:
>>>  ERROR 1: Can't load requested DLL:
>>>  C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_ECW_JP2ECW.dll
>>>  126: The specified module could not be found.
>>>   ERROR 1: Can't load requested DLL:
>>>  C:\OSGeo4W\apps\gdal-16\bin\gdalplugins\gdal_MrSID.dll
>>>  126: The specified module could not be found.
>>>   Have tried this with both gdal-* and gdal16-* packages. And remembered
>>> to
>>>  run gdal16.bat to activate the GDAL 1.6 environment. However, can't get
>>>  ECW and MrSID support.
>>>   I suspect this is due to licensing issues. Do I need to install support
>>>  for these formats separately?
>>>
>>
>> Yes, you need to get the SDKs from Erdas and Lizartech.
>>
>> See the GDAL supported format list for information:
>> http://www.gdal.org/formats_list.html
>>
>
>
Frank,

Thank you for these links, everything worked very well. It turns out all I
had to do for MrSID is reinstall gdal16-mrsid a few times, after that all
DLLs were found.
ECW also worked fine after downloading the SDK, as per instructions on
http://trac.osgeo.org/osgeo4w/wiki/pkg-gdal-ecw.

Overall, it is impressive how well OSGeo4W manages to package all these
software pieces...

Take care,
Aleksey

>
>
>
Aleksey,
>
> I would add that the OSGeo4W package pages for these packages have
> additional details:
>
>  http://trac.osgeo.org/osgeo4w/wiki/pkg-gdal-mrsid
>  http://trac.osgeo.org/osgeo4w/wiki/pkg-gdal-ecw
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091021/2469a6a1/attachment.html
From jorge.arevalo at gmail.com  Wed Oct 21 19:23:39 2009
From: jorge.arevalo at gmail.com (=?UTF-8?Q?Jorge_Ar=C3=A9valo?=)
Date: Wed Oct 21 19:24:02 2009
Subject: [gdal-dev] Building from the trunk, error related to WKTRASTER
In-Reply-To: <20091021180107.11488.qmail@s466.sureserver.com>
References: <20091021180107.11488.qmail@s466.sureserver.com>
Message-ID: <cb4457700910211623j7ff0e570rd62465113bb7d04a@mail.gmail.com>

Oh, sorry for this. My fault.

On Wed, Oct 21, 2009 at 8:01 PM, Ivan <ivan.lucena@pmldnet.com> wrote:
> D'accord. That driver should be optional.
>
>> ?-------Original Message-------
>> ?From: Even Rouault <even.rouault@mines-paris.org>
>> ?Subject: Re: [gdal-dev] Building from the trunk, error realted to WKTRASTER
>> ?Sent: Oct 21 '09 11:48
>>
>> ?Selon Ivan <ivan.lucena@pmldnet.com>:
>>
>> ?Yes, I had seen that too and fixed it a few days ago but forgot to commit it
>> ?apparently. Done in r17860 by testing the availability of PG headers.
>>
>> ?> I tried to build from GDAL trunk and got an dependency error on wktraster
>> ?> driver.
>> ?>
>> ?> After removing it from frmts/makefile.vc the build and install worked all
>> ?> right.
>> ?>
>> ?> --- makefile.vc ? ? (revision 17859)
>> ?> +++ makefile.vc ? ? (working copy)
>> ?> @@ -12,7 +12,7 @@
>> ?>?? ? ? ? ? ? -DFRMT_jaxapalsar -DFRMT_ers -DFRMT_ingr -DFRMT_dimap \
>> ?>?? ? ? ? ? ? -DFRMT_gff -DFRMT_terragen -DFRMT_gsg -DFRMT_cosar -DFRMT_pds \
>> ?>?? ? ? ? ? ? -DFRMT_adrg -DFRMT_coasp -DFRMT_tsx -DFRMT_blx -DFRMT_til \
>> ?> - ? ? ? ? ? -DFRMT_r -DFRMT_wktraster
>> ?> + ? ? ? ? ? -DFRMT_r
>> ?>
>> ?> Regards.
>> ?> _______________________________________________
>> ?> gdal-dev mailing list
>> ?> gdal-dev@lists.osgeo.org
>> ?> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> ?>
>>
>>
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Thu Oct 22 01:06:11 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 22 01:06:14 2009
Subject: [gdal-dev] OGR ODBC Driver and Default Enumeration
Message-ID: <4ADFE843.6070603@pobox.com>

Folks,

This evening I have done some long outstanding work on the OGR ODBC driver
to support tables within schemas reasonable.

   http://trac.osgeo.org/gdal/ticket/1969

Previously the default behavior of the driver was to treat all tables and
views in the ODBC datasource as layers.  For heavy duty RDBMSes like Oracle,
SQL Server this included all the system tables though due to the lack of
proper schema handling the system table "layers" were not actually readable
as normal layers.  That is now fixed.

Enumerating all tables and views as layers can be quite expensive at runtime
- it just takes several seconds to query all the field information for all
these tables and turn it into OGRLayer objects.  In the past my advice to
people has been to list only the tables they need in the OGR datasource
name they connect with.

eg.
ODBC:MyDB,table1,table

This ensures that only the listed tables are queried for details and
speeds things up substantially.  However, I am now wondering if it would
be better to only enumerate tables in the empty/default schema by
default if no table list is provided in the datasource string.  This would
dramatically speed up the connection speed for Oracle, SQL Server, etc,
and also keep huge numbers of useless layers out of people faces in GUI
apps like QGIS.  The main downside is that it would be substantially harder
to find out about potentially useful system tables via the OGR API though
they could still be accessed by listing them in the table list, or
pass through SQL queries.

Does anyone have any opinion on this?  Feel free to reply here, drop me a
note, or add a note to the ticket.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From frankie at debian.org  Thu Oct 22 08:34:25 2009
From: frankie at debian.org (Francesco Paolo Lovergine)
Date: Thu Oct 22 08:34:31 2009
Subject: [Gdal-dev] gdal-1.6.2 compile fail (mpi.h)
In-Reply-To: <1256133173074-3865413.post@n2.nabble.com>
References: <1256133173074-3865413.post@n2.nabble.com>
Message-ID: <20091022123425.GA29938@mithrandir>

On Wed, Oct 21, 2009 at 06:52:53AM -0700, alfreale wrote:
> 
> Hi,
> 
> I try to compile gdal with hdf5 support, but the compile fail:
> 
> 
> In file included from /usr/include/hdf5.h:24,
>                  from hdf5dataset.cpp:34:
> /usr/include/H5public.h:57:20: error: mpi.h: No such file or directory

That's because you also need to install your MPI implementation 
development stuff (headers specifically).

-- 
Francesco P. Lovergine
From gispowerfan at gmail.com  Thu Oct 22 09:11:12 2009
From: gispowerfan at gmail.com (gispowerfan)
Date: Thu Oct 22 09:11:13 2009
Subject: [gdal-dev] arcsde driver question?
Message-ID: <200910222110590939789@gmail.com>

hi,

        I try to use nmake to compile the gdal source code to support ArcSDE, After I set 

SDE_ENABLED=YES
SDE_VERSION=93
#SDE_PLUGIN=YES
SDE_SDK=D:\ArcGIS\arcsde
SDE_INC=$(SDE_SDK)\include 
SDE_LIB=$(SDE_SDK)\lib\pe.lib \
        $(SDE_SDK)\lib\sde.lib $(SDE_SDK)\lib\sg.lib 

in nmake.opt file, I use gdalinfo in apps directory to display the meta info of ArcSDE RASTER, 
but gdalinfo cann't recognize the "sde:machine,xxx,xx...." string.And I try to build a new project ,
 which contains gdalinfo.c only, and link the above gdal_i.lib, gdal_16.dll, gdalinfo can read the 
meta info from ArcSDE raster, I does work. I wonder that how to build the source code to make 
the gdalinfo to support ArcSDE raster?

PS, I try the method of  Plugin building example in http://trac.osgeo.org/gdal/wiki/BuildingOnWindows .

thanks in advance,

gispowerfan

2009-10-22 



gispowerfan 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091022/534be00f/attachment.html
From randyqiuxy at hotmail.com  Thu Oct 22 11:24:24 2009
From: randyqiuxy at hotmail.com (Randy)
Date: Thu Oct 22 11:24:14 2009
Subject: =?utf-8?Q?=E7=AD=94=E5=A4=8D:_=5Bgdal-dev=5D_charge_for_IHO_EC?=
	=?utf-8?Q?DIS_Presentation_Library=28digital?=
	=?utf-8?Q?_version=2C_a_CD-ROM=29?=
In-Reply-To: <906787.28644.qm@web110813.mail.gq1.yahoo.com>
References: <BAY123-DS50A37A05D114806BF6B45C3C20@phx.gbl>
	<906787.28644.qm@web110813.mail.gq1.yahoo.com>
Message-ID: <BAY123-DS7A5F13BFB9F5C1FCF4702C3BE0@phx.gbl>

Hi Sylvain and list,
Thanks for your reply. Two questions.
1. However, I don?t understand you very well. Exactly, what's mean by "contrib "( Try in OpenEV/contrib CVS). Yes, I have download the OpenEv source code by SVN on SourceForge website. Then how should I join this project or what should I do next step? I guess this question sounds a little foolish, but please answer it since I have never done anything about open source code project before.
2. This is an old question: should I charge for IHO ECDIS Presentation Library(including that CD-Rom)? If so, how should I contact with them? I have sent email to them by "contact form" on that official website " http://www.iho-ohi.net/english/home/ ".
Thanks a lot again in advance!
Best regards,
Randy
-----????-----
???: s duclos [mailto:sylvain_duclos@yahoo.com] 
????: 2009?10?20? 0:23
???: Randy
??: Re: [gdal-dev] charge for IHO ECDIS Presentation Library(digital version, a CD-ROM)

Hi Randy,

Try in OpenEV/contrib CVS. This could get you started.

The idea was to code a plugin for OpenEV. OpenEV does the rendering.
GDAL load the data and OpenEV render it.

If you want to build it try the glx target first.



rgds,

Sylvain.

--- On Sun, 10/18/09, Randy <randyqiuxy@hotmail.com> wrote:

> From: Randy <randyqiuxy@hotmail.com>
> Subject: [gdal-dev] charge for IHO ECDIS Presentation Library(digital version, a CD-ROM)
> To: "GDAL/OGR mailing list " <gdal-dev@lists.osgeo.org>
> Received: Sunday, October 18, 2009, 10:22 AM
> 
> 
> 
>  
>  
> 
> 
> 
> 
> 
> 
>  
> 
> 
> 
> Hi list,
> 
> 
> Exactly, this
> question should not be here
> since it isn?t about the GDAL/OGR. However, I know there
> are people here who
> has made displaying ENCs. And my question is: Is it
> necessary for me to charge
> for a IHO ECDIS Presentation Library CD-ROM?  
> 
> I mean there are
> something like look-up
> tables?CIE2RGB
> procedure, etc. which are necessary for displaying ENCs,
> and anything else
> which can replace the CD-ROM? If not, how can I buy it and
> who I should contact
> with? 
> 
> Thanks a lot for
> your suggestion! 
> 
> Best
> regards, 
> 
> Randy 
> 
> 
> 
>  
> 
> 
> 
> -----Inline Attachment Follows-----
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


      __________________________________________________________________
Looking for the perfect gift? Give the gift of Flickr! 

http://www.flickr.com/gift/

From anaumov at gmail.com  Thu Oct 22 11:39:58 2009
From: anaumov at gmail.com (Aleksey Naumov)
Date: Thu Oct 22 11:40:01 2009
Subject: [gdal-dev] GeoTiff - image coordinates and world file
Message-ID: <1fc68840910220839w5c5525c1t1be27468f8b3e526@mail.gmail.com>

HI all,

I am trying to understand how coordinate information is stored in a GeoTiff
file, specifically the origin (UL corner) of the image. I have a few images
which clearly have wrong origins, so they do not display correctly. Both
ArcGIS and GDAL report incorrect origins.

Initially I thought that the world files for the images were at fault,
however, they look totally fine. Here is an example -- notice really large
X-coord of origin as reported by gdalinfo:
> gdalinfo 1km177310505102008GROUPEALTA.tif
Driver: GTiff/GeoTIFF
Files: 1km177310505102008GROUPEALTA.tif
       1km177310505102008GROUPEALTA.tfw
Size is 5000, 5000
Coordinate System is:
PROJCS["UTM Zone 17N",
    GEOGCS["NAD83_CSRS_1",
        DATUM["NAD83_CSRS_1",
            SPHEROID["GRS 1980",6378137,298.2572220960423]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-81],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (5051999.800000000700000,5052000.000000000000000)
Pixel Size = (0.200000000000000,-0.200000000000000)
Metadata:
  TIFFTAG_SOFTWARE=Adobe Photoshop CS2 Windows
  TIFFTAG_DATETIME=2008:12:30 16:08:24
  TIFFTAG_XRESOLUTION=72
  TIFFTAG_YRESOLUTION=72
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( 5051999.800, 5052000.000) ( 34d52'42.64"W, 34d45'16.48"N)
Lower Left  ( 5051999.800, 5051000.000) ( 34d52'48.38"W, 34d44'52.51"N)
Upper Right ( 5052999.800, 5052000.000) ( 34d52'28.05"W, 34d45'5.78"N)
Lower Right ( 5052999.800, 5051000.000) ( 34d52'33.77"W, 34d44'41.81"N)
Center      ( 5052499.800, 5051500.000) ( 34d52'38.21"W, 34d44'59.14"N)
Band 1 Block=5000x1 Type=Byte, ColorInterp=Red
Band 2 Block=5000x1 Type=Byte, ColorInterp=Green
Band 3 Block=5000x1 Type=Byte, ColorInterp=Blue

The world file looks fine to me, and it has correct origin info (X-coord):
> type 1km177310505102008GROUPEALTA.tfw
0.200000
0.000000
0.000000
-0.200000
731000.100000
5051999.900000

Even if I rename the TFW file, gdalinfo still reports the same incorrect
origin, so it must be stored in a GeoTiff tag, I guess? If so, how do I
override and correct this info on an image? Also, does a world file not have
a higher priority than a built-in tag value?

Thank you,
Aleksey
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091022/735ea5dc/attachment.html
From harsh.govind at spadac.com  Thu Oct 22 13:11:07 2009
From: harsh.govind at spadac.com (Harsh Govind)
Date: Thu Oct 22 13:12:16 2009
Subject: FW: [gdal-dev] ArcSDE driver question?
Message-ID: <4B3B3C35D34C9345BC8914C199882E2817EA884061@SPATCEX003.spadac.com>

Make sure D:\ArcGIS\arcsde\bin is in your path. The SDE driver uses the ESRI ArcSDE C API to perform SDE operations.
Regards,
HG
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of gispowerfan
Sent: Thursday, October 22, 2009 9:11 AM
To: gdal-dev
Subject: [gdal-dev] arcsde driver question?

hi,

        I try to use nmake to compile the gdal source code to support ArcSDE, After I set

SDE_ENABLED=YES
SDE_VERSION=93
#SDE_PLUGIN=YES
SDE_SDK=D:\ArcGIS\arcsde
SDE_INC=$(SDE_SDK)\include
SDE_LIB=$(SDE_SDK)\lib\pe.lib \
        $(SDE_SDK)\lib\sde.lib $(SDE_SDK)\lib\sg.lib

in nmake.opt file, I use gdalinfo in apps directory to display the meta info of ArcSDE RASTER,
but gdalinfo cann't recognize the "sde:machine,xxx,xx...." string.And I try to build a new project ,
 which contains gdalinfo.c only, and link the above gdal_i.lib, gdal_16.dll, gdalinfo can read the
meta info from ArcSDE raster, I does work. I wonder that how to build the source code to make
the gdalinfo to support ArcSDE raster?

PS, I try the method of  Plugin building example in http://trac.osgeo.org/gdal/wiki/BuildingOnWindows .

thanks in advance,

gispowerfan

2009-10-22
________________________________
gispowerfan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091022/7ee58f75/attachment.html
From even.rouault at mines-paris.org  Thu Oct 22 14:02:43 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct 22 14:02:47 2009
Subject: [gdal-dev] GeoTiff - image coordinates and world file
In-Reply-To: <1fc68840910220839w5c5525c1t1be27468f8b3e526@mail.gmail.com>
References: <1fc68840910220839w5c5525c1t1be27468f8b3e526@mail.gmail.com>
Message-ID: <1256234563.4ae09e43eb050@imp.free.fr>

Selon Aleksey Naumov <anaumov@gmail.com>:

GDAL GeoTIFF driver always use the GeoTIFF tag when it is found. Worldfiles are
only used when no GeoTIFF tag exists.

One way of achieving what you want to do is to produce a clone of your original
GeoTIFF without the geotiff tag by using the PROFILE=BASELINE creation option.

For example :
gdal_translate 1km177310505102008GROUPEALTA.tif
1km177310505102008GROUPEALTA_nogeotifftag.tif -co PROFILE=BASELINE

and then rename your worldfile to 1km177310505102008GROUPEALTA_nogeotifftag.wld

> HI all,
>
> I am trying to understand how coordinate information is stored in a GeoTiff
> file, specifically the origin (UL corner) of the image. I have a few images
> which clearly have wrong origins, so they do not display correctly. Both
> ArcGIS and GDAL report incorrect origins.
>
> Initially I thought that the world files for the images were at fault,
> however, they look totally fine. Here is an example -- notice really large
> X-coord of origin as reported by gdalinfo:
> > gdalinfo 1km177310505102008GROUPEALTA.tif
> Driver: GTiff/GeoTIFF
> Files: 1km177310505102008GROUPEALTA.tif
>        1km177310505102008GROUPEALTA.tfw
> Size is 5000, 5000
> Coordinate System is:
> PROJCS["UTM Zone 17N",
>     GEOGCS["NAD83_CSRS_1",
>         DATUM["NAD83_CSRS_1",
>             SPHEROID["GRS 1980",6378137,298.2572220960423]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["latitude_of_origin",0],
>     PARAMETER["central_meridian",-81],
>     PARAMETER["scale_factor",0.9996],
>     PARAMETER["false_easting",500000],
>     PARAMETER["false_northing",0],
>     UNIT["metre",1,
>         AUTHORITY["EPSG","9001"]]]
> Origin = (5051999.800000000700000,5052000.000000000000000)
> Pixel Size = (0.200000000000000,-0.200000000000000)
> Metadata:
>   TIFFTAG_SOFTWARE=Adobe Photoshop CS2 Windows
>   TIFFTAG_DATETIME=2008:12:30 16:08:24
>   TIFFTAG_XRESOLUTION=72
>   TIFFTAG_YRESOLUTION=72
>   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
>   AREA_OR_POINT=Area
> Image Structure Metadata:
>   INTERLEAVE=PIXEL
> Corner Coordinates:
> Upper Left  ( 5051999.800, 5052000.000) ( 34d52'42.64"W, 34d45'16.48"N)
> Lower Left  ( 5051999.800, 5051000.000) ( 34d52'48.38"W, 34d44'52.51"N)
> Upper Right ( 5052999.800, 5052000.000) ( 34d52'28.05"W, 34d45'5.78"N)
> Lower Right ( 5052999.800, 5051000.000) ( 34d52'33.77"W, 34d44'41.81"N)
> Center      ( 5052499.800, 5051500.000) ( 34d52'38.21"W, 34d44'59.14"N)
> Band 1 Block=5000x1 Type=Byte, ColorInterp=Red
> Band 2 Block=5000x1 Type=Byte, ColorInterp=Green
> Band 3 Block=5000x1 Type=Byte, ColorInterp=Blue
>
> The world file looks fine to me, and it has correct origin info (X-coord):
> > type 1km177310505102008GROUPEALTA.tfw
> 0.200000
> 0.000000
> 0.000000
> -0.200000
> 731000.100000
> 5051999.900000
>
> Even if I rename the TFW file, gdalinfo still reports the same incorrect
> origin, so it must be stored in a GeoTiff tag, I guess? If so, how do I
> override and correct this info on an image? Also, does a world file not have
> a higher priority than a built-in tag value?
>
> Thank you,
> Aleksey
>


From anaumov at gmail.com  Thu Oct 22 14:56:29 2009
From: anaumov at gmail.com (Aleksey Naumov)
Date: Thu Oct 22 14:56:31 2009
Subject: [gdal-dev] GeoTiff - image coordinates and world file
In-Reply-To: <1256234563.4ae09e43eb050@imp.free.fr>
References: <1fc68840910220839w5c5525c1t1be27468f8b3e526@mail.gmail.com>
	<1256234563.4ae09e43eb050@imp.free.fr>
Message-ID: <1fc68840910221156k451834faq34de7a151d254e26@mail.gmail.com>

Even,

Thank you for explaining about tags in GeoTiff, I did not realize that have
priority over the world file. Your solution of using PROFILE=BASELINE works,
however it also truncates some useful tags, such as the coordinate system. I
could put the coordinate system back with -a_srs, but is there a way to
selectively delete certain tags froma GeoTiff (I suppose while re-creating
it, not in-place)?

Or, is there a way to at least see the tags? Looked briefly at "tiffinfo"
and noticed output "Tag 33922:
0.000000,0.000000,0.000000,5051999.800000,5052000.000000,0.000000" which
looks to me like it's citing the origin coordinates. However, did not
investigate further so far...

Best regards,
Aleksey

On Thu, Oct 22, 2009 at 2:02 PM, Even Rouault
<even.rouault@mines-paris.org>wrote:

> Selon Aleksey Naumov <anaumov@gmail.com>:
>
> GDAL GeoTIFF driver always use the GeoTIFF tag when it is found. Worldfiles
> are
> only used when no GeoTIFF tag exists.
>
> One way of achieving what you want to do is to produce a clone of your
> original
> GeoTIFF without the geotiff tag by using the PROFILE=BASELINE creation
> option.
>
> For example :
> gdal_translate 1km177310505102008GROUPEALTA.tif
> 1km177310505102008GROUPEALTA_nogeotifftag.tif -co PROFILE=BASELINE
>
> and then rename your worldfile to
> 1km177310505102008GROUPEALTA_nogeotifftag.wld
>
> > HI all,
> >
> > I am trying to understand how coordinate information is stored in a
> GeoTiff
> > file, specifically the origin (UL corner) of the image. I have a few
> images
> > which clearly have wrong origins, so they do not display correctly. Both
> > ArcGIS and GDAL report incorrect origins.
> >
> > Initially I thought that the world files for the images were at fault,
> > however, they look totally fine. Here is an example -- notice really
> large
> > X-coord of origin as reported by gdalinfo:
> > > gdalinfo 1km177310505102008GROUPEALTA.tif
> > Driver: GTiff/GeoTIFF
> > Files: 1km177310505102008GROUPEALTA.tif
> >        1km177310505102008GROUPEALTA.tfw
> > Size is 5000, 5000
> > Coordinate System is:
> > PROJCS["UTM Zone 17N",
> >     GEOGCS["NAD83_CSRS_1",
> >         DATUM["NAD83_CSRS_1",
> >             SPHEROID["GRS 1980",6378137,298.2572220960423]],
> >         PRIMEM["Greenwich",0],
> >         UNIT["degree",0.0174532925199433]],
> >     PROJECTION["Transverse_Mercator"],
> >     PARAMETER["latitude_of_origin",0],
> >     PARAMETER["central_meridian",-81],
> >     PARAMETER["scale_factor",0.9996],
> >     PARAMETER["false_easting",500000],
> >     PARAMETER["false_northing",0],
> >     UNIT["metre",1,
> >         AUTHORITY["EPSG","9001"]]]
> > Origin = (5051999.800000000700000,5052000.000000000000000)
> > Pixel Size = (0.200000000000000,-0.200000000000000)
> > Metadata:
> >   TIFFTAG_SOFTWARE=Adobe Photoshop CS2 Windows
> >   TIFFTAG_DATETIME=2008:12:30 16:08:24
> >   TIFFTAG_XRESOLUTION=72
> >   TIFFTAG_YRESOLUTION=72
> >   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
> >   AREA_OR_POINT=Area
> > Image Structure Metadata:
> >   INTERLEAVE=PIXEL
> > Corner Coordinates:
> > Upper Left  ( 5051999.800, 5052000.000) ( 34d52'42.64"W, 34d45'16.48"N)
> > Lower Left  ( 5051999.800, 5051000.000) ( 34d52'48.38"W, 34d44'52.51"N)
> > Upper Right ( 5052999.800, 5052000.000) ( 34d52'28.05"W, 34d45'5.78"N)
> > Lower Right ( 5052999.800, 5051000.000) ( 34d52'33.77"W, 34d44'41.81"N)
> > Center      ( 5052499.800, 5051500.000) ( 34d52'38.21"W, 34d44'59.14"N)
> > Band 1 Block=5000x1 Type=Byte, ColorInterp=Red
> > Band 2 Block=5000x1 Type=Byte, ColorInterp=Green
> > Band 3 Block=5000x1 Type=Byte, ColorInterp=Blue
> >
> > The world file looks fine to me, and it has correct origin info
> (X-coord):
> > > type 1km177310505102008GROUPEALTA.tfw
> > 0.200000
> > 0.000000
> > 0.000000
> > -0.200000
> > 731000.100000
> > 5051999.900000
> >
> > Even if I rename the TFW file, gdalinfo still reports the same incorrect
> > origin, so it must be stored in a GeoTiff tag, I guess? If so, how do I
> > override and correct this info on an image? Also, does a world file not
> have
> > a higher priority than a built-in tag value?
> >
> > Thank you,
> > Aleksey
> >
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091022/cf2701dd/attachment.html
From even.rouault at mines-paris.org  Thu Oct 22 15:03:47 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct 22 15:03:51 2009
Subject: [gdal-dev] GeoTiff - image coordinates and world file
In-Reply-To: <1fc68840910221156k451834faq34de7a151d254e26@mail.gmail.com>
References: <1fc68840910220839w5c5525c1t1be27468f8b3e526@mail.gmail.com>
	<1256234563.4ae09e43eb050@imp.free.fr>
	<1fc68840910221156k451834faq34de7a151d254e26@mail.gmail.com>
Message-ID: <1256238227.4ae0ac93f36d8@imp.free.fr>

Selon Aleksey Naumov <anaumov@gmail.com>:

With GDALSetGeoTransform() API, you can also modify in-place the geotransform
matrix of an existing geotiff. The geotransform can be obtained from the world
file with GDALLoadWorldFile() for example.

> Even,
>
> Thank you for explaining about tags in GeoTiff, I did not realize that have
> priority over the world file. Your solution of using PROFILE=BASELINE works,
> however it also truncates some useful tags, such as the coordinate system. I
> could put the coordinate system back with -a_srs, but is there a way to
> selectively delete certain tags froma GeoTiff (I suppose while re-creating
> it, not in-place)?
>
> Or, is there a way to at least see the tags? Looked briefly at "tiffinfo"
> and noticed output "Tag 33922:
> 0.000000,0.000000,0.000000,5051999.800000,5052000.000000,0.000000" which
> looks to me like it's citing the origin coordinates. However, did not
> investigate further so far...
>
> Best regards,
> Aleksey
>
> On Thu, Oct 22, 2009 at 2:02 PM, Even Rouault
> <even.rouault@mines-paris.org>wrote:
>
> > Selon Aleksey Naumov <anaumov@gmail.com>:
> >
> > GDAL GeoTIFF driver always use the GeoTIFF tag when it is found. Worldfiles
> > are
> > only used when no GeoTIFF tag exists.
> >
> > One way of achieving what you want to do is to produce a clone of your
> > original
> > GeoTIFF without the geotiff tag by using the PROFILE=BASELINE creation
> > option.
> >
> > For example :
> > gdal_translate 1km177310505102008GROUPEALTA.tif
> > 1km177310505102008GROUPEALTA_nogeotifftag.tif -co PROFILE=BASELINE
> >
> > and then rename your worldfile to
> > 1km177310505102008GROUPEALTA_nogeotifftag.wld
> >
> > > HI all,
> > >
> > > I am trying to understand how coordinate information is stored in a
> > GeoTiff
> > > file, specifically the origin (UL corner) of the image. I have a few
> > images
> > > which clearly have wrong origins, so they do not display correctly. Both
> > > ArcGIS and GDAL report incorrect origins.
> > >
> > > Initially I thought that the world files for the images were at fault,
> > > however, they look totally fine. Here is an example -- notice really
> > large
> > > X-coord of origin as reported by gdalinfo:
> > > > gdalinfo 1km177310505102008GROUPEALTA.tif
> > > Driver: GTiff/GeoTIFF
> > > Files: 1km177310505102008GROUPEALTA.tif
> > >        1km177310505102008GROUPEALTA.tfw
> > > Size is 5000, 5000
> > > Coordinate System is:
> > > PROJCS["UTM Zone 17N",
> > >     GEOGCS["NAD83_CSRS_1",
> > >         DATUM["NAD83_CSRS_1",
> > >             SPHEROID["GRS 1980",6378137,298.2572220960423]],
> > >         PRIMEM["Greenwich",0],
> > >         UNIT["degree",0.0174532925199433]],
> > >     PROJECTION["Transverse_Mercator"],
> > >     PARAMETER["latitude_of_origin",0],
> > >     PARAMETER["central_meridian",-81],
> > >     PARAMETER["scale_factor",0.9996],
> > >     PARAMETER["false_easting",500000],
> > >     PARAMETER["false_northing",0],
> > >     UNIT["metre",1,
> > >         AUTHORITY["EPSG","9001"]]]
> > > Origin = (5051999.800000000700000,5052000.000000000000000)
> > > Pixel Size = (0.200000000000000,-0.200000000000000)
> > > Metadata:
> > >   TIFFTAG_SOFTWARE=Adobe Photoshop CS2 Windows
> > >   TIFFTAG_DATETIME=2008:12:30 16:08:24
> > >   TIFFTAG_XRESOLUTION=72
> > >   TIFFTAG_YRESOLUTION=72
> > >   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
> > >   AREA_OR_POINT=Area
> > > Image Structure Metadata:
> > >   INTERLEAVE=PIXEL
> > > Corner Coordinates:
> > > Upper Left  ( 5051999.800, 5052000.000) ( 34d52'42.64"W, 34d45'16.48"N)
> > > Lower Left  ( 5051999.800, 5051000.000) ( 34d52'48.38"W, 34d44'52.51"N)
> > > Upper Right ( 5052999.800, 5052000.000) ( 34d52'28.05"W, 34d45'5.78"N)
> > > Lower Right ( 5052999.800, 5051000.000) ( 34d52'33.77"W, 34d44'41.81"N)
> > > Center      ( 5052499.800, 5051500.000) ( 34d52'38.21"W, 34d44'59.14"N)
> > > Band 1 Block=5000x1 Type=Byte, ColorInterp=Red
> > > Band 2 Block=5000x1 Type=Byte, ColorInterp=Green
> > > Band 3 Block=5000x1 Type=Byte, ColorInterp=Blue
> > >
> > > The world file looks fine to me, and it has correct origin info
> > (X-coord):
> > > > type 1km177310505102008GROUPEALTA.tfw
> > > 0.200000
> > > 0.000000
> > > 0.000000
> > > -0.200000
> > > 731000.100000
> > > 5051999.900000
> > >
> > > Even if I rename the TFW file, gdalinfo still reports the same incorrect
> > > origin, so it must be stored in a GeoTiff tag, I guess? If so, how do I
> > > override and correct this info on an image? Also, does a world file not
> > have
> > > a higher priority than a built-in tag value?
> > >
> > > Thank you,
> > > Aleksey
> > >
> >
> >
> >
>


From simon at spatialdbadvisor.com  Thu Oct 22 22:27:01 2009
From: simon at spatialdbadvisor.com (Simon Greener)
Date: Thu Oct 22 22:27:11 2009
Subject: [gdal-dev] OGR ODBC Driver and Default Enumeration
In-Reply-To: <4ADFE843.6070603@pobox.com>
References: <4ADFE843.6070603@pobox.com>
Message-ID: <op.u18efbf2zbn0g9@spdba>

Frank,

What sort of SQL are you using when you query Oracle and SQL Server?

What role does the INFORMATION_SCHEMA play in you changed ODBC driver? I noticed that, with the current version if I created an INFORMATION_SCHEMA and the appropriate views, ogrinfo started to work.

With Oracle, if you use the DBA_* views (eg DBA_OBJECTS) you will see tables in schemas that you may not actually have permission to read/update.
ALL_* (eg ALL_OBJECTS) will show you those the connecting user can see (eg SELECT) but may not  be able to update.

My point is this: you should really only show the tables that the connecting user can actually read/update. No point in being able to see all sorts of other table/columns if you can't actually use them.

regards
Simon

On Thu, 22 Oct 2009 16:06:11 +1100, Frank Warmerdam <warmerdam@pobox.com> wrote:

> Folks,
>
> This evening I have done some long outstanding work on the OGR ODBC driver
> to support tables within schemas reasonable.
>
>    http://trac.osgeo.org/gdal/ticket/1969
>
> Previously the default behavior of the driver was to treat all tables and
> views in the ODBC datasource as layers.  For heavy duty RDBMSes like Oracle,
> SQL Server this included all the system tables though due to the lack of
> proper schema handling the system table "layers" were not actually readable
> as normal layers.  That is now fixed.
>
> Enumerating all tables and views as layers can be quite expensive at runtime
> - it just takes several seconds to query all the field information for all
> these tables and turn it into OGRLayer objects.  In the past my advice to
> people has been to list only the tables they need in the OGR datasource
> name they connect with.
>
> eg.
> ODBC:MyDB,table1,table
>
> This ensures that only the listed tables are queried for details and
> speeds things up substantially.  However, I am now wondering if it would
> be better to only enumerate tables in the empty/default schema by
> default if no table list is provided in the datasource string.  This would
> dramatically speed up the connection speed for Oracle, SQL Server, etc,
> and also keep huge numbers of useless layers out of people faces in GUI
> apps like QGIS.  The main downside is that it would be substantially harder
> to find out about potentially useful system tables via the OGR API though
> they could still be accessed by listing them in the table list, or
> pass through SQL queries.
>
> Does anyone have any opinion on this?  Feel free to reply here, drop me a
> note, or add a note to the ticket.
>
> Best regards,


-- 
SpatialDB Advice and Design, Solutions Architecture and Programming,
Oracle Database 10g Administrator Certified Associate; Oracle Database 10g SQL Certified Professional
Oracle Spatial, SQL Server, PostGIS, MySQL, ArcSDE, Manifold GIS, FME, Radius Topology and Studio Specialist.
39 Cliff View Drive, Allens Rivulet, 7150, Tasmania, Australia.
Website: www.spatialdbadvisor.com
   Email: simon@spatialdbadvisor.com
   Voice: +61 362 396397
Mobile: +61 418 396391
Skype: sggreener
Longitude: 147.20515 (147? 12' 18" E)
Latitude: -43.01530 (43? 00' 55" S)
GeoHash: r22em9r98wg
NAC:W80CK 7SWP3
From harsh.govind at spadac.com  Thu Oct 22 23:20:04 2009
From: harsh.govind at spadac.com (Harsh Govind)
Date: Thu Oct 22 23:20:48 2009
Subject: FW: RE: [gdal-dev] ArcSDE driver question?
In-Reply-To: <200910231013426250368@gmail.com>
References: <200910222110590939789@gmail.com>,
	<4B3B3C35D34C9345BC8914C199882E2817EA884054@SPATCEX003.spadac.com>,
	<200910231013426250368@gmail.com>
Message-ID: <4B3B3C35D34C9345BC8914C199882E2817EA8B7238@SPATCEX003.spadac.com>

RllJDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQpGcm9tOiBnaXNw
b3dlcmZhbiBbZ2lzcG93ZXJmYW5AZ21haWwuY29tXQ0KU2VudDogVGh1cnNkYXksIE9jdG9iZXIg
MjIsIDIwMDkgMTA6MTMgUE0NClRvOiBIYXJzaCBHb3ZpbmQNCkNjOiBnZGFsLWRldi1ib3VuY2Vz
DQpTdWJqZWN0OiBSZTogUkU6IFtnZGFsLWRldl0gQXJjU0RFIGRyaXZlciBxdWVzdGlvbj8NCg0K
dGhhbmsgeW91IHZlcnkgbXVjaCEgSSBkb2VzIHdvcmshDQoNCg0KMjAwOS0xMC0yMw0KX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18NCmdpc3Bvd2VyZmFuDQpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXw0Kt6K8/sjLo7ogSGFyc2ggR292aW5kDQq3osvNyrG85KO6IDIwMDkt
MTAtMjMgIDAxOjAwOjM1DQrK1bz+yMujuiBnaXNwb3dlcmZhbg0Ks63LzaO6IGdkYWwtZGV2LWJv
dW5jZXNAbGlzdHMub3NnZW8ub3JnDQrW98zio7ogUkU6IFtnZGFsLWRldl0gQXJjU0RFIGRyaXZl
ciBxdWVzdGlvbj8NCk1ha2Ugc3VyZSBEOlxBcmNHSVNcYXJjc2RlXGJpbiBpcyBpbiB5b3VyIHBh
dGguIFRoZSBTREUgZHJpdmVyIHVzZXMgdGhlIEVTUkkgQXJjU0RFIEMgQVBJIHRvIHBlcmZvcm0g
U0RFIG9wZXJhdGlvbnMuDQpSZWdhcmRzLA0KSEcNCkZyb206IGdkYWwtZGV2LWJvdW5jZXNAbGlz
dHMub3NnZW8ub3JnIFttYWlsdG86Z2RhbC1kZXYtYm91bmNlc0BsaXN0cy5vc2dlby5vcmddIE9u
IEJlaGFsZiBPZiBnaXNwb3dlcmZhbg0KU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMjIsIDIwMDkg
OToxMSBBTQ0KVG86IGdkYWwtZGV2DQpTdWJqZWN0OiBbZ2RhbC1kZXZdIGFyY3NkZSBkcml2ZXIg
cXVlc3Rpb24/DQoNCmhpLA0KDQogICAgICAgIEkgdHJ5IHRvIHVzZSBubWFrZSB0byBjb21waWxl
IHRoZSBnZGFsIHNvdXJjZSBjb2RlIHRvIHN1cHBvcnQgQXJjU0RFLCBBZnRlciBJIHNldA0KDQpT
REVfRU5BQkxFRD1ZRVMNClNERV9WRVJTSU9OPTkzDQojU0RFX1BMVUdJTj1ZRVMNClNERV9TREs9
RDpcQXJjR0lTXGFyY3NkZQ0KU0RFX0lOQz0kKFNERV9TREspXGluY2x1ZGUNClNERV9MSUI9JChT
REVfU0RLKVxsaWJccGUubGliIFwNCiAgICAgICAgJChTREVfU0RLKVxsaWJcc2RlLmxpYiAkKFNE
RV9TREspXGxpYlxzZy5saWINCg0KaW4gbm1ha2Uub3B0IGZpbGUsIEkgdXNlIGdkYWxpbmZvIGlu
IGFwcHMgZGlyZWN0b3J5IHRvIGRpc3BsYXkgdGhlIG1ldGEgaW5mbyBvZiBBcmNTREUgUkFTVEVS
LA0KYnV0IGdkYWxpbmZvIGNhbm4ndCByZWNvZ25pemUgdGhlICJzZGU6bWFjaGluZSx4eHgseHgu
Li4uIiBzdHJpbmcuQW5kIEkgdHJ5IHRvIGJ1aWxkIGEgbmV3IHByb2plY3QgLA0KIHdoaWNoIGNv
bnRhaW5zIGdkYWxpbmZvLmMgb25seSwgYW5kIGxpbmsgdGhlIGFib3ZlIGdkYWxfaS5saWIsIGdk
YWxfMTYuZGxsLCBnZGFsaW5mbyBjYW4gcmVhZCB0aGUNCm1ldGEgaW5mbyBmcm9tIEFyY1NERSBy
YXN0ZXIsIEkgZG9lcyB3b3JrLiBJIHdvbmRlciB0aGF0IGhvdyB0byBidWlsZCB0aGUgc291cmNl
IGNvZGUgdG8gbWFrZQ0KdGhlIGdkYWxpbmZvIHRvIHN1cHBvcnQgQXJjU0RFIHJhc3Rlcj8NCg0K
UFMsIEkgdHJ5IHRoZSBtZXRob2Qgb2YgIFBsdWdpbiBidWlsZGluZyBleGFtcGxlIGluIGh0dHA6
Ly90cmFjLm9zZ2VvLm9yZy9nZGFsL3dpa2kvQnVpbGRpbmdPbldpbmRvd3MgLg0KDQp0aGFua3Mg
aW4gYWR2YW5jZSwNCg0KZ2lzcG93ZXJmYW4NCg0KMjAwOS0xMC0yMg0KX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18NCmdpc3Bvd2VyZmFuDQo=
From alfreale74 at gmail.com  Fri Oct 23 07:17:40 2009
From: alfreale74 at gmail.com (alfreale)
Date: Fri Oct 23 07:17:43 2009
Subject: [Gdal-dev] GDALOpenShared error
Message-ID: <1256296660742-3878105.post@n2.nabble.com>


Hi,

When I import a HDF file with gdal, I've this error:

A dataset opened by GDALOpenShared should have the same filename.....

-------------------------------------------------

GRASS 6.4.0RC5 (wgs84_lat_long):~ > i.in.spotvgt -a --overwrite --verbose
file=/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF
rast=ndvi_test
Importing SPOT VGT NDVI map...
Warning 6: A dataset opened by GDALOpenShared should have the same filename
(/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF)
and description
(HDF4_SDS:UNKNOWN:"/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF":0) 

-------------------------------------------------
-- 
View this message in context: http://n2.nabble.com/GDALOpenShared-error-tp3878105p3878105.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Fri Oct 23 09:45:12 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 23 09:45:22 2009
Subject: [Gdal-dev] GDALOpenShared error
In-Reply-To: <1256296660742-3878105.post@n2.nabble.com>
References: <1256296660742-3878105.post@n2.nabble.com>
Message-ID: <4AE1B368.6060503@pobox.com>

alfreale wrote:
> Hi,
> 
> When I import a HDF file with gdal, I've this error:
> 
> A dataset opened by GDALOpenShared should have the same filename.....
> 
> -------------------------------------------------
> 
> GRASS 6.4.0RC5 (wgs84_lat_long):~ > i.in.spotvgt -a --overwrite --verbose
> file=/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF
> rast=ndvi_test
> Importing SPOT VGT NDVI map...
> Warning 6: A dataset opened by GDALOpenShared should have the same filename
> (/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF)
> and description
> (HDF4_SDS:UNKNOWN:"/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF":0) 
> 
> -------------------------------------------------

Alfreale,

This is a non-critical message just indicated that subsequent GDALOpenShared
calls for this file will not share dataset handles.  I have filed a ticket on
the issue so we can try and improve the HDF4 driver, but the issue should
not affect your activities.  You may disregard the warning.

   http://trac.osgeo.org/gdal/ticket/3200

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Oct 23 09:59:29 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 23 09:59:32 2009
Subject: [gdal-dev] OGR ODBC Driver and Default Enumeration
In-Reply-To: <op.u18efbf2zbn0g9@spdba>
References: <4ADFE843.6070603@pobox.com> <op.u18efbf2zbn0g9@spdba>
Message-ID: <4AE1B6C1.8090700@pobox.com>

Simon Greener wrote:
> Frank,
> 
> What sort of SQL are you using when you query Oracle and SQL Server?

Simon,

The OGR ODBC driver does not directly use SQL to fetch back the
table list.  It issues an ODBC SQLTables command:

     SQLTables( m_hStmt,
                (SQLCHAR *) pszCatalog, SQL_NTS,
                (SQLCHAR *) pszSchema, SQL_NTS,
                (SQLCHAR *) NULL, SQL_NTS,
                (SQLCHAR *) "'TABLE','VIEW'", SQL_NTS );

Basically this asks the ODBC driver to return a list of all tables
and views.  Currently we are always passing the catalog and schema
setting as NULL resulting in a fetch of entries from all tables and
schemas.

> What role does the INFORMATION_SCHEMA play in you changed ODBC driver? I 
> noticed that, with the current version if I created an 
> INFORMATION_SCHEMA and the appropriate views, ogrinfo started to work.

I really don't know if or how INFORMATION_SCHEMA is used, though I noticed
that it is returned for SQL Server.

> With Oracle, if you use the DBA_* views (eg DBA_OBJECTS) you will see 
> tables in schemas that you may not actually have permission to read/update.
> ALL_* (eg ALL_OBJECTS) will show you those the connecting user can see 
> (eg SELECT) but may not  be able to update.

 From my reading of the ODBC documentation, I'd have to do a bunch of
additional permissions queries if I want to restrict the list to
tables with at least read access. I'm not keen on populating the
ODBC driver with any database specific criteria if I can help it.

> My point is this: you should really only show the tables that the 
> connecting user can actually read/update. No point in being able to see 
> all sorts of other table/columns if you can't actually use them.

I can see your point, though I'm not clear on how much it will help
to restrict things to tables we have at least read access to or
how expensive/incompatible the extra queries for read permissions
will be.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From alfreale74 at gmail.com  Fri Oct 23 10:03:43 2009
From: alfreale74 at gmail.com (alfreale)
Date: Fri Oct 23 10:03:44 2009
Subject: [Gdal-dev] GDALOpenShared error
In-Reply-To: <4AE1B368.6060503@pobox.com>
References: <1256296660742-3878105.post@n2.nabble.com>
	<4AE1B368.6060503@pobox.com>
Message-ID: <1256306623296-3878921.post@n2.nabble.com>


2009/10/23 Frank Warmerdam [via OSGeo.org]
<ml-node+3878825-86383786@n2.nabble.com>:
> alfreale wrote:
>> Hi,
>>
>> When I import a HDF file with gdal, I've this error:
>>
>> A dataset opened by GDALOpenShared should have the same filename.....
>>
>> -------------------------------------------------
>>
>> GRASS 6.4.0RC5 (wgs84_lat_long):~ > i.in.spotvgt -a --overwrite --verbose
>>
>> file=/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF
>> rast=ndvi_test
>> Importing SPOT VGT NDVI map...
>> Warning 6: A dataset opened by GDALOpenShared should have the same
>> filename
>>
>> (/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF)
>> and description
>>
>> (HDF4_SDS:UNKNOWN:"/media/Archivio_Esterno/DE_archivio/cartografia/satellite/spot_vegetation_Africa/V1KRNS10__19980401_NDVI__Africa/0001/0001_NDV.HDF":0)
>>
>> -------------------------------------------------
> Alfreale,
>
> This is a non-critical message just indicated that subsequent GDALOpenShared
> calls for this file will not share dataset handles. ?I have filed a ticket
> on
> the issue so we can try and improve the HDF4 driver, but the issue should
> not affect your activities. ?You may disregard the warning.
>
> ? ?http://trac.osgeo.org/gdal/ticket/3200
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam, [hidden email]
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> [hidden email]
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> ________________________________
> View message @
> http://n2.nabble.com/GDALOpenShared-error-tp3878105p3878825.html
> To unsubscribe from GDALOpenShared error, click here.
>



-- 
----------------------------------------------
Alfredo Alessandrini, Dr.
Post-doc
Department of Environment and Forest (DAF)
Unitus - Viterbo
http://www.unitus.it/dipartimenti/daf/dendro/
----------------------------------------------

-- 
View this message in context: http://n2.nabble.com/GDALOpenShared-error-tp3878105p3878921.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091023/4ba4463f/attachment.html
From harsh.govind at spadac.com  Fri Oct 23 10:22:15 2009
From: harsh.govind at spadac.com (Harsh Govind)
Date: Fri Oct 23 10:22:19 2009
Subject: [gdal-dev] Zip/Unzip
In-Reply-To: <1256306623296-3878921.post@n2.nabble.com>
References: <1256296660742-3878105.post@n2.nabble.com>
	<4AE1B368.6060503@pobox.com> <1256306623296-3878921.post@n2.nabble.com>
Message-ID: <4B3B3C35D34C9345BC8914C199882E2817EA8840DB@SPATCEX003.spadac.com>

I see a Zip/Unzip API in GDAL cpl_minizip_ioapi.h and cpl_minizip_unzip inside port directory and would like to use it for purpose of creating kmz. Has anyone used those for zip/unzip? Any example/literature that someone can point me to would really help.

I would prefer going through the API rather than directly interact with minizip.


Regards,
Harsh Govind

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091023/b2b58b4b/attachment-0001.html
From even.rouault at mines-paris.org  Fri Oct 23 13:08:16 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Oct 23 13:08:19 2009
Subject: [gdal-dev] Zip/Unzip
In-Reply-To: <4B3B3C35D34C9345BC8914C199882E2817EA8840DB@SPATCEX003.spadac.com>
References: <1256296660742-3878105.post@n2.nabble.com>
	<4AE1B368.6060503@pobox.com>
	<1256306623296-3878921.post@n2.nabble.com>
	<4B3B3C35D34C9345BC8914C199882E2817EA8840DB@SPATCEX003.spadac.com>
Message-ID: <1256317696.4ae1e300ef3e2@imp.free.fr>

Selon Harsh Govind <harsh.govind@spadac.com>:

cpl_minizip_* is just a copy&paste from the corresponding files from the zlib
source package. So you'll probably find ressources/examples on their site. In
GDAL, we use zlib (gzip) compression & uncompression and zip (pkzip)
uncompression, but not zip compression, which is required to make KMZ from KML.

Otherwise you can look at libkml that has support for both KML and KMZ (and
which uses minizip also for that purpose!)

See http://lists.osgeo.org/pipermail/gdal-dev/2008-March/016664.html

Best regards,

Even

> I see a Zip/Unzip API in GDAL cpl_minizip_ioapi.h and cpl_minizip_unzip
> inside port directory and would like to use it for purpose of creating kmz.
> Has anyone used those for zip/unzip? Any example/literature that someone can
> point me to would really help.
>
> I would prefer going through the API rather than directly interact with
> minizip.
>
>
> Regards,
> Harsh Govind
>
>


From russell at flora.ca  Fri Oct 23 12:27:06 2009
From: russell at flora.ca (Russell McOrmond)
Date: Fri Oct 23 13:26:42 2009
Subject: [gdal-dev] Core dump: old gdal, bug in gdal, bug in data?
Message-ID: <4AE1D95A.2030806@flora.ca>


   I downloaded some ESRI shapefiles from
http://geogratis.cgdi.gc.ca/geogratis/en/option/select.do?id=1169
  These are shapefiles which represent the electoral districts of
Canada, for election years 2000, 2004, 2006 and 2008.

  What I'm wondering is if someone with better knowledge of shapefiles
(and maybe a copy of ArcGIS desktop) could download and take a quick
look and see if the problem is in the Shapefile or in GDAL.  I no longer
have access to ArcGIS desktop to check things out.

  My preference is to use the latest, but it seems that ogrinfo will
core dump on 2006 and 2008.  I was wanting to import this data into
PostGIS for use with Mapserver.

In 2000 it was not the same boundaries as they are now (they changed in
2003 -- and will again in 2013).

In 2004 it is the right boundaries, with only the electoral ID as data.
 This worked: ogr2ogr -f KML fed308.2004_a.kml fed308.2004/fed308_a.shp
FED_NUM: Integer (9.0)

In 2006 they added more information, and now ogr tools core dump with a
buffer overflow.
AREA: Real (20.5)
PERIMETER: Real (20.5)
FED308_A_: Real (11.0)
FED308_A_I: Real (11.0)
FED_NUM: Real (11.0)
ED_NAMEE: String (100.0)
ED_NAMEF: String (100.0)

In 2008 they added even more information:
AREA: Real (19.5)
PERIMETER: Real (19.5)
FED_NUM: Integer (9.0)
FED_TYPE: String (4.0)
ED_ID: Integer (7.0)
ED_NAMEE: String (100.0)
ED_NAMEF: String (100.0)
ELCT_CNT: Integer (6.0)
OBJECTID: Integer (10.0)
SHAPE_AREA: Real (19.11)
SHAPE_LEN: Real (19.11)
PARTY_WIN: String (1.0)

I filed the following report, if it is useful.
https://bugs.launchpad.net/ubuntu/+source/gdal/+bug/459178

-- 
 Russell McOrmond, Internet Consultant: <http://www.flora.ca/>
 Please help us tell the Canadian Parliament to protect our property
 rights as owners of Information Technology. Sign the petition!
 http://www.digital-copyright.ca/petition/ict/

 "The government, lobbied by legacy copyright holders and hardware
  manufacturers, can pry my camcorder, computer, home theatre, or
  portable media player from my cold dead hands!"
From even.rouault at mines-paris.org  Fri Oct 23 13:52:24 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Oct 23 13:52:26 2009
Subject: [gdal-dev] Core dump: old gdal, bug in gdal, bug in data?
In-Reply-To: <4AE1D95A.2030806@flora.ca>
References: <4AE1D95A.2030806@flora.ca>
Message-ID: <1256320344.4ae1ed58589b3@imp.free.fr>

Selon Russell McOrmond <russell@flora.ca>:

I tried ogr2ogr -f KML with the 2008 data and it works for me.

I could not access your bug report in ubuntu launchpad. Blind guess : I'm
wondering if you're not affected by a bug that has affected a few linux distro,
including fedora & ubuntu, because of a compilation option (see
https://bugs.launchpad.net/ubuntu/+source/gdal/+bug/344751). The bug has been
fixed since then in GDAL, but I'm not sure if they patched their packages with
the fix (from a quick review, no they didn't).

Anyway, if you want to use those shapefiles in mapserver, you don't care about
OGR as mapserver directly reads shapefiles by itself. And you probably don't
want to make mapserver reads verbose KML when you have more compact and
efficient SHP.

>
>    I downloaded some ESRI shapefiles from
> http://geogratis.cgdi.gc.ca/geogratis/en/option/select.do?id=1169
>   These are shapefiles which represent the electoral districts of
> Canada, for election years 2000, 2004, 2006 and 2008.
>
>   What I'm wondering is if someone with better knowledge of shapefiles
> (and maybe a copy of ArcGIS desktop) could download and take a quick
> look and see if the problem is in the Shapefile or in GDAL.  I no longer
> have access to ArcGIS desktop to check things out.
>
>   My preference is to use the latest, but it seems that ogrinfo will
> core dump on 2006 and 2008.  I was wanting to import this data into
> PostGIS for use with Mapserver.
>
> In 2000 it was not the same boundaries as they are now (they changed in
> 2003 -- and will again in 2013).
>
> In 2004 it is the right boundaries, with only the electoral ID as data.
>  This worked: ogr2ogr -f KML fed308.2004_a.kml fed308.2004/fed308_a.shp
> FED_NUM: Integer (9.0)
>
> In 2006 they added more information, and now ogr tools core dump with a
> buffer overflow.
> AREA: Real (20.5)
> PERIMETER: Real (20.5)
> FED308_A_: Real (11.0)
> FED308_A_I: Real (11.0)
> FED_NUM: Real (11.0)
> ED_NAMEE: String (100.0)
> ED_NAMEF: String (100.0)
>
> In 2008 they added even more information:
> AREA: Real (19.5)
> PERIMETER: Real (19.5)
> FED_NUM: Integer (9.0)
> FED_TYPE: String (4.0)
> ED_ID: Integer (7.0)
> ED_NAMEE: String (100.0)
> ED_NAMEF: String (100.0)
> ELCT_CNT: Integer (6.0)
> OBJECTID: Integer (10.0)
> SHAPE_AREA: Real (19.11)
> SHAPE_LEN: Real (19.11)
> PARTY_WIN: String (1.0)
>
> I filed the following report, if it is useful.
> https://bugs.launchpad.net/ubuntu/+source/gdal/+bug/459178
>
> --
>  Russell McOrmond, Internet Consultant: <http://www.flora.ca/>
>  Please help us tell the Canadian Parliament to protect our property
>  rights as owners of Information Technology. Sign the petition!
>  http://www.digital-copyright.ca/petition/ict/
>
>  "The government, lobbied by legacy copyright holders and hardware
>   manufacturers, can pry my camcorder, computer, home theatre, or
>   portable media player from my cold dead hands!"
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From russell at flora.ca  Fri Oct 23 16:20:13 2009
From: russell at flora.ca (Russell McOrmond)
Date: Fri Oct 23 16:20:30 2009
Subject: [gdal-dev] Core dump: old gdal, bug in gdal, bug in data?
In-Reply-To: <1256320344.4ae1ed58589b3@imp.free.fr>
References: <4AE1D95A.2030806@flora.ca> <1256320344.4ae1ed58589b3@imp.free.fr>
Message-ID: <4AE20FFD.7010401@flora.ca>


Even Rouault wrote:
> Selon Russell McOrmond <russell@flora.ca>:
> 
> I tried ogr2ogr -f KML with the 2008 data and it works for me.

Thank you!

> fixed since then in GDAL, but I'm not sure if they patched their packages with
> the fix (from a quick review, no they didn't).

  I've since found these related bugs.
https://bugs.launchpad.net/ubuntu/+source/gdal/+bug/271670  I'm not sure
who is in charge of the Ubuntu binaries, but it seems that Gdal 1.6.2-1
is currently in debian unstable.

  I'll take a look at compiling the latest gdal for this desktop and see
how that works.

> Anyway, if you want to use those shapefiles in mapserver, you don't care about
> OGR as mapserver directly reads shapefiles by itself.

  My hope was to import the shapefiles into PostGIS.  I only referenced
the KML file as a standalone file which I can verify with Google Earth
whether it converted correctly or not.   I don't have a lot of GIS tools
on my desktop at the moment.

-- 
 Russell McOrmond, Internet Consultant: <http://www.flora.ca/>
 Please help us tell the Canadian Parliament to protect our property
 rights as owners of Information Technology. Sign the petition!
 http://www.digital-copyright.ca/petition/ict/

 "The government, lobbied by legacy copyright holders and hardware
  manufacturers, can pry my camcorder, computer, home theatre, or
  portable media player from my cold dead hands!"
From mmarks at google.com  Fri Oct 23 16:57:12 2009
From: mmarks at google.com (Mano Marks)
Date: Fri Oct 23 17:08:16 2009
Subject: [gdal-dev] Proper input for TransformPoint
Message-ID: <781bff30910231357g25b94a81m969e70d8b4bea811@mail.gmail.com>

Developing in Python, I've tried a number of inputs for
TransformPoint, and can't seem to figure out how to get this right.
And web searches reveal several people asking similar questions
without an answer. Anyone?

Here's the error I get:

NotImplementedError: Wrong number of arguments for overloaded function 'Coordina
teTransformation_TransformPoint'.
  Possible C/C++ prototypes are:
    TransformPoint(double [3])
    TransformPoint(double [3],double,double,double)
From jaadfoo at gmail.com  Fri Oct 23 17:20:38 2009
From: jaadfoo at gmail.com (Jamie Adams)
Date: Fri Oct 23 17:20:41 2009
Subject: [gdal-dev] Proper input for TransformPoint
In-Reply-To: <781bff30910231357g25b94a81m969e70d8b4bea811@mail.gmail.com>
References: <781bff30910231357g25b94a81m969e70d8b4bea811@mail.gmail.com>
Message-ID: <f4339510910231420w3e71de4eo6d92043c7555df75@mail.gmail.com>

I have it working for KML output like this:

*projection = dataset.GetProjection()*

*in_projection = osr.SpatialReference()
in_projection.ImportFromWkt(projection)*
*
out_projection = osr.SpatialReference()
out_projection.ImportFromEPSG(4326)

coortran = osr.CoordinateTransformation(in_projection, out_projection)

(x_out, y_out, z_out) = coortran.TransformPoint(x_coor, y_coor)*

Even though there is no z input in the transform, it will bail with
"ValueError: too many values to unpack" if you don't include it.

- Jamie

On Fri, Oct 23, 2009 at 1:57 PM, Mano Marks <mmarks@google.com> wrote:

> Developing in Python, I've tried a number of inputs for
> TransformPoint, and can't seem to figure out how to get this right.
> And web searches reveal several people asking similar questions
> without an answer. Anyone?
>
> Here's the error I get:
>
> NotImplementedError: Wrong number of arguments for overloaded function
> 'Coordina
> teTransformation_TransformPoint'.
>  Possible C/C++ prototypes are:
>    TransformPoint(double [3])
>    TransformPoint(double [3],double,double,double)
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091023/e271374b/attachment.html
From mmarks at google.com  Fri Oct 23 17:56:29 2009
From: mmarks at google.com (Mano Marks)
Date: Fri Oct 23 17:56:35 2009
Subject: [gdal-dev] Proper input for TransformPoint
In-Reply-To: <f4339510910231420w3e71de4eo6d92043c7555df75@mail.gmail.com>
References: <781bff30910231357g25b94a81m969e70d8b4bea811@mail.gmail.com>
	<f4339510910231420w3e71de4eo6d92043c7555df75@mail.gmail.com>
Message-ID: <781bff30910231456x2d6785d1s8b753f3e05e41a8a@mail.gmail.com>

Thanks, that helped. Actually, it turned out the problem was that the
SR I was using wasn't being recognized. I'm not sure why this caused
the particular error that it did.

Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks




On Fri, Oct 23, 2009 at 2:20 PM, Jamie Adams <jaadfoo@gmail.com> wrote:
> I have it working for KML output like this:
>
> projection = dataset.GetProjection()
>
> in_projection = osr.SpatialReference()
> in_projection.ImportFromWkt(projection)
>
> out_projection = osr.SpatialReference()
> out_projection.ImportFromEPSG(4326)
>
> coortran = osr.CoordinateTransformation(in_projection, out_projection)
>
> (x_out, y_out, z_out) = coortran.TransformPoint(x_coor, y_coor)
>
> Even though there is no z input in the transform, it will bail with
> "ValueError: too many values to unpack" if you don't include it.
>
> - Jamie
>
> On Fri, Oct 23, 2009 at 1:57 PM, Mano Marks <mmarks@google.com> wrote:
>>
>> Developing in Python, I've tried a number of inputs for
>> TransformPoint, and can't seem to figure out how to get this right.
>> And web searches reveal several people asking similar questions
>> without an answer. Anyone?
>>
>> Here's the error I get:
>>
>> NotImplementedError: Wrong number of arguments for overloaded function
>> 'Coordina
>> teTransformation_TransformPoint'.
>> ?Possible C/C++ prototypes are:
>> ? ?TransformPoint(double [3])
>> ? ?TransformPoint(double [3],double,double,double)
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
From randre at gmail.com  Fri Oct 23 18:13:11 2009
From: randre at gmail.com (=?UTF-8?B?Um9nZXIgQW5kcsOp?=)
Date: Fri Oct 23 18:13:13 2009
Subject: [gdal-dev] calculate raster values within a vector
In-Reply-To: <b0d146420908261202u6f214a2dje77693f31eb917a5@mail.gmail.com>
References: <aa15d47e0908201044i65703714w163d185f9eb5e70b@mail.gmail.com>
	<91d218430908260713x2095c792k5c739c49cb89636b@mail.gmail.com>
	<b0d146420908260740y5b8940brd30d5b33e0af29f9@mail.gmail.com>
	<200908260842.58037.dylan.beaudette@gmail.com>
	<91d218430908260937h719f10f5j26ffe3924c0e112c@mail.gmail.com>
	<b0d146420908261202u6f214a2dje77693f31eb917a5@mail.gmail.com>
Message-ID: <9c2015090910231513o77fac08co66bee5cf2d1c4246@mail.gmail.com>

Just to add my 2 cents on this.  I've done this sort of thing in the
past by using gdal_rasterize to set all pixels which are outside the
polygon(s) of interest to nodata. Then I use a very simplistic Python
script to dump all of the pixel values to STDOUT and redirect to a csv
file.  It would be pretty simple to trap the values instead of dumping
them, and do any sort of stat query you want in Python.  I was shown
an excellent resource for learning to use gdal to do this type of work
- http://www.gis.usu.edu/~chrisg/python/2009/.

I believe that if I had to do it now, I would probably just load them
all up into GRASS, run v.to.rast on the shapefile to create a
rasterized version of the polygons, and then use masks, or r.mapcalc,
in conjunction with r.univar to generate the statistics.

I totally hear what you mean though, Emilio. It's nice when your
coworkers can access and use your work too.  I suspect that factor
will determine ultimately which approach is best suited for the task.
I do highly recommend Mitasova's book on GRASS though.  It will have
you up and running in no time.

Roger
--



On Wed, Aug 26, 2009 at 12:02 PM, Emilio Mayorga
<emiliomayorga@gmail.com> wrote:
> n Wed, Aug 26, 2009 at 9:37 AM, Jose Gomez-Dans<jgomezdans@gmail.com> wrote:
>> 2009/8/26 Dylan Beaudette <debeaudette@ucdavis.edu>
>>>
>>> ndeed. The current (C++) version of Starspan is more or less unsupported.
>>> I tend to use an older, stabler, version-- but have become frustrated with
>>> it in recent studies. I think that the current maintainer Jon Greenberg is
>>> working on an R implementation-- however I am not certain that this will
>>> scale well to very large rasters. A Python incantation would be more
>>> flexible
>>> than the current C++ version, but perhaps at a speed cost. The current
>>> version is blazing fast, but there aren't any C++ programmers working on
>>> it now. If there is sufficient interest, I would like to get it into OSGeo so
>>> that a more skilled programmer (than myself) can have a look at it.
>>
>> Python is extremely fast for some of these things. The version I tend to use
>> < http://sites.google.com/site/spatialpython/zonal-statistics> is bearable
>> even working with whole landsat scenes. The example there (with one MODIS
>> 1km tile) takes in my laptop:
>> %timeit S = ZonalStats ( labels_file, data_file, stats='mean') ; std_s =
>> S.ResampleToGrid("std")
>> 10 loops, best of 3: 1.44 s per loop
>>
>> %timeit S = ZonalStats ( labels_file, data_file, stats='mean') ; std_s =
>> S.ZonalStatistics("mean")
>> 10 loops, best of 3: 359 ms per loop
>>
>>
>> I plan to add a number of refinements to the code, such as adding a vector
>> input that gets automaticall rasterised, something that the GDAL python
>> wrappers have allowed for quite some time now, and adding these values to
>> the output as extra fields, but so far, I have had no need for these, so I
>> haven't really bothered.
>
> Wow, Jose, thanks for sharing that! It looks terrific. I may be able
> to contribute to it, but not until October or so.
>
>
>> 2009/8/26 Dylan Beaudette <debeaudette@ucdavis.edu>
>> If you are doing raster-on-raster zonal stats, then GRASS is fairly good at
>> that too.
>
> Dylan, thanks for your comments on Starspan. Regarding GRASS, I wish I
> had time to start using it, but so far I haven't been able to. One of
> these days... Still, accessing this functionality from Python is a big
> plus for me. For example, I'm sharing some of my zonalstats-like code
> with a colleague. I've helped him set up Python with all the right
> modules, and he can run my code. Adding GRASS to that bag of new
> things would probably make this task too complicated. Anyways, that's
> just my own preferred workflow. I'll get to GRASS one of these days...
>
> Cheers,
>
> -Emilio
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From dan.putler at sauder.ubc.ca  Sat Oct 24 15:30:48 2009
From: dan.putler at sauder.ubc.ca (Dan Putler)
Date: Sat Oct 24 15:31:57 2009
Subject: [gdal-dev] What can OGR do with SpatiaLite files at this moment and
	in the near future?
Message-ID: <1256412648.12454.47.camel@whitebox>

Hi all,

On the R-Sig-Geo list there is a thread going on related to using
SpatiaLite as a file based store of vector geodata. The first issue that
comes up is what can OGR do with SpatiaLite files both now, and in the
near future? My understanding (which may well be wrong) is that there is
a SQLite read-only driver in GDAL/OGR 1.6.X versions. My first specific
question, assuming my understanding is correct, is whether OGR can read
the geometry field in a SpatiaLite file? My second question is whether
there are any current plans to extend the SQLite driver to enable it to
write SpatiaLite files? My final question is more on the FWTools front,
and that is whether the current Windows version of FWTools has a build
of the GDAL/OGR library that has both the SQLite and PostGIS drivers
included?

Dan

-- 
Dan Putler
Sauder School of Business
University of British Columbia

From even.rouault at mines-paris.org  Sat Oct 24 18:14:12 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Oct 24 18:14:14 2009
Subject: [gdal-dev] What can OGR do with SpatiaLite files at this moment
	and in the near future?
In-Reply-To: <1256412648.12454.47.camel@whitebox>
References: <1256412648.12454.47.camel@whitebox>
Message-ID: <1256422452.4ae37c3459494@imp.free.fr>

Selon Dan Putler <dan.putler@sauder.ubc.ca>:

> Hi all,
>
> On the R-Sig-Geo list there is a thread going on related to using
> SpatiaLite as a file based store of vector geodata. The first issue that
> comes up is what can OGR do with SpatiaLite files both now, and in the
> near future? My understanding (which may well be wrong) is that there is
> a SQLite read-only driver in GDAL/OGR 1.6.X versions.

Yes

> My first specific
> question, assuming my understanding is correct, is whether OGR can read
> the geometry field in a SpatiaLite file?

Yes, since GDAL 1.6.0

> My second question is whether
> there are any current plans to extend the SQLite driver to enable it to
> write SpatiaLite files?

It's already working in gdal SVN trunk (for GDAL/OGR 1.7.0)

> My final question is more on the FWTools front,
> and that is whether the current Windows version of FWTools has a build
> of the GDAL/OGR library that has both the SQLite

FWTools has SQLite support but uses a too old version of sqlite3 library that
cannot read the format of databases produced by spatialite utilities. An
upgraded sqlite3 could read&write them (you can also do it yourself by just
replacing the sqlite3.dll that comes with FWTools by the latest one on the
sqlite3 web site). And linking against libspatialite would also bring spatial
extensions functions. It's simply a matter of build dependencies. I'm not sure
what Frank's plans are about that.

> and PostGIS drivers
> included?

Yes, PostgreSQL/PostGIS support is in FWTools

>
> Dan
>
> --
> Dan Putler
> Sauder School of Business
> University of British Columbia
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From szekerest at gmail.com  Sun Oct 25 07:40:24 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Oct 25 07:40:27 2009
Subject: [gdal-dev] What can OGR do with SpatiaLite files at this moment 
	and in the near future?
In-Reply-To: <1256412648.12454.47.camel@whitebox>
References: <1256412648.12454.47.camel@whitebox>
Message-ID: <f3b73b7d0910250440p7e1510fdq43442f21dd162953@mail.gmail.com>

Dan,

FYI: I've added SpatialLite support to the binary packages available to
download from here:

http://vbkto.dyndns.org/sdk/


You could also find the SpatialLite libs and header files in the
corresponding SDK packages.

Best regards,

Tamas



2009/10/24 Dan Putler <dan.putler@sauder.ubc.ca>

> Hi all,
>
> On the R-Sig-Geo list there is a thread going on related to using
> SpatiaLite as a file based store of vector geodata. The first issue that
> comes up is what can OGR do with SpatiaLite files both now, and in the
> near future? My understanding (which may well be wrong) is that there is
> a SQLite read-only driver in GDAL/OGR 1.6.X versions. My first specific
> question, assuming my understanding is correct, is whether OGR can read
> the geometry field in a SpatiaLite file? My second question is whether
> there are any current plans to extend the SQLite driver to enable it to
> write SpatiaLite files? My final question is more on the FWTools front,
> and that is whether the current Windows version of FWTools has a build
> of the GDAL/OGR library that has both the SQLite and PostGIS drivers
> included?
>
> Dan
>
> --
> Dan Putler
> Sauder School of Business
> University of British Columbia
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091025/ebd538df/attachment.html
From klokan at klokan.cz  Sun Oct 25 22:48:42 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Sun Oct 25 22:48:45 2009
Subject: [gdal-dev] Projecting images with HTML5 Canvas in the web-browser
Message-ID: <6e41d95b0910251948x327a2cd2kd61927fd8172599b@mail.gmail.com>

Hi everybody,

on Saturday during the Code Sprint of the FOSS4G 2009 conference in
Sydney we have made quite interesting step forward in the web
cartography.
With the help of other open-source developers I put together a
prototype of the client-side map reprojection implemented only in
JavaScript (using HTML5 Canvas tag and the Proj4js JavaScript
library).

An image as JPEG, PNG or GIF is with JavaScript in a web-browser
warped into a different map projection.
The example is reprojecting the world image into the Spherical
Mercator (map projection of Google Maps), into the map projection used
in US National Atlas, into Canada LCC and into the Mollweide
projection (used by National Geographic for thematic mapping).

To try it you need any web browser which supports HTML5, it means the
latest version of Firefox, Chrome, Safari or Opera.

Have a look at the demo:
http://examples.maptiler.org/map-reprojection-html5-canvas/

It is just a prove of concept in this moment, but I am sure practical
applications will follow.

The most typical use could be the client-side warping of raster data
(weather forecast, ..) into the correct image overlay of Google Maps
and similar online maps.
Any WMS sever providing only EPSG:4326 can now correctly overlay
Google Maps, if somebody use this technique to prepare the mash-up. Of
course the speed can be an issue in this moment, but there is plenty
of space for improvement in the warping code, and it can be done in a
separate computing thread, which is possible with HTML5 Web Workers...

Best,

Klokan Petr Pridal
-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From harsh.govind at spadac.com  Mon Oct 26 06:01:48 2009
From: harsh.govind at spadac.com (Harsh Govind)
Date: Mon Oct 26 06:01:50 2009
Subject: [gdal-dev] Zip/Unzip
In-Reply-To: <1256317696.4ae1e300ef3e2@imp.free.fr>
References: <1256296660742-3878105.post@n2.nabble.com>
	<4AE1B368.6060503@pobox.com> <1256306623296-3878921.post@n2.nabble.com>
	<4B3B3C35D34C9345BC8914C199882E2817EA8840DB@SPATCEX003.spadac.com>
	<1256317696.4ae1e300ef3e2@imp.free.fr>
Message-ID: <4B3B3C35D34C9345BC8914C199882E2817EA88416C@SPATCEX003.spadac.com>

Thanks for the info. I will give it a shot.

Regards,
Harsh Govind

-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Friday, October 23, 2009 1:08 PM
To: Harsh Govind
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Zip/Unzip

Selon Harsh Govind <harsh.govind@spadac.com>:

cpl_minizip_* is just a copy&paste from the corresponding files from the zlib
source package. So you'll probably find ressources/examples on their site. In
GDAL, we use zlib (gzip) compression & uncompression and zip (pkzip)
uncompression, but not zip compression, which is required to make KMZ from KML.

Otherwise you can look at libkml that has support for both KML and KMZ (and
which uses minizip also for that purpose!)

See http://lists.osgeo.org/pipermail/gdal-dev/2008-March/016664.html

Best regards,

Even

> I see a Zip/Unzip API in GDAL cpl_minizip_ioapi.h and cpl_minizip_unzip
> inside port directory and would like to use it for purpose of creating kmz.
> Has anyone used those for zip/unzip? Any example/literature that someone can
> point me to would really help.
>
> I would prefer going through the API rather than directly interact with
> minizip.
>
>
> Regards,
> Harsh Govind
>
>


From DKUNZMAN at overwatch.textron.com  Mon Oct 26 13:12:07 2009
From: DKUNZMAN at overwatch.textron.com (Kunzman, Douglas)
Date: Mon Oct 26 13:12:28 2009
Subject: [gdal-dev] gdal java binding jpip
Message-ID: <56EA271A2716CA42942737F805B9443403C5DD3A@txamasnwh016.ent.textron.com>

I am trying to compile the java samples under
http://svn.osgeo.org/gdal/sandbox/normanb/
<http://svn.osgeo.org/gdal/sandbox/normanb/>  for use with jpip.  I
believe this is a general gdal compile issue but I'm not sure.  I'm new
to gdal and have searched the web and have found no good information.
When I type

 

swig> -f makefile.vc java

 

Using Visual Studio 2005 and Win32/XP

 

I get the following error message,

 

        C:\Program Files\Microsoft Visual Studio
8\VC\INCLUDE\string.h(215) : see declaration of 'stricmp'

gdal_wrap.cpp(1129) : warning C4996: 'stricmp': The POSIX name for this
item is

deprecated. Instead, use the ISO C++ conformant name: _stricmp. See
online help

for details.

        C:\Program Files\Microsoft Visual Studio
8\VC\INCLUDE\string.h(215) : see declaration of 'stricmp'

gdal_wrap.cpp(4412) : error C2451: conditional expression of type 'void'
is illegal

        Expressions of type void cannot be converted to other types

gdal_wrap.cpp(4412) : error C2541: 'delete' : cannot delete objects that
are not

 pointers

gdal_wrap.cpp(4414) : error C2120: 'void' illegal with all types

 

I have been looked at the error message and they are implying that
gdal_wrapp.cpp is not standard C++?  Is this possible?

 

Any help would be appreciated, 

Thanks Doug

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091026/d2dfd9b9/attachment.html
From yilmaz.arslanoglu at gmail.com  Mon Oct 26 13:26:35 2009
From: yilmaz.arslanoglu at gmail.com (Yilmaz Arslanoglu)
Date: Mon Oct 26 13:26:38 2009
Subject: [gdal-dev] GDAL with MFC
Message-ID: <150158ad0910261026y18611de7m5cf1ba49b0236bd5@mail.gmail.com>

Hi all;

Using the GDAL/OGR library, I made a module which extracts the depth points
from the sounding and contour layers of an ENC file.

Everything works perfect if this module is used in a non-MFC project
(btw, projects are compiled with VS 2008) However, when the module is moved
to an MFC-based project, sounding point values (x, y, and z) come as abnormal
values, whereas no problem occurs with the values that come from the
contour layer.

I know that this can possibly originate from different heaps (GDAL dll vs. MFC),
however I wrote the code so that all pointers are created, handled, and finally
destroyed by the GDAL library. Should I not expect a possible heap
corruption problem
here ?

Here, first I insert all features in a vector:

     OGRFeature *poFeature = NULL;
      m_poLayerRef = poDS->GetLayerByName( "SOUNDG" );
      m_poLayerRef->ResetReading();
      std::vector<OGRFeature*> m_features;
      while( (poFeature = m_poLayerRef->GetNextFeature() ) != NULL )
      {
         OGRGeometry *poGeometry = poFeature->GetGeometryRef();
         assert( poGeometry != NULL );

         if ( poGeometry != NULL )
         {
            if ( wkbFlatten(poGeometry->getGeometryType())  == wkbPoint)
            {
               m_features.push_back(poFeature);
            }
            else
               OGRFeature::DestroyFeature(poFeature);
         }
         else
            OGRFeature::DestroyFeature(poFeature);
      }

 Then, I insert all the points to another structure as follows:

  for (std::vector<OGRFeature*>::iterator it = m_features.begin(); it
!= m_features.end(); it++)
   {
      poFeature = (*it);

      poGeometry = poFeature->GetGeometryRef();
      assert( (poGeometry != NULL) && (
wkbFlatten(poGeometry->getGeometryType()) == wkbPoint ) );
      if ( (poGeometry != NULL) && (
wkbFlatten(poGeometry->getGeometryType()) == wkbPoint ) )
      {
         x = ( ((OGRPoint *)poGeometry)->getX() );
         y = ( ((OGRPoint *)poGeometry)->getY() );
         z = ( ((OGRPoint *)poGeometry)->getZ() );

         depthMap.Insert( x, y, z );
      }
   }


As another question, I do the following simple operation (again in MFC):

     OGRSpatialReference *poSRS = new OGRSpatialReference;
     OGRSpatialReference::DestroySpatialReference(poSRS);

and I get heap corruption error. Do we have another way to create a
spatial reference system object for this purpose?

Best regards,
Yilmaz
From warmerdam at pobox.com  Mon Oct 26 13:53:32 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct 26 13:53:43 2009
Subject: [gdal-dev] GDAL with MFC
In-Reply-To: <150158ad0910261026y18611de7m5cf1ba49b0236bd5@mail.gmail.com>
References: <150158ad0910261026y18611de7m5cf1ba49b0236bd5@mail.gmail.com>
Message-ID: <4AE5E21C.8030107@pobox.com>

Yilmaz Arslanoglu wrote:
> Everything works perfect if this module is used in a non-MFC project
> (btw, projects are compiled with VS 2008) However, when the module is moved
> to an MFC-based project, sounding point values (x, y, and z) come as abnormal
> values, whereas no problem occurs with the values that come from the
> contour layer.

Yilmaz,

I did not see any obvious problem with your code or explanation of why
it might be failing.

> As another question, I do the following simple operation (again in MFC):
> 
>      OGRSpatialReference *poSRS = new OGRSpatialReference;
>      OGRSpatialReference::DestroySpatialReference(poSRS);
>
> and I get heap corruption error. Do we have another way to create a
> spatial reference system object for this purpose?

Use:

   OGRSpatialReference *poSRS = (OGRSpatialReference *)
         OSRNewSpatialReference(NULL);

You may need to include ogr_srs_api.h.  The OSR functions are
the C version of the ogr_spatialref.h C++ interface and can
be mixed with c++ with a bit of casting.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Mon Oct 26 14:15:57 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct 26 14:15:59 2009
Subject: [gdal-dev] gdal java binding jpip
In-Reply-To: <56EA271A2716CA42942737F805B9443403C5DD3A@txamasnwh016.ent.textron.com>
References: <56EA271A2716CA42942737F805B9443403C5DD3A@txamasnwh016.ent.textron.com>
Message-ID: <1256580957.4ae5e75d6ba59@imp.free.fr>

Selon "Kunzman, Douglas" <DKUNZMAN@overwatch.textron.com>:

I haven't tried compiling Norman's sandbox, but could you retry with just SVN
trunk and see if you still get the error ? The SWIG version you use is also an
important factor as it breaks quite easily when you switch from one version to
another one. Trunk Java bindings are known to build fine with swig 1.3.39.

> I am trying to compile the java samples under
> http://svn.osgeo.org/gdal/sandbox/normanb/
> <http://svn.osgeo.org/gdal/sandbox/normanb/>  for use with jpip.  I
> believe this is a general gdal compile issue but I'm not sure.  I'm new
> to gdal and have searched the web and have found no good information.
> When I type
>
>
>
> swig> -f makefile.vc java
>
>
>
> Using Visual Studio 2005 and Win32/XP
>
>
>
> I get the following error message,
>
>
>
>         C:\Program Files\Microsoft Visual Studio
> 8\VC\INCLUDE\string.h(215) : see declaration of 'stricmp'
>
> gdal_wrap.cpp(1129) : warning C4996: 'stricmp': The POSIX name for this
> item is
>
> deprecated. Instead, use the ISO C++ conformant name: _stricmp. See
> online help
>
> for details.
>
>         C:\Program Files\Microsoft Visual Studio
> 8\VC\INCLUDE\string.h(215) : see declaration of 'stricmp'
>
> gdal_wrap.cpp(4412) : error C2451: conditional expression of type 'void'
> is illegal
>
>         Expressions of type void cannot be converted to other types
>
> gdal_wrap.cpp(4412) : error C2541: 'delete' : cannot delete objects that
> are not
>
>  pointers
>
> gdal_wrap.cpp(4414) : error C2120: 'void' illegal with all types
>
>
>
> I have been looked at the error message and they are implying that
> gdal_wrapp.cpp is not standard C++?  Is this possible?
>
>
>
> Any help would be appreciated,
>
> Thanks Doug
>
>


From DKUNZMAN at overwatch.textron.com  Mon Oct 26 16:02:23 2009
From: DKUNZMAN at overwatch.textron.com (Kunzman, Douglas)
Date: Mon Oct 26 16:09:16 2009
Subject: [gdal-dev] gdal java binding jpip
In-Reply-To: <1256580957.4ae5e75d6ba59@imp.free.fr>
References: <56EA271A2716CA42942737F805B9443403C5DD3A@txamasnwh016.ent.textron.com>
	<1256580957.4ae5e75d6ba59@imp.free.fr>
Message-ID: <56EA271A2716CA42942737F805B9443403C5DF61@txamasnwh016.ent.textron.com>

Even -

It tried the 1.3.39 branch with no problems. So I assume the problem
might be in Norman's sandbox?  I'm going try it under cygwin before
bugging him again.

Doug

-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Monday, October 26, 2009 2:16 PM
To: Kunzman, Douglas
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] gdal java binding jpip

Selon "Kunzman, Douglas" <DKUNZMAN@overwatch.textron.com>:

I haven't tried compiling Norman's sandbox, but could you retry with
just SVN
trunk and see if you still get the error ? The SWIG version you use is
also an
important factor as it breaks quite easily when you switch from one
version to
another one. Trunk Java bindings are known to build fine with swig
1.3.39.

> I am trying to compile the java samples under
> http://svn.osgeo.org/gdal/sandbox/normanb/
> <http://svn.osgeo.org/gdal/sandbox/normanb/>  for use with jpip.  I
> believe this is a general gdal compile issue but I'm not sure.  I'm
new
> to gdal and have searched the web and have found no good information.
> When I type
>
>
>
> swig> -f makefile.vc java
>
>
>
> Using Visual Studio 2005 and Win32/XP
>
>
>
> I get the following error message,
>
>
>
>         C:\Program Files\Microsoft Visual Studio
> 8\VC\INCLUDE\string.h(215) : see declaration of 'stricmp'
>
> gdal_wrap.cpp(1129) : warning C4996: 'stricmp': The POSIX name for
this
> item is
>
> deprecated. Instead, use the ISO C++ conformant name: _stricmp. See
> online help
>
> for details.
>
>         C:\Program Files\Microsoft Visual Studio
> 8\VC\INCLUDE\string.h(215) : see declaration of 'stricmp'
>
> gdal_wrap.cpp(4412) : error C2451: conditional expression of type
'void'
> is illegal
>
>         Expressions of type void cannot be converted to other types
>
> gdal_wrap.cpp(4412) : error C2541: 'delete' : cannot delete objects
that
> are not
>
>  pointers
>
> gdal_wrap.cpp(4414) : error C2120: 'void' illegal with all types
>
>
>
> I have been looked at the error message and they are implying that
> gdal_wrapp.cpp is not standard C++?  Is this possible?
>
>
>
> Any help would be appreciated,
>
> Thanks Doug
>
>


From kevin.chiou at progeny.net  Mon Oct 26 18:15:06 2009
From: kevin.chiou at progeny.net (Chiou, Kevin)
Date: Mon Oct 26 18:15:13 2009
Subject: [gdal-dev] How to submit a fix?
Message-ID: <3F87AA6367687C43A854B8E7073CDF8C0BD902@es-108a.paxriver.progeny.net>

Hi: 
  I am fairly new to the GDAL community can someone point me to the
right direction for submitting a GDAL fix.  
  Basically I found a minor problem in the GDAL Python binding. This is
related to http://trac.osgeo.org/gdal/ticket/3088: "do not remove
leading spaces after TRE=xxxx"  The Python wrapper trims white spaces
when GetMetadata() is called, which is not desired for NITF TRE data. I
found the problem in the wrapper code and updated it.
  Do I just have to open a GDAL Trac ticket and attach the fix?

Thank you, 
Kevin Chiou 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091026/da186940/attachment-0001.html
From even.rouault at mines-paris.org  Mon Oct 26 18:39:25 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct 26 18:39:29 2009
Subject: [gdal-dev] How to submit a fix?
In-Reply-To: <3F87AA6367687C43A854B8E7073CDF8C0BD902@es-108a.paxriver.progeny.net>
References: <3F87AA6367687C43A854B8E7073CDF8C0BD902@es-108a.paxriver.progeny.net>
Message-ID: <1256596765.4ae6251db8249@imp.free.fr>

Selon "Chiou, Kevin" <kevin.chiou@progeny.net>:

> Hi:
>   I am fairly new to the GDAL community can someone point me to the
> right direction for submitting a GDAL fix.
>   Basically I found a minor problem in the GDAL Python binding. This is
> related to http://trac.osgeo.org/gdal/ticket/3088: "do not remove
> leading spaces after TRE=xxxx"  The Python wrapper trims white spaces
> when GetMetadata() is called, which is not desired for NITF TRE data. I
> found the problem in the wrapper code and updated it.
>   Do I just have to open a GDAL Trac ticket and attach the fix?

Yes, that's the usual procedure to collect patches

>
> Thank you,
> Kevin Chiou
>
>
>
>


From mmarks at google.com  Tue Oct 27 14:49:19 2009
From: mmarks at google.com (Mano Marks)
Date: Tue Oct 27 15:00:29 2009
Subject: [gdal-dev] Projecting images with HTML5 Canvas in the web-browser
In-Reply-To: <6e41d95b0910251948x327a2cd2kd61927fd8172599b@mail.gmail.com>
References: <6e41d95b0910251948x327a2cd2kd61927fd8172599b@mail.gmail.com>
Message-ID: <781bff30910271149n18f1d34fj941dfeaaefe7464c@mail.gmail.com>

That's awesome!

Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks




2009/10/25 Klokan Petr P?idal <klokan@klokan.cz>:
> Hi everybody,
>
> on Saturday during the Code Sprint of the FOSS4G 2009 conference in
> Sydney we have made quite interesting step forward in the web
> cartography.
> With the help of other open-source developers I put together a
> prototype of the client-side map reprojection implemented only in
> JavaScript (using HTML5 Canvas tag and the Proj4js JavaScript
> library).
>
> An image as JPEG, PNG or GIF is with JavaScript in a web-browser
> warped into a different map projection.
> The example is reprojecting the world image into the Spherical
> Mercator (map projection of Google Maps), into the map projection used
> in US National Atlas, into Canada LCC and into the Mollweide
> projection (used by National Geographic for thematic mapping).
>
> To try it you need any web browser which supports HTML5, it means the
> latest version of Firefox, Chrome, Safari or Opera.
>
> Have a look at the demo:
> http://examples.maptiler.org/map-reprojection-html5-canvas/
>
> It is just a prove of concept in this moment, but I am sure practical
> applications will follow.
>
> The most typical use could be the client-side warping of raster data
> (weather forecast, ..) into the correct image overlay of Google Maps
> and similar online maps.
> Any WMS sever providing only EPSG:4326 can now correctly overlay
> Google Maps, if somebody use this technique to prepare the mash-up. Of
> course the speed can be an issue in this moment, but there is plenty
> of space for improvement in the warping code, and it can be done in a
> separate computing thread, which is possible with HTML5 Web Workers...
>
> Best,
>
> Klokan Petr Pridal
> --
> http://blog.klokan.cz/
> http://www.maptiler.org/
> http://www.oldmapsonline.org/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From 27949218 at qq.com  Wed Oct 28 04:51:02 2009
From: 27949218 at qq.com (=?ISO-8859-1?B?d293?=)
Date: Wed Oct 28 04:53:10 2009
Subject: [gdal-dev] the Algorithm of Contour Generation 
Message-ID: <tencent_4CC6BABD3525D43E4D6806C3@qq.com>

Hi ,
    My user asked me to give him some description of the algorithm of gdal contour generator as detailed as possible.  I have poor theory about this problem,  anyone could tell me some workflow of this module to save time when i browse the source code?  Thanks.
                                                                                                                                                xuex chen
  ------------------
  To the world you're little, but to a person, maybe you're the world.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091028/5000e5db/attachment.html
From tappenbeck at widemann.de  Wed Oct 28 09:01:05 2009
From: tappenbeck at widemann.de (Jan Tappenbeck)
Date: Wed Oct 28 09:07:56 2009
Subject: [gdal-dev] GDAL: Help for merge jpg of a folder
Message-ID: <4AE84091.9050605@widemann.de>

HI !

i am new in the use of GDAL and i want to merge several jpg-files (100 
images) of a folder in to on - optional by reduce the resolution.

my problem is that i only found the command gdal_merge - but not the 
right options.

can anybody tell me a link or a good example.

regards Jan :-)

From daniele.romagnoli at geo-solutions.it  Wed Oct 28 10:40:10 2009
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Wed Oct 28 10:40:14 2009
Subject: [gdal-dev] GDAL: Help for merge jpg of a folder
In-Reply-To: <4AE84091.9050605@widemann.de>
References: <4AE84091.9050605@widemann.de>
Message-ID: <7221db410910280740h65dfd940xba1ffb45d90fbc89@mail.gmail.com>

Hi Jan,
you can take a look on this:
http://www.gdal.org/gdal_merge.html

Hope this helps.
Cheers,
Daniele

On Wed, Oct 28, 2009 at 2:01 PM, Jan Tappenbeck <tappenbeck@widemann.de>wrote:

> HI !
>
> i am new in the use of GDAL and i want to merge several jpg-files (100
> images) of a folder in to on - optional by reduce the resolution.
>
> my problem is that i only found the command gdal_merge - but not the right
> options.
>
> can anybody tell me a link or a good example.
>
> regards Jan :-)
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091028/5e709cbb/attachment.html
From ari.jolma at gmail.com  Wed Oct 28 10:53:20 2009
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed Oct 28 10:53:29 2009
Subject: [gdal-dev] building perl swig with MingW
In-Reply-To: <ddc797c30910120842x6cd54f54x7ef6b6804bd1b5be@mail.gmail.com>
References: <ddc797c30910120842x6cd54f54x7ef6b6804bd1b5be@mail.gmail.com>
Message-ID: <4AE85AE0.7010005@tkk.fi>

guillaume huby kirjoitti:
> Hello,
>
> I experience some troubles building perl bindings on MingW.
> Here is my config :
>
> Windows XP;
> MingW 5.1.6 + MSys;
> Gdal1.6.2 sources from website;
> ActivePerl 5.10;

The problem is that ActivePerl is compiled with VC and you can't mix 
MinGW,which uses gcc, with that.

Compiling Perl with MinGW is not difficult, however, and there are 
binary distributions too.

Sorry for being so slow to answer.

Cheers,

Ari

From guillaume.huby.lists at gmail.com  Wed Oct 28 11:40:09 2009
From: guillaume.huby.lists at gmail.com (guillaume huby)
Date: Wed Oct 28 11:46:55 2009
Subject: [gdal-dev] building perl swig with MingW
In-Reply-To: <4AE85AE0.7010005@tkk.fi>
References: <ddc797c30910120842x6cd54f54x7ef6b6804bd1b5be@mail.gmail.com>
	<4AE85AE0.7010005@tkk.fi>
Message-ID: <ddc797c30910280840p744672f4s82d2694e480dc523@mail.gmail.com>

Dear Ari,

On Wed, Oct 28, 2009 at 3:53 PM, Ari Jolma <ari.jolma@gmail.com> wrote:

> guillaume huby kirjoitti:
>
>  Hello,
>>
>> I experience some troubles building perl bindings on MingW.
>> Here is my config :
>>
>> Windows XP;
>> MingW 5.1.6 + MSys;
>> Gdal1.6.2 sources from website;
>> ActivePerl 5.10;
>>
>
> The problem is that ActivePerl is compiled with VC and you can't mix
> MinGW,which uses gcc, with that.
>
> Compiling Perl with MinGW is not difficult, however, and there are binary
> distributions too.
>
>
Thank you for your reply !

As a first turn around, I used the compiled files of Geo::Gdal of
GeoInformatica in my ActivePerl directories. It is not very clean but it
works well !

I did not found time to compile perl with MinGW yet, but I hope to be able
to try soon.

Cheers,
Guillaume.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091028/1c7f9d4a/attachment.html
From alan.steel at ext.jrc.ec.europa.eu  Wed Oct 28 12:10:27 2009
From: alan.steel at ext.jrc.ec.europa.eu (Alan Steel)
Date: Wed Oct 28 12:10:32 2009
Subject: [gdal-dev] Can gdal_poligonize.py be used on float data?
Message-ID: <4AE86CF3.9040702@ext.jrc.ec.europa.eu>

Hello All,

I made a shapefile from a raster layer using gdal_polygonize.py. My 
input values are float, but my first attempt of gdal_poligonize.py has 
truncated these to integer values.

Ok, so I read the description of the utility on 
http://www.gdal.org/gdal_polygonize.html, which says:

"The utility is based on the GDALPolygonize() function.
 > Note that currently the source pixel band values are read into a 
signed 32bit integer buffer (Int32), so floating point or complex bands 
will be implicitly truncated before processing..."

Anybody got a version that handles float data?
Also, the link to the source code doesn't work at 
http://www.gdal.org/gdal__alg_8h.html#3f522a9035d3512b5d414fb4752671b1

Cheers,

Alan Steel
From lucafasano at interfree.it  Wed Oct 28 12:19:28 2009
From: lucafasano at interfree.it (Luca Fasano)
Date: Wed Oct 28 12:26:19 2009
Subject: [gdal-dev] GDAL DataType class
Message-ID: <1256746768.18016.6.camel@fasano-Linux>

Hi all,
I need a way to retrieve a GDAL DataType (its code or its string name,
it's the same) starting from all information on it. Does it exist a
class or method to to this?
For example:
GdalDataType(nbits=32, float=True, Complex=True) -> gdal.GDT_CFloat32
I use Python bindings for GDAL.

I'd like to avoid building the string manually (i.e.
'GDT_'+'C'+'Float'+'32')
Thanks 

From jorge.arevalo at gmail.com  Wed Oct 28 12:31:08 2009
From: jorge.arevalo at gmail.com (=?UTF-8?Q?Jorge_Ar=C3=A9valo?=)
Date: Wed Oct 28 12:31:30 2009
Subject: [gdal-dev] Question about gdal2tiles
Message-ID: <cb4457700910280931y41da5d2ape6ea39c569b491c@mail.gmail.com>

Hello,

I've a problem with gdal2tiles. I need to create tiles from an image
of 5 GB, more or less. The image has been created rasterizing a
shapefile. The shapefile's original projection was epsg:23028, but I
had to reproject it to epsg:23030 (because I had to cross this
shapefile with other ones in epsg:23030). To reproject, I used this:

ogr2ogr -s_srs epsg:23028 -t_srs epsg:23030 -f "Mapinfo File" dst.mif src.mif


Then, I rasterized the shapefile reprojected.

After this, I execute gdal2tiles, using resampling method 'near', but
it takes a loooooooooong time to complete the process. With other non
reprojected shapefiles (in epsg 23030 originally), the process is much
faster. What am I doing wrong?

Thanks in advance, and best regards

Jorge
From warmerdam at pobox.com  Wed Oct 28 12:35:55 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 28 12:41:12 2009
Subject: [gdal-dev] GDAL DataType class
In-Reply-To: <1256746768.18016.6.camel@fasano-Linux>
References: <1256746768.18016.6.camel@fasano-Linux>
Message-ID: <4AE872EB.90101@pobox.com>

Luca Fasano wrote:
> Hi all,
> I need a way to retrieve a GDAL DataType (its code or its string name,
> it's the same) starting from all information on it. Does it exist a
> class or method to to this?
> For example:
> GdalDataType(nbits=32, float=True, Complex=True) -> gdal.GDT_CFloat32
> I use Python bindings for GDAL.
> 
> I'd like to avoid building the string manually (i.e.
> 'GDT_'+'C'+'Float'+'32')
> Thanks 

Luca,

No such function exists.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From hobu.inc at gmail.com  Wed Oct 28 12:48:28 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Oct 28 12:51:25 2009
Subject: [gdal-dev] GDAL DataType class
In-Reply-To: <4AE872EB.90101@pobox.com>
References: <1256746768.18016.6.camel@fasano-Linux> <4AE872EB.90101@pobox.com>
Message-ID: <DEC3F287-AD54-4AFB-891B-6EB09BA4A1C9@gmail.com>


On Oct 28, 2009, at 11:35 AM, Frank Warmerdam wrote:

> Luca Fasano wrote:
>> Hi all,
>> I need a way to retrieve a GDAL DataType (its code or its string  
>> name,
>> it's the same) starting from all information on it. Does it exist a
>> class or method to to this?
>> For example:
>> GdalDataType(nbits=32, float=True, Complex=True) -> gdal.GDT_CFloat32
>> I use Python bindings for GDAL.
>> I'd like to avoid building the string manually (i.e.
>> 'GDT_'+'C'+'Float'+'32')
>> Thanks
>
> Luca,
>
> No such function exists.

We could take a patch and apply it to the Python bindings if you were  
to provide it though.  That would be handy, especially if it were  
smart enough to throw exceptions for permutations that can't exist in  
GDAL.

Howard
From chaitanya.ch at gmail.com  Wed Oct 28 13:08:10 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed Oct 28 13:08:13 2009
Subject: [gdal-dev] Maintenance report for Sep 25, 2009 to Oct 27, 2009
Message-ID: <eb502d880910281008m7d58b220ga5bb157cc192e145@mail.gmail.com>

Frank,

Please I have updated my maintenance report at
http://trac.osgeo.org/gdal/wiki/MaintenanceReportsByChaitanya
Please find the attached copy of the report.

-- 
Best regards,
Chaitanya kumar CH.
-------------- next part --------------
Sep 25, 2009 to Oct 27, 2009

#3156: Fixed the problem with xerces library's changes between versions 2 and 3. Also found and fixed a bug that caused segmentation fault in ili driver.

#2270: Tested and applied the patch for HDF5 block size recognition

#3161: Reviewed proposal for gdal_merge.py 

#3129: Looked into the norms of contour orientation and gone through the code to get a feel fo the algorithm.

#3166: Researched netcdf and hdf specifications for the size issue.

#3154: Configure snippet is not truly able to manage both netcdf3 and netcdf4

Read up on autoconf

gdal-dev

--
Chaitanya kumar CH
chaitanyach@gmail.com
From woklist at kyngchaos.com  Wed Oct 28 14:13:43 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Oct 28 14:13:49 2009
Subject: [gdal-dev] driver paths - either/or
Message-ID: <0CA201CA-F28E-4252-9F94-7D728096AE95@kyngchaos.com>

I just noticed that when setting GDAL_DRIVER_PATH in the environment,  
it overrides the paths configured into GDAL, instead of adding to  
those paths.  Was this intentional?  Any way to tell GDAL to *add*  
GDAL_DRIVER_PATH to the configured paths?

I want to override the installed GRASS plugin when starting up GRASS  
to point to a version compatible with the GRASS being started.

ie:

installed plugin: gdal_ & ogr_GRASS v6.4
also installed as a plugin: gdal_ECW_JP2ECW

GDAL_DRIVER_PATH=/path/to/GRASS-6.5/lib/gdalplugins (gdal_ & ogr_GRASS  
v6.5)

So, the v6.5 plugin is loaded, but now I don't have my ECW plugin.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Those people who most want to rule people are, ipso-facto, those  
least suited to do it."

- A rule of the universe, from the HitchHiker's Guide to the Galaxy


From warmerdam at pobox.com  Wed Oct 28 14:25:25 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 28 14:25:24 2009
Subject: [gdal-dev] driver paths - either/or
In-Reply-To: <0CA201CA-F28E-4252-9F94-7D728096AE95@kyngchaos.com>
References: <0CA201CA-F28E-4252-9F94-7D728096AE95@kyngchaos.com>
Message-ID: <4AE88C95.6060800@pobox.com>

William Kyngesburye wrote:
> I just noticed that when setting GDAL_DRIVER_PATH in the environment, it 
> overrides the paths configured into GDAL, instead of adding to those 
> paths.  Was this intentional?  Any way to tell GDAL to *add* 
> GDAL_DRIVER_PATH to the configured paths?
> 
> I want to override the installed GRASS plugin when starting up GRASS to 
> point to a version compatible with the GRASS being started.
> 
> ie:
> 
> installed plugin: gdal_ & ogr_GRASS v6.4
> also installed as a plugin: gdal_ECW_JP2ECW
> 
> GDAL_DRIVER_PATH=/path/to/GRASS-6.5/lib/gdalplugins (gdal_ & ogr_GRASS 
> v6.5)
> 
> So, the v6.5 plugin is loaded, but now I don't have my ECW plugin.

William,

There is no way to ask that GDAL_DRIVER_PATH be added to the default
path, but it can hold a list of directories so you can supply the new
directory and the old directories.

eg.
GDAL_DRIVER_PATH=path/to/GRASS-6.5/lib/gdalplugins:/path/to/normal/gdal/plugins




-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From woklist at kyngchaos.com  Wed Oct 28 14:58:56 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Oct 28 14:59:01 2009
Subject: [gdal-dev] driver paths - either/or
In-Reply-To: <4AE88C95.6060800@pobox.com>
References: <0CA201CA-F28E-4252-9F94-7D728096AE95@kyngchaos.com>
	<4AE88C95.6060800@pobox.com>
Message-ID: <01380AA0-0EF7-44C9-9334-5A6FBAA9E9B1@kyngchaos.com>

On Oct 28, 2009, at 1:25 PM, Frank Warmerdam wrote:

> William Kyngesburye wrote:
>> I just noticed that when setting GDAL_DRIVER_PATH in the  
>> environment, it overrides the paths configured into GDAL, instead  
>> of adding to those paths.  Was this intentional?  Any way to tell  
>> GDAL to *add* GDAL_DRIVER_PATH to the configured paths?
>> I want to override the installed GRASS plugin when starting up  
>> GRASS to point to a version compatible with the GRASS being started.
>> ie:
>> installed plugin: gdal_ & ogr_GRASS v6.4
>> also installed as a plugin: gdal_ECW_JP2ECW
>> GDAL_DRIVER_PATH=/path/to/GRASS-6.5/lib/gdalplugins (gdal_ &  
>> ogr_GRASS v6.5)
>> So, the v6.5 plugin is loaded, but now I don't have my ECW plugin.
>
> William,
>
> There is no way to ask that GDAL_DRIVER_PATH be added to the default
> path, but it can hold a list of directories so you can supply the new
> directory and the old directories.
>
> eg.
> GDAL_DRIVER_PATH=path/to/GRASS-6.5/lib/gdalplugins:/path/to/normal/ 
> gdal/plugins
>

I kinda figured I'd have to do something like that.  But then the  
problem is discovering the configured paths.  Since I'm dealing with  
my own distributions, I could assume what those paths are...

thanks anyways


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy


From Luke.Pinner at environment.gov.au  Wed Oct 28 19:20:44 2009
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Wed Oct 28 19:27:25 2009
Subject: [gdal-dev] GDAL DataType class
References: <1256746768.18016.6.camel@fasano-Linux>
Message-ID: <64102B2FB850C345B04D09C82018F45F0273EAFB@ACT01VEXCCL04.internal.govt>

You could easily roll your own.

from osgeo import gdal

class GdalDataType(object):

    def __init__(self, nbits, Float, Complex):

        for i in range(0,gdal.GDT_TypeCount):
            self.DataType=None
            DataType=i
            DataTypeName=gdal.GetDataTypeName(i)
            DataTypeSize=gdal.GetDataTypeSize(i)
            DataTypeIsFloat ='Float' in DataTypeName
            DataTypeIsComplex=gdal.DataTypeIsComplex(i)==1

            if DataTypeSize==nbits and DataTypeIsFloat==Float and
DataTypeIsComplex==Complex:
                self.DataType=DataType
                self.DataTypeName=DataTypeName
                self.DataTypeSize=DataTypeSize
                self.DataTypeIsFloat=DataTypeIsFloat
                self.DataTypeIsComplex=DataTypeIsComplex
                break
        if self.DataType is None: raise TypeError, 'No matching DataType
found'

gdt=GdalDataType(nbits=32, Float=True, Complex=False)
print gdt.DataTypeName

Luke

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Luca Fasano
Sent: Thursday, 29 October 2009 3:19 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] GDAL DataType class

Hi all,
I need a way to retrieve a GDAL DataType (its code or its string name,
it's the same) starting from all information on it. Does it exist a
class or method to to this?
For example:
GdalDataType(nbits=32, float=True, Complex=True) -> gdal.GDT_CFloat32
I use Python bindings for GDAL.

I'd like to avoid building the string manually (i.e.
'GDT_'+'C'+'Float'+'32')
Thanks 

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


------
If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments. 



Please consider the environment before printing this email.

------

From Luke.Pinner at environment.gov.au  Wed Oct 28 19:56:32 2009
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Wed Oct 28 19:56:40 2009
Subject: [gdal-dev] GDAL DataType class
References: <1256746768.18016.6.camel@fasano-Linux>
	<64102B2FB850C345B04D09C82018F45F0273EAFB@ACT01VEXCCL04.internal.govt>
Message-ID: <64102B2FB850C345B04D09C82018F45F0273EAFC@ACT01VEXCCL04.internal.govt>

Ooops... I neglected the signed check. 

from osgeo import gdal

class GdalDataType(object):

    def __init__(self, nbits, Float, Signed=True, Complex=False):

        for i in range(0,gdal.GDT_TypeCount):
            self.DataType=None
            DataType=i
            DataTypeName=gdal.GetDataTypeName(i)
            DataTypeSize=gdal.GetDataTypeSize(i)
            DataTypeIsFloat ='Float' in DataTypeName
            DataTypeIsSigned = DataTypeIsFloat or DataTypeName[0:4] in
['Byte','UInt']
            DataTypeIsComplex=gdal.DataTypeIsComplex(i)==1

            if DataTypeSize==nbits and DataTypeIsFloat==Float and
DataTypeIsSigned==Signed and DataTypeIsComplex==Complex:
                self.DataType=DataType
                self.DataTypeName=DataTypeName
                self.DataTypeSize=DataTypeSize
                self.DataTypeIsFloat=DataTypeIsFloat
                self.DataTypeIsSigned=DataTypeIsSigned
                self.DataTypeIsComplex=DataTypeIsComplex
                if DataTypeIsSigned:
                    self.DataTypeRange=[-2**(nbits-1),2**(nbits-1)]
                else:
                    self.DataTypeRange=[0,2**nbits-1]
                break
        if self.DataType is None: raise TypeError, 'No matching DataType
found'

gdt=GdalDataType(nbits=32, Float=True, Complex=False)
print gdt.DataTypeName

-----Original Message-----
From: Pinner, Luke 
Sent: Thursday, 29 October 2009 10:21 AM
To: 'Luca Fasano'; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] GDAL DataType class

You could easily roll your own.

from osgeo import gdal

class GdalDataType(object):

    def __init__(self, nbits, Float, Complex=False, Signed=False):

        for i in range(0,gdal.GDT_TypeCount):
            self.DataType=None
            DataType=i
            DataTypeName=gdal.GetDataTypeName(i)
            DataTypeSize=gdal.GetDataTypeSize(i)
            DataTypeIsFloat ='Float' in DataTypeName
            DataTypeIsComplex=gdal.DataTypeIsComplex(i)==1

            if DataTypeSize==nbits and DataTypeIsFloat==Float and
DataTypeIsComplex==Complex:
                self.DataType=DataType
                self.DataTypeName=DataTypeName
                self.DataTypeSize=DataTypeSize
                self.DataTypeIsFloat=DataTypeIsFloat
                self.DataTypeIsComplex=DataTypeIsComplex
                break
        if self.DataType is None: raise TypeError, 'No matching DataType
found'

gdt=GdalDataType(nbits=32, Float=True, Complex=False)
print gdt.DataTypeName

Luke

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Luca Fasano
Sent: Thursday, 29 October 2009 3:19 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] GDAL DataType class

Hi all,
I need a way to retrieve a GDAL DataType (its code or its string name,
it's the same) starting from all information on it. Does it exist a
class or method to to this?
For example:
GdalDataType(nbits=32, float=True, Complex=True) -> gdal.GDT_CFloat32
I use Python bindings for GDAL.

I'd like to avoid building the string manually (i.e.
'GDT_'+'C'+'Float'+'32')
Thanks 

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


------
If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments. 



Please consider the environment before printing this email.

------

From 27949218 at qq.com  Wed Oct 28 20:35:12 2009
From: 27949218 at qq.com (=?ISO-8859-1?B?d293?=)
Date: Wed Oct 28 20:35:17 2009
Subject: [gdal-dev] the Algorithm of Contour Generation 
Message-ID: <tencent_55E92D3174C1A9923DFB771B@qq.com>

------------------
  To the world you're little, but to a person, maybe you're the world.
  


 
 
  
   
  
  ------------------ Original ------------------
  From:  "wow"<27949218@qq.com>;
 Date:  Wed, Oct 28, 2009 04:51 PM
 To:  "gdal-dev"<gdal-dev@lists.osgeo.org>; 
 
 Subject:  the Algorithm of Contour Generation 

  
        
      Hi ,
    My user asked me to give him some description of the algorithm of gdal contour generator as detailed as possible.  I have poor theory about this problem,  anyone could tell me some workflow of this module to save time when i browse the source code?  Thanks.
      
 xuex chen
  ------------------
  To the world you're little, but to a person, maybe you're the world.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091029/ef9475de/attachment.html
From jukka.rahkonen at mmmtike.fi  Thu Oct 29 08:12:12 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Oct 29 08:12:39 2009
Subject: [gdal-dev] Re: Question about gdal2tiles
References: <cb4457700910280931y41da5d2ape6ea39c569b491c@mail.gmail.com>
Message-ID: <loom.20091029T130620-312@post.gmane.org>

Jorge Ar?valo <jorge.arevalo <at> gmail.com> writes:

> 
> Hello,
> 
> I've a problem with gdal2tiles. I need to create tiles from an image
> of 5 GB, more or less. The image has been created rasterizing a
> shapefile. The shapefile's original projection was epsg:23028, but I
> had to reproject it to epsg:23030 (because I had to cross this
> shapefile with other ones in epsg:23030). To reproject, I used this:
> 
> ogr2ogr -s_srs epsg:23028 -t_srs epsg:23030 -f "Mapinfo File" dst.mif src.mif
> 
> Then, I rasterized the shapefile reprojected.
> 
> After this, I execute gdal2tiles, using resampling method 'near', but
> it takes a loooooooooong time to complete the process. With other non
> reprojected shapefiles (in epsg 23030 originally), the process is much
> faster. What am I doing wrong?
> 
> Thanks in advance, and best regards

Hi,

Have a look at gdalinfo reports about the slow image and about one of the fast
ones.  Check if there are considerable differences in image sizes in pixels. If
images are about as big then look at the file formats and see if they are
somehow different.

-Jukka Rahkonen-

From bartvde at osgis.nl  Thu Oct 29 10:33:01 2009
From: bartvde at osgis.nl (bartvde@osgis.nl)
Date: Thu Oct 29 10:33:25 2009
Subject: [gdal-dev] ArcSDE raster cell size issue
Message-ID: <37932.145.50.39.11.1256826781.squirrel@webmail.hostingdiscounter.nl>

Hi list,

I am trying to access an ArcSDE raster through GDAL, and gdalinfo gives me
the following info:

gdalinfo
SDE:geodatabase.ad.rws.nl,port:5151,5151,RWS_LEZEN,XXXX,HOOGTE.AHN2_5
Driver: SDE/ESRI ArcSDE
Files: none associated
Size is 41151, 48412
Coordinate System is:
PROJCS["RD_New",
    GEOGCS["GCS_Amersfoort",
        DATUM["Amersfoort",
            SPHEROID["Bessel_1841",6377397.155,299.1528128]],
        PRIMEM["Greenwich",0.0],
        UNIT["Degree",0.0174532925199433]],
    PROJECTION["Double_Stereographic"],
    PARAMETER["False_Easting",155000.0],
    PARAMETER["False_Northing",463000.0],
    PARAMETER["Central_Meridian",5.38763888888889],
    PARAMETER["Scale_Factor",0.9999079],
    PARAMETER["Latitude_Of_Origin",52.15616055555555],
    UNIT["Meter",1.0]]
Origin = (18759.994106925882079,618770.000206564669497)
Pixel Size = (5.011786148238153,-5.000413129247485)
Corner Coordinates:
Upper Left  (   18759.994,  618770.000)
Lower Left  (   18759.994,  376690.000)
Upper Right (  225000.006,  618770.000)
Lower Right (  225000.006,  376690.000)
Center      (  121880.000,  497730.000)
Band 1 Block=128x128 Type=Float32, ColorInterp=Gray
Killed

Whereas ArcCatalog says the grid is 5 by 5 meters, which is the expected
cell size. Does anybody have an idea why GDAL is reporting a different
cell size?

<TreeList><Data_Source><Raster>HOOGTE.ahn2_5</Raster><Data_Type>SDE
Raster</Data_Type><Server>geodatabase.ad.rws.nl<User>RWS_LEZEN</User><Instance>5151\tcp</Instance><Database></Database><Version>SDE.DEFAULT</Version></Server></Data_Source><Raster_Information><Columns_and_Rows>41151,
48412</Columns_and_Rows><Number_of_Bands>1</Number_of_Bands><Cellsize__X._Y_>5,
5</Cellsize__X._Y_><Uncompressed_Size>7.42
GB</Uncompressed_Size><Format>SDR</Format><Source_Type>continuous</Source_Type><Pixel_Type>floating
point</Pixel_Type><Pixel_Depth>32
Bit</Pixel_Depth><NoData_Value>-3.402823E+38</NoData_Value><Colormap>absent</Colormap><Pyramids>level:
8, resampling: Nearest
Neighbor</Pyramids><Compression>LZ77</Compression></Raster_Information><Extent><Top>618750</Top><Left>19245</Left><Right>225000</Right><Bottom>376690</Bottom></Extent><Spatial_Reference>RD_New<Linear_Unit>Meter
(1.000000)</Linear_Unit><Angular_Unit>Degree
(0.017453292519943299)</Angular_Unit><False_Easting>155000</False_Easting><False_Northing>463000</False_Northing><Central_Meridian>5.38763888888889</Central_Meridian><Scale_Factor>0.9999079</Scale_Factor><Latitude_Of_Origin>52.15616055555555</Latitude_Of_Origin><Datum>D_Amersfoort</Datum></Spatial_Reference><Statistics><Band_1>Statistics
have not been
calculated.<Build_Parameters></Build_Parameters><Min></Min><Max></Max><Mean></Mean><Std_dev.></Std_dev.><Classes></Classes></Band_1></Statistics></TreeList>

Best regards,
Bart

From amanda.m.henneke at boeing.com  Thu Oct 29 17:00:59 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Thu Oct 29 17:01:22 2009
Subject: [gdal-dev] Problem with adding Attributes to a point shapefile
Message-ID: <D901C7FDFE03E042B41317116B98302964BD4BFE9A@XCH-MW-05V.mw.nos.boeing.com>

Hello-

I'm trying to create a point shapefile of all the first points in the polygons (from a poly shapefile) as shown below.  I also want to assign some attributes to the different point features.  I am having some issues doing this.  I get an error on the "feaPt.SetField("LAND_USE", sLandUse)" line that says "AccessViolationException was unhandled Attempted to read or write protected memory.  This is often an indication that other memory is corrupt".

If I take the attribute stuff out it runs fine and creates the shapefile.  I've done attribute adding before and this way has always worked for me, any ideas what I'm doing wrong???

      public void BuildShapefile(string sPolyShapeFile)
      {
         Ogr.RegisterAll();

         // Get driver for the shapefiles
         Driver drvShpFile = Ogr.GetDriverByName("ESRI Shapefile");

         // Create a Spatial Reference
         OSGeo.OSR.SpatialReference srGeo = new OSGeo.OSR.SpatialReference("");
         srGeo.SetGeogCS("Geographic Coordinate System", OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR, OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING, "Greenwich", 0.0, "degree", 0.0174532925199433);

         // Create a datasource for the polygon file and for the new point file
         DataSource dsPolyShpFile = Ogr.Open(sPolyShapeFile, 0);
         DataSource dsPtShpFile = drvShpFile.CreateDataSource("D:\\Vector\\Output", new string[] { });

         // Create layers for the polygon file and the point file
         Layer lyrPoly = dsPolyShpFile.GetLayerByIndex(0);
         Layer lyrPt = dsPtShpFile.CreateLayer("Junk", srGeo, wkbGeometryType.wkbPoint, new string[] { });

         // Create Field Definition, Feature Definition and Features to enable us writing attributes to the new shapefile

         FeatureDefn feadefPt = lyrPt.GetLayerDefn();

         Feature feaPt = new Feature(feadefPt);
         Feature feaPoly;

         FieldDefn flddefLandUse = new FieldDefn("LAND_USE", FieldType.OFTString);

         flddefLandUse.SetWidth(100);

         //// Create an attribute field
         lyrPt.CreateField(flddefLandUse, 0);

         flddefLandUse.Dispose();

         // Create the Geometry for the new point file
         Geometry geoPoint = new Geometry(wkbGeometryType.wkbPoint);

         Geometry geoPoly = new Geometry(wkbGeometryType.wkbPolygon);
         Geometry geoPolyRing = new Geometry(wkbGeometryType.wkbLinearRing);

         int iFeaCount = lyrPoly.GetFeatureCount(1);

         // Loop through the poly file to get the points
         for (int iFea = 0; iFea < iFeaCount; iFea++)
         {
            feaPoly = lyrPoly.GetFeature(iFea);
            string sLandUse = feaPoly.GetFieldAsString("PGLANDUSE");
            geoPoly = feaPoly.GetGeometryRef();
            geoPolyRing = geoPoly.GetGeometryRef(0);

            // Add a point
            geoPoint.AddPoint(geoPolyRing.GetX(0), geoPolyRing.GetY(0), 0.0);
            feaPt.SetGeometry(geoPoint);

            // Set the attribute
            feaPt.SetField("LAND_USE", sLandUse);

            lyrPt.CreateFeature(feaPt);

            geoPoint.Empty();

            if (iFea == (iFeaCount - 1))
               feaPoly.Dispose();
         }
         geoPolyRing.Dispose();
         geoPoly.Dispose();
         geoPoint.Dispose();
         feaPt.Dispose();
         feadefPt.Dispose();
         lyrPoly.Dispose();
         lyrPt.Dispose();
         dsPolyShpFile.Dispose();
         dsPtShpFile.Dispose();
         srGeo.Dispose();
         drvShpFile.Dispose();
      }

Thanks,
Amanda M. Henneke




When One tugs at a single thing in Nature, he finds it attached to the rest of the world. -John Muir
  Please consider the environment before printing this e-mail.


From even.rouault at mines-paris.org  Thu Oct 29 18:33:11 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct 29 18:33:16 2009
Subject: [gdal-dev] Problem with adding Attributes to a point shapefile
In-Reply-To: <D901C7FDFE03E042B41317116B98302964BD4BFE9A@XCH-MW-05V.mw.nos.boeing.com>
References: <D901C7FDFE03E042B41317116B98302964BD4BFE9A@XCH-MW-05V.mw.nos.boeing.com>
Message-ID: <1256855591.4aea182750702@imp.free.fr>

Selon "Henneke, Amanda M" <amanda.m.henneke@boeing.com>:

Amanda,

The fundamental reason is a call ordering problem. You currently do :

FeatureDefn feadefPt = lyrPt.GetLayerDefn();
Feature feaPt = new Feature(feadefPt);
lyrPt.CreateField(flddefLandUse, 0);

which is wrong as you change the feature definition after having instanciated a
feature. When you instanciate a feature, the feature definition must not change
after (arrays are created with the number of fields of the definition, so layer
the SetField() call will try to set an out-of-bound element). So the fix is to
simply move the feature instanciation after the CreateField() call

Best regards,

Even

> Hello-
>
> I'm trying to create a point shapefile of all the first points in the
> polygons (from a poly shapefile) as shown below.  I also want to assign some
> attributes to the different point features.  I am having some issues doing
> this.  I get an error on the "feaPt.SetField("LAND_USE", sLandUse)" line that
> says "AccessViolationException was unhandled Attempted to read or write
> protected memory.  This is often an indication that other memory is corrupt".
>
> If I take the attribute stuff out it runs fine and creates the shapefile.
> I've done attribute adding before and this way has always worked for me, any
> ideas what I'm doing wrong???
>
>       public void BuildShapefile(string sPolyShapeFile)
>       {
>          Ogr.RegisterAll();
>
>          // Get driver for the shapefiles
>          Driver drvShpFile = Ogr.GetDriverByName("ESRI Shapefile");
>
>          // Create a Spatial Reference
>          OSGeo.OSR.SpatialReference srGeo = new
> OSGeo.OSR.SpatialReference("");
>          srGeo.SetGeogCS("Geographic Coordinate System",
> OSGeo.OSR.Osr.SRS_DN_WGS84, OSGeo.OSR.Osr.SRS_DN_WGS84,
> OSGeo.OSR.Osr.SRS_WGS84_SEMIMAJOR, OSGeo.OSR.Osr.SRS_WGS84_INVFLATTENING,
> "Greenwich", 0.0, "degree", 0.0174532925199433);
>
>          // Create a datasource for the polygon file and for the new point
> file
>          DataSource dsPolyShpFile = Ogr.Open(sPolyShapeFile, 0);
>          DataSource dsPtShpFile =
> drvShpFile.CreateDataSource("D:\\Vector\\Output", new string[] { });
>
>          // Create layers for the polygon file and the point file
>          Layer lyrPoly = dsPolyShpFile.GetLayerByIndex(0);
>          Layer lyrPt = dsPtShpFile.CreateLayer("Junk", srGeo,
> wkbGeometryType.wkbPoint, new string[] { });
>
>          // Create Field Definition, Feature Definition and Features to
> enable us writing attributes to the new shapefile
>
>          FeatureDefn feadefPt = lyrPt.GetLayerDefn();
>
>          Feature feaPt = new Feature(feadefPt);
>          Feature feaPoly;
>
>          FieldDefn flddefLandUse = new FieldDefn("LAND_USE",
> FieldType.OFTString);
>
>          flddefLandUse.SetWidth(100);
>
>          //// Create an attribute field
>          lyrPt.CreateField(flddefLandUse, 0);
>
>          flddefLandUse.Dispose();
>
>          // Create the Geometry for the new point file
>          Geometry geoPoint = new Geometry(wkbGeometryType.wkbPoint);
>
>          Geometry geoPoly = new Geometry(wkbGeometryType.wkbPolygon);
>          Geometry geoPolyRing = new Geometry(wkbGeometryType.wkbLinearRing);
>
>          int iFeaCount = lyrPoly.GetFeatureCount(1);
>
>          // Loop through the poly file to get the points
>          for (int iFea = 0; iFea < iFeaCount; iFea++)
>          {
>             feaPoly = lyrPoly.GetFeature(iFea);
>             string sLandUse = feaPoly.GetFieldAsString("PGLANDUSE");
>             geoPoly = feaPoly.GetGeometryRef();
>             geoPolyRing = geoPoly.GetGeometryRef(0);
>
>             // Add a point
>             geoPoint.AddPoint(geoPolyRing.GetX(0), geoPolyRing.GetY(0), 0.0);
>             feaPt.SetGeometry(geoPoint);
>
>             // Set the attribute
>             feaPt.SetField("LAND_USE", sLandUse);
>
>             lyrPt.CreateFeature(feaPt);
>
>             geoPoint.Empty();
>
>             if (iFea == (iFeaCount - 1))
>                feaPoly.Dispose();
>          }
>          geoPolyRing.Dispose();
>          geoPoly.Dispose();
>          geoPoint.Dispose();
>          feaPt.Dispose();
>          feadefPt.Dispose();
>          lyrPoly.Dispose();
>          lyrPt.Dispose();
>          dsPolyShpFile.Dispose();
>          dsPtShpFile.Dispose();
>          srGeo.Dispose();
>          drvShpFile.Dispose();
>       }
>
> Thanks,
> Amanda M. Henneke
>
>
>
>
> When One tugs at a single thing in Nature, he finds it attached to the rest
> of the world. -John Muir
>   Please consider the environment before printing this e-mail.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From warmerdam at pobox.com  Fri Oct 30 04:18:39 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 30 04:18:20 2009
Subject: [gdal-dev] OGR VRT Schema Support
Message-ID: <4AEAA15F.3050909@pobox.com>

Folks,

I have done a bit of work around OGR recently to make it easier to manage
schemas for layers as VRT files.  For a project I wanted to be able to
have a VRT file which would define a set of layers with geometry types,
coordinate systems, fields and related information that I could use
with ogr2ogr or similar utilities to create all the layers.

To that end I have:

  o Extended the VRT driver to support <Field> definitions giving all
    the details of an attribute field on a layer (type, width, name, precision
    and the source field it comes from in the source layer).

  o Written an ogr2vrt.py script that will create a VRT corresponding to a
    source datasource.  This is the ogr equivelent to what we could do with
    gdal_translate -of VRT in.tif out.vrt but for feature datasources.  The
    script currently lives in gdal/swig/python/samples but I may promote it
    to the scripts directory implying it is supported if it is deemed to be
    useful.

  o Modified the VRT driver so that if the datasource name is @dummy@ it will
    not go looking for an external file - it just creates a dummy memory
    datasource and layer.  This effectively turns the .vrt into a schema
    definition since there will be no effort to go looking for features on
    the layers.  The -schema switch to ogr2vrt.py will create a VRT setup
    this way.

Let me know if there are any questions or interest in this capability.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bartvde at osgis.nl  Fri Oct 30 04:54:46 2009
From: bartvde at osgis.nl (bartvde@osgis.nl)
Date: Fri Oct 30 04:55:24 2009
Subject: [gdal-dev] Re: ArcSDE raster cell size issue
In-Reply-To: <37932.145.50.39.11.1256826781.squirrel@webmail.hostingdiscounter.nl>
References: <37932.145.50.39.11.1256826781.squirrel@webmail.hostingdiscounter.nl>
Message-ID: <52268.145.50.39.11.1256892886.squirrel@webmail.hostingdiscounter.nl>

After a bit of debugging I found out this is related to ticket:2063, the
changeset from that ticket is causing my grid cell size problems.

http://trac.osgeo.org/gdal/ticket/2063#comment:4

Best regards,
Bart

> Hi list,
>
> I am trying to access an ArcSDE raster through GDAL, and gdalinfo gives me
> the following info:
>
> gdalinfo
> SDE:geodatabase.ad.rws.nl,port:5151,5151,RWS_LEZEN,XXXX,HOOGTE.AHN2_5
> Driver: SDE/ESRI ArcSDE
> Files: none associated
> Size is 41151, 48412
> Coordinate System is:
> PROJCS["RD_New",
>     GEOGCS["GCS_Amersfoort",
>         DATUM["Amersfoort",
>             SPHEROID["Bessel_1841",6377397.155,299.1528128]],
>         PRIMEM["Greenwich",0.0],
>         UNIT["Degree",0.0174532925199433]],
>     PROJECTION["Double_Stereographic"],
>     PARAMETER["False_Easting",155000.0],
>     PARAMETER["False_Northing",463000.0],
>     PARAMETER["Central_Meridian",5.38763888888889],
>     PARAMETER["Scale_Factor",0.9999079],
>     PARAMETER["Latitude_Of_Origin",52.15616055555555],
>     UNIT["Meter",1.0]]
> Origin = (18759.994106925882079,618770.000206564669497)
> Pixel Size = (5.011786148238153,-5.000413129247485)
> Corner Coordinates:
> Upper Left  (   18759.994,  618770.000)
> Lower Left  (   18759.994,  376690.000)
> Upper Right (  225000.006,  618770.000)
> Lower Right (  225000.006,  376690.000)
> Center      (  121880.000,  497730.000)
> Band 1 Block=128x128 Type=Float32, ColorInterp=Gray
> Killed
>
> Whereas ArcCatalog says the grid is 5 by 5 meters, which is the expected
> cell size. Does anybody have an idea why GDAL is reporting a different
> cell size?
>
> <TreeList><Data_Source><Raster>HOOGTE.ahn2_5</Raster><Data_Type>SDE
> Raster</Data_Type><Server>geodatabase.ad.rws.nl<User>RWS_LEZEN</User><Instance>5151\tcp</Instance><Database></Database><Version>SDE.DEFAULT</Version></Server></Data_Source><Raster_Information><Columns_and_Rows>41151,
> 48412</Columns_and_Rows><Number_of_Bands>1</Number_of_Bands><Cellsize__X._Y_>5,
> 5</Cellsize__X._Y_><Uncompressed_Size>7.42
> GB</Uncompressed_Size><Format>SDR</Format><Source_Type>continuous</Source_Type><Pixel_Type>floating
> point</Pixel_Type><Pixel_Depth>32
> Bit</Pixel_Depth><NoData_Value>-3.402823E+38</NoData_Value><Colormap>absent</Colormap><Pyramids>level:
> 8, resampling: Nearest
> Neighbor</Pyramids><Compression>LZ77</Compression></Raster_Information><Extent><Top>618750</Top><Left>19245</Left><Right>225000</Right><Bottom>376690</Bottom></Extent><Spatial_Reference>RD_New<Linear_Unit>Meter
> (1.000000)</Linear_Unit><Angular_Unit>Degree
> (0.017453292519943299)</Angular_Unit><False_Easting>155000</False_Easting><False_Northing>463000</False_Northing><Central_Meridian>5.38763888888889</Central_Meridian><Scale_Factor>0.9999079</Scale_Factor><Latitude_Of_Origin>52.15616055555555</Latitude_Of_Origin><Datum>D_Amersfoort</Datum></Spatial_Reference><Statistics><Band_1>Statistics
> have not been
> calculated.<Build_Parameters></Build_Parameters><Min></Min><Max></Max><Mean></Mean><Std_dev.></Std_dev.><Classes></Classes></Band_1></Statistics></TreeList>
>
> Best regards,
> Bart
>


From srikanth1947 at gmail.com  Fri Oct 30 04:53:14 2009
From: srikanth1947 at gmail.com (Srikanth)
Date: Fri Oct 30 04:59:45 2009
Subject: [gdal-dev] conversion of raster to gml
Message-ID: <7a566dfe0910300153w1827fbd3ra76b2b824f25e424@mail.gmail.com>

Dear All,

Does gdal has any utility which allows to convert a raster into gml or xml ?
-- 
Regards,
Srikanth K.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091030/5766baf9/attachment.html
From alan.steel at ext.jrc.ec.europa.eu  Fri Oct 30 05:29:00 2009
From: alan.steel at ext.jrc.ec.europa.eu (Alan Steel)
Date: Fri Oct 30 05:29:05 2009
Subject: [gdal-dev] conversion of raster to gml
In-Reply-To: <7a566dfe0910300153w1827fbd3ra76b2b824f25e424@mail.gmail.com>
References: <7a566dfe0910300153w1827fbd3ra76b2b824f25e424@mail.gmail.com>
Message-ID: <4AEAB1DC.6040700@ext.jrc.ec.europa.eu>

Hi Srikanth,

Yes, the utility is gdal_polygonize.py. It makes vector polygons of your 
raster data, and the default output format is GML. You can specify any 
other OGR supported output format. See:
http://www.gdal.org/gdal_polygonize.html

Note - it seems that your input data must be integer, as float data will 
be truncated. I posted a question on this 2 days ago.

Regards,

Alan

Srikanth wrote:
> Dear All,
>  
> Does gdal has any utility which allows to convert a raster into gml or 
> xml ?
> -- 
> Regards,
> Srikanth K.
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From strk at keybit.net  Fri Oct 30 05:26:23 2009
From: strk at keybit.net (strk)
Date: Fri Oct 30 05:29:39 2009
Subject: [gdal-dev] Can gdal_poligonize.py be used on float data?
In-Reply-To: <4AE86CF3.9040702@ext.jrc.ec.europa.eu>
References: <4AE86CF3.9040702@ext.jrc.ec.europa.eu>
Message-ID: <20091030092623.GA52982@keybit.net>

On Wed, Oct 28, 2009 at 05:10:27PM +0100, Alan Steel wrote:

> Also, the link to the source code doesn't work at 
> http://www.gdal.org/gdal__alg_8h.html#3f522a9035d3512b5d414fb4752671b1

Hi Alan,
maybe you're looking for this:
http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdal_alg.h

--strk;

 Free GIS & Flash consultant/developer      ()  ASCII Ribbon Campaign
 http://foo.keybit.net/~strk/services.html  /\  Keep it simple! 
From alan.steel at ext.jrc.ec.europa.eu  Fri Oct 30 06:02:52 2009
From: alan.steel at ext.jrc.ec.europa.eu (Alan Steel)
Date: Fri Oct 30 06:02:57 2009
Subject: [gdal-dev] Can gdal_poligonize.py be used on float data?
In-Reply-To: <20091030092623.GA52982@keybit.net>
References: <4AE86CF3.9040702@ext.jrc.ec.europa.eu>
	<20091030092623.GA52982@keybit.net>
Message-ID: <4AEAB9CC.4080309@ext.jrc.ec.europa.eu>

Thanks.
Thats the declaration. I'm looking for the definition.
Cheers,

Alan

strk wrote:
>
>> ttp://www.gdal.org/gdal__alg_8h.html#3f522a9035d3512b5d414fb4752671b1
>>     
>
> Hi Alan,
> maybe you're looking for this:
> http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdal_alg.h
>
> --strk;
>   
From alexandre.gacon+gdal at gmail.com  Fri Oct 30 05:59:31 2009
From: alexandre.gacon+gdal at gmail.com (Alexandre Gacon)
Date: Fri Oct 30 06:05:00 2009
Subject: [gdal-dev] OGR VRT Schema Support
In-Reply-To: <4AEAA15F.3050909@pobox.com>
References: <4AEAA15F.3050909@pobox.com>
Message-ID: <45f3b7570910300259m6901d711q73a01eb1f0c6ed56@mail.gmail.com>

Hi Franck,

Does the field definitions will replace the need to define a csvt file for
defining the types of a CSV file read with the VRT format to get
geographical coordinates ?

Best regards,

Alexandre Gacon

On Fri, Oct 30, 2009 at 9:18 AM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Folks,
>
> I have done a bit of work around OGR recently to make it easier to manage
> schemas for layers as VRT files.  For a project I wanted to be able to
> have a VRT file which would define a set of layers with geometry types,
> coordinate systems, fields and related information that I could use
> with ogr2ogr or similar utilities to create all the layers.
>
> To that end I have:
>
>  o Extended the VRT driver to support <Field> definitions giving all
>   the details of an attribute field on a layer (type, width, name,
> precision
>   and the source field it comes from in the source layer).
>
>  o Written an ogr2vrt.py script that will create a VRT corresponding to a
>   source datasource.  This is the ogr equivelent to what we could do with
>   gdal_translate -of VRT in.tif out.vrt but for feature datasources.  The
>   script currently lives in gdal/swig/python/samples but I may promote it
>   to the scripts directory implying it is supported if it is deemed to be
>   useful.
>
>  o Modified the VRT driver so that if the datasource name is @dummy@ it
> will
>   not go looking for an external file - it just creates a dummy memory
>   datasource and layer.  This effectively turns the .vrt into a schema
>   definition since there will be no effort to go looking for features on
>   the layers.  The -schema switch to ogr2vrt.py will create a VRT setup
>   this way.
>
> Let me know if there are any questions or interest in this capability.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Alexandre Gacon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091030/f4825690/attachment.html
From Sjur.A.Kolberg at sintef.no  Fri Oct 30 06:38:27 2009
From: Sjur.A.Kolberg at sintef.no (Sjur Kolberg)
Date: Fri Oct 30 06:39:36 2009
Subject: [gdal-dev] HDF5 and missing externals
Message-ID: <72251B925CE10A478606EEAC6AA683BE1712DC7589@SINTEFEXMBX01.sintef.no>



Hello, list :-)
 
I have problems with linking in HDF5 support in GDAL 1.6.2 on WIN XP PRO SP 2 using Visual Studio 2008 SP 1.

The link errors I get are:
1>Linking...
1> Creating library ..\..\..\deblib\gdal16d-vc9.lib and object ..\..\..\deblib\gdal16d-vc9.exp
1>hdf5dataset.obj : error LNK2001: unresolved external symbol _H5T_NATIVE_ULLONG_g
... and similar errors for 11 other unresolved externals of the _H5T_NATIVE_xxxxx_g type.

I am using the solution and project files from http://vterrain.org/Distrib/gdal.html (and have absolutely no knowledge of makefiles, configure etc).
I've downloaded and built HDF5 1.8.3 (+SZIP 2.1 (no encoding) and ZLIB 1.2).
I have done the same with HDF42r4, NetCDF-4.0.1, libpng-1.2.40 libjpeg-7 libexpat-2.0.1
I also include the GRIB and IDRISI drivers without problems.

No problems finding the HDF5 include files.
No problem finding hdf5ddll.lib, by renaming verified that VS reads the right one.
DUMPBIN /EXPORTS on hdf5ddll.lib shows that _H5T_NATIVE_ULLONG_g is indeed exported.
I had approximately the same setup building fine using HDF5 1.8.1, GDAL 1.6.0beta1 under VS2005.

This might be (related to) ticket #3184 which explicitly specifies GDAL 1.6.2. 
- Has anyone succeeded to get this working, or know what I have to downgrade to get this built?


Sjur Kolberg
SINTEF Energiforskning A/S
Sem S?lands vei 11
7465 Trondheim
tlf. 73 59 72 78
fax  73 59 72 50 

From strk at keybit.net  Fri Oct 30 06:59:43 2009
From: strk at keybit.net (strk)
Date: Fri Oct 30 07:02:24 2009
Subject: [gdal-dev] Can gdal_poligonize.py be used on float data?
In-Reply-To: <4AEAB9CC.4080309@ext.jrc.ec.europa.eu>
References: <4AE86CF3.9040702@ext.jrc.ec.europa.eu>
	<20091030092623.GA52982@keybit.net>
	<4AEAB9CC.4080309@ext.jrc.ec.europa.eu>
Message-ID: <20091030105943.GA82667@keybit.net>

On Fri, Oct 30, 2009 at 11:02:52AM +0100, Alan Steel wrote:
> Thanks.
> Thats the declaration. I'm looking for the definition.

http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/polygonize.cpp
Happy hacking!

--strk;

 Free GIS & Flash consultant/developer      ()  ASCII Ribbon Campaign
 http://foo.keybit.net/~strk/services.html  /\  Keep it simple! 
From warmerdam at pobox.com  Fri Oct 30 08:25:33 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 30 08:25:18 2009
Subject: [gdal-dev] OGR VRT Schema Support
In-Reply-To: <45f3b7570910300259m6901d711q73a01eb1f0c6ed56@mail.gmail.com>
References: <4AEAA15F.3050909@pobox.com>
	<45f3b7570910300259m6901d711q73a01eb1f0c6ed56@mail.gmail.com>
Message-ID: <4AEADB3D.1070408@pobox.com>

Alexandre Gacon wrote:
> Hi Franck,
> 
> Does the field definitions will replace the need to define a csvt file 
> for defining the types of a CSV file read with the VRT format to get 
> geographical coordinates ?

Alexandre,

If you are using a VRT front end to a csv, then yes, the VRT could be
used to provide detailed field type, and width information instead of
using a .csvt.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From xenon at alphapixel.com  Fri Oct 30 18:13:26 2009
From: xenon at alphapixel.com (Chris 'Xenon' Hanson)
Date: Fri Oct 30 18:20:12 2009
Subject: [gdal-dev] Proper GDAL include structure
Message-ID: <4AEB6506.8060009@alphapixel.com>

I'm building GDAL from source on Windows using the release-1400-dev.zip kit from:
http://vbkto.dyndns.org:1280/sdk/Default.aspx

This works great (though the zipfile has fairly old GDAL source and needs an SVN update to
be current). However, when it's all done building (via nmake) I don't have a single
"include" directory where all the proper .h files are located the way the FWTools release
sets things up.

Is there a step i'm missing that will collect all the necessary GDAL .h files form their
respective subdirectory and put them into one place the way FWTools provides them?

-- 
Chris 'Xenon' Hanson, omo sanza lettere                  Xenon AlphaPixel.com
PixelSense Landsat processing now available! http://www.alphapixel.com/demos/
"There is no Truth. There is only Perception. To Perceive is to Exist." - Xen
From szekerest at gmail.com  Fri Oct 30 18:45:25 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Oct 30 18:45:29 2009
Subject: [gdal-dev] Proper GDAL include structure
In-Reply-To: <4AEB6506.8060009@alphapixel.com>
References: <4AEB6506.8060009@alphapixel.com>
Message-ID: <f3b73b7d0910301545n1be73248v1516f8f942936d3@mail.gmail.com>

2009/10/30 Chris 'Xenon' Hanson <xenon@alphapixel.com>

> I'm building GDAL from source on Windows using the release-1400-dev.zip kit
> from:
> http://vbkto.dyndns.org:1280/sdk/Default.aspx
>
> This works great (though the zipfile has fairly old GDAL source and needs
> an SVN update to
> be current). However, when it's all done building (via nmake) I don't have
> a single
> "include" directory where all the proper .h files are located the way the
> FWTools release
> sets things up.
>
> Is there a step i'm missing that will collect all the necessary GDAL .h
> files form their
> respective subdirectory and put them into one place the way FWTools
> provides them?
>
>
Chris,

You should find all the includes in the /release-[msvc_version]/include and
the libs in the /release-[msvc_version]/lib directory to compile gdal
against the dependencies. Compiling gdal would be as simple as typing
'nmake gdal' in the root directory of the package in a Visual Studio Command
Prompt.


Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20091030/3dae9011/attachment.html
