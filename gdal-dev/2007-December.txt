From ari.jolma at tkk.fi  Sat Dec  1 04:12:33 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sat Dec  1 04:11:23 2007
Subject: [gdal-dev] Contour generation method in bindings
In-Reply-To: <85CB0037-7D81-481F-B120-59D1735DA43F@gmail.com>
References: <47508FD4.3040109@tkk.fi>
	<85CB0037-7D81-481F-B120-59D1735DA43F@gmail.com>
Message-ID: <47512581.5020204@tkk.fi>

Howard Butler kirjoitti:
> I am planning to add CreateGrid support as well.
>
> I am slightly confused by http://trac.osgeo.org/gdal/changeset/13163 
> Why are we importing ogr.i into gdal.i?

Since CreateContour needs an OGR layer as a attribute. Similaryly ogr.i 
imports osr.i. Importing ogr.i created a problem between GDAL and OGR 
Drivers and I solved it by defining GDAL_BINDINGS when ogr.i is imported 
from gdal.i.

Ari

>
> Howard
> On Nov 30, 2007, at 4:33 PM, Ari Jolma wrote:
>
>> I added a function and, based on that, a method for Band for making 
>> contour lines into the Swig bindings. These are currently only in 
>> Perl (see the end of gdal_perl.i) since it needs a couple of new 
>> typemaps.
>>
>> Tamas, Hobu, other swig bindings people, comments?
>>
>> Ari
>>
>> -- 
>> Prof. Ari Jolma
>> Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
>> Teknillinen Korkeakoulu / Helsinki University of Technology
>> tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
>> Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From szekerest at gmail.com  Sat Dec  1 18:11:02 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat Dec  1 18:11:05 2007
Subject: [gdal-dev] Contour generation method in bindings
In-Reply-To: <47512581.5020204@tkk.fi>
References: <47508FD4.3040109@tkk.fi>
	<85CB0037-7D81-481F-B120-59D1735DA43F@gmail.com>
	<47512581.5020204@tkk.fi>
Message-ID: <f3b73b7d0712011511j2a2ce086h8966821adcf556bd@mail.gmail.com>

Ari, (and the other swiggers)

I appreciate to add every new functionality in the SWIG bindings.
However this change seems to be perl specific, and I don't know how is
it planned to migrate the functionality to the common ground.

My other problem is that the layout of the codebase will be fairly
chaotic in a little while. I personally don't favour blindly including
many of the code between the interface files and manually excluding
the name collisions. What if we will have to use GDALDriver an
OGRDriver simultaneously in a function in the future?

I would be in favour of refactoring the code using the following common rules:

1. Every target class would go into a separate interface file
2. Every interface file would be responsible to include the interface
files that it depends on.
3. To avoid the name collisions we should either use namespaces (not
sure how it is supported by the various target languages) or prefixes
in the classnames
4. We should declare the constants in separate interface files that
can be included by the others if needed.

I agree that this concept would require  to change many of the files
and would possibly bring in some backward incompatibility and would
require some further investigations regarding to the feasibility and
at least an RFC would be required and some support from the swiggers
to tolerate and eliminate the breaking changes in the languages if
any.


Best regards,

Tamas



2007/12/1, Ari Jolma <ari.jolma@tkk.fi>:
> Howard Butler kirjoitti:
> > I am planning to add CreateGrid support as well.
> >
> > I am slightly confused by http://trac.osgeo.org/gdal/changeset/13163
> > Why are we importing ogr.i into gdal.i?
>
> Since CreateContour needs an OGR layer as a attribute. Similaryly ogr.i
> imports osr.i. Importing ogr.i created a problem between GDAL and OGR
> Drivers and I solved it by defining GDAL_BINDINGS when ogr.i is imported
> from gdal.i.
>
> Ari
>
> >
> > Howard
> > On Nov 30, 2007, at 4:33 PM, Ari Jolma wrote:
> >
> >> I added a function and, based on that, a method for Band for making
> >> contour lines into the Swig bindings. These are currently only in
> >> Perl (see the end of gdal_perl.i) since it needs a couple of new
> >> typemaps.
> >>
> >> Tamas, Hobu, other swig bindings people, comments?
> >>
> >> Ari
> >>
> >> --
> >> Prof. Ari Jolma
> >> Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
> >> Teknillinen Korkeakoulu / Helsinki University of Technology
> >> tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
> >> Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma
> >>
> >>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
> --
> Prof. Ari Jolma
> Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
> Teknillinen Korkeakoulu / Helsinki University of Technology
> tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
> Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From ari.jolma at tkk.fi  Sun Dec  2 03:59:47 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sun Dec  2 03:58:43 2007
Subject: [gdal-dev] Contour generation method in bindings
In-Reply-To: <f3b73b7d0712011511j2a2ce086h8966821adcf556bd@mail.gmail.com>
References: <47508FD4.3040109@tkk.fi>
	<85CB0037-7D81-481F-B120-59D1735DA43F@gmail.com>
	<47512581.5020204@tkk.fi>
	<f3b73b7d0712011511j2a2ce086h8966821adcf556bd@mail.gmail.com>
Message-ID: <47527403.6060207@tkk.fi>

Tamas Szekeres kirjoitti:
> Ari, (and the other swiggers)
>
> I appreciate to add every new functionality in the SWIG bindings.
> However this change seems to be perl specific, and I don't know how is
> it planned to migrate the functionality to the common ground.
>   

Tamas,

It is not Perl-specific in any other way than being currently in 
gdal_perl.i. I'd like to see it go into gdal.i or , better, into 
Operations.i (which is included into gdal.i). I put it into gdal_perl.i 
only because it needs new typemaps and maybe some discussion before it 
goes into gdal.i. If I had put them into gdal.i without the necessary 
changes in typemaps of other languages, it would have broken them. Maybe 
this process: work through individual language .i files and once they 
are similarly in all, then migrate them into main .i files, could even 
be adopted as a preferred way to develop the bindings? I think we should 
also keep the main .i files as clean as possible from #ifdef language 
directives.

We are now doing the migration, I hope, but I'm not sure how much will 
go into 1.5 since the deadline is fast approaching.

> My other problem is that the layout of the codebase will be fairly
> chaotic in a little while. I personally don't favour blindly including
> many of the code between the interface files and manually excluding
> the name collisions. What if we will have to use GDALDriver an
> OGRDriver simultaneously in a function in the future?
>   

That would require a name change from Driver to GDALDriver and 
OGRDriver, I guess. It's a bit unfortunate that the original design did 
not consider this. In Perl space (and probably others too) the drivers 
are different Geo::GDAL::Driver and Geo::OGR::Driver, but in .i files 
they are both Driver.

I'm myself a bit of a organization and refactoring freak and would love 
to rethink and reorganize the *.i files. I hate the complexity that 
comes from adding new functionality into an architecture that was not 
designed with that functionality in mind. So I'm with you here but I 
also want to go on and add new things into the bindings.


> I would be in favour of refactoring the code using the following common rules:
>
> 1. Every target class would go into a separate interface file
> 2. Every interface file would be responsible to include the interface
> files that it depends on.
> 3. To avoid the name collisions we should either use namespaces (not
> sure how it is supported by the various target languages) or prefixes
> in the classnames
> 4. We should declare the constants in separate interface files that
> can be included by the others if needed.
>   

Looks good, can you illustrate this in practice, i.e., show the new .i 
files in include? If they compile with Swig and the Perl tests pass 
after the change, I'm for the refactoring.

> I agree that this concept would require  to change many of the files
> and would possibly bring in some backward incompatibility and would
> require some further investigations regarding to the feasibility and
> at least an RFC would be required and some support from the swiggers
> to tolerate and eliminate the breaking changes in the languages if
> any.
>   

If you can prepare an example, maybe in spike?, we could try and see 
what the implications and incompatibilities really are, then we could 
discuss in more concrete terms.

Best regards,

Ari


From ari.jolma at tkk.fi  Sun Dec  2 04:22:46 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sun Dec  2 04:21:38 2007
Subject: [gdal-dev] Contour generation method in bindings
In-Reply-To: <47527403.6060207@tkk.fi>
References: <47508FD4.3040109@tkk.fi>
	<85CB0037-7D81-481F-B120-59D1735DA43F@gmail.com>
	<47512581.5020204@tkk.fi>
	<f3b73b7d0712011511j2a2ce086h8966821adcf556bd@mail.gmail.com>
	<47527403.6060207@tkk.fi>
Message-ID: <47527966.4090801@tkk.fi>

Ari Jolma kirjoitti:
> Tamas Szekeres kirjoitti:
>> I would be in favour of refactoring the code using the following 
>> common rules:
>>
>> 1. Every target class would go into a separate interface file
>> 2. Every interface file would be responsible to include the interface
>> files that it depends on.
>> 3. To avoid the name collisions we should either use namespaces (not
>> sure how it is supported by the various target languages) or prefixes
>> in the classnames
>> 4. We should declare the constants in separate interface files that
>> can be included by the others if needed.

I'll try something along these lines in 
https://svn.osgeo.org/gdal/sandbox/ajolma/

Ari



From dmbaker at cox.net  Sun Dec  2 09:28:32 2007
From: dmbaker at cox.net (David M. Baker)
Date: Sun Dec  2 09:28:41 2007
Subject: [gdal-dev] Help with getting started with GDAL on .NET
In-Reply-To: <474DB854.3040302@perkins.net>
References: <93da6ded0711280818n6072e1f4x54d337363312588e@mail.gmail.com>	<f3b73b7d0711280833i789d584ga3ead156f3129daa@mail.gmail.com><93da6ded0711280956m1ca058b7w125d3f5e75ebc38a@mail.gmail.com>
	<474DB854.3040302@perkins.net>
Message-ID: <004801c834ef$9df11630$1101a8c0@DAVID>

I too have been suing the C# bindings and they are the only way I have been
using GDAL/OGR!  I am not a c++ or python developer and watched very closely
the development of the C# binding.  Thanks to all who worked on the
bindings, they are a great addition to the library and are very useful.

 

Tamas, Kudos!

 

 

  _____  

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Simon Perkins
Sent: Wednesday, November 28, 2007 12:50 PM
To: Vish Uma
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Help with getting started with GDAL on .NET

 

Hard to say how much of a community is out there (incidentally, I would love
to see OSGF carry out an occasional survey of GDAL usage patterns on this
list to get some idea what areas should be priorities for development) , but
I've been using the GDAL C# bindings for about a year and they're pretty
solid. I think Tamas put a lot of work into them at the end of 2006 /
beginning of 2007, and he's pretty vigilant about maintaining things.

Just my 2c,

Sy

Vish Uma wrote: 

Hi Tamas,

Thanks Tamas. But i think the community support is just not there for using
GDAL with .NET. So, i am looking into python for it. I also wanna learn and
get into python for other projects and Apps as well.

Thank You,
Vish




On Nov 28, 2007 9:33 AM, Tamas Szekeres <szekerest@gmail.com> wrote:

Hi,

You can either use the gdal C# bindings to access gdal/ogr from a .NET
application.

Best regards,

Tamas



2007/11/28, Vish Uma <viswaug@gmail.com  <mailto:viswaug@gmail.com> >:

> Hi all,
>
> I am primarily a c# developer trying to get into GDAL programming using
> python. I have been reading upon on Python already. I was wondering if 
> someone could point me in the right direction with respect to getting
> started with GDAL in Python. Maybe point me to some tutorials,
documentation
> or training materials.
>
> Thank You, 
> Vish
>
>

> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>





 





  _____  



 
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071202/3a63df4b/attachment.html
From szekerest at gmail.com  Sun Dec  2 10:53:24 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Dec  2 10:53:31 2007
Subject: [gdal-dev] Help with getting started with GDAL on .NET
In-Reply-To: <004801c834ef$9df11630$1101a8c0@DAVID>
References: <93da6ded0711280818n6072e1f4x54d337363312588e@mail.gmail.com>
	<f3b73b7d0711280833i789d584ga3ead156f3129daa@mail.gmail.com>
	<93da6ded0711280956m1ca058b7w125d3f5e75ebc38a@mail.gmail.com>
	<474DB854.3040302@perkins.net> <004801c834ef$9df11630$1101a8c0@DAVID>
Message-ID: <f3b73b7d0712020753x51e90580w92ea5ace898d1d08@mail.gmail.com>

David, et al,

There is a couple of projects I'm aware of have already proceed in
including the bindings, like WorldWind and SharpMap. I've found some
interest from the MonoGIS side as well.
However I don't exactly know how large is the GDAL C# community is. I
encourage anyone who got involved join to this thread or contact me
directly to keep this info up to date.

Best regards,

Tamas



2007/12/2, David M. Baker <dmbaker@cox.net>:
>
>
>
>
> I too have been suing the C# bindings and they are the only way I have been
> using GDAL/OGR!  I am not a c++ or python developer and watched very closely
> the development of the C# binding.  Thanks to all who worked on the
> bindings, they are a great addition to the library and are very useful.
>
>
>
> Tamas, Kudos!
>
>
>
>
>
>  ________________________________
>
>
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of
> Simon Perkins
>  Sent: Wednesday, November 28, 2007 12:50 PM
>  To: Vish Uma
>  Cc: gdal-dev@lists.osgeo.org
>  Subject: Re: [gdal-dev] Help with getting started with GDAL on .NET
>
>
>
>
> Hard to say how much of a community is out there (incidentally, I would love
> to see OSGF carry out an occasional survey of GDAL usage patterns on this
> list to get some idea what areas should be priorities for development) , but
> I've been using the GDAL C# bindings for about a year and they're pretty
> solid. I think Tamas put a lot of work into them at the end of 2006 /
> beginning of 2007, and he's pretty vigilant about maintaining things.
>
>  Just my 2c,
>
>  Sy
>
>  Vish Uma wrote:
>
> Hi Tamas,
>
>  Thanks Tamas. But i think the community support is just not there for using
> GDAL with .NET. So, i am looking into python for it. I also wanna learn and
> get into python for other projects and Apps as well.
>
>  Thank You,
>  Vish
>
>
>
>
>
> On Nov 28, 2007 9:33 AM, Tamas Szekeres <szekerest@gmail.com> wrote:
>
> Hi,
>
>  You can either use the gdal C# bindings to access gdal/ogr from a .NET
>  application.
>
>  Best regards,
>
>  Tamas
>
>
>
>  2007/11/28, Vish Uma <viswaug@gmail.com >:
>
>
>
> > Hi all,
>  >
>  > I am primarily a c# developer trying to get into GDAL programming using
>  > python. I have been reading upon on Python already. I was wondering if
>  > someone could point me in the right direction with respect to getting
>  > started with GDAL in Python. Maybe point me to some tutorials,
> documentation
>  > or training materials.
>  >
>  > Thank You,
>  > Vish
>  >
>  >
>
> > _______________________________________________
>  > gdal-dev mailing list
>  > gdal-dev@lists.osgeo.org
>  > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  >
>
>
>
>
>
>
> ________________________________
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From hobu.inc at gmail.com  Sun Dec  2 11:03:34 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Sun Dec  2 11:04:39 2007
Subject: [gdal-dev] Contour generation method in bindings
In-Reply-To: <47527966.4090801@tkk.fi>
References: <47508FD4.3040109@tkk.fi>
	<85CB0037-7D81-481F-B120-59D1735DA43F@gmail.com>
	<47512581.5020204@tkk.fi>
	<f3b73b7d0712011511j2a2ce086h8966821adcf556bd@mail.gmail.com>
	<47527403.6060207@tkk.fi> <47527966.4090801@tkk.fi>
Message-ID: <347978FA-3AFC-4D71-AB98-B69F600087A6@gmail.com>


On Dec 2, 2007, at 3:22 AM, Ari Jolma wrote:

> Ari Jolma kirjoitti:
>> Tamas Szekeres kirjoitti:
>>> I would be in favour of refactoring the code using the following  
>>> common rules:
>>>
>>> 1. Every target class would go into a separate interface file
>>> 2. Every interface file would be responsible to include the  
>>> interface
>>> files that it depends on.
>>> 3. To avoid the name collisions we should either use namespaces (not
>>> sure how it is supported by the various target languages) or  
>>> prefixes
>>> in the classnames
>>> 4. We should declare the constants in separate interface files that
>>> can be included by the others if needed.
>
> I'll try something along these lines in https://svn.osgeo.org/gdal/sandbox/ajolma/
>
> Ari
>


Ari,

I like this, but I would agree that it is too late to make this big of  
a change for the 1.5 release.  Additionally, one other organization  
change I would make is to put classes of each sub-library in its own  
directory:

./include/ogr/Geometry.i (or ./include/ogr/OGRGeometry.i)
./include/gdal/ColorTable.i
./include/gdal/RasterAttributeTable.i
./include/osr/SpatialReference.i

One more level of nesting may make it tougher to find stuff, but it  
will reinforce the structure of how things are included and which  
pieces belong where.

Howard
From ari.jolma at tkk.fi  Sun Dec  2 13:14:25 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sun Dec  2 13:13:21 2007
Subject: [gdal-dev] Contour generation method in bindings
In-Reply-To: <347978FA-3AFC-4D71-AB98-B69F600087A6@gmail.com>
References: <47508FD4.3040109@tkk.fi>
	<85CB0037-7D81-481F-B120-59D1735DA43F@gmail.com>
	<47512581.5020204@tkk.fi>
	<f3b73b7d0712011511j2a2ce086h8966821adcf556bd@mail.gmail.com>
	<47527403.6060207@tkk.fi> <47527966.4090801@tkk.fi>
	<347978FA-3AFC-4D71-AB98-B69F600087A6@gmail.com>
Message-ID: <4752F601.2020304@tkk.fi>

Howard Butler kirjoitti:
>> I'll try something along these lines in 
>> https://svn.osgeo.org/gdal/sandbox/ajolma/
>>  
>
> I like this, but I would agree that it is too late to make this big of 
> a change for the 1.5 release.  Additionally, one other organization 
> change I would make is to put classes of each sub-library in its own 
> directory:
>
> ./include/ogr/Geometry.i (or ./include/ogr/OGRGeometry.i)
> ./include/gdal/ColorTable.i
> ./include/gdal/RasterAttributeTable.i
> ./include/osr/SpatialReference.i
>

Rather easy to do in subversion. I agree that this is not for 1.5. I'd 
like you to try the other bindings in this framework some time in the 
future -- if we agree that this could be the future?. It's a bit of a 
job but probably worth trying. Basically it would mean creating init, 
enums, renames, classes and extensions .i files for cpl, gdalconst, 
gdal, ogr and osr (as in the perl subdir), and renaming the typemaps 
file to typemaps.i. There will probably be a number of small things to 
do before generate and build work.

Cheers,

Ari

-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From nfarah at hotmail.com  Sun Dec  2 18:34:39 2007
From: nfarah at hotmail.com (N. Farah)
Date: Sun Dec  2 18:34:46 2007
Subject: [gdal-dev] WCS issue
Message-ID: <BAY142-W3BC51BEA58F6978E859ACDD730@phx.gbl>

Hi, I'm was trying to load the following web coverage (using GDAL 1.4.3): <WCS_GDAL><ServiceURL>http://geodata.telascience.org/cgi-bin/mapserv_dem?</ServiceURL><CoverageName>srtmplus_raw</CoverageName><WCS_GDAL> The dataset metadata information were fetched just fine (# cols = 43199 and # rows = 21599), however when the readoperation started 'GDALRasterIO' an error is posted. To process the data I'm reading one whole row in 'GDALRasterIO'(# cols = 43199 and # rows = 1). The posted error is the following:GetBlockRef failed at X block offset 0, Y block offset 0 This appear to be related to blocks caching. I changed my block reading chunks to be the same as the band x block size andy block size for the dataset band ((# cols = 1024 and # rows = 512), still no luck. I have now a time out error:Operation timed out after 30000 milliseconds with 0 bytes received. Any ideas about these issues ? Thanks in advance Noureddine Farah
_________________________________________________________________
Share life as it happens with the new Windows Live.Download today it's FREE!
http://www.windowslive.com/share.html?ocid=TXT_TAGLM_Wave2_sharelife_112007
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071202/46f5673b/attachment.html
From andrew.deklerk at gmail.com  Mon Dec  3 03:05:32 2007
From: andrew.deklerk at gmail.com (Andrew de Klerk)
Date: Mon Dec  3 03:08:26 2007
Subject: [gdal-dev] Gdal_Translate Geotransform error
Message-ID: <4753b96f.112b400a.7249.292d@mx.google.com>

Hi All 

 

I have done some searching to try solve my problem, but have been
unsuccessful. I am relatively new to gdal, but not new to GIS. I apologise
if my question's are basics..but an answer would help me significantly. I am
running the latest build of Gdal for windows (1.43), and using the
pre-compiled binaries. So here is my primary and secondary question: 

I have a tif file which i want to clip at certain coordinates, so I call the
following command: 

 

"gdal_translate -projwin 16.25 -28.5 16.5 -28.75
H:\1_50000_April2007\2816\2816CB_2003_ED2_GEO.TIF 2816cb.tif" 

 

On running this i get the following error: 

"Input file size is 8267, 10629 

The -projwin option was used, but the geotransform is 

rotated.  This configuration is not supported." 

 

I have checked my input images and coordinates passed through with projwin,
and all seem fine. Gdalinfo of the files reveals the following coordinate
information: 

 

Upper Left  (  16.1928674, -28.4559735) ( 16d11'34.32"E, 28d27'21.50"S) 

Lower Left  (  16.1904570, -28.8619556) ( 16d11'25.65"E, 28d51'43.04"S) 

Upper Right (  16.5508568, -28.4576272) ( 16d33'3.08"E, 28d27'27.46"S) 

Lower Right (  16.5484465, -28.8636093) ( 16d32'54.41"E, 28d51'48.99"S) 

Center      (  16.3706569, -28.6597914) ( 16d22'14.36"E, 28d39'35.25"S) 

 

So my question is...what do I do to correct the error. I see no related
messages between gdal_translate and geotransform. Do I need to do some
programming to solve this problem? I shouldn't think so, as what I am doing
is pretty basic.

 

Second/third question is..if i do a straight translate to geotiff, my output
image is 85Mb, while my input is only 6Mb (also tif, but with LZW
compression) - how do I force LZW or export a file of the same size, or
smaller, as the original?. I tried ECW but i received a "no support"
message. Is ECW supported? 

 

Sorry for the long winded message, but i need to resolve this to do in Gdal.
If it were just one image, I would use other GIS packages, but I have 2000
odd images to do and need to batch them 

 

Thanks 

Andrew

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071203/5d16fd0c/attachment.html
From daniel112b at gmail.com  Mon Dec  3 04:06:17 2007
From: daniel112b at gmail.com (Daniel)
Date: Mon Dec  3 04:06:20 2007
Subject: [gdal-dev] charset info from TAB
In-Reply-To: <474D89A5.1050408@pobox.com>
References: <962626470711280128p5dcdb9a6ga84f74367924cfa1@mail.gmail.com>
	<474D89A5.1050408@pobox.com>
Message-ID: <962626470712030106g3a4541adsf04f2f54bfeffb35@mail.gmail.com>

On Nov 28, 2007 4:30 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:

> Daniel wrote:
> > Hello,
> >
> > Is it possible to get the charset info from a .TAB file with OGR in
> > order to handle strings correctly. I couldn't find a way to do that
> > using the API.
>
> Daniel,
>
> Generally speaking OGR is not aware of charset/codepage issues.
>
> I'm not sure if there is a special MITAB call for this info or not.
>
>
Unfortunatly MITAB does not expose this info either, in the 1.4 branch the
property is private so i had to expose it myself by adding a getter method.
In the trunk the property is atleast protected so that way i can get it
without modifying the mitab code itself in the future.

Would it be possible to add some exposure of charset/codepage info to the
API?

Best Ragards,
  Daniel B?ck
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071203/53c5d6c1/attachment.html
From Toan.Tran at ontario.ca  Mon Dec  3 09:34:47 2007
From: Toan.Tran at ontario.ca (Tran, Toan (MCYS))
Date: Mon Dec  3 09:34:55 2007
Subject: [gdal-dev] Compiling gdal-1.4.2 with ODBC 
Message-ID: <EBA3C3D70768E2429815A6F6593AB9875F09B4@CTSPITDCEMMVX12.cihs.ad.gov.on.ca>

Skipped content of type multipart/alternative-------------- next part --------------

1. Configuring gdal-1.4.2
# ./configure --with-odbc=/usr/local 

Configure Log:
checking build system type... sparc-sun-solaris2.10
checking host system type... sparc-sun-solaris2.10
checking target system type... sparc-sun-solaris2.10
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking for a sed that does not truncate output... /usr/bin/sed
checking for egrep... egrep
checking for ld used by gcc... /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld... no
checking for /usr/ccs/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/ccs/bin/nm -p
checking whether ln -s works... yes
checking how to recognise dependent libraries... pass_all
checking how to run the C preprocessor... gcc -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking how to run the C++ preprocessor... g++ -E
checking for g77... no
checking for f77... no
checking for xlf... no
checking for frt... no
checking for pgf77... no
checking for fort77... no
checking for fl32... no
checking for af77... no
checking for f90... no
checking for xlf90... no
checking for pgf90... no
checking for epcf90... no
checking for f95... no
checking for fort... no
checking for xlf95... no
checking for ifc... no
checking for efc... no
checking for pgf95... no
checking for lf95... no
checking for gfortran... no
checking whether we are using the GNU Fortran 77 compiler... no
checking whether  accepts -g... no
checking the maximum length of command line arguments... 262144
checking command to parse /usr/ccs/bin/nm -p output from gcc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if gcc supports -fno-rtti -fno-exceptions... no
checking for gcc option to produce PIC... -fPIC
checking if gcc PIC flag -fPIC works... yes
checking if gcc static flag -static works... no
checking if gcc supports -c -o file.o... yes
checking whether the gcc linker (/usr/ccs/bin/ld) supports shared libraries... yes
checking whether -lc should be explicitly linked in... yes
checking dynamic linker characteristics... solaris2.10 ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... yes
configure: creating libtool
appending configuration tag "CXX" to libtool
checking for ld used by g++... /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld... no
checking whether the g++ linker (/usr/ccs/bin/ld) supports shared libraries... yes
checking for g++ option to produce PIC... -fPIC
checking if g++ PIC flag -fPIC works... yes
checking if g++ static flag -static works... no
checking if g++ supports -c -o file.o... yes
checking whether the g++ linker (/usr/ccs/bin/ld) supports shared libraries... yes
checking dynamic linker characteristics... solaris2.10 ld.so
checking how to hardcode library paths into programs... immediate
appending configuration tag "F77" to libtool
checking for dlopen in -ldl... yes
checking for nanosleep in -lrt... yes
checking for sin in -lm... yes
checking for ANSI C header files... (cached) yes
checking assert.h usability... yes
checking assert.h presence... yes
checking for assert.h... yes
checking fcntl.h usability... yes
checking fcntl.h presence... yes
checking for fcntl.h... yes
checking for unistd.h... (cached) yes
checking dbmalloc.h usability... no
checking dbmalloc.h presence... no
checking for dbmalloc.h... no
checking for dlfcn.h... (cached) yes
checking for stdint.h... (cached) yes
checking limits.h usability... yes
checking limits.h presence... yes
checking for limits.h... yes
checking locale.h usability... yes
checking locale.h presence... yes
checking for locale.h... yes
checking values.h usability... yes
checking values.h presence... yes
checking for values.h... yes
checking float.h usability... yes
checking float.h presence... yes
checking for float.h... yes
checking errno.h usability... yes
checking errno.h presence... yes
checking for errno.h... yes
checking direct.h usability... no
checking direct.h presence... no
checking for direct.h... no
checking whether byte ordering is bigendian... yes
checking for 64bit integer type... long long
checking for 64bit file io... yes
checking for stat64... yes
checking for fopen64... yes
checking for int... yes
checking size of int... 4
checking for long... yes
checking size of long... 4
checking for int8... no
checking for int16... no
checking for int32... no
checking native cpu bit order... msb2lsb
checking for vprintf... yes
checking for _doprnt... yes
checking for snprintf... yes
checking for vsnprintf... yes
checking for atoll... yes
checking for copysign... yes
checking for copysignf... yes
checking for strtof... yes
checking for nan... yes
checking for nanf... yes
checking for getcwd... yes
checking whether nan is declared... no
checking whether nanf is declared... no
checking for gmtime_r... yes
checking for localtime_r... yes
checking for setlocale... yes
checking for local include/lib path... none
configure: checking whether we should include thread/mutex support......
        thread safe support disabled.
checking for deflateInit_ in -lz... yes
using pre-installed libz
checking for pg_config... /usr/bin/pg_config
checking for PostgreSQL... yes
checking for PQconnectdb in -lpq... yes
checking for PQputCopyData in -lpq... yes
checking for G_gisinit_2 in -lgrass5... no
checking for ffopen in -lcfitsio... no
libcfitsio not found - FITS support disabled
checking for Mopen in -lcsf... no
checking csf.h usability... no
checking csf.h presence... no
checking for csf.h... no
using internal csf code.
checking for nc_open in -lnetcdf... no
libnetcdf not found - netCDF support disabled
checking for png_set_IHDR in -lpng... yes
checking png.h usability... yes
checking png.h presence... yes
checking for png.h... yes
using pre-installed libpng.
checking for TIFFGetTagListCount in -ltiff... yes
checking for _TIFFsetDoubleArray in -ltiff... yes
using pre-installed libtiff.
checking for XTIFFClientOpen in -lgeotiff... no
using internal GeoTIFF code.
checking for jpeg_read_scanlines in -ljpeg... yes
checking jpeglib.h usability... yes
checking jpeglib.h presence... yes
checking for jpeglib.h... yes
using pre-installed libjpeg.
checking for DGifOpenFileName in -lgif... no
using internal gif code.
checking for cln_GetLayerCapabilities in -logdi31... no
checking for FMEObjects... no
checking for SDreaddata in -lmfhdf... no
checking for H5Fopen in -lhdf5... no
checking for jpc_decode in -ljasper... no
checking for jp2_decode in -ljasper... no
checking for pgx_decode in -ljasper... no
checking for NCScbmOpenFileView in -lNCSEcw... no
checking for NCScbmOpenFileView in -lecwj2... no
checking for Kakadu JPEG2000 support... not requested.
configure: MrSID support disabled.
checking for BSB ... enabled
checking for OGR ... enabled
checking for MySQL... no
checking for Xerces C++... disabled
using odbc library from /usr/local.
checking if Oracle support is enabled... no
checking Checking for DODS... disabled
checking for curl-config... no
checking Checking for SQLite... disabled
checking Checking for DWGdirect... disabled
configure: IBM Informix DataBlade not supported.
configure: checking whether we should include ESRI SDE support...
        ESRI SDE support not requested.
checking for geos-config... no
checking how to link PROJ.4 library... link dynamically.
checking GDAL version information from gdal_version.h: 1.4.2
checking for SWIG perl bindings... disabled
checking for SWIG php bindings... disabled
checking for SWIG ruby bindings... disabled
checking for NG SWIG python bindings... disabled
checking for python... no
checking for python1.5... no
checking for python1.4... no
checking for python1.3... no
checking for Python NumPy headers... not found
checking if local/include already standard... no, everything is ok
configure: creating ./config.status
config.status: creating GDALmake.opt
config.status: creating port/cpl_config.h
config.status: port/cpl_config.h is unchanged

GDAL is now configured for sparc-sun-solaris2.10

  Installation directory:    /usr/local
  C compiler:                gcc -O2 
  C++ compiler:              g++ -O2 

  LIBTOOL support:           yes

  LIBZ support:              external
  GRASS support:             no
  CFITSIO support:           no
  PCRaster support:          internal
  NETCDF support:            no
  LIBPNG support:            external
  LIBTIFF support:           external
  LIBGEOTIFF support:        internal
  LIBJPEG support:           external
  LIBGIF support:            internal
  OGDI support:              no
  HDF4 support:              no
  HDF5 support:              no
  KAKADU support:            no
  JASPER support:            no
  ECW support:               no
  MrSID support:             no
  CURL support (wcs):        no
  POSTGRESQL support:        yes
  MySQL support:             no
  XERCES support:            no
  ODBC support:              yes
  PGEO support:              yes
  OCI support:               no
  SDE support:               no
  DODS support:              no
  SQLite support:            no
  DWGdirect support          no
  PANORAMA GIS support:      no
  INFORMIX DataBlade support:no
  GEOS support:              

  Statically link PROJ.4:    no

  Traditional Python:        no
  NG SWIG Bindings:          no

  enable OGR building:       yes


2. Execute: make
# make
(cd port; make)
make[1]: Entering directory `/export/home/weblogic/GIS/gdal-1.4.2/port'
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_conv.o cpl_conv.cpp
mkdir .libs
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_conv.cpp  -fPIC -DPIC -o .libs/cpl_conv.o
cpl_conv.cpp: In function `void* CPLScanPointer(const char*, int)':
cpl_conv.cpp:850: warning: cast to pointer from integer of different size
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_conv.cpp -o cpl_conv.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_error.o cpl_error.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_error.cpp  -fPIC -DPIC -o .libs/cpl_error.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_error.cpp -o cpl_error.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_string.o cpl_string.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_string.cpp  -fPIC -DPIC -o .libs/cpl_string.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_string.cpp -o cpl_string.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cplgetsymbol.o cplgetsymbol.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cplgetsymbol.cpp  -fPIC -DPIC -o .libs/cplgetsymbol.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cplgetsymbol.cpp -o cplgetsymbol.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_dir.o cpl_dir.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_dir.cpp  -fPIC -DPIC -o .libs/cpl_dir.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_dir.cpp -o cpl_dir.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_strtod.o cpl_strtod.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_strtod.cpp  -fPIC -DPIC -o .libs/cpl_strtod.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_strtod.cpp -o cpl_strtod.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_path.o cpl_path.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_path.cpp  -fPIC -DPIC -o .libs/cpl_path.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_path.cpp -o cpl_path.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_csv.o cpl_csv.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_csv.cpp  -fPIC -DPIC -o .libs/cpl_csv.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_csv.cpp -o cpl_csv.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_findfile.o cpl_findfile.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_findfile.cpp  -fPIC -DPIC -o .libs/cpl_findfile.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_findfile.cpp -o cpl_findfile.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_minixml.o cpl_minixml.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_minixml.cpp  -fPIC -DPIC -o .libs/cpl_minixml.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_minixml.cpp -o cpl_minixml.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_multiproc.o cpl_multiproc.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_multiproc.cpp  -fPIC -DPIC -o .libs/cpl_multiproc.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_multiproc.cpp -o cpl_multiproc.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_list.o cpl_list.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_list.cpp  -fPIC -DPIC -o .libs/cpl_list.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_list.cpp -o cpl_list.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_getexecpath.o cpl_getexecpath.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_getexecpath.cpp  -fPIC -DPIC -o .libs/cpl_getexecpath.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_getexecpath.cpp -o cpl_getexecpath.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cplstring.o cplstring.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cplstring.cpp  -fPIC -DPIC -o .libs/cplstring.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cplstring.cpp -o cplstring.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_vsil_win32.o cpl_vsil_win32.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsil_win32.cpp  -fPIC -DPIC -o .libs/cpl_vsil_win32.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsil_win32.cpp -o cpl_vsil_win32.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_vsisimple.o cpl_vsisimple.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsisimple.cpp  -fPIC -DPIC -o .libs/cpl_vsisimple.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsisimple.cpp -o cpl_vsisimple.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_vsil.o cpl_vsil.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsil.cpp  -fPIC -DPIC -o .libs/cpl_vsil.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsil.cpp -o cpl_vsil.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_vsi_mem.o cpl_vsi_mem.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsi_mem.cpp  -fPIC -DPIC -o .libs/cpl_vsi_mem.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsi_mem.cpp -o cpl_vsi_mem.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_vsil_unix_stdio_64.o cpl_vsil_unix_stdio_64.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsil_unix_stdio_64.cpp  -fPIC -DPIC -o .libs/cpl_vsil_unix_stdio_64.o
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_vsil_unix_stdio_64.cpp -o cpl_vsil_unix_stdio_64.o >/dev/null 2>&1
/bin/sh /export/home/weblogic/GIS/gdal-1.4.2/libtool --mode=compile g++ -Wall  -O2   -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include  -c -o cpl_odbc.o cpl_odbc.cpp
 g++ -Wall -O2 -DOGR_ENABLED -I/export/home/weblogic/GIS/gdal-1.4.2/port -I/usr/local -I/usr/local/include -c cpl_odbc.cpp  -fPIC -DPIC -o .libs/cpl_odbc.o
cpl_odbc.cpp: In static member function `static SQLSMALLINT CPLODBCStatement::GetTypeMapping(SQLSMALLINT)':
cpl_odbc.cpp:1512: error: `SQL_WCHAR' undeclared (first use this function)
cpl_odbc.cpp:1512: error: (Each undeclared identifier is reported only once for each function it appears in.)
cpl_odbc.cpp:1513: error: `SQL_WVARCHAR' undeclared (first use this function)
cpl_odbc.cpp:1514: error: `SQL_WLONGVARCHAR' undeclared (first use this function)
make[1]: *** [cpl_odbc.o] Error 1
make[1]: Leaving directory `/export/home/weblogic/GIS/gdal-1.4.2/port'
make: *** [port-target] Error 2
# 
From warmerdam at pobox.com  Mon Dec  3 11:05:49 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec  3 11:06:35 2007
Subject: [gdal-dev] Gdal_Translate Geotransform error
In-Reply-To: <4753b96f.112b400a.7249.292d@mx.google.com>
References: <4753b96f.112b400a.7249.292d@mx.google.com>
Message-ID: <4754295D.3010903@pobox.com>

Andrew de Klerk wrote:
> I have done some searching to try solve my problem, but have been 
> unsuccessful. I am relatively new to gdal, but not new to GIS. I 
> apologise if my question's are basics..but an answer would help me 
> significantly. I am running the latest build of Gdal for windows (1.43), 
> and using the pre-compiled binaries. So here is my primary and secondary 
> question:

Andrew,

Note that the current release is 1.4.4. 1.4.3 was retracted due to
subtle ABI issues though that is quite unrelated to your problem.

> I have a tif file which i want to clip at certain coordinates, so I call 
> the following command:
> 
> "gdal_translate -projwin 16.25 -28.5 16.5 -28.75 
> H:\1_50000_April2007\2816\2816CB_2003_ED2_GEO.TIF 2816cb.tif"
> 
> On running this i get the following error:
> 
> "Input file size is 8267, 10629
> 
> The -projwin option was used, but the geotransform is
> 
> rotated.  This configuration is not supported."
> 
>  
> 
> I have checked my input images and coordinates passed through with 
> projwin, and all seem fine. Gdalinfo of the files reveals the following 
> coordinate information:
> 
> Upper Left  (  16.1928674, -28.4559735) ( 16d11'34.32"E, 28d27'21.50"S)
> 
> Lower Left  (  16.1904570, -28.8619556) ( 16d11'25.65"E, 28d51'43.04"S)
> 
> Upper Right (  16.5508568, -28.4576272) ( 16d33'3.08"E, 28d27'27.46"S)
> 
> Lower Right (  16.5484465, -28.8636093) ( 16d32'54.41"E, 28d51'48.99"S)
> 
> Center      (  16.3706569, -28.6597914) ( 16d22'14.36"E, 28d39'35.25"S)
> 
> So my question is...what do I do to correct the error. I see no related 
> messages between gdal_translate and geotransform. Do I need to do some 
> programming to solve this problem? I shouldn?t think so, as what I am 
> doing is pretty basic.

The problem is (as the error indicates) that your image is rotated or
sheared.  For example, if you look at the upper left x and lower left x
they do not match in the above report.  Since the differences are small
I'm guessing your images are only slightly rotated.

The -projwin switch just takes the indicated window and attempts
to turn it into a rectangle in pixel/line coordinates.  But a particular
georeferenced rectangular window in georef coordinates cannot be expressed
as a simple grid aligned rectangle in pixel/line coordinates on a rotated
or sheared image so it gives up.

If you want to produce "north up" result images then you want to do a
more general sort of warp, and should use gdalwarp.  If you just want to
cut grid aligned rectangles out of the source images then you will need
to specify them in pixel/line coordinates using -srcwin instead of -projwin.

> Second/third question is..if i do a straight translate to geotiff, my 
> output image is 85Mb, while my input is only 6Mb (also tif, but with LZW 
> compression) - how do I force LZW or export a file of the same size, or 
> smaller, as the original?.

You can specify compression using the COMPRESS creation option.

eg.

  gdal_translate in.tif out.tif -co COMPRESS=LZW

 >  I tried ECW but i received a "no support"
> message. Is ECW supported?

There is ECW support available with GDAL but it is not built in by
default because it depends on external libraries - the ECW SDK from
ERMapper/Leica.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Steven.Mullins at dmme.virginia.gov  Mon Dec  3 14:41:45 2007
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Mon Dec  3 14:42:31 2007
Subject: [gdal-dev] Shapefile read/write
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8304C3909D@exch2k1.dmmenet.mme.state.va.us>

I have written this short python program to update the northing and easting datafields of a shapefile with the point locations for each point.  I need to write this data back to the same shapefile.  Doing a .Destroy() does not write back to the file.  I assume ogr.Open is read only.  Is there a way to open a file read/write and write the changes back when closing or Destroying?  Do I have to open a new file and iterate over all the fields and points and write to a new file?

Thanks,

Steve

###############################################
#!/usr/local/bin/python
# 

import ogr
import osr
import string

###############################################
# Data Source
data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls-active.shp', update = 1)
layer_0 = data_source.GetLayer(0)
###############################################



current_feature = layer_0.GetNextFeature()

while current_feature is not None:

    current_point = current_feature.GetGeometryRef()
     
    # update coords from point X,Y
    current_feature.SetField ( 0, current_point.GetX())
    current_feature.SetField ( 1, current_point.GetY())
    
    current_feature = layer_0.GetNextFeature()

data_source.Destroy()
####################################################
From hobu.inc at gmail.com  Mon Dec  3 14:52:21 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Dec  3 14:53:40 2007
Subject: [gdal-dev] Shapefile read/write
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8304C3909D@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8304C3909D@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <B537BAE7-41F4-4267-BBCC-928394C770C5@gmail.com>

Which version of GDAL?
Which bindings are you using, next-gen or old-gen?

On Dec 3, 2007, at 1:41 PM, Mullins, Steven wrote:

> I have written this short python program to update the northing and  
> easting datafields of a shapefile with the point locations for each  
> point.  I need to write this data back to the same shapefile.  Doing  
> a .Destroy() does not write back to the file.  I assume ogr.Open is  
> read only.  Is there a way to open a file read/write and write the  
> changes back when closing or Destroying?  Do I have to open a new  
> file and iterate over all the fields and points and write to a new  
> file?
>
> Thanks,
>
> Steve
>
> ###############################################
> #!/usr/local/bin/python
> #
>
> import ogr
> import osr
> import string
>
> ###############################################
> # Data Source
> data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls- 
> active.shp', update = 1)
> layer_0 = data_source.GetLayer(0)
> ###############################################
>
>
>
> current_feature = layer_0.GetNextFeature()
>
> while current_feature is not None:
>
>    current_point = current_feature.GetGeometryRef()
>
>    # update coords from point X,Y
>    current_feature.SetField ( 0, current_point.GetX())
>    current_feature.SetField ( 1, current_point.GetY())
>
>    current_feature = layer_0.GetNextFeature()
>
> data_source.Destroy()
> ####################################################
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Steven.Mullins at dmme.virginia.gov  Mon Dec  3 14:55:14 2007
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Mon Dec  3 14:55:55 2007
Subject: [gdal-dev] Shapefile read/write
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8304C3909F@exch2k1.dmmenet.mme.state.va.us>

Thanks for the quick reply.  I am using GDAL 1.5dev, FWTools 1.3.9, released 2007/10/11 on win32.
I assume since it is a development build, it is the new bindings.

-----Original Message-----
From: Howard Butler [mailto:hobu.inc@gmail.com]
Sent: Mon, December 03, 2007 2:52 PM
To: Mullins, Steven
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Shapefile read/write


Which version of GDAL?
Which bindings are you using, next-gen or old-gen?

On Dec 3, 2007, at 1:41 PM, Mullins, Steven wrote:

> I have written this short python program to update the northing and  
> easting datafields of a shapefile with the point locations for each  
> point.  I need to write this data back to the same shapefile.  Doing  
> a .Destroy() does not write back to the file.  I assume ogr.Open is  
> read only.  Is there a way to open a file read/write and write the  
> changes back when closing or Destroying?  Do I have to open a new  
> file and iterate over all the fields and points and write to a new  
> file?
>
> Thanks,
>
> Steve
>
> ###############################################
> #!/usr/local/bin/python
> #
>
> import ogr
> import osr
> import string
>
> ###############################################
> # Data Source
> data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls- 
> active.shp', update = 1)
> layer_0 = data_source.GetLayer(0)
> ###############################################
>
>
>
> current_feature = layer_0.GetNextFeature()
>
> while current_feature is not None:
>
>    current_point = current_feature.GetGeometryRef()
>
>    # update coords from point X,Y
>    current_feature.SetField ( 0, current_point.GetX())
>    current_feature.SetField ( 1, current_point.GetY())
>
>    current_feature = layer_0.GetNextFeature()
>
> data_source.Destroy()
> ####################################################
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From hobu.inc at gmail.com  Mon Dec  3 15:05:39 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Dec  3 15:06:47 2007
Subject: [gdal-dev] Shapefile read/write
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8304C3909F@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8304C3909F@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <8F220C73-0384-4562-9F12-1A7F02B971B2@gmail.com>

I think you might need a data_source.SyncToDisk() call before  
destroying.

On Dec 3, 2007, at 1:55 PM, Mullins, Steven wrote:

> Thanks for the quick reply.  I am using GDAL 1.5dev, FWTools 1.3.9,  
> released 2007/10/11 on win32.
> I assume since it is a development build, it is the new bindings.
>
> -----Original Message-----
> From: Howard Butler [mailto:hobu.inc@gmail.com]
> Sent: Mon, December 03, 2007 2:52 PM
> To: Mullins, Steven
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Shapefile read/write
>
>
> Which version of GDAL?
> Which bindings are you using, next-gen or old-gen?
>
> On Dec 3, 2007, at 1:41 PM, Mullins, Steven wrote:
>
>> I have written this short python program to update the northing and
>> easting datafields of a shapefile with the point locations for each
>> point.  I need to write this data back to the same shapefile.  Doing
>> a .Destroy() does not write back to the file.  I assume ogr.Open is
>> read only.  Is there a way to open a file read/write and write the
>> changes back when closing or Destroying?  Do I have to open a new
>> file and iterate over all the fields and points and write to a new
>> file?
>>
>> Thanks,
>>
>> Steve
>>
>> ###############################################
>> #!/usr/local/bin/python
>> #
>>
>> import ogr
>> import osr
>> import string
>>
>> ###############################################
>> # Data Source
>> data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls-
>> active.shp', update = 1)
>> layer_0 = data_source.GetLayer(0)
>> ###############################################
>>
>>
>>
>> current_feature = layer_0.GetNextFeature()
>>
>> while current_feature is not None:
>>
>>   current_point = current_feature.GetGeometryRef()
>>
>>   # update coords from point X,Y
>>   current_feature.SetField ( 0, current_point.GetX())
>>   current_feature.SetField ( 1, current_point.GetY())
>>
>>   current_feature = layer_0.GetNextFeature()
>>
>> data_source.Destroy()
>> ####################################################
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Doug_Newcomb at fws.gov  Mon Dec  3 16:02:53 2007
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Mon Dec  3 16:23:53 2007
Subject: [gdal-dev] Max .png / Jpeg2000 file size
Message-ID: <OFAE5D5369.B4340D1D-ON852573A6.00725B98-852573A6.00739EE4@fws.gov>


Hi Folks,
      I'm looking for specific limits on file sizes for different image
formats, specifically JPEG2000 and PNG.  The information at
http://www.gdal.org/formats_list.html leads me to believe the JPEG2000
format  has not limit, depending on which compressor you use.

      My quick reading of the png spec makes me think it might be 2 GiB per
chunk, but what's the overall file size limit?  Further web links welcome
:-).

Doug



Doug Newcomb
USFWS
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb@fws.gov
---------------------------------------------------------------------------------------------------------

The opinions I express are my own and are not representative of the
official policy of the U.S.Fish and Wildlife Service or Dept. of Interior.
Life is too short for undocumented, proprietary data formats.

From dmorissette at mapgears.com  Mon Dec  3 16:42:20 2007
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Mon Dec  3 16:42:24 2007
Subject: [gdal-dev] RFC 18: OGR Style Support in C API
Message-ID: <4754783C.30305@mapgears.com>

Hi GDAL dev's,

I just created a last minute RFC for the addition of functions to the C 
API to manipulate Style information in GDAL/OGR 1.5.0:

   http://trac.osgeo.org/gdal/wiki/rfc18_ogr_styles_c_api

I realize that we are past the RFC freeze, but Frank (as release 
manager) as agreed to make an exception to let this RFC in past the 
deadline because it is not disruptive and fills an important need for 
OGR C API users.

I'll leave the RFC open for discussion until tomorrow and if no blocker 
comments come up then we'll call for a vote tomorrow in order to have 
this in before beta2.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From dstahlke at gi.alaska.edu  Mon Dec  3 22:17:17 2007
From: dstahlke at gi.alaska.edu (Dan Stahlke)
Date: Mon Dec  3 22:20:21 2007
Subject: [gdal-dev] some misc utilities for gdal
Message-ID: <1196738237.24847.8.camel@entropy.gina.alaska.edu>

I have created a few miscellaneous utilities that may be of general use.
The package can be downloaded from this page:

http://www.gina.alaska.edu/page.xml?group=projects&page=gdalscripts

There are six utilities included.  There is a DEM shaded relief
renderer, and landsat pan sharpening script, an outline tracer / corner
finder, and a few others.  The outline tracer will find data regions of
a raster and output a shape in WKT format.

These utilities all link to the GDAL library for image reading.  They
are designed to compile on Unix systems but if someone can get it
working in Windows let me know.

-- 
Dan Stahlke <dstahlke@gi.alaska.edu>

From xuex_chen at 126.com  Mon Dec  3 22:20:46 2007
From: xuex_chen at 126.com (chenxuexia)
Date: Mon Dec  3 22:20:56 2007
Subject: [gdal-dev] error result in SDEDataset::ComputeRasterInfo()
Message-ID: <23068859.167521196738446912.JavaMail.coremail@bj126app42.126.com>

    ----------  ----------
"chenxuexia <xuex_chen@126.com>"
2007-12-04 10:44:24
gdal <gdal-dev@lists.maptools.org>
 error result in SDEDataset::ComputeRasterInfo()
hi,
 I use gdal1.4.1(added sdedataset and sderasterband) and VC6.0 to read data from sde4oracle database. i can't get the right rasterband value.Here is the debugging  errors:
 When run into SDEDataset::ComputeRasterInfo(),
/////////////////////////////////////////////////////////////////////////////////////////////////
for (int i=0; i < nBands; i++) {
       SetBand( i+1, new SDERasterBand( this, i+1, -1, &(paohSDERasterBands[i]) ));
   }
GDALRasterBand* b = GetRasterBand(1);
/////////////////////////////////////////////////////////////////////////////////////////////////
now the b value is:
  we can see that b->nRasterYSize is not equal to b->pods->nRasterYSize, and b->eAccess is wrong!
    Does the sentence SetBand (i+1, new SDERasterBand (this, i+1, -1, &(paohSDERasterBands[i]) )) work well? Any way to solve it?
    
--
//////////////////////////////////////////////////////////////////To a world, you're little, but to a person, you're the world. //////////////////////////////////////////////////////////////////
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071204/fe02f0d5/attachment-0001.html
From hobu.inc at gmail.com  Mon Dec  3 22:39:18 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Dec  3 22:40:28 2007
Subject: [gdal-dev] error result in SDEDataset::ComputeRasterInfo()
In-Reply-To: <23068859.167521196738446912.JavaMail.coremail@bj126app42.126.com>
References: <23068859.167521196738446912.JavaMail.coremail@bj126app42.126.com>
Message-ID: <AD2833D7-5C2E-457B-BFC9-42654E01426E@gmail.com>

Can you provide more detail about how to reproduce the issue?

Are you working with an overview band, or just the base data?

Which version of ArcSDE are you using and is it fully updated with its =20=

service packs (both the client and the server)?



On Dec 3, 2007, at 9:20 PM, chenxuexia wrote:

>
>
>
>
> ---------- =D7=AA=B7=A2=D3=CA=BC=FE=D0=C5=CF=A2 ----------
> =B7=A2=BC=FE=C8=CB=A3=BA"chenxuexia <xuex_chen@126.com>"
> =B7=A2=CB=CD=C8=D5=C6=DA=A3=BA2007-12-04 10:44:24
> =CA=D5=BC=FE=C8=CB=A3=BAgdal <gdal-dev@lists.maptools.org>
> =D6=F7=CC=E2=A3=BA error result in SDEDataset::ComputeRasterInfo()
> hi,
>   I use gdal1.4.1(added sdedataset and sderasterband) and VC6.0 to =20
> read data from sde4oracle database. i can't get the right rasterband =20=

> value.Here is the debugging  errors:
>   When run into SDEDataset::ComputeRasterInfo(),
> =
//////////////////////////////////////////////////////////////////////////=
///////////////////////
> for (int i=3D0; i < nBands; i++) {
>         SetBand( i+1, new SDERasterBand( this, i+1, -1, =20
> &(paohSDERasterBands[i]) ));
>     }
> GDALRasterBand* b =3D GetRasterBand(1);
> =
//////////////////////////////////////////////////////////////////////////=
///////////////////////
> now the b value is:
>
>    we can see that b->nRasterYSize is not equal to b->pods-=20
> >nRasterYSize, and b->eAccess is wrong!
>     Does the sentence SetBand (i+1, new SDERasterBand (this, i+1, =20
> -1,  &(paohSDERasterBands[i]) )) work well? Any way to solve it?
>
>
>
>
>
> --
> //////////////////////////////////////////////////////////////////
> To a world, you're little, but to a person, you're the world.
> //////////////////////////////////////////////////////////////////
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Tue Dec  4 00:29:39 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec  3 23:48:36 2007
Subject: [gdal-dev] 1.5.0 - Second Release Meeting
Message-ID: <4754E5C3.6010701@pobox.com>

Folks,

We have a release meeting scheduled for Tuesday December 4th.  I have
set  a time for 1700GMT (noon eastern time).  I would have set it a bit earlier
for the convenience of european attendies, but since I set the time so very
late it would not have given west coast attendies any warning at all.  So
hopefully this will be a decent compromise.

   http://trac.osgeo.org/gdal/wiki/SecondMeeting

I expect to have beta 1 issued in the near hour or so ...

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec  4 00:54:50 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 00:11:04 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0 Beta 1 Released
Message-ID: <4754EBAA.5090406@pobox.com>

Folks,

A first Beta for the GDAL/OGR 1.5.0 release has been prepared and is
available at:

   http://download.osgeo.org/gdal/gdal-1.5.0b1.tar.gz
   http://download.osgeo.org/gdal/gdal150b1.zip

Preliminary release notes are available at:

   http://trac.osgeo.org/gdal/wiki/Release/1.5.0-News

Testing and feedback are very much encouraged!  The brief 1.5.0 release
plan can be found at:

    http://trac.osgeo.org/gdal/roadmap

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From chhavi_aggl at yahoo.co.in  Tue Dec  4 01:24:24 2007
From: chhavi_aggl at yahoo.co.in (chhavi)
Date: Tue Dec  4 01:24:25 2007
Subject: [Gdal-dev] error reading vector file: "points.shp"
Message-ID: <14041328.post@talk.nabble.com>


For reading "points.shp" file, i compiled the following successfully and i
gave proper paths for library and header files also but while executing it
was giving error: 

could not open "points.shp" file.

Plz help me out.
Chhavi

#include "ogrsf_frmts.h" 

int main() 

{ 
    OGRRegisterAll(); 

    OGRDataSource       *poDS; 

    poDS = OGRSFDriverRegistrar::Open( "point.shp", FALSE ); 
    if( poDS == NULL ) 
    { 
        printf( "Open failed.\n" ); 
        exit( 1 ); 
    } 

    OGRLayer  *poLayer; 

    poLayer = poDS->GetLayerByName( "point" ); 

    OGRFeature *poFeature; 

    poLayer->ResetReading(); 
    while( (poFeature = poLayer->GetNextFeature()) != NULL ) 
    { 
        OGRFeatureDefn *poFDefn = poLayer->GetLayerDefn(); 
        int iField; 

        for( iField = 0; iField < poFDefn->GetFieldCount(); iField++ ) 
        { 
            OGRFieldDefn *poFieldDefn = poFDefn->GetFieldDefn( iField ); 

            if( poFieldDefn->GetType() == OFTInteger ) 
                printf( "%d,", poFeature->GetFieldAsInteger( iField ) ); 
            else if( poFieldDefn->GetType() == OFTReal ) 
                printf( "%.3f,", poFeature->GetFieldAsDouble(iField) ); 
            else if( poFieldDefn->GetType() == OFTString ) 
                printf( "%s,", poFeature->GetFieldAsString(iField) ); 
            else 
                printf( "%s,", poFeature->GetFieldAsString(iField) ); 
        } 

        OGRGeometry *poGeometry; 

        poGeometry = poFeature->GetGeometryRef(); 
        if( poGeometry != NULL 
            && wkbFlatten(poGeometry->getGeometryType()) == wkbPoint ) 
        { 
            OGRPoint *poPoint = (OGRPoint *) poGeometry; 

            printf( "%.3f,%3.f\n", poPoint->getX(), poPoint->getY() ); 
        } 
        else 
        { 
            printf( "no point geometry\n" ); 
        } 
        OGRFeature::DestroyFeature( poFeature ); 
    } 

    OGRDataSource::DestroyDataSource( poDS ); 
} 


 
-- 
View this message in context: http://www.nabble.com/error-reading-vector-file%3A-%22points.shp%22-tf4901804.html#a14041328
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From pssmaniam at hotmail.com  Tue Dec  4 01:35:56 2007
From: pssmaniam at hotmail.com (Sundaram Subramaniam)
Date: Tue Dec  4 01:35:58 2007
Subject: [gdal-dev] Gdal_Translate Geotransform error
In-Reply-To: <4753b96f.112b400a.7249.292d@mx.google.com>
References: <4753b96f.112b400a.7249.292d@mx.google.com>
Message-ID: <BAY144-W233ED47413EB5B84D4B045B86D0@phx.gbl>


Dear Andrew
i do have similar problem with gdal coordinate tranformation particularly with data georeferenced with geographic)lat/lon) coordinates. But it is Ok with map  GeoX/GeoY coordinates. Infact i could not even extract the values of geotransform from file with Geographic la/lon georeferenced. I think GDAL works only with projected map coordinates.
S.Subramaniam 
Scientist ,Land Resources Group, RS&GIS_Applications Area, 
National Remote Sensing Agency 
Hyderabad - 500 037 
INDIA


From: andrew.deklerk@gmail.comTo: gdal-dev@lists.osgeo.orgDate: Mon, 3 Dec 2007 10:05:32 +0200Subject: [gdal-dev] Gdal_Translate Geotransform error




Hi All 
 
I have done some searching to try solve my problem, but have been unsuccessful. I am relatively new to gdal, but not new to GIS. I apologise if my question's are basics..but an answer would help me significantly. I am running the latest build of Gdal for windows (1.43), and using the pre-compiled binaries. So here is my primary and secondary question: 
I have a tif file which i want to clip at certain coordinates, so I call the following command: 
 
"gdal_translate -projwin 16.25 -28.5 16.5 -28.75 H:\1_50000_April2007\2816\2816CB_2003_ED2_GEO.TIF 2816cb.tif" 
 
On running this i get the following error: 
"Input file size is 8267, 10629 
The -projwin option was used, but the geotransform is 
rotated.  This configuration is not supported." 
 
I have checked my input images and coordinates passed through with projwin, and all seem fine. Gdalinfo of the files reveals the following coordinate information: 
 
Upper Left  (  16.1928674, -28.4559735) ( 16d11'34.32"E, 28d27'21.50"S) 
Lower Left  (  16.1904570, -28.8619556) ( 16d11'25.65"E, 28d51'43.04"S) 
Upper Right (  16.5508568, -28.4576272) ( 16d33'3.08"E, 28d27'27.46"S) 
Lower Right (  16.5484465, -28.8636093) ( 16d32'54.41"E, 28d51'48.99"S) 
Center      (  16.3706569, -28.6597914) ( 16d22'14.36"E, 28d39'35.25"S) 
 
So my question is...what do I do to correct the error. I see no related messages between gdal_translate and geotransform. Do I need to do some programming to solve this problem? I shouldn?t think so, as what I am doing is pretty basic.
 
Second/third question is..if i do a straight translate to geotiff, my output image is 85Mb, while my input is only 6Mb (also tif, but with LZW compression) - how do I force LZW or export a file of the same size, or smaller, as the original?. I tried ECW but i received a "no support" message. Is ECW supported? 
 
Sorry for the long winded message, but i need to resolve this to do in Gdal. If it were just one image, I would use other GIS packages, but I have 2000 odd images to do and need to batch them 
 
Thanks 
Andrew
 
 
_________________________________________________________________
Tried the new MSN Messenger? It?s cool! Download now.
http://messenger.msn.com/Download/Default.aspx?mkt=en-in
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071204/9f27a0d7/attachment.html
From Chris.Barker at noaa.gov  Tue Dec  4 02:21:50 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Tue Dec  4 02:20:46 2007
Subject: [gdal-dev] Re: [GDAL] #2023: Add a Python wrapper for
	GDALGridCreate() function
In-Reply-To: <052.96e428011d280734d0084026e3e29a85@osgeo.org>
References: <043.e6e7f4285b8da8e923f38735c05eabd8@osgeo.org>
	<052.96e428011d280734d0084026e3e29a85@osgeo.org>
Message-ID: <4755000E.8070903@noaa.gov>

GDAL wrote:
> #2023: Add a Python wrapper for GDALGridCreate() function
> Comment:
> 
>  cc'ing Chris in case he can add some insight to what's going on in
>  swig/numpy land, as I've seen some traffic on the swig lists lately...

Finally replying....

Yes, there have been a few changes to the numpy.i typemaps, but I think 
it's been only a couple additions, none of which I can see applying to 
GDAL (though I don't know the GDAL API that well).

Anyway I do encourage you to use the numpy.i typemaps -- I think they 
are pretty well designed, the live in the numpy SVN, and their author, 
Bill Spotz is actively maintaining them and responsive to questions.

Now for the question at hand:

Proposed API:
"""
GridCreate(numpy_array,
            (minx,miny,maxx,maxy),
            nXSize,
            nYSize,
            eType,
            options)

numpy_array is a 2D NumPy? array containing all three pdfX, pdfY and 
pdfZ vectors.
"""

I assume that means that numpy_array is a Nx3 2-d array. That would work 
fine, though I'm not entirely sure what the advantage is over a closer 
mirror of the C API, and keep X,Y, and Z as separate arrays. One thought 
is that if the user has them as separate arrays, s/he'd have to make a 
copy to put them together into one array to make this call. On the other 
hand, if they were all one Nx3 array, the the method required them 
separate, that could easily be done without making copies:

pdfX = numpy_array[:,0]
pdfY = numpy_array[:,1]
pdfZ = numpy_array[:,2]


The output would be a nXSize x nYSize numpy array, yes?

Anyway, either way you do it it would be pretty easy with numpy.i, 
though a touch more code if you want them all together -- you'd need to 
do a %inline% function that split the numpy array up into the three 
separate C arrays -- not a big deal, but code to write. Though as I 
think about it, there will need to be an %inline% anyway, so that the 
three arrays all use a single number for their size -- see the numpy.i 
docs for an example of this. Now I"m leaning toward like the Nx3 array 
idea -- I know it is the data structure I usually use.

I read through your IRC session too. A couple comments:

<hobu>	I would propose that we make numpy *required* to build the 
next-gen bindings.

+1

In theory, the new "array interface" should allow folk to build 
extensions that play well with numpy without requiring the numpy 
headers, etc at build time. In practice, it's still easier to just build 
against numpy. I think that for the kind of data GDAL deals with, numpy 
is a no-brainer. But then I use it for almost everything!

<hobu>	if it is a single array, we can do a check in the typemap to 
ensure that things are in alignment

You could do that with three arrays also.

Any progress on this?

By the way, I like the ideas for cleaning up the structure of the SWIG code.


-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer

NOAA/OR&R/HAZMAT         (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception
From marco.lechner at geographie.uni-freiburg.de  Tue Dec  4 04:30:28 2007
From: marco.lechner at geographie.uni-freiburg.de (Marco Lechner)
Date: Tue Dec  4 04:30:31 2007
Subject: [gdal-dev] ogr2ogr ignores +towgs84
Message-ID: <47551E34.5020102@geographie.uni-freiburg.de>

I'm trying to translate some mapinfo-data from madagascar using a custom 
proj. But ogr2ogr seems to ignore the towgs84-parameters. In fact all 
these 4 commands produce the same results (which are wrong) by ignoring 
"+towgs84=-189,-242,-91,0,0,0,0":

# normal
ogr2ogr -f "ESRI Shapefile" -s_srs "+proj=omerc +lat_0=-18.9 
+lonc=46.437229 +alpha=18.9 +k=0.999500 +x_0=1113136.314600 
+y_0=2882900.727900 +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +units=m 
+no_defs"  -t_srs "epsg:32738" lim_commune_aout06_01.shp 
lim_commune_aout06.tab

# without towgs84:
ogr2ogr -f "ESRI Shapefile" -s_srs "+proj=omerc +lat_0=-18.9 
+lonc=46.437229 +alpha=18.9 +k=0.999500 +x_0=1113136.314600 
+y_0=2882900.727900 +ellps=intl +units=m +no_defs"  -t_srs "epsg:32738" 
lim_commune_aout06_02.shp lim_commune_aout06.tab

# explicit proj in t_srs:
ogr2ogr -f "ESRI Shapefile" -s_srs "+proj=omerc +lat_0=-18.9 
+lonc=46.437229 +alpha=18.9 +k=0.999500 +x_0=1113136.314600 
+y_0=2882900.727900 +ellps=intl +towgs84=-189,-242,-91,0,0,0,0 +units=m 
+no_defs"  -t_srs "+proj=utm +zone=38 +south +ellps=WGS84 +datum=WGS84 
+units=m +no_defs" lim_commune_aout06_03.shp lim_commune_aout06.tab

# without no_defs:
ogr2ogr -f "ESRI Shapefile" -s_srs "+proj=omerc +lat_0=-18.9 
+lonc=46.437229 +alpha=18.9 +k=0.999500 +x_0=1113136.314600 
+y_0=2882900.727900 +ellps=intl +units=m"  -t_srs "epsg:32738" 
lim_commune_aout06_04.shp lim_commune_aout06.tab

I have to transform 160 layers therefore I want to put it into a script.
From Steven.Mullins at dmme.virginia.gov  Tue Dec  4 08:25:45 2007
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Tue Dec  4 08:26:51 2007
Subject: FW: [gdal-dev] Shapefile read/write
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8304C390A1@exch2k1.dmmenet.mme.state.va.us>

Thanks again.  I inserted data_source.SyncToDisk() just before the data_source.Destroy() and got the following message at run-time: 

Traceback (most recent call last):
  File "test.py", line 38, in ?
    data_source.SyncToDisk()
AttributeError: DataSource instance has no attribute 'SyncToDisk'

Is SyncToDisk() supported in Python?

Steve

-----Original Message-----
From: Howard Butler [mailto:hobu.inc@gmail.com]
Sent: Mon, December 03, 2007 3:06 PM
To: Mullins, Steven
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Shapefile read/write


I think you might need a data_source.SyncToDisk() call before  
destroying.

On Dec 3, 2007, at 1:55 PM, Mullins, Steven wrote:

> Thanks for the quick reply.  I am using GDAL 1.5dev, FWTools 1.3.9,  
> released 2007/10/11 on win32.
> I assume since it is a development build, it is the new bindings.
>
> -----Original Message-----
> From: Howard Butler [mailto:hobu.inc@gmail.com]
> Sent: Mon, December 03, 2007 2:52 PM
> To: Mullins, Steven
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Shapefile read/write
>
>
> Which version of GDAL?
> Which bindings are you using, next-gen or old-gen?
>
> On Dec 3, 2007, at 1:41 PM, Mullins, Steven wrote:
>
>> I have written this short python program to update the northing and
>> easting datafields of a shapefile with the point locations for each
>> point.  I need to write this data back to the same shapefile.  Doing
>> a .Destroy() does not write back to the file.  I assume ogr.Open is
>> read only.  Is there a way to open a file read/write and write the
>> changes back when closing or Destroying?  Do I have to open a new
>> file and iterate over all the fields and points and write to a new
>> file?
>>
>> Thanks,
>>
>> Steve
>>
>> ###############################################
>> #!/usr/local/bin/python
>> #
>>
>> import ogr
>> import osr
>> import string
>>
>> ###############################################
>> # Data Source
>> data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls-
>> active.shp', update = 1)
>> layer_0 = data_source.GetLayer(0)
>> ###############################################
>>
>>
>>
>> current_feature = layer_0.GetNextFeature()
>>
>> while current_feature is not None:
>>
>>   current_point = current_feature.GetGeometryRef()
>>
>>   # update coords from point X,Y
>>   current_feature.SetField ( 0, current_point.GetX())
>>   current_feature.SetField ( 1, current_point.GetY())
>>
>>   current_feature = layer_0.GetNextFeature()
>>
>> data_source.Destroy()
>> ####################################################
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From tim.bowden at westnet.com.au  Tue Dec  4 09:11:54 2007
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Tue Dec  4 09:15:04 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0 Beta 1 Released
In-Reply-To: <4754EBAA.5090406@pobox.com>
References: <4754EBAA.5090406@pobox.com>
Message-ID: <1196777514.5998.9.camel@edoras>


On Tue, 2007-12-04 at 00:54 -0500, Frank Warmerdam wrote:
> Folks,
> 
> A first Beta for the GDAL/OGR 1.5.0 release has been prepared and is
> available at:
> 
>    http://download.osgeo.org/gdal/gdal-1.5.0b1.tar.gz
>    http://download.osgeo.org/gdal/gdal150b1.zip

./configure fails for me (on Ubuntu 7.10), but works fine with 1.4.4 and
earlier.

...
checking for MySQL... no
checking for Xerces C++ Parser... no
checking for Expat C++... requested, but compile or link fails!

g++ -I/usr/include -o conftest conftest.cpp -L/usr/lib -lexpat -lpq
-L/usr/local/pgsql/lib -lpq -lz -lm -lrt -ldl

conftest.cpp:1:19: error: expat.h: No such file or directory
conftest.cpp: In function 'int main()':
conftest.cpp:2: error: 'XML_Parser' was not declared in this scope
conftest.cpp:2: error: expected `;' before 'p'
conftest.cpp:2: error: 'p' was not declared in this scope
conftest.cpp:2: error: 'XML_ParserFree' was not declared in this scope

cat conftest.cpp
#include <expat.h>
int main() {  XML_Parser p = XML_ParserCreate(NULL);
XML_ParserFree(p); }
configure: error: Please correct Expat options, or don't enable Expat.


I can send full config.log if you want it.

Regards,
Tim Bowden

From warmerdam at pobox.com  Tue Dec  4 09:57:24 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 10:00:53 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0 Beta 1 Released
In-Reply-To: <1196777514.5998.9.camel@edoras>
References: <4754EBAA.5090406@pobox.com> <1196777514.5998.9.camel@edoras>
Message-ID: <47556AD4.5010101@pobox.com>

Tim Bowden wrote:
> On Tue, 2007-12-04 at 00:54 -0500, Frank Warmerdam wrote:
>> Folks,
>>
>> A first Beta for the GDAL/OGR 1.5.0 release has been prepared and is
>> available at:
>>
>>    http://download.osgeo.org/gdal/gdal-1.5.0b1.tar.gz
>>    http://download.osgeo.org/gdal/gdal150b1.zip
> 
> ./configure fails for me (on Ubuntu 7.10), but works fine with 1.4.4 and
> earlier.

Tim,

Thanks, I have filed this in Trac as:

   http://trac.osgeo.org/gdal/ticket/2050

Feel free to add yourself to the cc: list.  As a workaround you might
try --without-expat.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec  4 10:06:52 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 10:10:22 2007
Subject: [gdal-dev] Gdal_Translate Geotransform error
In-Reply-To: <BAY144-W233ED47413EB5B84D4B045B86D0@phx.gbl>
References: <4753b96f.112b400a.7249.292d@mx.google.com>
	<BAY144-W233ED47413EB5B84D4B045B86D0@phx.gbl>
Message-ID: <47556D0C.2020200@pobox.com>

Sundaram Subramaniam wrote:
> Dear Andrew
> i do have similar problem with gdal coordinate tranformation 
> particularly with data georeferenced with geographic)lat/lon) 
> coordinates. But it is Ok with map  GeoX/GeoY coordinates. Infact i 
> could not even extract the values of geotransform from file with 
> Geographic la/lon georeferenced. I think GDAL works only with projected 
> map coordinates.

Sundaram,

GDAL supports projected and geographic datasets.  A geotransform is
potentially available in either case.  It may be that the geographic
dataset you did not get a geotransform for instead was georefenced
with ground control points.  A gdalinfo report on the dataset would
explain determine if that is the case.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec  4 10:09:03 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 10:12:26 2007
Subject: FW: [gdal-dev] Shapefile read/write
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8304C390A1@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8304C390A1@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <47556D8F.9020306@pobox.com>

Mullins, Steven wrote:
> Thanks again.  I inserted data_source.SyncToDisk() just before the data_source.Destroy() and got the following message at run-time: 
> 
> Traceback (most recent call last):
>   File "test.py", line 38, in ?
>     data_source.SyncToDisk()
> AttributeError: DataSource instance has no attribute 'SyncToDisk'
> 
> Is SyncToDisk() supported in Python?

Steven,

SyncToDisk() is a method on the layer, not the datasource.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec  4 10:24:11 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 10:27:35 2007
Subject: [gdal-dev] some misc utilities for gdal
In-Reply-To: <1196738237.24847.8.camel@entropy.gina.alaska.edu>
References: <1196738237.24847.8.camel@entropy.gina.alaska.edu>
Message-ID: <4755711B.3040507@pobox.com>

Dan Stahlke wrote:
> I have created a few miscellaneous utilities that may be of general use.
> The package can be downloaded from this page:
> 
> http://www.gina.alaska.edu/page.xml?group=projects&page=gdalscripts
> 
> There are six utilities included.  There is a DEM shaded relief
> renderer, and landsat pan sharpening script, an outline tracer / corner
> finder, and a few others.  The outline tracer will find data regions of
> a raster and output a shape in WKT format.
> 
> These utilities all link to the GDAL library for image reading.  They
> are designed to compile on Unix systems but if someone can get it
> working in Windows let me know.

Dan,

Excellent!  I have added a link to your page off the Python topic at:

   http://trac.osgeo.org/gdal/wiki/GdalOgrInPython

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec  4 10:27:45 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 10:31:05 2007
Subject: [gdal-dev] Debug builds on Unix
Message-ID: <475571F1.5090907@pobox.com>

Folks,

I neglected to mention that just before the beta was issued last night I
also reworked how debug builds are requested for GDAL on unix-like builds.
The CFG environment variable has been removed and GDAL now respects setting
of the CFLAGS and CXXFLAGS environment variables before running configure.
So now, the normal way to request a debug build is:

export CFLAGS=-g
export CXXFLAGS=-g
./configure

The normal way to request an optimized build is:

export CFLAGS=-O2
export CXXFLAGS=-O2
./configure

The default is to use -g -O2 (which I find to be the worst of all worlds).

While I don't especially love this approach, it seems to be inline with unix
packaging standards and will hopefully make GDAL easier for folks to use since
it works more like everything else.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Steven.Mullins at dmme.virginia.gov  Tue Dec  4 10:45:21 2007
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Tue Dec  4 10:46:03 2007
Subject: FW: [gdal-dev] Shapefile read/write
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8303C23698@exch2k1.dmmenet.mme.state.va.us>

Frank,

Thanks for the reply.  It runs without an error, but is not updating the shapefile on disk.  My Python code is below.  Perhaps I am not opening the file correctly.  I can't find any good example to go by.  Every example I found copies the schema and data to a new file using recursion over the fields.  I also found an old list email (2005) that stated that shapefile write-backs did not work in OGR at that time.  A shapefile write-back would be ideal for me, if It can be done.  Do any errors jump out at you?

Thanks,

Steve

###############################################
#!/usr/local/bin/python
# read SHP file and update attributes per coordinates

import ogr
import osr
import string

###############################################
# Data Source
data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls-active.shp')
layer_0 = data_source.GetLayer(0)
###############################################

current_feature = layer_0.GetNextFeature()

while current_feature is not None:
    current_point = current_feature.GetGeometryRef()
    current_feature.SetField ( 0, current_point.GetX())
    current_feature.SetField ( 1, current_point.GetY())
    current_feature = layer_0.GetNextFeature()
layer_0.SyncToDisk()
data_source.Destroy()
#################################################













-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org]On Behalf Of Frank Warmerdam
Sent: Tue, December 04, 2007 10:09 AM
To: Mullins, Steven
Cc: gdal-dev@lists.osgeo.org
Subject: Re: FW: [gdal-dev] Shapefile read/write


Mullins, Steven wrote:
> Thanks again.  I inserted data_source.SyncToDisk() just before the data_source.Destroy() and got the following message at run-time: 
> 
> Traceback (most recent call last):
>   File "test.py", line 38, in ?
>     data_source.SyncToDisk()
> AttributeError: DataSource instance has no attribute 'SyncToDisk'
> 
> Is SyncToDisk() supported in Python?

Steven,

SyncToDisk() is a method on the layer, not the datasource.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Tue Dec  4 11:26:02 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 11:28:54 2007
Subject: FW: [gdal-dev] Shapefile read/write
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8303C23698@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8303C23698@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <47557F9A.8000807@pobox.com>

Mullins, Steven wrote:
> Frank,
> 
> Thanks for the reply.  It runs without an error, but is not updating the shapefile on disk.  My Python code is below.  Perhaps I am not opening the file correctly.  I can't find any good example to go by.  Every example I found copies the schema and data to a new file using recursion over the fields.  I also found an old list email (2005) that stated that shapefile write-backs did not work in OGR at that time.  A shapefile write-back would be ideal for me, if It can be done.  Do any errors jump out at you?
> 
> Thanks,
> 
> Steve
> 
> ###############################################
> #!/usr/local/bin/python
> # read SHP file and update attributes per coordinates
> 
> import ogr
> import osr
> import string
> 
> ###############################################
> # Data Source
> data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls-active.shp')

Steven,

Thi is your first problem.  You need to open the file in update
mode.  Try:

data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls-active.shp',1)

But also the following never actually sends the modified feature
back to the layer.

 > while current_feature is not None:
 >     current_point = current_feature.GetGeometryRef()
 >     current_feature.SetField ( 0, current_point.GetX())
 >     current_feature.SetField ( 1, current_point.GetY())
 >     current_feature = layer_0.GetNextFeature()
 > layer_0.SyncToDisk()
 > data_source.Destroy()

Try adding:

       layer.SetFeature( current_feature )

after the two SetField calls.  The SetFeature() call tells the
layer to write this feature back to disk.  It is often unclear to
people, but the feature object is not a direct proxy for the data
in the datastore.  It is a relatively freestanding feature in
memory that you can manipulate and use.  If you want changes to it
to be reflected in the file, then you need to explicitly request it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Steven.Mullins at dmme.virginia.gov  Tue Dec  4 12:01:28 2007
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Tue Dec  4 12:01:32 2007
Subject: FW: [gdal-dev] Shapefile read/write
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8304C390A9@exch2k1.dmmenet.mme.state.va.us>

Frank,

Works perfect!  Now I understand OGR's data handling better too.  

Many thanks,

Steve

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com]
Sent: Tue, December 04, 2007 11:26 AM
To: Mullins, Steven
Cc: gdal-dev@lists.osgeo.org
Subject: Re: FW: [gdal-dev] Shapefile read/write


Mullins, Steven wrote:
> Frank,
> 
> Thanks for the reply.  It runs without an error, but is not updating the shapefile on disk.  My Python code is below.  Perhaps I am not opening the file correctly.  I can't find any good example to go by.  Every example I found copies the schema and data to a new file using recursion over the fields.  I also found an old list email (2005) that stated that shapefile write-backs did not work in OGR at that time.  A shapefile write-back would be ideal for me, if It can be done.  Do any errors jump out at you?
> 
> Thanks,
> 
> Steve
> 
> ###############################################
> #!/usr/local/bin/python
> # read SHP file and update attributes per coordinates
> 
> import ogr
> import osr
> import string
> 
> ###############################################
> # Data Source
> data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls-active.shp')

Steven,

Thi is your first problem.  You need to open the file in update
mode.  Try:

data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls-active.shp',1)

But also the following never actually sends the modified feature
back to the layer.

 > while current_feature is not None:
 >     current_point = current_feature.GetGeometryRef()
 >     current_feature.SetField ( 0, current_point.GetX())
 >     current_feature.SetField ( 1, current_point.GetY())
 >     current_feature = layer_0.GetNextFeature()
 > layer_0.SyncToDisk()
 > data_source.Destroy()

Try adding:

       layer.SetFeature( current_feature )

after the two SetField calls.  The SetFeature() call tells the
layer to write this feature back to disk.  It is often unclear to
people, but the feature object is not a direct proxy for the data
in the datastore.  It is a relatively freestanding feature in
memory that you can manipulate and use.  If you want changes to it
to be reflected in the file, then you need to explicitly request it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org
From hobu.inc at gmail.com  Tue Dec  4 12:06:45 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue Dec  4 12:08:00 2007
Subject: [gdal-dev] Shapefile read/write
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8304C390A9@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8304C390A9@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <8FD388A5-EEF6-4153-A9ED-CC0DF2AA65DC@gmail.com>

Me too :)  I seem to remember making the same mistake(s) the last time  
I tried to do something similar...

Howard


On Dec 4, 2007, at 11:01 AM, Mullins, Steven wrote:

> Frank,
>
> Works perfect!  Now I understand OGR's data handling better too.
>
> Many thanks,
>
> Steve
>
> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com]
> Sent: Tue, December 04, 2007 11:26 AM
> To: Mullins, Steven
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: FW: [gdal-dev] Shapefile read/write
>
>
> Mullins, Steven wrote:
>> Frank,
>>
>> Thanks for the reply.  It runs without an error, but is not  
>> updating the shapefile on disk.  My Python code is below.  Perhaps  
>> I am not opening the file correctly.  I can't find any good example  
>> to go by.  Every example I found copies the schema and data to a  
>> new file using recursion over the fields.  I also found an old list  
>> email (2005) that stated that shapefile write-backs did not work in  
>> OGR at that time.  A shapefile write-back would be ideal for me, if  
>> It can be done.  Do any errors jump out at you?
>>
>> Thanks,
>>
>> Steve
>>
>> ###############################################
>> #!/usr/local/bin/python
>> # read SHP file and update attributes per coordinates
>>
>> import ogr
>> import osr
>> import string
>>
>> ###############################################
>> # Data Source
>> data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls- 
>> active.shp')
>
> Steven,
>
> Thi is your first problem.  You need to open the file in update
> mode.  Try:
>
> data_source = ogr.Open('./shapefiles83/rainfalls-active/rainfalls- 
> active.shp',1)
>
> But also the following never actually sends the modified feature
> back to the layer.
>
>> while current_feature is not None:
>>    current_point = current_feature.GetGeometryRef()
>>    current_feature.SetField ( 0, current_point.GetX())
>>    current_feature.SetField ( 1, current_point.GetY())
>>    current_feature = layer_0.GetNextFeature()
>> layer_0.SyncToDisk()
>> data_source.Destroy()
>
> Try adding:
>
>       layer.SetFeature( current_feature )
>
> after the two SetField calls.  The SetFeature() call tells the
> layer to write this feature back to disk.  It is often unclear to
> people, but the feature object is not a direct proxy for the data
> in the datastore.  It is a relatively freestanding feature in
> memory that you can manipulate and use.  If you want changes to it
> to be reflected in the file, then you need to explicitly request it.
>
> Best regards,
> -- 
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ari.jolma at tkk.fi  Tue Dec  4 13:24:44 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Tue Dec  4 13:28:54 2007
Subject: [gdal-dev] Debug builds on Unix
In-Reply-To: <475571F1.5090907@pobox.com>
References: <475571F1.5090907@pobox.com>
Message-ID: <47559B6C.9010306@tkk.fi>

Frank Warmerdam kirjoitti:
> also reworked how debug builds are requested for GDAL on unix-like 
> builds.
>

> While I don't especially love this approach, it seems to be inline 
> with unix
> packaging standards and will hopefully make GDAL easier for folks to 
> use since
> it works more like everything else.

Why not have something like --enable-debug for configure? For example 
GTK seems to have that switch. What are these unix packaging standards 
that you refer to?

I've always found it difficult to turn on the debugging since it's been 
through this environment variable.

Regards,

Ari

-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From ari.jolma at tkk.fi  Tue Dec  4 13:35:43 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Tue Dec  4 13:34:38 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0 Beta 1 Released
In-Reply-To: <1196777514.5998.9.camel@edoras>
References: <4754EBAA.5090406@pobox.com> <1196777514.5998.9.camel@edoras>
Message-ID: <47559DFF.4090405@tkk.fi>

Tim Bowden kirjoitti:
> configure: error: Please correct Expat options, or don't enable Expat.
>   

Since Expat is on by default, it should perhaps just say: Please disable 
Expat.

The configure fails on this also on MinGW MSYS, but Expat can be used, 
there are binary versions of the DLL with the header files available. I 
managed the compile like this:

use --with-expat-lib=/mingw/bin/libexpat.dll in configure
edit GDALmake.opt to have -Lc:/mingw/bin -lexpat in LIBS and 
-Ic:/mingw/include  in EXPAT_INCLUDE

I did not try to find one working command line for the configure.

Regards,

Ari

-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From warmerdam at pobox.com  Tue Dec  4 13:49:19 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 13:49:12 2007
Subject: [gdal-dev] Debug builds on Unix
In-Reply-To: <47559B6C.9010306@tkk.fi>
References: <475571F1.5090907@pobox.com> <47559B6C.9010306@tkk.fi>
Message-ID: <4755A12F.20108@pobox.com>

Ari Jolma wrote:
> Frank Warmerdam kirjoitti:
>> also reworked how debug builds are requested for GDAL on unix-like 
>> builds.
>>
> 
>> While I don't especially love this approach, it seems to be inline 
>> with unix
>> packaging standards and will hopefully make GDAL easier for folks to 
>> use since
>> it works more like everything else.
> 
> Why not have something like --enable-debug for configure? For example 
> GTK seems to have that switch. What are these unix packaging standards 
> that you refer to?
> 
> I've always found it difficult to turn on the debugging since it's been 
> through this environment variable.

Ari,

Andrey made the same suggestion, and I have incorporated support for
--enable-debug.  It will attempt to strip optimization flags out of the
CFLAGS and CXXFLAGS and add "-g -DDEBUG".  Skipping that and setting
CFLAGS and CXXFLAGS via the environment will also work as noted earlier.
Though I should mention I forgot to mention adding -DDEBUG without which
assertions will not be compiled in.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From dmorissette at mapgears.com  Tue Dec  4 14:33:43 2007
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Tue Dec  4 14:33:57 2007
Subject: [gdal-dev] Debug builds on Unix
In-Reply-To: <4755A12F.20108@pobox.com>
References: <475571F1.5090907@pobox.com> <47559B6C.9010306@tkk.fi>
	<4755A12F.20108@pobox.com>
Message-ID: <4755AB97.8040100@mapgears.com>

Frank Warmerdam wrote:
> 
> Andrey made the same suggestion, and I have incorporated support for
> --enable-debug.  


/me cheers


-- 
Daniel Morissette
http://www.mapgears.com/
From ari.jolma at tkk.fi  Tue Dec  4 14:58:14 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Tue Dec  4 14:57:39 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0 Beta 1 Released
In-Reply-To: <4754EBAA.5090406@pobox.com>
References: <4754EBAA.5090406@pobox.com>
Message-ID: <4755B156.2070208@tkk.fi>

Frank Warmerdam kirjoitti:
> Folks,
>
> A first Beta for the GDAL/OGR 1.5.0 release has been prepared

configure puts -g into *FLAGS in GDALmake.opt and the result is (in 
MinGW) a 21 MB DLL, without it, the DLL is < 6 MB. I wonder how it got 
there since I did not request a debug build.

Ari

-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From dmorissette at mapgears.com  Tue Dec  4 15:03:52 2007
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Tue Dec  4 15:03:56 2007
Subject: [gdal-dev] Vote to adopt RFC 18: OGR Style Support in C API
Message-ID: <4755B2A8.3070903@mapgears.com>

Hi dev's,

I have made a few edits to RFC-18 since yesterday, the main one is 
removing OGRStyleVector from the list of supported classes and adding a 
note explaining that since it is unused it will not be exposed to the C 
API and will likey be removed in future releases. The rest were just 
minor edits.

I'd like to call for a vote to approve "GDAL RFC 18: OGR Style Support 
in C API" now, for inclusion in GDAL/OGR 1.5.0 before beta2.

And I start with my +1.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From hobu.inc at gmail.com  Tue Dec  4 15:07:47 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue Dec  4 15:09:01 2007
Subject: [gdal-dev] Vote to adopt RFC 18: OGR Style Support in C API
In-Reply-To: <4755B2A8.3070903@mapgears.com>
References: <4755B2A8.3070903@mapgears.com>
Message-ID: <D3B1591E-F431-4B34-97DA-CE1674C3E31C@gmail.com>


On Dec 4, 2007, at 2:03 PM, Daniel Morissette wrote:

> Hi dev's,
>
> I have made a few edits to RFC-18 since yesterday, the main one is  
> removing OGRStyleVector from the list of supported classes and  
> adding a note explaining that since it is unused it will not be  
> exposed to the C API and will likey be removed in future releases.  
> The rest were just minor edits.
>
> I'd like to call for a vote to approve "GDAL RFC 18: OGR Style  
> Support in C API" now, for inclusion in GDAL/OGR 1.5.0 before beta2.
>
> And I start with my +1.

+1
From warmerdam at pobox.com  Tue Dec  4 15:12:48 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 15:09:56 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0 Beta 1 Released
In-Reply-To: <4755B156.2070208@tkk.fi>
References: <4754EBAA.5090406@pobox.com> <4755B156.2070208@tkk.fi>
Message-ID: <4755B4C0.7050206@pobox.com>

Ari Jolma wrote:
> Frank Warmerdam kirjoitti:
>> Folks,
>>
>> A first Beta for the GDAL/OGR 1.5.0 release has been prepared
> 
> configure puts -g into *FLAGS in GDALmake.opt and the result is (in 
> MinGW) a 21 MB DLL, without it, the DLL is < 6 MB. I wonder how it got 
> there since I did not request a debug build.

Ari,

The default flags for configure are normally "-g -O2" if nothing else
is specified.  I used to filter out -g but that was an unusual behavior and
I have dropped it for 1.5.0b1.

You need to set CFLAGS=-O2 and CXXFLAGS=-O2 if you want to avoid debug
information.

To the best of my knowledge this is normal behavior for configure based
packages.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec  4 15:14:22 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec  4 15:11:27 2007
Subject: [gdal-dev] Vote to adopt RFC 18: OGR Style Support in C API
In-Reply-To: <4755B2A8.3070903@mapgears.com>
References: <4755B2A8.3070903@mapgears.com>
Message-ID: <4755B51E.6000703@pobox.com>

Daniel Morissette wrote:
> Hi dev's,
> 
> I have made a few edits to RFC-18 since yesterday, the main one is 
> removing OGRStyleVector from the list of supported classes and adding a 
> note explaining that since it is unused it will not be exposed to the C 
> API and will likey be removed in future releases. The rest were just 
> minor edits.
> 
> I'd like to call for a vote to approve "GDAL RFC 18: OGR Style Support 
> in C API" now, for inclusion in GDAL/OGR 1.5.0 before beta2.
> 
> And I start with my +1.

I'm +1 on:

   http://trac.osgeo.org/gdal/wiki/rfc18_ogr_styles_c_api

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From szekerest at gmail.com  Tue Dec  4 16:03:02 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Dec  4 16:03:08 2007
Subject: [gdal-dev] Vote to adopt RFC 18: OGR Style Support in C API
In-Reply-To: <4755B2A8.3070903@mapgears.com>
References: <4755B2A8.3070903@mapgears.com>
Message-ID: <f3b73b7d0712041303k11370089s13e89e3743ee6a48@mail.gmail.com>

+1

Tamas


2007/12/4, Daniel Morissette <dmorissette@mapgears.com>:
> Hi dev's,
>
> I have made a few edits to RFC-18 since yesterday, the main one is
> removing OGRStyleVector from the list of supported classes and adding a
> note explaining that since it is unused it will not be exposed to the C
> API and will likey be removed in future releases. The rest were just
> minor edits.
>
> I'd like to call for a vote to approve "GDAL RFC 18: OGR Style Support
> in C API" now, for inclusion in GDAL/OGR 1.5.0 before beta2.
>
> And I start with my +1.
>
> Daniel
> --
> Daniel Morissette
> http://www.mapgears.com/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From hobu.inc at gmail.com  Tue Dec  4 23:29:43 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue Dec  4 23:31:09 2007
Subject: [gdal-dev] error result in SDEDataset::ComputeRasterInfo()
In-Reply-To: <17051406.130201196824191613.JavaMail.coremail@bj126app92.126.com>
References: <AD2833D7-5C2E-457B-BFC9-42654E01426E@gmail.com>
	<23068859.167521196738446912.JavaMail.coremail@bj126app42.126.com>
	<17051406.130201196824191613.JavaMail.coremail@bj126app92.126.com>
Message-ID: <6A7EC0AE-8C22-43CA-9B2E-9960E8EE6680@gmail.com>

A couple of things:

1)  Are you calling GDALRegister_SDE() twice by virtue of calling =20
GDALAllRegister() once already in your program?  Are you attempting to =20=

use the SDE raster driver in some sort of plugin (ie, where you could =20=

potentially have out-of-dll or cross-dll allocations going on)

2) The following Python script works for me on linux (using the latest =20=

version of the code from svn) under valgrind with no memory errors:

> from osgeo import gdal
>
> gdal.UseExceptions()
>
> ds =3D gdal.Open('SDE:localhost,5151,sde,sde,sde,SDE.ANDREAS')
> print 'X Size: ', ds.RasterXSize, 'Y Size: ', ds.RasterYSize
>
>
> band1 =3D ds.GetRasterBand(1)
> print 'Band X Size: ', band1.XSize, 'Band Y Size: ', band1.YSize
>
> print 'Number of Overviews: ', band1.GetOverviewCount()
>

The above code prints the following:

> X Size:  7872 Y Size:  9743
> Band X Size:  7872 Band Y Size:  9743
> Number of Overviews:  4

3) Are you using the latest svn version of the code?

4) Do you see the same problem with a layer that *is not* of floating =20=

point type?

5) Can you try a version of the raster layer that does not use LZ77 =20
compression?  There is a pretty serious conflict with an internal zlib =20=

that the ArcSDE libraries has embedded =
http://forums.esri.com/Thread.asp?c=3D2&f=3D1718&t=3D212867&mc=3D3


On Dec 4, 2007, at 9:09 PM, chenxuexia wrote:

> hi,
>  Thank you for reply.
>  My software version is arcsde9.2 for oracle9i without any service =20
> pack. The data is imported into database through arcgis9.0. This is =20=

> some information of the data displayed in arcmap:
>  DataSource:
>   Raster : sde.dem
>   Data Type: SDE raster
>   server: mypc
>  Raster information:
>   Columns and Rows: 5204,4488
>   Number of Bands : 1
>   Uncompressed Size: 89.00MB
>   Format: SDR
>   Source Type: continous
>   Pixel Type: floating point
>   Pixel Depth: 32 Bit
>   NodataValue: -3.402823E+38
>   Colormap: absent
>   Pyramids: level:5,resampling: Nearest neighbor
>   Compression : LZ77
>
> I just wanna get the most detailed rasterband(the first overview). =20
> My code like this:
>
> OpenSdeDEM(const char* pszFilename)
> {
>  GDALRegister_SDE();
>  GDALOpenInfo OpenInfo(szFileName , GA_ReadOnly);
>  GDALDataset* poDataset =3D SDEDataset::Open(&OpenInfo);
> // trace to sdeDataset::ComputeRasterInfo(),after exectuting =20
> SetBand(),
> //the (GDALRasterBand*)b's value looks like memory dislocation!
>  if( poDataset !=3D NULL )
>  {
>     //Fetching a Raster Band and adfGeometry...
>   nBands =3D poDataset ->GetRasterCount();
>   if (nBands<=3D0)
>    return FALSE;
>   poBand =3D poDataset ->GetRasterBand( 1 );
>   iCols =3D poBand->GetXSize();// iCols=3D512, ---iCols !=3D 5204, =
what's =20
> the problem?
>   iRows =3D poBand->GetYSize(); // iRows=3D512,--- not 4488
> ...}
> ..
> }
>
> The attachment is the snapshot of the trace result--=20
> (GDALRasterBand*)b's value.
>
> --
> //////////////////////////////////////////////////////////////////
> To a world, you're little, but to a person, you're the world.
> //////////////////////////////////////////////////////////////////
>
> =D4=DA2007-12-04=A3=AC"Howard Butler" <hobu.inc@gmail.com> =D0=B4=B5=C0=A3=
=BA
> Can you provide more detail about how to reproduce the issue?
>
> Are you working with an overview band, or just the base data?
>
> Which version of ArcSDE are you using and is it fully updated with its
> service packs (both the client and the server)?
>
>
>
> On Dec 3, 2007, at 9:20 PM, chenxuexia wrote:
>
> >
> >
> >
> >
> > ---------- =D7=AA=B7=A2=D3=CA=BC=FE=D0=C5=CF=A2 ----------
> > =B7=A2=BC=FE=C8=CB=A3=BA"chenxuexia <xuex_chen@126.com>"
> > =B7=A2=CB=CD=C8=D5=C6=DA=A3=BA2007-12-04 10:44:24
> > =CA=D5=BC=FE=C8=CB=A3=BAgdal <gdal-dev@lists.maptools.org>
> > =D6=F7=CC=E2=A3=BA error result in SDEDataset::ComputeRasterInfo()
> > hi,
> >   I use gdal1.4.1(added sdedataset and sderasterband) and VC6.0 to
> > read data from sde4oracle database. i can't get the right rasterband
> > value.Here is the debugging  errors:
> >   When run into SDEDataset::ComputeRasterInfo(),
> >=20
>  =
//////////////////////////////////////////////////////////////////////////=
///////////////////////
> > for (int i=3D0; i < nBands; i++) {
> >         SetBand( i+1, new SDERasterBand( this, i+1, -1,
> > &(paohSDERasterBands[i]) ));
> >     }
> > GDALRasterBand* b =3D GetRasterBand(1);
> >=20
>  =
//////////////////////////////////////////////////////////////////////////=
///////////////////////
> > now the b value is:
> >
> >    we can see that b->nRasterYSize is not equal to b->pods-
> > >nRasterYSize, and b->eAccess is wrong!
> >     Does the sentence SetBand (i+1, new SDERasterBand (this, i+1,
> > -1,  &(paohSDERasterBands[i]) )) work well? Any way to solve it?
> >
> >
> >
> >
> >
> > --
> > //////////////////////////////////////////////////////////////////
> > To a world, you're little, but to a person, you're the world.
> > //////////////////////////////////////////////////////////////////
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> <=CE=B4=C3=FC=C3=FB.jpg>

From hobu.inc at gmail.com  Wed Dec  5 01:32:24 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec  5 01:33:38 2007
Subject: [gdal-dev] Python documentation help
Message-ID: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>

All,

I have drastically restructured our GDAL Python wiki page to be a  
reStructured text formatted document that I would like to synchronize  
with the ./swig/python/README.txt as part of the GDAL 1.5. release.   
As people beta test the 1.5 release, I would like to ask that you add  
notes or sections to the document that describe trip-ups that may have  
been missed.  Also, more examples (even some simple code examples)  
would be excellent additions.  If anyone has time to work on this, it  
would be greatly appreciated.

http://trac.osgeo.org/gdal/wiki/GdalOgrInPython

As we build up to the release, I will continue to sync this wiki page  
with the file in subversion, but the wiki page should be considered  
"the master" until the 1.5 release is made.

Crowd-sourced GDAL documentation here we come!

Thanks,

Howard
From dron at ak4719.spb.edu  Wed Dec  5 02:09:30 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Dec  5 02:17:44 2007
Subject: [gdal-dev] Vote to adopt RFC 18: OGR Style Support in C API
In-Reply-To: <4755B2A8.3070903@mapgears.com>
References: <4755B2A8.3070903@mapgears.com>
Message-ID: <20071205070930.GA24680@ak4719.spb.edu>

On Tue, Dec 04, 2007 at 03:03:52PM -0500, Daniel Morissette wrote:
> I'd like to call for a vote to approve "GDAL RFC 18: OGR Style Support
> in C API" now, for inclusion in GDAL/OGR 1.5.0 before beta2.

+1

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From aberenyi at burken.hu  Wed Dec  5 07:14:16 2007
From: aberenyi at burken.hu (=?ISO-8859-2?Q?Ber=E9nyi_Attila?=)
Date: Wed Dec  5 07:16:17 2007
Subject: [gdal-dev] dgn to mysql
Message-ID: <47569618.8050603@burken.hu>

Dear Folks,

I've tried to convert a DGN drawing to MySQL with ogr2ogr, but I've
got this error message:
"ERROR 1: MySQL error message:Column 'SHAPE' cannot be null
Description: INSERT INTO elements (SHAPE , type, level, graphicgroup,
colorindex, weight, style) VALUES (GeometryFromText('LINESTRING (600
200 0,650 230 0)',-1) , 3, 1, 0, 0, 0, 0)"

The appropriate command:
"ogr2ogr -f MySQL MySQL:test,user=xxx,password=xxx drawing.dgn
-overwrite -nlt GEOMETRY "

I've edited the MySQL table, but no success at all.

Any idea? Could be because of the 3 dimensional drawing?

Thanks in advance,
Attila

From warmerdam at pobox.com  Wed Dec  5 09:13:42 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec  5 09:14:55 2007
Subject: [gdal-dev] dgn to mysql
In-Reply-To: <47569618.8050603@burken.hu>
References: <47569618.8050603@burken.hu>
Message-ID: <4756B216.604@pobox.com>

Ber?nyi Attila wrote:
> Dear Folks,
> 
> I've tried to convert a DGN drawing to MySQL with ogr2ogr, but I've
> got this error message:
> "ERROR 1: MySQL error message:Column 'SHAPE' cannot be null
> Description: INSERT INTO elements (SHAPE , type, level, graphicgroup,
> colorindex, weight, style) VALUES (GeometryFromText('LINESTRING (600
> 200 0,650 230 0)',-1) , 3, 1, 0, 0, 0, 0)"
> 
> The appropriate command:
> "ogr2ogr -f MySQL MySQL:test,user=xxx,password=xxx drawing.dgn
> -overwrite -nlt GEOMETRY "
> 
> I've edited the MySQL table, but no success at all.
> 
> Any idea? Could be because of the 3 dimensional drawing?

Attila,

What version of GDAL are you using?  The above is attempting to insert a
3D geometry into mysql and it is my understanding that mysql only supports
2D geometries.  I believe there was a bug fix related to this somewhat
recently.  It should be fixed in GDAL 1.4.4 and GDAL 1.5.0b1.

   http://trac.osgeo.org/gdal/ticket/1848

I can't think of any trivial workaround to force your geometries to 2D with
ogr2ogr (unfortunately).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mitchelljj98 at gmail.com  Wed Dec  5 09:43:24 2007
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Wed Dec  5 09:43:27 2007
Subject: [gdal-dev] gdalinfo on an NITF file I get a warning message of
	"Warning 1: Image with 11 bits per sample will not be
	interpreted properly."
Message-ID: <fa2ac0580712050643m3ddd743u2f80f450e2e81b32@mail.gmail.com>

Hi,

When running gdalinfo on an NITF file I get a warning message of "Warning 1:
Image with 11 bits per sample will not be interpreted properly." and the
attached gdalinfo file.

What does this warning message mean as far as accurately processing this
file (along with similar NITF files) with gdal tools like gdalwarp,
gdal_translate, gdaltindex, gdalinfo and then displaying this data within
UMN MapServer?

Thanks,

-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071205/384bd59d/attachment.html
From aberenyi at burken.hu  Wed Dec  5 09:48:35 2007
From: aberenyi at burken.hu (=?ISO-8859-2?Q?Attila_Ber=E9nyi?=)
Date: Wed Dec  5 09:50:34 2007
Subject: [gdal-dev] dgn to mysql
In-Reply-To: <4756B216.604@pobox.com>
References: <47569618.8050603@burken.hu> <4756B216.604@pobox.com>
Message-ID: <4756BA43.1040004@burken.hu>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear Frank,

You're probably right:
atis@shire ~ $ equery list |grep gdal
sci-libs/gdal-1.4.2

Any idea when will be the gentoo portage updated to 1.4.4 or to 1.5.0b1?
Or is it better if compile it from source?

Thanks again,

Attila

Frank Warmerdam ?rta:
> Ber?nyi Attila wrote:
>> Dear Folks,
>>
>> I've tried to convert a DGN drawing to MySQL with ogr2ogr, but
>> I've got this error message: "ERROR 1: MySQL error message:Column
>>  'SHAPE' cannot be null Description: INSERT INTO elements (SHAPE
>> , type, level, graphicgroup, colorindex, weight, style) VALUES
>> (GeometryFromText('LINESTRING (600 200 0,650 230 0)',-1) , 3, 1,
>> 0, 0, 0, 0)"
>>
>> The appropriate command: "ogr2ogr -f MySQL
>> MySQL:test,user=xxx,password=xxx drawing.dgn -overwrite -nlt
>> GEOMETRY "
>>
>> I've edited the MySQL table, but no success at all.
>>
>> Any idea? Could be because of the 3 dimensional drawing?
>
> Attila,
>
> What version of GDAL are you using?  The above is attempting to
> insert a 3D geometry into mysql and it is my understanding that
> mysql only supports 2D geometries.  I believe there was a bug fix
> related to this somewhat recently.  It should be fixed in GDAL
> 1.4.4 and GDAL 1.5.0b1.
>
> http://trac.osgeo.org/gdal/ticket/1848
>
> I can't think of any trivial workaround to force your geometries to
>  2D with ogr2ogr (unfortunately).
>
> Best regards,

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.7 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFHVrpD76iTSmN9z2ARAioiAJ9HUP3wyc21Dl5fKry3cDjmcXmAlACdETXC
oTLAgOSvpuRZcAt4KxzeEp4=
=5PIg
-----END PGP SIGNATURE-----

From dmorissette at mapgears.com  Wed Dec  5 09:51:02 2007
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Dec  5 09:51:05 2007
Subject: [gdal-dev] Re: Vote to adopt RFC 18: OGR Style Support in C API
In-Reply-To: <4755B2A8.3070903@mapgears.com>
References: <4755B2A8.3070903@mapgears.com>
Message-ID: <4756BAD6.1030500@mapgears.com>

Daniel Morissette wrote:
> 
> I'd like to call for a vote to approve "GDAL RFC 18: OGR Style Support 
> in C API" now, for inclusion in GDAL/OGR 1.5.0 before beta2.
> 

I declare RFC-18 passed with +1 from all PSC members (FrankW, DanielM, 
HowardB, TamasS, AndreyK)

I have created ticket #2061 to track this work:
   http://trac.osgeo.org/gdal/ticket/2061

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From DCarreira at edia.pt  Wed Dec  5 09:51:36 2007
From: DCarreira at edia.pt (Duarte Carreira)
Date: Wed Dec  5 09:53:47 2007
Subject: [gdal-dev] SDE raster driver: vertical displacement of 64 pixels
Message-ID: <94C0F903807262438796839A98A9BA5001D9D9D4@beja001.edia.pt>

Hello all.
 
I've just tested gdal's sde driver to export a geographic window from a
ArcSDE raster dataset, using the -projwin option. I tested against
ArcSDE 9.2 SP3, on Oracle 92, using FWTools 1.3.9 containing GDAL
1.5dev.
 
I measured the distance between the original and the exported image and
got 64 pixels vertical, 0 horizontal.
 
The raster dataset is 0,4m / pixel, and the raster tile dimension is
128x128 pixels. Could it be something to do with the tile size? But
128x128 is the default value.
 
This is the same problem I reported a few months back.
 
Any possible help on this?
 
Regards,
Duarte Carreira
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071205/1e5928f8/attachment.html
From warmerdam at pobox.com  Wed Dec  5 09:54:34 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec  5 09:54:36 2007
Subject: [gdal-dev] dgn to mysql
In-Reply-To: <4756BA43.1040004@burken.hu>
References: <47569618.8050603@burken.hu> <4756B216.604@pobox.com>
	<4756BA43.1040004@burken.hu>
Message-ID: <4756BBAA.2090701@pobox.com>

Attila Ber?nyi wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Dear Frank,
> 
> You're probably right:
> atis@shire ~ $ equery list |grep gdal
> sci-libs/gdal-1.4.2
> 
> Any idea when will be the gentoo portage updated to 1.4.4 or to 1.5.0b1?
> Or is it better if compile it from source?

Attila,

I'm no gentoo portage guru, but I suspect it would be easy to update it
yourself for GDAL 1.4.4.  I don't keep careful track of Gentoo packaging.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From filip.rooms at incgeo.be  Wed Dec  5 09:57:19 2007
From: filip.rooms at incgeo.be (Filip Rooms)
Date: Wed Dec  5 09:57:44 2007
Subject: [gdal-dev] GDALColorInterp for PGM images?
In-Reply-To: <47559B6C.9010306@tkk.fi>
References: <475571F1.5090907@pobox.com> <47559B6C.9010306@tkk.fi>
Message-ID: <4756BC4F.9020802@incgeo.be>

Dear list,

Could it be that a PGM image (Portable Grey Map, maybe not so suitable
for geo applications) is not recognized to be a grey image?

GDALColorInterp is in my case  GCI_Undefined... For the rest, everything
is imported and we can access the image and its values, just the band
interpretation seems to be lost somehow.

The first lines of the image are plain text (as is expected: the magic
number here indicating raw grey value, followed by the image dimensions
and last the max pixel value in the image).

P5
660 660
255

I used GDAL 1.4.1. Did I miss something or do something else
incorrectly? Thanks in advance.

Kind regards,

Filip Rooms

researcher / developer @ IncGEO
Research Campus Hasselt
Kempische Steenweg 297/2
3500 Hasselt - Belgium
Tel.: +32 (0) 11 45 20 16
Fax: +32 (0) 11 45 20 17
URL: http://www.incgeo.be/
From warmerdam at pobox.com  Wed Dec  5 09:59:56 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec  5 10:00:04 2007
Subject: [gdal-dev] gdalinfo on an NITF file I get a warning message of
	"Warning 1: Image with 11 bits per sample will not be interpreted
	properly."
In-Reply-To: <fa2ac0580712050643m3ddd743u2f80f450e2e81b32@mail.gmail.com>
References: <fa2ac0580712050643m3ddd743u2f80f450e2e81b32@mail.gmail.com>
Message-ID: <4756BCEC.7080901@pobox.com>

John Mitchell wrote:
> Hi,
> 
> When running gdalinfo on an NITF file I get a warning message of 
> "Warning 1: Image with 11 bits per sample will not be interpreted 
> properly." and the attached gdalinfo file.
> 
> What does this warning message mean as far as accurately processing this 
> file (along with similar NITF files) with gdal tools like gdalwarp, 
> gdal_translate, gdaltindex, gdalinfo and then displaying this data 
> within UMN MapServer?

John,

I suspect the image data will just be badly corrupted.  If you are building
GDAL from source, you can go into gdal/frmts/nitf and build the nitfdump
utility.  The output of it on your file might be helpful in diagnosing
the situation.

Unix:
   make nitfdump

Windows:
   nmake /f makefile.vc nitfdump.exe

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mitchelljj98 at gmail.com  Wed Dec  5 10:12:42 2007
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Wed Dec  5 10:12:45 2007
Subject: [gdal-dev] gdalinfo on an NITF file I get a warning message of
	"Warning 1: Image with 11 bits per sample will not be
	interpreted properly."
In-Reply-To: <4756BCEC.7080901@pobox.com>
References: <fa2ac0580712050643m3ddd743u2f80f450e2e81b32@mail.gmail.com>
	<4756BCEC.7080901@pobox.com>
Message-ID: <fa2ac0580712050712q32aa5cf3j6e9a1a442011e3d1@mail.gmail.com>

Frank,

How would I do the below from within FWTools2.0.0?

Thanks,

John

On Dec 5, 2007 9:59 AM, Frank Warmerdam <warmerdam@pobox.com> wrote:

> John Mitchell wrote:
> > Hi,
> >
> > When running gdalinfo on an NITF file I get a warning message of
> > "Warning 1: Image with 11 bits per sample will not be interpreted
> > properly." and the attached gdalinfo file.
> >
> > What does this warning message mean as far as accurately processing this
> > file (along with similar NITF files) with gdal tools like gdalwarp,
> > gdal_translate, gdaltindex, gdalinfo and then displaying this data
> > within UMN MapServer?
>
> John,
>
> I suspect the image data will just be badly corrupted.  If you are
> building
> GDAL from source, you can go into gdal/frmts/nitf and build the nitfdump
> utility.  The output of it on your file might be helpful in diagnosing
> the situation.
>
> Unix:
>   make nitfdump
>
> Windows:
>   nmake /f makefile.vc nitfdump.exe
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>


-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071205/828aa5f7/attachment.html
From warmerdam at pobox.com  Wed Dec  5 11:11:32 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec  5 11:10:48 2007
Subject: [gdal-dev] GDALColorInterp for PGM images?
In-Reply-To: <4756BC4F.9020802@incgeo.be>
References: <475571F1.5090907@pobox.com> <47559B6C.9010306@tkk.fi>
	<4756BC4F.9020802@incgeo.be>
Message-ID: <4756CDB4.80302@pobox.com>

Filip Rooms wrote:
> Dear list,
> 
> Could it be that a PGM image (Portable Grey Map, maybe not so suitable
> for geo applications) is not recognized to be a grey image?
> 
> GDALColorInterp is in my case  GCI_Undefined... For the rest, everything
> is imported and we can access the image and its values, just the band
> interpretation seems to be lost somehow.
> 
> The first lines of the image are plain text (as is expected: the magic
> number here indicating raw grey value, followed by the image dimensions
> and last the max pixel value in the image).
> 
> P5
> 660 660
> 255
> 
> I used GDAL 1.4.1. Did I miss something or do something else
> incorrectly? Thanks in advance.

Filip,

This is a deficiency of the PNM driver in GDAL, not a mistake in your use.
GCI_Undefined just means the color interpretation is not known.

I have just updated the PNM driver to set color interpretations on the bands
for greyscale or rgb images but there are still lots of formats that don't
or can't set meaningful color interpretations.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ivan.lucena at pmldnet.com  Wed Dec  5 11:48:49 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Wed Dec  5 11:48:52 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>
Message-ID: <4756D671.7050903@pmldnet.com>

Howard,

In order to get GDAL Python to work on Windows XP I followed those steps:

- Install Swigwin-1.3
- Install Numpy over Python 2.4
- Set "SWIG" to the Swigwin-1.3 swig executable
- Set PY_DIR to the folder where Pyhton.exe resides
- Recompile GDAL using VC7, "nmake -f makefile.vc"
- cd swig, and run "nmake /f makefile.vc python"
- cd python
- uncomment the win32 related line in setup.cfg
- run "python.exe setup.py bdist_wininst"
- cd dist, and run "GDAL-1.5.0.a.dev.win32-py2.4.exe"

I tested it on PythonWin IDE:

Note: I tried the old import and the new one just to make sure.

 >>> import gdal
Traceback (most recent call last):
   File "<interactive input>", line 1, in ?
   File "C:\Progra~1\Python24\Lib\site-packages\gdal.py", line 6, in ?
     import _gdal
ImportError: No module named _gdal
 >>> from osgeo import gdal
 >>> gdal.AllRegister()
 >>> _

Everything works just fine. You guys did a great job!

Ivan



Ivan Lucena, Research Associate, Ms.
Clark University / Clark Labs
ilucena@clarku.edu
+1.508.849.2319
--
"Like kids, it comes a time when your software must be mature enough to 
go out and live in another environment and digest other kind of data"




Howard Butler wrote:
> All,
> 
> I have drastically restructured our GDAL Python wiki page to be a 
> reStructured text formatted document that I would like to synchronize 
> with the ./swig/python/README.txt as part of the GDAL 1.5. release.  As 
> people beta test the 1.5 release, I would like to ask that you add notes 
> or sections to the document that describe trip-ups that may have been 
> missed.  Also, more examples (even some simple code examples) would be 
> excellent additions.  If anyone has time to work on this, it would be 
> greatly appreciated.
> 
> http://trac.osgeo.org/gdal/wiki/GdalOgrInPython
> 
> As we build up to the release, I will continue to sync this wiki page 
> with the file in subversion, but the wiki page should be considered "the 
> master" until the 1.5 release is made.
> 
> Crowd-sourced GDAL documentation here we come!
> 
> Thanks,
> 
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From warmerdam at pobox.com  Wed Dec  5 11:55:04 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec  5 11:53:46 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <4756D671.7050903@pmldnet.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>
	<4756D671.7050903@pmldnet.com>
Message-ID: <4756D7E8.5010005@pobox.com>

Lucena, Ivan wrote:
> Howard,
> 
> In order to get GDAL Python to work on Windows XP I followed those steps:
> 
> - Install Swigwin-1.3

Howard / Ivan,

I trust we don't actually need to install and run swig to use the
python ng bindings on win32, right?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From hobu.inc at gmail.com  Wed Dec  5 11:54:49 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec  5 11:56:06 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <4756D671.7050903@pmldnet.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>
	<4756D671.7050903@pmldnet.com>
Message-ID: <CC90DA64-F9ED-4C5A-A7A1-04D77AE9A034@gmail.com>


On Dec 5, 2007, at 10:48 AM, Lucena, Ivan wrote:

> >>> gdal.AllRegister()
> >>> _

Ivan,

Thanks for the excellent report.  One small note I would add is that  
AllRegister() is now taken care of for you during the import of both  
the ogr and gdal modules.

Howard
From hobu.inc at gmail.com  Wed Dec  5 11:58:01 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec  5 11:59:18 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <4756D7E8.5010005@pobox.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>
	<4756D671.7050903@pmldnet.com> <4756D7E8.5010005@pobox.com>
Message-ID: <4CACA5B3-D518-4733-ABBC-28521185DE11@gmail.com>


On Dec 5, 2007, at 10:55 AM, Frank Warmerdam wrote:

> Lucena, Ivan wrote:
>> Howard,
>> In order to get GDAL Python to work on Windows XP I followed those  
>> steps:
>> - Install Swigwin-1.3
>
> Howard / Ivan,
>
> I trust we don't actually need to install and run swig to use the
> python ng bindings on win32, right?

No, swig isn't required except for development

http://trac.osgeo.org/gdal/wiki/GdalOgrInPython#swig

Howard
From hobu.inc at gmail.com  Wed Dec  5 12:07:37 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec  5 12:08:53 2007
Subject: [gdal-dev] SDE raster driver: vertical displacement of 64 pixels
In-Reply-To: <94C0F903807262438796839A98A9BA5001D9D9D4@beja001.edia.pt>
References: <94C0F903807262438796839A98A9BA5001D9D9D4@beja001.edia.pt>
Message-ID: <297C2F9F-7C04-489B-86C2-40422BD24980@gmail.com>

Duarte,

I have looked into this issue a couple of different times as you have  
reported it, but I have been simply unable to reproduce the issue.   
Could you please file a ticket in Trac with the exact steps that I can  
use to reproduce the issue?  Once you file the ticket, I will provide  
connection details to my ArcSDE instance so you can upload a raster to  
my server that I can use to reproduce.

Thanks,

Howard

On Dec 5, 2007, at 8:51 AM, Duarte Carreira wrote:

> Hello all.
>
> I've just tested gdal's sde driver to export a geographic window  
> from a ArcSDE raster dataset, using the -projwin option. I tested  
> against ArcSDE 9.2 SP3, on Oracle 92, using FWTools 1.3.9 containing  
> GDAL 1.5dev.
>
> I measured the distance between the original and the exported image  
> and got 64 pixels vertical, 0 horizontal.
>
> The raster dataset is 0,4m / pixel, and the raster tile dimension is  
> 128x128 pixels. Could it be something to do with the tile size? But  
> 128x128 is the default value.
>
> This is the same problem I reported a few months back.
>
> Any possible help on this?
>
> Regards,
> Duarte Carreira
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Chris.Barker at noaa.gov  Wed Dec  5 12:55:52 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Dec  5 12:54:38 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <4756D671.7050903@pmldnet.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>
	<4756D671.7050903@pmldnet.com>
Message-ID: <4756E628.9060001@noaa.gov>

Lucena, Ivan wrote:
> Note: I tried the old import and the new one just to make sure.
> 
>  >>> import gdal
> Traceback (most recent call last):
>   File "<interactive input>", line 1, in ?
>   File "C:\Progra~1\Python24\Lib\site-packages\gdal.py", line 6, in ?
>     import _gdal
> ImportError: No module named _gdal

umm, isn't that a bug? I thought we were keeping it backward compatible 
(with a deprecation warning) for this release.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From ivan.lucena at pmldnet.com  Wed Dec  5 13:50:42 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Wed Dec  5 13:50:44 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <4756E628.9060001@noaa.gov>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>	<4756D671.7050903@pmldnet.com>
	<4756E628.9060001@noaa.gov>
Message-ID: <4756F302.5090404@pmldnet.com>

Chris,

I guess that Howard will be one to answer that. I had intentionally 
generated the package for NG Python.

If you look at the GDAL Python scripts utilities (ex.: "pct2rgb.py") it 
literally 'tries' how do import gdal:

#######################
try:
     from osgeo import gdal
     gdal.TermProgress = gdal.TermProgress_nocb
except ImportError:
     import gdal
#######################

Best regards,

Ivan

Christopher Barker wrote:
> Lucena, Ivan wrote:
>> Note: I tried the old import and the new one just to make sure.
>>
>>  >>> import gdal
>> Traceback (most recent call last):
>>   File "<interactive input>", line 1, in ?
>>   File "C:\Progra~1\Python24\Lib\site-packages\gdal.py", line 6, in ?
>>     import _gdal
>> ImportError: No module named _gdal
> 
> umm, isn't that a bug? I thought we were keeping it backward compatible 
> (with a deprecation warning) for this release.
> 
> -Chris
> 
> 
From hobu.inc at gmail.com  Wed Dec  5 13:55:59 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec  5 13:57:15 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <4756E628.9060001@noaa.gov>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>
	<4756D671.7050903@pmldnet.com> <4756E628.9060001@noaa.gov>
Message-ID: <4CB210DE-1B49-4851-A9C1-983494326DDF@gmail.com>


On Dec 5, 2007, at 11:55 AM, Christopher Barker wrote:

> Lucena, Ivan wrote:
>> Note: I tried the old import and the new one just to make sure.
>> >>> import gdal
>> Traceback (most recent call last):
>>  File "<interactive input>", line 1, in ?
>>  File "C:\Progra~1\Python24\Lib\site-packages\gdal.py", line 6, in ?
>>    import _gdal
>> ImportError: No module named _gdal
>
> umm, isn't that a bug? I thought we were keeping it backward  
> compatible (with a deprecation warning) for this release.


Ivan,

I suspect that C:\Progra~1\Python24\Lib\site-packages\gdal.py is and  
old-generation gdal.py in the way.  If you open it up and it is more  
than 10 lines of code, this is probably the case.  Did you install the  
old-generation stuff *after* installing the next-generation?

Howard


From ivan.lucena at pmldnet.com  Wed Dec  5 15:00:34 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Wed Dec  5 15:00:38 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <4CB210DE-1B49-4851-A9C1-983494326DDF@gmail.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>	<4756D671.7050903@pmldnet.com>
	<4756E628.9060001@noaa.gov>
	<4CB210DE-1B49-4851-A9C1-983494326DDF@gmail.com>
Message-ID: <47570362.7040507@pmldnet.com>

Howard, Chris,

Howard Butler wrote:
> 
> On Dec 5, 2007, at 11:55 AM, Christopher Barker wrote:
> 
>> Lucena, Ivan wrote:
>>> Note: I tried the old import and the new one just to make sure.
>>> >>> import gdal
>>> Traceback (most recent call last):
>>>  File "<interactive input>", line 1, in ?
>>>  File "C:\Progra~1\Python24\Lib\site-packages\gdal.py", line 6, in ?
>>>    import _gdal
>>> ImportError: No module named _gdal
>>
>> umm, isn't that a bug? I thought we were keeping it backward 
>> compatible (with a deprecation warning) for this release.
> 
> 
> Ivan,
> 
> I suspect that C:\Progra~1\Python24\Lib\site-packages\gdal.py is and 
> old-generation gdal.py in the way.  If you open it up and it is more 
> than 10 lines of code, this is probably the case.  Did you install the 
> old-generation stuff *after* installing the next-generation?

No, I didn't. I am sure that I have done that a long time *before* but 
not after. And yes, the gdal.py has more than 10 lines of code. A lot 
more. So let me start over and see what happens:

On "Add or Remove Programs" I remove "Python 2.4 GDAL-1.5.0.a.dev":

---------------------------
Uninstall Finished!
---------------------------
42 files and 1 directories removed
---------------------------
OK
---------------------------

Now python doesn't have GDAL anymore:

 >>> import gdal
Traceback (most recent call last):
   File "<interactive input>", line 1, in ?
ImportError: No module named gdal
 >>>

There is no osgeo folder or any gdal*.* or ogr*.* file on site-packages.

So I run GDAL-1.5.0.a.dev.win32-py2.4.exe again and just after that I try:

 >>> import gdal
Traceback (most recent call last):
   File "<interactive input>", line 1, in ?
   File "C:\Progra~1\Python24\Lib\site-packages\gdal.py", line 6, in ?
     import _gdal
ImportError: No module named _gdal
 >>>

I guess that what you would expect is that \Lib\site-packages\gdal.py 
would be smaller, just a wrapper to call the osgeo\gdal.py.

But again *before* running the GDAL Python Installer I have no gdal.py 
and just *after* running it I have a big one and I got an error when 
using "import gdal" but I have no problem using "from osgeo import gdal".

I am going to try later in another computer with a fresh Python 
installation to see what happen and I will not going to run SWIG this 
time, OK?

Anyway, I think we should add a Windows section on that wiki page. What 
do you think?

Best regards,

Ivan
From hobu.inc at gmail.com  Wed Dec  5 16:32:37 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec  5 16:33:55 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <4757122E.8090106@pmldnet.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>	<4756D671.7050903@pmldnet.com>
	<4756E628.9060001@noaa.gov>
	<4CB210DE-1B49-4851-A9C1-983494326DDF@gmail.com>
	<47570362.7040507@pmldnet.com>
	<E7E2E5F4-8982-4131-9D30-5A9030771A9B@gmail.com>
	<4757122E.8090106@pmldnet.com>
Message-ID: <EBD6B710-2A60-42A0-AE21-DDDC649D3944@gmail.com>


On Dec 5, 2007, at 3:03 PM, Lucena, Ivan wrote:

> Howard,
>
> I thing I've got it!
>
> Howard Butler wrote:
>> hmm... Where could it be picking up the old-gen gdal.py from?  The  
>> setup.py script in ./swig/python doesn't make reference to anything  
>> in ./pymod, the ./swig/python/gdal.py *is* the simple wrapper as  
>> expected, and setup.cfg doesn't point to ./pymod either.
>
> My ./swig/python/gdal.py was wrong because it was generated by SWIG.
>
> So I got the right gdal.py (with just a few lines) and I run  
> setup.py bdist_wininst again and everything is fine now. See:
>
> >>> import gdal
> C:\Program Files\Python24\lib\site-packages\osgeo\gdal.py:81:  
> DeprecationWarning: gdal.py was placed in a namespace, it is now  
> available as osgeo.gdal
>  DeprecationWarning)
> >>> gdal.AllRegister()
> >>>
>
> If I start over and compile SWIG Python then I've got the same  
> problem.
>
> I run:
>
> cd swig
> nmake -f makefile.vc python
>
> And that re-creates the gdal.py. The bigger/wrong one.
>
> Well, I hope that whole discussion would help you in some way... :)


Ivan,

Thanks, that was very helpful.  The windows makefile hadn't been  
updated to put its output in the osgeo directory and it was stomping  
over the simple wrappers.

http://trac.osgeo.org/gdal/changeset/13266

Howard
From estrada.adam at gmail.com  Wed Dec  5 17:31:05 2007
From: estrada.adam at gmail.com (Adam Estrada)
Date: Wed Dec  5 17:31:07 2007
Subject: [gdal-dev] GDAL Translate errors...
Message-ID: <ab1f86bc0712051431y1478101aqd009dc4b7fe20c85@mail.gmail.com>

All,
    I am trying to import some TIFF's to IMG so that I can histogram
match them in ERDAS IMAGINE.  GDAL is much faster at doing this but
there are a couple issues.  1. When I import to IMG using the GDAL
libraries, the software assumes that the input projection is Lambert
Conformal Conic/GRS1980/NAD83 in us_survey_feet.  The input data is
REALLY in state plane FIPS Zone 1702 in us_survey_ft and IMAGINE
imports it correctly.  What do you suppose is going on here?  I tried
to set the parameter -a_srs "EPSG:26982" which should have overridden
that Lambert Conformal Conic but still nothing.  2. When I reproject
to the UTM zone, there is a significant amount of collar data on the
left hand side of each image which makes me think that there is a
projection issue.  This does not happen with the imagery that was
imported from IMAGINE.  So...at this point I think that I will focus
on importing this imagery correctly first the worry abotu reprojecting
it.

AWE
From ivan.lucena at pmldnet.com  Wed Dec  5 17:51:01 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Wed Dec  5 17:51:04 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <EBD6B710-2A60-42A0-AE21-DDDC649D3944@gmail.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>	<4756D671.7050903@pmldnet.com>
	<4756E628.9060001@noaa.gov>
	<4CB210DE-1B49-4851-A9C1-983494326DDF@gmail.com>
	<47570362.7040507@pmldnet.com>
	<E7E2E5F4-8982-4131-9D30-5A9030771A9B@gmail.com>
	<4757122E.8090106@pmldnet.com>
	<EBD6B710-2A60-42A0-AE21-DDDC649D3944@gmail.com>
Message-ID: <47572B55.3010209@pmldnet.com>

Howard,

It's all perfect now. I am glad to help.

 >>> import gdal
C:\Program Files\Python24\lib\site-packages\osgeo\gdal.py:90: 
DeprecationWarning: gdal.py was placed in a namespace, it is now 
available as osgeo.gdal
   DeprecationWarning)
 >>> gdal.AllRegister()
 >>> _

It warns and works!

 >>> from osgeo import gdal
 >>> gdal.AllRegister()
 >>> _

Works clean.

Best regards,

Ivan

Howard Butler wrote:
> 
> On Dec 5, 2007, at 3:03 PM, Lucena, Ivan wrote:
> 
>> Howard,
>>
>> I thing I've got it!
>>
>> Howard Butler wrote:
>>> hmm... Where could it be picking up the old-gen gdal.py from?  The 
>>> setup.py script in ./swig/python doesn't make reference to anything 
>>> in ./pymod, the ./swig/python/gdal.py *is* the simple wrapper as 
>>> expected, and setup.cfg doesn't point to ./pymod either.
>>
>> My ./swig/python/gdal.py was wrong because it was generated by SWIG.
>>
>> So I got the right gdal.py (with just a few lines) and I run setup.py 
>> bdist_wininst again and everything is fine now. See:
>>
>> >>> import gdal
>> C:\Program Files\Python24\lib\site-packages\osgeo\gdal.py:81: 
>> DeprecationWarning: gdal.py was placed in a namespace, it is now 
>> available as osgeo.gdal
>>  DeprecationWarning)
>> >>> gdal.AllRegister()
>> >>>
>>
>> If I start over and compile SWIG Python then I've got the same problem.
>>
>> I run:
>>
>> cd swig
>> nmake -f makefile.vc python
>>
>> And that re-creates the gdal.py. The bigger/wrong one.
>>
>> Well, I hope that whole discussion would help you in some way... :)
> 
> 
> Ivan,
> 
> Thanks, that was very helpful.  The windows makefile hadn't been updated 
> to put its output in the osgeo directory and it was stomping over the 
> simple wrappers.
> 
> http://trac.osgeo.org/gdal/changeset/13266
> 
> Howard
> 
> 
From Bob.Moskovitz at conservation.ca.gov  Wed Dec  5 19:09:43 2007
From: Bob.Moskovitz at conservation.ca.gov (Moskovitz, Bob)
Date: Wed Dec  5 19:09:46 2007
Subject: [gdal-dev] FW: Converting Geomedia Terrain ASCII files to geotif
Message-ID: <A73B6E7A4503E948826CE81A65AF5FECA2A39D@docexs1.ad.consrv.ca.gov>

Hello All,
 
I am looking for a way to convert Geomedia Terrain ASCII files to geotif.  Below is an example of what this file looks like.  It is a NAD27 California State Plane Zone 3 file.  People have suggested that I strip the header and use a VRT to do this, but the docs seem to suggest that it does not work with ASCII data.  Any other ideas?
 
Thanks in advance,
Bob 
 
 
 
ASCII Z GRID
XORIGIN=480438.521976
YORIGIN=141096.092712
NUMROWS=532
NUMCOLUMNS=876
ROWSPACING=30.48
COLUMNSPACING=30.48
SCANORIGIN=TL
ORDER=row
VUOM=ft
VOID=-9999
VERTICALDATUM=NAVD88
-9999
-9999
-9999
-9999
.
.
.
.
[ NUMROWS x NUMCOLUMNS 'th row]

Bob Moskovitz 
Seismic Hazard Zonation Project
California Geological Survey 
http://www.conservation.ca.gov/cgs/shzp

CONFIDENTIALITY NOTICE: This communication is intended only for the use of the individual or entity to which it is addressed. This message contains information from the State of California, California Geological Survey, which may be privileged, confidential and exempt from disclosure under applicable law, including the Electronic Communications Privacy Act. If the reader of this communication is not the intended recipient, you are hereby notified that any dissemination, distribution, or copying of this communication is strictly prohibited.

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071205/e99c9db3/attachment-0001.html
From warmerdam at pobox.com  Wed Dec  5 19:43:10 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec  5 19:22:44 2007
Subject: [gdal-dev] FW: Converting Geomedia Terrain ASCII files to geotif
In-Reply-To: <A73B6E7A4503E948826CE81A65AF5FECA2A39D@docexs1.ad.consrv.ca.gov>
References: <A73B6E7A4503E948826CE81A65AF5FECA2A39D@docexs1.ad.consrv.ca.gov>
Message-ID: <4757459E.5010105@pobox.com>

Moskovitz, Bob wrote:
> Hello All,
>  
> I am looking for a way to convert Geomedia Terrain ASCII files to 
> geotif.  Below is an example of what this file looks like.  It is a 
> NAD27 California State Plane Zone 3 file.  People have suggested that I 
> strip the header and use a VRT to do this, but the docs seem to suggest 
> that it does not work with ASCII data.  Any other ideas?
>  
> Thanks in advance,
> Bob
>  
>  
>  
> ASCII Z GRID
> XORIGIN=480438.521976
> YORIGIN=141096.092712
> NUMROWS=532
> NUMCOLUMNS=876
> ROWSPACING=30.48
> COLUMNSPACING=30.48
> SCANORIGIN=TL
> ORDER=row
> VUOM=ft
> VOID=-9999
> VERTICALDATUM=NAVD88
> -9999
> -9999
> -9999
> -9999
> .
> .
> .
> .
> [ NUMROWS x NUMCOLUMNS 'th row]

Bob,

You could replace the header portion with the header lines for an
ESRI ASCII Grid.

eg.

NCOLS 170
NROWS 148
CELLSIZE 40
XLLCENTER 1724520
YLLCENTER 5125840
NODATA_VALUE -9999
  1518.621 1410.902 1290.767 1236.527...

I think the AAIGRID pixel values are one text line per scanline
but I don't think the reader code cares about what kind of white
space appears between pixel values so it should work.  Well, I'm not
absolutely sure of that.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From hobu.inc at gmail.com  Wed Dec  5 19:31:04 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec  5 19:32:24 2007
Subject: [gdal-dev] Python documentation help
In-Reply-To: <47572B55.3010209@pmldnet.com>
References: <44B4CD3F-FEFF-476F-A287-2935EE0992AB@gmail.com>	<4756D671.7050903@pmldnet.com>
	<4756E628.9060001@noaa.gov>
	<4CB210DE-1B49-4851-A9C1-983494326DDF@gmail.com>
	<47570362.7040507@pmldnet.com>
	<E7E2E5F4-8982-4131-9D30-5A9030771A9B@gmail.com>
	<4757122E.8090106@pmldnet.com>
	<EBD6B710-2A60-42A0-AE21-DDDC649D3944@gmail.com>
	<47572B55.3010209@pmldnet.com>
Message-ID: <119F7790-7742-4BB3-A062-4EA2BFA6B116@gmail.com>


On Dec 5, 2007, at 4:51 PM, Lucena, Ivan wrote:

> Howard,
>
> It's all perfect now. I am glad to help.
>
> >>> import gdal
> C:\Program Files\Python24\lib\site-packages\osgeo\gdal.py:90:  
> DeprecationWarning: gdal.py was placed in a namespace, it is now  
> available as osgeo.gdal
>  DeprecationWarning)
> >>> gdal.AllRegister()
> >>> _
>
> It warns and works!
>
> >>> from osgeo import gdal
> >>> gdal.AllRegister()
> >>> _

gdal.AllRegister() (or ogr.AllRegister()) should not be required  
anymore, and it will be taken care of by the import for you.

Howard
From warmerdam at pobox.com  Wed Dec  5 20:59:01 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec  5 20:33:10 2007
Subject: [gdal-dev] FWTools 2.0.2 for Win32 Released
Message-ID: <47575765.4050403@pobox.com>

Folks,

I have uploaded FWTools 2.0.2 for windows.

   http://home.gdal.org/fwtools/FWTools202.exe

This release roughly corresponds to GDAL 1.5.0 beta1 (plus a day or
two of fixes), and includes the nitfdump utility (the real reason I
produced it).  I'd have a corresponding linux release, but it seems to be
acting up for some reason.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From a.neumann at carto.net  Thu Dec  6 03:26:22 2007
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Dec  6 03:26:27 2007
Subject: [gdal-dev] Problem compiling the php swig bindings
Message-ID: <15058.193.246.86.39.1196929582.squirrel@webmail.customers.iirc.at>

Hello,

My make process of gdal-dev terminates due to an error when generating the
PHP swig bindings. Am I missing some libraries or did something go wrong
with configure?

Here is my configure command:
/temp/gdal-1.5.0b1# ./configure --with-php --with-perl --with-python
--with-xerces --with-sqlite --with-pg=/usr/local/pgsql/bin/pg_config
--with-grass=/usr/local/grass-6.2.2 --with-geotiff

and here is my error output:
make[2]: Entering directory `/home/an/temp/gdal-1.5.0b1/swig/php'
g++ -I../../port -I../../gcore -I../../alg -I../../ogr `php-config
--includes` -
fpic -c gdal_wrap.cpp
gdal_wrap.cpp:1046: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1046: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1046: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1046: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1046: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1047: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1047: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1047: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1047: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1047: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1048: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1048: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1049: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1049: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1049: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1049: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1049: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1084: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1084: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1084: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1084: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1084: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1085: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1085: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1085: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1085: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1085: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1086: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1086: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1087: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1087: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1087: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1087: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1087: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1099: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1099: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1099: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1099: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1099: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1100: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1100: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1100: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1100: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1100: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1101: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1101: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1102: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1102: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1102: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1102: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1102: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1121: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1121: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1121: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1121: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1121: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1122: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1122: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1122: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1122: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1122: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1123: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1123: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1124: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1124: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1124: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1124: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1124: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1423: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1423: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1423: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1423: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1423: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1424: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1424: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1424: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1424: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1424: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1425: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1425: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1426: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1426: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1426: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1426: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1426: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1576: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1576: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1576: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1576: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1576: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1577: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1577: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1577: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1577: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1577: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1578: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1578: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1579: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1579: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1579: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1579: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1579: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1618: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1618: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1618: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1618: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1618: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1619: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1619: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1619: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1619: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1619: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1620: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1620: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1621: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1621: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1621: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1621: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1621: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1677: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1677: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1677: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1677: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1677: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1678: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1678: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1678: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1678: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1678: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:1679: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1679: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1680: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:1680: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:1680: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:1680: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:1680: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:2799: error: redefinition of &#8216;pval
_wrap_propget_MajorObject&#8217;
gdal_wrap.cpp:1048: error: &#8216;pval _wrap_propget_MajorObject&#8217;
previously declared
here
gdal_wrap.cpp:2799: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:2799: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:2817: error: redefinition of &#8216;int
_propget_MajorObject&#8217;
gdal_wrap.cpp:1049: error: &#8216;int _propget_MajorObject&#8217;
previously defined here
gdal_wrap.cpp:2817: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:2817: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:2817: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:2817: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:2825: error: redefinition of &#8216;int
_wrap_propset_MajorObject&#8217;
gdal_wrap.cpp:1046: error: &#8216;int _wrap_propset_MajorObject&#8217;
previously defined he
re
gdal_wrap.cpp:2825: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:2825: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:2825: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:2825: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:2837: error: redefinition of &#8216;int
_propset_MajorObject&#8217;
gdal_wrap.cpp:1047: error: &#8216;int _propset_MajorObject&#8217;
previously defined here
gdal_wrap.cpp:2837: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:2837: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:2837: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:2837: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:2845: error: &#8216;zend_property_reference&#8217; was
not declared in this sc
ope
gdal_wrap.cpp:2845: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:2845: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:2873: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:2873: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:2873: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:2901: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:2901: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:2901: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3266: error: redefinition of &#8216;pval
_wrap_propget_Driver&#8217;
gdal_wrap.cpp:1086: error: &#8216;pval _wrap_propget_Driver&#8217;
previously declared here
gdal_wrap.cpp:3266: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3266: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3284: error: redefinition of &#8216;int
_propget_Driver&#8217; gdal_wrap.cpp:1087: error: &#8216;int
_propget_Driver&#8217; previously defined here
gdal_wrap.cpp:3284: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3284: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3284: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3284: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3306: error: redefinition of &#8216;int
_wrap_propset_Driver&#8217;
gdal_wrap.cpp:1084: error: &#8216;int _wrap_propset_Driver&#8217;
previously defined here
gdal_wrap.cpp:3306: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3306: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3306: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3306: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3318: error: redefinition of &#8216;int
_propset_Driver&#8217; gdal_wrap.cpp:1085: error: &#8216;int
_propset_Driver&#8217; previously defined here
gdal_wrap.cpp:3318: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3318: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3318: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3318: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3325: error: &#8216;zend_property_reference&#8217; was
not declared in this sc
ope
gdal_wrap.cpp:3325: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3325: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3325: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3325: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:3325: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3355: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3355: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3355: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3382: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3382: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3382: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3382: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3382: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:3382: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3412: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3412: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3412: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3439: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3439: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3439: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3439: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3439: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:3439: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3469: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3469: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3469: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3496: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3496: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3496: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3496: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3496: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:3496: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3526: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3526: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3526: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3613: error: redefinition of &#8216;pval
_wrap_propget_ColorEntry&#8217;
gdal_wrap.cpp:1101: error: &#8216;pval _wrap_propget_ColorEntry&#8217;
previously declared h
ere
gdal_wrap.cpp:3613: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3613: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3631: error: redefinition of &#8216;int
_propget_ColorEntry&#8217;
gdal_wrap.cpp:1102: error: &#8216;int _propget_ColorEntry&#8217;
previously defined here
gdal_wrap.cpp:3631: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3631: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3631: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3631: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3655: error: redefinition of &#8216;int
_wrap_propset_ColorEntry&#8217;
gdal_wrap.cpp:1099: error: &#8216;int _wrap_propset_ColorEntry&#8217;
previously defined her
e
gdal_wrap.cpp:3655: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3655: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3655: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3655: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3667: error: redefinition of &#8216;int
_propset_ColorEntry&#8217;
gdal_wrap.cpp:1100: error: &#8216;int _propset_ColorEntry&#8217;
previously defined here
gdal_wrap.cpp:3667: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3667: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3667: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3667: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3679: error: &#8216;zend_property_reference&#8217; was
not declared in this sc
ope
gdal_wrap.cpp:3679: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3679: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3679: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3679: error: initializer expression list treated as
compound expre
ssion
gdal_wrap.cpp:3679: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3706: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3706: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3706: error: expected &#8216;,&#8217; or &#8216;;&#8217;
before &#8216;{&#8217; token
gdal_wrap.cpp:3730: error: &#8216;zend_property_reference&#8217; was not
declared in this sc
ope
gdal_wrap.cpp:3730: error: &#8216;property_reference&#8217; was not
declared in this scope
gdal_wrap.cpp:3730: error: expected primary-expression before
&#8216;*&#8217; token
gdal_wrap.cpp:3730: error: &#8216;value&#8217; was not declared in this
scope gdal_wrap.cpp:3730: error: initializer expression list treated as
compound expre
ssion

etc, etc. more of the same errors appearing.

Do you have any hints? I am on Ubuntu Gutsy 7.10, 64 bit.

Thanks,
Andreas

-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From warmerdam at pobox.com  Thu Dec  6 08:54:26 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec  6 07:50:10 2007
Subject: [gdal-dev] Problem compiling the php swig bindings
In-Reply-To: <15058.193.246.86.39.1196929582.squirrel@webmail.customers.iirc.at>
References: <15058.193.246.86.39.1196929582.squirrel@webmail.customers.iirc.at>
Message-ID: <4757FF12.6060205@pobox.com>

Andreas Neumann wrote:
> Hello,
> 
> My make process of gdal-dev terminates due to an error when generating the
> PHP swig bindings. Am I missing some libraries or did something go wrong
> with configure?

Andreas,

The php bindings have not been supported by anyone for a while and are no
doubt badly broken.  Please avoid requesting them.

I wonder if we should add some sort of warning somewhere about this - perhaps
in the configure help strings for --with-php?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Thu Dec  6 09:03:48 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec  6 07:59:23 2007
Subject: [gdal-dev] GDAL 1.5.0 - Call for Testers
Message-ID: <47580144.4040007@pobox.com>

Folks,

I meant to do this a couple days ago, but better late then never.

This is a request for folks to try out the GDAL/OGR 1.5.0 beta(s) and
to add noteworthy findings to the Trac Wiki Test Matrix at:

   http://trac.osgeo.org/gdal/wiki/TestMatrix150

Doing a test build on an unusual platform is valuable.

Also running autotest is valuable.

Configuring in and testing unusual drivers is valuable.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From nfarah at hotmail.com  Thu Dec  6 08:42:56 2007
From: nfarah at hotmail.com (N. Farah)
Date: Thu Dec  6 08:42:59 2007
Subject: [gdal-dev] gdal2tiles not supporting colors ?
Message-ID: <BAY142-W3773CC9EC2F0C25617B303DD6F0@phx.gbl>

Hi,
 
Using FWTools2.0.2 'gdal2tiles' tool i created .png tiles and noticed that all of them are grey. The input datasets that I used
were colored (.tif, .gif). Is this mean that gdal2tiles support creating only greyed image tiles ?
 
Thanks
 
Noureddine Farah
_________________________________________________________________
Your smile counts. The more smiles you share, the more we donate.? Join in.
www.windowslive.com/smile?ocid=TXT_TAGLM_Wave2_oprsmilewlhmtagline
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071206/c20ed56b/attachment.html
From schut at sarvision.nl  Thu Dec  6 09:30:37 2007
From: schut at sarvision.nl (Vincent Schut)
Date: Thu Dec  6 09:30:39 2007
Subject: [gdal-dev] gdal2tiles not supporting colors ?
In-Reply-To: <BAY142-W3773CC9EC2F0C25617B303DD6F0@phx.gbl>
References: <BAY142-W3773CC9EC2F0C25617B303DD6F0@phx.gbl>
Message-ID: <4758078D.6040309@sarvision.nl>

Let me guess, your images are colormapped images?
As far as I know gdal2tiles doesn't (yet) support colormaps. You could
convert them to rgb or rgba before pushing them through gdal2tiles.

VS.

N. Farah wrote:
> Hi,
>  
> Using FWTools2.0.2 'gdal2tiles' tool i created .png tiles and noticed
> that all of them are grey. The input datasets that I used
> were colored (.tif, .gif). Is this mean that gdal2tiles support creating
> only greyed image tiles ?
>  
> Thanks
>  
> Noureddine Farah
> 
> ------------------------------------------------------------------------
> Your smile counts. The more smiles you share, the more we donate. Join
> in! <www.windowslive.com/smile?ocid=TXT_TAGLM_Wave2_oprsmilewlhmtagline>
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nfarah at hotmail.com  Thu Dec  6 09:41:23 2007
From: nfarah at hotmail.com (N. Farah)
Date: Thu Dec  6 09:41:26 2007
Subject: [gdal-dev] gdal2tiles not supporting colors ?
In-Reply-To: <4758078D.6040309@sarvision.nl>
References: <BAY142-W3773CC9EC2F0C25617B303DD6F0@phx.gbl>
	<4758078D.6040309@sarvision.nl>
Message-ID: <BAY142-W24C958E1E830CF2010860EDD6F0@phx.gbl>

Good guess. Thank you. Yes my test images were one band with a color map. I just tried a 24 bits (RGB) image and the output .png are in colors.
 
May be this could filed as enhancement request if not a bug ?
 
Noureddine



> Date: Thu, 6 Dec 2007 15:30:37 +0100> From: schut@sarvision.nl> To: nfarah@hotmail.com> CC: gdal-dev@lists.osgeo.org> Subject: Re: [gdal-dev] gdal2tiles not supporting colors ?> > Let me guess, your images are colormapped images?> As far as I know gdal2tiles doesn't (yet) support colormaps. You could> convert them to rgb or rgba before pushing them through gdal2tiles.> > VS.> > N. Farah wrote:> > Hi,> > > > Using FWTools2.0.2 'gdal2tiles' tool i created .png tiles and noticed> > that all of them are grey. The input datasets that I used> > were colored (.tif, .gif). Is this mean that gdal2tiles support creating> > only greyed image tiles ?> > > > Thanks> > > > Noureddine Farah> > > > ------------------------------------------------------------------------> > Your smile counts. The more smiles you share, the more we donate. Join> > in! <www.windowslive.com/smile?ocid=TXT_TAGLM_Wave2_oprsmilewlhmtagline>> > > > > > ------------------------------------------------------------------------> > > > _______________________________________________> > gdal-dev mailing list> > gdal-dev@lists.osgeo.org> > http://lists.osgeo.org/mailman/listinfo/gdal-dev> 
_________________________________________________________________
Put your friends on the big screen with Windows Vista? + Windows Live?.
http://www.microsoft.com/windows/shop/specialoffers.mspx?ocid=TXT_TAGLM_CPC_MediaCtr_bigscreen_102007
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071206/47f17fa1/attachment.html
From grinderprogrammer at gmail.com  Thu Dec  6 10:08:42 2007
From: grinderprogrammer at gmail.com (GrinderDev)
Date: Thu Dec  6 10:08:44 2007
Subject: [Gdal-dev] WMS with C# Bindings
Message-ID: <14193332.post@talk.nabble.com>


Could someone point me in the right direction for using the C# bindings with
the new WMS format?  I've created a XML file, actually I'm using the example
files, but I'm not sure what file name extension to use.

The problem occurs with the following:
_GdalDataset = Gdal.Open(_Filename, Access.GA_ReadOnly);

_Filename - The XML file.  I've used different file extensions, including
XML & WMS

I suspect I may be going about this in the wrong direction.
-- 
View this message in context: http://www.nabble.com/WMS-with-C--Bindings-tf4956367.html#a14193332
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From crschmidt at metacarta.com  Thu Dec  6 10:43:14 2007
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Thu Dec  6 10:43:18 2007
Subject: [Gdal-dev] WMS with C# Bindings
In-Reply-To: <14193332.post@talk.nabble.com>
References: <14193332.post@talk.nabble.com>
Message-ID: <20071206154314.GB13689@metacarta.com>

On Thu, Dec 06, 2007 at 07:08:42AM -0800, GrinderDev wrote:
> 
> Could someone point me in the right direction for using the C# bindings with
> the new WMS format?  I've created a XML file, actually I'm using the example
> files, but I'm not sure what file name extension to use.
> 
> The problem occurs with the following:
> _GdalDataset = Gdal.Open(_Filename, Access.GA_ReadOnly);
> 
> _Filename - The XML file.  I've used different file extensions, including
> XML & WMS
> 
> I suspect I may be going about this in the wrong direction.

The filename shouldn't matter. The thing that matters is that the first
characters in the file are:

<GDAL_WMS>

That is, there must be no XML prolog or anything else before that.

Also, are you sure your GDAL library supports WMS requests? 

crschmidt@hypercube:~/gdal$ ./apps/gdalinfo --formats | grep WMS
  WMS (ro): OGC Web Map Service
 
Regards,
-- 
Christopher Schmidt
MetaCarta
From a.neumann at carto.net  Thu Dec  6 11:26:26 2007
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Dec  6 11:26:32 2007
Subject: [gdal-dev] Problem compiling the php swig bindings
In-Reply-To: <4757FF12.6060205@pobox.com>
References: <15058.193.246.86.39.1196929582.squirrel@webmail.customers.iirc.at>
	<4757FF12.6060205@pobox.com>
Message-ID: <11580.193.246.86.39.1196958386.squirrel@webmail.customers.iirc.at>

Hello Frank and Nicol,

Thank you for your feedback. I guess I can use the gdal-tools from PHP
through system calls. So the need for the PHP bindings is not that urgent.
I can compile without. I can also try it with php-config and see what
works. Either way is fine for me.

Thank you both for your infos.

Andreas


> Andreas Neumann wrote:
>> Hello,
>>
>> My make process of gdal-dev terminates due to an error when generating
>> the
>> PHP swig bindings. Am I missing some libraries or did something go wrong
>> with configure?
>
> Andreas,
>
> The php bindings have not been supported by anyone for a while and are no
> doubt badly broken.  Please avoid requesting them.
>
> I wonder if we should add some sort of warning somewhere about this -
> perhaps
> in the configure help strings for --with-php?
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>


-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From grinderprogrammer at gmail.com  Thu Dec  6 11:43:09 2007
From: grinderprogrammer at gmail.com (GrinderDev)
Date: Thu Dec  6 11:43:10 2007
Subject: [Gdal-dev] WMS with C# Bindings
In-Reply-To: <20071206154314.GB13689@metacarta.com>
References: <14193332.post@talk.nabble.com>
	<20071206154314.GB13689@metacarta.com>
Message-ID: <14195862.post@talk.nabble.com>


>The filename shouldn't matter. The thing that matters is that the first
>characters in the file are:

> <GDAL_WMS>

I verified that this was indeed the first characters in the file.

> Also, are you sure your GDAL library supports WMS requests? 

I checked the library and it does indeed support WMS.  I'm using
FWTools2.0.2

Perhaps this is a C# binding issue?
-- 
View this message in context: http://www.nabble.com/WMS-with-C--Bindings-tf4956367.html#a14195862
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From szekerest at gmail.com  Thu Dec  6 12:25:39 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Dec  6 12:25:41 2007
Subject: [Gdal-dev] WMS with C# Bindings
In-Reply-To: <14195862.post@talk.nabble.com>
References: <14193332.post@talk.nabble.com>
	<20071206154314.GB13689@metacarta.com> <14195862.post@talk.nabble.com>
Message-ID: <f3b73b7d0712060925o3c3ab04en1e5516a76d005923@mail.gmail.com>

I couldn't follow exactly what is the issue. Do you have and error
message? Could you post a code sample to reproduce the problem?

Best regards,

Tamas


2007/12/6, GrinderDev <grinderprogrammer@gmail.com>:
>
> >The filename shouldn't matter. The thing that matters is that the first
> >characters in the file are:
>
> > <GDAL_WMS>
>
> I verified that this was indeed the first characters in the file.
>
> > Also, are you sure your GDAL library supports WMS requests?
>
> I checked the library and it does indeed support WMS.  I'm using
> FWTools2.0.2
>
> Perhaps this is a C# binding issue?
> --
> View this message in context: http://www.nabble.com/WMS-with-C--Bindings-tf4956367.html#a14195862
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From grinderprogrammer at gmail.com  Thu Dec  6 12:46:46 2007
From: grinderprogrammer at gmail.com (GrinderDev)
Date: Thu Dec  6 12:46:48 2007
Subject: [Gdal-dev] WMS with C# Bindings
In-Reply-To: <f3b73b7d0712060925o3c3ab04en1e5516a76d005923@mail.gmail.com>
References: <14193332.post@talk.nabble.com>
	<20071206154314.GB13689@metacarta.com>
	<14195862.post@talk.nabble.com>
	<f3b73b7d0712060925o3c3ab04en1e5516a76d005923@mail.gmail.com>
Message-ID: <14197454.post@talk.nabble.com>



Tamas Szekeres wrote:
> 
> I couldn't follow exactly what is the issue. Do you have and error
> message? Could you post a code sample to reproduce the problem?

Hi Tamas -

The error: "Couldn't load dataset, 'd:\wms_test\gdal_tes.wms' no recognised
as a supported file format.

The wms file is the xml file that begins with <GDAL_WMS>.  I'm currently
using the examples posted for the WMS file format on the gdal.org site.

My simple code snippet:

         Gdal.AllRegister();
         try
         {

            _GdalDataset = Gdal.Open(_Filename, Access.GA_ReadOnly);
            imagesize = new Size(_GdalDataset.RasterXSize,
_GdalDataset.RasterYSize);
           
         }
         catch (Exception ex)
         {
            _GdalDataset = null;
            throw new Exception("Couldn't load dataset. " + ex.Message +
ex.InnerException);           
         }


An exception is thrown, with the above error message, in the Gdal.Open call. 
I've tried renaming the XML file to a variety of different file extensions. 
I know that I'm simply using this incorrectly.

Thank you for your assistance.

-- 
View this message in context: http://www.nabble.com/WMS-with-C--Bindings-tf4956367.html#a14197454
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From grinderprogrammer at gmail.com  Thu Dec  6 13:11:19 2007
From: grinderprogrammer at gmail.com (GrinderDev)
Date: Thu Dec  6 13:11:21 2007
Subject: [Gdal-dev] WMS with C# Bindings
In-Reply-To: <14193332.post@talk.nabble.com>
References: <14193332.post@talk.nabble.com>
Message-ID: <14197940.post@talk.nabble.com>


Here is the contents of my XML file:

<GDAL_WMS>
  <Service name="WMS">
    <Version>1.1.1</Version>
    <ServerUrl>http://onearth.jpl.nasa.gov/wms.cgi?</ServerUrl>
    <SRS>EPSG:4326</SRS>
    <ImageFormat>image/jpeg</ImageFormat>
    <Layers>modis,global_mosaic</Layers>
    <Styles></Styles>
  </Service>
  <DataWindow>
    <UpperLeftX>-180.0</UpperLeftX>
    <UpperLeftY>90.0</UpperLeftY>
    <LowerRightX>180.0</LowerRightX>
    <LowerRightY>-90.0</LowerRightY>
    <SizeX>2666666</SizeX>
    <SizeY>1333333</SizeY>
  </DataWindow>
  <Projection>EPSG:4326</Projection>
  <BandsCount>3</BandsCount>
</GDAL_WMS>
-- 
View this message in context: http://www.nabble.com/WMS-with-C--Bindings-tf4956367.html#a14197940
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From nowak at xpam.de  Thu Dec  6 13:21:32 2007
From: nowak at xpam.de (Adam Nowacki)
Date: Thu Dec  6 13:21:42 2007
Subject: [Gdal-dev] WMS with C# Bindings
In-Reply-To: <14197454.post@talk.nabble.com>
References: <14193332.post@talk.nabble.com>	<20071206154314.GB13689@metacarta.com>	<14195862.post@talk.nabble.com>	<f3b73b7d0712060925o3c3ab04en1e5516a76d005923@mail.gmail.com>
	<14197454.post@talk.nabble.com>
Message-ID: <47583DAC.9030409@xpam.de>

GrinderDev wrote:
> 
> Tamas Szekeres wrote:
>> I couldn't follow exactly what is the issue. Do you have and error
>> message? Could you post a code sample to reproduce the problem?
> 
> The error: "Couldn't load dataset, 'd:\wms_test\gdal_tes.wms' no recognised
> as a supported file format.

You sure you're just not missing a 't' there? If not attach your xml 
config file.
From estrada.adam at gmail.com  Thu Dec  6 18:05:29 2007
From: estrada.adam at gmail.com (estrada.adam@gmail.com)
Date: Thu Dec  6 18:06:17 2007
Subject: [gdal-dev] Histogram Matching
Message-ID: <a6ca539b-c4f1-4469-bb9f-078b2052b96e@d21g2000prf.googlegroups.com>

All,
   Does anyone know of a tool that will quickly and easily histogram
match 8bit aerial photographs together?  I have 166 images and ERDAS
IMAGINE is not paying nicely!  To be completely honest...IMAGINE is
not producing the expected results.  Therefore, I am looking for a
tool that will match band for band each image to the one I designate.
If anyone out there has a script or a piece of software that will do
this, please let me know.

Many thanks in advance,
AWE
From nhv at cape.com  Thu Dec  6 18:26:36 2007
From: nhv at cape.com (Norman Vine)
Date: Thu Dec  6 18:28:08 2007
Subject: [gdal-dev] Histogram Matching
In-Reply-To: <a6ca539b-c4f1-4469-bb9f-078b2052b96e@d21g2000prf.googlegroups.com>
Message-ID: <20071206223825.6C61E28130@mrelay1.cape.com>

estrada.adam@gmail.com writes:
>
>    Does anyone know of a tool that will quickly and easily histogram
> match 8bit aerial photographs together?  I have 166 images and ERDAS
> IMAGINE is not paying nicely!  To be completely honest...IMAGINE is
> not producing the expected results.  Therefore, I am looking for a
> tool that will match band for band each image to the one I designate.
> If anyone out there has a script or a piece of software that will do
> this, please let me know.

The OSSIM ImageLinker tool has a histogram matching function

I haven't tried this with single band images but I think it should work

See section 7.5.2 Histogram Match
http://ossim.telascience.org/ossimdata/Documentation/ossim_users_guide.pdf

HTH

Norman

From nikos.alexandris at felis.uni-freiburg.de  Thu Dec  6 21:24:35 2007
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Thu Dec  6 21:22:25 2007
Subject: [gdal-dev] Histogram Matching
In-Reply-To: <20071206223825.6C61E28130@mrelay1.cape.com>
References: <20071206223825.6C61E28130@mrelay1.cape.com>
Message-ID: <1196994275.23023.0.camel@vertical.haendel.fr.studentenwohnheim-bw.de>

Did anybody managed to compile OSSIM under Ubuntu?

Just curious...

Thank you,

Nikos

On Thu, 2007-12-06 at 18:26 -0500, Norman Vine wrote:
> estrada.adam@gmail.com writes:
> >
> >    Does anyone know of a tool that will quickly and easily histogram
> > match 8bit aerial photographs together?  I have 166 images and ERDAS
> > IMAGINE is not paying nicely!  To be completely honest...IMAGINE is
> > not producing the expected results.  Therefore, I am looking for a
> > tool that will match band for band each image to the one I designate.
> > If anyone out there has a script or a piece of software that will do
> > this, please let me know.
> 
> The OSSIM ImageLinker tool has a histogram matching function
> 
> I haven't tried this with single band images but I think it should work
> 
> See section 7.5.2 Histogram Match
> http://ossim.telascience.org/ossimdata/Documentation/ossim_users_guide.pdf
> 
> HTH
> 
> Norman
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-- 
Nikos Alexandris
.
Department of Remote Sensing & Landscape Information Systems
Faculty of Forestry & Environmental Sciences, Albert-Ludwigs-University Freiburg
.
Tel.  +49 (0) 761 203 3697 / Fax.  +49 (0) 761 203 3701 / Skype: Nikos.Alexandris
.
Address: Tennenbacher str. 4, D-79106 Freiburg i. Br., Germany
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071207/cdd9d236/attachment.bin
From grinderprogrammer at gmail.com  Fri Dec  7 10:20:51 2007
From: grinderprogrammer at gmail.com (GrinderDev)
Date: Fri Dec  7 10:21:18 2007
Subject: [Gdal-dev] WMS with C# Bindings
In-Reply-To: <47583DAC.9030409@xpam.de>
References: <14193332.post@talk.nabble.com>
	<20071206154314.GB13689@metacarta.com>
	<14195862.post@talk.nabble.com>
	<f3b73b7d0712060925o3c3ab04en1e5516a76d005923@mail.gmail.com>
	<14197454.post@talk.nabble.com> <47583DAC.9030409@xpam.de>
Message-ID: <14214457.post@talk.nabble.com>



Adam Nowacki wrote:
> 
> You sure you're just not missing a 't' there? If not attach your xml 
> config file.

The missing 't' was just a typing error.  Any other suggestions on getting
this to work with C#?
-- 
View this message in context: http://www.nabble.com/WMS-with-C--Bindings-tf4956367.html#a14214457
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From estrada.adam at gmail.com  Fri Dec  7 12:43:02 2007
From: estrada.adam at gmail.com (estrada.adam@gmail.com)
Date: Fri Dec  7 12:43:18 2007
Subject: [gdal-dev] Re: Histogram Matching
In-Reply-To: <20071206223825.6C61E28130@mrelay1.cape.com>
References: <20071206223825.6C61E28130@mrelay1.cape.com>
Message-ID: <d6e16065-5047-4ef2-b482-40730a2d29bb@e25g2000prg.googlegroups.com>

Wow!!!  I did not know about this software but it works wonderfully!
It's actually much faster than IMAGINE too.

Thanks Norman...

AWE

On Dec 6, 6:26 pm, "Norman Vine" <n...@cape.com> wrote:
> estrada.a...@gmail.com writes:
>
> >    Does anyone know of a tool that will quickly and easily histogram
> > match 8bit aerial photographs together?  I have 166 images and ERDAS
> > IMAGINE is not paying nicely!  To be completely honest...IMAGINE is
> > not producing the expected results.  Therefore, I am looking for a
> > tool that will match band for band each image to the one I designate.
> > If anyone out there has a script or a piece of software that will do
> > this, please let me know.
>
> The OSSIM ImageLinker tool has a histogram matching function
>
> I haven't tried this with single band images but I think it should work
>
> See section 7.5.2 Histogram Matchhttp://ossim.telascience.org/ossimdata/Documentation/ossim_users_guid...
>
> HTH
>
> Norman
>
> _______________________________________________
> gdal-dev mailing list
> gdal-...@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
From mitchelljj98 at gmail.com  Fri Dec  7 14:21:45 2007
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Fri Dec  7 14:21:47 2007
Subject: [gdal-dev] gdal_retile.py will it in the future have the ability to
	reproject
Message-ID: <fa2ac0580712071121y4eb523c1o32f27bb658184de3@mail.gmail.com>

Hi,

Will the gdal_retile.py utility in the future have the ability to reproject.
I noticed that it has the *-s_srs* *srs_def switch but not the
**-t_srs* *srs_def
switch like gdalwarp has.

Thanks,
*
-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071207/aa680974/attachment.html
From hobu.inc at gmail.com  Fri Dec  7 14:29:09 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Dec  7 14:30:34 2007
Subject: [gdal-dev] gdal_retile.py will it in the future have the ability
	to reproject
In-Reply-To: <fa2ac0580712071121y4eb523c1o32f27bb658184de3@mail.gmail.com>
References: <fa2ac0580712071121y4eb523c1o32f27bb658184de3@mail.gmail.com>
Message-ID: <664416D9-B381-4DB3-827C-44F7E02927A2@gmail.com>

Significant warping support is not available in the Python bindings.   
This would have to be completed before it would be practical to do a  
lot of reprojection of rasters from within Python utilities.

Howard

On Dec 7, 2007, at 1:21 PM, John Mitchell wrote:

> Hi,
>
> Will the gdal_retile.py utility in the future have the ability to  
> reproject.
> I noticed that it has the -s_srs srs_def switch but not the -t_srs  
> srs_def switch like gdalwarp has.
>
> Thanks,
>
> -- 
> John J. Mitchell _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From odonnems at yahoo.com  Fri Dec  7 15:30:09 2007
From: odonnems at yahoo.com (Michael ODonnell)
Date: Fri Dec  7 15:30:11 2007
Subject: [gdal-dev] gdal and python 2.5
Message-ID: <127889.98823.qm@web58007.mail.re3.yahoo.com>

Hi, I am new to this group and a relatively new user of gdal and python. I have been using a gdal python binary with python 2.4.1 on Windows XP, but I was forced to upgrade to 2.5.1 python. I have seen a couple postings in the last few months (gdal discussion list) on this topic and I was curious if anyone has built gdal binaries for python 2.5.1?

Is this possible without making a lot of changes to gdal and is numeric still required or has gdal switched over to numpy entirely? 

What version of VS would be required?

 I think python 2.5.1 is still compiled with VS2003, which I ran into numerous problems, which are explained below. I have not compiled python or gdal before so I am not sure I can do this easily myself especially if a lot of modifications are required. 

The reason I had to upgrade was because I am using scipy weave.inline to apply algorithms to raster datasets. GDAL converts the raster datasets to arrays, but python is extremely slow as soon as I start nesting loops such as a large kernel within the loop of each target cell. I found documentation that shows this method is much faster and could save me weeks of processing my datasets. However, I was unsuccessful at using scipy weave with 2.4 and VS2003/VS2005. I was successful using scipy weave with python 2.5.1 and mingw. Therefore, I upgraded. But now I can't get GDAL to work under python 2.5.1.

Can anyone provide some suggestions on what I might do? 

Are there adequate documents that may help me compile gdal using the same compiler that was used to compile the binaries of python?

Does anyone know what compiler was used for python 2.5.1?

Thank you for your comments,
Michael





      ____________________________________________________________________________________
Never miss a thing.  Make Yahoo your home page. 
http://www.yahoo.com/r/hs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071207/258dd552/attachment.html
From hobu.inc at gmail.com  Fri Dec  7 15:43:13 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Dec  7 15:44:38 2007
Subject: [gdal-dev] gdal and python 2.5
In-Reply-To: <127889.98823.qm@web58007.mail.re3.yahoo.com>
References: <127889.98823.qm@web58007.mail.re3.yahoo.com>
Message-ID: <4F09308F-90DB-44F7-8DFE-2116F6F804ED@gmail.com>


On Dec 7, 2007, at 2:30 PM, Michael ODonnell wrote:

> Hi, I am new to this group and a relatively new user of gdal and  
> python. I have been using a gdal python binary with python 2.4.1 on  
> Windows XP, but I was forced to upgrade to 2.5.1 python. I have seen  
> a couple postings in the last few months (gdal discussion list) on  
> this topic and I was curious if anyone has built gdal binaries for  
> python 2.5.1?
>
> Is this possible without making a lot of changes to gdal and is  
> numeric still required or has gdal switched over to numpy entirely?

http://trac.osgeo.org/gdal/wiki/GdalOgrInPython#the-history-of-using-gdal-ogr-in-python 
   describes the current situation.  For GDAL 1.5, the Python bindings  
will be numpy only, and Numeric support is not provided.  Your code  
may require some minor tweaks to be able to use numpy, but none of the  
scripts I have ported for use in the GDAL project required significant  
changes.


>
>
> What version of VS would be required?
>

"Stock" Python 2.5 from python.org and ActiveState use 2003.  If we  
are to provide pre-built bindings, they must use msvc2003.

It is my intention that we (the GDAL project) will provide Python  
bindings (2.3, 2.4, and 2.5) in the form of eggs and windows  
installers on http://pypi.python.org/pypi/GDAL/ that will be expected  
to be used with our "official" binaries that we will make available on http://download.osgeo.org/gdal/win32/ 
  for the GDAL 1.5 release.  We haven't gotten our story straight on  
what the official binaries will look like quite yet, however.  I know  
this story doesn't quite help your immediate problem.

If we make a 1.5 beta binary in a few days, I will upload a  
corresponding egg/.exe to pypi to match them.  If it doesn't happen  
right away, please note that the 1.5 will be happening by the end of  
the month, so we should at least have something by then.

As a side note, I expect the official GDAL binaries will be compiled  
with msvc2005, but it shouldn't be a problem to have the Python  
bindings that were built with 2003 link against them now that the  
Python bindings in 1.5 no longer use and C++ API.

Hope this helps,

Howard
From odonnems at yahoo.com  Fri Dec  7 15:54:42 2007
From: odonnems at yahoo.com (Michael ODonnell)
Date: Fri Dec  7 15:54:44 2007
Subject: [gdal-dev] gdal and python 2.5
Message-ID: <910131.7644.qm@web58006.mail.re3.yahoo.com>

Thank you Howard! No this does not help my immediate situation, but it sounds like it is not far off, and I don't have the skills to do what the programming group is doing so I can't complain.

Has anyone used PIL (python imaging library)? I am guessing this does not give me nearly as much of the functionality that comes with gdal/osr, especially how to embed the spatial reference tags, but I recently stumbled across this.

michael


----- Original Message ----
From: Howard Butler <hobu.inc@gmail.com>
To: Michael ODonnell <odonnems@yahoo.com>
Cc: gdal-dev@lists.osgeo.org
Sent: Friday, December 7, 2007 1:43:13 PM
Subject: Re: [gdal-dev] gdal and python 2.5



On Dec 7, 2007, at 2:30 PM, Michael ODonnell wrote:

> Hi, I am new to this group and a relatively new user of gdal and  
> python. I have been using a gdal python binary with python 2.4.1 on  
> Windows XP, but I was forced to upgrade to 2.5.1 python. I have seen
  
> a couple postings in the last few months (gdal discussion list) on  
> this topic and I was curious if anyone has built gdal binaries for  
> python 2.5.1?
>
> Is this possible without making a lot of changes to gdal and is  
> numeric still required or has gdal switched over to numpy entirely?

http://trac.osgeo.org/gdal/wiki/GdalOgrInPython#the-history-of-using-gdal-ogr-in-python 
   describes the current situation.  For GDAL 1.5, the Python bindings
  
will be numpy only, and Numeric support is not provided.  Your code  
may require some minor tweaks to be able to use numpy, but none of the
  
scripts I have ported for use in the GDAL project required significant
  
changes.


>
>
> What version of VS would be required?
>

"Stock" Python 2.5 from python.org and ActiveState use 2003.  If we  
are to provide pre-built bindings, they must use msvc2003.

It is my intention that we (the GDAL project) will provide Python  
bindings (2.3, 2.4, and 2.5) in the form of eggs and windows  
installers on http://pypi.python.org/pypi/GDAL/ that will be expected  
to be used with our "official" binaries that we will make available on
 http://download.osgeo.org/gdal/win32/ 
  for the GDAL 1.5 release.  We haven't gotten our story straight on  
what the official binaries will look like quite yet, however.  I know  
this story doesn't quite help your immediate problem.

If we make a 1.5 beta binary in a few days, I will upload a  
corresponding egg/.exe to pypi to match them.  If it doesn't happen  
right away, please note that the 1.5 will be happening by the end of  
the month, so we should at least have something by then.

As a side note, I expect the official GDAL binaries will be compiled  
with msvc2005, but it shouldn't be a problem to have the Python  
bindings that were built with 2003 link against them now that the  
Python bindings in 1.5 no longer use and C++ API.

Hope this helps,

Howard






      ____________________________________________________________________________________
Never miss a thing.  Make Yahoo your home page. 
http://www.yahoo.com/r/hs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071207/ba820822/attachment.html
From Chris.Barker at noaa.gov  Fri Dec  7 16:15:19 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Dec  7 16:13:58 2007
Subject: [gdal-dev] gdal and python 2.5
In-Reply-To: <910131.7644.qm@web58006.mail.re3.yahoo.com>
References: <910131.7644.qm@web58006.mail.re3.yahoo.com>
Message-ID: <4759B7E7.6050807@noaa.gov>

Michael ODonnell wrote:
> Has anyone used PIL (python imaging library)?

yup, it's a great library, and it plays well with numpy, which pays well 
with GDAL (at least it will in 1.5)

> I am guessing this does 
> not give me nearly as much of the functionality that comes with 
> gdal/osr, especially how to embed the spatial reference tags,

exactly - they really are for different things.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From mateusz at loskot.net  Fri Dec  7 16:56:13 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Dec  7 16:56:53 2007
Subject: [gdal-dev] gdal and python 2.5
In-Reply-To: <127889.98823.qm@web58007.mail.re3.yahoo.com>
References: <127889.98823.qm@web58007.mail.re3.yahoo.com>
Message-ID: <4759C17D.40908@loskot.net>

Michael ODonnell wrote:
> Hi, I am new to this group and a relatively new user of gdal and
> python. I have been using a gdal python binary with python 2.4.1 on
> Windows XP, but I was forced to upgrade to 2.5.1 python. I have seen
> a couple postings in the last few months (gdal discussion list) on
> this topic and I was curious if anyone has built gdal binaries for
> python 2.5.1?

We use Python 2.4 + GDAL built using Visual C++ 2005 on Buildbot slaves
under Windows with success. I also use the same Python and compiler on
my own machine with success.

Although, there are a few tricks required to succeed with GDAL binaries
built using Visual C++ 2005. Check "Testing on Windows using old
bindings" for details:

http://trac.osgeo.org/gdal/wiki/TestingNotes

Unfortunately, Python 2.5 does not work for me and these hacks do not
help. Just to confirm it, I run simple test a few minutes ago:

1. Python 2.4 + GDAL + Visual C++ 2005

D:\dev\gdal\_svn\trunk\gdal>c:\Python24\python.exe
Python 2.4.4 (#71, Oct 18 2006, 08:34:43) [MSC v.1310 32 bit (Intel)] on
win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import gdal
>>>

2. Python 2.4 + GDAL + Visual C++ 2005

D:\dev\gdal\_svn\trunk\gdal\pymod>c:\Python25\python.exe
Python 2.5.1 (r251:54863, Apr 18 2007, 08:51:08) [MSC v.1310 32 bit
(Intel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import gdal
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "gdal.py", line 191, in <module>
    import _gdal
ImportError: No module named _gdal
>>>

In both cases I use GDAL from SVN and old-gen Python bindings in
trunk/gdal/pymod.

> Is this possible without making a lot of changes to gdal and is
> numeric still required or has gdal switched over to numpy entirely?

I don't know.

> What version of VS would be required?

I believe you can use any VS version.
Similarly, Python 2.4 was supposed to not to work with Visual C++ 2005
because of manifest issues, but we (Tamas) have found how to do it
and tested it in practice. Tamas uses this tricks on his buildbot
slaves: Python 2.4 + Visual Studio 2005. See szekerest-* machines here:

http://trac.osgeo.org/gdal/wiki/TestingNotes

I use it on my own installation of Windows XP + Python 2.4.

> Does anyone know what compiler was used for python 2.5.1?

Visual C++ 7.1 (2003)

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From szekerest at gmail.com  Fri Dec  7 18:40:20 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Dec  7 18:40:22 2007
Subject: [Gdal-dev] WMS with C# Bindings
In-Reply-To: <14214457.post@talk.nabble.com>
References: <14193332.post@talk.nabble.com>
	<20071206154314.GB13689@metacarta.com> <14195862.post@talk.nabble.com>
	<f3b73b7d0712060925o3c3ab04en1e5516a76d005923@mail.gmail.com>
	<14197454.post@talk.nabble.com> <47583DAC.9030409@xpam.de>
	<14214457.post@talk.nabble.com>
Message-ID: <f3b73b7d0712071540p522bd91bn47d4060efd1a7d0@mail.gmail.com>

Your file is working pretty good. The only thing I had to do is to set
the GDAL_DATA environment variable because of the EPSG specification.
You might want to do a test with gdalinfo, here's my command output:

E:\buildbot\osgeo\slaves\szekerest-msvc80-gdal\szekerest-vc80-full\build\gdal\apps>gdalinfo
--formats
Supported Formats:
  VRT (rw+): Virtual Raster
  GTiff (rw+): GeoTIFF
  NITF (rw+): National Imagery Transmission Format
  RPFTOC (ro): Raster Product Format TOC format
  HFA (rw+): Erdas Imagine Images (.img)
  SAR_CEOS (ro): CEOS SAR Image
  CEOS (ro): CEOS Image
  JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
  GFF (ro): Ground-based SAR Applications Testbed File Format (.gff)
  ELAS (rw+): ELAS
  AIG (ro): Arc/Info Binary Grid
  AAIGrid (rw): Arc/Info ASCII Grid
  SDTS (ro): SDTS Raster
  DTED (rw): DTED Elevation Raster
  PNG (rw): Portable Network Graphics
  JPEG (rw): JPEG JFIF
  MEM (rw+): In Memory Raster
  JDEM (ro): Japanese DEM (.mem)
  GIF (rw): Graphics Interchange Format (.gif)
  ESAT (ro): Envisat Image Format
  BSB (ro): Maptech BSB Nautical Charts
  XPM (rw): X11 PixMap Format
  BMP (rw+): MS Windows Device Independent Bitmap
  DIMAP (ro): SPOT DIMAP
  AirSAR (ro): AirSAR Polarimetric Image
  RS2 (ro): RadarSat 2 XML Product
  PCIDSK (rw+): PCIDSK Database File
  PCRaster (rw): PCRaster Raster File
  ILWIS (rw+): ILWIS Raster Map
  SGI (ro): SGI Image File Format 1.0
  SRTMHGT (rw): SRTMHGT File Format
  Leveller (rw+): Leveller heightfield
  Terragen (rw+): Terragen heightfield
  PNM (rw+): Portable Pixmap Format (netpbm)
  DOQ1 (ro): USGS DOQ (Old Style)
  DOQ2 (ro): USGS DOQ (New Style)
  ENVI (rw+): ENVI .hdr Labelled
  EHdr (rw+): ESRI .hdr Labelled
  GenBin (ro): Generic Binary (.hdr Labelled)
  PAux (rw+): PCI .aux Labelled
  MFF (rw+): Vexcel MFF Raster
  MFF2 (rw+): Vexcel MFF2 (HKV) Raster
  FujiBAS (ro): Fuji BAS Scanner Image
  GSC (ro): GSC Geogrid
  FAST (ro): EOSAT FAST Format
  BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
  LAN (ro): Erdas .LAN/.GIS
  CPG (ro): Convair PolGASP
  IDA (rw+): Image Data and Analysis
  NDF (ro): NLAPS Data Format
  DIPEx (ro): DIPEx
  ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
  ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
  PDS (ro): NASA Planetary Data System
  ERS (rw+): ERMapper .ers Labelled
  L1B (ro): NOAA Polar Orbiter Level 1b Data Set
  FIT (rw): FIT Image
  RMF (rw+): Raster Matrix Format
  WCS (ro): OGC Web Coverage Service
  WMS (ro): OGC Web Map Service
  MSGN (ro): EUMETSAT Archive native (.nat)
  RST (rw+): Idrisi Raster A.1
  INGR (rw+): Intergraph Raster
  GSAG (rw+): Golden Software ASCII Grid (.grd)
  GSBG (rw+): Golden Software Binary Grid (.grd)
  GS7BG (ro): Golden Software 7 Binary Grid (.grd)
  COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
  TSX (ro): TerraSAR-X Product
  COASP (ro): DRDC COASP SAR Processor Raster
  RIK (ro): Swedish Grid RIK (.rik)
  USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
  GXF (ro): GeoSoft Grid Exchange Format
  HTTP (ro): HTTP Fetching Wrapper
  ADRG (rw+): ARC Digitized Raster Graphics


E:\buildbot\osgeo\slaves\szekerest-msvc80-gdal\szekerest-vc80-full\build\gdal\apps>gdalinfo
GDAL_WMS.txt
ERROR 4: Unable to open EPSG support file gcs.csv.
Try setting the GDAL_DATA environment variable to point to the
directory containing EPSG csv files.
ERROR 1: GDALWMS: Bad projection specified.
gdalinfo failed - unable to open 'GDAL_WMS.txt'.

E:\buildbot\osgeo\slaves\szekerest-msvc80-gdal\szekerest-vc80-full\build\gdal\apps>set
GDAL_DATA=E:/buildbot/osgeo/slaves/szekerest-msvc80-gdal/szekerest-vc80-f
ull/build/gdal/data

E:\buildbot\osgeo\slaves\szekerest-msvc80-gdal\szekerest-vc80-full\build\gdal\ap
ps>
E:\buildbot\osgeo\slaves\szekerest-msvc80-gdal\szekerest-vc80-full\build\gdal\ap
ps>gdalinfo GDAL_WMS.txt
Driver: WMS/OGC Web Map Service
Files: GDAL_WMS.txt
Size is 2666666, 1333333
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.01745329251994328,
        AUTHORITY["EPSG","9122"]],
    AUTHORITY["EPSG","4326"]]
Origin = (-180.000000000000000,90.000000000000000)
Pixel Size = (0.000135000033750,-0.000135000033750)
Corner Coordinates:
Upper Left  (-180.0000000,  90.0000000) (180d 0'0.00"W, 90d 0'0.00"N)
Lower Left  (-180.0000000, -90.0000000) (180d 0'0.00"W, 90d 0'0.00"S)
Upper Right ( 180.0000000,  90.0000000) (180d 0'0.00"E, 90d 0'0.00"N)
Lower Right ( 180.0000000, -90.0000000) (180d 0'0.00"E, 90d 0'0.00"S)
Center      (   0.0000000,   0.0000000) (  0d 0'0.01"E,  0d 0'0.01"N)
Band 1 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 1333333x666667, 666667x333333, 333333x166667, 166667x83333, 83333x4
1667, 41667x20833, 20833x10417, 10417x5208, 5208x2604, 2604x1302, 1302x651
Band 2 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 1333333x666667, 666667x333333, 333333x166667, 166667x83333, 83333x4
1667, 41667x20833, 20833x10417, 10417x5208, 5208x2604, 2604x1302, 1302x651
Band 3 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 1333333x666667, 666667x333333, 333333x166667, 166667x83333, 83333x4
1667, 41667x20833, 20833x10417, 10417x5208, 5208x2604, 2604x1302, 1302x651

E:\buildbot\osgeo\slaves\szekerest-msvc80-gdal\szekerest-vc80-full\build\gdal\apps>



Best regards,

Tamas



2007/12/7, GrinderDev <grinderprogrammer@gmail.com>:
>
>
> Adam Nowacki wrote:
> >
> > You sure you're just not missing a 't' there? If not attach your xml
> > config file.
>
> The missing 't' was just a typing error.  Any other suggestions on getting
> this to work with C#?
> --
> View this message in context: http://www.nabble.com/WMS-with-C--Bindings-tf4956367.html#a14214457
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From ivan.lucena at pmldnet.com  Fri Dec  7 21:56:53 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Fri Dec  7 21:57:04 2007
Subject: [gdal-dev] gdal and python 2.5 - Continuing in the same line...
In-Reply-To: <4F09308F-90DB-44F7-8DFE-2116F6F804ED@gmail.com>
References: <127889.98823.qm@web58007.mail.re3.yahoo.com>
	<4F09308F-90DB-44F7-8DFE-2116F6F804ED@gmail.com>
Message-ID: <475A07F5.7030207@pmldnet.com>

Howard,

I was helping someone that needed to use gdal2types.py from the latest 
distribution of FWTools and we got into trouble because Phyton 2.4 
couldn't find gdal_fw.dll even tough it was on the PATH. The reason for 
that is probably because the user doesn't had enough power to register 
environment variable during the running of the installer. I tried to set 
the PYTHONPATH on the command prompt but it didn't worked so we finally 
called the IT guy to re-install FWTools as administrator and it worked. 
Do you know exactly what is missing in a case like that?

Best regards,

Ivan

From perrygeo at gmail.com  Sun Dec  9 15:09:20 2007
From: perrygeo at gmail.com (Matthew Perry)
Date: Sun Dec  9 15:09:22 2007
Subject: [gdal-dev] gdalwarp fails on wms data sources
Message-ID: <5383fa5e0712091209r64e633f6u17f60ae00cac6487@mail.gmail.com>

I'm working with the gdal WMS driver using the open aerial map .xml
available at http://openaerialmap.org/static/gdal_wms.xml . I'm able
to use gdal_translate and get an image but it does not seem to play
well with gdalwarp:

$/opt/fwtools/bin_safe/gdalwarp -s_srs EPSG:4326 -t_srs "+proj=utm
+zone=10 +datum=NAD83" -r bilinear \
-of HFA -te 783014 3806239 817341 3828963 -tr 30 30 openaerialmap.xml test.img
Creating output file that is 1144P x 757L.
Processing input file openaerialmap.xml.
ERROR 2: Out of memory in InitBlockInfo().
Segmentation fault

I'm seeing the same behavior in fwtools 2.0 on linux and gdal 1.5 beta
1. The obvious work around is to use gdal_translate to save the image
locally, then warp it. But it would be nice to do it in one command -
any ideas why this one is failing?


-- 
Matthew T. Perry
http://www.perrygeo.net
From crschmidt at metacarta.com  Sun Dec  9 15:13:59 2007
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Sun Dec  9 15:14:01 2007
Subject: [gdal-dev] gdalwarp fails on wms data sources
In-Reply-To: <5383fa5e0712091209r64e633f6u17f60ae00cac6487@mail.gmail.com>
References: <5383fa5e0712091209r64e633f6u17f60ae00cac6487@mail.gmail.com>
Message-ID: <20071209201359.GB10744@metacarta.com>

On Sun, Dec 09, 2007 at 12:09:20PM -0800, Matthew Perry wrote:
> I'm working with the gdal WMS driver using the open aerial map .xml
> available at http://openaerialmap.org/static/gdal_wms.xml . I'm able
> to use gdal_translate and get an image but it does not seem to play
> well with gdalwarp:
> 
> $/opt/fwtools/bin_safe/gdalwarp -s_srs EPSG:4326 -t_srs "+proj=utm
> +zone=10 +datum=NAD83" -r bilinear \
> -of HFA -te 783014 3806239 817341 3828963 -tr 30 30 openaerialmap.xml test.img
> Creating output file that is 1144P x 757L.
> Processing input file openaerialmap.xml.
> ERROR 2: Out of memory in InitBlockInfo().
> Segmentation fault
> 
> I'm seeing the same behavior in fwtools 2.0 on linux and gdal 1.5 beta
> 1. The obvious work around is to use gdal_translate to save the image
> locally, then warp it. But it would be nice to do it in one command -
> any ideas why this one is failing?

http://trac.osgeo.org/gdal/ticket/2076

Regards,
-- 
Christopher Schmidt
MetaCarta
From maplabs at light42.com  Sun Dec  9 16:01:41 2007
From: maplabs at light42.com (Brian Hamlin)
Date: Sun Dec  9 16:01:50 2007
Subject: [gdal-dev] Scripting OGR and KML
In-Reply-To: <475A07F5.7030207@pmldnet.com>
References: <127889.98823.qm@web58007.mail.re3.yahoo.com>
	<4F09308F-90DB-44F7-8DFE-2116F6F804ED@gmail.com>
	<475A07F5.7030207@pmldnet.com>
Message-ID: <F0CE8E9C-A699-11DC-B987-000A277A733C@light42.com>

I am new to scripting OGR, and for better or worse, I have chosen to 
work with the Perl interfaces for now. I am writing a few test scripts 
as part of the 1.5 testing phase.

You may be interested to know that the KML driver can be opened as a 
Datasource, so writing to it effectively writes directly to KML from a 
script.  KML is interesting because a) it is becoming widely accepted 
in the various geobrowsers, and b) it simplifies the projection model 
to a single case. It is essentially a simple display format.

So the Question is this:

  In OGR terms I see the Layer, Features and Geometry.. A Feature has a 
FeatureDefinition.

  In KML terms, a Layer is a Folder, and Features are the Placemarks. I 
can see by conversion testing that a Layer/Folder can have a name , and 
Feature/Placemark can have a Name and a Description. The description 
can be quite long.

   But using the class interfaces in a script, I dont see how to set 
these things.  ???

   It looks like the name in a Feature Definition could be the name of a 
Placemark. But that leaves Layer - Name, and Feature - Description ??

   pointers/insights appreciated
     -Brian


On Dec 7, 2007, at 6:56 PM, Lucena, Ivan wrote:

> Howard,
>
> I was helping someone that needed to use gdal2types.py from the latest 
> distribution of FWTools and we got into trouble because Phyton 2.4 
> couldn't find gdal_fw.dll even tough it was on the PATH. The reason 
> for that is probably because the user doesn't had enough power to 
> register environment variable during the running of the installer. I 
> tried to set the PYTHONPATH on the command prompt but it didn't worked 
> so we finally called the IT guy to re-install FWTools as administrator 
> and it worked. Do you know exactly what is missing in a case like 
> that?
>
> Best regards,
>
> Ivan
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Jukka.Rahkonen at mmmtike.fi  Mon Dec 10 03:37:51 2007
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Mon Dec 10 03:38:02 2007
Subject: [gdal-dev] News.gmane.org seems to have old return address
Message-ID: <CC197224AC75CE4DB23F739B16891B866E7565@tikka.haapa.mmm.fi>

Hi,
 
I tried to send a followup through
http://news.gmane.org/gmane.comp.gis.gdal.devel but it seems to send the
mail to lists.maptools.org and it fails.
 
Regards,
 
-Jukka Rahkonen-
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071210/97f6be54/attachment.html
From maplabs at light42.com  Mon Dec 10 03:38:54 2007
From: maplabs at light42.com (Brian Hamlin)
Date: Mon Dec 10 03:39:05 2007
Subject: [gdal-dev] Scripting OGR and KML
In-Reply-To: <F0CE8E9C-A699-11DC-B987-000A277A733C@light42.com>
References: <127889.98823.qm@web58007.mail.re3.yahoo.com>
	<4F09308F-90DB-44F7-8DFE-2116F6F804ED@gmail.com>
	<475A07F5.7030207@pmldnet.com>
	<F0CE8E9C-A699-11DC-B987-000A277A733C@light42.com>
Message-ID: <5755BDFE-A6FB-11DC-B987-000A277A733C@light42.com>

On Dec 9, 2007, at 1:01 PM, Brian Hamlin wrote:
> So the Question is this:
>
>  In OGR terms I see the Layer, Features and Geometry.. A Feature has a 
> FeatureDefinition.
>
>  In KML terms, a Layer is a Folder, and Features are the Placemarks. I 
> can see by conversion testing that a Layer/Folder can have a name , 
> and Feature/Placemark can have a Name and a Description. The 
> description can be quite long.
>
>   But using the class interfaces in a script, I dont see how to set 
> these things.  ???
>
>   It looks like the name in a Feature Definition could be the name of 
> a Placemark. But that leaves Layer - Name, and Feature - Description 
> ??
>

I found that after creating a Layer from a KML datasource and creating 
a feature based on the Layer definition, Feature->SetField() can be 
used to set pre-existing 'Name' ad 'Description' fields.

Reading the documentation and examples regarding FeatureDefn and 
FieldDefn still leaves me puzzled

I put two sample perl scripts on Trac under code snippets
Feedback is welcome
best regards
   -Brian

From warmerdam at pobox.com  Mon Dec 10 08:57:11 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 10 08:57:33 2007
Subject: [gdal-dev] News.gmane.org seems to have old return address
In-Reply-To: <CC197224AC75CE4DB23F739B16891B866E7565@tikka.haapa.mmm.fi>
References: <CC197224AC75CE4DB23F739B16891B866E7565@tikka.haapa.mmm.fi>
Message-ID: <475D45B7.60503@pobox.com>

Rahkonen Jukka wrote:
> Hi,
>  
> I tried to send a followup through 
> http://news.gmane.org/gmane.comp.gis.gdal.devel but it seems to send the 
> mail to lists.maptools.org and it fails.

Jukka,

Frankly, this is why I'm not keen on these services.  Someone will set it up
but no one is keeping it up to date with changes.  I don't know how.  If you
can figure out how, more power to you!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From sophia.parafina at ionicenterprise.com  Mon Dec 10 15:05:27 2007
From: sophia.parafina at ionicenterprise.com (Sophia Parafina)
Date: Mon Dec 10 15:05:32 2007
Subject: [gdal-dev] Problems with reading large NITF files
Message-ID: <475D9C07.40404@ionicenterprise.com>

I'm reading large nitf files (>2gb) with gdal and it seems to only read 
the upper left hand corner first, then it seems to perform a second pass 
which reads the entire file.  You can see this behavior in openev.

The problem I'm having is that I'm using gdal_translate to read the 
file, I call gdal_translate from java and it seems to return that the 
file has been read, but it only seems to read the upper left hand 
corner.  Am I crazy of is gdal using 2 passes to read a large nitf file?

sophia
From warmerdam at pobox.com  Mon Dec 10 15:27:06 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 10 15:27:56 2007
Subject: [gdal-dev] Problems with reading large NITF files
In-Reply-To: <475D9C07.40404@ionicenterprise.com>
References: <475D9C07.40404@ionicenterprise.com>
Message-ID: <475DA11A.4070303@pobox.com>

Sophia Parafina wrote:
> I'm reading large nitf files (>2gb) with gdal and it seems to only read 
> the upper left hand corner first, then it seems to perform a second pass 
> which reads the entire file.  You can see this behavior in openev.
> 
> The problem I'm having is that I'm using gdal_translate to read the 
> file, I call gdal_translate from java and it seems to return that the 
> file has been read, but it only seems to read the upper left hand 
> corner.  Am I crazy of is gdal using 2 passes to read a large nitf file?

Sophia,

OpenEV sometimes does a prepass to get a rough histgram so it's behavior
can be fairly variable.

But gdal_translate (for a one band file) should just read top to bottom.

The problem sounds a bit like you might have built GDAL without large file
support.  If that happened, it would not (generally) successfully read
past the 2GB mark and for some drivers it might not even realize that it
isn't working properly.  What platform is this on?

In the configure results you are looking specifically for this item:

   checking for 64bit file io... yes

In particular, getting 64bit io enabled on exotic unix operating systems
can be a bit of a hassle.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From sy at perkins.net  Mon Dec 10 16:45:50 2007
From: sy at perkins.net (Simon Perkins)
Date: Mon Dec 10 16:45:53 2007
Subject: [gdal-dev] ArcSDE OGR Driver
Message-ID: <475DB38E.6080702@perkins.net>

Hi,

I'm having problems compiling GDAL/OGR with ArcSDE read support. I have
the ArcSDE 9.2 SDK installed, and have edited the nmake.opt file to
point to the appropriate places. Compile seems to work OK, but I end up
with an OGR that doesn't seem to have ArcSDE support enabled. For
instance, ogrinfo --formats doesn't list ArcSDE as a supported format.
Also when tracing through the ogrinfo executable in Visual Studio, in
the body of OGRRegisterAll(), the line which calls RegisterOGRSDE() is
never reached, seeming to indicate that the SDE_ENABLED compile time
define is not set.

I'm using Visual Studio 2005 on Windows Vista with the latest GDAL from
Subversion.

Here are the relevant lines from nmake.opt.

SDE_ENABLED = YES
SDE_VERSION=92
SDE_PLUGIN = NO
SDE_SDK = C:\arcgis\arcsde
SDE_INC = $(SDE_SDK)\include
SDE_LIB = $(SDE_SDK)\lib\pe.lib \
          $(SDE_SDK)\lib\sde.lib $(SDE_SDK)\lib\sg.lib


I'm still investigating, but wondered if anyone had any ideas?

Cheers,

Sy


From warmerdam at pobox.com  Mon Dec 10 17:07:05 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 10 17:07:21 2007
Subject: [gdal-dev] ArcSDE OGR Driver
In-Reply-To: <475DB38E.6080702@perkins.net>
References: <475DB38E.6080702@perkins.net>
Message-ID: <475DB889.803@pobox.com>

Simon Perkins wrote:
> Hi,
> 
> I'm having problems compiling GDAL/OGR with ArcSDE read support. I have
> the ArcSDE 9.2 SDK installed, and have edited the nmake.opt file to
> point to the appropriate places. Compile seems to work OK, but I end up
> with an OGR that doesn't seem to have ArcSDE support enabled. For
> instance, ogrinfo --formats doesn't list ArcSDE as a supported format.
> Also when tracing through the ogrinfo executable in Visual Studio, in
> the body of OGRRegisterAll(), the line which calls RegisterOGRSDE() is
> never reached, seeming to indicate that the SDE_ENABLED compile time
> define is not set.
> 
> I'm using Visual Studio 2005 on Windows Vista with the latest GDAL from
> Subversion.
> 
> Here are the relevant lines from nmake.opt.
> 
> SDE_ENABLED = YES
> SDE_VERSION=92
> SDE_PLUGIN = NO
> SDE_SDK = C:\arcgis\arcsde
> SDE_INC = $(SDE_SDK)\include
> SDE_LIB = $(SDE_SDK)\lib\pe.lib \
>          $(SDE_SDK)\lib\sde.lib $(SDE_SDK)\lib\sg.lib
> 
> 
> I'm still investigating, but wondered if anyone had any ideas?

Sy,

This *looks* ok to me.  You may need to do an "nmake /f makefile.vc clean"
and then build again.  GDAL/OGR is generally not smart about what needs to
be rebuilt when include files or makefiles change.

Ah, I see the problem.  In gdal/ogr/ogrsf_frmts/generic/makefile.vc
we test:

!IFNDEF SDE_PLUGIN
SDEDEF = -DSDE_ENABLED
!ENDIF

So instead of testing the value of SDE_PLUGIN we just check if it is
defined, and assume that defined means yes.  You can presumably work around
this by commenting out the declaration.  I'll adjust the source for 1.5.0.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From szekerest at gmail.com  Mon Dec 10 17:43:52 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Dec 10 17:43:56 2007
Subject: [gdal-dev] ArcSDE OGR Driver
In-Reply-To: <475DB38E.6080702@perkins.net>
References: <475DB38E.6080702@perkins.net>
Message-ID: <f3b73b7d0712101443n2c55b515i5d70242983e6b58d@mail.gmail.com>

Simon,

I would suggest to use it this way:

SDE_ENABLED = YES
SDE_VERSION=92
#SDE_PLUGIN = NO
SDE_SDK = C:\arcgis\arcsde
SDE_INC = $(SDE_SDK)\include
SDE_LIB = $(SDE_SDK)\lib\pe.lib \
         $(SDE_SDK)\lib\sde.lib $(SDE_SDK)\lib\sg.lib

If you want to compile ogr with SDE included in.

Otherwise you might also build the SDE driver as a plugin.

Best regards,

Tamas



2007/12/10, Simon Perkins <sy@perkins.net>:
> Hi,
>
> I'm having problems compiling GDAL/OGR with ArcSDE read support. I have
> the ArcSDE 9.2 SDK installed, and have edited the nmake.opt file to
> point to the appropriate places. Compile seems to work OK, but I end up
> with an OGR that doesn't seem to have ArcSDE support enabled. For
> instance, ogrinfo --formats doesn't list ArcSDE as a supported format.
> Also when tracing through the ogrinfo executable in Visual Studio, in
> the body of OGRRegisterAll(), the line which calls RegisterOGRSDE() is
> never reached, seeming to indicate that the SDE_ENABLED compile time
> define is not set.
>
> I'm using Visual Studio 2005 on Windows Vista with the latest GDAL from
> Subversion.
>
> Here are the relevant lines from nmake.opt.
>
> SDE_ENABLED = YES
> SDE_VERSION=92
> SDE_PLUGIN = NO
> SDE_SDK = C:\arcgis\arcsde
> SDE_INC = $(SDE_SDK)\include
> SDE_LIB = $(SDE_SDK)\lib\pe.lib \
>           $(SDE_SDK)\lib\sde.lib $(SDE_SDK)\lib\sg.lib
>
>
> I'm still investigating, but wondered if anyone had any ideas?
>
> Cheers,
>
> Sy
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From BGreene at rapidmap.com  Mon Dec 10 18:11:28 2007
From: BGreene at rapidmap.com (Ben Greene)
Date: Mon Dec 10 18:13:26 2007
Subject: [gdal-dev] Something like gdal_rasterize for shp polylines
Message-ID: <29C3A52E0876C94C97BD6443FA96F733026BEE09DF@rms03.rapidmap.local>

Hi,

I have a number of raster tiles (the NASA blue marble image), and the country border data extracted from VMAP0 into polyline shapefiles.
I'm trying to overlay the border data onto the tiles, and gdal_rasterize looks like exactly what I'm after, but it only seems to draw polygons.

Is there any way to get gdal_rasterize to draw polylines, or another GDAL utility that can do what I'm after?

Thanks,
Ben Greene
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071211/5fea6393/attachment.html
From randre at gmail.com  Mon Dec 10 19:48:46 2007
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Mon Dec 10 19:48:57 2007
Subject: [gdal-dev] Strange proj.4 problem with ogr2ogr
In-Reply-To: <9c2015090712101619mf28fdb9ue97f0a41e101814b@mail.gmail.com>
References: <9c2015090712101619mf28fdb9ue97f0a41e101814b@mail.gmail.com>
Message-ID: <9c2015090712101648r7a823feeg7aa10cf1613b93aa@mail.gmail.com>

I'm having an interesting problem when trying to use ogr2ogr to reproject
from one coordinate system to another.  What makes it interesting is that
gdalwarp works properly on the same system.  With ogr2ogr I get an error
that says,

"ERROR 6: Unable to load PROJ.4 library (libproj.dll), creation of
OGRCoordinateTransformation failed.
Failed to create coordinate transformation between the
following coordinate systems.  This may be because they
are not transformable, or because projection services
(PROJ.4 DLL/.so) could not be loaded."

gdalwarp happily reprojects between the same src and target projections, so
I'm a bit confused now.  Do gdal and ogr access the proj.4 libs in different
ways?

I'm using gdal-1.4.2 and proj-4.5.0 compiled from source and using static
proj.4 libs.

Thanks,

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071210/0b56847e/attachment.html
From warmerdam at pobox.com  Mon Dec 10 19:59:52 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 10 20:00:08 2007
Subject: [gdal-dev] Strange proj.4 problem with ogr2ogr
In-Reply-To: <9c2015090712101648r7a823feeg7aa10cf1613b93aa@mail.gmail.com>
References: <9c2015090712101619mf28fdb9ue97f0a41e101814b@mail.gmail.com>
	<9c2015090712101648r7a823feeg7aa10cf1613b93aa@mail.gmail.com>
Message-ID: <475DE108.4010004@pobox.com>

Roger Andr? wrote:
> I'm having an interesting problem when trying to use ogr2ogr to 
> reproject from one coordinate system to another.  What makes it 
> interesting is that gdalwarp works properly on the same system.  With 
> ogr2ogr I get an error that says,
> 
> "ERROR 6: Unable to load PROJ.4 library (libproj.dll), creation of
> OGRCoordinateTransformation failed.
> Failed to create coordinate transformation between the
> following coordinate systems.  This may be because they
> are not transformable, or because projection services
> (PROJ.4 DLL/.so) could not be loaded."

Roger,

GDAL and OGR both use the OGRCoordinateTransformation class to load
and call PROJ.4.  So I can't explain the behaviour you are seeing.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Mon Dec 10 20:05:22 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 10 20:05:50 2007
Subject: [gdal-dev] Something like gdal_rasterize for shp polylines
In-Reply-To: <29C3A52E0876C94C97BD6443FA96F733026BEE09DF@rms03.rapidmap.local>
References: <29C3A52E0876C94C97BD6443FA96F733026BEE09DF@rms03.rapidmap.local>
Message-ID: <475DE252.40403@pobox.com>

Ben Greene wrote:
> Hi,
> 
>  
> 
> I have a number of raster tiles (the NASA blue marble image), and the 
> country border data extracted from VMAP0 into polyline shapefiles.
> 
> I?m trying to overlay the border data onto the tiles, and gdal_rasterize 
> looks like exactly what I?m after, but it only seems to draw polygons.
> 
>  
> 
> Is there any way to get gdal_rasterize to draw polylines, or another 
> GDAL utility that can do what I?m after?

Ben,

gdal_rasterize just doesn't support points and lines. I'm hesitant to add
because pretty soon you get into complex issues of rendering pretty linestyles,
symbols etc.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Chris.Barker at noaa.gov  Mon Dec 10 20:18:05 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon Dec 10 20:16:24 2007
Subject: [gdal-dev] Something like gdal_rasterize for shp polylines
In-Reply-To: <475DE252.40403@pobox.com>
References: <29C3A52E0876C94C97BD6443FA96F733026BEE09DF@rms03.rapidmap.local>
	<475DE252.40403@pobox.com>
Message-ID: <475DE54D.5020508@noaa.gov>

Frank Warmerdam wrote:
> gdal_rasterize just doesn't support points and lines. I'm hesitant to add

It's the right call. "GDAL is not a renderer" (tm). We have MapServer, 
Mapnik, etc for that.

-CHB


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From dylan.beaudette at gmail.com  Mon Dec 10 20:38:21 2007
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Mon Dec 10 20:30:10 2007
Subject: [gdal-dev] Something like gdal_rasterize for shp polylines
In-Reply-To: <475DE54D.5020508@noaa.gov>
References: <29C3A52E0876C94C97BD6443FA96F733026BEE09DF@rms03.rapidmap.local>
	<475DE252.40403@pobox.com> <475DE54D.5020508@noaa.gov>
Message-ID: <200712101738.21950.dylan.beaudette@gmail.com>

On Monday 10 December 2007, Christopher Barker wrote:
> Frank Warmerdam wrote:
> > gdal_rasterize just doesn't support points and lines. I'm hesitant to add
>
> It's the right call. "GDAL is not a renderer" (tm). We have MapServer,
> Mapnik, etc for that.
>
> -CHB

Yes. GRASS is an excellent tool for rasterizing vector features.

cheers,

-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From warmerdam at pobox.com  Tue Dec 11 01:10:10 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 11 01:10:23 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
Message-ID: <475E29C2.6050805@pobox.com>

Folks,

I have cut GDAL 1.5.0 Beta 2.  If all goes well, this will be the last beta
before a release candidate is cut circa December 18th.

   http://download.osgeo.org/gdal/gdal-1.5.0b2.tar.gz
   http://download.osgeo.org/gdal/gdal150b2.zip

Users and developers are encouraged to add feedback on things that have
tested in the test matrix at:

   http://trac.osgeo.org/gdal/wiki/TestMatrix150

Feedback is especially important for things that no one else seems to be
testing (exotic drivers, operating systems, etc)

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec 11 01:19:03 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 11 01:19:20 2007
Subject: [gdal-dev] Release Commit Restrictions
Message-ID: <475E2BD7.4030707@pobox.com>

GDAL Developers,

With GDAL Beta2 released, I would like to put in place some temporary
restrictions on commits to GDAL trunk.

1) No code or build structure commit without an associated Trac ticket.
    The ticket should be referenced in the commit message as we normally do.
    Documentation and test suite changes do not have this restriction.

2) This is the wrong time to tidy up the source tree.  ie. the wrong time for
    fixing warnings just for neatness sake, or re-indenting code, or making
    configure message strings line up nicely.

3) Please contact me about any changes you want to make that you are in any
    way not confident about.  And if you are confident, are you sure you should?
    I'd like an opportunity to defer activity that I consider risky and of low
    value till after the 1.5.0 release.

4) No public API or ABI changes without consulting with me first.

Basically we should be applying the sort of restrictions that would apply
in a stable branch until the release candidate is cut at which point I'll
branch 1.5 and we can go nuts in trunk again.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From hobu.inc at gmail.com  Tue Dec 11 02:24:13 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue Dec 11 02:25:09 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
In-Reply-To: <475E29C2.6050805@pobox.com>
References: <475E29C2.6050805@pobox.com>
Message-ID: <78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>

I would like to add that source and binary Python bindings are up on  
PyPi

http://pypi.python.org/pypi/GDAL/

Windows eggs and .exe's are built for 2.4 and 2.5, but you'll need a  
gdal15.dll to go along with them.

I have been very pleased with PyPi, and I would like to hear opinions  
of what people think of us using PyPi as the primary distribution  
point for the GDAL Python bindings.

Howard

On Dec 11, 2007, at 12:10 AM, Frank Warmerdam wrote:

> Folks,
>
> I have cut GDAL 1.5.0 Beta 2.  If all goes well, this will be the  
> last beta
> before a release candidate is cut circa December 18th.
>
>  http://download.osgeo.org/gdal/gdal-1.5.0b2.tar.gz
>  http://download.osgeo.org/gdal/gdal150b2.zip
>
> Users and developers are encouraged to add feedback on things that  
> have
> tested in the test matrix at:
>
>  http://trac.osgeo.org/gdal/wiki/TestMatrix150
>
> Feedback is especially important for things that no one else seems  
> to be
> testing (exotic drivers, operating systems, etc)
>
> Best regards,
> -- 
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ivan at theory.asu.ru  Tue Dec 11 03:52:01 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Tue Dec 11 04:12:40 2007
Subject: [gdal-dev] ``HDF4Image: Can't get the list of geolocation maps in
	swath mod07''
In-Reply-To: <867ikkf2oh.fsf@th2.phys.asu.ru>
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru>
Message-ID: <86y7c1txzi.fsf_-_@th2.phys.asu.ru>

$ nl -ba gdal/frmts/hdf4/hdf4imagedataset.cpp 
...
  1641	    papszGeolocations = CSLTokenizeString2( pszGeoList, ",",
  1642	                                            CSLT_HONOURSTRINGS );
  1643	    // Read geolocation data
  1644	    nDimMaps = SWnentries( hSW, HDFE_NENTMAP, &nStrBufSize );

	Shouldn't there `HDFE_NENTGFLD' be used instead?

  1645	    pszDimMaps = (char *)CPLMalloc( nStrBufSize + 1 );
  1646	    paiOffset = (int32 *)CPLMalloc( nDimMaps * sizeof(int32) );
  1647	    memset( paiOffset, 0, nDimMaps * sizeof(int32) );
  1648	    paiIncrement = (int32 *)CPLMalloc( nDimMaps * sizeof(int32) );
  1649	    memset( paiIncrement, 0, nDimMaps * sizeof(int32) );
...
$ 

	Perhaps, it causes the following:

$ CPL_DEBUG=ON GEOL_AS_GCPS=FULL \
      gdal_translate \
          'HDF4_EOS:EOS_SWATH:"MOD07_L2.hdf":mod07:Tropopause_Height' \
          mod07-l2.tropopause-height.tiff 
...
HDF4Image: Can't get the list of geolocation maps in swath mod07
...
$ 

	(Of course, both `Latitude' and `Longitude' fields are there.)
From oneingray at gmail.com  Tue Dec 11 05:08:14 2007
From: oneingray at gmail.com (Ivan Shmakov)
Date: Tue Dec 11 05:08:17 2007
Subject: [gdal-dev] Re: ``HDF4Image: Can't get the list of geolocation maps
	in swath mod07''
In-Reply-To: <86y7c1txzi.fsf_-_@th2.phys.asu.ru>
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru> <86y7c1txzi.fsf_-_@th2.phys.asu.ru>
Message-ID: <b1e3a35f0712110208p9109094l6f88209ebfe3baf5@mail.gmail.com>

        Oops, apparently I've been looking on the wrong part of the
        source.  (Going to investigate the ``MODIS L2'' problem further
        using GDB...)

        Sorry for a false alarm.
From dron at ak4719.spb.edu  Tue Dec 11 05:10:55 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Tue Dec 11 05:19:52 2007
Subject: [gdal-dev] ``HDF4Image: Can't get the list of geolocation maps in
	swath mod07''
In-Reply-To: <86y7c1txzi.fsf_-_@th2.phys.asu.ru>
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru>
	<86y7c1txzi.fsf_-_@th2.phys.asu.ru>
Message-ID: <20071211101055.GA31760@ak4719.spb.edu>

On Tue, Dec 11, 2007 at 02:52:01PM +0600, Ivan Shmakov wrote:
> $ nl -ba gdal/frmts/hdf4/hdf4imagedataset.cpp 
> ...
>   1641	    papszGeolocations = CSLTokenizeString2( pszGeoList, ",",
>   1642	                                            CSLT_HONOURSTRINGS );
>   1643	    // Read geolocation data
>   1644	    nDimMaps = SWnentries( hSW, HDFE_NENTMAP, &nStrBufSize );
> 
> 	Shouldn't there `HDFE_NENTGFLD' be used instead?
> 
>   1645	    pszDimMaps = (char *)CPLMalloc( nStrBufSize + 1 );
>   1646	    paiOffset = (int32 *)CPLMalloc( nDimMaps * sizeof(int32) );
>   1647	    memset( paiOffset, 0, nDimMaps * sizeof(int32) );
>   1648	    paiIncrement = (int32 *)CPLMalloc( nDimMaps * sizeof(int32) );
>   1649	    memset( paiIncrement, 0, nDimMaps * sizeof(int32) );
> ...
> $ 
> 
> 	Perhaps, it causes the following:
> 
> $ CPL_DEBUG=ON GEOL_AS_GCPS=FULL \
>       gdal_translate \
>           'HDF4_EOS:EOS_SWATH:"MOD07_L2.hdf":mod07:Tropopause_Height' \
>           mod07-l2.tropopause-height.tiff 
> ...
> HDF4Image: Can't get the list of geolocation maps in swath mod07

Ivan,

Could you make your HDF file available? I think the real problem is
somwhere else.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From oneingray at gmail.com  Tue Dec 11 06:14:53 2007
From: oneingray at gmail.com (Ivan Shmakov)
Date: Tue Dec 11 06:14:56 2007
Subject: [gdal-dev] ``HDF4Image: Can't get the list of geolocation maps in
	swath mod07''
In-Reply-To: <20071211101055.GA31760@ak4719.spb.edu>
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru> <86y7c1txzi.fsf_-_@th2.phys.asu.ru>
	<20071211101055.GA31760@ak4719.spb.edu>
Message-ID: <b1e3a35f0712110314ub20d42sc8d094194237d2ce@mail.gmail.com>

>>>>> Andrey Kiselev <dron@ak4719.spb.edu> writes:

[...]

 >> Perhaps, it causes the following:

 >> $ CPL_DEBUG=ON GEOL_AS_GCPS=FULL \
 >>       gdal_translate \
 >>           'HDF4_EOS:EOS_SWATH:"MOD07_L2.hdf":mod07:Tropopause_Height' \
 >>           mod07-l2.tropopause-height.tiff
 >> ...
 >> HDF4Image: Can't get the list of geolocation maps in swath mod07
 >> ...

 > Ivan,

 > Could you make your HDF file available?

        Surely.

http://theory.asu.ru/~ivan/modis/MOD07_L2.hdf

 > I think the real problem is somwhere else.

        Indeed, it is.

        I've tried to trace the problem and have stumbled upon the
        following.

$ nl -ba gdal/frmts/hdf4/hdf4imagedataset.cpp
...
  1608  /* --------------------------------------------------------------------
*/
  1609  /*      xx
         */
  1610  /* --------------------------------------------------------------------
*/
  1611      nDataFields = SWnentries( hSW, HDFE_NENTGFLD, &nStrBufSize );

        This call correctly returns `2'...

...
  1615      if ( nDataFields !=
  1616           SWinqgeofields(hSW, pszGeoList, paiRank, paiNumType) )

        ... and this one fills `pszGeoList' with `Latitude,Longitude'.

  1617      {
...
  1621      }
...
  1643      // Read geolocation data
  1644      nDimMaps = SWnentries( hSW, HDFE_NENTMAP, &nStrBufSize );

        However, there `0' is returned...

...
  1652      if ( nDimMaps == 0
  1653           || nDimMaps != SWinqmaps(hSW, pszDimMaps, paiOffset,
paiIncrement) )
  1654      {
  1655          CPLDebug( "HDF4Image",
  1656                    "Can't get the list of geolocation maps in swath %s",
  1657                    pszSubdatasetName );

        ... which leads to this message being printed...

  1658      }
...
  1683      papszDimMap = CSLTokenizeString2( pszDimMaps, ",",
  1684                                        CSLT_HONOURSTRINGS );
  1685      CPLFree( pszDimMaps );
  1686      pszDimMaps = NULL;
  1687      pszDimMaps = NULL;
  1688      for ( i = 0; i < CSLCount(papszDimMap); i++ )
  1689      {

        ... and for this body to be never executed.

  1690          if ( strstr(papszDimMap[i], papszDimList[iXDim]) )
  1691          {
  1692              strncpy( szPixel, papszDimList[iXDim], 8192 );
  1693              strncpy( szXGeo, papszDimMap[i], 8192 );
...
  1697          }
  1698          else if ( strstr(papszDimMap[i], papszDimList[iYDim]) )
  1699          {
  1700              strncpy( szLine, papszDimList[iYDim], 8192 );
  1701              strncpy( szYGeo, papszDimMap[i], 8192 );
...
  1705          }

        So, both `szXGeo' and `szYGeo' are never touched...

  1706      }
  1707      CSLDestroy( papszDimMap );
  1708      papszDimMap = NULL;
  1709      papszDimMap = NULL;
  1710      for ( i = 0; i < CSLCount(papszGeolocations); i++ )
  1711      {
  1712          char    **papszGeoDimList = NULL;
  1713          char    **papszGeoDimList = NULL;
  1714          SWfieldinfo( hSW, papszGeolocations[i], &iRank,
  1715                       aiDimSizes, &iWrkNumType, szGeoDimList );
  1716          papszGeoDimList = CSLTokenizeString2( szGeoDimList,
  1717                                                ",", CSLT_HONOURSTRINGS );
  1718                                                ",", CSLT_HONOURSTRINGS );
  1719  #if DEBUG
  1720          CPLDebug( "HDF4Image",
  1721                    "List of dimensions in geolocation field %s: %s",
  1722                    papszGeolocations[i], szGeoDimList );
  1723  #endif
  1724  #endif
  1725          if (szXGeo[0] == 0 || szYGeo[0] == 0)
  1726              return FALSE;

        ... and the function does return here.

  1727  ... and the function does return here.
  1728          nXPoints = aiDimSizes[CSLFindString( papszGeoDimList, szXGeo )];
  1729          nYPoints = aiDimSizes[CSLFindString( papszGeoDimList, szYGeo )];
...
$
From cheynm at yahoo.com  Tue Dec 11 11:04:29 2007
From: cheynm at yahoo.com (Mark Cheyne)
Date: Tue Dec 11 11:04:30 2007
Subject: [gdal-dev] using OGR/OSR from C# - where to put the dependent DLLs?
Message-ID: <228614.54153.qm@web32903.mail.mud.yahoo.com>

Hello - I'm sure this is a common question, but I
haven't found a definitive treatment on the OGR
website or in the GDAL mailing list archives.

I'm working on a C# app on Windows that does
coordinate transformations using the
OSGeo.OSR.SpatialReference class. My app references
osr_csharp.dll.

Bottom line, what do I need to do so that the DLLs
that osr_csharp.dll is dependent on are available at
run-time?

Only if I copy all 61 DLLs found in C:\Program
Files\FWTools2.0.0\bin to my app's directory does my
app work. However, for a variety of reasons,
especially unit testing, I'd prefer to find an
alternative, if one exists.

I've seen
http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpUsage and
http://trac.osgeo.org/gdal/wiki/GdalOgrInCsharp which
say that adding C:\Program Files\FWTools2.0.0\bin\ to
my PATH env var is enough - nope. 

I've seen somewhere that I could copy all 61 DLLs
found in C:\Program Files\FWTools2.0.0\bin to my
System32 directory - that doesn't work either.

If the dependent DLLs are not found, at runtime I get
the following exception when I call the
SpatialReference constructor: "The type initializer
for 'OSGeo.OSR.OsrPINVOKE' threw an exception.". The
innermost exception is what you'd expect -
"System.DllNotFoundException: Unable to load DLL
'osr_wrap': The operating system cannot run."

Thank you, Mark

Mark Cheyne
(608) 332-2235 (cell)


      ____________________________________________________________________________________
Never miss a thing.  Make Yahoo your home page. 
http://www.yahoo.com/r/hs
From dron at ak4719.spb.edu  Tue Dec 11 11:58:40 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Tue Dec 11 12:02:52 2007
Subject: [gdal-dev] ``HDF4Image: Can't get the list of geolocation maps in
	swath mod07''
In-Reply-To: <b1e3a35f0712110314ub20d42sc8d094194237d2ce@mail.gmail.com>
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru>
	<86y7c1txzi.fsf_-_@th2.phys.asu.ru>
	<20071211101055.GA31760@ak4719.spb.edu>
	<b1e3a35f0712110314ub20d42sc8d094194237d2ce@mail.gmail.com>
Message-ID: <20071211165840.GA1237@ak4719.spb.edu>

On Tue, Dec 11, 2007 at 06:14:53PM +0700, Ivan Shmakov wrote:
> http://theory.asu.ru/~ivan/modis/MOD07_L2.hdf
> 
>  > I think the real problem is somwhere else.
> 
>         Indeed, it is.
> 
>         I've tried to trace the problem and have stumbled upon the
>         following.
> 
> $ nl -ba gdal/frmts/hdf4/hdf4imagedataset.cpp
> ...
>   1608  /* --------------------------------------------------------------------
> */
>   1609  /*      xx
>          */
>   1610  /* --------------------------------------------------------------------
> */
>   1611      nDataFields = SWnentries( hSW, HDFE_NENTGFLD, &nStrBufSize );
> 
>         This call correctly returns `2'...
> 
> ...
>   1615      if ( nDataFields !=
>   1616           SWinqgeofields(hSW, pszGeoList, paiRank, paiNumType) )
> 
>         ... and this one fills `pszGeoList' with `Latitude,Longitude'.
> 
>   1617      {
> ...
>   1621      }
> ...
>   1643      // Read geolocation data
>   1644      nDimMaps = SWnentries( hSW, HDFE_NENTMAP, &nStrBufSize );
> 
>         However, there `0' is returned...

Yes, and that is correct, because your HDF file does not contain
dimension maps, i.e. it is slightly broken dataset.

I should admit that I can't fix this thing without either serious
reworking the HDF-EOS library logic or hardcoding the workaround into
the driver (thing that I hate to do, because there are too many variants
of HDF-EOS products and our driver already full of such things).

I have filled the bug report on this topic:

 http://trac.osgeo.org/gdal/ticket/2079

Feel free to add yourself to CC: list to be informed on progress. I am
afraid that I will not be fixed in 1.5 branch.

Best regards,
Andrey


-- 
Andrey V. Kiselev
ICQ# 26871517
From odonnems at yahoo.com  Tue Dec 11 12:12:50 2007
From: odonnems at yahoo.com (Michael ODonnell)
Date: Tue Dec 11 12:12:55 2007
Subject: [gdal-dev] GDAL-1.5.0b2.win32-py2.5.exe install problems
Message-ID: <940221.38808.qm@web58008.mail.re3.yahoo.com>

Has anyone had a chance to install the new release of the gdal windows installer. I tried to install it but I get an error when I import. Cannot find _gdal.

Traceback (most recent call last):
  File "<interactive input>", line 1, in <module>
  File "C:\Python25\Lib\site-packages\gdal.py", line 2, in <module>
    from osgeo.gdal import deprecation_warn
  File "C:\Python25\Lib\site-packages\osgeo\gdal.py", line 7, in <module>
    import _gdal
ImportError: DLL load failed: The specified module could not be found.

The file obviously exists so I am thinking there is a problem with the format or something.

Howard and developer team, thanks for working on a gdal version for python 25. I have been trying to get an older version to work with python 2.5 and realized a lot of changes were required and it was a bit over my head at this time. Anyhow, thank you for the efforts.


Michael





      ____________________________________________________________________________________
Looking for last minute shopping deals?  
Find them fast with Yahoo! Search.  http://tools.search.yahoo.com/newsearch/category.php?category=shopping
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071211/90e5143a/attachment.html
From matt.wilkie at gov.yk.ca  Tue Dec 11 12:16:38 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Dec 11 12:22:22 2007
Subject: [gdal-dev] playing catchup, change of list address
Message-ID: <475EC5F6.6000602@gov.yk.ca>

Hi Folks,

When investigating why everyone was apparently ignoring my questions of 
the last week or so I discovered that even though I'd changed my 
Thunderbid address book entry for gdal-dev from @list.maptools.org to 
@lists.osgeo.org the old one was still hanging about in 'Collected 
Addresses'.  Sooo, if anyone else is experiencing unexpected silence, it 
might be a good idea to check what you are actually sending before 
concluding you've somehow placed yourself on the ignore-the-bozo list. :)

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From matt.wilkie at gov.yk.ca  Tue Dec 11 12:17:08 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Dec 11 12:25:25 2007
Subject: [gdal-dev] Review 'Optimal LZW compression' please
Message-ID: <475EC614.6040508@gov.yk.ca>

Hi Folks,

http://trac.osgeo.org/gdal/wiki/UserDocs/GeoTiff#OptimalLZWCompression


I've added a section to the wiki on Optimal LZW compression. Please
review for accuracy and completeness. Thanks!

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From matt.wilkie at gov.yk.ca  Tue Dec 11 12:17:33 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Dec 11 12:25:40 2007
Subject: [gdal-dev] epsg:nnnn results differ from +proj=....
Message-ID: <475EC62D.8060203@gov.yk.ca>

dear gdal,

If I assign a projection using an epsg code I get a different result
from gdalinfo than if I assign using the proj4 parameters. Shouldn't the
results be the same?


The proj4 text shown was copied verbatim out of
%fwtools_dir%\proj_lib\epsg for the entry <3578>


----------------------
GDAL 1.5.0b1, FWTools 2.0.2, released 2007/12/05

gdal_translate source.tif test-epsg.tif -a_srs EPSG:3578

gdal_translate source.tif test-proj4.tif -a_srs "+proj=aea
+lat_1=61.66666666666666 +lat_2=68 +lat_0=59 +lon_0=-132.5 +x_0=500000
+y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs"

gdalinfo test-epsg.tif
...snip...
Coordinate System is:
PROJCS["NAD83 / Yukon Albers",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.2572221010002,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4269"]],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","3578"]]

gdalinfo test-proj4.tif
...snip...
Coordinate System is:
PROJCS["unnamed",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.2572221010002,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4269"]],
     PROJECTION["Albers_Conic_Equal_Area"],
     PARAMETER["standard_parallel_1",61.66666666666666],
     PARAMETER["standard_parallel_2",68],
     PARAMETER["latitude_of_center",59],
     PARAMETER["longitude_of_center",-132.5],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",500000],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
...snip...
----------------------






-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From matt.wilkie at gov.yk.ca  Tue Dec 11 12:18:54 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Dec 11 12:25:43 2007
Subject: [Fwd: Re: [Gdal-dev] The perfect raster format - which is it?]
Message-ID: <475EC67E.1000405@gov.yk.ca>

-------- Original Message --------
Subject: Re: [Gdal-dev] The perfect raster format - which is it?
Date: Tue, 27 Nov 2007 12:19:09 -0800
From: Matt Wilkie <matt.wilkie@gov.yk.ca>
To: Tim Sutton <tim@linfiniti.com>
CC: gdal-dev@lists.maptools.org

Hi Tim,

> Tiff is our second choice but the compression seems to require some
> kind of plugin in ArcMap so thats a bit of a bind...and the 4GB file
> size limit is sometimes hit due to inability to use compression  :-(

If you are using tiff with LZW compression, then the ESRI users prior to
ArcGIS v9.2 need the the LZW plugin, which used to cost money but is now
free (http://tinyurl.com/6l2q4 - HowTo: Use TIFF/LZW or GIF image files
in ESRI products now that the UNISYS patent for LZW has expired)

Packbits compession should work with all versions, though Arcview3 users
may need to enable one of the image reader extensions (installed by
default but not enabled, it's called "TIFF 6.0 Image Support").

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From matt.wilkie at gov.yk.ca  Tue Dec 11 12:17:22 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Dec 11 12:25:43 2007
Subject: [gdal-dev] gdalwarp puts negative in front of target height
Message-ID: <475EC622.8080803@gov.yk.ca>

dear gdal,

I'm attempting to mosaic a large set of images together using gdalwarp,
but when I use the target resolution (-tr) parameter I get the error
below. However if I drop -tr and use target size (-ts) instead it works.

Works:

  gdalwarp ...snip... -te 88566.821279156 1594588.80496717
533067.710280934 1023087.66196489 -ts 21000 27000 ...snip...

Creating output file that is 21000P x 27000L.
Processing input file N60-W138_ul.tif.


Doesn't:

  gdalwarp ...snip... -te 88566.821279156 1594588.80496717
533067.710280934 1023087.66196489 -tr 21.166883334184629
21.166883334184629 ...snip...

Creating output file that is 21000P x -26999L.
ERROR 1: Attempt to create 21000x-26999x3 TIFF file, but width, height
and bands must be positive.



GDAL 1.5dev, FWTools 1.4.2, released 2007/11/05


Is this a bug or intended behaviour? I didn't specify any negative
numbers but for some reason it's getting them anyway.

thanks,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From Chris.Barker at noaa.gov  Tue Dec 11 12:41:42 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Tue Dec 11 12:40:00 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
In-Reply-To: <78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>
References: <475E29C2.6050805@pobox.com>
	<78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>
Message-ID: <475ECBD6.2070609@noaa.gov>

Howard Butler wrote:
> I would like to add that source and binary Python bindings are up on PyPi
> 
> http://pypi.python.org/pypi/GDAL/

Thanks!

> I have been very pleased with PyPi, and I would like to hear opinions of 
> what people think of us using PyPi as the primary distribution point for 
> the GDAL Python bindings.

+1

Now we just need to get OS-X eggs up there....

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From randre at gmail.com  Tue Dec 11 12:52:55 2007
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Tue Dec 11 12:52:59 2007
Subject: [gdal-dev] Strange proj.4 problem with ogr2ogr
In-Reply-To: <475DE108.4010004@pobox.com>
References: <9c2015090712101619mf28fdb9ue97f0a41e101814b@mail.gmail.com>
	<9c2015090712101648r7a823feeg7aa10cf1613b93aa@mail.gmail.com>
	<475DE108.4010004@pobox.com>
Message-ID: <9c2015090712110952m2199d68br41c661dfa52fba12@mail.gmail.com>

Well, the mystery deepens, as the following script using osr for
reprojection works:

#! /usr/bin/python

import ogr
import osr

# CREATE WKT STRING OF POINT COORDS
sample = (' 776041.000', '3386618.000')
x = sample[0]
y = sample[1]
wkt = 'POINT(%s %s)' % (x, y)

# CREATE PROJECTION OBJECTS
utm16N = osr.SpatialReference ()
utm16N.ImportFromEPSG(26916)
wgs84 = osr.SpatialReference()
wgs84.ImportFromEPSG(4326)

# CREATE OGR POINT OBJECT, ASSIGN PROJECTION, REPROJECT
point = ogr.CreateGeometryFromWkt(wkt)
point.AssignSpatialReference(utm16N)
point.TransformTo(wgs84)

print wkt
print point

--> output:
POINT( 776041.000 3386618.000)
POINT (-84.121611219545088 30.5802861582041)

I wonder, maybe I'm just being dumb and am using incorrect usgae syntax for
ogrtoogr?  Here's the command I gave:

ogr2ogr -t_srs "EPSG:4326" 4326_pot2kcl_combined.shp pot2kcl_combined.shp

--> output:
ERROR 6: Unable to load PROJ.4 library (libproj.dll), creation of
OGRCoordinateTransformation failed.
Failed to create coordinate transformation between the
following coordinate systems.  This may be because they
are not transformable, or because projection services
(PROJ.4 DLL/.so) could not be loaded.
Source:
PROJCS["NAD_1983_HARN_StatePlane_Washington_South_FIPS_4602",
    GEOGCS["GCS_North_American_1983_HARN",
        DATUM["NAD83_High_Accuracy_Regional_Network",
            SPHEROID["GRS_1980",6378137.0,298.257222101]],
        PRIMEM["Greenwich",0.0],
        UNIT["Degree", 0.0174532925199433]],
    PROJECTION["Lambert_Conformal_Conic_2SP"],
    PARAMETER["False_Easting",1640416.666666667],
    PARAMETER["False_Northing",0.0],
    PARAMETER["Central_Meridian",- 120.5],
    PARAMETER["Standard_Parallel_1",45.83333333333334],
    PARAMETER["Standard_Parallel_2",47.33333333333334],
    PARAMETER["Latitude_Of_Origin",45.33333333333334],
    UNIT["Foot_US", 0.3048006096012192]]
Target:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.01745329251994328 ,
        AUTHORITY["EPSG","9122"]],
    AUTHORITY["EPSG","4326"]]
---



On Dec 10, 2007 4:59 PM, Frank Warmerdam < warmerdam@pobox.com> wrote:

> Roger Andr? wrote:
> > I'm having an interesting problem when trying to use ogr2ogr to
> > reproject from one coordinate system to another.  What makes it
> > interesting is that gdalwarp works properly on the same system.  With
> > ogr2ogr I get an error that says,
> >
> > "ERROR 6: Unable to load PROJ.4 library (libproj.dll), creation of
> > OGRCoordinateTransformation failed.
> > Failed to create coordinate transformation between the
> > following coordinate systems.  This may be because they
> > are not transformable, or because projection services
> > (PROJ.4 DLL/.so) could not be loaded."
>
> Roger,
>
> GDAL and OGR both use the OGRCoordinateTransformation class to load
> and call PROJ.4.  So I can't explain the behaviour you are seeing.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071211/833a50e8/attachment-0001.html
From warmerdam at pobox.com  Tue Dec 11 13:05:28 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 11 13:05:46 2007
Subject: [gdal-dev] epsg:nnnn results differ from +proj=....
In-Reply-To: <475EC62D.8060203@gov.yk.ca>
References: <475EC62D.8060203@gov.yk.ca>
Message-ID: <475ED168.1010905@pobox.com>

Matt Wilkie wrote:
> dear gdal,
> 
> If I assign a projection using an epsg code I get a different result
> from gdalinfo than if I assign using the proj4 parameters. Shouldn't the
> results be the same?
> 
> 
> The proj4 text shown was copied verbatim out of
> %fwtools_dir%\proj_lib\epsg for the entry <3578>
> 
> 
> ----------------------
> GDAL 1.5.0b1, FWTools 2.0.2, released 2007/12/05
> 
> gdal_translate source.tif test-epsg.tif -a_srs EPSG:3578
> 
> gdal_translate source.tif test-proj4.tif -a_srs "+proj=aea
> +lat_1=61.66666666666666 +lat_2=68 +lat_0=59 +lon_0=-132.5 +x_0=500000
> +y_0=500000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs"

Matt,

There are surprisingly different approaches used in these two cases.

Basically, when you wrote based on EPSG:3578, the geotiff file was
written with the EPSG code instead of the detailed parameters.  But
unfortunately libgeotiff does not support reading Albers based projections
from the EPSG tables (even though GDAL does know how).  This is an omission
in the libgeotiff library.  The result is a failure to read the geotiff
file back properly.

The proj.4 case does not have the EPSG # in the definition, so GDAL just
writes a geotiff with all the parameters encoded instead of assuming the
reading application can get them from the EPSG dataset.  This works fairly
well, but lacks nice stuff like coordinate system names.

I have committed a fix in libgeotiff to support Albers, and I have
pulled that into GDAL's internal copy of libgeotiff. So the 1.5.0 release
should work properly (as will future FWTools builds).  Unfortunately
libgeotiff based software, including GDAL and ArcGIS is likely to continue
having problems with the new Yukon coordinate system definitions from
GeoTIFF files for some time to come till this libgeotiff fix percolates
through the software ecology.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec 11 13:10:14 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 11 13:10:29 2007
Subject: [gdal-dev] gdalwarp puts negative in front of target height
In-Reply-To: <475EC622.8080803@gov.yk.ca>
References: <475EC622.8080803@gov.yk.ca>
Message-ID: <475ED286.9010408@pobox.com>

Matt Wilkie wrote:
> dear gdal,
> 
> I'm attempting to mosaic a large set of images together using gdalwarp,
> but when I use the target resolution (-tr) parameter I get the error
> below. However if I drop -tr and use target size (-ts) instead it works.
> 
> Works:
> 
>  gdalwarp ...snip... -te 88566.821279156 1594588.80496717
> 533067.710280934 1023087.66196489 -ts 21000 27000 ...snip...
> 
> Creating output file that is 21000P x 27000L.
> Processing input file N60-W138_ul.tif.
> 
> 
> Doesn't:
> 
>  gdalwarp ...snip... -te 88566.821279156 1594588.80496717
> 533067.710280934 1023087.66196489 -tr 21.166883334184629
> 21.166883334184629 ...snip...
> 
> Creating output file that is 21000P x -26999L.
> ERROR 1: Attempt to create 21000x-26999x3 TIFF file, but width, height
> and bands must be positive.

Matt,

The arguments to -te are supposed to be xmin ymin xmax ymax but you have
xmin ymax xmax ymin.  I believe this is responsible, though I'm a bit
surprised that it only affects one scenario and not the other.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From sophia.parafina at ionicenterprise.com  Tue Dec 11 13:27:31 2007
From: sophia.parafina at ionicenterprise.com (Sophia Parafina)
Date: Tue Dec 11 13:27:34 2007
Subject: [gdal-dev] Problems with reading large NITF files
In-Reply-To: <475DA11A.4070303@pobox.com>
References: <475D9C07.40404@ionicenterprise.com> <475DA11A.4070303@pobox.com>
Message-ID: <475ED693.1030506@ionicenterprise.com>

Frank Warmerdam wrote:
>
> OpenEV sometimes does a prepass to get a rough histgram so it's behavior
> can be fairly variable.
>
> But gdal_translate (for a one band file) should just read top to bottom.
>
> The problem sounds a bit like you might have built GDAL without large 
> file
> support.  If that happened, it would not (generally) successfully read
> past the 2GB mark and for some drivers it might not even realize that it
> isn't working properly.  What platform is this on?
>
OpenSuse 10 on a dual core 2 duo server.
> In the configure results you are looking specifically for this item:
>
>   checking for 64bit file io... yes
>
OK, it the config logs  say it did, but since the libgdal.so is if 
unknown provenance, I'll try rebuilding it again.
> In particular, getting 64bit io enabled on exotic unix operating systems
> can be a bit of a hassle.
>
> Best regards,
Thanks,

sophia
From hobu.inc at gmail.com  Tue Dec 11 13:27:09 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue Dec 11 13:28:05 2007
Subject: [gdal-dev] GDAL-1.5.0b2.win32-py2.5.exe install problems
In-Reply-To: <940221.38808.qm@web58008.mail.re3.yahoo.com>
References: <940221.38808.qm@web58008.mail.re3.yahoo.com>
Message-ID: <7FE5124B-B048-49D1-BBC8-7F0F2C29D9A6@gmail.com>

Michael,

You need to have a gdal15.dll available in your path to use these.   
Currently, the only way to get one is to build it yourself, but we  
hope to have binaries available soon...

Howard

On Dec 11, 2007, at 11:12 AM, Michael ODonnell wrote:

> Has anyone had a chance to install the new release of the gdal  
> windows installer. I tried to install it but I get an error when I  
> import. Cannot find _gdal.
>
> Traceback (most recent call last):
>   File "<interactive input>", line 1, in <module>
>   File "C:\Python25\Lib\site-packages\gdal.py", line 2, in <module>
>     from osgeo.gdal import deprecation_warn
>   File "C:\Python25\Lib\site-packages\osgeo\gdal.py", line 7, in  
> <module>
>     import _gdal
> ImportError: DLL load failed: The specified module could not be found.
>
> The file obviously exists so I am thinking there is a problem with  
> the format or something.
>
> Howard and developer team, thanks for working on a gdal version for  
> python 25. I have been trying to get an older version to work with  
> python 2.5 and realized a lot of changes were required and it was a  
> bit over my head at this time. Anyhow, thank you for the efforts.
>
>
> Michael
>
>
> Never miss a thing. Make Yahoo your homepage.  
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From matt.wilkie at gov.yk.ca  Tue Dec 11 13:37:07 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Dec 11 13:37:28 2007
Subject: [gdal-dev] epsg:nnnn results differ from +proj=....
In-Reply-To: <475ED168.1010905@pobox.com>
References: <475EC62D.8060203@gov.yk.ca> <475ED168.1010905@pobox.com>
Message-ID: <475ED8D3.4080809@gov.yk.ca>

Thank you for the informative reply Frank. I understand what is 
happening now.

> I have committed a fix in libgeotiff to support Albers, and I have
> pulled that into GDAL's internal copy of libgeotiff. So the 1.5.0 release
> should work properly (as will future FWTools builds).  Unfortunately
> libgeotiff based software, including GDAL and ArcGIS is likely to continue
> having problems with the new Yukon coordinate system definitions from
> GeoTIFF files for some time to come till this libgeotiff fix percolates
> through the software ecology.

Well, I guess my next step is to make a request for enhancement to ESRI 
and hope it doesn't take too long to get actioned. And here I thought 
all we needed to do was get Yukon Albers into the EPSG database and then 
wait a few months... I should know better, I really should ;-)

cheers,


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From woklist at kyngchaos.com  Tue Dec 11 13:54:11 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue Dec 11 13:54:15 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
In-Reply-To: <475ECBD6.2070609@noaa.gov>
References: <475E29C2.6050805@pobox.com>
	<78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>
	<475ECBD6.2070609@noaa.gov>
Message-ID: <D4F6C799-C570-49E2-83D8-BCF44913931C@kyngchaos.com>

For now, one is included in my GDAL framework installer.

I wonder if just a site link can be added to pypi for the available  
binaries for mine? (I'll have b2 ready soon, b1 is built)

I can look into repackaging it standalone, probably one egg for  
Leopard/Python 2.5 and two installers for Tiger/Python 2.5 and Leopard/ 
python 2.5.  No egg for Tiger/Python 2.5 since setuptools isn't  
standard there.

But since the python bindings are closely tied to the GDAL version,  
and in my builds to the OSX version, this may be more hassle than it's  
worth (it's already installed along with the framework in an easy to  
use installer package).  But also, I haven't played with python and  
installing extensions enough to have a good idea if one method works  
better than another.

On Dec 11, 2007, at 11:41 AM, Christopher Barker wrote:

> Howard Butler wrote:
>> I would like to add that source and binary Python bindings are up  
>> on PyPi
>> http://pypi.python.org/pypi/GDAL/
>
> Thanks!
>
>> I have been very pleased with PyPi, and I would like to hear  
>> opinions of what people think of us using PyPi as the primary  
>> distribution point for the GDAL Python bindings.
>
> +1
>
> Now we just need to get OS-X eggs up there....
>
> -Chris
>
>
>
> -- 
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
>
> Chris.Barker@noaa.gov
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no  
particular pleasure I shall kill every ___ I can until the war is  
over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of  
the allied nations devoted an entire year exclusively to hating the  
____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

From ivan at theory.asu.ru  Tue Dec 11 13:55:36 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Tue Dec 11 13:56:00 2007
Subject: [gdal-dev] Re: ``HDF4Image: Can't get the list of geolocation maps
	in swath mod07''
In-Reply-To: <20071211165840.GA1237@ak4719.spb.edu> (Andrey Kiselev's message
	of "Tue, 11 Dec 2007 19:58:40 +0300")
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru> <86y7c1txzi.fsf_-_@th2.phys.asu.ru>
	<20071211101055.GA31760@ak4719.spb.edu>
	<b1e3a35f0712110314ub20d42sc8d094194237d2ce@mail.gmail.com>
	<20071211165840.GA1237@ak4719.spb.edu>
Message-ID: <m2ir35rrh3.fsf@cherry.siamics.int>

>>>>> Andrey Kiselev <dron@ak4719.spb.edu> writes:

 >> 1643      // Read geolocation data
 >> 1644      nDimMaps = SWnentries( hSW, HDFE_NENTMAP, &nStrBufSize );

 >> However, there `0' is returned...

 > Yes, and that is correct, because your HDF file does not contain
 > dimension maps, i.e. it is slightly broken dataset.

	ACK.

	BTW, I'm going to check GDAL vs. the MODIS datasets available at
	WIST [1].  I'll report the results here.

 > I should admit that I can't fix this thing without either serious
 > reworking the HDF-EOS library logic or hardcoding the workaround into
 > the driver (thing that I hate to do, because there are too many
 > variants of HDF-EOS products and our driver already full of such
 > things).

 > I have filled the bug report on this topic:

 > http://trac.osgeo.org/gdal/ticket/2079

 > Feel free to add yourself to CC: list to be informed on progress.

	ACK.

 > I am afraid that I will not be fixed in 1.5 branch.

	I probably will be able to maintain a locally patched version
	for the time being, if I'd come with any.  I need this
	functionality quite badly.

[1] http://wist.echo.nasa.gov/~wist/api/imswelcome/

From Chris.Barker at noaa.gov  Tue Dec 11 14:15:21 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Tue Dec 11 14:14:42 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
In-Reply-To: <D4F6C799-C570-49E2-83D8-BCF44913931C@kyngchaos.com>
References: <475E29C2.6050805@pobox.com>
	<78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>
	<475ECBD6.2070609@noaa.gov>
	<D4F6C799-C570-49E2-83D8-BCF44913931C@kyngchaos.com>
Message-ID: <475EE1C9.4020105@noaa.gov>


William Kyngesburye wrote:
> I wonder if just a site link can be added to pypi for the available 
> binaries for mine? (I'll have b2 ready soon, b1 is built)

That would be nice.

> I can look into repackaging it standalone, probably one egg for 
> Leopard/Python 2.5 and two installers for Tiger/Python 2.5 and 
> Leopard/python 2.5.

I'm confused. What's the difference between Leopard/Python 2.5 and 
Leopard/python 2.5?

> No egg for Tiger/Python 2.5 since setuptools isn't standard there.

You can still use it there, though.

In any case, that's a lot of options -- I'd just build one that is 
compatible with the Python2.5 Universal Framework Build that runs on 
10.4 and 10.5 (and I think even 10.3.9). Others are gravy, but there 
really are two darn many pythons on OS-X! I don't think you lose 
anything by using that Python -- except having to install it, but it's 
never really worked well to try to use Apple's Python -- most of us have 
simply given up.

> But since the python bindings are closely tied to the GDAL version, and 
> in my builds to the OSX version, this may be more hassle than it's worth 

Well, that's a bit of a trick. The standard approach is to build eggs 
with the dependencies statically linked -- so it's just one thing to 
install, and it "just works". I assume this is what the Windows ones do. 
I don't think you can have an egg depend on a non-python thing like a 
Framework -- it makes you miss Linux packages systems....

> (it's already installed along with the framework in an easy to use 
> installer package).

Your various Framework installers are pretty nice -- maybe a link to 
them would be fine.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From szekerest at gmail.com  Tue Dec 11 14:48:48 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Dec 11 14:48:51 2007
Subject: [gdal-dev] using OGR/OSR from C# - where to put the dependent
	DLLs?
In-Reply-To: <228614.54153.qm@web32903.mail.mud.yahoo.com>
References: <228614.54153.qm@web32903.mail.mud.yahoo.com>
Message-ID: <f3b73b7d0712111148v1e0fefc5o706798a10a28af60@mail.gmail.com>

Mark,

Adding C:\Program Files\FWTools2.0.0\bin\ to the system PATH should be
enough. However you should make sure there's no preceding folder int
the PATH containing incorrect version of these dll-s. Moreover in
FWTools you should remove the _fw suffix in some of the file names.

I would suggest using SysInternals filemon to monitor which files
couldn't be loaded by your application.

Best regards,

Tamas



2007/12/11, Mark Cheyne <cheynm@yahoo.com>:
> Hello - I'm sure this is a common question, but I
> haven't found a definitive treatment on the OGR
> website or in the GDAL mailing list archives.
>
> I'm working on a C# app on Windows that does
> coordinate transformations using the
> OSGeo.OSR.SpatialReference class. My app references
> osr_csharp.dll.
>
> Bottom line, what do I need to do so that the DLLs
> that osr_csharp.dll is dependent on are available at
> run-time?
>
> Only if I copy all 61 DLLs found in C:\Program
> Files\FWTools2.0.0\bin to my app's directory does my
> app work. However, for a variety of reasons,
> especially unit testing, I'd prefer to find an
> alternative, if one exists.
>
> I've seen
> http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpUsage and
> http://trac.osgeo.org/gdal/wiki/GdalOgrInCsharp which
> say that adding C:\Program Files\FWTools2.0.0\bin\ to
> my PATH env var is enough - nope.
>
> I've seen somewhere that I could copy all 61 DLLs
> found in C:\Program Files\FWTools2.0.0\bin to my
> System32 directory - that doesn't work either.
>
> If the dependent DLLs are not found, at runtime I get
> the following exception when I call the
> SpatialReference constructor: "The type initializer
> for 'OSGeo.OSR.OsrPINVOKE' threw an exception.". The
> innermost exception is what you'd expect -
> "System.DllNotFoundException: Unable to load DLL
> 'osr_wrap': The operating system cannot run."
>
> Thank you, Mark
>
> Mark Cheyne
> (608) 332-2235 (cell)
>
>
>       ____________________________________________________________________________________
> Never miss a thing.  Make Yahoo your home page.
> http://www.yahoo.com/r/hs
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From mitchelljj98 at gmail.com  Tue Dec 11 14:51:34 2007
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Tue Dec 11 14:51:36 2007
Subject: [gdal-dev] suppressing gdalinfo warning messages
Message-ID: <fa2ac0580712111151q64c83776h7cdeae320d2924d1@mail.gmail.com>

Hi,

How would I suppress the writing out of gdalinfo warning messages and
warnings from other gdal programs like gdalwarp and gdalmerge.
With gdalinfo I want the information of the associated geotiff file but not
the warning if any that is generated.

Thanks,

-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071211/d8cb700c/attachment.html
From woklist at kyngchaos.com  Tue Dec 11 15:23:20 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue Dec 11 15:23:24 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
In-Reply-To: <475EE1C9.4020105@noaa.gov>
References: <475E29C2.6050805@pobox.com>
	<78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>
	<475ECBD6.2070609@noaa.gov>
	<D4F6C799-C570-49E2-83D8-BCF44913931C@kyngchaos.com>
	<475EE1C9.4020105@noaa.gov>
Message-ID: <5306BA6B-3FC4-4969-8706-C897645CC6A4@kyngchaos.com>

On Dec 11, 2007, at 1:15 PM, Christopher Barker wrote:

>> I can look into repackaging it standalone, probably one egg for  
>> Leopard/Python 2.5 and two installers for Tiger/Python 2.5 and  
>> Leopard/python 2.5.
>
> I'm confused. What's the difference between Leopard/Python 2.5 and  
> Leopard/python 2.5?
>
You mean Tiger and Leopard, right?  For Tiger, my build is for the  
universal Python 2.5.  For Leopard, my build is for the Apple-included  
Python 2.5.

>> In any case, that's a lot of options -- I'd just build one that is  
>> compatible with the Python2.5 Universal Framework Build that runs  
>> on 10.4 and 10.5 (and I think even 10.3.9).

It's not only a split of Universal Python vs. Leopard Python, but also  
a purely Tiger/Leopard issue.  I went the route of building explicitly  
and separately for each system version.  It's easier to compile that  
way, and to install.

>> Others are gravy, but there really are two darn many pythons on OS- 
>> X! I don't think you lose anything by using that Python -- except  
>> having to install it, but it's never really worked well to try to  
>> use Apple's Python -- most of us have simply given up.
>
I'm not sure what the problem is with Leopard's Python, if any.  There  
was some debate about it on the python list, but I don't remember any  
serious real issues (but then, a lot of the extensions that were  
discussed aren't of interest to me).  I trust Apple to stay with  
Python 2.5 thru the life of the OS version and not break things with a  
future 2.6 switch, and to fix current problems.  It looks to me like  
their python binaries are more than just something for the system to  
use (as supposed by many python users), and meant for people to run  
complex Python applications on.

I guess I'll see what happens when I try the GRASS python GUI on  
Leopard...

>> But since the python bindings are closely tied to the GDAL version,  
>> and in my builds to the OSX version, this may be more hassle than  
>> it's worth
>
> Well, that's a bit of a trick. The standard approach is to build  
> eggs with the dependencies statically linked -- so it's just one  
> thing to install, and it "just works". I assume this is what the  
> Windows ones do. I don't think you can have an egg depend on a non- 
> python thing like a Framework -- it makes you miss Linux packages  
> systems....
>
Actually, the windows eggs DO need an external gdal.  250K is way too  
small for the GDAL library, and there was a message on the list saying  
that the gdal dll is needed.  And there are a lot of support files  
that aren't built into the egg.  Not to mention format plugins and  
MANY dependencies that would bloat the python binaries.

>

It's the libraries (.so) in the egg that depend on the libraries, not  
the python scripts.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

The equator is so long, it could encircle the earth completely once.

From Chris.Barker at noaa.gov  Tue Dec 11 15:49:34 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Tue Dec 11 15:48:55 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
In-Reply-To: <5306BA6B-3FC4-4969-8706-C897645CC6A4@kyngchaos.com>
References: <475E29C2.6050805@pobox.com>
	<78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>
	<475ECBD6.2070609@noaa.gov>
	<D4F6C799-C570-49E2-83D8-BCF44913931C@kyngchaos.com>
	<475EE1C9.4020105@noaa.gov>
	<5306BA6B-3FC4-4969-8706-C897645CC6A4@kyngchaos.com>
Message-ID: <475EF7DE.4060707@noaa.gov>

William Kyngesburye wrote:
> You mean Tiger and Leopard, right?

no, you'd listed leopard twice, so I got confused, but I think I got it now.

> It's not only a split of Universal Python vs. Leopard Python, but also a 
> purely Tiger/Leopard issue. 

right. I think I got that.

> I went the route of building explicitly and  separately for each system version.
 > It's easier to compile that way,  and to install.

well, yes and no. If you are building a 10.4 (I get confused as to which 
cat is older than which -- at least Ubuntu puts their animals in 
alphabetical order!) compatible version, then a 10.5 one is just extra 
work -- which is fine if you are doing it!

> I'm not sure what the problem is with Leopard's Python, if any. 

Partly it depends on how you want to use it. For one, I often need to 
build py2app's bundles for re-distribution -- if I use the 10.4 
Universal Framework build, then I cover a lot of bases.

> There 
> was some debate about it on the python list, but I don't remember any 
> serious real issues (but then, a lot of the extensions that were 
> discussed aren't of interest to me). 

Well, these are the ones I know of:

  - no readline

  - weird mixture of 32/64 bit quad libs and 32bit libs (though I don't 
think that breaks anything)

  - They've got their own packages somewhere other than site-packages, 
so strange things happen when you try to add packages they already 
installed. You could also potentially break something of theres if you 
upgrade something.

> I trust Apple to stay with Python 
> 2.5 thru the life of the OS version and not break things with a future 
> 2.6 switch,

yes.

> and to fix current problems.

No. AFAIK, they have never updated ANYTHING in python within a version, 
even things that were definitively broken.

> It looks to me like their 
> python binaries are more than just something for the system to use (as 
> supposed by many python users), and meant for people to run complex 
> Python applications on.

Well, their intentions aside:
  - all the extra modules are a major moving target (numpy is old, 
wxPython is old, etc, etc, etc)
  - Python has no built-in versioning support for packages
  - Apple has never upgraded anything within an OS version
  - Even between versions, I can run stuff built for the 10.4 build of 
Python on 10.5 -- if I rely on the 10.5 version, it probably won't run 
on 10.6, when they will probably upgrade stuff.
  - It's a lot of work to support all this -- that's why the PythonMac 
community has generally tried (not very successfully!) to declare an 
"official" supported version -- that version is still the 10.4 Universal 
Framework Build of Python2.5.

> I guess I'll see what happens when I try the GRASS python GUI on Leopard...

yup.

Anyway, If you're going to do anything -- please support the 10.4 
python. Beyond that, anything else you do is gravy -- and believe me, I 
appreciate it all.

> Actually, the windows eggs DO need an external gdal. 

hmm, that's unfortunate -- again -- it makes me want a Linux style 
package manager!

 > Not to mention format plugins and MANY
> dependencies that would bloat the python binaries.

Oh well, I guess it's just too much to hope that you can keep something 
like this simple -- it does make your framework installers look pretty good!

I've had my say -- and you're doing the work, so do what you think is best.

Thanks again,

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From woklist at kyngchaos.com  Tue Dec 11 16:49:28 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue Dec 11 16:49:43 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
In-Reply-To: <475EF7DE.4060707@noaa.gov>
References: <475E29C2.6050805@pobox.com>
	<78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>
	<475ECBD6.2070609@noaa.gov>
	<D4F6C799-C570-49E2-83D8-BCF44913931C@kyngchaos.com>
	<475EE1C9.4020105@noaa.gov>
	<5306BA6B-3FC4-4969-8706-C897645CC6A4@kyngchaos.com>
	<475EF7DE.4060707@noaa.gov>
Message-ID: <CD2D3D67-57CA-435F-8082-E6DAB1AE264B@kyngchaos.com>

On Dec 11, 2007, at 2:49 PM, Christopher Barker wrote:

>> I went the route of building explicitly and  separately for each  
>> system version.
> > It's easier to compile that way,  and to install.
>
> well, yes and no. If you are building a 10.4 (I get confused as to  
> which cat is older than which -- at least Ubuntu puts their animals  
> in alphabetical order!) compatible version, then a 10.5 one is just  
> extra work -- which is fine if you are doing it!
>
The problem is the new 64bit stuff in leopard.  I first started with  
one build for Tiger & Leopard.  This is a lot of work - build 32bit  
universal with the 10.4 SDK, build 64bit universal with the 10.5 SDK,  
lipo the two together for a quad-arch binary (and make sure I don't  
miss any in a complex package).

Then, on install, for Tiger strip out the 64bit parts.  I found a  
annoying trap on Tiger - it has limited 64bit support (but not enough  
for GDAL and most of the other frameworks), and will try to run 64bit  
binaries on 64bit processors, which will usually fail.

>> I'm not sure what the problem is with Leopard's Python, if any.
>
> Partly it depends on how you want to use it. For one, I often need  
> to build py2app's bundles for re-distribution -- if I use the 10.4  
> Universal Framework build, then I cover a lot of bases.
>
Which I can't do, because I build separately for each platform.  But,  
the binaries can be linked to in other software however is desired -  
ie link to the Leopard framework binaries with the 10.4 SDK, run on  
Tiger (with the Tiger framework binaries installed).

>> There was some debate about it on the python list, but I don't  
>> remember any serious real issues (but then, a lot of the extensions  
>> that were discussed aren't of interest to me).
>
> Well, these are the ones I know of:
>
> - no readline
>
But does use libedit.

> - weird mixture of 32/64 bit quad libs and 32bit libs (though I  
> don't think that breaks anything)
>
A lack of 64bit carbon.  Which is probably why Apple made the Python  
executable 32bit-only.

I actually build my GDAL Python bindings 64bit-enabled.  But since the  
python executable is only 32bit, gdal python will only run 32bit,  
unless someone has a 64bit python executable.  I'm planning on looking  
into compiling just the python executable 64bits to match Apple's and  
run the GDAL autotests with that - as long as nothing tries to load a  
python extension that needs carbon (nothing in GDAL), it should work.

Sadly, the python GUI stuff uses carbon.

>>
>> I guess I'll see what happens when I try the GRASS python GUI on  
>> Leopard...
>
> yup.
>
> Anyway, If you're going to do anything -- please support the 10.4  
> python. Beyond that, anything else you do is gravy -- and believe  
> me, I appreciate it all.
>
The Tiger bindings should work off a Leopard GDAL framework - the  
system version compatibility issue has nothing to do with the GDAL  
API.  If you're willing to try I can make a GDAL Python standalone  
installer that will install the Tiger bindings on Leopard...

>> Actually, the windows eggs DO need an external gdal.
>
> hmm, that's unfortunate -- again -- it makes me want a Linux style  
> package manager!
>
I think this applies to all platforms for GDAL.  It's just the way the  
GDAL bindings work.

>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

The equator is so long, it could encircle the earth completely once.

From cheynm at yahoo.com  Tue Dec 11 16:53:58 2007
From: cheynm at yahoo.com (Mark Cheyne)
Date: Tue Dec 11 16:54:00 2007
Subject: [gdal-dev] SRS_UL_US_FOOT etc in C#?
Message-ID: <629400.90259.qm@web32904.mail.mud.yahoo.com>

Hello - I am using SpatialReference.SetLinearUnits()
(http://www.gdal.org/ogr/classOGRSpatialReference.html#2016fee7b234666c5e94d528661e6729)
which takes a string identifying the unit, and a
double defining its conversion factor to meters.

in the C# wrap, I see the static readonly strings like

OSGeo.OSR.Osr.SRS_UL_US_FOOT and
OSGeo.OSR.Osr.SRS_UL_US_FOOT_CONV which would seem to
be the sort of thing I want as the arguments to
SetLinearUnits().

But interestingly, the values of these constants is
their NAME, not their VALUE as listed in the #DEFINEs
in ogr_srs_api.h
(http://www.gdal.org/ogr/ogr__srs__api_8h-source.html)

For example, I'd expect

OSGeo.OSR.Osr.SRS_UL_US_FOOT = "U.S. Foot" 
but it is
OSGeo.OSR.Osr.SRS_UL_US_FOOT = "SRS_UL_US_FOOT"

huh?

thanks, Mark

Mark Cheyne
(608) 332-2235 (cell)


      ____________________________________________________________________________________
Looking for last minute shopping deals?  
Find them fast with Yahoo! Search.  http://tools.search.yahoo.com/newsearch/category.php?category=shopping
From odonnems at yahoo.com  Tue Dec 11 19:13:33 2007
From: odonnems at yahoo.com (Michael ODonnell)
Date: Tue Dec 11 19:13:35 2007
Subject: [gdal-dev] building gdal1.5 and apps makefile.vc
Message-ID: <651190.57421.qm@web58002.mail.re3.yahoo.com>

I have been exploring how to build the new gdal 1.5 release. It turns out it was slightly a pain because I am using VS2005 express which requires some alterations to workaround the ATL. Anyhow, I was able to successfully build the gdal15.dll, but during the installation I got an error from the makefile.vc in the apps folder. 

I have no idea if I am doing any of this correctly. I originally thought I had to use the setup.py build and setup.py install. However, I kept getting errors so I started using the nmake /f makefile.vc in the root directory.

I am curious about this error because I would like to learn more about how these programs work. And ultimately, I would like to finish building gdal from scratch for the experience.


My question are:
First, do the setup.py and nmake /f makefile.vc do the same thing?

Second, I looked at the makefile.vc in the apps folder and I did not see anything causing an error to occur. My error was this:
cd apps
nmake /nologo /f makefile.vc
NMAKE : fatal error U1073: don't know how to make '""'
Stop

Third, the files that were included in the gdal-1.5.0b2 redirected the gdal to osgeo directory. Is it possible to set my path to osgeo rather than being redirected. This might have been resolved if I had been able to complete the build, and therefore, I am not sure what all the output looks like. Sorry for my ignorance, but this is all new to me.


OS: Windows XP Professional x86 processor
Compiler: VS2005 Express with modifications to account for atlthunk.lib
Python: 2.5







      ____________________________________________________________________________________
Never miss a thing.  Make Yahoo your home page. 
http://www.yahoo.com/r/hs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071211/281599a4/attachment.html
From hobu.inc at gmail.com  Tue Dec 11 21:50:13 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue Dec 11 21:51:10 2007
Subject: [gdal-dev] building gdal1.5 and apps makefile.vc
In-Reply-To: <651190.57421.qm@web58002.mail.re3.yahoo.com>
References: <651190.57421.qm@web58002.mail.re3.yahoo.com>
Message-ID: <AD91CD27-DD35-4473-91D9-1C2DDBDAA776@gmail.com>

Michael,

I'm a bit confused, but I think you are attempting to build a  
gdal15.dll that can be used with the windows egg files on PyPI...  
correct?

If so, you should only have to build GDAL itself, not anything in ./ 
swig/python.  setup.py and the makefile.vc in ./swig are only related  
to building and generating the bindings.  You shouldn't have to mess  
with this stuff if you are planning to use the PyPI packages...

I don't know about the apps makefile.vc.  Maybe this is out of date  
for some reason?


On Dec 11, 2007, at 6:13 PM, Michael ODonnell wrote:
> Third, the files that were included in the gdal-1.5.0b2 redirected  
> the gdal to osgeo directory. Is it possible to set my path to osgeo  
> rather than being redirected.

Can you provide more detail here?  I don't quite know what you mean by  
"redirected"

Howard
From ivan.lucena at pmldnet.com  Tue Dec 11 22:59:37 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Tue Dec 11 22:59:41 2007
Subject: [gdal-dev] parallel processing
In-Reply-To: <474CFE85.8010100@yahoo.com>
References: <474B9E04.7030207@yahoo.com> <474C77AF.2080000@pobox.com>
	<474CFE85.8010100@yahoo.com>
Message-ID: <475F5CA9.4010003@pmldnet.com>

The HDFGroup's Parallel-HDF5 library is another good example of the use 
of MPI-IO (Message Passing Interface) to implements parallel file 
access, see:
http://hdf.ncsa.uiuc.edu/Parallel_HDF/PHDF5/ph5-status.html

James McManus wrote:
> Frank Warmerdam wrote:
>> James McManus wrote:
>>> Has implementing parallel process for GDAL and OGR been considered?
>>
>> James,
>>
>> There has not been much work on parallel processing within GDAL but
>> some applications do use GDAL in multiple threads at a time and there
>> has been considerable work to make aspects of GDAL thread safe.  In
>> particular modern GDAL should support a "many readers" situation fairly
>> well now as long as each of the readers is operating on distinct
>> GDALDataset objects.
>>
>> For various reasons you can't have multiple readers active on a common
>> gdal dataset, and when GDAL is writing there should really only be
>> one thread active at a time.
>>
>> Best regards,
> Frank,
> /
> /That is basically what I am looking for. I would like to take advantage 
> of my additional cores and CPU when I import data using v.in.ogr.  As 
> you know large vector files take a long time to read, so it would be 
> great if I could employ additional threads.  I searched the web to see 
> if any other IO software was doing this. I found that netcdf has a 
> library which uses MPI-IO:
> 
> http://www-unix.mcs.anl.gov/parallel-netcdf/
> 
> Reading spaghetti shape files into GRASS requires building of topology 
> among other things. Multi-thread processing would speed this up 
> dramatically. With the proliferation of multi-thread processors for PC's 
> it seems like something that would eventually have to be incorporated 
> into GDAL/OGR.
> 
> Jim
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From cartrite1 at yahoo.com  Wed Dec 12 01:04:44 2007
From: cartrite1 at yahoo.com (Steve Popovich)
Date: Wed Dec 12 01:04:46 2007
Subject: [gdal-dev] Building Gdal 1.5 beta on a 64 bit system.
Message-ID: <897969.11666.qm@web32003.mail.mud.yahoo.com>

Hi All,
I'm new to using and building Gdal but I have successfully built Gdal-1.4.3 and 1.4.4 and used the utilities to create a specular map with SWBD Shapefiles.  

I was trying to build the beta versions 1.5 and I'm getting link errors after the build. After looking into it I found gdal1.5 betas 1 and 2 are looking for 32 bit devel files to link. I'm confused as to how it was built with the header files from the 64 bit devel versions and is trying to link to 32 bit versions.

Steve Popovich

       
---------------------------------
Never miss a thing.   Make Yahoo your homepage.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071211/dd8d02fc/attachment.html
From cartrite1 at yahoo.com  Wed Dec 12 01:53:05 2007
From: cartrite1 at yahoo.com (Steve Popovich)
Date: Wed Dec 12 01:53:07 2007
Subject: [gdal-dev] Building Gdal 1.5 beta on a 64 bit system.
Message-ID: <507038.62911.qm@web32002.mail.mud.yahoo.com>

I left out a few details from my first post. I'm using openSuse10.2 x86_64 with gcc 4.1.2. I got through a couple of links by installing 32 bit devel x11 files. I only had the 64 bit versions. Now it gets stuck on libidn so it looks like it wants all the 32 bit files. I tried --enable-libsuffix=64 but that didn't help. Something don't seem right since it must have compiled the files with the 64 bit header files. It does build successfully. Just can't link.
S. Popovich

       
---------------------------------
Never miss a thing.   Make Yahoo your homepage.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071211/81a5007a/attachment.html
From Jukka.Rahkonen at mmmtike.fi  Wed Dec 12 06:58:43 2007
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Wed Dec 12 06:58:48 2007
Subject: [gdal-dev] Re: Histogram matching
Message-ID: <CC197224AC75CE4DB23F739B16891B86668B98@tikka.haapa.mmm.fi>


 <estrada.adam <at> gmail.com> writes:
> 
> Wow!!!  I did not know about this software but it works wonderfully!
> It's actually much faster than IMAGINE too.
> 
> Thanks Norman...
> 
> AWE
> 
> On Dec 6, 6:26 pm, "Norman Vine" <n...@cape.com> wrote:
> > The OSSIM ImageLinker tool has a histogram matching function
> >
Hi,
The standard mosaic tool in ERDAS Imagine is poor and my opinion is that it should not be shipped with such an expensive software.  However, separately sold Mosaic Pro tool is much better. Ask for 60 days evaluation license, it is for sure worth trying.
 
-Jukka Rahkonen-
From estrada.adam at gmail.com  Wed Dec 12 09:24:12 2007
From: estrada.adam at gmail.com (estrada.adam@gmail.com)
Date: Wed Dec 12 09:24:31 2007
Subject: [gdal-dev] Re: suppressing gdalinfo warning messages
In-Reply-To: <fa2ac0580712111151q64c83776h7cdeae320d2924d1@mail.gmail.com>
References: fa2ac0580712111151q64c83776h7cdeae320d2924d1@mail.gmail.com
Message-ID: <eaa05b18-aa32-4e92-bd20-137062067ff3@a35g2000prf.googlegroups.com>

John,
     I have been running these applications too using DOS batch
scripts and found that by setting the variable CPL_DEBUG=ON you can
view extended debug information for each application.  You can turn it
off by either commenting it out or turning it to OFF.  This has been
especially useful when using GDALwarp.  Just a thought...

AWE


On Dec 11, 2:51 pm, "John Mitchell" <mitchellj...@gmail.com> wrote:
> Hi,
>
> How would I suppress the writing out of gdalinfo warning messages and
> warnings from other gdal programs like gdalwarp and gdalmerge.
> With gdalinfo I want the information of the associated geotiff file but not
> the warning if any that is generated.
>
> Thanks,
>
> --
> John J. Mitchell
>
> _______________________________________________
> gdal-dev mailing list
> gdal-...@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
From cartrite1 at yahoo.com  Wed Dec 12 09:27:52 2007
From: cartrite1 at yahoo.com (Steve Popovich)
Date: Wed Dec 12 09:27:54 2007
Subject: [gdal-dev] Building Gdal 1.5 beta on a 64 bit system
Message-ID: <830618.49749.qm@web32001.mail.mud.yahoo.com>

I am able to build the 1.5.0b2 version with ./configure --without-libtool --with-python but the autotest fails with 
Running tests from gcore/tiff_write.py
  TEST: tiff_write_1 ... success
  TEST: tiff_write_2 ... success
  TEST: tiff_write_3 ... success
  TEST: tiff_write_4 ... skip
  TEST: tiff_write_5 ... success
  TEST: tiff_write_6 ... ERROR 1: ZIPDecode:tmp/test_6.tif: Decoding error at scanline 0, incorrect header check
ERROR 1: TIFFReadEncodedTile() failed.

ERROR 1: IReadBlock failed at X offset 0, Y offset 0
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
Segmentation fault
I also ran a script I wrote to produce the specmap with SWBD files and this beta version also outputs png.aux.xml files. The run I did with gdal-1.4.3 and 1.4.4 did not do this.
Steve Popovich

       
---------------------------------
Be a better friend, newshound, and know-it-all with Yahoo! Mobile.  Try it now.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071212/74cf5031/attachment.html
From Volker.Wichmann at uibk.ac.at  Wed Dec 12 09:27:11 2007
From: Volker.Wichmann at uibk.ac.at (Volker Wichmann)
Date: Wed Dec 12 09:28:55 2007
Subject: [gdal-dev] strange 'Access window out of range in RasterIO()' error
Message-ID: <475FEFBF.1070605@uibk.ac.at>

Hi,

I discovered a strange effect while creating and writing out a tiff - I 
get an 'out of range' error although I'm sure to write within limits: 
The error message is:

ERROR 5: Access window out of range in RasterIO().  Requested (0,81) of 
size 100x81 on raster of 100x100.

Even the values reported by the message suggest I'm within the limits. 
This error only happens with a specific raster extent. In detail:

- I create a dataset with
    upper left coordinates: 10, 10
    number of cells in x/y: 100, 100
    cellsize: 1

- I use GDALGetBlockSize to set the blocksize and

- write with GDALRasterIO(hBand, GF_Write, nXOffset, nYOffset, 
nBlockXSize, nBlockYSize, pData, nBlockXSize, nBlockYSize, eOutputType, 
0, 0);


The error only happens with this dataset definition, using an other 
number of cells in x/y works. I'm also able to write the above dataset 
by setting nBlockXSize and nBlockYSize by hand to other values (e.g. 
100, 20). Seems to me there is an issue in the function checking the 
range allowed for writing.

I'm using GDAL 1.4.2,
thanks,
Volker

From estrada.adam at gmail.com  Wed Dec 12 09:36:13 2007
From: estrada.adam at gmail.com (estrada.adam@gmail.com)
Date: Wed Dec 12 09:36:43 2007
Subject: [gdal-dev] gdalwarp producing a "black" output image.
Message-ID: <e3eef105-556d-493d-ae63-31755ac9ddad@f3g2000hsg.googlegroups.com>

All,
    I have 10k images that are in JPEG format and in a projection that
is undesireable for use in the application I need to view them in.
Therefore, I am using gdal_translate to import the file to geoTIFF
which works wonderfully.  When I try to reproject the image using
gdalwarp I get an image with all 0 value pixels for all three bands.
Does anyone know what might be causing this?  The following command
line args have worked in the past with gdalwarp but do not seem to
work at all here.

gdal_translate -of GTiff -a_nodata 0 -a_srs "EPSG:26945" -co "TFW=YES"
-co "COMPRESS=PACKBITS" E:\AerialImagery\RAW\33116a1nw.jpg E:
\AerialImagery\TIFF\33116a1nw.tif

gdalwarp -multi -wm 500000 -srcnodata 0 -dstnodata 0 -of GTiff -s_srs
"EPSG:26945" -t_srs "EPSG:26911" -wo "SAMPLE_GRID=YES" -wo
"SKIP_NOSOURCE=YES" -wo "INIT_DEST=NO_DATA" -wo "WRITE_FLUSH=YES" E:
\AerialImagery\TIFF\33116a1nw.tif E:\AerialImagery\UTM
\33116a1nw_utm.tif

I have tried to reproject this image using other software packages and
I get valid results so maybe there is something that I am missing?
Any input on this would be greatly appreciated...

AWE
From warmerdam at pobox.com  Wed Dec 12 10:44:42 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 12 10:45:02 2007
Subject: [gdal-dev] Building Gdal 1.5 beta on a 64 bit system
In-Reply-To: <830618.49749.qm@web32001.mail.mud.yahoo.com>
References: <830618.49749.qm@web32001.mail.mud.yahoo.com>
Message-ID: <476001EA.2070806@pobox.com>

Steve Popovich wrote:
> I am able to build the 1.5.0b2 version with ./configure 
> --without-libtool --with-python but the autotest fails with
> Running tests from gcore/tiff_write.py
>   TEST: tiff_write_1 ... success
>   TEST: tiff_write_2 ... success
>   TEST: tiff_write_3 ... success
>   TEST: tiff_write_4 ... skip
>   TEST: tiff_write_5 ... success
>   TEST: tiff_write_6 ... ERROR 1: ZIPDecode:tmp/test_6.tif: Decoding 
> error at scanline 0, incorrect header check
> ERROR 1: TIFFReadEncodedTile() failed.
> 
> ERROR 1: IReadBlock failed at X offset 0, Y offset 0
> ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
> Segmentation fault

Steve,

Are you possibly using an external libtiff?  There are a few tests in
tiff_write.py specifically aimed at recent bug fixes in libtiff (not
in a released version yet).  If you build --with-libtiff=internal
or build with the latest libtiff from CVS head these tests should fail.

You will likely need to delete the tiff_write.py script if you want to
run the test of the autotest suite.

> I also ran a script I wrote to produce the specmap with SWBD files and 
> this beta version also outputs png.aux.xml files. The run I did with 
> gdal-1.4.3 and 1.4.4 did not do this.

GDAL 1.5 enabled .aux.xml file creation and reading by default.  It
can be disabled at runtime by setting the GDAL_PAM_ENABLED environment
variable to NO.  The .aux.xml files basically hold auxilary information
like coordinate systems, and metadata when it is not supported by the
underlying format.  It is considered to be a feature, but I can't help
but wonder if people will find it irritating.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Wed Dec 12 11:11:40 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 12 11:11:57 2007
Subject: [gdal-dev] GDAL 1.5.0beta2 Win32 Binaries
Message-ID: <4760083C.9020607@pobox.com>

Folks,

I have prepared Win32 binaries for a "base" configuration at:

   http://download.osgeo.org/gdal/win32/1.5

Unlike 1.4 binaries, this build includes GEOS support.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From cartrite1 at yahoo.com  Wed Dec 12 11:29:23 2007
From: cartrite1 at yahoo.com (Steve Popovich)
Date: Wed Dec 12 11:29:24 2007
Subject: [gdal-dev] Building Gdal 1.5 beta on a 64 bit system
Message-ID: <597659.66797.qm@web32007.mail.mud.yahoo.com>

Frank Warmerdam wrote:

Are you possibly using an external libtiff?

Yes I was. I rebuilt with ./configure --without-libtool --with-python --with-libtiff=internal
and the autotest results were:
 ------------ Failures ------------
Script: ogr/ogr_geom.py
  TEST: ogr_geom_empty ... fail
    IsEmpty returning false for an empty geometry
 ----------------------------------

Test Script: osr/osr_ct_proj.py
Succeeded: 646
Failed:    1 (0 blew exceptions)
Skipped:   222

Frank Warmerdam wrote:
GDAL 1.5 enabled .aux.xml file creation and reading by default

OK. I was just curious as to why the extra files.
In another reply 

Frank Warmerdam wrote:

 
Steve,

I'm not at all clear on what is going wrong.  I build on 64bit linux as
 my
main work environment, so I think we need more detail to help you.  It
might be worth filing a Trac ticket, and include an appropriate chunk
 of
the actual error output.

I'm new to this environment and never did a trac ticket so I'll have to look into it.
For now I'll try to add a little more info.
I built gdal-1.4.4 with a standard devel installation on openSuse10.2 x86_64.
This is the first time I tried to build something and had to install extra deps.
The first link error was with LibSM.la. I had that file in /usr/lib64 but not /usr/lib
I installed xorg-x11-libSM-devel-32bit and got past that link error only to fail at the next.
I then installed all the x11-devel-32bit files and then failed linking to libidn.
openSuse10.2 does not have a 32bit devel package for libidn so I gave up.
That is when I configured --without-libtool and everything worked.
This is the first time in all the pkgs I built over the last 4 years that I had to build 
with the --without-libtool option. As you can see from above that it works but is this
acceptable or is something wrong with libtool creation?

Steve Popovich
 


       
---------------------------------
Looking for last minute shopping deals?  Find them fast with Yahoo! Search.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071212/90056da4/attachment.html
From Chris.Barker at noaa.gov  Wed Dec 12 13:01:35 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Dec 12 13:00:54 2007
Subject: [gdal-dev] GDAL 1.5.0 Beta2 Released
In-Reply-To: <CD2D3D67-57CA-435F-8082-E6DAB1AE264B@kyngchaos.com>
References: <475E29C2.6050805@pobox.com>
	<78549ACD-15FE-4D25-BD22-8DB44D03E89B@gmail.com>
	<475ECBD6.2070609@noaa.gov>
	<D4F6C799-C570-49E2-83D8-BCF44913931C@kyngchaos.com>
	<475EE1C9.4020105@noaa.gov>
	<5306BA6B-3FC4-4969-8706-C897645CC6A4@kyngchaos.com>
	<475EF7DE.4060707@noaa.gov>
	<CD2D3D67-57CA-435F-8082-E6DAB1AE264B@kyngchaos.com>
Message-ID: <476021FF.3030207@noaa.gov>

William Kyngesburye wrote:

> The problem is the new 64bit stuff in leopard.  I first started with one 
> build for Tiger & Leopard.  This is a lot of work - build 32bit 
> universal with the 10.4 SDK, build 64bit universal with the 10.5 SDK, 
> lipo the two together for a quad-arch binary (and make sure I don't miss 
> any in a complex package).

yup -- this sounds like a lot of work. Is there really any demand for 64 
bit? If so, it's great that you're doing it.

> Then, on install, for Tiger strip out the 64bit parts.  I found a 
> annoying trap on Tiger - it has limited 64bit support (but not enough 
> for GDAL and most of the other frameworks), and will try to run 64bit 
> binaries on 64bit processors, which will usually fail.

right, which is why most of us just stick with 32 bit for now.

Anyway, as long as you're supporting 32 bit universal builds that work 
on 10.4 -- I'm happy, and most of your users should be happy.

thanks for all this,

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From matt.wilkie at gov.yk.ca  Wed Dec 12 13:21:18 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Dec 12 13:21:26 2007
Subject: [gdal-dev] change in ECW license agreement
Message-ID: <4760269E.8010409@gov.yk.ca>

Hello Folks,

In recent discussion with a sales representative ER Mapper, now owned by
Leica Geosystems Geospatial Imaging, it came to light that there is a
new End User License Agreement in effect for the ECW/JP2 SDK, as of this
week. (I'm trying to determine what license we need to buy in order to
use gdal_translate to create ecw larger than 500mb).

The new EULA mentions open source projects specifically in a couple of
provisions.  I'm not going to go so far as to interpret them, because
I'll probably get it wrong! From my limited understanding it does look
like some things might need to be changed in how GDAL packages and
distributes the ECW driver, and that an organisation which uses open
source ecw-using tools to produce products it sells might be considered
commercial use(?).

In any case, there are people here who the changes will impact and would
want to be aware of it. If the attached document does not make it
through, the EULA can be found at
http://www.ermapper.com/Downloads.aspx?v=315 (after free registration,
the EULA will be shown before download begins).

Best regards,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


-------------- next part --------------
ECW/JP2 CODEC SDK End-User License Agreement
IMPORTANT?READ CAREFULLY: This ECW/JP2 CODEC SDK End-User License Agreement ("EULA") is a legal agreement between You (either an individual or a single entity) and Leica Geosystems Geospatial Imaging, LLC, having a principle place of business at 5051 Peachtree Corners Cir., Suite 100, Norcross, Georgia, for the ECW/JP2 CODEC SDK software product. By installing, copying, downloading, accessing or otherwise using the ECW/JP2 CODEC SDK, You agree to be bound by the terms of this EULA. If You do not agree to the terms of this EULA, do not install or use the ECW/JP2 CODEC SDK.
1. DEFINITIONS
1.1. COMMERCIAL USE means use that inures to the benefit of or is intended to inure to the benefit of a profit-seeking enterprise or an enterprise that provides services or products for consideration, regardless of whether those services or products directly relate to the ECW/JP2 CODEC SDK or were performed or produced using the ECW/JP2 CODEC SDK. Open-source projects are non-commercial until packaged in a form that the package inures to the benefit of a profit-seeking enterprise or an enterprise that provides services or products for consideration.  Government use is commercial use.
1.2. DECODE means to view files compressed either using Enhanced Compression Wavelet (ECW) technology or otherwise compressed using the ECW/JP2 CODEC SDK.
1.3. ECW/JP2 CODEC SDK means computer software consisting of libraries and supporting documents that enable You to write software, or engineer a process, that enables end-users to decode files and/or to encode files.  Among other things, the software enables compression of images according to the JPEG2000 standard, enables reading ECWP streams and enables decompression of files having an *.ecw extension.  The ECW/JP2 CODEC SDK may include associated media, printed materials, and "online" or electronic documentation. The ECW/JP2 CODEC SDK also includes any UPDATES to the original SDK provided to You by LGGI, but not ENHANCEMENTS.  
1.4. ECWP is the Enhanced Wavelet Compression Protocol, by which compressed files residing on a SERVER may be streamed to an END APPLICATION and DECODED.
1.5. ENCODE means to compress files using ECW technology or to otherwise compress using the ECW/JP2 CODEC SDK.
1.6. END APPLICATION means software products that You develop and that permit an end-user to ENCODE and/or DECODE (among other functionality You develop).  END APPLICATIONS are desktop software applications intended to be distributed and used as self-contained programs for displaying and processing imagery.  The source code of END APPLICATIONS is not intended to be modified by a user.  END APPLICATIONS do not run on a SERVER.
1.7. ENHANCEMENTS means non-maintenance improvements, such as new features or versions.
1.8. LIBRARIES means programs that are not END APPLICATIONS and are to be used by programmers, instead of end users who use an END APPLICATION.  LIBRARIES do not, by themselves, ENCODE or DECODE files, but instead are intended to be linked to by END APPLICATIONS that may ENCODE or DECODE files.
1.9. NON-COMMERCIAL USE means use that is educational or strictly personal for research.
1.10. SERVER means a computing device in a network that is used to provide services (as access to files or shared peripherals) to other computing devices in the network. 
1.11. UPDATES means maintenance revisions that correct identified errors in or provide bug fixes for the ECW/JP2 CODEC SDK originally provided to You. 
2. LICENSE GRANT
2.1. Non-Commercial Use.  
2.1.1. Subject to all other terms of this Agreement, You are hereby granted a royalty-free, nonexclusive, worldwide license to use the ECW/JP2 CODEC SDK to create and distribute END APPLICATIONS that DECODE and/or ENCODE for NON-COMMERCIAL USES. 
2.1.2. Subject to all other terms of this Agreement, You are hereby granted a royalty-free, worldwide license to use the ECW/JP2 CODEC SDK to create and distribute LIBRARIES.  In distributing LIBRARIES, You are licensed only to distribute those compiled portions of the ECW/JP2 CODEC SDK in the "redistributables" directory, which contains binaries that another application using the LIBRARY will link to.
2.2. Commercial Use.
2.2.1. Subject to all other terms of this Agreement, You are hereby granted a nonexclusive, worldwide license to use the ECW/JP2 CODEC SDK to create and distribute END APPLICATIONS that DECODE for COMMERCIAL USES.
2.2.2. Subject to all other terms of this Agreement, including payment of a royalty, You are hereby granted a royalty-bearing, nonexclusive, worldwide license to use the ECW/JP2 CODEC SDK to create and distribute END APPLICATIONS that ENCODE for COMMERCIAL USES.   The royalty rate is listed on a Purchase Order that is attached to this License Agreement and that forms a part of this Agreement.

ABSENT PAYMENT OF A ROYALTY AND YOUR CONTINUING ADHERENCE TO THE TERMS OF THIS AGREEMENT, YOU ARE NOT LICENSED TO USE THE ECW/JP2 CODEC SDK TO ENCODE FILES FOR COMMERCIAL USES.
The ECW/JP2 CODEC SDK may be obtained directly from LGGI or from a person who distributes LIBRARIES containing portions of the ECW/JP2 CODEC SDK.  Regardless of the source of distribution and regardless of whether You receive the complete ECW/JP2 CODEC SDK with supporting documentation, as a compiled LIBRARY or otherwise, You must adhere to the terms of this license grant.
3. OBLIGATIONS AND RESTRICTIONS
3.1. Obligation to Support ECWP Read.  You agree to support the reading of ECWP streams so that Your END APPLICATION is capable of receiving streamed, compressed files that adhere to the ECWP.
3.2. License Requirements for END APPLICATIONS Using ECW JPEG2000 SDK. You shall distribute the END APPLICATIONS to end-users pursuant to a conspicuous, legally enforceable end-user license that provides LGGI with substantially the same protections as set forth in Appendix A hereto.  You agree to take all necessary steps to ensure the enforceability of the end-user license, including, as appropriate: (i) offering a refund of at least a portion of the purchase price of END APPLICATIONS to end-users who disagree with the terms of the end-user license including the terms set forth in Appendix A; or (ii) preventing downloading of END APPLICATIONS without acceptance of the end-user license.  You also agree to take adequate steps to prevent unauthorized use of the ECW/JP2 CODEC SDK or its derivatives by end users who decline the end-user license offer, such as by disabling access to Your END APPLICATION or preventing access to features made possible by the ECW/JP2 CODEC SDK, including ENCODING or DECODING in Your END APPLICATION.
3.3. Obligations for Persons Distributing Libraries or Participating in Open Source Projects including the ECW/JP2 CODEC SDK.  If You will distribute a LIBRARY or are using the ECW/JP2 CODEC SDK in connection with an open-source project or other, similar work, You must distribute this license along with the object or source code of the work and give Your end users the opportunity to decline these license terms and cease downloading the work that contains or uses the ECW/JP2 CODEC SDK in whole or in part.
3.4. LGGI Proprietary Rights Notice. You must include the following statement of ownership/copyright notice in the About Box for Your END APPLICATION, or any other similar location where You place proprietary rights notices pertaining to third party software incorporated in the END APPLICATION:
Portions of this computer program are copyright ?2007 Leica Geosystems Geospatial Imaging, LLC. All rights reserved.  Creating compressed files using ECW technology is protected by one or more of U.S. Patent No. 6,201,897, No. 6,442,298 and No. 6,633,688.
3.5. Prohibition of SERVER Applications and other actions not explicitly permitted.  You are not licensed to, and You agree to refrain from, creating works that are intended to DECODE or ENCODE on a SERVER, or to induce another to perform such acts or create works capable of performing such acts.  Moreover, You are not licensed to, and You agree to refrain from, any action not explicitly permitted under this Agreement.
3.6. Export Controls. You acknowledge and understand that the export or re-export of certain goods or technical data from the United States requires an export control license from the United States Government, and that failure to obtain an export control license may result in a violation of U.S. laws. The ECW/JP2 CODEC SDK may not be shipped, transferred, exported or re-exported into any country or used in any manner prohibited by the United States Export Administration Act or any other export laws, restrictions, or regulations. Each party is responsible for obtaining any and all appropriate permission prior to exporting or re-exporting END APPLICATIONS or LIBRARIES.
3.7. Hold Harmless. You shall hold harmless LGGI from and against any claims or lawsuits which arise or result from the use or distribution of the END APPLICATIONS or LIBRARIES.
4. DISCLAIMER OF WARRANTIES AND LIMITATION OF LIABILITY
4.1. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, LGGI AND ITS SUPPLIERS PROVIDE THE ECW/JP2 CODEC SDK "AS IS" AND WITH ALL FAULTS. LGGI, ON BEHALF OF ITSELF AND ITS SUPPLIERS, DISCLAIMS ALL WARRANTIES, EXPRESS, IMPLIED OR STATUTORY, AS TO ANY MATTER WHATSOEVER RELATING TO THE ECW/JP2 CODEC SDK, INCLUDING BUT NOT LIMITED TO ANY (IF ANY) IMPLIED WARRANTIES OR CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OF REASONABLE CARE OR WORKMANLIKE EFFORT, OF RESULTS, OF LACK OF NEGLIGENCE, OR OF A LACK OF VIRUSES, ALL WITH REGARD TO THE ECW/JP2 CODEC SDK. THERE IS NO WARRANTY OF TITLE, CORRESPONDENCE TO DESCRIPTION, AUTHORITY, OR NONINFRINGEMENT WITH RESPECT TO THE ECW/JP2 CODEC SDK.
4.2. Limited Liability. You hereby agree that LGGI shall not be liable for damages for any cause whatsoever, regardless of the form of action whether in contract or in tort, including negligence, related to this Agreement. IN NO EVENT SHALL LGGI BE LIABLE FOR LOST PROFITS OR REVENUE, INCIDENTAL, DIRECT, INDIRECT, OR SPECIAL, CONSEQUENTIAL OR PUNITIVE DAMAGES, WHETHER OR NOT LGGI HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, ARISING FROM, RELATED TO OR PERTAINING IN ANY WAY TO THIS AGREEMENT.
5. TERM AND TERMINATION
5.1. Term. The term of this Agreement commences as of Your acceptance of this Agreement and payment of a royalty, if required, and will extend until terminated.
5.2. Termination for Breach. If You materially breach this Agreement and fail to cure that breach within thirty (30) days after receiving written notice of the breach, LGGI shall have the right to terminate this Agreement any time after the end of such period.
5.3. Survival Provisions. Notwithstanding termination of this Agreement, LGGI shall enjoy freedom from liability under Section 4 and 3.7.
5.4. Obligations Upon Termination. Upon termination of this Agreement, all licenses shall terminate and You must return to LGGI or destroy all copies of the ECW/JP2 CODEC SDK or END APPLICATIONS in Your possession, custody, or control, except that You may retain a reasonable number of copies of END APPLICATIONS, not to exceed five (5), for purposes of internal use to facilitate customer support for existing customers only. Upon termination, You must cease distribution of END APPLICATIONS or LIBRARIES.
6. MISCELLANEOUS
6.1. Venue and Jurisdiction. The parties agree that the courts in or of the State of Georgia having jurisdiction over disputes arising under this Agreement are convenient to hear such disputes. The official language for this Agreement is English.
6.2. Entire Agreement. This Agreement together with the attached Exhibits sets forth the entire agreement and understanding of the parties relating to the subject matter herein and merges all prior discussion(s) between them. No modification of or amendment to this Agreement, nor any waiver of any rights under this Agreement, will be effective unless set forth in writing signed by officers of both parties hereto.  
6.3. Notices. Any notice to LGGI required or permitted by this Agreement shall be in writing and either delivered by hand or sent by prepaid, registered or certified mail, return receipt requested, or by nationally recognized overnight courier service, addressed to LGGI at the address shown at the beginning of this Agreement. 
6.4. Assignment and Binding Effect. You may not transfer or assign Your rights or obligations under this Agreement without the prior written consent of LGGI.  This Agreement will be binding upon and inure to the benefit of the parties hereto, and to LGGI's successors and assigns.
6.5. Partial Invalidity. If any provision of this Agreement is held to be invalid by a court of competent jurisdiction, then the remaining provisions will nevertheless remain in full force and effect. 
6.6. No Waiver. No waiver of any term or condition of this Agreement will be valid or binding on either party unless the same will have been mutually assented to in writing by an officer of both parties. LGGI's decision at any time to refrain from enforcing any of the provisions of the Agreement, or the failure to require at any time performance by You of any of the provisions of this Agreement, will in no way be construed to be a present or future waiver of such provisions, nor in any way affect the validity of an effort by LGGI to enforce each and every such provision thereafter.
6.7. Interpretation.  Headings are provided for convenience but are not part of this Agreement.  Words in the plural have the same meaning as words in the singular, except multiplied.  Defined conjugate verbs have the same meaning as the defined derivative, modified as appropriate in context.  (For example, DECODING has similar meaning to the defined term DECODE.)
                                  5051 Peachtree Corners Circle, Suite 100, Norcross, GA 30092-2500	770-776-3400

APPENDIX A
Required EULA Terms for ECW/JP2 CODEC SDK
You shall distribute the END APPLICATION to end users by means of an End User License Agreement ("EULA").  You shall provide clear notice to end users before or at the time of delivery of the END APPLICATION that the END APPLICATION contains technology owned by LGGI.
You shall distribute the END APPLICATION with the EULA in a manner that forms a contract binding the end user to the EULA terms under applicable law.
You may include in the EULA additional notices or other provisions, so long as they are no less protective of LGGI than the terms set forth below. 
The EULA shall substantially contain the following terms:
* You have acquired a product ("PRODUCT") that includes software licensed from Leica Geosystems Geospatial Imaging, LLC, having a principle place of business at 5051 Peachtree Corners Cir., Ste 100, Norcross, GA 30092 USA ("LGGI") . Those installed software products of LGGI origin, as well as any associated media, printed materials, and "online" or electronic documentation ("SOFTWARE) are protected by copyright laws and international copyright treaties. The SOFTWARE is licensed, not sold.  
* If You do not agree to this End User License Agreement ("EULA"), do not use [or download] the PRODUCT. If you have paid consideration in return for authorization to use the PRODUCT, promptly contact the person from whom You received this PRODUCT for instructions on return of the unused PRODUCT(S) for a refund. Any use of the SOFTWARE, including but not limited to use of the PRODUCT, will constitute Your agreement to this EULA (or ratification of any previous consent).
* NO WARRANTIES FOR THE SOFTWARE. The SOFTWARE is provided "AS IS" and with all faults. THE ENTIRE RISK AS TO SATISFACTORY QUALITY, PERFORMANCE AND ACCURACY IS WITH YOU. ALSO, THERE IS NO WARRANTY AGAINST INTERFERENCE WITH YOUR ENJOYMENT OF THE SOFTWARE OR AGAINST INFRINGEMENT. IF YOU HAVE RECEIVED ANY WARRANTIES REGARDING THE PRODUCT OR THE SOFTWARE, THOSE WARRANTIES DO NOT ORIGINATE FROM, AND ARE NOT BINDING ON, LGGI. 
* NO LIABILITY FOR CERTAIN DAMAGES. EXCEPT AS PROHIBITED BY LAW, LGGI SHALL HAVE NO LIABILITY FOR ANY INDIRECT, SPECIAL, CONSEQUENTIAL OR INCIDENTAL DAMAGES ARISING FROM OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THE SOFTWARE. THIS LIMITATION SHALL APPLY EVEN IF ANY REMEDY FAILS IN ITS ESSENTIAL PURPOSE.
* Limitations on Reverse Engineering, Decompilation and Disassembly. You may not reverse engineer, decompile, or disassemble the SOFTWARE.  If You wish to use the SOFTWARE to create Your own applications, You must adhere to the ECW/JP2 CODEC SDK End-User License Agreement, which is available by contacting LGGI or by visiting www.lggi.com.
* Export Restrictions. You acknowledge that the SOFTWARE, or any part thereof, or any process or service that is the direct product of the SOFTWARE is of U.S. origin. You agree to comply with all applicable international and national laws that apply to these products, including the U.S. Export Administration Regulations, as well as end-user, end-use and destination restrictions issued by U.S. and other governments.
ECW/JP2 CODEC SDK End-User License Agreement

Page 4 of 3

Rev. 1 (Nov. 2007)

A-1

From warmerdam at pobox.com  Wed Dec 12 13:41:36 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 12 13:42:07 2007
Subject: [gdal-dev] change in ECW license agreement
In-Reply-To: <4760269E.8010409@gov.yk.ca>
References: <4760269E.8010409@gov.yk.ca>
Message-ID: <47602B60.7030608@pobox.com>

Matt Wilkie wrote:
> Hello Folks,
> 
> In recent discussion with a sales representative ER Mapper, now owned by
> Leica Geosystems Geospatial Imaging, it came to light that there is a
> new End User License Agreement in effect for the ECW/JP2 SDK, as of this
> week. (I'm trying to determine what license we need to buy in order to
> use gdal_translate to create ecw larger than 500mb).
> 
> The new EULA mentions open source projects specifically in a couple of
> provisions.  I'm not going to go so far as to interpret them, because
> I'll probably get it wrong! From my limited understanding it does look
> like some things might need to be changed in how GDAL packages and
> distributes the ECW driver, and that an organisation which uses open
> source ecw-using tools to produce products it sells might be considered
> commercial use(?).
> 
> In any case, there are people here who the changes will impact and would
> want to be aware of it. If the attached document does not make it
> through, the EULA can be found at
> http://www.ermapper.com/Downloads.aspx?v=315 (after free registration,
> the EULA will be shown before download begins).

Matt,

I'm not a lawyer, and don't want to give legal advice or interpretation
on the license either.  But clearly this is a substantial retreat from
the licensing terms available for the 3.3 beta release which I will
continue to use under the old terms.   At some point I might review the
old license terms, and see how practical it would be to operate a
"nearly open source" fork based on the old terms.

I don't find the "non commercial" terms very useful, though the intent
does seem to be to provide decoding for free with some attached
conditions.

/me sighs.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From chowell at pyxisinnovation.com  Wed Dec 12 14:53:50 2007
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Wed Dec 12 14:58:50 2007
Subject: [gdal-dev] Invalid GeoTransform
Message-ID: <47603C4E.6010305@pyxisinnovation.com>

I've got an NTF file that I am trying to open with GDAL 1.4.4. GDal is 
currently throwing an invalid Geo Transform (We don't supported skewed 
datasources). Is there any way using FW tools I can repair this 
transform to make it more GDAl friendly.

Cheers
Chris
From matt.wilkie at gov.yk.ca  Wed Dec 12 15:20:20 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Dec 12 15:20:38 2007
Subject: [gdal-dev] python: setting nodata affects all bands
Message-ID: <47604284.5010300@gov.yk.ca>

Hi Folks,

I'm endeavouring to teach myself a little about pythin and gdal by 
working on a python script to set the nodata value on a raster. I've 
encountered a puzzling thing and I don't know if this is expected 
behaviour or I'm doing something wrong. If set nodata on a single band, 
all of the bands are affected. For my current project this doesn't 
matter, but it just doesn't seem right to me.

In the script below I expected band 1 to be changed and the others to 
remain as they are.

----- gdalsetnull.py -----
import gdal
import sys
import os.path

if len(sys.argv) < 2:
	 print "Usage: gdalsetnull.py raster_file null_value"
	 sys.exit(1)

input = sys.argv[1]
null_value = sys.argv[2]

dataset = gdal.Open( input, gdal.GA_Update )
if dataset is None:
     print 'Unable to open', input, 'for writing'
     sys.exit(1)

b1 = dataset.GetRasterBand(1)
b2 = dataset.GetRasterBand(2)
b3 = dataset.GetRasterBand(3)

print 'Initial nodata:\t', b1.GetNoDataValue(), b2.GetNoDataValue(), 
b3.GetNoDataValue()

b1.SetNoDataValue( float(null_value) )

print 'Output nodata:\t', b1.GetNoDataValue(), b2.GetNoDataValue(), 
b3.GetNoDataValue()
---------------------------

I'm using GDAL 1.5.0b1, FWTools 2.0.3, released 2007/12/10


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From szekerest at gmail.com  Wed Dec 12 16:01:59 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Dec 12 16:02:03 2007
Subject: [gdal-dev] SRS_UL_US_FOOT etc in C#?
In-Reply-To: <629400.90259.qm@web32904.mail.mud.yahoo.com>
References: <629400.90259.qm@web32904.mail.mud.yahoo.com>
Message-ID: <f3b73b7d0712121301uf5ac9a9g55edd359bd4f8b2f@mail.gmail.com>

Mark,

This is due to how SWIG handles the %constant declaration for the
char* constants. I consider this as a bug and I'll submit a csharp
specific fix for it. I guess however this problem applies to the java
side as well.

Moreover in the future we should alter how to expose the constants
that would be suitable for all of the languages equally well. I'll
post a development note about that here as soon as possible for
further consideration of the other SWIG language maintainers.

Best regards,

Tamas



2007/12/11, Mark Cheyne <cheynm@yahoo.com>:
> Hello - I am using SpatialReference.SetLinearUnits()
> (http://www.gdal.org/ogr/classOGRSpatialReference.html#2016fee7b234666c5e94d528661e6729)
> which takes a string identifying the unit, and a
> double defining its conversion factor to meters.
>
> in the C# wrap, I see the static readonly strings like
>
> OSGeo.OSR.Osr.SRS_UL_US_FOOT and
> OSGeo.OSR.Osr.SRS_UL_US_FOOT_CONV which would seem to
> be the sort of thing I want as the arguments to
> SetLinearUnits().
>
> But interestingly, the values of these constants is
> their NAME, not their VALUE as listed in the #DEFINEs
> in ogr_srs_api.h
> (http://www.gdal.org/ogr/ogr__srs__api_8h-source.html)
>
> For example, I'd expect
>
> OSGeo.OSR.Osr.SRS_UL_US_FOOT = "U.S. Foot"
> but it is
> OSGeo.OSR.Osr.SRS_UL_US_FOOT = "SRS_UL_US_FOOT"
>
> huh?
>
> thanks, Mark
>
> Mark Cheyne
> (608) 332-2235 (cell)
>
>
>       ____________________________________________________________________________________
> Looking for last minute shopping deals?
> Find them fast with Yahoo! Search.  http://tools.search.yahoo.com/newsearch/category.php?category=shopping
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Wed Dec 12 16:14:36 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 12 16:14:54 2007
Subject: [gdal-dev] python: setting nodata affects all bands
In-Reply-To: <47604284.5010300@gov.yk.ca>
References: <47604284.5010300@gov.yk.ca>
Message-ID: <47604F3C.1030400@pobox.com>

Matt Wilkie wrote:
> Hi Folks,
> 
> I'm endeavouring to teach myself a little about pythin and gdal by 
> working on a python script to set the nodata value on a raster. I've 
> encountered a puzzling thing and I don't know if this is expected 
> behaviour or I'm doing something wrong. If set nodata on a single band, 
> all of the bands are affected. For my current project this doesn't 
> matter, but it just doesn't seem right to me.
> 
> In the script below I expected band 1 to be changed and the others to 
> remain as they are.

Matt,

Conceptually each band has a distinct no data value.  However, in
practice, some drivers assume a common nodata value for all bands.  Was
this possibly a geotiff file you were operating on?  This could be
construed as a bug or at least a deficiency of the format driver you
were using.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Wed Dec 12 16:29:45 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 12 16:30:12 2007
Subject: [gdal-dev] Invalid GeoTransform
In-Reply-To: <47603C4E.6010305@pyxisinnovation.com>
References: <47603C4E.6010305@pyxisinnovation.com>
Message-ID: <476052C9.3060103@pobox.com>

Chris Howell wrote:
> I've got an NTF file that I am trying to open with GDAL 1.4.4. GDal is 
> currently throwing an invalid Geo Transform (We don't supported skewed 
> datasources). Is there any way using FW tools I can repair this 
> transform to make it more GDAl friendly.

Chris,

It would be helpful to see a gdalinfo report on the problem file.

Generally speaking you can use gdalwarp to transform an image into a
north up, regularly grided image if the source is rotated, skewed, or
defined by control points.  Sometimes as simple as:

   gdalwarp in.ntf out.tif

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From matt.wilkie at gov.yk.ca  Wed Dec 12 16:44:09 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Dec 12 16:44:41 2007
Subject: [gdal-dev] python: setting nodata affects all bands
In-Reply-To: <47604F3C.1030400@pobox.com>
References: <47604284.5010300@gov.yk.ca> <47604F3C.1030400@pobox.com>
Message-ID: <47605629.9070008@gov.yk.ca>

> Conceptually each band has a distinct no data value.  However, in
> practice, some drivers assume a common nodata value for all bands.  Was
> this possibly a geotiff file you were operating on?  This could be
> construed as a bug or at least a deficiency of the format driver you
> were using.

Yes it was a geotiff; 3 band RGB. I'll create a bug ticket.

I've also run into trouble trying to clear the nodata value. The doc[0], 
if I'm reading the right one, says 'To clear the nodata value, just set 
it with an "out of range" value.', but what is an out of range value?

[0] 
http://www.gdal.org/classGDALRasterBand.html#c6f081d253dee55c372e54cfdd8f05a6


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From warmerdam at pobox.com  Wed Dec 12 16:47:50 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 12 16:48:08 2007
Subject: [gdal-dev] Building Gdal 1.5 beta on a 64 bit system
In-Reply-To: <597659.66797.qm@web32007.mail.mud.yahoo.com>
References: <597659.66797.qm@web32007.mail.mud.yahoo.com>
Message-ID: <47605706.4040003@pobox.com>

Steve Popovich wrote:
> Frank Warmerdam wrote:
> 
> Are you possibly using an external libtiff?
> 
> Yes I was. I rebuilt with ./configure --without-libtool --with-python --with-libtiff=internal
> and the autotest results were:
>  ------------ Failures ------------
> Script: ogr/ogr_geom.py
>   TEST: ogr_geom_empty ... fail
>     IsEmpty returning false for an empty geometry
>  ----------------------------------

Steve,

I doubt the above is significant.  I think the autotest is just a bit out of
sync with the 1.4 branch behavior.

> I'm new to this environment and never did a trac ticket so I'll have to look into it.
> For now I'll try to add a little more info.
> I built gdal-1.4.4 with a standard devel installation on openSuse10.2 x86_64.
> This is the first time I tried to build something and had to install extra deps.
> The first link error was with LibSM.la. I had that file in /usr/lib64 but not /usr/lib
> I installed xorg-x11-libSM-devel-32bit and got past that link error only to fail at the next.

It is not at all clear to me why GDAL would have a dependency on X11 stuff
like libSM.  BTW, were you deliberately trying to build 32bit executables?
I also don't understand why 32bit versions of stuff would be needed.

> I then installed all the x11-devel-32bit files and then failed linking to libidn.
> openSuse10.2 does not have a 32bit devel package for libidn so I gave up.
> That is when I configured --without-libtool and everything worked.
> This is the first time in all the pkgs I built over the last 4 years that I had to build 
> with the --without-libtool option. As you can
>  see from above that it works but is this
> acceptable or is something wrong with libtool creation?

When things get messy, I build --without-libtool.  It works fine in
normal situations, but it seems fragile.  (IMHO)

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From matt.wilkie at gov.yk.ca  Wed Dec 12 17:08:52 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Dec 12 17:09:21 2007
Subject: [gdal-dev] python: setting nodata affects all bands
In-Reply-To: <47605629.9070008@gov.yk.ca>
References: <47604284.5010300@gov.yk.ca> <47604F3C.1030400@pobox.com>
	<47605629.9070008@gov.yk.ca>
Message-ID: <47605BF4.9030000@gov.yk.ca>

> Yes it was a geotiff; 3 band RGB. I'll create a bug ticket.

"gtiff driver not respecting separate nodata for each band"
http://trac.osgeo.org/gdal/ticket/2083


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From cartrite1 at yahoo.com  Wed Dec 12 17:27:57 2007
From: cartrite1 at yahoo.com (Steve Popovich)
Date: Wed Dec 12 17:27:59 2007
Subject: [gdal-dev] Building Gdal 1.5 beta on a 64 bit system
In-Reply-To: <47605706.4040003@pobox.com>
Message-ID: <126063.50614.qm@web32001.mail.mud.yahoo.com>



Frank Warmerdam <warmerdam@pobox.com> wrote: Steve Popovich wrote:
> Frank Warmerdam wrote:
> 
> Are you possibly using an external libtiff?
> 
> Yes I was. I rebuilt with ./configure --without-libtool --with-python --with-libtiff=internal
> and the autotest results were:
>  ------------ Failures ------------
> Script: ogr/ogr_geom.py
>   TEST: ogr_geom_empty ... fail
>     IsEmpty returning false for an empty geometry
>  ----------------------------------

Steve,

I doubt the above is significant.  I think the autotest is just a bit out of
sync with the 1.4 branch behavior.
OK


> I'm new to this environment and never did a trac ticket so I'll have to look into it.
> For now I'll try to add a little more info.
> I built gdal-1.4.4 with a standard devel installation on openSuse10.2 x86_64.
> This is the first time I tried to build something and had to install extra deps.
> The first link error was with LibSM.la. I had that file in /usr/lib64 but not /usr/lib
> I installed xorg-x11-libSM-devel-32bit and got past that link error only to fail at the next.

It is not at all clear to me why GDAL would have a dependency on X11 stuff
like libSM.  BTW, were you deliberately trying to build 32bit executables?
I also don't understand why 32bit versions of stuff would be needed.

I posted the original error that was on the terminal output here. http://trac.osgeo.org/gdal/wiki/TestMatrix150
I wasn't trying to do anything special. I still get the error by using just ./configure. The libtool that is being generated is linking to the wrong libs. I only installed the 32bit devel files because I wanted to see what would happen if the file was in the folder that the linker was looking in.


> I then installed all the x11-devel-32bit files and then failed linking to libidn.
> openSuse10.2 does not have a 32bit devel package for libidn so I gave up.
> That is when I configured --without-libtool and everything worked.
> This is the first time in all the pkgs I built over the last 4 years that I had to build 
> with the --without-libtool option. As you can
>  see from above that it works but is this
> acceptable or is something wrong with libtool creation?

When things get messy, I build --without-libtool.  It works fine in
normal situations, but it seems fragile.  (IMHO)

The only thing that bothers me is that this probably shouldn't be happening. If it happens to me it will probably happen to others too.

Steve


Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



       
---------------------------------
Be a better friend, newshound, and know-it-all with Yahoo! Mobile.  Try it now.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071212/8db19ade/attachment-0001.html
From szekerest at gmail.com  Wed Dec 12 17:41:34 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Dec 12 17:41:37 2007
Subject: [gdal-dev] Exposing constants and enums to the SWIG interface
Message-ID: <f3b73b7d0712121441o742282d7h3419bffc88a4cea@mail.gmail.com>

Dear SWIG maintainers,

Currently we extensively use the following way to expose the constants
to the SWIG interface

%constant char *SRS_UL_US_FOOT = SRS_UL_US_FOOT;

that doesn't work equally well for all of the target languages.
In case of the csharp (and the java) bindings SWIG considers the right
side of the definition as the value itself and quotes the value in the
generated code. Therefore the caller will get  "SRS_UL_US_FOOT"
instead of it's underlying value ("U.S. Foot")

There's another fundamental problem how the constants are handled
right now that should be cleared up.
Most of the constants are defined in many places that might be out of
sync easily. For example we can find such definitions in both of
ogr_srs_api.h and gdalbridge.h. Most of these definitions are repeated
in osr.i but not all of them like

SRS_PT_BONNE, SRS_PT_ECKERT_I, SRS_PT_ECKERT_II, SRS_PT_ECKERT_III and
many more are completely missing and therefore not exposed to the SWIG
interface right now.

I would suggest to define the constants in a common place instead. We
could create a separate file like ogr_srs_const.h that would contain
all of the constants (and enums) to expose. Then ogr_srs_api.h,
gdalbridge.h would include this file directly and osr.i would use
%include  ogr_srs_api.h
for generating the wrappers. I consider %include is working equally
well for all of the SWIG languages, definitely.
I would also propose to expose the enum definitions this way.

How about these issues?


Best regards,

Tamas
From cartrite1 at yahoo.com  Wed Dec 12 17:51:40 2007
From: cartrite1 at yahoo.com (Steve Popovich)
Date: Wed Dec 12 17:51:43 2007
Subject: [gdal-dev] Building Gdal 1.5 beta on a 64 bit system
In-Reply-To: <47605706.4040003@pobox.com>
Message-ID: <719951.96232.qm@web32006.mail.mud.yahoo.com>



Frank Warmerdam <warmerdam@pobox.com> wrote:

It is not at all clear to me why GDAL would have a dependency on X11 stuff
like libSM.  BTW, were you deliberately trying to build 32bit executables?
I also don't understand why 32bit versions of stuff would be needed.

Also,
 This may be a bug in gcc 4.1.2. or whatever is creating the 
libtool file. This didn't happen while building 1.4.4. 
Is something different in the configure files in these beta versions?
Steve


Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



       
---------------------------------
Be a better friend, newshound, and know-it-all with Yahoo! Mobile.  Try it now.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071212/f0b3b3dd/attachment.html
From blake at hailmail.net  Wed Dec 12 22:47:46 2007
From: blake at hailmail.net (Dane Springmeyer)
Date: Wed Dec 12 22:47:55 2007
Subject: [gdal-dev] FAQ wiki additions
In-Reply-To: <475EC614.6040508@gov.yk.ca>
References: <475EC614.6040508@gov.yk.ca>
Message-ID: <1DBF2CBD-02FA-4547-A1D5-CD74DE64E5E2@hailmail.net>

Two items related to Gdal Trac:

1) It's awesome. As a new gdal user I've been able to learn an  
immense amount there and the interface is amazing. A big thanks to  
the folks that set it up.

and

2) I've added to the user wiki in two places, and I would be great if  
anyone would review:

How can I merge hundreds of shapefiles?
http://trac.osgeo.org/gdal/wiki/FAQVector

How do I use gdal_translate to extract or clip a sub-section of a  
raster?
http://trac.osgeo.org/gdal/wiki/ 
FAQRaster#HowdoIusegdal_translatetoextractorclipasub-sectionofaraster


Cheers,

Dane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071212/df1ca5f9/attachment.html
From ivan at theory.asu.ru  Thu Dec 13 00:58:13 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Thu Dec 13 00:58:25 2007
Subject: [gdal-dev] gdal_translate (ProxyMain): Simplified `-gcp' handling.
Message-ID: <m2ir33qgp6.fsf@cherry.siamics.int>

	There's no need to check either the CPLStrTod () return value or
	`argv[i + 1][0]' -- only the `endptr' check is required.

--- gdal_translate.cpp.~1~	2007-12-13 10:24:46.000000000 +0600
+++ gdal_translate.cpp	2007-12-13 11:32:31.000000000 +0600
@@ -210,12 +210,12 @@
             pasGCPs[nGCPCount-1].dfGCPX = atof(argv[++i]);
             pasGCPs[nGCPCount-1].dfGCPY = atof(argv[++i]);
             if( argv[i+1] != NULL 
-                && (CPLStrtod(argv[i+1], &endptr) != 0.0 || argv[i+1][0] == '0') )
-            {
-                /* Check that last argument is really a number and not a filename */
-                /* looking like a number (see ticket #863) */
-                if (endptr && *endptr == 0)
-                    pasGCPs[nGCPCount-1].dfGCPZ = atof(argv[++i]);
+                /* Check that last argument is really a number and not
+                 * a filename looking like a number (see ticket #863)
+                 */
+                && (CPLStrtod(argv[i+1], &endptr),
+                    endptr && *endptr == '\0')) {
+                pasGCPs[nGCPCount-1].dfGCPZ = atof(argv[++i]);
             }
 
             /* should set id and info? */

From ivan at theory.asu.ru  Thu Dec 13 03:40:14 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Thu Dec 13 03:40:25 2007
Subject: [gdal-dev] build system vs. libtool
Message-ID: <m2ejdrq975.fsf@cherry.siamics.int>

	I wonder, how the following is expected to work?

$ nl -ba GDALmake.opt 
...
     4	#
     5	# the library can be built by the native build or with the help of libtool
     6	#
     7	HAVE_LIBTOOL	=	yes
     8	LIBTOOL	=	$(SHELL) $(top_builddir)/libtool
     9	ifeq ($(HAVE_LIBTOOL),yes)
    10	LIBTOOL_COMPILE_CC =	$(LIBTOOL) --mode=compile --tag=CC
    11	LIBTOOL_COMPILE_CXX =	$(LIBTOOL) --mode=compile --tag=CXX
    12	LIBTOOL_LINK	=	$(LIBTOOL) --mode=link
    13	LIBTOOL_INSTALL	=	$(LIBTOOL) --mode=install
    14	LIBTOOL_FINISH	=	$(LIBTOOL) --mode=finish --silent
    15	LIBTOOL_CLEAN	=	$(LIBTOOL) --mode=clean
    16	else
    17	LIBTOOL_FINISH	=	/bin/true
    18	endif
...
    20	CC	=	$(LIBTOOL_COMPILE_CC) gcc
    21	CXX	=	$(LIBTOOL_COMPILE_CXX) g++
    22	LD	=	$(LIBTOOL_LINK)	g++
...
   345	#
   346	# gdal and ogr low level drivers use the following default rules in order to
   347	# populate the ../o/ directory with all object and library object files
   348	#
   349	
   350	O_OBJ =	$(foreach file,$(OBJ),../o/$(file))
   351	
   352	../o/%.o:	%.c
   353		$(CC) $(CFLAGS) $(CPPFLAGS) -c -o $@ $<
   354	
   355	../o/%.o:	%.cpp
   356		$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c -o $@ $<
   357	
   358	%.o:	%.c
   359		$(CC) $(CFLAGS) $(CPPFLAGS) -c -o $@ $<
   360	
   361	%.o:	%.cpp
   362		$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c -o $@ $<
...
$ 

	IIUC, when using `libtool', the `.o' files are put into the
	`.libs/' subdirectory, and in the build directory the
	corresponding `.lo' are created instead.  Thus, Make ends up
	trying to build each of the `.o' files each time it's run.

	Moreover, Make fails to build most of the targets in the `apps'
	subdirectory:

--cut--
/bin/sh /[gdal-build-dir]/libtool --mode=compile --tag=CC gcc -g -O2  -Wall -Wdeclaration-after-statement  -I/[gdal-build-dir]/port -I/[gdal-build-dir]/gcore -I/[gdal-build-dir]/alg -I/[gdal-build-dir]/ogr -I/[gdal-build-dir]/ogr/ogrsf_frmts -I/[gdal-build-dir]/frmts -DOGR_ENABLED -I/[gdal-build-dir]/port  -c -o gdalinfo.o gdalinfo.c
libtool: compile:  gcc -g -O2 -Wall -Wdeclaration-after-statement -I/[gdal-build-dir]/port -I/[gdal-build-dir]/gcore -I/[gdal-build-dir]/alg -I/[gdal-build-dir]/ogr -I/[gdal-build-dir]/ogr/ogrsf_frmts -I/[gdal-build-dir]/frmts -DOGR_ENABLED -I/[gdal-build-dir]/port -c gdalinfo.c  -fPIC -DPIC -o .libs/gdalinfo.o
/bin/sh /[gdal-build-dir]/libtool --mode=link	g++  gdalinfo.o  \
		/[gdal-build-dir]/libgdal.la -o gdalinfo
libtool: link: g++ gdalinfo.o -o .libs/gdalinfo  /[gdal-build-dir]/.libs/libgdal.so -L/usr/lib /usr/lib/libsqlite3.so /usr/lib/libexpat.so /usr/lib/libhdf5.so -lm -lmfhdf -ldf /usr/lib/libjpeg.so -lpng -lnetcdf -lz -lpthread -lrt -ldl -Wl,-rpath -Wl,/var/home/ivan/lib
g++: gdalinfo.o: No such file or directory
make[1]: *** [gdalinfo] Error 1
--cut--

	May I suggest replacing `.o' in all the code with a kind of
	`.$(OBJEXT)' and setting `OBJEXT' to `lo' when Libtool is in
	use?

From ivan at theory.asu.ru  Thu Dec 13 04:09:10 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Thu Dec 13 04:09:23 2007
Subject: [gdal-dev] gdal_translate: a preliminary `-gcp_file' patch
In-Reply-To: <20071211165840.GA1237@ak4719.spb.edu> (Andrey Kiselev's message
	of "Tue, 11 Dec 2007 19:58:40 +0300")
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru> <86y7c1txzi.fsf_-_@th2.phys.asu.ru>
	<20071211101055.GA31760@ak4719.spb.edu>
	<b1e3a35f0712110314ub20d42sc8d094194237d2ce@mail.gmail.com>
	<20071211165840.GA1237@ak4719.spb.edu>
Message-ID: <m27ijjq7ux.fsf_-_@cherry.siamics.int>

	Since the current version of GDAL doesn't support reading GCPs
	from some of the data sets I use [1], I have to use
	`gdal_translate' to specify all the GCPs, like:

$ file=/where/is/AIRS-L2-RetStd.hdf
$ gdal_translate \
      $(paste <(hdfdump --text "$file" {Long,Lat}itude) \
            | gawk '$1 != -9999 && $2 != -9999 { print "-gcp", (NR - 1) % 30 + .5, int ((NR - 1) / 30) + .5, $1, $2; }') \
      "HDF4_EOS:EOS_SWATH:\"$file\":L2_Standard_atmospheric&surface_product:TSurfStd" \
      AIRS-L2-RetStd.TSurfStd.gcp.tiff
$ 

	There, the dimensions of the data set are 30x45.

	However, would I try to use the above on a larger data set (say,
	MODIS 1 km, which is 1354x2030 for a standard NASA granule),
	I'll quickly run into the command line size limit (on most of
	the operating systems I know.)

	Therefore, I suggest the new `-gcp_from FILE' option for
	`gdal_translate'.

	The patch is roughly as follows.  Beware that the getline ()
	function is a GNU extension, available either from GNU Libc [2],
	or Gnulib [3].

--- gdal_translate.cpp.~4~	2007-12-13 11:32:31.000000000 +0600
+++ gdal_translate.cpp	2007-12-13 13:57:30.000000000 +0600
@@ -57,6 +57,7 @@
             "       [-srcwin xoff yoff xsize ysize] [-projwin ulx uly lrx lry]\n"
             "       [-a_srs srs_def] [-a_ullr ulx uly lrx lry] [-a_nodata value]\n"
             "       [-gcp pixel line easting northing [elevation]]*\n" 
+            "       [-gcp_from gcp_file]*\n" 
             "       [-mo \"META-TAG=VALUE\"]* [-quiet] [-sds]\n"
             "       [-co \"NAME=VALUE\"]*\n"
             "       src_dataset dst_dataset\n\n" );
@@ -79,6 +80,79 @@
 }
 
 /************************************************************************/
+/*                           handleGCPfrom ()                           */
+/************************************************************************/
+static int
+handleGCPfrom (const char *filename, GDAL_GCP **gcpp, int *ngcpp)
+{
+    /* NB: `ngcpp' should be of type `size_t *' rather than `int *' */
+    FILE *fp;
+    int lineno;
+    char *linebuf = 0;
+    size_t linesz = 0;
+    size_t new_points;
+
+    /* open the file, return -1 on failure */
+    fp = fopen (filename, "r");
+    if (fp == 0) {
+        /* use strerror () here? */
+        /* follow generic Unix ``program: message'' convention? */
+        fprintf (stderr, "WARNING: handleGCPfrom (): %s: %s\n",
+                 filename, "fopen () failed");
+        return -1;
+    }
+
+    /* parse the file */
+    /* NB: for better performance, CPLRealloc () the array in bigger
+     *     steps */
+    for (lineno = 0, new_points = 0; ! feof (fp); lineno++) {
+        int rv;
+        float pix, lin, x, y, elev;
+
+        /* NB: fscanf () is hardly a good idea */
+        {
+            ssize_t read;
+            if ((read = getline (&linebuf, &linesz, fp)) < 0) {
+                /* NB: a warning if not EOF here? */
+                break;
+            }
+        }
+
+        rv = sscanf (linebuf, " %f %f %f %f %f",
+                     &pix, &lin, &x, &y, &elev);
+        if (rv < 4) {
+            fprintf (stderr,
+                     ("WARNING: handleGCPfrom (): %s:%d"
+                      ": cannot parse line\n"),
+                     filename, lineno);
+            continue;
+        }
+
+        /* append the GCP just read to the array */
+
+        new_points++;
+        *gcpp = (GDAL_GCP *)
+            CPLRealloc (*gcpp, sizeof (**gcpp) * (++(*ngcpp)));
+        GDAL_GCP *tailp = *gcpp + *ngcpp - 1;
+        GDALInitGCPs (1, tailp);
+
+        tailp->dfGCPPixel = pix;
+        tailp->dfGCPLine = lin;
+        tailp->dfGCPX = x;
+        tailp->dfGCPY = y;
+    }
+
+    /* deallocate the line buffer */
+    CPLFree (linebuf);
+
+    /* close the file */
+    fclose (fp);
+
+    /* . */
+    return new_points;
+}
+
+/************************************************************************/
 /*                             ProxyMain()                              */
 /************************************************************************/
 
@@ -221,6 +295,11 @@
             /* should set id and info? */
         }   
 
+        else if (EQUAL (argv[i], "-gcp_from") && i < argc - 1) {
+            handleGCPfrom (argv[++i], &pasGCPs, &nGCPCount);
+            ++i;
+        }
+
         else if( EQUAL(argv[i],"-a_nodata") && i < argc - 1 )
         {
             bSetNoData = TRUE;

[1] http://trac.osgeo.org/gdal/ticket/2079
[2] http://www.gnu.org/software/libc/
[3] http://www.gnu.org/software/gnulib/

From dron at ak4719.spb.edu  Thu Dec 13 07:50:22 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Thu Dec 13 08:03:07 2007
Subject: [gdal-dev] gdal_translate (ProxyMain): Simplified `-gcp' handling.
In-Reply-To: <m2ir33qgp6.fsf@cherry.siamics.int>
References: <m2ir33qgp6.fsf@cherry.siamics.int>
Message-ID: <20071213125022.GA12922@ak4719.spb.edu>

On Thu, Dec 13, 2007 at 11:58:13AM +0600, Ivan Shmakov wrote:
> +                && (CPLStrtod(argv[i+1], &endptr),
> +                    endptr && *endptr == '\0')) {

By the way, strtod() should be used here instead of CPLStrtod().

Best regards,
Andrey


-- 
Andrey V. Kiselev
ICQ# 26871517
From woklist at kyngchaos.com  Thu Dec 13 09:39:19 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Thu Dec 13 09:39:27 2007
Subject: [gdal-dev] build system vs. libtool
In-Reply-To: <m2ejdrq975.fsf@cherry.siamics.int>
References: <m2ejdrq975.fsf@cherry.siamics.int>
Message-ID: <E1A997FF-AE73-4E34-958F-1467764A122A@kyngchaos.com>

Ah, so someone else is having this problem.

http://trac.osgeo.org/gdal/ticket/1878

I have this problem on OSX 10.5, and it started on 10.4.  But others  
on 10.4 (ie Mateusz) don't.  Very strange.

On Dec 13, 2007, at 2:40 AM, Ivan Shmakov wrote:

> 	I wonder, how the following is expected to work?
>
> $ nl -ba GDALmake.opt
...
> $
>
> 	IIUC, when using `libtool', the `.o' files are put into the
> 	`.libs/' subdirectory, and in the build directory the
> 	corresponding `.lo' are created instead.  Thus, Make ends up
> 	trying to build each of the `.o' files each time it's run.
>
> 	Moreover, Make fails to build most of the targets in the `apps'
> 	subdirectory:
>
> --cut--
...
> --cut--
>
> 	May I suggest replacing `.o' in all the code with a kind of
> 	`.$(OBJEXT)' and setting `OBJEXT' to `lo' when Libtool is in
> 	use?
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin


From bfraser at geoanalytic.com  Thu Dec 13 10:04:35 2007
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Thu Dec 13 10:04:56 2007
Subject: [gdal-dev] gdal_translate: a preliminary `-gcp_file' patch
References: <13731438.post@talk.nabble.com><936512.72303.qm@web52703.mail.re2.yahoo.com><867ikkf2oh.fsf@th2.phys.asu.ru>
	<86y7c1txzi.fsf_-_@th2.phys.asu.ru><20071211101055.GA31760@ak4719.spb.edu><b1e3a35f0712110314ub20d42sc8d094194237d2ce@mail.gmail.com><20071211165840.GA1237@ak4719.spb.edu>
	<m27ijjq7ux.fsf_-_@cherry.siamics.int>
Message-ID: <017901c83d99$7975e800$140002c0@shark>

Ivan,

  Would using the current --optfile command line switch (see
the bottom of http://www.gdal.org/gdal_utilities.html) work?
You could try

    gdal_translate -optfile my_gcps.txt infile.hdf
outtile.tif

with  a file of "my_gcps.txt":

-gcp 0 0 10000 123456
-gcp 10 10 10200

I'm not sure how GDAL handles reading the file specified in
the --optfile, but I did use a similar technique to input
135 file names into gdal_vrtmerge.py

Brent Fraser
GeoAnalytic Inc.
Calgary, Alberta

----- Original Message ----- 
From: "Ivan Shmakov" <ivan@theory.asu.ru>
To: <gdal-dev@lists.osgeo.org>
Sent: Thursday, December 13, 2007 2:09 AM
Subject: [gdal-dev] gdal_translate: a preliminary
`-gcp_file' patch


> Since the current version of GDAL doesn't support reading
GCPs
> from some of the data sets I use [1], I have to use
> `gdal_translate' to specify all the GCPs, like:
>
> $ file=/where/is/AIRS-L2-RetStd.hdf
> $ gdal_translate \
>       $(paste <(hdfdump --text "$file" {Long,Lat}itude) \
>             | gawk '$1 != -9999 && $2 != -9999 { print
"-gcp", (NR - 1) % 30 + .5, int ((NR - 1) / 30) + .5, $1,
$2; }') \
>
"HDF4_EOS:EOS_SWATH:\"$file\":L2_Standard_atmospheric&surfac
e_product:TSurfStd" \
>       AIRS-L2-RetStd.TSurfStd.gcp.tiff
> $
>
> There, the dimensions of the data set are 30x45.
>
> However, would I try to use the above on a larger data set
(say,
> MODIS 1 km, which is 1354x2030 for a standard NASA
granule),
> I'll quickly run into the command line size limit (on most
of
> the operating systems I know.)
>
> Therefore, I suggest the new `-gcp_from FILE' option for
> `gdal_translate'.
>
> The patch is roughly as follows.  Beware that the getline
()
> function is a GNU extension, available either from GNU
Libc [2],
> or Gnulib [3].
>
> --- gdal_translate.cpp.~4~ 2007-12-13 11:32:31.000000000
+0600
> +++ gdal_translate.cpp 2007-12-13 13:57:30.000000000 +0600
> @@ -57,6 +57,7 @@
>              "       [-srcwin xoff yoff xsize ysize]
[-projwin ulx uly lrx lry]\n"
>              "       [-a_srs srs_def] [-a_ullr ulx uly lrx
lry] [-a_nodata value]\n"
>              "       [-gcp pixel line easting northing
[elevation]]*\n"
> +            "       [-gcp_from gcp_file]*\n"
>              "       [-mo \"META-TAG=VALUE\"]* [-quiet]
[-sds]\n"
>              "       [-co \"NAME=VALUE\"]*\n"
>              "       src_dataset dst_dataset\n\n" );
> @@ -79,6 +80,79 @@
>  }
>
>
/***********************************************************
*************/
> +/*                           handleGCPfrom ()
*/
>
+/**********************************************************
**************/
> +static int
> +handleGCPfrom (const char *filename, GDAL_GCP **gcpp, int
*ngcpp)
> +{
> +    /* NB: `ngcpp' should be of type `size_t *' rather
than `int *' */
> +    FILE *fp;
> +    int lineno;
> +    char *linebuf = 0;
> +    size_t linesz = 0;
> +    size_t new_points;
> +
> +    /* open the file, return -1 on failure */
> +    fp = fopen (filename, "r");
> +    if (fp == 0) {
> +        /* use strerror () here? */
> +        /* follow generic Unix ``program: message''
convention? */
> +        fprintf (stderr, "WARNING: handleGCPfrom (): %s:
%s\n",
> +                 filename, "fopen () failed");
> +        return -1;
> +    }
> +
> +    /* parse the file */
> +    /* NB: for better performance, CPLRealloc () the
array in bigger
> +     *     steps */
> +    for (lineno = 0, new_points = 0; ! feof (fp);
lineno++) {
> +        int rv;
> +        float pix, lin, x, y, elev;
> +
> +        /* NB: fscanf () is hardly a good idea */
> +        {
> +            ssize_t read;
> +            if ((read = getline (&linebuf, &linesz, fp))
< 0) {
> +                /* NB: a warning if not EOF here? */
> +                break;
> +            }
> +        }
> +
> +        rv = sscanf (linebuf, " %f %f %f %f %f",
> +                     &pix, &lin, &x, &y, &elev);
> +        if (rv < 4) {
> +            fprintf (stderr,
> +                     ("WARNING: handleGCPfrom (): %s:%d"
> +                      ": cannot parse line\n"),
> +                     filename, lineno);
> +            continue;
> +        }
> +
> +        /* append the GCP just read to the array */
> +
> +        new_points++;
> +        *gcpp = (GDAL_GCP *)
> +            CPLRealloc (*gcpp, sizeof (**gcpp) *
(++(*ngcpp)));
> +        GDAL_GCP *tailp = *gcpp + *ngcpp - 1;
> +        GDALInitGCPs (1, tailp);
> +
> +        tailp->dfGCPPixel = pix;
> +        tailp->dfGCPLine = lin;
> +        tailp->dfGCPX = x;
> +        tailp->dfGCPY = y;
> +    }
> +
> +    /* deallocate the line buffer */
> +    CPLFree (linebuf);
> +
> +    /* close the file */
> +    fclose (fp);
> +
> +    /* . */
> +    return new_points;
> +}
> +
>
+/**********************************************************
**************/
>  /*                             ProxyMain()
*/
>
/***********************************************************
*************/
>
> @@ -221,6 +295,11 @@
>              /* should set id and info? */
>          }
>
> +        else if (EQUAL (argv[i], "-gcp_from") && i <
argc - 1) {
> +            handleGCPfrom (argv[++i], &pasGCPs,
&nGCPCount);
> +            ++i;
> +        }
> +
>          else if( EQUAL(argv[i],"-a_nodata") && i < argc -
1 )
>          {
>              bSetNoData = TRUE;
>
> [1] http://trac.osgeo.org/gdal/ticket/2079
> [2] http://www.gnu.org/software/libc/
> [3] http://www.gnu.org/software/gnulib/
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Thu Dec 13 11:28:12 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec 13 11:28:34 2007
Subject: [gdal-dev] gdal_translate: a preliminary `-gcp_file' patch
In-Reply-To: <m27ijjq7ux.fsf_-_@cherry.siamics.int>
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru>
	<86y7c1txzi.fsf_-_@th2.phys.asu.ru>
	<20071211101055.GA31760@ak4719.spb.edu>
	<b1e3a35f0712110314ub20d42sc8d094194237d2ce@mail.gmail.com>
	<20071211165840.GA1237@ak4719.spb.edu>
	<m27ijjq7ux.fsf_-_@cherry.siamics.int>
Message-ID: <47615D9C.70101@pobox.com>

Ivan Shmakov wrote:
> 	Since the current version of GDAL doesn't support reading GCPs
> 	from some of the data sets I use [1], I have to use
> 	`gdal_translate' to specify all the GCPs, like:

Ivan,

The --optfile was already mentioned.  I just wanted to add that there are
dangers to trying to attach large numbers of GCPs to a GeoTIFF image.  Some
sort of problem with the maximum tag size I believe.  So translating full
density geolocation arrays to GCPs is likely to cause a variety of problems.
One approach is to subsample them.  Another is to treat them as geolocation
arrays in the sense described in:

   http://trac.osgeo.org/gdal/wiki/rfc4_geolocate

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From matt.wilkie at gov.yk.ca  Thu Dec 13 11:57:06 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Dec 13 11:57:50 2007
Subject: [gdal-dev] FAQ wiki additions
In-Reply-To: <1DBF2CBD-02FA-4547-A1D5-CD74DE64E5E2@hailmail.net>
References: <475EC614.6040508@gov.yk.ca>
	<1DBF2CBD-02FA-4547-A1D5-CD74DE64E5E2@hailmail.net>
Message-ID: <47616462.6090207@gov.yk.ca>

Hi Dane,

Thank you for taking the time to let us know you've learned things from 
our sometimes (all times?) sketchy notes. And double thankyous for 
contributing your own.

Cheers,

-matt



> 1) It's awesome. As a new gdal user I've been able to learn an immense 
> amount there and the interface is amazing. A big thanks to the folks 
> that set it up.
 >
 >
> 2) I've added to the user wiki in two places, and I would be great if 
> anyone would review:


From randre at gmail.com  Thu Dec 13 13:44:15 2007
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Thu Dec 13 13:44:17 2007
Subject: [gdal-dev] Trouble reading .dgn files
Message-ID: <9c2015090712131044n1964f038w14143ef5766b9286@mail.gmail.com>

I'm having trouble reading .dgn files using the ogr utilities and can't
figure out what I'm doing wrong.  I've tried to read the data a number of
different ways:

ogrinfo ./ D3460_PFA_RDNew.dgn
ogrinfo ./ D3460_PFA_RDNew
ogrinfo -all ./ D3460_PFA_RDNew.dgn
ogrinfo -all ./ D3460_PFA_RDNew.dgn elements
ogrinfo ./ D3460_PFA_RDNew.dgn elements
ogrinfo -summary ./D3460_PFA_RDNew.dgn elements
ogr2ogr -f "ESRI Shapefile" test.shp ./D3460_PFA_RDNew.dgn
ogr2ogr -f "ESRI Shapefile" test.shp ./D3460_PFA_RDNew.dgn elements

The .dgn format is new to me, so if anyone could give me advice on how best
to work with it using the GDAL libs, I'd very much appreciate it.

Thanks,

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071213/72ead584/attachment.html
From warmerdam at pobox.com  Thu Dec 13 14:08:16 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec 13 14:08:28 2007
Subject: [gdal-dev] Trouble reading .dgn files
In-Reply-To: <9c2015090712131044n1964f038w14143ef5766b9286@mail.gmail.com>
References: <9c2015090712131044n1964f038w14143ef5766b9286@mail.gmail.com>
Message-ID: <47618320.8020407@pobox.com>

Roger Andr? wrote:
> I'm having trouble reading .dgn files using the ogr utilities and can't 
> figure out what I'm doing wrong.  I've tried to read the data a number 
> of different ways:
> 
> ogrinfo ./ D3460_PFA_RDNew.dgn
> ogrinfo ./ D3460_PFA_RDNew
> ogrinfo -all ./ D3460_PFA_RDNew.dgn
> ogrinfo -all ./ D3460_PFA_RDNew.dgn elements
> ogrinfo ./ D3460_PFA_RDNew.dgn elements
> ogrinfo -summary ./D3460_PFA_RDNew.dgn elements
> ogr2ogr -f "ESRI Shapefile" test.shp ./D3460_PFA_RDNew.dgn
> ogr2ogr -f "ESRI Shapefile" test.shp ./D3460_PFA_RDNew.dgn elements
> 
> The .dgn format is new to me, so if anyone could give me advice on how 
> best to work with it using the GDAL libs, I'd very much appreciate it.

Roger,

My first guess would be that these are v8 or newer dgn files.  OGR only
supports the older v7 and earlier format.  What error message are you
getting?  Can you make one of the dgn files available for review?

I'd like to have OGR report a meaningful error for new files if that
is the problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ivan at theory.asu.ru  Thu Dec 13 14:33:28 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Thu Dec 13 14:33:33 2007
Subject: [gdal-dev] Re: build system vs. libtool
In-Reply-To: <E1A997FF-AE73-4E34-958F-1467764A122A@kyngchaos.com> (William
	Kyngesburye's message of "Thu, 13 Dec 2007 08:39:19 -0600")
References: <m2ejdrq975.fsf@cherry.siamics.int>
	<E1A997FF-AE73-4E34-958F-1467764A122A@kyngchaos.com>
Message-ID: <m2tzmmpeyf.fsf@cherry.siamics.int>

>>>>> William Kyngesburye <woklist@kyngchaos.com> writes:

 >> I wonder, how the following is expected to work?

 >> $ nl -ba GDALmake.opt
 > ...
 >> $

[...]

 > Ah, so someone else is having this problem.
 > http://trac.osgeo.org/gdal/ticket/1878

 > I have this problem on OSX 10.5, and it started on 10.4.  But
 > others on 10.4 (ie Mateusz) don't.  Very strange.

	Could someone send me a build log for a successful build (with
	libtool enabled)?

[...]

From maphew at gmail.com  Thu Dec 13 15:32:10 2007
From: maphew at gmail.com (matt wilkie)
Date: Thu Dec 13 15:32:11 2007
Subject: [Gdal-dev] Failed to acquire IOMutex in WarpRegion()
Message-ID: <14324281.post@talk.nabble.com>


Hi,

Does anyone know what this message means and what to do about it?

 gdalwarp -wm 512 -co bigtiff=yes -multi --optfile tiff-w144-list.txt
warp-mosaic-orig-nvue_w144.tif

Creating output file that is 43221P x 54021L.
Processing input file N60-W144_ur.tif.
0...10ERROR 1: Failed to acquire IOMutex in WarpRegion().

where tiff-w144list.txt is a list of 5 input rasters of 1.2gb each,
projection wgs84,  21621 x 18021 pixels.

This is on WinXPsp2 64bit system with 4gb of ram and 150gb free disk space,
and GDAL 1.5.0b1, FWTools 2.0.3, released 2007/12/10. 

thanks,

-matt
-- 
View this message in context: http://www.nabble.com/Failed-to-acquire-IOMutex-in-WarpRegion%28%29-tp14324281p14324281.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From cartrite1 at yahoo.com  Thu Dec 13 15:34:32 2007
From: cartrite1 at yahoo.com (Steve Popovich)
Date: Thu Dec 13 15:34:35 2007
Subject: [gdal-dev] Re: build system vs. libtool
Message-ID: <950751.82513.qm@web32008.mail.mud.yahoo.com>

I'm assuming you are talking about 1.5 beta2? I can build but the build will not link with libtool enabled. So I'm having a slightly different problem. I'm using gcc 4.1.2 on openSuse 10.2 x86_64 platform.
 Steve Popovich 

       
---------------------------------
Never miss a thing.   Make Yahoo your homepage.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071213/8fce3c67/attachment.html
From warmerdam at pobox.com  Thu Dec 13 16:10:14 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec 13 16:10:41 2007
Subject: [Gdal-dev] Failed to acquire IOMutex in WarpRegion()
In-Reply-To: <14324281.post@talk.nabble.com>
References: <14324281.post@talk.nabble.com>
Message-ID: <47619FB6.1030005@pobox.com>

matt wilkie wrote:
> Hi,
> 
> Does anyone know what this message means and what to do about it?
> 
>  gdalwarp -wm 512 -co bigtiff=yes -multi --optfile tiff-w144-list.txt
> warp-mosaic-orig-nvue_w144.tif
> 
> Creating output file that is 43221P x 54021L.
> Processing input file N60-W144_ur.tif.
> 0...10ERROR 1: Failed to acquire IOMutex in WarpRegion().
> 
> where tiff-w144list.txt is a list of 5 input rasters of 1.2gb each,
> projection wgs84,  21621 x 18021 pixels.
> 
> This is on WinXPsp2 64bit system with 4gb of ram and 150gb free disk space,
> and GDAL 1.5.0b1, FWTools 2.0.3, released 2007/12/10. 

Matt,

When you use -multi, the warper attempts to keep two threads working, one
doing read/write, and one doing resampling in memory.  For synchronization
purposes they use mutexes, and with a default timeout of 600 seconds.  If
one thread waits more than 600s you will get the above error, and a warp
failure.

Perhaps I ought to increase the timeouts quite a lot.  If you file a ticket,
I'll look into it.  But from your side you can reduce the chunk size so it
won't take so long to process.  Use -wm 100 instead of -wm 512 for instance.

Generally speaking the -multi option isn't well maintained.  I only introduced
it in the first place in a desperate attempt to squeeze extra performance
out of the warp to meet performance objectives of the contract for which it
was developed.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From maphew at gmail.com  Thu Dec 13 16:26:58 2007
From: maphew at gmail.com (Matt Wilkie)
Date: Thu Dec 13 16:27:02 2007
Subject: [Gdal-dev] Failed to acquire IOMutex in WarpRegion()
In-Reply-To: <47619FB6.1030005@pobox.com>
References: <14324281.post@talk.nabble.com> <47619FB6.1030005@pobox.com>
Message-ID: <c61d98af0712131326qa19f716je6fd8e667ac8c3c6@mail.gmail.com>

> When you use -multi, the warper attempts to keep two threads working, one
> doing read/write, and one doing resampling in memory.  For synchronization
> purposes they use mutexes, and with a default timeout of 600 seconds.  If
> one thread waits more than 600s you will get the above error, and a warp
> failure.

Thank you Frank. It feels so much better when one knows what's
happening, even if it doesn't actually change the circumstances. :)

> Perhaps I ought to increase the timeouts quite a lot.  If you file a ticket,
> I'll look into it.  But from your side you can reduce the chunk size so it
> won't take so long to process.  Use -wm 100 instead of -wm 512 for instance.

I'm trying without -wm at all at the moment for testing, but I think
there must be something wrong with the computer. No matter what I do I
can't get the cpu usage to go to more than 10 or 15%, even photoshop
opening a 1gb image doesn't use more than 2%, ditto for gdalwarp
processing two 1gb images (without resampling mind you). I think in
this instance the timeout is helping diagnose a problem outside of
gdal so if no one else is reporting mutex errors I would leave it at
600 seconds for now.

-- 
-matt
From sy at perkins.net  Thu Dec 13 17:21:43 2007
From: sy at perkins.net (Simon Perkins)
Date: Thu Dec 13 17:21:53 2007
Subject: [gdal-dev] ArcSDE layer GetGeomType()
Message-ID: <4761B077.8000604@perkins.net>

Hi,

I'm using OGR/C# to access some layers stored in an ArcSDE data store. I 
can connect to the data source, and enumerate through the layers, and 
get the OGRFeatureDefn for each layer, but when I get the geometry type 
using GetGeomType(), I always get back wkbUnknown. Just wondered if this 
feature works and is enabled by default? Looking at the code, I see 
there is a config variable that can disable retrieving the layer 
geometry type, but as far as I know that is not set (is there a place 
where the default values for these things live?). Any ideas?

Cheers,

Sy



From randre at gmail.com  Thu Dec 13 17:28:58 2007
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Thu Dec 13 17:29:03 2007
Subject: [gdal-dev] Trouble reading .dgn files
In-Reply-To: <47618320.8020407@pobox.com>
References: <9c2015090712131044n1964f038w14143ef5766b9286@mail.gmail.com>
	<47618320.8020407@pobox.com>
Message-ID: <9c2015090712131428y48993f96r48e0a7ea2f0cfd1f@mail.gmail.com>

Ahhh soooo...

Yepp, these are definitely version 8 files.  I don't think I can give you
one of the files I'm getting the error with, but I'll see if I can get a
dummy one made with the same tools for you to test with.

Thanks,

Roger
--

On Dec 13, 2007 11:08 AM, Frank Warmerdam <warmerdam@pobox.com> wrote:

> Roger Andr? wrote:
> > I'm having trouble reading .dgn files using the ogr utilities and can't
> > figure out what I'm doing wrong.  I've tried to read the data a number
> > of different ways:
> >
> > ogrinfo ./ D3460_PFA_RDNew.dgn
> > ogrinfo ./ D3460_PFA_RDNew
> > ogrinfo -all ./ D3460_PFA_RDNew.dgn
> > ogrinfo -all ./ D3460_PFA_RDNew.dgn elements
> > ogrinfo ./ D3460_PFA_RDNew.dgn elements
> > ogrinfo -summary ./D3460_PFA_RDNew.dgn elements
> > ogr2ogr -f "ESRI Shapefile" test.shp ./D3460_PFA_RDNew.dgn
> > ogr2ogr -f "ESRI Shapefile" test.shp ./D3460_PFA_RDNew.dgn elements
> >
> > The .dgn format is new to me, so if anyone could give me advice on how
> > best to work with it using the GDAL libs, I'd very much appreciate it.
>
> Roger,
>
> My first guess would be that these are v8 or newer dgn files.  OGR only
> supports the older v7 and earlier format.  What error message are you
> getting?  Can you make one of the dgn files available for review?
>
> I'd like to have OGR report a meaningful error for new files if that
> is the problem.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071213/2139bfa0/attachment-0001.html
From sy at perkins.net  Thu Dec 13 17:30:08 2007
From: sy at perkins.net (Simon Perkins)
Date: Thu Dec 13 17:30:13 2007
Subject: [gdal-dev] ArcSDE layer GetGeomType()
In-Reply-To: <4761B077.8000604@perkins.net>
References: <4761B077.8000604@perkins.net>
Message-ID: <4761B270.8040305@perkins.net>

A further clarification: for now, I just need to distinguish between 
raster layers and vector layers in the ArcSDE database. When I enumerate 
through the layers in an SDE OGR.DataSource, I'm seeing both raster 
layers and vector layers, and I'd like to know which ones are vectors 
and which ones are rasters. Is there some easy way of doing this? Or 
does the fact that I'm seeing both rasters and vectors via OGR suggest 
the database has been set up wrong?

Cheers,

Sy


Simon Perkins wrote:
> Hi,
>
> I'm using OGR/C# to access some layers stored in an ArcSDE data store. 
> I can connect to the data source, and enumerate through the layers, 
> and get the OGRFeatureDefn for each layer, but when I get the geometry 
> type using GetGeomType(), I always get back wkbUnknown. Just wondered 
> if this feature works and is enabled by default? Looking at the code, 
> I see there is a config variable that can disable retrieving the layer 
> geometry type, but as far as I know that is not set (is there a place 
> where the default values for these things live?). Any ideas?
>
> Cheers,
>
> Sy
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From randre at gmail.com  Thu Dec 13 17:30:11 2007
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Thu Dec 13 17:30:16 2007
Subject: [gdal-dev] Trouble reading .dgn files
In-Reply-To: <9c2015090712131428y48993f96r48e0a7ea2f0cfd1f@mail.gmail.com>
References: <9c2015090712131044n1964f038w14143ef5766b9286@mail.gmail.com>
	<47618320.8020407@pobox.com>
	<9c2015090712131428y48993f96r48e0a7ea2f0cfd1f@mail.gmail.com>
Message-ID: <9c2015090712131430t793b9022g1dbfea7583453117@mail.gmail.com>

Oh, and sorry that I didn;t answer your question about the error.  I get the
generic:

FAILURE:
Unable to open datasource `./' with the following drivers.
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> DGN
  -> VRT
  -> AVCBin
  -> REC
  -> Memory
  -> CSV
  -> GML
  -> KML
  -> PostgreSQL



On Dec 13, 2007 2:28 PM, Roger Andr? <randre@gmail.com> wrote:

> Ahhh soooo...
>
> Yepp, these are definitely version 8 files.  I don't think I can give you
> one of the files I'm getting the error with, but I'll see if I can get a
> dummy one made with the same tools for you to test with.
>
> Thanks,
>
> Roger
> --
>
>
> On Dec 13, 2007 11:08 AM, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> > Roger Andr? wrote:
> > > I'm having trouble reading .dgn files using the ogr utilities and
> > can't
> > > figure out what I'm doing wrong.  I've tried to read the data a number
> >
> > > of different ways:
> > >
> > > ogrinfo ./ D3460_PFA_RDNew.dgn
> > > ogrinfo ./ D3460_PFA_RDNew
> > > ogrinfo -all ./ D3460_PFA_RDNew.dgn
> > > ogrinfo -all ./ D3460_PFA_RDNew.dgn elements
> > > ogrinfo ./ D3460_PFA_RDNew.dgn elements
> > > ogrinfo -summary ./D3460_PFA_RDNew.dgn elements
> > > ogr2ogr -f "ESRI Shapefile" test.shp ./D3460_PFA_RDNew.dgn
> > > ogr2ogr -f "ESRI Shapefile" test.shp ./D3460_PFA_RDNew.dgn elements
> > >
> > > The .dgn format is new to me, so if anyone could give me advice on how
> > > best to work with it using the GDAL libs, I'd very much appreciate it.
> >
> > Roger,
> >
> > My first guess would be that these are v8 or newer dgn files.  OGR only
> > supports the older v7 and earlier format.  What error message are you
> > getting?  Can you make one of the dgn files available for review?
> >
> > I'd like to have OGR report a meaningful error for new files if that
> > is the problem.
> >
> > Best regards,
> > --
> >
> > ---------------------------------------+--------------------------------------
> > I set the clouds in motion - turn up   | Frank Warmerdam,
> > warmerdam@pobox.com
> > light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> > and watch the world go round - Rush    | President OSGeo,
> > http://osgeo.org
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071213/83a03db5/attachment.html
From Steven.Mullins at dmme.virginia.gov  Fri Dec 14 09:43:43 2007
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Fri Dec 14 09:53:20 2007
Subject: [gdal-dev] Crystal Reports XI 
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8304C390F9@exch2k1.dmmenet.mme.state.va.us>


I get the following error when trying to run ogrinfo, ogr2ogr or fwtools when Crystal Report XI is installed.  I found the following url which explains a similar problem.

The ordinal 2821 could not be located in the dynamic link library LIBEAY32.dll

http://archives.postgresql.org/pgsql-bugs/2004-11/msg00200.php


I tried reinstalling FWTOOLS after Crystals reports to maybe overwrite the DLL with another one, but it did not work.  A solution is to remove a file LIBEAY32.dll.  When this is done ogr works fine.  However, when Crystal Reports is run, it tries to reinstall itself.  Does anyone know how to make Crystal Reports XI and OGR work together?

Thanks,

Steven B. Mullins
From Steven.Mullins at dmme.virginia.gov  Fri Dec 14 09:50:13 2007
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Fri Dec 14 09:53:22 2007
Subject: [gdal-dev] Error with Crystal Reports XI 
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8304C390FA@exch2k1.dmmenet.mme.state.va.us>

I get the following error when trying to run ogrinfo, ogr2ogr or fwtools when Crystal Report XI is installed.  I found the following url which explains a similar problem.

The ordinal 2821 could not be located in the dynamic link library LIBEAY32.dll

http://archives.postgresql.org/pgsql-bugs/2004-11/msg00200.php


I tried reinstalling FWTOOLS after Crystals reports to maybe overwrite the DLL with another one, but it did not work.  A solution is to remove a file LIBEAY32.dll.  When this is done ogr works fine.  However, when Crystal Reports is run, it tries to reinstall itself.  Does anyone know how to make Crystal Reports XI and OGR work together?

Thanks,

Steven B. Mullins
From warmerdam at pobox.com  Fri Dec 14 10:23:05 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Dec 14 10:23:16 2007
Subject: [gdal-dev] Error with Crystal Reports XI
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8304C390FA@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8304C390FA@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <47629FD9.3050200@pobox.com>

Mullins, Steven wrote:
> I get the following error when trying to run ogrinfo, ogr2ogr or fwtools when Crystal Report XI is installed.  I found the following url which explains a similar problem.
> 
> The ordinal 2821 could not be located in the dynamic link library LIBEAY32.dll
> 
> http://archives.postgresql.org/pgsql-bugs/2004-11/msg00200.php
> 
> 
> I tried reinstalling FWTOOLS after Crystals reports to maybe overwrite the DLL with another one, but it did not work.  A solution is to remove a file LIBEAY32.dll.  When this is done ogr works fine.  However, when Crystal Reports is run, it tries to reinstall itself.  Does anyone know how to make Crystal Reports XI and OGR work together?

Steven,

I believe the problem is that Crystal Reports installs an older version of
LIBEAY32.DLL in \windows\system32.  FWTools ends up using that instead of it's
own because I can't figure out any damn way to use my own DLLs in preference
to what is in \windows\system32.  But I deliberately don't copy my DLLs
to \windows\system32 because of the risk of breaking some other application.
I don't know how to detect if my dlls are newer than the installed ones
for instance.

For your particular case I'd suggest copying the FWTools LIBEAY32.DLL to
the \windows\system32 directory.

In general, I just don't know how to resolve this and it really really
pisses me off.   It's like Microsoft wants to guarantee DLL hell regardless
of how hard I try to avoid it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ivan at theory.asu.ru  Fri Dec 14 14:22:17 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Fri Dec 14 14:22:21 2007
Subject: [gdal-dev] build system vs. libtool: static libraries must be
	enabled
In-Reply-To: <m2ejdrq975.fsf@cherry.siamics.int> (Ivan Shmakov's message of
	"Thu, 13 Dec 2007 14:40:14 +0600")
References: <m2ejdrq975.fsf@cherry.siamics.int>
Message-ID: <m2ir31nkt2.fsf@cherry.siamics.int>

>>>>> Ivan Shmakov <ivan@theory.asu.ru> writes:

[...]

 > IIUC, when using `libtool', the `.o' files are put into the `.libs/'
 > subdirectory, and in the build directory the corresponding `.lo' are
 > created instead.  Thus, Make ends up trying to build each of the `.o'
 > files each time it's run.

	It seems to me that I understand the Libtool logic now.  The
	`.o' files are only built when static libraries are requested,
	and `.lo' (and the corresponding `.libs/.o') files are built
	only when one requests shared ones.

	Hence, as a workaround, I've tried configuring with
	`--enable-static', and it builds without the problem.

	In my opinion, it's a bug in the current GDAL build system.
	Could the #1878 ticket be reopened (with the description changed
	accordingly)?

	The relevant parts of `libtool' are as follows.

...
  2031	# func_mode_compile arg...
  2032	func_mode_compile ()
  2033	{
...
  2141	    # Recognize several different file suffixes.
  2142	    # If the user specifies -o file.o, it is replaced with file.lo
  2143	    xform='[cCFSifmso]'
  2144	    case $libobj in
...
  2153	    *.cpp) xform=cpp ;;
...
  2159	    esac
  2160	
  2161	    libobj=`$ECHO "X$libobj" | $Xsed -e "s/\.$xform$/.lo/"`
  2162	
  2163	    case $libobj in
  2164	    *.lo) func_lo2o "$libobj"; obj=$func_lo2o_result ;;
  2165	    *)
  2166	      func_fatal_error "cannot determine name of library object from \`$libobj'"
  2167	      ;;
  2168	    esac
...
  2172	    for arg in $later; do
  2173	      case $arg in
  2174	      -shared)
  2175		test "$build_libtool_libs" != yes && \
  2176		  func_fatal_configuration "can not build a shared library"
  2177		build_old_libs=no
  2178		continue
  2179		;;
  2180	
  2181	      -static)
  2182		build_libtool_libs=no
  2183		build_old_libs=yes
  2184		continue
  2185		;;
...
  2196	      esac
  2197	    done
...
  2203	    func_basename "$obj"
  2204	    objname="$func_basename_result"
  2205	    func_dirname "$obj" "/" ""
  2206	    xdir="$func_dirname_result"
  2207	    lobj=${xdir}$objdir/$objname
...
  2212	    # Delete any leftover library objects.
  2213	    if test "$build_old_libs" = yes; then
  2214	      removelist="$obj $lobj $libobj ${libobj}T"
  2215	    else
  2216	      removelist="$lobj $libobj ${libobj}T"
  2217	    fi
  2218	
  2219	    $opt_dry_run || $RM $removelist
  2220	    trap "$opt_dry_run || $RM $removelist; exit $EXIT_FAILURE" 1 2 15
...
  2272	    if test -n "$fix_srcfile_path"; then
  2273	      eval srcfile=\"$fix_srcfile_path\"
  2274	    fi
  2275	    func_quote_for_eval "$srcfile"
  2276	    qsrcfile=$func_quote_for_eval_result
  2277	
  2278	    $opt_dry_run || $RM "$libobj" "${libobj}T"
  2279	
  2280	    # Only build a PIC object if we are building libtool libraries.
  2281	    if test "$build_libtool_libs" = yes; then
...
  2292	      func_mkdir_p "$xdir$objdir"
  2293	
  2294	      if test -z "$output_obj"; then
  2295		# Place PIC objects in $objdir
  2296		command="$command -o $lobj"
  2297	      fi
  2298	
  2299	      $opt_dry_run || $RM "$lobj" "$output_obj"
  2300	
  2301	      func_show_eval "$command"	\
  2302	          'test -n "$output_obj" && $RM $removelist; exit $EXIT_FAILURE'
...
  2324	      # Just move the object if needed, then go on to compile the next one
  2325	      if test -n "$output_obj" && test "X$output_obj" != "X$lobj"; then
  2326		func_show_eval '$MV "$output_obj" "$lobj"' \
  2327		  'error=$?; $opt_dry_run || $RM $removelist; exit $error'
  2328	      fi
  2329	
  2330	      # Allow error messages only from the first compilation.
  2331	      if test "$suppress_opt" = yes; then
  2332		suppress_output=' >/dev/null 2>&1'
  2333	      fi
  2334	    fi
  2335	
  2336	    # Only build a position-dependent object if we build old libraries.
  2337	    if test "$build_old_libs" = yes; then
  2338	      if test "$pic_mode" != yes; then
  2339		# Don't build PIC code
  2340		command="$base_compile $qsrcfile$pie_flag"

	BTW, isn't a whitespace missing here?

  2341	      else
  2342		command="$base_compile $qsrcfile $pic_flag"
  2343	      fi
  2344	      if test "$compiler_c_o" = yes; then
  2345		command="$command -o $obj"
  2346	      fi
  2347	
  2348	      # Suppress compiler output if we already did a PIC compilation.
  2349	      command="$command$suppress_output"
  2350	      $opt_dry_run || $RM "$obj" "$output_obj"
  2351	      func_show_eval "$command" \
  2352	        '$opt_dry_run || $RM $removelist; exit $EXIT_FAILURE'
...
  2381	    $opt_dry_run || {
  2382	      func_write_libtool_object "$libobj" "$objdir/$objname" "$objname"
  2383	
  2384	      # Unlock the critical section if it was locked
  2385	      if test "$need_locks" != no; then
  2386	        $RM "$lockfile"
  2387	      fi
  2388	    }
  2389	
  2390	    exit $EXIT_SUCCESS
  2391	}
  2392	
  2393	test "$mode" = compile && func_mode_compile ${1+"$@"}
...

[...]

From roma at progesoft.com  Sat Dec 15 11:01:57 2007
From: roma at progesoft.com (Roman Fedorov)
Date: Sat Dec 15 10:57:19 2007
Subject: [gdal-dev] Ecw support for GDAL
Message-ID: <003101c83f33$d1b82f50$1501a8c0@progesoft.local>

Hello!
I am building GDAL on windows, and i have problems with extra formats supports, like ECW, JPEG2000, ect...
Can someone please explain me how to biuld the ecw support for gdal, or where i can dowload the ready one?
Thank you in advance

Best Regards,
progeSOFT - www.progesoft.com
Roman Fedorov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071215/c6a55790/attachment.html
From ivan at theory.asu.ru  Sun Dec 16 03:30:33 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Sun Dec 16 03:31:04 2007
Subject: [gdal-dev] Re: gdal_translate: a preliminary `-gcp_file' patch
In-Reply-To: <47615D9C.70101@pobox.com> (Frank Warmerdam's message of "Thu, 13
	Dec 2007 11:28:12 -0500")
References: <13731438.post@talk.nabble.com>
	<936512.72303.qm@web52703.mail.re2.yahoo.com>
	<867ikkf2oh.fsf@th2.phys.asu.ru> <86y7c1txzi.fsf_-_@th2.phys.asu.ru>
	<20071211101055.GA31760@ak4719.spb.edu>
	<b1e3a35f0712110314ub20d42sc8d094194237d2ce@mail.gmail.com>
	<20071211165840.GA1237@ak4719.spb.edu>
	<m27ijjq7ux.fsf_-_@cherry.siamics.int> <47615D9C.70101@pobox.com>
Message-ID: <m2d4t7m47q.fsf@cherry.siamics.int>

>>>>> Frank Warmerdam <warmerdam@pobox.com> writes:

 >> Since the current version of GDAL doesn't support reading GCPs from
 >> some of the data sets I use [1], I have to use `gdal_translate' to
 >> specify all the GCPs, like:

 > Ivan,

 > The --optfile was already mentioned.

	Yes, `--optfile' may suit my needs.  However, I'm having some
	considerations regarding `-gcp' and the GDAL CLI in general that
	I'll present separately.

 > I just wanted to add that there are dangers to trying to attach large
 > numbers of GCPs to a GeoTIFF image.  Some sort of problem with the
 > maximum tag size I believe.

	The output format doesn't matter to me now.  If there's an other
	format suitable for storing GCPs with `gdal_translate', I could
	easily switch to it.

 > So translating full density geolocation arrays to GCPs is likely to
 > cause a variety of problems.

	Actually, I wonder, whether a lot of GCPs would cause any
	problems with `gdalwarp'?

	BTW, `hdfdump' (which I've used in the original post's example)
	supports dumping a sparse subset of the HDF4 field, so it's not
	really a problem to make a file with sparse GCPs.

 > One approach is to subsample them.  Another is to treat them as
 > geolocation arrays in the sense described in:

 > http://trac.osgeo.org/gdal/wiki/rfc4_geolocate

	Isn't it more appropriate for HDF-EOS GCPs to be represented as
	specified there?

	Is there any way to convert ``ordinary'' GCPs into RFC 4 GCPs
	and vice versa?

From mchapman at texelinc.com  Sun Dec 16 19:15:38 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Sun Dec 16 19:16:00 2007
Subject: [gdal-dev] Possible SyncToDisk() bug in 1.5
Message-ID: <002d01c84041$f3b1b220$db151660$@com>

This code:

 

--

string sLayerName = (string)
m_pDataSource->GetLayer(0)->GetLayerDefn()->GetName();

string sSQL = "CREATE SPATIAL INDEX ON " + sLayerName;

m_pDataSource->ExecuteSQL((const char*) sSQL.c_str(), NULL, "");

--

 

throws an error in the file/function below on the line -
hSHP->sHooks.FFlush( hSHP->fpSHX );

because hSHP->fpSHX is NULL.  The question is why is hSHP->fpSHX NULL when
it used to pickup the shape index file.  Anyone else have this problem with
1.5? 

 

\gdal\ogr\ogrsf_frmts\shape\ogrshapelayer.cpp

 

OGRErr OGRShapeLayer::SyncToDisk()

 

{

    if( bHeaderDirty )

    {

        if( hSHP != NULL )

            SHPWriteHeader( hSHP );

 

        if( hDBF != NULL )

            DBFUpdateHeader( hDBF );

        

        bHeaderDirty = FALSE;

    }

 

    if( hSHP != NULL )

    {

        hSHP->sHooks.FFlush( hSHP->fpSHP );

        hSHP->sHooks.FFlush( hSHP->fpSHX );  ka-boom!

    }

 

    if( hDBF != NULL )

        hDBF->sHooks.FFlush( hDBF->fp );

 

    return OGRERR_NONE;

}

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071216/6d1973a1/attachment.html
From mchapman at texelinc.com  Sun Dec 16 19:21:08 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Sun Dec 16 19:21:30 2007
Subject: [gdal-dev] Possible SyncToDisk() bug in 1.5
In-Reply-To: <002d01c84041$f3b1b220$db151660$@com>
References: <002d01c84041$f3b1b220$db151660$@com>
Message-ID: <003801c84042$b88c49c0$29a4dd40$@com>

Also, because SHX is not picked up rendering or looping through geometries
in a shape file is now very slow.  I will look into the bug further and see
if I can find the problem.  Is anyone else seeing this issue in 1.5 or
noticed shape files being slow?

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
Sent: Sunday, December 16, 2007 5:16 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Possible SyncToDisk() bug in 1.5

 

This code:

 

--

string sLayerName = (string)
m_pDataSource->GetLayer(0)->GetLayerDefn()->GetName();

string sSQL = "CREATE SPATIAL INDEX ON " + sLayerName;

m_pDataSource->ExecuteSQL((const char*) sSQL.c_str(), NULL, "");

--

 

throws an error in the file/function below on the line -
hSHP->sHooks.FFlush( hSHP->fpSHX );

because hSHP->fpSHX is NULL.  The question is why is hSHP->fpSHX NULL when
it used to pickup the shape index file.  Anyone else have this problem with
1.5? 

 

\gdal\ogr\ogrsf_frmts\shape\ogrshapelayer.cpp

 

OGRErr OGRShapeLayer::SyncToDisk()

 

{

    if( bHeaderDirty )

    {

        if( hSHP != NULL )

            SHPWriteHeader( hSHP );

 

        if( hDBF != NULL )

            DBFUpdateHeader( hDBF );

        

        bHeaderDirty = FALSE;

    }

 

    if( hSHP != NULL )

    {

        hSHP->sHooks.FFlush( hSHP->fpSHP );

        hSHP->sHooks.FFlush( hSHP->fpSHX );  ka-boom!

    }

 

    if( hDBF != NULL )

        hDBF->sHooks.FFlush( hDBF->fp );

 

    return OGRERR_NONE;

}

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071216/dff38681/attachment.html
From mchapman at texelinc.com  Sun Dec 16 19:49:41 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Sun Dec 16 19:50:04 2007
Subject: [gdal-dev] I found the culprit! -- Possible SyncToDisk() bug in 1.5
In-Reply-To: <003801c84042$b88c49c0$29a4dd40$@com>
References: <002d01c84041$f3b1b220$db151660$@com>
	<003801c84042$b88c49c0$29a4dd40$@com>
Message-ID: <004001c84046$b5b70ce0$212526a0$@com>

I found the culprit!  It's in file \gdal\ogr\ogrsf_frmts\shape\shpopen.c on
line 686.

 

Looks like:

 

/* In read-only mode, we can close the SHX now */

    if (strcmp(pszAccess, "rb") == 0)

    {

        psSHP->sHooks.FClose( psSHP->fpSHX );

        psSHP->fpSHX = NULL; ?

    }

 

This code closes the shx in read only mode but is used in the OGR shape code
in areas that don't block readonly access.like creating the quad indexes.  I
made the fix in my local copy but I changed jobs and lost my
username/password to SVN comitter access so someone else will have to make
the fix for me.

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Sunday, December 16, 2007 5:21 PM
To: 'Martin Chapman'; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Possible SyncToDisk() bug in 1.5

 

Also, because SHX is not picked up rendering or looping through geometries
in a shape file is now very slow.  I will look into the bug further and see
if I can find the problem.  Is anyone else seeing this issue in 1.5 or
noticed shape files being slow?

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
Sent: Sunday, December 16, 2007 5:16 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Possible SyncToDisk() bug in 1.5

 

This code:

 

--

string sLayerName = (string)
m_pDataSource->GetLayer(0)->GetLayerDefn()->GetName();

string sSQL = "CREATE SPATIAL INDEX ON " + sLayerName;

m_pDataSource->ExecuteSQL((const char*) sSQL.c_str(), NULL, "");

--

 

throws an error in the file/function below on the line -
hSHP->sHooks.FFlush( hSHP->fpSHX );

because hSHP->fpSHX is NULL.  The question is why is hSHP->fpSHX NULL when
it used to pickup the shape index file.  Anyone else have this problem with
1.5? 

 

\gdal\ogr\ogrsf_frmts\shape\ogrshapelayer.cpp

 

OGRErr OGRShapeLayer::SyncToDisk()

 

{

    if( bHeaderDirty )

    {

        if( hSHP != NULL )

            SHPWriteHeader( hSHP );

 

        if( hDBF != NULL )

            DBFUpdateHeader( hDBF );

        

        bHeaderDirty = FALSE;

    }

 

    if( hSHP != NULL )

    {

        hSHP->sHooks.FFlush( hSHP->fpSHP );

        hSHP->sHooks.FFlush( hSHP->fpSHX );  ka-boom!

    }

 

    if( hDBF != NULL )

        hDBF->sHooks.FFlush( hDBF->fp );

 

    return OGRERR_NONE;

}

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071216/a8b3d304/attachment-0001.html
From mchapman at texelinc.com  Sun Dec 16 19:57:28 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Sun Dec 16 19:57:50 2007
Subject: [gdal-dev] Revision 1.55  
In-Reply-To: <004001c84046$b5b70ce0$212526a0$@com>
References: <002d01c84041$f3b1b220$db151660$@com>
	<003801c84042$b88c49c0$29a4dd40$@com>
	<004001c84046$b5b70ce0$212526a0$@com>
Message-ID: <004801c84047$cc546dc0$64fd4940$@com>

* Revision 1.55  2007/11/21 22:39:56  fwarmerdam

 * close shx file in readonly mode (GDAL #1956)

 

Frank,

 

Food for thought on this bug, closing access to the shape index file in read
only mode or any other mode makes little sense since that will remove random
access capability for the driver and all record fetches will have to operate
in a sequential fashion.  Not sure if it was just a mistake or was there
some other thought behind closing the shx file in read only mode?

 

Also, what are SAHooks?

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Sunday, December 16, 2007 5:50 PM
To: 'Martin Chapman'; gdal-dev@lists.osgeo.org
Subject: I found the culprit! -- Possible SyncToDisk() bug in 1.5

 

I found the culprit!  It's in file \gdal\ogr\ogrsf_frmts\shape\shpopen.c on
line 686.

 

Looks like:

 

/* In read-only mode, we can close the SHX now */

    if (strcmp(pszAccess, "rb") == 0)

    {

        psSHP->sHooks.FClose( psSHP->fpSHX );

        psSHP->fpSHX = NULL; ?

    }

 

This code closes the shx in read only mode but is used in the OGR shape code
in areas that don't block readonly access.like creating the quad indexes.  I
made the fix in my local copy but I changed jobs and lost my
username/password to SVN comitter access so someone else will have to make
the fix for me.

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Sunday, December 16, 2007 5:21 PM
To: 'Martin Chapman'; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Possible SyncToDisk() bug in 1.5

 

Also, because SHX is not picked up rendering or looping through geometries
in a shape file is now very slow.  I will look into the bug further and see
if I can find the problem.  Is anyone else seeing this issue in 1.5 or
noticed shape files being slow?

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
Sent: Sunday, December 16, 2007 5:16 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Possible SyncToDisk() bug in 1.5

 

This code:

 

--

string sLayerName = (string)
m_pDataSource->GetLayer(0)->GetLayerDefn()->GetName();

string sSQL = "CREATE SPATIAL INDEX ON " + sLayerName;

m_pDataSource->ExecuteSQL((const char*) sSQL.c_str(), NULL, "");

--

 

throws an error in the file/function below on the line -
hSHP->sHooks.FFlush( hSHP->fpSHX );

because hSHP->fpSHX is NULL.  The question is why is hSHP->fpSHX NULL when
it used to pickup the shape index file.  Anyone else have this problem with
1.5? 

 

\gdal\ogr\ogrsf_frmts\shape\ogrshapelayer.cpp

 

OGRErr OGRShapeLayer::SyncToDisk()

 

{

    if( bHeaderDirty )

    {

        if( hSHP != NULL )

            SHPWriteHeader( hSHP );

 

        if( hDBF != NULL )

            DBFUpdateHeader( hDBF );

        

        bHeaderDirty = FALSE;

    }

 

    if( hSHP != NULL )

    {

        hSHP->sHooks.FFlush( hSHP->fpSHP );

        hSHP->sHooks.FFlush( hSHP->fpSHX );  ka-boom!

    }

 

    if( hDBF != NULL )

        hDBF->sHooks.FFlush( hDBF->fp );

 

    return OGRERR_NONE;

}

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071216/32a97fe5/attachment.html
From dmbaker at cox.net  Mon Dec 17 07:26:02 2007
From: dmbaker at cox.net (David M. Baker)
Date: Mon Dec 17 07:26:08 2007
Subject: [gdal-dev] using OGR/OSR from C# - where to put the dependentDLLs?
In-Reply-To: <f3b73b7d0712111148v1e0fefc5o706798a10a28af60@mail.gmail.com>
References: <228614.54153.qm@web32903.mail.mud.yahoo.com>
	<f3b73b7d0712111148v1e0fefc5o706798a10a28af60@mail.gmail.com>
Message-ID: <001b01c840a7$fccc1b50$0701a8c0@DAVID>

Mark,

Here is the class I use to set the environment for FWTools from C#.  It set
the PATH and other environment variables needed to properly access the data
files, e.g., for datum shifting.  Note: this is .NET 2.0.  Call before you
use any of the FWTools Gdal/OGR stuff.

Hope this helps.

David


using System;
using System.Collections.Generic;
using System.Text;
using Microsoft.Win32;

namespace DMBTools2.FWTools
{
     /// <summary>
    /// A class used to set the FWtools environment for the current prosess.
    /// </summary>
    public static class FWToolsEnvironment
    {
        private static bool isSet = false;

        public static void Set()
        {
            string fwDir =
System.Environment.GetEnvironmentVariable(@"FWTOOLS_OVERRIDE");
            if (fwDir == null)
                fwDir =
System.Environment.GetEnvironmentVariable(@"FWTOOLS_DIR");
            if (fwDir == null)
                using (RegistryKey rk =
Registry.LocalMachine.OpenSubKey(@"SOFTWARE\FWtools"))
                {
                    fwDir = (string)rk.GetValue(@"Install_Dir");
                }
            Set(fwDir);
        }

        public static void Set(string fwtools_dir)
        {
            if (isSet) // we don't need to do this again
                return;
            if (fwtools_dir == null) // not much to do here so...
                return;

            System.Environment.SetEnvironmentVariable(@"FWTOOLS_DIR",
fwtools_dir);

            string fwtbin = fwtools_dir + @"\bin;";
            string fwtpy = fwtools_dir + @"\python;";
            string path = "";
            path += fwtbin;
            path += fwtpy;
            path += System.Environment.GetEnvironmentVariable("PATH");
            System.Environment.SetEnvironmentVariable(@"PATH", path);
            System.Environment.SetEnvironmentVariable(@"PYTHONPATH",
fwtools_dir + @"\pymod");
            System.Environment.SetEnvironmentVariable(@"PROJ_LIB",
fwtools_dir + @"\proj_lib");
            System.Environment.SetEnvironmentVariable(@"GEOTIFF_CSV",
fwtools_dir + @"\data");
            System.Environment.SetEnvironmentVariable(@"GDAL_DATA",
fwtools_dir + @"\data");
            System.Environment.SetEnvironmentVariable(@"GDAL_DRIVER_PATH",
fwtools_dir + @"\gdal_plugins");
            isSet = true;
        }
    }
}

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Tamas Szekeres
Sent: Tuesday, December 11, 2007 1:49 PM
To: Mark Cheyne
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] using OGR/OSR from C# - where to put the
dependentDLLs?

Mark,

Adding C:\Program Files\FWTools2.0.0\bin\ to the system PATH should be
enough. However you should make sure there's no preceding folder int
the PATH containing incorrect version of these dll-s. Moreover in
FWTools you should remove the _fw suffix in some of the file names.

I would suggest using SysInternals filemon to monitor which files
couldn't be loaded by your application.

Best regards,

Tamas



2007/12/11, Mark Cheyne <cheynm@yahoo.com>:
> Hello - I'm sure this is a common question, but I
> haven't found a definitive treatment on the OGR
> website or in the GDAL mailing list archives.
>
> I'm working on a C# app on Windows that does
> coordinate transformations using the
> OSGeo.OSR.SpatialReference class. My app references
> osr_csharp.dll.
>
> Bottom line, what do I need to do so that the DLLs
> that osr_csharp.dll is dependent on are available at
> run-time?
>
> Only if I copy all 61 DLLs found in C:\Program
> Files\FWTools2.0.0\bin to my app's directory does my
> app work. However, for a variety of reasons,
> especially unit testing, I'd prefer to find an
> alternative, if one exists.
>
> I've seen
> http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpUsage and
> http://trac.osgeo.org/gdal/wiki/GdalOgrInCsharp which
> say that adding C:\Program Files\FWTools2.0.0\bin\ to
> my PATH env var is enough - nope.
>
> I've seen somewhere that I could copy all 61 DLLs
> found in C:\Program Files\FWTools2.0.0\bin to my
> System32 directory - that doesn't work either.
>
> If the dependent DLLs are not found, at runtime I get
> the following exception when I call the
> SpatialReference constructor: "The type initializer
> for 'OSGeo.OSR.OsrPINVOKE' threw an exception.". The
> innermost exception is what you'd expect -
> "System.DllNotFoundException: Unable to load DLL
> 'osr_wrap': The operating system cannot run."
>
> Thank you, Mark
>
> Mark Cheyne
> (608) 332-2235 (cell)
>
>
>
____________________________________________________________________________
________
> Never miss a thing.  Make Yahoo your home page.
> http://www.yahoo.com/r/hs
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Mon Dec 17 10:08:57 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 17 10:09:17 2007
Subject: [gdal-dev] Re: Revision 1.55
In-Reply-To: <004801c84047$cc546dc0$64fd4940$@com>
References: <002d01c84041$f3b1b220$db151660$@com>
	<003801c84042$b88c49c0$29a4dd40$@com>
	<004001c84046$b5b70ce0$212526a0$@com>
	<004801c84047$cc546dc0$64fd4940$@com>
Message-ID: <47669109.5020901@pobox.com>

Martin Chapman wrote:
> * Revision 1.55  2007/11/21 22:39:56  fwarmerdam
> 
>  * close shx file in readonly mode (GDAL #1956)
> 
>  
> 
> Frank,
> 
>  
> 
> Food for thought on this bug, closing access to the shape index file in 
> read only mode or any other mode makes little sense since that will 
> remove random access capability for the driver and all record fetches 
> will have to operate in a sequential fashion.  Not sure if it was just a 
> mistake or was there some other thought behind closing the shx file in 
> read only mode?

Martin,

I believe SHPOpen() reads the whole contents of the .shx file into memory
on open so there is no particular reason to keep it open.  The assumption
is that one (or two?) four byte integer values per shape is an acceptable
memory load and removes the need to seek around in the .shx file for
each shp read.

Make sense?

> Also, what are SAHooks?

"Shapefile API Hooks" is a structure of hook functions for IO, error reporting
and possibly other operations making it easier for applications to control how
low level operations are done by shapelib.  My preliminary need for this was to
support larger than 2GB file io on .dbf files.  But it also offers the option
of all-in-memory operation, better control over file open (to support UTF8 or
possibly wchar filenames), better error reporting and such.

This is a step towards a Shapelib 1.3 release but in the meantime I
downstreamed the development shapelib code into GDAL/OGR to get the large
file io support.

With regard to the problem you noted in your earlier message, I have
committed change:

   http://trac.osgeo.org/gdal/changeset/13355

This checks fpSHX before calling fflush() on it.  I think this is the more
appropriate correction.

You indicated a concern that with the .shx file closed non-sequential access
is no longer fast.  If you believe this is still the case, could you please
provide some more information?  I will be cutting a release candidate this
evening so knowing sooner is better.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From jordi.inglada at cnes.fr  Mon Dec 17 11:23:05 2007
From: jordi.inglada at cnes.fr (Jordi Inglada)
Date: Mon Dec 17 11:24:28 2007
Subject: [gdal-dev] OTB 2.0 available
Message-ID: <1197908585.2573.71.camel@pc-ingladaj.cst.cnes.fr>

       [Apologies if you receive multiple copies of this message]


Dear all, 

Santa Claus was at CNES last night and we have good news:

OTB-2.0.0 is out! 

ORFEO Toolbox (OTB) is CNES' open source library of image processing
algorithms. OTB is based on the medical image processing library ITK and
offers particular features for remote sensing image processing in
general and for high spatial resolution images in particular. OTB is
distributed under a free software licence CeCILL (similar to GPL) to
encourage contribution from users and to promote reproducible research.

You can go to <http://otb.cnes.fr> and follow the download link there. 

A major release like this one happens once a year. The OTB Development
Team has worked very hard in order to make available a robust library
with plenty of very interesting things. Thanks to Emmanuel, Thomas,
Julien, Romain and Cyrille for the good work.

Thanks also to ITK, OSSIM, GDAL, 6S, libSVM and BOOST developers for the
good software upon which OTB is built.

Be careful: with OTB-2.0 you can build powerful applications easily and
for free. You can for instance produce a pan-sharpenned, ortho-rectified
Quickbird image in a few lines of code. This can hurt sensitive people.

Other key features include:

- Radiometric calibration using the 6S radiative transfer code.
- Image registration with parametric geometric transformations.
- Demo applications for change detection, road extraction,
visualization, etc.
- All existing features of version 1.6: segmentation, classification,
feature extraction, spatial reasoning, change detection, etc.

The detailed documentation, which now includes a tutorial section, can
be downloaded also from <http://otb.cnes.fr>. The PDF file is 566 pages
long, so think twice before printing it (then, choose not to print it).

I you ever print the documentation, you can use it to hit in the head
people who do not believe in Free/Open Source Software (thanks to Luis
I. for the idea). Be careful: this hurts for sure.

Do not hesitate to use the users' list
<http://groups.google.com/group/otb-users> if you need support, or
contact us directly at <otb@cnes.fr>.

Enjoy OTB!


Jordi INGLADA

-- 
CNES - DCT/SI/AP - BPI 1219
18, avenue Edouard Belin
31401 Toulouse Cedex 09 - France
Tel. +33.(0)5.61.27.33.97 - Fax. +33.(0)5.61.28.31.09 


From rlcave3rd at yahoo.com  Mon Dec 17 12:05:14 2007
From: rlcave3rd at yahoo.com (Bob Cave)
Date: Mon Dec 17 12:05:16 2007
Subject: [gdal-dev] Questions about OGR ArcSDE Driver
Message-ID: <847566.80291.qm@web55510.mail.re4.yahoo.com>

1) The current documentation for the OGR ESRI ArcSDE driver states:
"Curve geometries are approximated as line strings (actually still
TODO)."  Is this item still a "TODO" item?  If so, how long might it be
until it is completed?  How are curve objects represented until the
curve-to-line functionality is implemented?

2) Does this driver require an ArcSDE client license of some sort?

Thanks,

Bob



      ____________________________________________________________________________________
Looking for last minute shopping deals?  
Find them fast with Yahoo! Search.  http://tools.search.yahoo.com/newsearch/category.php?category=shopping
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071217/0609385c/attachment.html
From chowell at pyxisinnovation.com  Mon Dec 17 12:31:51 2007
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Mon Dec 17 12:32:02 2007
Subject: [gdal-dev] Tutorials
Message-ID: <4766B287.5030008@pyxisinnovation.com>

Hi Folks,

As a long time user of GDAL professionally, it's a great product. The 
wiki & trac that came online recently is great. Today I am writing about 
Tutorials for a long time I've wanted to know how to do something with 
GDAL or FWTools and the documentation is some what lacking. I've noticed 
that the mailing list is great however sometimes it's a slow down for a 
developer (Such as myself) waiting for a  response from the mailing 
list. I was wondering if I wrote up a bunch of tutorials on the GDAL 
Wiki over the Christmas holidays if that would be useful or if I'd be 
stepping on someone's toes, or if it's already out there and I am just 
having some trouble finding it. Anyway  comments very much appreciated.

Cheers
Chris
From warmerdam at pobox.com  Mon Dec 17 12:50:06 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 17 12:50:26 2007
Subject: [gdal-dev] Tutorials
In-Reply-To: <4766B287.5030008@pyxisinnovation.com>
References: <4766B287.5030008@pyxisinnovation.com>
Message-ID: <4766B6CE.4040109@pobox.com>

Chris Howell wrote:
> Hi Folks,
> 
> As a long time user of GDAL professionally, it's a great product. The 
> wiki & trac that came online recently is great. Today I am writing about 
> Tutorials for a long time I've wanted to know how to do something with 
> GDAL or FWTools and the documentation is some what lacking. I've noticed 
> that the mailing list is great however sometimes it's a slow down for a 
> developer (Such as myself) waiting for a  response from the mailing 
> list. I was wondering if I wrote up a bunch of tutorials on the GDAL 
> Wiki over the Christmas holidays if that would be useful or if I'd be 
> stepping on someone's toes, or if it's already out there and I am just 
> having some trouble finding it. Anyway  comments very much appreciated.

Chris,

Developer oriented tutorials in the wiki would be fantastic.  There are
some tutorials at:

http://www.gdal.org/gdal_tutorial.html
http://www.gdal.org/gdal_drivertut.html
http://www.gdal.org/gdal_vrttut.html
http://www.gdal.org/ogr/ogr_apitut.html
http://www.gdal.org/ogr/osr_tutorial.html
http://www.gdal.org/ogr/ogr_drivertut.html

The best value would be tutorials that fill in holes around these.  A
tutorial index page would also be of help.

If you drop a line to gdal-dev as you make significant progress on tutorials,
others (myself too when I have network access) can provide some feedback.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From dany.geotools at gmail.com  Mon Dec 17 13:09:07 2007
From: dany.geotools at gmail.com (Daniele Romagnoli)
Date: Mon Dec 17 13:09:10 2007
Subject: [gdal-dev] Information about GDAL JP2Kakadu supported datatypes
Message-ID: <7221db410712171009o2d5246d5id4a96e17c7c69237@mail.gmail.com>

Hi list,
I have a very simple question for you :)

Which data types are supported as input of the JP2K driver based on Kakadu?
Looking at jp2kakdataset.cpp I noticed the presence of an if-else chain
which checks the bit_depth of the codestream. (supporting signed 16 bit
bands, unsigned 16 bit, float 32 bit and bytes).
How other datatypes are treated? (I mean, as an instance, a 3 bands image
with 12bits for each band).
Finally, which datatypes may be written to a JP2K file?

Thank you very much.

Best Regards,
Daniele

-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071217/7bc7696d/attachment.html
From warmerdam at pobox.com  Mon Dec 17 13:50:36 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 17 13:50:54 2007
Subject: [gdal-dev] Information about GDAL JP2Kakadu supported datatypes
In-Reply-To: <7221db410712171009o2d5246d5id4a96e17c7c69237@mail.gmail.com>
References: <7221db410712171009o2d5246d5id4a96e17c7c69237@mail.gmail.com>
Message-ID: <4766C4FC.7030608@pobox.com>

Daniele Romagnoli wrote:
> Hi list,
> I have a very simple question for you :)
> 
> Which data types are supported as input of the JP2K driver based on Kakadu?
> Looking at jp2kakdataset.cpp I noticed the presence of an if-else chain 
> which checks the bit_depth of the codestream. (supporting signed 16 bit 
> bands, unsigned 16 bit, float 32 bit and bytes).
> How other datatypes are treated? (I mean, as an instance, a 3 bands 
> image with 12bits for each band).

Daniele,

I believe if the bits don't match an existing condition the file will
be treated as having 8bit unsigned bands (GDT_Byte).

I suspect the logic looking for get_bit_depth() == 16 ought to look
for get_bit_depth() > 8 && get_bit_depth() <= 16 though I haven't run
into 12bit jpeg files myself.

> Finally, which datatypes may be written to a JP2K file?

Apparently GDT_Byte, GDT_UInt16 and GDT_Int16.  You can do something like:

gdalinfo --format jp2kak

and the line:

   Creation Datatypes: Byte Int16 UInt16

tells you what creation data types the driver claims to support.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Mon Dec 17 14:21:54 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 17 14:22:06 2007
Subject: [gdal-dev] Questions about OGR ArcSDE Driver
In-Reply-To: <847566.80291.qm@web55510.mail.re4.yahoo.com>
References: <847566.80291.qm@web55510.mail.re4.yahoo.com>
Message-ID: <4766CC52.2070800@pobox.com>

Bob Cave wrote:
> 1) The current documentation for the OGR ESRI ArcSDE driver states: 
> "Curve geometries are approximated as line strings (actually still 
> TODO)."  Is this item still a "TODO" item?  If so, how long might it be 
> until it is completed?  How are curve objects represented until the 
> curve-to-line functionality is implemented?

Bob,

It is still "TODO".   I'm not exactly sure what happens to curves.
I suspect they just result in reports of the following warning:

          CPLError( CE_Warning, CPLE_NotSupported,
                     "Unsupported geometry type: %d",
                     nSDEGeomType );

and the production of features with no geometry at all.

> 2) Does this driver require an ArcSDE client license of some sort?

I'm a bit unclear on this.  You do need the ArcSDE client libraries and the
normal way to get them is to have an ArcSDE license.  I believe that while
you are connected to SDE you are tying up an SDE client license depending
on the licensing mechanism you are using for SDE.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From chowell at pyxisinnovation.com  Mon Dec 17 15:39:24 2007
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Mon Dec 17 15:39:33 2007
Subject: [gdal-dev] FWTools
Message-ID: <4766DE7C.1040002@pyxisinnovation.com>

How much of the functionality from the FWTools is wrapped up in the 
Gdal1.4.4.dll or am I getting it backwards and a lot of the 
functionality in that DLL comes from FWTools ?

Chris
From warmerdam at pobox.com  Mon Dec 17 15:48:40 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 17 15:49:01 2007
Subject: [gdal-dev] FWTools
In-Reply-To: <4766DE7C.1040002@pyxisinnovation.com>
References: <4766DE7C.1040002@pyxisinnovation.com>
Message-ID: <4766E0A8.50708@pobox.com>

Chris Howell wrote:
> How much of the functionality from the FWTools is wrapped up in the 
> Gdal1.4.4.dll or am I getting it backwards and a lot of the 
> functionality in that DLL comes from FWTools ?

Chris,

In FWTools I think the DLL is actually called GDAL_FW.DLL (and is equivelent
to the GDAL15.DLL in normal builds).  This DLL is the core of the GDAL support
in FWTools but FWTools is a collection of tools include GDAL utilities,
MapServer, OpenEV, and PROJ.4.  So it would be fair to say that GDAL_FW.DLL
provides the core GDAL support for FWTools.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From kkirubanantham at yahoo.com  Tue Dec 18 06:12:16 2007
From: kkirubanantham at yahoo.com (kiruba nantham)
Date: Tue Dec 18 06:12:19 2007
Subject: [gdal-dev] Access gdal14.dll in VC++ 6.0
Message-ID: <322257.20134.qm@web52204.mail.re2.yahoo.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: USChart.zip
Type: application/zip
Size: 34333 bytes
Desc: 1327754945-USChart.zip
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071218/a011bf58/USChart-0001.zip
From ivan at theory.asu.ru  Tue Dec 18 06:47:05 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Tue Dec 18 06:47:34 2007
Subject: [gdal-dev] HDF-EOS vs. GDAL: order of dimensions
Message-ID: <m2ir2wi5s6.fsf@cherry.siamics.int>

	One more issue with HDF-EOS support in GDAL:

$ gdalinfo \
      'HDF4_EOS:EOS_SWATH:"AIRS.....061.L2.RetStd.v4.0.9.102.D07281140036.hdf":L2_Standard_atmospheric&surface_product:latAIRS' \
      | grep -F latAIRS
  SUBDATASET_25_NAME=HDF4_EOS:EOS_SWATH:"AIRS.....061.L2.RetStd.v4.0.9.102.D07281140036.hdf":L2_Standard_atmospheric&surface_product:latAIRS
  SUBDATASET_25_DESC=[45x30x3x3] latAIRS (32-bit floating-point)
$ gdal_translate \
      'HDF4_EOS:EOS_SWATH:"AIRS.....061.L2.RetStd.v4.0.9.102.D07281140036.hdf":L2_Standard_atmospheric&surface_product:latAIRS' \
      airs.lat-airs.tiff
Input file size is 3, 3
0Warning 1: Lost metadata writing to GeoTIFF ... too large to fit in tag.
...10...20...30...40...50...60...70...80...90...100 - done.
$ 

	Surely the source image has to be treaten as 45x30.

	Apparently, GDAL tries to ``guess'' the spatial dimensions of an
	HDF-EOS dataset:

--cut: frmts/hdf4/hdf4imagedataset.cpp: HDF4ImageDataset::GetImageDimensions ()--
    // Search for the starting "X" and "Y" in the names or take
    // the last two dimensions as X and Y sizes
    iXDim = nDimCount - 1;
    iYDim = nDimCount - 2;

    for ( i = 0; i < nDimCount; i++ )
    {
        if ( EQUALN( papszDimList[i], "X", 1 ) && iBandDim != i )
            iXDim = i;
        else if ( EQUALN( papszDimList[i], "Y", 1 ) && iBandDim != i )
            iYDim = i;
    }
--cut: frmts/hdf4/hdf4imagedataset.cpp: HDF4ImageDataset::GetImageDimensions ()--

	And gets it wrong, since the dimensions are:

--cut: ncdump-hdf -h AIRS.....061.L2.RetStd.v4.0.9.102.D07281140036.hdf--
    "\t\t\t\tDataFieldName=\"latAIRS\"\n",
    "\t\t\t\tDataType=DFNT_FLOAT32\n",
    "\t\t\t\tDimList=(\"GeoTrack\",\"GeoXTrack\",\"AIRSTrack\",\"AIRSXTrack\")\n",
    "\t\t\tEND_OBJECT=DataField_40\n",
--cut: ncdump-hdf -h AIRS.....061.L2.RetStd.v4.0.9.102.D07281140036.hdf--

	Any opinions on how the spatial dimensions detection should be
	done to handle such cases?  May it be of any help to try to also
	inspect the geolocation fields and ``guess'' the X, Y dimensions
	only among the dimensions referred by both the geolocation
	fields and the field being handled?  Or should there be a way to
	manually override any detection logic and specify the X, Y
	dimensions explicitly?

From dron at ak4719.spb.edu  Tue Dec 18 08:26:36 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Tue Dec 18 08:46:18 2007
Subject: [gdal-dev] HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <m2ir2wi5s6.fsf@cherry.siamics.int>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
Message-ID: <20071218132636.GA10779@ak4719.spb.edu>

On Tue, Dec 18, 2007 at 05:47:05PM +0600, Ivan Shmakov wrote:
> 	Any opinions on how the spatial dimensions detection should be
> 	done to handle such cases?  May it be of any help to try to also
> 	inspect the geolocation fields and ``guess'' the X, Y dimensions
> 	only among the dimensions referred by both the geolocation
> 	fields and the field being handled?  Or should there be a way to
> 	manually override any detection logic and specify the X, Y
> 	dimensions explicitly?

I would like to have the last option implemented. This requires addition
of the open option concept to raster core of GDAL.

Best regads,
Andrey


-- 
Andrey V. Kiselev
ICQ# 26871517
From ivan.lucena at pmldnet.com  Tue Dec 18 09:02:16 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Tue Dec 18 09:02:19 2007
Subject: [gdal-dev] HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <20071218132636.GA10779@ak4719.spb.edu>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu>
Message-ID: <4767D2E8.6080109@pmldnet.com>

Andrey,

Andrey Kiselev wrote:
> 
> I would like to have the last option implemented. This requires addition
> of the open option concept to raster core of GDAL.
>

Can we add the user-defined dimension request to the end of the 
subdataset name string?

HDF4_SDS:subdataset_type:file_name:subdataset_index:user-defined-dimension

Ex:

gdalinfo HDF4_SDS:MODIS_L1B:my-hdf-file.hdf:2:134x2040
                                               ^^^^^^^^

That will not require any changes in the GDALOpen() API.

Regards,

Ivan

From warmerdam at pobox.com  Tue Dec 18 09:42:10 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 18 09:42:27 2007
Subject: [gdal-dev] Re: Access gdal14.dll in VC++ 6.0
In-Reply-To: <322257.20134.qm@web52204.mail.re2.yahoo.com>
References: <322257.20134.qm@web52204.mail.re2.yahoo.com>
Message-ID: <4767DC42.4090004@pobox.com>

kiruba nantham wrote:
> Hai Frank,
>      I am kiruba, I just want to know whether we can use gdal14.dll for 
> visual c++ 6.0. Accually i am able to read the layer counts(19) for this 
> chart (US1BS04M.000) using borland builder compiler. When i dump this 
> chart using command line tool i got same layer count(19), but when i am 
> opening this chart (US1BS04M.000) with visual c++ 6.0 i am getting layer 
> count as 5. if i continue to draw my chart with this, i am getting 
> unhandled exception error. The following code i am using to get layer count.
>          OGRDataSourceH  m_pDS;
>          OGRSFDriverH m_pDriver;
>          int drivercount  = OGRGetDriverCount();
>          m_pDS = OGROpen("US1BS04M.000",0,&m_pDriver);
>          int LayerCount = OGR_DS_GetLayerCount(m_pDS);
>      i am getting same divercount(16) in both(borland,VC++). but 
> LayerCount i am getting 19 in borland, 5 in VC++. i attached this chart 
> for your referance chart (zipped) size is 45kb. can you please tell me 
> how to handle this.

Kiruba,

If you only get 5 layers with VC6 then it likely means the search for
the s57*.csv support files failed.  This could be because you did something
differently (ie. file location or environment variable settings) or it
could be something flawed in the file access when built with VC6.

You might want to add some printf()'s or otherwise debug into and below
S57ClassRegistrar::FindFile() in s57classregistrar.cpp.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ivan at theory.asu.ru  Tue Dec 18 09:45:06 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Tue Dec 18 09:45:12 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <4767D2E8.6080109@pmldnet.com> (Ivan Lucena's message of "Tue, 18
	Dec 2007 09:02:16 -0500")
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu> <4767D2E8.6080109@pmldnet.com>
Message-ID: <m2ejdkhxjh.fsf@cherry.siamics.int>

>>>>> Lucena, Ivan <ivan.lucena@pmldnet.com> writes:

 >> I would like to have the last option implemented. This requires addition
 >> of the open option concept to raster core of GDAL.

 > Can we add the user-defined dimension request to the end of the
 > subdataset name string?

 > HDF4_SDS:subdataset_type:file_name:subdataset_index:user-defined-dimension

 > Ex:

 > gdalinfo HDF4_SDS:MODIS_L1B:my-hdf-file.hdf:2:134x2040
 > ^^^^^^^^

 > That will not require any changes in the GDALOpen() API.

	Please note that the point is not to override dimensions, but to
	override their order.  If the data is, say, 100x100x100, its
	spatial dimensions are 100x100, but it obviously does matter
	which 100 are for X, Y and the bands.

	It may be that it's HDF4_SDS:...[:MAY-BE-OPTIONS...] thing that
	needs to be implemented, but GDALOpen () seems to be rather
	overloaded already.

From warmerdam at pobox.com  Tue Dec 18 10:00:19 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 18 10:00:52 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <m2ejdkhxjh.fsf@cherry.siamics.int>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu>
	<4767D2E8.6080109@pmldnet.com> <m2ejdkhxjh.fsf@cherry.siamics.int>
Message-ID: <4767E083.2080400@pobox.com>

Ivan Shmakov wrote:
> 	Please note that the point is not to override dimensions, but to
> 	override their order.  If the data is, say, 100x100x100, its
> 	spatial dimensions are 100x100, but it obviously does matter
> 	which 100 are for X, Y and the bands.
> 
> 	It may be that it's HDF4_SDS:...[:MAY-BE-OPTIONS...] thing that
> 	needs to be implemented, but GDALOpen () seems to be rather
> 	overloaded already.

Folks,

I agree with Ivan (Lucena) that the dataset name is he appropriate
place to put dimension order selection though some specific syntax
would need to be developed.  I have already expressed my objections
to open options as a completely distinct piece of data when RFC 10
was initially proposed and they continue to apply.

I'm not against a more uniform and orderly syntax for composing
complex dataset names.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ivan.lucena at pmldnet.com  Tue Dec 18 10:03:02 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Tue Dec 18 10:03:03 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <m2ejdkhxjh.fsf@cherry.siamics.int>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>	<20071218132636.GA10779@ak4719.spb.edu>
	<4767D2E8.6080109@pmldnet.com> <m2ejdkhxjh.fsf@cherry.siamics.int>
Message-ID: <4767E126.70308@pmldnet.com>

Hi Ivan

Sorry for my poor example, but the concept is that users indeed should 
be able to override the *order* of the dimension at the end of the 
sub-dataset string.

That could be done is several different ways like ":y=100,x=100,z=100", 
just the order like in ":z,y,x" or something like that. It am not sure 
how that should work better. My suggestion doesn't go that far. :)

Best regards,

Ivan


Ivan Shmakov wrote:
>>>>>> Lucena, Ivan <ivan.lucena@pmldnet.com> writes:
> 
>  >> I would like to have the last option implemented. This requires addition
>  >> of the open option concept to raster core of GDAL.
> 
>  > Can we add the user-defined dimension request to the end of the
>  > subdataset name string?
> 
>  > HDF4_SDS:subdataset_type:file_name:subdataset_index:user-defined-dimension
> 
>  > Ex:
> 
>  > gdalinfo HDF4_SDS:MODIS_L1B:my-hdf-file.hdf:2:134x2040
>  > ^^^^^^^^
> 
>  > That will not require any changes in the GDALOpen() API.
> 
> 	Please note that the point is not to override dimensions, but to
> 	override their order.  If the data is, say, 100x100x100, its
> 	spatial dimensions are 100x100, but it obviously does matter
> 	which 100 are for X, Y and the bands.
> 
> 	It may be that it's HDF4_SDS:...[:MAY-BE-OPTIONS...] thing that
> 	needs to be implemented, but GDALOpen () seems to be rather
> 	overloaded already.
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From dron at ak4719.spb.edu  Tue Dec 18 10:07:08 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Tue Dec 18 10:11:21 2007
Subject: [gdal-dev] HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <4767D2E8.6080109@pmldnet.com>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu>
	<4767D2E8.6080109@pmldnet.com>
Message-ID: <20071218150708.GA11464@ak4719.spb.edu>

On Tue, Dec 18, 2007 at 09:02:16AM -0500, Lucena, Ivan wrote:
> Can we add the user-defined dimension request to the end of the 
> subdataset name string?
> 
> HDF4_SDS:subdataset_type:file_name:subdataset_index:user-defined-dimension
> 
> Ex:
> 
> gdalinfo HDF4_SDS:MODIS_L1B:my-hdf-file.hdf:2:134x2040
> 
> That will not require any changes in the GDALOpen() API.

Personally I do not like this way. We already discussed the idea of
separate option vs. filename encoding in regard to OGROpen() call and it
also applies here. Though it seems I have not succeeded in convincing
everyone that we should add open parameters to our open calls.

There is my thoughts on this topic:

 http://lists.osgeo.org/pipermail/gdal-dev/2007-November/014840.html

Note, that we already have format identification function in GDAL, so it
applies only for OGR. Open options addition should apply both for GDAL
and OGR.

Also I think it will be quite hard (or even impossible) to solve all HDF
issues without user control.

Best regards,
Andrey


-- 
Andrey V. Kiselev
ICQ# 26871517
From bclay at ball.com  Tue Dec 18 14:18:52 2007
From: bclay at ball.com (Clay, Bruce)
Date: Tue Dec 18 14:18:55 2007
Subject: [gdal-dev] OGR Can not connect to Oracle 
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFD27@daytonmsg2k3.AERO.BALL.COM>

I have used GDAL c/c++ in various projects to manipulate data in files
but now I am trying to use it with c# to connect to an Oracle database.
The code I used is show below.

 

            try

            {

                OSGeo.OGR.Ogr.RegisterAll();

                status = 0;

            }

            catch (Exception except)

            {

                string statusMsg = "Could not Initialize GDAL/OGR\n" +

                            "Make sure the libraries are properly
installed";

                MessageBox.Show(statusMsg);

            }

 

            if (status == 0)

            {

                try

                {

                    string connectString = "ODBC:Driver={Oracle in
OraHome92};

 
Server=host.domain.company.com;dbq=dbName;UID=userName;PWD=password";

                    DataSource ds = Ogr.Open(connectString, 0);

                }

                catch (Exception except)

                {

                    string statusMsg = "Could not open dataset" +
except.Message;

                    MessageBox.Show(statusMsg);

                }

            }

 

I am using the libraries included in FwTools2.0.3\csharp.

 

The registration works ok but the connection does not.  When I execute
the Open shown above the program goes out to lunch.  If I break in
Visual Studio the stack trace just shows "External Code".  I can use the
same connection string in a different c# (without the "ODBC:")
application that uses Microsoft's System.Data.Odbc OdbcConnection.

 

ogrInfo shows ODBC support is available although no direct OCI support
is listed.  No ArcSDE support is shown either not that I really want to
use it since it is sooooo slow.

 

I can not find any OGR examples that connect to Oracle.

 

I would rather use GDAL/OGR if possible so I can use the common feature
support across a variety of geo-datbases.

 

Does anyone have any clues what I might be doing wrong?

 

Bruce

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071218/3b743177/attachment.html
From warmerdam at pobox.com  Tue Dec 18 17:18:19 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 18 17:18:30 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0RC1 Published
Message-ID: <4768472B.70102@pobox.com>

Folks,

I have posted GDAL/OGR 1.5.0RC1.  It can be downloaded from:

   http://download.osgeo.org/gdal/gdal-1.5.0RC1.tar.gz
   http://download.osgeo.org/gdal/gdal150RC1.zip
   http://download.osgeo.org/gdal/gdal150RC1doc.zip
   http://download.osgeo.org/gdal/gdalautotest-1.5.0.tar.gz

Release news is available at:

   http://trac.osgeo.org/gdal/wiki/Release/1.5.0-News

Testing on this release candidate is appreciated.  Bugs should be
file normally (with the version "1.5.0 betas/RCs".  Success and other
notes can be added at the testing matrix page as appropriate:

   http://trac.osgeo.org/gdal/wiki/TestMatrix150

If no show stopper issues are discovered in the next two days it is my
expectation that the release candidate will be declared 1.5.0 final on
Wednesday, December 20th.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Tue Dec 18 17:22:38 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 18 17:22:56 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0 Release Freeze / Branching
Message-ID: <4768482E.60707@pobox.com>

Folks,

As part of the 1.5.0RC1 release snapshotting I have created a branch
for the 1.5 stable releases (/branches/1.5).

That means that /trunk in subversion is now the development area for the 1.6.0
release (hopefully out in fall 2008).  Bug fixes that should go into 1.5.1
(or 1.5.0RC2) should be incorporated into branches/1.5.

Some bug fixes may also be suitable for the branches/1.4 tree and I do hope to
produce a 1.4.5 release in the next month or two, as a final 1.4 release.  But
for the most part stable bug fixes will go into the 1.5 branch and new
development will now commence in trunk.

I repeat, the "release quiet time" is now over in trunk - have at!

Best regards,
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Dec 18 20:51:06 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Dec 18 20:51:17 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC1 as 1.5.0
Message-ID: <4768790A.2030402@pobox.com>

Motion: To Adopt the 1.5.0RC1 release as the official 1.5.0 release.

Voting opens now so it can close Thursday December 20th.  Please only
vote once you have tested 1.5.0RC1 or heard of a significant reason to
veto the release.

I'll hold my vote till I've done some more testing myself.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ivan.lucena at pmldnet.com  Tue Dec 18 23:56:17 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Tue Dec 18 23:56:26 2007
Subject: [gdal-dev] error compiling on VC71
Message-ID: <4768A471.8060904@pmldnet.com>

Hi,

After updating from SVN I am getting an error on VC 71.

The error is on cpl_port.h and it is related to the "_isnan()" function 
definition. I added "#include <float.h>" on line 115 and fixed the 
problem. I am not sure that I should commit that change due to the 
imminent release and other platforms.

I tried to reproduce the same error on buildbolt but the link is broken:

http://buildbot.osgeo.org:8500/szekerest-vc71-full

Best regards,

Ivan



From mateusz at loskot.net  Wed Dec 19 00:21:32 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Dec 19 00:21:38 2007
Subject: [gdal-dev] error compiling on VC71
In-Reply-To: <4768A471.8060904@pmldnet.com>
References: <4768A471.8060904@pmldnet.com>
Message-ID: <4768AA5C.8040704@loskot.net>

Lucena, Ivan wrote:
> Hi,
> 
> After updating from SVN I am getting an error on VC 71.
> 
> The error is on cpl_port.h and it is related to the "_isnan()" function
> definition. I added "#include <float.h>" on line 115 and fixed the
> problem. I am not sure that I should commit that change due to the
> imminent release and other platforms.

Ivan,

Yes, I confirm the same problem occurs when building
with Visual C++ 2005. I've applied this fix to the SVN already (r13385).

Just for records, C99 macros isnan(), isinf(), etc. are defined in
math.h, but in Visual C++ (non-C99 compiler) they are in float.h.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From francesco.pirotti at unipd.it  Wed Dec 19 02:56:29 2007
From: francesco.pirotti at unipd.it (francesco)
Date: Wed Dec 19 02:56:57 2007
Subject: [gdal-dev] list and question
Message-ID: <20071219075650.A7DCD40003@mydoom.unipd.it>

Hello,

I am using OGR and GDAL library to develop 
utilities in python and PHP.  I would like to 
subscribe to the mailing list and also have a question:
In the PHP language, getting the extent of a 
layer using OGR_L_GetExtent() wants a pointer to 
OGREnvelope.  It is clear how this is done in C 
but I do not have it clear how to call a 
reference to the OGREnvelope structure in 
PHP.  Does it exist?  Where can I fish it out 
from?  Of course I googled and check code in 
python and C to try and copy it somehow inPHP, 
but no success... it does not throw an error, it just does not get any extent.
Any help appreciated!

Thanks

Francesco Pirotti
Researcher
Dept. of Land and Agroforest Systems
Viale dell'Universit? 16
35020 Legnaro (PD)
ITALY
Ph.  049-8272710
fax  049-8272686 

From ivan.lucena at pmldnet.com  Wed Dec 19 09:18:29 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Wed Dec 19 09:18:33 2007
Subject: [gdal-dev] HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <20071218150708.GA11464@ak4719.spb.edu>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>	<20071218132636.GA10779@ak4719.spb.edu>	<4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu>
Message-ID: <47692835.8090801@pmldnet.com>

Andrey,

You might be right, the dimension information on the subdataset string 
is a little bit of a stretch and it might not be the best solution for 
every situation. But I also agree with Frank about the open options.

User-case scenario: Right now I am facing problems with ImageServer (it 
uses GDAL to read HDF) and the only solution would be to get the latests 
updates on the HDF driver (or make my own changes to it), recompile and 
place it as a GDAL plugins on the path. That is not very user friendly :)

So, may I raise another suggestion if you don't mind?

What if we create a hdf-knowledge-base, a simple XML helper file with 
details about particular HDF-EOS products?

That could have something like a list of products and dataset names and 
the particularities about then. So, a node on your XML could have:

product="MODISXYZ"
dataset="CLOUDSDATA"
processdate="20071001"

and then a set of particular issues about that dataset. That would 
include not only dimensions information but any other issue like "how to 
break down the bands of 16bits Quality data?", etc.

The file could be deployed at <gdal>\data but users should be able to 
create their own "hdf-helper" files and place in the same folder as 
their data or some kind of user-path.

Anyway, that is just a humble suggestion. I understand the frustration 
of dealing with HDF. The format is great, the hdf library is good and 
the GDAL HDF4 driver is also good, but there is lack of documentation on 
the files itself so what usually happens is that we, programmers, read 
the documentation on the web and hard code it. The question is: Can we 
cover all the issues about HDF4 and hard code then? If that is possible, 
forget about it.

Frank, Can you imagine using this "helper files" solution to other 
situation and drivers?

Best regards,

Ivan

Andrey Kiselev wrote:
> On Tue, Dec 18, 2007 at 09:02:16AM -0500, Lucena, Ivan wrote:
>> Can we add the user-defined dimension request to the end of the 
>> subdataset name string?
>>
>> HDF4_SDS:subdataset_type:file_name:subdataset_index:user-defined-dimension
>>
>> Ex:
>>
>> gdalinfo HDF4_SDS:MODIS_L1B:my-hdf-file.hdf:2:134x2040
>>
>> That will not require any changes in the GDALOpen() API.
> 
> Personally I do not like this way. We already discussed the idea of
> separate option vs. filename encoding in regard to OGROpen() call and it
> also applies here. Though it seems I have not succeeded in convincing
> everyone that we should add open parameters to our open calls.
> 
> There is my thoughts on this topic:
> 
>  http://lists.osgeo.org/pipermail/gdal-dev/2007-November/014840.html
> 
> Note, that we already have format identification function in GDAL, so it
> applies only for OGR. Open options addition should apply both for GDAL
> and OGR.
> 
> Also I think it will be quite hard (or even impossible) to solve all HDF
> issues without user control.
> 
> Best regards,
> Andrey
> 
> 
From szekerest at gmail.com  Wed Dec 19 09:20:00 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Dec 19 09:20:03 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <4768790A.2030402@pobox.com>
References: <4768790A.2030402@pobox.com>
Message-ID: <f3b73b7d0712190620n6aa11a5bxca140b8eae47366d@mail.gmail.com>

Frank,

It would be reasonable to see whether the test failures at the
buildbot can be fixed or not.

Best regards,

Tamas


2007/12/19, Frank Warmerdam <warmerdam@pobox.com>:
> Motion: To Adopt the 1.5.0RC1 release as the official 1.5.0 release.
>
> Voting opens now so it can close Thursday December 20th.  Please only
> vote once you have tested 1.5.0RC1 or heard of a significant reason to
> veto the release.
>
> I'll hold my vote till I've done some more testing myself.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From estrada.adam at gmail.com  Wed Dec 19 10:07:19 2007
From: estrada.adam at gmail.com (estrada.adam@gmail.com)
Date: Wed Dec 19 10:07:47 2007
Subject: [gdal-dev] Re: Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <4768790A.2030402@pobox.com>
References: <4768790A.2030402@pobox.com>
Message-ID: <8baf202b-0de7-47b6-bf9e-7f2d4d3eda75@j20g2000hsi.googlegroups.com>

Frank,
    Gdaltindex does not work with FWTools 2.0.3

Thanks,
Adam

On Dec 18, 8:51 pm, Frank Warmerdam <warmer...@pobox.com> wrote:
> Motion: To Adopt the 1.5.0RC1 release as the official 1.5.0 release.
>
> Voting opens now so it can close Thursday December 20th.  Please only
> vote once you have tested 1.5.0RC1 or heard of a significant reason to
> veto the release.
>
> I'll hold my vote till I've done some more testing myself.
>
> Best regards,
> --
> ---------------------------------------+---------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmer...@pobox.com
> light and sound - activate the windows |http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo,http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-...@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Wed Dec 19 10:44:22 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 19 10:44:36 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <f3b73b7d0712190620n6aa11a5bxca140b8eae47366d@mail.gmail.com>
References: <4768790A.2030402@pobox.com>
	<f3b73b7d0712190620n6aa11a5bxca140b8eae47366d@mail.gmail.com>
Message-ID: <47693C56.8040304@pobox.com>

Tamas Szekeres wrote:
> Frank,
> 
> It would be reasonable to see whether the test failures at the
> buildbot can be fixed or not.

Tamas,

The WCS failures are due to intermittent failures of the WCS server on
geodata.telascience.org due to some sort of funky NFS/network errors and
are unrelated to GDAL itself.  I'm hoping those OSGeo people will fix it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From dron at ak4719.spb.edu  Wed Dec 19 10:37:38 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Dec 19 10:48:11 2007
Subject: [gdal-dev] HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <47692835.8090801@pmldnet.com>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu>
	<4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu>
	<47692835.8090801@pmldnet.com>
Message-ID: <20071219153737.GA17128@ak4719.spb.edu>

On Wed, Dec 19, 2007 at 09:18:29AM -0500, Lucena, Ivan wrote:
> But I also agree with Frank about the open options.

I hope we will develop some user-options solution for GDAL (and OGR) at
some point, because we need them for various drivers

> What if we create a hdf-knowledge-base, a simple XML helper file with
> details about particular HDF-EOS products?

On the first look I decided that it is a bad solution, but after some
thoughts it seems to be an interesting idea. Maybe we can use a virtual
datasets for this purpose in some way?

The big problem with this solution is a lack of resources on my side to
implement it. Another problem is that sometimes we can't identify the
product type of the HDF dataset.

> I understand the frustration of dealing with HDF. The format is great,
> the hdf library is good and the GDAL HDF4 driver is also good, but
> there is lack of documentation on the files itself so what usually
> happens is that we, programmers, read the documentation on the web and
> hard code it.

I am strongly disagree here. I am absolutely sure, that the HDF format
is bad. The format is only good for manual processing, but completely
unsuitable for automatic processing without user interaction. The
dimension order that we are discussing in this thread is just one
example of many problems with automatic processing of HDF. And HDF-EOS
adds even more troubles. In HDF-EOS data fields, dimensions,
geolocations and their relations with each other are marked with (sic!)
human readable names depicting the physical nature of that field or
dimension. It is totally unsuitable for generalization and automation.

> The question is: Can we cover all the issues about HDF4 and hard code
> then?

We can hardcode issues in driver (and we did), but it makes the driver
hard to maintain and refactor and it is endless source of bugs. One
workaroud can break something in another workaround and we can't catch
it, because it is impossible to have a test suite with all kinds of HDF
products and check for regressions everytime.

> Frank, Can you imagine using this "helper files" solution to other 
> situation and drivers?

What just came to mind: maybe we can pass options via the external file?
Via the PAM? Some info is being read from PAM files as of now, maybe it
could be a place for user controlled parameters?

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From ivan at theory.asu.ru  Wed Dec 19 11:59:55 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Wed Dec 19 12:00:01 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <47692835.8090801@pmldnet.com> (Ivan Lucena's message of "Wed, 19
	Dec 2007 09:18:29 -0500")
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu> <4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu> <47692835.8090801@pmldnet.com>
Message-ID: <m2odcmhb78.fsf@cherry.siamics.int>

>>>>> Lucena, Ivan <ivan.lucena@pmldnet.com> writes:

 >> Personally I do not like this way. We already discussed the idea of
 >> separate option vs. filename encoding in regard to OGROpen() call
 >> and it also applies here. Though it seems I have not succeeded in
 >> convincing everyone that we should add open parameters to our open
 >> calls.

[...]

 >> Also I think it will be quite hard (or even impossible) to solve all
 >> HDF issues without user control.

 > You might be right, the dimension information on the subdataset
 > string is a little bit of a stretch and it might not be the best
 > solution for every situation. But I also agree with Frank about the
 > open options.

 > User-case scenario: Right now I am facing problems with ImageServer
 > (it uses GDAL to read HDF) and the only solution would be to get the
 > latests updates on the HDF driver (or make my own changes to it),
 > recompile and place it as a GDAL plugins on the path. That is not
 > very user friendly :)

	My opinion is that the ability to query the driver about the
	options available for a particular dataset and to specify any of
	them in at the dataset opening time in some way /without/ doing
	any formatting / parsing runs would be a handy addition to the
	GDAL API.

	However, are there any reasons to actually disallow options to
	be specified in the (sub)dataset name?

 > So, may I raise another suggestion if you don't mind?

 > What if we create a hdf-knowledge-base, a simple XML helper file with
 > details about particular HDF-EOS products?

 > That could have something like a list of products and dataset names
 > and the particularities about then. So, a node on your XML could
 > have:

 > product="MODISXYZ"
 > dataset="CLOUDSDATA"
 > processdate="20071001"

 > and then a set of particular issues about that dataset. That would
 > include not only dimensions information but any other issue like "how
 > to break down the bands of 16bits Quality data?", etc.

 > The file could be deployed at <gdal>\data but users should be able to
 > create their own "hdf-helper" files and place in the same folder as
 > their data or some kind of user-path.

	I agree with this proposal.  It's unclear to me, however, how
	the dataset could be identified, so that the database could be
	queried?  I see two ways of doing this:

	* relying on some identification string(s) in the HDF-EOS
	  metadata;

	* relying on the names, dimensions or order of the data sets.

	Both ways it seems to be only guessing, as the actual product
	format may vary with time.

 > Anyway, that is just a humble suggestion. I understand the
 > frustration of dealing with HDF. The format is great, the hdf library
 > is good and the GDAL HDF4 driver is also good, but there is lack of
 > documentation on the files itself so what usually happens is that we,
 > programmers, read the documentation on the web and hard code it.

	Actually, I disagree with this (mildly.)

 > The question is: Can we cover all the issues about HDF4 and hard code
 > then? If that is possible, forget about it.

	I agree with Andrey's opinion about the HDF-EOS-related issues
	above.  I certainly would prefer a solution which allows the
	settings that cannot be reliably retrieved from an HDF-EOS file
	to be overriden manually.

 > Frank, Can you imagine using this "helper files" solution to other
 > situation and drivers?

	Indeed, I've been thinking about a kind of ``helper files''
	(though a somewhat different kind) to allow for specified
	datasets to be ``stacked upon each other along the band axis'',
	forming a dataset with the same spatial dimensions and a larger
	bands number...

	BTW, setting GCPs and specifying the projection fits quite
	neatly into the ``helper file'' framework.  I'm sure there are
	many other applications for them.

	Given the above, we stumble upon that there're some tasks that
	are already implemented with either the command line interface,
	or dataset specifier parser.  How these facilities, would they
	be extended to the point of ``overlapping'' each other, should
	relate to each other?

	I believe that there should be a sort of generic ``options
	database'' inside of GDAL.  Would it be allowed for the values
	for the options for a particular dataset:

	* to come from the dataset specifier,

	* to be passed with an ::OpenOptions () call,

	* to be acquired from a helper file (XML or not),

	it would be only to the benefit of GDAL users -- both GDAL-based
	software developers and the users of the software based on GDAL.

From ivan at theory.asu.ru  Wed Dec 19 12:17:34 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Wed Dec 19 12:17:37 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <20071219153737.GA17128@ak4719.spb.edu> (Andrey Kiselev's message
	of "Wed, 19 Dec 2007 18:37:38 +0300")
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu> <4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu> <47692835.8090801@pmldnet.com>
	<20071219153737.GA17128@ak4719.spb.edu>
Message-ID: <m2k5nahadt.fsf@cherry.siamics.int>

>>>>> Andrey Kiselev <dron@ak4719.spb.edu> writes:

[...]

 >> I understand the frustration of dealing with HDF. The format is great,
 >> the hdf library is good and the GDAL HDF4 driver is also good, but
 >> there is lack of documentation on the files itself so what usually
 >> happens is that we, programmers, read the documentation on the web and
 >> hard code it.

 > I am strongly disagree here. I am absolutely sure, that the HDF
 > format is bad. The format is only good for manual processing, but
 > completely unsuitable for automatic processing without user
 > interaction. The dimension order that we are discussing in this
 > thread is just one example of many problems with automatic processing
 > of HDF.

	HDF is hardly the best format, though I believe it's fairly
	acceptable as a format for generic multidimensional data.

	Other issue is the lack of tools to process generic HDF files.
	I've never seen a tool which allows for an HDF file to be viewed
	as a sort of ``dataset archive'' (which it, essentially, is),
	allowing for certain datasets to be added to, removed from or
	moved between HDF files.  (Not to talk about obtaining subsets,
	merging, changing the order of the dimensions, etc.)

 > And HDF-EOS adds even more troubles. In HDF-EOS data fields,
 > dimensions, geolocations and their relations with each other are
 > marked with (sic!) human readable names depicting the physical nature
 > of that field or dimension. It is totally unsuitable for
 > generalization and automation.

	Agreed completely.  Though, in my opinion, it's not the fault of
	the HDF format per se.

 >> The question is: Can we cover all the issues about HDF4 and hard
 >> code then?

 > We can hardcode issues in driver (and we did), but it makes the
 > driver hard to maintain and refactor and it is endless source of
 > bugs. One workaroud can break something in another workaround and we
 > can't catch it, because it is impossible to have a test suite with
 > all kinds of HDF products and check for regressions everytime.

	Besides, what you'd recommend to the users should a brand new
	HDF-EOS product to emerge?  I'm certain that ``updating from the
	SVN trunk'' is barely an option, at least for some users.
	Giving user more control over how the data is to be interpreted
	is the solution.

[...]

From richard at waypointinfo.com  Wed Dec 19 12:38:59 2007
From: richard at waypointinfo.com (Richard Matsunaga)
Date: Wed Dec 19 12:39:15 2007
Subject: [gdal-dev] problem compiling C#
Message-ID: <002801c84266$0a27b150$7894fea9@Richard>

After compiling the 1.5 RC of GDAL, I cannot build the C# bindings. I had to
make the same change as Ivan suggested for compiling on VC71, not sure if
that is related.
 
Richard
 
 
>nmake /f makefile.vc interface
 
Microsoft (R) Program Maintenance Utility Version 8.00.50727.762
Copyright (C) Microsoft Corporation.  All rights reserved.
 
        cd const
        C:\Code\swig\swigwin-1.3.31\swig.exe -csharp -namespace OSGeo.GDAL
-dllimport gdalconst_wrap
 -o gdalconst_wrap.c ../../include/gdalconst.i
        cd ..
        cd gdal
        C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
OSGeo.GDAL  -dllimport gdal_wra
p -I../../include/csharp -o gdal_wrap.cpp ../../include/gdal.i
        cd ..
        cd osr
        C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
OSGeo.OSR  -dllimport osr_wrap
-I../../include/csharp -o osr_wrap.cpp ../../include/osr.i
..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
typemaps are defined.
..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
typemaps are defined.
        cd ..
        cd ogr
        C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
OSGeo.OGR  -dllimport osr_wrap
-I../../include/csharp -o osr_wrap.cpp ../../include/osr.i
..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
typemaps are defined.
..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
typemaps are defined.
        C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
OSGeo.OGR -dllimport ogr_wrap -
I../../include/csharp -o ogr_wrap.cpp ../../include/ogr.i
..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
typemaps are defined.
..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
typemaps are defined.
        cd ..
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071219/11e1ff2a/attachment.html
From szekerest at gmail.com  Wed Dec 19 13:03:01 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Dec 19 13:03:04 2007
Subject: [gdal-dev] problem compiling C#
In-Reply-To: <002801c84266$0a27b150$7894fea9@Richard>
References: <002801c84266$0a27b150$7894fea9@Richard>
Message-ID: <f3b73b7d0712191003i58dc7898x3cf8c2f905247098@mail.gmail.com>

Richard,

I don't see the error in your previous post. You can take no notice of
the warnings we currently have.

Best regards,

Tamas



2007/12/19, Richard Matsunaga <richard@waypointinfo.com>:
>
>
> After compiling the 1.5 RC of GDAL, I cannot build the C# bindings. I had to
> make the same change as Ivan suggested for compiling on VC71, not sure if
> that is related.
>
> Richard
>
>
> >nmake /f makefile.vc interface
>
> Microsoft (R) Program Maintenance Utility Version 8.00.50727.762
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
>         cd const
>         C:\Code\swig\swigwin-1.3.31\swig.exe -csharp -namespace OSGeo.GDAL
> -dllimport gdalconst_wrap
>  -o gdalconst_wrap.c ../../include/gdalconst.i
>         cd ..
>         cd gdal
>         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
> OSGeo.GDAL  -dllimport gdal_wra
> p -I../../include/csharp -o gdal_wrap.cpp ../../include/gdal.i
>         cd ..
>         cd osr
>         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
> OSGeo.OSR  -dllimport osr_wrap
> -I../../include/csharp -o osr_wrap.cpp ../../include/osr.i
> ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
> typemaps are defined.
> ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
> typemaps are defined.
>         cd ..
>         cd ogr
>         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
> OSGeo.OGR  -dllimport osr_wrap
> -I../../include/csharp -o osr_wrap.cpp ../../include/osr.i
> ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
> typemaps are defined.
> ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
> typemaps are defined.
>         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
> OSGeo.OGR -dllimport ogr_wrap -
> I../../include/csharp -o ogr_wrap.cpp ../../include/ogr.i
> ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
> typemaps are defined.
> ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
> typemaps are defined.
>         cd ..
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From dron at ak4719.spb.edu  Wed Dec 19 13:27:01 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Dec 19 13:33:22 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <m2k5nahadt.fsf@cherry.siamics.int>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu>
	<4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu>
	<47692835.8090801@pmldnet.com>
	<20071219153737.GA17128@ak4719.spb.edu>
	<m2k5nahadt.fsf@cherry.siamics.int>
Message-ID: <20071219182701.GA17973@ak4719.spb.edu>

On Wed, Dec 19, 2007 at 11:17:34PM +0600, Ivan Shmakov wrote:
> 	Other issue is the lack of tools to process generic HDF files.
> 	I've never seen a tool which allows for an HDF file to be viewed
> 	as a sort of ``dataset archive'' (which it, essentially, is),
> 	allowing for certain datasets to be added to, removed from or
> 	moved between HDF files.  (Not to talk about obtaining subsets,
> 	merging, changing the order of the dimensions, etc.)

Yep, because such a tool should expose the whole hdflib API in its
interface to be flexible enough for all sorts of HDF. It is non-trivial
to create such a tool and it is even more non-trivial to make its
over-complicated interface usable.

>  > We can hardcode issues in driver (and we did), but it makes the
>  > driver hard to maintain and refactor and it is endless source of
>  > bugs. One workaroud can break something in another workaround and we
>  > can't catch it, because it is impossible to have a test suite with
>  > all kinds of HDF products and check for regressions everytime.
> 
> 	Besides, what you'd recommend to the users should a brand new
> 	HDF-EOS product to emerge?  I'm certain that ``updating from the
> 	SVN trunk'' is barely an option, at least for some users.
> 	Giving user more control over how the data is to be interpreted
> 	is the solution.

Exactly, that is waht I am talking about. I would like to move to user
as much control as possible.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From dron at ak4719.spb.edu  Wed Dec 19 13:34:23 2007
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Dec 19 13:48:18 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <m2odcmhb78.fsf@cherry.siamics.int>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu>
	<4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu>
	<47692835.8090801@pmldnet.com> <m2odcmhb78.fsf@cherry.siamics.int>
Message-ID: <20071219183423.GB17973@ak4719.spb.edu>

On Wed, Dec 19, 2007 at 10:59:55PM +0600, Ivan Shmakov wrote:
> 	However, are there any reasons to actually disallow options to
> 	be specified in the (sub)dataset name?

I think this way is counter-intuitive and error-prone:

 http://lists.osgeo.org/pipermail/gdal-dev/2007-November/014853.html
 
> 	Indeed, I've been thinking about a kind of ``helper files''
> 	(though a somewhat different kind) to allow for specified
> 	datasets to be ``stacked upon each other along the band axis'',
> 	forming a dataset with the same spatial dimensions and a larger
> 	bands number...
> 
> 	BTW, setting GCPs and specifying the projection fits quite
> 	neatly into the ``helper file'' framework.  I'm sure there are
> 	many other applications for them.

Actually it can be done with help of VRT datasets.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From richard at waypointinfo.com  Wed Dec 19 14:03:00 2007
From: richard at waypointinfo.com (Richard Matsunaga)
Date: Wed Dec 19 14:03:13 2007
Subject: [gdal-dev] problem compiling C#
In-Reply-To: <f3b73b7d0712191003i58dc7898x3cf8c2f905247098@mail.gmail.com>
References: <002801c84266$0a27b150$7894fea9@Richard>
	<f3b73b7d0712191003i58dc7898x3cf8c2f905247098@mail.gmail.com>
Message-ID: <003c01c84271$c6279680$7894fea9@Richard>

Yes, you're right - no error. Just wondering if it was an indication of a
problem that might occur at run-time.

Richard 

-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: December 19, 2007 1:03 PM
To: Richard Matsunaga
Cc: GDAL dev
Subject: Re: [gdal-dev] problem compiling C#

Richard,

I don't see the error in your previous post. You can take no notice of the
warnings we currently have.

Best regards,

Tamas



2007/12/19, Richard Matsunaga <richard@waypointinfo.com>:
>
>
> After compiling the 1.5 RC of GDAL, I cannot build the C# bindings. I 
> had to make the same change as Ivan suggested for compiling on VC71, 
> not sure if that is related.
>
> Richard
>
>
> >nmake /f makefile.vc interface
>
> Microsoft (R) Program Maintenance Utility Version 8.00.50727.762 
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
>         cd const
>         C:\Code\swig\swigwin-1.3.31\swig.exe -csharp -namespace 
> OSGeo.GDAL -dllimport gdalconst_wrap  -o gdalconst_wrap.c 
> ../../include/gdalconst.i
>         cd ..
>         cd gdal
>         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace 
> OSGeo.GDAL  -dllimport gdal_wra p -I../../include/csharp -o 
> gdal_wrap.cpp ../../include/gdal.i
>         cd ..
>         cd osr
>         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace 
> OSGeo.OSR  -dllimport osr_wrap -I../../include/csharp -o osr_wrap.cpp 
> ../../include/osr.i
> ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No 
> typemaps are defined.
> ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No 
> typemaps are defined.
>         cd ..
>         cd ogr
>         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace 
> OSGeo.OGR  -dllimport osr_wrap -I../../include/csharp -o osr_wrap.cpp 
> ../../include/osr.i
> ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No 
> typemaps are defined.
> ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No 
> typemaps are defined.
>         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace 
> OSGeo.OGR -dllimport ogr_wrap - I../../include/csharp -o ogr_wrap.cpp 
> ../../include/ogr.i
> ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No 
> typemaps are defined.
> ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No 
> typemaps are defined.
>         cd ..
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From szekerest at gmail.com  Wed Dec 19 14:14:04 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Dec 19 14:14:14 2007
Subject: [gdal-dev] problem compiling C#
In-Reply-To: <003c01c84271$c6279680$7894fea9@Richard>
References: <002801c84266$0a27b150$7894fea9@Richard>
	<f3b73b7d0712191003i58dc7898x3cf8c2f905247098@mail.gmail.com>
	<003c01c84271$c6279680$7894fea9@Richard>
Message-ID: <f3b73b7d0712191114j42256333l1105f4c1080ddcd2@mail.gmail.com>

Richard,

I've planned to implement this typemap but I didn't have enough time
to deal with that so far. However only
GetProjectionMethodParameterList and GetProjectionMethods are affected
with this. You can file a ticket if you'd like to use these fuctions.


Best regards,

Tamas



2007/12/19, Richard Matsunaga <richard@waypointinfo.com>:
> Yes, you're right - no error. Just wondering if it was an indication of a
> problem that might occur at run-time.
>
> Richard
>
> -----Original Message-----
> From: Tamas Szekeres [mailto:szekerest@gmail.com]
> Sent: December 19, 2007 1:03 PM
> To: Richard Matsunaga
> Cc: GDAL dev
> Subject: Re: [gdal-dev] problem compiling C#
>
> Richard,
>
> I don't see the error in your previous post. You can take no notice of the
> warnings we currently have.
>
> Best regards,
>
> Tamas
>
>
>
> 2007/12/19, Richard Matsunaga <richard@waypointinfo.com>:
> >
> >
> > After compiling the 1.5 RC of GDAL, I cannot build the C# bindings. I
> > had to make the same change as Ivan suggested for compiling on VC71,
> > not sure if that is related.
> >
> > Richard
> >
> >
> > >nmake /f makefile.vc interface
> >
> > Microsoft (R) Program Maintenance Utility Version 8.00.50727.762
> > Copyright (C) Microsoft Corporation.  All rights reserved.
> >
> >         cd const
> >         C:\Code\swig\swigwin-1.3.31\swig.exe -csharp -namespace
> > OSGeo.GDAL -dllimport gdalconst_wrap  -o gdalconst_wrap.c
> > ../../include/gdalconst.i
> >         cd ..
> >         cd gdal
> >         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
> > OSGeo.GDAL  -dllimport gdal_wra p -I../../include/csharp -o
> > gdal_wrap.cpp ../../include/gdal.i
> >         cd ..
> >         cd osr
> >         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
> > OSGeo.OSR  -dllimport osr_wrap -I../../include/csharp -o osr_wrap.cpp
> > ../../include/osr.i
> > ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
> > typemaps are defined.
> > ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
> > typemaps are defined.
> >         cd ..
> >         cd ogr
> >         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
> > OSGeo.OGR  -dllimport osr_wrap -I../../include/csharp -o osr_wrap.cpp
> > ../../include/osr.i
> > ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
> > typemaps are defined.
> > ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
> > typemaps are defined.
> >         C:\Code\swig\swigwin-1.3.31\swig.exe -c++ -csharp -namespace
> > OSGeo.OGR -dllimport ogr_wrap - I../../include/csharp -o ogr_wrap.cpp
> > ../../include/ogr.i
> > ..\..\include\osr.i(220): Warning(453): Can't apply (char **CSL). No
> > typemaps are defined.
> > ..\..\include\osr.i(225): Warning(453): Can't apply (char **CSL). No
> > typemaps are defined.
> >         cd ..
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
From chowell at pyxisinnovation.com  Wed Dec 19 14:15:33 2007
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Wed Dec 19 14:15:35 2007
Subject: [gdal-dev] Projections & Datums
Message-ID: <47696DD5.4000407@pyxisinnovation.com>

Is there a documented list somewhere that outlines the projections and 
datums that GDAL knows about ? I've seen reference to some in the code 
on GDAL trac but I haven't been able to find a good list documented 
somewhere

Chris
From warmerdam at pobox.com  Wed Dec 19 14:48:51 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 19 14:49:09 2007
Subject: [gdal-dev] Projections & Datums
In-Reply-To: <47696DD5.4000407@pyxisinnovation.com>
References: <47696DD5.4000407@pyxisinnovation.com>
Message-ID: <476975A3.3010609@pobox.com>

Chris Howell wrote:
> Is there a documented list somewhere that outlines the projections and 
> datums that GDAL knows about ? I've seen reference to some in the code 
> on GDAL trac but I haven't been able to find a good list documented 
> somewhere

Chris,

The list of projection methods in theory understood by GDAL is defined by
the methods for setting them on OGRSpatialReference:

     /** Albers Conic Equal Area */
     OGRErr      SetACEA( double dfStdP1, double dfStdP2,
                          double dfCenterLat, double dfCenterLong,
                          double dfFalseEasting, double dfFalseNorthing );

     /** Azimuthal Equidistant */
     OGRErr      SetAE( double dfCenterLat, double dfCenterLong,
                        double dfFalseEasting, double dfFalseNorthing );

     /** Bonne */
     OGRErr      SetBonne( double dfStdP1, double dfCentralMeridian,
                           double dfFalseEasting, double dfFalseNorthing );

     /** Cylindrical Equal Area */
     OGRErr      SetCEA( double dfStdP1, double dfCentralMeridian,
                         double dfFalseEasting, double dfFalseNorthing );

     /** Cassini-Soldner */
     OGRErr      SetCS( double dfCenterLat, double dfCenterLong,
                        double dfFalseEasting, double dfFalseNorthing );

     /** Equidistant Conic */
     OGRErr      SetEC( double dfStdP1, double dfStdP2,
                        double dfCenterLat, double dfCenterLong,
                        double dfFalseEasting, double dfFalseNorthing );

     /** Eckert I-VI */
     OGRErr      SetEckert( int nVariation, double dfCentralMeridian,
                            double dfFalseEasting, double dfFalseNorthing );

     OGRErr      SetEckertIV( double dfCentralMeridian,
                              double dfFalseEasting, double dfFalseNorthing );

     OGRErr      SetEckertVI( double dfCentralMeridian,
                              double dfFalseEasting, double dfFalseNorthing );

     /** Equirectangular */
     OGRErr      SetEquirectangular(double dfCenterLat, double dfCenterLong,
                             double dfFalseEasting, double dfFalseNorthing );

     /** Geostationary Satellite */
     OGRErr      SetGEOS( double dfCentralMeridian, double dfSatelliteHeight,
                          double dfFalseEasting, double dfFalseNorthing );

     /** Goode Homolosine */
     OGRErr      SetGH( double dfCentralMeridian,
                        double dfFalseEasting, double dfFalseNorthing );

     /** Gall Stereograpic */
     OGRErr      SetGS( double dfCentralMeridian,
                        double dfFalseEasting, double dfFalseNorthing );

     /** Gnomonic */
     OGRErr      SetGnomonic(double dfCenterLat, double dfCenterLong,
                             double dfFalseEasting, double dfFalseNorthing );

     OGRErr      SetHOM( double dfCenterLat, double dfCenterLong,
                         double dfAzimuth, double dfRectToSkew,
                         double dfScale,
                         double dfFalseEasting, double dfFalseNorthing );

     OGRErr      SetHOM2PNO( double dfCenterLat,
                             double dfLat1, double dfLong1,
                             double dfLat2, double dfLong2,
                             double dfScale,
                             double dfFalseEasting, double dfFalseNorthing );

     /** Krovak Oblique Conic Conformal */
     OGRErr      SetKrovak( double dfCenterLat, double dfCenterLong,
                            double dfAzimuth, double dfPseudoStdParallelLat,
                            double dfScale,
                            double dfFalseEasting, double dfFalseNorthing );

     /** Lambert Azimuthal Equal-Area */
     OGRErr      SetLAEA( double dfCenterLat, double dfCenterLong,
                          double dfFalseEasting, double dfFalseNorthing );

     /** Lambert Conformal Conic */
     OGRErr      SetLCC( double dfStdP1, double dfStdP2,
                         double dfCenterLat, double dfCenterLong,
                         double dfFalseEasting, double dfFalseNorthing );

     /** Lambert Conformal Conic 1SP */
     OGRErr      SetLCC1SP( double dfCenterLat, double dfCenterLong,
                            double dfScale,
                            double dfFalseEasting, double dfFalseNorthing );

     /** Lambert Conformal Conic (Belgium) */
     OGRErr      SetLCCB( double dfStdP1, double dfStdP2,
                          double dfCenterLat, double dfCenterLong,
                          double dfFalseEasting, double dfFalseNorthing );

     /** Miller Cylindrical */
     OGRErr      SetMC( double dfCenterLat, double dfCenterLong,
                        double dfFalseEasting, double dfFalseNorthing );

     /** Mercator */
     OGRErr      SetMercator( double dfCenterLat, double dfCenterLong,
                              double dfScale,
                              double dfFalseEasting, double dfFalseNorthing );

     OGRErr      SetMercator2SP( double dfStdP1,
                                 double dfCenterLat, double dfCenterLong,
                                 double dfFalseEasting, double dfFalseNorthing );

     /** Mollweide */
     OGRErr      SetMollweide( double dfCentralMeridian,
                               double dfFalseEasting, double dfFalseNorthing );

     /** New Zealand Map Grid */
     OGRErr      SetNZMG( double dfCenterLat, double dfCenterLong,
                          double dfFalseEasting, double dfFalseNorthing );

     /** Oblique Stereographic */
     OGRErr      SetOS( double dfOriginLat, double dfCMeridian,
                        double dfScale,
                        double dfFalseEasting,double dfFalseNorthing);

     /** Orthographic */
     OGRErr      SetOrthographic( double dfCenterLat, double dfCenterLong,
                                  double dfFalseEasting,double dfFalseNorthing);

     /** Polyconic */
     OGRErr      SetPolyconic( double dfCenterLat, double dfCenterLong,
                               double dfFalseEasting, double dfFalseNorthing );

     /** Polar Stereographic */
     OGRErr      SetPS( double dfCenterLat, double dfCenterLong,
                        double dfScale,
                        double dfFalseEasting, double dfFalseNorthing);

     /** Robinson */
     OGRErr      SetRobinson( double dfCenterLong,
                              double dfFalseEasting, double dfFalseNorthing );

     /** Sinusoidal */
     OGRErr      SetSinusoidal( double dfCenterLong,
                                double dfFalseEasting, double dfFalseNorthing );

     /** Stereographic */
     OGRErr      SetStereographic( double dfCenterLat, double dfCenterLong,
                                   double dfScale,
                                  double dfFalseEasting,double dfFalseNorthing);

     /** Swiss Oblique Cylindrical */
     OGRErr      SetSOC( double dfLatitudeOfOrigin, double dfCentralMeridian,
                         double dfFalseEasting, double dfFalseNorthing );

     /** Transverse Mercator */
     OGRErr      SetTM( double dfCenterLat, double dfCenterLong,
                        double dfScale,
                        double dfFalseEasting, double dfFalseNorthing );

     /** Transverse Mercator variants. */
     OGRErr      SetTMVariant( const char *pszVariantName,
                               double dfCenterLat, double dfCenterLong,
                               double dfScale,
                               double dfFalseEasting, double dfFalseNorthing );

     /** Tunesia Mining Grid  */
     OGRErr      SetTMG( double dfCenterLat, double dfCenterLong,
                         double dfFalseEasting, double dfFalseNorthing );

     /** Transverse Mercator (South Oriented) */
     OGRErr      SetTMSO( double dfCenterLat, double dfCenterLong,
                          double dfScale,
                          double dfFalseEasting, double dfFalseNorthing );

     /** Two Point Equidistant */
     OGRErr      SetTPED( double dfLat1, double dfLong1,
                          double dfLat2, double dfLong2,
                          double dfFalseEasting, double dfFalseNorthing );

     /** VanDerGrinten */
     OGRErr      SetVDG( double dfCenterLong,
                         double dfFalseEasting, double dfFalseNorthing );

     /** Universal Transverse Mercator */
     OGRErr      SetUTM( int nZone, int bNorth = TRUE );
     int         GetUTMZone( int *pbNorth = NULL ) const;

     /** State Plane */
     OGRErr      SetStatePlane( int nZone, int bNAD83 = TRUE,
                                const char *pszOverrideUnitName = NULL,
                                double dfOverrideUnit = 0.0 );

The datums supported is not really listable as datum support is mostly
parametric.  That is if you want datum shifts you need to provide the
TOWGS84[] parameters you want to use.  There are a few special "builtin"
cases, including special handling of NAD27.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mateusz at loskot.net  Wed Dec 19 14:58:01 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Dec 19 14:58:12 2007
Subject: [gdal-dev] Future of PHP bindings
Message-ID: <476977C9.1000502@loskot.net>

Folks,

Recently, some users were asking about help in using OGR/PHP bindings.
Unfortunately, this component has been orphaned for some time
and it's state is far from usable.

So, we are going to remove PHP bindings from the mainstream
unless there is someone who whould like to become PHP bindings maintainer.

If there isn't anyone interested, we are going to remove it with 1.6.0
release. Later, if someone wants to take on ownership they will be
able to grab the last stuff from branches/1.5 branch.

Looking forward your comments...

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From dmorissette at mapgears.com  Wed Dec 19 15:16:05 2007
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Dec 19 15:16:08 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <4768790A.2030402@pobox.com>
References: <4768790A.2030402@pobox.com>
Message-ID: <47697C05.3000601@mapgears.com>

Frank Warmerdam wrote:
> Motion: To Adopt the 1.5.0RC1 release as the official 1.5.0 release.
> 
> Voting opens now so it can close Thursday December 20th.  Please only
> vote once you have tested 1.5.0RC1 or heard of a significant reason to
> veto the release.
> 

+1

Tested MITAB support and the new OGR C API stuff with Mapserver... all 
looks good.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From matt.wilkie at gov.yk.ca  Wed Dec 19 17:06:49 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Dec 19 17:06:57 2007
Subject: [gdal-dev] Re: Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <8baf202b-0de7-47b6-bf9e-7f2d4d3eda75@j20g2000hsi.googlegroups.com>
References: <4768790A.2030402@pobox.com>
	<8baf202b-0de7-47b6-bf9e-7f2d4d3eda75@j20g2000hsi.googlegroups.com>
Message-ID: <476995F9.7080701@gov.yk.ca>

> Frank,
>     Gdaltindex does not work with FWTools 2.0.3

I've too have problems with gdaltindex and fwtools 2.0.3, and an 
intermittant crashing with gdaladdo which I've not had time to narrow 
down to a test case yet. I think it may be related the .aux problem 
recently seen at with v2.0 and gdal_translate.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From warmerdam at pobox.com  Wed Dec 19 17:32:03 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Dec 19 17:32:13 2007
Subject: [gdal-dev] Re: Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <476995F9.7080701@gov.yk.ca>
References: <4768790A.2030402@pobox.com>
	<8baf202b-0de7-47b6-bf9e-7f2d4d3eda75@j20g2000hsi.googlegroups.com>
	<476995F9.7080701@gov.yk.ca>
Message-ID: <47699BE3.9080505@pobox.com>

Matt Wilkie wrote:
>> Frank,
>>     Gdaltindex does not work with FWTools 2.0.3

Matt,

The gdaltindex problem is recent, and present in the RC and fixed in
SVN now.

   http://trac.osgeo.org/gdal/ticket/2111


> I've too have problems with gdaltindex and fwtools 2.0.3, and an 
> intermittant crashing with gdaladdo which I've not had time to narrow 
> down to a test case yet. I think it may be related the .aux problem 
> recently seen at with v2.0 and gdal_translate.

I would appreciate it if you can isolate and report the gdaladdo problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ivan.lucena at pmldnet.com  Wed Dec 19 19:14:42 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Wed Dec 19 19:14:36 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <m2k5nahadt.fsf@cherry.siamics.int>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>	<20071218132636.GA10779@ak4719.spb.edu>
	<4767D2E8.6080109@pmldnet.com>	<20071218150708.GA11464@ak4719.spb.edu>
	<47692835.8090801@pmldnet.com>	<20071219153737.GA17128@ak4719.spb.edu>
	<m2k5nahadt.fsf@cherry.siamics.int>
Message-ID: <4769B3F2.8030205@pmldnet.com>

Guys,

Ivan Shmakov wrote:
> 	Other issue is the lack of tools to process generic HDF files.
> 	I've never seen a tool which allows for an HDF file to be viewed
> 	as a sort of ``dataset archive'' (which it, essentially, is),
> 	allowing for certain datasets to be added to, removed from or
> 	moved between HDF files.  (Not to talk about obtaining subsets,
> 	merging, changing the order of the dimensions, etc.)

HDFexplorer is a window based tool that gives you a good view of the 
structure of a HDF4, netCDF and HDF5.

> 	Agreed completely.  Though, in my opinion, it's not the fault of
> 	the HDF format per se.

So I guess we can call 90% of HDF accidents human error.

> 	Besides, what you'd recommend to the users should a brand new
> 	HDF-EOS product to emerge?  I'm certain that ``updating from the
> 	SVN trunk'' is barely an option, at least for some users.
> 	Giving user more control over how the data is to be interpreted
> 	is the solution.

Let's imagine that you have a HDF file generated by a aerial photography 
company that uses a multi-spectral camera. That is very unlikely to 
happen (why they would choose HDF?) but if that happens it is very 
certain that we are going to have problem with theirs files.

- The HDF4 type could be SDS, Grid, Swath or Point.

- The "product" will not going to match with any known HDF products. The 
same thing with the "dataset" names.

- The "dataset"s are going to be multi-dimensional but we don't know in 
witch order it will come. X,Y,Z if we are lucky. (YYZ if you like Hush).

- The ground control points could be stored as Swath geolocation or 
SDS/Grid "dataset" with names like "east/south".

- Hum.. What else can go wrong here? Anyway,

In this case the user would need to create a helper file specific for 
that HDF file (or for a groups of files). The "product" and "dataset" 
name's value could be a simple wild card "*" meaning: for all products 
and datasets that you might find here. We can keep the same XML schema 
as the hdf-knowledge-base on <gdal>\data that I proposed before. And 
yes, we can extend VRT for that.

That will certainly requires a lot of changes in the HDF4 driver but I 
am not sure how much difficult that changes would be comparing with the 
Open Options alternative.

Best regards,

Ivan
From ivan at theory.asu.ru  Wed Dec 19 22:33:38 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Wed Dec 19 22:33:58 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <4769B3F2.8030205@pmldnet.com> (Ivan Lucena's message of "Wed, 19
	Dec 2007 19:14:42 -0500")
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu> <4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu> <47692835.8090801@pmldnet.com>
	<20071219153737.GA17128@ak4719.spb.edu>
	<m2k5nahadt.fsf@cherry.siamics.int> <4769B3F2.8030205@pmldnet.com>
Message-ID: <m23atyghv1.fsf@cherry.siamics.int>

>>>>> Lucena, Ivan <ivan.lucena@pmldnet.com> writes:

 >> Other issue is the lack of tools to process generic HDF files.  I've
 >> never seen a tool which allows for an HDF file to be viewed as a
 >> sort of ``dataset archive'' (which it, essentially, is), allowing
 >> for certain datasets to be added to, removed from or moved between
 >> HDF files.  (Not to talk about obtaining subsets, merging, changing
 >> the order of the dimensions, etc.)

 > HDFexplorer is a window based tool that gives you a good view of the
 > structure of a HDF4, netCDF and HDF5.

	How do I use HDFexplorer in, say, Shell scripts?

	Besides, is it available for GNU/Linux platform?

[...]

 >> Besides, what you'd recommend to the users should a brand new
 >> HDF-EOS product to emerge?  I'm certain that ``updating from the SVN
 >> trunk'' is barely an option, at least for some users.  Giving user
 >> more control over how the data is to be interpreted is the solution.

 > Let's imagine that you have a HDF file generated by a aerial photography
 > company that uses a multi-spectral camera. That is very unlikely to
 > happen (why they would choose HDF?) but if that happens it is very
 > certain that we are going to have problem with theirs files.

[...]

	Exactly.

 > In this case the user would need to create a helper file specific for
 > that HDF file (or for a groups of files). The "product" and "dataset"
 > name's value could be a simple wild card "*" meaning: for all
 > products and datasets that you might find here. We can keep the same
 > XML schema as the hdf-knowledge-base on <gdal>\data that I proposed
 > before. And yes, we can extend VRT for that.

	So far I have nothing against your proposal.

	However, it would be useful if the application could provide
	options to the driver without creating a helper file.  Consider
	running a web application (say, a kind of dataset explorer),
	which is, for the sake of security, restricted so that it cannot
	write any files.  It will be impossible for this application to
	allow user to specify any options for the GDAL driver not
	already in some helper file.  Allowing for options to be passed
	directly from the application to GDAL seems to solve this
	problem.

 > That will certainly requires a lot of changes in the HDF4 driver but
 > I am not sure how much difficult that changes would be comparing with
 > the Open Options alternative.

	I believe that the driver should be given options already read
	and parsed, and not the helper file name or its contents.  This
	way, both the options parsing and the whole options concept
	could be much generalized among the drivers.  And it requires
	introducing an ``options'' structure, which may be initialized
	either by GDAL reading the helper file, or by the calling
	application itself.

From ivan at theory.asu.ru  Wed Dec 19 22:45:52 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Wed Dec 19 22:45:56 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <20071219183423.GB17973@ak4719.spb.edu> (Andrey Kiselev's message
	of "Wed, 19 Dec 2007 21:34:23 +0300")
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu> <4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu> <47692835.8090801@pmldnet.com>
	<m2odcmhb78.fsf@cherry.siamics.int>
	<20071219183423.GB17973@ak4719.spb.edu>
Message-ID: <m2y7bqf2q7.fsf@cherry.siamics.int>

>>>>> Andrey Kiselev <dron@ak4719.spb.edu> writes:

 >> However, are there any reasons to actually disallow options to
 >> be specified in the (sub)dataset name?

 > I think this way is counter-intuitive and error-prone:

 > http://lists.osgeo.org/pipermail/gdal-dev/2007-November/014853.html

	I agree with your point.

	However, my opinion is that the specification of options via the
	dataset name should be allowed for both the sake of
	compatibility and for the user convenience.

	It won't take any extra effort from the driver developer,
	provided that the concept of options will be generalized and a
	generic options parsing routine will be implemented for GDAL.

	To make it clear:

	* the driver should be given options already parsed;

	* it's GDAL that should do the parsing, and it may parse both
	  the helper file and the dataset name without introducing any
	  extra burder to the driver;

	* the application should be provided a way to specify the
	  options directly, without having to encode them into either
	  the helper file or the dataset name.

 >> Indeed, I've been thinking about a kind of ``helper files''
 >> (though a somewhat different kind) to allow for specified
 >> datasets to be ``stacked upon each other along the band axis'',
 >> forming a dataset with the same spatial dimensions and a larger
 >> bands number...

 >> BTW, setting GCPs and specifying the projection fits quite
 >> neatly into the ``helper file'' framework.  I'm sure there are
 >> many other applications for them.

 > Actually it can be done with help of VRT datasets.

	May be it's the time for me to take a look at these.

From hobu.inc at gmail.com  Thu Dec 20 00:43:44 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Dec 20 00:44:54 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <4768790A.2030402@pobox.com>
References: <4768790A.2030402@pobox.com>
Message-ID: <4EF01E58-8BC2-4972-BBD6-AB994A611561@gmail.com>

+1

On Dec 18, 2007, at 7:51 PM, Frank Warmerdam wrote:

> Motion: To Adopt the 1.5.0RC1 release as the official 1.5.0 release.
>
> Voting opens now so it can close Thursday December 20th.  Please only
> vote once you have tested 1.5.0RC1 or heard of a significant reason to
> veto the release.
>
> I'll hold my vote till I've done some more testing myself.
>
> Best regards,
> --  
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ivan.lucena at pmldnet.com  Thu Dec 20 09:15:54 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Dec 20 09:15:56 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <m23atyghv1.fsf@cherry.siamics.int>
References: <m2ir2wi5s6.fsf@cherry.siamics.int>	<20071218132636.GA10779@ak4719.spb.edu>
	<4767D2E8.6080109@pmldnet.com>	<20071218150708.GA11464@ak4719.spb.edu>
	<47692835.8090801@pmldnet.com>	<20071219153737.GA17128@ak4719.spb.edu>	<m2k5nahadt.fsf@cherry.siamics.int>
	<4769B3F2.8030205@pmldnet.com> <m23atyghv1.fsf@cherry.siamics.int>
Message-ID: <476A791A.4060905@pmldnet.com>

Shmakov,

> 	How do I use HDFexplorer in, say, Shell scripts?

Download from www.space-research.org.

> 	Besides, is it available for GNU/Linux platform?

You can run it on Wine I guess.

> 	So far I have nothing against your proposal.

It is just a suggestion and I may but overlooking some issues so I hope 
that this discussion will help.

> 	However, it would be useful if the application could provide
> 	options to the driver without creating a helper file.  Consider
> 	running a web application (say, a kind of dataset explorer),
> 	which is, for the sake of security, restricted so that it cannot
> 	write any files.  It will be impossible for this application to

There is not need to write files in the client application.

> 	allow user to specify any options for the GDAL driver not
> 	already in some helper file.  Allowing for options to be passed
> 	directly from the application to GDAL seems to solve this
> 	problem.

We already have example of knowledge-base files in the <gdal>\data 
folder. That would be the reference system. So why not have a 
hdf-knowledge-base that tells the driver some specific issues about 
specific HDF products.

People can also add to this file and send their discoveries to be 
included in the GDAL trunk. Just like we do with Reference System.

Users should only create helper files on the data folder in a very 
specific case like in my areal photography hypothetical example.

> 	I believe that the driver should be given options already read
> 	and parsed, and not the helper file name or its contents.  This
> 	way, both the options parsing and the whole options concept
> 	could be much generalized among the drivers.  And it requires
> 	introducing an ``options'' structure, which may be initialized
> 	either by GDAL reading the helper file, or by the calling
> 	application itself.

I am dealing with a real scenario where because of the complexity, 
variability and quantity of HDF files I can't see how the open option 
would play a role. For me that should be a separated thread, IMHO.

But that is how I would like to see it working:

There are 350 HDF that I want to server it a webapp. First thing to do 
is to create a catalog. I am not a big Mapserver expert but I guess that 
you should use *gdaltindex* for that. That will happen in the server 
machine just once, during some sort of data preparation process, and 
once in a while when you update it with new files.

Running gdaltindex, the HDF4 driver will look for hdf-helper file on the 
same folder as the driver and then on <gdal>\data. If there is a match 
between a pair {product name,dataset name} on the data file and one 
similar pair on the helper file, the driver will use the dimension order 
from the helper file, ex.:

SUBDATASET_52_NAME=HDF4_EOS:EOS_SWATH:"MYD06_L2.A2006220.hdf":mod06:Cloud_Mask_1km
SUBDATASET_52_DESC=[2040x1354x2] Cloud_Mask_1km mod06 (8-bit integer)

--> This dataset has 2 bands of 2040x1354.

SUBDATASET_28_NAME=HDF4_EOS:EOS_SWATH:"MYD06_L2.A2006220.hdf":mod06:Radiance_Variance
SUBDATASET_28_DESC=[7x408x270] Radiance_Variance mod06 (16-bit integer)

--> This dataset has 7 bands of 408x270

That is because this file is a very known problematic product that 
doesn't have dimension order information for some datasets:

Product: "MODIS Level 2 Cloud Properties"
Dataset: "Cloud_Mask_1km"
Dataset: "Radiance_Variance"

Does it make sense?

Cheers,

Lucena

From dmorissette at mapgears.com  Thu Dec 20 11:02:04 2007
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Thu Dec 20 11:02:13 2007
Subject: [gdal-dev] Future of PHP bindings
In-Reply-To: <476977C9.1000502@loskot.net>
References: <476977C9.1000502@loskot.net>
Message-ID: <476A91FC.4050809@mapgears.com>

Mateusz,

I presume the PHP bindings you are referring to are some SWIG-generated 
bindings, right?

In case anyone is interested, we had also built a while ago a php_ogr 
extension (hand made). I have not tested it myself with GDAL 1.5, but it 
may still work or be easy to port if anyone needs it.  The source and 
documentation for that php_ogr module are available at:
http://dl.maptools.org/dl/php_ogr/

Actually, I think a copy of the php_ogr.dll is included in MS4W, so the 
module must still work with recent GDAL releases.

Daniel

Mateusz Loskot wrote:
> Folks,
> 
> Recently, some users were asking about help in using OGR/PHP bindings.
> Unfortunately, this component has been orphaned for some time
> and it's state is far from usable.
> 
> So, we are going to remove PHP bindings from the mainstream
> unless there is someone who whould like to become PHP bindings maintainer.
> 
> If there isn't anyone interested, we are going to remove it with 1.6.0
> release. Later, if someone wants to take on ownership they will be
> able to grab the last stuff from branches/1.5 branch.
> 
> Looking forward your comments...
> 
> Cheers


-- 
Daniel Morissette
http://www.mapgears.com/
From ivan at theory.asu.ru  Thu Dec 20 11:35:11 2007
From: ivan at theory.asu.ru (Ivan Shmakov)
Date: Thu Dec 20 11:35:25 2007
Subject: [gdal-dev] Re: HDF-EOS vs. GDAL: order of dimensions
In-Reply-To: <476A791A.4060905@pmldnet.com> (Ivan Lucena's message of "Thu, 20
	Dec 2007 09:15:54 -0500")
References: <m2ir2wi5s6.fsf@cherry.siamics.int>
	<20071218132636.GA10779@ak4719.spb.edu> <4767D2E8.6080109@pmldnet.com>
	<20071218150708.GA11464@ak4719.spb.edu> <47692835.8090801@pmldnet.com>
	<20071219153737.GA17128@ak4719.spb.edu>
	<m2k5nahadt.fsf@cherry.siamics.int> <4769B3F2.8030205@pmldnet.com>
	<m23atyghv1.fsf@cherry.siamics.int> <476A791A.4060905@pmldnet.com>
Message-ID: <m2r6hhfhog.fsf@cherry.siamics.int>

>>>>> Lucena, Ivan <ivan.lucena@pmldnet.com> writes:

 >> How do I use HDFexplorer in, say, Shell scripts?

 > Download from www.space-research.org.

	I'd rather not to download non-free software (as in ``free
	speech'') without a serious reason.  I've taken a look at the
	site and I cannot find any claims of supporting scripting in any
	way.  The contents of the site makes me suppose that this tool
	offers only GUI, and not CLI, and has no embedded language
	either.

[...]

 >> However, it would be useful if the application could provide options
 >> to the driver without creating a helper file.  Consider running a
 >> web application (say, a kind of dataset explorer), which is, for the
 >> sake of security, restricted so that it cannot write any files.  It
 >> will be impossible for this application to

 > There is not need to write files in the client application.

	Earlier in this discussion you've admitted that it may be
	necessary for user to override the options manually.  If I
	understood you correctly, you've suggested that user may be
	allowed to write his own helper file to this end.

	However, in the case of GUI application, it may be more
	appropriate to let the user to specify the options via GUI.
	There, I see no way for the application to pass the options
	specified to GDAL, but to write a temporary helper file.

	To my mind, it's somewhat unfortunate solution, since an
	application may be ran in a some kind of a ``safe mode'', which
	denies the application to write any files.

 >> allow user to specify any options for the GDAL driver not already in
 >> some helper file.  Allowing for options to be passed directly from
 >> the application to GDAL seems to solve this problem.

 > We already have example of knowledge-base files in the <gdal>\data
 > folder. That would be the reference system. So why not have a
 > hdf-knowledge-base that tells the driver some specific issues about
 > specific HDF products.

	I agree on this.  I see /no/ reason why the database like this
	shouldn't be provided.

 > People can also add to this file and send their discoveries to be
 > included in the GDAL trunk. Just like we do with Reference System.

 > Users should only create helper files on the data folder in a very
 > specific case like in my areal photography hypothetical example.

	From a system administrator's point of view, I believe that user
	should be provided a way to use a helper file residing in either
	any directory, or at least in `$HOME' (or a some specific
	subdirectory of it.)

	Otherwise, system administrator will be forced to update the
	database each time a user will face a new (product, dataset)
	combination.  It certainly will complicate the lives of both
	system administrators and users.

 >> I believe that the driver should be given options already read and
 >> parsed, and not the helper file name or its contents.  This way,
 >> both the options parsing and the whole options concept could be much
 >> generalized among the drivers.  And it requires introducing an
 >> ``options'' structure, which may be initialized either by GDAL
 >> reading the helper file, or by the calling application itself.

 > I am dealing with a real scenario where because of the complexity,
 > variability and quantity of HDF files I can't see how the open option
 > would play a role. For me that should be a separated thread, IMHO.

 > But that is how I would like to see it working:

[...]

 > Running gdaltindex, the HDF4 driver will look for hdf-helper file on
 > the same folder as the driver and then on <gdal>\data. If there is a
 > match between a pair {product name,dataset name} on the data file and
 > one similar pair on the helper file, the driver will use the
 > dimension order from the helper file, ex.:

	... And I believe it's not just the order of dimensions that may
	be specified in the helper file.  E. g., I'd like to specify
	``DimensionMap'' as well.

[...]

 > That is because this file is a very known problematic product that
 > doesn't have dimension order information for some datasets:

 > Product: "MODIS Level 2 Cloud Properties"
 > Dataset: "Cloud_Mask_1km"
 > Dataset: "Radiance_Variance"

 > Does it make sense?

	Yes, it does.

	However, as I've stated before, different interfaces should be
	provided.  There're a plenty of GDAL users with a wide variety
	of needs.  There're tasks where encoding the options within the
	dataset name would be appropriate, and the same for helper files
	and separate options structure.

	I believe, that these needs may all be addressed at once with a
	generic options facility to be added to GDAL.

	To this end:

	* upon ::Open (), GDAL parses the options encoded within the
	  dataset name; they result is passed to the specific driver;

	* upon ::OpenOptions (), application may pass additional
	  options, in addition to those already passed as specified
	  above;

	* the driver may request additional options from a
          driver-specific helper file;

	* all these options will become available to the parts of the
	  driver requesting them.

	To my mind, the algorithm roughly outlined above covers well
	your case, as well as, I believe, many other cases.

From szekerest at gmail.com  Thu Dec 20 17:00:45 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Dec 20 17:00:49 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <4768790A.2030402@pobox.com>
References: <4768790A.2030402@pobox.com>
Message-ID: <f3b73b7d0712201400gcb07cfaj6c4325ed329df90@mail.gmail.com>

+1

and Happy Birthday, Frank!


Best regards,

Tamas



2007/12/19, Frank Warmerdam <warmerdam@pobox.com>:
> Motion: To Adopt the 1.5.0RC1 release as the official 1.5.0 release.
>
> Voting opens now so it can close Thursday December 20th.  Please only
> vote once you have tested 1.5.0RC1 or heard of a significant reason to
> veto the release.
>
> I'll hold my vote till I've done some more testing myself.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From mateusz at loskot.net  Thu Dec 20 17:06:40 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Dec 20 17:06:46 2007
Subject: [gdal-dev] Future of PHP bindings
In-Reply-To: <476A91FC.4050809@mapgears.com>
References: <476977C9.1000502@loskot.net> <476A91FC.4050809@mapgears.com>
Message-ID: <476AE770.5090505@loskot.net>

Daniel Morissette wrote:
> Mateusz,
> 
> I presume the PHP bindings you are referring to are some SWIG-generated
> bindings, right?

Daniel,

Yes, gdal/swig/php mentioned as not maintained, on the Wiki:

http://trac.osgeo.org/gdal/wiki/GdalOgrInPhp

> In case anyone is interested, we had also built a while ago a php_ogr
> extension (hand made). I have not tested it myself with GDAL 1.5, but it
> may still work or be easy to port if anyone needs it.  The source and
> documentation for that php_ogr module are available at:
> http://dl.maptools.org/dl/php_ogr/

Perhaps you could drop a note about it to the Wiki page?

> Actually, I think a copy of the php_ogr.dll is included in MS4W, so the
> module must still work with recent GDAL releases.

Ah, so if this is the same, then MS4W is mentioned on the Wiki.
Although, if you see there is anything (URLs, notes) missing,
I'd be thankful if you could updated it so there is a place we can
direct users interested in PHP bindings. Thanks in advance.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From BCicconetti at dnr.state.md.us  Thu Dec 20 17:51:22 2007
From: BCicconetti at dnr.state.md.us (Cicconetti, Bob)
Date: Thu Dec 20 17:51:23 2007
Subject: [gdal-dev] 1.5.0b2 geotiff and 1-bit compression..
Message-ID: <3CCE61578E85AB479D1E35EDB97F027982DC6F@tawesmail1.LANGROUP.DNR.MD>

Something appears to have broken creation of 1-bit Geotiffs relatively
recently.. It works with the 1.5dev snapshot included with QGIS, and
with 1.4.2.0, but fails with FWTools2.03 and the beta2 binaries for
Win32.

 

$ /cygdrive/c/Program\ Files/FWTools2.0.3/bin/gdal_translate.exe  -co
NBITS=1 -co COMPRESS=PACKBITS worc_test21.img worc_test22.tif

Input file size is 363341, 362736

0ERROR 1: One bit raster bands are read-only.

ERROR 1: One bit raster bands are read-only.

[...]

 

It does produce an output file, but it is completely blank.

 

worc_test21.img is a ~16GB, 1-bit HFA file. Quite sparse.. compresses
down to about 250 MB with CCITT FAX4. Not something I can distribute as
test material, though.

 

Bob Cicconetti

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071220/0c555bd3/attachment.html
From warmerdam at pobox.com  Thu Dec 20 18:12:20 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec 20 18:12:29 2007
Subject: [gdal-dev] 1.5.0b2 geotiff and 1-bit compression..
In-Reply-To: <3CCE61578E85AB479D1E35EDB97F027982DC6F@tawesmail1.LANGROUP.DNR.MD>
References: <3CCE61578E85AB479D1E35EDB97F027982DC6F@tawesmail1.LANGROUP.DNR.MD>
Message-ID: <476AF6D4.5090808@pobox.com>

Cicconetti, Bob wrote:
> Something appears to have broken creation of 1-bit Geotiffs relatively 
> recently.. It works with the 1.5dev snapshot included with QGIS, and 
> with 1.4.2.0, but fails with FWTools2.03 and the beta2 binaries for Win32.
> 
>  
> 
> $ /cygdrive/c/Program\ Files/FWTools2.0.3/bin/gdal_translate.exe  -co 
> NBITS=1 -co COMPRESS=PACKBITS worc_test21.img worc_test22.tif
> 
> Input file size is 363341, 362736
> 
> 0ERROR 1: One bit raster bands are read-only.
> 
> ERROR 1: One bit raster bands are read-only.
> 
> [?]
> 
>  
> 
> It does produce an output file, but it is completely blank.
> 
>  
> 
> worc_test21.img is a ~16GB, 1-bit HFA file. Quite sparse.. compresses 
> down to about 250 MB with CCITT FAX4. Not something I can distribute as 
> test material, though.

Bob,

I have confirmed the problem and filed it as:

   http://trac.osgeo.org/gdal/ticket/2115

I will fix it this evening and I suspect we will need to issue a new RC
including the fix.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From hellyj at ucsd.edu  Thu Dec 20 18:41:10 2007
From: hellyj at ucsd.edu (John Helly)
Date: Thu Dec 20 18:41:18 2007
Subject: [gdal-dev] Gdal-1.4.4 / OSX Leopard / Problems with python support
Message-ID: <7D62363B-EB0A-4152-8DCF-6876BD33B644@ucsd.edu>

Hi.

I've been struggling to get gdalimport.py to run and first thought  
that I didn't have python support included.  I've built the latest  
source using the following configure setup:

./configure --prefix=/usr/local/gdal-1.4.4 \
   --libdir=/usr/local/lib \
   --with-netcdf=/usr/local/netcdf-3.6.1  \
   --with-jpeg=internal \
   --with-png=internal \
   --with-libtiff=internal \
   --with-geotiff=internal \
   --with-geos=yes \
   --with-perl            \
   --with-php             \
   --with-python

This seems to build ok but when I run 'sudo make install', the install  
blows up.  This occurs apparently at the php, perl install part, after  
python

# ugh! spurius relinking leaves a file owned by root into .libs/.
rm -f .libs/*.soT
(cd swig; make install)
for dir in php perl ; do (cd $dir; make install) || exit; done
g++ -I../../port -I../../gcore -I../../alg -I../../ogr `php-config -- 
includes` -fpic -c gdal_wrap.cpp
gdal_wrap.cpp:1: warning: -fpic is not supported; -fPIC assumed
gdal_wrap.cpp:1040: error: ?zend_property_reference? was not declared  
in this scope
gdal_wrap.cpp:1040: error: ?property_reference? was not declared in  
this scope
gdal_wrap.cpp:1040: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1040: error: ?value? was not declared in this scope
gdal_wrap.cpp:1040: error: initializer expression list treated as  
compound expression
gdal_wrap.cpp:1041: error: ?zend_property_reference? was not declared  
in this scope
gdal_wrap.cpp:1041: error: ?property_reference? was not declared in  
this scope
gdal_wrap.cpp:1041: error: expected primary-expression before ?*? token
gdal_wrap.cpp:1041: error: ?value? was not declared in this scope
gdal_wrap.cpp:1041: error: initializer expression list treated as  
compound expression
gdal_wrap.cpp:1042: error: ?zend_property_reference? was not declared  
in this scope

..... long list of stuff like this then

gdal_wrap.cpp: In function ?int zm_startup_gdal(int, int)?:
gdal_wrap.cpp:8127: error: cannot convert ?pval? to ?_zend_function*?  
in assignment
gdal_wrap.cpp:8127: error: invalid conversion from ?int? to  
?_zend_function*?
gdal_wrap.cpp:8131: error: cannot convert ?pval? to ?_zend_function*?  
in assignment
gdal_wrap.cpp:8131: error: invalid conversion from ?int? to  
?_zend_function*?
gdal_wrap.cpp:8135: error: cannot convert ?pval? to ?_zend_function*?  
in assignment
gdal_wrap.cpp:8135: error: invalid conversion from ?int? to  
?_zend_function*?
gdal_wrap.cpp:8139: error: cannot convert ?pval? to ?_zend_function*?  
in assignment
gdal_wrap.cpp:8139: error: invalid conversion from ?int? to  
?_zend_function*?
gdal_wrap.cpp:8143: error: cannot convert ?pval? to ?_zend_function*?  
in assignment
gdal_wrap.cpp:8143: error: invalid conversion from ?int? to  
?_zend_function*?
gdal_wrap.cpp:8147: error: cannot convert ?pval? to ?_zend_function*?  
in assignment
gdal_wrap.cpp:8147: error: invalid conversion from ?int? to  
?_zend_function*?
make[2]: *** [gdal_wrap.o] Error 1
make[1]: *** [install] Error 2
make: *** [install-actions] Error 2
Neptune-2:gdal-1.4.4 hellyj$


When I look at the install directory, there are executables there and  
I can run gdalimport.py but still get the error:

Neptune-2:~ hellyj$ gdalimport.py
Traceback (most recent call last):
   File "/usr/local/gdal-1.4.1/bin/gdalimport.py", line 49, in <module>
     import gdal
ImportError: No module named gdal
Neptune-2:~ hellyj$


This is what I originally was trying to solve by rebuilding using the  
--with-python argument.  Any ideas what's going wrong?


Cheers.
--------------
John Helly, University of California, San Diego
San Diego Supercomputer Center 9500 Gilman Dr. Mail Code 0527, La  
Jolla CA 92093-0505
Phone: Voice +01 760 840 8660 mobile / stonesteps (Skype) /  
stonesteps7 (iChat)
http://www.sdsc.edu/~hellyj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071220/5302b302/attachment-0001.html
From warmerdam at pobox.com  Thu Dec 20 18:44:09 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec 20 18:44:18 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC1 as 1.5.0
In-Reply-To: <f3b73b7d0712201400gcb07cfaj6c4325ed329df90@mail.gmail.com>
References: <4768790A.2030402@pobox.com>
	<f3b73b7d0712201400gcb07cfaj6c4325ed329df90@mail.gmail.com>
Message-ID: <476AFE49.6080004@pobox.com>

Tamas Szekeres wrote:
> +1

Folks,

Regretfully, I'm -1 on promoting 1.5.0RC1 to 1.5.0.

I was annoyed by the gdaltindex on win32 build problem, but willing
to live with it:

   http://trac.osgeo.org/gdal/ticket/2111

But I feel the 1-bit geotiff writing being broken is pretty serious and
justifies a new RC.

   http://trac.osgeo.org/gdal/ticket/2115

I will fix 2115 and then issue an RC2.  No birthday joy for the bad boy
who wrecked the GTiff driver. :-(

If there are any other fixes that belong in 1.5 branch please get them
in immediately for inclusion in RC2.  Talk to me if you suspect they may
be dangerous.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From hobu.inc at gmail.com  Thu Dec 20 18:44:24 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Dec 20 18:45:34 2007
Subject: [gdal-dev] Gdal-1.4.4 / OSX Leopard / Problems with python support
In-Reply-To: <7D62363B-EB0A-4152-8DCF-6876BD33B644@ucsd.edu>
References: <7D62363B-EB0A-4152-8DCF-6876BD33B644@ucsd.edu>
Message-ID: <58885298-B135-482D-AC24-252E14591470@gmail.com>

John,

Is there any chance you can try the 1.5 Release Candidate?  Python  
building has improved significantly for the upcoming release.  Also,  
remove the --with-php, as this is not useable in either 1.4 or 1.5.

Howard

On Dec 20, 2007, at 5:41 PM, John Helly wrote:

> Hi.
>
> I've been struggling to get gdalimport.py to run and first thought  
> that I didn't have python support included.  I've built the latest  
> source using the following configure setup:
>
> ./configure --prefix=/usr/local/gdal-1.4.4 \
>   --libdir=/usr/local/lib \
>   --with-netcdf=/usr/local/netcdf-3.6.1  \
>   --with-jpeg=internal \
>   --with-png=internal \
>   --with-libtiff=internal \
>   --with-geotiff=internal \
>   --with-geos=yes \
>   --with-perl            \
>   --with-php             \
>   --with-python
>
> This seems to build ok but when I run 'sudo make install', the  
> install blows up.  This occurs apparently at the php, perl install  
> part, after python
>
> # ugh! spurius relinking leaves a file owned by root into .libs/.
> rm -f .libs/*.soT
> (cd swig; make install)
> for dir in php perl ; do (cd $dir; make install) || exit; done
> g++ -I../../port -I../../gcore -I../../alg -I../../ogr `php-config -- 
> includes` -fpic -c gdal_wrap.cpp
> gdal_wrap.cpp:1: warning: -fpic is not supported; -fPIC assumed
> gdal_wrap.cpp:1040: error: ?zend_property_reference? was not  
> declared in this scope
> gdal_wrap.cpp:1040: error: ?property_reference? was not declared in  
> this scope
> gdal_wrap.cpp:1040: error: expected primary-expression before ?*?  
> token
> gdal_wrap.cpp:1040: error: ?value? was not declared in this scope
> gdal_wrap.cpp:1040: error: initializer expression list treated as  
> compound expression
> gdal_wrap.cpp:1041: error: ?zend_property_reference? was not  
> declared in this scope
> gdal_wrap.cpp:1041: error: ?property_reference? was not declared in  
> this scope
> gdal_wrap.cpp:1041: error: expected primary-expression before ?*?  
> token
> gdal_wrap.cpp:1041: error: ?value? was not declared in this scope
> gdal_wrap.cpp:1041: error: initializer expression list treated as  
> compound expression
> gdal_wrap.cpp:1042: error: ?zend_property_reference? was not  
> declared in this scope
>
> ..... long list of stuff like this then
>
> gdal_wrap.cpp: In function ?int zm_startup_gdal(int, int)?:
> gdal_wrap.cpp:8127: error: cannot convert ?pval? to  
> ?_zend_function*? in assignment
> gdal_wrap.cpp:8127: error: invalid conversion from ?int? to  
> ?_zend_function*?
> gdal_wrap.cpp:8131: error: cannot convert ?pval? to  
> ?_zend_function*? in assignment
> gdal_wrap.cpp:8131: error: invalid conversion from ?int? to  
> ?_zend_function*?
> gdal_wrap.cpp:8135: error: cannot convert ?pval? to  
> ?_zend_function*? in assignment
> gdal_wrap.cpp:8135: error: invalid conversion from ?int? to  
> ?_zend_function*?
> gdal_wrap.cpp:8139: error: cannot convert ?pval? to  
> ?_zend_function*? in assignment
> gdal_wrap.cpp:8139: error: invalid conversion from ?int? to  
> ?_zend_function*?
> gdal_wrap.cpp:8143: error: cannot convert ?pval? to  
> ?_zend_function*? in assignment
> gdal_wrap.cpp:8143: error: invalid conversion from ?int? to  
> ?_zend_function*?
> gdal_wrap.cpp:8147: error: cannot convert ?pval? to  
> ?_zend_function*? in assignment
> gdal_wrap.cpp:8147: error: invalid conversion from ?int? to  
> ?_zend_function*?
> make[2]: *** [gdal_wrap.o] Error 1
> make[1]: *** [install] Error 2
> make: *** [install-actions] Error 2
> Neptune-2:gdal-1.4.4 hellyj$
>
>
> When I look at the install directory, there are executables there  
> and I can run gdalimport.py but still get the error:
>
> Neptune-2:~ hellyj$ gdalimport.py
> Traceback (most recent call last):
>   File "/usr/local/gdal-1.4.1/bin/gdalimport.py", line 49, in <module>
>     import gdal
> ImportError: No module named gdal
> Neptune-2:~ hellyj$
>
>
> This is what I originally was trying to solve by rebuilding using  
> the --with-python argument.  Any ideas what's going wrong?
>
>
> Cheers.
> --------------
> John Helly, University of California, San Diego
> San Diego Supercomputer Center 9500 Gilman Dr. Mail Code 0527, La  
> Jolla CA 92093-0505
> Phone: Voice +01 760 840 8660 mobile / stonesteps (Skype) /  
> stonesteps7 (iChat)
> http://www.sdsc.edu/~hellyj
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Thu Dec 20 21:18:01 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec 20 21:18:25 2007
Subject: [gdal-dev] GDAL/OGR 1.5.0RC2 Published
Message-ID: <476B2259.8030800@pobox.com>

Folks,

I have posted GDAL/OGR 1.5.0RC2.  It can be downloaded from:

   http://download.osgeo.org/gdal/gdal-1.5.0RC2.tar.gz
   http://download.osgeo.org/gdal/gdal150RC2.zip
   http://download.osgeo.org/gdal/gdal150RC2doc.zip
   http://download.osgeo.org/gdal/gdalautotest-1.5.0RC2.tar.gz

This release candidate fixes two significant bugs in RC1:

   http://trac.osgeo.org/gdal/ticket/2115
   http://trac.osgeo.org/gdal/ticket/2111

Release news is available at:

   http://trac.osgeo.org/gdal/wiki/Release/1.5.0-News

Testing on this release candidate is appreciated.  Bugs should be
file normally (with the version "1.5.0 betas/RCs".  Success and other
notes can be added at the testing matrix page as appropriate:

   http://trac.osgeo.org/gdal/wiki/TestMatrix150

If no show stopper issues are discovered in the next two business days
it is my expectation that the release candidate will be declared 1.5.0 final
on Christmas Eve.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Thu Dec 20 21:18:53 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Dec 20 21:18:59 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC2 as 1.5.0
Message-ID: <476B228D.30707@pobox.com>

Motion: To Adopt the 1.5.0RC2 release as the official 1.5.0 release.

Voting opens now so it can close by Christmas Eve.  Please only vote once
you have tested 1.5.0RC2 or heard of a significant reason to veto the
release.

I'll hold my vote till I've done some more testing myself.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From craig.leat at gmail.com  Fri Dec 21 02:09:45 2007
From: craig.leat at gmail.com (Craig Leat)
Date: Fri Dec 21 02:09:52 2007
Subject: [gdal-dev] gdalwarp creates a bloated file
Message-ID: <1fef7d9b0712202309o514faa2ak961a4935707dd0dd@mail.gmail.com>

Hi

I have a series of georeferenced Tiff images and I need to warp these
to a north-up orientation. The images are scans of some old sepia
plans. The files created by gdalwarp are in the order of 200 times
larger than the original files. Is there anything I can do to limit
the file size? Maybe limit the colour table to black and white only?

As an example, sheet10.tif has a file size of 1.1MB and gdalinfo
sheet10.tif gives the following:

Driver: GTiff/GeoTIFF
Size is 13628, 16432
Coordinate System is `'
GeoTransform =
  -64219.00281495275, 0.003048759934388564, 0.1562700173535697
  -3272519.112796375, 0.159032862204353, -0.001581954194990039
Metadata:
  TIFFTAG_IMAGEDESCRIPTION=
  TIFFTAG_XRESOLUTION=400
  TIFFTAG_YRESOLUTION=400
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  COMPRESSION=CCITTFAX4
Corner Coordinates:
Upper Left  (  -64219.003,-3272519.113)
Lower Left  (  -61651.174,-3272545.107)
Upper Right (  -64177.454,-3270351.813)
Lower Right (  -61609.625,-3270377.808)
Center      (  -62914.314,-3271448.460)
Band 1 Block=13628x512 Type=Byte, ColorInterp=Palette
  Metadata:
    NBITS=1
  Color Table (RGB with 2 entries)
    0: 255,255,255,255
    1: 0,0,0,255

The file created by gdalwarp has a file size of 218.5MB and gdalinfo
on the file gives:

Driver: GTiff/GeoTIFF
Size is 16503, 13871
Coordinate System is `'
Origin = (-64219.002814952749759,-3270351.812950253952295)
Pixel Size = (0.158118831745193,-0.158118831745193)
Corner Coordinates:
Upper Left  (  -64219.003,-3270351.813)
Lower Left  (  -64219.003,-3272545.079)
Upper Right (  -61609.568,-3270351.813)
Lower Right (  -61609.568,-3272545.079)
Center      (  -62914.285,-3271448.446)
Band 1 Block=16503x1 Type=Byte, ColorInterp=Palette
  Color Table (RGB with 256 entries)
    0: 255,255,255,255
    1: 0,0,0,255
    2: 0,0,0,255
    3: 0,0,0,255
    :   :   :   :   :
255: 0,0,0,255

Any pointers are most welcome.

Craig
From guillaume.sueur at neogeo-online.net  Fri Dec 21 04:39:24 2007
From: guillaume.sueur at neogeo-online.net (Guillaume Sueur)
Date: Fri Dec 21 04:39:28 2007
Subject: [gdal-dev] GDAL 1.5, TileService and TileCache
Message-ID: <476B89CC.90406@neogeo-online.net>

Hi,
Hope I'm in the good list, didn't find any gdal-users list...

I'm very interested in the new GDAL TileService and have a few questions
about it. Can it act as TileCache, retrieving tiles from some remote WMS
server and caching those tiles locally ? Reading the doc makes me think
yes, but TileService seems to be specific for WorldWind...

Any clue ?

Thanks
-- 
Guillaume SUEUR

From bokhorst at argoss.nl  Fri Dec 21 06:21:43 2007
From: bokhorst at argoss.nl (Reinoud Bokhorst)
Date: Fri Dec 21 06:21:57 2007
Subject: [gdal-dev] NetCDF generated by GDAL not compliant with CF-1.0 for
 geographical grids
Message-ID: <476BA1C7.4000606@argoss.nl>

Hi,
I have a WCS that reads and writes NetCDF using GDAL. The source NetCDF has a regular lat/lon geographical grid (no projection). The NetCDF that is generated following a WCS request (parameters: BBOX=0.0,55.0,5.0,60.0&SRS=epsg:4326&RESX=0.5&RESY=0.5) has the following header (ncdump -c):

netcdf my_netcdf {
dimensions:
        x = 10 ;
        y = 10 ;
variables:
        char GDAL_Geographics ;
                GDAL_Geographics:Northernmost_Northing = 55. ;
                GDAL_Geographics:Southernmost_Northing = 60. ;
                GDAL_Geographics:Easternmost_Easting = 5. ;
                GDAL_Geographics:Westernmost_Easting = 0. ;
                GDAL_Geographics:spatial_ref = "GEOGCS[\"WGS
84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]]"
;
                GDAL_Geographics:GeoTransform = "0 0.5 -0 55 0 0.5 " ;
                GDAL_Geographics:grid_mapping_name = "Geographics
Coordinate System" ;
                GDAL_Geographics:long_name = "Grid_latitude" ;
        float Band1(y, x) ;
                Band1:_FillValue = 0.f ;
                Band1:grid_mapping = "GDAL_Geographics" ;
                Band1:long_name = "GDAL Band Number 1" ;

// global attributes:
                :Conventions = "CF-1.0" ;
data:
}


However, it seems that the grid_mapping_name "Geographics Coordinate System" is not a valid grid_mapping_name in the CF-1.0 convention (only 8 are mentioned in the convention). In CF-1.0 a geographic grid should be represented like this:


netcdf my_netcdf_cf1.0 {
dimensions:
        y = 10 ;
        x = 10 ;
variables:
        float y(y) ;
                y:standard_name = "latitude" ;
                y:units = "degrees_north" ;
        float x(x) ;
                x:standard_name = "longitude" ;
                x:units = "degrees_east" ;
        float Band1(y, x) ;
                Band1:_FillValue = 0.f ;
                Band1:long_name = "GDAL Band Number 1" ;

// global attributes:
                :Conventions = "CF-1.0" ;
data:

 y = 55, 55.5, 56, 56.5, 57, 57.5, 58, 58.5, 59, 59.5 ;

 x = 5, 5.5, 6, 6.5, 7, 7.5, 8, 8.5, 9, 9.5 ;
}


Where only the 'units' attribute is required to indicate lat / lon. I am not sure if in this case the y and x arrays should start at 55.0N and 5.0E respectively or at 55.25N and 5.25E.


Reinoud Bokhorst




From pal.kristensen at statkart.no  Fri Dec 21 09:04:27 2007
From: pal.kristensen at statkart.no (=?UTF-8?Q?P=C3=A5l_Kristensen?=)
Date: Fri Dec 21 09:04:29 2007
Subject: [Gdal-dev] SDE support in FWtools 2.0.3 win?
Message-ID: <14455914.post@talk.nabble.com>


Hi!

How do I enable SDE 9.x support in FWtools 2.0.3 for windows? I'm trying to
use ogr2ogr to load some data from SDE to PostGIS. Due to the large data
size (approx 13GB)  a shapefile can't be used as an intermediate storage.

Regards
P?l Kristensen
-- 
View this message in context: http://www.nabble.com/SDE-support-in-FWtools-2.0.3-win--tp14455914p14455914.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From klokan at klokan.cz  Fri Dec 21 09:32:47 2007
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Fri Dec 21 09:32:50 2007
Subject: [gdal-dev] GDAL 1.5, TileService and TileCache
In-Reply-To: <476B89CC.90406@neogeo-online.net>
References: <476B89CC.90406@neogeo-online.net>
Message-ID: <6e41d95b0712210632j53a87f1r17b9b3a021538b28@mail.gmail.com>

Hi Guillamume,

For what you are describing I would recommend you to use project
TileCache http://www.tilecache.org/.

I don't know what you mean with "new GDAL TileService".
There is a new
 - WMS read only GDAL driver (Google SoC: Adam Nowacki) that supports
reading of remote sources like WMS, WMS-C and WorldWind's TileService.
 - GDAL2Tiles tool (Google SoC: me), which generate TMS tiles with
simple html viewers and eventually KML for Google Earth.

Yes, TileService is WorldWind only, TMS (OSGeo TileMapService) is more general.
If you are interested in available tile formats, standard tile
projections etc. look at links from document
http://spreadsheets.google.com/pub?key=pm3_jKEJCJ2e2wiIfjdBABg

If I get it correctly your first idea was:
By a GDAL command line tool (like gdal2tiles.py) generate static tiles
from a remote WMS server and use that static tiles instead of
TileCache project?

I think this will not run for now - especially for global
(geodetic/mercator) tiles, because GDAL2Tiles do not support yet TMS
global profiles. It is planned. Then it could run this way I hope, if
the new WMS driver allow correct read of a remote raster.

Adam Nowacki:
Would it be hard to add support for reading remote TMS tiles generated
by GDAL2Tiles (link to TileMapResource.xml is enough I hope) and
probably also for Zoomify tiles (I did prototype in python for zoomify
tiles download script, which could be used as inspiration - look at
http://www.staremapy.cz/zoomify-analyza/).
The reason for this is that we need to rectify (by gdalwarp) remote
tiles - usually old maps published by libraries.
Idea is that one person publish the map without georeference as
TMS/Zoomify tiles, and somebody else can rectify it later by an online
tool similar to Metacarta Rectifier.

Merry x-mas to everybody

Klokan

On Dec 21, 2007 10:39 AM, Guillaume Sueur
<guillaume.sueur@neogeo-online.net> wrote:
> Hi,
> Hope I'm in the good list, didn't find any gdal-users list...
>
> I'm very interested in the new GDAL TileService and have a few questions
> about it. Can it act as TileCache, retrieving tiles from some remote WMS
> server and caching those tiles locally ? Reading the doc makes me think
> yes, but TileService seems to be specific for WorldWind...
>
> Any clue ?
>
> Thanks
> --
> Guillaume SUEUR
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From BCicconetti at dnr.state.md.us  Fri Dec 21 09:52:32 2007
From: BCicconetti at dnr.state.md.us (Cicconetti, Bob)
Date: Fri Dec 21 09:52:37 2007
Subject: [gdal-dev] gdalwarp creates a bloated file
In-Reply-To: <1fef7d9b0712202309o514faa2ak961a4935707dd0dd@mail.gmail.com>
Message-ID: <3CCE61578E85AB479D1E35EDB97F027982DC70@tawesmail1.LANGROUP.DNR.MD>

You'll need either an old version of gdal, or one based on the 1.5.0RC2
binary; the version distributed with QGIS 0.9 works for me.

Adding the following two options to your gdalwarp call should result in
a much smaller TIFF file, but if you are using bilinear or better
resampling, you may want to consider using 2 bits and LZW compression.

-co NBITS=1 -co COMPRESSION=CCITTFAX4

R C

> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-
> bounces@lists.osgeo.org] On Behalf Of Craig Leat
> 
> Hi
> 
> I have a series of georeferenced Tiff images and I need to warp these
> to a north-up orientation. The images are scans of some old sepia
> plans. The files created by gdalwarp are in the order of 200 times
> larger than the original files. Is there anything I can do to limit
> the file size? Maybe limit the colour table to black and white only?
[...]
> Image Structure Metadata:
>   COMPRESSION=CCITTFAX4
> Band 1 Block=13628x512 Type=Byte, ColorInterp=Palette
>   Metadata:
>     NBITS=1
From warmerdam at pobox.com  Fri Dec 21 11:06:32 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Dec 21 11:06:55 2007
Subject: [gdal-dev] NetCDF generated by GDAL not compliant with CF-1.0
	for geographical grids
In-Reply-To: <476BA1C7.4000606@argoss.nl>
References: <476BA1C7.4000606@argoss.nl>
Message-ID: <476BE488.7010003@pobox.com>

Reinoud Bokhorst wrote:
> Hi,
> I have a WCS that reads and writes NetCDF using GDAL. The source NetCDF has a regular lat/lon geographical grid (no projection). The NetCDF that is generated following a WCS request (parameters: BBOX=0.0,55.0,5.0,60.0&SRS=epsg:4326&RESX=0.5&RESY=0.5) has the following header (ncdump -c):
> 
> netcdf my_netcdf {
> dimensions:
>         x = 10 ;
>         y = 10 ;
> variables:
>         char GDAL_Geographics ;
>                 GDAL_Geographics:Northernmost_Northing = 55. ;
>                 GDAL_Geographics:Southernmost_Northing = 60. ;
>                 GDAL_Geographics:Easternmost_Easting = 5. ;
>                 GDAL_Geographics:Westernmost_Easting = 0. ;
>                 GDAL_Geographics:spatial_ref = "GEOGCS[\"WGS
> 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
> 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]]"
> ;
>                 GDAL_Geographics:GeoTransform = "0 0.5 -0 55 0 0.5 " ;
>                 GDAL_Geographics:grid_mapping_name = "Geographics
> Coordinate System" ;
>                 GDAL_Geographics:long_name = "Grid_latitude" ;
>         float Band1(y, x) ;
>                 Band1:_FillValue = 0.f ;
>                 Band1:grid_mapping = "GDAL_Geographics" ;
>                 Band1:long_name = "GDAL Band Number 1" ;
> 
> // global attributes:
>                 :Conventions = "CF-1.0" ;
> data:
> }
> 
> 
> However, it seems that the grid_mapping_name "Geographics Coordinate System" is not a valid grid_mapping_name in the CF-1.0 convention (only 8 are mentioned in the convention). In CF-1.0 a geographic grid should be represented like this:
> 
> 
> netcdf my_netcdf_cf1.0 {
> dimensions:
>         y = 10 ;
>         x = 10 ;
> variables:
>         float y(y) ;
>                 y:standard_name = "latitude" ;
>                 y:units = "degrees_north" ;
>         float x(x) ;
>                 x:standard_name = "longitude" ;
>                 x:units = "degrees_east" ;
>         float Band1(y, x) ;
>                 Band1:_FillValue = 0.f ;
>                 Band1:long_name = "GDAL Band Number 1" ;
> 
> // global attributes:
>                 :Conventions = "CF-1.0" ;
> data:
> 
>  y = 55, 55.5, 56, 56.5, 57, 57.5, 58, 58.5, 59, 59.5 ;
> 
>  x = 5, 5.5, 6, 6.5, 7, 7.5, 8, 8.5, 9, 9.5 ;
> }
> 
> 
> Where only the 'units' attribute is required to indicate lat / lon. I am not sure if in this case the y and x arrays should start at 55.0N and 5.0E respectively or at 55.25N and 5.25E.

Reinoud,

I would encourage you to file this as a ticket.  Unfortunately the netcdf
driver is not currently being well maintained so I don't know if/when the
problem will be addressed.



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From guillaume.sueur at neogeo-online.net  Fri Dec 21 11:19:54 2007
From: guillaume.sueur at neogeo-online.net (Guillaume Sueur)
Date: Fri Dec 21 11:19:58 2007
Subject: [gdal-dev] GDAL 1.5, TileService and TileCache
In-Reply-To: <6e41d95b0712210632j53a87f1r17b9b3a021538b28@mail.gmail.com>
References: <476B89CC.90406@neogeo-online.net>
	<6e41d95b0712210632j53a87f1r17b9b3a021538b28@mail.gmail.com>
Message-ID: <476BE7AA.7060602@neogeo-online.net>

I can't use TileCache because the client doesn't want to add mod_python
to his apache...
So, I'm looking for a way to generate tiles from a WMS server and use
them locally.

Thanks for your answer, and happy holidays for all of you !

Guillaume

Klokan Petr P?idal a ?crit :
> Hi Guillamume,
> 
> For what you are describing I would recommend you to use project
> TileCache http://www.tilecache.org/.
> 
> I don't know what you mean with "new GDAL TileService".
> There is a new
>  - WMS read only GDAL driver (Google SoC: Adam Nowacki) that supports
> reading of remote sources like WMS, WMS-C and WorldWind's TileService.
>  - GDAL2Tiles tool (Google SoC: me), which generate TMS tiles with
> simple html viewers and eventually KML for Google Earth.
> 
> Yes, TileService is WorldWind only, TMS (OSGeo TileMapService) is more general.
> If you are interested in available tile formats, standard tile
> projections etc. look at links from document
> http://spreadsheets.google.com/pub?key=pm3_jKEJCJ2e2wiIfjdBABg
> 
> If I get it correctly your first idea was:
> By a GDAL command line tool (like gdal2tiles.py) generate static tiles
> from a remote WMS server and use that static tiles instead of
> TileCache project?
> 
> I think this will not run for now - especially for global
> (geodetic/mercator) tiles, because GDAL2Tiles do not support yet TMS
> global profiles. It is planned. Then it could run this way I hope, if
> the new WMS driver allow correct read of a remote raster.
> 
> Adam Nowacki:
> Would it be hard to add support for reading remote TMS tiles generated
> by GDAL2Tiles (link to TileMapResource.xml is enough I hope) and
> probably also for Zoomify tiles (I did prototype in python for zoomify
> tiles download script, which could be used as inspiration - look at
> http://www.staremapy.cz/zoomify-analyza/).
> The reason for this is that we need to rectify (by gdalwarp) remote
> tiles - usually old maps published by libraries.
> Idea is that one person publish the map without georeference as
> TMS/Zoomify tiles, and somebody else can rectify it later by an online
> tool similar to Metacarta Rectifier.
> 
> Merry x-mas to everybody
> 
> Klokan
> 
> On Dec 21, 2007 10:39 AM, Guillaume Sueur
> <guillaume.sueur@neogeo-online.net> wrote:
>> Hi,
>> Hope I'm in the good list, didn't find any gdal-users list...
>>
>> I'm very interested in the new GDAL TileService and have a few questions
>> about it. Can it act as TileCache, retrieving tiles from some remote WMS
>> server and caching those tiles locally ? Reading the doc makes me think
>> yes, but TileService seems to be specific for WorldWind...
>>
>> Any clue ?
>>
>> Thanks
>> --
>> Guillaume SUEUR
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>

-- 

From Chris.Barker at noaa.gov  Fri Dec 21 12:03:16 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Dec 21 12:02:03 2007
Subject: [gdal-dev] Gdal-1.4.4 / OSX Leopard / Problems with python support
In-Reply-To: <7D62363B-EB0A-4152-8DCF-6876BD33B644@ucsd.edu>
References: <7D62363B-EB0A-4152-8DCF-6876BD33B644@ucsd.edu>
Message-ID: <476BF1D4.50006@noaa.gov>

John Helly wrote:

> I've been struggling to get gdalimport.py to run and first thought that 
> I didn't have python support included.  I've built the latest source 

One option is to save yourself some trouble, and use these:

http://www.kyngchaos.com/wiki/software:frameworks

William has done a great job.

-Chris

-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From hellyj at ucsd.edu  Fri Dec 21 12:36:19 2007
From: hellyj at ucsd.edu (John Helly)
Date: Fri Dec 21 12:36:28 2007
Subject: [gdal-dev] Gdal-1.4.4 / OSX Leopard / Problems with python support
In-Reply-To: <476BF1D4.50006@noaa.gov>
References: <7D62363B-EB0A-4152-8DCF-6876BD33B644@ucsd.edu>
	<476BF1D4.50006@noaa.gov>
Message-ID: <41958154-EBCE-46CF-98DB-AB0210C0656D@ucsd.edu>

Thanks very much I will have a go at them.
Cheers.
--------------
John Helly, University of California, San Diego
San Diego Supercomputer Center 9500 Gilman Dr. Mail Code 0527, La  
Jolla CA 92093-0505
Phone: Voice +01 760 840 8660 mobile / stonesteps (Skype) /  
stonesteps7 (iChat)
http://www.sdsc.edu/~hellyj


On Dec 21, 2007, at 9:03 AM, Christopher Barker wrote:

> John Helly wrote:
>
>> I've been struggling to get gdalimport.py to run and first thought  
>> that I didn't have python support included.  I've built the latest  
>> source
>
> One option is to save yourself some trouble, and use these:
>
> http://www.kyngchaos.com/wiki/software:frameworks
>
> William has done a great job.
>
> -Chris
>
> -- 
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
>
> Chris.Barker@noaa.gov
>

From kkirubanantham at yahoo.com  Sat Dec 22 01:57:07 2007
From: kkirubanantham at yahoo.com (kiruba nantham)
Date: Sat Dec 22 01:57:09 2007
Subject: [gdal-dev] How to get Depthvalue for specific lat,lon.
Message-ID: <578216.24055.qm@web52201.mail.re2.yahoo.com>

Hai Frank,
        I am kiruba, Is there any function call in GDAL 1.4.2 to get depth value for a specific lat,lon or adjacent depth values for the given lat,lon (in S57 ENC charts)?. If it is there can you please tell me how to implement it?

Regards,
Kiruba.

       
---------------------------------
Never miss a thing.   Make Yahoo your homepage.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071221/d6761130/attachment.html
From warmerdam at pobox.com  Sat Dec 22 02:19:38 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Dec 22 02:19:55 2007
Subject: [gdal-dev] Re: How to get Depthvalue for specific lat,lon.
In-Reply-To: <578216.24055.qm@web52201.mail.re2.yahoo.com>
References: <578216.24055.qm@web52201.mail.re2.yahoo.com>
Message-ID: <476CBA8A.10303@pobox.com>

kiruba nantham wrote:
> Hai Frank,
>         I am kiruba, Is there any function call in GDAL 1.4.2 to get 
> depth value for a specific lat,lon or adjacent depth values for the 
> given lat,lon (in S57 ENC charts)?. If it is there can you please tell 
> me how to implement it?

Kiruba,

No, there is no such call in OGR.  You would basically need to scan all
SOUNDG and other depth related features and find the closest.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From craig.leat at gmail.com  Sat Dec 22 03:20:57 2007
From: craig.leat at gmail.com (Craig Leat)
Date: Sat Dec 22 03:21:28 2007
Subject: [gdal-dev] gdalwarp creates a bloated file
In-Reply-To: <3CCE61578E85AB479D1E35EDB97F027982DC70@tawesmail1.LANGROUP.DNR.MD>
References: <1fef7d9b0712202309o514faa2ak961a4935707dd0dd@mail.gmail.com>
	<3CCE61578E85AB479D1E35EDB97F027982DC70@tawesmail1.LANGROUP.DNR.MD>
Message-ID: <1fef7d9b0712220020h3167d76ax9ef8e2072bc14a29@mail.gmail.com>

On Dec 21, 2007 4:52 PM, Cicconetti, Bob <BCicconetti@dnr.state.md.us> wrote:

> You'll need either an old version of gdal, or one based on the 1.5.0RC2
> binary; the version distributed with QGIS 0.9 works for me.
>
> Adding the following two options to your gdalwarp call should result in
> a much smaller TIFF file, but if you are using bilinear or better
> resampling, you may want to consider using 2 bits and LZW compression.
>
> -co NBITS=1 -co COMPRESSION=CCITTFAX4
>
> R C
>
>
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-
> > bounces@lists.osgeo.org] On Behalf Of Craig Leat
> >
> > Hi
> >
> > I have a series of georeferenced Tiff images and I need to warp these
> > to a north-up orientation. The images are scans of some old sepia
> > plans. The files created by gdalwarp are in the order of 200 times
> > larger than the original files. Is there anything I can do to limit
> > the file size? Maybe limit the colour table to black and white only?
> [...]
>
> > Image Structure Metadata:
> >   COMPRESSION=CCITTFAX4
>
>
>
> > Band 1 Block=13628x512 Type=Byte, ColorInterp=Palette
> >   Metadata:
> >     NBITS=1
>

Thanks for the info Robert. I checked the GeoTiff documentation
(http://www.gdal.org/frmt_gtiff.html) and found the option:
COMPRESS=[JPEG/LZW/PACKBITS/DEFLATE/CCITTRLE/CCITTFAX3/CCITTFAX4/NONE]
However, using COMPRESS I get the following on my build of gdal 1.4.4.0:
Warning 5: COMPRESS=CCITTFAX4 value not recognised, ignoring.
COMPRESSION appears to work. Is this an error in the documentation?

I tried: gdalwarp -co "NBITS=1" -co "COMPRESSION=CCITTFAX4"
sheet10.tif sheet10_nu5.tif, but it makes no difference to the file
size and gdalinfo does not show the presence of NBITS or COMPRESSION
in the warped file.

Any ideas on what I am doing wrong?

Craig
From bokhorst at argoss.nl  Sat Dec 22 04:39:24 2007
From: bokhorst at argoss.nl (Reinoud Bokhorst)
Date: Sat Dec 22 04:39:33 2007
Subject: [gdal-dev] NetCDF generated by GDAL not compliant with CF-1.0
	for geographical grids
In-Reply-To: <476BE488.7010003@pobox.com>
References: <476BA1C7.4000606@argoss.nl> <476BE488.7010003@pobox.com>
Message-ID: <20071222103924.4coqq5buows88skw@sputnik.argoss.nl>

Quoting Frank Warmerdam <warmerdam@pobox.com>:

> Reinoud Bokhorst wrote:
>> Hi,
>> I have a WCS that reads and writes NetCDF using GDAL. The source   
>> NetCDF has a regular lat/lon geographical grid (no projection). The  
>>  NetCDF that is generated following a WCS request (parameters:   
>> BBOX=0.0,55.0,5.0,60.0&SRS=epsg:4326&RESX=0.5&RESY=0.5) has the   
>> following header (ncdump -c):
>>
>> netcdf my_netcdf {
>> dimensions:
>>        x = 10 ;
>>        y = 10 ;
>> variables:
>>        char GDAL_Geographics ;
>>                GDAL_Geographics:Northernmost_Northing = 55. ;
>>                GDAL_Geographics:Southernmost_Northing = 60. ;
>>                GDAL_Geographics:Easternmost_Easting = 5. ;
>>                GDAL_Geographics:Westernmost_Easting = 0. ;
>>                GDAL_Geographics:spatial_ref = "GEOGCS[\"WGS
>> 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
>> 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]]"
>> ;
>>                GDAL_Geographics:GeoTransform = "0 0.5 -0 55 0 0.5 " ;
>>                GDAL_Geographics:grid_mapping_name = "Geographics
>> Coordinate System" ;
>>                GDAL_Geographics:long_name = "Grid_latitude" ;
>>        float Band1(y, x) ;
>>                Band1:_FillValue = 0.f ;
>>                Band1:grid_mapping = "GDAL_Geographics" ;
>>                Band1:long_name = "GDAL Band Number 1" ;
>>
>> // global attributes:
>>                :Conventions = "CF-1.0" ;
>> data:
>> }
>>
>>
>> However, it seems that the grid_mapping_name "Geographics   
>> Coordinate System" is not a valid grid_mapping_name in the CF-1.0   
>> convention (only 8 are mentioned in the convention). In CF-1.0 a   
>> geographic grid should be represented like this:
>>
>>
>> netcdf my_netcdf_cf1.0 {
>> dimensions:
>>        y = 10 ;
>>        x = 10 ;
>> variables:
>>        float y(y) ;
>>                y:standard_name = "latitude" ;
>>                y:units = "degrees_north" ;
>>        float x(x) ;
>>                x:standard_name = "longitude" ;
>>                x:units = "degrees_east" ;
>>        float Band1(y, x) ;
>>                Band1:_FillValue = 0.f ;
>>                Band1:long_name = "GDAL Band Number 1" ;
>>
>> // global attributes:
>>                :Conventions = "CF-1.0" ;
>> data:
>>
>> y = 55, 55.5, 56, 56.5, 57, 57.5, 58, 58.5, 59, 59.5 ;
>>
>> x = 5, 5.5, 6, 6.5, 7, 7.5, 8, 8.5, 9, 9.5 ;
>> }
>>
>>
>> Where only the 'units' attribute is required to indicate lat / lon.  
>>  I am not sure if in this case the y and x arrays should start at   
>> 55.0N and 5.0E respectively or at 55.25N and 5.25E.
>
> Reinoud,
>
> I would encourage you to file this as a ticket.  Unfortunately the netcdf
> driver is not currently being well maintained so I don't know if/when the
> problem will be addressed.

Okay, I will do that. In the meantime I had a look at the source code  
and it doesn't seem so complicated to fix. I'll try that.

Regards,
Reinoud






----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From even.rouault at mines-paris.org  Sat Dec 22 04:52:33 2007
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Dec 22 04:52:37 2007
Subject: [gdal-dev] gdalwarp creates a bloated file
In-Reply-To: <1fef7d9b0712220020h3167d76ax9ef8e2072bc14a29@mail.gmail.com>
References: <1fef7d9b0712202309o514faa2ak961a4935707dd0dd@mail.gmail.com>
	<3CCE61578E85AB479D1E35EDB97F027982DC70@tawesmail1.LANGROUP.DNR.MD>
	<1fef7d9b0712220020h3167d76ax9ef8e2072bc14a29@mail.gmail.com>
Message-ID: <200712221052.33756.even.rouault@mines-paris.org>

Le Saturday 22 December 2007 09:20:57 Craig Leat, vous avez ?crit?:
> Thanks for the info Robert. I checked the GeoTiff documentation
> (http://www.gdal.org/frmt_gtiff.html) and found the option:
> COMPRESS=[JPEG/LZW/PACKBITS/DEFLATE/CCITTRLE/CCITTFAX3/CCITTFAX4/NONE]
> However, using COMPRESS I get the following on my build of gdal 1.4.4.0:
> Warning 5: COMPRESS=CCITTFAX4 value not recognised, ignoring.
> COMPRESSION appears to work. Is this an error in the documentation?
>
> I tried: gdalwarp -co "NBITS=1" -co "COMPRESSION=CCITTFAX4"
> sheet10.tif sheet10_nu5.tif, but it makes no difference to the file
> size and gdalinfo does not show the presence of NBITS or COMPRESSION
> in the warped file.
>
> Any ideas on what I am doing wrong?

Hi,

you definitely need GDAL 1.5.0RC2 to use CCITTFAX4 compression method. This 
compression method didn't exist in the GDAL 1.4.X series. The online 
documentation you're refering to is always against latest development version 
(svn trunk), and not stable one, thus the confusion.

Please note too that the keyword is COMPRESS and not COMPRESSION. So if you 
can upgrade to GDAL 1.5.0RC2, you should rather use :
gdalwarp -co "NBITS=1" -co "COMPRESS=CCITTFAX4"

Best regards,
Even
From craig.leat at gmail.com  Sat Dec 22 07:37:10 2007
From: craig.leat at gmail.com (Craig Leat)
Date: Sat Dec 22 07:37:12 2007
Subject: [gdal-dev] gdalwarp creates a bloated file
In-Reply-To: <200712221052.33756.even.rouault@mines-paris.org>
References: <1fef7d9b0712202309o514faa2ak961a4935707dd0dd@mail.gmail.com>
	<3CCE61578E85AB479D1E35EDB97F027982DC70@tawesmail1.LANGROUP.DNR.MD>
	<1fef7d9b0712220020h3167d76ax9ef8e2072bc14a29@mail.gmail.com>
	<200712221052.33756.even.rouault@mines-paris.org>
Message-ID: <1fef7d9b0712220437p17035845nc022d01743b1fa7e@mail.gmail.com>

On Dec 22, 2007 11:52 AM, Even Rouault <even.rouault@mines-paris.org> wrote:
> you definitely need GDAL 1.5.0RC2 to use CCITTFAX4 compression method. This
> compression method didn't exist in the GDAL 1.4.X series. The online
> documentation you're refering to is always against latest development version
> (svn trunk), and not stable one, thus the confusion.
>
> Please note too that the keyword is COMPRESS and not COMPRESSION. So if you
> can upgrade to GDAL 1.5.0RC2, you should rather use :
> gdalwarp -co "NBITS=1" -co "COMPRESS=CCITTFAX4"

Hi

Wonderful and thanks for pointing that out! gdal 1.5 did the trick.
The file size is down from 218.5MB to 3.9MB.

Best regards

Craig
From hjc520070 at 163.com  Sat Dec 22 09:36:58 2007
From: hjc520070 at 163.com (hjc520070)
Date: Sat Dec 22 09:37:12 2007
Subject: [gdal-dev] gdal install problem
Message-ID: <29148935.845571198334218368.JavaMail.coremail@bj163app69.163.com>

I download the file "gdalwin32-1.4.4" ,Then Unzip it and add the gdalwin32-1.4.4\bin directory to your PATH. Finally,define the GDAL_DATA environment variable to point to gdalwin32-1.4.4\data directory.
My platform is windows. python 2.5 is availabel in my computer.
However it doesn't work. Is there anything esle I should do to make it work properly.
Thank you for your help.
               cong
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071222/c75a0f68/attachment-0001.html
From mateusz at loskot.net  Sat Dec 22 17:39:05 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Dec 22 17:39:11 2007
Subject: [gdal-dev] gdal install problem
In-Reply-To: <29148935.845571198334218368.JavaMail.coremail@bj163app69.163.com>
References: <29148935.845571198334218368.JavaMail.coremail@bj163app69.163.com>
Message-ID: <476D9209.4080009@loskot.net>

hjc520070 wrote:
> I download the file "gdalwin32-1.4.4" ,Then Unzip it and add the
> gdalwin32-1.4.4\bin directory to your PATH. Finally,define the
> GDAL_DATA environment variable to point to gdalwin32-1.4.4\data
> directory. My platform is windows. python 2.5 is availabel in my
> computer. However it doesn't work.

What does it mean "it doesn't work".

Please, be more presice [1].

[1] http://www.catb.org/~esr/faqs/smart-questions.html#beprecise

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mateusz at loskot.net  Sun Dec 23 21:16:03 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sun Dec 23 21:16:10 2007
Subject: [gdal-dev] gdal install problem
In-Reply-To: <9716358.288011198421188826.JavaMail.coremail@bj163app73.163.com>
References: <476D9209.4080009@loskot.net>
	<29148935.845571198334218368.JavaMail.coremail@bj163app69.163.com>
	<9716358.288011198421188826.JavaMail.coremail@bj163app73.163.com>
Message-ID: <476F1663.1070809@loskot.net>

hjc520070 wrote:
> 
> When I run "f2py" in dos. It fail to recognize the command. This
> means that I don't install it sucessfully ? Thank you for your reply.

I'm not sure I understand. What is the "f2py" command from?
GDAL distribution of Win32 binaries does not include any tool like f2py.

p.s. Please, use Reply To All so your e-mails will reach the gdal-dev list,
otherwise you're replying directly to sender, a private e-mail only.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mateusz at loskot.net  Sun Dec 23 21:22:45 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sun Dec 23 21:22:51 2007
Subject: [gdal-dev] Incomplete gdalwin32exe144.zip binaries distrubution
Message-ID: <476F17F5.3050502@loskot.net>

Hi,

I'm not sure if it's intentional or not, but IMO the gdalwin32exe144.zip
available to download at:

http://download.osgeo.org/gdal/win32/1.4.4/

is incomplete. There are missing Visual C++ 2003 (7.1) run-time
libraries like msvcr71.dll and sisters.

Unfortunately, it *seems* Microsoft does not offer redistributable
package with 7.1 run-time libraries to download anymore.
So, we need o provide users with these run-time DLL as deployed together
with GDAL binaries. Certainly, I'm talking about Release binaries only.
The VC++ EULA does allow to distribute these binaries.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mateusz at loskot.net  Sun Dec 23 23:26:58 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sun Dec 23 23:27:03 2007
Subject: [gdal-dev] Incomplete gdalwin32exe144.zip binaries distrubution
In-Reply-To: <476F17F5.3050502@loskot.net>
References: <476F17F5.3050502@loskot.net>
Message-ID: <476F3512.6000506@loskot.net>

Mateusz Loskot wrote:
> Hi,
> 
> I'm not sure if it's intentional or not, but IMO the gdalwin32exe144.zip
> available to download at:
> 
> http://download.osgeo.org/gdal/win32/1.4.4/

Frank has just fixed this problem and now all *.dll run-times are
included. I confirm everything works well now.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From dylan.beaudette at gmail.com  Sun Dec 23 23:33:43 2007
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Sun Dec 23 23:33:54 2007
Subject: [gdal-dev] GDAL-GRASS plugin for GDAL 1.5
Message-ID: <200712232033.43431.dylan.beaudette@gmail.com>

Hi,

will the gdal-grass 1.4.3 plugin source work with 1.5 ?

if not is there something I can do in the mean time?

Thanks

Dylan
From warmerdam at pobox.com  Sun Dec 23 23:52:34 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Dec 23 23:52:43 2007
Subject: [gdal-dev] GDAL-GRASS plugin for GDAL 1.5
In-Reply-To: <200712232033.43431.dylan.beaudette@gmail.com>
References: <200712232033.43431.dylan.beaudette@gmail.com>
Message-ID: <476F3B12.7070209@pobox.com>

Dylan Beaudette wrote:
> Hi,
> 
> will the gdal-grass 1.4.3 plugin source work with 1.5 ?

Dylan,

Yes, it should work fine.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Mon Dec 24 00:43:49 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 24 00:44:00 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
Message-ID: <476F4715.6000802@pobox.com>

Folks,

I have prepared GDAL 1.5.0 binaries (based on RC2) and uploaded them at:

   http://download.osgeo.org/gdal/win32/1.5

These are similar to the beta2 binaries, but also include libcurl, enabling
drivers like WMS, and WCS.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From dmorissette at mapgears.com  Mon Dec 24 07:48:13 2007
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Mon Dec 24 07:48:18 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC2 as 1.5.0
In-Reply-To: <476B228D.30707@pobox.com>
References: <476B228D.30707@pobox.com>
Message-ID: <476FAA8D.9060003@mapgears.com>

Frank Warmerdam wrote:
> Motion: To Adopt the 1.5.0RC2 release as the official 1.5.0 release.
> 
> Voting opens now so it can close by Christmas Eve.  Please only vote once
> you have tested 1.5.0RC2 or heard of a significant reason to veto the
> release.
> 

+1.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From hobu.inc at gmail.com  Mon Dec 24 11:26:33 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Dec 24 11:27:37 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC2 as 1.5.0
In-Reply-To: <476FAA8D.9060003@mapgears.com>
References: <476B228D.30707@pobox.com> <476FAA8D.9060003@mapgears.com>
Message-ID: <F426C4B4-5508-42DF-8E2A-4B7A81C5E3EA@gmail.com>

+1

On Dec 24, 2007, at 6:48 AM, Daniel Morissette wrote:

> Frank Warmerdam wrote:
>> Motion: To Adopt the 1.5.0RC2 release as the official 1.5.0 release.
>> Voting opens now so it can close by Christmas Eve.  Please only  
>> vote once
>> you have tested 1.5.0RC2 or heard of a significant reason to veto the
>> release.
>
> +1.
>
> Daniel
> -- 
> Daniel Morissette
> http://www.mapgears.com/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From lthompson at extendthereach.com  Mon Dec 24 13:05:13 2007
From: lthompson at extendthereach.com (Linda Thompson)
Date: Mon Dec 24 13:05:21 2007
Subject: [gdal-dev] FW: Memory Leaks in GDAL
Message-ID: <3B6819E719271748B923CE3CDBD4EC9802F1A5F7@srcmail1.extendthereach.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdal_memoryleak.zip
Type: application/x-zip-compressed
Size: 1194 bytes
Desc: gdal_memoryleak.zip
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071224/13f760dc/gdal_memoryleak.bin
From dylan.beaudette at gmail.com  Mon Dec 24 15:36:43 2007
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Mon Dec 24 15:36:53 2007
Subject: [gdal-dev] GDAL-GRASS plugin for GDAL 1.5
In-Reply-To: <476F3B12.7070209@pobox.com>
References: <200712232033.43431.dylan.beaudette@gmail.com>
	<476F3B12.7070209@pobox.com>
Message-ID: <200712241236.43595.dylan.beaudette@gmail.com>

On Sunday 23 December 2007 08:52:34 pm Frank Warmerdam wrote:
> Dylan Beaudette wrote:
> > Hi,
> >
> > will the gdal-grass 1.4.3 plugin source work with 1.5 ?
>
> Dylan,
>
> Yes, it should work fine.
>
> Best regards,

Thanks Frank, It appears to work fine.

Cheers,

Dylan
From mchapman at texelinc.com  Mon Dec 24 19:12:30 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Mon Dec 24 19:12:40 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
In-Reply-To: <476F4715.6000802@pobox.com>
References: <476F4715.6000802@pobox.com>
Message-ID: <000001c8468a$d7508a30$85f19e90$@com>

Frank and Adam,

I used the WMS and WCS today and both worked great.  I wish I could specify
4 band transparent png files with the WMS but from looking at
minidriver_wms.cpp I can see that that parameter was not implemented. That
is a key function for stacking multiple wms layers in a gui from different
wms servers...you need an alpha channel.  

Also, I noticed that you have support for wms 1.1 and 1.3 but it looks like
from the code that if the version isn't 1.1 then it throws a not supported
error...not sure why when Adam is checking for SRS versus CRS if he only
supports 1.1?  

Be great if at some point we could add support for the following wms
parameters:

1. BGCOLOR
2. TRANSPARENT
3. EXCEPTIONS
4. TIME
5. ELEVATION

OPTIONAL FOR SECURE SERVERS

6. USERNAME
7. PASSWORD

Otherwise, those drivers are AWESOME!  One more thing, what happened to the
WorldWind Tile service?  FYI, that and the gdal demo wcs server are bad urls
and are referenced in the help docs.

Great job guys!!!  1.5.0 has a lot of great new features and drivers. 

Best regards,

Martin Chapman
Chief Software Architect
Fortified Datacom Inc.
http://www.fortifieddatacom.com
mchapman@fortifieddatacom.com
303-324-1065




-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Sunday, December 23, 2007 10:44 PM
To: gdal-dev
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries

Folks,

I have prepared GDAL 1.5.0 binaries (based on RC2) and uploaded them at:

   http://download.osgeo.org/gdal/win32/1.5

These are similar to the beta2 binaries, but also include libcurl, enabling
drivers like WMS, and WCS.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mchapman at texelinc.com  Mon Dec 24 19:16:17 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Mon Dec 24 19:16:27 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
In-Reply-To: <000001c8468a$d7508a30$85f19e90$@com>
References: <476F4715.6000802@pobox.com> <000001c8468a$d7508a30$85f19e90$@com>
Message-ID: <000101c8468b$5e83bef0$1b8b3cd0$@com>

Adam

In fact, thinking about it more, you could also just automatically add the
transparent=TRUE url parameter in the code if the requested bands was
greater than 3.  Food for thought.

Martin Chapman
Chief Software Architect
Fortified Datacom Inc.
http://www.fortifieddatacom.com
mchapman@fortifieddatacom.com
303-324-1065


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
Sent: Monday, December 24, 2007 5:13 PM
To: 'Frank Warmerdam'; 'gdal-dev'
Subject: RE: [gdal-dev] GDAL 1.5.0 (RC2) Binaries

Frank and Adam,

I used the WMS and WCS today and both worked great.  I wish I could specify
4 band transparent png files with the WMS but from looking at
minidriver_wms.cpp I can see that that parameter was not implemented. That
is a key function for stacking multiple wms layers in a gui from different
wms servers...you need an alpha channel.  

Also, I noticed that you have support for wms 1.1 and 1.3 but it looks like
from the code that if the version isn't 1.1 then it throws a not supported
error...not sure why when Adam is checking for SRS versus CRS if he only
supports 1.1?  

Be great if at some point we could add support for the following wms
parameters:

1. BGCOLOR
2. TRANSPARENT
3. EXCEPTIONS
4. TIME
5. ELEVATION

OPTIONAL FOR SECURE SERVERS

6. USERNAME
7. PASSWORD

Otherwise, those drivers are AWESOME!  One more thing, what happened to the
WorldWind Tile service?  FYI, that and the gdal demo wcs server are bad urls
and are referenced in the help docs.

Great job guys!!!  1.5.0 has a lot of great new features and drivers. 

Best regards,

Martin Chapman
Chief Software Architect
Fortified Datacom Inc.
http://www.fortifieddatacom.com
mchapman@fortifieddatacom.com
303-324-1065




-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Sunday, December 23, 2007 10:44 PM
To: gdal-dev
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries

Folks,

I have prepared GDAL 1.5.0 binaries (based on RC2) and uploaded them at:

   http://download.osgeo.org/gdal/win32/1.5

These are similar to the beta2 binaries, but also include libcurl, enabling
drivers like WMS, and WCS.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Mon Dec 24 22:58:21 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 24 22:58:23 2007
Subject: [gdal-dev] Motion: Adopt 1.5.0RC2 as 1.5.0
In-Reply-To: <F426C4B4-5508-42DF-8E2A-4B7A81C5E3EA@gmail.com>
References: <476B228D.30707@pobox.com> <476FAA8D.9060003@mapgears.com>
	<F426C4B4-5508-42DF-8E2A-4B7A81C5E3EA@gmail.com>
Message-ID: <931f8ea90712241958t5e9697ccle52f9f76b07b4941@mail.gmail.com>

Folks,

I'm also +1 on this motion.

The motion passes with support for from HowardB, DanielM
and myself.  I'll promote the RC to final release and send out
a broader announcement.

Merry Christmas!
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From mateusz at loskot.net  Tue Dec 25 10:32:07 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Dec 25 10:32:24 2007
Subject: [gdal-dev] FW: Memory Leaks in GDAL
In-Reply-To: <3B6819E719271748B923CE3CDBD4EC9802F1A5F7@srcmail1.extendthereach.com>
References: <3B6819E719271748B923CE3CDBD4EC9802F1A5F7@srcmail1.extendthereach.com>
Message-ID: <47712277.8030604@loskot.net>

Linda Thompson wrote:
> I found memory leaks while testing our Alteryx product and have fixes
> for them in ogrocisession.cpp and ogrocidatasource.cpp.  
> 
> I have attached the diff and patch files from svn.

Linda,

Thank you for the report.
FYI, I've submitted it as a ticket on the Trac:

http://trac.osgeo.org/gdal/ticket/2120

Cheres
-- 
Mateusz Loskot
http://mateusz.loskot.net
From sy at perkins.net  Wed Dec 26 15:23:43 2007
From: sy at perkins.net (Simon Perkins)
Date: Wed Dec 26 15:23:51 2007
Subject: [gdal-dev] Testing if two spatial references are the same
Message-ID: <4772B84F.4070601@perkins.net>

I have a file, which is giving me some strange results with the 
OGRSpatialReference.IsSame() method. Here's a short test program:

#include "gdal_priv.h"
#include "ogr_spatialref.h"
#include "ogr_core.h"
#include <iostream>

using namespace std;

int main(int argc, char** argv)
{
    GDALAllRegister();
    const char* filename = argv[1];
    GDALDataset* dataset = (GDALDataset*) GDALOpen(filename, GA_ReadOnly);
    cout << "Opened file: " << filename << "\n";
    const char* projWkt = dataset->GetProjectionRef();
    cout << "Raw Projection WKT: " << projWkt << "\n";
    OGRSpatialReference* spatialRef = new OGRSpatialReference(projWkt);
    char* prettyWkt = new char[4096];
    spatialRef->exportToPrettyWkt(&prettyWkt, 0);
    cout << "Pretty Projection WKT:\n" << prettyWkt << "\n";
    cout << "Result from s.IsSame(s): " << 
spatialRef->IsSame(spatialRef) << "\n";
    return 0;
}


Basically, the code opens a raster file, grabs the projection Well Known 
Text string, constructs an OGRSpatialReference using that string, and 
then compares that spatial reference to itself using the IsSame() 
method. One would expect that a spatial reference is the same as itself, 
so this method should return 1.

Here's the output from a particular file:

Opened file: C:/Images/Demo/K10.tif
Raw Projection WKT: 
PROJCS["unnamed",GEOGCS["NAD83",DATUM["North_American_Datum_
1983",SPHEROID["GRS 
1980",6378137,298.2572221010002,AUTHORITY["EPSG","7019"]],AU
THORITY["EPSG","6269"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],
AUTHORITY["EPSG","4269"]],UNIT["US survey 
foot",0.3048006096012192,AUTHORITY["EP
SG","9003"]],AUTHORITY["EPSG","26942"]]
Pretty Projection WKT:
PROJCS["unnamed",
    GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6269"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4269"]],
    UNIT["US survey foot",0.3048006096012192,
        AUTHORITY["EPSG","9003"]],
    AUTHORITY["EPSG","26942"]]
Result from s.IsSame(s): 0

Any ideas what's going on here? Is it something specific to this 
particular projection string? Is there a better way of checking 
equivalence of projected coordinate systems, e.g. using the EPSG code? 
What would I have to check to ensure equivalency?

Regards,

Simon


From sy at perkins.net  Wed Dec 26 15:35:32 2007
From: sy at perkins.net (Simon Perkins)
Date: Wed Dec 26 15:35:38 2007
Subject: [gdal-dev] Testing if two spatial references are the same
In-Reply-To: <4772B84F.4070601@perkins.net>
References: <4772B84F.4070601@perkins.net>
Message-ID: <4772BB14.7080306@perkins.net>

Hmm, looking at the projection string in more detail and comparing with 
the OGR source code, I see that it doesn't include a "PROJECTION" node, 
which OGR.IsSame() checks for.

PROJCS["unnamed",
   GEOGCS["NAD83",
       DATUM["North_American_Datum_1983",
           SPHEROID["GRS 1980",6378137,298.2572221010002,
               AUTHORITY["EPSG","7019"]],
           AUTHORITY["EPSG","6269"]],
       PRIMEM["Greenwich",0],
       UNIT["degree",0.0174532925199433],
       AUTHORITY["EPSG","4269"]],
   UNIT["US survey foot",0.3048006096012192,
       AUTHORITY["EPSG","9003"]],
   AUTHORITY["EPSG","26942"]]

So, is the TIFF file this came from missing some information? It was 
just a file I found on the web... It does have an EPSG code, so should 
IsSame() be checking for that?

Cheers,

Sy



Simon Perkins wrote:
> I have a file, which is giving me some strange results with the 
> OGRSpatialReference.IsSame() method. Here's a short test program:
>
> #include "gdal_priv.h"
> #include "ogr_spatialref.h"
> #include "ogr_core.h"
> #include <iostream>
>
> using namespace std;
>
> int main(int argc, char** argv)
> {
>    GDALAllRegister();
>    const char* filename = argv[1];
>    GDALDataset* dataset = (GDALDataset*) GDALOpen(filename, GA_ReadOnly);
>    cout << "Opened file: " << filename << "\n";
>    const char* projWkt = dataset->GetProjectionRef();
>    cout << "Raw Projection WKT: " << projWkt << "\n";
>    OGRSpatialReference* spatialRef = new OGRSpatialReference(projWkt);
>    char* prettyWkt = new char[4096];
>    spatialRef->exportToPrettyWkt(&prettyWkt, 0);
>    cout << "Pretty Projection WKT:\n" << prettyWkt << "\n";
>    cout << "Result from s.IsSame(s): " << 
> spatialRef->IsSame(spatialRef) << "\n";
>    return 0;
> }
>
>
> Basically, the code opens a raster file, grabs the projection Well 
> Known Text string, constructs an OGRSpatialReference using that 
> string, and then compares that spatial reference to itself using the 
> IsSame() method. One would expect that a spatial reference is the same 
> as itself, so this method should return 1.
>
> Here's the output from a particular file:
>
> Opened file: C:/Images/Demo/K10.tif
> Raw Projection WKT: 
> PROJCS["unnamed",GEOGCS["NAD83",DATUM["North_American_Datum_
> 1983",SPHEROID["GRS 
> 1980",6378137,298.2572221010002,AUTHORITY["EPSG","7019"]],AU
> THORITY["EPSG","6269"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433], 
>
> AUTHORITY["EPSG","4269"]],UNIT["US survey 
> foot",0.3048006096012192,AUTHORITY["EP
> SG","9003"]],AUTHORITY["EPSG","26942"]]
> Pretty Projection WKT:
> PROJCS["unnamed",
>    GEOGCS["NAD83",
>        DATUM["North_American_Datum_1983",
>            SPHEROID["GRS 1980",6378137,298.2572221010002,
>                AUTHORITY["EPSG","7019"]],
>            AUTHORITY["EPSG","6269"]],
>        PRIMEM["Greenwich",0],
>        UNIT["degree",0.0174532925199433],
>        AUTHORITY["EPSG","4269"]],
>    UNIT["US survey foot",0.3048006096012192,
>        AUTHORITY["EPSG","9003"]],
>    AUTHORITY["EPSG","26942"]]
> Result from s.IsSame(s): 0
>
> Any ideas what's going on here? Is it something specific to this 
> particular projection string? Is there a better way of checking 
> equivalence of projected coordinate systems, e.g. using the EPSG code? 
> What would I have to check to ensure equivalency?
>
> Regards,
>
> Simon
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From tutey at o2.pl  Wed Dec 26 16:37:18 2007
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Dec 26 16:37:41 2007
Subject: [Gdal-dev] RE: ogr2ogr to PostGIS gives wrong SRID?
In-Reply-To: <20070221214327.28CCE62D599@mpls-qmqp-05.inet.qwest.net>
References: <20070221214327.28CCE62D599@mpls-qmqp-05.inet.qwest.net>
Message-ID: <4772C98E.6000106@o2.pl>

Randy George wrote:

> I am attempting to use ogr2ogr to load some shp files into PostGIS
> 
> When translating a .shp file that is in EPSG:2239 and reprojecting to
> EPSG:4326 like this:
> 
> ogr2ogr -f PostgreSQL PG:"user=user dbname=GA host=localhost password=pass
> port=5432" 06_ZoneA.shp -s_srs EPSG:2239 -t_srs EPSG:4326 -nln test -append
> 
> The resulting table has correct coords but not a valid srid:

<snip>

I've just needed to make a similar operation, using a
different EPSG code, and my output PostGIS layer has SRID
set wrong too:

ogr2ogr -f PostgreSQL -t_srs EPSG:2180 -s_srs EPSG:32633
"PG:dbname=dss" -lco "DIM=2" -nln dss_postgis.gminy gminy.shp

The SRID is set to 32767 in geometry_columns:

;dss_postgis;gminy;wkb_geometry;2;32767;POLYGON

This is wrong; there is a match for EPSG:2180 in my
spatial_ref_sys. Tried Randy's work around, but it fails at
the last stage; three first steps go fine:

> My convoluted work around:
> 
> ALTER TABLE "test" DROP CONSTRAINT enforce_srid_wkb_geometry;
> 
> UPDATE "test" SET wkb_geometry = setsrid(wkb_geometry,4326);
> 
> ALTER TABLE "test"  ADD CONSTRAINT enforce_srid_wkb_geometry CHECK
> (srid(wkb_geometry) = 4326);

Which, in my case translate into:

ALTER TABLE dss_postgis.gminy DROP CONSTRAINT
enforce_srid_wkb_geometry;

UPDATE dss_postgis.gminy SET
wkb_geometry=setsrid(wkb_geometry,2180);

ALTER TABLE dss_postgis.gminy ADD CONSTRAINT
enforce_srid_wkb_geometry CHECK (srid(wkb_geometry)=2180);

> UPDATE "geometry_columns" SET srid=4326 WHERE f_table_name='test';

But this last one fails with an error:

UPDATE public.geometry_columns SET srid=2180 WHERE
f_table_name=dss_postgis.gminy;

ERROR:  missing FROM-clause entry for table "dss_postgis"



What should I do in order to change the srid of my PostGIS
layer and why isn't it set properly at first?

Frank suggests the reason of Randy's problem was that OGR
could not find a match for his EPSG:4326 translated into
WKT. Is it my case too? I can see that "SELECT srtext FROM
spatial_ref_sys WHERE srid=2180" and "SELECT srtext FROM
spatial_ref_sys WHERE srid=32767" yield exactly the same
result, only the order of few tags is different.

If the comparison of OGR's EPSG->WKT with PostGIS's "srtext"
is error-prone, could OGR instead just look-up the
spatial_ref_sys table for "auth_srid" equal to the EPSG code
specified, check if "auth_name" is "EPSG" and use the
"auth_srid" value then? That would guarantee that a correct
EPSG code is used; see:

SELECT srid,auth_name,auth_srid FROM spatial_ref_sys WHERE
auth_srid=2180;

 srid | auth_name | auth_srid
------+-----------+-----------
 2180 | EPSG      |      2180


Hmm, actualy, all "auth_name" fields in my spatial_ref_sys
are "EPSG", and all "srid" and "auth_srid" are the same; but
that's maybe just me:

SELECT srid FROM spatial_ref_sys WHERE auth_name!='EPSG';
 srid
------
(0 rows)

SELECT srid FROM spatial_ref_sys WHERE srid!=auth_srid;
 srid
------
(0 rows)



Using PostgreSQL 8.1.10, PostGIS 1.3.2, GDAL 1.5+SVN.

Maciek


From John.C.Cartwright at noaa.gov  Wed Dec 26 17:12:18 2007
From: John.C.Cartwright at noaa.gov (John Cartwright)
Date: Wed Dec 26 17:12:24 2007
Subject: [gdal-dev] problem w/ libexpat while compiling 1.5.0 on 64-bit RHEL
	5
Message-ID: <4772D1C2.3020209@noaa.gov>

Hello All,

I'm having a little trouble compiling 1.5.0 on my 64-bit Red Hat 
Enterprise Linux 5.1.  The issue seems to be that, regardless of my 
attempts to influence it, configure insists on getting the libexpat.so 
from $ORACLE_HOME and complains that the "File in wrong format".

I've tried using the RedHat-provided expat library (both 32 and 64 bit 
versions), and built a new local copy of expat.  My configure includes 
the lines:

--with-expat-inc=/extra/contrib/expat-2.0.1/include \
 --with-expat-lib=/extra/contrib/expat-2.0.1/lib \

but I still see lines like the following during the make, suggesting 
that the correct expat library is not being found:

libtool: link: g++ -shared -nostdlib 
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crti.o 
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtbeginS.o 
.libs/libgdal.la.lnkscript  -Wl,-rpath -Wl,/extra/contrib/geos-2.2.3/lib 
-Wl,-rpath -Wl,/extra/contrib/oracle/product/10.2.0/db_1/lib -Wl,-rpath 
-Wl,/extra/contrib/libdap-3.7.8/lib -Wl,-rpath 
-Wl,/extra/contrib/geos-2.2.3/lib -Wl,-rpath 
-Wl,/extra/contrib/oracle/product/10.2.0/db_1/lib -Wl,-rpath 
-Wl,/extra/contrib/libdap-3.7.8/lib -L/extra/contrib/geos-2.2.3/lib 
/extra/contrib/geos-2.2.3/lib/libgeos_c.so 
/extra/contrib/geos-2.2.3/lib/libgeos.so -lsqlite3 
-L/extra/contrib/oracle/product/10.2.0/db_1/lib -lclntsh -lnnz10 -lodbc 
-lodbcinst -L/usr/lib 
/extra/contrib/oracle/product/10.2.0/db_1/lib/libexpat.so 
-L/extra/contrib/xerces-c-2.7.0/lib -lxerces-c 
-L/extra/contrib/netcdf-3.6.2 -L/extra/contrib/netcdf-3.6.2/lib 
/extra/contrib/netcdf-3.6.2/lib/libnetcdf.a -L/usr/lib64 -lpq -lrt 
-L/extra/contrib/lib -L/extra/contrib/libdap-3.7.8/lib 
/extra/contrib/libdap-3.7.8/lib/libdapserver.so 
/extra/contrib/libdap-3.7.8/lib/libdapclient.so -L/usr/kerberos/lib64 
/extra/contrib/libdap-3.7.8/lib/libdap.so -lxml2 -lpthread -lcurl 
-lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lresolv -ldl -lidn 
-L/usr/lib64/mysql -lmysqlclient -lz -lcrypt -lnsl -lssl -lcrypto 
-L/usr/lib/gcc/x86_64-redhat-linux/4.1.2 
-L/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64 
-L/lib/../lib64 -L/usr/lib/../lib64 -lstdc++ -lm -lc -lgcc_s 
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtendS.o 
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crtn.o          
-Wl,-soname -Wl,libgdal.so.1 -o .libs/libgdal.so.1.12.0

The LD_LIBRARY_PATH variable has been unset. Can someone give me advice 
on how to work around this situation?

Thanks!

-- john

From hellyj at ucsd.edu  Wed Dec 26 21:11:46 2007
From: hellyj at ucsd.edu (John Helly)
Date: Wed Dec 26 21:11:55 2007
Subject: [gdal-dev] GDAL linking problems looking for libjpeg.
Message-ID: <808CC030-9CE2-420E-ADB3-10C443485CBC@ucsd.edu>

Hi.

I'm building GDAL 1.4.4 on OS X Leopard and have all the requisite  
libraries installed in /usr/local/xxx where xxx is the relevant  
library.  I've successfully built GDAL previously a number of times  
but this time am adding Python support.  I'm using the following bash  
script to do the configure:

./configure --prefix=/usr/local/gdal-1.4.4 \
   --libdir=/usr/local/lib \
   --with-netcdf=/usr/local/netcdf-3.6.1  \
   --with-jpeg=/usr/local/internal \
   --with-png=/usr/local/lib \
   --with-libtiff=/usr/local/lib \
   --with-geotiff=/usr/local/lib \
   --with-geos=yes \
   --with-perl            \
   --with-php             \
   --with-ruby            \
   --with-python


The make gets quite a long way through the build but then I run into  
this odd reference to libjpeg.62.0.0.dylib that actually exists in / 
usr/local/lib but the compiler/linker doesn't seem to be able to find  
it and I'm having difficulty understanding why and how to work around  
it.  Any suggestions would be much appreciated.

Cheers.
--------------
John Helly, University of California, San Diego
San Diego Supercomputer Center 9500 Gilman Dr. Mail Code 0527, La  
Jolla CA 92093-0505
Phone: Voice +01 760 840 8660 mobile / stonesteps (Skype) /  
stonesteps7 (iChat)
http://www.sdsc.edu/~hellyj


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071226/54ed0863/attachment.html
From hobu.inc at gmail.com  Wed Dec 26 22:19:20 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec 26 22:20:18 2007
Subject: [gdal-dev] GDAL linking problems looking for libjpeg.
In-Reply-To: <808CC030-9CE2-420E-ADB3-10C443485CBC@ucsd.edu>
References: <808CC030-9CE2-420E-ADB3-10C443485CBC@ucsd.edu>
Message-ID: <9F2FA24D-0BFB-48AB-ABD5-B26E6B54FE69@gmail.com>


On Dec 26, 2007, at 8:11 PM, John Helly wrote:

> Hi.
>
> I'm building GDAL 1.4.4 on OS X Leopard and have all the requisite  
> libraries installed in /usr/local/xxx where xxx is the relevant  
> library.  I've successfully built GDAL previously a number of times  
> but this time am adding Python support.  I'm using the following  
> bash script to do the configure:
>
> ./configure --prefix=/usr/local/gdal-1.4.4 \
>   --libdir=/usr/local/lib \
>   --with-netcdf=/usr/local/netcdf-3.6.1  \
>   --with-jpeg=/usr/local/internal \

This should just be --with-jpeg=internal.  I would also note that  
internal is preferred if possible because there have been a few tweaks  
and improvements to GDAL's internal jpeg.

Howard
From hobu.inc at gmail.com  Wed Dec 26 22:21:06 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec 26 22:22:03 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
In-Reply-To: <476F4715.6000802@pobox.com>
References: <476F4715.6000802@pobox.com>
Message-ID: <69F27A27-7EB7-47A0-9909-8540D1D93401@gmail.com>


On Dec 23, 2007, at 11:43 PM, Frank Warmerdam wrote:

> Folks,
>
> I have prepared GDAL 1.5.0 binaries (based on RC2) and uploaded them  
> at:
>
>  http://download.osgeo.org/gdal/win32/1.5
>
> These are similar to the beta2 binaries, but also include libcurl,  
> enabling
> drivers like WMS, and WCS.


I have completed populating the Python CheeseShop with Python bindings http://pypi.python.org/pypi/GDAL/

I have also added ECW, MrSID, and GDAL/OGR ArcSDE (9.0, 9.1, and 9.2)  
plugins to the downloads.

Howard
From mchapman at texelinc.com  Wed Dec 26 22:29:31 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Wed Dec 26 22:29:45 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
In-Reply-To: <69F27A27-7EB7-47A0-9909-8540D1D93401@gmail.com>
References: <476F4715.6000802@pobox.com>
	<69F27A27-7EB7-47A0-9909-8540D1D93401@gmail.com>
Message-ID: <000001c84838$b1f808d0$15e81a70$@com>

Howard,

How do the plugins work?  Do you compile the plugin against the driver
library and then distribute the driver and it only loads if the dependent
format driver is present on the users machine?  Thanks for whatever insight
you have time to provide.

Best regards,

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Howard Butler
Sent: Wednesday, December 26, 2007 8:21 PM
To: Frank Warmerdam
Cc: gdal-dev
Subject: Re: [gdal-dev] GDAL 1.5.0 (RC2) Binaries


On Dec 23, 2007, at 11:43 PM, Frank Warmerdam wrote:

> Folks,
>
> I have prepared GDAL 1.5.0 binaries (based on RC2) and uploaded them  
> at:
>
>  http://download.osgeo.org/gdal/win32/1.5
>
> These are similar to the beta2 binaries, but also include libcurl,  
> enabling
> drivers like WMS, and WCS.


I have completed populating the Python CheeseShop with Python bindings
http://pypi.python.org/pypi/GDAL/

I have also added ECW, MrSID, and GDAL/OGR ArcSDE (9.0, 9.1, and 9.2)  
plugins to the downloads.

Howard
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From woklist at kyngchaos.com  Wed Dec 26 22:34:48 2007
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Dec 26 22:35:07 2007
Subject: [gdal-dev] GDAL linking problems looking for libjpeg.
In-Reply-To: <808CC030-9CE2-420E-ADB3-10C443485CBC@ucsd.edu>
References: <808CC030-9CE2-420E-ADB3-10C443485CBC@ucsd.edu>
Message-ID: <BDD763EF-F7AD-4550-B6C6-78B19AFAE13B@kyngchaos.com>

Well, I see that you configured jpeg with /usr/local/internal.  GDAL  
configure is kindof odd - it builds on previous successes, so even if / 
usr/local/internal is wrong, a previous success with /usr/local/lib  
may cause it to think the jpeg check succeeded.

Or maybe it's as Howard suggested, and you meant to use the internal  
jpeg?

On Dec 26, 2007, at 8:11 PM, John Helly wrote:

> Hi.
>
> I'm building GDAL 1.4.4 on OS X Leopard and have all the requisite  
> libraries installed in /usr/local/xxx where xxx is the relevant  
> library.  I've successfully built GDAL previously a number of times  
> but this time am adding Python support.  I'm using the following  
> bash script to do the configure:
>
> ./configure --prefix=/usr/local/gdal-1.4.4 \
>   --libdir=/usr/local/lib \
>   --with-netcdf=/usr/local/netcdf-3.6.1  \
>   --with-jpeg=/usr/local/internal \
>   --with-png=/usr/local/lib \
>   --with-libtiff=/usr/local/lib \
>   --with-geotiff=/usr/local/lib \
>   --with-geos=yes \
>   --with-perl            \
>   --with-php             \
>   --with-ruby            \
>   --with-python
>
>
> The make gets quite a long way through the build but then I run into  
> this odd reference to libjpeg.62.0.0.dylib that actually exists in / 
> usr/local/lib but the compiler/linker doesn't seem to be able to  
> find it and I'm having difficulty understanding why and how to work  
> around it.  Any suggestions would be much appreciated.
>
> Cheers.
> --------------
> John Helly, University of California, San Diego
> San Diego Supercomputer Center 9500 Gilman Dr. Mail Code 0527, La  
> Jolla CA 92093-0505
> Phone: Voice +01 760 840 8660 mobile / stonesteps (Skype) /  
> stonesteps7 (iChat)
> http://www.sdsc.edu/~hellyj
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
fighting, and all for things that the beasts of the jungle would not  
deign to possess - money to purchase the effeminate pleasures of  
weaklings.  And yet withal bound down by silly customs that make them  
slaves to their unhappy lot while firm in the belief that they be the  
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan


From hobu.inc at gmail.com  Wed Dec 26 23:08:41 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed Dec 26 23:09:38 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
In-Reply-To: <000001c84838$b1f808d0$15e81a70$@com>
References: <476F4715.6000802@pobox.com>
	<69F27A27-7EB7-47A0-9909-8540D1D93401@gmail.com>
	<000001c84838$b1f808d0$15e81a70$@com>
Message-ID: <4913C799-6765-43C0-89BB-F6A7B900A835@gmail.com>


On Dec 26, 2007, at 9:29 PM, Martin Chapman wrote:

> Howard,
>
> How do the plugins work?  Do you compile the plugin against the driver
> library and then distribute the driver and it only loads if the  
> dependent
> format driver is present on the users machine?  Thanks for whatever  
> insight
> you have time to provide.

The plugins work by linking the driver specific code (mrsid, ECW,  
ArcSDE, whatver) into its own dll (for example ogr_SDE.dll -- the OGR  
ArcSDE driver) and then linking that against both the gdal15.dll and  
any driver-specific libraries that the driver might need.

Taking the OGR SDE driver, it links against gdal15.dll, sde91.dll, and  
sg91.dll (maybe a few others too).  When you put this in the  
gdalplugins directory, or override the location where GDAL should look  
with GDAL_DRIVER_PATH, GDAL will recognize the plugin dll because of  
the naming convention and dynamically load and register the driver at  
runtime.

Of course, this only works if the requisite dlls that ogr_SDE.dll (The  
ArcSDE SDK dlls) are available on the path to be loaded at runtime.   
If it can't, you'll sometimes get some rather cryptic error messages.   
I've found the best way to diagnose missing dll loading problems is to  
run from a cmd.exe, where Windows doesn't swallow the popup window  
saying which dll it can't find.

All of the above should apply to .so's on Linux/OSX as well, without  
the Windows misery :)  Of course, building your own on these  
environments isn't as challenging or aggravating, so the plugin  
mechanism isn't as compelling.

Howard
From mchapman at texelinc.com  Thu Dec 27 00:00:52 2007
From: mchapman at texelinc.com (mchapman@texelinc.com)
Date: Thu Dec 27 00:03:44 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
In-Reply-To: <4913C799-6765-43C0-89BB-F6A7B900A835@gmail.com>
References: <476F4715.6000802@pobox.com>
	<69F27A27-7EB7-47A0-9909-8540D1D93401@gmail.com>
	<000001c84838$b1f808d0$15e81a70$@com><4913C799-6765-43C0-89BB-F6A7B900A835@gmail.com>
Message-ID: <1432704156-1198731818-cardhu_decombobulator_blackberry.rim.net-1512389808-@bxe022.bisx.prod.on.blackberry>

Howard,

Thank you very much for that information.  

So, then I assume that a good client process of gdalxx.dll would ensure that the dependencies of the gdal plugins are correctly in the path and would resolve any issues before gdal is loaded?  

Could this be done by removing the plugin dll from the plugin directory if the dependency path could not be validated?

Best regards,
Martin



Sent via BlackBerry by AT&T

-----Original Message-----
From: Howard Butler <hobu.inc@gmail.com>

Date: Wed, 26 Dec 2007 22:08:41 
To:Martin Chapman <mchapman@texelinc.com>
Cc:"'Frank Warmerdam'" <warmerdam@pobox.com>, "'gdal-dev'" <gdal-dev@lists.osgeo.org>
Subject: Re: [gdal-dev] GDAL 1.5.0 (RC2) Binaries



On Dec 26, 2007, at 9:29 PM, Martin Chapman wrote:

> Howard,
>
> How do the plugins work?  Do you compile the plugin against the driver
> library and then distribute the driver and it only loads if the  
> dependent
> format driver is present on the users machine?  Thanks for whatever  
> insight
> you have time to provide.

The plugins work by linking the driver specific code (mrsid, ECW,  
ArcSDE, whatver) into its own dll (for example ogr_SDE.dll -- the OGR  
ArcSDE driver) and then linking that against both the gdal15.dll and  
any driver-specific libraries that the driver might need.

Taking the OGR SDE driver, it links against gdal15.dll, sde91.dll, and  
sg91.dll (maybe a few others too).  When you put this in the  
gdalplugins directory, or override the location where GDAL should look  
with GDAL_DRIVER_PATH, GDAL will recognize the plugin dll because of  
the naming convention and dynamically load and register the driver at  
runtime.

Of course, this only works if the requisite dlls that ogr_SDE.dll (The  
ArcSDE SDK dlls) are available on the path to be loaded at runtime.   
If it can't, you'll sometimes get some rather cryptic error messages.   
I've found the best way to diagnose missing dll loading problems is to  
run from a cmd.exe, where Windows doesn't swallow the popup window  
saying which dll it can't find.

All of the above should apply to .so's on Linux/OSX as well, without  
the Windows misery :)  Of course, building your own on these  
environments isn't as challenging or aggravating, so the plugin  
mechanism isn't as compelling.

Howard
From ari.jolma at tkk.fi  Thu Dec 27 04:06:55 2007
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Thu Dec 27 04:07:51 2007
Subject: [gdal-dev] Re: Layer->InsertFeature
In-Reply-To: <03087DA2-B1FF-11DC-9E67-000A277A733C@light42.com>
References: <03087DA2-B1FF-11DC-9E67-000A277A733C@light42.com>
Message-ID: <47736B2F.7080906@tkk.fi>

Brian Hamlin kirjoitti:
>   Row() and Tuple() calls. These look useful, but without any 
> description, how can they be really used?
> Reading the short lines of documentation on the web site does little 
> to really explain the parameters or how they are written. Following 
> the example code closely, I still do not run..
>
> $layer = $datasource->CreateLayer( 'ptsLyr', undef, 'Point' );
> $layer->Schema( Fields => [ { Name => 'EAS_ID', Type => 'Integer' ),
>         { ShortName => 'String' } ] );
>
> $layer->InsertFeature( { EAS_ID => 0,
>         Geometry => { Points => [3,2] } });
>
> this Points thing .. ??  mysteriously fails...
> Cant Call method Points on an undefined value


Brian,

There are indeed new methods "Row" and "Tuple" in the GDAL-Perl API. The 
idea is to supply one-line methods for getting and setting data of a 
feature or a layer. Both methods are defined for Layer and Feature 
(Geo::OGR::Layer and Geo::OGR::Feature) objects. The methods are 
essentially similar except that "Row" takes a hash and "Tuple" takes a 
list as a parameter, or, if getting data, "Row" returns a hashref and 
"Tuple" returns a list.

If hashes are used, data is referred to with keys: FID, Geometry, or a 
field name. If lists are used, data is in the order: FID, Geometry, 
field names in the order in which they were defined. If hash is used, 
only those fields are set for which data is provided. If list is used 
FID and Geometry may be undefined, and if they are, then they are not 
set. In the get methods, the FID may be undefined, as GetNextFeature is 
then called internally.

The Geometry value in the set method, may be a Geometry 
(Geo::OGR::Geometry) object or a hash from which one can be created 
(using the new "create" constructor). If the geometry type of the layer 
was well defined when it was created, GeometryType does not need to be 
given as it is queried internally. The one can use for example the 
simple "Points" structure.

I admit that these methods may be difficult to understand and hard to 
explain but they should be simple to use. However, the current error 
messages may not be very good if something goes wrong. If I rewrite your 
code as:

$datasource = Geo::OGR::Driver('ESRI Shapefile')->Create('test') or die;
$layer = $datasource->CreateLayer( 'ptsLyr', undef, 'Point' );
$layer->Schema( Fields => [ { Name => 'EAS_ID', Type => 'Integer', Width 
=> 10 }]);
$layer->InsertFeature( { EAS_ID => 0,
                                      Geometry => { Points => [3,2] } });

I get a shapefile, which consists of one feature, and whose schema is 
EAS_ID: Integer (The Width is needed to make sure the type is Integer) 
and point geometry. The one feature has a EAS_ID value 0 and a point 
geometry at (3,2).

Best regards,

Ari


-- 
Prof. Ari Jolma
Geoinformaatio- ja paikannustekniikka / Geoinformation and positioning
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From marcello_ferrero at yahoo.com  Thu Dec 27 05:23:54 2007
From: marcello_ferrero at yahoo.com (marcello ferrero)
Date: Thu Dec 27 05:23:56 2007
Subject: [gdal-dev] 24bit RGB colors raster (PNG or JPEG) to 256 colormap
	TIF conversion
Message-ID: <912309.11468.qm@web60115.mail.yahoo.com>

I would like to know what GDAL "C" API function I have to use to convert 24bit RGB colors PNG/JPG images to 
256 colormap (8 bits) TIF files. I understood this is possible with MapServer using IMAGEMODE=PC256 (converted using the color cube), but I need to do this from my "C" program (a Win32 viewer ) that is already using the gdal lib.

Thanks
Marcello Ferrero
marcello_ferrero@yahoo.com


      ____________________________________________________________________________________
Never miss a thing.  Make Yahoo your home page. 
http://www.yahoo.com/r/hs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071227/a68c74fd/attachment.html
From stpoppy at ptd.net  Thu Dec 27 05:44:31 2007
From: stpoppy at ptd.net (cartrite)
Date: Thu Dec 27 05:47:25 2007
Subject: [gdal-dev] problem w/ libexpat while compiling 1.5.0 on 64-bit RHEL 5
Message-ID: <1198752271.4328.6.camel@linux-o863.site>

Hi John,
I also had problems compiling 1.5 betas with my 64 bit openSuse.
I haven't tried the 1.5.0 release yet. 
When I tried to use ./configure, it tried to link 32 bit libs.
I was able to build with the --without-libtool option in the
./configure line.
Steve Popovich

From stpoppy at ptd.net  Thu Dec 27 05:51:44 2007
From: stpoppy at ptd.net (cartrite)
Date: Thu Dec 27 05:54:38 2007
Subject: [gdal-dev] problem w/ libexpat while compiling 1.5.0 on 64-bit RHEL 5
Message-ID: <1198752704.4328.11.camel@linux-o863.site>

Hi John,
I also had problems compiling 1.5 betas with my 64 bit openSuse.
I haven't tried the 1.5.0 release yet. 
When I tried to use ./configure, it tried to link 32 bit libs.
I was able to build with the --without-libtool option in the
./configure line.
Steve Popovich


From mateusz at loskot.net  Thu Dec 27 06:19:48 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Dec 27 06:19:54 2007
Subject: [gdal-dev] 24bit RGB colors raster (PNG or JPEG) to 256 colormap
	TIF conversion
In-Reply-To: <912309.11468.qm@web60115.mail.yahoo.com>
References: <912309.11468.qm@web60115.mail.yahoo.com>
Message-ID: <47738A54.2090406@loskot.net>

marcello ferrero wrote:
> I would like to know what GDAL "C" API function I have to use to convert 24bit RGB colors PNG/JPG images to 
> 256 colormap (8 bits) TIF files. I understood this is possible with MapServer using IMAGEMODE=PC256 (converted using the color cube), but I need to do this from my "C" program (a Win32 viewer ) that is already using the gdal lib.

Marcello,

You can find all necessary instructions in the GDAL API Tutorial at
http://www.gdal.org/gdal_tutorial.html

Also, I'd suggest to take a look at sources of the gdal_translate
program, especially at how CreateCopy is used:

http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/gdal_translate.cpp#L588

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mitchelljj98 at gmail.com  Thu Dec 27 09:20:40 2007
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Thu Dec 27 09:20:44 2007
Subject: [gdal-dev] gdalwarp: ERROR 1: TIFFFetchStripThing:Sanity check on
	size of "StripOffsets" value failed
Message-ID: <fa2ac0580712270620h2880e307h9b996f2749803a14@mail.gmail.com>

Hi,

When running the below command:

gdalwarp.exe --config GDAL_CACHEMAX 250 -wm 250 -wo SKIP_NOSOURCE=YES -tr
1.1994660564E-5 1.1994660564E-5 -srcnodata "0 0 0" -dstnodata "0 0 1" -rc
-s_srs EPSG:26911 -t_srs EPSG:4326 -co bigtiff=yes  -q --optfile
x:\ProcessingControl\gvwkr02\gvApp2\tmp\inputFiles.txt
"x:\ProcessingControl\gvwkr02\gvApp2\tmp\mosaic_0_161039.tiftemp"

I get the following error:

ERROR>ERROR 1: TIFFFetchStripThing:Sanity check on size of "StripOffsets"
value failed

I have run similar gdalwarp commands against other datasets and have not had
this error.  Also when I run gdalwarp against each one of these files
(that x:\ProcessingControl\gvwkr02\gvApp2\tmp\inputFiles.txt
is referencing) individually I get no error.

Any ideas on what this error means?

Do I have to split up the above gdalwarp mosaicking process into 2 parts and
then mosaic then back together in order to get around this error, or would
increasing the RAM, hard drive space, etc. help to get around this error?


Thanks,


-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071227/bc19004d/attachment.html
From mitchelljj98 at gmail.com  Thu Dec 27 10:39:35 2007
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Thu Dec 27 10:39:37 2007
Subject: [gdal-dev] Re: gdalwarp: ERROR 1: TIFFFetchStripThing:Sanity check
	on size of "StripOffsets" value failed
In-Reply-To: <fa2ac0580712270620h2880e307h9b996f2749803a14@mail.gmail.com>
References: <fa2ac0580712270620h2880e307h9b996f2749803a14@mail.gmail.com>
Message-ID: <fa2ac0580712270739q1cc3ab09n60e57276c77958cb@mail.gmail.com>

It appears that the below error is not preventing the gdalwarp processing
from running but is the below error something to be concerned about?

Thanks,

John

On Dec 27, 2007 9:20 AM, John Mitchell <mitchelljj98@gmail.com> wrote:

> Hi,
>
> When running the below command:
>
> gdalwarp.exe --config GDAL_CACHEMAX 250 -wm 250 -wo SKIP_NOSOURCE=YES -tr
> 1.1994660564E-5 1.1994660564E-5 -srcnodata "0 0 0" -dstnodata "0 0 1" -rc
> -s_srs EPSG:26911 -t_srs EPSG:4326 -co bigtiff=yes  -q --optfile
> x:\ProcessingControl\gvwkr02\gvApp2\tmp\inputFiles.txt
> "x:\ProcessingControl\gvwkr02\gvApp2\tmp\mosaic_0_161039.tiftemp"
>
> I get the following error:
>
> ERROR>ERROR 1: TIFFFetchStripThing:Sanity check on size of "StripOffsets"
> value failed
>
> I have run similar gdalwarp commands against other datasets and have not
> had this error.  Also when I run gdalwarp against each one of these files
> (that x:\ProcessingControl\gvwkr02\gvApp2\tmp\inputFiles.txt is
> referencing) individually I get no error.
>
> Any ideas on what this error means?
>
> Do I have to split up the above gdalwarp mosaicking process into 2 parts
> and then mosaic then back together in order to get around this error, or
> would increasing the RAM, hard drive space, etc. help to get around this
> error?
>
>
> Thanks,
>
>
> --
> John J. Mitchell




-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071227/7129f07f/attachment.html
From John.C.Cartwright at noaa.gov  Thu Dec 27 11:49:13 2007
From: John.C.Cartwright at noaa.gov (John Cartwright)
Date: Thu Dec 27 11:49:15 2007
Subject: [gdal-dev] problem w/ libexpat while compiling 1.5.0 on 64-bit
	RHEL 5
In-Reply-To: <1198752704.4328.11.camel@linux-o863.site>
References: <1198752704.4328.11.camel@linux-o863.site>
Message-ID: <4773D789.8090202@noaa.gov>

Thanks for the suggestion Steve.  What are the implications of not using 
libtool?

-- john


cartrite wrote:
> Hi John,
> I also had problems compiling 1.5 betas with my 64 bit openSuse.
> I haven't tried the 1.5.0 release yet. 
> When I tried to use ./configure, it tried to link 32 bit libs.
> I was able to build with the --without-libtool option in the
> ./configure line.
> Steve Popovich
>
>
>   
From hobu.inc at gmail.com  Thu Dec 27 12:33:55 2007
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Dec 27 12:34:57 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
In-Reply-To: <1432704156-1198731818-cardhu_decombobulator_blackberry.rim.net-1512389808-@bxe022.bisx.prod.on.blackberry>
References: <476F4715.6000802@pobox.com>
	<69F27A27-7EB7-47A0-9909-8540D1D93401@gmail.com>
	<000001c84838$b1f808d0$15e81a70$@com><4913C799-6765-43C0-89BB-F6A7B900A835@gmail.com>
	<1432704156-1198731818-cardhu_decombobulator_blackberry.rim.net-1512389808-@bxe022.bisx.prod.on.blackberry>
Message-ID: <0F165B1E-AA58-4443-97C3-E42661B662E3@gmail.com>


On Dec 26, 2007, at 11:00 PM, mchapman@texelinc.com wrote:

> Howard,
>
> Thank you very much for that information.
>
> So, then I assume that a good client process of gdalxx.dll would  
> ensure that the dependencies of the gdal plugins are correctly in  
> the path and would resolve any issues before gdal is loaded?
>
>

I'm not quite sure what you mean by a good client process, but I'll  
assume you mean an application that embeds GDAL within it.  If it were  
possible to programatically do something like depends.exe to walk  
everything, I guess that would be one way to do it.  Does anyone know  
of code out there that does something like this?  It'd be handy in a  
number of contexts...


> Could this be done by removing the plugin dll from the plugin  
> directory if the dependency path could not be validated?

Yes, if a plugin dll is not in the anointed directory, GDAL should not  
attempt to load it.

Howard
From even.rouault at mines-paris.org  Thu Dec 27 13:27:30 2007
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Dec 27 13:27:35 2007
Subject: [gdal-dev] 24bit RGB colors raster (PNG or JPEG) to 256 colormap
	TIF conversion
In-Reply-To: <47738A54.2090406@loskot.net>
References: <912309.11468.qm@web60115.mail.yahoo.com>
	<47738A54.2090406@loskot.net>
Message-ID: <200712271927.31342.even.rouault@mines-paris.org>

Le Thursday 27 December 2007 12:19:48 Mateusz Loskot, vous avez ?crit?:
> marcello ferrero wrote:
> > I would like to know what GDAL "C" API function I have to use to convert
> > 24bit RGB colors PNG/JPG images to 256 colormap (8 bits) TIF files. I
> > understood this is possible with MapServer using IMAGEMODE=PC256
> > (converted using the color cube), but I need to do this from my "C"
> > program (a Win32 viewer ) that is already using the gdal lib.
>
> Marcello,
>
> You can find all necessary instructions in the GDAL API Tutorial at
> http://www.gdal.org/gdal_tutorial.html
>
> Also, I'd suggest to take a look at sources of the gdal_translate
> program, especially at how CreateCopy is used:
>
> http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/gdal_translate.cpp#L588
>
> Cheers

Hi,

I recently had to port rgb2pct.py into C. I've uploaded the source code at 
http://trac.osgeo.org/gdal/attachment/wiki/CodeSnippets/rgb2pct.c.

There are 2 main interesting functions in GDAL API to convert from 24 bit to 
colormap :
- GDALComputeMedianCutPCT : to compute the optimal palette from the source 
data bands
- GDALDitherRGB2PCT : to generate the new databand from the source data bands 
and the optimal palette.

Best regards,
Even
From Chris.Barker at noaa.gov  Thu Dec 27 14:02:52 2007
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Dec 27 14:02:26 2007
Subject: [gdal-dev] 24bit RGB colors raster (PNG or JPEG) to 256 colormap
	TIF conversion
In-Reply-To: <200712271927.31342.even.rouault@mines-paris.org>
References: <912309.11468.qm@web60115.mail.yahoo.com>
	<47738A54.2090406@loskot.net>
	<200712271927.31342.even.rouault@mines-paris.org>
Message-ID: <4773F6DC.7070306@noaa.gov>

Even Rouault wrote:
> There are 2 main interesting functions in GDAL API to convert from 24 bit to 
> colormap :

While we're talking about this -- does GDAL have built-in functions for 
the reverse -- converting a color map (or pallet, or whatever you want 
to call it) into an RGB image?

-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From even.rouault at mines-paris.org  Thu Dec 27 14:07:53 2007
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Dec 27 14:07:57 2007
Subject: [gdal-dev] 24bit RGB colors raster (PNG or JPEG) to 256 colormap
	TIF conversion
In-Reply-To: <4773F6DC.7070306@noaa.gov>
References: <912309.11468.qm@web60115.mail.yahoo.com>
	<200712271927.31342.even.rouault@mines-paris.org>
	<4773F6DC.7070306@noaa.gov>
Message-ID: <200712272007.53506.even.rouault@mines-paris.org>

Le Thursday 27 December 2007 20:02:52 Christopher Barker, vous avez ?crit?:
> Even Rouault wrote:
> > There are 2 main interesting functions in GDAL API to convert from 24 bit
> > to colormap :
>
> While we're talking about this -- does GDAL have built-in functions for
> the reverse -- converting a color map (or pallet, or whatever you want
> to call it) into an RGB image?
>
> -Chris

No, there's not a single magic call to do that. But you can take inspiration 
from pct2rgb.py.
Basically you get the data for the whole source raster band (by lines), 
iterate on each pixel, look at the relevant entry in the color table, and 
output the r, g, b component into the destination raster data bands.
From ivan.lucena at pmldnet.com  Thu Dec 27 15:31:30 2007
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Dec 27 15:31:46 2007
Subject: [gdal-dev] GDAL 1.5.0 (RC2) Binaries
In-Reply-To: <0F165B1E-AA58-4443-97C3-E42661B662E3@gmail.com>
References: <476F4715.6000802@pobox.com>	<69F27A27-7EB7-47A0-9909-8540D1D93401@gmail.com>	<000001c84838$b1f808d0$15e81a70$@com><4913C799-6765-43C0-89BB-F6A7B900A835@gmail.com>	<1432704156-1198731818-cardhu_decombobulator_blackberry.rim.net-1512389808-@bxe022.bisx.prod.on.blackberry>
	<0F165B1E-AA58-4443-97C3-E42661B662E3@gmail.com>
Message-ID: <47740BA2.9070706@pmldnet.com>

Howard,

That tool, Performance Monitor is the old File Monitor that Microsoft 
bought and is giving away for free:

"FileMon monitors and displays file system activity on a system in 
real-time. Its advanced capabilities make it a powerful tool for 
exploring the way Windows works, seeing how applications use the files 
and DLLs, or tracking down problems in system or application file 
configurations." 
[http://technet.microsoft.com/en-us/sysinternals/bb896642.aspx]

It might help...

Since any application can change the environment variables at anytime 
during the execution it is hard to know what is been loaded and from 
where. I was luck once to load the GDAL project in VC2003 and run a 
binary commercial application and track the GDAL plug-in loading process 
in debug mode.

It might work too.

Best regards,

Ivan


Howard Butler wrote:
> 
> On Dec 26, 2007, at 11:00 PM, mchapman@texelinc.com wrote:
> 
>> Howard,
>>
>> Thank you very much for that information.
>>
>> So, then I assume that a good client process of gdalxx.dll would 
>> ensure that the dependencies of the gdal plugins are correctly in the 
>> path and would resolve any issues before gdal is loaded?
>>
>>
> 
> I'm not quite sure what you mean by a good client process, but I'll 
> assume you mean an application that embeds GDAL within it.  If it were 
> possible to programatically do something like depends.exe to walk 
> everything, I guess that would be one way to do it.  Does anyone know of 
> code out there that does something like this?  It'd be handy in a number 
> of contexts...
> 
> 
>> Could this be done by removing the plugin dll from the plugin 
>> directory if the dependency path could not be validated?
> 
> Yes, if a plugin dll is not in the anointed directory, GDAL should not 
> attempt to load it.
> 
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From bclay at ball.com  Thu Dec 27 17:11:30 2007
From: bclay at ball.com (Clay, Bruce)
Date: Thu Dec 27 17:11:34 2007
Subject: [gdal-dev] OGR precision vs Scale and DateTime values not set
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFD32@daytonmsg2k3.AERO.BALL.COM>

There seems to be a difference in the way ESRI uses precision and scale
to that of OGR.  I don't know which is right.  I am using the c#
libraries include in the FWTools.2.0.3. 

 

OGR does not appear to have a data type of Double when displayed in
ArcMap.  The stored attribute value appear correct but the parameters
are different

I defined the double field as:

 

fieldDef = new FieldDefn("LATITUDE", FieldType.OFTReal);

fieldDef.SetWidth(8);

fieldDef.SetPrecision(38);

 

and ArcMap shows Type = Float, Length = 8, Precision = 7, and Scale = 38

 

Also the DateTime fields are not getting set.  If I use the
DisplayFeature method in the c# createData.cs example, the date time
fields appear to be set properly (2006/10/10 9:00:00) but is I use
ogrinfo -al the the date fields are not set.

 

I have defined them as follows:

 

fieldDef = new FieldDefn("DATE_TIME", FieldType.OFTDateTime);

fieldDef.SetWidth(36);

fieldDef.SetPrecision(0);

 

ArcMap shows Type = Date Length = 8, Precision = 0; scale = 0

 

And I set the value with:

 

fieldIndex = featureDef.GetFieldIndex(shapeFieldList[3].fieldName);

if (fieldIndex >= 0)

{

feature.SetField(fieldIndex, minDate.Year, minDate.Month, minDate.Day,

minDate.Hour, minDate.Minute, minDate.Second, 0);

}

 

I also tried:

feature.SetField(fieldIndex, minDate.ToString("yyyy-MM-dd HH:mm:ss"));

 

but it didn't work either

 

 

Any thoughts as to what I am doing wrong would be greatly appreciated.

 

Bruce




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071227/1667ef4f/attachment.html
From bclay at ball.com  Thu Dec 27 17:43:27 2007
From: bclay at ball.com (Clay, Bruce)
Date: Thu Dec 27 17:43:30 2007
Subject: [gdal-dev] Followup to: DateTime values not set 
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFD33@daytonmsg2k3.AERO.BALL.COM>

I changed the DateTime attribute to just Date and the date value was set
but not the time.  Nothing I do seems to change the field length of any
date time fields.

 

 

Bruce

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071227/d89d0c56/attachment-0001.html
From mchapman at texelinc.com  Thu Dec 27 21:35:15 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Thu Dec 27 21:35:31 2007
Subject: [gdal-dev] Proj4 makefile.vc
Message-ID: <008e01c848fa$47b5cda0$d72168e0$@com>

Frank / Anyone,

 

I don't know if this correct but I was having trouble getting the proj.dll
to load in my MFC exe application in VS2005 in debug mode MDd.  I went into
the makefile.vc for proj and changed the following to match your nmake.opt
compiler settings for debug and now everything works great.  I would imagine
that is ok to do?  This is what I changed it to be:

 

#OPTFLAGS=  /nologo /Zi /MD /Fdproj.pdb

OPTFLAGS=   /nologo /MDd /EHsc /Zi /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /DDEBUG /D_DEBUG /Fd$(PROJ_LIB_DIR)\Fdproj.pdb

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071227/2f519cdd/attachment.html
From stpoppy at ptd.net  Fri Dec 28 02:20:55 2007
From: stpoppy at ptd.net (cartrite)
Date: Fri Dec 28 02:23:46 2007
Subject: [gdal-dev] problem w/ libexpat while compiling 1.5.0 on 64-bit
	RHEL 5
In-Reply-To: <4773D789.8090202@noaa.gov>
References: <1198752704.4328.11.camel@linux-o863.site>
	<4773D789.8090202@noaa.gov>
Message-ID: <1198826455.4318.13.camel@linux-o863.site>

Hi John,
 On 12/12 of this month I recieved a reply from Frank Warmerdam and he
 made the suggestion. I was using a different e-mail account at the time
 so my real name was being used instead of a user name.
 The thread was called Building Gdal 1.5 beta on a 64 bit system.
 http://lists.osgeo.org/pipermail/gdal-dev/2007-December/015256.html
 There may be implications I'm not aware of but I didn't see any.
 Steve 

On Thu, 2007-12-27 at 09:49 -0700, John Cartwright wrote:
> Thanks for the suggestion Steve.  What are the implications of not using 
> libtool?
> 
> -- john
> 
> 
> cartrite wrote:
> > Hi John,
> > I also had problems compiling 1.5 betas with my 64 bit openSuse.
> > I haven't tried the 1.5.0 release yet. 
> > When I tried to use ./configure, it tried to link 32 bit libs.
> > I was able to build with the --without-libtool option in the
> > ./configure line.
> > Steve Popovich
> >
> >
> >   
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

From dmorissette at mapgears.com  Fri Dec 28 08:50:28 2007
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Fri Dec 28 08:50:46 2007
Subject: [gdal-dev] Re: Style usage?
In-Reply-To: <25bc040b0712271531o15b63506md72090796f1a7efd@mail.gmail.com>
References: <25bc040b0712271531o15b63506md72090796f1a7efd@mail.gmail.com>
Message-ID: <4774FF24.80308@mapgears.com>

Stefan Keller wrote:
>  
> 1. Is there also a concept and a way to change style output in an 
> ogr2ogr call, e.g. for KML?
>  

I don't think ogr2ogr supports "changing" the style assigned to a given 
feature or assigning new styles to features, but when translating 
between formats that support styles (e.g. TAB, MIF and DGN) then the 
styles are maintained as much as possible.

With respect to KML, last time I checked I don't think the KML driver 
supported styles, so the answer is no, at the moment it is not possible 
to control the style of the features written to KML output (but 
technically that's feasible and could be implemented someday).

> 2. Regarding the style concept perhaps it would be helpful to mention 
> similarities to SLD and eventually also to Mapfile symbols (if there are 
> any)?
>  

The concept of assigning rendering rules to geometries is shared in both 
cases but that's about it. The terminology (pen/brush/etc vs 
symbolizers) and encoding (compact text strings vs verbose XML) are 
completely different.

SLD also supports building up classifications using filter encoding 
which is not part of the OGR style concept.

Why did OGR invent its own encoding instead of reusing SLD? Mostly 
because the OGR style encoding predates the days when SLD became well 
known (to me anyway) and widely used. But even if we were to do this 
again today I'm not sure if we would opt for a verbose XML encoding... 
we'd probably spend a lot of time debating the performance issues vs the 
benefits of interoperability with SLD.

BTW, this question would really belong on the gdal-dev list, so I have 
cross-posted my reply to gdal-dev (and ask that further replies be sent 
only to gdal-dev).

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From JARED.RUBIN at saic.com  Fri Dec 28 10:50:38 2007
From: JARED.RUBIN at saic.com (Jared Rubin)
Date: Fri Dec 28 10:51:24 2007
Subject: [gdal-dev] question on gdal.py vs gdal.h (C vs python bindings) on
	Using Create()
Message-ID: <200712280850.39092.rubinj@nemesis.tucson.saic.com>

Why is it that the   C/C++ options allow for sending a char** of options but 
the python version doesn't? The C/C++  is useful for sending metatdata to the 
driver, but I can't do this with the python version?
thanks
Jared

from gdal.h

GDALDatasetH CPL_DLL CPL_STDCALL GDALCreate( GDALDriverH hDriver,
                                 const char *, int, int, int, GDALDataType,
                                 char ** );


from gdal.py

def Create(*args, **kwargs):
        """
Create(self, char name, int xsize, int ysize, int bands=1, GDALDataType, 
eType=GDT_Byte, char options=0) -> Dataset

        """
        return _gdal.Driver_Create(*args, **kwargs)
From cjanssen at iavo-rs.com  Fri Dec 28 14:31:59 2007
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Fri Dec 28 14:32:03 2007
Subject: [gdal-dev] Setting up a StatePlane Coordinate system
Message-ID: <EFC7EA4E-FDCA-43B2-8866-C2B2FEDD9366@iavo-rs.com>

Could someone point me to (or provide me) a code snippet that shows how one would go about setting up a State Plane zone based OGR Spatial Reference object. Every attempt I've made has resulted in a SRS object that when used with OGRCreateCoordinateTransformation() function always results in a failure because there is no conversion from it. Thanks

Christiaan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071228/18cb2e08/attachment.html
From mchapman at texelinc.com  Fri Dec 28 14:55:35 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Fri Dec 28 14:55:39 2007
Subject: [gdal-dev] Setting up a StatePlane Coordinate system
In-Reply-To: <EFC7EA4E-FDCA-43B2-8866-C2B2FEDD9366@iavo-rs.com>
References: <EFC7EA4E-FDCA-43B2-8866-C2B2FEDD9366@iavo-rs.com>
Message-ID: <002701c8498b$9d1acc00$d7506400$@com>

Christiaan,

 

Can you send me your projection string and I will validate the projection is
correct and then I will send back the code I used to do it.

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christiaan Janssen
Sent: Friday, December 28, 2007 12:32 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Setting up a StatePlane Coordinate system

 

Could someone point me to (or provide me) a code snippet that shows how one
would go about setting up a State Plane zone based OGR Spatial Reference
object. Every attempt I've made has resulted in a SRS object that when used
with OGRCreateCoordinateTransformation() function always results in a
failure because there is no conversion from it. Thanks

 

Christiaan

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071228/5941aecb/attachment.html
From mchapman at texelinc.com  Fri Dec 28 18:00:12 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Fri Dec 28 18:00:16 2007
Subject: [gdal-dev] Setting up a StatePlane Coordinate system
In-Reply-To: <F9AEE37C-E613-4A69-B475-F62B249025DF@iavo-rs.com>
References: <002701c8498b$9d1acc00$d7506400$@com>
	<F9AEE37C-E613-4A69-B475-F62B249025DF@iavo-rs.com>
Message-ID: <005b01c849a5$677bb090$367311b0$@com>

Christiaan,

 

Looks to me like two issues:

 

1.        Try using this coordinate system def for Alabama East:

 

PROJCS["NAD_1983_StatePlane_Alabama_East_FIPS_0101",GEOGCS["GCS_North_Americ
an_1983",DATUM["D_North_American_1983",SPHEROID["GRS_1980",6378137,298.25722
2101]],PRIMEM["Greenwich",0],UNIT["Degree",0.0174532925199432955]],PROJECTIO
N["Transverse_Mercator"],PARAMETER["False_Easting",200000],PARAMETER["False_
Northing",0],PARAMETER["Central_Meridian",-85.83333333333333],PARAMETER["Sca
le_Factor",0.99996],PARAMETER["Latitude_Of_Origin",30.5],UNIT["Meter",1]]

 

2.       Make sure the proj.dll is able to find the NAD files it depends on
for the transformation that are identified by an environment variable called
PROJ_LIB and the value should be something like c:\proj\nad.  If you don't
have the NAD files you can download them from www.proj4.org.  You can set
this environment variable at run time like so:

 

CPLSetConfigOption("PROJ_LIB", "c:\\proj\\nad");

 

Or you can set it in My Computer settings through the environment variables
dialog manually.

 

Give that a try and let me know how it went.

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: Christiaan Janssen [mailto:cjanssen@iavo-rs.com] 
Sent: Friday, December 28, 2007 1:06 PM
To: Martin Chapman
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system

 

I'm trying to generate a Coordinate Transformation from NAD83 State Plane
Zone 101 (Alabama East) to WGS84 LatLon. Here are the Well Known Texts for
the source and destination:

Source: "LOCAL_CS["State Plane Zone 101 / NAD83",UNIT["Meter",1]]"

Destination: "GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],TOWGS84[0,0,0,0,0,0,0],A
UTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT
["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXI
S["Long",EAST],AUTHORITY["EPSG","4326"]]"

 

I've been successful with UTM<->LatLon but not with the StatePlane based
transformations. And as a side not here's the error message from
CPLGetLastErrorMsg(): 

"No PROJ.4 translation for source SRS, coordinate
transformation initialization has failed."

 

Thanks,

Christiaan

 

  _____  

From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Friday, December 28, 2007 2:56 PM
To: 'Christiaan Janssen';gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system

Christiaan,

 

Can you send me your projection string and I will validate the projection is
correct and then I will send back the code I used to do it.

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christiaan Janssen
Sent: Friday, December 28, 2007 12:32 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Setting up a StatePlane Coordinate system

 

Could someone point me to (or provide me) a code snippet that shows how one
would go about setting up a State Plane zone based OGR Spatial Reference
object. Every attempt I've made has resulted in a SRS object that when used
with OGRCreateCoordinateTransformation() function always results in a
failure because there is no conversion from it. Thanks

 

Christiaan

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071228/2e66835c/attachment-0001.html
From mchapman at texelinc.com  Fri Dec 28 18:03:49 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Fri Dec 28 18:03:54 2007
Subject: [gdal-dev] Setting up a StatePlane Coordinate system
References: <002701c8498b$9d1acc00$d7506400$@com>
	<F9AEE37C-E613-4A69-B475-F62B249025DF@iavo-rs.com> 
Message-ID: <006601c849a5$e8c2a140$ba47e3c0$@com>

Sorry, the proj link is http://proj.maptools.org/.

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Friday, December 28, 2007 4:00 PM
To: 'Christiaan Janssen'
Cc: 'gdal-dev@lists.osgeo.org'
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system

 

Christiaan,

 

Looks to me like two issues:

 

1.        Try using this coordinate system def for Alabama East:

 

PROJCS["NAD_1983_StatePlane_Alabama_East_FIPS_0101",GEOGCS["GCS_North_Americ
an_1983",DATUM["D_North_American_1983",SPHEROID["GRS_1980",6378137,298.25722
2101]],PRIMEM["Greenwich",0],UNIT["Degree",0.0174532925199432955]],PROJECTIO
N["Transverse_Mercator"],PARAMETER["False_Easting",200000],PARAMETER["False_
Northing",0],PARAMETER["Central_Meridian",-85.83333333333333],PARAMETER["Sca
le_Factor",0.99996],PARAMETER["Latitude_Of_Origin",30.5],UNIT["Meter",1]]

 

2.       Make sure the proj.dll is able to find the NAD files it depends on
for the transformation that are identified by an environment variable called
PROJ_LIB and the value should be something like c:\proj\nad.  If you don't
have the NAD files you can download them from www.proj4.org.  You can set
this environment variable at run time like so:

 

CPLSetConfigOption("PROJ_LIB", "c:\\proj\\nad");

 

Or you can set it in My Computer settings through the environment variables
dialog manually.

 

Give that a try and let me know how it went.

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: Christiaan Janssen [mailto:cjanssen@iavo-rs.com] 
Sent: Friday, December 28, 2007 1:06 PM
To: Martin Chapman
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system

 

I'm trying to generate a Coordinate Transformation from NAD83 State Plane
Zone 101 (Alabama East) to WGS84 LatLon. Here are the Well Known Texts for
the source and destination:

Source: "LOCAL_CS["State Plane Zone 101 / NAD83",UNIT["Meter",1]]"

Destination: "GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],TOWGS84[0,0,0,0,0,0,0],A
UTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT
["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXI
S["Long",EAST],AUTHORITY["EPSG","4326"]]"

 

I've been successful with UTM<->LatLon but not with the StatePlane based
transformations. And as a side not here's the error message from
CPLGetLastErrorMsg(): 

"No PROJ.4 translation for source SRS, coordinate
transformation initialization has failed."

 

Thanks,

Christiaan

 

  _____  

From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Friday, December 28, 2007 2:56 PM
To: 'Christiaan Janssen';gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system

Christiaan,

 

Can you send me your projection string and I will validate the projection is
correct and then I will send back the code I used to do it.

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christiaan Janssen
Sent: Friday, December 28, 2007 12:32 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Setting up a StatePlane Coordinate system

 

Could someone point me to (or provide me) a code snippet that shows how one
would go about setting up a State Plane zone based OGR Spatial Reference
object. Every attempt I've made has resulted in a SRS object that when used
with OGRCreateCoordinateTransformation() function always results in a
failure because there is no conversion from it. Thanks

 

Christiaan

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071228/7429e46b/attachment.html
From szekerest at gmail.com  Fri Dec 28 18:41:28 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Dec 28 18:41:31 2007
Subject: [gdal-dev] Re: GDALOverviews.cs gdal 1.5
In-Reply-To: <24800294.966681198884342384.JavaMail.nabble@isper.nabble.com>
References: <24800294.966681198884342384.JavaMail.nabble@isper.nabble.com>
Message-ID: <f3b73b7d0712281541j584083bakeb05a4a37c916d16@mail.gmail.com>

Hi,

It seems the recently added callback support have broken some of the
existing functions at the SWIG C# interface. In order to make this
callback stuff work some typemaps should also be added that I've
originally planned to implement later.
But as looking into the code since the problem is critical and it
seems quite an easy to implement this, I'll commit a fix in the SVN
trunk and the branch 5.0 in a couple of hours.
You can submit a ticket for this problem till then.

http://trac.osgeo.org/gdal/newticket

Best regards,

Tamas




2007/12/29, luizmottanet@hotmail.com <luizmottanet@hotmail.com>:
> I run the example for C#:
> ..\FWTools2.0.4\csharp\apps\GDALOverviews.cs
>
> The method Dataset.BuildOverviews(string resampling, int[] overviewlist)
> make exception: "Attempt to dereference null GDALProgressFunc".
> In the FWTools 2.0.0. this method run perfect.
>
> I read source files where have the exception menssage.
>
> I believe the solution for call in:
> CSharp_Dataset_BuildOverviews and CSharp_Driver_CreateCopy
> where use the pointer to GDALProgressFunc is to not test null argument pass in calls
>
> File:
> ..\gdal-1.5.0\swig\csharp\gdal\gdal_wrap.cpp
>
> Line/Methods:
> a) 2483/SWIGEXPORT void * SWIGSTDCALL CSharp_Driver_CreateCopy(void * jarg1, char * jarg2, void * jarg3, int jarg4, void * jarg5, void * jarg6, void * jarg7)
>
> in line 2501 remove the test
> if (!argp6) ...
>
> b) 4670/SWIGEXPORT int SWIGSTDCALL CSharp_Dataset_BuildOverviews(void * jarg1, char * jarg2, int jarg3, void * jarg4, void * jarg5, void * jarg6)
>
> in line 4686 remove test
> if (!argp5)
>
>
> The null values are test in the other call, how
> ..\gdal-1.5.0\gcore\gdaldataset.cpp
> 1122/CPLErr GDALDataset::BuildOverviews(...
>
> in line 1142 have test for null pointer to argument GDALProgressFunc.
>
> I beginner  in use GDAL (one month) and C# (one year), is difficult for me compile the source, the makefile use very files, and my target is only one.
>
> In the other moment, next year, i would like use the ProgressFunc, where, change the class
> SWIGTYPE_p_GDALProgressFunc.
>
> If you don?t work in this topic, see you next year.
>
> I don?t like leave work for next year, but, this year is end, them
>
> Happy new year !
>
> Thank?s for read the menssage.
> Luiz Motta
>
>
>
>
>
>
From sgillies at frii.com  Fri Dec 28 19:11:02 2007
From: sgillies at frii.com (Sean Gillies)
Date: Fri Dec 28 19:11:06 2007
Subject: [gdal-dev] Replicable Python/GDAL environments
Message-ID: <47759096.8080104@frii.com>

Hi all,

A while back I mentioned how one might use zc.buildout to deploy custom
FWTools-like environments, and now I have a buildout that does exactly
that. If you're curious, you can get the

http://zcologia.com/files/Gdawg.tar.gz

tarball, extract and cd into it, and build GEOS 3.0.0, GDAL 1.5.0, and a
custom Python enviroment containing osgeo.gdal and osgeo.ogr like so:

  $ python bootstrap.py
  $ ./bin/buildout
  $ ./bin/gdawgpy

  >>> from osgeo import ogr, gdal
  >>>

All the familiar utilities are found under parts/libgdal/bin.

Cheers,
Sean



From szekerest at gmail.com  Fri Dec 28 21:03:51 2007
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Dec 28 21:03:55 2007
Subject: [gdal-dev] Re: GDALOverviews.cs gdal 1.5
In-Reply-To: <f3b73b7d0712281541j584083bakeb05a4a37c916d16@mail.gmail.com>
References: <24800294.966681198884342384.JavaMail.nabble@isper.nabble.com>
	<f3b73b7d0712281541j584083bakeb05a4a37c916d16@mail.gmail.com>
Message-ID: <f3b73b7d0712281803u282eebdei5a93386096dbcc3@mail.gmail.com>

I've added a ticket for this issue: http://trac.osgeo.org/gdal/ticket/2122

And applied the fix in SVN trunk and branch-1-5

The GDALProgressFunc callback is now implemented for the C# bindings,
and the GDALOverviews.cs shows how to use this new fuctionality.

The following signatures are now supported for the BuildOverViews function:

- public int BuildOverviews( string resampling, int[] overviewlist)

- public int BuildOverviews( string resampling, int[] overviewlist,
Gdal.GDALProgressFuncDelegate callback, string callback_data)

- public int BuildOverviews(string resampling, int overviewlist,
IntPtr pOverviews, Gdal.GDALProgressFuncDelegate callback, string
callback_data)

(The callback_data is treated as string to keep the marshaling code as
simple as possible.)


Best regards,

Tamas



2007/12/29, Tamas Szekeres <szekerest@gmail.com>:
> Hi,
>
> It seems the recently added callback support have broken some of the
> existing functions at the SWIG C# interface. In order to make this
> callback stuff work some typemaps should also be added that I've
> originally planned to implement later.
> But as looking into the code since the problem is critical and it
> seems quite an easy to implement this, I'll commit a fix in the SVN
> trunk and the branch 5.0 in a couple of hours.
> You can submit a ticket for this problem till then.
>
> http://trac.osgeo.org/gdal/newticket
>
> Best regards,
>
> Tamas
>
>
>
>
> 2007/12/29, luizmottanet@hotmail.com <luizmottanet@hotmail.com>:
> > I run the example for C#:
> > ..\FWTools2.0.4\csharp\apps\GDALOverviews.cs
> >
> > The method Dataset.BuildOverviews(string resampling, int[] overviewlist)
> > make exception: "Attempt to dereference null GDALProgressFunc".
> > In the FWTools 2.0.0. this method run perfect.
> >
> > I read source files where have the exception menssage.
> >
> > I believe the solution for call in:
> > CSharp_Dataset_BuildOverviews and CSharp_Driver_CreateCopy
> > where use the pointer to GDALProgressFunc is to not test null argument pass in calls
> >
> > File:
> > ..\gdal-1.5.0\swig\csharp\gdal\gdal_wrap.cpp
> >
> > Line/Methods:
> > a) 2483/SWIGEXPORT void * SWIGSTDCALL CSharp_Driver_CreateCopy(void * jarg1, char * jarg2, void * jarg3, int jarg4, void * jarg5, void * jarg6, void * jarg7)
> >
> > in line 2501 remove the test
> > if (!argp6) ...
> >
> > b) 4670/SWIGEXPORT int SWIGSTDCALL CSharp_Dataset_BuildOverviews(void * jarg1, char * jarg2, int jarg3, void * jarg4, void * jarg5, void * jarg6)
> >
> > in line 4686 remove test
> > if (!argp5)
> >
> >
> > The null values are test in the other call, how
> > ..\gdal-1.5.0\gcore\gdaldataset.cpp
> > 1122/CPLErr GDALDataset::BuildOverviews(...
> >
> > in line 1142 have test for null pointer to argument GDALProgressFunc.
> >
> > I beginner  in use GDAL (one month) and C# (one year), is difficult for me compile the source, the makefile use very files, and my target is only one.
> >
> > In the other moment, next year, i would like use the ProgressFunc, where, change the class
> > SWIGTYPE_p_GDALProgressFunc.
> >
> > If you don?t work in this topic, see you next year.
> >
> > I don?t like leave work for next year, but, this year is end, them
> >
> > Happy new year !
> >
> > Thank?s for read the menssage.
> > Luiz Motta
> >
> >
> >
> >
> >
> >
>
From mateusz at loskot.net  Sat Dec 29 06:15:32 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Dec 29 06:15:38 2007
Subject: [gdal-dev] Milestone 1.5.0 closed?
Message-ID: <47762C54.4040104@loskot.net>

Dear Team,

Should we close the milestone 1.5.0?

http://trac.osgeo.org/gdal/milestone/1.5.0

Now, it's reported as 1 week late, but we've already issued the release.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mateusz at loskot.net  Sat Dec 29 06:25:05 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Dec 29 06:25:29 2007
Subject: [gdal-dev] Proj4 makefile.vc
In-Reply-To: <008e01c848fa$47b5cda0$d72168e0$@com>
References: <008e01c848fa$47b5cda0$d72168e0$@com>
Message-ID: <47762E91.2080301@loskot.net>

Martin Chapman wrote:
> Frank / Anyone,
> 
> I don't know if this correct but I was having trouble getting the proj.dll
> to load in my MFC exe application in VS2005 in debug mode MDd.  I went into
> the makefile.vc for proj and changed the following to match your nmake.opt
> compiler settings for debug and now everything works great.  I would imagine
> that is ok to do?  This is what I changed it to be:
> 
> #OPTFLAGS=  /nologo /Zi /MD /Fdproj.pdb
> 
> OPTFLAGS=   /nologo /MDd /EHsc /Zi /D_CRT_SECURE_NO_DEPRECATE
> /D_CRT_NONSTDC_NO_DEPRECATE /DDEBUG /D_DEBUG /Fd$(PROJ_LIB_DIR)\Fdproj.pdb

Martin,

These debug flags is a kind of minimal required set of flags and
do not include all necessary flags between Visual C++ versions.
AFAIU, it's intentional to leave customization of OPTFLAGS to a user.
Your version of flags looks correct to me, for Visual C++ 8.0 (2005).


BTW, I believe this post belongs to proj list than gdal-dev,
so I've added it to CC.

http://lists.maptools.org/mailman/listinfo/proj

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mchapman at texelinc.com  Sat Dec 29 09:38:20 2007
From: mchapman at texelinc.com (mchapman@texelinc.com)
Date: Sat Dec 29 09:41:17 2007
Subject: [gdal-dev] Proj4 makefile.vc
In-Reply-To: <47762E91.2080301@loskot.net>
References: <008e01c848fa$47b5cda0$d72168e0$@com><47762E91.2080301@loskot.net>
Message-ID: <1074934298-1198939268-cardhu_decombobulator_blackberry.rim.net-1228279832-@bxe022.bisx.prod.on.blackberry>

Mateusz,

Thank you for validating that.  I was hoping that was case. By the way, I'm really liking 1.5.0.  There are a ton of great new features and things have been working really solid. Great job.

Best regards,

Martin 



 
Sent via BlackBerry by AT&T

-----Original Message-----
From: Mateusz Loskot <mateusz@loskot.net>

Date: Sat, 29 Dec 2007 12:25:05 
To:Martin Chapman <mchapman@texelinc.com>
Cc:'Frank Warmerdam' <warmerdam@pobox.com>, gdal-dev@lists.osgeo.org, proj <proj@lists.maptools.org>
Subject: Re: [gdal-dev] Proj4 makefile.vc


Martin Chapman wrote:
> Frank / Anyone,
> 
> I don't know if this correct but I was having trouble getting the proj.dll
> to load in my MFC exe application in VS2005 in debug mode MDd.  I went into
> the makefile.vc for proj and changed the following to match your nmake.opt
> compiler settings for debug and now everything works great.  I would imagine
> that is ok to do?  This is what I changed it to be:
> 
> #OPTFLAGS=  /nologo /Zi /MD /Fdproj.pdb
> 
> OPTFLAGS=   /nologo /MDd /EHsc /Zi /D_CRT_SECURE_NO_DEPRECATE
> /D_CRT_NONSTDC_NO_DEPRECATE /DDEBUG /D_DEBUG /Fd$(PROJ_LIB_DIR)\Fdproj.pdb

Martin,

These debug flags is a kind of minimal required set of flags and
do not include all necessary flags between Visual C++ versions.
AFAIU, it's intentional to leave customization of OPTFLAGS to a user.
Your version of flags looks correct to me, for Visual C++ 8.0 (2005).


BTW, I believe this post belongs to proj list than gdal-dev,
so I've added it to CC.

http://lists.maptools.org/mailman/listinfo/proj

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From mateusz at loskot.net  Sat Dec 29 10:15:04 2007
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Dec 29 10:15:18 2007
Subject: [gdal-dev] Proj4 makefile.vc
In-Reply-To: <1074934298-1198939268-cardhu_decombobulator_blackberry.rim.net-1228279832-@bxe022.bisx.prod.on.blackberry>
References: <008e01c848fa$47b5cda0$d72168e0$@com><47762E91.2080301@loskot.net>
	<1074934298-1198939268-cardhu_decombobulator_blackberry.rim.net-1228279832-@bxe022.bisx.prod.on.blackberry>
Message-ID: <47766478.9010501@loskot.net>

mchapman@texelinc.com wrote:
> Mateusz,
> 
> Thank you for validating that.  I was hoping that was case. By the
> way, I'm really liking 1.5.0.  There are a ton of great new features
> and things have been working really solid. Great job.

That's great to hear that. Thanks on behalf the team.

Cheers
-- 
Mateusz Loskot
http://mateusz.loskot.net
From even.rouault at mines-paris.org  Sat Dec 29 11:55:51 2007
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Dec 29 11:55:57 2007
Subject: [gdal-dev] New RFC : RFC 19 - Safer memory allocation in GDAL
Message-ID: <200712291755.52568.even.rouault@mines-paris.org>

Hi all,

I've written a new RFC (http://trac.osgeo.org/gdal/wiki/rfc19_safememalloc) 
that is a proposal to avoid under memory allocations due to multiplication 
overflows.

This proposal is opened to discussion.

Best regards,
Even
From warmerdam at pobox.com  Sat Dec 29 14:54:02 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Dec 29 14:54:10 2007
Subject: [Gdal-dev] RE: ogr2ogr to PostGIS gives wrong SRID?
In-Reply-To: <4772C98E.6000106@o2.pl>
References: <20070221214327.28CCE62D599@mpls-qmqp-05.inet.qwest.net>
	<4772C98E.6000106@o2.pl>
Message-ID: <4776A5DA.7030503@pobox.com>

Maciej Sieczka wrote:
> Frank suggests the reason of Randy's problem was that OGR
> could not find a match for his EPSG:4326 translated into
> WKT. Is it my case too? I can see that "SELECT srtext FROM
> spatial_ref_sys WHERE srid=2180" and "SELECT srtext FROM
> spatial_ref_sys WHERE srid=32767" yield exactly the same
> result, only the order of few tags is different.

Maciej,

It is an exact string comparison, so minor formatting,
precision and ordering changes will result in a failure to
match.

> If the comparison of OGR's EPSG->WKT with PostGIS's "srtext"
> is error-prone, could OGR instead just look-up the
> spatial_ref_sys table for "auth_srid" equal to the EPSG code
> specified, check if "auth_name" is "EPSG" and use the
> "auth_srid" value then? That would guarantee that a correct
> EPSG code is used; see:
> 
> SELECT srid,auth_name,auth_srid FROM spatial_ref_sys WHERE
> auth_srid=2180;
> 
>  srid | auth_name | auth_srid
> ------+-----------+-----------
>  2180 | EPSG      |      2180

For OGR spatial references with an authority code set, this
would be a valuable pre-search, but it is at most a special
case (though a reasonable common one).

> Hmm, actualy, all "auth_name" fields in my spatial_ref_sys
> are "EPSG", and all "srid" and "auth_srid" are the same; but
> that's maybe just me:

This is common but by no means guaranteed.  It would be
wrong to depend on it.

I'd suggest you search for existing open tickets against the postgis
driver on this issue, and append some of the above notes.  In particular
the suggestion to first search based on the authority id if it is available.

Hopefully Mateusz can work on some improvements in this area in the coming
months.

I don't have any particular suggested work around at this time.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From warmerdam at pobox.com  Sat Dec 29 15:19:55 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Dec 29 15:20:01 2007
Subject: [gdal-dev] OGR precision vs Scale and DateTime values not set
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34FEFD32@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34FEFD32@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <4776ABEB.2000508@pobox.com>

Clay, Bruce wrote:
> There seems to be a difference in the way ESRI uses precision and scale 
> to that of OGR.  I don?t know which is right.  I am using the c# 
> libraries include in the FWTools.2.0.3.
> 
> OGR does not appear to have a data type of Double when displayed in 
> ArcMap.  The stored attribute value appear correct but the parameters 
> are different
> 
> I defined the double field as:
> 
>  
> 
> fieldDef = new FieldDefn(?LATITUDE?, FieldType.OFTReal);
> 
> fieldDef.SetWidth(8);
> 
> fieldDef.SetPrecision(38);
 >
> and ArcMap shows Type = Float, Length = 8, Precision = 7, and Scale = 38

Bruce,

I'm not sure what ESRI means by Scale. But for OGR precision should be
less than width.  That is width specifies the full width of the field
and precision indicates how many characters of the field are used for
the decimal places.  So "123.456" would have a width of seven and a
precision of three.

> Also the DateTime fields are not getting set.  If I use the 
> DisplayFeature method in the c# createData.cs example, the date time 
> fields appear to be set properly (2006/10/10 9:00:00) but is I use 
> ogrinfo ?al the the date fields are not set.

Are you working with Shapefiles?  I think the shapefile driver only
supports date fields, not datetime or time.  But I would expect that
at least the date would be handled.  If you can file a bug demonstrating
broken OFTDate field support, I would appreciate that.

PS. OFTDateTime is *supposed* to be automatically treated as
OFTDate internally.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Sat Dec 29 15:23:58 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Dec 29 15:24:03 2007
Subject: [gdal-dev] Testing if two spatial references are the same
In-Reply-To: <4772BB14.7080306@perkins.net>
References: <4772B84F.4070601@perkins.net> <4772BB14.7080306@perkins.net>
Message-ID: <4776ACDE.6010909@pobox.com>

Simon Perkins wrote:
> Hmm, looking at the projection string in more detail and comparing with 
> the OGR source code, I see that it doesn't include a "PROJECTION" node, 
> which OGR.IsSame() checks for.
> 
> PROJCS["unnamed",
>   GEOGCS["NAD83",
>       DATUM["North_American_Datum_1983",
>           SPHEROID["GRS 1980",6378137,298.2572221010002,
>               AUTHORITY["EPSG","7019"]],
>           AUTHORITY["EPSG","6269"]],
>       PRIMEM["Greenwich",0],
>       UNIT["degree",0.0174532925199433],
>       AUTHORITY["EPSG","4269"]],
>   UNIT["US survey foot",0.3048006096012192,
>       AUTHORITY["EPSG","9003"]],
>   AUTHORITY["EPSG","26942"]]
> 
> So, is the TIFF file this came from missing some information? It was 
> just a file I found on the web... It does have an EPSG code, so should 
> IsSame() be checking for that?

Simon,

There is something seriously messed up abut this coordinate system.
Normally EPSG:26942 would look like:

PROJCS["NAD83 / California zone 2",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.257222101,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0,
             AUTHORITY["EPSG","8901"]],
         UNIT["degree",0.01745329251994328,
             AUTHORITY["EPSG","9122"]],
         AUTHORITY["EPSG","4269"]],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     PROJECTION["Lambert_Conformal_Conic_2SP"],
     PARAMETER["standard_parallel_1",39.83333333333334],
     PARAMETER["standard_parallel_2",38.33333333333334],
     PARAMETER["latitude_of_origin",37.66666666666666],
     PARAMETER["central_meridian",-122],
     PARAMETER["false_easting",2000000],
     PARAMETER["false_northing",500000],
     AUTHORITY["EPSG","26942"]]

The behavior of the IsSame() method is questionable in
this situation, but in any event the spatial reference is
improperly formed.  I'd be interested in tracking down how
this corrupt coordinate system is being produced if you can
file an appropriate bug report.

Best regards

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Sat Dec 29 18:29:12 2007
From: tutey at o2.pl (Maciej Sieczka)
Date: Sat Dec 29 18:29:34 2007
Subject: [Gdal-dev] RE: ogr2ogr to PostGIS gives wrong SRID?
In-Reply-To: <4776A5DA.7030503@pobox.com>
References: <20070221214327.28CCE62D599@mpls-qmqp-05.inet.qwest.net>
	<4772C98E.6000106@o2.pl> <4776A5DA.7030503@pobox.com>
Message-ID: <4776D848.4010003@o2.pl>

Frank Warmerdam wrote:
> Maciej Sieczka wrote:

>> If the comparison of OGR's EPSG->WKT with PostGIS's "srtext"
>> is error-prone, could OGR instead just look-up the
>> spatial_ref_sys table for "auth_srid" equal to the EPSG code
>> specified, check if "auth_name" is "EPSG" and use the
>> "auth_srid" value then? That would guarantee that a correct
>> EPSG code is used; see:
>>
>> SELECT srid,auth_name,auth_srid FROM spatial_ref_sys WHERE
>> auth_srid=2180;
>>
>>  srid | auth_name | auth_srid
>> ------+-----------+-----------
>>  2180 | EPSG      |      2180

> For OGR spatial references with an authority code set, this
> would be a valuable pre-search, but it is at most a special
> case (though a reasonable common one).

FWIW, it's a PostGIS default.

>> Hmm, actualy, all "auth_name" fields in my spatial_ref_sys
>> are "EPSG", and all "srid" and "auth_srid" are the same; but
>> that's maybe just me:

> I'd suggest you search for existing open tickets against the postgis
> driver on this issue, and append some of the above notes.  In particular
> the suggestion to first search based on the authority id if it is
> available.

I couldn't find any open ticket on a related issue. Created
a new one [1].

> Hopefully Mateusz can work on some improvements in this area in the coming
> months.

That'd be great. Thanks.

Maciek

[1]http://trac.osgeo.org/gdal/ticket/2123
From warmerdam at pobox.com  Sat Dec 29 20:04:45 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Dec 29 20:04:49 2007
Subject: [gdal-dev] New RFC : RFC 19 - Safer memory allocation in GDAL
In-Reply-To: <200712291755.52568.even.rouault@mines-paris.org>
References: <200712291755.52568.even.rouault@mines-paris.org>
Message-ID: <4776EEAD.6050309@pobox.com>

Even Rouault wrote:
> Hi all,
> 
> I've written a new RFC (http://trac.osgeo.org/gdal/wiki/rfc19_safememalloc) 
> that is a proposal to avoid under memory allocations due to multiplication 
> overflows.
> 
> This proposal is opened to discussion.

Even,

A bit of preliminary feedback:

  o I'd like to see the CPL prefix used instead of VSI.  VSI is supposed
    to stand for "Virtual Systems Interface" and is intended to wrap lower
    level system stuff, while CPL is used as the prefix for higher level
    convenience stuff.

  o I'd like to see a CPLSafeMalloc2(x,y) and CPLSafeMalloc3(x,y,z) that
    would use the Mult functions, and if an overflow occurs issue an error
    and return NULL.  The caller should be able to just check for a NULL
    result and return if NULL knowing that a CPLError had already been
    issued.  I think this would make use of the 'overflow safe allocation'
    easier (and less verbose) to deploy in many places.

I'm generally supportive of this initiative though it isn't a problem
I've found a great issue myself.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From matt.wilkie at gov.yk.ca  Tue Dec 11 12:26:06 2007
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Sat Dec 29 20:17:13 2007
Subject: [gdal-dev] change in ECW license agreement
Message-ID: <475EC609.6050105@gov.yk.ca>

Hello Folks,

In recent discussion with a sales representative ER Mapper, now owned by
Leica Geosystems Geospatial Imaging, it came to light that there is a
new End User License Agreement in effect for the ECW/JP2 SDK, as of this
week. (I'm trying to determine what license we need to buy in order to
use gdal_translate to create ecw larger than 500mb).

The new EULA mentions open source projects specifically in a couple of
provisions.  I'm not going to go so far as to interpret them, because
I'll probably get it wrong! From my limited understanding it does look
like some things might need to be changed in how GDAL packages and
distributes the ECW driver, and that an organisation which uses open
source ecw-using tools to produce products it sells might be considered
commercial use(?).

In any case, there are people here who the changes will impact and would
want to be aware of it. If the attached document does not make it
through, the EULA can be found at
http://www.ermapper.com/Downloads.aspx?v=315 (after free registration,
the EULA will be shown before download begins).

Best regards,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ECW_JP2_CODEC_SDK_v2.1.doc
Type: application/msword
Size: 65024 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071211/b56162d5/ECW_JP2_CODEC_SDK_v2.1-0001.doc
From even.rouault at mines-paris.org  Sun Dec 30 05:39:38 2007
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Dec 30 05:39:44 2007
Subject: [gdal-dev] New RFC : RFC 19 - Safer memory allocation in GDAL
In-Reply-To: <4776EEAD.6050309@pobox.com>
References: <200712291755.52568.even.rouault@mines-paris.org>
	<4776EEAD.6050309@pobox.com>
Message-ID: <200712301139.39692.even.rouault@mines-paris.org>

Frank,

thank you for the feedback. I've taken your remarks into account and revised 
the RFC accordingly.

A question : while looking at CPLMalloc implementation, I've noticed there's a 
call to CPLVerifyConfiguration. Is there a particular reason for this 
function to be called here / are there situations where the checks fail ... ? 
CPLMalloc also seems to be the unique function to use CPLVerifyConfiguration. 
I'm just curious why it is needed there and not at other places. We could 
imagine that these checks could be done once, early at GDAL or OGR 
initialization, for example in GDALAllRegister or OGRRegisterAll.
The practical question is : do I need to call CPLVerifyConfiguration in 
CPLSafeMallocX ?

Best regards.

Le Sunday 30 December 2007 02:04:45 Frank Warmerdam, vous avez ?crit?:
> Even Rouault wrote:
> > Hi all,
> >
> > I've written a new RFC
> > (http://trac.osgeo.org/gdal/wiki/rfc19_safememalloc) that is a proposal
> > to avoid under memory allocations due to multiplication overflows.
> >
> > This proposal is opened to discussion.
>
> Even,
>
> A bit of preliminary feedback:
>
>   o I'd like to see the CPL prefix used instead of VSI.  VSI is supposed
>     to stand for "Virtual Systems Interface" and is intended to wrap lower
>     level system stuff, while CPL is used as the prefix for higher level
>     convenience stuff.
>
>   o I'd like to see a CPLSafeMalloc2(x,y) and CPLSafeMalloc3(x,y,z) that
>     would use the Mult functions, and if an overflow occurs issue an error
>     and return NULL.  The caller should be able to just check for a NULL
>     result and return if NULL knowing that a CPLError had already been
>     issued.  I think this would make use of the 'overflow safe allocation'
>     easier (and less verbose) to deploy in many places.
>
> I'm generally supportive of this initiative though it isn't a problem
> I've found a great issue myself.
>
> Best regards,


From neteler at osgeo.org  Sun Dec 30 08:46:03 2007
From: neteler at osgeo.org (Markus Neteler)
Date: Sun Dec 30 08:46:06 2007
Subject: [gdal-dev] OGR precision vs Scale and DateTime values not set
In-Reply-To: <4776ABEB.2000508@pobox.com>
References: <C482FF98AE985A47B8C982FD429C9E34FEFD32@daytonmsg2k3.AERO.BALL.COM>
	<4776ABEB.2000508@pobox.com>
Message-ID: <86782b610712300546kb0bac64v6de6edca1026dba8@mail.gmail.com>

On Dec 29, 2007 9:19 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Clay, Bruce wrote:
...
> > Also the DateTime fields are not getting set.  If I use the
> > DisplayFeature method in the c# createData.cs example, the date time
> > fields appear to be set properly (2006/10/10 9:00:00) but is I use
> > ogrinfo ?al the the date fields are not set.
>
> Are you working with Shapefiles?  I think the shapefile driver only
> supports date fields, not datetime or time.  But I would expect that
> at least the date would be handled.  If you can file a bug demonstrating
> broken OFTDate field support, I would appreciate that.

It would be a nice-to-have also for GRASS:

cd grass63/db/drivers/dbf
[neteler@localhost dbf]$ grep -i date *
...
dbfexe.c:       case (SQLP_DATE):  /* DATE treated as string unless
SHAPELIB/DBFLIB supports date type */

This is a working but ugly approach...

Markus
From mchapman at texelinc.com  Sun Dec 30 23:01:08 2007
From: mchapman at texelinc.com (Martin Chapman)
Date: Sun Dec 30 23:01:17 2007
Subject: [gdal-dev] OGRRegisterAll memory leak
Message-ID: <001201c84b61$c6186ea0$52494be0$@com>

I have a concern about OGRSFDriverRegistrar.  It appears that when I call
OGRRegisterAll()  the following function is called:

 

OGRSFDriverRegistrar::GetRegistrar()->AutoLoadDrivers();

 

That calls:

 

OGRSFDriverRegistrar *OGRSFDriverRegistrar::GetRegistrar()

 

{

    CPLMutexHolderD( &hDRMutex );

    

    if( poRegistrar == NULL )

        poRegistrar = new OGRSFDriverRegistrar();

 

    return poRegistrar;

}

 

Where poRegistrar is being allocated and is suppose to be destroyed in:

 

void OGRCleanupAll()

 

{

    CPLMutexHolderD( &hDRMutex );

 

    if( poRegistrar != NULL )

        delete poRegistrar;

    OSRCleanup();

    CPLFinderClean();

    VSICleanupFileManager();

    CPLFreeConfig();

    CPLCleanupTLS();

}

 

But that function (OGRCleanupAll) never gets called when my application
closes.  Question: Am I suppose to be calling some method to deallocate
objects allocated in the call to OGRRegisterAll() or is this a bug in
GetRegistrar() or AutoLoadDrivers()?  Should OGRCleanupAll() be called in
that function?

 

I found OGRCleanupAll() declared in ogr_api.h with the following comments
but OGRCleanupAll() is not declared in ogrsf_frmts.h as indicated.

 

/* note: this is also declared in ogrsf_frmts.h */

void CPL_DLL OGRRegisterAll(void);

void CPL_DLL OGRCleanupAll(void);

 

When I inlcude ogr_api,h and call OGRCleanupAll() in my desctructor then all
the memory leaks go away and since OGRCleanupAll() is not being called
anywhere else and as far as I can tell from the website is undocumented
which can easily lead to user created memory leaks.  Thought you guys would
like to know that. Please correct me if I am missing something. 

 

Best regards,

 

Martin Chapman

Chief Software Architect

Fortified Datacom Inc.

http://www.fortifieddatacom.com

mchapman@fortifieddatacom.com

303-324-1065

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071230/8f721bf5/attachment.html
From warmerdam at pobox.com  Mon Dec 31 09:16:29 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 31 09:16:24 2007
Subject: [gdal-dev] OGRRegisterAll memory leak
In-Reply-To: <001201c84b61$c6186ea0$52494be0$@com>
References: <001201c84b61$c6186ea0$52494be0$@com>
Message-ID: <4778F9BD.7050107@pobox.com>

Martin Chapman wrote:
> I have a concern about OGRSFDriverRegistrar.  It appears that when I 
> call OGRRegisterAll()  the following function is called:
> 
> OGRSFDriverRegistrar::GetRegistrar()->AutoLoadDrivers();
> 
> That calls:
> 
> OGRSFDriverRegistrar *OGRSFDriverRegistrar::GetRegistrar()
...
> Where poRegistrar is being allocated and is suppose to be destroyed in:
> 
> void OGRCleanupAll()
...
> But that function (OGRCleanupAll) never gets called when my application 
> closes.  Question: Am I suppose to be calling some method to deallocate 
> objects allocated in the call to OGRRegisterAll() or is this a bug in 
> GetRegistrar() or AutoLoadDrivers()?  Should OGRCleanupAll() be called 
> in that function?

Martin,

This is the expected operation.

> I found OGRCleanupAll() declared in ogr_api.h with the following 
> comments but OGRCleanupAll() is not declared in ogrsf_frmts.h as indicated.
> 
> /* note: this is also declared in ogrsf_frmts.h */
> 
> void CPL_DLL OGRRegisterAll(void);
> 
> void CPL_DLL OGRCleanupAll(void);

The comment about also being declared in ogrsf_frmts.h appears to only
apply to the OGRRegisterAll().

> When I inlcude ogr_api,h and call OGRCleanupAll() in my desctructor then 
> all the memory leaks go away and since OGRCleanupAll() is not being 
> called anywhere else and as far as I can tell from the website is 
> undocumented which can easily lead to user created memory leaks.  
> Thought you guys would like to know that. Please correct me if I am 
> missing something.

Note that the memory leaks are "one time" leaks for the singleton
registrar.  Multiple calls to OGRRegisterAll() will not increase the
memory used.  OGRCleanupAll() is mainly intended for use when developers
wish to do memory leak testing, and want to clean away all known
"one time" allocations on exit.

I have added improved documentation on OGRSFDriverRegistrar and
OGRCleanupAll() in trunk that will hopefully make this somewhat
clearer for folks in the future.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From cjanssen at iavo-rs.com  Mon Dec 31 09:19:12 2007
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Mon Dec 31 09:19:31 2007
Subject: [gdal-dev] Setting up a StatePlane Coordinate system
In-Reply-To: <006601c849a5$e8c2a140$ba47e3c0$@com>
Message-ID: <7C926644-2FCA-430C-A5A0-024A9C81DA32@iavo-rs.com>

So the coordinate system def you provided works, which is great, but I was wondering if you could show me how to programmaticaly generate a state plane based coordinate system object in code. I've been using the following (which I know isn't working for me)

int StatePlaneZone = 101;    //Alabama East
int isNad83 = 1;                    //True
OGRSpatialReference* ogrsr = new OGRSpatialReference();
ogrsr->SetProjCS(zoneTitle);
ogrsr->SetStatePlane(statePlaneZone, isNAD83, NULL, NULL);

This is obviously not working based on what the well known text string generated from this object is. Could you help clarify what I'm doing wrong, thanks.

Christiaan




From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Friday, December 28, 2007 6:04 PM
To: 'Christiaan Janssen'
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system


Sorry, the proj link is http://proj.maptools.org/.
 
Martin Chapman
Chief Software Architect
Fortified Datacom Inc.
http://www.fortifieddatacom.com
mchapman@fortifieddatacom.com
303-324-1065
 
From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Friday, December 28, 2007 4:00 PM
To: 'Christiaan Janssen'
Cc: 'gdal-dev@lists.osgeo.org'
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system
 
Christiaan,
 
Looks to me like two issues:
 
1.        Try using this coordinate system def for Alabama East:
 
PROJCS["NAD_1983_StatePlane_Alabama_East_FIPS_0101",GEOGCS["GCS_North_American_1983",DATUM["D_North_American_1983",SPHEROID["GRS_1980",6378137,298.257222101]],PRIMEM["Greenwich",0],UNIT["Degree",0.0174532925199432955]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",200000],PARAMETER["False_Northing",0],PARAMETER["Central_Meridian",-85.83333333333333],PARAMETER["Scale_Factor",0.99996],PARAMETER["Latitude_Of_Origin",30.5],UNIT["Meter",1]]
 
2.       Make sure the proj.dll is able to find the NAD files it depends on for the transformation that are identified by an environment variable called PROJ_LIB and the value should be something like c:\proj\nad.  If you don't have the NAD files you can download them from www.proj4.org.  You can set this environment variable at run time like so:
 
CPLSetConfigOption("PROJ_LIB", "c:\\proj\\nad");
 
Or you can set it in My Computer settings through the environment variables dialog manually.
 
Give that a try and let me know how it went.
 
Best regards,
 
Martin Chapman
Chief Software Architect
Fortified Datacom Inc.
http://www.fortifieddatacom.com
mchapman@fortifieddatacom.com
303-324-1065
 
From: Christiaan Janssen [mailto:cjanssen@iavo-rs.com] 
Sent: Friday, December 28, 2007 1:06 PM
To: Martin Chapman
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system
 
I'm trying to generate a Coordinate Transformation from NAD83 State Plane Zone 101 (Alabama East) to WGS84 LatLon. Here are the Well Known Texts for the source and destination:
Source: "LOCAL_CS["State Plane Zone 101 / NAD83",UNIT["Meter",1]]"
Destination: "GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXIS["Long",EAST],AUTHORITY["EPSG","4326"]]"
 
I've been successful with UTM<->LatLon but not with the StatePlane based transformations. And as a side not here's the error message from CPLGetLastErrorMsg(): 
"No PROJ.4 translation for source SRS, coordinate
transformation initialization has failed."
 
Thanks,
Christiaan
 



From: Martin Chapman [mailto:mchapman@texelinc.com] 
Sent: Friday, December 28, 2007 2:56 PM
To: 'Christiaan Janssen';gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Setting up a StatePlane Coordinate system
Christiaan,
 
Can you send me your projection string and I will validate the projection is correct and then I will send back the code I used to do it.
 
Martin Chapman
Chief Software Architect
Fortified Datacom Inc.
http://www.fortifieddatacom.com
mchapman@fortifieddatacom.com
303-324-1065
 
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christiaan Janssen
Sent: Friday, December 28, 2007 12:32 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Setting up a StatePlane Coordinate system
 
Could someone point me to (or provide me) a code snippet that shows how one would go about setting up a State Plane zone based OGR Spatial Reference object. Every attempt I've made has resulted in a SRS object that when used with OGRCreateCoordinateTransformation() function always results in a failure because there is no conversion from it. Thanks
 
Christiaan
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20071231/54993a9a/attachment-0001.html
From warmerdam at pobox.com  Mon Dec 31 09:46:50 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 31 09:46:49 2007
Subject: [gdal-dev] Setting up a StatePlane Coordinate system
In-Reply-To: <7C926644-2FCA-430C-A5A0-024A9C81DA32@iavo-rs.com>
References: <7C926644-2FCA-430C-A5A0-024A9C81DA32@iavo-rs.com>
Message-ID: <477900DA.7020306@pobox.com>

Christiaan Janssen wrote:
> So the coordinate system def you provided works, which is great, but I 
> was wondering if you could show me how to programmaticaly generate a 
> state plane based coordinate system object in code. I've been using the 
> following (which I know isn't working for me)
>  
> int StatePlaneZone = 101;    //Alabama East
> int isNad83 = 1;                    //True
> OGRSpatialReference* ogrsr = new OGRSpatialReference();
> ogrsr->SetProjCS(zoneTitle);
> ogrsr->SetStatePlane(statePlaneZone, isNAD83, NULL, NULL);
>  
> This is obviously not working based on what the well known text string 
> generated from this object is. Could you help clarify what I'm doing 
> wrong, thanks.

Christiaan,

I haven't followed this thread closely, but the above steps (simulated
through the python bindings) did produce this for me:

PROJCS["NAD83 / Alabama East",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.257222101,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0,
             AUTHORITY["EPSG","8901"]],
         UNIT["degree",0.01745329251994328,
             AUTHORITY["EPSG","9122"]],
         AUTHORITY["EPSG","4269"]],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",30.5],
     PARAMETER["central_meridian",-85.83333333333333],
     PARAMETER["scale_factor",0.99996],
     PARAMETER["false_easting",200000],
     PARAMETER["false_northing",0],
     AUTHORITY["EPSG","26929"]]

The original zone title is discarded when things are reset by SetStatePlane().
The title can be reset after SetStatePlane() using the SetProjCS() method.

Note that SetStatePlane() depends on the OGRSpatialReference class being
able to find and load various GDAL support files, like stateplane.csv and
pcs.csv.

I appologise if I missed the point of this thread.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Mon Dec 31 11:17:55 2007
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Dec 31 11:17:46 2007
Subject: [gdal-dev] New RFC : RFC 19 - Safer memory allocation in GDAL
In-Reply-To: <200712301139.39692.even.rouault@mines-paris.org>
References: <200712291755.52568.even.rouault@mines-paris.org>
	<4776EEAD.6050309@pobox.com>
	<200712301139.39692.even.rouault@mines-paris.org>
Message-ID: <47791633.5090508@pobox.com>

Even Rouault wrote:
> Frank,
> 
> thank you for the feedback. I've taken your remarks into account and revised 
> the RFC accordingly.
> 
> A question : while looking at CPLMalloc implementation, I've noticed there's a 
> call to CPLVerifyConfiguration. Is there a particular reason for this 
> function to be called here / are there situations where the checks fail ... ? 
> CPLMalloc also seems to be the unique function to use CPLVerifyConfiguration. 
> I'm just curious why it is needed there and not at other places. We could 
> imagine that these checks could be done once, early at GDAL or OGR 
> initialization, for example in GDALAllRegister or OGRRegisterAll.
> The practical question is : do I need to call CPLVerifyConfiguration in 
> CPLSafeMallocX ?

Even,

Due to build configuration mistakes I found under some conditions folks
were building GDAL with the wrong cpl_config.h and ending up with
"endian confusion".  The CPLVerifyConfiguration() is intended to be a
quick check to ensure this isn't occuring and that it would be done quite
early in the library setup at runtime.

CPLMalloc() just seemed like a fairly central place to put the check.

There is no need call it from any new malloc functions, though it might
be prudent for the call to be moved/added in some other strategic locations.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From cjanssen at iavo-rs.com  Mon Dec 31 11:38:52 2007
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Mon Dec 31 11:39:10 2007
Subject: [gdal-dev] Setting up a StatePlane Coordinate system
In-Reply-To: <477900DA.7020306@pobox.com>
Message-ID: <1C040FB4-CC13-40CE-84FA-3471171A4AF2@iavo-rs.com>

Turns out it wasn't able to find the necessary .csv files, thanks for all the help.

Christiaan 

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Monday, December 31, 2007 9:47 AM
To: Christiaan Janssen
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Setting up a StatePlane Coordinate system

Christiaan Janssen wrote:
> So the coordinate system def you provided works, which is great, but I 
> was wondering if you could show me how to programmaticaly generate a 
> state plane based coordinate system object in code. I've been using 
> the following (which I know isn't working for me)
>  
> int StatePlaneZone = 101;    //Alabama East
> int isNad83 = 1;                    //True
> OGRSpatialReference* ogrsr = new OGRSpatialReference();
> ogrsr->SetProjCS(zoneTitle);
> ogrsr->SetStatePlane(statePlaneZone, isNAD83, NULL, NULL);
>  
> This is obviously not working based on what the well known text string 
> generated from this object is. Could you help clarify what I'm doing 
> wrong, thanks.

Christiaan,

I haven't followed this thread closely, but the above steps (simulated through the python bindings) did produce this for me:

PROJCS["NAD83 / Alabama East",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.257222101,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0,
             AUTHORITY["EPSG","8901"]],
         UNIT["degree",0.01745329251994328,
             AUTHORITY["EPSG","9122"]],
         AUTHORITY["EPSG","4269"]],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",30.5],
     PARAMETER["central_meridian",-85.83333333333333],
     PARAMETER["scale_factor",0.99996],
     PARAMETER["false_easting",200000],
     PARAMETER["false_northing",0],
     AUTHORITY["EPSG","26929"]]

The original zone title is discarded when things are reset by SetStatePlane().
The title can be reset after SetStatePlane() using the SetProjCS() method.

Note that SetStatePlane() depends on the OGRSpatialReference class being able to find and load various GDAL support files, like stateplane.csv and pcs.csv.

I appologise if I missed the point of this thread.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



