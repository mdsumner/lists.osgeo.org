From beyhan at deprem.gov.tr  Thu Mar  1 02:18:40 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Thu Mar  1 02:22:39 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
Message-ID: <1330586320.17913.12.camel@localhost>

Chaitanya,

I have had a progress about VRT data access
but I afraid something wrong in mapserver .map file.

here is the test.vrt file and I use in map file with connection ogr
functionality. :

<OGRVRTDataSource>
<OGRVRTLayer name="dynamic">
<SrcDataSource>MYSQL:dynamic,user=root,password=mysql_passwd,host=localhost,port=3306,tables=lineview</SrcDataSource>
<SrcSql>select eq_id, geom from lineview</SrcSql>
<GeometryType>wkbLineString</GeometryType>
<GeometryField encoding="WKT" field="geom"/>
</OGRVRTLayer>
</OGRVRTDataSource>

then the command 


[murat@localhost stations]$ ogrinfo -ro -al test.vrt
INFO: Open of `test.vrt'
      using driver `VRT' successful.

Layer name: dynamic
Geometry: Line String
Feature Count: 2
Layer SRS WKT:
(unknown)
eq_id: String (42.0)
geom: Real (23.0)
OGRFeature(dynamic):0
  eq_id (String) = 20111023101120
  geom (Real) =                     164

OGRFeature(dynamic):1
  eq_id (String) = 20100308023229
  geom (Real) =                     163



it works now but mapserver gives an error as follows: 

Server error!
The server encountered an internal error and was unable to complete your
request. 

Error message: 
Premature end of script headers: mapserv 

If you think this is a server error, please contact the webmaster.


Error 500
10.14.0.67
Apache/2.2.14 (Mandriva Linux/PREFORK-1.6mdv2010.0)



I think I will solve it with your help.

Many thanks

Murat 


On Thu, 2012-03-01 at 09:22 +0530, Chaitanya kumar CH wrote:
> Murat,
> 
> You should check MySQL's SQL syntax to concatenate strings and
> decimals to produce a string.
> 
> On Wednesday, February 29, 2012, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
> > Chaitanya,
> >
> > here is the structure of table on database
> >
> > sfault :
> >
> > eq_id varchar(14)
> > lat1  decimal(7,4)
> > lon1  decimal(7,4)
> > lat2  decimal(7,4)
> > lon2  decimal(7,4)
> >
> > lineview :
> >
> >
> > eq_id varchar(14)
> > geom  double
> >
> >
> > it seams geom as double
> > I thing it should be geometry isn't it?
> >
> > may be  I have to change structure of lineview by changing following
> > Roberts' suggestion to create view on database
> >
> >  create view lineview as select eq_id, "LINESTRING(" + lon1 + " " +
> lat1
> >  + "," + lon2 + " " + lat2 + ")" as geom from sfault
> >
> >
> > but I'm not sure for the line.
> >
> > VTR for points, I have tested and works well
> >
> >
> > but for line still could not achieved yet, please give me another
> idea.
> >
> > here is test.vrt file
> >
> > <OGRVRTDataSource>
> > <OGRVRTLayer name="sta">
> >
> <SrcDataSource>MYSQL:stations,user=root,password=mysql_passwd,host=localhost,port=3306,tables=sta</SrcDataSource>
> > <SrcSQL>SELECT sta_id as name,type,latitude,longitude from sta where
> > type like "%SMACH%"</SrcSQL>
> > <GeometryType>wkbPoint</GeometryType>
> > <GeometryField encoding="PointFromColumns" x="longitude"
> y="latitude"/>
> > </OGRVRTLayer>
> > </OGRVRTDataSource>
> >
> > and following code gives successful result as you see
> >
> >
> > ogrinfo -ro -al test.vrt
> >
> > INFO: Open of `test.vrt' using driver `VRT' successful.
> >
> > Layer name: sta
> > Geometry: Point
> > Feature Count: 12
> > Layer SRS WKT:
> > (unknown)
> > name: String (12.0)
> > type: String (24.0)
> > latitude: Real (5.4)
> > longitude: Real (5.4)
> > OGRFeature(sta):0
> >  name (String) = 0617
> >  type (String) = SMACH
> >  latitude (Real) = 40.4569
> >  longitude (Real) = 32.6319
> >  POINT (32.631900000000002 40.456899999999997)
> >
> > OGRFeature(sta):1
> >  name (String) = 0618
> >  type (String) = SMACH
> >  latitude (Real) = 40.4798
> >  longitude (Real) = 32.4555
> >  POINT (32.4555 40.479799999999997)
> >
> > .
> > .
> > .
> > .
> >
> >
> > As you see this works well.
> >
> > I hope you can catch point what is wrong or lack of on my works....
> >
> >
> > Thanks again
> >
> >
> >
> >
> > On Tue, 2012-02-28 at 18:08 +0530, Chaitanya kumar CH wrote:
> >> Murat,
> >>
> >>
> >> I see that your view,  lineview, doesn't give the expected geometry
> >> type with ogrinfo. It is showing the datatype as Real. Check if the
> >> datatype of geom is actually string/text.
> >>
> >> On Tue, Feb 28, 2012 at 12:49 PM, Murat Beyhan
> <beyhan@deprem.gov.tr>
> >> wrote:
> >>         Chaitanya,
> >>
> >>
> >>         Map file which is try to draw line as follows
> >>         are there any problem on the code
> >>
> >>          LAYER
> >>          NAME sfault1
> >>          CONNECTIONTYPE OGR
> >>          CONNECTION '<OGRVRTDataSource>
> >>          <OGRVRTLayer name="lineview">
> >>
> >>
> <SrcDataSource>MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306,tables=lineview</SrcDataSource>
> >>          <SrcLayer>lineview</SrcLayer>
> >>          <GeometryType>wkbLineString</GeometryType>
> >>          <GeometryField encoding="WKT" field="geom"/>
> >>          <LayerSRS>WGS84</LayerSRS>
> >>          <FID>eq_id</FID>
> >>          </OGRVRTLayer>
> >>          </OGRVRTDataSource>'
> >>          DATA sfault1
> >>          STATUS on
> >>          TYPE line
> >>          CLASS
> >>          NAME "Source Fault"
> >>          SYMBOL "cline"
> >>           SIZE 3
> >>          COLOR  0 0 255
> >>          END
> >>          END
> >>
> >>
> >>         ogrinfo
> >>
> MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
> >>         sfault -summary
> >>         INFO: Open of
> >>
> `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
> >>              using driver `MySQL' successful.
> >>
> >>         Layer name: sfault
> >>         Geometry: None
> >>         Feature Count: 1
> >>         Layer SRS WKT:
> >>         (unknown)
> >>         eq_id: String (14.0)
> >>         lat1: Real (7.4)
> >>         lon1: Real (7.4)
> >>         lat2: Real (7.4)
> >>         lon2: Real (7.4)
> >>
> >>         **************linewiew created by following sql
> >>         statement:*************
> >>
> >>
> >>          create view lineview as select eq_id, "LINESTRING(" + lon1
> +
> >>         " " + lat1
> >>          + "," + lon2 + " " + lat2 + ")" as geom from sfault
> >>
> >>
> >>         then
> >>
> >>         [murat@localhost ~]$ ogrinfo
> >>
> MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
> >>         lineview -summary
> >>         INFO: Open of
> >>
> `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
> >>              using driver `MySQL' successful.
> >>
> >>         Layer name: lineview
> >>         Geometry: None
> >>         Feature Count: 1
> >>         Layer SRS WKT:
> >>         (unknown)
> >>         eq_id: String (14.0)
> >>         geom: Real (0.0)
> >>
> >>
> >>
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From chaitanya.ch at gmail.com  Thu Mar  1 04:10:24 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Mar  1 04:10:56 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330586320.17913.12.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
Message-ID: <CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>

Murat,

It's not working. the geom field should not be 'Real'. It should be
'String'. Try something else other than the '+' operator in the SQL syntax
to create the geom field in the view.

On Thu, Mar 1, 2012 at 12:48 PM, Murat Beyhan <beyhan@deprem.gov.tr> wrote:

> Chaitanya,
>
> I have had a progress about VRT data access
> but I afraid something wrong in mapserver .map file.
>
> here is the test.vrt file and I use in map file with connection ogr
> functionality. :
>
> <OGRVRTDataSource>
> <OGRVRTLayer name="dynamic">
>
> <SrcDataSource>MYSQL:dynamic,user=root,password=mysql_passwd,host=localhost,port=3306,tables=lineview</SrcDataSource>
> <SrcSql>select eq_id, geom from lineview</SrcSql>
> <GeometryType>wkbLineString</GeometryType>
> <GeometryField encoding="WKT" field="geom"/>
> </OGRVRTLayer>
> </OGRVRTDataSource>
>
> then the command
>
>
> [murat@localhost stations]$ ogrinfo -ro -al test.vrt
> INFO: Open of `test.vrt'
>      using driver `VRT' successful.
>
> Layer name: dynamic
> Geometry: Line String
> Feature Count: 2
> Layer SRS WKT:
> (unknown)
> eq_id: String (42.0)
> geom: Real (23.0)
> OGRFeature(dynamic):0
>  eq_id (String) = 20111023101120
>  geom (Real) =                     164
>
> OGRFeature(dynamic):1
>  eq_id (String) = 20100308023229
>  geom (Real) =                     163
>
>
>
> it works now but mapserver gives an error as follows:
>
> Server error!
> The server encountered an internal error and was unable to complete your
> request.
>
> Error message:
> Premature end of script headers: mapserv
>
> If you think this is a server error, please contact the webmaster.
>
>
> Error 500
> 10.14.0.67
> Apache/2.2.14 (Mandriva Linux/PREFORK-1.6mdv2010.0)
>
>
>
> I think I will solve it with your help.
>
> Many thanks
>
> Murat
>
>
> On Thu, 2012-03-01 at 09:22 +0530, Chaitanya kumar CH wrote:
> > Murat,
> >
> > You should check MySQL's SQL syntax to concatenate strings and
> > decimals to produce a string.
> >
> > On Wednesday, February 29, 2012, Murat Beyhan <beyhan@deprem.gov.tr>
> > wrote:
> > > Chaitanya,
> > >
> > > here is the structure of table on database
> > >
> > > sfault :
> > >
> > > eq_id varchar(14)
> > > lat1  decimal(7,4)
> > > lon1  decimal(7,4)
> > > lat2  decimal(7,4)
> > > lon2  decimal(7,4)
> > >
> > > lineview :
> > >
> > >
> > > eq_id varchar(14)
> > > geom  double
> > >
> > >
> > > it seams geom as double
> > > I thing it should be geometry isn't it?
> > >
> > > may be  I have to change structure of lineview by changing following
> > > Roberts' suggestion to create view on database
> > >
> > >  create view lineview as select eq_id, "LINESTRING(" + lon1 + " " +
> > lat1
> > >  + "," + lon2 + " " + lat2 + ")" as geom from sfault
> > >
> > >
> > > but I'm not sure for the line.
> > >
> > > VTR for points, I have tested and works well
> > >
> > >
> > > but for line still could not achieved yet, please give me another
> > idea.
> > >
> > > here is test.vrt file
> > >
> > > <OGRVRTDataSource>
> > > <OGRVRTLayer name="sta">
> > >
> >
> <SrcDataSource>MYSQL:stations,user=root,password=mysql_passwd,host=localhost,port=3306,tables=sta</SrcDataSource>
> > > <SrcSQL>SELECT sta_id as name,type,latitude,longitude from sta where
> > > type like "%SMACH%"</SrcSQL>
> > > <GeometryType>wkbPoint</GeometryType>
> > > <GeometryField encoding="PointFromColumns" x="longitude"
> > y="latitude"/>
> > > </OGRVRTLayer>
> > > </OGRVRTDataSource>
> > >
> > > and following code gives successful result as you see
> > >
> > >
> > > ogrinfo -ro -al test.vrt
> > >
> > > INFO: Open of `test.vrt' using driver `VRT' successful.
> > >
> > > Layer name: sta
> > > Geometry: Point
> > > Feature Count: 12
> > > Layer SRS WKT:
> > > (unknown)
> > > name: String (12.0)
> > > type: String (24.0)
> > > latitude: Real (5.4)
> > > longitude: Real (5.4)
> > > OGRFeature(sta):0
> > >  name (String) = 0617
> > >  type (String) = SMACH
> > >  latitude (Real) = 40.4569
> > >  longitude (Real) = 32.6319
> > >  POINT (32.631900000000002 40.456899999999997)
> > >
> > > OGRFeature(sta):1
> > >  name (String) = 0618
> > >  type (String) = SMACH
> > >  latitude (Real) = 40.4798
> > >  longitude (Real) = 32.4555
> > >  POINT (32.4555 40.479799999999997)
> > >
> > > .
> > > .
> > > .
> > > .
> > >
> > >
> > > As you see this works well.
> > >
> > > I hope you can catch point what is wrong or lack of on my works....
> > >
> > >
> > > Thanks again
> > >
> > >
> > >
> > >
> > > On Tue, 2012-02-28 at 18:08 +0530, Chaitanya kumar CH wrote:
> > >> Murat,
> > >>
> > >>
> > >> I see that your view,  lineview, doesn't give the expected geometry
> > >> type with ogrinfo. It is showing the datatype as Real. Check if the
> > >> datatype of geom is actually string/text.
> > >>
> > >> On Tue, Feb 28, 2012 at 12:49 PM, Murat Beyhan
> > <beyhan@deprem.gov.tr>
> > >> wrote:
> > >>         Chaitanya,
> > >>
> > >>
> > >>         Map file which is try to draw line as follows
> > >>         are there any problem on the code
> > >>
> > >>          LAYER
> > >>          NAME sfault1
> > >>          CONNECTIONTYPE OGR
> > >>          CONNECTION '<OGRVRTDataSource>
> > >>          <OGRVRTLayer name="lineview">
> > >>
> > >>
> >
> <SrcDataSource>MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306,tables=lineview</SrcDataSource>
> > >>          <SrcLayer>lineview</SrcLayer>
> > >>          <GeometryType>wkbLineString</GeometryType>
> > >>          <GeometryField encoding="WKT" field="geom"/>
> > >>          <LayerSRS>WGS84</LayerSRS>
> > >>          <FID>eq_id</FID>
> > >>          </OGRVRTLayer>
> > >>          </OGRVRTDataSource>'
> > >>          DATA sfault1
> > >>          STATUS on
> > >>          TYPE line
> > >>          CLASS
> > >>          NAME "Source Fault"
> > >>          SYMBOL "cline"
> > >>           SIZE 3
> > >>          COLOR  0 0 255
> > >>          END
> > >>          END
> > >>
> > >>
> > >>         ogrinfo
> > >>
> > MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
> > >>         sfault -summary
> > >>         INFO: Open of
> > >>
> > `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
> > >>              using driver `MySQL' successful.
> > >>
> > >>         Layer name: sfault
> > >>         Geometry: None
> > >>         Feature Count: 1
> > >>         Layer SRS WKT:
> > >>         (unknown)
> > >>         eq_id: String (14.0)
> > >>         lat1: Real (7.4)
> > >>         lon1: Real (7.4)
> > >>         lat2: Real (7.4)
> > >>         lon2: Real (7.4)
> > >>
> > >>         **************linewiew created by following sql
> > >>         statement:*************
> > >>
> > >>
> > >>          create view lineview as select eq_id, "LINESTRING(" + lon1
> > +
> > >>         " " + lat1
> > >>          + "," + lon2 + " " + lat2 + ")" as geom from sfault
> > >>
> > >>
> > >>         then
> > >>
> > >>         [murat@localhost ~]$ ogrinfo
> > >>
> > MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
> > >>         lineview -summary
> > >>         INFO: Open of
> > >>
> > `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
> > >>              using driver `MySQL' successful.
> > >>
> > >>         Layer name: lineview
> > >>         Geometry: None
> > >>         Feature Count: 1
> > >>         Layer SRS WKT:
> > >>         (unknown)
> > >>         eq_id: String (14.0)
> > >>         geom: Real (0.0)
> > >>
> > >>
> > >>
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> >
> > +91-9494447584
> > 17.2416N 80.1426E
> >
> > --
> > This message has been scanned for viruses and
> > dangerous content by MailScanner, and is
> > believed to be clean.
>
>
>
> Murat BEYHAN
>
> Jeofizik Y.M?h.
> T.C. Ba?bakanl?k
> Afet ve Acil Durum Y?netimi Ba?kanl???
> Deprem Dairesi Ba?kanl???
> Eski?ehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
>
>
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120301/ad897bf5/attachment-0001.html
From Jukka.Rahkonen at mmmtike.fi  Thu Mar  1 04:34:32 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Thu Mar  1 04:34:40 2012
Subject: [gdal-dev] Trouble with georeferenced PDF
Message-ID: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>

Hi,

I had a quick test by converting one GeoTIFF into georeferenced PDF files with different parameters and opening results with Acrobat Reader and TerraGo toolbar.

For TerraGo the metadata must be in OGC_BP style and ISO style metadata must not exist (option BOTH does not work). What is odd is that TerraGo toolbar finds coordinates if I run gdal_translate with -a_srs
epsg:3067 but not if I run it with -a_srs epsg:32635.
There seems to something different in the PDF headers, here are short captures
from the beginnings of the files

EPSG:32635 which is not understood by TerraGo toolbar

%PDF-1.6
%<bh:ff><bh:ff><bh:ff><bh:ff>
7 0 obj
\<\< /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
(6956053.279989699) ] /Description (WGS 84 / UTM zone 35N) /Neatline 

EPSG:3067 which is OK for TerraGo

%PDF-1.6
%<bh:ff><bh:ff><bh:ff><bh:ff>
7 0 obj
\<\< /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
(6956053.279989699) ] /Description
\<FEFF0045005400520053003800390020002F00200054004D0033003500460049004E00280045002C004E0029>
/Neatline

Images are available here
http://latuviitta.org/documents/GDAL_OGC_32635.pdf
http://latuviitta.org/documents/GDAL_OGC_3067.pdf

-Jukka Rahkonen-

-Jukka Rahkonen-
From even.rouault at mines-paris.org  Thu Mar  1 05:27:10 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar  1 05:27:53 2012
Subject: [gdal-dev] Trouble with georeferenced PDF
In-Reply-To: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>
References: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>
Message-ID: <1330597630.4f4f4efedbf65@imp.free.fr>

Selon Rahkonen Jukka <Jukka.Rahkonen@mmmtike.fi>:

Nice to see early testers of geospatial PDF writing support !

I'm currently behind a corporate firewall that prevents access to your samples,
but I did a quick test similar to yours and EPSG:3067 seems to work fine with
Terrago Toolbar (v5.7.70). However I suspect that the presence of the unescaped
slash (/) in the Description string might be the cause of the issue (if you have
a different version of the toolbar). I've not verified if it is allowed or not
by the PDF spec, but poppler doesn't seem to have issue with it.

So perhaps you could try the following patch that will encode strings with
slashes into hexadecimal UTF16 sequences :

Index: pdfobject.cpp
===================================================================
--- pdfobject.cpp	(revision 24040)
+++ pdfobject.cpp	(working copy)
@@ -63,7 +63,7 @@
     for(i=0;(ch = pabyData[i]) != '?';i++)
     {
         if (ch < 32 || ch > 127 ||
-            ch == '(' || ch == ')' ||
+            ch == '(' || ch == ')' || ch == '/' ||
             ch == '\' || ch == '%' || ch == '#')
             break;
     }


> Hi,
>
> I had a quick test by converting one GeoTIFF into georeferenced PDF files
> with different parameters and opening results with Acrobat Reader and TerraGo
> toolbar.
>
> For TerraGo the metadata must be in OGC_BP style and ISO style metadata must
> not exist (option BOTH does not work). What is odd is that TerraGo toolbar
> finds coordinates if I run gdal_translate with -a_srs
> epsg:3067 but not if I run it with -a_srs epsg:32635.
> There seems to something different in the PDF headers, here are short
> captures
> from the beginnings of the files
>
> EPSG:32635 which is not understood by TerraGo toolbar
>
> %PDF-1.6
> %<bh:ff><bh:ff><bh:ff><bh:ff>
> 7 0 obj
> << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> (6956053.279989699) ] /Description (WGS 84 / UTM zone 35N) /Neatline
>
> EPSG:3067 which is OK for TerraGo
>
> %PDF-1.6
> %<bh:ff><bh:ff><bh:ff><bh:ff>
> 7 0 obj
> << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> (6956053.279989699) ] /Description
>
<FEFF0045005400520053003800390020002F00200054004D0033003500460049004E00280045002C004E0029>
> /Neatline
>
> Images are available here
> http://latuviitta.org/documents/GDAL_OGC_32635.pdf
> http://latuviitta.org/documents/GDAL_OGC_3067.pdf
>
> -Jukka Rahkonen-
>
> -Jukka Rahkonen-_______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From Jukka.Rahkonen at mmmtike.fi  Thu Mar  1 05:43:59 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Thu Mar  1 05:44:44 2012
Subject: [gdal-dev] Trouble with georeferenced PDF
In-Reply-To: <1330597630.4f4f4efedbf65@imp.free.fr>
References: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>
	<1330597630.4f4f4efedbf65@imp.free.fr>
Message-ID: <84446DEF76453C439E9E97E438E13A630825C3@suutari.haapa.mmm.fi>

Hi,

EPSG:3067 works for me too. The toolbar is installed yesterday from TerraGo.
I am just an end user and I cannot do any difficult things like compiling. I tried to edit the EPSG:32635 description with hex editor and changed "/" into "N".  No effect, TerraGo tool bar does not find the coordinates.

With EPSG:32635 GeoPDF file properties does not show any document tree structure. It is just "Document". With EPSG:3067 it is Document - Page 1 - Map Frame 1. Perhaps there is something that truncates the metadata?

-Jukka Rahkonen-


Een Rouault wrote:
> 
> Selon Rahkonen Jukka <Jukka.Rahkonen@mmmtike.fi>:
> 
> Nice to see early testers of geospatial PDF writing support !
> 
> I'm currently behind a corporate firewall that prevents 
> access to your samples,
> but I did a quick test similar to yours and EPSG:3067 seems 
> to work fine with
> Terrago Toolbar (v5.7.70). However I suspect that the 
> presence of the unescaped
> slash (/) in the Description string might be the cause of the 
> issue (if you have
> a different version of the toolbar). I've not verified if it 
> is allowed or not
> by the PDF spec, but poppler doesn't seem to have issue with it.
> 
> So perhaps you could try the following patch that will encode 
> strings with
> slashes into hexadecimal UTF16 sequences :
> 
> Index: pdfobject.cpp
> ===================================================================
> --- pdfobject.cpp	(revision 24040)
> +++ pdfobject.cpp	(working copy)
> @@ -63,7 +63,7 @@
>      for(i=0;(ch = pabyData[i]) != '?';i++)
>      {
>          if (ch < 32 || ch > 127 ||
> -            ch == '(' || ch == ')' ||
> +            ch == '(' || ch == ')' || ch == '/' ||
>              ch == '\' || ch == '%' || ch == '#')
>              break;
>      }
> 
> 
> > Hi,
> >
> > I had a quick test by converting one GeoTIFF into 
> georeferenced PDF files
> > with different parameters and opening results with Acrobat 
> Reader and TerraGo
> > toolbar.
> >
> > For TerraGo the metadata must be in OGC_BP style and ISO 
> style metadata must
> > not exist (option BOTH does not work). What is odd is that 
> TerraGo toolbar
> > finds coordinates if I run gdal_translate with -a_srs
> > epsg:3067 but not if I run it with -a_srs epsg:32635.
> > There seems to something different in the PDF headers, here 
> are short
> > captures
> > from the beginnings of the files
> >
> > EPSG:32635 which is not understood by TerraGo toolbar
> >
> > %PDF-1.6
> > %<bh:ff><bh:ff><bh:ff><bh:ff>
> > 7 0 obj
> > << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> > (6956053.279989699) ] /Description (WGS 84 / UTM zone 35N) /Neatline
> >
> > EPSG:3067 which is OK for TerraGo
> >
> > %PDF-1.6
> > %<bh:ff><bh:ff><bh:ff><bh:ff>
> > 7 0 obj
> > << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> > (6956053.279989699) ] /Description
> >
> <FEFF0045005400520053003800390020002F00200054004D0033003500460
> 049004E00280045002C004E0029>
> > /Neatline
> >
> > Images are available here
> > http://latuviitta.org/documents/GDAL_OGC_32635.pdf
> > http://latuviitta.org/documents/GDAL_OGC_3067.pdf
> >
> > -Jukka Rahkonen-
> >
> > -Jukka Rahkonen-_______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> 
From sroeckelein at gmail.com  Thu Mar  1 06:23:05 2012
From: sroeckelein at gmail.com (=?ISO-8859-1?Q?Stefan_R=F6ckelein?=)
Date: Thu Mar  1 06:23:20 2012
Subject: [gdal-dev] OGR: read datasources from a database
In-Reply-To: <1330432374.4f4cc976514ef@webmail.free.fr>
References: <CAD39jT=tStdchF-AwKUzoQT1yi4GEXHvZRUS-CARdL=_FHgLvQ@mail.gmail.com>
	<1330432374.4f4cc976514ef@webmail.free.fr>
Message-ID: <CAD39jTnh=Ahnmfp3UCYowo+0K_KBzJ6tqo0XarxTUTwE2SC2iw@mail.gmail.com>

Thanks, it works!!

2012/2/28 Even Rouault <even.rouault@mines-paris.org>

> Selon Stefan R?ckelein <sroeckelein@gmail.com>:
>
> > Hi,
> >
> > the usual procedure to open a file with OGR is to use
> > OGRSFDriverRegistrar::Open("somefile.dxf",FALSE)
> > Now I want to open a DXF-file which was previously stored in a database.
> > Therefore I would need some ORG method which reads the drawing not from a
> > file, but from a string (containing the whole DXF-file) directly.
> > Is it possible to do this somehow?
> >
> > An alternative could be to save and read an OGRDataSource object inside
> the
> > database. Is this possible?
>
> The DXF driver use the CPL Virtual File I/O API, so you can read from a
> in-memory file created with VSIFileFromMemBuffer for example ( see
> http://gdal.org/cpl__vsi_8h.html#af9c1b931449d423e7a80bacb75ff0717 )
>
> The code to use would be something like :
>
> char* pszTheDXFContent = "a_string_with_the_dxf_file";
> VSILFILE* fpMem = VSIFileFromMemBuffer ("/vsimem/temp.dxf",
> pszTheDXFContent,
> strlen(pszTheDXFContent), FALSE );
> VSIFCloseL(fpMem);
> OGRDataSource* poDS = OGRSFDriverRegistrar::Open("/vsimem/temp.dxf",FALSE);
>
> /* do something */
>
> OGRSFDriverRegistrar::ReleaseDataSource(poDS);
> VSIUnlink("/vsimem/temp.dxf");
>
> >
> > Stefan
> >
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120301/76513bee/attachment.html
From knutfrodesoppel at hotmail.com  Thu Mar  1 08:34:12 2012
From: knutfrodesoppel at hotmail.com (Knut-Frode Dagestad)
Date: Thu Mar  1 08:35:26 2012
Subject: [gdal-dev] Re: reading NOAA-19 AVHRR
In-Reply-To: <1330445165.4f4cfb6d5a2be@imp.free.fr>
References: <jiioko$q0n$1@dough.gmane.org>
	<1330445165.4f4cfb6d5a2be@imp.free.fr>
Message-ID: <4F4F7AD4.70604@hotmail.com>

Even,

Your suggestion sounds plausible is and probably both correct and 
necessary. But unfortunately it is still not working with your patch, so 
I guess there must be an additional problem.
Regardless of using the patch or not, and adding "--debug on" or not, 
the output from gdalinfo is:

 >gdalinfo --debug on avhrr_20120227_235800_noaa19.hrp
ERROR 4: `avhrr_20120227_235800_noaa19.hrp' not recognised as a 
supported file format.
gdalinfo failed - unable to open 'avhrr_20120227_235800_noaa19.hrp'.

After investigations, I have found one potential reason: According to 
this page, this file (from Eumetcast antenna) is in Big Endian format:
http://www.eumetsat.int/Home/Main/Satellites/GroundNetwork/EARSSystem/EARS-AVHRR/index.htm?l=en
("- For NOAA KLM and NN': HRPT data, expanded to 16 bits, big endian, 
bzip2 compressed.")

I see there are some old discussions related to endianness in GDAL:
http://lists.osgeo.org/pipermail/gdal-dev/2002-April/003355.html

and it is also mentioned in the driver tutorial:
http://www.gdal.org/gdal_drivertut.html  (keyword "bNativeOrder")

But I am not able to see how to fix this problem, and not sure if 
endianness is relevant at all? I could make available a sample file for 
anyone interested to look at the problem.

Best regards from Knut-Frode



On 28. feb. 2012 17:06, Even Rouault wrote:
> Knut-Frode,
>
> I've skimmed quickly through the driver code and if you are lucky, it is
> probably just a matter of changing a few lines (well, I can be wrong).
>
> If you have a debug build of GDAL, you can first try to run "gdalinfo --debug on
> avhrr_20120227_235800_noaa19.hrp" . My guess (based on
> http://en.wikipedia.org/wiki/NOAA-19 saying that NOAA-19 = NOAA-N' and NOOA-N'
> appearing in commented code of the driver...) would be that you would see :
> "Unknown spacecraft ID "8"".
>
> If so, you could test the following patch :
>
> Index: l1bdataset.cpp
> ===================================================================
> --- l1bdataset.cpp	(revision 24036)
> +++ l1bdataset.cpp	(working copy)
> @@ -61,6 +61,7 @@
>       NOAA16,     // NOAA-16(L)
>       NOAA17,     // NOAA-17(M)
>       NOAA18,     // NOAA-18(N)
> +    NOAA19,     // NOAA-19(N')
>       METOP2      // METOP-2(A)
>   };
>
> @@ -1025,10 +1026,10 @@
>               case 7:
>                   eSpacecraftID = NOAA18;
>                   break;
> -            /* FIXME: find appropriate samples and test these two cases:
> -             * case 8:
> -                eSpacecraftID = NOAA-N';
> +            case 8:
> +                eSpacecraftID = NOAA19;
>                   break;
> +            /* FIXME: find appropriate samples and test that case:
>               case 11:
>                   eSpacecraftID = METOP-1;
>                   break;*/
> @@ -1155,6 +1156,9 @@
>           case NOAA18:
>               pszText = "NOAA-18(N)";
>               break;
> +        case NOAA19:
> +            pszText = "NOAA-19(N')";
> +            break;
>           case METOP2:
>               pszText = "METOP-2(A)";
>               break;
>
> Perhaps Andrey Kiselev, the author of the driver, would have better clues.
>
> Best regards,
>
> Even


From yjacolin at free.fr  Thu Mar  1 10:06:27 2012
From: yjacolin at free.fr (Yves Jacolin)
Date: Thu Mar  1 10:16:43 2012
Subject: [gdal-dev] VRT file from NetCDF
In-Reply-To: <CA+TxYvNsEJaM0yn7G2nOBze5f2_3YLohz4spu2QFnoMVWpMptw@mail.gmail.com>
References: <201112131220.07481.yjacolin@free.fr> <13176323.A6J6TQtY43@tatras>
	<CA+TxYvNsEJaM0yn7G2nOBze5f2_3YLohz4spu2QFnoMVWpMptw@mail.gmail.com>
Message-ID: <2248618.gcI0M0kxZm@tatras>

Yes it is what we are doing but I just wanted to know if it is possible to 
improve the driver ;)

thanks,

Y.
Le Mercredi 29 F?vrier 2012 11:02:49 Etienne Tourigny a ?crit :
> Can you not pass the full path to the vrt file? This would resolve the
> problem.  Like Even I don't see an easy fix in the driver.
> 
> Etienne
> 
> On Wed, Feb 29, 2012 at 6:57 AM, Yves Jacolin <yjacolin@free.fr> wrote:
> > Even,
> > 
> > I understand.
> > 
> > Thanks,
> > 
> > Y.
> > 
> > Le Mercredi 29 F?vrier 2012 09:54:27 Even Rouault a ?crit :
> >> Selon Yves Jacolin <yjacolin@free.fr>:
> >> > Hello,
> >> > 
> >> > Sorry to come again to this thread :)
> >> > 
> >> > It seems that when using relatif file for NETCDF for instance,
> >> > MapServer won't
> >> > work correclty, see Even comment below.
> >> > 
> >> > Is it a bug from GDAL? Do I need to open a ticket about this?
> >> 
> >> I don't see an easy fix to improve that. That would require some
> >> cooperation with the driver to return the filename from the
> >> connection string and to reform a new connection string with the full
> >> filename. IMHO not worth the effort, but perhaps worth documenting it
> >> for the moment.
> >> 
> >> > Y.
> >> > 
> >> > >Selon Yves Jacolin <yjacolin at free.fr>:
> >> > >> Hello,
> >> > >> 
> >> > >> Etienne asked some question offlist so I investigate.
> >> > >> 
> >> > >> gdal create relatif path by default (I don't see a flag to
> >> > >> change
> >> > >> this). MapServer and QGIS don't like this.
> >> > >
> >> > >MapServer and QGIS don't even know the content of the VRT, so
> >> > >the
> >> > >problem is more complex than that.
> >> > >
> >> > >If you pass a relative path to gdalbuildvrt or gdal_translate
> >> > >-of VRT, a
> >> > >relative path will be written. In which case the VRT driver
> >> > >should be
> >> > >able>
> >> > 
> >> > to
> >> > 
> >> > >recompute the full path given the location of the .vrt.
> >> > >On the contrary, if you pass an absolute path, it will be store
> >> > >as
> >> > >absolute.
> >> > >
> >> > >The issue here is likely with netCDF subdatasets, where the
> >> > >connexion
> >> > >string is
> >> > >not a file, but something like "netCDF:xxxx:a_filename", that
> >> > >the VRT
> >> > >driver cannot interpret. In that case, the resolution of
> >> > >relative
> >> > >filenames will>
> >> > 
> >> > not
> >> > 
> >> > >work. So I'd suggest you to use "netCDF:xxx:full_filename" to
> >> > >avoid
> >> > >those issues. Or you must be sure that the current directory of
> >> > >MapServer and QGIS is
> >> > >the directory of the .VRT, but you cannot always guarantee this.
> >> > >
> >> > >> After changing relatif path to absolute path both are
> >> > >> working
> >> > >> correctly.
> >> > >> 
> >> > >> Thanks,
> >> > 
> >> > Y.
> >> > --
> >> > Yves Jacolin
> >> > 
> >> > http://yjacolin.gloobe.org
> >> > _______________________________________________
> >> > gdal-dev mailing list
> >> > gdal-dev@lists.osgeo.org
> >> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > 
> > --
> > Yves Jacolin
> > 
> > http://yjacolin.gloobe.org
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
-- 
Yves Jacolin

http://yjacolin.gloobe.org
From ksshannon at gmail.com  Thu Mar  1 11:10:24 2012
From: ksshannon at gmail.com (Kyle Shannon)
Date: Thu Mar  1 11:11:01 2012
Subject: [gdal-dev] vsizip and vrt driver
Message-ID: <CAJ0mEz3FzCU5B8uro31op3cUFE09ttXqQJUeFZEWQPrU_KureA@mail.gmail.com>

Hello all,
I recently built a VRT from several SRTM tiles that were zipped into
archives:

gdalbuildvrt srtm.vrt /vsizip/srtm_01_02.zip/srtm_01_02.asc
/vsizip/srtm_01_07.zip/srtm_01_07.asc /vsizip/srtm_01_02.zip/srtm_01_12.asc

Everything works fine. I changed the relativeToVRT value to "1" and try to
run gdalinfo from another path and it can't find the files. Am I missing
something? Is it not legal to use vsizip in vrt files? Thanks. Tested on
Linux and Windows.

kss

/**
 *
 * Kyle Shannon
 * ksshannon@gmail.com
 *
 */
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120301/e6a92da2/attachment.html
From eadam at co.lincoln.or.us  Thu Mar  1 11:41:50 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Thu Mar  1 11:42:13 2012
Subject: [gdal-dev] Re: Slope in gdaldem
In-Reply-To: <CAPkJWLWo2QNoHqDMqY6Oxa3-FnXc4TL8dY_X5DJntr-6FN_m8A@mail.gmail.com>
References: <CAPkJWLVW3LijznSgS+HNXqzZzB=KGDv179PoOtBZAAi3DqChnA@mail.gmail.com>
	<CAPkJWLWjoo64bBM5302ZZ6Djmcu6AJyGsoObT+krB+MwQ83S0Q@mail.gmail.com>
	<CAG-GLBNeObVbNOe_tJEEvs1t1Nqm8Son-j13AnKKLa8tb-waDw@mail.gmail.com>
	<CAPkJWLX_fjvHdUsNm7oOzYnS2fO7-aJBq7C9YPustWh+6dYfog@mail.gmail.com>
	<CAPkJWLWo2QNoHqDMqY6Oxa3-FnXc4TL8dY_X5DJntr-6FN_m8A@mail.gmail.com>
Message-ID: <CACqBkM96WKPY1ThwHGeRudT9NBK_DFp-VUfjKh=d2R8z_dUmxg@mail.gmail.com>

Steve,

> additional processing steps they can.  How does adding code to gdal work?

Just from an observer perspective, it seems that once you have your
additions worked out, attach a diff on on trac ticket.  The details
for how to do that are: sign up for an osgeo userid,
http://www.osgeo.org/osgeo_userid (if you don't already have one),
login to the gdal trac and then open a new ticket,
http://trac.osgeo.org/gdal/report

I don't know the likelihood of one of the developers adding it in,
someone might comment on the ticket about that (could depend on the
code, impacts to other parts, etc).  Putting it in a ticket also makes
it available to anyone that may want to  locally apply it for
themselves.

HTH, Eli


> Best,
> Steve
>
>
> float GDALSlopeHydroAlg (float* afWin, float fDstNoDataValue, void* pData)
>
> {
> ??? // Hydrologic Slope is the max
> ??? //? local slope btw center cell and adjacent cells
>
> ??? const double radiansToDegrees = 180.0 / M_PI;
> ??? GDALSlopeAlgData* psData = (GDALSlopeAlgData*)pData;
> ??????????????? double key;
>
> ??? float pafLocalMin = afWin[0];
>
> ??? ?float pafLocalMax = afWin[0];
>
> ??? for ( int k = 1; k < 9; k++)
> ??? {
> ??????? if (afWin[k] < pafLocalMin)
> ??????? {
> ??????????? pafLocalMin=afWin[k];
>
> ??????? }
>
> ??????? if (afWin[k] > pafLocalMax)
> ??????? {
> ??????????? pafLocalMax=afWin[k];
> ??????? }
>
> ??? }
>
> ??? key = afWin[4] - pafLocalMin;
>
> ??? if (key < 0)
> ???? {
> ?? ??? ?key = afWin[4] - pafLocalMax;
>
> ???? }
>
> ??? if (psData->slopeFormat == 1)
> ??????? return (float) (atan(sqrt(key) / (2*psData->scale)) *
> radiansToDegrees);
> ??? else
> ??????? return (float) (100*(sqrt(key) / (2*psData->scale)));
> }
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Thu Mar  1 12:03:51 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar  1 12:04:46 2012
Subject: [gdal-dev] vsizip and vrt driver
In-Reply-To: <CAJ0mEz3FzCU5B8uro31op3cUFE09ttXqQJUeFZEWQPrU_KureA@mail.gmail.com>
References: <CAJ0mEz3FzCU5B8uro31op3cUFE09ttXqQJUeFZEWQPrU_KureA@mail.gmail.com>
Message-ID: <1330621431.4f4fabf7c4e62@imp.free.fr>

Selon Kyle Shannon <ksshannon@gmail.com>:

> Hello all,
> I recently built a VRT from several SRTM tiles that were zipped into
> archives:
>
> gdalbuildvrt srtm.vrt /vsizip/srtm_01_02.zip/srtm_01_02.asc
> /vsizip/srtm_01_07.zip/srtm_01_07.asc /vsizip/srtm_01_02.zip/srtm_01_12.asc
>
> Everything works fine. I changed the relativeToVRT value to "1" and try to
> run gdalinfo from another path and it can't find the files. Am I missing
> something? Is it not legal to use vsizip in vrt files? Thanks. Tested on
> Linux and Windows.

This is exactly the same kind of issue as the one raised by Yves Jacolin
recently about the support of netCDF subdatasets in VRT. Relative paths can only
work with "regular" filenames, not with exotic stuff like /vsiXXX/ or
subdatasets. In that case, you have to use absolute pathnames

>
> kss
>
> /**
>  *
>  * Kyle Shannon
>  * ksshannon@gmail.com
>  *
>  */
>


From bgiv at gmx.de  Thu Mar  1 12:56:26 2012
From: bgiv at gmx.de (Wolfgang Lahr)
Date: Thu Mar  1 12:56:44 2012
Subject: [gdal-dev] ogr2ogr creates empty shape files
Message-ID: <9110260212.20120301185626@gmx.de>

Hello list,

how would one prevent OGR2OGR from creating an empty target files
when a WHERE condition returns no records from the source files? This
question came up during a batch process where dozens or even hundreds of files
are converted and further processed. Is there an option besides of
manually deleting those files?

TIA

wolfgang



From eadam at co.lincoln.or.us  Thu Mar  1 13:30:08 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Thu Mar  1 13:30:42 2012
Subject: [gdal-dev] ogr2ogr creates empty shape files
In-Reply-To: <9110260212.20120301185626@gmx.de>
References: <9110260212.20120301185626@gmx.de>
Message-ID: <CACqBkM8kutD1eUj2gJA8LgU11tn=S-Q=tC46DNh-dPCtTdtnxQ@mail.gmail.com>

Wolfgang,

> how would one prevent OGR2OGR from creating an empty target files
> when a WHERE condition returns no records from the source files? This

I know that there is a COUNT() that can be used in the SELECT part.
I've never tried it in the WHERE part.  You might be able to try that.

> question came up during a batch process where dozens or even hundreds of files
> are converted and further processed. Is there an option besides of
> manually deleting those files?

Depending on how you are doing your batch process, you can use ogrinfo
with COUNT() as a test to decide if you should do the ogr2ogr part.

HTH, Eli

> TIA
>
> wolfgang
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Thu Mar  1 13:30:59 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar  1 13:31:36 2012
Subject: [gdal-dev] ogr2ogr creates empty shape files
In-Reply-To: <9110260212.20120301185626@gmx.de>
References: <9110260212.20120301185626@gmx.de>
Message-ID: <201203011930.59286.even.rouault@mines-paris.org>

Le jeudi 01 mars 2012 18:56:26, Wolfgang Lahr a ?crit :
> Hello list,
> 
> how would one prevent OGR2OGR from creating an empty target files
> when a WHERE condition returns no records from the source files? This
> question came up during a batch process where dozens or even hundreds of
> files are converted and further processed. Is there an option besides of
> manually deleting those files?

No. But provided you have some programming skills available, you could easily 
patch ogr2ogr to do that

> 
> TIA
> 
> wolfgang
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Thu Mar  1 14:46:11 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar  1 14:46:47 2012
Subject: [gdal-dev] Trouble with georeferenced PDF
In-Reply-To: <84446DEF76453C439E9E97E438E13A630825C3@suutari.haapa.mmm.fi>
References: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>
	<1330597630.4f4f4efedbf65@imp.free.fr>
	<84446DEF76453C439E9E97E438E13A630825C3@suutari.haapa.mmm.fi>
Message-ID: <201203012046.12035.even.rouault@mines-paris.org>

Le jeudi 01 mars 2012 11:43:59, Rahkonen Jukka a ?crit :
> Hi,
> 
> EPSG:3067 works for me too. 

I meant EPSG:32635 sorry. But now, I've downloaded your 
http://latuviitta.org/documents/GDAL_OGC_32635.pdf sample and it is properly 
recognized by TerraGo toolbar and the coordinates reported are consistant with 
gdalinfo output.... And I can see the Document - Page 1 - Map Frame 1 
structure.

> The toolbar is installed yesterday from
> TerraGo. I am just an end user and I cannot do any difficult things like
> compiling. I tried to edit the EPSG:32635 description with hex editor and
> changed "/" into "N".  No effect, TerraGo tool bar does not find the
> coordinates.
> 
> With EPSG:32635 GeoPDF file properties does not show any document tree
> structure. It is just "Document". With EPSG:3067 it is Document - Page 1 -
> Map Frame 1. Perhaps there is something that truncates the metadata?
> 
> -Jukka Rahkonen-
> 
> Een Rouault wrote:
> > Selon Rahkonen Jukka <Jukka.Rahkonen@mmmtike.fi>:
> > 
> > Nice to see early testers of geospatial PDF writing support !
> > 
> > I'm currently behind a corporate firewall that prevents
> > access to your samples,
> > but I did a quick test similar to yours and EPSG:3067 seems
> > to work fine with
> > Terrago Toolbar (v5.7.70). However I suspect that the
> > presence of the unescaped
> > slash (/) in the Description string might be the cause of the
> > issue (if you have
> > a different version of the toolbar). I've not verified if it
> > is allowed or not
> > by the PDF spec, but poppler doesn't seem to have issue with it.
> > 
> > So perhaps you could try the following patch that will encode
> > strings with
> > slashes into hexadecimal UTF16 sequences :
> > 
> > Index: pdfobject.cpp
> > ===================================================================
> > --- pdfobject.cpp	(revision 24040)
> > +++ pdfobject.cpp	(working copy)
> > @@ -63,7 +63,7 @@
> > 
> >      for(i=0;(ch = pabyData[i]) != '?';i++)
> >      {
> >      
> >          if (ch < 32 || ch > 127 ||
> > 
> > -            ch == '(' || ch == ')' ||
> > +            ch == '(' || ch == ')' || ch == '/' ||
> > 
> >              ch == '\' || ch == '%' || ch == '#')
> >              break;
> >      
> >      }
> > > 
> > > Hi,
> > > 
> > > I had a quick test by converting one GeoTIFF into
> > 
> > georeferenced PDF files
> > 
> > > with different parameters and opening results with Acrobat
> > 
> > Reader and TerraGo
> > 
> > > toolbar.
> > > 
> > > For TerraGo the metadata must be in OGC_BP style and ISO
> > 
> > style metadata must
> > 
> > > not exist (option BOTH does not work). What is odd is that
> > 
> > TerraGo toolbar
> > 
> > > finds coordinates if I run gdal_translate with -a_srs
> > > epsg:3067 but not if I run it with -a_srs epsg:32635.
> > > There seems to something different in the PDF headers, here
> > 
> > are short
> > 
> > > captures
> > > from the beginnings of the files
> > > 
> > > EPSG:32635 which is not understood by TerraGo toolbar
> > > 
> > > %PDF-1.6
> > > %<bh:ff><bh:ff><bh:ff><bh:ff>
> > > 7 0 obj
> > > << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> > > (6956053.279989699) ] /Description (WGS 84 / UTM zone 35N) /Neatline
> > > 
> > > EPSG:3067 which is OK for TerraGo
> > > 
> > > %PDF-1.6
> > > %<bh:ff><bh:ff><bh:ff><bh:ff>
> > > 7 0 obj
> > > << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> > > (6956053.279989699) ] /Description
> > 
> > <FEFF0045005400520053003800390020002F00200054004D0033003500460
> > 049004E00280045002C004E0029>
> > 
> > > /Neatline
> > > 
> > > Images are available here
> > > http://latuviitta.org/documents/GDAL_OGC_32635.pdf
> > > http://latuviitta.org/documents/GDAL_OGC_3067.pdf
> > > 
> > > -Jukka Rahkonen-
> > > 
> > > -Jukka Rahkonen-_______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
From Jukka.Rahkonen at mmmtike.fi  Thu Mar  1 15:00:41 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Thu Mar  1 15:01:16 2012
Subject: [gdal-dev] Trouble with georeferenced PDF
In-Reply-To: <201203012046.12035.even.rouault@mines-paris.org>
References: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>
	<1330597630.4f4f4efedbf65@imp.free.fr>
	<84446DEF76453C439E9E97E438E13A630825C3@suutari.haapa.mmm.fi>,
	<201203012046.12035.even.rouault@mines-paris.org>
Message-ID: <84446DEF76453C439E9E97E438E13A63082710@suutari.haapa.mmm.fi>

Hi,

Good to know. Obviously I will need to make more tests with other computers. This combination (TerraGo Toolbar and Acrobat X reader on Vista (32-bit) for sure does not show metadata correctly for that very same PDF file.

I can see that some metadata is in plain text in the EPSG:32635 file but perhaps as some PDF strings in the EPSG:3067 version. The OGC Best Practise paper seems to suggest using the PDF strings. Perhaps that can make difference with some OS + country setting combination or something.

-Jukka-

________________________________________
L?hett?j?: Even Rouault [even.rouault@mines-paris.org]
L?hetetty: 1. maaliskuuta 2012 21:46
Vastaanottaja: Rahkonen Jukka
Kopio: 'gdal-dev@lists.osgeo.org'
Aihe: Re: [gdal-dev] Trouble with georeferenced PDF

Le jeudi 01 mars 2012 11:43:59, Rahkonen Jukka a ?crit :
> Hi,
>
> EPSG:3067 works for me too.

I meant EPSG:32635 sorry. But now, I've downloaded your
http://latuviitta.org/documents/GDAL_OGC_32635.pdf sample and it is properly
recognized by TerraGo toolbar and the coordinates reported are consistant with
gdalinfo output.... And I can see the Document - Page 1 - Map Frame 1
structure.

> The toolbar is installed yesterday from
> TerraGo. I am just an end user and I cannot do any difficult things like
> compiling. I tried to edit the EPSG:32635 description with hex editor and
> changed "/" into "N".  No effect, TerraGo tool bar does not find the
> coordinates.
>
> With EPSG:32635 GeoPDF file properties does not show any document tree
> structure. It is just "Document". With EPSG:3067 it is Document - Page 1 -
> Map Frame 1. Perhaps there is something that truncates the metadata?
>
> -Jukka Rahkonen-
>
> Een Rouault wrote:
> > Selon Rahkonen Jukka <Jukka.Rahkonen@mmmtike.fi>:
> >
> > Nice to see early testers of geospatial PDF writing support !
> >
> > I'm currently behind a corporate firewall that prevents
> > access to your samples,
> > but I did a quick test similar to yours and EPSG:3067 seems
> > to work fine with
> > Terrago Toolbar (v5.7.70). However I suspect that the
> > presence of the unescaped
> > slash (/) in the Description string might be the cause of the
> > issue (if you have
> > a different version of the toolbar). I've not verified if it
> > is allowed or not
> > by the PDF spec, but poppler doesn't seem to have issue with it.
> >
> > So perhaps you could try the following patch that will encode
> > strings with
> > slashes into hexadecimal UTF16 sequences :
> >
> > Index: pdfobject.cpp
> > ===================================================================
> > --- pdfobject.cpp   (revision 24040)
> > +++ pdfobject.cpp   (working copy)
> > @@ -63,7 +63,7 @@
> >
> >      for(i=0;(ch = pabyData[i]) != '?';i++)
> >      {
> >
> >          if (ch < 32 || ch > 127 ||
> >
> > -            ch == '(' || ch == ')' ||
> > +            ch == '(' || ch == ')' || ch == '/' ||
> >
> >              ch == '\' || ch == '%' || ch == '#')
> >              break;
> >
> >      }
> > >
> > > Hi,
> > >
> > > I had a quick test by converting one GeoTIFF into
> >
> > georeferenced PDF files
> >
> > > with different parameters and opening results with Acrobat
> >
> > Reader and TerraGo
> >
> > > toolbar.
> > >
> > > For TerraGo the metadata must be in OGC_BP style and ISO
> >
> > style metadata must
> >
> > > not exist (option BOTH does not work). What is odd is that
> >
> > TerraGo toolbar
> >
> > > finds coordinates if I run gdal_translate with -a_srs
> > > epsg:3067 but not if I run it with -a_srs epsg:32635.
> > > There seems to something different in the PDF headers, here
> >
> > are short
> >
> > > captures
> > > from the beginnings of the files
> > >
> > > EPSG:32635 which is not understood by TerraGo toolbar
> > >
> > > %PDF-1.6
> > > %<bh:ff><bh:ff><bh:ff><bh:ff>
> > > 7 0 obj
> > > << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> > > (6956053.279989699) ] /Description (WGS 84 / UTM zone 35N) /Neatline
> > >
> > > EPSG:3067 which is OK for TerraGo
> > >
> > > %PDF-1.6
> > > %<bh:ff><bh:ff><bh:ff><bh:ff>
> > > 7 0 obj
> > > << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> > > (6956053.279989699) ] /Description
> >
> > <FEFF0045005400520053003800390020002F00200054004D0033003500460
> > 049004E00280045002C004E0029>
> >
> > > /Neatline
> > >
> > > Images are available here
> > > http://latuviitta.org/documents/GDAL_OGC_32635.pdf
> > > http://latuviitta.org/documents/GDAL_OGC_3067.pdf
> > >
> > > -Jukka Rahkonen-
> > >
> > > -Jukka Rahkonen-_______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Thu Mar  1 15:39:49 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar  1 15:40:03 2012
Subject: [gdal-dev] Trouble with georeferenced PDF
In-Reply-To: <84446DEF76453C439E9E97E438E13A63082710@suutari.haapa.mmm.fi>
References: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>
	<201203012046.12035.even.rouault@mines-paris.org>
	<84446DEF76453C439E9E97E438E13A63082710@suutari.haapa.mmm.fi>
Message-ID: <201203012139.49785.even.rouault@mines-paris.org>

Le jeudi 01 mars 2012 21:00:41, Rahkonen Jukka a ?crit :
> Hi,
> 
> Good to know. Obviously I will need to make more tests with other
> computers. This combination (TerraGo Toolbar and Acrobat X reader on Vista
> (32-bit) for sure does not show metadata correctly for that very same PDF
> file.

For the record, I've tested it with Acrobat Reader X under Wine. If I've time, 
I'll check under a regular Win XP installation

> 
> I can see that some metadata is in plain text in the EPSG:32635 file but
> perhaps as some PDF strings in the EPSG:3067 version. The OGC Best
> Practise paper seems to suggest using the PDF strings.

The paper suggests using PDF strings for numeric values to have higher 
percision, but that's not a requirement (and the driver will anyway use that 
capability when needed).

As far as the difference between your 2 sample files, you can see indeed some 
strings encoded in hexadecimal or in regular form, but reviewing the PDF spec, 
I don't see anything to fix in the driver concerning the strategy that decides 
whether regular string or hexadecimal should be selected.

> Perhaps that can
> make difference with some OS + country setting combination or something.

Hum, you can perhaps try something. In the projection information, I've added 
a WKT attribute that is not in the OGC BP spec and is an extension only used 
for the benefit of GDAL when it is found (it avoids loosing information when 
going from/to OGC BP representation). You can disable its writting by setting 
the GDAL_PDF_OGC_BP_WRITE_WKT configuration option to NO. But I'm a bit 
skeptical it will help. In my testing, the toolbar just happily ignored it, as 
it should.

> 
> -Jukka-
> 
> ________________________________________
> L?hett?j?: Even Rouault [even.rouault@mines-paris.org]
> L?hetetty: 1. maaliskuuta 2012 21:46
> Vastaanottaja: Rahkonen Jukka
> Kopio: 'gdal-dev@lists.osgeo.org'
> Aihe: Re: [gdal-dev] Trouble with georeferenced PDF
> 
> Le jeudi 01 mars 2012 11:43:59, Rahkonen Jukka a ?crit :
> > Hi,
> > 
> > EPSG:3067 works for me too.
> 
> I meant EPSG:32635 sorry. But now, I've downloaded your
> http://latuviitta.org/documents/GDAL_OGC_32635.pdf sample and it is
> properly recognized by TerraGo toolbar and the coordinates reported are
> consistant with gdalinfo output.... And I can see the Document - Page 1 -
> Map Frame 1 structure.
> 
> > The toolbar is installed yesterday from
> > TerraGo. I am just an end user and I cannot do any difficult things like
> > compiling. I tried to edit the EPSG:32635 description with hex editor and
> > changed "/" into "N".  No effect, TerraGo tool bar does not find the
> > coordinates.
> > 
> > With EPSG:32635 GeoPDF file properties does not show any document tree
> > structure. It is just "Document". With EPSG:3067 it is Document - Page 1
> > - Map Frame 1. Perhaps there is something that truncates the metadata?
> > 
> > -Jukka Rahkonen-
> > 
> > Een Rouault wrote:
> > > Selon Rahkonen Jukka <Jukka.Rahkonen@mmmtike.fi>:
> > > 
> > > Nice to see early testers of geospatial PDF writing support !
> > > 
> > > I'm currently behind a corporate firewall that prevents
> > > access to your samples,
> > > but I did a quick test similar to yours and EPSG:3067 seems
> > > to work fine with
> > > Terrago Toolbar (v5.7.70). However I suspect that the
> > > presence of the unescaped
> > > slash (/) in the Description string might be the cause of the
> > > issue (if you have
> > > a different version of the toolbar). I've not verified if it
> > > is allowed or not
> > > by the PDF spec, but poppler doesn't seem to have issue with it.
> > > 
> > > So perhaps you could try the following patch that will encode
> > > strings with
> > > slashes into hexadecimal UTF16 sequences :
> > > 
> > > Index: pdfobject.cpp
> > > ===================================================================
> > > --- pdfobject.cpp   (revision 24040)
> > > +++ pdfobject.cpp   (working copy)
> > > @@ -63,7 +63,7 @@
> > > 
> > >      for(i=0;(ch = pabyData[i]) != '?';i++)
> > >      {
> > >      
> > >          if (ch < 32 || ch > 127 ||
> > > 
> > > -            ch == '(' || ch == ')' ||
> > > +            ch == '(' || ch == ')' || ch == '/' ||
> > > 
> > >              ch == '\' || ch == '%' || ch == '#')
> > >              break;
> > >      
> > >      }
> > > > 
> > > > Hi,
> > > > 
> > > > I had a quick test by converting one GeoTIFF into
> > > 
> > > georeferenced PDF files
> > > 
> > > > with different parameters and opening results with Acrobat
> > > 
> > > Reader and TerraGo
> > > 
> > > > toolbar.
> > > > 
> > > > For TerraGo the metadata must be in OGC_BP style and ISO
> > > 
> > > style metadata must
> > > 
> > > > not exist (option BOTH does not work). What is odd is that
> > > 
> > > TerraGo toolbar
> > > 
> > > > finds coordinates if I run gdal_translate with -a_srs
> > > > epsg:3067 but not if I run it with -a_srs epsg:32635.
> > > > There seems to something different in the PDF headers, here
> > > 
> > > are short
> > > 
> > > > captures
> > > > from the beginnings of the files
> > > > 
> > > > EPSG:32635 which is not understood by TerraGo toolbar
> > > > 
> > > > %PDF-1.6
> > > > %<bh:ff><bh:ff><bh:ff><bh:ff>
> > > > 7 0 obj
> > > > << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> > > > (6956053.279989699) ] /Description (WGS 84 / UTM zone 35N) /Neatline
> > > > 
> > > > EPSG:3067 which is OK for TerraGo
> > > > 
> > > > %PDF-1.6
> > > > %<bh:ff><bh:ff><bh:ff><bh:ff>
> > > > 7 0 obj
> > > > << /CTM [ (0.5487347256) 0 0 (0.5487347256) (3409989.640548643)
> > > > (6956053.279989699) ] /Description
> > > 
> > > <FEFF0045005400520053003800390020002F00200054004D0033003500460
> > > 049004E00280045002C004E0029>
> > > 
> > > > /Neatline
> > > > 
> > > > Images are available here
> > > > http://latuviitta.org/documents/GDAL_OGC_32635.pdf
> > > > http://latuviitta.org/documents/GDAL_OGC_3067.pdf
> > > > 
> > > > -Jukka Rahkonen-
> > > > 
> > > > -Jukka Rahkonen-_______________________________________________
> > > > gdal-dev mailing list
> > > > gdal-dev@lists.osgeo.org
> > > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
From jukka.rahkonen at mmmtike.fi  Thu Mar  1 15:49:40 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Mar  1 15:50:37 2012
Subject: [gdal-dev] Re: Trouble with georeferenced PDF
References: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>
	<201203012046.12035.even.rouault@mines-paris.org>
	<84446DEF76453C439E9E97E438E13A63082710@suutari.haapa.mmm.fi>
	<201203012139.49785.even.rouault@mines-paris.org>
Message-ID: <loom.20120301T214744-207@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:


> Hum, you can perhaps try something. In the projection information, I've added 
> a WKT attribute that is not in the OGC BP spec and is an extension only used 
> for the benefit of GDAL when it is found (it avoids loosing information when 
> going from/to OGC BP representation). You can disable its writting by setting 
> the GDAL_PDF_OGC_BP_WRITE_WKT configuration option to NO. But I'm a bit 
> skeptical it will help. In my testing, the toolbar just happily ignored it, as 
> it should.

No difference by using  --config GDAL_PDF_OGC_BP_WRITE_WKT NO

-Jukka-

From jukka.rahkonen at mmmtike.fi  Thu Mar  1 16:19:34 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Mar  1 16:20:34 2012
Subject: [gdal-dev] Can PDF measuring be activated
Message-ID: <loom.20120301T221153-148@post.gmane.org>

Hi, 

The native measurement tool of Acrobat Reader stays greyed with the ISO style
georeferenced PDFs. From Abobe forum I found this:

"Re: Measure tool disabled

The tool needs to be enabled using Acrobat. For example, in Acrobat 9 you'd open
the document and select: Comments > Enable for Commenting and Analysis in Adobe
Reader or Advanced > Extend Features in Adobe Reader"

Would it be possible for GDAL to write PDF so that measure tool could be used?

-Jukka Rahkonen-

From even.rouault at mines-paris.org  Thu Mar  1 16:51:22 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar  1 16:52:08 2012
Subject: [gdal-dev] Can PDF measuring be activated
In-Reply-To: <loom.20120301T221153-148@post.gmane.org>
References: <loom.20120301T221153-148@post.gmane.org>
Message-ID: <201203012251.22602.even.rouault@mines-paris.org>

Le jeudi 01 mars 2012 22:19:34, Jukka Rahkonen a ?crit :
> Hi,
> 
> The native measurement tool of Acrobat Reader stays greyed with the ISO
> style georeferenced PDFs. From Abobe forum I found this:
> 
> "Re: Measure tool disabled

Ah, interesting. I was also wondering why I add only access to coordinates 
display.

> 
> The tool needs to be enabled using Acrobat. For example, in Acrobat 9 you'd
> open the document and select: Comments > Enable for Commenting and
> Analysis in Adobe Reader or Advanced > Extend Features in Adobe Reader"
> 
> Would it be possible for GDAL to write PDF so that measure tool could be
> used?

Well, I suspect there's some magic to write in the file to do so... By chance, 
do you know if there's a spec for that and which aspect of the spec covers 
that ? I'm afraid it might be something related to the horrible permission and 
encryption system of the main PDF spec... At the very least, a sample that has 
gone through the enabling system in Acrobat would make it easier to know if it 
is feasable or not.

> 
> -Jukka Rahkonen-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From SGONG at mdacorporation.com  Thu Mar  1 17:11:29 2012
From: SGONG at mdacorporation.com (Shawn Gong)
Date: Thu Mar  1 17:12:54 2012
Subject: [gdal-dev] GDAL1.8.1 PCIDSK linked files ticket 21513  
Message-ID: <33584A1DEF4341428D15C1273466D32302164FBD46@EVSYVR1.ds.mda.ca>

Hi list,

I am using GDAL1.8.1 and gdal.Open() failed on some PCIDSK linked files
The error message is ?ERROR 4: `LNK=1024File requires a newer PCIDSK file reader to read' does not exist in the file system, and is not recognised as a supported dataset name."

I have seen the ticket on http://trac.osgeo.org/gdal/changeset/21513  
Is this ticket closed or still an issue in 1.8.1?
Is this fixed for GDAL 1.9.0 or other version(s)?


Thanks,
Shawn
From warmerdam at pobox.com  Thu Mar  1 17:26:20 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar  1 17:26:39 2012
Subject: [gdal-dev] GDAL1.8.1 PCIDSK linked files ticket 21513
In-Reply-To: <33584A1DEF4341428D15C1273466D32302164FBD46@EVSYVR1.ds.mda.ca>
References: <33584A1DEF4341428D15C1273466D32302164FBD46@EVSYVR1.ds.mda.ca>
Message-ID: <CA+YzLBeW9S5-Or3tRf=2==UThJy+yMsZ1L2CZKwjOinEsYdAzw@mail.gmail.com>

Shawn,

I believe 1.8 does not contain lots of improvements including some
kinds of linked files - for instance as represented by:

  http://trac.osgeo.org/gdal/changeset/21920
  http://trac.osgeo.org/gdal/changeset/21921

I would suggest you try with GDAL 1.9.0.  Back porting bits of the
pcidsk sdk into 1.8 is likely to be problematic.

Best regards,
Frank

On Thu, Mar 1, 2012 at 2:11 PM, Shawn Gong <SGONG@mdacorporation.com> wrote:
> Hi list,
>
> I am using GDAL1.8.1 and gdal.Open() failed on some PCIDSK linked files
> The error message is ?ERROR 4: `LNK=1024File requires a newer PCIDSK file reader to read' does not exist in the file system, and is not recognised as a supported dataset name."
>
> I have seen the ticket on http://trac.osgeo.org/gdal/changeset/21513
> Is this ticket closed or still an issue in 1.8.1?
> Is this fixed for GDAL 1.9.0 or other version(s)?
>
>
> Thanks,
> Shawn_______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From SGONG at mdacorporation.com  Thu Mar  1 17:31:04 2012
From: SGONG at mdacorporation.com (Shawn Gong)
Date: Thu Mar  1 17:33:37 2012
Subject: [gdal-dev] GDAL1.8.1 PCIDSK linked files ticket 21513
In-Reply-To: <CA+YzLBeW9S5-Or3tRf=2==UThJy+yMsZ1L2CZKwjOinEsYdAzw@mail.gmail.com>
References: <33584A1DEF4341428D15C1273466D32302164FBD46@EVSYVR1.ds.mda.ca>,
	<CA+YzLBeW9S5-Or3tRf=2==UThJy+yMsZ1L2CZKwjOinEsYdAzw@mail.gmail.com>
Message-ID: <33584A1DEF4341428D15C1273466D32302164FBD48@EVSYVR1.ds.mda.ca>

Thank you, Frank.
I'll go with GDAL 1.9.0

Shawn
________________________________________
From: fwarmerdam@gmail.com [fwarmerdam@gmail.com] On Behalf Of Frank Warmerdam [warmerdam@pobox.com]
Sent: March 1, 2012 5:26 PM
To: Shawn Gong
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL1.8.1 PCIDSK linked files ticket 21513

Shawn,

I believe 1.8 does not contain lots of improvements including some
kinds of linked files - for instance as represented by:

  http://trac.osgeo.org/gdal/changeset/21920
  http://trac.osgeo.org/gdal/changeset/21921

I would suggest you try with GDAL 1.9.0.  Back porting bits of the
pcidsk sdk into 1.8 is likely to be problematic.

Best regards,
Frank

On Thu, Mar 1, 2012 at 2:11 PM, Shawn Gong <SGONG@mdacorporation.com> wrote:
> Hi list,
>
> I am using GDAL1.8.1 and gdal.Open() failed on some PCIDSK linked files
> The error message is ?ERROR 4: `LNK=1024File requires a newer PCIDSK file reader to read' does not exist in the file system, and is not recognised as a supported dataset name."
>
> I have seen the ticket on http://trac.osgeo.org/gdal/changeset/21513
> Is this ticket closed or still an issue in 1.8.1?
> Is this fixed for GDAL 1.9.0 or other version(s)?
>
>
> Thanks,
> Shawn_______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
From phil.wilkes at dse.vic.gov.au  Thu Mar  1 18:36:12 2012
From: phil.wilkes at dse.vic.gov.au (kungphil)
Date: Thu Mar  1 18:37:06 2012
Subject: [gdal-dev] Selecting features using ogrinfo
Message-ID: <1330644972592-4537990.post@n6.nabble.com>

Hi

I want to select a feature from a shapefile and extract the extent to then
clip a raster.  I thought I could use ogrinfo to select an individual
feature but using the command below the reported extent is for the whole
shapefile.

ogrinfo -al -where GRID_ID=312 shapefile.shp

Help please!

Phil 

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Selecting-features-using-ogrinfo-tp4537990p4537990.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From dbakeman at comcast.net  Thu Mar  1 19:03:07 2012
From: dbakeman at comcast.net (David J. Bakeman)
Date: Thu Mar  1 19:04:47 2012
Subject: [gdal-dev] Selecting features using ogrinfo
In-Reply-To: <1330644972592-4537990.post@n6.nabble.com>
References: <1330644972592-4537990.post@n6.nabble.com>
Message-ID: <4F500E3B.2000500@comcast.net>

kungphil wrote:
> Hi
>
> I want to select a feature from a shapefile and extract the extent to then
> clip a raster.  I thought I could use ogrinfo to select an individual
> feature but using the command below the reported extent is for the whole
> shapefile.
>
> ogrinfo -al -where GRID_ID=312 shapefile.shp
>    
First what version of gdal and what OS are you running on?

I ran this on one of my shapefiles I'm running gdal 1.7.3 on linux 
fedora core 14 and got just the matching feature back:

ogrinfo -al -where 'POLYID=5' polys.shp
> Help please!
>
> Phil
>
> --
> View this message in context: http://osgeo-org.1560.n6.nabble.com/Selecting-features-using-ogrinfo-tp4537990p4537990.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>    

From phil.wilkes at dse.vic.gov.au  Thu Mar  1 19:29:29 2012
From: phil.wilkes at dse.vic.gov.au (kungphil)
Date: Thu Mar  1 19:29:49 2012
Subject: [gdal-dev] Re: Selecting features using ogrinfo - 'ERROR 1: Not
 enough tokens to complete expression.'
In-Reply-To: <4F500E3B.2000500@comcast.net>
References: <4F500E3B.2000500@comcast.net>
Message-ID: <1330648169179-4538095.post@n6.nabble.com>

Thanks for your post David, I am running GDAL 1.7.1 on Solaris 10.

I realised the extent for the selected feature is printed at the bottom.

I now have another/related issue.  I am calling this from within Python and
I get an error 'ERROR 1: Not enough tokens to complete expression.' and its
prints extents for all features within the shapefile.  Yet if I run the same
command from the command line then it works fine. I am using python2.6.

Code:

args = ['ogrinfo', '-al', '-where',  '\'GRID_ID=312\'', 'shapefile.shp']
for line in str.split(str(subprocess.Popen(args,
stdout=subprocess.PIPE).communicate()[0]),'\n'):
      print line

(Apologies for not posting code correctly as I can't remember the method!)

Many thanks, Phil


--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Re-Selecting-features-using-ogrinfo-tp4538045p4538095.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Thu Mar  1 19:29:45 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar  1 19:30:04 2012
Subject: [gdal-dev] Selecting features using ogrinfo
In-Reply-To: <4F500E3B.2000500@comcast.net>
References: <1330644972592-4537990.post@n6.nabble.com>
	<4F500E3B.2000500@comcast.net>
Message-ID: <201203020129.45263.even.rouault@mines-paris.org>

Le vendredi 02 mars 2012 01:03:07, David J. Bakeman a ?crit :
> kungphil wrote:
> > Hi
> > 
> > I want to select a feature from a shapefile and extract the extent to
> > then clip a raster.  I thought I could use ogrinfo to select an
> > individual feature but using the command below the reported extent is
> > for the whole shapefile.
> > 
> > ogrinfo -al -where GRID_ID=312 shapefile.shp
> 
> First what version of gdal and what OS are you running on?
> 
> I ran this on one of my shapefiles I'm running gdal 1.7.3 on linux
> fedora core 14 and got just the matching feature back:
> 
> ogrinfo -al -where 'POLYID=5' polys.shp

Phil is mentionning the spatial extent I believe, not the exactness of the 
features returned.

Yes, ogrinfo on shapefiles will always report the full layer extent, even if 
you put an attribute filter. A way to solve your problem is to produce a 
temporary shapefile with ogr2ogr and the attribute filter, and ask the extent on 
it.

> 
> > Help please!
> > 
> > Phil
> > 
> > --
> > View this message in context:
> > http://osgeo-org.1560.n6.nabble.com/Selecting-features-using-ogrinfo-tp4
> > 537990p4537990.html Sent from the GDAL - Dev mailing list archive at
> > Nabble.com.
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From Bill.Teluk at team.telstra.com  Thu Mar  1 22:28:26 2012
From: Bill.Teluk at team.telstra.com (Bill Teluk)
Date: Thu Mar  1 22:28:40 2012
Subject: [gdal-dev] Oracle Locator Support
Message-ID: <1330658906186-4538403.post@n6.nabble.com>

Hi,
I'm investigating migrating an application to using Oracle Locator as it's
Spatial Database.  The application uses the ogr2ogr utility for a number of
functions on our existing platform, such as data loading into the database.
We may also use some OGR API calls in the future.

Is GDAL/OGR designed to work with Locator-only installations, or does it
need the full Spatial installation.

Thanks,
Bill Teluk.

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Oracle-Locator-Support-tp4538403p4538403.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jukka.rahkonen at mmmtike.fi  Fri Mar  2 02:49:40 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Mar  2 02:50:22 2012
Subject: [gdal-dev] Re: Trouble with georeferenced PDF
References: <84446DEF76453C439E9E97E438E13A6308257A@suutari.haapa.mmm.fi>
	<1330597630.4f4f4efedbf65@imp.free.fr>
	<84446DEF76453C439E9E97E438E13A630825C3@suutari.haapa.mmm.fi>,
	<201203012046.12035.even.rouault@mines-paris.org>
	<84446DEF76453C439E9E97E438E13A63082710@suutari.haapa.mmm.fi>
Message-ID: <loom.20120302T084435-214@post.gmane.org>

Rahkonen Jukka <Jukka.Rahkonen <at> mmmtike.fi> writes:

> 
> Hi,
> 
> Good to know. Obviously I will need to make more tests with other computers.
This combination (TerraGo
> Toolbar and Acrobat X reader on Vista (32-bit) for sure does not show metadata
correctly for that very same
> PDF file.
> 
> I can see that some metadata is in plain text in the EPSG:32635 file but
perhaps as some PDF strings in the
> EPSG:3067 version. The OGC Best Practise paper seems to suggest using the PDF
strings. Perhaps that can
> make difference with some OS + country setting combination or something.

Some results:

- EPSG:32635 file works perfectly with Windows XP
- It does not work with Windows 7 64-bit
- Changing computer to English(US) settings does not cure Vista nor Win7

I start to consider that this could be a TerraGo Toolbar issue. Let's see how
responsive they are at TerraGo. They told alreasy that the next version will
have a limited support for the ISO style metadata.

-Jukka-

From nicolas.simon at spw.wallonie.be  Fri Mar  2 04:46:27 2012
From: nicolas.simon at spw.wallonie.be (Nicolas Simon)
Date: Fri Mar  2 05:03:13 2012
Subject: [gdal-dev] Oracle Locator Support
In-Reply-To: <1330658906186-4538403.post@n6.nabble.com>
Message-ID: <94D09947F0049948855245E630E6FA4E81E76A@si0140.mrw.wallonie.int>

Bill,
	It's Ok with Locator-only installation.
	
Nicolas Simon
> -----Message d'origine-----
> De : gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org]De la part de Bill Teluk
> Envoy? : vendredi 2 mars 2012 4:28
> ? : gdal-dev@lists.osgeo.org
> Objet : [gdal-dev] Oracle Locator Support
> 
> 
> Hi,
> I'm investigating migrating an application to using Oracle 
> Locator as it's
> Spatial Database.  The application uses the ogr2ogr utility 
> for a number of
> functions on our existing platform, such as data loading into 
> the database.
> We may also use some OGR API calls in the future.
> 
> Is GDAL/OGR designed to work with Locator-only installations, 
> or does it
> need the full Spatial installation.
> 
> Thanks,
> Bill Teluk.
> 
> --
> View this message in context: 
> http://osgeo-org.1560.n6.nabble.com/Oracle-Locator-Support-tp4
538403p4538403.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev




From jukka.rahkonen at mmmtike.fi  Fri Mar  2 06:53:39 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Mar  2 06:54:01 2012
Subject: [gdal-dev] Re: Can PDF measuring be activated
References: <loom.20120301T221153-148@post.gmane.org>
	<201203012251.22602.even.rouault@mines-paris.org>
Message-ID: <loom.20120302T125020-1@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:

> 
> Le jeudi 01 mars 2012 22:19:34, Jukka Rahkonen a ?crit :
> > Hi,
> > 
> > The native measurement tool of Acrobat Reader stays greyed with the ISO
> > style georeferenced PDFs. From Abobe forum I found this:
> > 
> > "Re: Measure tool disabled
> 
> Ah, interesting. I was also wondering why I add only access to coordinates 
> display.

.....
> At the very least, a sample that has 
> gone through the enabling system in Acrobat would make it easier to know if it 
> is feasable or not.

http://latuviitta.org/documents/GDAL_ISO+OGC_3067_enabled.pdf

-Jukka-

From beyhan at deprem.gov.tr  Fri Mar  2 07:08:25 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Fri Mar  2 07:12:28 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
Message-ID: <1330690105.4689.6.camel@localhost>

Chaitanya,

I could not do this using sql sorry.

But I have an another idea is it good way to store these data as a
spatial database in MySql.
I try this but when I insert data to mysql table
I have problem . 
I have created a table
as follows

eq_id varchar(14)
fault linestring 

then I will insert data (if I success how to do that)
then I will use this table from mapserver.
 is this proper way.
Or how to declare geom column as string at sql statement as follows

 create view lineview as select eq_id, "LINESTRING(" + lon1 + " " + lat1
 + "," + lon2 + " " + lat2 + ")" as geom from sfault


please give your idea...


  
On Thu, 2012-03-01 at 14:40 +0530, Chaitanya kumar CH wrote:
> Murat,
> 
> 
> It's not working. the geom field should not be 'Real'. It should be
> 'String'. Try something else other than the '+' operator in the SQL
> syntax to create the geom field in the view.
> 
> On Thu, Mar 1, 2012 at 12:48 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
>         Chaitanya,
>         
>         I have had a progress about VRT data access
>         but I afraid something wrong in mapserver .map file.
>         
>         here is the test.vrt file and I use in map file with
>         connection ogr
>         functionality. :
>         
>         <OGRVRTDataSource>
>         <OGRVRTLayer name="dynamic">
>         <SrcDataSource>MYSQL:dynamic,user=root,password=mysql_passwd,host=localhost,port=3306,tables=lineview</SrcDataSource>
>         <SrcSql>select eq_id, geom from lineview</SrcSql>
>         <GeometryType>wkbLineString</GeometryType>
>         <GeometryField encoding="WKT" field="geom"/>
>         
>         </OGRVRTLayer>
>         </OGRVRTDataSource>
>         
>         then the command
>         
>         
>         [murat@localhost stations]$ ogrinfo -ro -al test.vrt
>         INFO: Open of `test.vrt'
>              using driver `VRT' successful.
>         
>         
>         Layer name: dynamic
>         Geometry: Line String
>         Feature Count: 2
>         Layer SRS WKT:
>         (unknown)
>         
>         eq_id: String (42.0)
>         geom: Real (23.0)
>         OGRFeature(dynamic):0
>          eq_id (String) = 20111023101120
>          geom (Real) =                     164
>         
>         OGRFeature(dynamic):1
>          eq_id (String) = 20100308023229
>          geom (Real) =                     163
>         
>         
>         
>         it works now but mapserver gives an error as follows:
>         
>         Server error!
>         The server encountered an internal error and was unable to
>         complete your
>         request.
>         
>         Error message:
>         Premature end of script headers: mapserv
>         
>         If you think this is a server error, please contact the
>         webmaster.
>         
>         
>         Error 500
>         10.14.0.67
>         Apache/2.2.14 (Mandriva Linux/PREFORK-1.6mdv2010.0)
>         
>         
>         
>         I think I will solve it with your help.
>         
>         Many thanks
>         
>         Murat
>         
>         
>         On Thu, 2012-03-01 at 09:22 +0530, Chaitanya kumar CH wrote:
>         > Murat,
>         >
>         > You should check MySQL's SQL syntax to concatenate strings
>         and
>         > decimals to produce a string.
>         >
>         > On Wednesday, February 29, 2012, Murat Beyhan
>         <beyhan@deprem.gov.tr>
>         > wrote:
>         > > Chaitanya,
>         > >
>         > > here is the structure of table on database
>         > >
>         > > sfault :
>         > >
>         > > eq_id varchar(14)
>         > > lat1  decimal(7,4)
>         > > lon1  decimal(7,4)
>         > > lat2  decimal(7,4)
>         > > lon2  decimal(7,4)
>         > >
>         > > lineview :
>         > >
>         > >
>         > > eq_id varchar(14)
>         > > geom  double
>         > >
>         > >
>         > > it seams geom as double
>         > > I thing it should be geometry isn't it?
>         > >
>         > > may be  I have to change structure of lineview by changing
>         following
>         > > Roberts' suggestion to create view on database
>         > >
>         > >  create view lineview as select eq_id, "LINESTRING(" +
>         lon1 + " " +
>         > lat1
>         > >  + "," + lon2 + " " + lat2 + ")" as geom from sfault
>         > >
>         > >
>         > > but I'm not sure for the line.
>         > >
>         > > VTR for points, I have tested and works well
>         > >
>         > >
>         > > but for line still could not achieved yet, please give me
>         another
>         > idea.
>         > >
>         > > here is test.vrt file
>         > >
>         > > <OGRVRTDataSource>
>         > > <OGRVRTLayer name="sta">
>         > >
>         >
>         <SrcDataSource>MYSQL:stations,user=root,password=mysql_passwd,host=localhost,port=3306,tables=sta</SrcDataSource>
>         > > <SrcSQL>SELECT sta_id as name,type,latitude,longitude from
>         sta where
>         > > type like "%SMACH%"</SrcSQL>
>         > > <GeometryType>wkbPoint</GeometryType>
>         > > <GeometryField encoding="PointFromColumns" x="longitude"
>         > y="latitude"/>
>         > > </OGRVRTLayer>
>         > > </OGRVRTDataSource>
>         > >
>         > > and following code gives successful result as you see
>         > >
>         > >
>         > > ogrinfo -ro -al test.vrt
>         > >
>         > > INFO: Open of `test.vrt' using driver `VRT' successful.
>         > >
>         > > Layer name: sta
>         > > Geometry: Point
>         > > Feature Count: 12
>         > > Layer SRS WKT:
>         > > (unknown)
>         > > name: String (12.0)
>         > > type: String (24.0)
>         > > latitude: Real (5.4)
>         > > longitude: Real (5.4)
>         > > OGRFeature(sta):0
>         > >  name (String) = 0617
>         > >  type (String) = SMACH
>         > >  latitude (Real) = 40.4569
>         > >  longitude (Real) = 32.6319
>         > >  POINT (32.631900000000002 40.456899999999997)
>         > >
>         > > OGRFeature(sta):1
>         > >  name (String) = 0618
>         > >  type (String) = SMACH
>         > >  latitude (Real) = 40.4798
>         > >  longitude (Real) = 32.4555
>         > >  POINT (32.4555 40.479799999999997)
>         > >
>         > > .
>         > > .
>         > > .
>         > > .
>         > >
>         > >
>         > > As you see this works well.
>         > >
>         > > I hope you can catch point what is wrong or lack of on my
>         works....
>         > >
>         > >
>         > > Thanks again
>         > >
>         > >
>         > >
>         > >
>         > > On Tue, 2012-02-28 at 18:08 +0530, Chaitanya kumar CH
>         wrote:
>         > >> Murat,
>         > >>
>         > >>
>         > >> I see that your view,  lineview, doesn't give the
>         expected geometry
>         > >> type with ogrinfo. It is showing the datatype as Real.
>         Check if the
>         > >> datatype of geom is actually string/text.
>         > >>
>         > >> On Tue, Feb 28, 2012 at 12:49 PM, Murat Beyhan
>         > <beyhan@deprem.gov.tr>
>         > >> wrote:
>         > >>         Chaitanya,
>         > >>
>         > >>
>         > >>         Map file which is try to draw line as follows
>         > >>         are there any problem on the code
>         > >>
>         > >>          LAYER
>         > >>          NAME sfault1
>         > >>          CONNECTIONTYPE OGR
>         > >>          CONNECTION '<OGRVRTDataSource>
>         > >>          <OGRVRTLayer name="lineview">
>         > >>
>         > >>
>         >
>         <SrcDataSource>MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306,tables=lineview</SrcDataSource>
>         > >>          <SrcLayer>lineview</SrcLayer>
>         > >>          <GeometryType>wkbLineString</GeometryType>
>         > >>          <GeometryField encoding="WKT" field="geom"/>
>         > >>          <LayerSRS>WGS84</LayerSRS>
>         > >>          <FID>eq_id</FID>
>         > >>          </OGRVRTLayer>
>         > >>          </OGRVRTDataSource>'
>         > >>          DATA sfault1
>         > >>          STATUS on
>         > >>          TYPE line
>         > >>          CLASS
>         > >>          NAME "Source Fault"
>         > >>          SYMBOL "cline"
>         > >>           SIZE 3
>         > >>          COLOR  0 0 255
>         > >>          END
>         > >>          END
>         > >>
>         > >>
>         > >>         ogrinfo
>         > >>
>         >
>         MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
>         > >>         sfault -summary
>         > >>         INFO: Open of
>         > >>
>         >
>         `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
>         > >>              using driver `MySQL' successful.
>         > >>
>         > >>         Layer name: sfault
>         > >>         Geometry: None
>         > >>         Feature Count: 1
>         > >>         Layer SRS WKT:
>         > >>         (unknown)
>         > >>         eq_id: String (14.0)
>         > >>         lat1: Real (7.4)
>         > >>         lon1: Real (7.4)
>         > >>         lat2: Real (7.4)
>         > >>         lon2: Real (7.4)
>         > >>
>         > >>         **************linewiew created by following sql
>         > >>         statement:*************
>         > >>
>         > >>
>         > >>          create view lineview as select eq_id,
>         "LINESTRING(" + lon1
>         > +
>         > >>         " " + lat1
>         > >>          + "," + lon2 + " " + lat2 + ")" as geom from
>         sfault
>         > >>
>         > >>
>         > >>         then
>         > >>
>         > >>         [murat@localhost ~]$ ogrinfo
>         > >>
>         >
>         MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
>         > >>         lineview -summary
>         > >>         INFO: Open of
>         > >>
>         >
>         `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
>         > >>              using driver `MySQL' successful.
>         > >>
>         > >>         Layer name: lineview
>         > >>         Geometry: None
>         > >>         Feature Count: 1
>         > >>         Layer SRS WKT:
>         > >>         (unknown)
>         > >>         eq_id: String (14.0)
>         > >>         geom: Real (0.0)
>         > >>
>         > >>
>         > >>
>         >
>         > --
>         > Best regards,
>         > Chaitanya kumar CH.
>         >
>         > +91-9494447584
>         > 17.2416N 80.1426E
>         >
>         
>         > --
>         > This message has been scanned for viruses and
>         > dangerous content by MailScanner, and is
>         > believed to be clean.
>         
>         
>         
>         Murat BEYHAN
>         
>         Jeofizik Y.M?h.
>         T.C. Ba?bakanl?k
>         Afet ve Acil Durum Y?netimi Ba?kanl???
>         Deprem Dairesi Ba?kanl???
>         Eski?ehir Yolu 12. Km.
>         Lodumlu/ANKARA
>         Tel: 312 2872680-1556
>         email:beyhan@deprem.gov.tr
>         
>         
>         
>         
>         --
>         This message has been scanned for viruses and
>         dangerous content by MailScanner, and is
>         believed to be clean.
>         
>         
> 
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From chaitanya.ch at gmail.com  Fri Mar  2 07:35:12 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar  2 07:36:02 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330690105.4689.6.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
Message-ID: <CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>

Murat,

Put aside linestrings and geometries. First you need to have a wkt
representation of your line segment. Your MySQL query is returning a
number. That should be an indicator that your query was wrong. You were
using the wrong operator. You need to convert the latitude and longitude
values to string and concatenate the them with the other strings to make up
the wkt of linestring geometries. Otherwise, MySQL is just adding the
string and decimal values mathematically.

Use the CONVERT function as described in the website:
http://www.geeksengine.com/database/single-row-functions/conversion-functions.php

On Fri, Mar 2, 2012 at 5:38 PM, Murat Beyhan <beyhan@deprem.gov.tr> wrote:

> Chaitanya,
>
> I could not do this using sql sorry.
>
> But I have an another idea is it good way to store these data as a
> spatial database in MySql.
> I try this but when I insert data to mysql table
> I have problem .
> I have created a table
> as follows
>
> eq_id varchar(14)
> fault linestring
>
> then I will insert data (if I success how to do that)
> then I will use this table from mapserver.
>  is this proper way.
> Or how to declare geom column as string at sql statement as follows
>
>  create view lineview as select eq_id, "LINESTRING(" + lon1 + " " + lat1
>  + "," + lon2 + " " + lat2 + ")" as geom from sfault
>
>
> please give your idea...
>
>
>
> On Thu, 2012-03-01 at 14:40 +0530, Chaitanya kumar CH wrote:
> > Murat,
> >
> >
> > It's not working. the geom field should not be 'Real'. It should be
> > 'String'. Try something else other than the '+' operator in the SQL
> > syntax to create the geom field in the view.
> >
> > On Thu, Mar 1, 2012 at 12:48 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> > wrote:
> >         Chaitanya,
> >
> >         I have had a progress about VRT data access
> >         but I afraid something wrong in mapserver .map file.
> >
> >         here is the test.vrt file and I use in map file with
> >         connection ogr
> >         functionality. :
> >
> >         <OGRVRTDataSource>
> >         <OGRVRTLayer name="dynamic">
> >
> <SrcDataSource>MYSQL:dynamic,user=root,password=mysql_passwd,host=localhost,port=3306,tables=lineview</SrcDataSource>
> >         <SrcSql>select eq_id, geom from lineview</SrcSql>
> >         <GeometryType>wkbLineString</GeometryType>
> >         <GeometryField encoding="WKT" field="geom"/>
> >
> >         </OGRVRTLayer>
> >         </OGRVRTDataSource>
> >
> >         then the command
> >
> >
> >         [murat@localhost stations]$ ogrinfo -ro -al test.vrt
> >         INFO: Open of `test.vrt'
> >              using driver `VRT' successful.
> >
> >
> >         Layer name: dynamic
> >         Geometry: Line String
> >         Feature Count: 2
> >         Layer SRS WKT:
> >         (unknown)
> >
> >         eq_id: String (42.0)
> >         geom: Real (23.0)
> >         OGRFeature(dynamic):0
> >          eq_id (String) = 20111023101120
> >          geom (Real) =                     164
> >
> >         OGRFeature(dynamic):1
> >          eq_id (String) = 20100308023229
> >          geom (Real) =                     163
> >
> >
> >
> >         it works now but mapserver gives an error as follows:
> >
> >         Server error!
> >         The server encountered an internal error and was unable to
> >         complete your
> >         request.
> >
> >         Error message:
> >         Premature end of script headers: mapserv
> >
> >         If you think this is a server error, please contact the
> >         webmaster.
> >
> >
> >         Error 500
> >         10.14.0.67
> >         Apache/2.2.14 (Mandriva Linux/PREFORK-1.6mdv2010.0)
> >
> >
> >
> >         I think I will solve it with your help.
> >
> >         Many thanks
> >
> >         Murat
> >
> >
> >         On Thu, 2012-03-01 at 09:22 +0530, Chaitanya kumar CH wrote:
> >         > Murat,
> >         >
> >         > You should check MySQL's SQL syntax to concatenate strings
> >         and
> >         > decimals to produce a string.
> >         >
> >         > On Wednesday, February 29, 2012, Murat Beyhan
> >         <beyhan@deprem.gov.tr>
> >         > wrote:
> >         > > Chaitanya,
> >         > >
> >         > > here is the structure of table on database
> >         > >
> >         > > sfault :
> >         > >
> >         > > eq_id varchar(14)
> >         > > lat1  decimal(7,4)
> >         > > lon1  decimal(7,4)
> >         > > lat2  decimal(7,4)
> >         > > lon2  decimal(7,4)
> >         > >
> >         > > lineview :
> >         > >
> >         > >
> >         > > eq_id varchar(14)
> >         > > geom  double
> >         > >
> >         > >
> >         > > it seams geom as double
> >         > > I thing it should be geometry isn't it?
> >         > >
> >         > > may be  I have to change structure of lineview by changing
> >         following
> >         > > Roberts' suggestion to create view on database
> >         > >
> >         > >  create view lineview as select eq_id, "LINESTRING(" +
> >         lon1 + " " +
> >         > lat1
> >         > >  + "," + lon2 + " " + lat2 + ")" as geom from sfault
> >         > >
> >         > >
> >         > > but I'm not sure for the line.
> >         > >
> >         > > VTR for points, I have tested and works well
> >         > >
> >         > >
> >         > > but for line still could not achieved yet, please give me
> >         another
> >         > idea.
> >         > >
> >         > > here is test.vrt file
> >         > >
> >         > > <OGRVRTDataSource>
> >         > > <OGRVRTLayer name="sta">
> >         > >
> >         >
> >
> <SrcDataSource>MYSQL:stations,user=root,password=mysql_passwd,host=localhost,port=3306,tables=sta</SrcDataSource>
> >         > > <SrcSQL>SELECT sta_id as name,type,latitude,longitude from
> >         sta where
> >         > > type like "%SMACH%"</SrcSQL>
> >         > > <GeometryType>wkbPoint</GeometryType>
> >         > > <GeometryField encoding="PointFromColumns" x="longitude"
> >         > y="latitude"/>
> >         > > </OGRVRTLayer>
> >         > > </OGRVRTDataSource>
> >         > >
> >         > > and following code gives successful result as you see
> >         > >
> >         > >
> >         > > ogrinfo -ro -al test.vrt
> >         > >
> >         > > INFO: Open of `test.vrt' using driver `VRT' successful.
> >         > >
> >         > > Layer name: sta
> >         > > Geometry: Point
> >         > > Feature Count: 12
> >         > > Layer SRS WKT:
> >         > > (unknown)
> >         > > name: String (12.0)
> >         > > type: String (24.0)
> >         > > latitude: Real (5.4)
> >         > > longitude: Real (5.4)
> >         > > OGRFeature(sta):0
> >         > >  name (String) = 0617
> >         > >  type (String) = SMACH
> >         > >  latitude (Real) = 40.4569
> >         > >  longitude (Real) = 32.6319
> >         > >  POINT (32.631900000000002 40.456899999999997)
> >         > >
> >         > > OGRFeature(sta):1
> >         > >  name (String) = 0618
> >         > >  type (String) = SMACH
> >         > >  latitude (Real) = 40.4798
> >         > >  longitude (Real) = 32.4555
> >         > >  POINT (32.4555 40.479799999999997)
> >         > >
> >         > > .
> >         > > .
> >         > > .
> >         > > .
> >         > >
> >         > >
> >         > > As you see this works well.
> >         > >
> >         > > I hope you can catch point what is wrong or lack of on my
> >         works....
> >         > >
> >         > >
> >         > > Thanks again
> >         > >
> >         > >
> >         > >
> >         > >
> >         > > On Tue, 2012-02-28 at 18:08 +0530, Chaitanya kumar CH
> >         wrote:
> >         > >> Murat,
> >         > >>
> >         > >>
> >         > >> I see that your view,  lineview, doesn't give the
> >         expected geometry
> >         > >> type with ogrinfo. It is showing the datatype as Real.
> >         Check if the
> >         > >> datatype of geom is actually string/text.
> >         > >>
> >         > >> On Tue, Feb 28, 2012 at 12:49 PM, Murat Beyhan
> >         > <beyhan@deprem.gov.tr>
> >         > >> wrote:
> >         > >>         Chaitanya,
> >         > >>
> >         > >>
> >         > >>         Map file which is try to draw line as follows
> >         > >>         are there any problem on the code
> >         > >>
> >         > >>          LAYER
> >         > >>          NAME sfault1
> >         > >>          CONNECTIONTYPE OGR
> >         > >>          CONNECTION '<OGRVRTDataSource>
> >         > >>          <OGRVRTLayer name="lineview">
> >         > >>
> >         > >>
> >         >
> >
> <SrcDataSource>MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306,tables=lineview</SrcDataSource>
> >         > >>          <SrcLayer>lineview</SrcLayer>
> >         > >>          <GeometryType>wkbLineString</GeometryType>
> >         > >>          <GeometryField encoding="WKT" field="geom"/>
> >         > >>          <LayerSRS>WGS84</LayerSRS>
> >         > >>          <FID>eq_id</FID>
> >         > >>          </OGRVRTLayer>
> >         > >>          </OGRVRTDataSource>'
> >         > >>          DATA sfault1
> >         > >>          STATUS on
> >         > >>          TYPE line
> >         > >>          CLASS
> >         > >>          NAME "Source Fault"
> >         > >>          SYMBOL "cline"
> >         > >>           SIZE 3
> >         > >>          COLOR  0 0 255
> >         > >>          END
> >         > >>          END
> >         > >>
> >         > >>
> >         > >>         ogrinfo
> >         > >>
> >         >
> >
> MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
> >         > >>         sfault -summary
> >         > >>         INFO: Open of
> >         > >>
> >         >
> >
> `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
> >         > >>              using driver `MySQL' successful.
> >         > >>
> >         > >>         Layer name: sfault
> >         > >>         Geometry: None
> >         > >>         Feature Count: 1
> >         > >>         Layer SRS WKT:
> >         > >>         (unknown)
> >         > >>         eq_id: String (14.0)
> >         > >>         lat1: Real (7.4)
> >         > >>         lon1: Real (7.4)
> >         > >>         lat2: Real (7.4)
> >         > >>         lon2: Real (7.4)
> >         > >>
> >         > >>         **************linewiew created by following sql
> >         > >>         statement:*************
> >         > >>
> >         > >>
> >         > >>          create view lineview as select eq_id,
> >         "LINESTRING(" + lon1
> >         > +
> >         > >>         " " + lat1
> >         > >>          + "," + lon2 + " " + lat2 + ")" as geom from
> >         sfault
> >         > >>
> >         > >>
> >         > >>         then
> >         > >>
> >         > >>         [murat@localhost ~]$ ogrinfo
> >         > >>
> >         >
> >
> MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
> >         > >>         lineview -summary
> >         > >>         INFO: Open of
> >         > >>
> >         >
> >
> `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
> >         > >>              using driver `MySQL' successful.
> >         > >>
> >         > >>         Layer name: lineview
> >         > >>         Geometry: None
> >         > >>         Feature Count: 1
> >         > >>         Layer SRS WKT:
> >         > >>         (unknown)
> >         > >>         eq_id: String (14.0)
> >         > >>         geom: Real (0.0)
> >         > >>
> >         > >>
> >         > >>
> >         >
> >         > --
> >         > Best regards,
> >         > Chaitanya kumar CH.
> >         >
> >         > +91-9494447584
> >         > 17.2416N 80.1426E
> >         >
> >
> >         > --
> >         > This message has been scanned for viruses and
> >         > dangerous content by MailScanner, and is
> >         > believed to be clean.
> >
> >
> >
> >         Murat BEYHAN
> >
> >         Jeofizik Y.M?h.
> >         T.C. Ba?bakanl?k
> >         Afet ve Acil Durum Y?netimi Ba?kanl???
> >         Deprem Dairesi Ba?kanl???
> >         Eski?ehir Yolu 12. Km.
> >         Lodumlu/ANKARA
> >         Tel: 312 2872680-1556
> >         email:beyhan@deprem.gov.tr
> >
> >
> >
> >
> >         --
> >         This message has been scanned for viruses and
> >         dangerous content by MailScanner, and is
> >         believed to be clean.
> >
> >
> >
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> >
> > +91-9494447584
> > 17.2416N 80.1426E
> >
> >
> > --
> > This message has been scanned for viruses and
> > dangerous content by MailScanner, and is
> > believed to be clean.
>
>
>
> Murat BEYHAN
>
> Jeofizik Y.M?h.
> T.C. Ba?bakanl?k
> Afet ve Acil Durum Y?netimi Ba?kanl???
> Deprem Dairesi Ba?kanl???
> Eski?ehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
>
>
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120302/3b5f8736/attachment-0001.html
From beyhan at deprem.gov.tr  Fri Mar  2 07:42:25 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Fri Mar  2 07:46:44 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
Message-ID: <1330692145.4689.11.camel@localhost>





Dear Chaitanya,

I see what you explain first I convert lat lon data to string then I
concatenate them to string again. But I would like to ask
I have already add data to mysql table as follows is this also correct
because when I browse table it seems it store data in geometry field
but mapserver gives error
Unable to identify source field 'fault' for geometry.
any way
I will try to convert data first then I can return back you.
Regards...

ps.

ogrinfo
MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
INFO: Open of
`MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
      using driver `MySQL' successful.
1: geom (None)




it say none in geom
may be first I have to do what you say
thanks
Murat


 On Fri, 2012-03-02 at 18:05 +0530, Chaitanya kumar CH wrote:
> Murat,
> 
> Put aside linestrings and geometries. First you need to have a wkt
> representation of your line segment. Your MySQL query is returning a
> number. That should be an indicator that your query was wrong. You
> were using the wrong operator. You need to convert the latitude and
> longitude values to string and concatenate the them with the other
> strings to make up the wkt of linestring geometries. Otherwise, MySQL
> is just adding the string and decimal values mathematically.
> 
> Use the CONVERT function as described in the website:
> http://www.geeksengine.com/database/single-row-functions/conversion-functions.php
> 
> On Fri, Mar 2, 2012 at 5:38 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
>         Chaitanya,
>         
>         I could not do this using sql sorry.
>         
>         But I have an another idea is it good way to store these data
>         as a
>         spatial database in MySql.
>         I try this but when I insert data to mysql table
>         I have problem .
>         I have created a table
>         as follows
>         
>         eq_id varchar(14)
>         fault linestring
>         
>         then I will insert data (if I success how to do that)
>         then I will use this table from mapserver.
>          is this proper way.
>         Or how to declare geom column as string at sql statement as
>         follows
>         
>          create view lineview as select eq_id, "LINESTRING(" + lon1 +
>         " " + lat1
>          + "," + lon2 + " " + lat2 + ")" as geom from sfault
>         
>         
>         
>         please give your idea...
>         
>         
>         
>         On Thu, 2012-03-01 at 14:40 +0530, Chaitanya kumar CH wrote:
>         > Murat,
>         >
>         >
>         > It's not working. the geom field should not be 'Real'. It
>         should be
>         > 'String'. Try something else other than the '+' operator in
>         the SQL
>         > syntax to create the geom field in the view.
>         >
>         > On Thu, Mar 1, 2012 at 12:48 PM, Murat Beyhan
>         <beyhan@deprem.gov.tr>
>         > wrote:
>         >         Chaitanya,
>         >
>         >         I have had a progress about VRT data access
>         >         but I afraid something wrong in mapserver .map file.
>         >
>         >         here is the test.vrt file and I use in map file with
>         >         connection ogr
>         >         functionality. :
>         >
>         >         <OGRVRTDataSource>
>         >         <OGRVRTLayer name="dynamic">
>         >
>         <SrcDataSource>MYSQL:dynamic,user=root,password=mysql_passwd,host=localhost,port=3306,tables=lineview</SrcDataSource>
>         >         <SrcSql>select eq_id, geom from lineview</SrcSql>
>         >         <GeometryType>wkbLineString</GeometryType>
>         >         <GeometryField encoding="WKT" field="geom"/>
>         >
>         >         </OGRVRTLayer>
>         >         </OGRVRTDataSource>
>         >
>         >         then the command
>         >
>         >
>         >         [murat@localhost stations]$ ogrinfo -ro -al test.vrt
>         >         INFO: Open of `test.vrt'
>         >              using driver `VRT' successful.
>         >
>         >
>         >         Layer name: dynamic
>         >         Geometry: Line String
>         >         Feature Count: 2
>         >         Layer SRS WKT:
>         >         (unknown)
>         >
>         >         eq_id: String (42.0)
>         >         geom: Real (23.0)
>         >         OGRFeature(dynamic):0
>         >          eq_id (String) = 20111023101120
>         >          geom (Real) =                     164
>         >
>         >         OGRFeature(dynamic):1
>         >          eq_id (String) = 20100308023229
>         >          geom (Real) =                     163
>         >
>         >
>         >
>         >         it works now but mapserver gives an error as
>         follows:
>         >
>         >         Server error!
>         >         The server encountered an internal error and was
>         unable to
>         >         complete your
>         >         request.
>         >
>         >         Error message:
>         >         Premature end of script headers: mapserv
>         >
>         >         If you think this is a server error, please contact
>         the
>         >         webmaster.
>         >
>         >
>         >         Error 500
>         >         10.14.0.67
>         >         Apache/2.2.14 (Mandriva Linux/PREFORK-1.6mdv2010.0)
>         >
>         >
>         >
>         >         I think I will solve it with your help.
>         >
>         >         Many thanks
>         >
>         >         Murat
>         >
>         >
>         >         On Thu, 2012-03-01 at 09:22 +0530, Chaitanya kumar
>         CH wrote:
>         >         > Murat,
>         >         >
>         >         > You should check MySQL's SQL syntax to concatenate
>         strings
>         >         and
>         >         > decimals to produce a string.
>         >         >
>         >         > On Wednesday, February 29, 2012, Murat Beyhan
>         >         <beyhan@deprem.gov.tr>
>         >         > wrote:
>         >         > > Chaitanya,
>         >         > >
>         >         > > here is the structure of table on database
>         >         > >
>         >         > > sfault :
>         >         > >
>         >         > > eq_id varchar(14)
>         >         > > lat1  decimal(7,4)
>         >         > > lon1  decimal(7,4)
>         >         > > lat2  decimal(7,4)
>         >         > > lon2  decimal(7,4)
>         >         > >
>         >         > > lineview :
>         >         > >
>         >         > >
>         >         > > eq_id varchar(14)
>         >         > > geom  double
>         >         > >
>         >         > >
>         >         > > it seams geom as double
>         >         > > I thing it should be geometry isn't it?
>         >         > >
>         >         > > may be  I have to change structure of lineview
>         by changing
>         >         following
>         >         > > Roberts' suggestion to create view on database
>         >         > >
>         >         > >  create view lineview as select eq_id,
>         "LINESTRING(" +
>         >         lon1 + " " +
>         >         > lat1
>         >         > >  + "," + lon2 + " " + lat2 + ")" as geom from
>         sfault
>         >         > >
>         >         > >
>         >         > > but I'm not sure for the line.
>         >         > >
>         >         > > VTR for points, I have tested and works well
>         >         > >
>         >         > >
>         >         > > but for line still could not achieved yet,
>         please give me
>         >         another
>         >         > idea.
>         >         > >
>         >         > > here is test.vrt file
>         >         > >
>         >         > > <OGRVRTDataSource>
>         >         > > <OGRVRTLayer name="sta">
>         >         > >
>         >         >
>         >
>         <SrcDataSource>MYSQL:stations,user=root,password=mysql_passwd,host=localhost,port=3306,tables=sta</SrcDataSource>
>         >         > > <SrcSQL>SELECT sta_id as
>         name,type,latitude,longitude from
>         >         sta where
>         >         > > type like "%SMACH%"</SrcSQL>
>         >         > > <GeometryType>wkbPoint</GeometryType>
>         >         > > <GeometryField encoding="PointFromColumns"
>         x="longitude"
>         >         > y="latitude"/>
>         >         > > </OGRVRTLayer>
>         >         > > </OGRVRTDataSource>
>         >         > >
>         >         > > and following code gives successful result as
>         you see
>         >         > >
>         >         > >
>         >         > > ogrinfo -ro -al test.vrt
>         >         > >
>         >         > > INFO: Open of `test.vrt' using driver `VRT'
>         successful.
>         >         > >
>         >         > > Layer name: sta
>         >         > > Geometry: Point
>         >         > > Feature Count: 12
>         >         > > Layer SRS WKT:
>         >         > > (unknown)
>         >         > > name: String (12.0)
>         >         > > type: String (24.0)
>         >         > > latitude: Real (5.4)
>         >         > > longitude: Real (5.4)
>         >         > > OGRFeature(sta):0
>         >         > >  name (String) = 0617
>         >         > >  type (String) = SMACH
>         >         > >  latitude (Real) = 40.4569
>         >         > >  longitude (Real) = 32.6319
>         >         > >  POINT (32.631900000000002 40.456899999999997)
>         >         > >
>         >         > > OGRFeature(sta):1
>         >         > >  name (String) = 0618
>         >         > >  type (String) = SMACH
>         >         > >  latitude (Real) = 40.4798
>         >         > >  longitude (Real) = 32.4555
>         >         > >  POINT (32.4555 40.479799999999997)
>         >         > >
>         >         > > .
>         >         > > .
>         >         > > .
>         >         > > .
>         >         > >
>         >         > >
>         >         > > As you see this works well.
>         >         > >
>         >         > > I hope you can catch point what is wrong or lack
>         of on my
>         >         works....
>         >         > >
>         >         > >
>         >         > > Thanks again
>         >         > >
>         >         > >
>         >         > >
>         >         > >
>         >         > > On Tue, 2012-02-28 at 18:08 +0530, Chaitanya
>         kumar CH
>         >         wrote:
>         >         > >> Murat,
>         >         > >>
>         >         > >>
>         >         > >> I see that your view,  lineview, doesn't give
>         the
>         >         expected geometry
>         >         > >> type with ogrinfo. It is showing the datatype
>         as Real.
>         >         Check if the
>         >         > >> datatype of geom is actually string/text.
>         >         > >>
>         >         > >> On Tue, Feb 28, 2012 at 12:49 PM, Murat Beyhan
>         >         > <beyhan@deprem.gov.tr>
>         >         > >> wrote:
>         >         > >>         Chaitanya,
>         >         > >>
>         >         > >>
>         >         > >>         Map file which is try to draw line as
>         follows
>         >         > >>         are there any problem on the code
>         >         > >>
>         >         > >>          LAYER
>         >         > >>          NAME sfault1
>         >         > >>          CONNECTIONTYPE OGR
>         >         > >>          CONNECTION '<OGRVRTDataSource>
>         >         > >>          <OGRVRTLayer name="lineview">
>         >         > >>
>         >         > >>
>         >         >
>         >
>         <SrcDataSource>MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306,tables=lineview</SrcDataSource>
>         >         > >>          <SrcLayer>lineview</SrcLayer>
>         >         > >>
>          <GeometryType>wkbLineString</GeometryType>
>         >         > >>          <GeometryField encoding="WKT"
>         field="geom"/>
>         >         > >>          <LayerSRS>WGS84</LayerSRS>
>         >         > >>          <FID>eq_id</FID>
>         >         > >>          </OGRVRTLayer>
>         >         > >>          </OGRVRTDataSource>'
>         >         > >>          DATA sfault1
>         >         > >>          STATUS on
>         >         > >>          TYPE line
>         >         > >>          CLASS
>         >         > >>          NAME "Source Fault"
>         >         > >>          SYMBOL "cline"
>         >         > >>           SIZE 3
>         >         > >>          COLOR  0 0 255
>         >         > >>          END
>         >         > >>          END
>         >         > >>
>         >         > >>
>         >         > >>         ogrinfo
>         >         > >>
>         >         >
>         >
>         MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
>         >         > >>         sfault -summary
>         >         > >>         INFO: Open of
>         >         > >>
>         >         >
>         >
>         `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
>         >         > >>              using driver `MySQL' successful.
>         >         > >>
>         >         > >>         Layer name: sfault
>         >         > >>         Geometry: None
>         >         > >>         Feature Count: 1
>         >         > >>         Layer SRS WKT:
>         >         > >>         (unknown)
>         >         > >>         eq_id: String (14.0)
>         >         > >>         lat1: Real (7.4)
>         >         > >>         lon1: Real (7.4)
>         >         > >>         lat2: Real (7.4)
>         >         > >>         lon2: Real (7.4)
>         >         > >>
>         >         > >>         **************linewiew created by
>         following sql
>         >         > >>         statement:*************
>         >         > >>
>         >         > >>
>         >         > >>          create view lineview as select eq_id,
>         >         "LINESTRING(" + lon1
>         >         > +
>         >         > >>         " " + lat1
>         >         > >>          + "," + lon2 + " " + lat2 + ")" as
>         geom from
>         >         sfault
>         >         > >>
>         >         > >>
>         >         > >>         then
>         >         > >>
>         >         > >>         [murat@localhost ~]$ ogrinfo
>         >         > >>
>         >         >
>         >
>         MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
>         >         > >>         lineview -summary
>         >         > >>         INFO: Open of
>         >         > >>
>         >         >
>         >
>         `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
>         >         > >>              using driver `MySQL' successful.
>         >         > >>
>         >         > >>         Layer name: lineview
>         >         > >>         Geometry: None
>         >         > >>         Feature Count: 1
>         >         > >>         Layer SRS WKT:
>         >         > >>         (unknown)
>         >         > >>         eq_id: String (14.0)
>         >         > >>         geom: Real (0.0)
>         >         > >>
>         >         > >>
>         >         > >>
>         >         >
>         >         > --
>         >         > Best regards,
>         >         > Chaitanya kumar CH.
>         >         >
>         >         > +91-9494447584
>         >         > 17.2416N 80.1426E
>         >         >
>         >
>         >         > --
>         >         > This message has been scanned for viruses and
>         >         > dangerous content by MailScanner, and is
>         >         > believed to be clean.
>         >
>         >
>         >
>         >         Murat BEYHAN
>         >
>         >         Jeofizik Y.M?h.
>         >         T.C. Ba?bakanl?k
>         >         Afet ve Acil Durum Y?netimi Ba?kanl???
>         >         Deprem Dairesi Ba?kanl???
>         >         Eski?ehir Yolu 12. Km.
>         >         Lodumlu/ANKARA
>         >         Tel: 312 2872680-1556
>         >         email:beyhan@deprem.gov.tr
>         >
>         >
>         >
>         >
>         >         --
>         >         This message has been scanned for viruses and
>         >         dangerous content by MailScanner, and is
>         >         believed to be clean.
>         >
>         >
>         >
>         >
>         >
>         >
>         > --
>         > Best regards,
>         > Chaitanya kumar CH.
>         >
>         > +91-9494447584
>         > 17.2416N 80.1426E
>         >
>         >
>         > --
>         > This message has been scanned for viruses and
>         > dangerous content by MailScanner, and is
>         > believed to be clean.
>         
>         
>         
>         Murat BEYHAN
>         
>         Jeofizik Y.M?h.
>         T.C. Ba?bakanl?k
>         Afet ve Acil Durum Y?netimi Ba?kanl???
>         Deprem Dairesi Ba?kanl???
>         Eski?ehir Yolu 12. Km.
>         Lodumlu/ANKARA
>         Tel: 312 2872680-1556
>         email:beyhan@deprem.gov.tr
>         
>         
>         
>         
>         --
>         This message has been scanned for viruses and
>         dangerous content by MailScanner, and is
>         believed to be clean.
>         
>         
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From chaitanya.ch at gmail.com  Fri Mar  2 08:09:14 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar  2 08:09:23 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330692145.4689.11.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
Message-ID: <CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>

Murat,

Can you show a sample output of your view?
SELECT * FROM geom;

On Fri, Mar 2, 2012 at 6:12 PM, Murat Beyhan <beyhan@deprem.gov.tr> wrote:

>
>
>
>
> Dear Chaitanya,
>
> I see what you explain first I convert lat lon data to string then I
> concatenate them to string again. But I would like to ask
> I have already add data to mysql table as follows is this also correct
> because when I browse table it seems it store data in geometry field
> but mapserver gives error
> Unable to identify source field 'fault' for geometry.
> any way
> I will try to convert data first then I can return back you.
> Regards...
>
> ps.
>
> ogrinfo
>
> MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
> INFO: Open of
>
> `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
>      using driver `MySQL' successful.
> 1: geom (None)
>
>
>
>
> it say none in geom
> may be first I have to do what you say
> thanks
> Murat
>
>
-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120302/b87a8f71/attachment.html
From beyhan at deprem.gov.tr  Fri Mar  2 08:09:21 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Fri Mar  2 08:13:25 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOb9s1E2d5tX6hbHO22W3brtQYLvSsV4SwMCT45k9REb7g@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOb9s1E2d5tX6hbHO22W3brtQYLvSsV4SwMCT45k9REb7g@mail.gmail.com>
Message-ID: <1330693761.4689.16.camel@localhost>

Here is 
also I could store data to mysql as follows

INSERT INTO geom set eq_id='20111023101120',
fault=GeomFromText('linestring(38.6636 43.8547,38.6952 43.0851)')

SQL result
Host: localhost
Database: dynamic
Generation Time: Mar 02, 2012 at 03:04 PM
Generated by: phpMyAdmin 3.3.10 / MySQL 5.1.55
SQL query: SELECT * FROM `geom` WHERE 1 LIMIT 0, 30 ; 
Rows: 2 

               eq_id
               fault
20140101010101
[GEOMETRY - 45B]
20111023101120
[GEOMETRY - 45B]


I hope you can get point.

actually geom tables seems like a table which I store shape file in
mysql using shp2mysql.pl but database has a table spatial_ref_sys and it
has this kind of structure as follows

spatial_ref_sys
    Field
     Type
     Null
   Default
   Comments
SRID 
int(11)
No 
0 
 
AUTH_NAME 
text
Yes 
NULL 
 
AUTH_SRID 
int(11)
Yes 
NULL 
 
SRTEXT 
text
Yes 
NULL 
 



any way What is my progress :)
murat

On Fri, 2012-03-02 at 18:32 +0530, Chaitanya kumar CH wrote:
> Murat,
> 
> Can you show a sample output of your view?
> SELECT * FROM geom;
> 
> On Fri, Mar 2, 2012 at 6:12 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
>         
>         
>         
>         
>         Dear Chaitanya,
>         
>         I see what you explain first I convert lat lon data to string
>         then I
>         concatenate them to string again. But I would like to ask
>         I have already add data to mysql table as follows is this also
>         correct
>         because when I browse table it seems it store data in geometry
>         field
>         but mapserver gives error
>         Unable to identify source field 'fault' for geometry.
>         any way
>         I will try to convert data first then I can return back you.
>         Regards...
>         
>         ps.
>         
>         ogrinfo
>         MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
>         INFO: Open of
>         `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
>              using driver `MySQL' successful.
>         1: geom (None)
>         
>         
>         
>         
>         it say none in geom
>         may be first I have to do what you say
>         thanks
>         Murat
>         
>         
>          On Fri, 2012-03-02 at 18:05 +0530, Chaitanya kumar CH wrote:
>         > Murat,
>         >
>         > Put aside linestrings and geometries. First you need to have
>         a wkt
>         > representation of your line segment. Your MySQL query is
>         returning a
>         > number. That should be an indicator that your query was
>         wrong. You
>         > were using the wrong operator. You need to convert the
>         latitude and
>         > longitude values to string and concatenate the them with the
>         other
>         > strings to make up the wkt of linestring geometries.
>         Otherwise, MySQL
>         > is just adding the string and decimal values mathematically.
>         >
>         > Use the CONVERT function as described in the website:
>         >
>         http://www.geeksengine.com/database/single-row-functions/conversion-functions.php
>         >
>         > On Fri, Mar 2, 2012 at 5:38 PM, Murat Beyhan
>         <beyhan@deprem.gov.tr>
>         > wrote:
>         >         Chaitanya,
>         >
>         >         I could not do this using sql sorry.
>         >
>         >         But I have an another idea is it good way to store
>         these data
>         >         as a
>         >         spatial database in MySql.
>         >         I try this but when I insert data to mysql table
>         >         I have problem .
>         >         I have created a table
>         >         as follows
>         >
>         >         eq_id varchar(14)
>         >         fault linestring
>         >
>         >         then I will insert data (if I success how to do
>         that)
>         >         then I will use this table from mapserver.
>         >          is this proper way.
>         >         Or how to declare geom column as string at sql
>         statement as
>         >         follows
>         >
>         >          create view lineview as select eq_id, "LINESTRING("
>         + lon1 +
>         >         " " + lat1
>         >          + "," + lon2 + " " + lat2 + ")" as geom from sfault
>         >
>         >
>         >
>         >         please give your idea...
>         >
>         >
>         >
>         >         On Thu, 2012-03-01 at 14:40 +0530, Chaitanya kumar
>         CH wrote:
>         >         > Murat,
>         >         >
>         >         >
>         >         > It's not working. the geom field should not be
>         'Real'. It
>         >         should be
>         >         > 'String'. Try something else other than the '+'
>         operator in
>         >         the SQL
>         >         > syntax to create the geom field in the view.
>         >         >
>         >         > On Thu, Mar 1, 2012 at 12:48 PM, Murat Beyhan
>         >         <beyhan@deprem.gov.tr>
>         >         > wrote:
>         >         >         Chaitanya,
>         >         >
>         >         >         I have had a progress about VRT data
>         access
>         >         >         but I afraid something wrong in
>         mapserver .map file.
>         >         >
>         >         >         here is the test.vrt file and I use in map
>         file with
>         >         >         connection ogr
>         >         >         functionality. :
>         >         >
>         >         >         <OGRVRTDataSource>
>         >         >         <OGRVRTLayer name="dynamic">
>         >         >
>         >
>         <SrcDataSource>MYSQL:dynamic,user=root,password=mysql_passwd,host=localhost,port=3306,tables=lineview</SrcDataSource>
>         >         >         <SrcSql>select eq_id, geom from
>         lineview</SrcSql>
>         >         >         <GeometryType>wkbLineString</GeometryType>
>         >         >         <GeometryField encoding="WKT"
>         field="geom"/>
>         >         >
>         >         >         </OGRVRTLayer>
>         >         >         </OGRVRTDataSource>
>         >         >
>         >         >         then the command
>         >         >
>         >         >
>         >         >         [murat@localhost stations]$ ogrinfo -ro
>         -al test.vrt
>         >         >         INFO: Open of `test.vrt'
>         >         >              using driver `VRT' successful.
>         >         >
>         >         >
>         >         >         Layer name: dynamic
>         >         >         Geometry: Line String
>         >         >         Feature Count: 2
>         >         >         Layer SRS WKT:
>         >         >         (unknown)
>         >         >
>         >         >         eq_id: String (42.0)
>         >         >         geom: Real (23.0)
>         >         >         OGRFeature(dynamic):0
>         >         >          eq_id (String) = 20111023101120
>         >         >          geom (Real) =                     164
>         >         >
>         >         >         OGRFeature(dynamic):1
>         >         >          eq_id (String) = 20100308023229
>         >         >          geom (Real) =                     163
>         >         >
>         >         >
>         >         >
>         >         >         it works now but mapserver gives an error
>         as
>         >         follows:
>         >         >
>         >         >         Server error!
>         >         >         The server encountered an internal error
>         and was
>         >         unable to
>         >         >         complete your
>         >         >         request.
>         >         >
>         >         >         Error message:
>         >         >         Premature end of script headers: mapserv
>         >         >
>         >         >         If you think this is a server error,
>         please contact
>         >         the
>         >         >         webmaster.
>         >         >
>         >         >
>         >         >         Error 500
>         >         >         10.14.0.67
>         >         >         Apache/2.2.14 (Mandriva
>         Linux/PREFORK-1.6mdv2010.0)
>         >         >
>         >         >
>         >         >
>         >         >         I think I will solve it with your help.
>         >         >
>         >         >         Many thanks
>         >         >
>         >         >         Murat
>         >         >
>         >         >
>         >         >         On Thu, 2012-03-01 at 09:22 +0530,
>         Chaitanya kumar
>         >         CH wrote:
>         >         >         > Murat,
>         >         >         >
>         >         >         > You should check MySQL's SQL syntax to
>         concatenate
>         >         strings
>         >         >         and
>         >         >         > decimals to produce a string.
>         >         >         >
>         >         >         > On Wednesday, February 29, 2012, Murat
>         Beyhan
>         >         >         <beyhan@deprem.gov.tr>
>         >         >         > wrote:
>         >         >         > > Chaitanya,
>         >         >         > >
>         >         >         > > here is the structure of table on
>         database
>         >         >         > >
>         >         >         > > sfault :
>         >         >         > >
>         >         >         > > eq_id varchar(14)
>         >         >         > > lat1  decimal(7,4)
>         >         >         > > lon1  decimal(7,4)
>         >         >         > > lat2  decimal(7,4)
>         >         >         > > lon2  decimal(7,4)
>         >         >         > >
>         >         >         > > lineview :
>         >         >         > >
>         >         >         > >
>         >         >         > > eq_id varchar(14)
>         >         >         > > geom  double
>         >         >         > >
>         >         >         > >
>         >         >         > > it seams geom as double
>         >         >         > > I thing it should be geometry isn't
>         it?
>         >         >         > >
>         >         >         > > may be  I have to change structure of
>         lineview
>         >         by changing
>         >         >         following
>         >         >         > > Roberts' suggestion to create view on
>         database
>         >         >         > >
>         >         >         > >  create view lineview as select eq_id,
>         >         "LINESTRING(" +
>         >         >         lon1 + " " +
>         >         >         > lat1
>         >         >         > >  + "," + lon2 + " " + lat2 + ")" as
>         geom from
>         >         sfault
>         >         >         > >
>         >         >         > >
>         >         >         > > but I'm not sure for the line.
>         >         >         > >
>         >         >         > > VTR for points, I have tested and
>         works well
>         >         >         > >
>         >         >         > >
>         >         >         > > but for line still could not achieved
>         yet,
>         >         please give me
>         >         >         another
>         >         >         > idea.
>         >         >         > >
>         >         >         > > here is test.vrt file
>         >         >         > >
>         >         >         > > <OGRVRTDataSource>
>         >         >         > > <OGRVRTLayer name="sta">
>         >         >         > >
>         >         >         >
>         >         >
>         >
>         <SrcDataSource>MYSQL:stations,user=root,password=mysql_passwd,host=localhost,port=3306,tables=sta</SrcDataSource>
>         >         >         > > <SrcSQL>SELECT sta_id as
>         >         name,type,latitude,longitude from
>         >         >         sta where
>         >         >         > > type like "%SMACH%"</SrcSQL>
>         >         >         > > <GeometryType>wkbPoint</GeometryType>
>         >         >         > > <GeometryField
>         encoding="PointFromColumns"
>         >         x="longitude"
>         >         >         > y="latitude"/>
>         >         >         > > </OGRVRTLayer>
>         >         >         > > </OGRVRTDataSource>
>         >         >         > >
>         >         >         > > and following code gives successful
>         result as
>         >         you see
>         >         >         > >
>         >         >         > >
>         >         >         > > ogrinfo -ro -al test.vrt
>         >         >         > >
>         >         >         > > INFO: Open of `test.vrt' using driver
>         `VRT'
>         >         successful.
>         >         >         > >
>         >         >         > > Layer name: sta
>         >         >         > > Geometry: Point
>         >         >         > > Feature Count: 12
>         >         >         > > Layer SRS WKT:
>         >         >         > > (unknown)
>         >         >         > > name: String (12.0)
>         >         >         > > type: String (24.0)
>         >         >         > > latitude: Real (5.4)
>         >         >         > > longitude: Real (5.4)
>         >         >         > > OGRFeature(sta):0
>         >         >         > >  name (String) = 0617
>         >         >         > >  type (String) = SMACH
>         >         >         > >  latitude (Real) = 40.4569
>         >         >         > >  longitude (Real) = 32.6319
>         >         >         > >  POINT (32.631900000000002
>         40.456899999999997)
>         >         >         > >
>         >         >         > > OGRFeature(sta):1
>         >         >         > >  name (String) = 0618
>         >         >         > >  type (String) = SMACH
>         >         >         > >  latitude (Real) = 40.4798
>         >         >         > >  longitude (Real) = 32.4555
>         >         >         > >  POINT (32.4555 40.479799999999997)
>         >         >         > >
>         >         >         > > .
>         >         >         > > .
>         >         >         > > .
>         >         >         > > .
>         >         >         > >
>         >         >         > >
>         >         >         > > As you see this works well.
>         >         >         > >
>         >         >         > > I hope you can catch point what is
>         wrong or lack
>         >         of on my
>         >         >         works....
>         >         >         > >
>         >         >         > >
>         >         >         > > Thanks again
>         >         >         > >
>         >         >         > >
>         >         >         > >
>         >         >         > >
>         >         >         > > On Tue, 2012-02-28 at 18:08 +0530,
>         Chaitanya
>         >         kumar CH
>         >         >         wrote:
>         >         >         > >> Murat,
>         >         >         > >>
>         >         >         > >>
>         >         >         > >> I see that your view,  lineview,
>         doesn't give
>         >         the
>         >         >         expected geometry
>         >         >         > >> type with ogrinfo. It is showing the
>         datatype
>         >         as Real.
>         >         >         Check if the
>         >         >         > >> datatype of geom is actually
>         string/text.
>         >         >         > >>
>         >         >         > >> On Tue, Feb 28, 2012 at 12:49 PM,
>         Murat Beyhan
>         >         >         > <beyhan@deprem.gov.tr>
>         >         >         > >> wrote:
>         >         >         > >>         Chaitanya,
>         >         >         > >>
>         >         >         > >>
>         >         >         > >>         Map file which is try to draw
>         line as
>         >         follows
>         >         >         > >>         are there any problem on the
>         code
>         >         >         > >>
>         >         >         > >>          LAYER
>         >         >         > >>          NAME sfault1
>         >         >         > >>          CONNECTIONTYPE OGR
>         >         >         > >>          CONNECTION
>         '<OGRVRTDataSource>
>         >         >         > >>          <OGRVRTLayer
>         name="lineview">
>         >         >         > >>
>         >         >         > >>
>         >         >         >
>         >         >
>         >
>         <SrcDataSource>MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306,tables=lineview</SrcDataSource>
>         >         >         > >>
>          <SrcLayer>lineview</SrcLayer>
>         >         >         > >>
>         >          <GeometryType>wkbLineString</GeometryType>
>         >         >         > >>          <GeometryField
>         encoding="WKT"
>         >         field="geom"/>
>         >         >         > >>          <LayerSRS>WGS84</LayerSRS>
>         >         >         > >>          <FID>eq_id</FID>
>         >         >         > >>          </OGRVRTLayer>
>         >         >         > >>          </OGRVRTDataSource>'
>         >         >         > >>          DATA sfault1
>         >         >         > >>          STATUS on
>         >         >         > >>          TYPE line
>         >         >         > >>          CLASS
>         >         >         > >>          NAME "Source Fault"
>         >         >         > >>          SYMBOL "cline"
>         >         >         > >>           SIZE 3
>         >         >         > >>          COLOR  0 0 255
>         >         >         > >>          END
>         >         >         > >>          END
>         >         >         > >>
>         >         >         > >>
>         >         >         > >>         ogrinfo
>         >         >         > >>
>         >         >         >
>         >         >
>         >
>         MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
>         >         >         > >>         sfault -summary
>         >         >         > >>         INFO: Open of
>         >         >         > >>
>         >         >         >
>         >         >
>         >
>         `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
>         >         >         > >>              using driver `MySQL'
>         successful.
>         >         >         > >>
>         >         >         > >>         Layer name: sfault
>         >         >         > >>         Geometry: None
>         >         >         > >>         Feature Count: 1
>         >         >         > >>         Layer SRS WKT:
>         >         >         > >>         (unknown)
>         >         >         > >>         eq_id: String (14.0)
>         >         >         > >>         lat1: Real (7.4)
>         >         >         > >>         lon1: Real (7.4)
>         >         >         > >>         lat2: Real (7.4)
>         >         >         > >>         lon2: Real (7.4)
>         >         >         > >>
>         >         >         > >>         **************linewiew
>         created by
>         >         following sql
>         >         >         > >>         statement:*************
>         >         >         > >>
>         >         >         > >>
>         >         >         > >>          create view lineview as
>         select eq_id,
>         >         >         "LINESTRING(" + lon1
>         >         >         > +
>         >         >         > >>         " " + lat1
>         >         >         > >>          + "," + lon2 + " " + lat2 +
>         ")" as
>         >         geom from
>         >         >         sfault
>         >         >         > >>
>         >         >         > >>
>         >         >         > >>         then
>         >         >         > >>
>         >         >         > >>         [murat@localhost ~]$ ogrinfo
>         >         >         > >>
>         >         >         >
>         >         >
>         >
>         MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306
>         >         >         > >>         lineview -summary
>         >         >         > >>         INFO: Open of
>         >         >         > >>
>         >         >         >
>         >         >
>         >
>         `MYSQL:dynamic,user=root,password=mysqlpasswd,host=localhost,port=3306'
>         >         >         > >>              using driver `MySQL'
>         successful.
>         >         >         > >>
>         >         >         > >>         Layer name: lineview
>         >         >         > >>         Geometry: None
>         >         >         > >>         Feature Count: 1
>         >         >         > >>         Layer SRS WKT:
>         >         >         > >>         (unknown)
>         >         >         > >>         eq_id: String (14.0)
>         >         >         > >>         geom: Real (0.0)
>         >         >         > >>
>         >         >         > >>
>         >         >         > >>
>         >         >         >
>         >         >         > --
>         >         >         > Best regards,
>         >         >         > Chaitanya kumar CH.
>         >         >         >
>         >         >         > +91-9494447584
>         >         >         > 17.2416N 80.1426E
>         >         >         >
>         >         >
>         >         >         > --
>         >         >         > This message has been scanned for
>         viruses and
>         >         >         > dangerous content by MailScanner, and is
>         >         >         > believed to be clean.
>         >         >
>         >         >
>         >         >
>         >         >         Murat BEYHAN
>         >         >
>         >         >         Jeofizik Y.M?h.
>         >         >         T.C. Ba?bakanl?k
>         >         >         Afet ve Acil Durum Y?netimi Ba?kanl???
>         >         >         Deprem Dairesi Ba?kanl???
>         >         >         Eski?ehir Yolu 12. Km.
>         >         >         Lodumlu/ANKARA
>         >         >         Tel: 312 2872680-1556
>         >         >         email:beyhan@deprem.gov.tr
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >         --
>         >         >         This message has been scanned for viruses
>         and
>         >         >         dangerous content by MailScanner, and is
>         >         >         believed to be clean.
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >
>         >         > --
>         >         > Best regards,
>         >         > Chaitanya kumar CH.
>         >         >
>         >         > +91-9494447584
>         >         > 17.2416N 80.1426E
>         >         >
>         >         >
>         >         > --
>         >         > This message has been scanned for viruses and
>         >         > dangerous content by MailScanner, and is
>         >         > believed to be clean.
>         >
>         >
>         >
>         >         Murat BEYHAN
>         >
>         >         Jeofizik Y.M?h.
>         >         T.C. Ba?bakanl?k
>         >         Afet ve Acil Durum Y?netimi Ba?kanl???
>         >         Deprem Dairesi Ba?kanl???
>         >         Eski?ehir Yolu 12. Km.
>         >         Lodumlu/ANKARA
>         >         Tel: 312 2872680-1556
>         >         email:beyhan@deprem.gov.tr
>         >
>         >
>         >
>         >
>         >         --
>         >         This message has been scanned for viruses and
>         >         dangerous content by MailScanner, and is
>         >         believed to be clean.
>         >
>         >
>         >
>         >
>         >
>         > --
>         > Best regards,
>         > Chaitanya kumar CH.
>         >
>         > +91-9494447584
>         > 17.2416N 80.1426E
>         >
>         > --
>         > This message has been scanned for viruses and
>         > dangerous content by MailScanner, and is
>         > believed to be clean.
>         
>         
>         
>         Murat BEYHAN
>         
>         Jeofizik Y.M?h.
>         T.C. Ba?bakanl?k
>         Afet ve Acil Durum Y?netimi Ba?kanl???
>         Deprem Dairesi Ba?kanl???
>         Eski?ehir Yolu 12. Km.
>         Lodumlu/ANKARA
>         Tel: 312 2872680-1556
>         email:beyhan@deprem.gov.tr
>         
>         
>         
>         
>         --
>         This message has been scanned for viruses and
>         dangerous content by MailScanner, and is
>         believed to be clean.
>         
>         
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From beyhan at deprem.gov.tr  Fri Mar  2 08:12:08 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Fri Mar  2 08:16:11 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
Message-ID: <1330693928.4689.18.camel@localhost>

I have to say this is not view
this is a table created.

Because I could not declare type of geom field as a string than I create
geometry field column in spatial mysql database..


On Fri, 2012-03-02 at 18:39 +0530, Chaitanya kumar CH wrote:
> Murat,
> 
> Can you show a sample output of your view?
> SELECT * FROM geom;
> 
> On Fri, Mar 2, 2012 at 6:12 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
>         
>         
>         
>         
>         Dear Chaitanya,
>         
>         I see what you explain first I convert lat lon data to string
>         then I
>         concatenate them to string again. But I would like to ask
>         I have already add data to mysql table as follows is this also
>         correct
>         because when I browse table it seems it store data in geometry
>         field
>         but mapserver gives error
>         Unable to identify source field 'fault' for geometry.
>         any way
>         I will try to convert data first then I can return back you.
>         Regards...
>         
>         ps.
>         
>         ogrinfo
>         MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
>         INFO: Open of
>         `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
>              using driver `MySQL' successful.
>         1: geom (None)
>         
>         
>         
>         
>         it say none in geom
>         may be first I have to do what you say
>         thanks
>         Murat
>         
>         
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From bas.vermeulen at forcevision.nl  Fri Mar  2 08:01:27 2012
From: bas.vermeulen at forcevision.nl (Bas Vermeulen)
Date: Fri Mar  2 08:32:09 2012
Subject: [gdal-dev] Warnings and errors while reading AML to postgis with
	ogr2ogr
In-Reply-To: <CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
Message-ID: <4F50C4A7.60509@forcevision.nl>

Hi all,

I'm relatively new to GIS and I'm trying to read AML (S-57) data into
postgis. I'm trying the following:

ogr2ogr -f "PostgreSQL" PG:"host=localhost user=postgres dbname=aml
password=***" -append ***\***.000
(the ***s are replaced by the real values)

I'm getting warnings like:

Warning 1: Illegal feature attribute id (ATTF:ATTL[2]) of 20615 on
feature FIDN=2760, FIDS=1.
Skipping attribute, no more warnings will be issued.
Warning 1: Attributes INFORM ignored, not in expected schema.
No more warnings will be issued for this dataset.

The attribute for which the warnings are given vary from file to file.
Some files also give the following error:

ERROR 1: Invalid index : -1
(repeated many times)

I'm using FWTools Shell 2.4.7 on Windows and have been able to read
normal ENCs.

Does the S-57 driver automatically select the AML object classes and
attributes or should I do something? Any help is appreciated!

Best regards,
Bas Vermeulen


From chaitanya.ch at gmail.com  Fri Mar  2 09:53:57 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar  2 09:54:51 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330693928.4689.18.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
Message-ID: <CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>

Murat,

You specified the encoding for GeometryField in the VRT as WKT. OGR expects
a WKT if you do that. Either change the data or the VRT.

On Fri, Mar 2, 2012 at 6:42 PM, Murat Beyhan <beyhan@deprem.gov.tr> wrote:

> I have to say this is not view
> this is a table created.
>
> Because I could not declare type of geom field as a string than I create
> geometry field column in spatial mysql database..
>
>
> On Fri, 2012-03-02 at 18:39 +0530, Chaitanya kumar CH wrote:
> > Murat,
> >
> > Can you show a sample output of your view?
> > SELECT * FROM geom;
> >
> > On Fri, Mar 2, 2012 at 6:12 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> > wrote:
> >
> >
> >
> >
> >         Dear Chaitanya,
> >
> >         I see what you explain first I convert lat lon data to string
> >         then I
> >         concatenate them to string again. But I would like to ask
> >         I have already add data to mysql table as follows is this also
> >         correct
> >         because when I browse table it seems it store data in geometry
> >         field
> >         but mapserver gives error
> >         Unable to identify source field 'fault' for geometry.
> >         any way
> >         I will try to convert data first then I can return back you.
> >         Regards...
> >
> >         ps.
> >
> >         ogrinfo
> >
> MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
> >         INFO: Open of
> >
> `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
> >              using driver `MySQL' successful.
> >         1: geom (None)
> >
> >
> >
> >
> >         it say none in geom
> >         may be first I have to do what you say
> >         thanks
> >         Murat
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> >
> > +91-9494447584
> > 17.2416N 80.1426E
> >
> > --
> > This message has been scanned for viruses and
> > dangerous content by MailScanner, and is
> > believed to be clean.
>
>
>
> Murat BEYHAN
>
> Jeofizik Y.M?h.
> T.C. Ba?bakanl?k
> Afet ve Acil Durum Y?netimi Ba?kanl???
> Deprem Dairesi Ba?kanl???
> Eski?ehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
>
>
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120302/55caaa15/attachment.html
From beyhan at deprem.gov.tr  Fri Mar  2 10:27:45 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Fri Mar  2 10:31:45 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
Message-ID: <1330702065.30738.3.camel@localhost>

Chaitanya,

What do you prefer and which way more fast to draw line and point 
because I also draw point about 160000 and I use wkbpoint.

Any way how to change and What I will change in the vrt.

could you tell something about it 
thanks


On Fri, 2012-03-02 at 20:23 +0530, Chaitanya kumar CH wrote:
> Murat,
> 
> You specified the encoding for GeometryField in the VRT as WKT. OGR
> expects a WKT if you do that. Either change the data or the VRT.
> 
> On Fri, Mar 2, 2012 at 6:42 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
>         I have to say this is not view
>         this is a table created.
>         
>         Because I could not declare type of geom field as a string
>         than I create
>         geometry field column in spatial mysql database..
>         
>         
>         On Fri, 2012-03-02 at 18:39 +0530, Chaitanya kumar CH wrote:
>         > Murat,
>         >
>         > Can you show a sample output of your view?
>         > SELECT * FROM geom;
>         >
>         > On Fri, Mar 2, 2012 at 6:12 PM, Murat Beyhan
>         <beyhan@deprem.gov.tr>
>         > wrote:
>         >
>         >
>         >
>         >
>         >         Dear Chaitanya,
>         >
>         >         I see what you explain first I convert lat lon data
>         to string
>         >         then I
>         >         concatenate them to string again. But I would like
>         to ask
>         >         I have already add data to mysql table as follows is
>         this also
>         >         correct
>         >         because when I browse table it seems it store data
>         in geometry
>         >         field
>         >         but mapserver gives error
>         >         Unable to identify source field 'fault' for
>         geometry.
>         >         any way
>         >         I will try to convert data first then I can return
>         back you.
>         >         Regards...
>         >
>         >         ps.
>         >
>         >         ogrinfo
>         >
>         MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
>         >         INFO: Open of
>         >
>         `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
>         >              using driver `MySQL' successful.
>         >         1: geom (None)
>         >
>         >
>         >
>         >
>         >         it say none in geom
>         >         may be first I have to do what you say
>         >         thanks
>         >         Murat
>         >
>         >
>         >
>         > --
>         > Best regards,
>         > Chaitanya kumar CH.
>         >
>         > +91-9494447584
>         > 17.2416N 80.1426E
>         >
>         
>         > --
>         > This message has been scanned for viruses and
>         > dangerous content by MailScanner, and is
>         > believed to be clean.
>         
>         
>         
>         Murat BEYHAN
>         
>         Jeofizik Y.M?h.
>         T.C. Ba?bakanl?k
>         Afet ve Acil Durum Y?netimi Ba?kanl???
>         Deprem Dairesi Ba?kanl???
>         Eski?ehir Yolu 12. Km.
>         Lodumlu/ANKARA
>         Tel: 312 2872680-1556
>         email:beyhan@deprem.gov.tr
>         
>         
>         
>         
>         --
>         This message has been scanned for viruses and
>         dangerous content by MailScanner, and is
>         believed to be clean.
>         
>         
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From chaitanya.ch at gmail.com  Fri Mar  2 10:38:38 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar  2 10:39:22 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330702065.30738.3.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
Message-ID: <CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>

I was talking about the geometry format of the line. You have to decide for
yourselves about the efficiency.

On Fri, Mar 2, 2012 at 8:57 PM, Murat Beyhan <beyhan@deprem.gov.tr> wrote:

> Chaitanya,
>
> What do you prefer and which way more fast to draw line and point
> because I also draw point about 160000 and I use wkbpoint.
>
> Any way how to change and What I will change in the vrt.
>
> could you tell something about it
> thanks
>
>
> On Fri, 2012-03-02 at 20:23 +0530, Chaitanya kumar CH wrote:
> > Murat,
> >
> > You specified the encoding for GeometryField in the VRT as WKT. OGR
> > expects a WKT if you do that. Either change the data or the VRT.
> >
> > On Fri, Mar 2, 2012 at 6:42 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> > wrote:
> >         I have to say this is not view
> >         this is a table created.
> >
> >         Because I could not declare type of geom field as a string
> >         than I create
> >         geometry field column in spatial mysql database..
> >
> >
> >         On Fri, 2012-03-02 at 18:39 +0530, Chaitanya kumar CH wrote:
> >         > Murat,
> >         >
> >         > Can you show a sample output of your view?
> >         > SELECT * FROM geom;
> >         >
> >         > On Fri, Mar 2, 2012 at 6:12 PM, Murat Beyhan
> >         <beyhan@deprem.gov.tr>
> >         > wrote:
> >         >
> >         >
> >         >
> >         >
> >         >         Dear Chaitanya,
> >         >
> >         >         I see what you explain first I convert lat lon data
> >         to string
> >         >         then I
> >         >         concatenate them to string again. But I would like
> >         to ask
> >         >         I have already add data to mysql table as follows is
> >         this also
> >         >         correct
> >         >         because when I browse table it seems it store data
> >         in geometry
> >         >         field
> >         >         but mapserver gives error
> >         >         Unable to identify source field 'fault' for
> >         geometry.
> >         >         any way
> >         >         I will try to convert data first then I can return
> >         back you.
> >         >         Regards...
> >         >
> >         >         ps.
> >         >
> >         >         ogrinfo
> >         >
> >
> MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
> >         >         INFO: Open of
> >         >
> >
> `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
> >         >              using driver `MySQL' successful.
> >         >         1: geom (None)
> >         >
> >         >
> >         >
> >         >
> >         >         it say none in geom
> >         >         may be first I have to do what you say
> >         >         thanks
> >         >         Murat
> >         >
> >         >
> >         >
> >         > --
> >         > Best regards,
> >         > Chaitanya kumar CH.
> >         >
> >         > +91-9494447584
> >         > 17.2416N 80.1426E
> >         >
> >
> >         > --
> >         > This message has been scanned for viruses and
> >         > dangerous content by MailScanner, and is
> >         > believed to be clean.
> >
> >
> >
> >         Murat BEYHAN
> >
> >         Jeofizik Y.M?h.
> >         T.C. Ba?bakanl?k
> >         Afet ve Acil Durum Y?netimi Ba?kanl???
> >         Deprem Dairesi Ba?kanl???
> >         Eski?ehir Yolu 12. Km.
> >         Lodumlu/ANKARA
> >         Tel: 312 2872680-1556
> >         email:beyhan@deprem.gov.tr
> >
> >
> >
> >
> >         --
> >         This message has been scanned for viruses and
> >         dangerous content by MailScanner, and is
> >         believed to be clean.
> >
> >
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> >
> > +91-9494447584
> > 17.2416N 80.1426E
> >
> > --
> > This message has been scanned for viruses and
> > dangerous content by MailScanner, and is
> > believed to be clean.
>
>
>
> Murat BEYHAN
>
> Jeofizik Y.M?h.
> T.C. Ba?bakanl?k
> Afet ve Acil Durum Y?netimi Ba?kanl???
> Deprem Dairesi Ba?kanl???
> Eski?ehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
>
>
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120302/ce933eff/attachment-0001.html
From beyhan at deprem.gov.tr  Fri Mar  2 10:42:15 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Fri Mar  2 10:46:09 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
Message-ID: <1330702935.30738.6.camel@localhost>

Chaitanya,

I mean What should I do,
Still could not draw a simple line on the map,
Please how can I overcome this issue. How can I change VRT file.
in order to read data from such table storing data as linestring

regards

murat
On Fri, 2012-03-02 at 21:08 +0530, Chaitanya kumar CH wrote:
> I was talking about the geometry format of the line. You have to
> decide for yourselves about the efficiency.
> 
> On Fri, Mar 2, 2012 at 8:57 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
>         Chaitanya,
>         
>         What do you prefer and which way more fast to draw line and
>         point
>         because I also draw point about 160000 and I use wkbpoint.
>         
>         Any way how to change and What I will change in the vrt.
>         
>         could you tell something about it
>         thanks
>         
>         
>         On Fri, 2012-03-02 at 20:23 +0530, Chaitanya kumar CH wrote:
>         > Murat,
>         >
>         > You specified the encoding for GeometryField in the VRT as
>         WKT. OGR
>         > expects a WKT if you do that. Either change the data or the
>         VRT.
>         >
>         > On Fri, Mar 2, 2012 at 6:42 PM, Murat Beyhan
>         <beyhan@deprem.gov.tr>
>         > wrote:
>         >         I have to say this is not view
>         >         this is a table created.
>         >
>         >         Because I could not declare type of geom field as a
>         string
>         >         than I create
>         >         geometry field column in spatial mysql database..
>         >
>         >
>         >         On Fri, 2012-03-02 at 18:39 +0530, Chaitanya kumar
>         CH wrote:
>         >         > Murat,
>         >         >
>         >         > Can you show a sample output of your view?
>         >         > SELECT * FROM geom;
>         >         >
>         >         > On Fri, Mar 2, 2012 at 6:12 PM, Murat Beyhan
>         >         <beyhan@deprem.gov.tr>
>         >         > wrote:
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >         Dear Chaitanya,
>         >         >
>         >         >         I see what you explain first I convert lat
>         lon data
>         >         to string
>         >         >         then I
>         >         >         concatenate them to string again. But I
>         would like
>         >         to ask
>         >         >         I have already add data to mysql table as
>         follows is
>         >         this also
>         >         >         correct
>         >         >         because when I browse table it seems it
>         store data
>         >         in geometry
>         >         >         field
>         >         >         but mapserver gives error
>         >         >         Unable to identify source field 'fault'
>         for
>         >         geometry.
>         >         >         any way
>         >         >         I will try to convert data first then I
>         can return
>         >         back you.
>         >         >         Regards...
>         >         >
>         >         >         ps.
>         >         >
>         >         >         ogrinfo
>         >         >
>         >
>         MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
>         >         >         INFO: Open of
>         >         >
>         >
>         `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
>         >         >              using driver `MySQL' successful.
>         >         >         1: geom (None)
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >         it say none in geom
>         >         >         may be first I have to do what you say
>         >         >         thanks
>         >         >         Murat
>         >         >
>         >         >
>         >         >
>         >         > --
>         >         > Best regards,
>         >         > Chaitanya kumar CH.
>         >         >
>         >         > +91-9494447584
>         >         > 17.2416N 80.1426E
>         >         >
>         >
>         >         > --
>         >         > This message has been scanned for viruses and
>         >         > dangerous content by MailScanner, and is
>         >         > believed to be clean.
>         >
>         >
>         >
>         >         Murat BEYHAN
>         >
>         >         Jeofizik Y.M?h.
>         >         T.C. Ba?bakanl?k
>         >         Afet ve Acil Durum Y?netimi Ba?kanl???
>         >         Deprem Dairesi Ba?kanl???
>         >         Eski?ehir Yolu 12. Km.
>         >         Lodumlu/ANKARA
>         >         Tel: 312 2872680-1556
>         >         email:beyhan@deprem.gov.tr
>         >
>         >
>         >
>         >
>         >         --
>         >         This message has been scanned for viruses and
>         >         dangerous content by MailScanner, and is
>         >         believed to be clean.
>         >
>         >
>         >
>         >
>         >
>         > --
>         > Best regards,
>         > Chaitanya kumar CH.
>         >
>         > +91-9494447584
>         > 17.2416N 80.1426E
>         >
>         > --
>         > This message has been scanned for viruses and
>         > dangerous content by MailScanner, and is
>         > believed to be clean.
>         
>         
>         
>         Murat BEYHAN
>         
>         Jeofizik Y.M?h.
>         T.C. Ba?bakanl?k
>         Afet ve Acil Durum Y?netimi Ba?kanl???
>         Deprem Dairesi Ba?kanl???
>         Eski?ehir Yolu 12. Km.
>         Lodumlu/ANKARA
>         Tel: 312 2872680-1556
>         email:beyhan@deprem.gov.tr
>         
>         
>         
>         
>         --
>         This message has been scanned for viruses and
>         dangerous content by MailScanner, and is
>         believed to be clean.
>         
>         
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.

-- 
Murat BEYHAN
Geophysical Engineer, M.Sc.
Prime Ministry
Disaster and Emergency Management Presidency
Earthquake Department
Address: Eskisehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr



-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From chaitanya.ch at gmail.com  Fri Mar  2 10:49:29 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar  2 10:49:57 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330702935.30738.6.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
	<1330702935.30738.6.camel@localhost>
Message-ID: <CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>

Modify the table to store the line as a wkt geometry in string format.

On Fri, Mar 2, 2012 at 9:12 PM, Murat Beyhan <beyhan@deprem.gov.tr> wrote:

> Chaitanya,
>
> I mean What should I do,
> Still could not draw a simple line on the map,
> Please how can I overcome this issue. How can I change VRT file.
> in order to read data from such table storing data as linestring
>
> regards
>
> murat
> On Fri, 2012-03-02 at 21:08 +0530, Chaitanya kumar CH wrote:
> > I was talking about the geometry format of the line. You have to
> > decide for yourselves about the efficiency.
> >
> > On Fri, Mar 2, 2012 at 8:57 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> > wrote:
> >         Chaitanya,
> >
> >         What do you prefer and which way more fast to draw line and
> >         point
> >         because I also draw point about 160000 and I use wkbpoint.
> >
> >         Any way how to change and What I will change in the vrt.
> >
> >         could you tell something about it
> >         thanks
> >
> >
> >         On Fri, 2012-03-02 at 20:23 +0530, Chaitanya kumar CH wrote:
> >         > Murat,
> >         >
> >         > You specified the encoding for GeometryField in the VRT as
> >         WKT. OGR
> >         > expects a WKT if you do that. Either change the data or the
> >         VRT.
> >         >
> >         > On Fri, Mar 2, 2012 at 6:42 PM, Murat Beyhan
> >         <beyhan@deprem.gov.tr>
> >         > wrote:
> >         >         I have to say this is not view
> >         >         this is a table created.
> >         >
> >         >         Because I could not declare type of geom field as a
> >         string
> >         >         than I create
> >         >         geometry field column in spatial mysql database..
> >         >
> >         >
> >         >         On Fri, 2012-03-02 at 18:39 +0530, Chaitanya kumar
> >         CH wrote:
> >         >         > Murat,
> >         >         >
> >         >         > Can you show a sample output of your view?
> >         >         > SELECT * FROM geom;
> >         >         >
> >         >         > On Fri, Mar 2, 2012 at 6:12 PM, Murat Beyhan
> >         >         <beyhan@deprem.gov.tr>
> >         >         > wrote:
> >         >         >
> >         >         >
> >         >         >
> >         >         >
> >         >         >         Dear Chaitanya,
> >         >         >
> >         >         >         I see what you explain first I convert lat
> >         lon data
> >         >         to string
> >         >         >         then I
> >         >         >         concatenate them to string again. But I
> >         would like
> >         >         to ask
> >         >         >         I have already add data to mysql table as
> >         follows is
> >         >         this also
> >         >         >         correct
> >         >         >         because when I browse table it seems it
> >         store data
> >         >         in geometry
> >         >         >         field
> >         >         >         but mapserver gives error
> >         >         >         Unable to identify source field 'fault'
> >         for
> >         >         geometry.
> >         >         >         any way
> >         >         >         I will try to convert data first then I
> >         can return
> >         >         back you.
> >         >         >         Regards...
> >         >         >
> >         >         >         ps.
> >         >         >
> >         >         >         ogrinfo
> >         >         >
> >         >
> >
> MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
> >         >         >         INFO: Open of
> >         >         >
> >         >
> >
> `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
> >         >         >              using driver `MySQL' successful.
> >         >         >         1: geom (None)
> >         >         >
> >         >         >
> >         >         >
> >         >         >
> >         >         >         it say none in geom
> >         >         >         may be first I have to do what you say
> >         >         >         thanks
> >         >         >         Murat
> >         >         >
> >         >         >
> >         >         >
> >         >         > --
> >         >         > Best regards,
> >         >         > Chaitanya kumar CH.
> >         >         >
> >         >         > +91-9494447584
> >         >         > 17.2416N 80.1426E
> >         >         >
> >         >
> >         >         > --
> >         >         > This message has been scanned for viruses and
> >         >         > dangerous content by MailScanner, and is
> >         >         > believed to be clean.
> >         >
> >         >
> >         >
> >         >         Murat BEYHAN
> >         >
> >         >         Jeofizik Y.M?h.
> >         >         T.C. Ba?bakanl?k
> >         >         Afet ve Acil Durum Y?netimi Ba?kanl???
> >         >         Deprem Dairesi Ba?kanl???
> >         >         Eski?ehir Yolu 12. Km.
> >         >         Lodumlu/ANKARA
> >         >         Tel: 312 2872680-1556
> >         >         email:beyhan@deprem.gov.tr
> >         >
> >         >
> >         >
> >         >
> >         >         --
> >         >         This message has been scanned for viruses and
> >         >         dangerous content by MailScanner, and is
> >         >         believed to be clean.
> >         >
> >         >
> >         >
> >         >
> >         >
> >         > --
> >         > Best regards,
> >         > Chaitanya kumar CH.
> >         >
> >         > +91-9494447584
> >         > 17.2416N 80.1426E
> >         >
> >         > --
> >         > This message has been scanned for viruses and
> >         > dangerous content by MailScanner, and is
> >         > believed to be clean.
> >
> >
> >
> >         Murat BEYHAN
> >
> >         Jeofizik Y.M?h.
> >         T.C. Ba?bakanl?k
> >         Afet ve Acil Durum Y?netimi Ba?kanl???
> >         Deprem Dairesi Ba?kanl???
> >         Eski?ehir Yolu 12. Km.
> >         Lodumlu/ANKARA
> >         Tel: 312 2872680-1556
> >         email:beyhan@deprem.gov.tr
> >
> >
> >
> >
> >         --
> >         This message has been scanned for viruses and
> >         dangerous content by MailScanner, and is
> >         believed to be clean.
> >
> >
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> >
> > +91-9494447584
> > 17.2416N 80.1426E
> >
> > --
> > This message has been scanned for viruses and
> > dangerous content by MailScanner, and is
> > believed to be clean.
>
> --
> Murat BEYHAN
> Geophysical Engineer, M.Sc.
> Prime Ministry
> Disaster and Emergency Management Presidency
> Earthquake Department
> Address: Eskisehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
>
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120302/5493e5ec/attachment-0001.html
From beyhan at deprem.gov.tr  Fri Mar  2 10:54:34 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Fri Mar  2 10:58:23 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
	<1330702935.30738.6.camel@localhost>
	<CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>
Message-ID: <1330703674.30738.13.camel@localhost>

Chaitanya,

I store data in table not view as I told you before becasue I could not
declare column as string, then I create a new table and select
fault(line) column as linestring. in mysql WKT support these format


      * A LineString with four points: 
        
        LINESTRING(0 0, 10 10, 20 25, 50 60)
        
        Note that point coordinate pairs are separated by commas. 
        
      * A Polygon with one exterior ring and one interior ring: 
        
        POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5 5))
      * A MultiPoint with three Point values: 
        
        MULTIPOINT(0 0, 20 20, 60 60)
      * A MultiLineString with two LineString values: 
        
        MULTILINESTRING((10 10, 20 20), (15 15, 30 15))
      * A MultiPolygon with two Polygon values: 
        
        MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)),((5 5,7 5,7 7,5 7, 5 5)))
      * A GeometryCollection consisting of two Point values and one
        LineString: 
        
        GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30), LINESTRING(15 15, 20 20))


How to modify wkt geometry  in string format
in map file it is already defined as
<GeometryType>wkbLineString</GeometryType>
like this.

I really sorry for giving trouble to you. Thanks

murat

On Fri, 2012-03-02 at 21:19 +0530, Chaitanya kumar CH wrote:
> Modify the table to store the line as a wkt geometry in string format.
> 
> On Fri, Mar 2, 2012 at 9:12 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
>         Chaitanya,
>         
>         I mean What should I do,
>         Still could not draw a simple line on the map,
>         Please how can I overcome this issue. How can I change VRT
>         file.
>         in order to read data from such table storing data as
>         linestring
>         
>         regards
>         
>         murat
>         On Fri, 2012-03-02 at 21:08 +0530, Chaitanya kumar CH wrote:
>         > I was talking about the geometry format of the line. You
>         have to
>         > decide for yourselves about the efficiency.
>         >
>         > On Fri, Mar 2, 2012 at 8:57 PM, Murat Beyhan
>         <beyhan@deprem.gov.tr>
>         > wrote:
>         >         Chaitanya,
>         >
>         >         What do you prefer and which way more fast to draw
>         line and
>         >         point
>         >         because I also draw point about 160000 and I use
>         wkbpoint.
>         >
>         >         Any way how to change and What I will change in the
>         vrt.
>         >
>         >         could you tell something about it
>         >         thanks
>         >
>         >
>         >         On Fri, 2012-03-02 at 20:23 +0530, Chaitanya kumar
>         CH wrote:
>         >         > Murat,
>         >         >
>         >         > You specified the encoding for GeometryField in
>         the VRT as
>         >         WKT. OGR
>         >         > expects a WKT if you do that. Either change the
>         data or the
>         >         VRT.
>         >         >
>         >         > On Fri, Mar 2, 2012 at 6:42 PM, Murat Beyhan
>         >         <beyhan@deprem.gov.tr>
>         >         > wrote:
>         >         >         I have to say this is not view
>         >         >         this is a table created.
>         >         >
>         >         >         Because I could not declare type of geom
>         field as a
>         >         string
>         >         >         than I create
>         >         >         geometry field column in spatial mysql
>         database..
>         >         >
>         >         >
>         >         >         On Fri, 2012-03-02 at 18:39 +0530,
>         Chaitanya kumar
>         >         CH wrote:
>         >         >         > Murat,
>         >         >         >
>         >         >         > Can you show a sample output of your
>         view?
>         >         >         > SELECT * FROM geom;
>         >         >         >
>         >         >         > On Fri, Mar 2, 2012 at 6:12 PM, Murat
>         Beyhan
>         >         >         <beyhan@deprem.gov.tr>
>         >         >         > wrote:
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >         Dear Chaitanya,
>         >         >         >
>         >         >         >         I see what you explain first I
>         convert lat
>         >         lon data
>         >         >         to string
>         >         >         >         then I
>         >         >         >         concatenate them to string
>         again. But I
>         >         would like
>         >         >         to ask
>         >         >         >         I have already add data to mysql
>         table as
>         >         follows is
>         >         >         this also
>         >         >         >         correct
>         >         >         >         because when I browse table it
>         seems it
>         >         store data
>         >         >         in geometry
>         >         >         >         field
>         >         >         >         but mapserver gives error
>         >         >         >         Unable to identify source field
>         'fault'
>         >         for
>         >         >         geometry.
>         >         >         >         any way
>         >         >         >         I will try to convert data first
>         then I
>         >         can return
>         >         >         back you.
>         >         >         >         Regards...
>         >         >         >
>         >         >         >         ps.
>         >         >         >
>         >         >         >         ogrinfo
>         >         >         >
>         >         >
>         >
>         MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
>         >         >         >         INFO: Open of
>         >         >         >
>         >         >
>         >
>         `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
>         >         >         >              using driver `MySQL'
>         successful.
>         >         >         >         1: geom (None)
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >         it say none in geom
>         >         >         >         may be first I have to do what
>         you say
>         >         >         >         thanks
>         >         >         >         Murat
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         > --
>         >         >         > Best regards,
>         >         >         > Chaitanya kumar CH.
>         >         >         >
>         >         >         > +91-9494447584
>         >         >         > 17.2416N 80.1426E
>         >         >         >
>         >         >
>         >         >         > --
>         >         >         > This message has been scanned for
>         viruses and
>         >         >         > dangerous content by MailScanner, and is
>         >         >         > believed to be clean.
>         >         >
>         >         >
>         >         >
>         >         >         Murat BEYHAN
>         >         >
>         >         >         Jeofizik Y.M?h.
>         >         >         T.C. Ba?bakanl?k
>         >         >         Afet ve Acil Durum Y?netimi Ba?kanl???
>         >         >         Deprem Dairesi Ba?kanl???
>         >         >         Eski?ehir Yolu 12. Km.
>         >         >         Lodumlu/ANKARA
>         >         >         Tel: 312 2872680-1556
>         >         >         email:beyhan@deprem.gov.tr
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >         --
>         >         >         This message has been scanned for viruses
>         and
>         >         >         dangerous content by MailScanner, and is
>         >         >         believed to be clean.
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >
>         >         > --
>         >         > Best regards,
>         >         > Chaitanya kumar CH.
>         >         >
>         >         > +91-9494447584
>         >         > 17.2416N 80.1426E
>         >         >
>         >         > --
>         >         > This message has been scanned for viruses and
>         >         > dangerous content by MailScanner, and is
>         >         > believed to be clean.
>         >
>         >
>         >
>         >         Murat BEYHAN
>         >
>         >         Jeofizik Y.M?h.
>         >         T.C. Ba?bakanl?k
>         >         Afet ve Acil Durum Y?netimi Ba?kanl???
>         >         Deprem Dairesi Ba?kanl???
>         >         Eski?ehir Yolu 12. Km.
>         >         Lodumlu/ANKARA
>         >         Tel: 312 2872680-1556
>         >         email:beyhan@deprem.gov.tr
>         >
>         >
>         >
>         >
>         >         --
>         >         This message has been scanned for viruses and
>         >         dangerous content by MailScanner, and is
>         >         believed to be clean.
>         >
>         >
>         >
>         >
>         >
>         > --
>         > Best regards,
>         > Chaitanya kumar CH.
>         >
>         > +91-9494447584
>         > 17.2416N 80.1426E
>         >
>         > --
>         > This message has been scanned for viruses and
>         > dangerous content by MailScanner, and is
>         > believed to be clean.
>         
>         --
>         
>         Murat BEYHAN
>         Geophysical Engineer, M.Sc.
>         Prime Ministry
>         Disaster and Emergency Management Presidency
>         Earthquake Department
>         Address: Eskisehir Yolu 12. Km.
>         Lodumlu/ANKARA
>         Tel: 312 2872680-1556
>         email:beyhan@deprem.gov.tr
>         
>         
>         
>         --
>         This message has been scanned for viruses and
>         dangerous content by MailScanner, and is
>         believed to be clean.
>         
>         
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From chaitanya.ch at gmail.com  Fri Mar  2 11:08:14 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar  2 11:08:53 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330703674.30738.13.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
	<1330702935.30738.6.camel@localhost>
	<CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>
	<1330703674.30738.13.camel@localhost>
Message-ID: <CAMKgpOYyAXtCpAQqEFtW0oS1Mu2NNqTRbrbwpeA942JTB8gbPA@mail.gmail.com>

Please refer to my previous posts.
Modify the SQL select command. Use the CONCAT function instead of the +
operator to create the wkt.

It should be something like this: CONCAT('LINESTRING(', x1, ' ', y1, ',',
x2, ' ', y2, ')')
You may have to change the order of the points.

On Fri, Mar 2, 2012 at 9:24 PM, Murat Beyhan <beyhan@deprem.gov.tr> wrote:

> Chaitanya,
>
> I store data in table not view as I told you before becasue I could not
> declare column as string, then I create a new table and select
> fault(line) column as linestring. in mysql WKT support these format
>
>
>      * A LineString with four points:
>
>        LINESTRING(0 0, 10 10, 20 25, 50 60)
>
>        Note that point coordinate pairs are separated by commas.
>
>      * A Polygon with one exterior ring and one interior ring:
>
>        POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5 5))
>      * A MultiPoint with three Point values:
>
>        MULTIPOINT(0 0, 20 20, 60 60)
>      * A MultiLineString with two LineString values:
>
>        MULTILINESTRING((10 10, 20 20), (15 15, 30 15))
>      * A MultiPolygon with two Polygon values:
>
>        MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)),((5 5,7 5,7 7,5 7, 5 5)))
>      * A GeometryCollection consisting of two Point values and one
>        LineString:
>
>        GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30), LINESTRING(15 15, 20
> 20))
>
>
> How to modify wkt geometry  in string format
> in map file it is already defined as
> <GeometryType>wkbLineString</GeometryType>
> like this.
>
> I really sorry for giving trouble to you. Thanks
>
> murat
>
> On Fri, 2012-03-02 at 21:19 +0530, Chaitanya kumar CH wrote:
> > Modify the table to store the line as a wkt geometry in string format.
> >
> > On Fri, Mar 2, 2012 at 9:12 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> > wrote:
> >         Chaitanya,
> >
> >         I mean What should I do,
> >         Still could not draw a simple line on the map,
> >         Please how can I overcome this issue. How can I change VRT
> >         file.
> >         in order to read data from such table storing data as
> >         linestring
> >
> >         regards
> >
> >         murat
> >         On Fri, 2012-03-02 at 21:08 +0530, Chaitanya kumar CH wrote:
> >         > I was talking about the geometry format of the line. You
> >         have to
> >         > decide for yourselves about the efficiency.
> >         >
> >         > On Fri, Mar 2, 2012 at 8:57 PM, Murat Beyhan
> >         <beyhan@deprem.gov.tr>
> >         > wrote:
> >         >         Chaitanya,
> >         >
> >         >         What do you prefer and which way more fast to draw
> >         line and
> >         >         point
> >         >         because I also draw point about 160000 and I use
> >         wkbpoint.
> >         >
> >         >         Any way how to change and What I will change in the
> >         vrt.
> >         >
> >         >         could you tell something about it
> >         >         thanks
> >         >
> >         >
> >         >         On Fri, 2012-03-02 at 20:23 +0530, Chaitanya kumar
> >         CH wrote:
> >         >         > Murat,
> >         >         >
> >         >         > You specified the encoding for GeometryField in
> >         the VRT as
> >         >         WKT. OGR
> >         >         > expects a WKT if you do that. Either change the
> >         data or the
> >         >         VRT.
> >         >         >
> >         >         > On Fri, Mar 2, 2012 at 6:42 PM, Murat Beyhan
> >         >         <beyhan@deprem.gov.tr>
> >         >         > wrote:
> >         >         >         I have to say this is not view
> >         >         >         this is a table created.
> >         >         >
> >         >         >         Because I could not declare type of geom
> >         field as a
> >         >         string
> >         >         >         than I create
> >         >         >         geometry field column in spatial mysql
> >         database..
> >         >         >
> >         >         >
> >         >         >         On Fri, 2012-03-02 at 18:39 +0530,
> >         Chaitanya kumar
> >         >         CH wrote:
> >         >         >         > Murat,
> >         >         >         >
> >         >         >         > Can you show a sample output of your
> >         view?
> >         >         >         > SELECT * FROM geom;
> >         >         >         >
> >         >         >         > On Fri, Mar 2, 2012 at 6:12 PM, Murat
> >         Beyhan
> >         >         >         <beyhan@deprem.gov.tr>
> >         >         >         > wrote:
> >         >         >         >
> >         >         >         >
> >         >         >         >
> >         >         >         >
> >         >         >         >         Dear Chaitanya,
> >         >         >         >
> >         >         >         >         I see what you explain first I
> >         convert lat
> >         >         lon data
> >         >         >         to string
> >         >         >         >         then I
> >         >         >         >         concatenate them to string
> >         again. But I
> >         >         would like
> >         >         >         to ask
> >         >         >         >         I have already add data to mysql
> >         table as
> >         >         follows is
> >         >         >         this also
> >         >         >         >         correct
> >         >         >         >         because when I browse table it
> >         seems it
> >         >         store data
> >         >         >         in geometry
> >         >         >         >         field
> >         >         >         >         but mapserver gives error
> >         >         >         >         Unable to identify source field
> >         'fault'
> >         >         for
> >         >         >         geometry.
> >         >         >         >         any way
> >         >         >         >         I will try to convert data first
> >         then I
> >         >         can return
> >         >         >         back you.
> >         >         >         >         Regards...
> >         >         >         >
> >         >         >         >         ps.
> >         >         >         >
> >         >         >         >         ogrinfo
> >         >         >         >
> >         >         >
> >         >
> >
> MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
> >         >         >         >         INFO: Open of
> >         >         >         >
> >         >         >
> >         >
> >
> `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
> >         >         >         >              using driver `MySQL'
> >         successful.
> >         >         >         >         1: geom (None)
> >         >         >         >
> >         >         >         >
> >         >         >         >
> >         >         >         >
> >         >         >         >         it say none in geom
> >         >         >         >         may be first I have to do what
> >         you say
> >         >         >         >         thanks
> >         >         >         >         Murat
> >         >         >         >
> >         >         >         >
> >         >         >         >
> >         >         >         > --
> >         >         >         > Best regards,
> >         >         >         > Chaitanya kumar CH.
> >         >         >         >
> >         >         >         > +91-9494447584
> >         >         >         > 17.2416N 80.1426E
> >         >         >         >
> >         >         >
> >         >         >         > --
> >         >         >         > This message has been scanned for
> >         viruses and
> >         >         >         > dangerous content by MailScanner, and is
> >         >         >         > believed to be clean.
> >         >         >
> >         >         >
> >         >         >
> >         >         >         Murat BEYHAN
> >         >         >
> >         >         >         Jeofizik Y.M?h.
> >         >         >         T.C. Ba?bakanl?k
> >         >         >         Afet ve Acil Durum Y?netimi Ba?kanl???
> >         >         >         Deprem Dairesi Ba?kanl???
> >         >         >         Eski?ehir Yolu 12. Km.
> >         >         >         Lodumlu/ANKARA
> >         >         >         Tel: 312 2872680-1556
> >         >         >         email:beyhan@deprem.gov.tr
> >         >         >
> >         >         >
> >         >         >
> >         >         >
> >         >         >         --
> >         >         >         This message has been scanned for viruses
> >         and
> >         >         >         dangerous content by MailScanner, and is
> >         >         >         believed to be clean.
> >         >         >
> >         >         >
> >         >         >
> >         >         >
> >         >         >
> >         >         > --
> >         >         > Best regards,
> >         >         > Chaitanya kumar CH.
> >         >         >
> >         >         > +91-9494447584
> >         >         > 17.2416N 80.1426E
> >         >         >
> >         >         > --
> >         >         > This message has been scanned for viruses and
> >         >         > dangerous content by MailScanner, and is
> >         >         > believed to be clean.
> >         >
> >         >
> >         >
> >         >         Murat BEYHAN
> >         >
> >         >         Jeofizik Y.M?h.
> >         >         T.C. Ba?bakanl?k
> >         >         Afet ve Acil Durum Y?netimi Ba?kanl???
> >         >         Deprem Dairesi Ba?kanl???
> >         >         Eski?ehir Yolu 12. Km.
> >         >         Lodumlu/ANKARA
> >         >         Tel: 312 2872680-1556
> >         >         email:beyhan@deprem.gov.tr
> >         >
> >         >
> >         >
> >         >
> >         >         --
> >         >         This message has been scanned for viruses and
> >         >         dangerous content by MailScanner, and is
> >         >         believed to be clean.
> >         >
> >         >
> >         >
> >         >
> >         >
> >         > --
> >         > Best regards,
> >         > Chaitanya kumar CH.
> >         >
> >         > +91-9494447584
> >         > 17.2416N 80.1426E
> >         >
> >         > --
> >         > This message has been scanned for viruses and
> >         > dangerous content by MailScanner, and is
> >         > believed to be clean.
> >
> >         --
> >
> >         Murat BEYHAN
> >         Geophysical Engineer, M.Sc.
> >         Prime Ministry
> >         Disaster and Emergency Management Presidency
> >         Earthquake Department
> >         Address: Eskisehir Yolu 12. Km.
> >         Lodumlu/ANKARA
> >         Tel: 312 2872680-1556
> >         email:beyhan@deprem.gov.tr
> >
> >
> >
> >         --
> >         This message has been scanned for viruses and
> >         dangerous content by MailScanner, and is
> >         believed to be clean.
> >
> >
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> >
> > +91-9494447584
> > 17.2416N 80.1426E
> >
> > --
> > This message has been scanned for viruses and
> > dangerous content by MailScanner, and is
> > believed to be clean.
>
>
>
> Murat BEYHAN
>
> Jeofizik Y.M?h.
> T.C. Ba?bakanl?k
> Afet ve Acil Durum Y?netimi Ba?kanl???
> Deprem Dairesi Ba?kanl???
> Eski?ehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
>
>
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120302/22a23691/attachment-0001.html
From chaitanya.ch at gmail.com  Fri Mar  2 12:30:03 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar  2 12:30:18 2012
Subject: [gdal-dev] Warnings and errors while reading AML to postgis with
	ogr2ogr
In-Reply-To: <4F50C4A7.60509@forcevision.nl>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<4F50C4A7.60509@forcevision.nl>
Message-ID: <CAMKgpOZ4nuuW2LB+s7A-rLhtDcqgb3bHDmMSGM2gZRAa+dcw0A@mail.gmail.com>

Bas,

While the FWTools package for Windows is easier to install, it is very old.
Use the GDAL binaries from the OSGeo4W installer to rule out any bugs that
are already fixed.

According to your first error report, the s57attributes CSV file has a
missing attribute entry. Check if that csv file has an entry with the first
column
is 20615.

Other than that there is little I can help.

On Fri, Mar 2, 2012 at 6:31 PM, Bas Vermeulen
<bas.vermeulen@forcevision.nl>wrote:

> Hi all,
>
> I'm relatively new to GIS and I'm trying to read AML (S-57) data into
> postgis. I'm trying the following:
>
> ogr2ogr -f "PostgreSQL" PG:"host=localhost user=postgres dbname=aml
> password=***" -append ***\***.000
> (the ***s are replaced by the real values)
>
> I'm getting warnings like:
>
> Warning 1: Illegal feature attribute id (ATTF:ATTL[2]) of 20615 on
> feature FIDN=2760, FIDS=1.
> Skipping attribute, no more warnings will be issued.
> Warning 1: Attributes INFORM ignored, not in expected schema.
> No more warnings will be issued for this dataset.
>
> The attribute for which the warnings are given vary from file to file.
> Some files also give the following error:
>
> ERROR 1: Invalid index : -1
> (repeated many times)
>
> I'm using FWTools Shell 2.4.7 on Windows and have been able to read
> normal ENCs.
>
> Does the S-57 driver automatically select the AML object classes and
> attributes or should I do something? Any help is appreciated!
>
> Best regards,
> Bas Vermeulen
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120302/877756da/attachment.html
From huahu0213 at gmail.com  Fri Mar  2 12:26:52 2012
From: huahu0213 at gmail.com (huahu)
Date: Fri Mar  2 12:34:52 2012
Subject: [gdal-dev] How to edit a .dxf file?
Message-ID: <CAMkj4o4F6an5yaSO69ZbhP1V8x-UtX81Bq68S8ayTvJHaTYwhQ@mail.gmail.com>

Hi,
I try to edit in this way, but it can not work,although it can save
geometry,but it cannot save feature.
My purpose is  alter the previous file,and copy a DataSource to create a
new file.


OGRRegisterAll();
OGRDataSource *poDS = OGRSFDriverRegistrar::Open( srcname.c_str(), FALSE );
 int layercount=poDS->GetLayerCount();

for(int num=0;num<layercount;num++)
 {
    OGRLayer* poLayer = poDS->GetLayer(num);
    OGRFeature * pFeature;
     poLayer->ResetReading();

        while ((pFeature=poLayer->GetNextFeature())!=NULL)
{
   OGRGeometry* pGeometry = pFeature->GetGeometryRef();
   OGRwkbGeometryType geoType = pGeometry->getGeometryType();
   if (pGeometry != NULL &&wkbPoint==geoType)
   {
               //change the coordinate value
 OGRPoint *poPoint = (OGRPoint *) pGeometry;
 double pointx=poPoint->getX()-X;
 double pointy=poPoint->getY()-Y;
 poPoint->setX((pointx*cos(e)-pointy*sin(e))+X);
 poPoint->setY((pointx*sin(e)+pointy*cos(e))+Y);
   }
   else if(pGeometry != NULL &&wkbLineString==geoType)
   {
 OGRLineString* pLineGeo = (OGRLineString*)pGeometry;
 int linestringsize=pLineGeo->getNumPoints();
 for(int i=0;i<linestringsize;i++)
 {
     double
pointx=((pLineGeo->getX(i)-X)*cos(e*PI/180.0)-(pLineGeo->getY(i)-Y)*sin(e*PI/180.0))+X;
              double
pointy=((pLineGeo->getX(i)-X)*sin(e*PI/180.0)+(pLineGeo->getY(i)-Y)*cos(e*PI/180.0))+Y;
            pLineGeo->setPoint(i,pointx,pointy);
  }
   }
    else if( pGeometry != NULL &&wkbPolygon==geoType)
   {
   OGRPolygon *pPolygon=(OGRPolygon*)pGeometry;
   OGRLinearRing *ogrlring=pPolygon->getExteriorRing();
   int lenth=ogrlring->getNumPoints();
   for(int i=0;i<lenth;i++)
  {
 double
pointx=((ogrlring->getX(i)-X)*cos(e*PI/180.0)-(ogrlring->getY(i)-Y)*sin(e*PI/180.0))+X;
                double
pointy=((ogrlring->getX(i)-X)*sin(e*PI/180.0)+(ogrlring->getY(i)-Y)*cos(e*PI/180.0))+Y;
 ogrlring->setPoint(i,pointx,pointy);
  }
   }
   else
   {
   }
 poLayer->SetFeature(pFeature);   //it can not save feature

 }
 }
OGRSFDriver* poDriver =
OGRSFDriverRegistrar::GetRegistrar()->GetDriverByName("ESRI Shapefile");
 OGRDataSource* desDS = poDriver->CopyDataSource(poDS,desname.c_str(),0);
OGRDataSource::DestroyDataSource( desDS );
 OGRDataSource::DestroyDataSource( poDS );
       OGRCleanupAll();


Can you help me?

Thank you!

Cheers,
Huahu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120303/f91a6996/attachment.html
From even.rouault at mines-paris.org  Fri Mar  2 13:51:00 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar  2 13:51:34 2012
Subject: [gdal-dev] How to edit a .dxf file?
In-Reply-To: <CAMkj4o4F6an5yaSO69ZbhP1V8x-UtX81Bq68S8ayTvJHaTYwhQ@mail.gmail.com>
References: <CAMkj4o4F6an5yaSO69ZbhP1V8x-UtX81Bq68S8ayTvJHaTYwhQ@mail.gmail.com>
Message-ID: <201203021951.00765.even.rouault@mines-paris.org>

Le vendredi 02 mars 2012 18:26:52, huahu a ?crit :
> Hi,
> I try to edit in this way, but it can not work,although it can save
> geometry,but it cannot save feature.

The DXF driver doesn't support update of existing files. It supports reading a 
file or writing a new one. So you'll have to iterate over the source file 
features and write them in a new DXF file.

> My purpose is  alter the previous file,and copy a DataSource to create a
> new file.
> 
> 
> OGRRegisterAll();
> OGRDataSource *poDS = OGRSFDriverRegistrar::Open( srcname.c_str(), FALSE );
>  int layercount=poDS->GetLayerCount();
> 
> for(int num=0;num<layercount;num++)
>  {
>     OGRLayer* poLayer = poDS->GetLayer(num);
>     OGRFeature * pFeature;
>      poLayer->ResetReading();
> 
>         while ((pFeature=poLayer->GetNextFeature())!=NULL)
> {
>    OGRGeometry* pGeometry = pFeature->GetGeometryRef();
>    OGRwkbGeometryType geoType = pGeometry->getGeometryType();
>    if (pGeometry != NULL &&wkbPoint==geoType)
>    {
>                //change the coordinate value
>  OGRPoint *poPoint = (OGRPoint *) pGeometry;
>  double pointx=poPoint->getX()-X;
>  double pointy=poPoint->getY()-Y;
>  poPoint->setX((pointx*cos(e)-pointy*sin(e))+X);
>  poPoint->setY((pointx*sin(e)+pointy*cos(e))+Y);
>    }
>    else if(pGeometry != NULL &&wkbLineString==geoType)
>    {
>  OGRLineString* pLineGeo = (OGRLineString*)pGeometry;
>  int linestringsize=pLineGeo->getNumPoints();
>  for(int i=0;i<linestringsize;i++)
>  {
>      double
> pointx=((pLineGeo->getX(i)-X)*cos(e*PI/180.0)-(pLineGeo->getY(i)-Y)*sin(e*P
> I/180.0))+X; double
> pointy=((pLineGeo->getX(i)-X)*sin(e*PI/180.0)+(pLineGeo->getY(i)-Y)*cos(e*P
> I/180.0))+Y; pLineGeo->setPoint(i,pointx,pointy);
>   }
>    }
>     else if( pGeometry != NULL &&wkbPolygon==geoType)
>    {
>    OGRPolygon *pPolygon=(OGRPolygon*)pGeometry;
>    OGRLinearRing *ogrlring=pPolygon->getExteriorRing();
>    int lenth=ogrlring->getNumPoints();
>    for(int i=0;i<lenth;i++)
>   {
>  double
> pointx=((ogrlring->getX(i)-X)*cos(e*PI/180.0)-(ogrlring->getY(i)-Y)*sin(e*P
> I/180.0))+X; double
> pointy=((ogrlring->getX(i)-X)*sin(e*PI/180.0)+(ogrlring->getY(i)-Y)*cos(e*P
> I/180.0))+Y; ogrlring->setPoint(i,pointx,pointy);
>   }
>    }
>    else
>    {
>    }
>  poLayer->SetFeature(pFeature);   //it can not save feature
> 
>  }
>  }
> OGRSFDriver* poDriver =
> OGRSFDriverRegistrar::GetRegistrar()->GetDriverByName("ESRI Shapefile");
>  OGRDataSource* desDS = poDriver->CopyDataSource(poDS,desname.c_str(),0);
> OGRDataSource::DestroyDataSource( desDS );
>  OGRDataSource::DestroyDataSource( poDS );
>        OGRCleanupAll();
> 
> 
> Can you help me?
> 
> Thank you!
> 
> Cheers,
> Huahu
From gdemmy at gmail.com  Fri Mar  2 15:22:10 2012
From: gdemmy at gmail.com (George Demmy)
Date: Fri Mar  2 15:22:41 2012
Subject: [gdal-dev] Some info about geospatial PDF and TerraGo Toolbar
Message-ID: <CA+7PDU00CD_sN-HqiA4Am_SDPhWoJEEz6JoAkqL1V-mQ3PN8rQ@mail.gmail.com>

Here's some info that might help the development effort for PDF and
use of PDF created or georegistered by GDAL.

Something that is confusing is TerraGo Toolbar's behavior with PDF
files not created by TerraGo software. The company policy was to not
support files with the Toolbar, the reason being the company could not
afford to support debugging of files created by other software
systems, etc., with a free product. This policy was imperfectly
implemented in Toolbar code: sometimes it can be tricked into
believing a PDF was created by TerraGo even when it wasn't. Some of
the "works sometimes, other times not" behavior can be attributed to
this, especially when it comes to ISO encodings which have been
supported since 2008. Fortunately, this policy has been abandoned and
the next release of the Toolbar will attempt to read any and provide
display of coordinates, measurement, etc. Toolbar is due to ship later
this month. That will have some rudimentary introspection tools to
help figure out why a PDF doesn't seem to work.

Some of the issues reported in an earlier thread may be related to the
Toolbar "refusing" to display the coordinates and might not any
indication that the encoding has been bunged, strings not properly
formed, etc. As was noted in the earlier thread and as I've confirmed
with some prerelease Toolbar code, the encodings are correct for both
samples cited, so good job Even!

With the OGC encoding, it's safer to always write the numbers as
strings .16g. However, the ISO method does not permit this. The ISO
method is less sensitive to the limitations of the PDF real number
object type, so the only concern there is precision (PDF reals are ~ 5
significant digits in the fractional part (cf. ISO32000)), which
cannot be addressed without modifying the encoding specification and
everything that implies.

When did gdal_translate pick up the cool macho supremo ability to
georegister a PDF? The googles did not help me...

I fell off this list a while back, but am back on. LMK if there are
other questions.

HTH and cheers!

George Demmy
From even.rouault at mines-paris.org  Fri Mar  2 15:37:22 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar  2 15:37:45 2012
Subject: [gdal-dev] Re: Can PDF measuring be activated
In-Reply-To: <loom.20120302T125020-1@post.gmane.org>
References: <loom.20120301T221153-148@post.gmane.org>
	<201203012251.22602.even.rouault@mines-paris.org>
	<loom.20120302T125020-1@post.gmane.org>
Message-ID: <201203022137.22720.even.rouault@mines-paris.org>

Le vendredi 02 mars 2012 12:53:39, Jukka Rahkonen a ?crit :
> Even Rouault <even.rouault <at> mines-paris.org> writes:
> > Le jeudi 01 mars 2012 22:19:34, Jukka Rahkonen a ?crit :
> > > Hi,
> > > 
> > > The native measurement tool of Acrobat Reader stays greyed with the ISO
> > > style georeferenced PDFs. From Abobe forum I found this:
> > > 
> > > "Re: Measure tool disabled
> > 
> > Ah, interesting. I was also wondering why I add only access to
> > coordinates display.
> 
> .....
> 
> > At the very least, a sample that has
> > gone through the enabling system in Acrobat would make it easier to know
> > if it is feasable or not.
> 
> http://latuviitta.org/documents/GDAL_ISO+OGC_3067_enabled.pdf

Ok, looking at it confirms my initial feeling. I believe that it is not 
possible, due to the use of cryptography mechanism to protect the associated 
permission.

Well, it might be possible if you have access the private signing key of 
Adobe. But this is not an encouragement to anyone to try to access to it... 
Make sure you know the Law before.

Or it is perhaps doable if you have a proper X.509 certificate, use it when 
signing the doc and register it in Adobe Reader as a trusted certificate.

Well, it is interesting to see that even if the PDF spec is open, such DRM 
mechanism can make it use similar as to if it was closed.

> 
> -Jukka-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From gdemmy at gmail.com  Fri Mar  2 15:52:06 2012
From: gdemmy at gmail.com (George Demmy)
Date: Fri Mar  2 15:52:35 2012
Subject: [gdal-dev] Re: Can PDF measuring be activated
In-Reply-To: <201203022137.22720.even.rouault@mines-paris.org>
References: <loom.20120301T221153-148@post.gmane.org>
	<201203012251.22602.even.rouault@mines-paris.org>
	<loom.20120302T125020-1@post.gmane.org>
	<201203022137.22720.even.rouault@mines-paris.org>
Message-ID: <CA+7PDU36haNShhzUi9JdqD33ktcT1MikWpkO-7o7WYGKWh+Zfw@mail.gmail.com>

On Fri, Mar 2, 2012 at 8:37 PM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> Le vendredi 02 mars 2012 12:53:39, Jukka Rahkonen a ?crit :
>> Even Rouault <even.rouault <at> mines-paris.org> writes:
>> > Le jeudi 01 mars 2012 22:19:34, Jukka Rahkonen a ?crit :
>> > > Hi,
>> > >
>> > > The native measurement tool of Acrobat Reader stays greyed with the ISO
>> > > style georeferenced PDFs. From Abobe forum I found this:
>> > >
>> > > "Re: Measure tool disabled
>> >
>> > Ah, interesting. I was also wondering why I add only access to
>> > coordinates display.
>>
>> .....
>>
>> > At the very least, a sample that has
>> > gone through the enabling system in Acrobat would make it easier to know
>> > if it is feasable or not.
>>
>> http://latuviitta.org/documents/GDAL_ISO+OGC_3067_enabled.pdf
>
> Ok, looking at it confirms my initial feeling. I believe that it is not
> possible, due to the use of cryptography mechanism to protect the associated
> permission.
>
> Well, it might be possible if you have access the private signing key of
> Adobe. But this is not an encouragement to anyone to try to access to it...
> Make sure you know the Law before.
>
> Or it is perhaps doable if you have a proper X.509 certificate, use it when
> signing the doc and register it in Adobe Reader as a trusted certificate.
>
> Well, it is interesting to see that even if the PDF spec is open, such DRM
> mechanism can make it use similar as to if it was closed.

The following doesn't have much to do with GDAL dev directly, but
maybe it will be useful in the support of PDF hacking...

Here's the deal with Adobe's measurement tools. They are built on top
of their PDF annotation tools which modify the PDF document. By
default, PDF is read-only in Reader. Since the measurements are tied
to annotations which require modification of the PDF, you can't do it
by default. However, Acrobat Pro can embed permissions in the PDF file
which unlock the annotation/measurement functionality in Reader. The
PDF spec is open and nothing is hidden per se (content can be
encrypted, but that's something different) -- the issue here is DRM
controlling functionality in software. It's confusing if you don't
know about it...

HTH and cheers!

George Demmy
From even.rouault at mines-paris.org  Fri Mar  2 16:02:29 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar  2 16:02:44 2012
Subject: [gdal-dev] Some info about geospatial PDF and TerraGo Toolbar
In-Reply-To: <CA+7PDU00CD_sN-HqiA4Am_SDPhWoJEEz6JoAkqL1V-mQ3PN8rQ@mail.gmail.com>
References: <CA+7PDU00CD_sN-HqiA4Am_SDPhWoJEEz6JoAkqL1V-mQ3PN8rQ@mail.gmail.com>
Message-ID: <201203022202.29610.even.rouault@mines-paris.org>

Le vendredi 02 mars 2012 21:22:10, George Demmy a ?crit :
> Here's some info that might help the development effort for PDF and
> use of PDF created or georegistered by GDAL.
> 
> Something that is confusing is TerraGo Toolbar's behavior with PDF
> files not created by TerraGo software. The company policy was to not
> support files with the Toolbar, the reason being the company could not
> afford to support debugging of files created by other software
> systems, etc., with a free product. This policy was imperfectly
> implemented in Toolbar code: sometimes it can be tricked into
> believing a PDF was created by TerraGo even when it wasn't.

Well, sorry for trolling a bit, but I can't resist ;-) I'm not surprised such 
attempt wasn't reliable (and having even tried to do so is quite chocking from 
my point of view !). How would that be doable with an opened spec ? Unless 
there are some secret sauce not exposed in the spec, such as strict order of 
keys in the dictionary...

> Some of
> the "works sometimes, other times not" behavior can be attributed to
> this, especially when it comes to ISO encodings which have been
> supported since 2008.

Hum, actually, I've never see any public sample with the ISO encoding (but to 
be honest, I couldn't find many of them) that is recognized by the toolbar 
(well, the SRS and geotransform are recognized, but none of the tools are 
available, not even coordinate display)

> Fortunately, this policy has been abandoned and
> the next release of the Toolbar will attempt to read any and provide
> display of coordinates, measurement, etc. Toolbar is due to ship later
> this month. That will have some rudimentary introspection tools to
> help figure out why a PDF doesn't seem to work.

Good to know. If ISO encoding is fully supported, then it will save the effort 
of mapping all the various projection methods, which is a tedious effort. 
Currently, only a few of them are written by the driver (geographic, UTM, 
Transverse Mercator, LCC 2SP).

> 
> Some of the issues reported in an earlier thread may be related to the
> Toolbar "refusing" to display the coordinates and might not any
> indication that the encoding has been bunged, strings not properly
> formed, etc. As was noted in the earlier thread and as I've confirmed
> with some prerelease Toolbar code, the encodings are correct for both
> samples cited, so good job Even!
> 
> With the OGC encoding, it's safer to always write the numbers as
> strings .16g.

That's what the driver does, unless it detects its an int value, in that case 
it is written as a standard PDF numeric value. Saves a few bytes ;-)

> However, the ISO method does not permit this. The ISO
> method is less sensitive to the limitations of the PDF real number
> object type, so the only concern there is precision (PDF reals are ~ 5
> significant digits in the fractional part (cf. ISO32000)), which
> cannot be addressed without modifying the encoding specification and
> everything that implies.

Actually, the driver will try to output up to 16 decimals. I'm not sure if it 
will cause issues to readers. I guess that, at worst, they will discard the 
extra digits.

> 
> When did gdal_translate pick up the cool macho supremo ability to
> georegister a PDF? The googles did not help me...

Just a few days ago. And for the record, MapServer can also now output 
geospatial PDF, through its Cairo/PDF backend, when it leverages the GDAL PDF 
driver.

> 
> I fell off this list a while back, but am back on. LMK if there are
> other questions.
> 
> HTH and cheers!
> 
> George Demmy
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From gdemmy at gmail.com  Fri Mar  2 16:14:33 2012
From: gdemmy at gmail.com (George Demmy)
Date: Fri Mar  2 16:15:26 2012
Subject: [gdal-dev] Some info about geospatial PDF and TerraGo Toolbar
In-Reply-To: <201203022202.29610.even.rouault@mines-paris.org>
References: <CA+7PDU00CD_sN-HqiA4Am_SDPhWoJEEz6JoAkqL1V-mQ3PN8rQ@mail.gmail.com>
	<201203022202.29610.even.rouault@mines-paris.org>
Message-ID: <CA+7PDU2K_gf059k6DT-PzEZQe8a92hM4JSytRLOzuscvEaG6WQ@mail.gmail.com>

On Fri, Mar 2, 2012 at 9:02 PM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> Le vendredi 02 mars 2012 21:22:10, George Demmy a ?crit :
>> Here's some info that might help the development effort for PDF and
>> use of PDF created or georegistered by GDAL.
>>
>> Something that is confusing is TerraGo Toolbar's behavior with PDF
>> files not created by TerraGo software. The company policy was to not
>> support files with the Toolbar, the reason being the company could not
>> afford to support debugging of files created by other software
>> systems, etc., with a free product. This policy was imperfectly
>> implemented in Toolbar code: sometimes it can be tricked into
>> believing a PDF was created by TerraGo even when it wasn't.
>
> Well, sorry for trolling a bit, but I can't resist ;-)

No problem!

> I'm not surprised such
> attempt wasn't reliable (and having even tried to do so is quite chocking from
> my point of view !). How would that be doable with an opened spec ? Unless
> there are some secret sauce not exposed in the spec, such as strict order of
> keys in the dictionary...

Nothing that tricky... just signatures. From a spec perspective,
everything is disclosed.

>> Some of
>> the "works sometimes, other times not" behavior can be attributed to
>> this, especially when it comes to ISO encodings which have been
>> supported since 2008.
>
> Hum, actually, I've never see any public sample with the ISO encoding (but to
> be honest, I couldn't find many of them) that is recognized by the toolbar
> (well, the SRS and geotransform are recognized, but none of the tools are
> available, not even coordinate display)

There are a bunch of them out there, but they are scattered. I
actually don't know of a good spot to get a bunch of different
ISO-encoded g-PDFs. Esri ArcGIS can only create ISO. TerraGo, like
GDAL, writes either at the user's preference. There are some other
geospatial PDF writers out there and they split between ISO and OGC.
This really is begging for standardization...

>> With the OGC encoding, it's safer to always write the numbers as
>> strings .16g.
>
> That's what the driver does, unless it detects its an int value, in that case
> it is written as a standard PDF numeric value. Saves a few bytes ;-)

Nice!

>> However, the ISO method does not permit this. The ISO
>> method is less sensitive to the limitations of the PDF real number
>> object type, so the only concern there is precision (PDF reals are ~ 5
>> significant digits in the fractional part (cf. ISO32000)), which
>> cannot be addressed without modifying the encoding specification and
>> everything that implies.
>
> Actually, the driver will try to output up to 16 decimals. I'm not sure if it
> will cause issues to readers. I guess that, at worst, they will discard the
> extra digits.

Yup.

>> When did gdal_translate pick up the cool macho supremo ability to
>> georegister a PDF? The googles did not help me...
>
> Just a few days ago. And for the record, MapServer can also now output
> geospatial PDF, through its Cairo/PDF backend, when it leverages the GDAL PDF
> driver.

Thanks for the heads up!

Cheers!

George Demmy
From landa.martin at gmail.com  Sat Mar  3 16:32:53 2012
From: landa.martin at gmail.com (Martin Landa)
Date: Sat Mar  3 16:32:55 2012
Subject: [gdal-dev] metadata - OGRLayer::GetInfo()
Message-ID: <CA+Ei1OdiqzAarR+mZJrPGMCS8vJTBRR=a5e6n6khiLtMnnxO9w@mail.gmail.com>

Hi,

is there any way how to deal with metadata related to OGRDatasource? I
just found OGRLayer::GetInfo() which could be used for layer-related
key:values metadata. But it is deprecated and no OGR drivers are using
this method. So I am not really sure how to deal with
(datasource/layer-related) metadata when developing OGR driver.

Thanks for the clarification. Martin

-- 
Martin Landa <landa.martin gmail.com> * http://geo.fsv.cvut.cz/~landa
From even.rouault at mines-paris.org  Sat Mar  3 17:28:03 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Mar  3 17:28:45 2012
Subject: [gdal-dev] metadata - OGRLayer::GetInfo()
In-Reply-To: <CA+Ei1OdiqzAarR+mZJrPGMCS8vJTBRR=a5e6n6khiLtMnnxO9w@mail.gmail.com>
References: <CA+Ei1OdiqzAarR+mZJrPGMCS8vJTBRR=a5e6n6khiLtMnnxO9w@mail.gmail.com>
Message-ID: <201203032328.04045.even.rouault@mines-paris.org>

Le samedi 03 mars 2012 22:32:53, Martin Landa a ?crit :
> Hi,
> 
> is there any way how to deal with metadata related to OGRDatasource? I
> just found OGRLayer::GetInfo() which could be used for layer-related
> key:values metadata. But it is deprecated and no OGR drivers are using
> this method. So I am not really sure how to deal with
> (datasource/layer-related) metadata when developing OGR driver.

Martin,

There's no standardized way to do this unfortunately and GetInfo() is actually  
advertized as deprecated. 

Currently, when I need exposing metadata in a OGR driver, I create a dedicated 
layer that is returned by an overloaded GetLayerByName() method on the 
datasource object. For example, in the WFS driver, you can request the 
WFSLayerMetadata and WFSGetCapabilities layers.

Perhaps if the GDAL / OGR "grand unification" takes place one day and OGR 
layers inherit from GDALMajorObject for example, this will be possible in a 
more convenient way.

Best regards,

Even
From beyhan at deprem.gov.tr  Mon Mar  5 02:57:55 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Mon Mar  5 03:01:50 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOYyAXtCpAQqEFtW0oS1Mu2NNqTRbrbwpeA942JTB8gbPA@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
	<1330702935.30738.6.camel@localhost>
	<CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>
	<1330703674.30738.13.camel@localhost>
	<CAMKgpOYyAXtCpAQqEFtW0oS1Mu2NNqTRbrbwpeA942JTB8gbPA@mail.gmail.com>
Message-ID: <1330934275.5317.10.camel@localhost>

Chaitanya,

Thanks for your help, I try to use concat to create view from database
which is storing start and end of the point of the line
as follows.


create view lineview6 as select eq_id,
CONCAT('LINESTRING(',lon1,'',lat1,',',lon2,'',lat2,')') as geom from
sfault



but at the previous problem still could not solve
as you said geom field should be string but view automatically decided
the format of the geom column randomly (now is var). then the select sql
result of the view as follows and mapserver does not draw line.


SQL result
Host: localhost
Database: dynamic
Generation Time: Mar 05, 2012 at 09:52 AM
Generated by: phpMyAdmin 3.3.10 / MySQL 5.1.55
SQL query: SELECT * FROM `lineview6` LIMIT 0, 30 ;Rows: 1 

               eq_id
                geom
20100308023229
LINESTRING(38.7901 40.0811,38.7428
40.0311)


and structure of the lineview6 is as follows

eq_id varchar(14)
geom var(51)

please excuse me for this

murat



On Fri, 2012-03-02 at 21:38 +0530, Chaitanya kumar CH wrote:
> Please refer to my previous posts.
> Modify the SQL select command. Use the CONCAT function instead of the
> + operator to create the wkt.
> 
> It should be something like this: CONCAT('LINESTRING(', x1, ' ', y1,
> ',', x2, ' ', y2, ')')
> You may have to change the order of the points.
> 
> On Fri, Mar 2, 2012 at 9:24 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> wrote:
>         Chaitanya,
>         
>         I store data in table not view as I told you before becasue I
>         could not
>         declare column as string, then I create a new table and select
>         fault(line) column as linestring. in mysql WKT support these
>         format
>         
>         
>              * A LineString with four points:
>         
>                LINESTRING(0 0, 10 10, 20 25, 50 60)
>         
>                Note that point coordinate pairs are separated by
>         commas.
>         
>              * A Polygon with one exterior ring and one interior ring:
>         
>                POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5
>         5))
>              * A MultiPoint with three Point values:
>         
>                MULTIPOINT(0 0, 20 20, 60 60)
>              * A MultiLineString with two LineString values:
>         
>                MULTILINESTRING((10 10, 20 20), (15 15, 30 15))
>              * A MultiPolygon with two Polygon values:
>         
>                MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)),((5 5,7 5,7
>         7,5 7, 5 5)))
>              * A GeometryCollection consisting of two Point values and
>         one
>                LineString:
>         
>                GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30),
>         LINESTRING(15 15, 20 20))
>         
>         
>         How to modify wkt geometry  in string format
>         in map file it is already defined as
>         <GeometryType>wkbLineString</GeometryType>
>         like this.
>         
>         I really sorry for giving trouble to you. Thanks
>         
>         murat
>         
>         On Fri, 2012-03-02 at 21:19 +0530, Chaitanya kumar CH wrote:
>         > Modify the table to store the line as a wkt geometry in
>         string format.
>         >
>         > On Fri, Mar 2, 2012 at 9:12 PM, Murat Beyhan
>         <beyhan@deprem.gov.tr>
>         > wrote:
>         >         Chaitanya,
>         >
>         >         I mean What should I do,
>         >         Still could not draw a simple line on the map,
>         >         Please how can I overcome this issue. How can I
>         change VRT
>         >         file.
>         >         in order to read data from such table storing data
>         as
>         >         linestring
>         >
>         >         regards
>         >
>         >         murat
>         >         On Fri, 2012-03-02 at 21:08 +0530, Chaitanya kumar
>         CH wrote:
>         >         > I was talking about the geometry format of the
>         line. You
>         >         have to
>         >         > decide for yourselves about the efficiency.
>         >         >
>         >         > On Fri, Mar 2, 2012 at 8:57 PM, Murat Beyhan
>         >         <beyhan@deprem.gov.tr>
>         >         > wrote:
>         >         >         Chaitanya,
>         >         >
>         >         >         What do you prefer and which way more fast
>         to draw
>         >         line and
>         >         >         point
>         >         >         because I also draw point about 160000 and
>         I use
>         >         wkbpoint.
>         >         >
>         >         >         Any way how to change and What I will
>         change in the
>         >         vrt.
>         >         >
>         >         >         could you tell something about it
>         >         >         thanks
>         >         >
>         >         >
>         >         >         On Fri, 2012-03-02 at 20:23 +0530,
>         Chaitanya kumar
>         >         CH wrote:
>         >         >         > Murat,
>         >         >         >
>         >         >         > You specified the encoding for
>         GeometryField in
>         >         the VRT as
>         >         >         WKT. OGR
>         >         >         > expects a WKT if you do that. Either
>         change the
>         >         data or the
>         >         >         VRT.
>         >         >         >
>         >         >         > On Fri, Mar 2, 2012 at 6:42 PM, Murat
>         Beyhan
>         >         >         <beyhan@deprem.gov.tr>
>         >         >         > wrote:
>         >         >         >         I have to say this is not view
>         >         >         >         this is a table created.
>         >         >         >
>         >         >         >         Because I could not declare type
>         of geom
>         >         field as a
>         >         >         string
>         >         >         >         than I create
>         >         >         >         geometry field column in spatial
>         mysql
>         >         database..
>         >         >         >
>         >         >         >
>         >         >         >         On Fri, 2012-03-02 at 18:39
>         +0530,
>         >         Chaitanya kumar
>         >         >         CH wrote:
>         >         >         >         > Murat,
>         >         >         >         >
>         >         >         >         > Can you show a sample output
>         of your
>         >         view?
>         >         >         >         > SELECT * FROM geom;
>         >         >         >         >
>         >         >         >         > On Fri, Mar 2, 2012 at 6:12
>         PM, Murat
>         >         Beyhan
>         >         >         >         <beyhan@deprem.gov.tr>
>         >         >         >         > wrote:
>         >         >         >         >
>         >         >         >         >
>         >         >         >         >
>         >         >         >         >
>         >         >         >         >         Dear Chaitanya,
>         >         >         >         >
>         >         >         >         >         I see what you explain
>         first I
>         >         convert lat
>         >         >         lon data
>         >         >         >         to string
>         >         >         >         >         then I
>         >         >         >         >         concatenate them to
>         string
>         >         again. But I
>         >         >         would like
>         >         >         >         to ask
>         >         >         >         >         I have already add
>         data to mysql
>         >         table as
>         >         >         follows is
>         >         >         >         this also
>         >         >         >         >         correct
>         >         >         >         >         because when I browse
>         table it
>         >         seems it
>         >         >         store data
>         >         >         >         in geometry
>         >         >         >         >         field
>         >         >         >         >         but mapserver gives
>         error
>         >         >         >         >         Unable to identify
>         source field
>         >         'fault'
>         >         >         for
>         >         >         >         geometry.
>         >         >         >         >         any way
>         >         >         >         >         I will try to convert
>         data first
>         >         then I
>         >         >         can return
>         >         >         >         back you.
>         >         >         >         >         Regards...
>         >         >         >         >
>         >         >         >         >         ps.
>         >         >         >         >
>         >         >         >         >         ogrinfo
>         >         >         >         >
>         >         >         >
>         >         >
>         >
>         MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom
>         >         >         >         >         INFO: Open of
>         >         >         >         >
>         >         >         >
>         >         >
>         >
>         `MYSQL:dynamic,user=root,password=mysql_123,host=localhost,port=3306,tables=geom'
>         >         >         >         >              using driver
>         `MySQL'
>         >         successful.
>         >         >         >         >         1: geom (None)
>         >         >         >         >
>         >         >         >         >
>         >         >         >         >
>         >         >         >         >
>         >         >         >         >         it say none in geom
>         >         >         >         >         may be first I have to
>         do what
>         >         you say
>         >         >         >         >         thanks
>         >         >         >         >         Murat
>         >         >         >         >
>         >         >         >         >
>         >         >         >         >
>         >         >         >         > --
>         >         >         >         > Best regards,
>         >         >         >         > Chaitanya kumar CH.
>         >         >         >         >
>         >         >         >         > +91-9494447584
>         >         >         >         > 17.2416N 80.1426E
>         >         >         >         >
>         >         >         >
>         >         >         >         > --
>         >         >         >         > This message has been scanned
>         for
>         >         viruses and
>         >         >         >         > dangerous content by
>         MailScanner, and is
>         >         >         >         > believed to be clean.
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >         Murat BEYHAN
>         >         >         >
>         >         >         >         Jeofizik Y.M?h.
>         >         >         >         T.C. Ba?bakanl?k
>         >         >         >         Afet ve Acil Durum Y?netimi
>         Ba?kanl???
>         >         >         >         Deprem Dairesi Ba?kanl???
>         >         >         >         Eski?ehir Yolu 12. Km.
>         >         >         >         Lodumlu/ANKARA
>         >         >         >         Tel: 312 2872680-1556
>         >         >         >         email:beyhan@deprem.gov.tr
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >         --
>         >         >         >         This message has been scanned
>         for viruses
>         >         and
>         >         >         >         dangerous content by
>         MailScanner, and is
>         >         >         >         believed to be clean.
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         >
>         >         >         > --
>         >         >         > Best regards,
>         >         >         > Chaitanya kumar CH.
>         >         >         >
>         >         >         > +91-9494447584
>         >         >         > 17.2416N 80.1426E
>         >         >         >
>         >         >         > --
>         >         >         > This message has been scanned for
>         viruses and
>         >         >         > dangerous content by MailScanner, and is
>         >         >         > believed to be clean.
>         >         >
>         >         >
>         >         >
>         >         >         Murat BEYHAN
>         >         >
>         >         >         Jeofizik Y.M?h.
>         >         >         T.C. Ba?bakanl?k
>         >         >         Afet ve Acil Durum Y?netimi Ba?kanl???
>         >         >         Deprem Dairesi Ba?kanl???
>         >         >         Eski?ehir Yolu 12. Km.
>         >         >         Lodumlu/ANKARA
>         >         >         Tel: 312 2872680-1556
>         >         >         email:beyhan@deprem.gov.tr
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >         --
>         >         >         This message has been scanned for viruses
>         and
>         >         >         dangerous content by MailScanner, and is
>         >         >         believed to be clean.
>         >         >
>         >         >
>         >         >
>         >         >
>         >         >
>         >         > --
>         >         > Best regards,
>         >         > Chaitanya kumar CH.
>         >         >
>         >         > +91-9494447584
>         >         > 17.2416N 80.1426E
>         >         >
>         >         > --
>         >         > This message has been scanned for viruses and
>         >         > dangerous content by MailScanner, and is
>         >         > believed to be clean.
>         >
>         >         --
>         >
>         >         Murat BEYHAN
>         >         Geophysical Engineer, M.Sc.
>         >         Prime Ministry
>         >         Disaster and Emergency Management Presidency
>         >         Earthquake Department
>         >         Address: Eskisehir Yolu 12. Km.
>         >         Lodumlu/ANKARA
>         >         Tel: 312 2872680-1556
>         >         email:beyhan@deprem.gov.tr
>         >
>         >
>         >
>         >         --
>         >         This message has been scanned for viruses and
>         >         dangerous content by MailScanner, and is
>         >         believed to be clean.
>         >
>         >
>         >
>         >
>         >
>         > --
>         > Best regards,
>         > Chaitanya kumar CH.
>         >
>         > +91-9494447584
>         > 17.2416N 80.1426E
>         >
>         > --
>         > This message has been scanned for viruses and
>         > dangerous content by MailScanner, and is
>         > believed to be clean.
>         
>         
>         
>         Murat BEYHAN
>         
>         Jeofizik Y.M?h.
>         T.C. Ba?bakanl?k
>         Afet ve Acil Durum Y?netimi Ba?kanl???
>         Deprem Dairesi Ba?kanl???
>         Eski?ehir Yolu 12. Km.
>         Lodumlu/ANKARA
>         Tel: 312 2872680-1556
>         email:beyhan@deprem.gov.tr
>         
>         
>         
>         
>         --
>         This message has been scanned for viruses and
>         dangerous content by MailScanner, and is
>         believed to be clean.
>         
>         
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From jukka.rahkonen at mmmtike.fi  Mon Mar  5 03:29:29 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Mar  5 03:30:31 2012
Subject: [gdal-dev] PDF selective layer sample wanted
Message-ID: <loom.20120305T092705-744@post.gmane.org>

Hi,

This changeset looks interesting
http://trac.osgeo.org/gdal/changeset/24069

Is there any such PDF sample file available?

-Jukka Rahkonen-

From chaitanya.ch at gmail.com  Mon Mar  5 03:37:05 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Mar  5 03:37:26 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330934275.5317.10.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
	<1330702935.30738.6.camel@localhost>
	<CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>
	<1330703674.30738.13.camel@localhost>
	<CAMKgpOYyAXtCpAQqEFtW0oS1Mu2NNqTRbrbwpeA942JTB8gbPA@mail.gmail.com>
	<1330934275.5317.10.camel@localhost>
Message-ID: <CAMKgpOaBJZeOYJmCXyvvn_ZK_TXj8-21S4GJpvKFDXb7GY2AXg@mail.gmail.com>

Murat,

Perhaps you can use the CAST operator to convert the data type to varchar.

On Monday, March 5, 2012, Murat Beyhan <beyhan@deprem.gov.tr> wrote:
> Chaitanya,
>
> Thanks for your help, I try to use concat to create view from database
> which is storing start and end of the point of the line
> as follows.
>
>
> create view lineview6 as select eq_id,
> CONCAT('LINESTRING(',lon1,'',lat1,',',lon2,'',lat2,')') as geom from
> sfault
>
>
>
> but at the previous problem still could not solve
> as you said geom field should be string but view automatically decided
> the format of the geom column randomly (now is var). then the select sql
> result of the view as follows and mapserver does not draw line.
>
>
> SQL result
> Host: localhost
> Database: dynamic
> Generation Time: Mar 05, 2012 at 09:52 AM
> Generated by: phpMyAdmin 3.3.10 / MySQL 5.1.55
> SQL query: SELECT * FROM `lineview6` LIMIT 0, 30 ;Rows: 1
>
>               eq_id
>                geom
> 20100308023229
> LINESTRING(38.7901 40.0811,38.7428
> 40.0311)
>
>
> and structure of the lineview6 is as follows
>
> eq_id varchar(14)
> geom var(51)
>
> please excuse me for this
>
> murat
>
>
>
> On Fri, 2012-03-02 at 21:38 +0530, Chaitanya kumar CH wrote:
>> Please refer to my previous posts.
>> Modify the SQL select command. Use the CONCAT function instead of the
>> + operator to create the wkt.
>>
>> It should be something like this: CONCAT('LINESTRING(', x1, ' ', y1,
>> ',', x2, ' ', y2, ')')
>> You may have to change the order of the points.
>>
>> On Fri, Mar 2, 2012 at 9:24 PM, Murat Beyhan <beyhan@deprem.gov.tr>
>> wrote:
>>         Chaitanya,
>>
>>         I store data in table not view as I told you before becasue I
>>         could not
>>         declare column as string, then I create a new table and select
>>         fault(line) column as linestring. in mysql WKT support these
>>         format
>>
>>
>>              * A LineString with four points:
>>
>>                LINESTRING(0 0, 10 10, 20 25, 50 60)
>>
>>                Note that point coordinate pairs are separated by
>>         commas.
>>
>>              * A Polygon with one exterior ring and one interior ring:
>>
>>                POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5
>>         5))
>>              * A MultiPoint with three Point values:
>>
>>                MULTIPOINT(0 0, 20 20, 60 60)
>>              * A MultiLineString with two LineString values:
>>
>>                MULTILINESTRING((10 10, 20 20), (15 15, 30 15))
>>              * A MultiPolygon with two Polygon values:
>>
>>                MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)),((5 5,7 5,7
>>         7,5 7, 5 5)))
>>              * A GeometryCollection consisting of two Point values and
>>         one
>>                LineString:
>>
>>                GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30),
>>         LINESTRING(15 15, 20 20))
>>
>>
>>         How to modify wkt geometry  in string format
>>         in map file it is already defined as
>>         <GeometryType>wkbLineString</GeometryType>
>>         like this.
>>
>>         I really sorry for giving trouble to you. Thanks
>>
>>         murat
>>
>>         On Fri, 2012-03-02 at 21:19 +0530, Chaitanya kumar CH wrote:
>>         > Modify the table to store the line as a wkt geometry in
>>         string format.
>>         >
>>         > On Fri, Mar 2, 2012 at 9:12 PM, Murat Beyhan
>>         <beyhan@deprem.gov.tr>
>>         > wrote:
>>         >         Chaitanya,
>>         >
>>         >         I mean What should I do,
>>         >         Still could not draw a simple line on the map,
>>         >         Please how can I overcome this issue. How can I
>>         change VRT
>>         >         file.
>>         >         in order to read data from such table storing data
>>         as
>>         >         linestring
>>         >
>>         >         regards
>>         >
>>         >         murat
>

-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120305/73d21303/attachment-0001.html
From beyhan at deprem.gov.tr  Mon Mar  5 03:44:25 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Mon Mar  5 03:48:16 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <CAMKgpOaBJZeOYJmCXyvvn_ZK_TXj8-21S4GJpvKFDXb7GY2AXg@mail.gmail.com>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
	<1330702935.30738.6.camel@localhost>
	<CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>
	<1330703674.30738.13.camel@localhost>
	<CAMKgpOYyAXtCpAQqEFtW0oS1Mu2NNqTRbrbwpeA942JTB8gbPA@mail.gmail.com>
	<1330934275.5317.10.camel@localhost>
	<CAMKgpOaBJZeOYJmCXyvvn_ZK_TXj8-21S4GJpvKFDXb7GY2AXg@mail.gmail.com>
Message-ID: <1330937065.5317.18.camel@localhost>

Chaitanya,

I was forget to convert lat lon to string as you said before than I was
use BINARY to convert it but I could not converted ? think because still
same problem continuing.

as follows 


CREATE OR REPLACE 
ALGORITHM = UNDEFINED
VIEW `lineview3` (
eq_id,
geom
) AS 
SELECT eq_id, 
BINARY CONCAT( 'LINESTRING(', lon1, ' ', lat1, ',', lon2, ' ', lat2,
')' ) AS geom
FROM sfault
 

Ok, I will tyr cast. By the way I learn more about mysql, too..
thanks
Murat


On Mon, 2012-03-05 at 14:07 +0530, Chaitanya kumar CH wrote:
> Murat,
> 
> Perhaps you can use the CAST operator to convert the data type to
> varchar.
> 
> On Monday, March 5, 2012, Murat Beyhan <beyhan@deprem.gov.tr> wrote:
> > Chaitanya,
> >
> > Thanks for your help, I try to use concat to create view from
> database
> > which is storing start and end of the point of the line
> > as follows.
> >
> >
> > create view lineview6 as select eq_id,
> > CONCAT('LINESTRING(',lon1,'',lat1,',',lon2,'',lat2,')') as geom from
> > sfault
> >
> >
> >
> > but at the previous problem still could not solve
> > as you said geom field should be string but view automatically
> decided
> > the format of the geom column randomly (now is var). then the select
> sql
> > result of the view as follows and mapserver does not draw line.
> >
> >
> > SQL result
> > Host: localhost
> > Database: dynamic
> > Generation Time: Mar 05, 2012 at 09:52 AM
> > Generated by: phpMyAdmin 3.3.10 / MySQL 5.1.55
> > SQL query: SELECT * FROM `lineview6` LIMIT 0, 30 ;Rows: 1
> >
> >               eq_id
> >                geom
> > 20100308023229
> > LINESTRING(38.7901 40.0811,38.7428
> > 40.0311)
> >
> >
> > and structure of the lineview6 is as follows
> >
> > eq_id varchar(14)
> > geom var(51)
> >
> > please excuse me for this
> >
> > murat
> >
> >
> >
> > On Fri, 2012-03-02 at 21:38 +0530, Chaitanya kumar CH wrote:
> >> Please refer to my previous posts.
> >> Modify the SQL select command. Use the CONCAT function instead of
> the
> >> + operator to create the wkt.
> >>
> >> It should be something like this: CONCAT('LINESTRING(', x1, ' ',
> y1,
> >> ',', x2, ' ', y2, ')')
> >> You may have to change the order of the points.
> >>
> >> On Fri, Mar 2, 2012 at 9:24 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> >> wrote:
> >>         Chaitanya,
> >>
> >>         I store data in table not view as I told you before becasue
> I
> >>         could not
> >>         declare column as string, then I create a new table and
> select
> >>         fault(line) column as linestring. in mysql WKT support
> these
> >>         format
> >>
> >>
> >>              * A LineString with four points:
> >>
> >>                LINESTRING(0 0, 10 10, 20 25, 50 60)
> >>
> >>                Note that point coordinate pairs are separated by
> >>         commas.
> >>
> >>              * A Polygon with one exterior ring and one interior
> ring:
> >>
> >>                POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7,
> 5
> >>         5))
> >>              * A MultiPoint with three Point values:
> >>
> >>                MULTIPOINT(0 0, 20 20, 60 60)
> >>              * A MultiLineString with two LineString values:
> >>
> >>                MULTILINESTRING((10 10, 20 20), (15 15, 30 15))
> >>              * A MultiPolygon with two Polygon values:
> >>
> >>                MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)),((5 5,7 5,7
> >>         7,5 7, 5 5)))
> >>              * A GeometryCollection consisting of two Point values
> and
> >>         one
> >>                LineString:
> >>
> >>                GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30),
> >>         LINESTRING(15 15, 20 20))
> >>
> >>
> >>         How to modify wkt geometry  in string format
> >>         in map file it is already defined as
> >>         <GeometryType>wkbLineString</GeometryType>
> >>         like this.
> >>
> >>         I really sorry for giving trouble to you. Thanks
> >>
> >>         murat
> >>
> >>         On Fri, 2012-03-02 at 21:19 +0530, Chaitanya kumar CH
> wrote:
> >>         > Modify the table to store the line as a wkt geometry in
> >>         string format.
> >>         >
> >>         > On Fri, Mar 2, 2012 at 9:12 PM, Murat Beyhan
> >>         <beyhan@deprem.gov.tr>
> >>         > wrote:
> >>         >         Chaitanya,
> >>         >
> >>         >         I mean What should I do,
> >>         >         Still could not draw a simple line on the map,
> >>         >         Please how can I overcome this issue. How can I
> >>         change VRT
> >>         >         file.
> >>         >         in order to read data from such table storing
> data
> >>         as
> >>         >         linestring
> >>         >
> >>         >         regards
> >>         >
> >>         >         murat
> >
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
> 
> -- 
> This message has been scanned for viruses and 
> dangerous content by MailScanner, and is 
> believed to be clean.



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From oliver.eichler at gmx.de  Mon Mar  5 03:51:51 2012
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Mon Mar  5 03:52:11 2012
Subject: [gdal-dev] Convert RGBA geotiff to color table
Message-ID: <20120305085151.217200@gmx.net>

Hi, 

this question was discussed around 2004 but with no real result. That's why I would like to raise it again. (http://lists.osgeo.org/pipermail/gdal-dev/2004-September/004203.html)

I have several scanned paper maps (RGB). As there is a lot of side information at the borders, which is bad if you want to stitch the maps together, I added an alpha channel and used gimp to remove the borders. Thus my maps have a transparent irregular border and a RGBA color space. 

The referencing went smooth with the help of GDAL. But now I am stuck. I want to reduce the map's colors to 8bit color table. But of course I want to keep the transparent borders, too. In theory no problem as there is NODATA. However rgb2pct.py fails for the same reasons as 2004. I had a look into the python code. I guess the major problem is, that ComputeMedianCutPCT() only takes RGB bands. 

If I use gdalinfo with one of my files I see:


Band 1 Block=256x256 Type=Byte, ColorInterp=Red
  NoData Value=255
  Overviews: 8888x7947, 4444x3974, 2222x1987, 1111x994
Band 2 Block=256x256 Type=Byte, ColorInterp=Green
  NoData Value=255
  Overviews: 8888x7947, 4444x3974, 2222x1987, 1111x994
Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
  NoData Value=255
  Overviews: 8888x7947, 4444x3974, 2222x1987, 1111x994
Band 4 Block=256x256 Type=Byte, ColorInterp=Alpha
  NoData Value=255
  Overviews: 8888x7947, 4444x3974, 2222x1987, 1111x994


Thus, as each band seems to know a no data value, wouldn't it be possible to use that to define a transparent color (255,255,255) and to assign pixels to that color? Right at the moment rgb2pct assigns (248, 248, 248) to the transparent pixels. And others pixels in the map, too. 

I just thought this is a very common task to do. But it seems not. Or do I think into the wrong directions? How is the recommended approach to convert RGBA to an 8 bit color table with no data entry?

Thanks for help

Oliver



From beyhan at deprem.gov.tr  Mon Mar  5 08:30:04 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Mon Mar  5 08:34:40 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330937065.5317.18.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
	<1330702935.30738.6.camel@localhost>
	<CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>
	<1330703674.30738.13.camel@localhost>
	<CAMKgpOYyAXtCpAQqEFtW0oS1Mu2NNqTRbrbwpeA942JTB8gbPA@mail.gmail.com>
	<1330934275.5317.10.camel@localhost>
	<CAMKgpOaBJZeOYJmCXyvvn_ZK_TXj8-21S4GJpvKFDXb7GY2AXg@mail.gmail.com>
	<1330937065.5317.18.camel@localhost>
Message-ID: <1330954204.5317.32.camel@localhost>

Chaitanya,
I could not succeeded What I have tried.
the problem is I'm not good at mysql.
I think I could not do this job.
I'm really upset.
Are there a different way or easy way to draw line using mysql table
data..
Regards


On Mon, 2012-03-05 at 10:44 +0200, Murat Beyhan wrote:
> Chaitanya,
> 
> I was forget to convert lat lon to string as you said before than I was
> use BINARY to convert it but I could not converted ? think because still
> same problem continuing.
> 
> as follows 
> 
> 
> CREATE OR REPLACE 
> ALGORITHM = UNDEFINED
> VIEW `lineview3` (
> eq_id,
> geom
> ) AS 
> SELECT eq_id, 
> BINARY CONCAT( 'LINESTRING(', lon1, ' ', lat1, ',', lon2, ' ', lat2,
> ')' ) AS geom
> FROM sfault
>  
> 
> Ok, I will tyr cast. By the way I learn more about mysql, too..
> thanks
> Murat
> 
> 
> On Mon, 2012-03-05 at 14:07 +0530, Chaitanya kumar CH wrote:
> > Murat,
> > 
> > Perhaps you can use the CAST operator to convert the data type to
> > varchar.
> > 
> > On Monday, March 5, 2012, Murat Beyhan <beyhan@deprem.gov.tr> wrote:
> > > Chaitanya,
> > >
> > > Thanks for your help, I try to use concat to create view from
> > database
> > > which is storing start and end of the point of the line
> > > as follows.
> > >
> > >
> > > create view lineview6 as select eq_id,
> > > CONCAT('LINESTRING(',lon1,'',lat1,',',lon2,'',lat2,')') as geom from
> > > sfault
> > >
> > >
> > >
> > > but at the previous problem still could not solve
> > > as you said geom field should be string but view automatically
> > decided
> > > the format of the geom column randomly (now is var). then the select
> > sql
> > > result of the view as follows and mapserver does not draw line.
> > >
> > >
> > > SQL result
> > > Host: localhost
> > > Database: dynamic
> > > Generation Time: Mar 05, 2012 at 09:52 AM
> > > Generated by: phpMyAdmin 3.3.10 / MySQL 5.1.55
> > > SQL query: SELECT * FROM `lineview6` LIMIT 0, 30 ;Rows: 1
> > >
> > >               eq_id
> > >                geom
> > > 20100308023229
> > > LINESTRING(38.7901 40.0811,38.7428
> > > 40.0311)
> > >
> > >
> > > and structure of the lineview6 is as follows
> > >
> > > eq_id varchar(14)
> > > geom var(51)
> > >
> > > please excuse me for this
> > >
> > > murat
> > >
> > >
> > >
> > > On Fri, 2012-03-02 at 21:38 +0530, Chaitanya kumar CH wrote:
> > >> Please refer to my previous posts.
> > >> Modify the SQL select command. Use the CONCAT function instead of
> > the
> > >> + operator to create the wkt.
> > >>
> > >> It should be something like this: CONCAT('LINESTRING(', x1, ' ',
> > y1,
> > >> ',', x2, ' ', y2, ')')
> > >> You may have to change the order of the points.
> > >>
> > >> On Fri, Mar 2, 2012 at 9:24 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> > >> wrote:
> > >>         Chaitanya,
> > >>
> > >>         I store data in table not view as I told you before becasue
> > I
> > >>         could not
> > >>         declare column as string, then I create a new table and
> > select
> > >>         fault(line) column as linestring. in mysql WKT support
> > these
> > >>         format
> > >>
> > >>
> > >>              * A LineString with four points:
> > >>
> > >>                LINESTRING(0 0, 10 10, 20 25, 50 60)
> > >>
> > >>                Note that point coordinate pairs are separated by
> > >>         commas.
> > >>
> > >>              * A Polygon with one exterior ring and one interior
> > ring:
> > >>
> > >>                POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7,
> > 5
> > >>         5))
> > >>              * A MultiPoint with three Point values:
> > >>
> > >>                MULTIPOINT(0 0, 20 20, 60 60)
> > >>              * A MultiLineString with two LineString values:
> > >>
> > >>                MULTILINESTRING((10 10, 20 20), (15 15, 30 15))
> > >>              * A MultiPolygon with two Polygon values:
> > >>
> > >>                MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)),((5 5,7 5,7
> > >>         7,5 7, 5 5)))
> > >>              * A GeometryCollection consisting of two Point values
> > and
> > >>         one
> > >>                LineString:
> > >>
> > >>                GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30),
> > >>         LINESTRING(15 15, 20 20))
> > >>
> > >>
> > >>         How to modify wkt geometry  in string format
> > >>         in map file it is already defined as
> > >>         <GeometryType>wkbLineString</GeometryType>
> > >>         like this.
> > >>
> > >>         I really sorry for giving trouble to you. Thanks
> > >>
> > >>         murat
> > >>
> > >>         On Fri, 2012-03-02 at 21:19 +0530, Chaitanya kumar CH
> > wrote:
> > >>         > Modify the table to store the line as a wkt geometry in
> > >>         string format.
> > >>         >
> > >>         > On Fri, Mar 2, 2012 at 9:12 PM, Murat Beyhan
> > >>         <beyhan@deprem.gov.tr>
> > >>         > wrote:
> > >>         >         Chaitanya,
> > >>         >
> > >>         >         I mean What should I do,
> > >>         >         Still could not draw a simple line on the map,
> > >>         >         Please how can I overcome this issue. How can I
> > >>         change VRT
> > >>         >         file.
> > >>         >         in order to read data from such table storing
> > data
> > >>         as
> > >>         >         linestring
> > >>         >
> > >>         >         regards
> > >>         >
> > >>         >         murat
> > >
> > 
> > -- 
> > Best regards,
> > Chaitanya kumar CH.
> > 
> > +91-9494447584
> > 17.2416N 80.1426E
> > 
> > -- 
> > This message has been scanned for viruses and 
> > dangerous content by MailScanner, and is 
> > believed to be clean.
> 
> 
> 
> Murat BEYHAN 
> 
> Jeofizik Y.M?h.
> T.C. Ba?bakanl?k
> Afet ve Acil Durum Y?netimi Ba?kanl???
> Deprem Dairesi Ba?kanl???
> Eski?ehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
> 
> 
> 
> 



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From chaitanya.ch at gmail.com  Mon Mar  5 08:49:19 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Mar  5 08:50:07 2012
Subject: [gdal-dev] drawing line using OGR and mysql in mapserver
In-Reply-To: <1330954204.5317.32.camel@localhost>
References: <1330327131.7408.4.camel@localhost>
	<CAMKgpOZbZv+S1iaomQC9673D2TJT4KjFkXZq6wFzur=51rvFxg@mail.gmail.com>
	<20120227204559.M31003@deprem.gov.tr>
	<CAMKgpOYYJyNVYbh4fHtYWxFm2=hRwW_XdTarhc+1FK1b1R83fw@mail.gmail.com>
	<1330413577.5689.13.camel@localhost>
	<CAMKgpOZyLq6KtTTEA87QWp5+-TOkuv1uNKRrqoh0MH=K0HD2=g@mail.gmail.com>
	<1330526079.12017.20.camel@localhost>
	<CAMKgpOY2+Ov=8qnMo5Qa9T6PMwT44YhXLcg56T5ONg3VU+eVCg@mail.gmail.com>
	<1330586320.17913.12.camel@localhost>
	<CAMKgpOZOQ_5nZUaJwReiyVRO9O=B2DYJDey_1o2Yp3Jfoz5DvQ@mail.gmail.com>
	<1330690105.4689.6.camel@localhost>
	<CAMKgpOaRRxLeUeDPz-Mw6i72nmahz_9BL5o4=CoB8Oz2CCXcbQ@mail.gmail.com>
	<1330692145.4689.11.camel@localhost>
	<CAMKgpOYPocUMecSK7APG6zLgJ4R_KOS+v-ZnqXfu0EPf9ibK2w@mail.gmail.com>
	<1330693928.4689.18.camel@localhost>
	<CAMKgpObUidaSLKZ=_BLUonxEr7BTNAJXyqUQ2S6SAqp5gccWJA@mail.gmail.com>
	<1330702065.30738.3.camel@localhost>
	<CAMKgpOY0PYE2V8PaK5rmZD5WVuAk86aNp9GrRScATt9aKWD2Kw@mail.gmail.com>
	<1330702935.30738.6.camel@localhost>
	<CAMKgpOasaSiJDrJiqCp+N5g2rWcFMhgKPfo+AVTfKwRwE+zeDA@mail.gmail.com>
	<1330703674.30738.13.camel@localhost>
	<CAMKgpOYyAXtCpAQqEFtW0oS1Mu2NNqTRbrbwpeA942JTB8gbPA@mail.gmail.com>
	<1330934275.5317.10.camel@localhost>
	<CAMKgpOaBJZeOYJmCXyvvn_ZK_TXj8-21S4GJpvKFDXb7GY2AXg@mail.gmail.com>
	<1330937065.5317.18.camel@localhost>
	<1330954204.5317.32.camel@localhost>
Message-ID: <CAMKgpOavMo7K5wgAVv1yXHJ0Lco31r3E7t9dG73eFOvQ4S9hDA@mail.gmail.com>

At this point I could only advice you to refer to MySQL documentation.

http://dev.mysql.com/doc/
http://dev.mysql.com/doc/refman/5.0/en/string-functions.html

On Mon, Mar 5, 2012 at 7:00 PM, Murat Beyhan <beyhan@deprem.gov.tr> wrote:

> Chaitanya,
> I could not succeeded What I have tried.
> the problem is I'm not good at mysql.
> I think I could not do this job.
> I'm really upset.
> Are there a different way or easy way to draw line using mysql table
> data..
> Regards
>
>
> On Mon, 2012-03-05 at 10:44 +0200, Murat Beyhan wrote:
> > Chaitanya,
> >
> > I was forget to convert lat lon to string as you said before than I was
> > use BINARY to convert it but I could not converted ? think because still
> > same problem continuing.
> >
> > as follows
> >
> >
> > CREATE OR REPLACE
> > ALGORITHM = UNDEFINED
> > VIEW `lineview3` (
> > eq_id,
> > geom
> > ) AS
> > SELECT eq_id,
> > BINARY CONCAT( 'LINESTRING(', lon1, ' ', lat1, ',', lon2, ' ', lat2,
> > ')' ) AS geom
> > FROM sfault
> >
> >
> > Ok, I will tyr cast. By the way I learn more about mysql, too..
> > thanks
> > Murat
> >
> >
> > On Mon, 2012-03-05 at 14:07 +0530, Chaitanya kumar CH wrote:
> > > Murat,
> > >
> > > Perhaps you can use the CAST operator to convert the data type to
> > > varchar.
> > >
> > > On Monday, March 5, 2012, Murat Beyhan <beyhan@deprem.gov.tr> wrote:
> > > > Chaitanya,
> > > >
> > > > Thanks for your help, I try to use concat to create view from
> > > database
> > > > which is storing start and end of the point of the line
> > > > as follows.
> > > >
> > > >
> > > > create view lineview6 as select eq_id,
> > > > CONCAT('LINESTRING(',lon1,'',lat1,',',lon2,'',lat2,')') as geom from
> > > > sfault
> > > >
> > > >
> > > >
> > > > but at the previous problem still could not solve
> > > > as you said geom field should be string but view automatically
> > > decided
> > > > the format of the geom column randomly (now is var). then the select
> > > sql
> > > > result of the view as follows and mapserver does not draw line.
> > > >
> > > >
> > > > SQL result
> > > > Host: localhost
> > > > Database: dynamic
> > > > Generation Time: Mar 05, 2012 at 09:52 AM
> > > > Generated by: phpMyAdmin 3.3.10 / MySQL 5.1.55
> > > > SQL query: SELECT * FROM `lineview6` LIMIT 0, 30 ;Rows: 1
> > > >
> > > >               eq_id
> > > >                geom
> > > > 20100308023229
> > > > LINESTRING(38.7901 40.0811,38.7428
> > > > 40.0311)
> > > >
> > > >
> > > > and structure of the lineview6 is as follows
> > > >
> > > > eq_id varchar(14)
> > > > geom var(51)
> > > >
> > > > please excuse me for this
> > > >
> > > > murat
> > > >
> > > >
> > > >
> > > > On Fri, 2012-03-02 at 21:38 +0530, Chaitanya kumar CH wrote:
> > > >> Please refer to my previous posts.
> > > >> Modify the SQL select command. Use the CONCAT function instead of
> > > the
> > > >> + operator to create the wkt.
> > > >>
> > > >> It should be something like this: CONCAT('LINESTRING(', x1, ' ',
> > > y1,
> > > >> ',', x2, ' ', y2, ')')
> > > >> You may have to change the order of the points.
> > > >>
> > > >> On Fri, Mar 2, 2012 at 9:24 PM, Murat Beyhan <beyhan@deprem.gov.tr>
> > > >> wrote:
> > > >>         Chaitanya,
> > > >>
> > > >>         I store data in table not view as I told you before becasue
> > > I
> > > >>         could not
> > > >>         declare column as string, then I create a new table and
> > > select
> > > >>         fault(line) column as linestring. in mysql WKT support
> > > these
> > > >>         format
> > > >>
> > > >>
> > > >>              * A LineString with four points:
> > > >>
> > > >>                LINESTRING(0 0, 10 10, 20 25, 50 60)
> > > >>
> > > >>                Note that point coordinate pairs are separated by
> > > >>         commas.
> > > >>
> > > >>              * A Polygon with one exterior ring and one interior
> > > ring:
> > > >>
> > > >>                POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7,
> > > 5
> > > >>         5))
> > > >>              * A MultiPoint with three Point values:
> > > >>
> > > >>                MULTIPOINT(0 0, 20 20, 60 60)
> > > >>              * A MultiLineString with two LineString values:
> > > >>
> > > >>                MULTILINESTRING((10 10, 20 20), (15 15, 30 15))
> > > >>              * A MultiPolygon with two Polygon values:
> > > >>
> > > >>                MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)),((5 5,7 5,7
> > > >>         7,5 7, 5 5)))
> > > >>              * A GeometryCollection consisting of two Point values
> > > and
> > > >>         one
> > > >>                LineString:
> > > >>
> > > >>                GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30),
> > > >>         LINESTRING(15 15, 20 20))
> > > >>
> > > >>
> > > >>         How to modify wkt geometry  in string format
> > > >>         in map file it is already defined as
> > > >>         <GeometryType>wkbLineString</GeometryType>
> > > >>         like this.
> > > >>
> > > >>         I really sorry for giving trouble to you. Thanks
> > > >>
> > > >>         murat
> > > >>
> > > >>         On Fri, 2012-03-02 at 21:19 +0530, Chaitanya kumar CH
> > > wrote:
> > > >>         > Modify the table to store the line as a wkt geometry in
> > > >>         string format.
> > > >>         >
> > > >>         > On Fri, Mar 2, 2012 at 9:12 PM, Murat Beyhan
> > > >>         <beyhan@deprem.gov.tr>
> > > >>         > wrote:
> > > >>         >         Chaitanya,
> > > >>         >
> > > >>         >         I mean What should I do,
> > > >>         >         Still could not draw a simple line on the map,
> > > >>         >         Please how can I overcome this issue. How can I
> > > >>         change VRT
> > > >>         >         file.
> > > >>         >         in order to read data from such table storing
> > > data
> > > >>         as
> > > >>         >         linestring
> > > >>         >
> > > >>         >         regards
> > > >>         >
> > > >>         >         murat
> > > >
> > >
> > > --
> > > Best regards,
> > > Chaitanya kumar CH.
> > >
> > > +91-9494447584
> > > 17.2416N 80.1426E
> > >
> > > --
> > > This message has been scanned for viruses and
> > > dangerous content by MailScanner, and is
> > > believed to be clean.
> >
> >
> >
> > Murat BEYHAN
> >
> > Jeofizik Y.M?h.
> > T.C. Ba?bakanl?k
> > Afet ve Acil Durum Y?netimi Ba?kanl???
> > Deprem Dairesi Ba?kanl???
> > Eski?ehir Yolu 12. Km.
> > Lodumlu/ANKARA
> > Tel: 312 2872680-1556
> > email:beyhan@deprem.gov.tr
> >
> >
> >
> >
>
>
>
> Murat BEYHAN
>
> Jeofizik Y.M?h.
> T.C. Ba?bakanl?k
> Afet ve Acil Durum Y?netimi Ba?kanl???
> Deprem Dairesi Ba?kanl???
> Eski?ehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
>
>
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120305/f484e199/attachment-0001.html
From bfraser at geoanalytic.com  Mon Mar  5 09:39:43 2012
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Mon Mar  5 09:40:02 2012
Subject: [gdal-dev] PDF selective layer sample wanted
In-Reply-To: <loom.20120305T092705-744@post.gmane.org>
References: <loom.20120305T092705-744@post.gmane.org>
Message-ID: <4F54D02F.8000004@geoanalytic.com>

If you're looking for a geospatial pdf with layers, the Canadian 
government publishes some of their topographic maps as pdf.  Here's a 
link to one:

ftp://ftp2.cits.rncan.gc.ca/pub/cantopo/50k_geopdf/085/b/cantopo_085b14_geopdf.zip

Best Regards,
Brent Fraser


On 3/5/2012 1:29 AM, Jukka Rahkonen wrote:
> Hi,
>
> This changeset looks interesting
> http://trac.osgeo.org/gdal/changeset/24069
>
> Is there any such PDF sample file available?
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From jukka.rahkonen at mmmtike.fi  Mon Mar  5 09:59:57 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Mar  5 10:00:33 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
References: <loom.20120305T092705-744@post.gmane.org>
	<4F54D02F.8000004@geoanalytic.com>
Message-ID: <loom.20120305T155441-111@post.gmane.org>

Brent Fraser <bfraser <at> geoanalytic.com> writes:

> 
> If you're looking for a geospatial pdf with layers, the Canadian 
> government publishes some of their topographic maps as pdf.  Here's
a 
> link to one:
> 
> ftp://ftp2.cits.rncan.gc.ca/pub/cantopo/50k_geopdf/085/
b/cantopo_085b14_geopdf.zip

Thanks for the answer. I do already have geospatial pdf files with layers.
What I am after is geospatial pdf files with layers and created with GDAL.
I can now make pdf files with layers with SkyJUMP GIS and geospatial pdf 
files with GDAL but I got hungry and want them both together.

-Jukka-

From bfraser at geoanalytic.com  Mon Mar  5 10:04:25 2012
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Mon Mar  5 10:05:05 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
In-Reply-To: <loom.20120305T155441-111@post.gmane.org>
References: <loom.20120305T092705-744@post.gmane.org>
	<4F54D02F.8000004@geoanalytic.com>
	<loom.20120305T155441-111@post.gmane.org>
Message-ID: <4F54D5F9.5020500@geoanalytic.com>

I thought the PDF driver was read-only.  Does the changeset include the 
creation of a geospatial pdf?

Best Regards,
Brent Fraser


On 3/5/2012 7:59 AM, Jukka Rahkonen wrote:
> Brent Fraser<bfraser<at>  geoanalytic.com>  writes:
>
>> If you're looking for a geospatial pdf with layers, the Canadian
>> government publishes some of their topographic maps as pdf.  Here's
> a
>> link to one:
>>
>> ftp://ftp2.cits.rncan.gc.ca/pub/cantopo/50k_geopdf/085/
> b/cantopo_085b14_geopdf.zip
>
> Thanks for the answer. I do already have geospatial pdf files with layers.
> What I am after is geospatial pdf files with layers and created with GDAL.
> I can now make pdf files with layers with SkyJUMP GIS and geospatial pdf
> files with GDAL but I got hungry and want them both together.
>
> -Jukka-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From tclarke at ball.com  Mon Mar  5 10:01:22 2012
From: tclarke at ball.com (Clarke, Trevor)
Date: Mon Mar  5 10:08:28 2012
Subject: [gdal-dev] libkml GroundOverlay support
Message-ID: <873043AF54FE794B912B616ABA7E9FE50AF0D299@daytonmsg2k3.AERO.BALL.COM>

I am in need of support for GroundOverlay loading from KML and I've been
prototyping some ideas. The biggest issue is that GroundOverlays are
conceptually raster data in a primarily vector format so it's unclear
how OGR/GDAL should handle this. It's useful to have relational
information and bounding rectangle information coming back from OGR but
OGR shouldn't load the raster data, that's obviously a GDAL job.

For background, here's now GroundOverlays are specified. A GroundOverlay
element has to have a LatLonBox to specify the bounding rectangle for
the imagery and it also needs to have a URL specifying the source of the
imagery. This can be a web url, a file url or a relative path (if it's
in a KMZ). In addition, descriptive metadata and a DrawOrder can be
specified. Defined behavior when an image URL isn't specified or can't
be loaded is to draw a rectangle with the specified (or default) color
and style information.

I propose the following behavior. In OGR, the GroundOverlay is added as
a polygon feature specifying the bounding box and style/draw information
for the "can't load" display mode. Draw order, and URL are attached as
fields as well as a field indicating this is a GroundOverlay and not a
Placemark. This is enough to load and work with the bounds, etc. and the
URL can be passed to GDAL for raster loading (via /vsicurl/ if
necessary).

This will not allow a user to pass a KML directly to GDAL and get access
to the embedded images.

Thoughts?

------------------
Trevor R.H. Clarke
Ball Aerospace & Technologies Corp
Opticks, Free Your Imagery (http://opticks.org)
GPG key available on random.sks.keyserver.penguin.de





This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
From jukka.rahkonen at mmmtike.fi  Mon Mar  5 10:10:46 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Mar  5 10:11:05 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
References: <loom.20120305T092705-744@post.gmane.org>
	<4F54D02F.8000004@geoanalytic.com>
	<loom.20120305T155441-111@post.gmane.org>
	<4F54D5F9.5020500@geoanalytic.com>
Message-ID: <loom.20120305T160711-376@post.gmane.org>

Brent Fraser <bfraser <at> geoanalytic.com> writes:

> 
> I thought the PDF driver was read-only.  Does the changeset include the 
> creation of a geospatial pdf?

Read thread "Trouble with georeferenced PDF" from couple of days ago. Here is
also a new sample which is created with Mapserver from trunk and it contains
vector graphics. Metadata is in OGC_BP format and you'll need TerraGo toolbar
for seeing the coordinates. Zoom in and enjoy.

http://latuviitta.org/documents/Lahti_geospat.pdf

-Jukka-



From bfraser at geoanalytic.com  Mon Mar  5 10:17:18 2012
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Mon Mar  5 10:17:53 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
In-Reply-To: <loom.20120305T160711-376@post.gmane.org>
References: <loom.20120305T092705-744@post.gmane.org>
	<4F54D02F.8000004@geoanalytic.com>
	<loom.20120305T155441-111@post.gmane.org>
	<4F54D5F9.5020500@geoanalytic.com>
	<loom.20120305T160711-376@post.gmane.org>
Message-ID: <4F54D8FE.6020305@geoanalytic.com>

Cool.  Now if we could get it writing vectors...

Best Regards,
Brent Fraser


On 3/5/2012 8:10 AM, Jukka Rahkonen wrote:
> Brent Fraser<bfraser<at>  geoanalytic.com>  writes:
>
>> I thought the PDF driver was read-only.  Does the changeset include the
>> creation of a geospatial pdf?
> Read thread "Trouble with georeferenced PDF" from couple of days ago. Here is
> also a new sample which is created with Mapserver from trunk and it contains
> vector graphics. Metadata is in OGC_BP format and you'll need TerraGo toolbar
> for seeing the coordinates. Zoom in and enjoy.
>
> http://latuviitta.org/documents/Lahti_geospat.pdf
>
> -Jukka-
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From Jukka.Rahkonen at mmmtike.fi  Mon Mar  5 10:22:29 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Mon Mar  5 10:23:19 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
In-Reply-To: <4F54D8FE.6020305@geoanalytic.com>
References: <loom.20120305T092705-744@post.gmane.org>
	<4F54D02F.8000004@geoanalytic.com>
	<loom.20120305T155441-111@post.gmane.org>
	<4F54D5F9.5020500@geoanalytic.com>
	<loom.20120305T160711-376@post.gmane.org>
	<4F54D8FE.6020305@geoanalytic.com>
Message-ID: <84446DEF76453C439E9E97E438E13A63082EF8@suutari.haapa.mmm.fi>

Hi,

I did mean that with "contains vector graphics" and "zoom in and enjoy".

-Jukka-

Brent Fraser wrote:
> 
> Cool.  Now if we could get it writing vectors...
> 
> Best Regards,
> Brent Fraser
> 
> 
> On 3/5/2012 8:10 AM, Jukka Rahkonen wrote:
> > Brent Fraser<bfraser<at>  geoanalytic.com>  writes:
> >
> >> I thought the PDF driver was read-only.  Does the 
> changeset include the
> >> creation of a geospatial pdf?
> > Read thread "Trouble with georeferenced PDF" from couple of 
> days ago. Here is
> > also a new sample which is created with Mapserver from 
> trunk and it contains
> > vector graphics. Metadata is in OGC_BP format and you'll 
> need TerraGo toolbar
> > for seeing the coordinates. Zoom in and enjoy.
> >
> > http://latuviitta.org/documents/Lahti_geospat.pdf
> >
> > -Jukka-
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> 
> 
From bfraser at geoanalytic.com  Mon Mar  5 10:39:34 2012
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Mon Mar  5 10:39:46 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
In-Reply-To: <84446DEF76453C439E9E97E438E13A63082EF8@suutari.haapa.mmm.fi>
References: <loom.20120305T092705-744@post.gmane.org>
	<4F54D02F.8000004@geoanalytic.com>
	<loom.20120305T155441-111@post.gmane.org>
	<4F54D5F9.5020500@geoanalytic.com>
	<loom.20120305T160711-376@post.gmane.org>
	<4F54D8FE.6020305@geoanalytic.com>
	<84446DEF76453C439E9E97E438E13A63082EF8@suutari.haapa.mmm.fi>
Message-ID: <4F54DE36.1020103@geoanalytic.com>

I need more coffee.  Thanks!

Best Regards,
Brent Fraser


On 3/5/2012 8:22 AM, Rahkonen Jukka wrote:
> Hi,
>
> I did mean that with "contains vector graphics" and "zoom in and enjoy".
>
> -Jukka-
>
> Brent Fraser wrote:
>> Cool.  Now if we could get it writing vectors...
>>
>> Best Regards,
>> Brent Fraser
>>
>>
>> On 3/5/2012 8:10 AM, Jukka Rahkonen wrote:
>>> Brent Fraser<bfraser<at>   geoanalytic.com>   writes:
>>>
>>>> I thought the PDF driver was read-only.  Does the
>> changeset include the
>>>> creation of a geospatial pdf?
>>> Read thread "Trouble with georeferenced PDF" from couple of
>> days ago. Here is
>>> also a new sample which is created with Mapserver from
>> trunk and it contains
>>> vector graphics. Metadata is in OGC_BP format and you'll
>> need TerraGo toolbar
>>> for seeing the coordinates. Zoom in and enjoy.
>>>
>>> http://latuviitta.org/documents/Lahti_geospat.pdf
>>>
>>> -Jukka-
>>>
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>

From Sjur.A.Kolberg at sintef.no  Mon Mar  5 12:15:20 2012
From: Sjur.A.Kolberg at sintef.no (Sjur Kolberg)
Date: Mon Mar  5 12:16:43 2012
Subject: [gdal-dev] Ticket 3786
Message-ID: <72251B925CE10A478606EEAC6AA683BE46DBBCE735@SINTEFEXMBX01.sintef.no>


Hello,

Has anyone looked into ticket 3786 concerning the Idrisi driver?

The driver rejects the flag value (and inserts a hard-coded -9999 instead) unless the flag value is followed by a flag definition.

IMHO, this is not necessary, it would be better to accept the flag value if it is numeric, maybe even to insert "missing data" as a default flag definition.

The flag definition, when properly defined, is usually "Missing data", "Background", or something similar.
The flag value can be "none" and still satisfy the IDRISI file format.

Admittedly, the IDRISI software itself doesn't honor the flag value, so it is not obvious what to require.

The ticket includes a proposed change.

Best regards,
Sjur Kolberg :-)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120305/557e05a0/attachment.html
From Doug_Newcomb at fws.gov  Mon Mar  5 13:11:57 2012
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Mon Mar  5 13:40:26 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
In-Reply-To: <84446DEF76453C439E9E97E438E13A63082EF8@suutari.haapa.mmm.fi>
Message-ID: <OF8881065D.7DC9CA28-ON852579B8.0063BD78-852579B8.0063F8E6@fws.gov>

>Hi,

>I did mean that with "contains vector graphics" and "zoom in and enjoy".

>-Jukka-

Does that also mean extract vector layers from a geopdf and save out as 
shapefile ?  For those of us trying to translate government-distributed 
data into something useable....

Doug




Doug Newcomb 
USFWS
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb@fws.gov
---------------------------------------------------------------------------------------------------------
The opinions I express are my own and are not representative of the 
official policy of the U.S.Fish and Wildlife Service or Dept. of the 
Interior.   Life is too short for undocumented, proprietary data formats.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120305/28ffe008/attachment.html
From even.rouault at mines-paris.org  Mon Mar  5 15:33:19 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar  5 15:33:29 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
In-Reply-To: <loom.20120305T155441-111@post.gmane.org>
References: <loom.20120305T092705-744@post.gmane.org>
	<4F54D02F.8000004@geoanalytic.com>
	<loom.20120305T155441-111@post.gmane.org>
Message-ID: <201203052133.19281.even.rouault@mines-paris.org>

Le lundi 05 mars 2012 15:59:57, Jukka Rahkonen a ?crit :
> Brent Fraser <bfraser <at> geoanalytic.com> writes:
> > If you're looking for a geospatial pdf with layers, the Canadian
> > government publishes some of their topographic maps as pdf.  Here's
> 
> a
> 
> > link to one:
> > 
> > ftp://ftp2.cits.rncan.gc.ca/pub/cantopo/50k_geopdf/085/
> 
> b/cantopo_085b14_geopdf.zip
> 
> Thanks for the answer. I do already have geospatial pdf files with layers.
> What I am after is geospatial pdf files with layers and created with GDAL.
> I can now make pdf files with layers with SkyJUMP GIS and geospatial pdf
> files with GDAL but I got hungry and want them both together.

There's no support for generating PDF layers in the GDAL or MapServer drivers. 
Could be perhaps be done in GDAL, but it is not obvious which GDAL concept 
would map to a PDF layer. As far as MapServer Cairo/PDF driver is concerned, 
this is not technically feasable (without rewriting a new MapServer backend) : 
the PDF code is generated by Cairo and, AFAIK, Cairo PDF backend doesn't 
support layers.

> 
> -Jukka-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Mon Mar  5 15:36:10 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar  5 15:36:32 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
In-Reply-To: <OF8881065D.7DC9CA28-ON852579B8.0063BD78-852579B8.0063F8E6@fws.gov>
References: <OF8881065D.7DC9CA28-ON852579B8.0063BD78-852579B8.0063F8E6@fws.gov>
Message-ID: <201203052136.11143.even.rouault@mines-paris.org>

Le lundi 05 mars 2012 19:11:57, Doug_Newcomb@fws.gov a ?crit :
> >Hi,
> >
> >I did mean that with "contains vector graphics" and "zoom in and enjoy".
> >
> >-Jukka-
> 
> Does that also mean extract vector layers from a geopdf and save out as
> shapefile ?

1) PDF that make available attribute information on features must be generated 
in a specific way, which is not the case of the MapServer Cairo/PDF backend.

2) In the case of PDF generated by other sources with attribute information on 
features, a OGR PDF driver would be needed.

> For those of us trying to translate government-distributed
> data into something useable....
> 
> Doug
> 
> 
> 
> 
> Doug Newcomb
> USFWS
> Raleigh, NC
> 919-856-4520 ext. 14 doug_newcomb@fws.gov
> ---------------------------------------------------------------------------
> ------------------------------ The opinions I express are my own and are
> not representative of the official policy of the U.S.Fish and Wildlife
> Service or Dept. of the Interior.   Life is too short for undocumented,
> proprietary data formats.
From even.rouault at mines-paris.org  Mon Mar  5 16:26:27 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar  5 16:26:58 2012
Subject: [gdal-dev] libkml GroundOverlay support
In-Reply-To: <873043AF54FE794B912B616ABA7E9FE50AF0D299@daytonmsg2k3.AERO.BALL.COM>
References: <873043AF54FE794B912B616ABA7E9FE50AF0D299@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <201203052226.27764.even.rouault@mines-paris.org>

Le lundi 05 mars 2012 16:01:22, Clarke, Trevor a ?crit :
> I am in need of support for GroundOverlay loading from KML and I've been
> prototyping some ideas. The biggest issue is that GroundOverlays are
> conceptually raster data in a primarily vector format so it's unclear
> how OGR/GDAL should handle this. It's useful to have relational
> information and bounding rectangle information coming back from OGR but
> OGR shouldn't load the raster data, that's obviously a GDAL job.
> 
> For background, here's now GroundOverlays are specified. A GroundOverlay
> element has to have a LatLonBox to specify the bounding rectangle for
> the imagery and it also needs to have a URL specifying the source of the
> imagery. This can be a web url, a file url or a relative path (if it's
> in a KMZ). In addition, descriptive metadata and a DrawOrder can be
> specified. Defined behavior when an image URL isn't specified or can't
> be loaded is to draw a rectangle with the specified (or default) color
> and style information.
> 
> I propose the following behavior. In OGR, the GroundOverlay is added as
> a polygon feature specifying the bounding box and style/draw information
> for the "can't load" display mode. Draw order, and URL are attached as
> fields as well as a field indicating this is a GroundOverlay and not a
> Placemark. This is enough to load and work with the bounds, etc. and the
> URL can be passed to GDAL for raster loading (via /vsicurl/ if
> necessary).
> 
> This will not allow a user to pass a KML directly to GDAL and get access
> to the embedded images.
> 
> Thoughts?

There's a GDAL KMLSuperOverlay driver that is currently write-only. Shouldn't 
read mode be added to it ?

> 
> ------------------
> Trevor R.H. Clarke
> Ball Aerospace & Technologies Corp
> Opticks, Free Your Imagery (http://opticks.org)
> GPG key available on random.sks.keyserver.penguin.de
> 
> 
> 
> 
> 
> This message and any enclosures are intended only for the addressee. 
> Please notify the sender by email if you are not the intended recipient. 
> If you are not the intended recipient, you may not use, copy, disclose, or
> distribute this message or its contents or enclosures to any other person
> and any such actions may be unlawful.  Ball reserves the right to monitor
> and review all messages and enclosures sent to or from this email address.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From jukka.rahkonen at mmmtike.fi  Mon Mar  5 16:45:27 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Mar  5 16:46:29 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
References: <loom.20120305T092705-744@post.gmane.org>
	<4F54D02F.8000004@geoanalytic.com>
	<loom.20120305T155441-111@post.gmane.org>
	<201203052133.19281.even.rouault@mines-paris.org>
Message-ID: <loom.20120305T223614-606@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:


> 
> There's no support for generating PDF layers in the GDAL or MapServer drivers. 
> Could be perhaps be done in GDAL, but it is not obvious which GDAL concept 
> would map to a PDF layer. As far as MapServer Cairo/PDF driver is concerned, 
> this is not technically feasable (without rewriting a new MapServer backend) : 
> the PDF code is generated by Cairo and, AFAIK, Cairo PDF backend doesn't 
> support layers.

I know only one open source GIS software which creates PDF files with layers. It
is SkyJUMP by Larry Becker and I have added a sample to Geoserver feature
suggestion some time ago
http://jira.codehaus.org/browse/GEOS-3640

The jira issue has has a sample image as an attachment
http://jira.codehaus.org/secure/attachment/45741/SkyJUMP.pdf

and a comment that layers are selectable with Acrobat Reader but not with all
readers. I know that SkyJUMP is makind PDF with iText and layers are raster
layers. The image is fine and worth having a look.

-Jukka Rahkonen-

From Doug_Newcomb at fws.gov  Mon Mar  5 17:03:55 2012
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Mon Mar  5 17:35:25 2012
Subject: [gdal-dev] Re: PDF selective layer sample wanted
In-Reply-To: <loom.20120305T223614-606@post.gmane.org>
Message-ID: <OFBD5333BA.EA929415-ON852579B8.00791DEE-852579B8.007935B7@fws.gov>

Looks good!  Thanks for the link!

Doug

Doug Newcomb 
USFWS
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb@fws.gov
---------------------------------------------------------------------------------------------------------
The opinions I express are my own and are not representative of the 
official policy of the U.S.Fish and Wildlife Service or Dept. of the 
Interior.   Life is too short for undocumented, proprietary data formats.



Jukka Rahkonen <jukka.rahkonen@mmmtike.fi> 
Sent by: gdal-dev-bounces@lists.osgeo.org
03/05/2012 04:45 PM

To
gdal-dev@lists.osgeo.org
cc

Subject
[gdal-dev] Re: PDF selective layer sample wanted






Even Rouault <even.rouault <at> mines-paris.org> writes:


> 
> There's no support for generating PDF layers in the GDAL or MapServer 
drivers. 
> Could be perhaps be done in GDAL, but it is not obvious which GDAL 
concept 
> would map to a PDF layer. As far as MapServer Cairo/PDF driver is 
concerned, 
> this is not technically feasable (without rewriting a new MapServer 
backend) : 
> the PDF code is generated by Cairo and, AFAIK, Cairo PDF backend doesn't 

> support layers.

I know only one open source GIS software which creates PDF files with 
layers. It
is SkyJUMP by Larry Becker and I have added a sample to Geoserver feature
suggestion some time ago
http://jira.codehaus.org/browse/GEOS-3640

The jira issue has has a sample image as an attachment
http://jira.codehaus.org/secure/attachment/45741/SkyJUMP.pdf

and a comment that layers are selectable with Acrobat Reader but not with 
all
readers. I know that SkyJUMP is makind PDF with iText and layers are 
raster
layers. The image is fine and worth having a look.

-Jukka Rahkonen-

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120305/08f0059f/attachment-0001.html
From etourigny.dev at gmail.com  Mon Mar  5 18:47:18 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Mon Mar  5 18:48:09 2012
Subject: [gdal-dev] Re: lost GeoTiff file metadata with gdalwarp
In-Reply-To: <CAMKgpOYyNNj4dLHMSNwvOnhh4LVuf0naH1Z-aCqO4VjfvTwWZQ@mail.gmail.com>
References: <CADzX+2V_2fpr+xb4r3vDaqeDHqCBcj8eQ7JQoNzUpEJR3gXG8A@mail.gmail.com>
	<CADzX+2X91ud56MsuDG5wN-2VkZEmv=i7gXKFCoVejRRawfk7gg@mail.gmail.com>
	<CAMKgpOYyNNj4dLHMSNwvOnhh4LVuf0naH1Z-aCqO4VjfvTwWZQ@mail.gmail.com>
Message-ID: <CA+TxYvMW3BT=mfMK8xHXbNJmevz8biOaZFfkLs5DUpOdCk39OA@mail.gmail.com>

I have created a patch to copy dataset and band-level metadata, following
the ideas in this thread.

Set ticket http://trac.osgeo.org/gdal/ticket/3898 - Any comments welcome.

I have not implemented Chaitanya's suggestion to scan for all sources
though.

Etienne

On Thu, Nov 10, 2011 at 3:26 PM, Chaitanya kumar CH
<chaitanya.ch@gmail.com>wrote:

> fred,
>
> IMO, it would be better if we transfer the metadata items when only one
> source dataset is present. Better yet, we could check if the metadata item
> matches when there are multiple sources.
> Also, I don't see the need to do this only in case of GTiff format.
>
> On Thu, Nov 10, 2011 at 4:45 PM, fred p <mapoubelle22@gmail.com> wrote:
>
>> I have applied the following patch for my own needs to gdalwarp.cpp (from
>> release 1.8.1). Maybe could it be applied in the next release with the
>> appropriate changes?
>> Thanks for your answers.
>>
>>
>> 791a792,818
>> > /*      Get the metadata of the first source file if it is a GeoTiff
>> */
>> > /*      and apply them to the destination file.
>> */
>> > /* --------------------------------------------------------------------
>> */
>> >         if ( iSrc==0 && pszFormat == "GTiff")
>> >         {
>> >             char **metadataSet=NULL;
>> >             metadataSet = GDALGetMetadata(hSrcDS, "");
>> >
>> >             if( CSLCount(metadataSet) > 0 )
>> >             {
>> >                 for( i = 0; metadataSet[i] != NULL; i++ )
>> >                 {
>> >                     char *val = CPLStrdup(strstr(metadataSet[i],"=")+1);
>> >                     size_t lenkey = strlen(metadataSet[i])-strlen(val);
>> >                     char *key = (char*)malloc(lenkey);
>> >                     strncpy(key, metadataSet[i], lenkey);
>> >                     key[lenkey-1] = '\0';
>> >
>> >                     if( GDALSetMetadataItem(hDstDS, key, val, NULL) !=
>> CE_None ){
>> >                         fprintf( stderr, "Ecriture du tag %s
>> impossible", key);
>> >                     }
>> >
>> >                 }
>> >             }
>> >         }
>> >
>> > /* --------------------------------------------------------------------
>> */
>>
>>
>>
>>
>>
>>
>> Le 10 novembre 2011 13:40, fred p <mapoubelle22@gmail.com> a ?crit :
>>
>> Hello list !
>>>
>>> I use the gdalwarp tool to change the projection of a GeoTiff file but
>>> the most of the metadata of the source file are lost, which is not the case
>>> with the gdal_translate tool.
>>> Particularly, the following metadata are lost :
>>>   TIFFTAG_DOCUMENTNAME
>>>   TIFFTAG_IMAGEDESCRIPTION
>>>   TIFFTAG_SOFTWARE
>>>   TIFFTAG_DATETIME
>>>   TIFFTAG_ARTIST
>>>   TIFFTAG_HOSTCOMPUTER
>>>
>>> Do I miss something ?
>>>
>>>
>>> The command :
>>>
>>> gdalwarp -t_srs EPSG:4326 srcfile.tif outfile.tif
>>>
>>>
>>> The gdalinfo output on the source file, followed by the gdalinfo output
>>> on the output file :
>>>
>>> Driver: GTiff/GeoTIFF
>>> Files: srcfile.tif
>>> Size is 2500, 2500
>>> Coordinate System is:
>>> PROJCS["Geostationary_Satellite",
>>>     GEOGCS["GCS_unnamed ellipse",
>>>         DATUM["D_unknown",
>>>             SPHEROID["Unknown",6378160,298.2539162964669]],
>>>         PRIMEM["Greenwich",0],
>>>         UNIT["Degree",0.017453292519943295]],
>>>     PROJECTION["Geostationary_Satellite"],
>>>     PARAMETER["central_meridian",57],
>>>     PARAMETER["satellite_height",35785846.6396],
>>>     PARAMETER["false_easting",0],
>>>     PARAMETER["false_northing",0],
>>>     UNIT["Meter",1]]
>>> Origin = (-5620805.668447489850223,5620805.668447489850223)
>>> Pixel Size = (4496.644534757992005,-4496.644534757992005)
>>> Metadata:
>>>   TIFFTAG_DOCUMENTNAME=documentname
>>>   TIFFTAG_IMAGEDESCRIPTION=productidentification={
>>>         "observedProperty":"observedProperty",
>>>         "process":"process",
>>> }
>>>   TIFFTAG_SOFTWARE=software
>>>   TIFFTAG_DATETIME=2011:11:10 11:00:00
>>>   TIFFTAG_ARTIST=artist
>>>   TIFFTAG_HOSTCOMPUTER=computer
>>>   AREA_OR_POINT=Area
>>> Image Structure Metadata:
>>>   COMPRESSION=JPEG
>>>   INTERLEAVE=BAND
>>> Corner Coordinates:
>>> ERROR 1: tolerance condition error
>>> Upper Left  (-5620805.668, 5620805.668)
>>> ERROR 1: tolerance condition error
>>> Lower Left  (-5620805.668,-5620805.668)
>>> ERROR 1: tolerance condition error
>>> Upper Right ( 5620805.668, 5620805.668)
>>> ERROR 1: tolerance condition error
>>> Lower Right ( 5620805.668,-5620805.668)
>>> Center      (   0.0000000,   0.0000000) ( 57d 0'0.00"E,  0d 0'0.01"N)
>>> Band 1 Block=2500x1 Type=Byte, ColorInterp=Gray
>>>
>>>
>>> The gdalinfo output on the output file :
>>>
>>> Driver: GTiff/GeoTIFF
>>> Files: outfile.tif
>>> Size is 1673, 1673
>>> Coordinate System is:
>>> GEOGCS["WGS 84",
>>>     DATUM["WGS_1984",
>>>         SPHEROID["WGS 84",6378137,298.257223563,
>>>             AUTHORITY["EPSG","7030"]],
>>>         AUTHORITY["EPSG","6326"]],
>>>     PRIMEM["Greenwich",0],
>>>     UNIT["degree",0.0174532925199433],
>>>     AUTHORITY["EPSG","4326"]]
>>> Origin = (0.000000000000000,70.000000000000000)
>>> Pixel Size = (0.059772863120143,-0.059772863120143)
>>> Metadata:
>>>   AREA_OR_POINT=Area
>>> Image Structure Metadata:
>>>   INTERLEAVE=BAND
>>> Corner Coordinates:
>>> Upper Left  (   0.0000000,  70.0000000) (  0d 0'0.01"E, 70d 0'0.00"N)
>>> Lower Left  (   0.0000000, -30.0000000) (  0d 0'0.01"E, 30d 0'0.00"S)
>>> Upper Right ( 100.0000000,  70.0000000) (100d 0'0.00"E, 70d 0'0.00"N)
>>> Lower Right ( 100.0000000, -30.0000000) (100d 0'0.00"E, 30d 0'0.00"S)
>>> Center      (  50.0000000,  20.0000000) ( 50d 0'0.00"E, 20d 0'0.00"N)
>>> Band 1 Block=1673x4 Type=Byte, ColorInterp=Gray
>>>
>>> <http://int.ask.com/web?siteid=10000861&webqsrc=999&l=dis&q=dust%20RGB%20composite>
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120305/04bca092/attachment.html
From beyhan at deprem.gov.tr  Tue Mar  6 02:58:06 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Tue Mar  6 03:02:08 2012
Subject: [gdal-dev] ogr csv layer gdal
Message-ID: <1331020686.6428.11.camel@localhost>

Dear all,

I used gdal 1.7.2 and mapserver 5.2.1

I try to draw layer which data csv file as follows

filename : kyh_sta_ogr.csv

"ID","STA_ID","Latitude","Longitude"
1,0104,37.02403,35.80947
2,0118,37.02100,35.19100
.
.
.


then I use ogr for reading data from that file as follows and map file
also here



LAYER
  NAME "kyh_vrt_ogr"
       CONNECTIONTYPE OGR
       CONNECTION '<OGRVRTDataSource>
        <OGRVRTLayer name="kyh_sta_ogr">
        <SrcDataSource>kyh_sta_ogr.csv</SrcDataSource>
        <GeometryType>wkbPoint</GeometryType>
        <LayerSRS>WGS84</LayerSRS>
        <GeometryField encoding="PointFromColumns" x="Longitude"
y="Latitude"/>
    </OGRVRTLayer>
</OGRVRTDataSource>' 
    DATA kyh_sta_ogr
    STATUS default
    TYPE POINT
  CLASS
    NAME "kyh"
    SYMBOL "cpoint"
    SIZE 1
    COLOR 0 0 0
  END
END  

Please let me inform what is wrong in my code and why always trouble to
draw ogr layer in mapserver.
mapserver gives following error message

msDrawMap(): Image handling error. Failed to draw layer named
'kyh_vrt_ogr'. msOGRFileOpen(): OGR error. Open failed for OGR
connection in layer `kyh_vrt_ogr'. Failed to open datasource
`kyh_sta_ogr.csv'.
  


but command 
ogrinfo -ro -al kyh.vrt 
as follows:

ogrinfo -ro -al kyh.vrt
INFO: Open of `kyh.vrt'                           
      using driver `VRT' successful.              

Layer name: kyh_sta_ogr
Geometry: Point        
Feature Count: 327     
Layer SRS WKT:         
GEOGCS["WGS 84",       
    DATUM["WGS_1984",  
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],          
        TOWGS84[0,0,0,0,0,0,0],                 
        AUTHORITY["EPSG","6326"]],              
    PRIMEM["Greenwich",0,                       
        AUTHORITY["EPSG","8901"]],              
    UNIT["degree",0.0174532925199433,           
        AUTHORITY["EPSG","9108"]],              
    AUTHORITY["EPSG","4326"]]                   
ID: String (0.0)                                
STA_ID: String (0.0)                            
Latitude: String (0.0)                          
Longitude: String (0.0)                         
OGRFeature(kyh_sta_ogr):1                       
  ID (String) = 1                               
  STA_ID (String) = 0104                        
  Latitude (String) = 37.02403                  
  Longitude (String) = 35.80947                 
  POINT (35.809469999999997 37.024030000000003) 

OGRFeature(kyh_sta_ogr):2
  ID (String) = 2        
  STA_ID (String) = 0118 
  Latitude (String) = 37.02100
  Longitude (String) = 35.19100
  POINT (35.191000000000003 37.021)



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From jukka.rahkonen at mmmtike.fi  Tue Mar  6 03:08:14 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Mar  6 03:08:55 2012
Subject: [gdal-dev] Re: ogr csv layer gdal
References: <1331020686.6428.11.camel@localhost>
Message-ID: <loom.20120306T090425-40@post.gmane.org>

Murat Beyhan <beyhan <at> deprem.gov.tr> writes:

> 
> Dear all,
....

> Please let me inform what is wrong in my code and why always trouble to
> draw ogr layer in mapserver.
> mapserver gives following error message
> 
> msDrawMap(): Image handling error. Failed to draw layer named
> 'kyh_vrt_ogr'. msOGRFileOpen(): OGR error. Open failed for OGR
> connection in layer `kyh_vrt_ogr'. Failed to open datasource
> `kyh_sta_ogr.csv'.
> 
> but command 
> ogrinfo -ro -al kyh.vrt 
> as follows:

I would try to refer to the kyh.vrt with Mapserver in a similar way than you do
with ogrinfo.

-Jukka Rahkonen-


From beyhan at deprem.gov.tr  Tue Mar  6 03:19:06 2012
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Tue Mar  6 03:23:18 2012
Subject: [gdal-dev] Re: ogr csv layer gdal
In-Reply-To: <loom.20120306T090425-40@post.gmane.org>
References: <1331020686.6428.11.camel@localhost>
	<loom.20120306T090425-40@post.gmane.org>
Message-ID: <1331021946.6428.14.camel@localhost>

Thanks Rahkonen,
The problem solved by giving full path of csv file in map file as
follows than it works thanks

   <SrcDataSource>/var/www/html/dynamic/kyh_sta_ogr.csv</SrcDataSource>

thanks again
Murat

On Tue, 2012-03-06 at 08:08 +0000, Jukka Rahkonen wrote:
> Murat Beyhan <beyhan <at> deprem.gov.tr> writes:
> 
> > 
> > Dear all,
> ....
> 
> > Please let me inform what is wrong in my code and why always trouble to
> > draw ogr layer in mapserver.
> > mapserver gives following error message
> > 
> > msDrawMap(): Image handling error. Failed to draw layer named
> > 'kyh_vrt_ogr'. msOGRFileOpen(): OGR error. Open failed for OGR
> > connection in layer `kyh_vrt_ogr'. Failed to open datasource
> > `kyh_sta_ogr.csv'.
> > 
> > but command 
> > ogrinfo -ro -al kyh.vrt 
> > as follows:
> 
> I would try to refer to the kyh.vrt with Mapserver in a similar way than you do
> with ogrinfo.
> 
> -Jukka Rahkonen-
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From pavkiz at mail.ru  Tue Mar  6 06:40:35 2012
From: pavkiz at mail.ru (el_inca)
Date: Tue Mar  6 06:41:11 2012
Subject: [gdal-dev] Complex Data in Terrasar images
Message-ID: <1331034035799-4550979.post@n6.nabble.com>

Hi,
When reading *.cos file with gdal i get negative data. Is it normal ? How to
explain it, is it a feature of gdal or of a terrasar image or another
reason?

Here is a code:

Struct Complex {
           Int16 real;
           Int16 imaginary;
           }
...
Complex * scanline=new Complex[XSize];
poRasterBand->RasterIO(Gf_Read,nXOff,nYOff,XSize,1,scanline,XSize,1,CInt16,0,0);


if i read *.cos file into UInt16 type all negative data will be translated
to zero:

UInt16 * scanline=new UInt16[XSize];
poRasterBand->RasterIO(Gf_Read,nXOff,nYOff,XSize,1,scanline,XSize,1,UInt16,0,0);

Gdal version: 1.8.0
Language: Visual C++

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Complex-Data-in-Terrasar-images-tp4550979p4550979.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From arb at sat.dundee.ac.uk  Tue Mar  6 10:06:16 2012
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Tue Mar  6 10:06:52 2012
Subject: [gdal-dev] reading NOAA-19 AVHRR
In-Reply-To: <1330445165.4f4cfb6d5a2be@imp.free.fr>
References: <jiioko$q0n$1@dough.gmane.org>
	<1330445165.4f4cfb6d5a2be@imp.free.fr>
Message-ID: <CAHOfOo0LZ=vVjkdZumuo2LecBD2oakWh0B_Sr-Y7vE25b3TbEw@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: l1bdataset.cpp.patch
Type: text/x-patch
Size: 4841 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120306/4328a9c2/l1bdataset.cpp.bin
From even.rouault at mines-paris.org  Tue Mar  6 14:33:33 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Mar  6 14:34:16 2012
Subject: [gdal-dev] reading NOAA-19 AVHRR
In-Reply-To: <CAHOfOo0LZ=vVjkdZumuo2LecBD2oakWh0B_Sr-Y7vE25b3TbEw@mail.gmail.com>
References: <jiioko$q0n$1@dough.gmane.org>
	<1330445165.4f4cfb6d5a2be@imp.free.fr>
	<CAHOfOo0LZ=vVjkdZumuo2LecBD2oakWh0B_Sr-Y7vE25b3TbEw@mail.gmail.com>
Message-ID: <201203062033.34024.even.rouault@mines-paris.org>

Le mardi 06 mars 2012 16:06:16, Andrew Brooks a ?crit :
> On 28 February 2012 16:06, Even Rouault <even.rouault@mines-paris.org>wrote:
> > I've skimmed quickly through the driver code and if you are lucky, it is
> > probably just a matter of changing a few lines (well, I can be wrong).
> 
> Even
> 
> I've produced a new patch for the satellite IDs based on the documentation.
> (diff -c from the 1.9.0 source)

Andrew,

Please create a Trac ticket with the patch so it doesn't get lost

> 
> Andrew
From arb at sat.dundee.ac.uk  Tue Mar  6 17:17:59 2012
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Tue Mar  6 17:18:53 2012
Subject: [gdal-dev] reading NOAA-19 AVHRR
In-Reply-To: <201203062033.34024.even.rouault@mines-paris.org>
References: <jiioko$q0n$1@dough.gmane.org>
	<1330445165.4f4cfb6d5a2be@imp.free.fr>
	<CAHOfOo0LZ=vVjkdZumuo2LecBD2oakWh0B_Sr-Y7vE25b3TbEw@mail.gmail.com>
	<201203062033.34024.even.rouault@mines-paris.org>
Message-ID: <CAHOfOo1GqXvNwdnztULbqWL3tD5wcC4orChiQKNxq23qGj25AQ@mail.gmail.com>

On 6 March 2012 19:33, Even Rouault <even.rouault@mines-paris.org> wrote:

> Please create a Trac ticket with the patch so it doesn't get lost
>

I've reopened http://trac.osgeo.org/gdal/ticket/2352
with a patch attached since it is the same issue.

Andrew
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120306/4db83710/attachment.html
From stefano.iacovella at gmail.com  Tue Mar  6 18:19:08 2012
From: stefano.iacovella at gmail.com (Stefano Iacovella)
Date: Tue Mar  6 18:20:04 2012
Subject: [gdal-dev] strange behaviour with gdalwarp and LZW compression
Message-ID: <CAG9OqYqFh+U9EFo6Uh+RTPbUb=XarbcU5jGGE8amhTDaeS9HVw@mail.gmail.com>

Hello all

I'm using gdal utilities to georeference some tiff files.

I'm inserting the gcp using:

 gdal_translate -gcp ....  original.tif original_gcp.tif

Then I use gdalwarp to gereference the images:

 gdalwarp -t_srs EPSG:32633 original_gcp.tif original_warp.tif

The resulting Geotiff is correctly georeferenced and the size is
approximately the same of the original

The problem arise if I insert the options -co COMPRESS=LZW at the
warping. The process end successfully but the resulting geotiff is 6
times the size of the original one!

I've tried to use:

gdal_translate -of GTIFF -co COMPRESS=LZW original_warp.tif
original_warp_lzw.tif

and it produces a geotiff smaller than the original.

Am I doing something incorrect?

thank you in advance

Stefano
---------------------------------------------------
41.95581N 12.52854E


http://www.linkedin.com/in/stefanoiacovella

http://twitter.com/#!/Iacovellas
From stefano.iacovella at gmail.com  Tue Mar  6 18:20:30 2012
From: stefano.iacovella at gmail.com (Stefano Iacovella)
Date: Tue Mar  6 18:21:30 2012
Subject: [gdal-dev] Re: strange behaviour with gdalwarp and LZW compression
In-Reply-To: <CAG9OqYqFh+U9EFo6Uh+RTPbUb=XarbcU5jGGE8amhTDaeS9HVw@mail.gmail.com>
References: <CAG9OqYqFh+U9EFo6Uh+RTPbUb=XarbcU5jGGE8amhTDaeS9HVw@mail.gmail.com>
Message-ID: <CAG9OqYorCMZhD=WdSjOPhjEUPxEoO5X4eCj1aegWsiHE3meCtQ@mail.gmail.com>

Sorry

I forgot to say I'm using GDAL 1.9.0 compiled on ubuntu 10.04

2012/3/7 Stefano Iacovella <stefano.iacovella@gmail.com>:
> Hello all
>
> I'm using gdal utilities to georeference some tiff files.
>
> I'm inserting the gcp using:
>
> ?gdal_translate -gcp .... ?original.tif original_gcp.tif
>
> Then I use gdalwarp to gereference the images:
>
> ?gdalwarp -t_srs EPSG:32633 original_gcp.tif original_warp.tif
>
> The resulting Geotiff is correctly georeferenced and the size is
> approximately the same of the original
>
> The problem arise if I insert the options -co COMPRESS=LZW at the
> warping. The process end successfully but the resulting geotiff is 6
> times the size of the original one!
>
> I've tried to use:
>
> gdal_translate -of GTIFF -co COMPRESS=LZW original_warp.tif
> original_warp_lzw.tif
>
> and it produces a geotiff smaller than the original.
>
> Am I doing something incorrect?
>
> thank you in advance
>
> Stefano
> ---------------------------------------------------
> 41.95581N 12.52854E
>
>
> http://www.linkedin.com/in/stefanoiacovella
>
> http://twitter.com/#!/Iacovellas
From eadam at co.lincoln.or.us  Tue Mar  6 18:41:35 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Tue Mar  6 18:41:47 2012
Subject: [gdal-dev] Re: strange behaviour with gdalwarp and LZW compression
In-Reply-To: <CAG9OqYorCMZhD=WdSjOPhjEUPxEoO5X4eCj1aegWsiHE3meCtQ@mail.gmail.com>
References: <CAG9OqYqFh+U9EFo6Uh+RTPbUb=XarbcU5jGGE8amhTDaeS9HVw@mail.gmail.com>
	<CAG9OqYorCMZhD=WdSjOPhjEUPxEoO5X4eCj1aegWsiHE3meCtQ@mail.gmail.com>
Message-ID: <CACqBkM9w-v-7WAWmKZ=c_=LsgJa2F5yBxvVqZPbqyRr1TAme8Q@mail.gmail.com>

Stefano,

      I think that is expected.  You can read a little more about it
and a recommended work around (VRT) here,
http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#GeoTIFFoutput-coCOMPRESSisbroken

Bests, Eli

>> The problem arise if I insert the options -co COMPRESS=LZW at the
>> warping. The process end successfully but the resulting geotiff is 6
>> times the size of the original one!
>>
From eadam at co.lincoln.or.us  Tue Mar  6 18:48:39 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Tue Mar  6 18:49:19 2012
Subject: [gdal-dev] Re: strange behaviour with gdalwarp and LZW compression
In-Reply-To: <CACqBkM9w-v-7WAWmKZ=c_=LsgJa2F5yBxvVqZPbqyRr1TAme8Q@mail.gmail.com>
References: <CAG9OqYqFh+U9EFo6Uh+RTPbUb=XarbcU5jGGE8amhTDaeS9HVw@mail.gmail.com>
	<CAG9OqYorCMZhD=WdSjOPhjEUPxEoO5X4eCj1aegWsiHE3meCtQ@mail.gmail.com>
	<CACqBkM9w-v-7WAWmKZ=c_=LsgJa2F5yBxvVqZPbqyRr1TAme8Q@mail.gmail.com>
Message-ID: <CACqBkM_BYUY3Dzh8xcVEbqftyrrq5oQ26OouxVcZ_0HUzyeDEQ@mail.gmail.com>

Reading further, I learn about OPTIMIZE_SIZE,
http://gdal.org/structGDALWarpOptions.html#a0ed77f9917bb96c7a9aabd73d4d06e08

Can OPTIMIZE_SIZE be set from the command line?

Eli

On Tue, Mar 6, 2012 at 3:41 PM, Eli Adam <eadam@co.lincoln.or.us> wrote:
> Stefano,
>
> ? ? ?I think that is expected. ?You can read a little more about it
> and a recommended work around (VRT) here,
> http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#GeoTIFFoutput-coCOMPRESSisbroken
>
> Bests, Eli
>
>>> The problem arise if I insert the options -co COMPRESS=LZW at the
>>> warping. The process end successfully but the resulting geotiff is 6
>>> times the size of the original one!
>>>
From even.rouault at mines-paris.org  Tue Mar  6 18:50:48 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Mar  6 18:51:38 2012
Subject: [gdal-dev] Re: strange behaviour with gdalwarp and LZW compression
In-Reply-To: <CACqBkM_BYUY3Dzh8xcVEbqftyrrq5oQ26OouxVcZ_0HUzyeDEQ@mail.gmail.com>
References: <CAG9OqYqFh+U9EFo6Uh+RTPbUb=XarbcU5jGGE8amhTDaeS9HVw@mail.gmail.com>
	<CACqBkM9w-v-7WAWmKZ=c_=LsgJa2F5yBxvVqZPbqyRr1TAme8Q@mail.gmail.com>
	<CACqBkM_BYUY3Dzh8xcVEbqftyrrq5oQ26OouxVcZ_0HUzyeDEQ@mail.gmail.com>
Message-ID: <201203070050.48804.even.rouault@mines-paris.org>

Le mercredi 07 mars 2012 00:48:39, Eli Adam a ?crit :
> Reading further, I learn about OPTIMIZE_SIZE,
> http://gdal.org/structGDALWarpOptions.html#a0ed77f9917bb96c7a9aabd73d4d06e0
> 8
> 
> Can OPTIMIZE_SIZE be set from the command line?

Yes, this is a Warping Option, so you can specify it with the -wo 
OPTIMIZE_SIZE=YES option

> 
> Eli
> 
> On Tue, Mar 6, 2012 at 3:41 PM, Eli Adam <eadam@co.lincoln.or.us> wrote:
> > Stefano,
> > 
> >      I think that is expected.  You can read a little more about it
> > and a recommended work around (VRT) here,
> > http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#GeoTIFFoutput-coCOMPRES
> > Sisbroken
> > 
> > Bests, Eli
> > 
> >>> The problem arise if I insert the options -co COMPRESS=LZW at the
> >>> warping. The process end successfully but the resulting geotiff is 6
> >>> times the size of the original one!
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Wed Mar  7 00:19:33 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar  7 00:19:49 2012
Subject: [gdal-dev] Hotine Oblique Mercator (EPSG:9812) vs. Oblique Mercator
	(EPSG:9815)
Message-ID: <CA+YzLBd09dsefyctUhZ8h0+3dB-wYfDMQ7CUajd_PDc7iQwJKA@mail.gmail.com>

Folks,

There has been a great deal of confusion in my mind about the
two EPSG variants of oblique mercator for over a decade.  Lots
of folks (Roger Lott, and others) have tried to explain this to me
but I basically punted on it.

Mikael Rittri has recently very patiently explained it to me
several times and simplified it enough that I have finally
addressed it.

In the past I treated EPSG projection methods 9815
and 9812 as the same thing, but in fact in PROJ.4 they
need different flags - 9812 requires the +no_uoff flag.

I have modified OGRSpatialReference to now differentiate
these as "Hotine_Oblique_Mercator" and "Oblique_Mercator".
Previously they were all known as "Hotine_Oblique_Mercator".
I'm not sure how many EPSG coordinate systems are of each
variant, but there seems to be well over half a dozen of each
and some of them are quite important.

The changes to GDAL are addressed in:

  http://trac.osgeo.org/gdal/ticket/2745

The primary changeset is:

  http://trac.osgeo.org/gdal/changeset/24091

There is also a helpful discussion of the issue in the PROJ.4 Trac:

  http://trac.osgeo.org/proj/ticket/104

Outstanding issues include properly handling of the Oblique_Mercator
variant in the GeoTIFF code, and the ESRI translation code.

I do *not* plan to back port these changes to 1.9 as they are quite
disruptive.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From stefano.iacovella at gmail.com  Wed Mar  7 02:57:05 2012
From: stefano.iacovella at gmail.com (Stefano Iacovella)
Date: Wed Mar  7 02:58:01 2012
Subject: [gdal-dev] Re: strange behaviour with gdalwarp and LZW compression
In-Reply-To: <201203070050.48804.even.rouault@mines-paris.org>
References: <CAG9OqYqFh+U9EFo6Uh+RTPbUb=XarbcU5jGGE8amhTDaeS9HVw@mail.gmail.com>
	<CACqBkM9w-v-7WAWmKZ=c_=LsgJa2F5yBxvVqZPbqyRr1TAme8Q@mail.gmail.com>
	<CACqBkM_BYUY3Dzh8xcVEbqftyrrq5oQ26OouxVcZ_0HUzyeDEQ@mail.gmail.com>
	<201203070050.48804.even.rouault@mines-paris.org>
Message-ID: <CAG9OqYpQd7RpdV6+0AZ2ptqvZX1S6gYb658=QgDk94n-VN=uWg@mail.gmail.com>

Eli, Even

thanks a lot both of you

I tried with options

-wo OPTIMIZE_SIZE=YES -of GTIFF -co COMPRESS=LZW

and it works perfectly

Have a nice day

Stefano

2012/3/7 Even Rouault <even.rouault@mines-paris.org>:
> Le mercredi 07 mars 2012 00:48:39, Eli Adam a ?crit :
>> Reading further, I learn about OPTIMIZE_SIZE,
>> http://gdal.org/structGDALWarpOptions.html#a0ed77f9917bb96c7a9aabd73d4d06e0
>> 8
>>
>> Can OPTIMIZE_SIZE be set from the command line?
>
> Yes, this is a Warping Option, so you can specify it with the -wo
> OPTIMIZE_SIZE=YES option
>
>>
>> Eli
>>
>> On Tue, Mar 6, 2012 at 3:41 PM, Eli Adam <eadam@co.lincoln.or.us> wrote:
>> > Stefano,
>> >
>> > ? ? ?I think that is expected. ?You can read a little more about it
>> > and a recommended work around (VRT) here,
>> > http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#GeoTIFFoutput-coCOMPRES
>> > Sisbroken
>> >
>> > Bests, Eli
>> >
>> >>> The problem arise if I insert the options -co COMPRESS=LZW at the
>> >>> warping. The process end successfully but the resulting geotiff is 6
>> >>> times the size of the original one!
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From amaneiro at icarto.es  Wed Mar  7 06:52:20 2012
From: amaneiro at icarto.es (=?ISO-8859-1?Q?Andr=E9s_Maneiro?=)
Date: Wed Mar  7 06:53:22 2012
Subject: [gdal-dev] DWG support in GDAL: some questions
Message-ID: <4F574BF4.1030401@icarto.es>

Hi devs,

I have a bunch of DWG archives wich I need to publish with geoserver. I'm 
considering to transform them to SHP and then upload them to geoserver.

In order to get support for DWG, should I installed 1.9 version or compiled DWG 
support for 1.8 version? If I go for the 1.9 version, has it built-in support 
for DWG or should I have to compile it?

For what is worth, I work in Ubuntu 10.10 with GDAL 1.8.

best,
Andr?s
From hsumanto at vpac.org  Wed Mar  7 22:29:48 2012
From: hsumanto at vpac.org (Hendy Sumanto)
Date: Wed Mar  7 22:35:57 2012
Subject: [gdal-dev] Is it possible to modify netCDF driver so that it
 behaves like
 geotiff driver when operating on multiple datasets netcdf file
In-Reply-To: <414370814.8274.1331175089141.JavaMail.root@mail.vpac.org>
Message-ID: <1733427626.8329.1331177388205.JavaMail.root@mail.vpac.org>

Hi Devs,

I have a geotiff file which contains several datasets, with this I just need to perform one gdalwarp operation on this geotiff file to apply transformation on 6 datasets inside it and the operation produces just one geotiff output file.

If I translate this geotiff file into netcdf file, now I need to perform 6 operations to apply transformation on each of the 6 datasets inside it and produces 6 separate netcdf files which is quite cumbersome. 

I am wondering if it is possible to modify the current netCDF driver so that it behaves like geotiff driver when operating on multiple bands (datasets) netcdf file.
Any opinion on this is really appreciated.

This might be a potential issue though: 
When the several datasets have the same data type, it is not an issue but
when the several datasets have different data type (some datasets are float while some other metadata are integer), then it might be an issue as when we do gdalwarp operation selecting one method of interpolation, that chosen interpolation method will be applied across all data types for all datasets in that single file.

=============================
gdalinfo on the geotiff file: and netcdf file:
=============================
Driver: GTiff/GeoTIFF
Files: multipledataset.tif
Size is 4, 3
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (141.000867233935992,-34.060737220013806)
Pixel Size = (0.107999999999998,-0.107999999999998)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( 141.0008672, -34.0607372) (141d 0' 3.12"E, 34d 3'38.65"S)
Lower Left  ( 141.0008672, -34.3847372) (141d 0' 3.12"E, 34d23' 5.05"S)
Upper Right ( 141.4328672, -34.0607372) (141d25'58.32"E, 34d 3'38.65"S)
Lower Right ( 141.4328672, -34.3847372) (141d25'58.32"E, 34d23' 5.05"S)
Center      ( 141.2168672, -34.2227372) (141d13' 0.72"E, 34d13'21.85"S)
Band 1 Block=4x3 Type=Float64, ColorInterp=Gray
Band 2 Block=4x3 Type=Float64, ColorInterp=Undefined
Band 3 Block=4x3 Type=Float64, ColorInterp=Undefined
Band 4 Block=4x3 Type=Float64, ColorInterp=Undefined
Band 5 Block=4x3 Type=Float64, ColorInterp=Undefined
Band 6 Block=4x3 Type=Float64, ColorInterp=Undefined

=============================
gdalinfo on the netcdf file:
=============================
Driver: netCDF/Network Common Data Format
Files: multipledataset.nc
Size is 512, 512
Coordinate System is `'
Metadata:
  NC_GLOBAL#Conventions=CF-1.5
  NC_GLOBAL#GDAL=GDAL 1.9.0, released 2011/12/29
  NC_GLOBAL#history=Thu Mar 08 14:03:01 2012: GDAL Create( multipledataset.nc, ... )
Subdatasets:
  SUBDATASET_1_NAME=NETCDF:"multipledataset.nc":Band1
  SUBDATASET_1_DESC=[3x4] Band1 (64-bit floating-point)
  SUBDATASET_2_NAME=NETCDF:"multipledataset.nc":Band2
  SUBDATASET_2_DESC=[3x4] Band2 (64-bit floating-point)
  SUBDATASET_3_NAME=NETCDF:"multipledataset.nc":Band3
  SUBDATASET_3_DESC=[3x4] Band3 (64-bit floating-point)
  SUBDATASET_4_NAME=NETCDF:"multipledataset.nc":Band4
  SUBDATASET_4_DESC=[3x4] Band4 (64-bit floating-point)
  SUBDATASET_5_NAME=NETCDF:"multipledataset.nc":Band5
  SUBDATASET_5_DESC=[3x4] Band5 (64-bit floating-point)
  SUBDATASET_6_NAME=NETCDF:"multipledataset.nc":Band6
  SUBDATASET_6_DESC=[3x4] Band6 (64-bit floating-point)
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  512.0)
Upper Right (  512.0,    0.0)
Lower Right (  512.0,  512.0)
Center      (  256.0,  256.0)



Regards,

Hendy
-------------- next part --------------
A non-text attachment was scrubbed...
Name: multipledataset.tif
Type: image/tiff
Size: 988 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120308/ca0dec96/multipledataset.tif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: multipledataset.nc
Type: application/x-netcdf
Size: 2764 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120308/ca0dec96/multipledataset.nc
From m.stelluti at gmail.com  Thu Mar  8 06:33:01 2012
From: m.stelluti at gmail.com (Marco Stelluti)
Date: Thu Mar  8 06:33:28 2012
Subject: [gdal-dev] How gdal_grid works?
Message-ID: <CAN=Vx0jUfHbyfqrV0UVzuhV0petGCFnq=gVaVWcYtCkxO9R19g@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: grid_image.png
Type: image/png
Size: 28893 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120308/86fc187a/grid_image-0001.png
From etourigny.dev at gmail.com  Thu Mar  8 09:11:22 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu Mar  8 09:11:49 2012
Subject: [gdal-dev] Is it possible to modify netCDF driver so that it
	behaves like geotiff driver when operating on multiple datasets netcdf
	file
In-Reply-To: <1733427626.8329.1331177388205.JavaMail.root@mail.vpac.org>
References: <414370814.8274.1331175089141.JavaMail.root@mail.vpac.org>
	<1733427626.8329.1331177388205.JavaMail.root@mail.vpac.org>
Message-ID: <CA+TxYvPLwpMD8rAFNQnprrUVQEGpU4JGr_dtDwgM-sKF1bZc1g@mail.gmail.com>

Hendy,

I suggest you have a look at the recent netcdf driver in trunk, I have
implemented proper handling of multidimension netcdf variables
(T,Z,Y,X). This might be able to resolve your problem - providing you
are able to create a netcdf file with multiple dimensions as this is
not done by the driver.

Basically, if a netcdf file has multiple dimensions (other than X,Y),
the driver creates multiple bands in GDAL  (as before), but when the
file is written back to netcdf, the driver creates a single variable
instead of a variable for each band.  However, this does not work for
gdalwarp directly, but works if using an intermediary VRT file.

See http://trac.osgeo.org/gdal/ticket/2581

On Thu, Mar 8, 2012 at 12:29 AM, Hendy Sumanto <hsumanto@vpac.org> wrote:
> Hi Devs,
>
> I have a geotiff file which contains several datasets, with this I just need to perform one gdalwarp operation on this geotiff file to apply transformation on 6 datasets inside it and the operation produces just one geotiff output file.
>
> If I translate this geotiff file into netcdf file, now I need to perform 6 operations to apply transformation on each of the 6 datasets inside it and produces 6 separate netcdf files which is quite cumbersome.

You are confusing GDAL "dataset" with GDAL "band" and netcdf
"variable", which is quite normal. Let me explain:

A "dataset" has its own projection and geotransform(GT), and a number
of bands which are (usually) of the same data type. In your gtiff
example, there is one dataset in WGS84 GCS with multiple bands of the
same type (Float64).

A netcdf file can have many "variables", each with their own
projection/geotransform (lon/lat variable and/or grid_mapping
variable) and data type.  So in many cases a netcdf file can contain
many "datasets" (one for each variable) when opened in GDAL - which
are treated as "subdatasets: (as in your example).

So when translating a multi-band gtiff file to netcdf, the GDAL netcdf
driver creates a variable for each band, so that is why a multi-band
gtiff gets converted to netcdf with many variables (although they are
of the same type and projection/GT).

>
> I am wondering if it is possible to modify the current netCDF driver so that it behaves like geotiff driver when operating on multiple bands (datasets) netcdf file.
> Any opinion on this is really appreciated.

In order for the driver to create a netcdf file which will have
muliple bands (and not sub-datasets) it would have to create a single
variable, with an extra dimension (such as time or height/depth) to
store the mulriple bands in a single variable.
Another option would be to modify the driver to scan for all variables
in Open(), and instead of creating subdatasets create a number of
bands IF they are of the same type and projection.

Either one are rather involved I'm afraid...

>
> This might be a potential issue though:
> When the several datasets have the same data type, it is not an issue but
> when the several datasets have different data type (some datasets are float while some other metadata are integer), then it might be an issue as when we do gdalwarp operation selecting one method of interpolation, that chosen interpolation method will be applied across all data types for all datasets in that single file.

I'm afraid that many file formats do not support bands of different
data types (such as GTiff), which would make it difficult to translate
to/from other formats.
A potential limitation is the  GDALDriver::Create() function which
takes a single data type as argument.
http://www.gdal.org/gdal_drivertut.html#gdal_drivertut_creation

-> although individual drivers do not have to respect that (I think) -
perhaps Even or someone else can comment?

Etienne

>
> =============================
> gdalinfo on the geotiff file: and netcdf file:
> =============================
> Driver: GTiff/GeoTIFF
> Files: multipledataset.tif
> Size is 4, 3
> Coordinate System is:
> GEOGCS["WGS 84",
> ? ?DATUM["WGS_1984",
> ? ? ? ?SPHEROID["WGS 84",6378137,298.257223563,
> ? ? ? ? ? ?AUTHORITY["EPSG","7030"]],
> ? ? ? ?AUTHORITY["EPSG","6326"]],
> ? ?PRIMEM["Greenwich",0],
> ? ?UNIT["degree",0.0174532925199433],
> ? ?AUTHORITY["EPSG","4326"]]
> Origin = (141.000867233935992,-34.060737220013806)
> Pixel Size = (0.107999999999998,-0.107999999999998)
> Metadata:
> ?AREA_OR_POINT=Area
> Image Structure Metadata:
> ?INTERLEAVE=PIXEL
> Corner Coordinates:
> Upper Left ?( 141.0008672, -34.0607372) (141d 0' 3.12"E, 34d 3'38.65"S)
> Lower Left ?( 141.0008672, -34.3847372) (141d 0' 3.12"E, 34d23' 5.05"S)
> Upper Right ( 141.4328672, -34.0607372) (141d25'58.32"E, 34d 3'38.65"S)
> Lower Right ( 141.4328672, -34.3847372) (141d25'58.32"E, 34d23' 5.05"S)
> Center ? ? ?( 141.2168672, -34.2227372) (141d13' 0.72"E, 34d13'21.85"S)
> Band 1 Block=4x3 Type=Float64, ColorInterp=Gray
> Band 2 Block=4x3 Type=Float64, ColorInterp=Undefined
> Band 3 Block=4x3 Type=Float64, ColorInterp=Undefined
> Band 4 Block=4x3 Type=Float64, ColorInterp=Undefined
> Band 5 Block=4x3 Type=Float64, ColorInterp=Undefined
> Band 6 Block=4x3 Type=Float64, ColorInterp=Undefined
>
> =============================
> gdalinfo on the netcdf file:
> =============================
> Driver: netCDF/Network Common Data Format
> Files: multipledataset.nc
> Size is 512, 512
> Coordinate System is `'
> Metadata:
> ?NC_GLOBAL#Conventions=CF-1.5
> ?NC_GLOBAL#GDAL=GDAL 1.9.0, released 2011/12/29
> ?NC_GLOBAL#history=Thu Mar 08 14:03:01 2012: GDAL Create( multipledataset.nc, ... )
> Subdatasets:
> ?SUBDATASET_1_NAME=NETCDF:"multipledataset.nc":Band1
> ?SUBDATASET_1_DESC=[3x4] Band1 (64-bit floating-point)
> ?SUBDATASET_2_NAME=NETCDF:"multipledataset.nc":Band2
> ?SUBDATASET_2_DESC=[3x4] Band2 (64-bit floating-point)
> ?SUBDATASET_3_NAME=NETCDF:"multipledataset.nc":Band3
> ?SUBDATASET_3_DESC=[3x4] Band3 (64-bit floating-point)
> ?SUBDATASET_4_NAME=NETCDF:"multipledataset.nc":Band4
> ?SUBDATASET_4_DESC=[3x4] Band4 (64-bit floating-point)
> ?SUBDATASET_5_NAME=NETCDF:"multipledataset.nc":Band5
> ?SUBDATASET_5_DESC=[3x4] Band5 (64-bit floating-point)
> ?SUBDATASET_6_NAME=NETCDF:"multipledataset.nc":Band6
> ?SUBDATASET_6_DESC=[3x4] Band6 (64-bit floating-point)
> Corner Coordinates:
> Upper Left ?( ? ?0.0, ? ?0.0)
> Lower Left ?( ? ?0.0, ?512.0)
> Upper Right ( ?512.0, ? ?0.0)
> Lower Right ( ?512.0, ?512.0)
> Center ? ? ?( ?256.0, ?256.0)
>
>
>
> Regards,
>
> Hendy
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From ivan.lucena at pmldnet.com  Thu Mar  8 10:21:45 2012
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Thu Mar  8 10:28:44 2012
Subject: [gdal-dev] running gdalwarp without proj4 gives me a warning and a
	gigantic output
Message-ID: <20120308152145.26701.qmail@s466.sureserver.com>

Hi there!

Is that how it suppose to be?

I was trying to run gdalwarp without proj4 on the path and that was giving me a Warning and a *Gigantic* output.

On Windows:

ERROR 6: Unable to load PROJ.4 library (proj.dll), creation of
OGRCoordinateTransformation failed.
Creating output file that is 78194473P x 95965675L.

On Linux:

ERROR 6: Unable to load PROJ.4 library (libproj.so), creation of
OGRCoordinateTransformation failed.
Creating output file that is 78085892P x 95832416L.

Wouldn't be better if gdalwarp could raise a Fatal error and cancel the process? 

Just a suggestion, I might be missing something.

Regards,

Ivan
From hsumanto at vpac.org  Thu Mar  8 22:14:48 2012
From: hsumanto at vpac.org (Hendy Sumanto)
Date: Thu Mar  8 22:15:25 2012
Subject: [gdal-dev] Is it possible to modify netCDF driver so that it
	behaves like geotiff driver when operating on multiple datasets netcdf
	file
In-Reply-To: <CA+TxYvPLwpMD8rAFNQnprrUVQEGpU4JGr_dtDwgM-sKF1bZc1g@mail.gmail.com>
Message-ID: <1043812089.9058.1331262888702.JavaMail.root@mail.vpac.org>

> I suggest you have a look at the recent netcdf driver in trunk, I have
> implemented proper handling of multidimension netcdf variables
> (T,Z,Y,X). This might be able to resolve your problem - providing you
> are able to create a netcdf file with multiple dimensions as this is
> not done by the driver.
> 
> Basically, if a netcdf file has multiple dimensions (other than X,Y),
> the driver creates multiple bands in GDAL (as before), but when the
> file is written back to netcdf, the driver creates a single variable
> instead of a variable for each band. However, this does not work for
> gdalwarp directly, but works if using an intermediary VRT file.
> 
> See http://trac.osgeo.org/gdal/ticket/2581

Really appreciate that you have implemented the proper handling of multidimension netcdf variables.

> You are confusing GDAL "dataset" with GDAL "band" and netcdf
> "variable", which is quite normal. Let me explain:
> 
> A "dataset" has its own projection and geotransform(GT), and a number
> of bands which are (usually) of the same data type. In your gtiff
> example, there is one dataset in WGS84 GCS with multiple bands of the
> same type (Float64).
> A netcdf file can have many "variables", each with their own
> projection/geotransform (lon/lat variable and/or grid_mapping
> variable) and data type. So in many cases a netcdf file can contain
> many "datasets" (one for each variable) when opened in GDAL - which
> are treated as "subdatasets: (as in your example).
> 
> So when translating a multi-band gtiff file to netcdf, the GDAL netcdf
> driver creates a variable for each band, so that is why a multi-band
> gtiff gets converted to netcdf with many variables (although they are
> of the same type and projection/GT).

Thanks for the clear explanation now I understand exactly the differences amongst GDAL "dataset", GDAL "band" and netcdf "variable".

> > I am wondering if it is possible to modify the current netCDF driver
> > so that it behaves like geotiff driver when operating on multiple
> > bands (datasets) netcdf file.
> > Any opinion on this is really appreciated.
> 
> In order for the driver to create a netcdf file which will have
> muliple bands (and not sub-datasets) it would have to create a single
> variable, with an extra dimension (such as time or height/depth) to
> store the mulriple bands in a single variable.
> Another option would be to modify the driver to scan for all variables
> in Open(), and instead of creating subdatasets create a number of
> bands IF they are of the same type and projection.
> 
> Either one are rather involved I'm afraid...

At a first think about it, the second option seems to be a better option.
It would be great if we could add this into netCDF driver improvements list.

> > This might be a potential issue though:
> > When the several datasets have the same data type, it is not an
> > issue but
> > when the several datasets have different data type (some datasets
> > are float while some other metadata are integer), then it might be
> > an issue as when we do gdalwarp operation selecting one method of
> > interpolation, that chosen interpolation method will be applied
> > across all data types for all datasets in that single file.
> 
> I'm afraid that many file formats do not support bands of different
> data types (such as GTiff), which would make it difficult to translate
> to/from other formats.
> A potential limitation is the GDALDriver::Create() function which
> takes a single data type as argument.
> http://www.gdal.org/gdal_drivertut.html#gdal_drivertut_creation
> 
> -> although individual drivers do not have to respect that (I think) -
> perhaps Even or someone else can comment?

Cool at least now I fully understand that GDAL do not support bands of different data types
as we are thinking to separate metadata variables which have different data type into separate netcdf file
instead of combining them with the actual data and possible just try to implement a mechanism which could be used
to append all these variable when user would like to have them combined in a single file.

Regards,

Hendy

From chaitanya.ch at gmail.com  Fri Mar  9 09:57:25 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar  9 09:57:34 2012
Subject: [gdal-dev] How gdal_grid works?
In-Reply-To: <CAN=Vx0jUfHbyfqrV0UVzuhV0petGCFnq=gVaVWcYtCkxO9R19g@mail.gmail.com>
References: <CAN=Vx0jUfHbyfqrV0UVzuhV0petGCFnq=gVaVWcYtCkxO9R19g@mail.gmail.com>
Message-ID: <CAMKgpOZnnbJW0QskH_e=OYE41QehGaeFd6N1TxRzdS7KMb8Tig@mail.gmail.com>

Marco,

Can you provide the command you used to create the raster?
Also, the ogrinfo and gdalinfo outputs of the source and destination
datasets will be helpful.

On Thu, Mar 8, 2012 at 5:03 PM, Marco Stelluti <m.stelluti@gmail.com> wrote:

> Hi,
> I use gdal_grid to interpolate point data into grid data.
> I'm not able to understand how this command creates a regular grid.
> 1) Where is located the central point of the Search Ellipse shown in the
> "GDAL Grid Tutorial" respect to regular grid that I have to create?
> 2) In the figure attached there are some problems: why there are no value
> in cells in which there are points? Why there are values in cells in which
> there are no points?
>
> Thank you in advance
>
> Marco
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120309/2bc85412/attachment.html
From martin.laloux at gmail.com  Sun Mar 11 11:41:40 2012
From: martin.laloux at gmail.com (gene)
Date: Sun Mar 11 11:41:50 2012
Subject: [gdal-dev] OGR Virtual Format for SQLite
Message-ID: <1331480500493-4567549.post@n6.nabble.com>

Hello, may be a stupid question but I am trying to create a OGR Virtual
Format file with a SQLite database foo.db3, a table named test and columns
x, y


<OGRVRTDataSource>
    <OGRVRTLayer name="foo">
        <SrcDataSource
relativeToVRT="1">SQLITE:database=foo.db3</SrcDataSource>  
        <SrcSQL>select * from test </SrcSQL> 
        <GeometryType>wkbPoint</GeometryType> 
            <LayerSRS>EPSG:31370</LayerSRS>
        <GeometryField encoding="PointFromColumns" x="x" y="y"/> 
    </OGRVRTLayer>
</OGRVRTDataSource>

and it does not work.

With Oracle, this works
<OGRVRTDataSource>
    <OGRVRTLayer name="test">
        <SrcDataSource>OCI:user/password@server/schema</SrcDataSource> 
        <SrcSQL>select * from test</SrcSQL> 
        <GeometryType>wkbPoint</GeometryType> 
            <LayerSRS>EPSG:31370</LayerSRS>
        <GeometryField encoding="PointFromColumns" x="x" y="y"/> 
    </OGRVRTLayer>
</OGRVRTDataSource>)

What is the correct syntax for SQLite ?




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/OGR-Virtual-Format-for-SQLite-tp4567549p4567549.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Sun Mar 11 15:20:39 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Mar 11 15:20:48 2012
Subject: [gdal-dev] OGR Virtual Format for SQLite
In-Reply-To: <1331480500493-4567549.post@n6.nabble.com>
References: <1331480500493-4567549.post@n6.nabble.com>
Message-ID: <201203112020.40070.even.rouault@mines-paris.org>

Le dimanche 11 mars 2012 16:41:40, gene a ?crit :
> Hello, may be a stupid question but I am trying to create a OGR Virtual
> Format file with a SQLite database foo.db3, a table named test and columns
> x, y
> 
> 
> <OGRVRTDataSource>
>     <OGRVRTLayer name="foo">
>         <SrcDataSource
> relativeToVRT="1">SQLITE:database=foo.db3</SrcDataSource>

--> This is not the right syntax to open a sqlite datasource. You just have to 
put the filename. No need to prefix it with SQLITE:database=

>         <SrcSQL>select * from test </SrcSQL>
>         <GeometryType>wkbPoint</GeometryType>
>             <LayerSRS>EPSG:31370</LayerSRS>
>         <GeometryField encoding="PointFromColumns" x="x" y="y"/>
>     </OGRVRTLayer>
> </OGRVRTDataSource>
> 
> and it does not work.
> 
> With Oracle, this works
> <OGRVRTDataSource>
>     <OGRVRTLayer name="test">
>         <SrcDataSource>OCI:user/password@server/schema</SrcDataSource>
>         <SrcSQL>select * from test</SrcSQL>
>         <GeometryType>wkbPoint</GeometryType>
>             <LayerSRS>EPSG:31370</LayerSRS>
>         <GeometryField encoding="PointFromColumns" x="x" y="y"/>
>     </OGRVRTLayer>
> </OGRVRTDataSource>)
> 
> What is the correct syntax for SQLite ?
> 
> 
> 
> 
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/OGR-Virtual-Format-for-SQLite-tp456754
> 9p4567549.html Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From martin.laloux at gmail.com  Sun Mar 11 15:39:05 2012
From: martin.laloux at gmail.com (gene)
Date: Sun Mar 11 15:39:42 2012
Subject: [gdal-dev] Re: OGR Virtual Format for SQLite
In-Reply-To: <201203112020.40070.even.rouault@mines-paris.org>
References: <1331480500493-4567549.post@n6.nabble.com>
	<201203112020.40070.even.rouault@mines-paris.org>
Message-ID: <1331494745363-4568049.post@n6.nabble.com>

it works, many thanks 

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/OGR-Virtual-Format-for-SQLite-tp4567549p4568049.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From akshaygupta202 at gmail.com  Tue Mar 13 01:11:39 2012
From: akshaygupta202 at gmail.com (akshay gupta)
Date: Tue Mar 13 01:12:15 2012
Subject: [gdal-dev] caching in gdal
In-Reply-To: <CAB_qc70oZ_wYRm0zZLcnNksSttFXDXsMoJWArnP5nPOcupRcAw@mail.gmail.com>
References: <CAB_qc722vKxSBjVDmUisu80-zOHXa5b931a9dy=NcfJChE-kQw@mail.gmail.com>
	<CAB_qc70oZ_wYRm0zZLcnNksSttFXDXsMoJWArnP5nPOcupRcAw@mail.gmail.com>
Message-ID: <CAB_qc73Qxyse0+2UTOAyLRotN1mBKfstgDCgapJDQQi0Qc9EGg@mail.gmail.com>

Hi all,

How exactly does caching work in gdal. If I have 2 or more images opened
simultaneously in gdal, does gdal consider the tiles(or scanlines)
belonging to different images separately or does it keeps a common set, can
any body explain how it is done in gdal.

Thanks and regards,
Akshay
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120313/18043078/attachment.html
From jukka.rahkonen at mmmtike.fi  Tue Mar 13 03:50:17 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Mar 13 03:51:09 2012
Subject: [gdal-dev] Wrong resolution info from multitable rasterlite
Message-ID: <loom.20120313T084120-556@post.gmane.org>

Hi,

See what happened when I took two tiffs with different resolutions

This one
suomi45m_tm35fin.tif
Origin = (-70042.000000000000000,7903802.000000000000000)
Pixel Size = (200.000000000000000,-200.000000000000000)

and another
gdalinfo suomi1m_tm35fin.tif
Origin = (19970.000000000000000,7785300.000000000000000)
Pixel Size = (100.000000000000000,-100.000000000000000)

I converted them into the same rasterlite DB with these four commands:

gdal_translate -of rasterlite -a_srs epsg:3067 suomi45m_tm35fin.tif
rasterlite:multitable.sqlite,table=suomi45m

gdal_translate -of rasterlite -a_srs epsg:3067 suomi1m_tm35fin.tif
rasterlite:multitable.sqlite,table=suomi1m

gdaladdo rasterlite:multitable.sqlite,table=suomi45m 2 4 8 16

gdaladdo rasterlite:multitable.sqlite,table=suomi1m 2 4 8 16


Now gdalinfo reports that both of these rasterlite tables have 
a pixel size of 200 m

gdalinfo rasterlite:mmlrasterit_2011.sqlite,table=suomi45m
Origin = (-70042.000000000000000,7903802.000000000000000)
Pixel Size = (200.000000000000000,-200.000000000000000)

gdalinfo rasterlite:mmlrasterit_2011.sqlite,table=suomi1m
Origin = (19970.000000000000000,7785300.000000000000000)
Pixel Size = (200.000000000000000,-200.000000000000000)


Quantum GIS is placing the map that actually has 100 m pixels in a 
wrong scale into a project. However, I am not sure if this pure
GDAL error because Spatialite-gis seems to make the same
error. I can see correct values in the pixel_x_size x and 
pixel_y_size columns in the corresponding raster metadata tables.

Everything works as expected if I convert images separately into
two single-table databases.

-Jukka Rahkonen-




From noura.salem.shamsi at gmail.com  Tue Mar 13 04:04:45 2012
From: noura.salem.shamsi at gmail.com (Noura Shamsi)
Date: Tue Mar 13 04:05:20 2012
Subject: [gdal-dev] creating 3D surface with DTED
Message-ID: <CAJ2iEgz4ei0upYBPYUTULb24Et5rrny5UWxOuvg35Znr5CeGMw@mail.gmail.com>

hello am newbie with gdal lib
my aim is to create a 3D surface using DTED (digital terrain elevation
data) then overlay the map or satellite imagery tiles to create a
3Drendered scene.
since my coordinate dataset is dted i have used gdal lib to get the
dataset;
now i need to request tiles from a geographic server according to my
dataset;
am not sure if gdaltindex and webserver will be helpful to request the
tiles since it is not a web based application, am using qt creator as my
IDE and opengl to map the tiles and the dataset to create the 3D terrain;
thanks in advance;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120313/54c59034/attachment.html
From lhomme.xavier at gmail.com  Tue Mar 13 05:32:53 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Tue Mar 13 05:39:48 2012
Subject: [gdal-dev] Ogr2Ogr convert wih max feature
Message-ID: <CACqzBMzCcT0aohak-9vu=n9=NDwq2i_eLxtMWfV_b3kiFtHGEg@mail.gmail.com>

Hi



  I want to convert data from a WFS to a FilkeGDB but limit the download of
feature with a max Feature by layer args :



Ogr2Ogr ?f ?FleGDB? toto.gdb http://<url
WebServer>?request=GetCapabilities&service=WFS<http://%3curl%20webserver%3e/?request=GetCapabilities&service=WFS>
maxFeature=5



I don?t find any option in the command line.



Have any idea ? or do I need to write a function with Ogr Sdk ?

Thanks in advance

Xavier Lhomme
GIS&3D Software Component Manager
PRS / DT / ACE / P?le Carto
TEL : 01 41 30 45 26
*Thales Communications* *& Security*
160 boulevard de Valmy - 92704 Colombes - France
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120313/f0c5a3fe/attachment.html
From jukka.rahkonen at mmmtike.fi  Tue Mar 13 05:57:18 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Mar 13 05:58:24 2012
Subject: [gdal-dev] Re: Wrong resolution info from multitable rasterlite
References: <loom.20120313T084120-556@post.gmane.org>
Message-ID: <loom.20120313T104951-944@post.gmane.org>

Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi> writes:

> Quantum GIS is placing the map that actually has 100 m pixels in a 
> wrong scale into a project. However, I am not sure if this pure
> GDAL error because Spatialite-gis seems to make the same
> error. I can see correct values in the pixel_x_size x and 
> pixel_y_size columns in the corresponding raster metadata tables.

This does feel like a GDAL bug. Multitable database that is created with
rasterlite utilities rasterlite_load and rasterlite_pyramid works OK in QGis. I
opened the metadata table of the 100 m pixel raster as a vector layer and I can
see that the polygons presenting the tiles of the pyramid layers (geometry field
in the table) are too wide. It may be gdaladdo that is making the mess but I am
not sure yet.

-Jukka Rahkonen-

From pcorti at gmail.com  Tue Mar 13 06:20:03 2012
From: pcorti at gmail.com (Paolo Corti)
Date: Tue Mar 13 06:21:12 2012
Subject: [gdal-dev] Ogr2Ogr convert wih max feature
In-Reply-To: <CACqzBMzCcT0aohak-9vu=n9=NDwq2i_eLxtMWfV_b3kiFtHGEg@mail.gmail.com>
References: <CACqzBMzCcT0aohak-9vu=n9=NDwq2i_eLxtMWfV_b3kiFtHGEg@mail.gmail.com>
Message-ID: <CAHXrU-+fy5B+YwO9g9OfLkY_gycUiJ4YkMso7pF5B_5GpuzHSg@mail.gmail.com>

> ? I want to convert data from a WFS to a FilkeGDB but limit the download of
> feature with a max Feature by layer args :
>
>
>
> Ogr2Ogr ?f ?FleGDB? toto.gdb http://<url
> WebServer>?request=GetCapabilities&service=WFS? maxFeature=5
>

you need to append the MAXFEATURES parameter to the url querystring,
for example:

ogr2ogr -f ?FleGDB? mydb.gdb
WFS:"http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&MAXFEATURES=3"
FiresAll

best regards
P

-- 
Paolo Corti
Geospatial software developer
web: http://www.paolocorti.net
twitter: @capooti
skype: capooti
From lhomme.xavier at gmail.com  Tue Mar 13 07:30:43 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Tue Mar 13 07:30:53 2012
Subject: [gdal-dev] Ogr2Ogr convert wih max feature
In-Reply-To: <CAHXrU-+fy5B+YwO9g9OfLkY_gycUiJ4YkMso7pF5B_5GpuzHSg@mail.gmail.com>
References: <CACqzBMzCcT0aohak-9vu=n9=NDwq2i_eLxtMWfV_b3kiFtHGEg@mail.gmail.com>
	<CAHXrU-+fy5B+YwO9g9OfLkY_gycUiJ4YkMso7pF5B_5GpuzHSg@mail.gmail.com>
Message-ID: <CACqzBMwJbpfY1SU_W5a-oXayFn5TukbG6jjjJiQ-2+9YzSEPjQ@mail.gmail.com>

Thanks I succeed to import only 5 features for each layer with the
MAXFEATURES args !

you need to append the MAXFEATURES parameter to the url querystring,
> for example:
>
> ogr2ogr -f ?FleGDB? mydb.gdb
> WFS:"http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&MAXFEATURES=3"
> FiresAll
>
> best regards
> P
>
> --
> Paolo Corti
> Geospatial software developer
> web: http://www.paolocorti.net
> twitter: @capooti
> skype: capooti
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120313/d13c70a5/attachment.html
From etourigny.dev at gmail.com  Tue Mar 13 08:32:00 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Tue Mar 13 08:32:13 2012
Subject: [gdal-dev] caching in gdal
In-Reply-To: <CAB_qc73Qxyse0+2UTOAyLRotN1mBKfstgDCgapJDQQi0Qc9EGg@mail.gmail.com>
References: <CAB_qc722vKxSBjVDmUisu80-zOHXa5b931a9dy=NcfJChE-kQw@mail.gmail.com>
	<CAB_qc70oZ_wYRm0zZLcnNksSttFXDXsMoJWArnP5nPOcupRcAw@mail.gmail.com>
	<CAB_qc73Qxyse0+2UTOAyLRotN1mBKfstgDCgapJDQQi0Qc9EGg@mail.gmail.com>
Message-ID: <CA+TxYvPUusc3bORuFbjF9m2NoDRuxVOCYbhXLk7Vm_4NHe+jMg@mail.gmail.com>

Akshay,

Caching is done independently for each opened dataset, as long as
total caching does not exceed GDAL_CACHEMAX.

You can control the size of the cache with the GDAL_CACHEMAX config
option, see the following wiki pages

http://trac.osgeo.org/gdal/wiki/ConfigOptions
http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp

GDALRasterBand::RasterIO() takes care of caching internally so you
don't have to worry about it
GDALRasterBand::ReadBlock() is more efficient but also less flexible.

See the various ReadBlock/RasterIO/GetLockedBlockRef functions in
http://www.gdal.org/classGDALRasterBand.html

Perhaps there is a more descriptive reference somewhere?

Etienne

On Tue, Mar 13, 2012 at 2:11 AM, akshay gupta <akshaygupta202@gmail.com> wrote:
>
> Hi all,
>
> How exactly does caching work in gdal. If I have 2 or more images opened
> simultaneously in gdal, does gdal consider the tiles(or scanlines) belonging
> to different images separately or does it keeps a common set, can any body
> explain how it is done in gdal.
>
> Thanks and regards,
> Akshay
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From jorgearevalo at libregis.org  Tue Mar 13 10:54:22 2012
From: jorgearevalo at libregis.org (Jorge Arevalo)
Date: Tue Mar 13 10:55:17 2012
Subject: [gdal-dev] Motion:Commit rights for David Zwarg
Message-ID: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>

Motion: GDAL/OGR Commit rights are extended to David Zwarg

Hello,

David Zwarg has been working over the last few weeks in submitting
patches to improve and fix the PostGIS Raster driver. I have
integrated them until now, but I think it would be easier to give him
commit access.

David is a committer to PostGIS, and have been working with the Raster
developers for a couple years. He has commit access to an OpenLayers
sandbox, and is the author of the ArcIMS Layer and ArcXML Format,
which are now in the OpenLayers core. In addition, he has contributed
patches to fix bugs in OpenLayers via trac. His company also develops
some Open Source geoprocessing platforms, like GeoTrellis:
https://github.com/azavea/geotrellis

I think he's doing an excellent job with the PostGIS Raster driver.
So, he has my complete support

+1

-- 
Jorge Arevalo
http://www.libregis.org
From ari.jolma at gmail.com  Tue Mar 13 11:59:32 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue Mar 13 12:00:23 2012
Subject: [gdal-dev] Ogr2Ogr convert wih max feature
In-Reply-To: <CACqzBMwJbpfY1SU_W5a-oXayFn5TukbG6jjjJiQ-2+9YzSEPjQ@mail.gmail.com>
References: <CACqzBMzCcT0aohak-9vu=n9=NDwq2i_eLxtMWfV_b3kiFtHGEg@mail.gmail.com>
	<CAHXrU-+fy5B+YwO9g9OfLkY_gycUiJ4YkMso7pF5B_5GpuzHSg@mail.gmail.com>
	<CACqzBMwJbpfY1SU_W5a-oXayFn5TukbG6jjjJiQ-2+9YzSEPjQ@mail.gmail.com>
Message-ID: <4F5F6EE4.5040908@gmail.com>

Interestingly, I just submitted an enhancement request for CopyLayer 
method of DataSource, which would make it easy to add max_features 
switch to ogr2ogr

http://trac.osgeo.org/gdal/ticket/4564

Ari

On 03/13/2012 01:30 PM, xavier lhomme wrote:
> Thanks I succeed to import only 5 features for each layer with the 
> MAXFEATURES args !
>
>     you need to append the MAXFEATURES parameter to the url querystring,
>     for example:
>
>     ogr2ogr -f "FleGDB" mydb.gdb
>     WFS:"http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&MAXFEATURES=3
>     <http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&MAXFEATURES=3>"
>     FiresAll
>
>     best regards
>     P
>
>     --
>     Paolo Corti
>     Geospatial software developer
>     web: http://www.paolocorti.net
>     twitter: @capooti
>     skype: capooti
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120313/5b3d969c/attachment.html
From mladen-g at distributel.net  Tue Mar 13 12:13:28 2012
From: mladen-g at distributel.net (mladen-g@distributel.net)
Date: Tue Mar 13 12:14:25 2012
Subject: [gdal-dev] GDALOpen failed on GRC grid
Message-ID: <20120313101328.19645li8vzljww88@webmail.distributel.net>


Hello all,

I'm experiencing an error when trying to open a GRC grid (Northwood  
VerticalMapper Classified Grid) with gdal_translate.  The command and  
error is:

C:\>gdal_translate -of vrt  
"C:\temp\ClassficationGrid-UK-Technologies_1.grc"  
"C:\temp\ClassficationGrid-UK-Technologies_1.vrt"
ERROR 4: `C:\temp\ClassficationGrid-UK-Technologies_1.grc' not  
recognised as a supported file format.

GDALOpen failed - 4

This seems like it could be a problem with the file, but I can open it  
in MapInfo, as well as Global Mapper 13, so I think the file is OK.

Is there a way to explicitly specify to gdal_translate the format of  
the input file?  I don't see an option for this in the list of command  
line switches.

I put the .grc/.tab file pair in a zip (~5.3 Mb) at  
http://dl.dropbox.com/u/53500018/GdalOpenFailedGrid.zip if it helps.   
This is in version 1.9.0 of GDAL, by the way.

Regards,
Mladen

----------------------------------------------------------------
This message was sent using Distributel Webmail.
Ce message a ?t? envoy? ? partir de la Messagerie Web Distributel.


From warmerdam at pobox.com  Tue Mar 13 12:41:15 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 13 12:41:52 2012
Subject: [gdal-dev] Motion:Commit rights for David Zwarg
In-Reply-To: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
References: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
Message-ID: <CA+YzLBcPBMm=aufuQiEueZikLVAXyDQRTc1E8b6NDt+Xf5eHPw@mail.gmail.com>

On Tue, Mar 13, 2012 at 7:54 AM, Jorge Arevalo
<jorgearevalo@libregis.org> wrote:
> Motion: GDAL/OGR Commit rights are extended to David Zwarg
,,,

> +1

Jorge,

+1 Frank

David will need to review the RFC on committer guidelines and
acknowledge here (gda-dev) his willingness to adhere to them.

  http://trac.osgeo.org/gdal/wiki/rfc3_commiters

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From dzwarg+gdal at azavea.com  Tue Mar 13 12:46:54 2012
From: dzwarg+gdal at azavea.com (David Zwarg)
Date: Tue Mar 13 12:46:58 2012
Subject: [gdal-dev] Motion:Commit rights for David Zwarg
In-Reply-To: <CA+YzLBcPBMm=aufuQiEueZikLVAXyDQRTc1E8b6NDt+Xf5eHPw@mail.gmail.com>
References: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
	<CA+YzLBcPBMm=aufuQiEueZikLVAXyDQRTc1E8b6NDt+Xf5eHPw@mail.gmail.com>
Message-ID: <CANSnHN2U33m--FRx_0CsGA5M0A3jW8de_1cH6854j6G=KXXMJg@mail.gmail.com>

On Tue, Mar 13, 2012 at 12:41 PM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> On Tue, Mar 13, 2012 at 7:54 AM, Jorge Arevalo
> <jorgearevalo@libregis.org> wrote:
> > Motion: GDAL/OGR Commit rights are extended to David Zwarg
> ,,,
>
> > +1
>
> Jorge,
>
> +1 Frank
>
> David will need to review the RFC on committer guidelines and
> acknowledge here (gda-dev) his willingness to adhere to them.
>
>  http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>
> Best regards,
>
>
Frank et al,

I have reviewed the committer guidelines at
http://trac.osgeo.org/gdal/wiki/rfc3_commiters, and I am willing to adhere
to them.

Thanks,
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120313/5811b922/attachment.html
From hobu.inc at gmail.com  Tue Mar 13 13:43:27 2012
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue Mar 13 13:44:14 2012
Subject: [gdal-dev] Motion:Commit rights for David Zwarg
In-Reply-To: <CA+YzLBcPBMm=aufuQiEueZikLVAXyDQRTc1E8b6NDt+Xf5eHPw@mail.gmail.com>
References: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
	<CA+YzLBcPBMm=aufuQiEueZikLVAXyDQRTc1E8b6NDt+Xf5eHPw@mail.gmail.com>
Message-ID: <74FAAEFB-2757-480B-B70D-43E0FE865C51@gmail.com>


On Mar 13, 2012, at 11:41 AM, Frank Warmerdam wrote:

> On Tue, Mar 13, 2012 at 7:54 AM, Jorge Arevalo
> <jorgearevalo@libregis.org> wrote:
>> Motion: GDAL/OGR Commit rights are extended to David Zwarg
> ,,,
> 
>> +1
> 
> Jorge,
> 
> +1 Frank


+1 Howard

From szekerest at gmail.com  Tue Mar 13 14:57:26 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Mar 13 14:58:08 2012
Subject: [gdal-dev] Motion:Commit rights for David Zwarg
In-Reply-To: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
References: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
Message-ID: <CACALY+RtFNZaXKQ6jrLnJic7_e0uLT_0omaxkiA=LRC1su5+eQ@mail.gmail.com>

+1

Tamas



2012/3/13 Jorge Arevalo <jorgearevalo@libregis.org>

> Motion: GDAL/OGR Commit rights are extended to David Zwarg
>
> Hello,
>
> David Zwarg has been working over the last few weeks in submitting
> patches to improve and fix the PostGIS Raster driver. I have
> integrated them until now, but I think it would be easier to give him
> commit access.
>
> David is a committer to PostGIS, and have been working with the Raster
> developers for a couple years. He has commit access to an OpenLayers
> sandbox, and is the author of the ArcIMS Layer and ArcXML Format,
> which are now in the OpenLayers core. In addition, he has contributed
> patches to fix bugs in OpenLayers via trac. His company also develops
> some Open Source geoprocessing platforms, like GeoTrellis:
> https://github.com/azavea/geotrellis
>
> I think he's doing an excellent job with the PostGIS Raster driver.
> So, he has my complete support
>
> +1
>
> --
> Jorge Arevalo
> http://www.libregis.org
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120313/8668e2e7/attachment.html
From dmorissette at mapgears.com  Tue Mar 13 15:37:07 2012
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Tue Mar 13 15:47:20 2012
Subject: [gdal-dev] Motion:Commit rights for David Zwarg
In-Reply-To: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
References: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
Message-ID: <4F5FA1E3.5050102@mapgears.com>

On 12-03-13 10:54 AM, Jorge Arevalo wrote:
> Motion: GDAL/OGR Commit rights are extended to David Zwarg
>

+1

Daniel

-- 
Daniel Morissette
http://www.mapgears.com/
Provider of Professional MapServer Support since 2000

From even.rouault at mines-paris.org  Tue Mar 13 16:01:31 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Mar 13 16:01:59 2012
Subject: [gdal-dev] Motion:Commit rights for David Zwarg
In-Reply-To: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
References: <CAMhtMNPdkSH0vU9x6jJ=F-S3d=kMOtk-AsM5_qhSiCfCLb8MEQ@mail.gmail.com>
Message-ID: <201203132101.32015.even.rouault@mines-paris.org>

Le mardi 13 mars 2012 15:54:22, Jorge Arevalo a ?crit :
> Motion: GDAL/OGR Commit rights are extended to David Zwarg

+1

Even
From warmerdam at pobox.com  Tue Mar 13 19:25:26 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 13 19:25:39 2012
Subject: [gdal-dev] PROJ 4.8.0 Released
Message-ID: <CA+YzLBfvU0LONOWmBhHvay6BPDHkg1MpgcJCfALz47pnYA5YrQ@mail.gmail.com>

Folks,

I am pleased to announce the release of PROJ 4.8.0.  This is a
major new feature release and collects all the work done since
the PROJ 4.7.0 release in September 2009.  The NEWS file includes
these major items:

 * Added the Natural Earth projection.
 * Added HEALPIX, rHEALPIX and Icosahedral Snyder Equal Area projections.
 * nad2bin now produces "CTable2" format grid shift files by default which
   are platform independent.
 * nad2nad removed, use cs2cs for datum shift operations.
 * projects.h no longer installed as a public include file.  Please try to
    only use proj_api.h.
 * Add pj_get_spheroid_defn() accessor.
 * Added an alternate version of pj_init() that takes a projCtx (execution
    context) structure to address multithreading issues with error management
    and to provide a support for application hookable error reporting and
    logging.
 * Upgrade to EPSG 7.9.  Some changes in ideal datum selection.
 * JNI bindings reworked, org.proj4.Projections deprecated in favor of
    org.proj4.PJ.
 * Added preliminary vertical datum support.
 * Fix various multithreading issues, particular in datum grid handling code.
 * Added support for the +axis= option for alternate axis orientations as
    part of a coordinate system (used for TM South Orientated support).
 * +proj=omerc implementatioin replaced with code from libproj4.  +rot_conv
    flag no longer works, and some coordinate systems (ie. Malaysian) will
    need to use +gamma instead.  "epsg" init file updated accordingly.

More detailed information on work can be found in the ChangeLog file at:

  http://svn.osgeo.org/metacrs/proj/tags/4.8.0/proj/ChangeLog

The source code can be found at:

  http://download.osgeo.org/proj/proj-4.8.0.tar.gz
  http://download.osgeo.org/proj/proj-4.8.0.zip

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From martin.laloux at gmail.com  Wed Mar 14 02:57:06 2012
From: martin.laloux at gmail.com (gene)
Date: Wed Mar 14 02:58:04 2012
Subject: [gdal-dev] GRASS vector in a vrt file ?
Message-ID: <1331708226538-4577181.post@n6.nabble.com>

Hello,
Is it possible to use Grass  6.4 vector in a vrt file ? (I also posted this
question on the Grass-User list)
I try
<OGRVRTDataSource>
<OGRVRTLayer name="sond">
<SrcDataSource>/home/grassdata/geol/test/vector/sond/head</SrcDataSource>
<SrcLayer>1</SrcLayer>
</OGRVRTLayer>
<OGRVRTDataSource>

following  the specifications of http://www.gdal.org/ogr/drv_grass.html for
the Datasource name and the example of
http://lists.gispython.org/pipermail/community/2006-February/000184.html :
<OGRVRTDataSource>
<OGRVRTLayer name="wil">
<SrcDataSource
relativeToVRT="0">/path/to/grassdata/location/mapset/vector/wil/
head</SrcDataSource>
<SrcLayer>1</SrcLayer>
</OGRVRTLayer>
> OGRVRTDataSource>

without success. (with SrcLayer = 0 or 1, with or without relativeToVRT="0")

Thanks 

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/GRASS-vector-in-a-vrt-file-tp4577181p4577181.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ari.jolma at gmail.com  Wed Mar 14 07:34:26 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed Mar 14 07:37:21 2012
Subject: [gdal-dev] Re: Memory leaks in Geo::OGR::Geometry Points() swig
	Perl function
In-Reply-To: <4F607A03.8020200@d902.iki.rssi.ru>
References: <4F607A03.8020200@d902.iki.rssi.ru>
Message-ID: <4F608242.7080800@gmail.com>

On 03/14/2012 12:59 PM, Ivan Balashov wrote:
> Hello, Ari!
>
> We are using Geo::OGR perl library installed from FreeBSD gdal port 
> (http://www.freebsd.org/cgi/cvsweb.cgi/ports/graphics/gdal/) ver. 
> 1.8.1 with perl  v5.10.1 for geomery operations on forest fire 
> polygons, in particular, Points function.
> Long script runs leads to large memory consumption and process 
> termination by kernel kill signal.
> In attachment you can see the simple script that reproduce this memory 
> leak.
> I'm wathcin at 'top' while running this script and see the memory 
> allocated for this process growing.
> I appologize that it is memory leak within Points() function.
> In case of  $geom->GetPoint() call on LineString geometries the same 
> thing happens.
>
> Could you comment or help with this problem, or redirect me to 
> attached with this module person or tool to submit this bug?

Ivan,

I'm the right person to complain to as long as the problem is within 
Perl bindings. GDAL bugs are reported with http://trac.osgeo.org/gdal/ - 
you need to login with OSGeo account to create a ticket.

The code below creates a lot of geometries and from each it then crates 
a Perl object. Each call on Points method returns a reference to a new 
anonymous data structure. But at the end of each loop both the GDAL 
object and the Perl object should be destroyed.

When I run the code I also notice a lot of memory being used by the 
process. When I run the code (using 10, 100, 1000, and 10000 loops) 
under valgrind I don't see much suspicious things going on:

==4270== LEAK SUMMARY:
==4270==    definitely lost: 11,395 bytes in 21 blocks
==4270==    indirectly lost: 48,842 bytes in 17 blocks
==4270==      possibly lost: 2,209,528 bytes in 31,732 blocks
==4270==    still reachable: 8,094 bytes in 25 blocks
==4270==         suppressed: 0 bytes in 0 blocks

This is when I ran the code for 10000 loops. The definitely lost amount 
is the same as for 1000 loops. The possibly lost is only doubled from 
1000 loops.

Hm. Examining the bindings I find a suspicious thing happening. It seems 
that an empty Perl object may be created and then forgotten.

I'll look more into this later.

Ari

>
> Thank you!
>

the code:

#!/usr/local/bin/perl -w
use strict;
use warnings;
use Geo::OGR;

my $wkt = 'POLYGON((40 40,40 50,50 50,50 40,40 40))';

foreach (1..10000000)
{
     my $geom = Geo::OGR::CreateGeometryFromWkt($wkt);
     my $points_ref = $geom->Points();
}

From mladen-g at distributel.net  Wed Mar 14 10:53:14 2012
From: mladen-g at distributel.net (mladen-g@distributel.net)
Date: Wed Mar 14 10:53:30 2012
Subject: [gdal-dev] GDALOpen failed on GRC grid
In-Reply-To: <20120313101328.19645li8vzljww88@webmail.distributel.net>
References: <20120313101328.19645li8vzljww88@webmail.distributel.net>
Message-ID: <20120314085314.12573sjgy5l7jly2@webmail.distributel.net>

Hi,

I did some more research, and compared a working grid against the one  
that fails to open.  Here is the working grid, which is almost exactly  
the same as the failing one (~50K difference in file sizes):

http://dl.dropbox.com/u/53500018/WorkingGdalOpen.zip

Comparing the two in a binary editor, I see differences in bytes 10  
and 26 of the header... not sure exactly what that means without the  
GRC spec (would anyone have a link for that, by the way?).

However, as I said in my original mail, the failing grid does open  
correctly in other software (MapInfo and Global Mapper 13), so I  
suspect that there may be a bug in the GDAL GRC driver.  I guess that  
opening a ticket is appropriate here, unless someone has other ideas?

Regards,
Mladen

Quoting mladen-g@distributel.net:
> Hello all,
>
> I'm experiencing an error when trying to open a GRC grid (Northwood  
> VerticalMapper Classified Grid) with gdal_translate.  The command  
> and error is:
>
> C:\>gdal_translate -of vrt  
> "C:\temp\ClassficationGrid-UK-Technologies_1.grc"  
> "C:\temp\ClassficationGrid-UK-Technologies_1.vrt"
> ERROR 4: `C:\temp\ClassficationGrid-UK-Technologies_1.grc' not  
> recognised as a supported file format.
>
> GDALOpen failed - 4
>
> This seems like it could be a problem with the file, but I can open  
> it in MapInfo, as well as Global Mapper 13, so I think the file is OK.
>
> Is there a way to explicitly specify to gdal_translate the format of  
> the input file?  I don't see an option for this in the list of  
> command line switches.
>
> I put the .grc/.tab file pair in a zip (~5.3 Mb) at  
> http://dl.dropbox.com/u/53500018/GdalOpenFailedGrid.zip if it helps.  
>  This is in version 1.9.0 of GDAL, by the way.
>
> Regards,
> Mladen

----------------------------------------------------------------
This message was sent using Distributel Webmail.
Ce message a ?t? envoy? ? partir de la Messagerie Web Distributel.


From ari.jolma at gmail.com  Wed Mar 14 15:47:21 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed Mar 14 15:47:51 2012
Subject: [gdal-dev] Re: Memory leaks in Geo::OGR::Geometry Points() swig
	Perl function
In-Reply-To: <4F608242.7080800@gmail.com>
References: <4F607A03.8020200@d902.iki.rssi.ru> <4F608242.7080800@gmail.com>
Message-ID: <4F60F5C9.2020805@gmail.com>

On 03/14/2012 01:34 PM, Ari Jolma wrote:
> On 03/14/2012 12:59 PM, Ivan Balashov wrote:
>> I appologize that it is memory leak within Points() function.
>

After some research I conclude that in several cases the returned value 
was not made "mortal", i.e., the Perl variables could not be garbage 
collected. This was especially the case in methods which returned 
arrays, like GetPoint_2D, which is called from within Points.

I've commited a change to trunk that should fix the problem (it does at 
least in this case). However, this bug has existed in the bindings from 
the beginning.

The changeset is http://trac.osgeo.org/gdal/changeset/24117

Ari

From spethm at landcareresearch.co.nz  Wed Mar 14 20:36:31 2012
From: spethm at landcareresearch.co.nz (Michael Speth)
Date: Wed Mar 14 20:37:06 2012
Subject: [gdal-dev] Setting accuracy of OGRPoint?
Message-ID: <4F61398F.30207@landcareresearch.co.nz>

Is there a function for setting the accuracy of an OGRPoint?  Meaning, a 
point is recorded as (1.0,1.0) with a +- variance of 0.01.  How do I set 
the accuracy of 0.01?

Thanks

-- 
Michael Speth
Research Systems Developer
Landcare Research

From warmerdam at pobox.com  Wed Mar 14 20:42:37 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar 14 20:43:21 2012
Subject: [gdal-dev] Setting accuracy of OGRPoint?
In-Reply-To: <4F61398F.30207@landcareresearch.co.nz>
References: <4F61398F.30207@landcareresearch.co.nz>
Message-ID: <CA+YzLBf_2+O-V6BrAnmyB+WzM=N4=2ZY0C81EnfMzezi4_h7AQ@mail.gmail.com>

On Wed, Mar 14, 2012 at 5:36 PM, Michael Speth
<spethm@landcareresearch.co.nz> wrote:
> Is there a function for setting the accuracy of an OGRPoint? ?Meaning, a
> point is recorded as (1.0,1.0) with a +- variance of 0.01. ?How do I set the
> accuracy of 0.01?

Michael,

No, there is no way to represent the accuracy of an OGRPoint.

Some OGR drivers store things in fixed precision and offer
mechanisms to control the precision.  GEOS also has a concept
of this though it is not exposed through the OGR GEOS bindings
as far as I know.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From sylvain.maffren at crige-paca.org  Thu Mar 15 04:14:27 2012
From: sylvain.maffren at crige-paca.org (Sylvain MAFFREN)
Date: Thu Mar 15 04:15:06 2012
Subject: [gdal-dev] Setting accuracy of OGRPoint?
In-Reply-To: <CA+YzLBf_2+O-V6BrAnmyB+WzM=N4=2ZY0C81EnfMzezi4_h7AQ@mail.gmail.com>
References: <4F61398F.30207@landcareresearch.co.nz>
	<CA+YzLBf_2+O-V6BrAnmyB+WzM=N4=2ZY0C81EnfMzezi4_h7AQ@mail.gmail.com>
Message-ID: <4F61A4E3.4010506@crige-paca.org>

Hi,

I have already posted a similar subject last year 
(http://osgeo-org.1560.n6.nabble.com/gdal-dev-Forcing-the-rounded-of-coordinates-td3744209.html#a3744211). 
There isn't an option in ogr2oge which allow to control accuracy or 
rounding coordinates. But I could be possible to add en option in each 
drivers you are interested in.

Even, I really apologize because I had not seen you had answered me in 
July 2011.

Best regards

Le 15/03/2012 01:42, Frank Warmerdam a ?crit :
> On Wed, Mar 14, 2012 at 5:36 PM, Michael Speth
> <spethm@landcareresearch.co.nz>  wrote:
>> Is there a function for setting the accuracy of an OGRPoint?  Meaning, a
>> point is recorded as (1.0,1.0) with a +- variance of 0.01.  How do I set the
>> accuracy of 0.01?
> Michael,
>
> No, there is no way to represent the accuracy of an OGRPoint.
>
> Some OGR drivers store things in fixed precision and offer
> mechanisms to control the precision.  GEOS also has a concept
> of this though it is not exposed through the OGR GEOS bindings
> as far as I know.
>
> Best regards,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120315/a4b32470/attachment.html
From p.meems at topx-group.nl  Thu Mar 15 04:32:10 2012
From: p.meems at topx-group.nl (Paul Meems (Top-X))
Date: Thu Mar 15 04:40:06 2012
Subject: [gdal-dev] Open Source GIS conferentie in Velp
Message-ID: <CAHNf2YRMCdc96yFZ7kyURWPWbbfg0V6XMUJZHsWfW1Etw9Lfjw@mail.gmail.com>

Hi all,

I'm writing to let you know about the upcoming Open Source GIS Conference
to be held in Velp, The Netherlands, June 25-28, 2012. (see
http://www.mapwindow.org/conference/2012/).

This is our 3rd conference, and will be the BEST one yet! The conference
has grown to include the SharpMap, OSGeo DotNet, and OSGeo.nl communities
and we are seeking participants from a wide spectrum of GIS users - with a
special focus on open source GIS :)

Registration for the 4-day conference is open now (see:
http://www.mapwindow.org/conference/2012/register.php.) Also, if you would
like to make a presentation at the conference, please consider submitting a
brief abstract here: http://www.mapwindow.org/conference/2012/abstract.php.

Thanks much for your support and interest. I'm really excited about this
conference in The Netherlands, and hope that many of you will be able to
join us!

Check out the latest releases of MapWindow 4, MapWindow 6, DotSpatial, and
HydroDesktop here: http://www.MapWindow.org <http://www.mapwindow.org/>

If you can't make it to the conference watching the live stream might be a
good alternative for you. We've made a 4 question survey about if we should
provide this service. Please fill it in:
http://www.thesistools.com/web/?id=249460

With regards,


Paul Meems
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120315/f5286db0/attachment.html
From jachym.cepicky at gmail.com  Thu Mar 15 05:00:58 2012
From: jachym.cepicky at gmail.com (Jachym Cepicky)
Date: Thu Mar 15 05:01:27 2012
Subject: [gdal-dev] how should SpatialReference::EPSGTreatsAsLatLong work?
Message-ID: <4F61AFCA.1070405@gmail.com>

Hi,

I'm trying to figure out, how OGRSpatialReference::EPSGTreatAsLatLong is
supposed to be working -> I'm not able to get any proper result.

I'm playing with the python interface at this place (and assume, C-api
would work similar way).

When I create OGRSpatialReference and import it from EPSG with the code
4326, I would say, EPSGTreatAsLatLong should return True:

from osgeo import osr
sr = osr.SpatialReference()
sr.ImportFromEPSG(4326)
sr.EPSGTreatAsLatLong()
0

Same applies, when trying the same with e.g. EPSG:3035

sr.ImportFromEPSG(3035)
sr.EPSGTreatAsLatLong()
0

Both do have (accordi ng to http://epsg-registry.org/) north,east axis
order, so I would asssume EPSGTreatAsLatLong would return True

Could anybody give me a hint, what am I doing wrong?

Thanks

Jachym


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120315/1c98dd19/signature.bin
From lhomme.xavier at gmail.com  Thu Mar 15 05:29:10 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Thu Mar 15 05:29:31 2012
Subject: [gdal-dev] Adding a proxy when Opening a OgrWFSDatasource
Message-ID: <CACqzBMy19ZDEtU01WDv5zjDkmoEEUt=6d_f2vKbdFsMTduT0Fw@mail.gmail.com>

Hello

 I made a small sample in C#  that connect to a WFS source and obtain the
feature.
 I want to check which request has been send to the server.
 How can I do that ? I want to use fiddler but I need to send all request
to a proxy. How could I pass a proxy to the OgrWFSDatasource ?

Thanks in advance
xav
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120315/d4497c10/attachment.html
From pcorti at gmail.com  Thu Mar 15 05:48:42 2012
From: pcorti at gmail.com (Paolo Corti)
Date: Thu Mar 15 05:50:01 2012
Subject: [gdal-dev] Adding a proxy when Opening a OgrWFSDatasource
In-Reply-To: <CACqzBMy19ZDEtU01WDv5zjDkmoEEUt=6d_f2vKbdFsMTduT0Fw@mail.gmail.com>
References: <CACqzBMy19ZDEtU01WDv5zjDkmoEEUt=6d_f2vKbdFsMTduT0Fw@mail.gmail.com>
Message-ID: <CAHXrU-J6aC3A+EC-V=GLxFrMFyNnnYvQ_fQAniC7Fse2c7dpow@mail.gmail.com>

On Thu, Mar 15, 2012 at 10:29 AM, xavier lhomme <lhomme.xavier@gmail.com> wrote:
> Hello
>
> ?I made a small sample in C#? that connect to a WFS source and obtain the
> feature.
> ?I want to check which request has been send to the server.
> ?How can I do that ? I want to use fiddler but I need to send all request to
> a proxy. How could I pass a proxy to the OgrWFSDatasource ?
>

you just need to activate the GDAL debug by setting to ON the
CPL_DEBUG environment variable.
after that you will be able to see all the request done to the WFS server.

For example, using the command line, with ogrinfo:

$ ogrinfo -ro WFS:"http://geohub.jrc.ec.europa.eu/effis/ows"
WFS: http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&REQUEST=GetCapabilities&ACCEPTVERSIONS=1.1.0,1.0.0
HTTP: Fetch(http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&REQUEST=GetCapabilities&ACCEPTVERSIONS=1.1.0,1.0.0)
WFS: GetFeature operation supports hits
WFS: Transaction support !
OGR: OGROpen(WFS:http://geohub.jrc.ec.europa.eu/effis/ows/0xa56450)
succeeded as WFS.
INFO: Open of `WFS:http://geohub.jrc.ec.europa.eu/effis/ows'
      using driver `WFS' successful.
OGR: GetLayerCount() = 7
HTTP: Fetch(http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&VERSION=1.1.0&REQUEST=DescribeFeatureType&TYPENAME=EFFIS:FireNews,EFFIS:Fires30Days,EFFIS:Fires7Days,EFFIS:FiresAll,EFFIS:Hotspots1Day,EFFIS:Hotspots7Days,EFFIS:HotspotsAll)
WFS: http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&VERSION=1.1.0&REQUEST=DescribeFeatureType&TYPENAME=EFFIS:FireNews
[...]

or using the GDAL API, for example in Python:

>>> from osgeo import ogr
>>> driver = ogr.GetDriverByName('WFS')
>>> wfs = driver.Open("WFS:http://geohub.jrc.ec.europa.eu/effis/ows")
WFS: http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&REQUEST=GetCapabilities&ACCEPTVERSIONS=1.1.0,1.0.0
HTTP: Fetch(http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&REQUEST=GetCapabilities&ACCEPTVERSIONS=1.1.0,1.0.0)
WFS: GetFeature operation supports hits
WFS: Transaction support !

>>> layer = wfs.GetLayerByName('FiresAll')

>>> feture = layer.GetNextFeature()
HTTP: Fetch(http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&VERSION=1.1.0&REQUEST=DescribeFeatureType&TYPENAME=EFFIS:FiresAll,EFFIS:FireNews,EFFIS:Fires30Days,EFFIS:Fires7Days,EFFIS:Hotspots1Day,EFFIS:Hotspots7Days,EFFIS:HotspotsAll)
WFS: http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&VERSION=1.1.0&REQUEST=DescribeFeatureType&TYPENAME=EFFIS:FiresAll
HTTP: Fetch(http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&VERSION=1.1.0&REQUEST=DescribeFeatureType&TYPENAME=EFFIS:FiresAll)
WFS: http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&TYPENAME=EFFIS:FiresAll
HTTP: Fetch(http://geohub.jrc.ec.europa.eu/effis/ows?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&TYPENAME=EFFIS:FiresAll)
GML: Using Expat reader
OGR: OGROpen(/vsimem/tempwfs_0x16ad2e0/file.gml/0x14aedf0) succeeded as GML.
GML: ResetReading()
GML: ResetReading()

best regards
P

-- 
Paolo Corti
Geospatial software developer
web: http://www.paolocorti.net
twitter: @capooti
skype: capooti
From szekerest at gmail.com  Thu Mar 15 08:25:58 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Mar 15 08:26:04 2012
Subject: [gdal-dev] Mapinfo driver does not recognise certain datums properly
Message-ID: <CACALY+Q=k_0vxdkAVgqDjHGj1-wq-JaPfzTK3Ag0hmvX4T7iNw@mail.gmail.com>

Hi Devs,

I have run into a problem when assigning a spatial reference to a mapinfo
file using ogr2ogr when using -a_srs "EPSG:28350".
The mapinfo driver doesn't seem to recognise the datum
(Geocentric_Datum_of_Australia_1994) and assigns WGS84 to the output file
which is a fairly inconvenient approach.

This problem is due to the incorrect entries in asDatumInfoList
(mitab_spatialref.cpp) since the entry for
Geocentric_Datum_of_Australia_1994 is missing, though it contains an entry
for the projection name GDA94 (and not for the datum name).

As far as I know the WKT datum names are vendor specific, therefore it's
not quite sufficient to use as a lookop key for the datum entries. But if
we use this approach even so, why don't we include the datum names from
gcs.csv for being compatible with the projections constructed by GDAL
itself?

Would that be reasonable to add multiple entries in asDatumInfoList or
placing this information in an external file?

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120315/5a2fed91/attachment.html
From drshinnick at hotmail.com  Thu Mar 15 08:40:30 2012
From: drshinnick at hotmail.com (drshinnick)
Date: Thu Mar 15 08:41:22 2012
Subject: [gdal-dev] Using gdalwarp to effectively trim an image
Message-ID: <1331815230360-4621161.post@n6.nabble.com>

Hello everyone!

I'm hoping someone can shed some light on the use of gdalwarp for me.  I'm
trying to use it to effectively trim an mosaicked image of its sawtooth
edges by masking the area outside a line as defined by a shapefile.  I've
been successful when using a single polygon such as with this command here:

gdalwarp -cutline .\shp -cl 1642 -crop_to_cutline .\1642\1642.bmp
.\cutlinetest.tif

Where 1642.shp is located in the .\shp directory.  1642.shp is a single
polygon record extracted from a larger multi-record shape file know as
'allROIS.shp' also located at .\shp and contains a field named 'item'.

The problem is that I have a whole mess of these things that i need to trim. 
So I was trying to use the -csql switch to reference the particular record
within 'allROIs.shp' but I'm not having much luck.  The command i'm issuing
is:

gdalwarp -cutline .\shp -csql "select * from allROIs where item = 1642"
-crop_to_cutline .\1642.bmp .\cutlinetest.tif

The error I'm receiving is:

Cannot compute bounding box of cutline.

The individual polygons within allROIs.shp overlap but are separate records. 
Not sure if that's significant.

Any insight is appreciated.  Thanks.

-Dan

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Using-gdalwarp-to-effectively-trim-an-image-tp4621161p4621161.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From etourigny.dev at gmail.com  Thu Mar 15 09:26:12 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu Mar 15 09:26:54 2012
Subject: [gdal-dev] how should SpatialReference::EPSGTreatsAsLatLong work?
In-Reply-To: <4F61AFCA.1070405@gmail.com>
References: <4F61AFCA.1070405@gmail.com>
Message-ID: <CA+TxYvNagQ0b+GYrybENWpiUWv++VJgNqs+_UtAGWaDNgc=8Kg@mail.gmail.com>

The reference for EPSGTreatsAsLatLong  is "This method returns TRUE if
EPSG feels this geographic coordinate system should be treated as
having lat/long coordinate ordering."

However, EPSG 3035 is not a geographic coordinate system, but a
projected one (Lambert Azimuthal Equal Area).

Etienne

On Thu, Mar 15, 2012 at 6:00 AM, Jachym Cepicky
<jachym.cepicky@gmail.com> wrote:
> Hi,
>
> I'm trying to figure out, how OGRSpatialReference::EPSGTreatAsLatLong is
> supposed to be working -> I'm not able to get any proper result.
>
> I'm playing with the python interface at this place (and assume, C-api
> would work similar way).
>
> When I create OGRSpatialReference and import it from EPSG with the code
> 4326, I would say, EPSGTreatAsLatLong should return True:
>
> from osgeo import osr
> sr = osr.SpatialReference()
> sr.ImportFromEPSG(4326)
> sr.EPSGTreatAsLatLong()
> 0
>
> Same applies, when trying the same with e.g. EPSG:3035
>
> sr.ImportFromEPSG(3035)
> sr.EPSGTreatAsLatLong()
> 0
>
> Both do have (accordi ng to http://epsg-registry.org/) north,east axis
> order, so I would asssume EPSGTreatAsLatLong would return True
>
> Could anybody give me a hint, what am I doing wrong?
>
> Thanks
>
> Jachym
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From jukka.rahkonen at mmmtike.fi  Thu Mar 15 10:26:08 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Mar 15 10:27:05 2012
Subject: [gdal-dev] Gdaladdo spoils rasterlite with multible raster tables
Message-ID: <loom.20120315T151211-892@post.gmane.org>

Hi,

I made some further tests with GDAL 1.9.0, gdal_translate and 
gdaladdo and I start to be pretty sure that gdaladdo is poisoning 
the rasterlite databases which contain several raster tables. 
I can put the original sample images somewhere for download if requested.

QGis shows all the rasters OK after the initial gdal_translate phase
but not any more after running gdaladdo. By looking at the gdalinfo 
listins it is not a wonder.

Building rasterlite DB from 3 originals
=======================================
gdal_translate -of rasterlite -a_srs epsg:2393 18m.tif
rasterlite:multitest.sqlite,table=raster_1
Input file size is 4000, 4000

gdal_translate -of rasterlite -a_srs epsg:2393 18n.tif
rasterlite:multitest.sqlite,table=raster_2
Input file size is 4000, 4000

gdal_translate -of rasterlite -a_srs epsg:2393 18mb.tif
rasterlite:multitest.sqlite,table=raster_3
Input file size is 2000, 2000

Check gdalinfo; everything OK 
=============================
gdalinfo rasterlite:multitest.sqlite,table=raster_1
Driver: Rasterlite/Rasterlite
Files: multitest.sqlite
Size is 4000, 4000
Origin = (3180000.000000000000000,6640000.000000000000000)
Pixel Size = (20.000000000000000,-20.000000000000000)

gdalinfo rasterlite:multitest.sqlite,table=raster_2
Driver: Rasterlite/Rasterlite
Files: multitest.sqlite
Size is 4000, 4000
Origin = (3260000.000000000000000,6640000.000000000000000)
Pixel Size = (20.000000000000000,-20.000000000000000)

gdalinfo rasterlite:multitest.sqlite,table=raster_3
Driver: Rasterlite/Rasterlite
Files: multitest.sqlite
Size is 2000, 2000
Origin = (3180000.000000000000000,6640000.000000000000000)
Pixel Size = (40.000000000000000,-40.000000000000000)

Add overviews
=============

gdaladdo rasterlite:multitest.sqlite,table=raster_1 2 4 8
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.

gdaladdo rasterlite:multitest.sqlite,table=raster_2 2 4 8
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.

gdaladdo rasterlite:multitest.sqlite,table=raster_3 2 4 8
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.

Check gdalinfo; all but first table have wrong pixel size
=========================================================

gdalinfo rasterlite:multitest.sqlite,table=raster_1
Driver: Rasterlite/Rasterlite
Files: multitest.sqlite
Size is 4000, 4000
Origin = (3180000.000000000000000,6640000.000000000000000)
Pixel Size = (20.000000000000000,-20.000000000000000)

gdalinfo rasterlite:multitest.sqlite,table=raster_2
Driver: Rasterlite/Rasterlite
Files: multitest.sqlite
Size is 4000, 4000
Origin = (3260000.000000000000000,6640000.000000000000000)
Pixel Size = (40.000000000000000,-40.000000000000000)

gdalinfo rasterlite:multitest.sqlite,table=raster_3
Driver: Rasterlite/Rasterlite
Files: multitest.sqlite
Size is 2000, 2000
Origin = (3180000.000000000000000,6640000.000000000000000)
Pixel Size = (80.000000000000000,-80.000000000000000)

-Jukka Rahkonen-


From KShannon at gcs-research.com  Thu Mar 15 11:15:37 2012
From: KShannon at gcs-research.com (Kyle Shannon)
Date: Thu Mar 15 11:23:15 2012
Subject: [gdal-dev] how should SpatialReference::EPSGTreatsAsLatLong work?
In-Reply-To: <CA+TxYvNagQ0b+GYrybENWpiUWv++VJgNqs+_UtAGWaDNgc=8Kg@mail.gmail.com>
References: <4F61AFCA.1070405@gmail.com>
	<CA+TxYvNagQ0b+GYrybENWpiUWv++VJgNqs+_UtAGWaDNgc=8Kg@mail.gmail.com>
Message-ID: <2DD24CD6225DC04C81CF12523261F4B975AA1EDC@MAIL.gcs-research.net>

Jachym,
Like Etienne said, 3035 is projected.  I believe 4326 is not returning true because the OGC (or proj or whatever is the definitive internal format) makes no reference to an axis and according to the docs:

'''Note that coordinate systems with an EPSG code and no axis settings will be assumed to not be lat/long.'''

kyle@home$ gdalsrsinfo -o proj4 epsg:4326
'+proj=longlat +datum=WGS84 +no_defs '

and wkt:

GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","632
6"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY
["EPSG","4326"]]

My best guess anyway.

kss

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Etienne Tourigny
Sent: Thursday, March 15, 2012 7:26 AM
To: Jachym Cepicky
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] how should SpatialReference::EPSGTreatsAsLatLong work?

The reference for EPSGTreatsAsLatLong  is "This method returns TRUE if EPSG feels this geographic coordinate system should be treated as having lat/long coordinate ordering."

However, EPSG 3035 is not a geographic coordinate system, but a projected one (Lambert Azimuthal Equal Area).

Etienne

On Thu, Mar 15, 2012 at 6:00 AM, Jachym Cepicky <jachym.cepicky@gmail.com> wrote:
> Hi,
>
> I'm trying to figure out, how OGRSpatialReference::EPSGTreatAsLatLong 
> is supposed to be working -> I'm not able to get any proper result.
>
> I'm playing with the python interface at this place (and assume, C-api 
> would work similar way).
>
> When I create OGRSpatialReference and import it from EPSG with the 
> code 4326, I would say, EPSGTreatAsLatLong should return True:
>
> from osgeo import osr
> sr = osr.SpatialReference()
> sr.ImportFromEPSG(4326)
> sr.EPSGTreatAsLatLong()
> 0
>
> Same applies, when trying the same with e.g. EPSG:3035
>
> sr.ImportFromEPSG(3035)
> sr.EPSGTreatAsLatLong()
> 0
>
> Both do have (accordi ng to http://epsg-registry.org/) north,east axis 
> order, so I would asssume EPSGTreatAsLatLong would return True
>
> Could anybody give me a hint, what am I doing wrong?
>
> Thanks
>
> Jachym
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Thu Mar 15 15:36:45 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 15 15:37:04 2012
Subject: [gdal-dev] Gdaladdo spoils rasterlite with multible raster tables
In-Reply-To: <loom.20120315T151211-892@post.gmane.org>
References: <loom.20120315T151211-892@post.gmane.org>
Message-ID: <201203152036.46133.even.rouault@mines-paris.org>

Le jeudi 15 mars 2012 15:26:08, Jukka Rahkonen a ?crit :
> Hi,
> 
> I made some further tests with GDAL 1.9.0, gdal_translate and
> gdaladdo and I start to be pretty sure that gdaladdo is poisoning
> the rasterlite databases which contain several raster tables.
> I can put the original sample images somewhere for download if requested.
> 
> QGis shows all the rasters OK after the initial gdal_translate phase
> but not any more after running gdaladdo. By looking at the gdalinfo
> listins it is not a wonder.

Looks like a bug indeed.
From even.rouault at mines-paris.org  Thu Mar 15 15:42:03 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 15 15:41:52 2012
Subject: [gdal-dev] how should SpatialReference::EPSGTreatsAsLatLong work?
In-Reply-To: <4F61AFCA.1070405@gmail.com>
References: <4F61AFCA.1070405@gmail.com>
Message-ID: <201203152042.03415.even.rouault@mines-paris.org>

Le jeudi 15 mars 2012 10:00:58, Jachym Cepicky a ?crit :
> Hi,
> 
> I'm trying to figure out, how OGRSpatialReference::EPSGTreatAsLatLong is
> supposed to be working -> I'm not able to get any proper result.
> 
> I'm playing with the python interface at this place (and assume, C-api
> would work similar way).
> 
> When I create OGRSpatialReference and import it from EPSG with the code
> 4326, I would say, EPSGTreatAsLatLong should return True:
> 
> from osgeo import osr
> sr = osr.SpatialReference()
> sr.ImportFromEPSG(4326)

--> use ImportFromEPSGA() instead of ImportFromEPSG() when you are interested 
in axis ordering. See http://trac.osgeo.org/gdal/wiki/rfc20_srs_axes

> sr.EPSGTreatAsLatLong()
> 0
> 
> Same applies, when trying the same with e.g. EPSG:3035
> 
> sr.ImportFromEPSG(3035)
> sr.EPSGTreatAsLatLong()
> 0
> 
> Both do have (accordi ng to http://epsg-registry.org/) north,east axis
> order, so I would asssume EPSGTreatAsLatLong would return True

EPSGTreatAsLatLong() does not take into account projected coordinate systems. 
See http://trac.osgeo.org/gdal/ticket/4329 with a prototype patch to improve 
that

> 
> Could anybody give me a hint, what am I doing wrong?
> 
> Thanks
> 
> Jachym
From jachym.cepicky at gmail.com  Thu Mar 15 15:46:28 2012
From: jachym.cepicky at gmail.com (Jachym Cepicky)
Date: Thu Mar 15 15:47:00 2012
Subject: [gdal-dev] how should SpatialReference::EPSGTreatsAsLatLong work?
In-Reply-To: <2DD24CD6225DC04C81CF12523261F4B975AA1EDC@MAIL.gcs-research.net>
References: <4F61AFCA.1070405@gmail.com>
	<CA+TxYvNagQ0b+GYrybENWpiUWv++VJgNqs+_UtAGWaDNgc=8Kg@mail.gmail.com>
	<2DD24CD6225DC04C81CF12523261F4B975AA1EDC@MAIL.gcs-research.net>
Message-ID: <4F624714.7080408@gmail.com>

Guys,
thanks for your answers. The real problem I have, is (again) reading
data from WFS 1.1.0 server - typical axis order problem.

In gdal/ogr/ogrsf_frmts/gml/gmlutils.cpp

there is function GML_IsSRSLatLongOrder - this returns TRUE for
EPSG:4326 and result of EPSGTreatsAsLatLong for the rest.

According to what I know about the "axis order" issue. I would say, that
3035 (and others) should consider LatLong coordinates order as well.

Now for GDAL, --config GML_INVERT_AXIS_ORDER_IF_LAT_LONG YES and
--config GML_CONSIDER_EPSG_AS_URN YES does not work for EPSG:3035 (works
for EPSG:4326).

Example: ogr2ogr black_sea.shp
"WFS:http://129.194.231.202/ArcGIS/services/EnviroGrids/bsb_catchment/MapServer/WFSServer"
--config GML_INVERT_AXIS_ORDER_IF_LAT_LONG NO --config
GML_CONSIDER_EPSG_AS_URN YES

Should create file black_sea.shp in EPSG:3035, with "propper" (x,y -
east,north) coordinates order. It does not now (gdal-trunk)

Or, am I doing anything wrong?

Thanks for help

Jachym

On 15.3.2012 16:15, Kyle Shannon wrote:
> Jachym,
> Like Etienne said, 3035 is projected.  I believe 4326 is not returning true because the OGC (or proj or whatever is the definitive internal format) makes no reference to an axis and according to the docs:
> 
> '''Note that coordinate systems with an EPSG code and no axis settings will be assumed to not be lat/long.'''
> 
> kyle@home$ gdalsrsinfo -o proj4 epsg:4326
> '+proj=longlat +datum=WGS84 +no_defs '
> 
> and wkt:
> 
> GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","632
> 6"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY
> ["EPSG","4326"]]
> 
> My best guess anyway.
> 
> kss
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Etienne Tourigny
> Sent: Thursday, March 15, 2012 7:26 AM
> To: Jachym Cepicky
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] how should SpatialReference::EPSGTreatsAsLatLong work?
> 
> The reference for EPSGTreatsAsLatLong  is "This method returns TRUE if EPSG feels this geographic coordinate system should be treated as having lat/long coordinate ordering."
> 
> However, EPSG 3035 is not a geographic coordinate system, but a projected one (Lambert Azimuthal Equal Area).
> 
> Etienne
> 
> On Thu, Mar 15, 2012 at 6:00 AM, Jachym Cepicky <jachym.cepicky@gmail.com> wrote:
>> Hi,
>>
>> I'm trying to figure out, how OGRSpatialReference::EPSGTreatAsLatLong 
>> is supposed to be working -> I'm not able to get any proper result.
>>
>> I'm playing with the python interface at this place (and assume, C-api 
>> would work similar way).
>>
>> When I create OGRSpatialReference and import it from EPSG with the 
>> code 4326, I would say, EPSGTreatAsLatLong should return True:
>>
>> from osgeo import osr
>> sr = osr.SpatialReference()
>> sr.ImportFromEPSG(4326)
>> sr.EPSGTreatAsLatLong()
>> 0
>>
>> Same applies, when trying the same with e.g. EPSG:3035
>>
>> sr.ImportFromEPSG(3035)
>> sr.EPSGTreatAsLatLong()
>> 0
>>
>> Both do have (accordi ng to http://epsg-registry.org/) north,east axis 
>> order, so I would asssume EPSGTreatAsLatLong would return True
>>
>> Could anybody give me a hint, what am I doing wrong?
>>
>> Thanks
>>
>> Jachym
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120315/25c471da/signature.bin
From jachym.cepicky at gmail.com  Thu Mar 15 15:48:24 2012
From: jachym.cepicky at gmail.com (Jachym Cepicky)
Date: Thu Mar 15 15:49:03 2012
Subject: [gdal-dev] how should SpatialReference::EPSGTreatsAsLatLong work?
In-Reply-To: <201203152042.03415.even.rouault@mines-paris.org>
References: <4F61AFCA.1070405@gmail.com>
	<201203152042.03415.even.rouault@mines-paris.org>
Message-ID: <4F624788.4040306@gmail.com>



On 15.3.2012 20:42, Even Rouault wrote:
>>
>> from osgeo import osr
>> sr = osr.SpatialReference()
>> sr.ImportFromEPSG(4326)
> 
> --> use ImportFromEPSGA() instead of ImportFromEPSG() when you are interested 
> in axis ordering. See http://trac.osgeo.org/gdal/wiki/rfc20_srs_axes
> 

Oh, thanks for this hint. It does not solve my problem completely, but
it is something.


>> sr.EPSGTreatAsLatLong()
>> 0
>>
>> Same applies, when trying the same with e.g. EPSG:3035
>>
>> sr.ImportFromEPSG(3035)
>> sr.EPSGTreatAsLatLong()
>> 0
>>
>> Both do have (accordi ng to http://epsg-registry.org/) north,east axis
>> order, so I would asssume EPSGTreatAsLatLong would return True
> 
> EPSGTreatAsLatLong() does not take into account projected coordinate systems. 
> See http://trac.osgeo.org/gdal/ticket/4329 with a prototype patch to improve 
> that
> 

OK, that might be solution - will let you know.

Thanks!

Jachym

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: OpenPGP digital signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120315/8714cd7c/signature.bin
From stefano.iacovella at gmail.com  Thu Mar 15 17:50:59 2012
From: stefano.iacovella at gmail.com (Stefano Iacovella)
Date: Thu Mar 15 17:51:42 2012
Subject: [gdal-dev] compiling with FileGeodb API 1.2
Message-ID: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>

Hello all

I downloaded the 1.2 release of ESRI FileGeoDB API to upgrade my gdal
installation.
Previously I compiled gdal 1.9.0 with 1.1 release of ESRI API.
I'm working on ubuntu server 10.04 32 bit and of course I picked up
the 32 bit release of the API.
I unpacked the API tarball in /usr/local/FileGDB_API_1_2 and started
to recompile gdal as:

./configure --with-libtiff=internal --with-python --with-jpeg=internal
--with-png=internal --with-xerces
--with-fgdb=/usr/local/FileGDB_API_1_2 --with-geos --with-pg
--with-ecw=yes --with-curl=yes

It didn't complain about anything and terminate configuration step successfully.

Then I run make to start compiling but it stopped with error about
libfgdblinuxrtl.so being unavailable.

I checked inside API files and found that in 1.1 release the lib
folder contains this two files:

drwxr-xr-x 2 stefano stefano    4096 2011-07-29 21:05 ./
drwxr-xr-x 8 stefano stefano    4096 2011-08-03 20:12 ../
-rwxr-xr-x 1 stefano stefano  581396 2011-07-29 21:02 libfgdblinuxrtl.so*
-rwxr-xr-x 1 stefano stefano 8999007 2011-07-29 21:05 libFileGDBAPI.so*

at release 1.2 the same folder contains:

drwxr-xr-x 2 stefano stefano    4096 2012-03-13 22:37 ./
drwxr-xr-x 8 stefano stefano    4096 2012-02-28 00:24 ../
-rwxr-xr-x 1 stefano stefano  592995 2012-02-24 00:09 libfgdbunixrtl.so*
-rwxr-xr-x 1 stefano stefano 9961885 2012-02-24 00:12 libFileGDBAPI.so*

It seems to me that ESRI renamed a library. So I made a link to
"create" a old named library

sudo ln -s /usr/local/FileGDB_API_1_2/lib/libfgdbunixrtl.so
/usr/local/FileGDB_API_1_2/lib/libfgdblinuxrtl.so

Made it the compilation and installation was successfull.
I successfully tested ogrinfo with the sample FileGeodb at
http://trac.osgeo.org/gdal/wiki/FileGDB.

I'm not sure the library problem it is dued to somenthing wrong I did.
Is anyone experiencing something similar? Or may be something dirty
remained in the package of ESRI

Best regards

Stefano


-----------------------------------------------------
41.95581N 12.52854E


http://www.linkedin.com/in/stefanoiacovella

http://twitter.com/#!/Iacovellas
From KShannon at gcs-research.com  Thu Mar 15 18:24:22 2012
From: KShannon at gcs-research.com (Kyle Shannon)
Date: Thu Mar 15 18:27:24 2012
Subject: [gdal-dev] compiling with FileGeodb API 1.2
In-Reply-To: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>
References: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>
Message-ID: <2DD24CD6225DC04C81CF12523261F4B975AA2043@MAIL.gcs-research.net>

Stefano,
I just built from the trunk with filegdb support and had no issues.  I would make sure the 1.1 version is off your system and not anywhere configure could find it, then try again.

kss

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Stefano Iacovella
Sent: Thursday, March 15, 2012 3:51 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] compiling with FileGeodb API 1.2

Hello all

I downloaded the 1.2 release of ESRI FileGeoDB API to upgrade my gdal installation.
Previously I compiled gdal 1.9.0 with 1.1 release of ESRI API.
I'm working on ubuntu server 10.04 32 bit and of course I picked up the 32 bit release of the API.
I unpacked the API tarball in /usr/local/FileGDB_API_1_2 and started to recompile gdal as:

./configure --with-libtiff=internal --with-python --with-jpeg=internal --with-png=internal --with-xerces
--with-fgdb=/usr/local/FileGDB_API_1_2 --with-geos --with-pg --with-ecw=yes --with-curl=yes

It didn't complain about anything and terminate configuration step successfully.

Then I run make to start compiling but it stopped with error about libfgdblinuxrtl.so being unavailable.

I checked inside API files and found that in 1.1 release the lib folder contains this two files:

drwxr-xr-x 2 stefano stefano    4096 2011-07-29 21:05 ./
drwxr-xr-x 8 stefano stefano    4096 2011-08-03 20:12 ../
-rwxr-xr-x 1 stefano stefano  581396 2011-07-29 21:02 libfgdblinuxrtl.so* -rwxr-xr-x 1 stefano stefano 8999007 2011-07-29 21:05 libFileGDBAPI.so*

at release 1.2 the same folder contains:

drwxr-xr-x 2 stefano stefano    4096 2012-03-13 22:37 ./
drwxr-xr-x 8 stefano stefano    4096 2012-02-28 00:24 ../
-rwxr-xr-x 1 stefano stefano  592995 2012-02-24 00:09 libfgdbunixrtl.so* -rwxr-xr-x 1 stefano stefano 9961885 2012-02-24 00:12 libFileGDBAPI.so*

It seems to me that ESRI renamed a library. So I made a link to "create" a old named library

sudo ln -s /usr/local/FileGDB_API_1_2/lib/libfgdbunixrtl.so
/usr/local/FileGDB_API_1_2/lib/libfgdblinuxrtl.so

Made it the compilation and installation was successfull.
I successfully tested ogrinfo with the sample FileGeodb at http://trac.osgeo.org/gdal/wiki/FileGDB.

I'm not sure the library problem it is dued to somenthing wrong I did.
Is anyone experiencing something similar? Or may be something dirty remained in the package of ESRI

Best regards

Stefano


-----------------------------------------------------
41.95581N 12.52854E


http://www.linkedin.com/in/stefanoiacovella

http://twitter.com/#!/Iacovellas
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Thu Mar 15 18:39:09 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 15 18:39:28 2012
Subject: [gdal-dev] compiling with FileGeodb API 1.2
In-Reply-To: <2DD24CD6225DC04C81CF12523261F4B975AA2043@MAIL.gcs-research.net>
References: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>
	<2DD24CD6225DC04C81CF12523261F4B975AA2043@MAIL.gcs-research.net>
Message-ID: <201203152339.09344.even.rouault@mines-paris.org>

Le jeudi 15 mars 2012 23:24:22, Kyle Shannon a ?crit :
> Stefano,
> I just built from the trunk with filegdb support and had no issues.  I
> would make sure the 1.1 version is off your system and not anywhere
> configure could find it, then try again.

Kyle,

I've just experienced the same issue as Stefano's. I'm not clear why it works 
for you, but ESRI did actually renamed the unix support lib, and GDAL's 
configure needs to be updated. Sigh sigh sigh....

Stefano, would you mind opening a ticket about that ?

Even
From nad__af at hotmail.com  Thu Mar 15 18:43:28 2012
From: nad__af at hotmail.com (Nadeem Afana)
Date: Thu Mar 15 18:44:44 2012
Subject: [gdal-dev] PNG transparency
Message-ID: <BLU156-W16231A9A7C62055395946AA35E0@phx.gbl>


Hello,
When I open a PNG file in GDAL I see a black color instead of transparency. Why ???

Thanks.
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120315/bf777176/attachment-0001.html
From jmckenna at gatewaygeomatics.com  Thu Mar 15 18:39:22 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu Mar 15 18:46:22 2012
Subject: [gdal-dev] compiling with FileGeodb API 1.2
In-Reply-To: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>
References: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>
Message-ID: <4F626F9A.6000606@gatewaygeomatics.com>

Hi Stefano, I just compiled with the 1.2 API on Win64 (and I updated
that same wiki page this morning
http://trac.osgeo.org/gdal/wiki/FileGDB)...I had no problems on my side.

-jeff




-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/


From even.rouault at mines-paris.org  Thu Mar 15 18:49:04 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 15 18:49:04 2012
Subject: [gdal-dev] compiling with FileGeodb API 1.2
In-Reply-To: <4F626F9A.6000606@gatewaygeomatics.com>
References: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>
	<4F626F9A.6000606@gatewaygeomatics.com>
Message-ID: <201203152349.04903.even.rouault@mines-paris.org>

Le jeudi 15 mars 2012 23:39:22, Jeff McKenna a ?crit :
> Hi Stefano, I just compiled with the 1.2 API on Win64 (and I updated
> that same wiki page this morning
> http://trac.osgeo.org/gdal/wiki/FileGDB)...I had no problems on my side.

Yeah, I guess this is a Linux specific issue. And it is a stupid linking time 
problem, that should be easy to fix. Compilation went fine luckily

> 
> -jeff
From KShannon at gcs-research.com  Thu Mar 15 18:54:18 2012
From: KShannon at gcs-research.com (Kyle Shannon)
Date: Thu Mar 15 18:57:09 2012
Subject: [gdal-dev] compiling with FileGeodb API 1.2
In-Reply-To: <201203152339.09344.even.rouault@mines-paris.org>
References: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>
	<2DD24CD6225DC04C81CF12523261F4B975AA2043@MAIL.gcs-research.net>
	<201203152339.09344.even.rouault@mines-paris.org>
Message-ID: <2DD24CD6225DC04C81CF12523261F4B975AA2070@MAIL.gcs-research.net>

I didn't reconfigure, just dumped the new libs in place of the old and it linked.  I get the same results as you now.

kss

-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: Thursday, March 15, 2012 4:39 PM
To: gdal-dev@lists.osgeo.org
Cc: Kyle Shannon; Stefano Iacovella
Subject: Re: [gdal-dev] compiling with FileGeodb API 1.2

Le jeudi 15 mars 2012 23:24:22, Kyle Shannon a ?crit :
> Stefano,
> I just built from the trunk with filegdb support and had no issues.  I 
> would make sure the 1.1 version is off your system and not anywhere 
> configure could find it, then try again.

Kyle,

I've just experienced the same issue as Stefano's. I'm not clear why it works for you, but ESRI did actually renamed the unix support lib, and GDAL's configure needs to be updated. Sigh sigh sigh....

Stefano, would you mind opening a ticket about that ?

Even
From warmerdam at pobox.com  Thu Mar 15 19:10:44 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar 15 19:11:33 2012
Subject: [gdal-dev] PNG transparency
In-Reply-To: <BLU156-W16231A9A7C62055395946AA35E0@phx.gbl>
References: <BLU156-W16231A9A7C62055395946AA35E0@phx.gbl>
Message-ID: <CA+YzLBfBKWUw23eExnrtZtxaqVKA49EMpudfWW9wBp1snuLiTg@mail.gmail.com>

Nadeem,

First, GDAL does not provide any visualization utilities so it seems
likely you are opening the file in an application that uses GDAL.
What application is that?

Second, could you perhaps point us to your PNG file?  They come in a
variety of configurations.

If nothing else, a gdalinfo report on the file would be helpful for us
to provide useful commentary.

Best regards,

On Thu, Mar 15, 2012 at 3:43 PM, Nadeem Afana <nad__af@hotmail.com> wrote:
> Hello,
> When I open a PNG file in GDAL I see a black color instead of transparency.
> Why ???
>
> Thanks.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From christianhelring at gmail.com  Fri Mar 16 04:55:55 2012
From: christianhelring at gmail.com (Chrishelring)
Date: Fri Mar 16 04:56:07 2012
Subject: [gdal-dev] How to check version of ogr?
Message-ID: <1331888155718-4624507.post@n6.nabble.com>

Hi all,

very simple question (atleast I hope so ;). I need to check the version of
the ogr library included in my mapserver configuration, but cant seem to
find a way to do it. If I just enter ogr2ogr ind the shell no versionnumber
is presented.

Thanks

Christian

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/How-to-check-version-of-ogr-tp4624507p4624507.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jrepetto at free.fr  Fri Mar 16 05:20:49 2012
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Mar 16 05:21:23 2012
Subject: [gdal-dev] How to check version of ogr?
In-Reply-To: <1331888155718-4624507.post@n6.nabble.com>
References: <1331888155718-4624507.post@n6.nabble.com>
Message-ID: <4F6305F1.3090000@free.fr>

Le 16/03/2012 09:55, Chrishelring a ?crit :
> Hi all,
>
> very simple question (atleast I hope so ;). I need to check the version of
> the ogr library included in my mapserver configuration, but cant seem to
> find a way to do it. If I just enter ogr2ogr ind the shell no versionnumber
> is presented.

ogr2ogr --version
From peifer at gmx.eu  Fri Mar 16 07:24:53 2012
From: peifer at gmx.eu (Hermann Peifer)
Date: Fri Mar 16 07:25:56 2012
Subject: [gdal-dev] Re: How to check version of ogr?
In-Reply-To: <4F6305F1.3090000@free.fr>
References: <1331888155718-4624507.post@n6.nabble.com>
	<4F6305F1.3090000@free.fr>
Message-ID: <4F632305.2090703@gmx.eu>

On 16/03/2012 10:20, Jean-Claude Repetto wrote:
> Le 16/03/2012 09:55, Chrishelring a ?crit :
>> Hi all,
>>
>> very simple question (atleast I hope so ;). I need to check the
>> version of
>> the ogr library included in my mapserver configuration, but cant seem to
>> find a way to do it. If I just enter ogr2ogr ind the shell no
>> versionnumber
>> is presented.
>
> ogr2ogr --version

This is not always reliable information. In my case, it says:
GDAL 1.9.0, released 2011/12/29

But what I am actually using is GDAL/OGR from trunk, as of today, 
revision 24121.

Hermann

From ari.jolma at gmail.com  Fri Mar 16 07:38:57 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Fri Mar 16 07:39:38 2012
Subject: [gdal-dev] Commiting fixes to tags
In-Reply-To: <4F6210DB.2040509@d902.iki.rssi.ru>
References: <4F607A03.8020200@d902.iki.rssi.ru> <4F608242.7080800@gmail.com>
	<4F60F5C9.2020805@gmail.com> <4F6210DB.2040509@d902.iki.rssi.ru>
Message-ID: <4F632651.40003@gmail.com>

Folks,

I made a change to the Perl typemaps in r23038, causing a serious bug in 
the bindings that went unnoticed for a while and, what's most 
unfortunate, was not fixed until after 1.9.0 was released. I've since 
made a CPAN package 1.90 from the bindings where the bug is fixed 
(r23443). The question is now, as I've never commited fixes to tags, 
should this be fixed into the 1.9.0 tag or what's the right thing to do?

Cheers,

Ari

From even.rouault at mines-paris.org  Fri Mar 16 07:56:19 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar 16 07:56:31 2012
Subject: [gdal-dev] Commiting fixes to tags
In-Reply-To: <4F632651.40003@gmail.com>
References: <4F607A03.8020200@d902.iki.rssi.ru> <4F608242.7080800@gmail.com>
	<4F60F5C9.2020805@gmail.com>
	<4F6210DB.2040509@d902.iki.rssi.ru> <4F632651.40003@gmail.com>
Message-ID: <1331898979.4f632a6343e63@webmail.free.fr>

Selon Ari Jolma <ari.jolma@gmail.com>:

> Folks,
>
> I made a change to the Perl typemaps in r23038, causing a serious bug in
> the bindings that went unnoticed for a while and, what's most
> unfortunate, was not fixed until after 1.9.0 was released. I've since
> made a CPAN package 1.90 from the bindings where the bug is fixed
> (r23443). The question is now, as I've never commited fixes to tags,
> should this be fixed into the 1.9.0 tag or what's the right thing to do?

Ari,

Tags are conceptually an immutable snapshot of history. You cannot/should not
try to commit in an existing tag. But you can checkout
https://svn.osgeo.org/gdal/branches/1.9 and push your commit in it (for 1.9.1).
We require an associated ticket to track changes to stable branches.

Best regards,

Even
From ari.jolma at gmail.com  Fri Mar 16 08:22:32 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Fri Mar 16 08:23:23 2012
Subject: [gdal-dev] Commiting fixes to tags
In-Reply-To: <1331898979.4f632a6343e63@webmail.free.fr>
References: <4F607A03.8020200@d902.iki.rssi.ru> <4F608242.7080800@gmail.com>
	<4F60F5C9.2020805@gmail.com>
	<4F6210DB.2040509@d902.iki.rssi.ru> <4F632651.40003@gmail.com>
	<1331898979.4f632a6343e63@webmail.free.fr>
Message-ID: <4F633088.5080609@gmail.com>

On 03/16/2012 01:56 PM, Even Rouault wrote:
> Selon Ari Jolma<ari.jolma@gmail.com>:
>
>> Folks,
>>
>> I made a change to the Perl typemaps in r23038, causing a serious bug in
>> the bindings that went unnoticed for a while and, what's most
>> unfortunate, was not fixed until after 1.9.0 was released. I've since
>> made a CPAN package 1.90 from the bindings where the bug is fixed
>> (r23443). The question is now, as I've never commited fixes to tags,
>> should this be fixed into the 1.9.0 tag or what's the right thing to do?
> Ari,
>
> Tags are conceptually an immutable snapshot of history. You cannot/should not
> try to commit in an existing tag. But you can checkout
> https://svn.osgeo.org/gdal/branches/1.9 and push your commit in it (for 1.9.1).
> We require an associated ticket to track changes to stable branches.

Hm. Excuse my ignorance, but https://svn.osgeo.org/gdal/branches/1.9 
already seems to have r23443?

>
> Best regards,
>
> Even

From even.rouault at mines-paris.org  Fri Mar 16 08:34:33 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar 16 08:35:12 2012
Subject: [gdal-dev] Commiting fixes to tags
In-Reply-To: <4F633088.5080609@gmail.com>
References: <4F607A03.8020200@d902.iki.rssi.ru> <4F608242.7080800@gmail.com>
	<4F60F5C9.2020805@gmail.com>
	<4F6210DB.2040509@d902.iki.rssi.ru> <4F632651.40003@gmail.com>
	<1331898979.4f632a6343e63@webmail.free.fr>
	<4F633088.5080609@gmail.com>
Message-ID: <1331901273.4f6333592bbb0@imp.free.fr>

Ari

No, all branches, tags and trunks share the same counter for revision number.
Unless you actively push a fix in a branch, it won't go there automagically
(luckily !) ;-) Actually, there have been no changes in 1.9 branch since its
branching from trunk :
http://trac.osgeo.org/gdal/log/branches/1.9/gdal/swig/include/perl/ogr_perl.i
From ari.jolma at gmail.com  Fri Mar 16 08:41:45 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Fri Mar 16 08:42:41 2012
Subject: [gdal-dev] Commiting fixes to tags
In-Reply-To: <1331901273.4f6333592bbb0@imp.free.fr>
References: <4F607A03.8020200@d902.iki.rssi.ru> <4F608242.7080800@gmail.com>
	<4F60F5C9.2020805@gmail.com>
	<4F6210DB.2040509@d902.iki.rssi.ru> <4F632651.40003@gmail.com>
	<1331898979.4f632a6343e63@webmail.free.fr>
	<4F633088.5080609@gmail.com> <1331901273.4f6333592bbb0@imp.free.fr>
Message-ID: <4F633509.2030003@gmail.com>

On 03/16/2012 02:34 PM, Even Rouault wrote:
> Ari
>
> No, all branches, tags and trunks share the same counter for revision number.
> Unless you actively push a fix in a branch, it won't go there automagically
> (luckily !) ;-) Actually, there have been no changes in 1.9 branch since its
> branching from trunk :
> http://trac.osgeo.org/gdal/log/branches/1.9/gdal/swig/include/perl/ogr_perl.i

ok, I need to learn about pushing a fix, but in this case it seems that 
I was wrong about the r23443 being made *after* 1.9.0 was released. 
Luckily, 1.9.0 seems good in this respect.

Ari

From lhomme.xavier at gmail.com  Fri Mar 16 10:30:22 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Fri Mar 16 10:30:37 2012
Subject: [gdal-dev] [WFS Drvier] "Id Only" and "Geometry Only"
Message-ID: <CACqzBMybR2nOZgAfkw2cXgTjpAQfUz98ik+J=gm=XOQMi--U9Q@mail.gmail.com>

Hello
 I want to selectFeatures from a WFS DataSource.
Is it possible to return Geometry Only without the attribut ?
 And Is it possible to return only Id (without Geometry and Attribut ) ?

thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120316/136d8efe/attachment.html
From KShannon at gcs-research.com  Fri Mar 16 10:51:09 2012
From: KShannon at gcs-research.com (Kyle Shannon)
Date: Fri Mar 16 10:53:15 2012
Subject: [gdal-dev] Re: How to check version of ogr?
In-Reply-To: <4F632305.2090703@gmx.eu>
References: <1331888155718-4624507.post@n6.nabble.com>
	<4F6305F1.3090000@free.fr> <4F632305.2090703@gmx.eu>
Message-ID: <2DD24CD6225DC04C81CF12523261F4B975AA214E@MAIL.gcs-research.net>

Hermann,
I noticed this yesterday too, I don't think the version was updated in the trunk after the 1.9 branch.

kss


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Hermann Peifer
Sent: Friday, March 16, 2012 5:25 AM
To: Jean-Claude Repetto
Cc: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Re: How to check version of ogr?

On 16/03/2012 10:20, Jean-Claude Repetto wrote:
> Le 16/03/2012 09:55, Chrishelring a ?crit :
>> Hi all,
>>
>> very simple question (atleast I hope so ;). I need to check the 
>> version of the ogr library included in my mapserver configuration, 
>> but cant seem to find a way to do it. If I just enter ogr2ogr ind the 
>> shell no versionnumber is presented.
>
> ogr2ogr --version

This is not always reliable information. In my case, it says:
GDAL 1.9.0, released 2011/12/29

But what I am actually using is GDAL/OGR from trunk, as of today, revision 24121.

Hermann

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Fri Mar 16 10:55:03 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar 16 10:55:50 2012
Subject: [gdal-dev] Re: How to check version of ogr?
In-Reply-To: <2DD24CD6225DC04C81CF12523261F4B975AA214E@MAIL.gcs-research.net>
References: <1331888155718-4624507.post@n6.nabble.com>
	<4F6305F1.3090000@free.fr> <4F632305.2090703@gmx.eu>
	<2DD24CD6225DC04C81CF12523261F4B975AA214E@MAIL.gcs-research.net>
Message-ID: <1331909703.4f63544748119@imp.free.fr>

Selon Kyle Shannon <KShannon@gcs-research.com>:

> Hermann,
> I noticed this yesterday too, I don't think the version was updated in the
> trunk after the 1.9 branch.

No, it hasn't been updated. This is a non trivial issue : should it be called
2.0dev or 1.10dev ? ;-)

Even
From jukka.rahkonen at mmmtike.fi  Fri Mar 16 11:22:16 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Mar 16 11:23:00 2012
Subject: [gdal-dev] Re: [WFS Drvier] "Id Only" and "Geometry Only"
References: <CACqzBMybR2nOZgAfkw2cXgTjpAQfUz98ik+J=gm=XOQMi--U9Q@mail.gmail.com>
Message-ID: <loom.20120316T160444-715@post.gmane.org>

xavier lhomme <lhomme.xavier <at> gmail.com> writes:

> 
> Hello? ?I want to selectFeatures from a WFS DataSource. Is it possible to
return Geometry Only without the attribut ? ?And Is it possible to return only
Id (without Geometry and Attribut ) ?thanks 

Hi,

It does not seem to be quite possible.
This one brings gml_id and geometry even geometry is not included in the
selection. I would not complain about it, geometry with ID is worth more than
geometry without ID.

ogrinfo  wfs:http://188.64.1.61/cgi-bin/tinyows -sql "select gml_id from
municipalities"

Selecting just geometry with ogr does not bring anything

ogrinfo  wfs:http://188.64.1.61/cgi-bin/tinyows -sql "select the_geom from
municipalities"

Selecting just geometry is rather simple with standard WFS but the result
contains also the fid and it is the same output than with ogr when just gml_id
is selected.

http://188.64.1.61/cgi-bin/tinyows?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&TYPENAME=municipalities&propertyname=the_geom

I don't believe it is possible to get just feature IDs with WFS request. In
another direction, getting a feature by ID it goes well

http://188.64.1.61/cgi-bin/tinyows?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&TYPENAME=municipalities&featureid=municipalities.4

However, you will get the featureIDs from WFS without geometries if even one
normal attribute is selected, here the name of the municipalities.

http://188.64.1.61/cgi-bin/tinyows?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&TYPENAME=municipalities&propertyname=kunta_ni1&maxfeatures=5

-Jukka Rahkonen-

From pcorti at gmail.com  Fri Mar 16 11:22:44 2012
From: pcorti at gmail.com (Paolo Corti)
Date: Fri Mar 16 11:23:58 2012
Subject: [gdal-dev] [WFS Drvier] "Id Only" and "Geometry Only"
In-Reply-To: <CACqzBMybR2nOZgAfkw2cXgTjpAQfUz98ik+J=gm=XOQMi--U9Q@mail.gmail.com>
References: <CACqzBMybR2nOZgAfkw2cXgTjpAQfUz98ik+J=gm=XOQMi--U9Q@mail.gmail.com>
Message-ID: <CAHXrU-+CucqdV9L9gURN79QaZrnMvLUGMo1zW4fwwoP6yvdkCg@mail.gmail.com>

On Fri, Mar 16, 2012 at 3:30 PM, xavier lhomme <lhomme.xavier@gmail.com> wrote:
> Hello
> ?I want to selectFeatures from a WFS DataSource.
> Is it possible to return Geometry Only without the attribut ?
> ?And Is it possible to return only Id (without Geometry and Attribut ) ?
>

If using ogrinfo, you can set the -geom and -fields parameters, as well
documented here [1], for example this will retrieve geometries, but
not other fields:

ogrinfo -ro WFS:"http://myserver/ows" mylayer -geom=YES -fields=NO

Or, append the PROPERTYNAME GetFeatureInfo's parameter in query
string, for example:

ogrinfo -ro WFS:"http://myserver/ows?PROPERTYNAME=field1,field2" mylayer

Programmatically, I do not see a way with the API to set this field
filters (but I may be wrong), but you could still define a virtual
layer, choosing the needed fields you want to select, and then
access the layer using the VRT driver.
For example:

<OGRVRTDataSource>
    <OGRVRTLayer name="mylayer">
        <SrcDataSource>WFS:http://myserver/ows</SrcDataSource>
        <SrcLayer>mylayer</SrcLayer>
        <Field name="field1" src="field1" />
        <Field name="field1" src="field1" />
    </OGRVRTLayer>
</OGRVRTDataSource>

best regards
P

[1] http://www.gdal.org/ogrinfo.html

-- 
Paolo Corti
Geospatial software developer
web: http://www.paolocorti.net
twitter: @capooti
skype: capooti
From lhomme.xavier at gmail.com  Fri Mar 16 11:31:44 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Fri Mar 16 11:32:00 2012
Subject: [gdal-dev] [WFS Drvier] "Id Only" and "Geometry Only"
In-Reply-To: <CAHXrU-+CucqdV9L9gURN79QaZrnMvLUGMo1zW4fwwoP6yvdkCg@mail.gmail.com>
References: <CACqzBMybR2nOZgAfkw2cXgTjpAQfUz98ik+J=gm=XOQMi--U9Q@mail.gmail.com>
	<CAHXrU-+CucqdV9L9gURN79QaZrnMvLUGMo1zW4fwwoP6yvdkCg@mail.gmail.com>
Message-ID: <CACqzBMzYp8POZxpw-zkVw8sYY6fNZ5iZAkwiBQCzCZmb9anu8g@mail.gmail.com>

My first idea was adding traverseXlinkDepth=1 but I think it s not
supported by my ArcS Server
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120316/b7763a99/attachment.html
From pcorti at gmail.com  Fri Mar 16 11:46:36 2012
From: pcorti at gmail.com (Paolo Corti)
Date: Fri Mar 16 11:47:30 2012
Subject: [gdal-dev] Re: [WFS Drvier] "Id Only" and "Geometry Only"
In-Reply-To: <loom.20120316T160444-715@post.gmane.org>
References: <CACqzBMybR2nOZgAfkw2cXgTjpAQfUz98ik+J=gm=XOQMi--U9Q@mail.gmail.com>
	<loom.20120316T160444-715@post.gmane.org>
Message-ID: <CAHXrU-K+MwyBDCqdcpeNv6of53EMhoYAKmd+N1=ztjNw7YHErA@mail.gmail.com>

On Fri, Mar 16, 2012 at 4:22 PM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi> wrote:
>
> It does not seem to be quite possible.
> This one brings gml_id and geometry even geometry is not included in the
> selection. I would not complain about it, geometry with ID is worth more than
> geometry without ID.
>
> ogrinfo ?wfs:http://188.64.1.61/cgi-bin/tinyows -sql "select gml_id from
> municipalities"

Hi Jukka,

just realized that you are definitely right.
Using the -geom and -fields parameters in ogrinfo, or selecting fields
via virtual driver, will let the OGR model abstraction work (and hide
the fields in the OGR features), but full request are still performed
to the WFS server.

For example, with the previous virtual driver, the GetFieldCount
method in the feature definition gives the number of only the selected
fields (2: field1 and field2), but the GetFeatureInfo request
performed to the WFS server still returns the whole field value set.

P

-- 
Paolo Corti
Geospatial software developer
web: http://www.paolocorti.net
twitter: @capooti
skype: capooti
From martinho at utad.pt  Fri Mar 16 12:52:36 2012
From: martinho at utad.pt (=?iso-8859-1?Q?Jos=E9_Manuel_Martinho_Louren=E7o?=)
Date: Fri Mar 16 13:07:51 2012
Subject: [gdal-dev] gdal_rasterize 
Message-ID: <6435EBC3DBB6D749986825A5FDBBFE03050E604978CB@EXCHUTAD.intra.utad.pt>

Does anyone ever tried to use QGIS (gdal_rasterize command) to export a polygon map to a raster that could be loaded (with no errors about classes) in Fragstats?

Regards

---------------------------
Jos? Martinho Louren?o

From stefano.iacovella at gmail.com  Fri Mar 16 17:46:53 2012
From: stefano.iacovella at gmail.com (Stefano Iacovella)
Date: Fri Mar 16 17:48:09 2012
Subject: [gdal-dev] compiling with FileGeodb API 1.2
In-Reply-To: <201203152339.09344.even.rouault@mines-paris.org>
References: <CAG9OqYoNLOh8ap6ti5hM1+MeaXuaE8-4cB+9m=PaaZchG7Pi8g@mail.gmail.com>
	<2DD24CD6225DC04C81CF12523261F4B975AA2043@MAIL.gcs-research.net>
	<201203152339.09344.even.rouault@mines-paris.org>
Message-ID: <CAG9OqYrMVrDsX5VY_xQu=LoBZtZ0xixv0iQo33ThiVSj+ZRYKQ@mail.gmail.com>

I opened a ticket for the issue:

http://trac.osgeo.org/gdal/ticket/4570

Best regards

Stefano


2012/3/15 Even Rouault <even.rouault@mines-paris.org>:
> Le jeudi 15 mars 2012 23:24:22, Kyle Shannon a ?crit :
>> Stefano,
>> I just built from the trunk with filegdb support and had no issues. ?I
>> would make sure the 1.1 version is off your system and not anywhere
>> configure could find it, then try again.
>
> Kyle,
>
> I've just experienced the same issue as Stefano's. I'm not clear why it works
> for you, but ESRI did actually renamed the unix support lib, and GDAL's
> configure needs to be updated. Sigh sigh sigh....
>
> Stefano, would you mind opening a ticket about that ?
>
> Even
From ari.jolma at gmail.com  Sat Mar 17 03:41:20 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Sat Mar 17 03:42:17 2012
Subject: [gdal-dev] Performance problems
Message-ID: <4F644020.6020009@gmail.com>

Folks,

This is a broader question, but maybe somebody can help. I've set up a 
simple WFS based on GDAL with Perl bindings. The service loads a dataset 
from PostGIS copies it into a GML dataset in memory and serves it from 
there. Nice clean solution and works well. Then I tried to use it in a 
student exercise. The server (RHEL5, Apache 2.2.3) I use for this 
purpose is not very resourceful and WFS set up this way easily uses a 
lot of memory. Thus, when 10 students all made requests at the same 
time, all memory was used (apache logs have "Out of memory!" - I'm not 
sure where this comes from) and the service did not work (QGIS reacted 
by turning gray ad had to be killed).

Is there a way to refuse starting a service if there are not enough 
resources? This would lead to a much nicer response than gray QGIS.

Ari

From mark at overmeer.net  Sat Mar 17 04:48:45 2012
From: mark at overmeer.net (Mark Overmeer)
Date: Sat Mar 17 04:50:13 2012
Subject: [gdal-dev] Performance problems
In-Reply-To: <4F644020.6020009@gmail.com>
References: <4F644020.6020009@gmail.com>
Message-ID: <20120317084845.GA25993@moon.overmeer.net>

* Ari Jolma (ari.jolma@gmail.com) [120317 07:41]:
> This is a broader question, but maybe somebody can help.
>                                   ... Thus, when 10 students all
> made requests at the same time, all memory was used (apache logs
> have "Out of memory!" - I'm not sure where this comes from) and the
> service did not work (QGIS reacted by turning gray ad had to be
> killed).

This is a disadvantage of the "take what you want" approach of
UNIX.  When everyone starts grabbing, the IO-system gets soaked,
extreme performance degradation, and the a certain death.

> Is there a way to refuse starting a service if there are not enough
> resources? This would lead to a much nicer response than gray QGIS.

Did you try to simple reduce the number of childs for apache?  Bring it
down to two or three.

Out-of-memory can also be "out of virtual memory".  It may help to add
more swap-space (file or partition)  Problems will stay alive longer,
but it depends on the way the data is accessed whether the programs
have any run-time left or spend all their time waiting for disk.  At
least, you can monitor that... Out-of-memory errors are quite blunt.

(The students have no laptops themselves?)
-- 
CU,
               MarkOv
From even.rouault at mines-paris.org  Sat Mar 17 07:58:08 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Mar 17 07:58:22 2012
Subject: [gdal-dev] Performance problems
In-Reply-To: <4F644020.6020009@gmail.com>
References: <4F644020.6020009@gmail.com>
Message-ID: <201203171258.08432.even.rouault@mines-paris.org>

Le samedi 17 mars 2012 08:41:20, Ari Jolma a ?crit :
> Folks,
> 
> This is a broader question, but maybe somebody can help. I've set up a
> simple WFS based on GDAL with Perl bindings. The service loads a dataset
> from PostGIS copies it into a GML dataset in memory and serves it from
> there.

Instead of storing a GML dataset in memory, it might help to pipe it directly 
to standard output (using /vsistdout/ filename). That should consume very few 
memory.

> Nice clean solution and works well. Then I tried to use it in a
> student exercise. The server (RHEL5, Apache 2.2.3) I use for this
> purpose is not very resourceful and WFS set up this way easily uses a
> lot of memory. Thus, when 10 students all made requests at the same
> time, all memory was used (apache logs have "Out of memory!" - I'm not
> sure where this comes from) and the service did not work (QGIS reacted
> by turning gray ad had to be killed).
> 
> Is there a way to refuse starting a service if there are not enough
> resources? This would lead to a much nicer response than gray QGIS.
> 
> Ari
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From drshinnick at hotmail.com  Sat Mar 17 11:37:00 2012
From: drshinnick at hotmail.com (drshinnick)
Date: Sat Mar 17 11:37:08 2012
Subject: [gdal-dev] Re: Using gdalwarp to effectively trim an image
In-Reply-To: <1331815230360-4621161.post@n6.nabble.com>
References: <1331815230360-4621161.post@n6.nabble.com>
Message-ID: <1331998620424-4628208.post@n6.nabble.com>

The problem seems to have been related to the presence of a .prj file with
the .shp file.

using the command

gdalwarp -cutline .\shp -cl allROIs -cwhere "Item = 1642" .\1642\1642.bmp
.\1642.tif

seems to fail to compute cutline bounding box when there is a .prj file
present for the .shp and the target image has no georeference embeded as
with a geotiff.  Here in this case I was trying to trim a .bmp so that was
that I think was the reason.

However remove the .prj from the .\shp directory and it works! 
Alternatively, I can specify the -s_srs and -t_srs as the same and this also
works although it does throw a warning that the input vector layer has an
srs while the raster does not.  As long as the two are in the same
projection.  No problem I think.


-Dan



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Using-gdalwarp-to-effectively-trim-an-image-tp4621161p4628208.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ari.jolma at gmail.com  Sat Mar 17 13:04:55 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Sat Mar 17 13:05:05 2012
Subject: [gdal-dev] Performance problems
In-Reply-To: <201203171258.08432.even.rouault@mines-paris.org>
References: <4F644020.6020009@gmail.com>
	<201203171258.08432.even.rouault@mines-paris.org>
Message-ID: <4F64C437.6010604@gmail.com>

On 03/17/2012 01:58 PM, Even Rouault wrote:
> Le samedi 17 mars 2012 08:41:20, Ari Jolma a ?crit :
>> Folks,
>>
>> This is a broader question, but maybe somebody can help. I've set up a
>> simple WFS based on GDAL with Perl bindings. The service loads a dataset
>> from PostGIS copies it into a GML dataset in memory and serves it from
>> there.
> Instead of storing a GML dataset in memory, it might help to pipe it directly
> to standard output (using /vsistdout/ filename). That should consume very few
> memory.
>
A good idea. The only issue I can think of is that it might be a good 
idea to tell the client the size of the GML dataset and that's not known 
beforehand. I'll make some tests with that.

I guess I could also try to catch out-of-memory errors happening in GDAL 
by wrapping them with Perl eval and then bailing out more gracefully.

Cheers,

Ari

From aperi2007 at gmail.com  Sat Mar 17 16:15:30 2012
From: aperi2007 at gmail.com (Andrea Peri)
Date: Sat Mar 17 16:15:48 2012
Subject: [gdal-dev] gdal_translate: invalid tile byte error
Message-ID: <CABqTJk8k6AV172LTfpu+bS01MGLF-_aOaBw0BJPkMSNghxOR5g@mail.gmail.com>

Hi,
I'm try-ing to create a set of tiff tiled with internal overviews from some
geotiffs, using this call:

gdal_translate -ot Byte -of GTiff -co TILED=YES -co TFW=YES -co
COPY_SRC_OVERVIEWS=YES -co TIFF_USE_OVR=TRUE -co PROFILE=BASELINE -co
TFW=YES input.tif output.tif

meanwhile it run , it report many errors like these:

ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2323
ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2324
ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2325
ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2326
ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2327
...

I don't know what this mean and what can I do to avoid this error.

Is gdal_translate the right tool to create a tiff-tile ?

thx,

-- 
-----------------
Andrea Peri
. . . . . . . . .
qwerty ?????
-----------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120317/d56a0133/attachment.html
From warmerdam at pobox.com  Sat Mar 17 18:24:54 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Mar 17 18:25:42 2012
Subject: [gdal-dev] gdal_translate: invalid tile byte error
In-Reply-To: <CABqTJk8k6AV172LTfpu+bS01MGLF-_aOaBw0BJPkMSNghxOR5g@mail.gmail.com>
References: <CABqTJk8k6AV172LTfpu+bS01MGLF-_aOaBw0BJPkMSNghxOR5g@mail.gmail.com>
Message-ID: <4F650F36.80802@pobox.com>

On 12-03-17 01:15 PM, Andrea Peri wrote:
> Hi,
> I'm try-ing to create a set of tiff tiled with internal overviews from some
> geotiffs, using this call:
>
> gdal_translate -ot Byte -of GTiff -co TILED=YES -co TFW=YES -co
> COPY_SRC_OVERVIEWS=YES -co TIFF_USE_OVR=TRUE -co PROFILE=BASELINE -co TFW=YES
> input.tif output.tif
>
> meanwhile it run , it report many errors like these:
>
> ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2323
> ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2324
> ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2325
> ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2326
> ERROR 1: 248040_2010.tif:0: Invalid tile byte count, tile 2327
> ...
>
> I don't know what this mean and what can I do to avoid this error.
>
> Is gdal_translate the right tool to create a tiff-tile ?

Andrea,

Sometimes the libtiff, the TIFF library used by GDAL does not work properly
when creating files with compressed overview tiles if you are not using a
very recent version of libtiff.  Is it possible you are using a GDAL built
with libtiff 3.9.x instead of the internal libtiff or libtiff 4.0.x?

Would it meet your needs to copy the base image (without the -co
COPY_SRC_OVERVIEWS flag) and then regenerate the overviews with gdaladdo?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer

From aperi2007 at gmail.com  Sat Mar 17 19:54:52 2012
From: aperi2007 at gmail.com (Andrea Peri)
Date: Sat Mar 17 19:55:40 2012
Subject: [gdal-dev] gdal_translate: invalid tile byte error
Message-ID: <CABqTJk_wnRieCKXd8WyeoxppvUd+YG4jfJ6Ri06+uz56EzRiwA@mail.gmail.com>

>Andrea,
>
>Sometimes the libtiff, the TIFF library used by GDAL does not work properly
>when creating files with compressed overview tiles if you are not using a
>very recent version of libtiff.  Is it possible you are using a GDAL built
>with libtiff 3.9.x instead of the internal libtiff or libtiff 4.0.x?
>
>Would it meet your needs to copy the base image (without the -co
>COPY_SRC_OVERVIEWS flag) and then regenerate the overviews with gdaladdo?

Hi, Frank,
thx for response.

Effectively I use the libtiff 3.9.
Now I update to libtiff 4.0.1.
Recompile gdal and retry.
Update also the call following your suggestions.

and using the gdaladdo to produce the overviews.

My new batch is a set of calls like this two:

gdal_translate -ot Byte -of GTiff -b 1 -b 2 -b 3 -a_nodata none -stats -co
INTERLEAVE=BAND -co PROFILE=GDALGeoTIFF -co TILED=YES -co TFW=NO input.tif
output.tif
gdaladdo -r nearest output.tif 2 4 8 16 32 64 128

But again I'm having the same error in tiles creations.


-- 
-----------------
Andrea Peri
. . . . . . . . .
qwerty ?????
-----------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120318/1e5c1baf/attachment.html
From noura.salem.shamsi at gmail.com  Sun Mar 18 02:22:43 2012
From: noura.salem.shamsi at gmail.com (len0001)
Date: Sun Mar 18 02:23:02 2012
Subject: [gdal-dev] requesting tiles without using xml file (c++)
Message-ID: <1332051763707-4629553.post@n6.nabble.com>

i have been able to request a specific tile with my xml through gdal lib;

but is there is another way of requesting the tiles from a web server
without using xml ?

i wanna do it directly through my c++ code;

i will appreciate any directions or examples;

thanks in advance;

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/requesting-tiles-without-using-xml-file-c-tp4629553p4629553.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From aperi2007 at gmail.com  Sun Mar 18 09:29:50 2012
From: aperi2007 at gmail.com (Andrea Peri)
Date: Sun Mar 18 09:30:07 2012
Subject: [gdal-dev] gdal_translate: invalid tile byte error
Message-ID: <CABqTJk8LQJQB66t9B-me69wxSXUcU1DTjzwFuF-Jdn7Oj2shMw@mail.gmail.com>

>Effectively I use the libtiff 3.9.
>Now I update to libtiff 4.0.1.
>Recompile gdal and retry.
>Update also the call following your suggestions.
>
>and using the gdaladdo to produce the overviews.
>
>My new batch is a set of calls like this two:
>
>gdal_translate -ot Byte -of GTiff -b 1 -b 2 -b 3 -a_nodata none -stats -co
>INTERLEAVE=BAND -co PROFILE=GDALGeoTIFF -co TILED=YES -co TFW=NO input.tif
>output.tif
>gdaladdo -r nearest output.tif 2 4 8 16 32 64 128
>
>But again I'm having the same error in tiles creations.


Hi Frank,

I resolved it, using, in the gdal configuration, the Internal LibTiff ,

Infact, using the internal libtiff available in the gdal source the error I
reported was disappeared.

I'm surprise that using the external LibTiff 4.0.1 in gdal compile there
was this error.
However the good news is that with the internal version of libtiff all work
really well.

Thx again,

Andrea .

-- 
-----------------
Andrea Peri
. . . . . . . . .
qwerty ?????
-----------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120318/b319fd89/attachment.html
From lists at hilboll.de  Sun Mar 18 12:48:45 2012
From: lists at hilboll.de (Andreas H.)
Date: Sun Mar 18 12:56:20 2012
Subject: [gdal-dev] How to overlay a raster with shapes to calc statistics?
Message-ID: <4F6611ED.80401@hilboll.de>

Hi all,

I have a GeoTiff file covering the whole globe at approx. 1km
resolution. And I have a shapefile containing say 20 of polygons.

For each of the 20 polygons, I want to know the mean value of the raster
data falling inside the polygon, and possibly more statistics (max, min,
medeian, std, ...).

How can I achieve this using GDAL?

Thanks for your insight,
Andreas.
From szekerest at gmail.com  Sun Mar 18 17:38:21 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Mar 18 17:38:46 2012
Subject: [gdal-dev] Re: Mapinfo driver does not recognise certain datums
	properly
In-Reply-To: <CACALY+Q=k_0vxdkAVgqDjHGj1-wq-JaPfzTK3Ag0hmvX4T7iNw@mail.gmail.com>
References: <CACALY+Q=k_0vxdkAVgqDjHGj1-wq-JaPfzTK3Ag0hmvX4T7iNw@mail.gmail.com>
Message-ID: <CACALY+Q1feuWaOTW6ixmDvdk8FVF5OR8gHh-fg66Qo_vpdbtmw@mail.gmail.com>

Hi Devs,

Got no answer, so I call up this thread for discussion again.

In fact the approach of identifying datums by the mapinfo driver (by using
the WKT name) is quite fragile causing problems for me and for others in
the past as well, for example with the issues described in:
http://trac.osgeo.org/gdal/ticket/481
http://trac.osgeo.org/gdal/ticket/3187

In 3187 the problem was attempted to be solved by extending the lookup
table by using multiple entries for the same datum having different names.
However this approach is quite insufficient since there's no official list
of the valid WKT datum names (which may also be vendor specific) and the
datum names are also altered by gdal ie. by replacing spaces with
underscores.

The patch<http://trac.osgeo.org/gdal/attachment/ticket/481/gdal-mitab-datum-2.patch>attached
to
#481 <http://trac.osgeo.org/gdal/ticket/481> looks more compelling to me as
it seems more trivial to identify the datums by EPSG code (where exists)
and not only by the datum name.

Any objections to apply such change in gdal (mitab) at last?

Best regards,

Tamas




2012/3/15 Tamas Szekeres <szekerest@gmail.com>

> Hi Devs,
>
> I have run into a problem when assigning a spatial reference to a mapinfo
> file using ogr2ogr when using -a_srs "EPSG:28350".
> The mapinfo driver doesn't seem to recognise the datum
> (Geocentric_Datum_of_Australia_1994) and assigns WGS84 to the output file
> which is a fairly inconvenient approach.
>
> This problem is due to the incorrect entries in asDatumInfoList
> (mitab_spatialref.cpp) since the entry for
> Geocentric_Datum_of_Australia_1994 is missing, though it contains an entry
> for the projection name GDA94 (and not for the datum name).
>
> As far as I know the WKT datum names are vendor specific, therefore it's
> not quite sufficient to use as a lookop key for the datum entries. But if
> we use this approach even so, why don't we include the datum names from
> gcs.csv for being compatible with the projections constructed by GDAL
> itself?
>
> Would that be reasonable to add multiple entries in asDatumInfoList or
> placing this information in an external file?
>
> Best regards,
>
> Tamas
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120318/aef85332/attachment.html
From gatkins at micromine.com  Sun Mar 18 22:23:58 2012
From: gatkins at micromine.com (Glen Atkins)
Date: Sun Mar 18 22:27:24 2012
Subject: [gdal-dev] Seg-Y : CDP-X/Y and Group-X/Y
Message-ID: <125F609FE1635548AF411AFA01558DFA3EEF50BCEC@per-srv-em1>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: mm_corp_emailsig_perth.gif
Type: image/gif
Size: 17375 bytes
Desc: mm_corp_emailsig_perth.gif
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120319/e83e20fd/mm_corp_emailsig_perth-0001.gif
From warmerdam at pobox.com  Mon Mar 19 01:35:23 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 19 01:35:58 2012
Subject: [gdal-dev] Re: gdal_translate: invalid tile byte error
In-Reply-To: <CABqTJk8LQJQB66t9B-me69wxSXUcU1DTjzwFuF-Jdn7Oj2shMw@mail.gmail.com>
References: <CABqTJk8LQJQB66t9B-me69wxSXUcU1DTjzwFuF-Jdn7Oj2shMw@mail.gmail.com>
Message-ID: <4F66C59B.6050403@pobox.com>

On 12-03-18 06:29 AM, Andrea Peri wrote:
>>Effectively I use the libtiff 3.9.
>>Now I update to libtiff 4.0.1.
>>Recompile gdal and retry.
>>Update also the call following your suggestions.
>>
>>and using the gdaladdo to produce the overviews.
>>
>>My new batch is a set of calls like this two:
>>
>>gdal_translate -ot Byte -of GTiff -b 1 -b 2 -b 3 -a_nodata none -stats -co
>>INTERLEAVE=BAND -co PROFILE=GDALGeoTIFF -co TILED=YES -co TFW=NO input.tif
>>output.tif
>>gdaladdo -r nearest output.tif 2 4 8 16 32 64 128
>>
>>But again I'm having the same error in tiles creations.
>
>
> Hi Frank,
>
> I resolved it, using, in the gdal configuration, the Internal LibTiff ,
>
> Infact, using the internal libtiff available in the gdal source the error I
> reported was disappeared.
>
> I'm surprise that using the external LibTiff 4.0.1 in gdal compile there was
> this error.
> However the good news is that with the internal version of libtiff all work
> really well.

Andrea,

Hmm, that is odd.  The internal versiona dn 4.0.1 should be essentially
the same.  I *suspect* this is a problem with you not actually using
the version of libtiff you think you were using, but if you can file a
detailed ticket (with data) on the issue someone could try to reproduce
it with libtiff 4.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer

From warmerdam at pobox.com  Mon Mar 19 01:37:18 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 19 01:37:56 2012
Subject: [gdal-dev] requesting tiles without using xml file (c++)
In-Reply-To: <1332051763707-4629553.post@n6.nabble.com>
References: <1332051763707-4629553.post@n6.nabble.com>
Message-ID: <4F66C60E.2090803@pobox.com>

On 12-03-17 11:22 PM, len0001 wrote:
> i have been able to request a specific tile with my xml through gdal lib;
>
> but is there is another way of requesting the tiles from a web server
> without using xml ?
>
> i wanna do it directly through my c++ code;
>
> i will appreciate any directions or examples;

hi,

I think you need to provide more information on how you did this through
XML and what the format of the tile is.  If you have built with GDAL you
should be able to just use the http: url as the filename without any
XML file.  Perhaps you wrapped this in a VRT to add georeferencing?

As you can see, I'm left guessing from your lack of information.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer

From hi181904665 at msn.com  Mon Mar 19 01:49:51 2012
From: hi181904665 at msn.com (chenliang wang)
Date: Mon Mar 19 01:51:13 2012
Subject: [gdal-dev] how to hide warning information?
Message-ID: <BLU0-SMTP27232CE80E8B18A173D5944F4420@phx.gbl>

hello:
Is there any option to hide warning when I load some raster by means of
gdal functions? Thanks!

chen liang wang
From zoltans at geograph.co.za  Mon Mar 19 01:54:25 2012
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Mon Mar 19 01:55:27 2012
Subject: [gdal-dev] how to hide warning information?
In-Reply-To: <BLU0-SMTP27232CE80E8B18A173D5944F4420@phx.gbl>
References: <BLU0-SMTP27232CE80E8B18A173D5944F4420@phx.gbl>
Message-ID: <4F66CA11.1040102@geograph.co.za>

On 2012/03/19 07:49, chenliang wang wrote:
> hello:
> Is there any option to hide warning when I load some raster by means of
> gdal functions? Thanks!
>
> chen liang wang
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
gdal-waddawadda > /dev/null 2> /dev/null


> /dev/null sends sysout to dev null and
2> does the same for syserr

otherwise check the gdal manual to see if there is a -quiet (or something)

HTH,
Zoltan

-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.  

34 6'16.35"S 1828'5.62"E 

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323     www.geograph.co.za
===========================================

From packalen at cs.joensuu.fi  Mon Mar 19 01:44:03 2012
From: packalen at cs.joensuu.fi (Petteri Packalen)
Date: Mon Mar 19 01:57:42 2012
Subject: [gdal-dev] How to overlay a raster with shapes to calc statistics?
In-Reply-To: <4F6611ED.80401@hilboll.de>
References: <4F6611ED.80401@hilboll.de>
Message-ID: <Pine.GSO.4.64.1203190741440.21190@cs.joensuu.fi>

Andreas,

Look at:

   http://starspan.projects.atlas.ca.gov

Starspan is a command line tool that uses GDAL/OGR lib. This functionality 
is also available in many GIS packages with the name 'zonal statistics'.

--
Best regards,
Petteri Packalen

**********************************************************************
Petteri Packal?n
Visiting Research Scientist
Department of Forest Engineering, Resources and Management
College of Forestry, Oregon State University
204 Peavy Hall, Corvallis, OR 97331-5704, USA
Office: Peavy 111
E-mail: Petteri.Packalen@uef.fi
**********************************************************************


On Sun, 18 Mar 2012, Andreas H. wrote:

> Hi all,
>
> I have a GeoTiff file covering the whole globe at approx. 1km
> resolution. And I have a shapefile containing say 20 of polygons.
>
> For each of the 20 polygons, I want to know the mean value of the raster
> data falling inside the polygon, and possibly more statistics (max, min,
> medeian, std, ...).
>
> How can I achieve this using GDAL?
>
> Thanks for your insight,
> Andreas.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Mon Mar 19 02:05:12 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 19 02:05:46 2012
Subject: [gdal-dev] how to hide warning information?
In-Reply-To: <BLU0-SMTP27232CE80E8B18A173D5944F4420@phx.gbl>
References: <BLU0-SMTP27232CE80E8B18A173D5944F4420@phx.gbl>
Message-ID: <4F66CC98.5060107@pobox.com>

On 12-03-18 10:49 PM, chenliang wang wrote:
> hello:
> Is there any option to hide warning when I load some raster by means of
> gdal functions? Thanks!

Chen,

When using the GDAL C/C++ API you can call:

  CPLPushErrorHandler( CPLQuietErrorHandler );

You may find it helpful to read:

  http://www.gdal.org/cpl__error_8h.html#ad13c9c8f2037ddfd566c2a197f7b2537

I see that CPLQuietErrorHandler is not currently documented.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer

From ari.jolma at gmail.com  Mon Mar 19 04:30:37 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Mon Mar 19 04:30:53 2012
Subject: [gdal-dev] Re: [Qgis-user] Re: QGIS + Inkscape
In-Reply-To: <CAB4g1=xkAsp9NMocp6R32zwuRzs+FW3PyKub4EpG5_1nE_gGLw@mail.gmail.com>
References: <6e6a0066e901c4a5880609af3633b7b9@mail.webfaction.com>
	<loom.20120319T082223-556@post.gmane.org>
	<CAB4g1=xkAsp9NMocp6R32zwuRzs+FW3PyKub4EpG5_1nE_gGLw@mail.gmail.com>
Message-ID: <4F66EEAD.9010100@gmail.com>

On 03/19/2012 10:04 AM, G. Allegri wrote:
> I agree with Jukka.
> Working to a lower level of binding (through GDAL/OGR) would let other 
> foss software leavarage the improvements.
> I don't know Inkscape very much, but I've tried to import the latter 
> example from Jukka (the multilayer PDF) and it keeps the layers correctly.
> Working on the GDAL level is probably harder then doing the work on 
> the Python level directly between Qgis and Inkscape, but I feel it 
> would be far most used and useful to improve the GDAL PDF support...

I agree too, but would like to see SVG better supported in GDAL. Right 
now there seems to be only read support. Some years ago I made some 
tests using librsvg and GDAL and writing glue code in Perl. It works and 
the basics are not difficult but with styles and rasters it gets more 
complicated.

librsvg seems to me the best choice for the low level library to use.

gdal-dev cc'd.

Ari

>
> giovanni
>
> 2012/3/19 Jukka Rahkonen <jukka.rahkonen@mmmtike.fi 
> <mailto:jukka.rahkonen@mmmtike.fi>>
>
>     Brylie Oxley <brylie@...> writes:
>
>     >
>     > Hello,
>     > My name is Brylie Oxley. I am a student at Sierra College in Nevada
>     > City, CA. I would like to apply for the GSoC program.
>     >
>     > I have been studying GIS at Sierra College, where the courses
>     focus on
>     > proprietary tools. For libre GIS tools to be viable options, we need
>     > high quality cartographic tools. This is where I see Inkscape as an
>     > EXCELLENT candidate.
>     >
>     > I would like to make an extension for QGIS and/or Inkscape that
>     would
>     > enable us to send data from QGIS directly to Inkscape. It would
>     also be
>     > nice to be able to have Inkscape leverage the QGIS API to import
>     > data/layers into a cartographic project.
>     >
>     > I am glad to get any feedback regarding users' experiences
>     sharing data
>     > between these two programs. I would also like to know what some
>     of the
>     > components are that I can leverage to create a bridging
>     > extension/improved cartographic interface for QGIS.
>     >
>     > Thank you for your time and consideration,
>     > Brylie Oxley
>
>     There is heavy work going on with GDAL PDF driver
>     http://gdal.org/frmt_pdf.html
>     Mapserver can already make georeferenced PDF files like this with
>     the trunk
>     version of GDAL http://latuviitta.org/documents/Lahti_geospat.pdf
>     Reading the geospatial info of that certain PDF needs TerraGo
>     Toolbar which is
>     an add-on to Adobe Acrobat reader. Here is another PDF output example
>     http://latuviitta.org/documents/raitiovaunulinjat.pdf
>     It is made with OpenJUMP derivative SkyJUMP and it demostrates
>     using vector
>     layers on to of a raster layer (tram lines in this case). User can
>     toggle the
>     layer visibility at least with Adobe Acrobat Reader. I am not sure
>     if GDAL can
>     do such layered output yet. However, I have a feeling that GDAL
>     may soon be able
>     to support direct conversion of raster files with OGR vector file
>     overlays into
>     layered and georeferenced PDF files. See recent PDF commits by
>     Evan Rouault at
>     http://trac.osgeo.org/gdal/timeline
>
>     Perhaps that work will help you with the QGIS to Inkcape work
>     flow. At least it
>     might be good to study what could be done by feeding GDAL from
>     QGIS before
>     dublicating those functionalities into QGIS.
>
>
>     -Jukka Rahkonen-
>
>     _______________________________________________
>     Qgis-user mailing list
>     Qgis-user@lists.osgeo.org <mailto:Qgis-user@lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/qgis-user
>
>
>
>
> _______________________________________________
> Qgis-user mailing list
> Qgis-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/qgis-user

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120319/f13136ab/attachment-0001.html
From jrepetto at free.fr  Mon Mar 19 04:55:59 2012
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Mon Mar 19 04:56:41 2012
Subject: [gdal-dev] configure error
Message-ID: <4F66F49F.8040403@free.fr>

Hello ,
Since this morning, "./configure" of the trunk version of GDAL returns 
an error :
configure: error: FileGDBAPI not found.

Tested on Linux 32 bits and Linux 64 bits.

Regards,
Jean-Claude
From even.rouault at mines-paris.org  Mon Mar 19 05:01:40 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar 19 05:02:00 2012
Subject: [gdal-dev] configure error
In-Reply-To: <4F66F49F.8040403@free.fr>
References: <4F66F49F.8040403@free.fr>
Message-ID: <1332147700.4f66f5f493d85@imp.free.fr>

Selon Jean-Claude Repetto <jrepetto@free.fr>:

> Hello ,
> Since this morning, "./configure" of the trunk version of GDAL returns
> an error :
> configure: error: FileGDBAPI not found.
>
> Tested on Linux 32 bits and Linux 64 bits.

Yes, Chaitanyah noticed it too. I'll fix that tonight. Sorry for that

You can perhaps workaround by explicitly specifying --without-fgdb for now (not
tested)

>
> Regards,
> Jean-Claude
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From peifer at gmx.eu  Mon Mar 19 05:04:53 2012
From: peifer at gmx.eu (Hermann Peifer)
Date: Mon Mar 19 05:05:21 2012
Subject: [gdal-dev] Re: configure error
In-Reply-To: <4F66F49F.8040403@free.fr>
References: <4F66F49F.8040403@free.fr>
Message-ID: <4F66F6B5.9000600@gmx.eu>

On 19/03/2012 09:55, Jean-Claude Repetto wrote:
> Hello ,
> Since this morning, "./configure" of the trunk version of GDAL returns
> an error :
> configure: error: FileGDBAPI not found.
>
> Tested on Linux 32 bits and Linux 64 bits.
>

http://osgeo-org.1560.n6.nabble.com/gdal-dev-compiling-with-FileGeodb-API-1-2-td4623180.html 


And see the re-opened ticket: http://trac.osgeo.org/gdal/ticket/4570

Hermann

From akshaygupta202 at gmail.com  Mon Mar 19 10:19:39 2012
From: akshaygupta202 at gmail.com (akshay gupta)
Date: Mon Mar 19 10:20:05 2012
Subject: [gdal-dev] Saving shape files in GDAL/OGR
Message-ID: <CAB_qc71uG_-64=18fTzdCen9E3DazZQBag1rwHmXwJ+AZdAWXA@mail.gmail.com>

Hi,

I have a loaded an raster image using GDAL, and i want to provide a drawing
tool using which user can draw an irregular shape on the raster image and
then save the shape and the enclosing pixels in a vector format for future
use. Can any one tell me how to do this in GDAL/OGR?


Thanks and regards,
Akhy Huckelheim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120319/324718e9/attachment.html
From sdineshdass at gmail.com  Mon Mar 19 10:44:03 2012
From: sdineshdass at gmail.com (Dinesh Dass Subramanian)
Date: Mon Mar 19 10:44:36 2012
Subject: [gdal-dev] gdaltransform utility not working in web service
Message-ID: <CAF2TeZQo+Ceq9e_BOjqbXms6-isMW0WskB6jPgzG1wKRRTu6hw@mail.gmail.com>

Hi,

I'm trying to develop a web service for gdaltransform utility that gets
four coordinates as input and write it in an input file. Then the
gdaltransform utility is executed as in commandline to produce the output
in the output file. I have the RPC file in the same path. The problem is
the gdaltransform is not getting executed while I run the web service. But
the same command works in normal commandline mode. Please help to resolve
this problem. Thanks.

*Code:*
*--------*
package org.gdaltrans;

import java.io.*;
import javax.jws.WebMethod;
import javax.jws.WebParam;
import javax.jws.WebService;
import org.apache.tools.ant.Project;
import org.apache.tools.ant.taskdefs.ExecTask;
import org.apache.tools.ant.types.Commandline;

/**
 *
 * <at> author dineshdass
 */
<at> WebService(serviceName = "gdaltransws")
public class gdaltransws {

    /**
     * This is a sample web service operation
     */
    <at> WebMethod(operationName = "gdaltrans")
    public void gdaltrans( <at> WebParam(name = "name") String llx,String
lly,String urx,String ury) throws IOException {

        String inputFilePath = "/home/dineshdass/Desktop/testdata/raw.tif";

// Creating the input and output text files containing user AOI to be given
as arguments to gdaltransform
        String inputAoiPath = "/home/dineshdass/Desktop/testdata/" +
"inputAOI." + "txt";
        String outputAoiPath = "/home/dineshdass/Desktop/testdata/" +
"outputAOI." + "txt";
        File inputAoi = new File(inputAoiPath);
        File outputAoi = new File(outputAoiPath);
        inputAoi.createNewFile();
        //outputAoi.createNewFile();
        Writer aoiWrite = new BufferedWriter(new FileWriter(inputAoi));
        try {
        //aoiWrite.write(bbox.getMinX() + " " + bbox.getMinY() + "\n" +
bbox.getMaxX() + " " + bbox.getMaxY());
            aoiWrite.write(llx + " " + lly + "\n" + urx + " " + ury);
            aoiWrite.close();
        } catch (IOException e) {
        throw e;
        }

// Building gdaltransform command with arguments
        String argument = " -i -rpc -to \"Method=RPC\" " + inputFilePath +
" < " + inputAoiPath + " > " + outputAoiPath;
        String arguments[] = new String[1];
        arguments[0] = argument;
        String gdalCommand = "gdaltransform" + argument;

// Execute gdaltransform command and the resulting AOI in pixel/line is
stored in outputAoi
        Project project = new Project();
        project.init();

        ExecTask execTask = new ExecTask();
        execTask.setProject(project);
        Commandline command = new Commandline(gdalCommand);
        execTask.setCommand(command);
        execTask.execute();
        File f=new File("/home/dineshdass/Desktop/testdata/op.txt");
        execTask.setOutput(f);
        execTask.execute();

    }

*inputAOI.txt *
*-----------------*
180 -30
-40 -60

*op.txt (error shown)*
*---------*
gdaltransform: error while loading shared libraries: libgdal1.7.0.so.1:
cannot open shared object file: No such file or directory


-- 
Regards,
S.Dinesh Dass,
M.Tech - Remote Sensing,
Institute of Remote Sensing,
Anna University,
Chennai.
Mob: +91-9976033932
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120319/e3647d0d/attachment-0001.html
From chaitanya.ch at gmail.com  Mon Mar 19 10:48:46 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Mar 19 10:49:31 2012
Subject: [gdal-dev] Saving shape files in GDAL/OGR
In-Reply-To: <CAB_qc71uG_-64=18fTzdCen9E3DazZQBag1rwHmXwJ+AZdAWXA@mail.gmail.com>
References: <CAB_qc71uG_-64=18fTzdCen9E3DazZQBag1rwHmXwJ+AZdAWXA@mail.gmail.com>
Message-ID: <CAMKgpObWmxJWLfdET4yoLcS7sP_Lc3tKnsg5aCqH0M=0Rri3ow@mail.gmail.com>

Akshay,

While loading the image you need to mind the coordinates of the visible
pixels. When the user clicks on a pixel, add a point to the shape based on
the coordinates at that pixel.
For saving the shape(s), add the shape(s) and their attributes to a layer
and close the datasource to save it.
To save the enclosed pixels, get the extents of the shape geometry and
translate them to the pixel/line of the raster. Make a copy of the raster
to those pixel/line extents.

On Mon, Mar 19, 2012 at 7:49 PM, akshay gupta <akshaygupta202@gmail.com>wrote:

> Hi,
>
> I have a loaded an raster image using GDAL, and i want to provide a
> drawing tool using which user can draw an irregular shape on the raster
> image and then save the shape and the enclosing pixels in a vector format
> for future use. Can any one tell me how to do this in GDAL/OGR?
>
>
> Thanks and regards,
> Akhy Huckelheim
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120319/e53e109e/attachment.html
From Christopher.Pouliot at state.mn.us  Mon Mar 19 11:36:04 2012
From: Christopher.Pouliot at state.mn.us (Pouliot, Christopher (DNR))
Date: Mon Mar 19 11:51:48 2012
Subject: [gdal-dev] Issue with SetConfigOption
Message-ID: <074A014435F2E543B1FD97E729C76E4D0BFEBB@055-CH1MPN1-013.055d.mgd.msft.net>

Hello,

The App I'm using GDAL in is a C# (Visual Studio 2010, .NET 4.0) executable and is distributed to a couple thousand people. ?For 95% of those people it is running great.? For the other 5% we're having trouble with the GDAL piece.? The error we get:? "The type initialize for 'OSGEO.GDAL.GdalPINVOKE' threw an exception"

I've narrowed it down and it occurs the very first command I try using GDAL:

OSGeo.GDAL.Gdal.SetConfigOption("GDAL_DATA", GDAL_DATA);

I've read in previous threads that it may be related to needing the proper Microsoft Visual C++ Redistributables installed but we've got machines that have 2005, 2008, and 2010 redistributables installed and still no luck.? I've also included the msvcp100.dll and msvcr100.dll files in my install package.

I think we have the problem narrowed down to older machines running XP or Vista.? Beyond that I'm not sure.

Does anyone know of other dependencies I should be trying?

Thanks,

Chris

Chris Pouliot
GIS Application Developer
Minnesota Department of Natural Resources
christopher.pouliot@state.mn.us
(651) 259-5491


From szekerest at gmail.com  Mon Mar 19 12:28:48 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar 19 12:29:16 2012
Subject: [gdal-dev] Issue with SetConfigOption
In-Reply-To: <074A014435F2E543B1FD97E729C76E4D0BFEBB@055-CH1MPN1-013.055d.mgd.msft.net>
References: <074A014435F2E543B1FD97E729C76E4D0BFEBB@055-CH1MPN1-013.055d.mgd.msft.net>
Message-ID: <CACALY+SBkhssBFA6fak_vw3BrebFot9N2iuxDAzrRfnuahvJSg@mail.gmail.com>

What is the exception message specifically?

Best regards,

Tamas


2012/3/19 Pouliot, Christopher (DNR) <Christopher.Pouliot@state.mn.us>

> Hello,
>
> The App I'm using GDAL in is a C# (Visual Studio 2010, .NET 4.0)
> executable and is distributed to a couple thousand people.  For 95% of
> those people it is running great.  For the other 5% we're having trouble
> with the GDAL piece.  The error we get:  "The type initialize for
> 'OSGEO.GDAL.GdalPINVOKE' threw an exception"
>
> I've narrowed it down and it occurs the very first command I try using
> GDAL:
>
> OSGeo.GDAL.Gdal.SetConfigOption("GDAL_DATA", GDAL_DATA);
>
> I've read in previous threads that it may be related to needing the proper
> Microsoft Visual C++ Redistributables installed but we've got machines that
> have 2005, 2008, and 2010 redistributables installed and still no luck.
> I've also included the msvcp100.dll and msvcr100.dll files in my install
> package.
>
> I think we have the problem narrowed down to older machines running XP or
> Vista.  Beyond that I'm not sure.
>
> Does anyone know of other dependencies I should be trying?
>
> Thanks,
>
> Chris
>
> Chris Pouliot
> GIS Application Developer
> Minnesota Department of Natural Resources
> christopher.pouliot@state.mn.us
> (651) 259-5491
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120319/3e1222f0/attachment.html
From chapmanm at pixia.com  Mon Mar 19 14:42:12 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Mon Mar 19 14:42:38 2012
Subject: [gdal-dev] GdalWarp issue
Message-ID: <e1cd6db3.00000434.00000018@CHAPMANM7S>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdalwarp.png
Type: image/png
Size: 30400 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120319/ffafb112/gdalwarp-0001.png
From chaitanya.ch at gmail.com  Mon Mar 19 15:00:01 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Mar 19 15:00:29 2012
Subject: [gdal-dev] GdalWarp issue
In-Reply-To: <e1cd6db3.00000434.00000018@CHAPMANM7S>
References: <e1cd6db3.00000434.00000018@CHAPMANM7S>
Message-ID: <CAMKgpOYyUj6zFFWdgPSYwX0JxBF2cN23cGHA3KypN-sf2d7PPQ@mail.gmail.com>

Martin,

Change the resampling method and/or change the SAMPLE_STEPS warp option.

On Tue, Mar 20, 2012 at 12:12 AM, Martin Chapman <chapmanm@pixia.com> wrote:

> All,****
>
> ** **
>
> Please see the attached sub-region screen capture of an image I created
> using gdalwarp 1.9.  I used MS Paint to highlight in red several columns of
> pixels that repeat a pattern from left to right across the image
> (vertically only) where the pixels are the same color for both pixel
> columns when in fact they should be different.  The problem seems to occur
> whether I am going from source wkt (wgs84 in this case) to the same coord
> system or if I go from wgs84 to another coord system.   It only seems to
> happen when the source image is in WGS84 though.****
>
> ** **
>
> Any help is much appreciated.****
>
> ** **
>
> Best regards,****
>
> Martin****
>
> ** **
>
> ** **
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120320/b2c96b72/attachment.html
From chapmanm at pixia.com  Mon Mar 19 15:37:59 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Mon Mar 19 15:38:04 2012
Subject: [gdal-dev] GdalWarp issue
In-Reply-To: <CAMKgpOYyUj6zFFWdgPSYwX0JxBF2cN23cGHA3KypN-sf2d7PPQ@mail.gmail.com>
References: <e1cd6db3.00000434.00000018@CHAPMANM7S>
	<CAMKgpOYyUj6zFFWdgPSYwX0JxBF2cN23cGHA3KypN-sf2d7PPQ@mail.gmail.com>
Message-ID: <669f8b8c.00000434.00000021@CHAPMANM7S>

Chaitanya,



Thank you very much for your response.  The problem seems to be with the 
default SOURCE_EXTRA parameter of the GDALWarpOptions being defaulted to 1. 
When I up that number everything works fine.  I think the default for that 
value should be larger.  What do you think?



Best regards,

Marty



From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
Sent: Monday, March 19, 2012 1:00 PM
To: Martin Chapman
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GdalWarp issue



Martin,

Change the resampling method and/or change the SAMPLE_STEPS warp option.

On Tue, Mar 20, 2012 at 12:12 AM, Martin Chapman <chapmanm@pixia.com> wrote:

All,



Please see the attached sub-region screen capture of an image I created 
using gdalwarp 1.9.  I used MS Paint to highlight in red several columns of 
pixels that repeat a pattern from left to right across the image (vertically 
only) where the pixels are the same color for both pixel columns when in 
fact they should be different.  The problem seems to occur whether I am 
going from source wkt (wgs84 in this case) to the same coord system or if I 
go from wgs84 to another coord system.   It only seems to happen when the 
source image is in WGS84 though.



Any help is much appreciated.



Best regards,

Martin






_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev




-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120319/d111769a/attachment.html
From even.rouault at mines-paris.org  Mon Mar 19 15:39:12 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar 19 15:38:40 2012
Subject: [gdal-dev] configure error
In-Reply-To: <1332147700.4f66f5f493d85@imp.free.fr>
References: <4F66F49F.8040403@free.fr> <1332147700.4f66f5f493d85@imp.free.fr>
Message-ID: <201203192039.12610.even.rouault@mines-paris.org>

Le lundi 19 mars 2012 10:01:40, Even Rouault a ?crit :
> Selon Jean-Claude Repetto <jrepetto@free.fr>:
> > Hello ,
> > Since this morning, "./configure" of the trunk version of GDAL returns
> > an error :
> > configure: error: FileGDBAPI not found.
> > 
> > Tested on Linux 32 bits and Linux 64 bits.
> 
> Yes, Chaitanyah noticed it too. I'll fix that tonight. Sorry for that
> 
> You can perhaps workaround by explicitly specifying --without-fgdb for now
> (not tested)

Should be fixed now

> 
> > Regards,
> > Jean-Claude
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Mon Mar 19 16:05:23 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar 19 16:05:19 2012
Subject: [gdal-dev] Seg-Y : CDP-X/Y and Group-X/Y
In-Reply-To: <125F609FE1635548AF411AFA01558DFA3EEF50BCEC@per-srv-em1>
References: <125F609FE1635548AF411AFA01558DFA3EEF50BCEC@per-srv-em1>
Message-ID: <201203192105.23856.even.rouault@mines-paris.org>

Le lundi 19 mars 2012 03:23:58, Glen Atkins a ?crit :
> Hi there,
> 
> When getting the properties from the Trace Header of the Seg-Y file the CDP
> X (181-184) and CDP Y (185-188) are not included. This first appeared to
> be because the CDP X and CDP Y were being used to set the OGRPoint X and Y
> but these values are coming from GROUP_ X (81-84) and GROUP_Y (85-88). Is
> there a reason why the CDP_X and CDP_Y aren't included?

Well, I don't recall all the details, but when I tried on various sample files 
available around the web, I found that some used the old seg-y format that 
only used bytes 1-180 (*) (the other ones being vendor specific), so I prefered 
to stick to those ones. And I'm not sure how you can distinguish those files 
that implement the old spec from files that implement the new spec. 
Ultimatilely , if there's no automated way of figuring that out, this could be 
done with the help of a configuration option where the user could tell : use 
CDP instead of GROUP.

Could you open a ticket in GDAL trac on that topic with a sample file (you can 
likely cut it to the first hundreds of kilobytes with an hexadecimal editor so 
it is reasonable small to attach) where CDP X/Y are available ? 

Best regards,

Even

(*) From http://www.seg.org/documents/10161/77915/seg_y_rev1.pdf :

"""
7. Data Traces
7.1. Trace Header
The SEG Y trace header contains trace
attributes, which are defined as two-byte or
four-byte, two's complement integers. The
values in bytes 1-180 were defined in the
1975 standard and these entries remain
unchanged, although clarification and
extensions may be supplied where
appropriate. Bytes 181-240 were for
optional information in the 1975 standard
and this has been the main area of conflict
between different flavors of SEG Y. This
revision defines standard locations in bytes
181-240 for certain values that are needed
in modern data processing. 
"""


> 
> Thanks,
> Glen
> 
> 
> 
> [cid:mm_corp_emailsig_perth.gif@99c73ceedff042e6be6ce85322d223a5]
From chaitanya.ch at gmail.com  Mon Mar 19 16:27:57 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Mar 19 16:28:18 2012
Subject: [gdal-dev] GdalWarp issue
In-Reply-To: <669f8b8c.00000434.00000021@CHAPMANM7S>
References: <e1cd6db3.00000434.00000018@CHAPMANM7S>
	<CAMKgpOYyUj6zFFWdgPSYwX0JxBF2cN23cGHA3KypN-sf2d7PPQ@mail.gmail.com>
	<669f8b8c.00000434.00000021@CHAPMANM7S>
Message-ID: <CAMKgpOYV2E1FN3sPoLo9iJrPAnsnL+hrVLCNg4sPiT8YKanr-w@mail.gmail.com>

Martin,

Usually it is enough to have just one extra pixel around the source pixel
while warping. But for the events like this case, we have the option to set
it.

On Tue, Mar 20, 2012 at 1:07 AM, Martin Chapman <chapmanm@pixia.com> wrote:

> Chaitanya,****
>
> ** **
>
> Thank you very much for your response.  The problem seems to be with the
> default SOURCE_EXTRA parameter of the GDALWarpOptions being defaulted to
> 1.  When I up that number everything works fine.  I think the default for
> that value should be larger.  What do you think?****
>
> ** **
>
> Best regards,****
>
> Marty****
>
> ** **
>
> *From:* Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
> *Sent:* Monday, March 19, 2012 1:00 PM
> *To:* Martin Chapman
> *Cc:* gdal-dev@lists.osgeo.org
> *Subject:* Re: [gdal-dev] GdalWarp issue****
>
> ** **
>
> Martin,
>
> Change the resampling method and/or change the SAMPLE_STEPS warp option.**
> **
>
> On Tue, Mar 20, 2012 at 12:12 AM, Martin Chapman <chapmanm@pixia.com>
> wrote:****
>
> All,****
>
>  ****
>
> Please see the attached sub-region screen capture of an image I created
> using gdalwarp 1.9.  I used MS Paint to highlight in red several columns of
> pixels that repeat a pattern from left to right across the image
> (vertically only) where the pixels are the same color for both pixel
> columns when in fact they should be different.  The problem seems to occur
> whether I am going from source wkt (wgs84 in this case) to the same coord
> system or if I go from wgs84 to another coord system.   It only seems to
> happen when the source image is in WGS84 though.****
>
>  ****
>
> Any help is much appreciated.****
>
>  ****
>
> Best regards,****
>
> Martin****
>
>  ****
>
>  ****
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev****
>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E****
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120320/29b52153/attachment-0001.html
From warmerdam at pobox.com  Mon Mar 19 16:33:20 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 19 16:33:57 2012
Subject: [gdal-dev] GdalWarp issue
In-Reply-To: <669f8b8c.00000434.00000021@CHAPMANM7S>
References: <e1cd6db3.00000434.00000018@CHAPMANM7S>
	<CAMKgpOYyUj6zFFWdgPSYwX0JxBF2cN23cGHA3KypN-sf2d7PPQ@mail.gmail.com>
	<669f8b8c.00000434.00000021@CHAPMANM7S>
Message-ID: <CA+YzLBeW5xc8ourEHnzHeyS+X=A0tqoaD-n_eUp37JSLnzsc4A@mail.gmail.com>

Martin,

Could you file a ticket with the details on how to reproduce this?  It
should not normally be necessary to set SOURCE_EXTRA and even when it
is needed I would expect the difference to be with regard to whether
there are holes/cracks in the imagery, not duplication.  But it is
hard to be sure what is happening without a case to reproduce it.

Best regards,
Frank

On Mon, Mar 19, 2012 at 12:37 PM, Martin Chapman <chapmanm@pixia.com> wrote:
> Chaitanya,
>
>
>
> Thank you very much for your response.? The problem seems to be with the
> default SOURCE_EXTRA parameter of the GDALWarpOptions being defaulted to 1.
> When I up that number everything works fine.? I think the default for that
> value should be larger.? What do you think?
>
>
>
> Best regards,
>
> Marty
>
>
>
> From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
> Sent: Monday, March 19, 2012 1:00 PM
> To: Martin Chapman
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] GdalWarp issue
>
>
>
> Martin,
>
> Change the resampling method and/or change the SAMPLE_STEPS warp option.
>
> On Tue, Mar 20, 2012 at 12:12 AM, Martin Chapman <chapmanm@pixia.com> wrote:
>
> All,
>
>
>
> Please see the attached sub-region screen capture of an image I created
> using gdalwarp 1.9.? I used MS Paint to highlight in red several columns of
> pixels that repeat a pattern from left to right across the image (vertically
> only) where the pixels are the same color for both pixel columns when in
> fact they should be different.? The problem seems to occur whether I am
> going from source wkt (wgs84 in this case) to the same coord system or if I
> go from wgs84 to another coord system.? ?It only seems to happen when the
> source image is in WGS84 though.
>
>
>
> Any help is much appreciated.
>
>
>
> Best regards,
>
> Martin
>
>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From jorgearevalo at libregis.org  Tue Mar 20 06:25:07 2012
From: jorgearevalo at libregis.org (Jorge Arevalo)
Date: Tue Mar 20 06:25:35 2012
Subject: [gdal-dev] Motion: Commit rights for David Zwarg accepted
Message-ID: <CAMhtMNOO0RPVVt5_Qi6OPxjMTSq4Xzx2keOy-srvczR3xAcOsw@mail.gmail.com>

Hello,

After the voting phase, the motion has been passed.  David Zwarg has
been accepted as official commiter, and he has adhered to the commiter
guidelines.

So, welcome David :-)

Best regards,

-- 
Jorge Arevalo
http://www.libregis.org
From zhenchen17 at gmail.com  Tue Mar 20 07:23:21 2012
From: zhenchen17 at gmail.com (chen zhen)
Date: Tue Mar 20 07:24:11 2012
Subject: [gdal-dev] Ingres Ogr improvement
Message-ID: <CAHC6U2UbqCYt=uBAXEJzd33HFin45+i1=+TYi=hLtiYwsGrvwA@mail.gmail.com>

Anyone could kindly help me commit the tickets 4567?

Thanks very much.

zhen


On 2012-03-19, at 4:49 AM, chen zhen wrote:


I am helping Tyler improve Ogr driver for Ingres. I opened a ticket
(http://trac.osgeo.org/gdal/ticket/4567) days ago. The Ingres driver
is not compiled as default and the enhancement only affects who uses
Ingres driver(very few I guess). So could you commit this patch to svn
and I could continue improving Ingres driver?

Regards,

zhen

FYI - I tested this much of this code a while back, but really
appreciate the help and thoughts on improvements.  We are working on
FME support right now, but for many users we will be recommending
ogr2ogr for data loading, so these improvements will be well loved! :)

Tyler
From saad.hessane at gmail.com  Tue Mar 20 11:55:02 2012
From: saad.hessane at gmail.com (=?ISO-8859-1?Q?Sa=E2d_HESSANE?=)
Date: Tue Mar 20 11:55:41 2012
Subject: [gdal-dev] Contrast, Brightness and Gamma
Message-ID: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>

Hi list,

I use gdal_translate to convert 16bits images to 8bits images. The
gdal_translate have the -scale argument to specify the convertion range
(source->destination).
If I change the destination range (dst_min and dst_max), I can do manually
a brightness correction (also a contrast correction).

But is there any way to do that with a Photoshop like method?
For example set a brightness to -50, a contrast to +8 and let
gdal_translate do the job ?

Also can I apply a gamma correction?

I saw the VRT format and there's a way to apply a LUT. But I don't think a
LUT of 65536 values is the best way to apply the correction.

Also the VRT have the scale ratio and scale offset elements. I think it can
be useful but I don't understand how use it...

So simply put, my question : can I do a contrast, brightness or gamma
correction to a raster with gdal?

Thank you !

PS : I apologize for my broken English !
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120320/3b44f267/attachment.html
From chaitanya.ch at gmail.com  Tue Mar 20 12:37:56 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Mar 20 12:38:16 2012
Subject: [gdal-dev] Contrast, Brightness and Gamma
In-Reply-To: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
References: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
Message-ID: <CAMKgpOZGUeO8Nou-XYE5i5MORba3bc0gEAiKoFxEGZeHaJrHPw@mail.gmail.com>

Sa?d,

Gamma correction is more related to displaying the data than the data
itself.
You can, however, modify the contrast and brightness of the dataset.

Using LUT is not hard to learn as long as you know what you want.
A simple method is the stretch the data linearly along the whole range.
For that, your LUT element looks like this:

<LUT>[src value 1]:[dest value 1],[src value 2]:[dest value 2]</LUT>

There are only four values.
src value 1: This should be the least value of the pixels in the source
raster band.
src value 2: This should be the greatest value of the pixels in the source
raster band.
dest value 1: This should be the least value the data type of the raster
band can hold. That would usually be zero.
dest value 2: This should be the greatest value the data type of the raster
band can hold. That would be 255, 65535 and 4294967295 for 8bit, 16bit and
32bit raster bands.

The VRT driver calculates the intermediate values. The result here would be
similar to using the scale ratio and offset parameters.

On Tue, Mar 20, 2012 at 9:25 PM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:

> Hi list,
>
> I use gdal_translate to convert 16bits images to 8bits images. The
> gdal_translate have the -scale argument to specify the convertion range
> (source->destination).
> If I change the destination range (dst_min and dst_max), I can do manually
> a brightness correction (also a contrast correction).
>
> But is there any way to do that with a Photoshop like method?
> For example set a brightness to -50, a contrast to +8 and let
> gdal_translate do the job ?
>
> Also can I apply a gamma correction?
>
> I saw the VRT format and there's a way to apply a LUT. But I don't think a
> LUT of 65536 values is the best way to apply the correction.
>
> Also the VRT have the scale ratio and scale offset elements. I think it
> can be useful but I don't understand how use it...
>
> So simply put, my question : can I do a contrast, brightness or gamma
> correction to a raster with gdal?
>
> Thank you !
>
> PS : I apologize for my broken English !
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120320/8a3a7c43/attachment.html
From bfraser at geoanalytic.com  Tue Mar 20 12:50:24 2012
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Tue Mar 20 12:50:44 2012
Subject: [gdal-dev] Contrast, Brightness and Gamma
In-Reply-To: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
References: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
Message-ID: <4F68B550.3000505@geoanalytic.com>

I like to use gdal_contrast_stretch from 
http://www.gina.alaska.edu/projects/gina-tools/

Usage: gdal_contrast_stretch <src.tif> <dst.tif>
   { { -linear-stretch <target_avg> <target_stddev> } |
     { -percentile-range <from: 0.0-1.0> <to: 0.0-1.0> } |
     { -histeq <target_stddev> } }
   [ -ndv <no_data_val> ]
Input must be either 8-bit or 16-bit.  Output is 8-bit.

For example:

gdal_contrast_stretch -percentile-range 0.02 0.98 input16bit.tif 
output8bit.tif

Best Regards,
Brent Fraser


On 3/20/2012 9:55 AM, Sa?d HESSANE wrote:
> Hi list,
>
> I use gdal_translate to convert 16bits images to 8bits images. The 
> gdal_translate have the -scale argument to specify the convertion 
> range (source->destination).
> If I change the destination range (dst_min and dst_max), I can do 
> manually a brightness correction (also a contrast correction).
>
> But is there any way to do that with a Photoshop like method?
> For example set a brightness to -50, a contrast to +8 and let 
> gdal_translate do the job ?
>
> Also can I apply a gamma correction?
>
> I saw the VRT format and there's a way to apply a LUT. But I don't 
> think a LUT of 65536 values is the best way to apply the correction.
>
> Also the VRT have the scale ratio and scale offset elements. I think 
> it can be useful but I don't understand how use it...
>
> So simply put, my question : can I do a contrast, brightness or gamma 
> correction to a raster with gdal?
>
> Thank you !
>
> PS : I apologize for my broken English!
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120320/b8cc4831/attachment.html
From Kevin.Netherton at gov.bc.ca  Tue Mar 20 14:57:29 2012
From: Kevin.Netherton at gov.bc.ca (Netherton, Kevin J FLNR:EX)
Date: Tue Mar 20 15:05:09 2012
Subject: [gdal-dev] python filegdb problems
Message-ID: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC2138@e7mbx32.idir.bcgov>

Hello

I'm trying to get the python bindings to the ogr library working with esri file geodatabase (filegdb) support.  I am using the latest version of ms4w package that includes gdal/ogr 1.9.

I have created a esri file geodatabase driver, then from that created a data source, but am unable to access layers from the data source object.  Below is a quick summary of my code:

    drvrObj = osgeo.ogr.GetDriverByName(r'FileGDB') # print the driver retunrs a SWIG object
    path = str(r'C:\testdatadir\arc10geodb.gdb')
    mydataSrc = drvrObj.Open(path) # printing the data source prints a SWIG object
    lyrCnt = mydataSrc.GetLayerCount() # always returns 0 but there are many layers in the fgdb
    lyr = mydataSrc.GetLayer(0) # always returns null

The comments in the code above kind of summarize the situation.  It appears that I can create a valid datasource but am unable to read the layers inside the datasource.  Any ideas?



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120320/bf5e8efd/attachment.html
From ari.jolma at gmail.com  Tue Mar 20 15:07:30 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue Mar 20 15:07:46 2012
Subject: [gdal-dev] python filegdb problems
In-Reply-To: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC2138@e7mbx32.idir.bcgov>
References: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC2138@e7mbx32.idir.bcgov>
Message-ID: <4F68D572.4060008@gmail.com>

Kevin,

Could you post the test database somewhere?

Ari

On 03/20/2012 08:57 PM, Netherton, Kevin J FLNR:EX wrote:
> Hello
> I'm trying to get the python bindings to the ogr library working with 
> esri file geodatabase (filegdb) support.  I am using the latest 
> version of ms4w package that includes gdal/ogr 1.9.
> I have created a esri file geodatabase driver, then from that created 
> a data source, but am unable to access layers from the data source 
> object.  Below is a quick summary of my code:
>     drvrObj = osgeo.ogr.GetDriverByName(r/'FileGDB'/) # print the 
> driver _retunrs_a SWIG object
>     path = str(r/'C:\/_/testdatadir/_/\arc10geodb.gdb'/)
>     mydataSrc = drvrObj.Open(path) # printing the data source prints a 
> SWIG object
> _lyrCnt_ = mydataSrc.GetLayerCount() # always returns 0 but there are 
> many layers in the _fgdb_
> _lyr_ = mydataSrc.GetLayer(0) # always returns null
> The comments in the code above kind of summarize the situation.  It 
> appears that I can create a valid datasource but am unable to read the 
> layers inside the datasource.  Any ideas?
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120320/274a8d78/attachment.html
From stefano.iacovella at gmail.com  Tue Mar 20 17:04:25 2012
From: stefano.iacovella at gmail.com (Stefano Iacovella)
Date: Tue Mar 20 17:05:36 2012
Subject: [gdal-dev] python filegdb problems
In-Reply-To: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC2138@e7mbx32.idir.bcgov>
References: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC2138@e7mbx32.idir.bcgov>
Message-ID: <CAG9OqYrHmfybU3--OFmH-ZXZ80SD3sXwOVm-g7XSd_XoZrBkdg@mail.gmail.com>

Did you run ogrinfo arc10geodb.gdb on a shell?

Does it show the layers inside the fileGDB or it throws some error?

Stefano


2012/3/20 Netherton, Kevin J FLNR:EX <Kevin.Netherton@gov.bc.ca>:
> Hello
>
> I?m trying to get the python bindings to the ogr library working with esri
> file geodatabase (filegdb) support.? I am using the latest version of ms4w
> package that includes gdal/ogr 1.9.
>
> I have created a esri file geodatabase driver, then from that created a data
> source, but am unable to access layers from the data source object.? Below
> is a quick summary of my code:
>
> ??? drvrObj = osgeo.ogr.GetDriverByName(r'FileGDB') # print the driver
> retunrs a SWIG object
> ??? path = str(r'C:\testdatadir\arc10geodb.gdb')
> ??? mydataSrc = drvrObj.Open(path) # printing the data source prints a SWIG
> object
> ??? lyrCnt = mydataSrc.GetLayerCount() # always returns 0 but there are many
> layers in the fgdb
> ??? lyr = mydataSrc.GetLayer(0) # always returns null
>
> The comments in the code above kind of summarize the situation.? It appears
> that I can create a valid datasource but am unable to read the layers inside
> the datasource.? Any ideas?
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From Kevin.Netherton at gov.bc.ca  Tue Mar 20 18:19:04 2012
From: Kevin.Netherton at gov.bc.ca (Netherton, Kevin J FLNR:EX)
Date: Tue Mar 20 18:19:57 2012
Subject: [gdal-dev] python filegdb problems
In-Reply-To: <CAG9OqYrHmfybU3--OFmH-ZXZ80SD3sXwOVm-g7XSd_XoZrBkdg@mail.gmail.com>
References: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC2138@e7mbx32.idir.bcgov>
	<CAG9OqYrHmfybU3--OFmH-ZXZ80SD3sXwOVm-g7XSd_XoZrBkdg@mail.gmail.com>
Message-ID: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC21E6@e7mbx32.idir.bcgov>

Been playing around a bit more.  Originally when I ran ogrinfo it did not list any of the layers in the filegdb.  All the feature classes in the geodatabase came from SDE and have geometry columns named 'geometry'.  When I copied a shapefile feature class into the file geodatabase and then ran ogrinfo all of a sudden that layer was listed. The feature class that is getting listed has a geometry column called 'shape'.

Is there a switch or a parameter that will allow ogrinfo to see the other feature classes in the file geodatabase?  I suspect that its looking for a geometry column called 'shape' and isn't finding it.

I copied the geodatabase to the following location in case that helps.

ftp://ftp.geobc.gov.bc.ca/pub/outgoing/GeoBC_Regional/SIR/Kamloops/ogr/arc10gdb.zip




-----Original Message-----
From: Stefano Iacovella [mailto:stefano.iacovella@gmail.com] 
Sent: Tuesday, March 20, 2012 2:04 PM
To: Netherton, Kevin J FLNR:EX
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] python filegdb problems

Did you run ogrinfo arc10geodb.gdb on a shell?

Does it show the layers inside the fileGDB or it throws some error?

Stefano


2012/3/20 Netherton, Kevin J FLNR:EX <Kevin.Netherton@gov.bc.ca>:
> Hello
>
> I'm trying to get the python bindings to the ogr library working with esri
> file geodatabase (filegdb) support.? I am using the latest version of ms4w
> package that includes gdal/ogr 1.9.
>
> I have created a esri file geodatabase driver, then from that created a data
> source, but am unable to access layers from the data source object.? Below
> is a quick summary of my code:
>
> ??? drvrObj = osgeo.ogr.GetDriverByName(r'FileGDB') # print the driver
> retunrs a SWIG object
> ??? path = str(r'C:\testdatadir\arc10geodb.gdb')
> ??? mydataSrc = drvrObj.Open(path) # printing the data source prints a SWIG
> object
> ??? lyrCnt = mydataSrc.GetLayerCount() # always returns 0 but there are many
> layers in the fgdb
> ??? lyr = mydataSrc.GetLayer(0) # always returns null
>
> The comments in the code above kind of summarize the situation.? It appears
> that I can create a valid datasource but am unable to read the layers inside
> the datasource.? Any ideas?
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From saad.hessane at gmail.com  Tue Mar 20 20:30:57 2012
From: saad.hessane at gmail.com (=?ISO-8859-1?Q?Sa=E2d_HESSANE?=)
Date: Tue Mar 20 20:31:21 2012
Subject: [gdal-dev] Contrast, Brightness and Gamma
In-Reply-To: <4F68B550.3000505@geoanalytic.com>
References: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
	<4F68B550.3000505@geoanalytic.com>
Message-ID: <CAEcp1tDuvbuSfo-pZ+nsm0sZ18xLd0vOiKC2PYXLkxvK=WKpvA@mail.gmail.com>

Thank's all for your answers.
I will use the LUT method, cause is the most right for me.

Chaitanya said : "Gamma correction is more related to displaying the data
than the data itself".
Not in my case. I have to do this correction. But how to do that? Do i
embed a VRT with a contrast correction LUT, in another VRT with a gamma
correction LUT ? Or there is a method to declare LUTs in order to execute
in the same vrt ?

Thank's again !


2012/3/20 Brent Fraser <bfraser@geoanalytic.com>

>  I like to use gdal_contrast_stretch from
> http://www.gina.alaska.edu/projects/gina-tools/
>
> Usage: gdal_contrast_stretch <src.tif> <dst.tif>
>   { { -linear-stretch <target_avg> <target_stddev> } |
>     { -percentile-range <from: 0.0-1.0> <to: 0.0-1.0> } |
>     { -histeq <target_stddev> } }
>   [ -ndv <no_data_val> ]
> Input must be either 8-bit or 16-bit.  Output is 8-bit.
>
> For example:
>
> gdal_contrast_stretch -percentile-range 0.02 0.98 input16bit.tif
> output8bit.tif
>
> Best Regards,
> Brent Fraser
>
>
> On 3/20/2012 9:55 AM, Sa?d HESSANE wrote:
>
> Hi list,
>
> I use gdal_translate to convert 16bits images to 8bits images. The
> gdal_translate have the -scale argument to specify the convertion range
> (source->destination).
> If I change the destination range (dst_min and dst_max), I can do manually
> a brightness correction (also a contrast correction).
>
> But is there any way to do that with a Photoshop like method?
> For example set a brightness to -50, a contrast to +8 and let
> gdal_translate do the job ?
>
> Also can I apply a gamma correction?
>
> I saw the VRT format and there's a way to apply a LUT. But I don't think a
> LUT of 65536 values is the best way to apply the correction.
>
> Also the VRT have the scale ratio and scale offset elements. I think it
> can be useful but I don't understand how use it...
>
> So simply put, my question : can I do a contrast, brightness or gamma
> correction to a raster with gdal?
>
> Thank you !
>
> PS : I apologize for my broken English !
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120321/584b4c98/attachment.html
From warmerdam at pobox.com  Wed Mar 21 01:32:54 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar 21 01:33:23 2012
Subject: [gdal-dev] gdaltransform utility not working in web service
In-Reply-To: <CAF2TeZQo+Ceq9e_BOjqbXms6-isMW0WskB6jPgzG1wKRRTu6hw@mail.gmail.com>
References: <CAF2TeZQo+Ceq9e_BOjqbXms6-isMW0WskB6jPgzG1wKRRTu6hw@mail.gmail.com>
Message-ID: <4F696806.4080106@pobox.com>

On 12-03-19 07:44 AM, Dinesh Dass Subramanian wrote:
> Hi,
>
>
> I'm trying to develop a web service for gdaltransform utility that gets four
> coordinates as input and write it in an input file. Then the gdaltransform
> utility is executed as in commandline to produce the output in the output file.
> I have the RPC file in the same path. The problem is the gdaltransform is not
> getting executed while I run the web service. But the same command works in
> normal commandline mode. Please help to resolve this problem. Thanks.
...
> *op.txt (error shown)*
> *---------*
> gdaltransform: error while loading shared libraries: libgdal1.7.0.so.1: cannot
> open shared object file: No such file or directory

Dinesh,

This a normal error indicating that the libgdal1.7.0.so.1 shared library
is not being found.  Normally I'd address this by adding a "SetEnv" directive
in my apache file setting LD_LIBRARY_PATH to include the directory with
the libgdal1.7.0.so.1 file.  It might also make sense to put that file
somewhere like /usr/lib and use ldconfig - see the ldconfig or ld.so.conf
man pages for more information on this.  This is in no way a GDAL specific
issue.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer

From noura.salem.shamsi at gmail.com  Wed Mar 21 02:57:32 2012
From: noura.salem.shamsi at gmail.com (Noura Shamsi)
Date: Wed Mar 21 02:58:16 2012
Subject: [gdal-dev] basic questions about tiles
Message-ID: <CAJ2iEgwaSdRbYQd2Xm784rt_WQ3poAvLmrbhOeDR0VsOJ7A9yg@mail.gmail.com>

am pretty new working with gdal and GIS, so please forgive my inexperience;
i have read alot about how to request tiles but am still a bit confused;

am trying to get the tiles according to the elevation data that i have
(dt2);
lets say i will request this tile from map street     poDataset =
(GDALDataset *) GDALOpen( "http://tile.openstreetmap.org/15/23687/15190.png",
GA_ReadOnly );

now my first question is:

since i have the elevation data i will be able to request different tiles
from the same server by changing the zoom level x and y ?

my second question is:

how can i convert the buffer that i got here to the actual image or tile?
        poDataset = (GDALDataset *) GDALOpen( "
http://tile.openstreetmap.org/15/23687/15190.png", GA_ReadOnly );
        GDALRasterBand  *poBand;
        poBand = poDataset->GetRasterBand( 1 );

        int xsize = poDataset->GetRasterXSize();
        int ysize = poDataset->GetRasterYSize();
        float*buffer = new float[xsize * ysize];
        poBand->RasterIO(GF_Read, 0, 0, xsize, ysize, buffer, xsize, ysize,
GDT_Float32, 0, 0);
        for (int j = 0; j < ysize; ++j) {
            for (int k = 0; k < xsize; ++k) {
                qDebug() << buffer[j * xsize + k] << " ";
            }
            qDebug() << endl;
        }
        }
        poDataset->FlushCache();


i will appreciate any directions comments or examples
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120321/00484d97/attachment.html
From Christopher.Pouliot at state.mn.us  Wed Mar 21 07:11:15 2012
From: Christopher.Pouliot at state.mn.us (Pouliot, Christopher (DNR))
Date: Wed Mar 21 07:11:51 2012
Subject: [gdal-dev] Issue with SetConfigOption
In-Reply-To: <CACALY+SBkhssBFA6fak_vw3BrebFot9N2iuxDAzrRfnuahvJSg@mail.gmail.com>
References: <074A014435F2E543B1FD97E729C76E4D0BFEBB@055-CH1MPN1-013.055d.mgd.msft.net>
	<CACALY+SBkhssBFA6fak_vw3BrebFot9N2iuxDAzrRfnuahvJSg@mail.gmail.com>
Message-ID: <074A014435F2E543B1FD97E729C76E4D0C2D03@055-CH1MPN1-013.055d.mgd.msft.net>

I'm not sure if this is what you're looking for.  Here?s the Catch block in my C# code:

catch (Exception e)
{
    MessageBox.Show(e.Source + " - " + e.Message + 
    Environment.NewLine + e.InnerException.Message + Environment.NewLine + 
    e.InnerException.StackTrace + Environment.NewLine, 
    System.Reflection.MethodBase.GetCurrentMethod().Name);
}

Which gives a resulting error:
Gdal_csharp - The type initialize for 'OSGeo.GDAL.GdalPINVOKE' threw an exception
The type initialize for 'SWIGExceptionHelper' threw an exception
At OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..ctor()
At OSGeo.GDAL.GdalPINVOKE..cctor()


Is there a way to get a more specific exception message?

Chris


From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: Monday, March 19, 2012 11:29 AM
To: Pouliot, Christopher (DNR)
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Issue with SetConfigOption

What is the exception message specifically?

Best regards,

Tamas

2012/3/19 Pouliot, Christopher (DNR) <Christopher.Pouliot@state.mn.us>
Hello,

The App I'm using GDAL in is a C# (Visual Studio 2010, .NET 4.0) executable and is distributed to a couple thousand people. ?For 95% of those people it is running great.? For the other 5% we're having trouble with the GDAL piece.? The error we get:? "The type initialize for 'OSGEO.GDAL.GdalPINVOKE' threw an exception"

I've narrowed it down and it occurs the very first command I try using GDAL:

OSGeo.GDAL.Gdal.SetConfigOption("GDAL_DATA", GDAL_DATA);

I've read in previous threads that it may be related to needing the proper Microsoft Visual C++ Redistributables installed but we've got machines that have 2005, 2008, and 2010 redistributables installed and still no luck.? I've also included the msvcp100.dll and msvcr100.dll files in my install package.

I think we have the problem narrowed down to older machines running XP or Vista.? Beyond that I'm not sure.

Does anyone know of other dependencies I should be trying?

Thanks,

Chris

Chris Pouliot
GIS Application Developer
Minnesota Department of Natural Resources
christopher.pouliot@state.mn.us
(651) 259-5491


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From stefano.iacovella at gmail.com  Wed Mar 21 08:42:20 2012
From: stefano.iacovella at gmail.com (Stefano Iacovella)
Date: Wed Mar 21 08:43:09 2012
Subject: [gdal-dev] python filegdb problems
In-Reply-To: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC21E6@e7mbx32.idir.bcgov>
References: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC2138@e7mbx32.idir.bcgov>
	<CAG9OqYrHmfybU3--OFmH-ZXZ80SD3sXwOVm-g7XSd_XoZrBkdg@mail.gmail.com>
	<04D57967A59C6E46B5A89DBF4BCFD30F6ABC21E6@e7mbx32.idir.bcgov>
Message-ID: <CAG9OqYpwm1Cy=GY18-miVddNin7xxssD6bho7bDrtGLTnW8-Zw@mail.gmail.com>

Kevin

the ftp server doesn't seem to accept anonymous connection. Is there a
public role or a specific account to get the file you posted?

stefano

2012/3/20 Netherton, Kevin J FLNR:EX <Kevin.Netherton@gov.bc.ca>:
> Been playing around a bit more. ?Originally when I ran ogrinfo it did not list any of the layers in the filegdb. ?All the feature classes in the geodatabase came from SDE and have geometry columns named 'geometry'. ?When I copied a shapefile feature class into the file geodatabase and then ran ogrinfo all of a sudden that layer was listed. The feature class that is getting listed has a geometry column called 'shape'.
>
> Is there a switch or a parameter that will allow ogrinfo to see the other feature classes in the file geodatabase? ?I suspect that its looking for a geometry column called 'shape' and isn't finding it.
>
> I copied the geodatabase to the following location in case that helps.
>
> ftp://ftp.geobc.gov.bc.ca/pub/outgoing/GeoBC_Regional/SIR/Kamloops/ogr/arc10gdb.zip
>
>
>
>
> -----Original Message-----
> From: Stefano Iacovella [mailto:stefano.iacovella@gmail.com]
> Sent: Tuesday, March 20, 2012 2:04 PM
> To: Netherton, Kevin J FLNR:EX
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] python filegdb problems
>
> Did you run ogrinfo arc10geodb.gdb on a shell?
>
> Does it show the layers inside the fileGDB or it throws some error?
>
> Stefano
>
>
> 2012/3/20 Netherton, Kevin J FLNR:EX <Kevin.Netherton@gov.bc.ca>:
>> Hello
>>
>> I'm trying to get the python bindings to the ogr library working with esri
>> file geodatabase (filegdb) support.? I am using the latest version of ms4w
>> package that includes gdal/ogr 1.9.
>>
>> I have created a esri file geodatabase driver, then from that created a data
>> source, but am unable to access layers from the data source object.? Below
>> is a quick summary of my code:
>>
>> ??? drvrObj = osgeo.ogr.GetDriverByName(r'FileGDB') # print the driver
>> retunrs a SWIG object
>> ??? path = str(r'C:\testdatadir\arc10geodb.gdb')
>> ??? mydataSrc = drvrObj.Open(path) # printing the data source prints a SWIG
>> object
>> ??? lyrCnt = mydataSrc.GetLayerCount() # always returns 0 but there are many
>> layers in the fgdb
>> ??? lyr = mydataSrc.GetLayer(0) # always returns null
>>
>> The comments in the code above kind of summarize the situation.? It appears
>> that I can create a valid datasource but am unable to read the layers inside
>> the datasource.? Any ideas?
>>
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From pcorti at gmail.com  Wed Mar 21 08:50:46 2012
From: pcorti at gmail.com (Paolo Corti)
Date: Wed Mar 21 08:51:35 2012
Subject: [gdal-dev] python filegdb problems
In-Reply-To: <CAG9OqYpwm1Cy=GY18-miVddNin7xxssD6bho7bDrtGLTnW8-Zw@mail.gmail.com>
References: <04D57967A59C6E46B5A89DBF4BCFD30F6ABC2138@e7mbx32.idir.bcgov>
	<CAG9OqYrHmfybU3--OFmH-ZXZ80SD3sXwOVm-g7XSd_XoZrBkdg@mail.gmail.com>
	<04D57967A59C6E46B5A89DBF4BCFD30F6ABC21E6@e7mbx32.idir.bcgov>
	<CAG9OqYpwm1Cy=GY18-miVddNin7xxssD6bho7bDrtGLTnW8-Zw@mail.gmail.com>
Message-ID: <CAHXrU-+mQK5+=qhnJDCCF1iqf1=bMroq0P47v2BvszeGbzv8qA@mail.gmail.com>

On Wed, Mar 21, 2012 at 1:42 PM, Stefano Iacovella
<stefano.iacovella@gmail.com> wrote:
> Kevin
>
> the ftp server doesn't seem to accept anonymous connection. Is there a
> public role or a specific account to get the file you posted?
>
> stefano
>

ciao Stefano
I could download it earlier this morning, and I can confirm that OGR
is able to access to only one of the 6 feature classes.
So in my opinion it is worth opening a ticket and attach the sample
dataset to investigate further, Kevin would you mind doing that?

thanks
P

-- 
Paolo Corti
Geospatial software developer
web: http://www.paolocorti.net
twitter: @capooti
skype: capooti
From ksshannon at gmail.com  Wed Mar 21 18:01:11 2012
From: ksshannon at gmail.com (Kyle Shannon)
Date: Wed Mar 21 18:02:15 2012
Subject: [gdal-dev] gdalwarp eats scale and offset
Message-ID: <CAJ0mEz08y46SAYiFOysEWiLvHYP4DxDMC1a7wKkLia3QHR_oYQ@mail.gmail.com>

If I have a dataset with a scale and offset:

kyle@ubuntu:~/Desktop$ gdalinfo test.tif
 Driver: GTiff/GeoTIFF
Files: test.tif
Size is 738, 919
Coordinate System is:
PROJCS["WGS 84 / UTM zone 12N",
...
Origin = (279635.000000000000000,4878315.000000000000000)
Pixel Size = (30.000000000000000,-30.000000000000000)
Metadata:
AREA_OR_POINT=Point
Image Structure Metadata:
INTERLEAVE=BAND
Corner Coordinates:
Upper Left ( 279635.000, 4878315.000) (113d44'58.90"W, 44d 1'29.65"N)
Lower Left ( 279635.000, 4850745.000) (113d44'17.87"W, 43d46'37.04"N)
Upper Right ( 301775.000, 4878315.000) (113d28'25.33"W, 44d 1'52.37"N)
Lower Right ( 301775.000, 4850745.000) (113d27'48.41"W, 43d46'59.57"N)
Center ( 290705.000, 4864530.000) (113d36'22.60"W, 43d54'14.96"N)
Band 1 Block=738x1 Type=Float32, ColorInterp=Gray
Offset: 1, Scale:0.1

and I warp the image:

kyle@ubuntu:~/Desktop$ gdalwarp -t_srs epsg:4326 test.tif warp.tif
Creating output file that is 901P x 800L.
Processing input file test.tif.
0...10...20...30...40...50...60...70...80...90...100 - done.

My scale and offset disappear:

kyle@ubuntu:~/Desktop$ gdalinfo warp.tif

Driver: GTiff/GeoTIFF
Files: warp.tif
Size is 901, 800
Coordinate System is:
GEOGCS["WGS 84",
...
Origin = (-113.749693430469137,44.031215259056744)
Pixel Size = (0.000317850797006,-0.000317850797006)
Metadata:
AREA_OR_POINT=Point
Image Structure Metadata:
INTERLEAVE=BAND
Corner Coordinates:
Upper Left (-113.7496934, 44.0312153) (113d44'58.90"W, 44d 1'52.37"N)
Lower Left (-113.7496934, 43.7769346) (113d44'58.90"W, 43d46'36.96"N)
Upper Right (-113.4633099, 44.0312153) (113d27'47.92"W, 44d 1'52.37"N)
Lower Right (-113.4633099, 43.7769346) (113d27'47.92"W, 43d46'36.96"N)
Center (-113.6065016, 43.9040749) (113d36'23.41"W, 43d54'14.67"N)
Band 1 Block=901x2 Type=Float32, ColorInterp=Gray

I couldn't find any docs on this. Is this known and/or expected? I would
think scale and offset would be transferred to the new file.

/**
 *
 * Kyle Shannon
 * ksshannon@gmail.com
 *
 */
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120321/1c889bc5/attachment.html
From warmerdam at pobox.com  Wed Mar 21 18:08:05 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar 21 18:08:28 2012
Subject: [gdal-dev] gdalwarp eats scale and offset
In-Reply-To: <CAJ0mEz08y46SAYiFOysEWiLvHYP4DxDMC1a7wKkLia3QHR_oYQ@mail.gmail.com>
References: <CAJ0mEz08y46SAYiFOysEWiLvHYP4DxDMC1a7wKkLia3QHR_oYQ@mail.gmail.com>
Message-ID: <CA+YzLBeZp99uqpG6ofwZ5N_cOKisJCn8QxVpcVffPvZ6bJ-DGg@mail.gmail.com>

On Wed, Mar 21, 2012 at 3:01 PM, Kyle Shannon <ksshannon@gmail.com> wrote:
> If I have a dataset with a scale and offset:
...
> I couldn't find any docs on this. Is this known and/or expected? I would
> think scale and offset would be transferred to the new file.

Kyle,

Scale and offset are basically a form of metadata, and it is ambiguous
how much metadata gets transferred by processing tasks, like gdalwarp.
In cases where gdalwarp is being used to warp into an existing output
file it would not be appropriate to transfer the scale and offset.
However, in the case that gdalwarp is initializing a new output file
it would seem reasonable to also copy over the scale and offset.

I believe some recent changes were made to copy other metadata,
and this would seem to fall into a similar category.  I'd suggest
fixing yourself, or writing up a ticket on the topic.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From etourigny.dev at gmail.com  Wed Mar 21 19:04:39 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Wed Mar 21 19:05:28 2012
Subject: [gdal-dev] gdalwarp eats scale and offset
In-Reply-To: <CA+YzLBeZp99uqpG6ofwZ5N_cOKisJCn8QxVpcVffPvZ6bJ-DGg@mail.gmail.com>
References: <CAJ0mEz08y46SAYiFOysEWiLvHYP4DxDMC1a7wKkLia3QHR_oYQ@mail.gmail.com>
	<CA+YzLBeZp99uqpG6ofwZ5N_cOKisJCn8QxVpcVffPvZ6bJ-DGg@mail.gmail.com>
Message-ID: <CA+TxYvOS1JuKPQitci8PagO=ftxaJLqE_jCszTvE5-JZQNSMkA@mail.gmail.com>

I am the author of those changes (adding metadata copy to gdalwarp),
and I must confess I had not thought of scale and offset.

What I did do was add non-conflicting metadata (at the dataset and
band level) and some band-related stuff like description.
I have just tested and gdalwarp does not pass the offset and scale_factor.

Kyle - could you check out trunk and have a look? If you need any
pointers on the new code just ask.

regards,
Etienne

On Wed, Mar 21, 2012 at 7:08 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> On Wed, Mar 21, 2012 at 3:01 PM, Kyle Shannon <ksshannon@gmail.com> wrote:
>> If I have a dataset with a scale and offset:
> ...
>> I couldn't find any docs on this. Is this known and/or expected? I would
>> think scale and offset would be transferred to the new file.
>
> Kyle,
>
> Scale and offset are basically a form of metadata, and it is ambiguous
> how much metadata gets transferred by processing tasks, like gdalwarp.
> In cases where gdalwarp is being used to warp into an existing output
> file it would not be appropriate to transfer the scale and offset.
> However, in the case that gdalwarp is initializing a new output file
> it would seem reasonable to also copy over the scale and offset.
>
> I believe some recent changes were made to copy other metadata,
> and this would seem to fall into a similar category. ?I'd suggest
> fixing yourself, or writing up a ticket on the topic.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush? ? | Geospatial Software Developer
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From Bill.Teluk at team.telstra.com  Thu Mar 22 00:26:27 2012
From: Bill.Teluk at team.telstra.com (Bill Teluk)
Date: Thu Mar 22 00:31:54 2012
Subject: [gdal-dev] RE: Oracle Locator Support
In-Reply-To: <94D09947F0049948855245E630E6FA4E81E76A@si0140.mrw.wallonie.int>
References: <1330658906186-4538403.post@n6.nabble.com>
	<94D09947F0049948855245E630E6FA4E81E76A@si0140.mrw.wallonie.int>
Message-ID: <1332390387543-4643424.post@n6.nabble.com>

Thanks Nicolas!

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Oracle-Locator-Support-tp4538403p4643424.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From sdineshdass at gmail.com  Thu Mar 22 00:35:02 2012
From: sdineshdass at gmail.com (Dinesh Dass Subramanian)
Date: Thu Mar 22 00:35:25 2012
Subject: [gdal-dev] gdaltransform utility not working in web service
In-Reply-To: <4F696806.4080106@pobox.com>
References: <CAF2TeZQo+Ceq9e_BOjqbXms6-isMW0WskB6jPgzG1wKRRTu6hw@mail.gmail.com>
	<4F696806.4080106@pobox.com>
Message-ID: <CAF2TeZQxRtWfbALLMcWVB2WiOpd-F=o0k84HMQ1mtP5togdbSg@mail.gmail.com>

Dear Frank,

Thanks for your help. I have added the LD_LIBRARY_PATH and there is no
error in the output file.But new message is coming while I try to
execute the gdaltransform or any other utility in my web service.

op.text
--------
 Usage: gdaltransform [--help-general]
      [-i] [-s_srs srs_def] [-t_srs srs_def] [-to \"NAME=VALUE\"]
      [-order n] [-tps] [-rpc] [-geoloc]
      [-gcp pixel line easting northing [elevation]]
      [srcfile [dstfile]]

I have debugged the code and upto the commandline class, it is working
fine. The commandline class is able to interpret the gdaltransform as
executable and the remaining strings as arguments. But the exectask
class could not execute the command. Please suggest. Thanks.


On 3/21/12, Frank Warmerdam <warmerdam@pobox.com> wrote:
> On 12-03-19 07:44 AM, Dinesh Dass Subramanian wrote:
>> Hi,
>>
>>
>> I'm trying to develop a web service for gdaltransform utility that gets
>> four
>> coordinates as input and write it in an input file. Then the gdaltransform
>> utility is executed as in commandline to produce the output in the output
>> file.
>> I have the RPC file in the same path. The problem is the gdaltransform is
>> not
>> getting executed while I run the web service. But the same command works
>> in
>> normal commandline mode. Please help to resolve this problem. Thanks.
> ...
>> *op.txt (error shown)*
>> *---------*
>> gdaltransform: error while loading shared libraries: libgdal1.7.0.so.1:
>> cannot
>> open shared object file: No such file or directory
>
> Dinesh,
>
> This a normal error indicating that the libgdal1.7.0.so.1 shared library
> is not being found.  Normally I'd address this by adding a "SetEnv"
> directive
> in my apache file setting LD_LIBRARY_PATH to include the directory with
> the libgdal1.7.0.so.1 file.  It might also make sense to put that file
> somewhere like /usr/lib and use ldconfig - see the ldconfig or ld.so.conf
> man pages for more information on this.  This is in no way a GDAL specific
> issue.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://home.gdal.org/warmerda
> and watch the world go round - Rush    | Geospatial Software Developer
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Regards,
S.Dinesh Dass,
M.Tech - Remote Sensing,
Institute of Remote Sensing,
Anna University,
Chennai.
Mob: +91-9976033932
From chaitanya.ch at gmail.com  Thu Mar 22 01:57:00 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Mar 22 01:57:48 2012
Subject: [gdal-dev] gdaltransform utility not working in web service
In-Reply-To: <CAF2TeZQxRtWfbALLMcWVB2WiOpd-F=o0k84HMQ1mtP5togdbSg@mail.gmail.com>
References: <CAF2TeZQo+Ceq9e_BOjqbXms6-isMW0WskB6jPgzG1wKRRTu6hw@mail.gmail.com>
	<4F696806.4080106@pobox.com>
	<CAF2TeZQxRtWfbALLMcWVB2WiOpd-F=o0k84HMQ1mtP5togdbSg@mail.gmail.com>
Message-ID: <CAMKgpOZWwzsRoobt94A4AEd4PO_umz1wQO+BhC+ROqqw_KY4Pw@mail.gmail.com>

Dinesh,

You gave the path to a tiff file as an argument from which the projection
definition or the GCPs will be extracted. So there should be no need for it
to read from inputAoiPath.
Please elaborate on how you are trying to do this.

On Thu, Mar 22, 2012 at 10:05 AM, Dinesh Dass Subramanian <
sdineshdass@gmail.com> wrote:

> Dear Frank,
>
> Thanks for your help. I have added the LD_LIBRARY_PATH and there is no
> error in the output file.But new message is coming while I try to
> execute the gdaltransform or any other utility in my web service.
>
> op.text
> --------
>  Usage: gdaltransform [--help-general]
>      [-i] [-s_srs srs_def] [-t_srs srs_def] [-to \"NAME=VALUE\"]
>      [-order n] [-tps] [-rpc] [-geoloc]
>      [-gcp pixel line easting northing [elevation]]
>      [srcfile [dstfile]]
>
> I have debugged the code and upto the commandline class, it is working
> fine. The commandline class is able to interpret the gdaltransform as
> executable and the remaining strings as arguments. But the exectask
> class could not execute the command. Please suggest. Thanks.
>
>
> On 3/21/12, Frank Warmerdam <warmerdam@pobox.com> wrote:
> > On 12-03-19 07:44 AM, Dinesh Dass Subramanian wrote:
> >> Hi,
> >>
> >>
> >> I'm trying to develop a web service for gdaltransform utility that gets
> >> four
> >> coordinates as input and write it in an input file. Then the
> gdaltransform
> >> utility is executed as in commandline to produce the output in the
> output
> >> file.
> >> I have the RPC file in the same path. The problem is the gdaltransform
> is
> >> not
> >> getting executed while I run the web service. But the same command works
> >> in
> >> normal commandline mode. Please help to resolve this problem. Thanks.
> > ...
> >> *op.txt (error shown)*
> >> *---------*
> >> gdaltransform: error while loading shared libraries: libgdal1.7.0.so.1:
> >> cannot
> >> open shared object file: No such file or directory
> >
> > Dinesh,
> >
> > This a normal error indicating that the libgdal1.7.0.so.1 shared library
> > is not being found.  Normally I'd address this by adding a "SetEnv"
> > directive
> > in my apache file setting LD_LIBRARY_PATH to include the directory with
> > the libgdal1.7.0.so.1 file.  It might also make sense to put that file
> > somewhere like /usr/lib and use ldconfig - see the ldconfig or ld.so.conf
> > man pages for more information on this.  This is in no way a GDAL
> specific
> > issue.
> >
> > Best regards,
> > --
> >
> ---------------------------------------+--------------------------------------
> > I set the clouds in motion - turn up   | Frank Warmerdam,
> > warmerdam@pobox.com
> > light and sound - activate the windows | http://home.gdal.org/warmerda
> > and watch the world go round - Rush    | Geospatial Software Developer
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
> --
> Regards,
> S.Dinesh Dass,
> M.Tech - Remote Sensing,
> Institute of Remote Sensing,
> Anna University,
> Chennai.
> Mob: +91-9976033932
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120322/1ef99d64/attachment-0001.html
From jrepetto at free.fr  Thu Mar 22 09:03:34 2012
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu Mar 22 09:04:17 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
Message-ID: <4F6B2326.7000702@free.fr>

Hello,

Since a few weeks, I have a problem to compile GDAL trunk on one of my 
PCs. But it works on others, so I think there is a problem on the PC.
This PC runs Linux 32 bits (Gentoo), and gcc version is 4.5.3.

The first error occur in this line :
typedef voidpf (ZCALLBACK *open_file_func) OF((voidpf opaque, const 
char* filename, int mode));
cpl_minizip_ioapi.h:48:44: error: expected initializer before 'OF'

Any idea of what may be wrong on my PC ?

Here is the log :

make[1]: Entering directory `/home/jcr/gdal_map/port'
/bin/sh /home/jcr/gdal_map/libtool --mode=compile --tag=CXX g++ -g -O2 
-Wall  -DOGR_ENABLED -I/home/jcr/gdal_map/port 	  -DHAVE_CURL 
-DHAVE_LIBZ -c -o cpl_vsil_gzip.lo cpl_vsil_gzip.cpp
libtool: compile:  g++ -g -O2 -Wall -DOGR_ENABLED 
-I/home/jcr/gdal_map/port -DHAVE_CURL -DHAVE_LIBZ -c cpl_vsil_gzip.cpp 
-fPIC -DPIC -o .libs/cpl_vsil_gzip.o
In file included from cpl_minizip_unzip.h:71:0,
                  from cpl_vsil_gzip.cpp:84:
cpl_minizip_ioapi.h:48:44: error: expected initializer before 'OF'
cpl_minizip_ioapi.h:49:44: error: expected initializer before 'OF'
cpl_minizip_ioapi.h:50:45: error: expected initializer before 'OF'
cpl_minizip_ioapi.h:51:47: error: expected initializer before 'OF'
cpl_minizip_ioapi.h:52:44: error: expected initializer before 'OF'
cpl_minizip_ioapi.h:53:45: error: expected initializer before 'OF'
cpl_minizip_ioapi.h:54:49: error: expected initializer before 'OF'
cpl_minizip_ioapi.h:58:5: error: 'open_file_func' does not name a type
cpl_minizip_ioapi.h:59:5: error: 'read_file_func' does not name a type
cpl_minizip_ioapi.h:60:5: error: 'write_file_func' does not name a type
cpl_minizip_ioapi.h:61:5: error: 'tell_file_func' does not name a type
cpl_minizip_ioapi.h:62:5: error: 'seek_file_func' does not name a type
cpl_minizip_ioapi.h:63:5: error: 'close_file_func' does not name a type
cpl_minizip_ioapi.h:64:5: error: 'testerror_file_func' does not name a type
cpl_minizip_ioapi.h:70:30: error: expected initializer before 'OF'
In file included from cpl_vsil_gzip.cpp:84:0:
cpl_minizip_unzip.h:141:49: error: expected initializer before 'OF'
cpl_minizip_unzip.h:154:36: error: expected initializer before 'OF'
cpl_minizip_unzip.h:165:37: error: expected initializer before 'OF'
cpl_minizip_unzip.h:172:33: error: expected initializer before 'OF'
cpl_minizip_unzip.h:179:41: error: expected initializer before 'OF'
cpl_minizip_unzip.h:187:44: error: expected initializer before 'OF'
cpl_minizip_unzip.h:200:41: error: expected initializer before 'OF'
cpl_minizip_unzip.h:206:40: error: expected initializer before 'OF'
cpl_minizip_unzip.h:213:38: error: expected initializer before 'OF'
cpl_minizip_unzip.h:245:46: error: expected initializer before 'OF'
cpl_minizip_unzip.h:269:56: error: expected initializer before 'OF'
cpl_minizip_unzip.h:279:43: error: expected initializer before 'OF'
cpl_minizip_unzip.h:285:51: error: expected initializer before 'OF'
cpl_minizip_unzip.h:293:44: error: expected initializer before 'OF'
cpl_minizip_unzip.h:306:44: error: expected initializer before 'OF'
cpl_minizip_unzip.h:321:44: error: expected initializer before 'OF'
cpl_minizip_unzip.h:327:43: error: expected initializer before 'OF'
cpl_minizip_unzip.h:341:36: error: expected initializer before 'OF'
cpl_minizip_unzip.h:346:31: error: expected initializer before 'OF'
cpl_minizip_unzip.h:351:46: error: expected initializer before 'OF'
cpl_vsil_gzip.cpp: In constructor 'VSIZipReader::VSIZipReader(const char*)':
cpl_vsil_gzip.cpp:1617:38: error: 'cpl_unzOpen' was not declared in this 
scope
cpl_vsil_gzip.cpp: In destructor 'virtual VSIZipReader::~VSIZipReader()':
cpl_vsil_gzip.cpp:1629:26: error: 'cpl_unzClose' was not declared in 
this scope
cpl_vsil_gzip.cpp: In member function 'void VSIZipReader::SetInfo()':
cpl_vsil_gzip.cpp:1640:81: error: 'cpl_unzGetCurrentFileInfo' was not 
declared in this scope
cpl_vsil_gzip.cpp: In member function 'virtual int 
VSIZipReader::GotoNextFile()':
cpl_vsil_gzip.cpp:1661:33: error: 'cpl_unzGoToNextFile' was not declared 
in this scope
cpl_vsil_gzip.cpp: In member function 'virtual int 
VSIZipReader::GotoFirstFile()':
cpl_vsil_gzip.cpp:1675:34: error: 'cpl_unzGoToFirstFile' was not 
declared in this scope
cpl_vsil_gzip.cpp: In member function 'virtual VSIVirtualHandle* 
VSIZipFilesystemHandler::Open(const char*, const char*)':
cpl_vsil_gzip.cpp:1880:32: error: 'cpl_unzOpenCurrentFile' was not 
declared in this scope
cpl_vsil_gzip.cpp:1882:55: error: 'cpl_unzGetCurrentFileZStreamPos' was 
not declared in this scope
cpl_vsil_gzip.cpp:1885:75: error: 'cpl_unzGetCurrentFileInfo' was not 
declared in this scope
cpl_vsil_gzip.cpp:1887:33: error: 'cpl_unzCloseCurrentFile' was not 
declared in this scope
make[1]: *** [cpl_vsil_gzip.lo] Error 1
make[1]: Leaving directory `/home/jcr/gdal_map/port'
make: *** [port-target] Error 2


Thanks,
Jean-Claude
From even.rouault at mines-paris.org  Thu Mar 22 09:53:25 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 22 09:53:34 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <4F6B2326.7000702@free.fr>
References: <4F6B2326.7000702@free.fr>
Message-ID: <1332424405.4f6b2ed52c5ae@imp.free.fr>

Selon Jean-Claude Repetto <jrepetto@free.fr>:

> Hello,
>
> Since a few weeks, I have a problem to compile GDAL trunk on one of my
> PCs. But it works on others, so I think there is a problem on the PC.
> This PC runs Linux 32 bits (Gentoo), and gcc version is 4.5.3.
>
> The first error occur in this line :
> typedef voidpf (ZCALLBACK *open_file_func) OF((voidpf opaque, const
> char* filename, int mode));
> cpl_minizip_ioapi.h:48:44: error: expected initializer before 'OF'
>
> Any idea of what may be wrong on my PC ?
>

I see OF is a macro defined in zconf.h of zlib. At least in zlib 1.2.3, perhaps
an issue with newer zlib ?
From jrepetto at free.fr  Thu Mar 22 10:24:41 2012
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu Mar 22 10:25:40 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <1332424405.4f6b2ed52c5ae@imp.free.fr>
References: <4F6B2326.7000702@free.fr> <1332424405.4f6b2ed52c5ae@imp.free.fr>
Message-ID: <4F6B3629.7010209@free.fr>

Le 22/03/2012 14:53, Even Rouault a ?crit :
> Selon Jean-Claude Repetto<jrepetto@free.fr>:
>
>> Hello,
>>
>> Since a few weeks, I have a problem to compile GDAL trunk on one of my
>> PCs. But it works on others, so I think there is a problem on the PC.
>> This PC runs Linux 32 bits (Gentoo), and gcc version is 4.5.3.
>>
>> The first error occur in this line :
>> typedef voidpf (ZCALLBACK *open_file_func) OF((voidpf opaque, const
>> char* filename, int mode));
>> cpl_minizip_ioapi.h:48:44: error: expected initializer before 'OF'
>>
>> Any idea of what may be wrong on my PC ?
>>
>
> I see OF is a macro defined in zconf.h of zlib. At least in zlib 1.2.3, perhaps
> an issue with newer zlib ?

You are right : If I install zlib-1.2.6 in place of zlib-1.2.5, the 
error appears. At this time, I'm not sure if it is a problem with zlib 
or with Gentoo, I'll try to investigate.

If you have enough time, could you try zlib-1.2.6 ?

Thanks,
Jean-Claude

From KShannon at gcs-research.com  Thu Mar 22 11:35:04 2012
From: KShannon at gcs-research.com (Kyle Shannon)
Date: Thu Mar 22 11:36:03 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <4F6B3629.7010209@free.fr>
References: <4F6B2326.7000702@free.fr>
	<1332424405.4f6b2ed52c5ae@imp.free.fr> <4F6B3629.7010209@free.fr>
Message-ID: <2DD24CD6225DC04C81CF12523261F4B975AA2BA9@MAIL.gcs-research.net>

Jean Claude,
I have a gdal test machine running Ubuntu 11.10.  I build zlib 1.2.6 and built and linked gdal against it no problems.  Probably doesn't help much.

kss

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jean-Claude Repetto
Sent: Thursday, March 22, 2012 8:25 AM
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Error when compiling GDAL trunk

Le 22/03/2012 14:53, Even Rouault a ?crit :
> Selon Jean-Claude Repetto<jrepetto@free.fr>:
>
>> Hello,
>>
>> Since a few weeks, I have a problem to compile GDAL trunk on one of 
>> my PCs. But it works on others, so I think there is a problem on the PC.
>> This PC runs Linux 32 bits (Gentoo), and gcc version is 4.5.3.
>>
>> The first error occur in this line :
>> typedef voidpf (ZCALLBACK *open_file_func) OF((voidpf opaque, const
>> char* filename, int mode));
>> cpl_minizip_ioapi.h:48:44: error: expected initializer before 'OF'
>>
>> Any idea of what may be wrong on my PC ?
>>
>
> I see OF is a macro defined in zconf.h of zlib. At least in zlib 
> 1.2.3, perhaps an issue with newer zlib ?

You are right : If I install zlib-1.2.6 in place of zlib-1.2.5, the error appears. At this time, I'm not sure if it is a problem with zlib or with Gentoo, I'll try to investigate.

If you have enough time, could you try zlib-1.2.6 ?

Thanks,
Jean-Claude

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From jrepetto at free.fr  Thu Mar 22 12:28:14 2012
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu Mar 22 12:29:16 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <2DD24CD6225DC04C81CF12523261F4B975AA2BA9@MAIL.gcs-research.net>
References: <4F6B2326.7000702@free.fr> <1332424405.4f6b2ed52c5ae@imp.free.fr>
	<4F6B3629.7010209@free.fr>
	<2DD24CD6225DC04C81CF12523261F4B975AA2BA9@MAIL.gcs-research.net>
Message-ID: <4F6B531E.2030202@free.fr>

Le 22/03/2012 16:35, Kyle Shannon a ?crit :
> Jean Claude,
> I have a gdal test machine running Ubuntu 11.10.  I build zlib 1.2.6 and built and linked gdal against it no problems.  Probably doesn't help much.
>

It seems the problem is specific to Gentoo. Please read 
https://bugs.gentoo.org/show_bug.cgi?id=383179 .

Some people say that the OF macro is a zlib internal macro and should 
not be used in applications.

Regards,
Jean-Claude
From mateusz at loskot.net  Thu Mar 22 12:41:18 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Mar 22 12:42:21 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <4F6B531E.2030202@free.fr>
References: <4F6B2326.7000702@free.fr> <1332424405.4f6b2ed52c5ae@imp.free.fr>
	<4F6B3629.7010209@free.fr>
	<2DD24CD6225DC04C81CF12523261F4B975AA2BA9@MAIL.gcs-research.net>
	<4F6B531E.2030202@free.fr>
Message-ID: <CABUeae93hn1Zaea126nv+0W7OkQm0UbWOLMRqEFx3BXq41vH-Q@mail.gmail.com>

On 22 March 2012 16:28, Jean-Claude Repetto <jrepetto@free.fr> wrote:
> Le 22/03/2012 16:35, Kyle Shannon a ?crit :
>>
>> Jean Claude,
>> I have a gdal test machine running Ubuntu 11.10. ?I build zlib 1.2.6 and
>> built and linked gdal against it no problems. ?Probably doesn't help much.
>>
>
> It seems the problem is specific to Gentoo. Please read
> https://bugs.gentoo.org/show_bug.cgi?id=383179 .
>
> Some people say that the OF macro is a zlib internal macro and should not be
> used in applications.

Indeed, some say "using the macros "OF" and "IF" in your own code is dumb"
I'd add, defining macros with such names in public headers is even more...
IMO, zlib should fix that too.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From saad.hessane at gmail.com  Thu Mar 22 13:04:29 2012
From: saad.hessane at gmail.com (=?ISO-8859-1?Q?Sa=E2d_HESSANE?=)
Date: Thu Mar 22 13:04:54 2012
Subject: [gdal-dev] Contrast, Brightness and Gamma
In-Reply-To: <CAMKgpOZGUeO8Nou-XYE5i5MORba3bc0gEAiKoFxEGZeHaJrHPw@mail.gmail.com>
References: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
	<CAMKgpOZGUeO8Nou-XYE5i5MORba3bc0gEAiKoFxEGZeHaJrHPw@mail.gmail.com>
Message-ID: <CAEcp1tA-jSe-og4vnoaEpqAOxUJkGznSLYwjzSYpBWD=jY=-fw@mail.gmail.com>

Hi,

I think the method described by Chaitanya in the VRT : "<LUT>[src value
1]:[dest value 1],[src value 2]:[dest value 2]</LUT>"  is equivalent to do
"-scale srcMin srcMax dstMin dstMax", right?
So why when I do "-scale 0 65535 0 120" the output have pixels values
greater than 120 ?

Thank you.



2012/3/20 Chaitanya kumar CH <chaitanya.ch@gmail.com>

> Sa?d,
>
> Gamma correction is more related to displaying the data than the data
> itself.
> You can, however, modify the contrast and brightness of the dataset.
>
> Using LUT is not hard to learn as long as you know what you want.
> A simple method is the stretch the data linearly along the whole range.
> For that, your LUT element looks like this:
>
> <LUT>[src value 1]:[dest value 1],[src value 2]:[dest value 2]</LUT>
>
> There are only four values.
> src value 1: This should be the least value of the pixels in the source
> raster band.
> src value 2: This should be the greatest value of the pixels in the source
> raster band.
> dest value 1: This should be the least value the data type of the raster
> band can hold. That would usually be zero.
> dest value 2: This should be the greatest value the data type of the
> raster band can hold. That would be 255, 65535 and 4294967295 for 8bit,
> 16bit and 32bit raster bands.
>
> The VRT driver calculates the intermediate values. The result here would
> be similar to using the scale ratio and offset parameters.
>
> On Tue, Mar 20, 2012 at 9:25 PM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:
>
>> Hi list,
>>
>> I use gdal_translate to convert 16bits images to 8bits images. The
>> gdal_translate have the -scale argument to specify the convertion range
>> (source->destination).
>> If I change the destination range (dst_min and dst_max), I can do
>> manually a brightness correction (also a contrast correction).
>>
>> But is there any way to do that with a Photoshop like method?
>> For example set a brightness to -50, a contrast to +8 and let
>> gdal_translate do the job ?
>>
>> Also can I apply a gamma correction?
>>
>> I saw the VRT format and there's a way to apply a LUT. But I don't think
>> a LUT of 65536 values is the best way to apply the correction.
>>
>> Also the VRT have the scale ratio and scale offset elements. I think it
>> can be useful but I don't understand how use it...
>>
>> So simply put, my question : can I do a contrast, brightness or gamma
>> correction to a raster with gdal?
>>
>> Thank you !
>>
>> PS : I apologize for my broken English !
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120322/84e2a6ca/attachment.html
From chaitanya.ch at gmail.com  Thu Mar 22 13:14:13 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Mar 22 13:15:05 2012
Subject: [gdal-dev] Contrast, Brightness and Gamma
In-Reply-To: <CAEcp1tDuvbuSfo-pZ+nsm0sZ18xLd0vOiKC2PYXLkxvK=WKpvA@mail.gmail.com>
References: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
	<4F68B550.3000505@geoanalytic.com>
	<CAEcp1tDuvbuSfo-pZ+nsm0sZ18xLd0vOiKC2PYXLkxvK=WKpvA@mail.gmail.com>
Message-ID: <CAMKgpOYhmEgQ7=PEw85eu0D=_kjcUuE60TfH1r2eRo3DAVgaUg@mail.gmail.com>

Sa?d,

It is better to have a combined LUT. It will save processing time and data
degradation.
Be informed that GDAL VRT is not specialized for this work. To get a smooth
curve as LUT, use some other graphics application that can handle 16bit
rasters.

On Wed, Mar 21, 2012 at 6:00 AM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:

> Thank's all for your answers.
> I will use the LUT method, cause is the most right for me.
>
> Chaitanya said : "Gamma correction is more related to displaying the data
> than the data itself".
> Not in my case. I have to do this correction. But how to do that? Do i
> embed a VRT with a contrast correction LUT, in another VRT with a gamma
> correction LUT ? Or there is a method to declare LUTs in order to execute
> in the same vrt ?
>
> Thank's again !
>
>
>
> 2012/3/20 Brent Fraser <bfraser@geoanalytic.com>
>
>>  I like to use gdal_contrast_stretch from
>> http://www.gina.alaska.edu/projects/gina-tools/
>>
>> Usage: gdal_contrast_stretch <src.tif> <dst.tif>
>>   { { -linear-stretch <target_avg> <target_stddev> } |
>>     { -percentile-range <from: 0.0-1.0> <to: 0.0-1.0> } |
>>     { -histeq <target_stddev> } }
>>   [ -ndv <no_data_val> ]
>> Input must be either 8-bit or 16-bit.  Output is 8-bit.
>>
>> For example:
>>
>> gdal_contrast_stretch -percentile-range 0.02 0.98 input16bit.tif
>> output8bit.tif
>>
>> Best Regards,
>> Brent Fraser
>>
>>
>> On 3/20/2012 9:55 AM, Sa?d HESSANE wrote:
>>
>> Hi list,
>>
>> I use gdal_translate to convert 16bits images to 8bits images. The
>> gdal_translate have the -scale argument to specify the convertion range
>> (source->destination).
>> If I change the destination range (dst_min and dst_max), I can do
>> manually a brightness correction (also a contrast correction).
>>
>> But is there any way to do that with a Photoshop like method?
>> For example set a brightness to -50, a contrast to +8 and let
>> gdal_translate do the job ?
>>
>> Also can I apply a gamma correction?
>>
>> I saw the VRT format and there's a way to apply a LUT. But I don't think
>> a LUT of 65536 values is the best way to apply the correction.
>>
>> Also the VRT have the scale ratio and scale offset elements. I think it
>> can be useful but I don't understand how use it...
>>
>> So simply put, my question : can I do a contrast, brightness or gamma
>> correction to a raster with gdal?
>>
>> Thank you !
>>
>> PS : I apologize for my broken English !
>>
>>
>> _______________________________________________
>> gdal-dev mailing listgdal-dev@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120322/e15f8ff7/attachment.html
From saad.hessane at gmail.com  Thu Mar 22 13:52:34 2012
From: saad.hessane at gmail.com (=?ISO-8859-1?Q?Sa=E2d_HESSANE?=)
Date: Thu Mar 22 13:53:05 2012
Subject: [gdal-dev] Contrast, Brightness and Gamma
In-Reply-To: <CAMKgpOYhmEgQ7=PEw85eu0D=_kjcUuE60TfH1r2eRo3DAVgaUg@mail.gmail.com>
References: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
	<4F68B550.3000505@geoanalytic.com>
	<CAEcp1tDuvbuSfo-pZ+nsm0sZ18xLd0vOiKC2PYXLkxvK=WKpvA@mail.gmail.com>
	<CAMKgpOYhmEgQ7=PEw85eu0D=_kjcUuE60TfH1r2eRo3DAVgaUg@mail.gmail.com>
Message-ID: <CAEcp1tD3+mGKYiRQnEmb7G45HOsgVJK0+Hfi3RCcuiSrx7Ra1A@mail.gmail.com>

Hy Chaitanya,

I applied a LUT to the VRT. It's work fine, and all pixel are between
dst_min and dst_max.
But why this is not work with the -scale parameter? The doc is clear :
http://www.gdal.org/gdal_translate.html.
"Rescale the input pixels values from the range *src_min* to *src_max* to
the range *dst_min* to *dst_max*."
Is it a bug?


2012/3/22 Chaitanya kumar CH <chaitanya.ch@gmail.com>

> Sa?d,
>
> It is better to have a combined LUT. It will save processing time and data
> degradation.
> Be informed that GDAL VRT is not specialized for this work. To get a
> smooth curve as LUT, use some other graphics application that can handle
> 16bit rasters.
>
>
> On Wed, Mar 21, 2012 at 6:00 AM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:
>
>> Thank's all for your answers.
>> I will use the LUT method, cause is the most right for me.
>>
>> Chaitanya said : "Gamma correction is more related to displaying the data
>> than the data itself".
>> Not in my case. I have to do this correction. But how to do that? Do i
>> embed a VRT with a contrast correction LUT, in another VRT with a gamma
>> correction LUT ? Or there is a method to declare LUTs in order to execute
>> in the same vrt ?
>>
>> Thank's again !
>>
>>
>>
>> 2012/3/20 Brent Fraser <bfraser@geoanalytic.com>
>>
>>>  I like to use gdal_contrast_stretch from
>>> http://www.gina.alaska.edu/projects/gina-tools/
>>>
>>> Usage: gdal_contrast_stretch <src.tif> <dst.tif>
>>>   { { -linear-stretch <target_avg> <target_stddev> } |
>>>     { -percentile-range <from: 0.0-1.0> <to: 0.0-1.0> } |
>>>     { -histeq <target_stddev> } }
>>>   [ -ndv <no_data_val> ]
>>> Input must be either 8-bit or 16-bit.  Output is 8-bit.
>>>
>>> For example:
>>>
>>> gdal_contrast_stretch -percentile-range 0.02 0.98 input16bit.tif
>>> output8bit.tif
>>>
>>> Best Regards,
>>> Brent Fraser
>>>
>>>
>>> On 3/20/2012 9:55 AM, Sa?d HESSANE wrote:
>>>
>>> Hi list,
>>>
>>> I use gdal_translate to convert 16bits images to 8bits images. The
>>> gdal_translate have the -scale argument to specify the convertion range
>>> (source->destination).
>>> If I change the destination range (dst_min and dst_max), I can do
>>> manually a brightness correction (also a contrast correction).
>>>
>>> But is there any way to do that with a Photoshop like method?
>>> For example set a brightness to -50, a contrast to +8 and let
>>> gdal_translate do the job ?
>>>
>>> Also can I apply a gamma correction?
>>>
>>> I saw the VRT format and there's a way to apply a LUT. But I don't think
>>> a LUT of 65536 values is the best way to apply the correction.
>>>
>>> Also the VRT have the scale ratio and scale offset elements. I think it
>>> can be useful but I don't understand how use it...
>>>
>>> So simply put, my question : can I do a contrast, brightness or gamma
>>> correction to a raster with gdal?
>>>
>>> Thank you !
>>>
>>> PS : I apologize for my broken English !
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing listgdal-dev@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120322/3b70f126/attachment-0001.html
From armin.burger at gmx.net  Thu Mar 22 14:26:56 2012
From: armin.burger at gmx.net (Armin Burger)
Date: Thu Mar 22 14:27:39 2012
Subject: [gdal-dev] VRT derived band, pixel functions and Python bindings
Message-ID: <4F6B6EF0.3000309@gmx.net>

Hi all

I set up 2 pixel functions to be used with VRT images and derived bands. 
This works fine with the GDAL utilities and also with MapServer and 
Python MapScript.

If I try however to load the pixel functions in GDAL-Python as drivers, 
I run into problems. The following code

   from osgeo import gdal
   import os

   os.putenv("GDAL_DRIVER_PATH", "/usr/local/share/gdal/gdalplugins")
   gdal.AllRegister()

produces the error:

python: symbol lookup error: /usr/local/share/gdal/gdalplugins 
/gdal_SpotBlue.so: undefined symbol: GDALAddDerivedBandPixelFunc


So is this sort of a bug or is this functionality not available via the 
GDAL Python bindings? Environment is Linux, GDAL 1.9, Python 2.6.

Thanks for any help
Armin
From chaitanya.ch at gmail.com  Thu Mar 22 14:42:49 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Mar 22 14:43:32 2012
Subject: [gdal-dev] Contrast, Brightness and Gamma
In-Reply-To: <CAEcp1tD3+mGKYiRQnEmb7G45HOsgVJK0+Hfi3RCcuiSrx7Ra1A@mail.gmail.com>
References: <CAEcp1tAxdvk8oxnWnskmRSVHfm_WwO0JEsyw4FXu9BBywnQeCA@mail.gmail.com>
	<4F68B550.3000505@geoanalytic.com>
	<CAEcp1tDuvbuSfo-pZ+nsm0sZ18xLd0vOiKC2PYXLkxvK=WKpvA@mail.gmail.com>
	<CAMKgpOYhmEgQ7=PEw85eu0D=_kjcUuE60TfH1r2eRo3DAVgaUg@mail.gmail.com>
	<CAEcp1tD3+mGKYiRQnEmb7G45HOsgVJK0+Hfi3RCcuiSrx7Ra1A@mail.gmail.com>
Message-ID: <CAMKgpOYG+TLs3tM0LF3HwiEq8OwZOMEt0DB9piuHE14ZFD3yjA@mail.gmail.com>

Sa?d,

Can you provide the vrt file and the commands you used?

On Thu, Mar 22, 2012 at 11:22 PM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:

> Hy Chaitanya,
>
> I applied a LUT to the VRT. It's work fine, and all pixel are between
> dst_min and dst_max.
> But why this is not work with the -scale parameter? The doc is clear :
> http://www.gdal.org/gdal_translate.html.
> "Rescale the input pixels values from the range *src_min* to *src_max* to
> the range *dst_min* to *dst_max*."
> Is it a bug?
>
>
>
> 2012/3/22 Chaitanya kumar CH <chaitanya.ch@gmail.com>
>
>> Sa?d,
>>
>> It is better to have a combined LUT. It will save processing time and
>> data degradation.
>> Be informed that GDAL VRT is not specialized for this work. To get a
>> smooth curve as LUT, use some other graphics application that can handle
>> 16bit rasters.
>>
>>
>> On Wed, Mar 21, 2012 at 6:00 AM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:
>>
>>> Thank's all for your answers.
>>> I will use the LUT method, cause is the most right for me.
>>>
>>> Chaitanya said : "Gamma correction is more related to displaying the
>>> data than the data itself".
>>> Not in my case. I have to do this correction. But how to do that? Do i
>>> embed a VRT with a contrast correction LUT, in another VRT with a gamma
>>> correction LUT ? Or there is a method to declare LUTs in order to execute
>>> in the same vrt ?
>>>
>>> Thank's again !
>>>
>>>
>>>
>>> 2012/3/20 Brent Fraser <bfraser@geoanalytic.com>
>>>
>>>>  I like to use gdal_contrast_stretch from
>>>> http://www.gina.alaska.edu/projects/gina-tools/
>>>>
>>>> Usage: gdal_contrast_stretch <src.tif> <dst.tif>
>>>>   { { -linear-stretch <target_avg> <target_stddev> } |
>>>>     { -percentile-range <from: 0.0-1.0> <to: 0.0-1.0> } |
>>>>     { -histeq <target_stddev> } }
>>>>   [ -ndv <no_data_val> ]
>>>> Input must be either 8-bit or 16-bit.  Output is 8-bit.
>>>>
>>>> For example:
>>>>
>>>> gdal_contrast_stretch -percentile-range 0.02 0.98 input16bit.tif
>>>> output8bit.tif
>>>>
>>>> Best Regards,
>>>> Brent Fraser
>>>>
>>>>
>>>> On 3/20/2012 9:55 AM, Sa?d HESSANE wrote:
>>>>
>>>> Hi list,
>>>>
>>>> I use gdal_translate to convert 16bits images to 8bits images. The
>>>> gdal_translate have the -scale argument to specify the convertion range
>>>> (source->destination).
>>>> If I change the destination range (dst_min and dst_max), I can do
>>>> manually a brightness correction (also a contrast correction).
>>>>
>>>> But is there any way to do that with a Photoshop like method?
>>>> For example set a brightness to -50, a contrast to +8 and let
>>>> gdal_translate do the job ?
>>>>
>>>> Also can I apply a gamma correction?
>>>>
>>>> I saw the VRT format and there's a way to apply a LUT. But I don't
>>>> think a LUT of 65536 values is the best way to apply the correction.
>>>>
>>>> Also the VRT have the scale ratio and scale offset elements. I think it
>>>> can be useful but I don't understand how use it...
>>>>
>>>> So simply put, my question : can I do a contrast, brightness or gamma
>>>> correction to a raster with gdal?
>>>>
>>>> Thank you !
>>>>
>>>> PS : I apologize for my broken English !
>>>>
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing listgdal-dev@lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>>
>> +91-9494447584
>> 17.2416N 80.1426E
>>
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/51da3089/attachment.html
From even.rouault at mines-paris.org  Thu Mar 22 15:55:47 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 22 15:55:34 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <4F6B531E.2030202@free.fr>
References: <4F6B2326.7000702@free.fr>
	<2DD24CD6225DC04C81CF12523261F4B975AA2BA9@MAIL.gcs-research.net>
	<4F6B531E.2030202@free.fr>
Message-ID: <201203222055.47995.even.rouault@mines-paris.org>

Le jeudi 22 mars 2012 17:28:14, Jean-Claude Repetto a ?crit :
> Le 22/03/2012 16:35, Kyle Shannon a ?crit :
> > Jean Claude,
> > I have a gdal test machine running Ubuntu 11.10.  I build zlib 1.2.6 and
> > built and linked gdal against it no problems.  Probably doesn't help
> > much.
> 
> It seems the problem is specific to Gentoo. Please read
> https://bugs.gentoo.org/show_bug.cgi?id=383179 .
> 
> Some people say that the OF macro is a zlib internal macro and should
> not be used in applications.

Yeah, that's because we have a copy of minizip which happens to uses the OF 
macro.

You can probably fix the issue with the following patch (untested) :

$ svn diff port/cpl_minizip_ioapi.h 
Index: port/cpl_minizip_ioapi.h
===================================================================
--- port/cpl_minizip_ioapi.h	(r?vision 24142)
+++ port/cpl_minizip_ioapi.h	(copie de travail)
@@ -21,6 +21,12 @@
 #include "cpl_vsi.h"
 #define uLong64 vsi_l_offset
 
+/* Gentoo removed OF from their copy of zconf.h 
(https://bugs.gentoo.org/show_bug.cgi?id=383179) */
+/* but our copy of minizip needs it. */
+#ifndef OF
+#define OF(args) args
+#endif
+
 #define ZLIB_FILEFUNC_SEEK_CUR (1)
 #define ZLIB_FILEFUNC_SEEK_END (2)
 #define ZLIB_FILEFUNC_SEEK_SET (0)

I'm a bit hesitant to apply that for now. Hopefully Gentoo will revert their 
change under user pressure. Please complain loudly in the ticket ;-)

> 
> Regards,
> Jean-Claude
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Thu Mar 22 16:00:33 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 22 16:00:34 2012
Subject: [gdal-dev] VRT derived band, pixel functions and Python bindings
In-Reply-To: <4F6B6EF0.3000309@gmx.net>
References: <4F6B6EF0.3000309@gmx.net>
Message-ID: <201203222100.33253.even.rouault@mines-paris.org>

Le jeudi 22 mars 2012 19:26:56, Armin Burger a ?crit :
> Hi all
> 
> I set up 2 pixel functions to be used with VRT images and derived bands.
> This works fine with the GDAL utilities and also with MapServer and
> Python MapScript.
> 
> If I try however to load the pixel functions in GDAL-Python as drivers,
> I run into problems. The following code
> 
>    from osgeo import gdal
>    import os
> 
>    os.putenv("GDAL_DRIVER_PATH", "/usr/local/share/gdal/gdalplugins")
>    gdal.AllRegister()
> 
> produces the error:
> 
> python: symbol lookup error: /usr/local/share/gdal/gdalplugins
> /gdal_SpotBlue.so: undefined symbol: GDALAddDerivedBandPixelFunc
> 
> 
> So is this sort of a bug or is this functionality not available via the
> GDAL Python bindings? Environment is Linux, GDAL 1.9, Python 2.6.

No fundamental reason it should not work. I'm pretty sure to have done that in 
the past. Did you make sure that your gdal_SpotBlue.so links to libgdal.so 
(check with ldd) ? But I'm not sure why loading throug python would make a 
difference w.r.t loading with GDAL utilities or MapServer.

> 
> Thanks for any help
> Armin
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Thu Mar 22 16:49:54 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar 22 16:50:03 2012
Subject: [gdal-dev] Motion: Contract Chaitanya as GDAL Maintainer
Message-ID: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>

Motion: Frank Warmerdam is authorized to negotiate a paid maintainer
contract with Chaitanya Kumar CH for up to $5200 USD at $13USD/hr
over five months, and would be acting as supervisor, operating under
the terms of RFC 9 (GDAL Paid Maintainer Guidelines).

---

PSC Members,

Chaitanya has indicated he is available again to do GDAL maintenance
and I think it would be advantageous to have his support.  He is a solid
developer, and has continued to be active in the GDAL community
since his last work as GDAL maintainer.

In addition to general bug fixing I am also hoping to have him do
some work on packaging of GDAL and dependencies for things like
OSGeo4W, and DebianGIS/UbuntuGIS/LiveDVD.

I'll start things by voting:

+1 Frank

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From hobu.inc at gmail.com  Thu Mar 22 16:51:14 2012
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Mar 22 16:51:31 2012
Subject: [gdal-dev] Motion: Contract Chaitanya as GDAL Maintainer
In-Reply-To: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
References: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
Message-ID: <C99398F7-696D-4802-8791-C15264BAD3F4@gmail.com>


On Mar 22, 2012, at 3:49 PM, Frank Warmerdam wrote:

> Motion: Frank Warmerdam is authorized to negotiate a paid maintainer
> contract with Chaitanya Kumar CH for up to $5200 USD at $13USD/hr
> over five months, and would be acting as supervisor, operating under
> the terms of RFC 9 (GDAL Paid Maintainer Guidelines).
> 
> +1 Frank

+1 Howard
From KShannon at gcs-research.com  Thu Mar 22 16:51:19 2012
From: KShannon at gcs-research.com (Kyle Shannon)
Date: Thu Mar 22 16:52:10 2012
Subject: [gdal-dev] Motion: Contract Chaitanya as GDAL Maintainer
In-Reply-To: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
References: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
Message-ID: <2DD24CD6225DC04C81CF12523261F4B975AA2CDD@MAIL.gcs-research.net>

I don't really count, but Chaitanya is very helpful.

+1

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Thursday, March 22, 2012 2:50 PM
To: gdal dev
Subject: [gdal-dev] Motion: Contract Chaitanya as GDAL Maintainer

Motion: Frank Warmerdam is authorized to negotiate a paid maintainer contract with Chaitanya Kumar CH for up to $5200 USD at $13USD/hr over five months, and would be acting as supervisor, operating under the terms of RFC 9 (GDAL Paid Maintainer Guidelines).

---

PSC Members,

Chaitanya has indicated he is available again to do GDAL maintenance and I think it would be advantageous to have his support.  He is a solid developer, and has continued to be active in the GDAL community since his last work as GDAL maintainer.

In addition to general bug fixing I am also hoping to have him do some work on packaging of GDAL and dependencies for things like OSGeo4W, and DebianGIS/UbuntuGIS/LiveDVD.

I'll start things by voting:

+1 Frank

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com light and sound - activate the windows | http://pobox.com/~warmerdam and watch the world go round - Rush? ? | Geospatial Software Developer _______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From armin.burger at gmx.net  Thu Mar 22 16:52:03 2012
From: armin.burger at gmx.net (Armin Burger)
Date: Thu Mar 22 16:52:23 2012
Subject: [gdal-dev] VRT derived band, pixel functions and Python bindings
In-Reply-To: <201203222100.33253.even.rouault@mines-paris.org>
References: <4F6B6EF0.3000309@gmx.net>
	<201203222100.33253.even.rouault@mines-paris.org>
Message-ID: <4F6B90F3.5030508@gmx.net>

On 22/03/2012 21:00, Even Rouault wrote:
> Le jeudi 22 mars 2012 19:26:56, Armin Burger a ?crit :
>> Hi all
>>
>> I set up 2 pixel functions to be used with VRT images and derived bands.
>> This works fine with the GDAL utilities and also with MapServer and
>> Python MapScript.
>>
>> If I try however to load the pixel functions in GDAL-Python as drivers,
>> I run into problems. The following code
>>
>>     from osgeo import gdal
>>     import os
>>
>>     os.putenv("GDAL_DRIVER_PATH", "/usr/local/share/gdal/gdalplugins")
>>     gdal.AllRegister()
>>
>> produces the error:
>>
>> python: symbol lookup error: /usr/local/share/gdal/gdalplugins
>> /gdal_SpotBlue.so: undefined symbol: GDALAddDerivedBandPixelFunc
>>
>>
>> So is this sort of a bug or is this functionality not available via the
>> GDAL Python bindings? Environment is Linux, GDAL 1.9, Python 2.6.
>
> No fundamental reason it should not work. I'm pretty sure to have done that in
> the past. Did you make sure that your gdal_SpotBlue.so links to libgdal.so
> (check with ldd) ? But I'm not sure why loading throug python would make a
> difference w.r.t loading with GDAL utilities or MapServer.

Even

compilation was with

gcc -fPIC -c SpotBlue.c
gcc -shared SpotBlue.o -o SpotBlue.so


So no spacial linking against libgdal.so. ldd therefore does not report 
anything related to the libgdal.so. But since it directly worked from 
the normal GDAL utilities and MapScript I did not check anything further.

What would be your suggestion for additional flags to add for the 
compilation?

Armin

From even.rouault at mines-paris.org  Thu Mar 22 16:55:11 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 22 16:54:45 2012
Subject: [gdal-dev] VRT derived band, pixel functions and Python bindings
In-Reply-To: <4F6B90F3.5030508@gmx.net>
References: <4F6B6EF0.3000309@gmx.net>
	<201203222100.33253.even.rouault@mines-paris.org>
	<4F6B90F3.5030508@gmx.net>
Message-ID: <201203222155.12024.even.rouault@mines-paris.org>

Le jeudi 22 mars 2012 21:52:03, Armin Burger a ?crit :
> On 22/03/2012 21:00, Even Rouault wrote:
> > Le jeudi 22 mars 2012 19:26:56, Armin Burger a ?crit :
> >> Hi all
> >> 
> >> I set up 2 pixel functions to be used with VRT images and derived bands.
> >> This works fine with the GDAL utilities and also with MapServer and
> >> Python MapScript.
> >> 
> >> If I try however to load the pixel functions in GDAL-Python as drivers,
> >> I run into problems. The following code
> >> 
> >>     from osgeo import gdal
> >>     import os
> >>     
> >>     os.putenv("GDAL_DRIVER_PATH", "/usr/local/share/gdal/gdalplugins")
> >>     gdal.AllRegister()
> >> 
> >> produces the error:
> >> 
> >> python: symbol lookup error: /usr/local/share/gdal/gdalplugins
> >> /gdal_SpotBlue.so: undefined symbol: GDALAddDerivedBandPixelFunc
> >> 
> >> 
> >> So is this sort of a bug or is this functionality not available via the
> >> GDAL Python bindings? Environment is Linux, GDAL 1.9, Python 2.6.
> > 
> > No fundamental reason it should not work. I'm pretty sure to have done
> > that in the past. Did you make sure that your gdal_SpotBlue.so links to
> > libgdal.so (check with ldd) ? But I'm not sure why loading throug python
> > would make a difference w.r.t loading with GDAL utilities or MapServer.
> 
> Even
> 
> compilation was with
> 
> gcc -fPIC -c SpotBlue.c
> gcc -shared SpotBlue.o -o SpotBlue.so
> 
> 
> So no spacial linking against libgdal.so. ldd therefore does not report
> anything related to the libgdal.so. But since it directly worked from
> the normal GDAL utilities and MapScript I did not check anything further.
> 
> What would be your suggestion for additional flags to add for the
> compilation?

Try : gcc -shared SpotBlue.o -o SpotBlue.so -lgdal

> 
> Armin
From jrepetto at free.fr  Thu Mar 22 16:54:39 2012
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu Mar 22 16:55:10 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <201203222055.47995.even.rouault@mines-paris.org>
References: <4F6B2326.7000702@free.fr>
	<2DD24CD6225DC04C81CF12523261F4B975AA2BA9@MAIL.gcs-research.net>
	<4F6B531E.2030202@free.fr>
	<201203222055.47995.even.rouault@mines-paris.org>
Message-ID: <4F6B918F.1080407@free.fr>

On 03/22/12 20:55, Even Rouault wrote:
>
> I'm a bit hesitant to apply that for now. Hopefully Gentoo will revert their
> change under user pressure. Please complain loudly in the ticket ;-)

It seems they have chosen the option to patch all the packages that are 
using the OF macro.
For GDAL, see : https://bugs.gentoo.org/show_bug.cgi?id=383569

The (small) problem is that vanilla versions of GDAL won't compile on 
Gentoo systems anymore, but it shouldn't affect a lot of people.
From even.rouault at mines-paris.org  Thu Mar 22 16:56:12 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 22 16:55:49 2012
Subject: [gdal-dev] Motion: Contract Chaitanya as GDAL Maintainer
In-Reply-To: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
References: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
Message-ID: <201203222156.12366.even.rouault@mines-paris.org>

Le jeudi 22 mars 2012 21:49:54, Frank Warmerdam a ?crit :
> Motion: Frank Warmerdam is authorized to negotiate a paid maintainer
> contract with Chaitanya Kumar CH for up to $5200 USD at $13USD/hr
> over five months, and would be acting as supervisor, operating under
> the terms of RFC 9 (GDAL Paid Maintainer Guidelines).

+1
From even.rouault at mines-paris.org  Thu Mar 22 16:57:58 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 22 16:57:44 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <4F6B918F.1080407@free.fr>
References: <4F6B2326.7000702@free.fr>
	<201203222055.47995.even.rouault@mines-paris.org>
	<4F6B918F.1080407@free.fr>
Message-ID: <201203222157.58927.even.rouault@mines-paris.org>

Le jeudi 22 mars 2012 21:54:39, Jean-Claude Repetto a ?crit :
> On 03/22/12 20:55, Even Rouault wrote:
> > I'm a bit hesitant to apply that for now. Hopefully Gentoo will revert
> > their change under user pressure. Please complain loudly in the ticket
> > ;-)
> 
> It seems they have chosen the option to patch all the packages that are
> using the OF macro.
> For GDAL, see : https://bugs.gentoo.org/show_bug.cgi?id=383569
> 
> The (small) problem is that vanilla versions of GDAL won't compile on
> Gentoo systems anymore, but it shouldn't affect a lot of people.

Oh well, if you can confirm the patch works, I'll end up commiting it. It isn't 
too invasive.

> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From dmorissette at mapgears.com  Thu Mar 22 17:00:08 2012
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Thu Mar 22 17:00:48 2012
Subject: [gdal-dev] Motion: Contract Chaitanya as GDAL Maintainer
In-Reply-To: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
References: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
Message-ID: <4F6B92D8.7080104@mapgears.com>

On 12-03-22 4:49 PM, Frank Warmerdam wrote:
> Motion: Frank Warmerdam is authorized to negotiate a paid maintainer
> contract with Chaitanya Kumar CH for up to $5200 USD at $13USD/hr
> over five months, and would be acting as supervisor, operating under
> the terms of RFC 9 (GDAL Paid Maintainer Guidelines).
>

+1

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
Provider of Professional MapServer Support since 2000

From even.rouault at mines-paris.org  Thu Mar 22 17:12:10 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 22 17:11:45 2012
Subject: Fwd: Re: [gdal-dev] VRT derived band,
	pixel functions and Python bindings
Message-ID: <201203222212.10348.even.rouault@mines-paris.org>


-------------- next part --------------
An embedded message was scrubbed...
From: Armin Burger <armin.burger@gmx.net>
Subject: Re: [gdal-dev] VRT derived band, pixel functions and Python bindings
Date: Thu, 22 Mar 2012 22:08:47 +0100
Size: 2795
Url: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120322/e6ed726e/attachment.mht
From szekerest at gmail.com  Thu Mar 22 17:40:00 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Mar 22 17:40:20 2012
Subject: [gdal-dev] Motion: Contract Chaitanya as GDAL Maintainer
In-Reply-To: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
References: <CA+YzLBf_zk54NVufRfcY8kx9ko54Resg7NJwmS=i2KP714NOyw@mail.gmail.com>
Message-ID: <CACALY+SizgFXi09qC6+fLLimDJOFneoURTHXX5qFm+ZPR28mfA@mail.gmail.com>

+1

Tamas

2012/3/22 Frank Warmerdam <warmerdam@pobox.com>

> Motion: Frank Warmerdam is authorized to negotiate a paid maintainer
> contract with Chaitanya Kumar CH for up to $5200 USD at $13USD/hr
> over five months, and would be acting as supervisor, operating under
> the terms of RFC 9 (GDAL Paid Maintainer Guidelines).
>
> ---
>
> PSC Members,
>
> Chaitanya has indicated he is available again to do GDAL maintenance
> and I think it would be advantageous to have his support.  He is a solid
> developer, and has continued to be active in the GDAL community
> since his last work as GDAL maintainer.
>
> In addition to general bug fixing I am also hoping to have him do
> some work on packaging of GDAL and dependencies for things like
> OSGeo4W, and DebianGIS/UbuntuGIS/LiveDVD.
>
> I'll start things by voting:
>
> +1 Frank
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120322/c7ff9fa3/attachment.html
From jdmorgan at unca.edu  Thu Mar 22 22:12:40 2012
From: jdmorgan at unca.edu (Derek Morgan)
Date: Thu Mar 22 22:13:02 2012
Subject: [gdal-dev] shifting (or snapping) one raster to another
Message-ID: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>

Hello,

I am in a jam with ArcGIS, and am hoping there is a easier way to do
this with GDAL.  Here is the situation:  I am converting a vector
dataset of county polygons to raster at a pixel resolution of 231 m.
However, I want this to line up with a different raster dataset I have
at a much larger extent, but also the same resolution 231 m. As you
probably guessed the two datasets are slightly askew as they have
different extents.  I would like to align the newly created county
raster with the larger raster data set by shifting (or snapping) it to
the closest pixels.  Hopefully, this makes enough sense for someone to
let me know if this can be done in GDAL.

Thanks ahead of time,
Derek
From etourigny.dev at gmail.com  Thu Mar 22 22:37:48 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu Mar 22 22:37:54 2012
Subject: [gdal-dev] shifting (or snapping) one raster to another
In-Reply-To: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>
References: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>
Message-ID: <CA+TxYvOV-L_53yRMZ7LAsnqXo-y-tQEuiNBwpzHoUHWw=4qCww@mail.gmail.com>

Derek - unless I am mistaken, gdalwarp should work fine for this, as
long as both datasets are properly geo-referenced.

gdalwarp tmp1.tif tmp2.tif result.tif

The order of the arguments controls how they are stacked one on top of
the other.

Etienne
On Thu, Mar 22, 2012 at 11:12 PM, Derek Morgan <jdmorgan@unca.edu> wrote:
> Hello,
>
> I am in a jam with ArcGIS, and am hoping there is a easier way to do
> this with GDAL. ?Here is the situation: ?I am converting a vector
> dataset of county polygons to raster at a pixel resolution of 231 m.
> However, I want this to line up with a different raster dataset I have
> at a much larger extent, but also the same resolution 231 m. As you
> probably guessed the two datasets are slightly askew as they have
> different extents. ?I would like to align the newly created county
> raster with the larger raster data set by shifting (or snapping) it to
> the closest pixels. ?Hopefully, this makes enough sense for someone to
> let me know if this can be done in GDAL.
>
> Thanks ahead of time,
> Derek
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From jrepetto at free.fr  Fri Mar 23 03:56:58 2012
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Mar 23 03:58:03 2012
Subject: [gdal-dev] Error when compiling GDAL trunk
In-Reply-To: <201203222157.58927.even.rouault@mines-paris.org>
References: <4F6B2326.7000702@free.fr>
	<201203222055.47995.even.rouault@mines-paris.org>
	<4F6B918F.1080407@free.fr>
	<201203222157.58927.even.rouault@mines-paris.org>
Message-ID: <4F6C2CCA.4050001@free.fr>

On 03/22/12 21:57, Even Rouault wrote:
>
> Oh well, if you can confirm the patch works, I'll end up commiting it. It isn't
> too invasive.

Yes, your patch works. You can commit it, thanks.
From chaitanya.ch at gmail.com  Fri Mar 23 04:20:07 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar 23 04:20:30 2012
Subject: [gdal-dev] shifting (or snapping) one raster to another
In-Reply-To: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>
References: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>
Message-ID: <CAMKgpOYZ9t6-FMLw=qXA5NfTu1Wve_AaMqLxYK=qvcHEJ4ydFQ@mail.gmail.com>

Derek,

Since you are rasterizing vectors, you can get the best results if you do
it onto the original raster or a blank raster created based on the extents
of the original raster. The key here is to create a georeferenced raster
prior to burning the vector onto it.
You can create a raster that fits perfectly with the original.

GDAL has a simple rasterization utility that can burn vectors onto a raster
image  directly.
You can use gdalbuildvrt to create a raster with modified extents.

http://www.gdal.org/gdal_utilities.html

On Fri, Mar 23, 2012 at 7:42 AM, Derek Morgan <jdmorgan@unca.edu> wrote:

> Hello,
>
> I am in a jam with ArcGIS, and am hoping there is a easier way to do
> this with GDAL.  Here is the situation:  I am converting a vector
> dataset of county polygons to raster at a pixel resolution of 231 m.
> However, I want this to line up with a different raster dataset I have
> at a much larger extent, but also the same resolution 231 m. As you
> probably guessed the two datasets are slightly askew as they have
> different extents.  I would like to align the newly created county
> raster with the larger raster data set by shifting (or snapping) it to
> the closest pixels.  Hopefully, this makes enough sense for someone to
> let me know if this can be done in GDAL.
>
> Thanks ahead of time,
> Derek
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/c4639004/attachment.html
From saad.hessane at gmail.com  Fri Mar 23 06:13:53 2012
From: saad.hessane at gmail.com (=?ISO-8859-1?Q?Sa=E2d_HESSANE?=)
Date: Fri Mar 23 06:13:59 2012
Subject: [gdal-dev] Precision about scale/offset element in VRT file
Message-ID: <CAEcp1tApq5=p8HqRSp0WR30pza8xt8a2uv11GxngNSjY-_wUOw@mail.gmail.com>

Hy all,

The vrt format allow defining the scale and offset element. But the
documentation is not clear about that :

   - *Offset*: This optional element contains the offset that should be
   applied when computing "real" pixel values from scaled pixel values on a
   raster band. The default is 0.0.
   - *Scale*: This optional element contains the scale that should be
   applied when computing "real" pixel values from scaled pixel values on a
   raster band. The default is 1.0.

What that it's mean ? If the value of offset is 1 what that it's change?

And this two elements are use in the *VRTRasterBand* element. What about *
ScaleOffset* and *ScaleRatio* in the *ComplexSource* element?

Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/facd346b/attachment.html
From chaitanya.ch at gmail.com  Fri Mar 23 07:37:24 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar 23 07:37:49 2012
Subject: [gdal-dev] Precision about scale/offset element in VRT file
In-Reply-To: <CAEcp1tApq5=p8HqRSp0WR30pza8xt8a2uv11GxngNSjY-_wUOw@mail.gmail.com>
References: <CAEcp1tApq5=p8HqRSp0WR30pza8xt8a2uv11GxngNSjY-_wUOw@mail.gmail.com>
Message-ID: <CAMKgpOZ7TjFucSLEK1Kyk=sEE7U3vQqu9Cc4mUzJLku18MgaaQ@mail.gmail.com>

Sa?d,

A VRT raster band can be derived from more than one source.

Offset and Scale elements apply to the whole VRT raster band.
The ScaleOffset and ScaleRatio perform the same task but it is done only on
that particular ComplexSource.

On Fri, Mar 23, 2012 at 3:43 PM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:

> Hy all,
>
> The vrt format allow defining the scale and offset element. But the
> documentation is not clear about that :
>
>    - *Offset*: This optional element contains the offset that should be
>    applied when computing "real" pixel values from scaled pixel values on a
>    raster band. The default is 0.0.
>    - *Scale*: This optional element contains the scale that should be
>    applied when computing "real" pixel values from scaled pixel values on a
>    raster band. The default is 1.0.
>
> What that it's mean ? If the value of offset is 1 what that it's change?
>
> And this two elements are use in the *VRTRasterBand* element. What about *
> ScaleOffset* and *ScaleRatio* in the *ComplexSource* element?
>
> Thank you.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/02d9c0eb/attachment.html
From Doug_Newcomb at fws.gov  Fri Mar 23 07:50:31 2012
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Fri Mar 23 08:05:57 2012
Subject: [gdal-dev] shifting (or snapping) one raster to another
In-Reply-To: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>
Message-ID: <OFA46F18D9.9F49A34C-ON852579CA.00400892-852579CA.00410D26@fws.gov>

Derek,
        You can do this in GRASS ( using gdal in the background)  by doing 
the following:
1) create a workspace in the same projection as your existing raster  ( 
when you first start GRASS it will ask you to set up a workspace with 
projection information)
2)  import the existing raster layer into GRASS, ( 
r.in.gdal,http://grass.fbk.eu/grass64/manuals/html64_user/r.in.gdal.html)
3)set the region to match the imported raster layer in extent and 
resolution (g.region, 
http://grass.fbk.eu/grass64/manuals/html64_user/g.region.html) 
4) import the county vector layer (v.in.ogr, 
http://grass.fbk.eu/grass64/manuals/html64_user/v.in.ogr.html )
5) convert the vector layer to a raster layer(v.to.rast, 
http://grass.fbk.eu/grass64/manuals/html64_user/v.to.rast.html) 

When you create the new raster it will use the existing alignment and 
resolution of the region ( based off of the existing raster)  in the 
placement of the cells.  Even though I reference the tabular commands in 
the above process, it can be easily done through both GRASS gui's

Doug
 


Doug Newcomb 
USFWS
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb@fws.gov
---------------------------------------------------------------------------------------------------------
The opinions I express are my own and are not representative of the 
official policy of the U.S.Fish and Wildlife Service or Dept. of the 
Interior.   Life is too short for undocumented, proprietary data formats.



Derek Morgan <jdmorgan@unca.edu> 
Sent by: gdal-dev-bounces@lists.osgeo.org
03/22/2012 10:12 PM

To
gdal-dev@lists.osgeo.org
cc

Subject
[gdal-dev] shifting (or snapping) one raster to another






Hello,

I am in a jam with ArcGIS, and am hoping there is a easier way to do
this with GDAL.  Here is the situation:  I am converting a vector
dataset of county polygons to raster at a pixel resolution of 231 m.
However, I want this to line up with a different raster dataset I have
at a much larger extent, but also the same resolution 231 m. As you
probably guessed the two datasets are slightly askew as they have
different extents.  I would like to align the newly created county
raster with the larger raster data set by shifting (or snapping) it to
the closest pixels.  Hopefully, this makes enough sense for someone to
let me know if this can be done in GDAL.

Thanks ahead of time,
Derek
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/099ba48b/attachment.html
From saad.hessane at gmail.com  Fri Mar 23 08:14:35 2012
From: saad.hessane at gmail.com (=?ISO-8859-1?Q?Sa=E2d_HESSANE?=)
Date: Fri Mar 23 08:15:28 2012
Subject: [gdal-dev] Precision about scale/offset element in VRT file
In-Reply-To: <CAMKgpOZ7TjFucSLEK1Kyk=sEE7U3vQqu9Cc4mUzJLku18MgaaQ@mail.gmail.com>
References: <CAEcp1tApq5=p8HqRSp0WR30pza8xt8a2uv11GxngNSjY-_wUOw@mail.gmail.com>
	<CAMKgpOZ7TjFucSLEK1Kyk=sEE7U3vQqu9Cc4mUzJLku18MgaaQ@mail.gmail.com>
Message-ID: <CAEcp1tAGPqOa-4yaoVdP0xKYDNrLL2MfnOgAg7+3NWwFvf16SQ@mail.gmail.com>

Ok, thank you again Chaitanya,

But what is the function of this two element?


2012/3/23 Chaitanya kumar CH <chaitanya.ch@gmail.com>

> Sa?d,
>
> A VRT raster band can be derived from more than one source.
>
> Offset and Scale elements apply to the whole VRT raster band.
> The ScaleOffset and ScaleRatio perform the same task but it is done only
> on that particular ComplexSource.
>
> On Fri, Mar 23, 2012 at 3:43 PM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:
>
>> Hy all,
>>
>> The vrt format allow defining the scale and offset element. But the
>> documentation is not clear about that :
>>
>>    - *Offset*: This optional element contains the offset that should be
>>    applied when computing "real" pixel values from scaled pixel values on a
>>    raster band. The default is 0.0.
>>    - *Scale*: This optional element contains the scale that should be
>>    applied when computing "real" pixel values from scaled pixel values on a
>>    raster band. The default is 1.0.
>>
>> What that it's mean ? If the value of offset is 1 what that it's change?
>>
>> And this two elements are use in the *VRTRasterBand* element. What about
>> *ScaleOffset* and *ScaleRatio* in the *ComplexSource* element?
>>
>> Thank you.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/f7e8e259/attachment-0001.html
From jdmorgan at unca.edu  Fri Mar 23 10:54:13 2012
From: jdmorgan at unca.edu (Derek Morgan)
Date: Fri Mar 23 10:54:36 2012
Subject: [gdal-dev] shifting (or snapping) one raster to another
In-Reply-To: <CA+TxYvOV-L_53yRMZ7LAsnqXo-y-tQEuiNBwpzHoUHWw=4qCww@mail.gmail.com>
References: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>
	<CA+TxYvOV-L_53yRMZ7LAsnqXo-y-tQEuiNBwpzHoUHWw=4qCww@mail.gmail.com>
Message-ID: <CA+N3S5qGVhBo=UfLcjaBWMAKJe8j_L-vZ1-yNbBdL=FCZQdceQ@mail.gmail.com>

Etienne - Thanks for you advice.  Gdalwarp did work quite nicely.
Afterwhich, I just needed to clip the resulting raster back down to my
extent of interest which is no problem.

Cheers,
Derek



On Thu, Mar 22, 2012 at 10:37 PM, Etienne Tourigny
<etourigny.dev@gmail.com> wrote:
> Derek - unless I am mistaken, gdalwarp should work fine for this, as
> long as both datasets are properly geo-referenced.
>
> gdalwarp tmp1.tif tmp2.tif result.tif
>
> The order of the arguments controls how they are stacked one on top of
> the other.
>
> Etienne
> On Thu, Mar 22, 2012 at 11:12 PM, Derek Morgan <jdmorgan@unca.edu> wrote:
>> Hello,
>>
>> I am in a jam with ArcGIS, and am hoping there is a easier way to do
>> this with GDAL. ?Here is the situation: ?I am converting a vector
>> dataset of county polygons to raster at a pixel resolution of 231 m.
>> However, I want this to line up with a different raster dataset I have
>> at a much larger extent, but also the same resolution 231 m. As you
>> probably guessed the two datasets are slightly askew as they have
>> different extents. ?I would like to align the newly created county
>> raster with the larger raster data set by shifting (or snapping) it to
>> the closest pixels. ?Hopefully, this makes enough sense for someone to
>> let me know if this can be done in GDAL.
>>
>> Thanks ahead of time,
>> Derek
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From jdmorgan at unca.edu  Fri Mar 23 10:56:00 2012
From: jdmorgan at unca.edu (Derek Morgan)
Date: Fri Mar 23 10:56:29 2012
Subject: [gdal-dev] shifting (or snapping) one raster to another
In-Reply-To: <OFA46F18D9.9F49A34C-ON852579CA.00400892-852579CA.00410D26@fws.gov>
References: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>
	<OFA46F18D9.9F49A34C-ON852579CA.00400892-852579CA.00410D26@fws.gov>
Message-ID: <CA+N3S5rSs19D8fvo9XeXad0qBSmzMK0hU+c7bTNE-4REPrqKRA@mail.gmail.com>

Thanks Doug, this is great feedback.  It is folks like you, and the others
who responded, that making working w/ open sources tools a pretty awesome
alternative.

Cheers,
Derek

On Fri, Mar 23, 2012 at 7:50 AM, <Doug_Newcomb@fws.gov> wrote:

>
> Derek,
>         You can do this in GRASS ( using gdal in the background)  by doing
> the following:
> 1) create a workspace in the same projection as your existing raster  (
> when you first start GRASS it will ask you to set up a workspace with
> projection information)
> 2)  import the existing raster layer into GRASS, ( r.in.gdal,
> http://grass.fbk.eu/?grass64/manuals/html64_user/r.?in.gdal.html<http://grass.fbk.eu/grass64/manuals/html64_user/r.in.gdal.html>
> )
> 3)set the region to match the imported raster layer in extent and
> resolution (g.region, http://grass.fbk.eu/grass64/?manuals/html64_user/g.region.?html)
> <http://grass.fbk.eu/grass64/manuals/html64_user/g.region.html>
> 4) import the county vector layer (v.in.ogr, http://grass.fbk.eu/grass64/?manuals/html64_user/v.in.ogr.?html
> ) <http://grass.fbk.eu/grass64/manuals/html64_user/v.in.ogr.html>
> 5) convert the vector layer to a raster layer(v.to.rast, http://grass.fbk.eu/grass64/?manuals/html64_user/v.to.rast.?html)
> <http://grass.fbk.eu/grass64/manuals/html64_user/v.to.rast.html>
>
> When you create the new raster it will use the existing alignment and
> resolution of the region ( based off of the existing raster)  in the
> placement of the cells.  Even though I reference the tabular commands in
> the above process, it can be easily done through both GRASS gui's
>
> Doug
>
>
>
> Doug Newcomb
> USFWS
> Raleigh, NC
> 919-856-4520 ext. 14 doug_newcomb@fws.gov
>
> ------------------------------?------------------------------?------------------------------?---------------
> The opinions I express are my own and are not representative of the
> official policy of the U.S.Fish and Wildlife Service or Dept. of the
> Interior.   Life is too short for undocumented, proprietary data formats.
>
>
>  *Derek Morgan <jdmorgan@unca.edu>*
> Sent by: gdal-dev-bounces@lists.osgeo.?org<gdal-dev-bounces@lists.osgeo.org>
>
> 03/22/2012 10:12 PM
>   To
> gdal-dev@lists.osgeo.org
> cc
>   Subject
> [gdal-dev] shifting (or snapping) one raster to another
>
>
>
>
> Hello,
>
> I am in a jam with ArcGIS, and am hoping there is a easier way to do
> this with GDAL.  Here is the situation:  I am converting a vector
> dataset of county polygons to raster at a pixel resolution of 231 m.
> However, I want this to line up with a different raster dataset I have
> at a much larger extent, but also the same resolution 231 m. As you
> probably guessed the two datasets are slightly askew as they have
> different extents.  I would like to align the newly created county
> raster with the larger raster data set by shifting (or snapping) it to
> the closest pixels.  Hopefully, this makes enough sense for someone to
> let me know if this can be done in GDAL.
>
> Thanks ahead of time,
> Derek
> ______________________________?_________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/?mailman/listinfo/gdal-dev
>  <http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/2c189697/attachment.html
From sdineshdass at gmail.com  Fri Mar 23 11:41:21 2012
From: sdineshdass at gmail.com (Dinesh Dass Subramanian)
Date: Fri Mar 23 11:41:52 2012
Subject: [gdal-dev] gdaltransform utility not working in web service
In-Reply-To: <CAMKgpOZWwzsRoobt94A4AEd4PO_umz1wQO+BhC+ROqqw_KY4Pw@mail.gmail.com>
References: <CAF2TeZQo+Ceq9e_BOjqbXms6-isMW0WskB6jPgzG1wKRRTu6hw@mail.gmail.com>
	<4F696806.4080106@pobox.com>
	<CAF2TeZQxRtWfbALLMcWVB2WiOpd-F=o0k84HMQ1mtP5togdbSg@mail.gmail.com>
	<CAMKgpOZWwzsRoobt94A4AEd4PO_umz1wQO+BhC+ROqqw_KY4Pw@mail.gmail.com>
Message-ID: <CAF2TeZSNfqEdwRKpq3fRX7xFU2u+x=DLwq7JnM64meX_rErWhw@mail.gmail.com>

Chaitanya,

The inputAoiPath contains the list of the input coordinates to be
transformed. The path to the tiff file contains the RPC file using which
the transformation is performed. The outputAoiPath file contains the
transformed coordinates. Thanks.

On Thu, Mar 22, 2012 at 10:57 AM, Chaitanya kumar CH <chaitanya.ch@gmail.com
> wrote:

> Dinesh,
>
> You gave the path to a tiff file as an argument from which the projection
> definition or the GCPs will be extracted. So there should be no need for it
> to read from inputAoiPath.
> Please elaborate on how you are trying to do this.
>
>
> On Thu, Mar 22, 2012 at 10:05 AM, Dinesh Dass Subramanian <
> sdineshdass@gmail.com> wrote:
>
>> Dear Frank,
>>
>> Thanks for your help. I have added the LD_LIBRARY_PATH and there is no
>> error in the output file.But new message is coming while I try to
>> execute the gdaltransform or any other utility in my web service.
>>
>> op.text
>> --------
>>  Usage: gdaltransform [--help-general]
>>      [-i] [-s_srs srs_def] [-t_srs srs_def] [-to \"NAME=VALUE\"]
>>      [-order n] [-tps] [-rpc] [-geoloc]
>>      [-gcp pixel line easting northing [elevation]]
>>      [srcfile [dstfile]]
>>
>> I have debugged the code and upto the commandline class, it is working
>> fine. The commandline class is able to interpret the gdaltransform as
>> executable and the remaining strings as arguments. But the exectask
>> class could not execute the command. Please suggest. Thanks.
>>
>>
>> On 3/21/12, Frank Warmerdam <warmerdam@pobox.com> wrote:
>> > On 12-03-19 07:44 AM, Dinesh Dass Subramanian wrote:
>> >> Hi,
>> >>
>> >>
>> >> I'm trying to develop a web service for gdaltransform utility that gets
>> >> four
>> >> coordinates as input and write it in an input file. Then the
>> gdaltransform
>> >> utility is executed as in commandline to produce the output in the
>> output
>> >> file.
>> >> I have the RPC file in the same path. The problem is the gdaltransform
>> is
>> >> not
>> >> getting executed while I run the web service. But the same command
>> works
>> >> in
>> >> normal commandline mode. Please help to resolve this problem. Thanks.
>> > ...
>> >> *op.txt (error shown)*
>> >> *---------*
>> >> gdaltransform: error while loading shared libraries: libgdal1.7.0.so.1:
>> >> cannot
>> >> open shared object file: No such file or directory
>> >
>> > Dinesh,
>> >
>> > This a normal error indicating that the libgdal1.7.0.so.1 shared library
>> > is not being found.  Normally I'd address this by adding a "SetEnv"
>> > directive
>> > in my apache file setting LD_LIBRARY_PATH to include the directory with
>> > the libgdal1.7.0.so.1 file.  It might also make sense to put that file
>> > somewhere like /usr/lib and use ldconfig - see the ldconfig or
>> ld.so.conf
>> > man pages for more information on this.  This is in no way a GDAL
>> specific
>> > issue.
>> >
>> > Best regards,
>> > --
>> >
>> ---------------------------------------+--------------------------------------
>> > I set the clouds in motion - turn up   | Frank Warmerdam,
>> > warmerdam@pobox.com
>> > light and sound - activate the windows | http://home.gdal.org/warmerda
>> > and watch the world go round - Rush    | Geospatial Software Developer
>> >
>> > _______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> >
>>
>>
>> --
>> Regards,
>> S.Dinesh Dass,
>> M.Tech - Remote Sensing,
>> Institute of Remote Sensing,
>> Anna University,
>> Chennai.
>> Mob: +91-9976033932
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>



-- 
Regards,
S.Dinesh Dass,
M.Tech - Remote Sensing,
Institute of Remote Sensing,
Anna University,
Chennai.
Mob: +91-9976033932
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/ac8f7edc/attachment.html
From etourigny.dev at gmail.com  Fri Mar 23 11:53:51 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Fri Mar 23 11:54:19 2012
Subject: [gdal-dev] shifting (or snapping) one raster to another
In-Reply-To: <CA+N3S5qGVhBo=UfLcjaBWMAKJe8j_L-vZ1-yNbBdL=FCZQdceQ@mail.gmail.com>
References: <CA+N3S5pyWLbvdY8LccBCcN+e0VTEdNceuaCC-ZvO0h0XwBDQiw@mail.gmail.com>
	<CA+TxYvOV-L_53yRMZ7LAsnqXo-y-tQEuiNBwpzHoUHWw=4qCww@mail.gmail.com>
	<CA+N3S5qGVhBo=UfLcjaBWMAKJe8j_L-vZ1-yNbBdL=FCZQdceQ@mail.gmail.com>
Message-ID: <CA+TxYvN_iYYPUqLorGv2NJ7dqBS9zkCZ6N6iZerhGJkRQR2JAA@mail.gmail.com>

Great to know.  You can always clip the source rasters before the warp
operation to save time.

Etienne

On Fri, Mar 23, 2012 at 11:54 AM, Derek Morgan <jdmorgan@unca.edu> wrote:
> Etienne - Thanks for you advice. ?Gdalwarp did work quite nicely.
> Afterwhich, I just needed to clip the resulting raster back down to my
> extent of interest which is no problem.
>
> Cheers,
> Derek
>
>
>
> On Thu, Mar 22, 2012 at 10:37 PM, Etienne Tourigny
> <etourigny.dev@gmail.com> wrote:
>> Derek - unless I am mistaken, gdalwarp should work fine for this, as
>> long as both datasets are properly geo-referenced.
>>
>> gdalwarp tmp1.tif tmp2.tif result.tif
>>
>> The order of the arguments controls how they are stacked one on top of
>> the other.
>>
>> Etienne
>> On Thu, Mar 22, 2012 at 11:12 PM, Derek Morgan <jdmorgan@unca.edu> wrote:
>>> Hello,
>>>
>>> I am in a jam with ArcGIS, and am hoping there is a easier way to do
>>> this with GDAL. ?Here is the situation: ?I am converting a vector
>>> dataset of county polygons to raster at a pixel resolution of 231 m.
>>> However, I want this to line up with a different raster dataset I have
>>> at a much larger extent, but also the same resolution 231 m. As you
>>> probably guessed the two datasets are slightly askew as they have
>>> different extents. ?I would like to align the newly created county
>>> raster with the larger raster data set by shifting (or snapping) it to
>>> the closest pixels. ?Hopefully, this makes enough sense for someone to
>>> let me know if this can be done in GDAL.
>>>
>>> Thanks ahead of time,
>>> Derek
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From chaitanya.ch at gmail.com  Fri Mar 23 13:29:39 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar 23 13:30:16 2012
Subject: [gdal-dev] Precision about scale/offset element in VRT file
In-Reply-To: <CAEcp1tAGPqOa-4yaoVdP0xKYDNrLL2MfnOgAg7+3NWwFvf16SQ@mail.gmail.com>
References: <CAEcp1tApq5=p8HqRSp0WR30pza8xt8a2uv11GxngNSjY-_wUOw@mail.gmail.com>
	<CAMKgpOZ7TjFucSLEK1Kyk=sEE7U3vQqu9Cc4mUzJLku18MgaaQ@mail.gmail.com>
	<CAEcp1tAGPqOa-4yaoVdP0xKYDNrLL2MfnOgAg7+3NWwFvf16SQ@mail.gmail.com>
Message-ID: <CAMKgpObJjTJ06H0caFwfBfcO2iCCVbayAAcKWgxTjVsFO21JSw@mail.gmail.com>

Output pixel value = (raw pixel value * scale) + offset

On Fri, Mar 23, 2012 at 5:44 PM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:

> Ok, thank you again Chaitanya,
>
> But what is the function of this two element?
>
>
> 2012/3/23 Chaitanya kumar CH <chaitanya.ch@gmail.com>
>
>> Sa?d,
>>
>> A VRT raster band can be derived from more than one source.
>>
>> Offset and Scale elements apply to the whole VRT raster band.
>> The ScaleOffset and ScaleRatio perform the same task but it is done only
>> on that particular ComplexSource.
>>
>> On Fri, Mar 23, 2012 at 3:43 PM, Sa?d HESSANE <saad.hessane@gmail.com>wrote:
>>
>>> Hy all,
>>>
>>> The vrt format allow defining the scale and offset element. But the
>>> documentation is not clear about that :
>>>
>>>    - *Offset*: This optional element contains the offset that should be
>>>    applied when computing "real" pixel values from scaled pixel values on a
>>>    raster band. The default is 0.0.
>>>    - *Scale*: This optional element contains the scale that should be
>>>    applied when computing "real" pixel values from scaled pixel values on a
>>>    raster band. The default is 1.0.
>>>
>>> What that it's mean ? If the value of offset is 1 what that it's change?
>>>
>>> And this two elements are use in the *VRTRasterBand* element. What
>>> about *ScaleOffset* and *ScaleRatio* in the *ComplexSource* element?
>>>
>>> Thank you.
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>>
>> +91-9494447584
>> 17.2416N 80.1426E
>>
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/71085aaf/attachment.html
From warmerdam at pobox.com  Fri Mar 23 13:45:10 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 23 13:45:46 2012
Subject: [gdal-dev] Precision about scale/offset element in VRT file
In-Reply-To: <CAMKgpObJjTJ06H0caFwfBfcO2iCCVbayAAcKWgxTjVsFO21JSw@mail.gmail.com>
References: <CAEcp1tApq5=p8HqRSp0WR30pza8xt8a2uv11GxngNSjY-_wUOw@mail.gmail.com>
	<CAMKgpOZ7TjFucSLEK1Kyk=sEE7U3vQqu9Cc4mUzJLku18MgaaQ@mail.gmail.com>
	<CAEcp1tAGPqOa-4yaoVdP0xKYDNrLL2MfnOgAg7+3NWwFvf16SQ@mail.gmail.com>
	<CAMKgpObJjTJ06H0caFwfBfcO2iCCVbayAAcKWgxTjVsFO21JSw@mail.gmail.com>
Message-ID: <CA+YzLBfzjRoHCP-9CbvEtOWypzMG1uP3piXnwmF_OtgfTAF9Zg@mail.gmail.com>

On Fri, Mar 23, 2012 at 10:29 AM, Chaitanya kumar CH
<chaitanya.ch@gmail.com> wrote:
> Output pixel value = (raw pixel value * scale) + offset

Exactly.

The reason for scale and offset to exist is that "real world" measures
like elevation, temperature, pressure are often represented in raster
datasets as integer values rescaled from some original floating
point values.  This is done for compactness in raster format and
because many raster formats don't support floating point pixels at
all.

So for instance, if you have a dataset with temperatures between
-20 and 100 you might record them in byte values such with an
offset -20 and scale 2.0 which would provide for half degree
precision over the range in byte values.

So a temperature of 80 would be represented as byte value
of "50".  The real temperature would be:

50 * 2 - 20 = 80

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From chaitanya.ch at gmail.com  Fri Mar 23 14:10:41 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar 23 14:11:03 2012
Subject: [gdal-dev] gdaltransform utility not working in web service
In-Reply-To: <CAF2TeZSNfqEdwRKpq3fRX7xFU2u+x=DLwq7JnM64meX_rErWhw@mail.gmail.com>
References: <CAF2TeZQo+Ceq9e_BOjqbXms6-isMW0WskB6jPgzG1wKRRTu6hw@mail.gmail.com>
	<4F696806.4080106@pobox.com>
	<CAF2TeZQxRtWfbALLMcWVB2WiOpd-F=o0k84HMQ1mtP5togdbSg@mail.gmail.com>
	<CAMKgpOZWwzsRoobt94A4AEd4PO_umz1wQO+BhC+ROqqw_KY4Pw@mail.gmail.com>
	<CAF2TeZSNfqEdwRKpq3fRX7xFU2u+x=DLwq7JnM64meX_rErWhw@mail.gmail.com>
Message-ID: <CAMKgpOYR67dgVVCSa56x2Yy4ntQXHxf18pK_YfH-hq9kT63uXw@mail.gmail.com>

Dinesh,

Let us narrow the error location.
Give the argument --help-general or --version. You should get the
appropriate results. If not, it means that the arguments are not passed to
the executable.

On Fri, Mar 23, 2012 at 9:11 PM, Dinesh Dass Subramanian <
sdineshdass@gmail.com> wrote:

> Chaitanya,
>
> The inputAoiPath contains the list of the input coordinates to be
> transformed. The path to the tiff file contains the RPC file using which
> the transformation is performed. The outputAoiPath file contains the
> transformed coordinates. Thanks.
>
>
> On Thu, Mar 22, 2012 at 10:57 AM, Chaitanya kumar CH <
> chaitanya.ch@gmail.com> wrote:
>
>> Dinesh,
>>
>> You gave the path to a tiff file as an argument from which the projection
>> definition or the GCPs will be extracted. So there should be no need for it
>> to read from inputAoiPath.
>> Please elaborate on how you are trying to do this.
>>
>>
>> On Thu, Mar 22, 2012 at 10:05 AM, Dinesh Dass Subramanian <
>> sdineshdass@gmail.com> wrote:
>>
>>> Dear Frank,
>>>
>>> Thanks for your help. I have added the LD_LIBRARY_PATH and there is no
>>> error in the output file.But new message is coming while I try to
>>> execute the gdaltransform or any other utility in my web service.
>>>
>>> op.text
>>> --------
>>>  Usage: gdaltransform [--help-general]
>>>      [-i] [-s_srs srs_def] [-t_srs srs_def] [-to \"NAME=VALUE\"]
>>>      [-order n] [-tps] [-rpc] [-geoloc]
>>>      [-gcp pixel line easting northing [elevation]]
>>>      [srcfile [dstfile]]
>>>
>>> I have debugged the code and upto the commandline class, it is working
>>> fine. The commandline class is able to interpret the gdaltransform as
>>> executable and the remaining strings as arguments. But the exectask
>>> class could not execute the command. Please suggest. Thanks.
>>>
>>>
>>> On 3/21/12, Frank Warmerdam <warmerdam@pobox.com> wrote:
>>> > On 12-03-19 07:44 AM, Dinesh Dass Subramanian wrote:
>>> >> Hi,
>>> >>
>>> >>
>>> >> I'm trying to develop a web service for gdaltransform utility that
>>> gets
>>> >> four
>>> >> coordinates as input and write it in an input file. Then the
>>> gdaltransform
>>> >> utility is executed as in commandline to produce the output in the
>>> output
>>> >> file.
>>> >> I have the RPC file in the same path. The problem is the
>>> gdaltransform is
>>> >> not
>>> >> getting executed while I run the web service. But the same command
>>> works
>>> >> in
>>> >> normal commandline mode. Please help to resolve this problem. Thanks.
>>> > ...
>>> >> *op.txt (error shown)*
>>> >> *---------*
>>> >> gdaltransform: error while loading shared libraries:
>>> libgdal1.7.0.so.1:
>>> >> cannot
>>> >> open shared object file: No such file or directory
>>> >
>>> > Dinesh,
>>> >
>>> > This a normal error indicating that the libgdal1.7.0.so.1 shared
>>> library
>>> > is not being found.  Normally I'd address this by adding a "SetEnv"
>>> > directive
>>> > in my apache file setting LD_LIBRARY_PATH to include the directory with
>>> > the libgdal1.7.0.so.1 file.  It might also make sense to put that file
>>> > somewhere like /usr/lib and use ldconfig - see the ldconfig or
>>> ld.so.conf
>>> > man pages for more information on this.  This is in no way a GDAL
>>> specific
>>> > issue.
>>> >
>>> > Best regards,
>>> > --
>>> >
>>> ---------------------------------------+--------------------------------------
>>> > I set the clouds in motion - turn up   | Frank Warmerdam,
>>> > warmerdam@pobox.com
>>> > light and sound - activate the windows | http://home.gdal.org/warmerda
>>> > and watch the world go round - Rush    | Geospatial Software Developer
>>> >
>>> > _______________________________________________
>>> > gdal-dev mailing list
>>> > gdal-dev@lists.osgeo.org
>>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> >
>>>
>>>
>>> --
>>> Regards,
>>> S.Dinesh Dass,
>>> M.Tech - Remote Sensing,
>>> Institute of Remote Sensing,
>>> Anna University,
>>> Chennai.
>>> Mob: +91-9976033932
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>>
>> +91-9494447584
>> 17.2416N 80.1426E
>>
>
>
>
> --
> Regards,
> S.Dinesh Dass,
> M.Tech - Remote Sensing,
> Institute of Remote Sensing,
> Anna University,
> Chennai.
> Mob: +91-9976033932
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/7721757e/attachment.html
From kyle at pobox.com  Fri Mar 23 16:31:51 2012
From: kyle at pobox.com (Kyle Shannon)
Date: Fri Mar 23 16:32:43 2012
Subject: [gdal-dev] vsicurl
Message-ID: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>

What are the requirements for using the vsicurl handler for accessing
files? Do drivers have to implement anything special do have curl support?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/0c11fed8/attachment.html
From warmerdam at pobox.com  Fri Mar 23 16:33:40 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 23 16:34:21 2012
Subject: [gdal-dev] vsicurl
In-Reply-To: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>
References: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>
Message-ID: <CA+YzLBfjiYJvxuhFpHerbBD+SxWeObF5Qrh7KueOMpecy-UXEQ@mail.gmail.com>

Kyle,

You need to have built GDAL with curl support and the drivers has do
do all file access through VSI*L functions.

Best regards,
Frank

On Fri, Mar 23, 2012 at 1:31 PM, Kyle Shannon <kyle@pobox.com> wrote:
> What are the requirements for using the vsicurl handler for accessing files?
> Do drivers have to implement anything special do have curl support?
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From etourigny.dev at gmail.com  Fri Mar 23 16:56:33 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Fri Mar 23 16:56:54 2012
Subject: [gdal-dev] vsicurl
In-Reply-To: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>
References: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>
Message-ID: <CA+TxYvMNYAXVxqfSOQgidUd7G2Fe3O_J467G2qaSpcn9EY80NA@mail.gmail.com>

Kyle,

the driver(s) probably need to support "large file API"

>From http://trac.osgeo.org/gdal/wiki/UserDocs/ReadInZip
The fact that this new capability is implemented as virtual file
systems imply that it will only work for GDAL drivers supporting the
"large file API". A non-exhaustive list of such drivers is :
The full list can be obtained by looking at the driver marked with 'v'
when running 'gdalinfo --formats'

for example, netcdf and hdf do not support /vsigzip (and probably not /vsicurl)

Etienne


On Fri, Mar 23, 2012 at 5:31 PM, Kyle Shannon <kyle@pobox.com> wrote:
> What are the requirements for using the vsicurl handler for accessing files?
> Do drivers have to implement anything special do have curl support?
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From kyle at pobox.com  Fri Mar 23 16:57:11 2012
From: kyle at pobox.com (Kyle Shannon)
Date: Fri Mar 23 16:57:51 2012
Subject: [gdal-dev] vsicurl
In-Reply-To: <CA+YzLBfjiYJvxuhFpHerbBD+SxWeObF5Qrh7KueOMpecy-UXEQ@mail.gmail.com>
References: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>
	<CA+YzLBfjiYJvxuhFpHerbBD+SxWeObF5Qrh7KueOMpecy-UXEQ@mail.gmail.com>
Message-ID: <CAJ0mEz2Xwgw5byyQoFPdfLc+CqOFGwPAb037LuyXCZ2b1+TO-A@mail.gmail.com>

Can the VSI*L support be added to drivers that use a third party API
similar to the way it is done in the geotiff driver?  Would that be a good
reference to add support to other drivers?

On Fri, Mar 23, 2012 at 14:33, Frank Warmerdam <warmerdam@pobox.com> wrote:

> Kyle,
>
> You need to have built GDAL with curl support and the drivers has do
> do all file access through VSI*L functions.
>
> Best regards,
> Frank
>
> On Fri, Mar 23, 2012 at 1:31 PM, Kyle Shannon <kyle@pobox.com> wrote:
> > What are the requirements for using the vsicurl handler for accessing
> files?
> > Do drivers have to implement anything special do have curl support?
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/f23f9d5f/attachment.html
From kyle at pobox.com  Fri Mar 23 17:03:15 2012
From: kyle at pobox.com (Kyle Shannon)
Date: Fri Mar 23 17:04:15 2012
Subject: [gdal-dev] vsicurl
In-Reply-To: <CA+TxYvMNYAXVxqfSOQgidUd7G2Fe3O_J467G2qaSpcn9EY80NA@mail.gmail.com>
References: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>
	<CA+TxYvMNYAXVxqfSOQgidUd7G2Fe3O_J467G2qaSpcn9EY80NA@mail.gmail.com>
Message-ID: <CAJ0mEz2F0D7SzjcY5s2n_eRXzMmp=pPQWORfFeWo1XDvD0PYwg@mail.gmail.com>

Etienne,
I saw that under the vsizip section, but it wasn't clear to me if the same
constraints were on the vsicurl handler.

kss

On Fri, Mar 23, 2012 at 14:56, Etienne Tourigny <etourigny.dev@gmail.com>wrote:

> Kyle,
>
> the driver(s) probably need to support "large file API"
>
> From http://trac.osgeo.org/gdal/wiki/UserDocs/ReadInZip
> The fact that this new capability is implemented as virtual file
> systems imply that it will only work for GDAL drivers supporting the
> "large file API". A non-exhaustive list of such drivers is :
> The full list can be obtained by looking at the driver marked with 'v'
> when running 'gdalinfo --formats'
>
> for example, netcdf and hdf do not support /vsigzip (and probably not
> /vsicurl)
>
> Etienne
>
>
> On Fri, Mar 23, 2012 at 5:31 PM, Kyle Shannon <kyle@pobox.com> wrote:
> > What are the requirements for using the vsicurl handler for accessing
> files?
> > Do drivers have to implement anything special do have curl support?
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/ed2f57b8/attachment.html
From warmerdam at pobox.com  Fri Mar 23 17:06:13 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 23 17:07:00 2012
Subject: [gdal-dev] vsicurl
In-Reply-To: <CAJ0mEz2Xwgw5byyQoFPdfLc+CqOFGwPAb037LuyXCZ2b1+TO-A@mail.gmail.com>
References: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>
	<CA+YzLBfjiYJvxuhFpHerbBD+SxWeObF5Qrh7KueOMpecy-UXEQ@mail.gmail.com>
	<CAJ0mEz2Xwgw5byyQoFPdfLc+CqOFGwPAb037LuyXCZ2b1+TO-A@mail.gmail.com>
Message-ID: <CA+YzLBfLTGHeaPz0zMP+xg5bFvq2wUnrRcnHB1cWNmYnk2Mu=g@mail.gmail.com>

On Fri, Mar 23, 2012 at 1:57 PM, Kyle Shannon <kyle@pobox.com> wrote:
> Can the VSI*L support be added to drivers that use a third party API similar
> to the way it is done in the geotiff driver? ?Would that be a good reference
> to add support to other drivers?

Kyle,

There are a number of external libraries where we are able to hook
the IO functions for that sublibrary and route things through VSI*L.
The GeotTIFF, MrSID, ECW and Shapefile drivers are all examples
of this I believe.  How it exactly works depends on the IO hooking
mechanisms provided by the external library.  Some provide no
usable mechanism.

Best regards,
Frank

> On Fri, Mar 23, 2012 at 14:33, Frank Warmerdam <warmerdam@pobox.com> wrote:
>>
>> Kyle,
>>
>> You need to have built GDAL with curl support and the drivers has do
>> do all file access through VSI*L functions.
>>
>> Best regards,
>> Frank
>>
>> On Fri, Mar 23, 2012 at 1:31 PM, Kyle Shannon <kyle@pobox.com> wrote:
>> > What are the requirements for using the vsicurl handler for accessing
>> > files?
>> > Do drivers have to implement anything special do have curl support?
>> >
>> > _______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>> --
>>
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up?? | Frank Warmerdam,
>> warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush? ? | Geospatial Software Developer
>
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From kyle at pobox.com  Fri Mar 23 17:07:10 2012
From: kyle at pobox.com (Kyle Shannon)
Date: Fri Mar 23 17:07:34 2012
Subject: [gdal-dev] vsicurl
In-Reply-To: <CA+YzLBfLTGHeaPz0zMP+xg5bFvq2wUnrRcnHB1cWNmYnk2Mu=g@mail.gmail.com>
References: <CAJ0mEz39i65m3cubHZBiz6jNwVnqY-Q8G_eA4z_4cY+0v_8=NA@mail.gmail.com>
	<CA+YzLBfjiYJvxuhFpHerbBD+SxWeObF5Qrh7KueOMpecy-UXEQ@mail.gmail.com>
	<CAJ0mEz2Xwgw5byyQoFPdfLc+CqOFGwPAb037LuyXCZ2b1+TO-A@mail.gmail.com>
	<CA+YzLBfLTGHeaPz0zMP+xg5bFvq2wUnrRcnHB1cWNmYnk2Mu=g@mail.gmail.com>
Message-ID: <CAJ0mEz0M+VtTPLJqNee32Efr5ARSB2saRA1CTX80iZFL-=t7aQ@mail.gmail.com>

Thanks.

kss

On Fri, Mar 23, 2012 at 15:06, Frank Warmerdam <warmerdam@pobox.com> wrote:

> On Fri, Mar 23, 2012 at 1:57 PM, Kyle Shannon <kyle@pobox.com> wrote:
> > Can the VSI*L support be added to drivers that use a third party API
> similar
> > to the way it is done in the geotiff driver?  Would that be a good
> reference
> > to add support to other drivers?
>
> Kyle,
>
> There are a number of external libraries where we are able to hook
> the IO functions for that sublibrary and route things through VSI*L.
> The GeotTIFF, MrSID, ECW and Shapefile drivers are all examples
> of this I believe.  How it exactly works depends on the IO hooking
> mechanisms provided by the external library.  Some provide no
> usable mechanism.
>
> Best regards,
> Frank
>
> > On Fri, Mar 23, 2012 at 14:33, Frank Warmerdam <warmerdam@pobox.com>
> wrote:
> >>
> >> Kyle,
> >>
> >> You need to have built GDAL with curl support and the drivers has do
> >> do all file access through VSI*L functions.
> >>
> >> Best regards,
> >> Frank
> >>
> >> On Fri, Mar 23, 2012 at 1:31 PM, Kyle Shannon <kyle@pobox.com> wrote:
> >> > What are the requirements for using the vsicurl handler for accessing
> >> > files?
> >> > Do drivers have to implement anything special do have curl support?
> >> >
> >> > _______________________________________________
> >> > gdal-dev mailing list
> >> > gdal-dev@lists.osgeo.org
> >> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >>
> >>
> >> --
> >>
> >>
> ---------------------------------------+--------------------------------------
> >> I set the clouds in motion - turn up   | Frank Warmerdam,
> >> warmerdam@pobox.com
> >> light and sound - activate the windows | http://pobox.com/~warmerdam
> >> and watch the world go round - Rush    | Geospatial Software Developer
> >
> >
>
>
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120323/069058c6/attachment-0001.html
From saad.hessane at gmail.com  Sat Mar 24 08:14:51 2012
From: saad.hessane at gmail.com (=?ISO-8859-1?Q?Sa=E2d_HESSANE?=)
Date: Sat Mar 24 08:15:18 2012
Subject: [gdal-dev] Precision about scale/offset element in VRT file
In-Reply-To: <CA+YzLBfzjRoHCP-9CbvEtOWypzMG1uP3piXnwmF_OtgfTAF9Zg@mail.gmail.com>
References: <CAEcp1tApq5=p8HqRSp0WR30pza8xt8a2uv11GxngNSjY-_wUOw@mail.gmail.com>
	<CAMKgpOZ7TjFucSLEK1Kyk=sEE7U3vQqu9Cc4mUzJLku18MgaaQ@mail.gmail.com>
	<CAEcp1tAGPqOa-4yaoVdP0xKYDNrLL2MfnOgAg7+3NWwFvf16SQ@mail.gmail.com>
	<CAMKgpObJjTJ06H0caFwfBfcO2iCCVbayAAcKWgxTjVsFO21JSw@mail.gmail.com>
	<CA+YzLBfzjRoHCP-9CbvEtOWypzMG1uP3piXnwmF_OtgfTAF9Zg@mail.gmail.com>
Message-ID: <CAEcp1tA85fTRNZG2dSa2_bpPaAmC9dG047gLPp5GoKRm6rznqg@mail.gmail.com>

Thank you all !

2012/3/23 Frank Warmerdam <warmerdam@pobox.com>

> On Fri, Mar 23, 2012 at 10:29 AM, Chaitanya kumar CH
> <chaitanya.ch@gmail.com> wrote:
> > Output pixel value = (raw pixel value * scale) + offset
>
> Exactly.
>
> The reason for scale and offset to exist is that "real world" measures
> like elevation, temperature, pressure are often represented in raster
> datasets as integer values rescaled from some original floating
> point values.  This is done for compactness in raster format and
> because many raster formats don't support floating point pixels at
> all.
>
> So for instance, if you have a dataset with temperatures between
> -20 and 100 you might record them in byte values such with an
> offset -20 and scale 2.0 which would provide for half degree
> precision over the range in byte values.
>
> So a temperature of 80 would be represented as byte value
> of "50".  The real temperature would be:
>
> 50 * 2 - 20 = 80
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120324/39b1d321/attachment.html
From hiebert at uvic.ca  Mon Mar 26 00:59:43 2012
From: hiebert at uvic.ca (James Hiebert)
Date: Mon Mar 26 01:43:14 2012
Subject: [gdal-dev] ogr2ogr, gpx -> PostGIS, preserving fid links
Message-ID: <20120326045936.GA5083@granite>

Hi all,

I'm trying to use ogr2ogr to load gpx tracks into PostGIS and am having trouble preserving the foreign keys between the "track_points" layer/table and the "tracks" layer/table.

My use case is as such:
I typically collect gps traces in the field and use gpsbabel to download the traces from one of my gps receivers.  Afterwards I want to load them into PostGIS, adding the trace(s) from the last period of time to my archive of gps traces from the past several years.  When inserting into PostGIS, I would like to include both the track_points layer (to include all of the point attributes such as time, elevation, hdop/vdop, etc.) and the tracks layer.  I would like for each of the track_point rows to include a foreign key to the corresponding track and GDAL's GPX driver seems to support this according to here: http://gis-lab.info/docs/gdal/gdal_ogr_user_docs.html

Whenever running ogr2ogr in append mode, however, the track_fid column of the track_points are never translated to account for what is the actual fid of the corresponding track.  For example, if there are already 10 tracks in my database, and the track fid sequence is at 10, the new track will be loaded in with fid=10, but the track_points from that track will be loaded in with track_fid=0 (i.e. it points to the track_fid in the new gpx file, not the database).

I thought that perhaps the -preserve_fid command line switch would help, but it's essentially useless in -append mode.  If you're adding a new set of tracks to the database, there's no point in preserving the fids; all of the fids (0-n) in the new gpx file have all been used up by the existing tracks in the database and I'll just get primary key errors on anything after the first insertion.  I think that I'm missing something.  For example, I don't really understand why this old ticket http://trac.osgeo.org/gdal/ticket/3637 is marked as invalid. Perhaps it's just that my use case isn't supported by ogr2ogr? (If so, let me know and I'll move on).

What's my best solution here?  Is there an easy way out that I'm not thinking of/don't know about, or do I have to do some several step process like use ogr2ogr to insert into a temprorary table and then move them into the multi-track archive using a select/insert?  Or should I just not use ogr2ogr and write my own program with GDAL which retrieves the track_fid upon writing that layer and then uses it for writing the track_points layer?

FWIW I'm using GDAL 1.9.0, PostgreSQL 9.1.3 and PostGIS 1.5.3-r1 all built on Linux.

Cheers,

~James
From chaitanya.ch at gmail.com  Mon Mar 26 04:03:51 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon Mar 26 04:04:31 2012
Subject: [gdal-dev] ogr2ogr, gpx -> PostGIS, preserving fid links
In-Reply-To: <20120326045936.GA5083@granite>
References: <20120326045936.GA5083@granite>
Message-ID: <CAMKgpObYHWoynp_v2r3j+3+XCuUZrR2T9HtTJq3X5BeBzk-4cw@mail.gmail.com>

James,

The ticket #3637 was invalid because there was nothing to fix. The change
in track_fid values was not unexpected.

Whatever we do, we need to keep track of the foreign keys. That is not a
trivial case. It is more of a DBMS area. In fact, the solution you
specified, which is to have a temporary table, was my first idea too.

Please let us know how you solved this issue.

On Mon, Mar 26, 2012 at 10:29 AM, James Hiebert <hiebert@uvic.ca> wrote:

> Hi all,
>
> I'm trying to use ogr2ogr to load gpx tracks into PostGIS and am having
> trouble preserving the foreign keys between the "track_points" layer/table
> and the "tracks" layer/table.
>
> My use case is as such:
> I typically collect gps traces in the field and use gpsbabel to download
> the traces from one of my gps receivers.  Afterwards I want to load them
> into PostGIS, adding the trace(s) from the last period of time to my
> archive of gps traces from the past several years.  When inserting into
> PostGIS, I would like to include both the track_points layer (to include
> all of the point attributes such as time, elevation, hdop/vdop, etc.) and
> the tracks layer.  I would like for each of the track_point rows to include
> a foreign key to the corresponding track and GDAL's GPX driver seems to
> support this according to here:
> http://gis-lab.info/docs/gdal/gdal_ogr_user_docs.html
>
> Whenever running ogr2ogr in append mode, however, the track_fid column of
> the track_points are never translated to account for what is the actual fid
> of the corresponding track.  For example, if there are already 10 tracks in
> my database, and the track fid sequence is at 10, the new track will be
> loaded in with fid=10, but the track_points from that track will be loaded
> in with track_fid=0 (i.e. it points to the track_fid in the new gpx file,
> not the database).
>
> I thought that perhaps the -preserve_fid command line switch would help,
> but it's essentially useless in -append mode.  If you're adding a new set
> of tracks to the database, there's no point in preserving the fids; all of
> the fids (0-n) in the new gpx file have all been used up by the existing
> tracks in the database and I'll just get primary key errors on anything
> after the first insertion.  I think that I'm missing something.  For
> example, I don't really understand why this old ticket
> http://trac.osgeo.org/gdal/ticket/3637 is marked as invalid. Perhaps it's
> just that my use case isn't supported by ogr2ogr? (If so, let me know and
> I'll move on).
>
> What's my best solution here?  Is there an easy way out that I'm not
> thinking of/don't know about, or do I have to do some several step process
> like use ogr2ogr to insert into a temprorary table and then move them into
> the multi-track archive using a select/insert?  Or should I just not use
> ogr2ogr and write my own program with GDAL which retrieves the track_fid
> upon writing that layer and then uses it for writing the track_points layer?
>
> FWIW I'm using GDAL 1.9.0, PostgreSQL 9.1.3 and PostGIS 1.5.3-r1 all built
> on Linux.
>
> Cheers,
>
> ~James
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120326/14787b2c/attachment.html
From Srp at geo.ku.dk  Mon Mar 26 07:31:24 2012
From: Srp at geo.ku.dk (Simon R. Proud)
Date: Mon Mar 26 07:32:13 2012
Subject: [gdal-dev] The GEOS projection and gdalwarp
Message-ID: <4F706FAC.9690.0040.1@geo.ku.dk>

Hi,
I'm working with meteosat data in the GEOS projection and have been having some problems with gdalwarp.The data I'm using contains no geo-information, so I call gdalwarp with this:

gdalwarp -s_srs '+proj=geos +lon_0=0.0 +h=35785831 +x_0=0.0' -t_srs '+proj=latlong +datum=WGS84' -ts 2000 2200 -te -20.5 -40.99992 52.2272 39.0 /media/Data/ISOP.tif /home/processing/GEO.tif

This results in:
"ERROR1: Unable to compute a transformation between pixel/line and georeferenced coordinates for /media/Data/ISOP.tif.
There is no affine transformation and no GCPs."

Do you know how I could overcome this? When I convert *to* GEOS I needed to include some additional info (such as subsatellite pixel size as an argument with -tr) but I can't find how to include that info in the source projection. Any ideas/hints greatly appreciated!

Thanks,
Simon.

~~~~~~~~~~~~~~~~~~~~~~~~
Dr Simon Proud
Post-doc, Satellite Remote Sensing
University of Copenhagen

Tel: +45 35 32 25 84
~~~~~~~~~~~~~~~~~~~~~~~~

From hiebert at uvic.ca  Mon Mar 26 10:55:55 2012
From: hiebert at uvic.ca (James Hiebert)
Date: Mon Mar 26 10:56:51 2012
Subject: [gdal-dev] ogr2ogr, gpx -> PostGIS, preserving fid links
In-Reply-To: <CAMKgpObYHWoynp_v2r3j+3+XCuUZrR2T9HtTJq3X5BeBzk-4cw@mail.gmail.com>
References: <20120326045936.GA5083@granite>
	<CAMKgpObYHWoynp_v2r3j+3+XCuUZrR2T9HtTJq3X5BeBzk-4cw@mail.gmail.com>
Message-ID: <20120326145550.GA11589@granite>

> The ticket #3637 was invalid because there was nothing to fix. The change in
> track_fid values was not unexpected.

Good to know.  I guess as a very periphrial GDAL user, I'm still learning what to expect and what is not core functionality.

> Please let us know how you solved this issue.

It turned out that a pretty simple python script solved my problem (thanks largely to the "Retrieving FID of newly inserted feature" from here: http://www.gdal.org/ogr/drv_pg_advanced.html).  Without any attempt to optimize for performance or catch any errors, it can be expressed in a short page (below) and seems to do the right foreign key mapping; at least for the several test cases that I tried.  We'll see what happens when I go to load years worth of data :)

Thanks for the feedback.

~James

import ogr

rd = ogr.Open('/path/to/my/file.gpx')
wt = ogr.Open("PG:dbname='spatial' host='my.host' user='me' password='******'")

rlyr = rd.GetLayerByName('tracks')
wlyr = wt.GetLayerByName('tracks')

fid_map = {}

# Copy tracks, saving the database fid
for feat in rlyr:
    fFID = feat.GetFID()
    feat.SetFID(-1)
    rv = wlyr.CreateFeature(feat)
    fid_map[fFID] = feat.GetFID()

print "fid map:", fid_map

ptrlyr = rd.GetLayerByName('track_points')
ptwlyr = wt.GetLayerByName('track_points')

# Copy track-points using the database track_fid rather than the file track_fid 
for feat in ptrlyr:
    feat.SetFID(-1)
    feat.SetField('track_fid', fid_map[feat.track_fid])
    rv = ptwlyr.CreateFeature(feat)


On Mon, Mar 26, 2012 at 01:33:51PM +0530, Chaitanya kumar CH wrote:
> James,
> 
> The ticket #3637 was invalid because there was nothing to fix. The change in
> track_fid values was not unexpected.
> 
> Whatever we do, we need to keep track of the foreign keys. That is not a
> trivial case. It is more of a DBMS area. In fact, the solution you specified,
> which is to have a temporary table, was my first idea too.
> 
> Please let us know how you solved this issue.
> 
> On Mon, Mar 26, 2012 at 10:29 AM, James Hiebert <hiebert@uvic.ca> wrote:
> 
>     Hi all,
> 
>     I'm trying to use ogr2ogr to load gpx tracks into PostGIS and am having
>     trouble preserving the foreign keys between the "track_points" layer/table
>     and the "tracks" layer/table.
> 
>     My use case is as such:
>     I typically collect gps traces in the field and use gpsbabel to download
>     the traces from one of my gps receivers. ?Afterwards I want to load them
>     into PostGIS, adding the trace(s) from the last period of time to my
>     archive of gps traces from the past several years. ?When inserting into
>     PostGIS, I would like to include both the track_points layer (to include
>     all of the point attributes such as time, elevation, hdop/vdop, etc.) and
>     the tracks layer. ?I would like for each of the track_point rows to include
>     a foreign key to the corresponding track and GDAL's GPX driver seems to
>     support this according to here: http://gis-lab.info/docs/gdal/
>     gdal_ogr_user_docs.html
> 
>     Whenever running ogr2ogr in append mode, however, the track_fid column of
>     the track_points are never translated to account for what is the actual fid
>     of the corresponding track. ?For example, if there are already 10 tracks in
>     my database, and the track fid sequence is at 10, the new track will be
>     loaded in with fid=10, but the track_points from that track will be loaded
>     in with track_fid=0 (i.e. it points to the track_fid in the new gpx file,
>     not the database).
> 
>     I thought that perhaps the -preserve_fid command line switch would help,
>     but it's essentially useless in -append mode. ?If you're adding a new set
>     of tracks to the database, there's no point in preserving the fids; all of
>     the fids (0-n) in the new gpx file have all been used up by the existing
>     tracks in the database and I'll just get primary key errors on anything
>     after the first insertion. ?I think that I'm missing something. ?For
>     example, I don't really understand why this old ticket http://
>     trac.osgeo.org/gdal/ticket/3637 is marked as invalid. Perhaps it's just
>     that my use case isn't supported by ogr2ogr? (If so, let me know and I'll
>     move on).
> 
>     What's my best solution here? ?Is there an easy way out that I'm not
>     thinking of/don't know about, or do I have to do some several step process
>     like use ogr2ogr to insert into a temprorary table and then move them into
>     the multi-track archive using a select/insert? ?Or should I just not use
>     ogr2ogr and write my own program with GDAL which retrieves the track_fid
>     upon writing that layer and then uses it for writing the track_points
>     layer?
> 
>     FWIW I'm using GDAL 1.9.0, PostgreSQL 9.1.3 and PostGIS 1.5.3-r1 all built
>     on Linux.
> 
>     Cheers,
> 
>     ~James
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev@lists.osgeo.org
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> 
> --
> Best regards,
> Chaitanya kumar CH.
> 
> +91-9494447584
> 17.2416N 80.1426E
From marcel.derrien at meteo.fr  Tue Mar 27 03:34:56 2012
From: marcel.derrien at meteo.fr (Marcel Derrien)
Date: Tue Mar 27 03:59:27 2012
Subject: [gdal-dev] Re: The GEOS projection and gdalwarp
In-Reply-To: <20120326160017.8A76EE00C55@lists.osgeo.org>
References: <20120326160017.8A76EE00C55@lists.osgeo.org>
Message-ID: <4F716DA0.10600@meteo.fr>

Hi,
First I suggest you use gdal_translate and provide -a_ullr ulx uly lrx 
lry so that your input file is georeferenced.
Assuming that your input file is the full earth disk 3712x371,  the 
corner coordinates (metre) of your image are
ulx_msg=-5570248.832537
uly_msg=5570248.832537
lrx_msg=5567248.429179
lry_msg=-5567248.429179
gdal_translate -a_srs  "+proj=geos +a=6378169 +b=6356583.8 +lon_0=0 
+h=35785831" -a_ullr $ulx_msg $uly_msg $lrx_msg $lry_msg input.tif 
input_geo.tif
Using input_geo.tif with gdalwarp should allow your desired reprojection.
Marcel
---
Marcel Derrien,
http://www.meteo-spatiale.fr

Date: Mon, 26 Mar 2012 13:31:24 +0200
From: "Simon R. Proud" <Srp@geo.ku.dk>
Subject: [gdal-dev] The GEOS projection and gdalwarp
To: <gdal-dev@lists.osgeo.org>
Message-ID: <4F706FAC.9690.0040.1@geo.ku.dk>
Content-Type: text/plain; charset=US-ASCII

Hi,
I'm working with meteosat data in the GEOS projection and have been having some problems with gdalwarp.The data I'm using contains no geo-information, so I call gdalwarp with this:

gdalwarp -s_srs '+proj=geos +lon_0=0.0 +h=35785831 +x_0=0.0' -t_srs '+proj=latlong +datum=WGS84' -ts 2000 2200 -te -20.5 -40.99992 52.2272 39.0 /media/Data/ISOP.tif /home/processing/GEO.tif

This results in:
"ERROR1: Unable to compute a transformation between pixel/line and georeferenced coordinates for /media/Data/ISOP.tif.
There is no affine transformation and no GCPs."

Do you know how I could overcome this? When I convert *to* GEOS I needed to include some additional info (such as subsatellite pixel size as an argument with -tr) but I can't find how to include that info in the source projection. Any ideas/hints greatly appreciated!

Thanks,
Simon.

~~~~~~~~~~~~~~~~~~~~~~~~
Dr Simon Proud
Post-doc, Satellite Remote Sensing
University of Copenhagen

Tel: +45 35 32 25 84
~~~~~~~~~~~~~~~~~~~~~~~~




-------------- next part --------------
A non-text attachment was scrubbed...
Name: marcel_derrien.vcf
Type: text/x-vcard
Size: 375 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/28fdd783/marcel_derrien.vcf
From max at geoinova.com  Tue Mar 27 04:44:51 2012
From: max at geoinova.com (Maksim Sestic)
Date: Tue Mar 27 04:44:55 2012
Subject: [gdal-dev] OSR .NET bindings
Message-ID: <51D9D75F9AF84DF28A3BA424D6068DEF@max6>

Hi all,

 

Am I missing something, or OSR managed binandings for GDAL 1.9.0 target .NET
4.0? Is there any specific reason for that, may I change this to target .NET
2.0?

 

Regards,

Maksim Sestic

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/875fb9e6/attachment.html
From szekerest at gmail.com  Tue Mar 27 05:05:28 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Mar 27 05:05:44 2012
Subject: [gdal-dev] OSR .NET bindings
In-Reply-To: <51D9D75F9AF84DF28A3BA424D6068DEF@max6>
References: <51D9D75F9AF84DF28A3BA424D6068DEF@max6>
Message-ID: <CACALY+Q_yLPV2Z+uB6D57RRsk_eN+RJCNEhOvbY6XPGF435x6g@mail.gmail.com>

Maksim,

As far as I remember only the MSVC2010 builds compile for .NET 4.0. All
compilers use the default setting in this regard.

Best regards,

Tamas


2011/3/27 Maksim Sestic <max@geoinova.com>

>  Hi all,****
>
> ** **
>
> Am I missing something, or OSR managed binandings for GDAL 1.9.0 target
> .NET 4.0? Is there any specific reason for that, may I change this to
> target .NET 2.0?****
>
> ** **
>
> Regards,****
>
> Maksim Sestic****
>
> ** **
>
>
> __________ Information from ESET NOD32 Antivirus, version of virus
> signature database 7001 (20120326) __________
>
> The message was checked by ESET NOD32 Antivirus.
>
> http://www.eset.com
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/fd210e2c/attachment.html
From akshaygupta202 at gmail.com  Tue Mar 27 11:14:45 2012
From: akshaygupta202 at gmail.com (akshay gupta)
Date: Tue Mar 27 11:15:42 2012
Subject: [gdal-dev] GDAL Tiling
Message-ID: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>

Hi,

I have few questions regarding GDAL tiling and overviews.

1) Is there any In build direct function in GDAL from where i can set the
size of the tiles(raster block size).
2)I an facing an strange situation. I have an TIFF image, and I am trying
to read it block by block using ReadBlock(). When i read block from the
band of the original dataset(GDALDataset I get when i call GDALOpen() ), I
get a tile which is of size Width X 1 but if i create overviews and then
call ReadBlock() on the band extracted from the first overview i get square
tiles(Blocks). Can any body tell me why is this happening, Is there any way
of getting square tiles of same size irrespective of whether i call
ReadBlock() on original Dataset or on the overview level.

Thanks and regards,
Akhy H?ckelheim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/2f00b96a/attachment.html
From chaitanya.ch at gmail.com  Tue Mar 27 12:00:35 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Mar 27 12:01:13 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
Message-ID: <CAMKgpOavGnyXYHDgYokgKCm9rgdja0u0Eh95pfXW8GVZ2dxDrw@mail.gmail.com>

Akhy,

1) Raster block size is a readonly property. The only way to change it is
to create a new dataset with the new block size. For a tiff image you can
use the creation options TILED, BLOCKXSIZE and BLOCKYSIZE [1].
2) You can read the raster any way you want using the GDALRasterIO() and
GDALDatasetRasterIO() functions. You can set the X and Y sizes.

[1]: http://www.gdal.org/frmt_gtiff.html

On Tue, Mar 27, 2012 at 8:44 PM, akshay gupta <akshaygupta202@gmail.com>wrote:

> Hi,
>
> I have few questions regarding GDAL tiling and overviews.
>
> 1) Is there any In build direct function in GDAL from where i can set the
> size of the tiles(raster block size).
> 2)I an facing an strange situation. I have an TIFF image, and I am trying
> to read it block by block using ReadBlock(). When i read block from the
> band of the original dataset(GDALDataset I get when i call GDALOpen() ), I
> get a tile which is of size Width X 1 but if i create overviews and then
> call ReadBlock() on the band extracted from the first overview i get square
> tiles(Blocks). Can any body tell me why is this happening, Is there any way
> of getting square tiles of same size irrespective of whether i call
> ReadBlock() on original Dataset or on the overview level.
>
> Thanks and regards,
> Akhy H?ckelheim
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/9963cf6d/attachment.html
From akshaygupta202 at gmail.com  Tue Mar 27 13:35:04 2012
From: akshaygupta202 at gmail.com (akshay gupta)
Date: Tue Mar 27 13:36:17 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CAMKgpOavGnyXYHDgYokgKCm9rgdja0u0Eh95pfXW8GVZ2dxDrw@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
	<CAMKgpOavGnyXYHDgYokgKCm9rgdja0u0Eh95pfXW8GVZ2dxDrw@mail.gmail.com>
Message-ID: <CAB_qc73=NjHa5xPfo+mKECBdwP41GtWWBZTNJNf=eA1dTpTn4g@mail.gmail.com>

Thanks for your quick reply,
I dont want to use GDALRasterIO, I dont want to allocate memory of size
equal that of image or ROI, i want to make use of tiling as much as
possible. Can you provide more detail on how to create tiles tiff files by
default.

Akhy
On Tue, Mar 27, 2012 at 9:30 PM, Chaitanya kumar CH
<chaitanya.ch@gmail.com>wrote:

> CKYSIZE [1].
> 2) You can read the raster any way you want using the GDALR
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/136e8169/attachment.html
From jdmorgan at unca.edu  Tue Mar 27 14:20:30 2012
From: jdmorgan at unca.edu (jdmorgan)
Date: Tue Mar 27 14:21:08 2012
Subject: [gdal-dev] possible to take this unprojected/unknown coordinate
 system data
 and assign it to the second known ones projected/coordinate system
Message-ID: <4F7204EE.7060608@gmail.com>

Hello,

I was hoping someone in the GDAL community could help me out, as I am 
stuck on a particular issue of dealing with a source dataset (geotiff) 
that has no projection information.Here are the gdalinfo results on the 
coordinate system:

Coordinate System is:

/LOCAL_CS[" Geocoding information not available Projection Name = 
Unknown Units = other GeoTIFF Units = other",/

/UNIT["unknown",1]]/

/Origin = (-34.100006100000002,28.599823000000001)/

/Pixel Size = (0.439998627000000,-0.439998627000000)/

//

I do know if data is representing the continental USA.And, I want to get 
it into a projection/coordinate system so that I can overlay it with 
another dataset which already has a coordinate systems and is projected. 
Is it possible to take this unprojected/unknown coordinate system data 
and assign it to the second known ones projected/coordinate system? 
Hopfully, this question makes sense, and someone can tell me if what I 
am trying to do is even possible.

Thanks,
Derek


-- 
Derek @ NEMAC

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/cf953631/attachment-0001.html
From chaitanya.ch at gmail.com  Tue Mar 27 14:42:11 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Mar 27 14:42:37 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CAB_qc73=NjHa5xPfo+mKECBdwP41GtWWBZTNJNf=eA1dTpTn4g@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
	<CAMKgpOavGnyXYHDgYokgKCm9rgdja0u0Eh95pfXW8GVZ2dxDrw@mail.gmail.com>
	<CAB_qc73=NjHa5xPfo+mKECBdwP41GtWWBZTNJNf=eA1dTpTn4g@mail.gmail.com>
Message-ID: <CAMKgpObU7TL_8q5WEy6UwEH3VLAWw+nBT2U6eL3HRT5DW3wukQ@mail.gmail.com>

Akhy,

Block size is determined/set at the time of file creation. The only way to
change it is to make a different file with the desired block size. Not all
raster formats support setting custom block sizes. GeoTIFF does.

On Tue, Mar 27, 2012 at 11:05 PM, akshay gupta <akshaygupta202@gmail.com>wrote:

>
> Thanks for your quick reply,
> I dont want to use GDALRasterIO, I dont want to allocate memory of size
> equal that of image or ROI, i want to make use of tiling as much as
> possible. Can you provide more detail on how to create tiles tiff files by
> default.
>
> Akhy
>
> On Tue, Mar 27, 2012 at 9:30 PM, Chaitanya kumar CH <
> chaitanya.ch@gmail.com> wrote:
>
>> CKYSIZE [1].
>> 2) You can read the raster any way you want using the GDALR
>>
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120328/97b7e3e8/attachment.html
From jzl5325 at psu.edu  Tue Mar 27 14:50:53 2012
From: jzl5325 at psu.edu (Jay L.)
Date: Tue Mar 27 14:51:43 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
Message-ID: <CA+bfmPscm=Hmr+Ep0AP=ttRpQc_4R2j5cXLE1_Wmxh0icPVTjw@mail.gmail.com>

For a geotiff I would use the following to change block size.

 gdal_translate -of GTiff -co "TILED=YES" -co "BLOCKXSIZE=256" -co
"BLOCKYSIZE=256" <input> <output>

Replace 256with whatever integer you want.

I realize that this is outside of your program, but it looks like you are
going to need to modify the input data pre-processing.


Jay



On Tue, Mar 27, 2012 at 11:14 AM, akshay gupta <akshaygupta202@gmail.com>wrote:

> Hi,
>
> I have few questions regarding GDAL tiling and overviews.
>
> 1) Is there any In build direct function in GDAL from where i can set the
> size of the tiles(raster block size).
> 2)I an facing an strange situation. I have an TIFF image, and I am trying
> to read it block by block using ReadBlock(). When i read block from the
> band of the original dataset(GDALDataset I get when i call GDALOpen() ), I
> get a tile which is of size Width X 1 but if i create overviews and then
> call ReadBlock() on the band extracted from the first overview i get square
> tiles(Blocks). Can any body tell me why is this happening, Is there any way
> of getting square tiles of same size irrespective of whether i call
> ReadBlock() on original Dataset or on the overview level.
>
> Thanks and regards,
> Akhy H?ckelheim
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/8104eb11/attachment.html
From stoermerjp at gmail.com  Tue Mar 27 18:17:08 2012
From: stoermerjp at gmail.com (Stoermer, Jon-Pierre)
Date: Tue Mar 27 18:17:57 2012
Subject: [gdal-dev] Question regarding tif mosaic (RGB and Gray)
Message-ID: <CAFpV57PNDh3zFe1vkNvjJXpBcXoZ5c2nDyYv4Au0QHrBHNBgJQ@mail.gmail.com>

Hello all,
Thanks in advance for your time. This may be a stupid question but I can't
figure out how to mosaic two geotiff files with different color bands? Is
this possible? I get an error using gdalbuildvrt saying it ignores the
image with only color band.

I have the SRTM3 DEM file for my area of interest. Notice it only has 1
color band. Gray

Driver: GTiff/GeoTIFF
Files: hillshade_cut_33N.tif
Size is 13, 17
Coordinate System is:
PROJCS["WGS 84 / UTM zone 33N",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",15],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32633"]]
Pixel Size = (75.631606558927956,-75.631606558927956)
Band 1 Block=13x17 Type=Byte, ColorInterp=Gray
  NoData Value=255

My geotiff mosiac:

Driver: GTiff/GeoTIFF
Files: mosaic_33N.tif
 Size is 7946, 6763
Coordinate System is:
PROJCS["WGS 84 / UTM zone 33N",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",15],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32633"]]
Pixel Size = (0.026845850153315,-0.026845850153315)
Band 1 Block=7946x1 Type=Byte, ColorInterp=Red
  NoData Value=255
Band 2 Block=7946x1 Type=Byte, ColorInterp=Green
  NoData Value=255
Band 3 Block=7946x1 Type=Byte, ColorInterp=Blue
  NoData Value=255

I would like to drape the mosaic over top of the DEM background tiff, which
is slightly larger. Is it possible to mosaic these images together using
gdalbuildvrt? I realize the pixel size of the DEM image is much larger, my
goal is to generate the same sort of image as you would see viewing both of
these tifs together in ArcGIS or QGIS. Hope this makes sense.

Many thanks,
Jon-Pierre
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120327/6f833507/attachment.html
From warmerdam at pobox.com  Tue Mar 27 20:50:40 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 27 20:51:10 2012
Subject: [gdal-dev] possible to take this unprojected/unknown coordinate
	system data and assign it to the second known ones projected/coordinate
	system
In-Reply-To: <4F7204EE.7060608@gmail.com>
References: <4F7204EE.7060608@gmail.com>
Message-ID: <CA+YzLBc2A5ZvzUsk6egemQwFh+7Dyt286Hmx+QSCrf2QUTKSqg@mail.gmail.com>

Derek,

Based on the coordinates it seems clear enough that this
is latitude and longitude in decimal degrees.  Based on the
resolution there is little point in worrying about datum so do
something like:

  gdal_translate -a_srs WGS84 in.tif out.tif

After that you should be able to use gdalwarp to
reproject normally as long as you know the coordinate
system you want to go to.

Best regards,
Frank

On Tue, Mar 27, 2012 at 11:20 AM, jdmorgan <jdmorgan@unca.edu> wrote:
> Hello,
>
> I was hoping someone in the GDAL community could help me out, as I am stuck
> on a particular issue of dealing with a source dataset (geotiff) that has no
> projection information.? Here are the gdalinfo results on the coordinate
> system:
>
> Coordinate System is:
>
> LOCAL_CS[" Geocoding information not available Projection Name = Unknown
> Units = other GeoTIFF Units = other",
>
> ??? UNIT["unknown",1]]
>
> Origin = (-34.100006100000002,28.599823000000001)
>
> Pixel Size = (0.439998627000000,-0.439998627000000)
>
>
>
> I do know if data is representing the continental USA.? And, I want to get
> it into a projection/coordinate system so that I can overlay it with another
> dataset which already has a coordinate systems and is projected. ?Is it
> possible to take this unprojected/unknown coordinate system data and assign
> it to the second known ones projected/coordinate system? Hopfully, this
> question makes sense, and someone can tell me if what I am trying to do is
> even possible.
>
>
>
> Thanks,
> Derek
>
>
> --
> Derek @ NEMAC
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From akshaygupta202 at gmail.com  Wed Mar 28 02:45:09 2012
From: akshaygupta202 at gmail.com (akshay gupta)
Date: Wed Mar 28 02:46:25 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CA+bfmPscm=Hmr+Ep0AP=ttRpQc_4R2j5cXLE1_Wmxh0icPVTjw@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
	<CA+bfmPscm=Hmr+Ep0AP=ttRpQc_4R2j5cXLE1_Wmxh0icPVTjw@mail.gmail.com>
Message-ID: <CAB_qc71AxSbt5Dc3T=mtiEj-00M1ghFJz7yp0zQxr2F_DrKngA@mail.gmail.com>

Thanks Jay and Chaitanya, your comments helped a lot.

I have few more doubts, these may be trivial but since i am new to GDAL i
want to confirm.

1) Is it possible to cut a portion(AOI) of image in any format and store it
as tiled GTiff. Cos i want to create multiple copied of image data as i
keep editing them with different enhancements. and i want all the copies to
be readily accessible in the  form of tiles so that ram don't fill up too
much.

2) When I read an image through ReadBlock() i had to allocate some memory
and pass it in the function. Is there some way that i get the image data
stored in GDALRasterBlock directly without passing my own allocated memory.
Cos with this I would not have to write the buffer back using the
WriteBlock(), and  I can direclty change the block data improving the
memory utilization.

Thanks again,
Akhy H?ckelheim

On Wed, Mar 28, 2012 at 12:20 AM, Jay L. <jzl5325@psu.edu> wrote:

> For a geotiff I would use the following to change block size.
>
>  gdal_translate -of GTiff -co "TILED=YES" -co "BLOCKXSIZE=256" -co
> "BLOCKYSIZE=256" <input> <output>
>
> Replace 256with whatever integer you want.
>
> I realize that this is outside of your program, but it looks like you are
> going to need to modify the input data pre-processing.
>
>
> Jay
>
>
>
> On Tue, Mar 27, 2012 at 11:14 AM, akshay gupta <akshaygupta202@gmail.com>wrote:
>
>>  Hi,
>>
>> I have few questions regarding GDAL tiling and overviews.
>>
>> 1) Is there any In build direct function in GDAL from where i can set the
>> size of the tiles(raster block size).
>> 2)I an facing an strange situation. I have an TIFF image, and I am trying
>> to read it block by block using ReadBlock(). When i read block from the
>> band of the original dataset(GDALDataset I get when i call GDALOpen() ), I
>> get a tile which is of size Width X 1 but if i create overviews and then
>> call ReadBlock() on the band extracted from the first overview i get square
>> tiles(Blocks). Can any body tell me why is this happening, Is there any way
>> of getting square tiles of same size irrespective of whether i call
>> ReadBlock() on original Dataset or on the overview level.
>>
>> Thanks and regards,
>> Akhy H?ckelheim
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120328/8acc7045/attachment-0001.html
From srp at geo.ku.dk  Wed Mar 28 02:52:21 2012
From: srp at geo.ku.dk (Simon R. Proud)
Date: Wed Mar 28 02:53:06 2012
Subject: [gdal-dev] Re: The GEOS projection and gdalwarp
Message-ID: <4F72D145020000400005B6E5@smtp.geo.ku.dk>

Hi all,
Yesterday I replied to Marcel and not to the list - so I'll add a reply here in case others have a similar issue to me:
Marcel's solution works well on my Meteosat data, and the georeferencing looks perfect. The problem is solved!


Cheers,
Simon.



>>> Marcel Derrien  03/27/12 9:59 AM >>>
Hi,
First I suggest you use gdal_translate and provide -a_ullr ulx uly lrx 
lry so that your input file is georeferenced.
Assuming that your input file is the full earth disk 3712x371,  the 
corner coordinates (metre) of your image are
ulx_msg=-5570248.832537
uly_msg=5570248.832537
lrx_msg=5567248.429179
lry_msg=-5567248.429179
gdal_translate -a_srs  "+proj=geos +a=6378169 +b=6356583.8 +lon_0=0 
+h=35785831" -a_ullr $ulx_msg $uly_msg $lrx_msg $lry_msg input.tif 
input_geo.tif
Using input_geo.tif with gdalwarp should allow your desired reprojection.
Marcel
---
Marcel Derrien,
http://www.meteo-spatiale.fr

Date: Mon, 26 Mar 2012 13:31:24 +0200
From: "Simon R. Proud" 
Subject: [gdal-dev] The GEOS projection and gdalwarp
To: 
Message-ID: <4F706FAC.9690.0040.1@geo.ku.dk>
Content-Type: text/plain; charset=US-ASCII

Hi,
I'm working with meteosat data in the GEOS projection and have been having some problems with gdalwarp.The data I'm using contains no geo-information, so I call gdalwarp with this:

gdalwarp -s_srs '+proj=geos +lon_0=0.0 +h=35785831 +x_0=0.0' -t_srs '+proj=latlong +datum=WGS84' -ts 2000 2200 -te -20.5 -40.99992 52.2272 39.0 /media/Data/ISOP.tif /home/processing/GEO.tif

This results in:
"ERROR1: Unable to compute a transformation between pixel/line and georeferenced coordinates for /media/Data/ISOP.tif.
There is no affine transformation and no GCPs."

Do you know how I could overcome this? When I convert *to* GEOS I needed to include some additional info (such as subsatellite pixel size as an argument with -tr) but I can't find how to include that info in the source projection. Any ideas/hints greatly appreciated!

Thanks,
Simon.

~~~~~~~~~~~~~~~~~~~~~~~~
Dr Simon Proud
Post-doc, Satellite Remote Sensing
University of Copenhagen

Tel: +45 35 32 25 84
~~~~~~~~~~~~~~~~~~~~~~~~






From alex.barfety at signalis.com  Wed Mar 28 04:17:37 2012
From: alex.barfety at signalis.com (AlexRNL)
Date: Wed Mar 28 04:17:41 2012
Subject: [gdal-dev] Interpretation of DTED elevation data
Message-ID: <1332922657099-4663511.post@n6.nabble.com>

Hi everyone!


I have been trying to extract elevation data from a DTED file using GDAL (in
Java). The file being loaded is of level 0 precision and seems to be correct
as an import into Global Mapper is rendering the expected result.


I managed to retrieve the image data but I don't know to transform those
values into a altitude in meters.


According to the DTED format specification, the elevation values are
supposed to be two-bytes integer in meters. But, when using the 
http://www.gdal.org/java/org/gdal/gdal/Band.html#ReadRaster_Direct(int, int,
int, int, int, int, int, java.nio.ByteBuffer) ReadRaster_Direct method, the
buffer retrieved is supposed to be composed of Int16 number but when i'm
converting the raw data (bytes) into a short array i'm getting all sorts of
value which doesn't make a lot of sense. The range of the elevation is
spanning from 1 to 65286!


Is there a conversion that i'm missing? How do I get the meter value from
the raster returned by GDAL?


I've been searching for a while but it doesn't seem like anyone has that
kind of problem...


Thanks in advance for any information that may help me :)

Alex.

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/gdal-dev-Interpretation-of-DTED-elevation-data-tp4663511p4663511.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120328/d2d4accc/attachment.html
From even.rouault at mines-paris.org  Wed Mar 28 04:23:18 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Mar 28 04:23:51 2012
Subject: [gdal-dev] Interpretation of DTED elevation data
In-Reply-To: <1332922657099-4663511.post@n6.nabble.com>
References: <1332922657099-4663511.post@n6.nabble.com>
Message-ID: <1332922998.4f72ca7698aee@imp.free.fr>

Selon AlexRNL <alex.barfety@signalis.com>:

> Hi everyone!
>
>
> I have been trying to extract elevation data from a DTED file using GDAL (in
> Java). The file being loaded is of level 0 precision and seems to be correct
> as an import into Global Mapper is rendering the expected result.
>
>
> I managed to retrieve the image data but I don't know to transform those
> values into a altitude in meters.
>
>
> According to the DTED format specification, the elevation values are
> supposed to be two-bytes integer in meters. But, when using the
> http://www.gdal.org/java/org/gdal/gdal/Band.html#ReadRaster_Direct(int, int,
> int, int, int, int, int, java.nio.ByteBuffer) ReadRaster_Direct method, the
> buffer retrieved is supposed to be composed of Int16 number but when i'm
> converting the raw data (bytes) into a short array i'm getting all sorts of
> value which doesn't make a lot of sense. The range of the elevation is
> spanning from 1 to 65286!
>
>
> Is there a conversion that i'm missing? How do I get the meter value from
> the raster returned by GDAL?

You should make sure to request with buf_type = gdalconst.GDT_Int16. Then
iterating the buffer with getShort() should deliver the expected values.

Otherwise use the version of ReadRaster() that accepts a short[]. That will be
simpler to use.

The benefit of using ByteBuffer instead standard Java arrays only appears with
*huge* arrays

>
>
> I've been searching for a while but it doesn't seem like anyone has that
> kind of problem...
>
>
> Thanks in advance for any information that may help me :)
>
> Alex.
>
> --
> View this message in context:
>
http://osgeo-org.1560.n6.nabble.com/gdal-dev-Interpretation-of-DTED-elevation-data-tp4663511p4663511.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.


From mateusz at loskot.net  Wed Mar 28 05:16:56 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Mar 28 05:18:16 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CAB_qc71AxSbt5Dc3T=mtiEj-00M1ghFJz7yp0zQxr2F_DrKngA@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
	<CA+bfmPscm=Hmr+Ep0AP=ttRpQc_4R2j5cXLE1_Wmxh0icPVTjw@mail.gmail.com>
	<CAB_qc71AxSbt5Dc3T=mtiEj-00M1ghFJz7yp0zQxr2F_DrKngA@mail.gmail.com>
Message-ID: <CABUeae-Hko0VbvShxq_sLdFBK===ZgKv1MF_COmc5HisNDrt0g@mail.gmail.com>

On 28 March 2012 07:45, akshay gupta <akshaygupta202@gmail.com> wrote:
> 2) When I read an image through ReadBlock() i had to allocate some memory
> and pass it in the function. Is there some way that i get the image data
> stored in GDALRasterBlock directly without passing my own allocated memory.

http://www.gdal.org/classGDALRasterBlock.html#_details

"In normal situations applications do not interact directly
with the GDALRasterBlock - instead it it utilized
by the RasterIO() interfaces to implement caching"

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From jzl5325 at psu.edu  Wed Mar 28 07:59:51 2012
From: jzl5325 at psu.edu (Jay L.)
Date: Wed Mar 28 08:00:32 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CABUeae-Hko0VbvShxq_sLdFBK===ZgKv1MF_COmc5HisNDrt0g@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
	<CA+bfmPscm=Hmr+Ep0AP=ttRpQc_4R2j5cXLE1_Wmxh0icPVTjw@mail.gmail.com>
	<CAB_qc71AxSbt5Dc3T=mtiEj-00M1ghFJz7yp0zQxr2F_DrKngA@mail.gmail.com>
	<CABUeae-Hko0VbvShxq_sLdFBK===ZgKv1MF_COmc5HisNDrt0g@mail.gmail.com>
Message-ID: <CA+bfmPs9-cS-0J-kGu04bbhnp6hxNV-XrvfPyUQC+wxDeWqH3A@mail.gmail.com>

Akshay,

1) An AOI can be created using the -projwin option in gdal_translate.  You
can use that option when creating a new raster with a new tiles size.

2) Using the Python bindings it is possible to read a segment of a raster
into memory without allocating memory.  I am unsure using another other
language.

Jay

On Wed, Mar 28, 2012 at 5:16 AM, Mateusz Loskot <mateusz@loskot.net> wrote:

> On 28 March 2012 07:45, akshay gupta <akshaygupta202@gmail.com> wrote:
> > 2) When I read an image through ReadBlock() i had to allocate some memory
> > and pass it in the function. Is there some way that i get the image data
> > stored in GDALRasterBlock directly without passing my own allocated
> memory.
>
> http://www.gdal.org/classGDALRasterBlock.html#_details
>
> "In normal situations applications do not interact directly
> with the GDALRasterBlock - instead it it utilized
> by the RasterIO() interfaces to implement caching"
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120328/462b59c8/attachment.html
From zoltans at geograph.co.za  Wed Mar 28 09:57:52 2012
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Wed Mar 28 09:58:38 2012
Subject: [gdal-dev] MDB tools
Message-ID: <4F7318E0.5020109@geograph.co.za>

Hi All,

I am trying to find a way to list the data type of each field in all 
tables in a GeoMedia MDB databse.

I tried ogrinfo mdbname and got:  ERROR 1: PGeo: MDB Tools driver not found!

so, sudo apt-get install mdbtools, and tried again and got same error.

so, sudo apt-get install gdal-bin and that gave me a newer version than 
that I did have.
Interestingly apt-get returned:    Setting up gdal-bin 
(1.9.0-1~exp5~lucid4) ...... etc etc
but afterwards:  ogrinfo --version still returns GDAL 1.8.1, released 
2011/07/09


Anyway, still no avail:

> zls@gs0:~/q4x$ ogrinfo SSC_WC_Q43.mdb
> ERROR 1: PGeo: MDB Tools driver not found!
>
> Warning 1: Unable to install MDB driver for ODBC, MDB access may not 
> supported.
>
> ERROR 1: Unable to initialize ODBC connection to DSN for 
> DRIVER=Microsoft Access Driver (*.mdb);DBQ=SSC_WC_Q43.mdb,
> [unixODBC][Driver Manager]Data source name not found, and no default 
> driver specified
> ERROR 1: PGeo: MDB Tools driver not found!
>
> Warning 1: Unable to install MDB driver for ODBC, MDB access may not 
> supported.
>
> ERROR 1: Unable to initialize ODBC connection to DSN for 
> DRIVER=Microsoft Access Driver (*.mdb);DBQ=SSC_WC_Q43.mdb,
> [unixODBC][Driver Manager]Data source name not found, and no default 
> driver specified
> FAILURE:
> Unable to open datasource `SSC_WC_Q43.mdb' with the following drivers.
>   -> ESRI Shapefile
>   -> MapInfo File
>   -> UK .NTF   [etc tec]

I then removed the packages and reinstalled them using synaptic, only to 
get errors regarding no gdalinfo in /usr/local/bin, even though which 
gdalinfo returns /usr/bin/gdalinfo (without the 'local')


Can anyone spot my deliberate mistake?
Will ogrinfo be able to give me the schema printout that I want, or is 
there a better way?
(I am not an Access user)

Thanks in advance,
Zoltan





-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.

34? 6'16.35"S 18?28'5.62"E

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323www.geograph.co.za
===========================================

From zoltans at geograph.co.za  Wed Mar 28 10:08:52 2012
From: zoltans at geograph.co.za (Zoltan Szecsei)
Date: Wed Mar 28 10:09:18 2012
Subject: [gdal-dev] MDB tools - SOLVED
In-Reply-To: <4F7318E0.5020109@geograph.co.za>
References: <4F7318E0.5020109@geograph.co.za>
Message-ID: <4F731B74.1070803@geograph.co.za>

Sorry - I didn't try he simple idea first:
Just use mdb-schema from mdb-tools.

Apologies for the bandwidth wastage.

Regards,
Zoltan


On 2012/03/28 15:57, Zoltan Szecsei wrote:
> Hi All,
>
> I am trying to find a way to list the data type of each field in all 
> tables in a GeoMedia MDB databse.
>
> I tried ogrinfo mdbname and got:  ERROR 1: PGeo: MDB Tools driver not 
> found!
>
> so, sudo apt-get install mdbtools, and tried again and got same error.
>
> so, sudo apt-get install gdal-bin and that gave me a newer version 
> than that I did have.
> Interestingly apt-get returned:    Setting up gdal-bin 
> (1.9.0-1~exp5~lucid4) ...... etc etc
> but afterwards:  ogrinfo --version still returns GDAL 1.8.1, released 
> 2011/07/09
>
>
> Anyway, still no avail:
>
>> zls@gs0:~/q4x$ ogrinfo SSC_WC_Q43.mdb
>> ERROR 1: PGeo: MDB Tools driver not found!
>>
>> Warning 1: Unable to install MDB driver for ODBC, MDB access may not 
>> supported.
>>
>> ERROR 1: Unable to initialize ODBC connection to DSN for 
>> DRIVER=Microsoft Access Driver (*.mdb);DBQ=SSC_WC_Q43.mdb,
>> [unixODBC][Driver Manager]Data source name not found, and no default 
>> driver specified
>> ERROR 1: PGeo: MDB Tools driver not found!
>>
>> Warning 1: Unable to install MDB driver for ODBC, MDB access may not 
>> supported.
>>
>> ERROR 1: Unable to initialize ODBC connection to DSN for 
>> DRIVER=Microsoft Access Driver (*.mdb);DBQ=SSC_WC_Q43.mdb,
>> [unixODBC][Driver Manager]Data source name not found, and no default 
>> driver specified
>> FAILURE:
>> Unable to open datasource `SSC_WC_Q43.mdb' with the following drivers.
>>   -> ESRI Shapefile
>>   -> MapInfo File
>>   -> UK .NTF   [etc tec]
>
> I then removed the packages and reinstalled them using synaptic, only 
> to get errors regarding no gdalinfo in /usr/local/bin, even though 
> which gdalinfo returns /usr/bin/gdalinfo (without the 'local')
>
>
> Can anyone spot my deliberate mistake?
> Will ogrinfo be able to give me the schema printout that I want, or is 
> there a better way?
> (I am not an Access user)
>
> Thanks in advance,
> Zoltan
>
>
>
>
>


-- 

===========================================
Zoltan Szecsei PrGISc [PGP0031]
Geograph (Pty) Ltd.
P.O. Box 7, Muizenberg 7950, South Africa.

65 Main Road, Muizenberg 7945
Western Cape, South Africa.

34? 6'16.35"S 18?28'5.62"E

Tel: +27-21-7884897  Mobile: +27-83-6004028
Fax: +27-86-6115323     www.geograph.co.za
===========================================

From pcorti at gmail.com  Wed Mar 28 10:19:07 2012
From: pcorti at gmail.com (Paolo Corti)
Date: Wed Mar 28 10:20:25 2012
Subject: [gdal-dev] MDB tools
In-Reply-To: <4F7318E0.5020109@geograph.co.za>
References: <4F7318E0.5020109@geograph.co.za>
Message-ID: <CAHXrU-J1qqEKsofPCn1A5txK1946ZUS+5XOviO1r99B40vUx8g@mail.gmail.com>

On Wed, Mar 28, 2012 at 3:57 PM, Zoltan Szecsei <zoltans@geograph.co.za> wrote:
> Hi All,
>
> I am trying to find a way to list the data type of each field in all tables
> in a GeoMedia MDB databse.
>
> I tried ogrinfo mdbname and got: ?ERROR 1: PGeo: MDB Tools driver not found!
>
> so, sudo apt-get install mdbtools, and tried again and got same error.
>
> so, sudo apt-get install gdal-bin and that gave me a newer version than that
> I did have.
> Interestingly apt-get returned: ? ?Setting up gdal-bin (1.9.0-1~exp5~lucid4)
> ...... etc etc
> but afterwards: ?ogrinfo --version still returns GDAL 1.8.1, released
> 2011/07/09
>

As you are on Linux, you should avoid the rely on ODBC, and use the
Geomedia driver [1], only available from gdal 1.9.
I would test it for you, but I have no Geomedia sample data for testing

p

[1] http://www.gdal.org/ogr/drv_geomedia.html

-- 
Paolo Corti
Geospatial software developer
web: http://www.paolocorti.net
twitter: @capooti
skype: capooti
From eric.grosso.os at gmail.com  Wed Mar 28 22:27:04 2012
From: eric.grosso.os at gmail.com (Eric Grosso)
Date: Wed Mar 28 22:27:26 2012
Subject: [gdal-dev] Minor problem with the OGR clipping
Message-ID: <CAKbBUSR4LccR6WZv_j1ChXsNa_9KtR8vS49VNgksR=Rst5Rojg@mail.gmail.com>

Hi,

I was writing a small OGR based script (bash) in order to clip several
shapefiles at the same time.
Thus I used this piece of code: ogr2ogr -clipsrc polygon_selection.shp
output.shp input.shp

Using it, I had the following error: "FAILURE: Invalid geometry. Must be a
valid POLYGON or MULTIPOLYGON WKT"

I checked my polygon_selection.shp file. It was "OGC" valid. Then I checked
the documentation. Apparently it was correct.
So I finally decided to check the code and I understood why I had this
message.

If the filename of the polygon which is used to do the clipping begins with
"polygon" or "multipolygon", the code tries to convert
this argument in WKT.

Here is an code extract of ogr2ogr.cpp  (same for -clipsrc and -clipdst
options):

else if (EQUALN(papszArgv[iArg+1], "POLYGON", 7) ||
EQUALN(papszArgv[iArg+1], "MULTIPOLYGON", 12))


I let you decide what to do (add this very minor problem to the
documentation or change a bit the code,
e.g. "POLYGON", 7 becomes "POLYGON(", 8 could do the trick). That's why I
didn't open any bug report or enhancement request.

First time I write on this list, so I catch the opportunity to thank all
the developers of GDAL/OGR for your wonderful work.

Cheers,
Eric
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120329/20753ef8/attachment.html
From warmerdam at pobox.com  Wed Mar 28 22:41:04 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar 28 22:41:18 2012
Subject: [gdal-dev] Minor problem with the OGR clipping
In-Reply-To: <CAKbBUSR4LccR6WZv_j1ChXsNa_9KtR8vS49VNgksR=Rst5Rojg@mail.gmail.com>
References: <CAKbBUSR4LccR6WZv_j1ChXsNa_9KtR8vS49VNgksR=Rst5Rojg@mail.gmail.com>
Message-ID: <CA+YzLBcrMAk3iDms6i+g5sKxGLqNKFtoAwot9Z7RJrw-Mn9P_w@mail.gmail.com>

Eric,

If you could file a ticket on the issue we can make the "looks like a geometry"
logic more bulletproof.

Best regards,
Frank

On Wed, Mar 28, 2012 at 7:27 PM, Eric Grosso <eric.grosso.os@gmail.com> wrote:
> Hi,
>
> I was?writing a small?OGR based?script (bash) in order to clip several
> shapefiles at the same time.
> Thus I used this piece of code:?ogr2ogr -clipsrc polygon_selection.shp
> output.shp input.shp
>
> Using it, I had the following error:?"FAILURE: Invalid geometry. Must be a
> valid POLYGON or MULTIPOLYGON WKT"
>
> I checked my polygon_selection.shp file. It was "OGC" valid. Then I checked
> the documentation. Apparently it was correct.
> So I finally decided to check the code?and I understood why I had this
> message.
>
> If the?filename of the polygon which is used to do the clipping?begins with
> "polygon" or "multipolygon",?the code tries to convert
> this argument?in WKT.
>
> Here is an?code?extract of ogr2ogr.cpp ?(same for -clipsrc and -clipdst
> options):
>
> else if (EQUALN(papszArgv[iArg+1], "POLYGON", 7) ||
> EQUALN(papszArgv[iArg+1], "MULTIPOLYGON", 12))
>
>
> I let you decide what to do (add this very minor problem to the
> documentation or change a bit the code,
> e.g. "POLYGON", 7 becomes "POLYGON(", 8 could do the trick). That's why I
> didn't open any bug report or enhancement request.
>
> First time I write on this list, so I catch the opportunity to thank all the
> developers of GDAL/OGR for your wonderful work.
>
> Cheers,
> Eric
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Software Developer
From eric.grosso.os at gmail.com  Wed Mar 28 22:59:39 2012
From: eric.grosso.os at gmail.com (Eric Grosso)
Date: Wed Mar 28 23:00:06 2012
Subject: [gdal-dev] Minor problem with the OGR clipping
In-Reply-To: <CA+YzLBcrMAk3iDms6i+g5sKxGLqNKFtoAwot9Z7RJrw-Mn9P_w@mail.gmail.com>
References: <CAKbBUSR4LccR6WZv_j1ChXsNa_9KtR8vS49VNgksR=Rst5Rojg@mail.gmail.com>
	<CA+YzLBcrMAk3iDms6i+g5sKxGLqNKFtoAwot9Z7RJrw-Mn9P_w@mail.gmail.com>
Message-ID: <CAKbBUSRNxEwuitpW71WB5Xi9NTnnLAC=TbF_0sByFYO_cHrQHQ@mail.gmail.com>

Frank,

Done.
URL: http://trac.osgeo.org/gdal/ticket/4590

Cheers,
Eric

On 29 March 2012 04:41, Frank Warmerdam <warmerdam@pobox.com> wrote:

> Eric,
>
> If you could file a ticket on the issue we can make the "looks like a
> geometry"
> logic more bulletproof.
>
> Best regards,
> Frank
>
> On Wed, Mar 28, 2012 at 7:27 PM, Eric Grosso <eric.grosso.os@gmail.com>
> wrote:
> > Hi,
> >
> > I was writing a small OGR based script (bash) in order to clip several
> > shapefiles at the same time.
> > Thus I used this piece of code: ogr2ogr -clipsrc polygon_selection.shp
> > output.shp input.shp
> >
> > Using it, I had the following error: "FAILURE: Invalid geometry. Must be
> a
> > valid POLYGON or MULTIPOLYGON WKT"
> >
> > I checked my polygon_selection.shp file. It was "OGC" valid. Then I
> checked
> > the documentation. Apparently it was correct.
> > So I finally decided to check the code and I understood why I had this
> > message.
> >
> > If the filename of the polygon which is used to do the clipping begins
> with
> > "polygon" or "multipolygon", the code tries to convert
> > this argument in WKT.
> >
> > Here is an code extract of ogr2ogr.cpp  (same for -clipsrc and -clipdst
> > options):
> >
> > else if (EQUALN(papszArgv[iArg+1], "POLYGON", 7) ||
> > EQUALN(papszArgv[iArg+1], "MULTIPOLYGON", 12))
> >
> >
> > I let you decide what to do (add this very minor problem to the
> > documentation or change a bit the code,
> > e.g. "POLYGON", 7 becomes "POLYGON(", 8 could do the trick). That's why I
> > didn't open any bug report or enhancement request.
> >
> > First time I write on this list, so I catch the opportunity to thank all
> the
> > developers of GDAL/OGR for your wonderful work.
> >
> > Cheers,
> > Eric
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120329/b8f0973f/attachment.html
From hi181904665 at msn.com  Thu Mar 29 03:30:07 2012
From: hi181904665 at msn.com (chenliang wang)
Date: Thu Mar 29 03:30:39 2012
Subject: [gdal-dev] fail to build gdal 1.9 with minGW
Message-ID: <BLU0-SMTP2891D950F7B5843B140EA14F4480@phx.gbl>

hi:
I failed to build gdal 1.9 with minGW. I modified 'cpl_multiproc.h' with
the patch.But there are still errors with build:cpl_multiproc.cpp:73:
undefined reference to `CPLCreateOrAcquireMutex' .Pls help me out.Thanks!
-------------------------------------------------------------------------------
#if defined(WIN32) && !defined(CPL_MULTIPROC_STUB)
# define CPL_MULTIPROC_WIN32
/* MinGW can have pthread support, so disable it to avoid issues */
/* in cpl_multiproc.cpp */
# undef CPL_MULTIPROC_PTHREAD
#endif
------------------------------------------------------------------------------------


Chen-liang Wang
From akshaygupta202 at gmail.com  Thu Mar 29 03:40:44 2012
From: akshaygupta202 at gmail.com (akshay gupta)
Date: Thu Mar 29 03:41:46 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CA+bfmPs9-cS-0J-kGu04bbhnp6hxNV-XrvfPyUQC+wxDeWqH3A@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
	<CA+bfmPscm=Hmr+Ep0AP=ttRpQc_4R2j5cXLE1_Wmxh0icPVTjw@mail.gmail.com>
	<CAB_qc71AxSbt5Dc3T=mtiEj-00M1ghFJz7yp0zQxr2F_DrKngA@mail.gmail.com>
	<CABUeae-Hko0VbvShxq_sLdFBK===ZgKv1MF_COmc5HisNDrt0g@mail.gmail.com>
	<CA+bfmPs9-cS-0J-kGu04bbhnp6hxNV-XrvfPyUQC+wxDeWqH3A@mail.gmail.com>
Message-ID: <CAB_qc70jopS2ZV8AuRX3xEBsOSPn5gmo3OUc5S2HejOu0d7uzg@mail.gmail.com>

I am presently using -srcwin for copying AOI to a different file. does
-projwin have any advantage over -srcwin?

Akhy

On Wed, Mar 28, 2012 at 5:29 PM, Jay L. <jzl5325@psu.edu> wrote:

> Akshay,
>
> 1) An AOI can be created using the -projwin option in gdal_translate.  You
> can use that option when creating a new raster with a new tiles size.
>
> 2) Using the Python bindings it is possible to read a segment of a raster
> into memory without allocating memory.  I am unsure using another other
> language.
>
> Jay
>
>
> On Wed, Mar 28, 2012 at 5:16 AM, Mateusz Loskot <mateusz@loskot.net>wrote:
>
>> On 28 March 2012 07:45, akshay gupta <akshaygupta202@gmail.com> wrote:
>> > 2) When I read an image through ReadBlock() i had to allocate some
>> memory
>> > and pass it in the function. Is there some way that i get the image data
>> > stored in GDALRasterBlock directly without passing my own allocated
>> memory.
>>
>> http://www.gdal.org/classGDALRasterBlock.html#_details
>>
>> "In normal situations applications do not interact directly
>> with the GDALRasterBlock - instead it it utilized
>> by the RasterIO() interfaces to implement caching"
>>
>> Best regards,
>> --
>> Mateusz Loskot, http://mateusz.loskot.net
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120329/ef77ebf5/attachment.html
From even.rouault at mines-paris.org  Thu Mar 29 03:52:40 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 29 03:53:09 2012
Subject: [gdal-dev] fail to build gdal 1.9 with minGW
In-Reply-To: <BLU0-SMTP2891D950F7B5843B140EA14F4480@phx.gbl>
References: <BLU0-SMTP2891D950F7B5843B140EA14F4480@phx.gbl>
Message-ID: <1333007560.4f7414c88a5d7@imp.free.fr>

Selon chenliang wang <hi181904665@msn.com>:

> hi:
> I failed to build gdal 1.9 with minGW. I modified 'cpl_multiproc.h' with
> the patch.But there are still errors with build:cpl_multiproc.cpp:73:
> undefined reference to `CPLCreateOrAcquireMutex' .Pls help me out.Thanks!
>
-------------------------------------------------------------------------------
> #if defined(WIN32) && !defined(CPL_MULTIPROC_STUB)
> # define CPL_MULTIPROC_WIN32
> /* MinGW can have pthread support, so disable it to avoid issues */
> /* in cpl_multiproc.cpp */
> # undef CPL_MULTIPROC_PTHREAD
> #endif
>
------------------------------------------------------------------------------------

Did you 'make clean' after applying the patch and before rebuilding GDAL ? The
reporter of https://trac.osgeo.org/gdal/ticket/4430 confirmed that the above
patch fixed building for him.

>
>
> Chen-liang Wang
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From even.rouault at mines-paris.org  Thu Mar 29 04:12:41 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 29 04:13:34 2012
Subject: [gdal-dev] GDAL Tiling
In-Reply-To: <CAB_qc70jopS2ZV8AuRX3xEBsOSPn5gmo3OUc5S2HejOu0d7uzg@mail.gmail.com>
References: <CAB_qc724w9A0zFppQM3e69AmR2dpWbXQVJsgGJujSN_TL5B9cQ@mail.gmail.com>
	<CA+bfmPscm=Hmr+Ep0AP=ttRpQc_4R2j5cXLE1_Wmxh0icPVTjw@mail.gmail.com>
	<CAB_qc71AxSbt5Dc3T=mtiEj-00M1ghFJz7yp0zQxr2F_DrKngA@mail.gmail.com>
	<CABUeae-Hko0VbvShxq_sLdFBK===ZgKv1MF_COmc5HisNDrt0g@mail.gmail.com>
	<CA+bfmPs9-cS-0J-kGu04bbhnp6hxNV-XrvfPyUQC+wxDeWqH3A@mail.gmail.com>
	<CAB_qc70jopS2ZV8AuRX3xEBsOSPn5gmo3OUc5S2HejOu0d7uzg@mail.gmail.com>
Message-ID: <1333008761.4f74197914aef@imp.free.fr>

Selon akshay gupta <akshaygupta202@gmail.com>:

> I am presently using -srcwin for copying AOI to a different file. does
> -projwin have any advantage over -srcwin?

No, the underlying processing is the same. You just use what option is the more
convenient for you. In fact, when -projwin is used, the projected/geographic
coordinates are transformed into pixel coordinates.

>
> Akhy
>
> On Wed, Mar 28, 2012 at 5:29 PM, Jay L. <jzl5325@psu.edu> wrote:
>
> > Akshay,
> >
> > 1) An AOI can be created using the -projwin option in gdal_translate.  You
> > can use that option when creating a new raster with a new tiles size.
> >
> > 2) Using the Python bindings it is possible to read a segment of a raster
> > into memory without allocating memory.  I am unsure using another other
> > language.
> >
> > Jay
> >
> >
> > On Wed, Mar 28, 2012 at 5:16 AM, Mateusz Loskot <mateusz@loskot.net>wrote:
> >
> >> On 28 March 2012 07:45, akshay gupta <akshaygupta202@gmail.com> wrote:
> >> > 2) When I read an image through ReadBlock() i had to allocate some
> >> memory
> >> > and pass it in the function. Is there some way that i get the image data
> >> > stored in GDALRasterBlock directly without passing my own allocated
> >> memory.
> >>
> >> http://www.gdal.org/classGDALRasterBlock.html#_details
> >>
> >> "In normal situations applications do not interact directly
> >> with the GDALRasterBlock - instead it it utilized
> >> by the RasterIO() interfaces to implement caching"
> >>
> >> Best regards,
> >> --
> >> Mateusz Loskot, http://mateusz.loskot.net
> >>
> >
> >
>


From hi181904665 at msn.com  Thu Mar 29 04:16:45 2012
From: hi181904665 at msn.com (chenliang wang)
Date: Thu Mar 29 04:17:20 2012
Subject: [gdal-dev] fail to build gdal 1.9 with minGW
In-Reply-To: <1333007560.4f7414c88a5d7@imp.free.fr>
References: <BLU0-SMTP2891D950F7B5843B140EA14F4480@phx.gbl>
	<1333007560.4f7414c88a5d7@imp.free.fr>
Message-ID: <BLU0-SMTP128C725B9DA72C734EC1014F4480@phx.gbl>

Thanks for your reply. I have tried 'make clean' and then rebuild GDAL. 
And I have also modified GNUmakefile ,replaed '${GDAL_ROOTs}' for '.' 
and then 'make clean' and rebuild it again. Unfortunately, I failed 
again. I use command ' ./configure --prefix=..... ' Should I need to add 
option '--host=mingw32' or '--without-libtool'?

? 2012-3-29 15:52, Even Rouault ??:
> Selon chenliang wang<hi181904665@msn.com>:
>
>> hi:
>> I failed to build gdal 1.9 with minGW. I modified 'cpl_multiproc.h' with
>> the patch.But there are still errors with build:cpl_multiproc.cpp:73:
>> undefined reference to `CPLCreateOrAcquireMutex' .Pls help me out.Thanks!
>>
> -------------------------------------------------------------------------------
>> #if defined(WIN32)&&  !defined(CPL_MULTIPROC_STUB)
>> # define CPL_MULTIPROC_WIN32
>> /* MinGW can have pthread support, so disable it to avoid issues */
>> /* in cpl_multiproc.cpp */
>> # undef CPL_MULTIPROC_PTHREAD
>> #endif
>>
> ------------------------------------------------------------------------------------
>
> Did you 'make clean' after applying the patch and before rebuilding GDAL ? The
> reporter of https://trac.osgeo.org/gdal/ticket/4430 confirmed that the above
> patch fixed building for him.
>
>>
>> Chen-liang Wang
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
From even.rouault at mines-paris.org  Thu Mar 29 04:23:23 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 29 04:23:55 2012
Subject: [gdal-dev] fail to build gdal 1.9 with minGW
In-Reply-To: <BLU0-SMTP128C725B9DA72C734EC1014F4480@phx.gbl>
References: <BLU0-SMTP2891D950F7B5843B140EA14F4480@phx.gbl>
	<1333007560.4f7414c88a5d7@imp.free.fr>
	<BLU0-SMTP128C725B9DA72C734EC1014F4480@phx.gbl>
Message-ID: <1333009403.4f741bfb48441@imp.free.fr>

Selon chenliang wang <hi181904665@msn.com>:

> Thanks for your reply. I have tried 'make clean' and then rebuild GDAL.
> And I have also modified GNUmakefile ,replaed '${GDAL_ROOTs}' for '.'
> and then 'make clean' and rebuild it again. Unfortunately, I failed
> again. I use command ' ./configure --prefix=..... ' Should I need to add
> option '--host=mingw32' or '--without-libtool'?

I have not a mingw environment to test. Is it a compilation problem or a linking
problem ?

>
> ??? 2012-3-29 15:52, Even Rouault ??????:
> > Selon chenliang wang<hi181904665@msn.com>:
> >
> >> hi:
> >> I failed to build gdal 1.9 with minGW. I modified 'cpl_multiproc.h' with
> >> the patch.But there are still errors with build:cpl_multiproc.cpp:73:
> >> undefined reference to `CPLCreateOrAcquireMutex' .Pls help me out.Thanks!
> >>
> >
>
-------------------------------------------------------------------------------
> >> #if defined(WIN32)&&  !defined(CPL_MULTIPROC_STUB)
> >> # define CPL_MULTIPROC_WIN32
> >> /* MinGW can have pthread support, so disable it to avoid issues */
> >> /* in cpl_multiproc.cpp */
> >> # undef CPL_MULTIPROC_PTHREAD
> >> #endif
> >>
> >
>
------------------------------------------------------------------------------------
> >
> > Did you 'make clean' after applying the patch and before rebuilding GDAL ?
> The
> > reporter of https://trac.osgeo.org/gdal/ticket/4430 confirmed that the
> above
> > patch fixed building for him.
> >
> >>
> >> Chen-liang Wang
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >
> >
> >
>


From hi181904665 at msn.com  Thu Mar 29 11:49:11 2012
From: hi181904665 at msn.com (chenliang wang)
Date: Thu Mar 29 11:49:31 2012
Subject: [gdal-dev] fail to build gdal 1.9 with minGW
In-Reply-To: <1333009403.4f741bfb48441@imp.free.fr>
References: <BLU0-SMTP2891D950F7B5843B140EA14F4480@phx.gbl>
	<1333007560.4f7414c88a5d7@imp.free.fr>
	<BLU0-SMTP128C725B9DA72C734EC1014F4480@phx.gbl>
	<1333009403.4f741bfb48441@imp.free.fr>
Message-ID: <BLU0-SMTP413B894E425BB8E7EC2CA85F4480@phx.gbl>

I think I get it more clearly. It 's a linking problem now. When I 
compiled GDAL 1.9 linked statically with proj. I got the error 
'undefined reference to 'pj_init' '. The libray 'libproj.a' must be set 
in my project. But I use same configure script to test my GDAL 1.6. It 
turns out that I just need to set ' libgdal.a' without ' libproj.a' .
How can I make the linking way of GDAL 1.9 just like 1.6 ?

? 2012-3-29 16:23, Even Rouault ??:
> Selon chenliang wang<hi181904665@msn.com>:
>
>> Thanks for your reply. I have tried 'make clean' and then rebuild GDAL.
>> And I have also modified GNUmakefile ,replaed '${GDAL_ROOTs}' for '.'
>> and then 'make clean' and rebuild it again. Unfortunately, I failed
>> again. I use command ' ./configure --prefix=..... ' Should I need to add
>> option '--host=mingw32' or '--without-libtool'?
> I have not a mingw environment to test. Is it a compilation problem or a linking
> problem ?
>
>> ??? 2012-3-29 15:52, Even Rouault ??????:
>>> Selon chenliang wang<hi181904665@msn.com>:
>>>
>>>> hi:
>>>> I failed to build gdal 1.9 with minGW. I modified 'cpl_multiproc.h' with
>>>> the patch.But there are still errors with build:cpl_multiproc.cpp:73:
>>>> undefined reference to `CPLCreateOrAcquireMutex' .Pls help me out.Thanks!
>>>>
> -------------------------------------------------------------------------------
>>>> #if defined(WIN32)&&   !defined(CPL_MULTIPROC_STUB)
>>>> # define CPL_MULTIPROC_WIN32
>>>> /* MinGW can have pthread support, so disable it to avoid issues */
>>>> /* in cpl_multiproc.cpp */
>>>> # undef CPL_MULTIPROC_PTHREAD
>>>> #endif
>>>>
> ------------------------------------------------------------------------------------
>>> Did you 'make clean' after applying the patch and before rebuilding GDAL ?
>> The
>>> reporter of https://trac.osgeo.org/gdal/ticket/4430 confirmed that the
>> above
>>> patch fixed building for him.
>>>
>>>> Chen-liang Wang
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>
>>>
>
>
>
From alex.barfety at signalis.com  Thu Mar 29 12:02:06 2012
From: alex.barfety at signalis.com (=?iso-8859-1?Q?Alex_Barf=E9ty?=)
Date: Thu Mar 29 12:07:07 2012
Subject: [gdal-dev] Interpretation of DTED elevation data
In-Reply-To: <1332922998.4f72ca7698aee@imp.free.fr>
References: <1332922657099-4663511.post@n6.nabble.com>
	<1332922998.4f72ca7698aee@imp.free.fr>
Message-ID: <004501cd0dc5$4c792aa0$e56b7fe0$@barfety@signalis.com>

I've used the ReadRaster method with a short array and it working perfectly
fine, the elevation data recovered are correct.

Thanks for your advice :)

Alex Barf?ty


-----Message d'origine-----
De?: Even Rouault [mailto:even.rouault@mines-paris.org] 
Envoy??: mercredi 28 mars 2012 10:23
??: AlexRNL
Cc?: gdal-dev@lists.osgeo.org
Objet?: Re: [gdal-dev] Interpretation of DTED elevation data

Selon AlexRNL <alex.barfety@signalis.com>:

> Hi everyone!
>
>
> I have been trying to extract elevation data from a DTED file using 
> GDAL (in Java). The file being loaded is of level 0 precision and 
> seems to be correct as an import into Global Mapper is rendering the
expected result.
>
>
> I managed to retrieve the image data but I don't know to transform 
> those values into a altitude in meters.
>
>
> According to the DTED format specification, the elevation values are 
> supposed to be two-bytes integer in meters. But, when using the 
> http://www.gdal.org/java/org/gdal/gdal/Band.html#ReadRaster_Direct(int
> , int, int, int, int, int, int, java.nio.ByteBuffer) ReadRaster_Direct 
> method, the buffer retrieved is supposed to be composed of Int16 
> number but when i'm converting the raw data (bytes) into a short array 
> i'm getting all sorts of value which doesn't make a lot of sense. The 
> range of the elevation is spanning from 1 to 65286!
>
>
> Is there a conversion that i'm missing? How do I get the meter value 
> from the raster returned by GDAL?

You should make sure to request with buf_type = gdalconst.GDT_Int16. Then
iterating the buffer with getShort() should deliver the expected values.

Otherwise use the version of ReadRaster() that accepts a short[]. That will
be simpler to use.

The benefit of using ByteBuffer instead standard Java arrays only appears
with
*huge* arrays

>
>
> I've been searching for a while but it doesn't seem like anyone has 
> that kind of problem...
>
>
> Thanks in advance for any information that may help me :)
>
> Alex.
>
> --
> View this message in context:
>
http://osgeo-org.1560.n6.nabble.com/gdal-dev-Interpretation-of-DTED-elevatio
n-data-tp4663511p4663511.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.




From proto83 at hol.gr  Thu Mar 29 16:03:06 2012
From: proto83 at hol.gr (proto83)
Date: Thu Mar 29 16:03:28 2012
Subject: [gdal-dev] Error in creating gml file
Message-ID: <1333051386051-4669016.post@n6.nabble.com>

ogr2ogr -f "GML" oikismoi_irakliou_gml.gml oikismoi_irakliou.shp

i write this in the command line and i receive the following message.

ERROR4:Failed to create GML file oikismoi_irakliou_gml.gml
GML driver failed to create oikismoi_irakliou_gml.gml

Does anyone knows what is the problem?

Regards,
Spiros.

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Error-in-creating-gml-file-tp4669016p4669016.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Thu Mar 29 16:28:55 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 29 16:27:45 2012
Subject: [gdal-dev] Error in creating gml file
In-Reply-To: <1333051386051-4669016.post@n6.nabble.com>
References: <1333051386051-4669016.post@n6.nabble.com>
Message-ID: <201203292228.55857.even.rouault@mines-paris.org>

Le jeudi 29 mars 2012 22:03:06, proto83 a ?crit :
> ogr2ogr -f "GML" oikismoi_irakliou_gml.gml oikismoi_irakliou.shp
> 
> i write this in the command line and i receive the following message.
> 
> ERROR4:Failed to create GML file oikismoi_irakliou_gml.gml
> GML driver failed to create oikismoi_irakliou_gml.gml
> 
> Does anyone knows what is the problem?

Looking at the code, this error messages really comes from we cannot open a 
file in read/write mode on the filesystem. You should check the filesystem 
permissions on that directory/file

> 
> Regards,
> Spiros.
> 
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/Error-in-creating-gml-file-tp4669016p4
> 669016.html Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From proto83 at hol.gr  Thu Mar 29 16:31:48 2012
From: proto83 at hol.gr (proto83)
Date: Thu Mar 29 16:32:05 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <201203292228.55857.even.rouault@mines-paris.org>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
Message-ID: <1333053108764-4669107.post@n6.nabble.com>

can you explain me more if it's not problem for you? :)

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Error-in-creating-gml-file-tp4669016p4669107.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From lrssvtml at gmail.com  Thu Mar 29 16:58:50 2012
From: lrssvtml at gmail.com (Salvatore Larosa)
Date: Thu Mar 29 16:58:54 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <1333053108764-4669107.post@n6.nabble.com>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
	<1333053108764-4669107.post@n6.nabble.com>
Message-ID: <1333054730.5280.22.camel@localhost>

Il giorno gio, 29/03/2012 alle 13.31 -0700, proto83 ha scritto:
> can you explain me more if it's not problem for you? :)


I assume you are on Linux!

What returns this command: 

$ ls -l | grep yourFolder  

?

"youFolder" is the folder where you save your files!




From proto83 at hol.gr  Thu Mar 29 17:00:47 2012
From: proto83 at hol.gr (proto83)
Date: Thu Mar 29 17:00:55 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <1333054730.5280.22.camel@localhost>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
	<1333053108764-4669107.post@n6.nabble.com>
	<1333054730.5280.22.camel@localhost>
Message-ID: <1333054847323-4669179.post@n6.nabble.com>

no i am in windows.but i still cannot understand what i must do to fix the
problem.

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Error-in-creating-gml-file-tp4669016p4669179.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From lrssvtml at gmail.com  Thu Mar 29 17:36:44 2012
From: lrssvtml at gmail.com (Salvatore Larosa)
Date: Thu Mar 29 17:37:11 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <1333054847323-4669179.post@n6.nabble.com>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
	<1333053108764-4669107.post@n6.nabble.com>
	<1333054730.5280.22.camel@localhost>
	<1333054847323-4669179.post@n6.nabble.com>
Message-ID: <1333057004.5280.28.camel@localhost>

Il giorno gio, 29/03/2012 alle 14.00 -0700, proto83 ha scritto:
> no i am in windows.but i still cannot understand what i must do to fix the
> problem.
> 
> --

well, will be hard reach a solution! ;-)

try ogrinfo command:

ogrinfo oikismoi_irakliou.shp



From proto83 at hol.gr  Thu Mar 29 17:47:28 2012
From: proto83 at hol.gr (proto83)
Date: Thu Mar 29 17:47:41 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <1333057004.5280.28.camel@localhost>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
	<1333053108764-4669107.post@n6.nabble.com>
	<1333054730.5280.22.camel@localhost>
	<1333054847323-4669179.post@n6.nabble.com>
	<1333057004.5280.28.camel@localhost>
Message-ID: <1333057648349-4669302.post@n6.nabble.com>

ok i did it and i the output was this.
INFO:Open of 'c:\shapefiles\oikismoi_irakliou.shp'
using driver 'ESRI Shapefile' successful
1:oikismoi_irakliou <Point>


--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Error-in-creating-gml-file-tp4669016p4669302.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From lrssvtml at gmail.com  Thu Mar 29 17:54:45 2012
From: lrssvtml at gmail.com (Salvatore Larosa)
Date: Thu Mar 29 17:55:13 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <1333057648349-4669302.post@n6.nabble.com>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
	<1333053108764-4669107.post@n6.nabble.com>
	<1333054730.5280.22.camel@localhost>
	<1333054847323-4669179.post@n6.nabble.com>
	<1333057004.5280.28.camel@localhost>
	<1333057648349-4669302.post@n6.nabble.com>
Message-ID: <1333058085.5280.32.camel@localhost>

Il giorno gio, 29/03/2012 alle 14.47 -0700, proto83 ha scritto:
> ok i did it and i the output was this.
> INFO:Open of 'c:\shapefiles\oikismoi_irakliou.shp'
> using driver 'ESRI Shapefile' successful
> 1:oikismoi_irakliou <Point>

Can you try ogr2ogr command in a different folder?

For example in the Desktop folder.




From vivekde at gmail.com  Thu Mar 29 18:00:01 2012
From: vivekde at gmail.com (Vivek Dey)
Date: Thu Mar 29 18:00:10 2012
Subject: [gdal-dev] Ogr2OGR for GeoJSON fails on windows 7
Message-ID: <CAPZWHJh9qkyg=u_Twx4Lp0a3zRDG_5h8NdfYG2DRBQy+6VGKWQ@mail.gmail.com>

Hi All

I am a newbie of GDAL.

I want to convert a shape file to GeoJSON file.

I have downloaded GDAL 19 (MSVC 2010 win64) binaries.

However, when I try to convert to GeoJSON.

It says "Failed to create geoJSON datasource"

I am using the following code

ogr2ogr -f "geoJSAON CENO.json CENOVUS.shp

Please tell me where I am wrong.

Thanks

Vivek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120329/3bed5619/attachment.html
From eadam at co.lincoln.or.us  Thu Mar 29 18:23:48 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Thu Mar 29 18:24:26 2012
Subject: [gdal-dev] Ogr2OGR for GeoJSON fails on windows 7
In-Reply-To: <CAPZWHJh9qkyg=u_Twx4Lp0a3zRDG_5h8NdfYG2DRBQy+6VGKWQ@mail.gmail.com>
References: <CAPZWHJh9qkyg=u_Twx4Lp0a3zRDG_5h8NdfYG2DRBQy+6VGKWQ@mail.gmail.com>
Message-ID: <CACqBkM_ERoEC5JPibe7k8W4qub2W0z3nV8yChSWJMxyB8oSjNw@mail.gmail.com>

Vivek,

    I think you might have some minor typos:

> ogr2ogr -f "geoJSAON CENO.json CENOVUS.shp

"GeoJSON" not
"geoJSAon [no ending double quote either]

HTH, Eli
From vivekde at gmail.com  Thu Mar 29 20:23:42 2012
From: vivekde at gmail.com (Vivek Dey)
Date: Thu Mar 29 20:24:18 2012
Subject: [gdal-dev] Ogr2OGR for GeoJSON fails on windows 7
In-Reply-To: <CACqBkM_ERoEC5JPibe7k8W4qub2W0z3nV8yChSWJMxyB8oSjNw@mail.gmail.com>
References: <CAPZWHJh9qkyg=u_Twx4Lp0a3zRDG_5h8NdfYG2DRBQy+6VGKWQ@mail.gmail.com>
	<CACqBkM_ERoEC5JPibe7k8W4qub2W0z3nV8yChSWJMxyB8oSjNw@mail.gmail.com>
Message-ID: <CAPZWHJimrFbzG9B3pt0n9O0o0ioyrORu-UttptyON2y7UQ0Vzg@mail.gmail.com>

Hi Eli
My bad , i did typo in writing here. I have written correctly as GeoJSON
for conversion.
Thnks
Vivek
On 2012-03-29 4:23 PM, "Eli Adam" <eadam@co.lincoln.or.us> wrote:

> Vivek,
>
>    I think you might have some minor typos:
>
> > ogr2ogr -f "geoJSAON CENO.json CENOVUS.shp
>
> "GeoJSON" not
> "geoJSAon [no ending double quote either]
>
> HTH, Eli
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120329/b7a66328/attachment-0001.html
From eadam at co.lincoln.or.us  Thu Mar 29 20:35:12 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Thu Mar 29 20:35:35 2012
Subject: [gdal-dev] Ogr2OGR for GeoJSON fails on windows 7
In-Reply-To: <CAPZWHJimrFbzG9B3pt0n9O0o0ioyrORu-UttptyON2y7UQ0Vzg@mail.gmail.com>
References: <CAPZWHJh9qkyg=u_Twx4Lp0a3zRDG_5h8NdfYG2DRBQy+6VGKWQ@mail.gmail.com>
	<CACqBkM_ERoEC5JPibe7k8W4qub2W0z3nV8yChSWJMxyB8oSjNw@mail.gmail.com>
	<CAPZWHJimrFbzG9B3pt0n9O0o0ioyrORu-UttptyON2y7UQ0Vzg@mail.gmail.com>
Message-ID: <CACqBkM8bGj16GVP3fD8bkgBr2noBmO3tukuFv-_0h94gnCZGjQ@mail.gmail.com>

Vivek,

> My bad , i did typo in writing here. I have written correctly as GeoJSON for
> conversion.

Are you saying that you typed it correctly on the command line and it
still doesn't work?  If so, can you copy your command and error from
the command line to the email?

Eli
From chaitanya.ch at gmail.com  Fri Mar 30 00:44:46 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar 30 00:45:37 2012
Subject: [gdal-dev] Ogr2OGR for GeoJSON fails on windows 7
In-Reply-To: <CAPZWHJimrFbzG9B3pt0n9O0o0ioyrORu-UttptyON2y7UQ0Vzg@mail.gmail.com>
References: <CAPZWHJh9qkyg=u_Twx4Lp0a3zRDG_5h8NdfYG2DRBQy+6VGKWQ@mail.gmail.com>
	<CACqBkM_ERoEC5JPibe7k8W4qub2W0z3nV8yChSWJMxyB8oSjNw@mail.gmail.com>
	<CAPZWHJimrFbzG9B3pt0n9O0o0ioyrORu-UttptyON2y7UQ0Vzg@mail.gmail.com>
Message-ID: <CAMKgpOZKeWXO3ZvFn29+X8zk+xEOiNbJejaOa6m2jZiUGp0kSw@mail.gmail.com>

Vivek,

Check if you have write permission to the directory.

On Fri, Mar 30, 2012 at 5:53 AM, Vivek Dey <vivekde@gmail.com> wrote:

> Hi Eli
> My bad , i did typo in writing here. I have written correctly as GeoJSON
> for conversion.
> Thnks
> Vivek
> On 2012-03-29 4:23 PM, "Eli Adam" <eadam@co.lincoln.or.us> wrote:
>
>> Vivek,
>>
>>    I think you might have some minor typos:
>>
>> > ogr2ogr -f "geoJSAON CENO.json CENOVUS.shp
>>
>> "GeoJSON" not
>> "geoJSAon [no ending double quote either]
>>
>> HTH, Eli
>>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120330/80b1e7f9/attachment.html
From philippe.suray at market-ip.com  Fri Mar 30 02:44:15 2012
From: philippe.suray at market-ip.com (philippe.suray)
Date: Fri Mar 30 02:44:59 2012
Subject: [gdal-dev] UTF-8 problem with MSSQLSpatial and ogr2ogr
Message-ID: <1333089855725-4670214.post@n6.nabble.com>

Hello,

I am trying to load a shape file encoded in UTF-8 in SQLServer2008.
I use this command from ogr2ogr to load the data's:

ogr2ogr --debug on -f MSSQLSpatial
"MSSQL:server=localhost;database=ogr2ogrTest;Trusted_Connection=True;"
"myShapeFile.shp" -t_srs EPSG:4326 -dsco ENCODING=UTF-8 -lco ENCODING=UTF-8
-overwrite -progress

When I check the records in the DB, some fields are not correctly encoded.

According to SQLServer documentation and to my understanding: in order to
store unicode, the fields must be declared as NCHAR or NVARCHAR and the
insert or update statements must append 'N' before the value (INSERT INTO
tForeignLanguage ([Name]) VALUES (N'????'))

I also search about unicode in this list and found:
- http://osgeo-org.1560.n6.nabble.com/RFC-23-OGR-Unicode-td3759338.html
- http://trac.osgeo.org/gdal/wiki/rfc23_ogr_unicode

I downloaded the latest source code from http://www.gdal.org/daily/ and
check into mssqlspatial component and found that the driver does not respect
these assumptions:
- fields are created as VARCHAR,
- statements does not append 'N'

I really need this unicode support but I am not very familiar with C++,
could you help me to implement a patch to test the loading of a shapefile
into SQLServer2008.
What classes should I change and how?

Thank you for your help.

Best regards.

Philippe 

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/UTF-8-problem-with-MSSQLSpatial-and-ogr2ogr-tp4670214p4670214.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Fri Mar 30 03:56:54 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar 30 03:57:27 2012
Subject: [gdal-dev] UTF-8 problem with MSSQLSpatial and ogr2ogr
In-Reply-To: <1333089855725-4670214.post@n6.nabble.com>
References: <1333089855725-4670214.post@n6.nabble.com>
Message-ID: <CAMKgpOZe7vULdZ+Y+pBn+toU5AU7xXvhw6CEZ1uyeSVOUj3ABw@mail.gmail.com>

Phillippe,

You can start with http://trac.osgeo.org/gdal/wiki/BuildHints if you want
to do this yourselves.
You can file a ticket at http://trac.osgeo.org/osgeo/newticket and attach
your patch there.

Also, provide a link to the MSSQL documentation regarding this.

Thank you.

On Fri, Mar 30, 2012 at 12:14 PM, philippe.suray <
philippe.suray@market-ip.com> wrote:

> Hello,
>
> I am trying to load a shape file encoded in UTF-8 in SQLServer2008.
> I use this command from ogr2ogr to load the data's:
>
> ogr2ogr --debug on -f MSSQLSpatial
> "MSSQL:server=localhost;database=ogr2ogrTest;Trusted_Connection=True;"
> "myShapeFile.shp" -t_srs EPSG:4326 -dsco ENCODING=UTF-8 -lco ENCODING=UTF-8
> -overwrite -progress
>
> When I check the records in the DB, some fields are not correctly encoded.
>
> According to SQLServer documentation and to my understanding: in order to
> store unicode, the fields must be declared as NCHAR or NVARCHAR and the
> insert or update statements must append 'N' before the value (INSERT INTO
> tForeignLanguage ([Name]) VALUES (N'????'))
>
> I also search about unicode in this list and found:
> - http://osgeo-org.1560.n6.nabble.com/RFC-23-OGR-Unicode-td3759338.html
> - http://trac.osgeo.org/gdal/wiki/rfc23_ogr_unicode
>
> I downloaded the latest source code from http://www.gdal.org/daily/ and
> check into mssqlspatial component and found that the driver does not
> respect
> these assumptions:
> - fields are created as VARCHAR,
> - statements does not append 'N'
>
> I really need this unicode support but I am not very familiar with C++,
> could you help me to implement a patch to test the loading of a shapefile
> into SQLServer2008.
> What classes should I change and how?
>
> Thank you for your help.
>
> Best regards.
>
> Philippe
>
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/UTF-8-problem-with-MSSQLSpatial-and-ogr2ogr-tp4670214p4670214.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120330/c27cf304/attachment.html
From mateusz at loskot.net  Fri Mar 30 05:18:28 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Mar 30 05:19:32 2012
Subject: [gdal-dev] Ogr2OGR for GeoJSON fails on windows 7
In-Reply-To: <CACqBkM8bGj16GVP3fD8bkgBr2noBmO3tukuFv-_0h94gnCZGjQ@mail.gmail.com>
References: <CAPZWHJh9qkyg=u_Twx4Lp0a3zRDG_5h8NdfYG2DRBQy+6VGKWQ@mail.gmail.com>
	<CACqBkM_ERoEC5JPibe7k8W4qub2W0z3nV8yChSWJMxyB8oSjNw@mail.gmail.com>
	<CAPZWHJimrFbzG9B3pt0n9O0o0ioyrORu-UttptyON2y7UQ0Vzg@mail.gmail.com>
	<CACqBkM8bGj16GVP3fD8bkgBr2noBmO3tukuFv-_0h94gnCZGjQ@mail.gmail.com>
Message-ID: <CABUeae8QBiPbyvNexJCRH3YUOcU=6oPP=tQpqGz3E=+6uyA4Kw@mail.gmail.com>

On 30 March 2012 01:35, Eli Adam <eadam@co.lincoln.or.us> wrote:
> Vivek,
>
>> My bad , i did typo in writing here. I have written correctly as GeoJSON for
>> conversion.
>
> Are you saying that you typed it correctly on the command line and it
> still doesn't work?

I'm fairly sure he typed it correctly.
The error message he got is spelled correclty:

"Failed to create geoJSON datasource"

Either folder rights are not right, or dataset translation fails.
If the latter, sample data + ticket would be appreciated.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From proto83 at hol.gr  Fri Mar 30 09:24:39 2012
From: proto83 at hol.gr (proto83)
Date: Fri Mar 30 09:24:53 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <1333058085.5280.32.camel@localhost>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
	<1333053108764-4669107.post@n6.nabble.com>
	<1333054730.5280.22.camel@localhost>
	<1333054847323-4669179.post@n6.nabble.com>
	<1333057004.5280.28.camel@localhost>
	<1333057648349-4669302.post@n6.nabble.com>
	<1333058085.5280.32.camel@localhost>
Message-ID: <1333113879836-4671308.post@n6.nabble.com>

Can you give me an example,how will i do it?

Sorry,but i am a little bit confused.

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Error-in-creating-gml-file-tp4669016p4671308.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Fri Mar 30 10:30:06 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Mar 30 10:30:35 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <1333113879836-4671308.post@n6.nabble.com>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
	<1333053108764-4669107.post@n6.nabble.com>
	<1333054730.5280.22.camel@localhost>
	<1333054847323-4669179.post@n6.nabble.com>
	<1333057004.5280.28.camel@localhost>
	<1333057648349-4669302.post@n6.nabble.com>
	<1333058085.5280.32.camel@localhost>
	<1333113879836-4671308.post@n6.nabble.com>
Message-ID: <CAMKgpObBdz-cBOTcheiNe9UV-h+UGrCWg4Ct6wU=2genCwzzbw@mail.gmail.com>

Spiros,

Your command was correct. The error you got was caused because the ogr2ogr
utility could not create a file in the place you specified. See if you can
create a folder or a file in the folder you are trying to save the file
oikismoi_irakliou_gml.gml. If you can't, it means that you don't have
permissions to modify that folder. Try to save the file in some other place.

On Fri, Mar 30, 2012 at 6:54 PM, proto83 <proto83@hol.gr> wrote:

> Can you give me an example,how will i do it?
>
> Sorry,but i am a little bit confused.
>
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/Error-in-creating-gml-file-tp4669016p4671308.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120330/d936ce55/attachment-0001.html
From vivekde at gmail.com  Fri Mar 30 10:31:24 2012
From: vivekde at gmail.com (Vivek Dey)
Date: Fri Mar 30 10:31:58 2012
Subject: [gdal-dev] Ogr2OGR for GeoJSON fails on windows 7
In-Reply-To: <CABUeae8QBiPbyvNexJCRH3YUOcU=6oPP=tQpqGz3E=+6uyA4Kw@mail.gmail.com>
References: <CAPZWHJh9qkyg=u_Twx4Lp0a3zRDG_5h8NdfYG2DRBQy+6VGKWQ@mail.gmail.com>
	<CACqBkM_ERoEC5JPibe7k8W4qub2W0z3nV8yChSWJMxyB8oSjNw@mail.gmail.com>
	<CAPZWHJimrFbzG9B3pt0n9O0o0ioyrORu-UttptyON2y7UQ0Vzg@mail.gmail.com>
	<CACqBkM8bGj16GVP3fD8bkgBr2noBmO3tukuFv-_0h94gnCZGjQ@mail.gmail.com>
	<CABUeae8QBiPbyvNexJCRH3YUOcU=6oPP=tQpqGz3E=+6uyA4Kw@mail.gmail.com>
Message-ID: <CAPZWHJjLSkzQXP8H_9Ad7H_=+LUJmJw=rApM08GvBB-XqnWWzA@mail.gmail.com>

Hello

Thank you all for helping me out.

The error was because of the write permission in the directory.
I changed the directory and it works well.

Thanks Chaitanya and everybody else.

Vivek

On Fri, Mar 30, 2012 at 3:18 AM, Mateusz Loskot <mateusz@loskot.net> wrote:

> On 30 March 2012 01:35, Eli Adam <eadam@co.lincoln.or.us> wrote:
> > Vivek,
> >
> >> My bad , i did typo in writing here. I have written correctly as
> GeoJSON for
> >> conversion.
> >
> > Are you saying that you typed it correctly on the command line and it
> > still doesn't work?
>
> I'm fairly sure he typed it correctly.
> The error message he got is spelled correclty:
>
> "Failed to create geoJSON datasource"
>
> Either folder rights are not right, or dataset translation fails.
> If the latter, sample data + ticket would be appreciated.
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120330/50c11f21/attachment.html
From proto83 at hol.gr  Fri Mar 30 10:32:27 2012
From: proto83 at hol.gr (proto83)
Date: Fri Mar 30 10:33:00 2012
Subject: [gdal-dev] Re: Error in creating gml file
In-Reply-To: <CAMKgpObBdz-cBOTcheiNe9UV-h+UGrCWg4Ct6wU=2genCwzzbw@mail.gmail.com>
References: <1333051386051-4669016.post@n6.nabble.com>
	<201203292228.55857.even.rouault@mines-paris.org>
	<1333053108764-4669107.post@n6.nabble.com>
	<1333054730.5280.22.camel@localhost>
	<1333054847323-4669179.post@n6.nabble.com>
	<1333057004.5280.28.camel@localhost>
	<1333057648349-4669302.post@n6.nabble.com>
	<1333058085.5280.32.camel@localhost>
	<1333113879836-4671308.post@n6.nabble.com>
	<CAMKgpObBdz-cBOTcheiNe9UV-h+UGrCWg4Ct6wU=2genCwzzbw@mail.gmail.com>
Message-ID: <1333117947588-4671470.post@n6.nabble.com>

ok i understood and i solved the problem.i did this on another hard disk that
i have without any problem.

So,everything is ok.thank you for your help.

--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Error-in-creating-gml-file-tp4669016p4671470.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From dzwarg+gdal at azavea.com  Fri Mar 30 14:01:05 2012
From: dzwarg+gdal at azavea.com (David Zwarg)
Date: Fri Mar 30 14:01:32 2012
Subject: [gdal-dev] ARG (Azavea Raster Grid) driver
Message-ID: <CANSnHN3pHRkVAaoF87oHCgPtji9VY5hA+3RSDDdDFuubkLFDFg@mail.gmail.com>

Hello,

I've written an implementation for the Azavea Raster Grid format (ARG
spec<https://github.com/azavea/geotrellis/wiki/ARG-Specification>)
that we use in GeoTrellis <https://github.com/azavea/geotrellis>.

I created a ticked for this feature: http://trac.osgeo.org/gdal/ticket/4591

This is the first driver that I've contributed, so if you have the time, I
would appreciate any feedback you have about the driver implementation.

Thanks,
David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120330/5faecb3c/attachment.html
From jdmorgan at unca.edu  Sat Mar 31 17:04:16 2012
From: jdmorgan at unca.edu (jdmorgan)
Date: Sat Mar 31 17:03:51 2012
Subject: [gdal-dev] possible to take this unprojected/unknown coordinate
	system data and assign it to the second known ones projected/coordinate
	system
In-Reply-To: <CA+YzLBc2A5ZvzUsk6egemQwFh+7Dyt286Hmx+QSCrf2QUTKSqg@mail.gmail.com>
References: <4F7204EE.7060608@gmail.com>
	<CA+YzLBc2A5ZvzUsk6egemQwFh+7Dyt286Hmx+QSCrf2QUTKSqg@mail.gmail.com>
Message-ID: <4F777150.4020502@gmail.com>

Thanks Frank,
I tried as you suggested and it did work.  Thanks for your help.

Best,
Derek

On 3/27/2012 8:50 PM, Frank Warmerdam wrote:
> Derek,
>
> Based on the coordinates it seems clear enough that this
> is latitude and longitude in decimal degrees.  Based on the
> resolution there is little point in worrying about datum so do
> something like:
>
>    gdal_translate -a_srs WGS84 in.tif out.tif
>
> After that you should be able to use gdalwarp to
> reproject normally as long as you know the coordinate
> system you want to go to.
>
> Best regards,
> Frank
>
> On Tue, Mar 27, 2012 at 11:20 AM, jdmorgan<jdmorgan@unca.edu>  wrote:
>> Hello,
>>
>> I was hoping someone in the GDAL community could help me out, as I am stuck
>> on a particular issue of dealing with a source dataset (geotiff) that has no
>> projection information.  Here are the gdalinfo results on the coordinate
>> system:
>>
>> Coordinate System is:
>>
>> LOCAL_CS[" Geocoding information not available Projection Name = Unknown
>> Units = other GeoTIFF Units = other",
>>
>>      UNIT["unknown",1]]
>>
>> Origin = (-34.100006100000002,28.599823000000001)
>>
>> Pixel Size = (0.439998627000000,-0.439998627000000)
>>
>>
>>
>> I do know if data is representing the continental USA.  And, I want to get
>> it into a projection/coordinate system so that I can overlay it with another
>> dataset which already has a coordinate systems and is projected.  Is it
>> possible to take this unprojected/unknown coordinate system data and assign
>> it to the second known ones projected/coordinate system? Hopfully, this
>> question makes sense, and someone can tell me if what I am trying to do is
>> even possible.
>>
>>
>>
>> Thanks,
>> Derek
>>
>>
>> --
>> Derek @ NEMAC
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>


-- 
Derek @ NEMAC

