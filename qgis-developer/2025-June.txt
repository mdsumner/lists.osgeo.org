From gis at sgroe.at  Mon Jun  2 01:46:07 2025
From: gis at sgroe.at (=?UTF-8?Q?Simon_Gr=C3=B6chenig?=)
Date: Mon, 02 Jun 2025 10:46:07 +0200
Subject: [QGIS-Developer] Remove layer variable
Message-ID: <5fc94d5bb277eae1d6de430254c918de@sgroe.at>

Hi,

how can I remove a layer variable with Python?

The following returns true, but does not work.

QgsExpressionContextUtils.layerScope(layer).removeVariable("variable_name")

Best regards
Simon

_____________________
Simon Gr?chenig
GIS Support und Training
Treffling 73 - 9871 Seeboden - ?sterreich
Tel.: +43 699 11 22 31 22
Web: https://www.sgroe.at
E-Mail: gis at sgroe.at
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250602/0d114e5f/attachment.htm>

From dror.bogin at gmail.com  Wed Jun  4 02:15:08 2025
From: dror.bogin at gmail.com (Dror Bogin)
Date: Wed, 4 Jun 2025 12:15:08 +0300
Subject: [QGIS-Developer] ArcGIS Feature Server Advanced Symbology Parsing
Message-ID: <CAAKSpBtjX4+=tVmHtpz1kjnw8KfCq+v1bwNQyhrdq3wUtWJWQg@mail.gmail.com>

Hi everyone,

I found a URL parameter that can be added to ArcGIS FeatureServer service
layers that makes the server return more complete and advanced rendering
instructions for the layers.

The difference is mostly seen in layers which use multiple symbol layers
such as polygons with a hatch fill. For layers like that, ArcGIS servers
usually return a single symbol with the colors mixed.
I recommend trying to load the example below, first as a mapserver service
to see the definitions and then as a featureserver service to see how the
drawing info is currently being passed.

I found that if you query the layer metadata with the
*returnAdvancedSymbols* URL parameter set to true, you get back the same
response that ArcGIS Pro gets from the server and uses to create symbology
for feature services.

So instead of requesting the metadata for a layer like QGIS currently does:
https://ags.iplan.gov.il/arcgisiplan/rest/services/PlanningPublic/Xplan/MapServer/4?f=json

The initial metadata query would be:
https://ags.iplan.gov.il/arcgisiplan/rest/services/PlanningPublic/Xplan/MapServer/4?f=json&returnAdvancedSymbols=true

And get back a more complex result if there are advanced symbols on the
layer. The drawingInfo returned is *mostly* compatible with the ESRI CIM
spec, <https://github.com/Esri/cim-spec> but I already encountered some
names that differed between server versions.
While the parameter only appears in esri documentation from version 11.1, I
tested that it is working for services running on ArcGIS Server version as
far back as at least 10.6.

I tried to start implementing this parsing in QGIS (image 3 shows rendering
with my additions), but I want to make it optional until the parsing is
complete and that is where I could use some help.
I added a checkbox to *QgsNewArcGisRestConnectionDialog* where the user can
toggle advanced symbols for a specific service, and managed to save the
setting in the service settings in the profile's QGIS3.ini file.

What I want to do next is pass this parameter on to *QgsAfsProvider* where
I would use that as a switch between *QgsArcGisRestQueryUtils::getLayerInfo*
and the function I added to get the metadata with advanced symbols called
*QgsArcGisRestQueryUtils::getLayerAdvanvcedSymbolsInfo*.

I could use some help in understanding how to read and pass on the
parameter through the QgsAfsSharedData object or in any other way that
might be more correct.

On a side note, I am in the contributor meeting right now until lunch in
case someone is here and can help with this face to face, it would be much
appreciated.

On a second side note, sample service with other types of complex symbols
for points, lines and polygons will also be much appreciated for testing
purposes.


-- 
Regards,

Dror Bogin, +972-50-3077338
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250604/94a8cddb/attachment.htm>

From rdmailings at duif.net  Wed Jun  4 08:00:40 2025
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Wed, 4 Jun 2025 17:00:40 +0200
Subject: [QGIS-Developer] Copy layer vs Duplicate layer ???
Message-ID: <16b08b10-393f-4712-9222-dbda66785701@duif.net>

Hi People,

A user had an issue in which she 'copied' a layer, edited it and then found out she edited the original data...

My response was: yes (join the club ;-)) it is called 'duplicate', but it only duplicates the layer, NOT the data.

Then she responded: but I did not use 'duplicate', I used 'copy layer' ...

Then I found out they indeed both exist in the context menu, and actually do the same thing... ???
(tested with a gpkg and a shapefile)

So my questions:
- should there be 2 context menu items for the same thing (the always tricky 'duplicate' which (in my view) counter-intuitive does not duplicate data)
- should these 2 functions not behave different?

Regards,

Richard Duivenvoorde


From p.vanbreugel at gmail.com  Wed Jun  4 09:55:20 2025
From: p.vanbreugel at gmail.com (Paulo van Breugel)
Date: Wed, 04 Jun 2025 18:55:20 +0200
Subject: [QGIS-Developer] Copy layer vs Duplicate layer ???
In-Reply-To: <16b08b10-393f-4712-9222-dbda66785701@duif.net>
References: <16b08b10-393f-4712-9222-dbda66785701@duif.net>
Message-ID: <EC8FC830-B1F6-4A25-9D21-8AC93FAFB2E2@gmail.com>

Should there be 2 context menu items for the same thing. --> rather not, it is confusing.

But otherwise, I would say that the current behaviour makes sense: when clicking a layer in the Layers window, the duplicate option in the context menu should duplicate the map layer, not the actual data. 

I would expect the latter behaviour in the context menu for data files in the Browser window. And than it probably should be called 'copy data' or something along those lines?

Just my 2ct as user.




On June 4, 2025 5:00:40 PM GMT+02:00, Richard Duivenvoorde via QGIS-Developer <qgis-developer at lists.osgeo.org> wrote:
>Hi People,
>
>A user had an issue in which she 'copied' a layer, edited it and then found out she edited the original data...
>
>My response was: yes (join the club ;-)) it is called 'duplicate', but it only duplicates the layer, NOT the data.
>
>Then she responded: but I did not use 'duplicate', I used 'copy layer' ...
>
>Then I found out they indeed both exist in the context menu, and actually do the same thing... ???
>(tested with a gpkg and a shapefile)
>
>So my questions:
>- should there be 2 context menu items for the same thing (the always tricky 'duplicate' which (in my view) counter-intuitive does not duplicate data)
>- should these 2 functions not behave different?
>
>Regards,
>
>Richard Duivenvoorde
>
>_______________________________________________
>QGIS-Developer mailing list
>QGIS-Developer at lists.osgeo.org
>List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250604/94303c04/attachment.htm>

From clhermansen at gmail.com  Wed Jun  4 12:01:54 2025
From: clhermansen at gmail.com (chris hermansen)
Date: Wed, 4 Jun 2025 12:01:54 -0700
Subject: [QGIS-Developer] Copy layer vs Duplicate layer ???
In-Reply-To: <16b08b10-393f-4712-9222-dbda66785701@duif.net>
References: <16b08b10-393f-4712-9222-dbda66785701@duif.net>
Message-ID: <CACc2_68KhwTt7xTUceCKUxxZT5PcZPtej2EZgAKDCsWXKUfFkQ@mail.gmail.com>

Richard and list,


On Wed, Jun 4, 2025, 08:00 Richard Duivenvoorde via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi People,
>
> A user had an issue in which she 'copied' a layer, edited it and then
> found out she edited the original data...
>
> My response was: yes (join the club ;-)) it is called 'duplicate', but it
> only duplicates the layer, NOT the data.
>
> Then she responded: but I did not use 'duplicate', I used 'copy layer' ...
>
> Then I found out they indeed both exist in the context menu, and actually
> do the same thing... ???
> (tested with a gpkg and a shapefile)
>
> So my questions:
> - should there be 2 context menu items for the same thing (the always
> tricky 'duplicate' which (in my view) counter-intuitive does not duplicate
> data)
> - should these 2 functions not behave different?
>
> Regards,
>
> Richard Duivenvoorde
>

(Without a working QGIS for now as I await the latest release for Ubuntu
25.04, so I cannot confirm my comments below with testing...)

>
It's my recollection that I too have fallen for the same false solution to
my problem.

I think my current approach is to "save as..." and have the saved copy show
up as a new layer; is that what most people do when they want to creat a
copy of a layer for editing?

>From that perspective, why not just get rid of both the "duplicate" and
"copy" layers since (if I am not wrong) one can equally just open the same
data set as a new layer?

It doesn't seem that we benefit much by those and apparently some of us
have found them distracting...
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250604/ce62224e/attachment.htm>

From nyall.dawson at gmail.com  Wed Jun  4 16:23:11 2025
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 5 Jun 2025 09:23:11 +1000
Subject: [QGIS-Developer] Remove layer variable
In-Reply-To: <5fc94d5bb277eae1d6de430254c918de@sgroe.at>
References: <5fc94d5bb277eae1d6de430254c918de@sgroe.at>
Message-ID: <CAB28Ashjo37XEgG8vZSFYTX=UHVFCDuM9Ozh1ntPNucswxaoeg@mail.gmail.com>

On Mon, 2 Jun 2025 at 19:16, Simon Gr?chenig via QGIS-Developer
<qgis-developer at lists.osgeo.org> wrote:
>
> Hi,
>
> how can I remove a layer variable with Python?
>
> The following returns true, but does not work.
>
> QgsExpressionContextUtils.layerScope(layer).removeVariable("variable_name")

That's cos it's just removing the variable from a copy of the layer's
expression context scope, not from the layer itself.

It's rather gross, but try
https://qgis.org/pyqgis/3.40/core/QgsExpressionContextUtils.html#qgis.core.QgsExpressionContextUtils.setLayerVariables
-- you'll need to first retrieve the existing variables via
https://qgis.org/pyqgis/3.40/core/QgsExpressionContextUtils.html#qgis.core.QgsExpressionContextUtils.layerScope
and then build a dictionary of the variables you want to keep by
iterating over https://qgis.org/pyqgis/3.40/core/QgsExpressionContextScope.html#qgis.core.QgsExpressionContextScope.variableNames

Hope that helps!
Nyall


>
> Best regards
> Simon
>
> _____________________
> Simon Gr?chenig
> GIS Support und Training
> Treffling 73 - 9871 Seeboden - ?sterreich
> Tel.: +43 699 11 22 31 22
> Web: https://www.sgroe.at
> E-Mail: gis at sgroe.at
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

From andreaerdna at libero.it  Wed Jun  4 18:27:04 2025
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Thu, 5 Jun 2025 03:27:04 +0200
Subject: [QGIS-Developer] Copy layer vs Duplicate layer ???
Message-ID: <3e7c07e6-b961-45ef-af27-b6aa57054b4f@libero.it>

Hi Richard and list,
the QGIS Desktop User Guide / Manual explains such functionalities, 
clearly stating that "The copy uses the same data source as the 
original." / "As for Duplicate, the layers are still based on the same 
data source."

****
"Duplicate" a layer to generate a copy where you can modify the name, 
style (symbology, labels, ?), joins, ? The copy uses the same data 
source as the original.

"Copy" and "Paste" layers or groups from one project to another as a new 
instance whose properties can be modified independently. As for 
Duplicate, the layers are still based on the same data source.
****

See 
https://docs.qgis.org/3.40/en/docs/user_manual/introduction/qgis_gui.html#layer

Regards.

Andrea

Il 04/06/2025 17:00, Richard Duivenvoorde via QGIS-Developer ha scritto:
> Hi People,
> 
> A user had an issue in which she 'copied' a layer, edited it and then 
> found out she edited the original data...

From lfi at ign.ku.dk  Thu Jun  5 06:27:21 2025
From: lfi at ign.ku.dk (Lene Fischer)
Date: Thu, 5 Jun 2025 13:27:21 +0000
Subject: [QGIS-Developer] Statistic Percentile  as Feature Request
In-Reply-To: <CAAKSpBtjX4+=tVmHtpz1kjnw8KfCq+v1bwNQyhrdq3wUtWJWQg@mail.gmail.com>
References: <CAAKSpBtjX4+=tVmHtpz1kjnw8KfCq+v1bwNQyhrdq3wUtWJWQg@mail.gmail.com>
Message-ID: <f1a7f3ec102244828c3b19cf3545476c@ign.ku.dk>

Hi,
Today I made my first real Feature request at the GitHUB page.
I hope it is documented OK. Otherwise tell me how to do.

Kind regards and greetings from Norrk?bing
Lene Fischer


Lene Fischer
Associate Professor

University of Copenhagen
Department of Geosciences and Natural Resource Management
Forest and Landscape College
N?debovej 77a
3480 Fredensborg

MOB +45 40115084
lfi at ign.ku.dk<mailto:lfi at ign.ku.dk>

[Title: SD_Logo]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/57a80611/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 48890 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/57a80611/attachment-0001.png>

From morettilorenzo at outlook.com  Thu Jun  5 06:42:22 2025
From: morettilorenzo at outlook.com (Lorenzo Moretti)
Date: Thu, 5 Jun 2025 13:42:22 +0000
Subject: [QGIS-Developer] Uno strano blocco in Model Designer in batch
 processing
Message-ID: <BE8509E0-2271-4FE2-B3A6-D2CA869C0EA0@outlook.com>

Hi

I have developed several models in Model Designer and I am using them in QGIS in different platforms. I am having a really strange problem especially in the Windows version of QGIS.
My model is very simple:
 in INPUT there is a raster file and a vector file.The working sequence is this:
- the vector file is converted to a raster file with an extension equal to the INPUT raster file;
- in the converted raster all nodata values are converted to the value zero (with FILLNodata);
- output is the converted raster file with an integer value. The Data Type is Int16.

In the model there are 5 algorithms with 2 files in INPUT and 1 file in OUTPUT.
In a few seconds I have the result.

All this, however, is done in Batch Processing and in INPUT all the vector files in a directory are taken. The number of these files may be tens, hundreds or thousands.
Batch Processing is very powerful and allows this kind of work. A very simple Model repeated many times.
I used it in macOS and Linux Ubuntu and managed to create even 2200 files in a few minutes: the model worked 2200 times.

The problem, however, came up in the Windows version. Basically Batch Processing at some point stops completely randomly, for example after 38 processes or after 54 and so on. The model does not exit but stays put and does not start again.

I have tried and tried again in different computers but the result is the same. In Windows, the program stops after running only a few models completely randomly.
I don't understand the source of the problem: is it the memory? Or is it in Windows to clear the cache during the various steps?
The raster area is not large and the final raster file is usually small, about 20 MB.
Batch Processing only works for a few times and then stops.
Can anyone help me with this?

Thanks

Lorenzo

From abdulraheemsiddiqui at gmail.com  Thu Jun  5 06:56:45 2025
From: abdulraheemsiddiqui at gmail.com (Abdul Raheem Siddiqui)
Date: Thu, 5 Jun 2025 09:56:45 -0400
Subject: [QGIS-Developer] Statistic Percentile as Feature Request
In-Reply-To: <f1a7f3ec102244828c3b19cf3545476c@ign.ku.dk>
References: <CAAKSpBtjX4+=tVmHtpz1kjnw8KfCq+v1bwNQyhrdq3wUtWJWQg@mail.gmail.com>
 <f1a7f3ec102244828c3b19cf3545476c@ign.ku.dk>
Message-ID: <CACh_PwOjBS=Su0cvO=Xd-cF4reSv4ZNr13aNSRHtUan3A3CAmA@mail.gmail.com>

Hi Lene,

Thanks for filing the feature request. I can see it here
https://github.com/qgis/QGIS/issues/62149

So you can be assured that it is documented and hopefully some developer
will triage it.


Thanks.

Abdul Raheem Siddiqui
abdulraheemsiddiqui at gmail.com

<https://www.linkedin.com/in/abdulraheemsiddiqui/>


On Thu, Jun 5, 2025, 9:36?AM Lene Fischer via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi,
>
> Today I made my first real Feature request at the GitHUB page.
>
> I hope it is documented OK. Otherwise tell me how to do.
>
>
>
> Kind regards and greetings from Norrk?bing
>
> Lene Fischer
>
>
>
>
>
> *Lene Fischer*
>
> Associate Professor
>
>
>
> *University of Copenhagen*
>
> Department of Geosciences and Natural Resource Management
>
> Forest and Landscape College
>
> N?debovej 77a
> <https://www.google.com/maps/search/N%C3%B8debovej+77a?entry=gmail&source=g>
>
> 3480 Fredensborg
>
>
>
> MOB +45 40115084
>
> lfi at ign.ku.dk
>
>
>
> [image: Title: SD_Logo]
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/9f53afc7/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 48890 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/9f53afc7/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 48890 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/9f53afc7/attachment-0003.png>

From i.redon at geofit.fr  Thu Jun  5 07:17:50 2025
From: i.redon at geofit.fr (Ilan REDON)
Date: Thu, 5 Jun 2025 14:17:50 +0000
Subject: [QGIS-Developer] debugvs plugin maintenance
Message-ID: <PR2P264MB063978EAEB43431C63A7381BE36FA@PR2P264MB0639.FRAP264.PROD.OUTLOOK.COM>

Hi people,

I, like some others I would assume seeing the 10k+ downloads, am using regularly the QGIS plugin "debugvs" https://github.com/lmotta/debug_vs_plugin .
The last pull request, fixing an issue that prevented me and others from using the plugin, is now 2 years old and has not received any comment from the owner.
So I contacted lmotta on the 28/04/2025 on his public email but received no answer, his github also showing no recent public activity.
With of course all due respect to them I would like to keep a functioning state of this plugin published on the official repository.
Could we transfer ownership of this plugin to me or any other volunteer, to at least review and merge contributions?

Thanks,
ilan/persephone<https://github.com/pers-ephone>
[https://opengraph.githubassets.com/40ef9e16e961d00f6c44bea7c5344857bc3620c10836202cfde154f40135b93f/lmotta/debug_vs_plugin]<https://github.com/lmotta/debug_vs_plugin>
lmotta/debug_vs_plugin: Plugin to Enable Debug for Visual Studio( tested in Visual Studio Code) - GitHub<https://github.com/lmotta/debug_vs_plugin>
Plugin to Enable Debug for Visual Studio( tested in Visual Studio Code) - lmotta/debug_vs_plugin
github.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/07a22647/attachment.htm>

From rdmailings at duif.net  Thu Jun  5 07:21:16 2025
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Thu, 5 Jun 2025 16:21:16 +0200
Subject: [QGIS-Developer] Copy layer vs Duplicate layer ???
In-Reply-To: <3e7c07e6-b961-45ef-af27-b6aa57054b4f@libero.it>
References: <3e7c07e6-b961-45ef-af27-b6aa57054b4f@libero.it>
Message-ID: <7df3aa51-d936-4387-bff9-61b5686ef736@duif.net>

Ok, so... historically there was only 'Duplicate'... which copied ( ;-) ) the layer within the project.

The Copy/Paste is more recent and meant to copy (layer-xml) from one project to another.

Both, NOT changing/copying datasources (with good reason, just counterintuitive to beginners/humans).

BUT: using Copy/Paste WITHIN one project then, seems to me(!), the same as Copy/Paste within one project?

So, what is then the value of the 'Duplicate' item? Could this be removed?

Anybody aware of functionality in Duplicate which is not in Copy/Paste ?

Regards,

Richard



On 05-06-2025 03:27, Andrea Giudiceandrea via QGIS-Developer wrote:
> Hi Richard and list,
> the QGIS Desktop User Guide / Manual explains such functionalities, clearly stating that "The copy uses the same data source as the original." / "As for Duplicate, the layers are still based on the same data source."
> 
> ****
> "Duplicate" a layer to generate a copy where you can modify the name, style (symbology, labels, ?), joins, ? The copy uses the same data source as the original.
> 
> "Copy" and "Paste" layers or groups from one project to another as a new instance whose properties can be modified independently. As for Duplicate, the layers are still based on the same data source.
> ****
> 
> See https://docs.qgis.org/3.40/en/docs/user_manual/introduction/qgis_gui.html#layer
> 
> Regards.
> 
> Andrea
> 
> Il 04/06/2025 17:00, Richard Duivenvoorde via QGIS-Developer ha scritto:
>> Hi People,
>>
>> A user had an issue in which she 'copied' a layer, edited it and then found out she edited the original data...
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From bas at rdgland.com  Thu Jun  5 10:39:45 2025
From: bas at rdgland.com (Sebastian Gutwein)
Date: Thu, 5 Jun 2025 13:39:45 -0400
Subject: [QGIS-Developer] Copy layer vs Duplicate layer ???
In-Reply-To: <7df3aa51-d936-4387-bff9-61b5686ef736@duif.net>
References: <3e7c07e6-b961-45ef-af27-b6aa57054b4f@libero.it>
 <7df3aa51-d936-4387-bff9-61b5686ef736@duif.net>
Message-ID: <CAED_52paJ=9AN6H-Yq7NMGC+7930=DYtiAk6CaKbcO05O3wwQg@mail.gmail.com>

Duplicate Layer is a handy shortcut rather than copy and paste and I would
be very sad to see it go. Also you can currently only paste into a group or
the blank space at the bottom of the layers list. This is not available if
your layers panel is full. Copy/paste buttons would solve this problem and
make the action more discoverable.
Having "Copy Layer" become "Copy Layer to Clipboard" might help.
Also being next to "Duplicate Layer" could help.The un-undoable "Remove
Layer" next to "Duplicate Layer" can be problematic. The confirmation is
helpful although the "legend entry" terminology rather than layer is
confusing.
[image: image.png]

In ArcGIS Pro the section in the layer right click equivalent to "export"
is called "data" for exporting features and "sharing" for exporting data
and symbology. This might help people distinguish between the underlying
data source and a gis layer.  But in my experience this is one of the
harder concepts for people to understand.





On Thu, Jun 5, 2025 at 10:21?AM Richard Duivenvoorde via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Ok, so... historically there was only 'Duplicate'... which copied ( ;-) )
> the layer within the project.
>
> The Copy/Paste is more recent and meant to copy (layer-xml) from one
> project to another.
>
> Both, NOT changing/copying datasources (with good reason, just
> counterintuitive to beginners/humans).
>
> BUT: using Copy/Paste WITHIN one project then, seems to me(!), the same as
> Copy/Paste within one project?
>
> So, what is then the value of the 'Duplicate' item? Could this be removed?
>
> Anybody aware of functionality in Duplicate which is not in Copy/Paste ?
>
> Regards,
>
> Richard
>
>
>
> On 05-06-2025 03:27, Andrea Giudiceandrea via QGIS-Developer wrote:
> > Hi Richard and list,
> > the QGIS Desktop User Guide / Manual explains such functionalities,
> clearly stating that "The copy uses the same data source as the original."
> / "As for Duplicate, the layers are still based on the same data source."
> >
> > ****
> > "Duplicate" a layer to generate a copy where you can modify the name,
> style (symbology, labels, ?), joins, ? The copy uses the same data source
> as the original.
> >
> > "Copy" and "Paste" layers or groups from one project to another as a new
> instance whose properties can be modified independently. As for Duplicate,
> the layers are still based on the same data source.
> > ****
> >
> > See
> https://docs.qgis.org/3.40/en/docs/user_manual/introduction/qgis_gui.html#layer
> >
> > Regards.
> >
> > Andrea
> >
> > Il 04/06/2025 17:00, Richard Duivenvoorde via QGIS-Developer ha scritto:
> >> Hi People,
> >>
> >> A user had an issue in which she 'copied' a layer, edited it and then
> found out she edited the original data...
> > _______________________________________________
> > QGIS-Developer mailing list
> > QGIS-Developer at lists.osgeo.org
> > List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> > Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
___________________________
Sebastian "Bas* " Gutwein
*rhymes with Josh

Regenerative Design Group
1 Chevalier Ave
Greenfield, Ma 01301
Web: regenerativedesigngroup.com
(631) 241-1018

*Look close, think big, make change. *
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/70c6fef1/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 14077 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/70c6fef1/attachment-0001.png>

From bas at rdgland.com  Thu Jun  5 10:46:58 2025
From: bas at rdgland.com (Sebastian Gutwein)
Date: Thu, 5 Jun 2025 13:46:58 -0400
Subject: [QGIS-Developer] Uno strano blocco in Model Designer in batch
 processing
In-Reply-To: <BE8509E0-2271-4FE2-B3A6-D2CA869C0EA0@outlook.com>
References: <BE8509E0-2271-4FE2-B3A6-D2CA869C0EA0@outlook.com>
Message-ID: <CAED_52rkb2JOG3pGt=JJ3thPSJMS5Be-A84LGAe6fkjfXtYNMQ@mail.gmail.com>

Sadly this is a known problem that we have not been able to find a solution
to. https://github.com/qgis/QGIS/issues/53806
It does not seem to matter the size of the raster or vector layer.
Anecdotally- I have not noticed it with the most recent version (3.40.3) of
QGIS yet.


On Thu, Jun 5, 2025 at 9:42?AM Lorenzo Moretti via QGIS-Developer <
qgis-developer at lists.osgeo.org> wrote:

> Hi
>
> I have developed several models in Model Designer and I am using them in
> QGIS in different platforms. I am having a really strange problem
> especially in the Windows version of QGIS.
> My model is very simple:
>  in INPUT there is a raster file and a vector file.The working sequence is
> this:
> - the vector file is converted to a raster file with an extension equal to
> the INPUT raster file;
> - in the converted raster all nodata values are converted to the value
> zero (with FILLNodata);
> - output is the converted raster file with an integer value. The Data Type
> is Int16.
>
> In the model there are 5 algorithms with 2 files in INPUT and 1 file in
> OUTPUT.
> In a few seconds I have the result.
>
> All this, however, is done in Batch Processing and in INPUT all the vector
> files in a directory are taken. The number of these files may be tens,
> hundreds or thousands.
> Batch Processing is very powerful and allows this kind of work. A very
> simple Model repeated many times.
> I used it in macOS and Linux Ubuntu and managed to create even 2200 files
> in a few minutes: the model worked 2200 times.
>
> The problem, however, came up in the Windows version. Basically Batch
> Processing at some point stops completely randomly, for example after 38
> processes or after 54 and so on. The model does not exit but stays put and
> does not start again.
>
> I have tried and tried again in different computers but the result is the
> same. In Windows, the program stops after running only a few models
> completely randomly.
> I don't understand the source of the problem: is it the memory? Or is it
> in Windows to clear the cache during the various steps?
> The raster area is not large and the final raster file is usually small,
> about 20 MB.
> Batch Processing only works for a few times and then stops.
> Can anyone help me with this?
>
> Thanks
>
> Lorenzo
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer
>


-- 
___________________________
Sebastian "Bas* " Gutwein
*rhymes with Josh

Regenerative Design Group
1 Chevalier Ave
Greenfield, Ma 01301
Web: regenerativedesigngroup.com
(631) 241-1018

*Look close, think big, make change. *
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/06c5e43b/attachment.htm>

From morettilorenzo at outlook.com  Thu Jun  5 16:16:35 2025
From: morettilorenzo at outlook.com (Lorenzo Moretti)
Date: Thu, 5 Jun 2025 23:16:35 +0000
Subject: [QGIS-Developer] A strange freeze in Model Designer in batch
 processing
In-Reply-To: <CAED_52rkb2JOG3pGt=JJ3thPSJMS5Be-A84LGAe6fkjfXtYNMQ@mail.gmail.com>
References: <BE8509E0-2271-4FE2-B3A6-D2CA869C0EA0@outlook.com>
 <CAED_52rkb2JOG3pGt=JJ3thPSJMS5Be-A84LGAe6fkjfXtYNMQ@mail.gmail.com>
Message-ID: <BE1288EC-EFD9-4D77-856D-F9C5CCB9885C@outlook.com>

Hi Sebastian

Thanks for the information. I read the GitHub page.

I have tested QGIS 3.40.7 and also 3.42.3 and other versions of QGIS for Windows 11 but the problem persists. This model with a single file runs in three seconds so it is not a complexity related problem. I did the test with a batch processing of 113 files and only once out of ten did it run entirely without interruption. Really strange.

At this point for my purposes the only possible workaround is this:
- press Run and wait for the batch processing to work;

- if it gets to the end without any problems, you will have all the files saved but if at some point it stops and does not go on you have to press the QGIS close button in the upper right corner;

- a window will open asking you if you want to stop batch processing and press Yes;

- go back into batch processing and delete all the rows that have already been executed (from the log you see the number of the tif created);

- there will be fewer rows to run and press Run

- wait and if it crashes again proceed as seen above by removing the rows that have already been executed, to the end.


It is definitely not comfortable this solution but it is the only one that works for now.


It seems that more than QGIS or Python there is something in the operation of the operating system that sends something into the memory stream. So far in fact I have not yet encountered this problem in macOS or Linux, but maybe it is just luck. It is a pity because Batch Processing is a very powerful tool indeed. Thanks again


Il giorno 5 giu 2025, alle ore 19:46, Sebastian Gutwein via QGIS-Developer <qgis-developer at lists.osgeo.org> ha scritto:

Sadly this is a known problem that we have not been able to find a solution to. https://github.com/qgis/QGIS/issues/53806
It does not seem to matter the size of the raster or vector layer.
Anecdotally- I have not noticed it with the most recent version (3.40.3) of QGIS yet.


On Thu, Jun 5, 2025 at 9:42?AM Lorenzo Moretti via QGIS-Developer <qgis-developer at lists.osgeo.org<mailto:qgis-developer at lists.osgeo.org>> wrote:
Hi

I have developed several models in Model Designer and I am using them in QGIS in different platforms. I am having a really strange problem especially in the Windows version of QGIS.
My model is very simple:
 in INPUT there is a raster file and a vector file.The working sequence is this:
- the vector file is converted to a raster file with an extension equal to the INPUT raster file;
- in the converted raster all nodata values are converted to the value zero (with FILLNodata);
- output is the converted raster file with an integer value. The Data Type is Int16.

In the model there are 5 algorithms with 2 files in INPUT and 1 file in OUTPUT.
In a few seconds I have the result.

All this, however, is done in Batch Processing and in INPUT all the vector files in a directory are taken. The number of these files may be tens, hundreds or thousands.
Batch Processing is very powerful and allows this kind of work. A very simple Model repeated many times.
I used it in macOS and Linux Ubuntu and managed to create even 2200 files in a few minutes: the model worked 2200 times.

The problem, however, came up in the Windows version. Basically Batch Processing at some point stops completely randomly, for example after 38 processes or after 54 and so on. The model does not exit but stays put and does not start again.

I have tried and tried again in different computers but the result is the same. In Windows, the program stops after running only a few models completely randomly.
I don't understand the source of the problem: is it the memory? Or is it in Windows to clear the cache during the various steps?
The raster area is not large and the final raster file is usually small, about 20 MB.
Batch Processing only works for a few times and then stops.
Can anyone help me with this?

Thanks

Lorenzo
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org<mailto:QGIS-Developer at lists.osgeo.org>
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


--
___________________________
Sebastian "Bas* " Gutwein
*rhymes with Josh

Regenerative Design Group
1 Chevalier Ave
Greenfield, Ma 01301
Web: regenerativedesigngroup.com<http://regenerativedesigngroup.com/>
(631) 241-1018

Look close, think big, make change.
_______________________________________________
QGIS-Developer mailing list
QGIS-Developer at lists.osgeo.org
List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250605/01a384df/attachment.htm>

From skampus at gmail.com  Fri Jun  6 00:52:39 2025
From: skampus at gmail.com (Stefano Campus)
Date: Fri, 6 Jun 2025 09:52:39 +0200
Subject: [QGIS-Developer] Fwd: Missing original strings
In-Reply-To: <CAHw6TZcrA_frJpC6V=L292TQP7p=W1qR--cVfDW_=+TtWa25yQ@mail.gmail.com>
References: <CAHw6TZcrA_frJpC6V=L292TQP7p=W1qR--cVfDW_=+TtWa25yQ@mail.gmail.com>
Message-ID: <CAHw6TZc6yNRa3ztFY+J8nmXFz=0QiiQVRtb+t7Jk+o1W47Xy_A@mail.gmail.com>

Good morning, everyone,
I am experiencing some translation quirks in the following versions of QGIS:
- LTR dev
- LTR
- 3.42
- dev

The menu main titles ?Vector? and ?Raster? are not translated and are not
present in Transifex either as original or translated text.

How to solve it?

thanks to all

s.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250606/abaf9c04/attachment.htm>

From rdmailings at duif.net  Fri Jun  6 02:48:10 2025
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 6 Jun 2025 11:48:10 +0200
Subject: [QGIS-Developer] Flatpak build experiences?
Message-ID: <56012490-82da-4467-8b10-293d8adeabb7@duif.net>

Hi,

Thought to start a little local hackfest here :-)

Because at a client for which I build plugins (build env is alma-linux), I have to use Flatpaks to run current version of QGIS.

This works pretty well!

So I thought: if there is a Windows-QT6 build, why not a Qt6-Flatpak one for the pinguins, so they can start fixing their plugins for QGIS 4.0 :-)

BUT, my first try of a local build of current Flatpak build:

# Take the org.qgis.qgis.json recipe from https://github.com/flathub/org.qgis.qgis
# clone flatpub repo
git clone git at github.com:flathub/org.qgis.qgis.git
# get shared modules
git clone --recurse-submodules git at github.com:flathub/org.qgis.qgis.git
# to update gitmodules:
# git submodule update --remote --merge
# then start the build:
flatpak-builder --force-clean --user --install-deps-from=flathub --repo=repo --install builddir org.qgis.qgis.json

this works pretty good, as I can see the build download sources from all dependencies, building them etc etc

Butn the end it builds QGIS, and that stops with sip failures:

it ends with:

/run/build/qgis/python/gui/auto_generated/qgsmapcanvas.sip: line 278: 'throw' is deprecated and will be removed in SIP v7.0.0
sip-build: class 'Ui::Qgs25DRendererWidgetBase' has not been defined
class 'Ui::QgsColorRampShaderWidgetBase' has not been defined
class 'Ui::QgsDbSourceSelectBase' has not been defined
class 'Ui::QgsLayerTreeEmbeddedConfigWidgetBase' has not been defined
class 'Ui::QgsTextFormatWidgetBase' has not been defined
class 'Ui::QgsTableWidgetUiBase' has not been defined
class 'Ui::QgsRichTextEditorBase' has not been defined
class 'Ui::QgsOWSSourceSelectBase' has not been defined
class 'QgsTopologicalMesh::Changes' has not been defined
ninja: build stopped: subcommand failed.
Error: module qgis: Child process exited with code 1


Note: I'm still building the 'stable' 3.42.3 here, from
https://qgis.org/downloads/qgis-3.42.3.tar.bz2
see
https://github.com/flathub/org.qgis.qgis/blob/master/org.qgis.qgis.json#L44-L45


Anybody hints on how to fix this? Or debug?

I can only start a fresh QGIS build every time now... which eats time of my hackday :-)

And if anybody is interested in the NEXT step: adjusting the build to build Qt6, that would be great.

My final goal is to have an easy Qt-6 QGIS available for Linux users on platforms which are not able (yet) to build Qt6-QGIS because of dependency issues...

Regards,

Richard Duivenvoorde




From denis.rouzaud at gmail.com  Fri Jun  6 03:38:35 2025
From: denis.rouzaud at gmail.com (Denis Rouzaud)
Date: Fri, 6 Jun 2025 12:38:35 +0200
Subject: [QGIS-Developer] SIP NoCopyCtor
Message-ID: <CAMtsY+aHyJ11-=TgQSSY73rJYZ76x5-LYSx8Hw1zF58xErkTFQ@mail.gmail.com>

Hi all,

I just noticed that SIP v5+ has a new annotation NoCopyCtor
https://python-sip.readthedocs.io/en/stable/annotations.html#mapped-type-annotation-NoCopyCtor

If anyone has a better understanding of the underlying logic, should we use
this rather than forcing the declaration of copy constructors on the sip
files?

Cheers,
Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/qgis-developer/attachments/20250606/9db73b59/attachment.htm>

From andreaerdna at libero.it  Fri Jun  6 03:56:10 2025
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Fri, 6 Jun 2025 12:56:10 +0200
Subject: [QGIS-Developer] Flatpak build experiences?
Message-ID: <a3bf6723-4d28-4702-920b-9a5680481318@libero.it>

Il 06/06/2025 11:48, Richard Duivenvoorde via QGIS-Developer ha scritto:
> sip-build: class 'Ui::Qgs25DRendererWidgetBase' has not been defined
> class 'Ui::QgsColorRampShaderWidgetBase' has not been defined
> class 'Ui::QgsDbSourceSelectBase' has not been defined
> class 'Ui::QgsLayerTreeEmbeddedConfigWidgetBase' has not been defined
> class 'Ui::QgsTextFormatWidgetBase' has not been defined
> class 'Ui::QgsTableWidgetUiBase' has not been defined
> class 'Ui::QgsRichTextEditorBase' has not been defined
> class 'Ui::QgsOWSSourceSelectBase' has not been defined
> class 'QgsTopologicalMesh::Changes' has not been defined

Have you already had a look at https://github.com/qgis/QGIS/issues/61951 
and https://github.com/qgis/QGIS/pull/62113 ?

Regards.

Andrea

From rdmailings at duif.net  Fri Jun  6 04:01:31 2025
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 6 Jun 2025 13:01:31 +0200
Subject: [QGIS-Developer] Flatpak build experiences?
In-Reply-To: <a3bf6723-4d28-4702-920b-9a5680481318@libero.it>
References: <a3bf6723-4d28-4702-920b-9a5680481318@libero.it>
Message-ID: <bf4a3af3-8285-4990-abd3-758932dfd5da@duif.net>

Argh, no sorry.

I thought it should be flatpak related because my local normal (debian) builds were fine

It's a tricky business building this beast, apparently so many moving targets underlying it...

Thanks! Will see if I can make the recipe build against master instead of a released source zip...

Regards,

Richard Duivenvoorde

On 06-06-2025 12:56, Andrea Giudiceandrea via QGIS-Developer wrote:
> Il 06/06/2025 11:48, Richard Duivenvoorde via QGIS-Developer ha scritto:
>> sip-build: class 'Ui::Qgs25DRendererWidgetBase' has not been defined
>> class 'Ui::QgsColorRampShaderWidgetBase' has not been defined
>> class 'Ui::QgsDbSourceSelectBase' has not been defined
>> class 'Ui::QgsLayerTreeEmbeddedConfigWidgetBase' has not been defined
>> class 'Ui::QgsTextFormatWidgetBase' has not been defined
>> class 'Ui::QgsTableWidgetUiBase' has not been defined
>> class 'Ui::QgsRichTextEditorBase' has not been defined
>> class 'Ui::QgsOWSSourceSelectBase' has not been defined
>> class 'QgsTopologicalMesh::Changes' has not been defined
> 
> Have you already had a look at https://github.com/qgis/QGIS/issues/61951 and https://github.com/qgis/QGIS/pull/62113 ?
> 
> Regards.
> 
> Andrea
> _______________________________________________
> QGIS-Developer mailing list
> QGIS-Developer at lists.osgeo.org
> List info: https://lists.osgeo.org/mailman/listinfo/qgis-developer
> Unsubscribe: https://lists.osgeo.org/mailman/listinfo/qgis-developer


From rdmailings at duif.net  Fri Jun  6 04:54:22 2025
From: rdmailings at duif.net (Richard Duivenvoorde)
Date: Fri, 6 Jun 2025 13:54:22 +0200
Subject: [QGIS-Developer] Flatpak build experiences?
In-Reply-To: <bf4a3af3-8285-4990-abd3-758932dfd5da@duif.net>
References: <a3bf6723-4d28-4702-920b-9a5680481318@libero.it>
 <bf4a3af3-8285-4990-abd3-758932dfd5da@duif.net>
Message-ID: <93b065e9-c6ad-4f49-88d5-72afd43d2b18@duif.net>

On 06-06-2025 13:01, Richard Duivenvoorde via QGIS-Developer wrote:

> Thanks! Will see if I can make the recipe build against master instead of a released source zip...

Yep, that worked, THANKS,

this now just worked to build master Qt5:


              "buildsystem": "cmake-ninja",
              "sources": [
                  {
-                    "type": "archive",
-                    "url": "https://qgis.org/downloads/qgis-3.42.3.tar.bz2",
-                    "sha256": "677d465a26be245a1230941f005c8e51567604dd6b42387bd41fc8b7eb7a8d3a",
-                    "x-checker-data": {
-                        "type": "anitya",
-                        "project-id": 5779,
-                        "url-template": "https://qgis.org/downloads/qgis-$version.tar.bz2",
-                        "stable-only": true
-                    }
+                        "type": "git",
+                        "url": "https://github.com/qgis/QGIS.git",
+                        "tag": "master",
+                        "commit": "2cfc3833ec6dc52fcbb01428505911c113605b31"
                  }
              ],


Now see if I can make this work for Qt6...  :-)

Regards,

Richard Duivenvoorde

From andreaerdna at libero.it  Fri Jun  6 07:45:31 2025
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Fri, 6 Jun 2025 16:45:31 +0200
Subject: [QGIS-Developer] Fwd: Missing original strings
Message-ID: <2b0a4a52-84b8-4629-8a7a-572260bad29d@libero.it>

> Stefano Campus skampus at gmail.com
> Fri Jun 6 00:52:39 PDT 2025

> The menu main titles ?Vector? and ?Raster? are not translated and are not
> present in Transifex either as original or translated text.

It looks like a recurring issue in the latest QGIS versions allegedly.

See https://github.com/qgis/QGIS/issues/61291 , 
https://github.com/qgis/QGIS/issues/60486 , 
https://github.com/qgis/QGIS/pull/60695 .

Regards.

Andrea

From andreaerdna at libero.it  Fri Jun  6 08:30:13 2025
From: andreaerdna at libero.it (Andrea Giudiceandrea)
Date: Fri, 6 Jun 2025 17:30:13 +0200
Subject: [QGIS-Developer] Fwd: Missing original strings
Message-ID: <dc5a26b3-684f-4089-9d3e-e8b889c77ed1@libero.it>

Il 06/06/2025 16:45, Andrea Giudiceandrea ha scritto:
> It looks like a recurring issue in the latest QGIS versions allegedly.

allegedly due to some issue/glitch in Transifex or to the push/pull 
functionality to/from Transifex.

> 
> See https://github.com/qgis/QGIS/issues/61291 , 
> https://github.com/qgis/QGIS/issues/60486 , 
> https://github.com/qgis/QGIS/pull/60695 .
> 
> Regards.
> 
> Andrea

